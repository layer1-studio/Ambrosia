var xV=Object.defineProperty;var _V=(e,t,n)=>t in e?xV(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var sv=(e,t,n)=>_V(e,typeof t!="symbol"?t+"":t,n);function wV(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function xs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var eI={exports:{}},rg={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EV=Symbol.for("react.transitional.element"),SV=Symbol.for("react.fragment");function tI(e,t,n){var r=null;if(n!==void 0&&(r=""+n),t.key!==void 0&&(r=""+t.key),"key"in t){n={};for(var i in t)i!=="key"&&(n[i]=t[i])}else n=t;return t=n.ref,{$$typeof:EV,type:e,key:r,ref:t!==void 0?t:null,props:n}}rg.Fragment=SV;rg.jsx=tI;rg.jsxs=tI;eI.exports=rg;var m=eI.exports,nI={exports:{}},ue={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wx=Symbol.for("react.transitional.element"),AV=Symbol.for("react.portal"),TV=Symbol.for("react.fragment"),CV=Symbol.for("react.strict_mode"),NV=Symbol.for("react.profiler"),OV=Symbol.for("react.consumer"),IV=Symbol.for("react.context"),PV=Symbol.for("react.forward_ref"),jV=Symbol.for("react.suspense"),RV=Symbol.for("react.memo"),rI=Symbol.for("react.lazy"),DV=Symbol.for("react.activity"),TS=Symbol.iterator;function kV(e){return e===null||typeof e!="object"?null:(e=TS&&e[TS]||e["@@iterator"],typeof e=="function"?e:null)}var iI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},aI=Object.assign,sI={};function nu(e,t,n){this.props=e,this.context=t,this.refs=sI,this.updater=n||iI}nu.prototype.isReactComponent={};nu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};nu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function oI(){}oI.prototype=nu.prototype;function Xx(e,t,n){this.props=e,this.context=t,this.refs=sI,this.updater=n||iI}var Qx=Xx.prototype=new oI;Qx.constructor=Xx;aI(Qx,nu.prototype);Qx.isPureReactComponent=!0;var CS=Array.isArray;function I0(){}var He={H:null,A:null,T:null,S:null},lI=Object.prototype.hasOwnProperty;function Zx(e,t,n){var r=n.ref;return{$$typeof:Wx,type:e,key:t,ref:r!==void 0?r:null,props:n}}function MV(e,t){return Zx(e.type,t,e.props)}function Jx(e){return typeof e=="object"&&e!==null&&e.$$typeof===Wx}function LV(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var NS=/\/+/g;function ov(e,t){return typeof e=="object"&&e!==null&&e.key!=null?LV(""+e.key):t.toString(36)}function VV(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(I0,I0):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Ho(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"bigint":case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Wx:case AV:s=!0;break;case rI:return s=e._init,Ho(s(e._payload),t,n,r,i)}}if(s)return i=i(e),s=r===""?"."+ov(e,0):r,CS(i)?(n="",s!=null&&(n=s.replace(NS,"$&/")+"/"),Ho(i,t,n,"",function(u){return u})):i!=null&&(Jx(i)&&(i=MV(i,n+(i.key==null||e&&e.key===i.key?"":(""+i.key).replace(NS,"$&/")+"/")+s)),t.push(i)),1;s=0;var o=r===""?".":r+":";if(CS(e))for(var l=0;l<e.length;l++)r=e[l],a=o+ov(r,l),s+=Ho(r,t,n,a,i);else if(l=kV(e),typeof l=="function")for(e=l.call(e),l=0;!(r=e.next()).done;)r=r.value,a=o+ov(r,l++),s+=Ho(r,t,n,a,i);else if(a==="object"){if(typeof e.then=="function")return Ho(VV(e),t,n,r,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return s}function th(e,t,n){if(e==null)return e;var r=[],i=0;return Ho(e,r,"","",function(a){return t.call(n,a,i++)}),r}function UV(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var OS=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},zV={map:th,forEach:function(e,t,n){th(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return th(e,function(){t++}),t},toArray:function(e){return th(e,function(t){return t})||[]},only:function(e){if(!Jx(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ue.Activity=DV;ue.Children=zV;ue.Component=nu;ue.Fragment=TV;ue.Profiler=NV;ue.PureComponent=Xx;ue.StrictMode=CV;ue.Suspense=jV;ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=He;ue.__COMPILER_RUNTIME={__proto__:null,c:function(e){return He.H.useMemoCache(e)}};ue.cache=function(e){return function(){return e.apply(null,arguments)}};ue.cacheSignal=function(){return null};ue.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var r=aI({},e.props),i=e.key;if(t!=null)for(a in t.key!==void 0&&(i=""+t.key),t)!lI.call(t,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&t.ref===void 0||(r[a]=t[a]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var s=Array(a),o=0;o<a;o++)s[o]=arguments[o+2];r.children=s}return Zx(e.type,i,r)};ue.createContext=function(e){return e={$$typeof:IV,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:OV,_context:e},e};ue.createElement=function(e,t,n){var r,i={},a=null;if(t!=null)for(r in t.key!==void 0&&(a=""+t.key),t)lI.call(t,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];i.children=o}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return Zx(e,a,i)};ue.createRef=function(){return{current:null}};ue.forwardRef=function(e){return{$$typeof:PV,render:e}};ue.isValidElement=Jx;ue.lazy=function(e){return{$$typeof:rI,_payload:{_status:-1,_result:e},_init:UV}};ue.memo=function(e,t){return{$$typeof:RV,type:e,compare:t===void 0?null:t}};ue.startTransition=function(e){var t=He.T,n={};He.T=n;try{var r=e(),i=He.S;i!==null&&i(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(I0,OS)}catch(a){OS(a)}finally{t!==null&&n.types!==null&&(t.types=n.types),He.T=t}};ue.unstable_useCacheRefresh=function(){return He.H.useCacheRefresh()};ue.use=function(e){return He.H.use(e)};ue.useActionState=function(e,t,n){return He.H.useActionState(e,t,n)};ue.useCallback=function(e,t){return He.H.useCallback(e,t)};ue.useContext=function(e){return He.H.useContext(e)};ue.useDebugValue=function(){};ue.useDeferredValue=function(e,t){return He.H.useDeferredValue(e,t)};ue.useEffect=function(e,t){return He.H.useEffect(e,t)};ue.useEffectEvent=function(e){return He.H.useEffectEvent(e)};ue.useId=function(){return He.H.useId()};ue.useImperativeHandle=function(e,t,n){return He.H.useImperativeHandle(e,t,n)};ue.useInsertionEffect=function(e,t){return He.H.useInsertionEffect(e,t)};ue.useLayoutEffect=function(e,t){return He.H.useLayoutEffect(e,t)};ue.useMemo=function(e,t){return He.H.useMemo(e,t)};ue.useOptimistic=function(e,t){return He.H.useOptimistic(e,t)};ue.useReducer=function(e,t,n){return He.H.useReducer(e,t,n)};ue.useRef=function(e){return He.H.useRef(e)};ue.useState=function(e){return He.H.useState(e)};ue.useSyncExternalStore=function(e,t,n){return He.H.useSyncExternalStore(e,t,n)};ue.useTransition=function(){return He.H.useTransition()};ue.version="19.2.3";nI.exports=ue;var v=nI.exports;const uI=xs(v),BV=wV({__proto__:null,default:uI},[v]);var cI={exports:{}},ig={},fI={exports:{}},dI={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(q,K){var W=q.length;q.push(K);e:for(;0<W;){var te=W-1>>>1,le=q[te];if(0<i(le,K))q[te]=K,q[W]=le,W=te;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var K=q[0],W=q.pop();if(W!==K){q[0]=W;e:for(var te=0,le=q.length,Ye=le>>>1;te<Ye;){var st=2*(te+1)-1,Pt=q[st],Re=st+1,cn=q[Re];if(0>i(Pt,W))Re<le&&0>i(cn,Pt)?(q[te]=cn,q[Re]=W,te=Re):(q[te]=Pt,q[st]=W,te=st);else if(Re<le&&0>i(cn,W))q[te]=cn,q[Re]=W,te=Re;else break e}}return K}function i(q,K){var W=q.sortIndex-K.sortIndex;return W!==0?W:q.id-K.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],u=[],c=1,f=null,h=3,p=!1,g=!1,_=!1,b=!1,w=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function T(q){for(var K=n(u);K!==null;){if(K.callback===null)r(u);else if(K.startTime<=q)r(u),K.sortIndex=K.expirationTime,t(l,K);else break;K=n(u)}}function I(q){if(_=!1,T(q),!g)if(n(l)!==null)g=!0,k||(k=!0,P());else{var K=n(u);K!==null&&oe(I,K.startTime-q)}}var k=!1,A=-1,C=5,N=-1;function j(){return b?!0:!(e.unstable_now()-N<C)}function R(){if(b=!1,k){var q=e.unstable_now();N=q;var K=!0;try{e:{g=!1,_&&(_=!1,x(A),A=-1),p=!0;var W=h;try{t:{for(T(q),f=n(l);f!==null&&!(f.expirationTime>q&&j());){var te=f.callback;if(typeof te=="function"){f.callback=null,h=f.priorityLevel;var le=te(f.expirationTime<=q);if(q=e.unstable_now(),typeof le=="function"){f.callback=le,T(q),K=!0;break t}f===n(l)&&r(l),T(q)}else r(l);f=n(l)}if(f!==null)K=!0;else{var Ye=n(u);Ye!==null&&oe(I,Ye.startTime-q),K=!1}}break e}finally{f=null,h=W,p=!1}K=void 0}}finally{K?P():k=!1}}}var P;if(typeof E=="function")P=function(){E(R)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Z=D.port2;D.port1.onmessage=R,P=function(){Z.postMessage(null)}}else P=function(){w(R,0)};function oe(q,K){A=w(function(){q(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(q){switch(h){case 1:case 2:case 3:var K=3;break;default:K=h}var W=h;h=K;try{return q()}finally{h=W}},e.unstable_requestPaint=function(){b=!0},e.unstable_runWithPriority=function(q,K){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var W=h;h=q;try{return K()}finally{h=W}},e.unstable_scheduleCallback=function(q,K,W){var te=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?te+W:te):W=te,q){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=W+le,q={id:c++,callback:K,priorityLevel:q,startTime:W,expirationTime:le,sortIndex:-1},W>te?(q.sortIndex=W,t(u,q),n(l)===null&&q===n(u)&&(_?(x(A),A=-1):_=!0,oe(I,W-te))):(q.sortIndex=le,t(l,q),g||p||(g=!0,k||(k=!0,P()))),q},e.unstable_shouldYield=j,e.unstable_wrapCallback=function(q){var K=h;return function(){var W=h;h=K;try{return q.apply(this,arguments)}finally{h=W}}}})(dI);fI.exports=dI;var $V=fI.exports,hI={exports:{}},Cn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FV=v;function mI(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function _a(){}var En={d:{f:_a,r:function(){throw Error(mI(522))},D:_a,C:_a,L:_a,m:_a,X:_a,S:_a,M:_a},p:0,findDOMNode:null},qV=Symbol.for("react.portal");function HV(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qV,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}var Tc=FV.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function ag(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=En;Cn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(mI(299));return HV(e,t,null,n)};Cn.flushSync=function(e){var t=Tc.T,n=En.p;try{if(Tc.T=null,En.p=2,e)return e()}finally{Tc.T=t,En.p=n,En.d.f()}};Cn.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,En.d.C(e,t))};Cn.prefetchDNS=function(e){typeof e=="string"&&En.d.D(e)};Cn.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,r=ag(n,t.crossOrigin),i=typeof t.integrity=="string"?t.integrity:void 0,a=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?En.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:a}):n==="script"&&En.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:a,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Cn.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=ag(t.as,t.crossOrigin);En.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&En.d.M(e)};Cn.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,r=ag(n,t.crossOrigin);En.d.L(e,n,{crossOrigin:r,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Cn.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=ag(t.as,t.crossOrigin);En.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else En.d.m(e)};Cn.requestFormReset=function(e){En.d.r(e)};Cn.unstable_batchedUpdates=function(e,t){return e(t)};Cn.useFormState=function(e,t,n){return Tc.H.useFormState(e,t,n)};Cn.useFormStatus=function(){return Tc.H.useHostTransitionStatus()};Cn.version="19.2.3";function pI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(pI)}catch(e){console.error(e)}}pI(),hI.exports=Cn;var e_=hI.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nt=$V,gI=v,GV=e_;function z(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function yI(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Bf(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function vI(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function bI(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function IS(e){if(Bf(e)!==e)throw Error(z(188))}function KV(e){var t=e.alternate;if(!t){if(t=Bf(e),t===null)throw Error(z(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return IS(i),e;if(a===r)return IS(i),t;a=a.sibling}throw Error(z(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?e:t}function xI(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=xI(e),t!==null)return t;e=e.sibling}return null}var Ge=Object.assign,YV=Symbol.for("react.element"),nh=Symbol.for("react.transitional.element"),dc=Symbol.for("react.portal"),Jo=Symbol.for("react.fragment"),_I=Symbol.for("react.strict_mode"),P0=Symbol.for("react.profiler"),wI=Symbol.for("react.consumer"),Ii=Symbol.for("react.context"),t_=Symbol.for("react.forward_ref"),j0=Symbol.for("react.suspense"),R0=Symbol.for("react.suspense_list"),n_=Symbol.for("react.memo"),Ea=Symbol.for("react.lazy"),D0=Symbol.for("react.activity"),WV=Symbol.for("react.memo_cache_sentinel"),PS=Symbol.iterator;function Wu(e){return e===null||typeof e!="object"?null:(e=PS&&e[PS]||e["@@iterator"],typeof e=="function"?e:null)}var XV=Symbol.for("react.client.reference");function k0(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===XV?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Jo:return"Fragment";case P0:return"Profiler";case _I:return"StrictMode";case j0:return"Suspense";case R0:return"SuspenseList";case D0:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case dc:return"Portal";case Ii:return e.displayName||"Context";case wI:return(e._context.displayName||"Context")+".Consumer";case t_:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case n_:return t=e.displayName||null,t!==null?t:k0(e.type)||"Memo";case Ea:t=e._payload,e=e._init;try{return k0(e(t))}catch{}}return null}var hc=Array.isArray,ie=gI.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ae=GV.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Xs={pending:!1,data:null,method:null,action:null},M0=[],el=-1;function gi(e){return{current:e}}function Bt(e){0>el||(e.current=M0[el],M0[el]=null,el--)}function Ve(e,t){el++,M0[el]=e.current,e.current=t}var ni=gi(null),Kc=gi(null),Fa=gi(null),xm=gi(null);function _m(e,t){switch(Ve(Fa,t),Ve(Kc,e),Ve(ni,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?LA(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=LA(t),e=$j(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Bt(ni),Ve(ni,e)}function Il(){Bt(ni),Bt(Kc),Bt(Fa)}function L0(e){e.memoizedState!==null&&Ve(xm,e);var t=ni.current,n=$j(t,e.type);t!==n&&(Ve(Kc,e),Ve(ni,n))}function wm(e){Kc.current===e&&(Bt(ni),Bt(Kc)),xm.current===e&&(Bt(xm),af._currentValue=Xs)}var lv,jS;function Ls(e){if(lv===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);lv=t&&t[1]||"",jS=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+lv+e+jS}var uv=!1;function cv(e,t){if(!e||uv)return"";uv=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(p){var h=p}Reflect.construct(e,[],f)}else{try{f.call()}catch(p){h=p}e.call(f.prototype)}}else{try{throw Error()}catch(p){h=p}(f=e())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(p){if(p&&h&&typeof p.stack=="string")return[p.stack,h.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),s=a[0],o=a[1];if(s&&o){var l=s.split(`
`),u=o.split(`
`);for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===u.length)for(r=l.length-1,i=u.length-1;1<=r&&0<=i&&l[r]!==u[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==u[i]){if(r!==1||i!==1)do if(r--,i--,0>i||l[r]!==u[i]){var c=`
`+l[r].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=r&&0<=i);break}}}finally{uv=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Ls(n):""}function QV(e,t){switch(e.tag){case 26:case 27:case 5:return Ls(e.type);case 16:return Ls("Lazy");case 13:return e.child!==t&&t!==null?Ls("Suspense Fallback"):Ls("Suspense");case 19:return Ls("SuspenseList");case 0:case 15:return cv(e.type,!1);case 11:return cv(e.type.render,!1);case 1:return cv(e.type,!0);case 31:return Ls("Activity");default:return""}}function RS(e){try{var t="",n=null;do t+=QV(e,n),n=e,e=e.return;while(e);return t}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var V0=Object.prototype.hasOwnProperty,r_=Nt.unstable_scheduleCallback,fv=Nt.unstable_cancelCallback,ZV=Nt.unstable_shouldYield,JV=Nt.unstable_requestPaint,Qn=Nt.unstable_now,eU=Nt.unstable_getCurrentPriorityLevel,EI=Nt.unstable_ImmediatePriority,SI=Nt.unstable_UserBlockingPriority,Em=Nt.unstable_NormalPriority,tU=Nt.unstable_LowPriority,AI=Nt.unstable_IdlePriority,nU=Nt.log,rU=Nt.unstable_setDisableYieldValue,$f=null,Zn=null;function Ma(e){if(typeof nU=="function"&&rU(e),Zn&&typeof Zn.setStrictMode=="function")try{Zn.setStrictMode($f,e)}catch{}}var Jn=Math.clz32?Math.clz32:sU,iU=Math.log,aU=Math.LN2;function sU(e){return e>>>=0,e===0?32:31-(iU(e)/aU|0)|0}var rh=256,ih=262144,ah=4194304;function Vs(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function sg(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var i=0,a=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var o=r&134217727;return o!==0?(r=o&~a,r!==0?i=Vs(r):(s&=o,s!==0?i=Vs(s):n||(n=o&~e,n!==0&&(i=Vs(n))))):(o=r&~a,o!==0?i=Vs(o):s!==0?i=Vs(s):n||(n=r&~e,n!==0&&(i=Vs(n)))),i===0?0:t!==0&&t!==i&&!(t&a)&&(a=i&-i,n=t&-t,a>=n||a===32&&(n&4194048)!==0)?t:i}function Ff(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function oU(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function TI(){var e=ah;return ah<<=1,!(ah&62914560)&&(ah=4194304),e}function dv(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qf(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function lU(e,t,n,r,i,a){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,u=e.hiddenUpdates;for(n=s&~n;0<n;){var c=31-Jn(n),f=1<<c;o[c]=0,l[c]=-1;var h=u[c];if(h!==null)for(u[c]=null,c=0;c<h.length;c++){var p=h[c];p!==null&&(p.lane&=-536870913)}n&=~f}r!==0&&CI(e,r,0),a!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=a&~(s&~t))}function CI(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-Jn(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&261930}function NI(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Jn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function OI(e,t){var n=t&-t;return n=n&42?1:i_(n),n&(e.suspendedLanes|t)?0:n}function i_(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function a_(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function II(){var e=Ae.p;return e!==0?e:(e=window.event,e===void 0?32:Jj(e.type))}function DS(e,t){var n=Ae.p;try{return Ae.p=e,t()}finally{Ae.p=n}}var _s=Math.random().toString(36).slice(2),en="__reactFiber$"+_s,Un="__reactProps$"+_s,ru="__reactContainer$"+_s,U0="__reactEvents$"+_s,uU="__reactListeners$"+_s,cU="__reactHandles$"+_s,kS="__reactResources$"+_s,Hf="__reactMarker$"+_s;function s_(e){delete e[en],delete e[Un],delete e[U0],delete e[uU],delete e[cU]}function tl(e){var t=e[en];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ru]||n[en]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=$A(e);e!==null;){if(n=e[en])return n;e=$A(e)}return t}e=n,n=e.parentNode}return null}function iu(e){if(e=e[en]||e[ru]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function mc(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(z(33))}function pl(e){var t=e[kS];return t||(t=e[kS]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function zt(e){e[Hf]=!0}var PI=new Set,jI={};function Ao(e,t){Pl(e,t),Pl(e+"Capture",t)}function Pl(e,t){for(jI[e]=t,e=0;e<t.length;e++)PI.add(t[e])}var fU=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),MS={},LS={};function dU(e){return V0.call(LS,e)?!0:V0.call(MS,e)?!1:fU.test(e)?LS[e]=!0:(MS[e]=!0,!1)}function zh(e,t,n){if(dU(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function sh(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function _i(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+r)}}function lr(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function RI(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function hU(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function z0(e){if(!e._valueTracker){var t=RI(e)?"checked":"value";e._valueTracker=hU(e,t,""+e[t])}}function DI(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=RI(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Sm(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var mU=/[\n"\\]/g;function fr(e){return e.replace(mU,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function B0(e,t,n,r,i,a,s,o){e.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?e.type=s:e.removeAttribute("type"),t!=null?s==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+lr(t)):e.value!==""+lr(t)&&(e.value=""+lr(t)):s!=="submit"&&s!=="reset"||e.removeAttribute("value"),t!=null?$0(e,s,lr(t)):n!=null?$0(e,s,lr(n)):r!=null&&e.removeAttribute("value"),i==null&&a!=null&&(e.defaultChecked=!!a),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.name=""+lr(o):e.removeAttribute("name")}function kI(e,t,n,r,i,a,s,o){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.type=a),t!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||t!=null)){z0(e);return}n=n!=null?""+lr(n):"",t=t!=null?""+lr(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r=r??i,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.name=s),z0(e)}function $0(e,t,n){t==="number"&&Sm(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function gl(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+lr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function MI(e,t,n){if(t!=null&&(t=""+lr(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+lr(n):""}function LI(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(z(92));if(hc(r)){if(1<r.length)throw Error(z(93));r=r[0]}n=r}n==null&&(n=""),t=n}n=lr(t),e.defaultValue=n,r=e.textContent,r===n&&r!==""&&r!==null&&(e.value=r),z0(e)}function jl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var pU=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function VS(e,t,n){var r=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,n):typeof n!="number"||n===0||pU.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function VI(e,t,n){if(t!=null&&typeof t!="object")throw Error(z(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&VS(e,i,r)}else for(var a in t)t.hasOwnProperty(a)&&VS(e,a,t[a])}function o_(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gU=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yU=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Bh(e){return yU.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Pi(){}var F0=null;function l_(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var nl=null,yl=null;function US(e){var t=iu(e);if(t&&(e=t.stateNode)){var n=e[Un]||null;e:switch(e=t.stateNode,t.type){case"input":if(B0(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+fr(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[Un]||null;if(!i)throw Error(z(90));B0(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&DI(r)}break e;case"textarea":MI(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&gl(e,!!n.multiple,t,!1)}}}var hv=!1;function UI(e,t,n){if(hv)return e(t,n);hv=!0;try{var r=e(t);return r}finally{if(hv=!1,(nl!==null||yl!==null)&&(vg(),nl&&(t=nl,e=yl,yl=nl=null,US(t),e)))for(t=0;t<e.length;t++)US(e[t])}}function Yc(e,t){var n=e.stateNode;if(n===null)return null;var r=n[Un]||null;if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(z(231,t,typeof n));return n}var Fi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),q0=!1;if(Fi)try{var Xu={};Object.defineProperty(Xu,"passive",{get:function(){q0=!0}}),window.addEventListener("test",Xu,Xu),window.removeEventListener("test",Xu,Xu)}catch{q0=!1}var La=null,u_=null,$h=null;function zI(){if($h)return $h;var e,t=u_,n=t.length,r,i="value"in La?La.value:La.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[a-r];r++);return $h=i.slice(e,1<r?1-r:void 0)}function Fh(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function oh(){return!0}function zS(){return!1}function zn(e){function t(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?oh:zS,this.isPropagationStopped=zS,this}return Ge(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=oh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=oh)},persist:function(){},isPersistent:oh}),t}var To={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},og=zn(To),Gf=Ge({},To,{view:0,detail:0}),vU=zn(Gf),mv,pv,Qu,lg=Ge({},Gf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:c_,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qu&&(Qu&&e.type==="mousemove"?(mv=e.screenX-Qu.screenX,pv=e.screenY-Qu.screenY):pv=mv=0,Qu=e),mv)},movementY:function(e){return"movementY"in e?e.movementY:pv}}),BS=zn(lg),bU=Ge({},lg,{dataTransfer:0}),xU=zn(bU),_U=Ge({},Gf,{relatedTarget:0}),gv=zn(_U),wU=Ge({},To,{animationName:0,elapsedTime:0,pseudoElement:0}),EU=zn(wU),SU=Ge({},To,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),AU=zn(SU),TU=Ge({},To,{data:0}),$S=zn(TU),CU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},NU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},OU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function IU(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=OU[e])?!!t[e]:!1}function c_(){return IU}var PU=Ge({},Gf,{key:function(e){if(e.key){var t=CU[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Fh(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?NU[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:c_,charCode:function(e){return e.type==="keypress"?Fh(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fh(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),jU=zn(PU),RU=Ge({},lg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),FS=zn(RU),DU=Ge({},Gf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:c_}),kU=zn(DU),MU=Ge({},To,{propertyName:0,elapsedTime:0,pseudoElement:0}),LU=zn(MU),VU=Ge({},lg,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),UU=zn(VU),zU=Ge({},To,{newState:0,oldState:0}),BU=zn(zU),$U=[9,13,27,32],f_=Fi&&"CompositionEvent"in window,Cc=null;Fi&&"documentMode"in document&&(Cc=document.documentMode);var FU=Fi&&"TextEvent"in window&&!Cc,BI=Fi&&(!f_||Cc&&8<Cc&&11>=Cc),qS=" ",HS=!1;function $I(e,t){switch(e){case"keyup":return $U.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function FI(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var rl=!1;function qU(e,t){switch(e){case"compositionend":return FI(t);case"keypress":return t.which!==32?null:(HS=!0,qS);case"textInput":return e=t.data,e===qS&&HS?null:e;default:return null}}function HU(e,t){if(rl)return e==="compositionend"||!f_&&$I(e,t)?(e=zI(),$h=u_=La=null,rl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return BI&&t.locale!=="ko"?null:t.data;default:return null}}var GU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function GS(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!GU[e.type]:t==="textarea"}function qI(e,t,n,r){nl?yl?yl.push(r):yl=[r]:nl=r,t=$m(t,"onChange"),0<t.length&&(n=new og("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Nc=null,Wc=null;function KU(e){Uj(e,0)}function ug(e){var t=mc(e);if(DI(t))return e}function KS(e,t){if(e==="change")return t}var HI=!1;if(Fi){var yv;if(Fi){var vv="oninput"in document;if(!vv){var YS=document.createElement("div");YS.setAttribute("oninput","return;"),vv=typeof YS.oninput=="function"}yv=vv}else yv=!1;HI=yv&&(!document.documentMode||9<document.documentMode)}function WS(){Nc&&(Nc.detachEvent("onpropertychange",GI),Wc=Nc=null)}function GI(e){if(e.propertyName==="value"&&ug(Wc)){var t=[];qI(t,Wc,e,l_(e)),UI(KU,t)}}function YU(e,t,n){e==="focusin"?(WS(),Nc=t,Wc=n,Nc.attachEvent("onpropertychange",GI)):e==="focusout"&&WS()}function WU(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ug(Wc)}function XU(e,t){if(e==="click")return ug(t)}function QU(e,t){if(e==="input"||e==="change")return ug(t)}function ZU(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var nr=typeof Object.is=="function"?Object.is:ZU;function Xc(e,t){if(nr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!V0.call(t,i)||!nr(e[i],t[i]))return!1}return!0}function XS(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function QS(e,t){var n=XS(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=XS(n)}}function KI(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?KI(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function YI(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Sm(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Sm(e.document)}return t}function d_(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var JU=Fi&&"documentMode"in document&&11>=document.documentMode,il=null,H0=null,Oc=null,G0=!1;function ZS(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;G0||il==null||il!==Sm(r)||(r=il,"selectionStart"in r&&d_(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Oc&&Xc(Oc,r)||(Oc=r,r=$m(H0,"onSelect"),0<r.length&&(t=new og("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=il)))}function ks(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var al={animationend:ks("Animation","AnimationEnd"),animationiteration:ks("Animation","AnimationIteration"),animationstart:ks("Animation","AnimationStart"),transitionrun:ks("Transition","TransitionRun"),transitionstart:ks("Transition","TransitionStart"),transitioncancel:ks("Transition","TransitionCancel"),transitionend:ks("Transition","TransitionEnd")},bv={},WI={};Fi&&(WI=document.createElement("div").style,"AnimationEvent"in window||(delete al.animationend.animation,delete al.animationiteration.animation,delete al.animationstart.animation),"TransitionEvent"in window||delete al.transitionend.transition);function Co(e){if(bv[e])return bv[e];if(!al[e])return e;var t=al[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in WI)return bv[e]=t[n];return e}var XI=Co("animationend"),QI=Co("animationiteration"),ZI=Co("animationstart"),ez=Co("transitionrun"),tz=Co("transitionstart"),nz=Co("transitioncancel"),JI=Co("transitionend"),eP=new Map,K0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");K0.push("scrollEnd");function Br(e,t){eP.set(e,t),Ao(t,[e])}var Am=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},or=[],sl=0,h_=0;function cg(){for(var e=sl,t=h_=sl=0;t<e;){var n=or[t];or[t++]=null;var r=or[t];or[t++]=null;var i=or[t];or[t++]=null;var a=or[t];if(or[t++]=null,r!==null&&i!==null){var s=r.pending;s===null?i.next=i:(i.next=s.next,s.next=i),r.pending=i}a!==0&&tP(n,i,a)}}function fg(e,t,n,r){or[sl++]=e,or[sl++]=t,or[sl++]=n,or[sl++]=r,h_|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function m_(e,t,n,r){return fg(e,t,n,r),Tm(e)}function No(e,t){return fg(e,null,null,t),Tm(e)}function tP(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var i=!1,a=e.return;a!==null;)a.childLanes|=n,r=a.alternate,r!==null&&(r.childLanes|=n),a.tag===22&&(e=a.stateNode,e===null||e._visibility&1||(i=!0)),e=a,a=a.return;return e.tag===3?(a=e.stateNode,i&&t!==null&&(i=31-Jn(n),e=a.hiddenUpdates,r=e[i],r===null?e[i]=[t]:r.push(t),t.lane=n|536870912),a):null}function Tm(e){if(50<Vc)throw Vc=0,mb=null,Error(z(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ol={};function rz(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(e,t,n,r){return new rz(e,t,n,r)}function p_(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Li(e,t){var n=e.alternate;return n===null?(n=Gn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function nP(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function qh(e,t,n,r,i,a){var s=0;if(r=e,typeof e=="function")p_(e)&&(s=1);else if(typeof e=="string")s=l9(e,n,ni.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case D0:return e=Gn(31,n,t,i),e.elementType=D0,e.lanes=a,e;case Jo:return Qs(n.children,i,a,t);case _I:s=8,i|=24;break;case P0:return e=Gn(12,n,t,i|2),e.elementType=P0,e.lanes=a,e;case j0:return e=Gn(13,n,t,i),e.elementType=j0,e.lanes=a,e;case R0:return e=Gn(19,n,t,i),e.elementType=R0,e.lanes=a,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ii:s=10;break e;case wI:s=9;break e;case t_:s=11;break e;case n_:s=14;break e;case Ea:s=16,r=null;break e}s=29,n=Error(z(130,e===null?"null":typeof e,"")),r=null}return t=Gn(s,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function Qs(e,t,n,r){return e=Gn(7,e,r,t),e.lanes=n,e}function xv(e,t,n){return e=Gn(6,e,null,t),e.lanes=n,e}function rP(e){var t=Gn(18,null,null,0);return t.stateNode=e,t}function _v(e,t,n){return t=Gn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var JS=new WeakMap;function dr(e,t){if(typeof e=="object"&&e!==null){var n=JS.get(e);return n!==void 0?n:(t={value:e,source:t,stack:RS(t)},JS.set(e,t),t)}return{value:e,source:t,stack:RS(t)}}var ll=[],ul=0,Cm=null,Qc=0,ur=[],cr=0,os=null,Qr=1,Zr="";function Ti(e,t){ll[ul++]=Qc,ll[ul++]=Cm,Cm=e,Qc=t}function iP(e,t,n){ur[cr++]=Qr,ur[cr++]=Zr,ur[cr++]=os,os=e;var r=Qr;e=Zr;var i=32-Jn(r)-1;r&=~(1<<i),n+=1;var a=32-Jn(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Qr=1<<32-Jn(t)+i|n<<i|r,Zr=a+e}else Qr=1<<a|n<<i|r,Zr=e}function g_(e){e.return!==null&&(Ti(e,1),iP(e,1,0))}function y_(e){for(;e===Cm;)Cm=ll[--ul],ll[ul]=null,Qc=ll[--ul],ll[ul]=null;for(;e===os;)os=ur[--cr],ur[cr]=null,Zr=ur[--cr],ur[cr]=null,Qr=ur[--cr],ur[cr]=null}function aP(e,t){ur[cr++]=Qr,ur[cr++]=Zr,ur[cr++]=os,Qr=t.id,Zr=t.overflow,os=e}var tn=null,Fe=null,xe=!1,qa=null,hr=!1,Y0=Error(z(519));function ls(e){var t=Error(z(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zc(dr(t,e)),Y0}function eA(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[en]=e,t[Un]=r,n){case"dialog":he("cancel",t),he("close",t);break;case"iframe":case"object":case"embed":he("load",t);break;case"video":case"audio":for(n=0;n<nf.length;n++)he(nf[n],t);break;case"source":he("error",t);break;case"img":case"image":case"link":he("error",t),he("load",t);break;case"details":he("toggle",t);break;case"input":he("invalid",t),kI(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":he("invalid",t);break;case"textarea":he("invalid",t),LI(t,r.value,r.defaultValue,r.children)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||r.suppressHydrationWarning===!0||Bj(t.textContent,n)?(r.popover!=null&&(he("beforetoggle",t),he("toggle",t)),r.onScroll!=null&&he("scroll",t),r.onScrollEnd!=null&&he("scrollend",t),r.onClick!=null&&(t.onclick=Pi),t=!0):t=!1,t||ls(e,!0)}function tA(e){for(tn=e.return;tn;)switch(tn.tag){case 5:case 31:case 13:hr=!1;return;case 27:case 3:hr=!0;return;default:tn=tn.return}}function Uo(e){if(e!==tn)return!1;if(!xe)return tA(e),xe=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||bb(e.type,e.memoizedProps)),n=!n),n&&Fe&&ls(e),tA(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(z(317));Fe=BA(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(z(317));Fe=BA(e)}else t===27?(t=Fe,ws(e.type)?(e=Eb,Eb=null,Fe=e):Fe=t):Fe=tn?vr(e.stateNode.nextSibling):null;return!0}function so(){Fe=tn=null,xe=!1}function wv(){var e=qa;return e!==null&&(jn===null?jn=e:jn.push.apply(jn,e),qa=null),e}function Zc(e){qa===null?qa=[e]:qa.push(e)}var W0=gi(null),Oo=null,ji=null;function Ca(e,t,n){Ve(W0,t._currentValue),t._currentValue=n}function Vi(e){e._currentValue=W0.current,Bt(W0)}function X0(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Q0(e,t,n,r){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){var s=i.child;a=a.firstContext;e:for(;a!==null;){var o=a;a=i;for(var l=0;l<t.length;l++)if(o.context===t[l]){a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),X0(a.return,n,e),r||(s=null);break e}a=o.next}}else if(i.tag===18){if(s=i.return,s===null)throw Error(z(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),X0(s,n,e),s=null}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===e){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}}function au(e,t,n,r){e=null;for(var i=t,a=!1;i!==null;){if(!a){if(i.flags&524288)a=!0;else if(i.flags&262144)break}if(i.tag===10){var s=i.alternate;if(s===null)throw Error(z(387));if(s=s.memoizedProps,s!==null){var o=i.type;nr(i.pendingProps.value,s.value)||(e!==null?e.push(o):e=[o])}}else if(i===xm.current){if(s=i.alternate,s===null)throw Error(z(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(af):e=[af])}i=i.return}e!==null&&Q0(t,e,n,r),t.flags|=262144}function Nm(e){for(e=e.firstContext;e!==null;){if(!nr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function oo(e){Oo=e,ji=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function rn(e){return sP(Oo,e)}function lh(e,t){return Oo===null&&oo(e),sP(e,t)}function sP(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},ji===null){if(e===null)throw Error(z(308));ji=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ji=ji.next=t;return n}var iz=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},az=Nt.unstable_scheduleCallback,sz=Nt.unstable_NormalPriority,yt={$$typeof:Ii,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function v_(){return{controller:new iz,data:new Map,refCount:0}}function Kf(e){e.refCount--,e.refCount===0&&az(sz,function(){e.controller.abort()})}var Ic=null,Z0=0,Rl=0,vl=null;function oz(e,t){if(Ic===null){var n=Ic=[];Z0=0,Rl=F_(),vl={status:"pending",value:void 0,then:function(r){n.push(r)}}}return Z0++,t.then(nA,nA),t}function nA(){if(--Z0===0&&Ic!==null){vl!==null&&(vl.status="fulfilled");var e=Ic;Ic=null,Rl=0,vl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function lz(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var i=0;i<n.length;i++)(0,n[i])(t)},function(i){for(r.status="rejected",r.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),r}var rA=ie.S;ie.S=function(e,t){xj=Qn(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&oz(e,t),rA!==null&&rA(e,t)};var Zs=gi(null);function b_(){var e=Zs.current;return e!==null?e:Me.pooledCache}function Hh(e,t){t===null?Ve(Zs,Zs.current):Ve(Zs,t.pool)}function oP(){var e=b_();return e===null?null:{parent:yt._currentValue,pool:e}}var su=Error(z(460)),x_=Error(z(474)),dg=Error(z(542)),Om={then:function(){}};function iA(e){return e=e.status,e==="fulfilled"||e==="rejected"}function lP(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Pi,Pi),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,sA(e),e;default:if(typeof t.status=="string")t.then(Pi,Pi);else{if(e=Me,e!==null&&100<e.shellSuspendCounter)throw Error(z(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=r}},function(r){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,sA(e),e}throw Js=t,su}}function Us(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Js=n,su):n}}var Js=null;function aA(){if(Js===null)throw Error(z(459));var e=Js;return Js=null,e}function sA(e){if(e===su||e===dg)throw Error(z(483))}var bl=null,Jc=0;function uh(e){var t=Jc;return Jc+=1,bl===null&&(bl=[]),lP(bl,e,t)}function Zu(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ch(e,t){throw t.$$typeof===YV?Error(z(525)):(e=Object.prototype.toString.call(t),Error(z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function uP(e){function t(w,x){if(e){var E=w.deletions;E===null?(w.deletions=[x],w.flags|=16):E.push(x)}}function n(w,x){if(!e)return null;for(;x!==null;)t(w,x),x=x.sibling;return null}function r(w){for(var x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function i(w,x){return w=Li(w,x),w.index=0,w.sibling=null,w}function a(w,x,E){return w.index=E,e?(E=w.alternate,E!==null?(E=E.index,E<x?(w.flags|=67108866,x):E):(w.flags|=67108866,x)):(w.flags|=1048576,x)}function s(w){return e&&w.alternate===null&&(w.flags|=67108866),w}function o(w,x,E,T){return x===null||x.tag!==6?(x=xv(E,w.mode,T),x.return=w,x):(x=i(x,E),x.return=w,x)}function l(w,x,E,T){var I=E.type;return I===Jo?c(w,x,E.props.children,T,E.key):x!==null&&(x.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Ea&&Us(I)===x.type)?(x=i(x,E.props),Zu(x,E),x.return=w,x):(x=qh(E.type,E.key,E.props,null,w.mode,T),Zu(x,E),x.return=w,x)}function u(w,x,E,T){return x===null||x.tag!==4||x.stateNode.containerInfo!==E.containerInfo||x.stateNode.implementation!==E.implementation?(x=_v(E,w.mode,T),x.return=w,x):(x=i(x,E.children||[]),x.return=w,x)}function c(w,x,E,T,I){return x===null||x.tag!==7?(x=Qs(E,w.mode,T,I),x.return=w,x):(x=i(x,E),x.return=w,x)}function f(w,x,E){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=xv(""+x,w.mode,E),x.return=w,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case nh:return E=qh(x.type,x.key,x.props,null,w.mode,E),Zu(E,x),E.return=w,E;case dc:return x=_v(x,w.mode,E),x.return=w,x;case Ea:return x=Us(x),f(w,x,E)}if(hc(x)||Wu(x))return x=Qs(x,w.mode,E,null),x.return=w,x;if(typeof x.then=="function")return f(w,uh(x),E);if(x.$$typeof===Ii)return f(w,lh(w,x),E);ch(w,x)}return null}function h(w,x,E,T){var I=x!==null?x.key:null;if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return I!==null?null:o(w,x,""+E,T);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case nh:return E.key===I?l(w,x,E,T):null;case dc:return E.key===I?u(w,x,E,T):null;case Ea:return E=Us(E),h(w,x,E,T)}if(hc(E)||Wu(E))return I!==null?null:c(w,x,E,T,null);if(typeof E.then=="function")return h(w,x,uh(E),T);if(E.$$typeof===Ii)return h(w,x,lh(w,E),T);ch(w,E)}return null}function p(w,x,E,T,I){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return w=w.get(E)||null,o(x,w,""+T,I);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case nh:return w=w.get(T.key===null?E:T.key)||null,l(x,w,T,I);case dc:return w=w.get(T.key===null?E:T.key)||null,u(x,w,T,I);case Ea:return T=Us(T),p(w,x,E,T,I)}if(hc(T)||Wu(T))return w=w.get(E)||null,c(x,w,T,I,null);if(typeof T.then=="function")return p(w,x,E,uh(T),I);if(T.$$typeof===Ii)return p(w,x,E,lh(x,T),I);ch(x,T)}return null}function g(w,x,E,T){for(var I=null,k=null,A=x,C=x=0,N=null;A!==null&&C<E.length;C++){A.index>C?(N=A,A=null):N=A.sibling;var j=h(w,A,E[C],T);if(j===null){A===null&&(A=N);break}e&&A&&j.alternate===null&&t(w,A),x=a(j,x,C),k===null?I=j:k.sibling=j,k=j,A=N}if(C===E.length)return n(w,A),xe&&Ti(w,C),I;if(A===null){for(;C<E.length;C++)A=f(w,E[C],T),A!==null&&(x=a(A,x,C),k===null?I=A:k.sibling=A,k=A);return xe&&Ti(w,C),I}for(A=r(A);C<E.length;C++)N=p(A,w,C,E[C],T),N!==null&&(e&&N.alternate!==null&&A.delete(N.key===null?C:N.key),x=a(N,x,C),k===null?I=N:k.sibling=N,k=N);return e&&A.forEach(function(R){return t(w,R)}),xe&&Ti(w,C),I}function _(w,x,E,T){if(E==null)throw Error(z(151));for(var I=null,k=null,A=x,C=x=0,N=null,j=E.next();A!==null&&!j.done;C++,j=E.next()){A.index>C?(N=A,A=null):N=A.sibling;var R=h(w,A,j.value,T);if(R===null){A===null&&(A=N);break}e&&A&&R.alternate===null&&t(w,A),x=a(R,x,C),k===null?I=R:k.sibling=R,k=R,A=N}if(j.done)return n(w,A),xe&&Ti(w,C),I;if(A===null){for(;!j.done;C++,j=E.next())j=f(w,j.value,T),j!==null&&(x=a(j,x,C),k===null?I=j:k.sibling=j,k=j);return xe&&Ti(w,C),I}for(A=r(A);!j.done;C++,j=E.next())j=p(A,w,C,j.value,T),j!==null&&(e&&j.alternate!==null&&A.delete(j.key===null?C:j.key),x=a(j,x,C),k===null?I=j:k.sibling=j,k=j);return e&&A.forEach(function(P){return t(w,P)}),xe&&Ti(w,C),I}function b(w,x,E,T){if(typeof E=="object"&&E!==null&&E.type===Jo&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case nh:e:{for(var I=E.key;x!==null;){if(x.key===I){if(I=E.type,I===Jo){if(x.tag===7){n(w,x.sibling),T=i(x,E.props.children),T.return=w,w=T;break e}}else if(x.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Ea&&Us(I)===x.type){n(w,x.sibling),T=i(x,E.props),Zu(T,E),T.return=w,w=T;break e}n(w,x);break}else t(w,x);x=x.sibling}E.type===Jo?(T=Qs(E.props.children,w.mode,T,E.key),T.return=w,w=T):(T=qh(E.type,E.key,E.props,null,w.mode,T),Zu(T,E),T.return=w,w=T)}return s(w);case dc:e:{for(I=E.key;x!==null;){if(x.key===I)if(x.tag===4&&x.stateNode.containerInfo===E.containerInfo&&x.stateNode.implementation===E.implementation){n(w,x.sibling),T=i(x,E.children||[]),T.return=w,w=T;break e}else{n(w,x);break}else t(w,x);x=x.sibling}T=_v(E,w.mode,T),T.return=w,w=T}return s(w);case Ea:return E=Us(E),b(w,x,E,T)}if(hc(E))return g(w,x,E,T);if(Wu(E)){if(I=Wu(E),typeof I!="function")throw Error(z(150));return E=I.call(E),_(w,x,E,T)}if(typeof E.then=="function")return b(w,x,uh(E),T);if(E.$$typeof===Ii)return b(w,x,lh(w,E),T);ch(w,E)}return typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint"?(E=""+E,x!==null&&x.tag===6?(n(w,x.sibling),T=i(x,E),T.return=w,w=T):(n(w,x),T=xv(E,w.mode,T),T.return=w,w=T),s(w)):n(w,x)}return function(w,x,E,T){try{Jc=0;var I=b(w,x,E,T);return bl=null,I}catch(A){if(A===su||A===dg)throw A;var k=Gn(29,A,null,w.mode);return k.lanes=T,k.return=w,k}finally{}}}var lo=uP(!0),cP=uP(!1),Sa=!1;function __(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function J0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ha(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ga(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Se&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Tm(e),tP(e,null,n),t}return fg(e,r,t,n),Tm(e)}function Pc(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,NI(e,n)}}function Ev(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var eb=!1;function jc(){if(eb){var e=vl;if(e!==null)throw e}}function Rc(e,t,n,r){eb=!1;var i=e.updateQueue;Sa=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?a=u:s.next=u,s=l;var c=e.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==s&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;s=0,c=u=l=null,o=a;do{var h=o.lane&-536870913,p=h!==o.lane;if(p?(ve&h)===h:(r&h)===h){h!==0&&h===Rl&&(eb=!0),c!==null&&(c=c.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var g=e,_=o;h=t;var b=n;switch(_.tag){case 1:if(g=_.payload,typeof g=="function"){f=g.call(b,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=_.payload,h=typeof g=="function"?g.call(b,f,h):g,h==null)break e;f=Ge({},f,h);break e;case 2:Sa=!0}}h=o.callback,h!==null&&(e.flags|=64,p&&(e.flags|=8192),p=i.callbacks,p===null?i.callbacks=[h]:p.push(h))}else p={lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=p,l=f):c=c.next=p,s|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;p=o,o=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,a===null&&(i.shared.lanes=0),cs|=s,e.lanes=s,e.memoizedState=f}}function fP(e,t){if(typeof e!="function")throw Error(z(191,e));e.call(t)}function dP(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)fP(n[e],t)}var Dl=gi(null),Im=gi(0);function oA(e,t){e=Ki,Ve(Im,e),Ve(Dl,t),Ki=e|t.baseLanes}function tb(){Ve(Im,Ki),Ve(Dl,Dl.current)}function w_(){Ki=Im.current,Bt(Dl),Bt(Im)}var rr=gi(null),yr=null;function Na(e){var t=e.alternate;Ve(ut,ut.current&1),Ve(rr,e),yr===null&&(t===null||Dl.current!==null||t.memoizedState!==null)&&(yr=e)}function nb(e){Ve(ut,ut.current),Ve(rr,e),yr===null&&(yr=e)}function hP(e){e.tag===22?(Ve(ut,ut.current),Ve(rr,e),yr===null&&(yr=e)):Oa()}function Oa(){Ve(ut,ut.current),Ve(rr,rr.current)}function Hn(e){Bt(rr),yr===e&&(yr=null),Bt(ut)}var ut=gi(0);function Pm(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||_b(n)||wb(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var qi=0,ce=null,je=null,pt=null,jm=!1,xl=!1,uo=!1,Rm=0,ef=0,_l=null,uz=0;function nt(){throw Error(z(321))}function E_(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!nr(e[n],t[n]))return!1;return!0}function S_(e,t,n,r,i,a){return qi=a,ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ie.H=e===null||e.memoizedState===null?qP:k_,uo=!1,a=n(r,i),uo=!1,xl&&(a=pP(t,n,r,i)),mP(e),a}function mP(e){ie.H=tf;var t=je!==null&&je.next!==null;if(qi=0,pt=je=ce=null,jm=!1,ef=0,_l=null,t)throw Error(z(300));e===null||bt||(e=e.dependencies,e!==null&&Nm(e)&&(bt=!0))}function pP(e,t,n,r){ce=e;var i=0;do{if(xl&&(_l=null),ef=0,xl=!1,25<=i)throw Error(z(301));if(i+=1,pt=je=null,e.updateQueue!=null){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}ie.H=HP,a=t(n,r)}while(xl);return a}function cz(){var e=ie.H,t=e.useState()[0];return t=typeof t.then=="function"?Yf(t):t,e=e.useState()[0],(je!==null?je.memoizedState:null)!==e&&(ce.flags|=1024),t}function A_(){var e=Rm!==0;return Rm=0,e}function T_(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function C_(e){if(jm){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}jm=!1}qi=0,pt=je=ce=null,xl=!1,ef=Rm=0,_l=null}function wn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?ce.memoizedState=pt=e:pt=pt.next=e,pt}function ft(){if(je===null){var e=ce.alternate;e=e!==null?e.memoizedState:null}else e=je.next;var t=pt===null?ce.memoizedState:pt.next;if(t!==null)pt=t,je=e;else{if(e===null)throw ce.alternate===null?Error(z(467)):Error(z(310));je=e,e={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},pt===null?ce.memoizedState=pt=e:pt=pt.next=e}return pt}function hg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yf(e){var t=ef;return ef+=1,_l===null&&(_l=[]),e=lP(_l,e,t),t=ce,(pt===null?t.memoizedState:pt.next)===null&&(t=t.alternate,ie.H=t===null||t.memoizedState===null?qP:k_),e}function mg(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Yf(e);if(e.$$typeof===Ii)return rn(e)}throw Error(z(438,String(e)))}function N_(e){var t=null,n=ce.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=ce.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=hg(),ce.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=WV;return t.index++,n}function Hi(e,t){return typeof t=="function"?t(e):t}function Gh(e){var t=ft();return O_(t,je,e)}function O_(e,t,n){var r=e.queue;if(r===null)throw Error(z(311));r.lastRenderedReducer=n;var i=e.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}t.baseQueue=i=a,r.pending=null}if(a=e.baseState,i===null)e.memoizedState=a;else{t=i.next;var o=s=null,l=null,u=t,c=!1;do{var f=u.lane&-536870913;if(f!==u.lane?(ve&f)===f:(qi&f)===f){var h=u.revertLane;if(h===0)l!==null&&(l=l.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===Rl&&(c=!0);else if((qi&h)===h){u=u.next,h===Rl&&(c=!0);continue}else f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(o=l=f,s=a):l=l.next=f,ce.lanes|=h,cs|=h;f=u.action,uo&&n(a,f),a=u.hasEagerState?u.eagerState:n(a,f)}else h={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(o=l=h,s=a):l=l.next=h,ce.lanes|=f,cs|=f;u=u.next}while(u!==null&&u!==t);if(l===null?s=a:l.next=o,!nr(a,e.memoizedState)&&(bt=!0,c&&(n=vl,n!==null)))throw n;e.memoizedState=a,e.baseState=s,e.baseQueue=l,r.lastRenderedState=a}return i===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Sv(e){var t=ft(),n=t.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);nr(a,t.memoizedState)||(bt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function gP(e,t,n){var r=ce,i=ft(),a=xe;if(a){if(n===void 0)throw Error(z(407));n=n()}else n=t();var s=!nr((je||i).memoizedState,n);if(s&&(i.memoizedState=n,bt=!0),i=i.queue,I_(bP.bind(null,r,i,e),[e]),i.getSnapshot!==t||s||pt!==null&&pt.memoizedState.tag&1){if(r.flags|=2048,kl(9,{destroy:void 0},vP.bind(null,r,i,n,t),null),Me===null)throw Error(z(349));a||qi&127||yP(r,t,n)}return n}function yP(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ce.updateQueue,t===null?(t=hg(),ce.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function vP(e,t,n,r){t.value=n,t.getSnapshot=r,xP(t)&&_P(e)}function bP(e,t,n){return n(function(){xP(t)&&_P(e)})}function xP(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!nr(e,n)}catch{return!0}}function _P(e){var t=No(e,2);t!==null&&Ln(t,e,2)}function rb(e){var t=wn();if(typeof e=="function"){var n=e;if(e=n(),uo){Ma(!0);try{n()}finally{Ma(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:e},t}function wP(e,t,n,r){return e.baseState=n,O_(e,je,typeof r=="function"?r:Hi)}function fz(e,t,n,r,i){if(gg(e))throw Error(z(485));if(e=t.action,e!==null){var a={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){a.listeners.push(s)}};ie.T!==null?n(!0):a.isTransition=!1,r(a),n=t.pending,n===null?(a.next=t.pending=a,EP(t,a)):(a.next=n.next,t.pending=n.next=a)}}function EP(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=ie.T,s={};ie.T=s;try{var o=n(i,r),l=ie.S;l!==null&&l(s,o),lA(e,t,o)}catch(u){ib(e,t,u)}finally{a!==null&&s.types!==null&&(a.types=s.types),ie.T=a}}else try{a=n(i,r),lA(e,t,a)}catch(u){ib(e,t,u)}}function lA(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){uA(e,t,r)},function(r){return ib(e,t,r)}):uA(e,t,n)}function uA(e,t,n){t.status="fulfilled",t.value=n,SP(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,EP(e,n)))}function ib(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=n,SP(t),t=t.next;while(t!==r)}e.action=null}function SP(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function AP(e,t){return t}function cA(e,t){if(xe){var n=Me.formState;if(n!==null){e:{var r=ce;if(xe){if(Fe){t:{for(var i=Fe,a=hr;i.nodeType!==8;){if(!a){i=null;break t}if(i=vr(i.nextSibling),i===null){i=null;break t}}a=i.data,i=a==="F!"||a==="F"?i:null}if(i){Fe=vr(i.nextSibling),r=i.data==="F!";break e}}ls(r)}r=!1}r&&(t=n[0])}}return n=wn(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:AP,lastRenderedState:t},n.queue=r,n=BP.bind(null,ce,r),r.dispatch=n,r=rb(!1),a=D_.bind(null,ce,!1,r.queue),r=wn(),i={state:t,dispatch:null,action:e,pending:null},r.queue=i,n=fz.bind(null,ce,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function fA(e){var t=ft();return TP(t,je,e)}function TP(e,t,n){if(t=O_(e,t,AP)[0],e=Gh(Hi)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=Yf(t)}catch(s){throw s===su?dg:s}else r=t;t=ft();var i=t.queue,a=i.dispatch;return n!==t.memoizedState&&(ce.flags|=2048,kl(9,{destroy:void 0},dz.bind(null,i,n),null)),[r,a,e]}function dz(e,t){e.action=t}function dA(e){var t=ft(),n=je;if(n!==null)return TP(t,n,e);ft(),t=t.memoizedState,n=ft();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function kl(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=ce.updateQueue,t===null&&(t=hg(),ce.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function CP(){return ft().memoizedState}function Kh(e,t,n,r){var i=wn();ce.flags|=e,i.memoizedState=kl(1|t,{destroy:void 0},n,r===void 0?null:r)}function pg(e,t,n,r){var i=ft();r=r===void 0?null:r;var a=i.memoizedState.inst;je!==null&&r!==null&&E_(r,je.memoizedState.deps)?i.memoizedState=kl(t,a,n,r):(ce.flags|=e,i.memoizedState=kl(1|t,a,n,r))}function hA(e,t){Kh(8390656,8,e,t)}function I_(e,t){pg(2048,8,e,t)}function hz(e){ce.flags|=4;var t=ce.updateQueue;if(t===null)t=hg(),ce.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function NP(e){var t=ft().memoizedState;return hz({ref:t,nextImpl:e}),function(){if(Se&2)throw Error(z(440));return t.impl.apply(void 0,arguments)}}function OP(e,t){return pg(4,2,e,t)}function IP(e,t){return pg(4,4,e,t)}function PP(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function jP(e,t,n){n=n!=null?n.concat([e]):null,pg(4,4,PP.bind(null,t,e),n)}function P_(){}function RP(e,t){var n=ft();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&E_(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function DP(e,t){var n=ft();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&E_(t,r[1]))return r[0];if(r=e(),uo){Ma(!0);try{e()}finally{Ma(!1)}}return n.memoizedState=[r,t],r}function j_(e,t,n){return n===void 0||qi&1073741824&&!(ve&261930)?e.memoizedState=t:(e.memoizedState=n,e=wj(),ce.lanes|=e,cs|=e,n)}function kP(e,t,n,r){return nr(n,t)?n:Dl.current!==null?(e=j_(e,n,r),nr(e,t)||(bt=!0),e):!(qi&42)||qi&1073741824&&!(ve&261930)?(bt=!0,e.memoizedState=n):(e=wj(),ce.lanes|=e,cs|=e,t)}function MP(e,t,n,r,i){var a=Ae.p;Ae.p=a!==0&&8>a?a:8;var s=ie.T,o={};ie.T=o,D_(e,!1,t,n);try{var l=i(),u=ie.S;if(u!==null&&u(o,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=lz(l,r);Dc(e,t,c,er(e))}else Dc(e,t,r,er(e))}catch(f){Dc(e,t,{then:function(){},status:"rejected",reason:f},er())}finally{Ae.p=a,s!==null&&o.types!==null&&(s.types=o.types),ie.T=s}}function mz(){}function ab(e,t,n,r){if(e.tag!==5)throw Error(z(476));var i=LP(e).queue;MP(e,i,t,Xs,n===null?mz:function(){return VP(e),n(r)})}function LP(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Xs,baseState:Xs,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:Xs},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function VP(e){var t=LP(e);t.next===null&&(t=e.alternate.memoizedState),Dc(e,t.next.queue,{},er())}function R_(){return rn(af)}function UP(){return ft().memoizedState}function zP(){return ft().memoizedState}function pz(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=er();e=Ha(n);var r=Ga(t,e,n);r!==null&&(Ln(r,t,n),Pc(r,t,n)),t={cache:v_()},e.payload=t;return}t=t.return}}function gz(e,t,n){var r=er();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},gg(e)?$P(t,n):(n=m_(e,t,n,r),n!==null&&(Ln(n,e,r),FP(n,t,r)))}function BP(e,t,n){var r=er();Dc(e,t,n,r)}function Dc(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(gg(e))$P(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,nr(o,s))return fg(e,t,i,0),Me===null&&cg(),!1}catch{}finally{}if(n=m_(e,t,i,r),n!==null)return Ln(n,e,r),FP(n,t,r),!0}return!1}function D_(e,t,n,r){if(r={lane:2,revertLane:F_(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},gg(e)){if(t)throw Error(z(479))}else t=m_(e,n,r,2),t!==null&&Ln(t,e,2)}function gg(e){var t=e.alternate;return e===ce||t!==null&&t===ce}function $P(e,t){xl=jm=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function FP(e,t,n){if(n&4194048){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,NI(e,n)}}var tf={readContext:rn,use:mg,useCallback:nt,useContext:nt,useEffect:nt,useImperativeHandle:nt,useLayoutEffect:nt,useInsertionEffect:nt,useMemo:nt,useReducer:nt,useRef:nt,useState:nt,useDebugValue:nt,useDeferredValue:nt,useTransition:nt,useSyncExternalStore:nt,useId:nt,useHostTransitionStatus:nt,useFormState:nt,useActionState:nt,useOptimistic:nt,useMemoCache:nt,useCacheRefresh:nt};tf.useEffectEvent=nt;var qP={readContext:rn,use:mg,useCallback:function(e,t){return wn().memoizedState=[e,t===void 0?null:t],e},useContext:rn,useEffect:hA,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Kh(4194308,4,PP.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Kh(4194308,4,e,t)},useInsertionEffect:function(e,t){Kh(4,2,e,t)},useMemo:function(e,t){var n=wn();t=t===void 0?null:t;var r=e();if(uo){Ma(!0);try{e()}finally{Ma(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=wn();if(n!==void 0){var i=n(t);if(uo){Ma(!0);try{n(t)}finally{Ma(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=gz.bind(null,ce,e),[r.memoizedState,e]},useRef:function(e){var t=wn();return e={current:e},t.memoizedState=e},useState:function(e){e=rb(e);var t=e.queue,n=BP.bind(null,ce,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:P_,useDeferredValue:function(e,t){var n=wn();return j_(n,e,t)},useTransition:function(){var e=rb(!1);return e=MP.bind(null,ce,e.queue,!0,!1),wn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=ce,i=wn();if(xe){if(n===void 0)throw Error(z(407));n=n()}else{if(n=t(),Me===null)throw Error(z(349));ve&127||yP(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,hA(bP.bind(null,r,a,e),[e]),r.flags|=2048,kl(9,{destroy:void 0},vP.bind(null,r,a,n,t),null),n},useId:function(){var e=wn(),t=Me.identifierPrefix;if(xe){var n=Zr,r=Qr;n=(r&~(1<<32-Jn(r)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Rm++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=uz++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:R_,useFormState:cA,useActionState:cA,useOptimistic:function(e){var t=wn();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=D_.bind(null,ce,!0,n),n.dispatch=t,[e,t]},useMemoCache:N_,useCacheRefresh:function(){return wn().memoizedState=pz.bind(null,ce)},useEffectEvent:function(e){var t=wn(),n={impl:e};return t.memoizedState=n,function(){if(Se&2)throw Error(z(440));return n.impl.apply(void 0,arguments)}}},k_={readContext:rn,use:mg,useCallback:RP,useContext:rn,useEffect:I_,useImperativeHandle:jP,useInsertionEffect:OP,useLayoutEffect:IP,useMemo:DP,useReducer:Gh,useRef:CP,useState:function(){return Gh(Hi)},useDebugValue:P_,useDeferredValue:function(e,t){var n=ft();return kP(n,je.memoizedState,e,t)},useTransition:function(){var e=Gh(Hi)[0],t=ft().memoizedState;return[typeof e=="boolean"?e:Yf(e),t]},useSyncExternalStore:gP,useId:UP,useHostTransitionStatus:R_,useFormState:fA,useActionState:fA,useOptimistic:function(e,t){var n=ft();return wP(n,je,e,t)},useMemoCache:N_,useCacheRefresh:zP};k_.useEffectEvent=NP;var HP={readContext:rn,use:mg,useCallback:RP,useContext:rn,useEffect:I_,useImperativeHandle:jP,useInsertionEffect:OP,useLayoutEffect:IP,useMemo:DP,useReducer:Sv,useRef:CP,useState:function(){return Sv(Hi)},useDebugValue:P_,useDeferredValue:function(e,t){var n=ft();return je===null?j_(n,e,t):kP(n,je.memoizedState,e,t)},useTransition:function(){var e=Sv(Hi)[0],t=ft().memoizedState;return[typeof e=="boolean"?e:Yf(e),t]},useSyncExternalStore:gP,useId:UP,useHostTransitionStatus:R_,useFormState:dA,useActionState:dA,useOptimistic:function(e,t){var n=ft();return je!==null?wP(n,je,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:N_,useCacheRefresh:zP};HP.useEffectEvent=NP;function Av(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ge({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var sb={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=er(),i=Ha(r);i.payload=t,n!=null&&(i.callback=n),t=Ga(e,i,r),t!==null&&(Ln(t,e,r),Pc(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=er(),i=Ha(r);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Ga(e,i,r),t!==null&&(Ln(t,e,r),Pc(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=er(),r=Ha(n);r.tag=2,t!=null&&(r.callback=t),t=Ga(e,r,n),t!==null&&(Ln(t,e,n),Pc(t,e,n))}};function mA(e,t,n,r,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,s):t.prototype&&t.prototype.isPureReactComponent?!Xc(n,r)||!Xc(i,a):!0}function pA(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&sb.enqueueReplaceState(t,t.state,null)}function co(e,t){var n=t;if("ref"in t){n={};for(var r in t)r!=="ref"&&(n[r]=t[r])}if(e=e.defaultProps){n===t&&(n=Ge({},n));for(var i in e)n[i]===void 0&&(n[i]=e[i])}return n}function GP(e){Am(e)}function KP(e){console.error(e)}function YP(e){Am(e)}function Dm(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function gA(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function ob(e,t,n){return n=Ha(n),n.tag=3,n.payload={element:null},n.callback=function(){Dm(e,t)},n}function WP(e){return e=Ha(e),e.tag=3,e}function XP(e,t,n,r){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){gA(t,n,r)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(e.callback=function(){gA(t,n,r),typeof i!="function"&&(Ka===null?Ka=new Set([this]):Ka.add(this));var o=r.stack;this.componentDidCatch(r.value,{componentStack:o!==null?o:""})})}function yz(e,t,n,r,i){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=n.alternate,t!==null&&au(t,n,i,!0),n=rr.current,n!==null){switch(n.tag){case 31:case 13:return yr===null?Um():n.alternate===null&&at===0&&(at=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===Om?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),Mv(e,r,i)),!1;case 22:return n.flags|=65536,r===Om?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),Mv(e,r,i)),!1}throw Error(z(435,n.tag))}return Mv(e,r,i),Um(),!1}if(xe)return t=rr.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==Y0&&(e=Error(z(422),{cause:r}),Zc(dr(e,n)))):(r!==Y0&&(t=Error(z(423),{cause:r}),Zc(dr(t,n))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,r=dr(r,n),i=ob(e.stateNode,r,i),Ev(e,i),at!==4&&(at=2)),!1;var a=Error(z(520),{cause:r});if(a=dr(a,n),Lc===null?Lc=[a]:Lc.push(a),at!==4&&(at=2),t===null)return!0;r=dr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,e=ob(n.stateNode,r,e),Ev(n,e),!1;case 1:if(t=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(Ka===null||!Ka.has(a))))return n.flags|=65536,i&=-i,n.lanes|=i,i=WP(i),XP(i,e,n,r),Ev(n,i),!1}n=n.return}while(n!==null);return!1}var M_=Error(z(461)),bt=!1;function Wt(e,t,n,r){t.child=e===null?cP(t,null,n,r):lo(t,e.child,n,r)}function yA(e,t,n,r,i){n=n.render;var a=t.ref;if("ref"in r){var s={};for(var o in r)o!=="ref"&&(s[o]=r[o])}else s=r;return oo(t),r=S_(e,t,n,s,a,i),o=A_(),e!==null&&!bt?(T_(e,t,i),Gi(e,t,i)):(xe&&o&&g_(t),t.flags|=1,Wt(e,t,r,i),t.child)}function vA(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!p_(a)&&a.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=a,QP(e,t,a,r,i)):(e=qh(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!L_(e,i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:Xc,n(s,r)&&e.ref===t.ref)return Gi(e,t,i)}return t.flags|=1,e=Li(a,r),e.ref=t.ref,e.return=t,t.child=e}function QP(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(Xc(a,r)&&e.ref===t.ref)if(bt=!1,t.pendingProps=r=a,L_(e,i))e.flags&131072&&(bt=!0);else return t.lanes=e.lanes,Gi(e,t,i)}return lb(e,t,n,r,i)}function ZP(e,t,n,r){var i=r.children,a=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if(t.flags&128){if(a=a!==null?a.baseLanes|n:n,e!==null){for(r=t.child=e.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~a}else r=0,t.child=null;return bA(e,t,a,n,r)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Hh(t,a!==null?a.cachePool:null),a!==null?oA(t,a):tb(),hP(t);else return r=t.lanes=536870912,bA(e,t,a!==null?a.baseLanes|n:n,n,r)}else a!==null?(Hh(t,a.cachePool),oA(t,a),Oa(),t.memoizedState=null):(e!==null&&Hh(t,null),tb(),Oa());return Wt(e,t,i,n),t.child}function pc(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function bA(e,t,n,r,i){var a=b_();return a=a===null?null:{parent:yt._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},e!==null&&Hh(t,null),tb(),hP(t),e!==null&&au(e,t,r,!0),t.childLanes=i,null}function Yh(e,t){return t=km({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function xA(e,t,n){return lo(t,e.child,null,n),e=Yh(t,t.pendingProps),e.flags|=2,Hn(t),t.memoizedState=null,e}function vz(e,t,n){var r=t.pendingProps,i=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(xe){if(r.mode==="hidden")return e=Yh(t,r),t.lanes=536870912,pc(null,e);if(nb(t),(e=Fe)?(e=qj(e,hr),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:os!==null?{id:Qr,overflow:Zr}:null,retryLane:536870912,hydrationErrors:null},n=rP(e),n.return=t,t.child=n,tn=t,Fe=null)):e=null,e===null)throw ls(t);return t.lanes=536870912,null}return Yh(t,r)}var a=e.memoizedState;if(a!==null){var s=a.dehydrated;if(nb(t),i)if(t.flags&256)t.flags&=-257,t=xA(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(z(558));else if(bt||au(e,t,n,!1),i=(n&e.childLanes)!==0,bt||i){if(r=Me,r!==null&&(s=OI(r,n),s!==0&&s!==a.retryLane))throw a.retryLane=s,No(e,s),Ln(r,e,s),M_;Um(),t=xA(e,t,n)}else e=a.treeContext,Fe=vr(s.nextSibling),tn=t,xe=!0,qa=null,hr=!1,e!==null&&aP(t,e),t=Yh(t,r),t.flags|=4096;return t}return e=Li(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Wh(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(z(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function lb(e,t,n,r,i){return oo(t),n=S_(e,t,n,r,void 0,i),r=A_(),e!==null&&!bt?(T_(e,t,i),Gi(e,t,i)):(xe&&r&&g_(t),t.flags|=1,Wt(e,t,n,i),t.child)}function _A(e,t,n,r,i,a){return oo(t),t.updateQueue=null,n=pP(t,r,n,i),mP(e),r=A_(),e!==null&&!bt?(T_(e,t,a),Gi(e,t,a)):(xe&&r&&g_(t),t.flags|=1,Wt(e,t,n,a),t.child)}function wA(e,t,n,r,i){if(oo(t),t.stateNode===null){var a=ol,s=n.contextType;typeof s=="object"&&s!==null&&(a=rn(s)),a=new n(r,a),t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=sb,t.stateNode=a,a._reactInternals=t,a=t.stateNode,a.props=r,a.state=t.memoizedState,a.refs={},__(t),s=n.contextType,a.context=typeof s=="object"&&s!==null?rn(s):ol,a.state=t.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&(Av(t,n,s,r),a.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(s=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),s!==a.state&&sb.enqueueReplaceState(a,a.state,null),Rc(t,r,a,i),jc(),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){a=t.stateNode;var o=t.memoizedProps,l=co(n,o);a.props=l;var u=a.context,c=n.contextType;s=ol,typeof c=="object"&&c!==null&&(s=rn(c));var f=n.getDerivedStateFromProps;c=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function",o=t.pendingProps!==o,c||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o||u!==s)&&pA(t,a,r,s),Sa=!1;var h=t.memoizedState;a.state=h,Rc(t,r,a,i),jc(),u=t.memoizedState,o||h!==u||Sa?(typeof f=="function"&&(Av(t,n,f,r),u=t.memoizedState),(l=Sa||mA(t,n,l,r,h,u,s))?(c||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=s,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,J0(e,t),s=t.memoizedProps,c=co(n,s),a.props=c,f=t.pendingProps,h=a.context,u=n.contextType,l=ol,typeof u=="object"&&u!==null&&(l=rn(u)),o=n.getDerivedStateFromProps,(u=typeof o=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||h!==l)&&pA(t,a,r,l),Sa=!1,h=t.memoizedState,a.state=h,Rc(t,r,a,i),jc();var p=t.memoizedState;s!==f||h!==p||Sa||e!==null&&e.dependencies!==null&&Nm(e.dependencies)?(typeof o=="function"&&(Av(t,n,o,r),p=t.memoizedState),(c=Sa||mA(t,n,c,r,h,p,l)||e!==null&&e.dependencies!==null&&Nm(e.dependencies))?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,p,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,p,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,Wh(e,t),r=(t.flags&128)!==0,a||r?(a=t.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:a.render(),t.flags|=1,e!==null&&r?(t.child=lo(t,e.child,null,i),t.child=lo(t,null,n,i)):Wt(e,t,n,i),t.memoizedState=a.state,e=t.child):e=Gi(e,t,i),e}function EA(e,t,n,r){return so(),t.flags|=256,Wt(e,t,n,r),t.child}var Tv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cv(e){return{baseLanes:e,cachePool:oP()}}function Nv(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Yn),e}function JP(e,t,n){var r=t.pendingProps,i=!1,a=(t.flags&128)!==0,s;if((s=a)||(s=e!==null&&e.memoizedState===null?!1:(ut.current&2)!==0),s&&(i=!0,t.flags&=-129),s=(t.flags&32)!==0,t.flags&=-33,e===null){if(xe){if(i?Na(t):Oa(),(e=Fe)?(e=qj(e,hr),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:os!==null?{id:Qr,overflow:Zr}:null,retryLane:536870912,hydrationErrors:null},n=rP(e),n.return=t,t.child=n,tn=t,Fe=null)):e=null,e===null)throw ls(t);return wb(e)?t.lanes=32:t.lanes=536870912,null}var o=r.children;return r=r.fallback,i?(Oa(),i=t.mode,o=km({mode:"hidden",children:o},i),r=Qs(r,i,n,null),o.return=t,r.return=t,o.sibling=r,t.child=o,r=t.child,r.memoizedState=Cv(n),r.childLanes=Nv(e,s,n),t.memoizedState=Tv,pc(null,r)):(Na(t),ub(t,o))}var l=e.memoizedState;if(l!==null&&(o=l.dehydrated,o!==null)){if(a)t.flags&256?(Na(t),t.flags&=-257,t=Ov(e,t,n)):t.memoizedState!==null?(Oa(),t.child=e.child,t.flags|=128,t=null):(Oa(),o=r.fallback,i=t.mode,r=km({mode:"visible",children:r.children},i),o=Qs(o,i,n,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,lo(t,e.child,null,n),r=t.child,r.memoizedState=Cv(n),r.childLanes=Nv(e,s,n),t.memoizedState=Tv,t=pc(null,r));else if(Na(t),wb(o)){if(s=o.nextSibling&&o.nextSibling.dataset,s)var u=s.dgst;s=u,r=Error(z(419)),r.stack="",r.digest=s,Zc({value:r,source:null,stack:null}),t=Ov(e,t,n)}else if(bt||au(e,t,n,!1),s=(n&e.childLanes)!==0,bt||s){if(s=Me,s!==null&&(r=OI(s,n),r!==0&&r!==l.retryLane))throw l.retryLane=r,No(e,r),Ln(s,e,r),M_;_b(o)||Um(),t=Ov(e,t,n)}else _b(o)?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,Fe=vr(o.nextSibling),tn=t,xe=!0,qa=null,hr=!1,e!==null&&aP(t,e),t=ub(t,r.children),t.flags|=4096);return t}return i?(Oa(),o=r.fallback,i=t.mode,l=e.child,u=l.sibling,r=Li(l,{mode:"hidden",children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,u!==null?o=Li(u,o):(o=Qs(o,i,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,pc(null,r),r=t.child,o=e.child.memoizedState,o===null?o=Cv(n):(i=o.cachePool,i!==null?(l=yt._currentValue,i=i.parent!==l?{parent:l,pool:l}:i):i=oP(),o={baseLanes:o.baseLanes|n,cachePool:i}),r.memoizedState=o,r.childLanes=Nv(e,s,n),t.memoizedState=Tv,pc(e.child,r)):(Na(t),n=e.child,e=n.sibling,n=Li(n,{mode:"visible",children:r.children}),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n)}function ub(e,t){return t=km({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function km(e,t){return e=Gn(22,e,null,t),e.lanes=0,e}function Ov(e,t,n){return lo(t,e.child,null,n),e=ub(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function SA(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),X0(e.return,t,n)}function Iv(e,t,n,r,i,a){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i,s.treeForkCount=a)}function ej(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;r=r.children;var s=ut.current,o=(s&2)!==0;if(o?(s=s&1|2,t.flags|=128):s&=1,Ve(ut,s),Wt(e,t,r,n),r=xe?Qc:0,!o&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&SA(e,n,t);else if(e.tag===19)SA(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Pm(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Iv(t,!1,i,n,a,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Pm(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Iv(t,!0,n,null,a,r);break;case"together":Iv(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function Gi(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),cs|=t.lanes,!(n&t.childLanes))if(e!==null){if(au(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(z(153));if(t.child!==null){for(e=t.child,n=Li(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Li(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function L_(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Nm(e)))}function bz(e,t,n){switch(t.tag){case 3:_m(t,t.stateNode.containerInfo),Ca(t,yt,e.memoizedState.cache),so();break;case 27:case 5:L0(t);break;case 4:_m(t,t.stateNode.containerInfo);break;case 10:Ca(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,nb(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(Na(t),t.flags|=128,null):n&t.child.childLanes?JP(e,t,n):(Na(t),e=Gi(e,t,n),e!==null?e.sibling:null);Na(t);break;case 19:var i=(e.flags&128)!==0;if(r=(n&t.childLanes)!==0,r||(au(e,t,n,!1),r=(n&t.childLanes)!==0),i){if(r)return ej(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ve(ut,ut.current),r)break;return null;case 22:return t.lanes=0,ZP(e,t,n,t.pendingProps);case 24:Ca(t,yt,e.memoizedState.cache)}return Gi(e,t,n)}function tj(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)bt=!0;else{if(!L_(e,n)&&!(t.flags&128))return bt=!1,bz(e,t,n);bt=!!(e.flags&131072)}else bt=!1,xe&&t.flags&1048576&&iP(t,Qc,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=Us(t.elementType),t.type=e,typeof e=="function")p_(e)?(r=co(e,r),t.tag=1,t=wA(null,t,e,r,n)):(t.tag=0,t=lb(null,t,e,r,n));else{if(e!=null){var i=e.$$typeof;if(i===t_){t.tag=11,t=yA(null,t,e,r,n);break e}else if(i===n_){t.tag=14,t=vA(null,t,e,r,n);break e}}throw t=k0(e)||e,Error(z(306,t,""))}}return t;case 0:return lb(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,i=co(r,t.pendingProps),wA(e,t,r,i,n);case 3:e:{if(_m(t,t.stateNode.containerInfo),e===null)throw Error(z(387));r=t.pendingProps;var a=t.memoizedState;i=a.element,J0(e,t),Rc(t,r,null,n);var s=t.memoizedState;if(r=s.cache,Ca(t,yt,r),r!==a.cache&&Q0(t,[yt],n,!0),jc(),r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){t=EA(e,t,r,n);break e}else if(r!==i){i=dr(Error(z(424)),t),Zc(i),t=EA(e,t,r,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Fe=vr(e.firstChild),tn=t,xe=!0,qa=null,hr=!0,n=cP(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(so(),r===i){t=Gi(e,t,n);break e}Wt(e,t,r,n)}t=t.child}return t;case 26:return Wh(e,t),e===null?(n=qA(t.type,null,t.pendingProps,null))?t.memoizedState=n:xe||(n=t.type,e=t.pendingProps,r=Fm(Fa.current).createElement(n),r[en]=t,r[Un]=e,sn(r,n,e),zt(r),t.stateNode=r):t.memoizedState=qA(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return L0(t),e===null&&xe&&(r=t.stateNode=Hj(t.type,t.pendingProps,Fa.current),tn=t,hr=!0,i=Fe,ws(t.type)?(Eb=i,Fe=vr(r.firstChild)):Fe=i),Wt(e,t,t.pendingProps.children,n),Wh(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&xe&&((i=r=Fe)&&(r=Wz(r,t.type,t.pendingProps,hr),r!==null?(t.stateNode=r,tn=t,Fe=vr(r.firstChild),hr=!1,i=!0):i=!1),i||ls(t)),L0(t),i=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,r=a.children,bb(i,a)?r=null:s!==null&&bb(i,s)&&(t.flags|=32),t.memoizedState!==null&&(i=S_(e,t,cz,null,null,n),af._currentValue=i),Wh(e,t),Wt(e,t,r,n),t.child;case 6:return e===null&&xe&&((e=n=Fe)&&(n=Xz(n,t.pendingProps,hr),n!==null?(t.stateNode=n,tn=t,Fe=null,e=!0):e=!1),e||ls(t)),null;case 13:return JP(e,t,n);case 4:return _m(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=lo(t,null,r,n):Wt(e,t,r,n),t.child;case 11:return yA(e,t,t.type,t.pendingProps,n);case 7:return Wt(e,t,t.pendingProps,n),t.child;case 8:return Wt(e,t,t.pendingProps.children,n),t.child;case 12:return Wt(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Ca(t,t.type,r.value),Wt(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,oo(t),i=rn(i),r=r(i),t.flags|=1,Wt(e,t,r,n),t.child;case 14:return vA(e,t,t.type,t.pendingProps,n);case 15:return QP(e,t,t.type,t.pendingProps,n);case 19:return ej(e,t,n);case 31:return vz(e,t,n);case 22:return ZP(e,t,n,t.pendingProps);case 24:return oo(t),r=rn(yt),e===null?(i=b_(),i===null&&(i=Me,a=v_(),i.pooledCache=a,a.refCount++,a!==null&&(i.pooledCacheLanes|=n),i=a),t.memoizedState={parent:r,cache:i},__(t),Ca(t,yt,i)):(e.lanes&n&&(J0(e,t),Rc(t,null,null,n),jc()),i=e.memoizedState,a=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),Ca(t,yt,r)):(r=a.cache,Ca(t,yt,r),r!==i.cache&&Q0(t,[yt],n,!0))),Wt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(z(156,t.tag))}function wi(e){e.flags|=4}function Pv(e,t,n,r,i){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(Aj())e.flags|=8192;else throw Js=Om,x_}else e.flags&=-16777217}function AA(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!Yj(t))if(Aj())e.flags|=8192;else throw Js=Om,x_}function fh(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?TI():536870912,e.lanes|=t,Ml|=t)}function Ju(e,t){if(!xe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Be(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function xz(e,t,n){var r=t.pendingProps;switch(y_(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(t),null;case 1:return Be(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Vi(yt),Il(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Uo(t)?wi(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,wv())),Be(t),null;case 26:var i=t.type,a=t.memoizedState;return e===null?(wi(t),a!==null?(Be(t),AA(t,a)):(Be(t),Pv(t,i,null,r,n))):a?a!==e.memoizedState?(wi(t),Be(t),AA(t,a)):(Be(t),t.flags&=-16777217):(e=e.memoizedProps,e!==r&&wi(t),Be(t),Pv(t,i,e,r,n)),null;case 27:if(wm(t),n=Fa.current,i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&wi(t);else{if(!r){if(t.stateNode===null)throw Error(z(166));return Be(t),null}e=ni.current,Uo(t)?eA(t):(e=Hj(i,r,n),t.stateNode=e,wi(t))}return Be(t),null;case 5:if(wm(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&wi(t);else{if(!r){if(t.stateNode===null)throw Error(z(166));return Be(t),null}if(a=ni.current,Uo(t))eA(t);else{var s=Fm(Fa.current);switch(a){case 1:a=s.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:a=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":a=s.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":a=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":a=s.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof r.is=="string"?s.createElement("select",{is:r.is}):s.createElement("select"),r.multiple?a.multiple=!0:r.size&&(a.size=r.size);break;default:a=typeof r.is=="string"?s.createElement(i,{is:r.is}):s.createElement(i)}}a[en]=t,a[Un]=r;e:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)a.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=a;e:switch(sn(a,i,r),i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&wi(t)}}return Be(t),Pv(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&wi(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(z(166));if(e=Fa.current,Uo(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,i=tn,i!==null)switch(i.tag){case 27:case 5:r=i.memoizedProps}e[en]=t,e=!!(e.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||Bj(e.nodeValue,n)),e||ls(t,!0)}else e=Fm(e).createTextNode(r),e[en]=t,t.stateNode=e}return Be(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(r=Uo(t),n!==null){if(e===null){if(!r)throw Error(z(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(z(557));e[en]=t}else so(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Be(t),e=!1}else n=wv(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Hn(t),t):(Hn(t),null);if(t.flags&128)throw Error(z(558))}return Be(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=Uo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(z(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(z(317));i[en]=t}else so(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Be(t),i=!1}else i=wv(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(Hn(t),t):(Hn(t),null)}return Hn(t),t.flags&128?(t.lanes=n,t):(n=r!==null,e=e!==null&&e.memoizedState!==null,n&&(r=t.child,i=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(i=r.alternate.memoizedState.cachePool.pool),a=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),a!==i&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),fh(t,t.updateQueue),Be(t),null);case 4:return Il(),e===null&&q_(t.stateNode.containerInfo),Be(t),null;case 10:return Vi(t.type),Be(t),null;case 19:if(Bt(ut),r=t.memoizedState,r===null)return Be(t),null;if(i=(t.flags&128)!==0,a=r.rendering,a===null)if(i)Ju(r,!1);else{if(at!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Pm(e),a!==null){for(t.flags|=128,Ju(r,!1),e=a.updateQueue,t.updateQueue=e,fh(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)nP(n,e),n=n.sibling;return Ve(ut,ut.current&1|2),xe&&Ti(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&Qn()>Lm&&(t.flags|=128,i=!0,Ju(r,!1),t.lanes=4194304)}else{if(!i)if(e=Pm(a),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,fh(t,e),Ju(r,!0),r.tail===null&&r.tailMode==="hidden"&&!a.alternate&&!xe)return Be(t),null}else 2*Qn()-r.renderingStartTime>Lm&&n!==536870912&&(t.flags|=128,i=!0,Ju(r,!1),t.lanes=4194304);r.isBackwards?(a.sibling=t.child,t.child=a):(e=r.last,e!==null?e.sibling=a:t.child=a,r.last=a)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Qn(),e.sibling=null,n=ut.current,Ve(ut,i?n&1|2:n&1),xe&&Ti(t,r.treeForkCount),e):(Be(t),null);case 22:case 23:return Hn(t),w_(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?n&536870912&&!(t.flags&128)&&(Be(t),t.subtreeFlags&6&&(t.flags|=8192)):Be(t),n=t.updateQueue,n!==null&&fh(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&Bt(Zs),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Vi(yt),Be(t),null;case 25:return null;case 30:return null}throw Error(z(156,t.tag))}function _z(e,t){switch(y_(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Vi(yt),Il(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return wm(t),null;case 31:if(t.memoizedState!==null){if(Hn(t),t.alternate===null)throw Error(z(340));so()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Hn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(z(340));so()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Bt(ut),null;case 4:return Il(),null;case 10:return Vi(t.type),null;case 22:case 23:return Hn(t),w_(),e!==null&&Bt(Zs),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Vi(yt),null;case 25:return null;default:return null}}function nj(e,t){switch(y_(t),t.tag){case 3:Vi(yt),Il();break;case 26:case 27:case 5:wm(t);break;case 4:Il();break;case 31:t.memoizedState!==null&&Hn(t);break;case 13:Hn(t);break;case 19:Bt(ut);break;case 10:Vi(t.type);break;case 22:case 23:Hn(t),w_(),e!==null&&Bt(Zs);break;case 24:Vi(yt)}}function Wf(e,t){try{var n=t.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,s=n.inst;r=a(),s.destroy=r}n=n.next}while(n!==i)}}catch(o){Ie(t,t.return,o)}}function us(e,t,n){try{var r=t.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var a=i.next;r=a;do{if((r.tag&e)===e){var s=r.inst,o=s.destroy;if(o!==void 0){s.destroy=void 0,i=t;var l=n,u=o;try{u()}catch(c){Ie(i,l,c)}}}r=r.next}while(r!==a)}}catch(c){Ie(t,t.return,c)}}function rj(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{dP(t,n)}catch(r){Ie(e,e.return,r)}}}function ij(e,t,n){n.props=co(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){Ie(e,t,r)}}function kc(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n=="function"?e.refCleanup=n(r):n.current=r}}catch(i){Ie(e,t,i)}}function Jr(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(i){Ie(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){Ie(e,t,i)}else n.current=null}function aj(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){Ie(e,e.return,i)}}function jv(e,t,n){try{var r=e.stateNode;Fz(r,e.type,n,t),r[Un]=t}catch(i){Ie(e,e.return,i)}}function sj(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ws(e.type)||e.tag===4}function Rv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||sj(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ws(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function cb(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Pi));else if(r!==4&&(r===27&&ws(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(cb(e,t,n),e=e.sibling;e!==null;)cb(e,t,n),e=e.sibling}function Mm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&ws(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Mm(e,t,n),e=e.sibling;e!==null;)Mm(e,t,n),e=e.sibling}function oj(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);sn(t,r,n),t[en]=e,t[Un]=n}catch(a){Ie(e,e.return,a)}}var Ni=!1,gt=!1,Dv=!1,TA=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function wz(e,t){if(e=e.containerInfo,yb=Km,e=YI(e),d_(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,u=0,c=0,f=e,h=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(o=s+i),f!==a||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++u===i&&(o=s),h===a&&++c===r&&(l=s),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(vb={focusedElem:e,selectionRange:n},Km=!1,Ut=t;Ut!==null;)if(t=Ut,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ut=e;else for(;Ut!==null;){switch(t=Ut,a=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)i=e[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&a!==null){e=void 0,n=t,i=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var g=co(n.type,i);e=r.getSnapshotBeforeUpdate(g,a),r.__reactInternalSnapshotBeforeUpdate=e}catch(_){Ie(n,n.return,_)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)xb(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":xb(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(z(163))}if(e=t.sibling,e!==null){e.return=t.return,Ut=e;break}Ut=t.return}}function lj(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Si(e,n),r&4&&Wf(5,n);break;case 1:if(Si(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(s){Ie(n,n.return,s)}else{var i=co(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){Ie(n,n.return,s)}}r&64&&rj(n),r&512&&kc(n,n.return);break;case 3:if(Si(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{dP(e,t)}catch(s){Ie(n,n.return,s)}}break;case 27:t===null&&r&4&&oj(n);case 26:case 5:Si(e,n),t===null&&r&4&&aj(n),r&512&&kc(n,n.return);break;case 12:Si(e,n);break;case 31:Si(e,n),r&4&&fj(e,n);break;case 13:Si(e,n),r&4&&dj(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Pz.bind(null,n),Qz(e,n))));break;case 22:if(r=n.memoizedState!==null||Ni,!r){t=t!==null&&t.memoizedState!==null||gt,i=Ni;var a=gt;Ni=r,(gt=t)&&!a?Ai(e,n,(n.subtreeFlags&8772)!==0):Si(e,n),Ni=i,gt=a}break;case 30:break;default:Si(e,n)}}function uj(e){var t=e.alternate;t!==null&&(e.alternate=null,uj(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&s_(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var We=null,Pn=!1;function Ei(e,t,n){for(n=n.child;n!==null;)cj(e,t,n),n=n.sibling}function cj(e,t,n){if(Zn&&typeof Zn.onCommitFiberUnmount=="function")try{Zn.onCommitFiberUnmount($f,n)}catch{}switch(n.tag){case 26:gt||Jr(n,t),Ei(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:gt||Jr(n,t);var r=We,i=Pn;ws(n.type)&&(We=n.stateNode,Pn=!1),Ei(e,t,n),Uc(n.stateNode),We=r,Pn=i;break;case 5:gt||Jr(n,t);case 6:if(r=We,i=Pn,We=null,Ei(e,t,n),We=r,Pn=i,We!==null)if(Pn)try{(We.nodeType===9?We.body:We.nodeName==="HTML"?We.ownerDocument.body:We).removeChild(n.stateNode)}catch(a){Ie(n,t,a)}else try{We.removeChild(n.stateNode)}catch(a){Ie(n,t,a)}break;case 18:We!==null&&(Pn?(e=We,UA(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),zl(e)):UA(We,n.stateNode));break;case 4:r=We,i=Pn,We=n.stateNode.containerInfo,Pn=!0,Ei(e,t,n),We=r,Pn=i;break;case 0:case 11:case 14:case 15:us(2,n,t),gt||us(4,n,t),Ei(e,t,n);break;case 1:gt||(Jr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"&&ij(n,t,r)),Ei(e,t,n);break;case 21:Ei(e,t,n);break;case 22:gt=(r=gt)||n.memoizedState!==null,Ei(e,t,n),gt=r;break;default:Ei(e,t,n)}}function fj(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{zl(e)}catch(n){Ie(t,t.return,n)}}}function dj(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{zl(e)}catch(n){Ie(t,t.return,n)}}function Ez(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new TA),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new TA),t;default:throw Error(z(435,e.tag))}}function dh(e,t){var n=Ez(e);t.forEach(function(r){if(!n.has(r)){n.add(r);var i=jz.bind(null,e,r);r.then(i,i)}})}function On(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r],a=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 27:if(ws(o.type)){We=o.stateNode,Pn=!1;break e}break;case 5:We=o.stateNode,Pn=!1;break e;case 3:case 4:We=o.stateNode.containerInfo,Pn=!0;break e}o=o.return}if(We===null)throw Error(z(160));cj(a,s,i),We=null,Pn=!1,a=i.alternate,a!==null&&(a.return=null),i.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)hj(t,e),t=t.sibling}var Nr=null;function hj(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:On(t,e),In(e),r&4&&(us(3,e,e.return),Wf(3,e),us(5,e,e.return));break;case 1:On(t,e),In(e),r&512&&(gt||n===null||Jr(n,n.return)),r&64&&Ni&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var i=Nr;if(On(t,e),In(e),r&512&&(gt||n===null||Jr(n,n.return)),r&4){var a=n!==null?n.memoizedState:null;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":a=i.getElementsByTagName("title")[0],(!a||a[Hf]||a[en]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=i.createElement(r),i.head.insertBefore(a,i.querySelector("head > title"))),sn(a,r,n),a[en]=e,zt(a),r=a;break e;case"link":var s=GA("link","href",i).get(r+(n.href||""));if(s){for(var o=0;o<s.length;o++)if(a=s[o],a.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(o,1);break t}}a=i.createElement(r),sn(a,r,n),i.head.appendChild(a);break;case"meta":if(s=GA("meta","content",i).get(r+(n.content||""))){for(o=0;o<s.length;o++)if(a=s[o],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(o,1);break t}}a=i.createElement(r),sn(a,r,n),i.head.appendChild(a);break;default:throw Error(z(468,r))}a[en]=e,zt(a),r=a}e.stateNode=r}else KA(i,e.type,e.stateNode);else e.stateNode=HA(i,r,e.memoizedProps);else a!==r?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,r===null?KA(i,e.type,e.stateNode):HA(i,r,e.memoizedProps)):r===null&&e.stateNode!==null&&jv(e,e.memoizedProps,n.memoizedProps)}break;case 27:On(t,e),In(e),r&512&&(gt||n===null||Jr(n,n.return)),n!==null&&r&4&&jv(e,e.memoizedProps,n.memoizedProps);break;case 5:if(On(t,e),In(e),r&512&&(gt||n===null||Jr(n,n.return)),e.flags&32){i=e.stateNode;try{jl(i,"")}catch(g){Ie(e,e.return,g)}}r&4&&e.stateNode!=null&&(i=e.memoizedProps,jv(e,i,n!==null?n.memoizedProps:i)),r&1024&&(Dv=!0);break;case 6:if(On(t,e),In(e),r&4){if(e.stateNode===null)throw Error(z(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(g){Ie(e,e.return,g)}}break;case 3:if(Zh=null,i=Nr,Nr=qm(t.containerInfo),On(t,e),Nr=i,In(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{zl(t.containerInfo)}catch(g){Ie(e,e.return,g)}Dv&&(Dv=!1,mj(e));break;case 4:r=Nr,Nr=qm(e.stateNode.containerInfo),On(t,e),In(e),Nr=r;break;case 12:On(t,e),In(e);break;case 31:On(t,e),In(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,dh(e,r)));break;case 13:On(t,e),In(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(yg=Qn()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,dh(e,r)));break;case 22:i=e.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,u=Ni,c=gt;if(Ni=u||i,gt=c||l,On(t,e),gt=c,Ni=u,In(e),r&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(n===null||l||Ni||gt||zs(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){l=n=t;try{if(a=l.stateNode,i)s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{o=l.stateNode;var f=l.memoizedProps.style,h=f!=null&&f.hasOwnProperty("display")?f.display:null;o.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(g){Ie(l,l.return,g)}}}else if(t.tag===6){if(n===null){l=t;try{l.stateNode.nodeValue=i?"":l.memoizedProps}catch(g){Ie(l,l.return,g)}}}else if(t.tag===18){if(n===null){l=t;try{var p=l.stateNode;i?zA(p,!0):zA(l.stateNode,!1)}catch(g){Ie(l,l.return,g)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,dh(e,n))));break;case 19:On(t,e),In(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,dh(e,r)));break;case 30:break;case 21:break;default:On(t,e),In(e)}}function In(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if(sj(r)){n=r;break}r=r.return}if(n==null)throw Error(z(160));switch(n.tag){case 27:var i=n.stateNode,a=Rv(e);Mm(e,a,i);break;case 5:var s=n.stateNode;n.flags&32&&(jl(s,""),n.flags&=-33);var o=Rv(e);Mm(e,o,s);break;case 3:case 4:var l=n.stateNode.containerInfo,u=Rv(e);cb(e,u,l);break;default:throw Error(z(161))}}catch(c){Ie(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function mj(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;mj(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Si(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)lj(e,t.alternate,t),t=t.sibling}function zs(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:us(4,t,t.return),zs(t);break;case 1:Jr(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&ij(t,t.return,n),zs(t);break;case 27:Uc(t.stateNode);case 26:case 5:Jr(t,t.return),zs(t);break;case 22:t.memoizedState===null&&zs(t);break;case 30:zs(t);break;default:zs(t)}e=e.sibling}}function Ai(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,i=e,a=t,s=a.flags;switch(a.tag){case 0:case 11:case 15:Ai(i,a,n),Wf(4,a);break;case 1:if(Ai(i,a,n),r=a,i=r.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(u){Ie(r,r.return,u)}if(r=a,i=r.updateQueue,i!==null){var o=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(l!==null)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)fP(l[i],o)}catch(u){Ie(r,r.return,u)}}n&&s&64&&rj(a),kc(a,a.return);break;case 27:oj(a);case 26:case 5:Ai(i,a,n),n&&r===null&&s&4&&aj(a),kc(a,a.return);break;case 12:Ai(i,a,n);break;case 31:Ai(i,a,n),n&&s&4&&fj(i,a);break;case 13:Ai(i,a,n),n&&s&4&&dj(i,a);break;case 22:a.memoizedState===null&&Ai(i,a,n),kc(a,a.return);break;case 30:break;default:Ai(i,a,n)}t=t.sibling}}function V_(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Kf(n))}function U_(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Kf(e))}function Cr(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)pj(e,t,n,r),t=t.sibling}function pj(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Cr(e,t,n,r),i&2048&&Wf(9,t);break;case 1:Cr(e,t,n,r);break;case 3:Cr(e,t,n,r),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Kf(e)));break;case 12:if(i&2048){Cr(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,s=a.id,o=a.onPostCommit;typeof o=="function"&&o(s,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(l){Ie(t,t.return,l)}}else Cr(e,t,n,r);break;case 31:Cr(e,t,n,r);break;case 13:Cr(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,s=t.alternate,t.memoizedState!==null?a._visibility&2?Cr(e,t,n,r):Mc(e,t):a._visibility&2?Cr(e,t,n,r):(a._visibility|=2,Go(e,t,n,r,(t.subtreeFlags&10256)!==0||!1)),i&2048&&V_(s,t);break;case 24:Cr(e,t,n,r),i&2048&&U_(t.alternate,t);break;default:Cr(e,t,n,r)}}function Go(e,t,n,r,i){for(i=i&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var a=e,s=t,o=n,l=r,u=s.flags;switch(s.tag){case 0:case 11:case 15:Go(a,s,o,l,i),Wf(8,s);break;case 23:break;case 22:var c=s.stateNode;s.memoizedState!==null?c._visibility&2?Go(a,s,o,l,i):Mc(a,s):(c._visibility|=2,Go(a,s,o,l,i)),i&&u&2048&&V_(s.alternate,s);break;case 24:Go(a,s,o,l,i),i&&u&2048&&U_(s.alternate,s);break;default:Go(a,s,o,l,i)}t=t.sibling}}function Mc(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Mc(n,r),i&2048&&V_(r.alternate,r);break;case 24:Mc(n,r),i&2048&&U_(r.alternate,r);break;default:Mc(n,r)}t=t.sibling}}var gc=8192;function zo(e,t,n){if(e.subtreeFlags&gc)for(e=e.child;e!==null;)gj(e,t,n),e=e.sibling}function gj(e,t,n){switch(e.tag){case 26:zo(e,t,n),e.flags&gc&&e.memoizedState!==null&&u9(n,Nr,e.memoizedState,e.memoizedProps);break;case 5:zo(e,t,n);break;case 3:case 4:var r=Nr;Nr=qm(e.stateNode.containerInfo),zo(e,t,n),Nr=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=gc,gc=16777216,zo(e,t,n),gc=r):zo(e,t,n));break;default:zo(e,t,n)}}function yj(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ec(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];Ut=r,bj(r,e)}yj(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)vj(e),e=e.sibling}function vj(e){switch(e.tag){case 0:case 11:case 15:ec(e),e.flags&2048&&us(9,e,e.return);break;case 3:ec(e);break;case 12:ec(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Xh(e)):ec(e);break;default:ec(e)}}function Xh(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];Ut=r,bj(r,e)}yj(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:us(8,t,t.return),Xh(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Xh(t));break;default:Xh(t)}e=e.sibling}}function bj(e,t){for(;Ut!==null;){var n=Ut;switch(n.tag){case 0:case 11:case 15:us(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Kf(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,Ut=r;else e:for(n=e;Ut!==null;){r=Ut;var i=r.sibling,a=r.return;if(uj(r),r===n){Ut=null;break e}if(i!==null){i.return=a,Ut=i;break e}Ut=a}}}var Sz={getCacheForType:function(e){var t=rn(yt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return rn(yt).controller.signal}},Az=typeof WeakMap=="function"?WeakMap:Map,Se=0,Me=null,me=null,ve=0,Ne=0,qn=null,Va=!1,ou=!1,z_=!1,Ki=0,at=0,cs=0,eo=0,B_=0,Yn=0,Ml=0,Lc=null,jn=null,fb=!1,yg=0,xj=0,Lm=1/0,Vm=null,Ka=null,Tt=0,Ya=null,Ll=null,Ui=0,db=0,hb=null,_j=null,Vc=0,mb=null;function er(){return Se&2&&ve!==0?ve&-ve:ie.T!==null?F_():II()}function wj(){if(Yn===0)if(!(ve&536870912)||xe){var e=ih;ih<<=1,!(ih&3932160)&&(ih=262144),Yn=e}else Yn=536870912;return e=rr.current,e!==null&&(e.flags|=32),Yn}function Ln(e,t,n){(e===Me&&(Ne===2||Ne===9)||e.cancelPendingCommit!==null)&&(Vl(e,0),Ua(e,ve,Yn,!1)),qf(e,n),(!(Se&2)||e!==Me)&&(e===Me&&(!(Se&2)&&(eo|=n),at===4&&Ua(e,ve,Yn,!1)),yi(e))}function Ej(e,t,n){if(Se&6)throw Error(z(327));var r=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Ff(e,t),i=r?Nz(e,t):kv(e,t,!0),a=r;do{if(i===0){ou&&!r&&Ua(e,t,0,!1);break}else{if(n=e.current.alternate,a&&!Tz(n)){i=kv(e,t,!1),a=!1;continue}if(i===2){if(a=t,e.errorRecoveryDisabledLanes&a)var s=0;else s=e.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){t=s;e:{var o=e;i=Lc;var l=o.current.memoizedState.isDehydrated;if(l&&(Vl(o,s).flags|=256),s=kv(o,s,!1),s!==2){if(z_&&!l){o.errorRecoveryDisabledLanes|=a,eo|=a,i=4;break e}a=jn,jn=i,a!==null&&(jn===null?jn=a:jn.push.apply(jn,a))}i=s}if(a=!1,i!==2)continue}}if(i===1){Vl(e,0),Ua(e,t,0,!0);break}e:{switch(r=e,a=i,a){case 0:case 1:throw Error(z(345));case 4:if((t&4194048)!==t)break;case 6:Ua(r,t,Yn,!Va);break e;case 2:jn=null;break;case 3:case 5:break;default:throw Error(z(329))}if((t&62914560)===t&&(i=yg+300-Qn(),10<i)){if(Ua(r,t,Yn,!Va),sg(r,0,!0)!==0)break e;Ui=t,r.timeoutHandle=Fj(CA.bind(null,r,n,jn,Vm,fb,t,Yn,eo,Ml,Va,a,"Throttled",-0,0),i);break e}CA(r,n,jn,Vm,fb,t,Yn,eo,Ml,Va,a,null,-0,0)}}break}while(!0);yi(e)}function CA(e,t,n,r,i,a,s,o,l,u,c,f,h,p){if(e.timeoutHandle=-1,f=t.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Pi},gj(t,a,f);var g=(a&62914560)===a?yg-Qn():(a&4194048)===a?xj-Qn():0;if(g=c9(f,g),g!==null){Ui=a,e.cancelPendingCommit=g(OA.bind(null,e,t,a,n,r,i,s,o,l,c,f,null,h,p)),Ua(e,a,s,!u);return}}OA(e,t,a,n,r,i,s,o,l)}function Tz(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!nr(a(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ua(e,t,n,r){t&=~B_,t&=~eo,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-Jn(i),s=1<<a;r[a]=-1,i&=~s}n!==0&&CI(e,n,t)}function vg(){return Se&6?!0:(Xf(0),!1)}function $_(){if(me!==null){if(Ne===0)var e=me.return;else e=me,ji=Oo=null,C_(e),bl=null,Jc=0,e=me;for(;e!==null;)nj(e.alternate,e),e=e.return;me=null}}function Vl(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Gz(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Ui=0,$_(),Me=e,me=n=Li(e.current,null),ve=t,Ne=0,qn=null,Va=!1,ou=Ff(e,t),z_=!1,Ml=Yn=B_=eo=cs=at=0,jn=Lc=null,fb=!1,t&8&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var i=31-Jn(r),a=1<<i;t|=e[i],r&=~a}return Ki=t,cg(),n}function Sj(e,t){ce=null,ie.H=tf,t===su||t===dg?(t=aA(),Ne=3):t===x_?(t=aA(),Ne=4):Ne=t===M_?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,qn=t,me===null&&(at=1,Dm(e,dr(t,e.current)))}function Aj(){var e=rr.current;return e===null?!0:(ve&4194048)===ve?yr===null:(ve&62914560)===ve||ve&536870912?e===yr:!1}function Tj(){var e=ie.H;return ie.H=tf,e===null?tf:e}function Cj(){var e=ie.A;return ie.A=Sz,e}function Um(){at=4,Va||(ve&4194048)!==ve&&rr.current!==null||(ou=!0),!(cs&134217727)&&!(eo&134217727)||Me===null||Ua(Me,ve,Yn,!1)}function kv(e,t,n){var r=Se;Se|=2;var i=Tj(),a=Cj();(Me!==e||ve!==t)&&(Vm=null,Vl(e,t)),t=!1;var s=at;e:do try{if(Ne!==0&&me!==null){var o=me,l=qn;switch(Ne){case 8:$_(),s=6;break e;case 3:case 2:case 9:case 6:rr.current===null&&(t=!0);var u=Ne;if(Ne=0,qn=null,cl(e,o,l,u),n&&ou){s=0;break e}break;default:u=Ne,Ne=0,qn=null,cl(e,o,l,u)}}Cz(),s=at;break}catch(c){Sj(e,c)}while(!0);return t&&e.shellSuspendCounter++,ji=Oo=null,Se=r,ie.H=i,ie.A=a,me===null&&(Me=null,ve=0,cg()),s}function Cz(){for(;me!==null;)Nj(me)}function Nz(e,t){var n=Se;Se|=2;var r=Tj(),i=Cj();Me!==e||ve!==t?(Vm=null,Lm=Qn()+500,Vl(e,t)):ou=Ff(e,t);e:do try{if(Ne!==0&&me!==null){t=me;var a=qn;t:switch(Ne){case 1:Ne=0,qn=null,cl(e,t,a,1);break;case 2:case 9:if(iA(a)){Ne=0,qn=null,NA(t);break}t=function(){Ne!==2&&Ne!==9||Me!==e||(Ne=7),yi(e)},a.then(t,t);break e;case 3:Ne=7;break e;case 4:Ne=5;break e;case 7:iA(a)?(Ne=0,qn=null,NA(t)):(Ne=0,qn=null,cl(e,t,a,7));break;case 5:var s=null;switch(me.tag){case 26:s=me.memoizedState;case 5:case 27:var o=me;if(s?Yj(s):o.stateNode.complete){Ne=0,qn=null;var l=o.sibling;if(l!==null)me=l;else{var u=o.return;u!==null?(me=u,bg(u)):me=null}break t}}Ne=0,qn=null,cl(e,t,a,5);break;case 6:Ne=0,qn=null,cl(e,t,a,6);break;case 8:$_(),at=6;break e;default:throw Error(z(462))}}Oz();break}catch(c){Sj(e,c)}while(!0);return ji=Oo=null,ie.H=r,ie.A=i,Se=n,me!==null?0:(Me=null,ve=0,cg(),at)}function Oz(){for(;me!==null&&!ZV();)Nj(me)}function Nj(e){var t=tj(e.alternate,e,Ki);e.memoizedProps=e.pendingProps,t===null?bg(e):me=t}function NA(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=_A(n,t,t.pendingProps,t.type,void 0,ve);break;case 11:t=_A(n,t,t.pendingProps,t.type.render,t.ref,ve);break;case 5:C_(t);default:nj(n,t),t=me=nP(t,Ki),t=tj(n,t,Ki)}e.memoizedProps=e.pendingProps,t===null?bg(e):me=t}function cl(e,t,n,r){ji=Oo=null,C_(t),bl=null,Jc=0;var i=t.return;try{if(yz(e,i,t,n,ve)){at=1,Dm(e,dr(n,e.current)),me=null;return}}catch(a){if(i!==null)throw me=i,a;at=1,Dm(e,dr(n,e.current)),me=null;return}t.flags&32768?(xe||r===1?e=!0:ou||ve&536870912?e=!1:(Va=e=!0,(r===2||r===9||r===3||r===6)&&(r=rr.current,r!==null&&r.tag===13&&(r.flags|=16384))),Oj(t,e)):bg(t)}function bg(e){var t=e;do{if(t.flags&32768){Oj(t,Va);return}e=t.return;var n=xz(t.alternate,t,Ki);if(n!==null){me=n;return}if(t=t.sibling,t!==null){me=t;return}me=t=e}while(t!==null);at===0&&(at=5)}function Oj(e,t){do{var n=_z(e.alternate,e);if(n!==null){n.flags&=32767,me=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){me=e;return}me=e=n}while(e!==null);at=6,me=null}function OA(e,t,n,r,i,a,s,o,l){e.cancelPendingCommit=null;do xg();while(Tt!==0);if(Se&6)throw Error(z(327));if(t!==null){if(t===e.current)throw Error(z(177));if(a=t.lanes|t.childLanes,a|=h_,lU(e,n,a,s,o,l),e===Me&&(me=Me=null,ve=0),Ll=t,Ya=e,Ui=n,db=a,hb=i,_j=r,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,Rz(Em,function(){return Dj(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,t.subtreeFlags&13878||r){r=ie.T,ie.T=null,i=Ae.p,Ae.p=2,s=Se,Se|=4;try{wz(e,t,n)}finally{Se=s,Ae.p=i,ie.T=r}}Tt=1,Ij(),Pj(),jj()}}function Ij(){if(Tt===1){Tt=0;var e=Ya,t=Ll,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=ie.T,ie.T=null;var r=Ae.p;Ae.p=2;var i=Se;Se|=4;try{hj(t,e);var a=vb,s=YI(e.containerInfo),o=a.focusedElem,l=a.selectionRange;if(s!==o&&o&&o.ownerDocument&&KI(o.ownerDocument.documentElement,o)){if(l!==null&&d_(o)){var u=l.start,c=l.end;if(c===void 0&&(c=u),"selectionStart"in o)o.selectionStart=u,o.selectionEnd=Math.min(c,o.value.length);else{var f=o.ownerDocument||document,h=f&&f.defaultView||window;if(h.getSelection){var p=h.getSelection(),g=o.textContent.length,_=Math.min(l.start,g),b=l.end===void 0?_:Math.min(l.end,g);!p.extend&&_>b&&(s=b,b=_,_=s);var w=QS(o,_),x=QS(o,b);if(w&&x&&(p.rangeCount!==1||p.anchorNode!==w.node||p.anchorOffset!==w.offset||p.focusNode!==x.node||p.focusOffset!==x.offset)){var E=f.createRange();E.setStart(w.node,w.offset),p.removeAllRanges(),_>b?(p.addRange(E),p.extend(x.node,x.offset)):(E.setEnd(x.node,x.offset),p.addRange(E))}}}}for(f=[],p=o;p=p.parentNode;)p.nodeType===1&&f.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<f.length;o++){var T=f[o];T.element.scrollLeft=T.left,T.element.scrollTop=T.top}}Km=!!yb,vb=yb=null}finally{Se=i,Ae.p=r,ie.T=n}}e.current=t,Tt=2}}function Pj(){if(Tt===2){Tt=0;var e=Ya,t=Ll,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=ie.T,ie.T=null;var r=Ae.p;Ae.p=2;var i=Se;Se|=4;try{lj(e,t.alternate,t)}finally{Se=i,Ae.p=r,ie.T=n}}Tt=3}}function jj(){if(Tt===4||Tt===3){Tt=0,JV();var e=Ya,t=Ll,n=Ui,r=_j;t.subtreeFlags&10256||t.flags&10256?Tt=5:(Tt=0,Ll=Ya=null,Rj(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(Ka=null),a_(n),t=t.stateNode,Zn&&typeof Zn.onCommitFiberRoot=="function")try{Zn.onCommitFiberRoot($f,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=ie.T,i=Ae.p,Ae.p=2,ie.T=null;try{for(var a=e.onRecoverableError,s=0;s<r.length;s++){var o=r[s];a(o.value,{componentStack:o.stack})}}finally{ie.T=t,Ae.p=i}}Ui&3&&xg(),yi(e),i=e.pendingLanes,n&261930&&i&42?e===mb?Vc++:(Vc=0,mb=e):Vc=0,Xf(0)}}function Rj(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Kf(t)))}function xg(){return Ij(),Pj(),jj(),Dj()}function Dj(){if(Tt!==5)return!1;var e=Ya,t=db;db=0;var n=a_(Ui),r=ie.T,i=Ae.p;try{Ae.p=32>n?32:n,ie.T=null,n=hb,hb=null;var a=Ya,s=Ui;if(Tt=0,Ll=Ya=null,Ui=0,Se&6)throw Error(z(331));var o=Se;if(Se|=4,vj(a.current),pj(a,a.current,s,n),Se=o,Xf(0,!1),Zn&&typeof Zn.onPostCommitFiberRoot=="function")try{Zn.onPostCommitFiberRoot($f,a)}catch{}return!0}finally{Ae.p=i,ie.T=r,Rj(e,t)}}function IA(e,t,n){t=dr(n,t),t=ob(e.stateNode,t,2),e=Ga(e,t,2),e!==null&&(qf(e,2),yi(e))}function Ie(e,t,n){if(e.tag===3)IA(e,e,n);else for(;t!==null;){if(t.tag===3){IA(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ka===null||!Ka.has(r))){e=dr(n,e),n=WP(2),r=Ga(t,n,2),r!==null&&(XP(n,r,t,e),qf(r,2),yi(r));break}}t=t.return}}function Mv(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Az;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(z_=!0,i.add(n),e=Iz.bind(null,e,t,n),t.then(e,e))}function Iz(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Me===e&&(ve&n)===n&&(at===4||at===3&&(ve&62914560)===ve&&300>Qn()-yg?!(Se&2)&&Vl(e,0):B_|=n,Ml===ve&&(Ml=0)),yi(e)}function kj(e,t){t===0&&(t=TI()),e=No(e,t),e!==null&&(qf(e,t),yi(e))}function Pz(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),kj(e,n)}function jz(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(z(314))}r!==null&&r.delete(t),kj(e,n)}function Rz(e,t){return r_(e,t)}var zm=null,Ko=null,pb=!1,Bm=!1,Lv=!1,za=0;function yi(e){e!==Ko&&e.next===null&&(Ko===null?zm=Ko=e:Ko=Ko.next=e),Bm=!0,pb||(pb=!0,kz())}function Xf(e,t){if(!Lv&&Bm){Lv=!0;do for(var n=!1,r=zm;r!==null;){if(e!==0){var i=r.pendingLanes;if(i===0)var a=0;else{var s=r.suspendedLanes,o=r.pingedLanes;a=(1<<31-Jn(42|e)+1)-1,a&=i&~(s&~o),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,PA(r,a))}else a=ve,a=sg(r,r===Me?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(a&3)||Ff(r,a)||(n=!0,PA(r,a));r=r.next}while(n);Lv=!1}}function Dz(){Mj()}function Mj(){Bm=pb=!1;var e=0;za!==0&&Hz()&&(e=za);for(var t=Qn(),n=null,r=zm;r!==null;){var i=r.next,a=Lj(r,t);a===0?(r.next=null,n===null?zm=i:n.next=i,i===null&&(Ko=n)):(n=r,(e!==0||a&3)&&(Bm=!0)),r=i}Tt!==0&&Tt!==5||Xf(e),za!==0&&(za=0)}function Lj(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes&-62914561;0<a;){var s=31-Jn(a),o=1<<s,l=i[s];l===-1?(!(o&n)||o&r)&&(i[s]=oU(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}if(t=Me,n=ve,n=sg(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(Ne===2||Ne===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&fv(r),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||Ff(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&fv(r),a_(n)){case 2:case 8:n=SI;break;case 32:n=Em;break;case 268435456:n=AI;break;default:n=Em}return r=Vj.bind(null,e),n=r_(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&fv(r),e.callbackPriority=2,e.callbackNode=null,2}function Vj(e,t){if(Tt!==0&&Tt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(xg()&&e.callbackNode!==n)return null;var r=ve;return r=sg(e,e===Me?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(Ej(e,r,t),Lj(e,Qn()),e.callbackNode!=null&&e.callbackNode===n?Vj.bind(null,e):null)}function PA(e,t){if(xg())return null;Ej(e,t,!0)}function kz(){Kz(function(){Se&6?r_(EI,Dz):Mj()})}function F_(){if(za===0){var e=Rl;e===0&&(e=rh,rh<<=1,!(rh&261888)&&(rh=256)),za=e}return za}function jA(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Bh(""+e)}function RA(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Mz(e,t,n,r,i){if(t==="submit"&&n&&n.stateNode===i){var a=jA((i[Un]||null).action),s=r.submitter;s&&(t=(t=s[Un]||null)?jA(t.formAction):s.getAttribute("formAction"),t!==null&&(a=t,s=null));var o=new og("action","action",null,r,i);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(za!==0){var l=s?RA(i,s):new FormData(i);ab(n,{pending:!0,data:l,method:i.method,action:a},null,l)}}else typeof a=="function"&&(o.preventDefault(),l=s?RA(i,s):new FormData(i),ab(n,{pending:!0,data:l,method:i.method,action:a},a,l))},currentTarget:i}]})}}for(var Vv=0;Vv<K0.length;Vv++){var Uv=K0[Vv],Lz=Uv.toLowerCase(),Vz=Uv[0].toUpperCase()+Uv.slice(1);Br(Lz,"on"+Vz)}Br(XI,"onAnimationEnd");Br(QI,"onAnimationIteration");Br(ZI,"onAnimationStart");Br("dblclick","onDoubleClick");Br("focusin","onFocus");Br("focusout","onBlur");Br(ez,"onTransitionRun");Br(tz,"onTransitionStart");Br(nz,"onTransitionCancel");Br(JI,"onTransitionEnd");Pl("onMouseEnter",["mouseout","mouseover"]);Pl("onMouseLeave",["mouseout","mouseover"]);Pl("onPointerEnter",["pointerout","pointerover"]);Pl("onPointerLeave",["pointerout","pointerover"]);Ao("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ao("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ao("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ao("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ao("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ao("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Uz=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nf));function Uj(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=u;try{a(i)}catch(c){Am(c)}i.currentTarget=null,a=l}else for(s=0;s<r.length;s++){if(o=r[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=u;try{a(i)}catch(c){Am(c)}i.currentTarget=null,a=l}}}}function he(e,t){var n=t[U0];n===void 0&&(n=t[U0]=new Set);var r=e+"__bubble";n.has(r)||(zj(t,e,2,!1),n.add(r))}function zv(e,t,n){var r=0;t&&(r|=4),zj(n,e,r,t)}var hh="_reactListening"+Math.random().toString(36).slice(2);function q_(e){if(!e[hh]){e[hh]=!0,PI.forEach(function(n){n!=="selectionchange"&&(Uz.has(n)||zv(n,!1,e),zv(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[hh]||(t[hh]=!0,zv("selectionchange",!1,t))}}function zj(e,t,n,r){switch(Jj(t)){case 2:var i=h9;break;case 8:i=m9;break;default:i=Y_}n=i.bind(null,t,n,e),i=void 0,!q0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Bv(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&s.stateNode.containerInfo===i)return;s=s.return}for(;o!==null;){if(s=tl(o),s===null)return;if(l=s.tag,l===5||l===6||l===26||l===27){r=a=s;continue e}o=o.parentNode}}r=r.return}UI(function(){var u=a,c=l_(n),f=[];e:{var h=eP.get(e);if(h!==void 0){var p=og,g=e;switch(e){case"keypress":if(Fh(n)===0)break e;case"keydown":case"keyup":p=jU;break;case"focusin":g="focus",p=gv;break;case"focusout":g="blur",p=gv;break;case"beforeblur":case"afterblur":p=gv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=BS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=xU;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=kU;break;case XI:case QI:case ZI:p=EU;break;case JI:p=LU;break;case"scroll":case"scrollend":p=vU;break;case"wheel":p=UU;break;case"copy":case"cut":case"paste":p=AU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=FS;break;case"toggle":case"beforetoggle":p=BU}var _=(t&4)!==0,b=!_&&(e==="scroll"||e==="scrollend"),w=_?h!==null?h+"Capture":null:h;_=[];for(var x=u,E;x!==null;){var T=x;if(E=T.stateNode,T=T.tag,T!==5&&T!==26&&T!==27||E===null||w===null||(T=Yc(x,w),T!=null&&_.push(rf(x,T,E))),b)break;x=x.return}0<_.length&&(h=new p(h,g,null,n,c),f.push({event:h,listeners:_}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==F0&&(g=n.relatedTarget||n.fromElement)&&(tl(g)||g[ru]))break e;if((p||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=u,g=g?tl(g):null,g!==null&&(b=Bf(g),_=g.tag,g!==b||_!==5&&_!==27&&_!==6)&&(g=null)):(p=null,g=u),p!==g)){if(_=BS,T="onMouseLeave",w="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(_=FS,T="onPointerLeave",w="onPointerEnter",x="pointer"),b=p==null?h:mc(p),E=g==null?h:mc(g),h=new _(T,x+"leave",p,n,c),h.target=b,h.relatedTarget=E,T=null,tl(c)===u&&(_=new _(w,x+"enter",g,n,c),_.target=E,_.relatedTarget=b,T=_),b=T,p&&g)t:{for(_=zz,w=p,x=g,E=0,T=w;T;T=_(T))E++;T=0;for(var I=x;I;I=_(I))T++;for(;0<E-T;)w=_(w),E--;for(;0<T-E;)x=_(x),T--;for(;E--;){if(w===x||x!==null&&w===x.alternate){_=w;break t}w=_(w),x=_(x)}_=null}else _=null;p!==null&&DA(f,h,p,_,!1),g!==null&&b!==null&&DA(f,b,g,_,!0)}}e:{if(h=u?mc(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var k=KS;else if(GS(h))if(HI)k=QU;else{k=WU;var A=YU}else p=h.nodeName,!p||p.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?u&&o_(u.elementType)&&(k=KS):k=XU;if(k&&(k=k(e,u))){qI(f,k,n,c);break e}A&&A(e,h,u),e==="focusout"&&u&&h.type==="number"&&u.memoizedProps.value!=null&&$0(h,"number",h.value)}switch(A=u?mc(u):window,e){case"focusin":(GS(A)||A.contentEditable==="true")&&(il=A,H0=u,Oc=null);break;case"focusout":Oc=H0=il=null;break;case"mousedown":G0=!0;break;case"contextmenu":case"mouseup":case"dragend":G0=!1,ZS(f,n,c);break;case"selectionchange":if(JU)break;case"keydown":case"keyup":ZS(f,n,c)}var C;if(f_)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else rl?$I(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(BI&&n.locale!=="ko"&&(rl||N!=="onCompositionStart"?N==="onCompositionEnd"&&rl&&(C=zI()):(La=c,u_="value"in La?La.value:La.textContent,rl=!0)),A=$m(u,N),0<A.length&&(N=new $S(N,e,null,n,c),f.push({event:N,listeners:A}),C?N.data=C:(C=FI(n),C!==null&&(N.data=C)))),(C=FU?qU(e,n):HU(e,n))&&(N=$m(u,"onBeforeInput"),0<N.length&&(A=new $S("onBeforeInput","beforeinput",null,n,c),f.push({event:A,listeners:N}),A.data=C)),Mz(f,e,u,n,c)}Uj(f,t)})}function rf(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $m(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=Yc(e,n),i!=null&&r.unshift(rf(e,i,a)),i=Yc(e,t),i!=null&&r.push(rf(e,i,a))),e.tag===3)return r;e=e.return}return[]}function zz(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function DA(e,t,n,r,i){for(var a=t._reactName,s=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(o=o.tag,l!==null&&l===r)break;o!==5&&o!==26&&o!==27||u===null||(l=u,i?(u=Yc(n,a),u!=null&&s.unshift(rf(n,u,l))):i||(u=Yc(n,a),u!=null&&s.push(rf(n,u,l)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var Bz=/\r\n?/g,$z=/\u0000|\uFFFD/g;function kA(e){return(typeof e=="string"?e:""+e).replace(Bz,`
`).replace($z,"")}function Bj(e,t){return t=kA(t),kA(e)===t}function Pe(e,t,n,r,i,a){switch(n){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||jl(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&jl(e,""+r);break;case"className":sh(e,"class",r);break;case"tabIndex":sh(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":sh(e,n,r);break;case"style":VI(e,r,a);break;case"data":if(t!=="object"){sh(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=Bh(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(t!=="input"&&Pe(e,t,"name",i.name,i,null),Pe(e,t,"formEncType",i.formEncType,i,null),Pe(e,t,"formMethod",i.formMethod,i,null),Pe(e,t,"formTarget",i.formTarget,i,null)):(Pe(e,t,"encType",i.encType,i,null),Pe(e,t,"method",i.method,i,null),Pe(e,t,"target",i.target,i,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=Bh(""+r),e.setAttribute(n,r);break;case"onClick":r!=null&&(e.onclick=Pi);break;case"onScroll":r!=null&&he("scroll",e);break;case"onScrollEnd":r!=null&&he("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(z(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(z(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}n=Bh(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":r===!0?e.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":he("beforetoggle",e),he("toggle",e),zh(e,"popover",r);break;case"xlinkActuate":_i(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":_i(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":_i(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":_i(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":_i(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":_i(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":_i(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":_i(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":_i(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":zh(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=gU.get(n)||n,zh(e,n,r))}}function gb(e,t,n,r,i,a){switch(n){case"style":VI(e,r,a);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(z(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(z(60));e.innerHTML=n}}break;case"children":typeof r=="string"?jl(e,r):(typeof r=="number"||typeof r=="bigint")&&jl(e,""+r);break;case"onScroll":r!=null&&he("scroll",e);break;case"onScrollEnd":r!=null&&he("scrollend",e);break;case"onClick":r!=null&&(e.onclick=Pi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jI.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),a=e[Un]||null,a=a!=null?a[n]:null,typeof a=="function"&&e.removeEventListener(t,a,i),typeof r=="function")){typeof a!="function"&&a!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i);break e}n in e?e[n]=r:r===!0?e.setAttribute(n,""):zh(e,n,r)}}}function sn(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":he("error",e),he("load",e);var r=!1,i=!1,a;for(a in n)if(n.hasOwnProperty(a)){var s=n[a];if(s!=null)switch(a){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(z(137,t));default:Pe(e,t,a,s,n,null)}}i&&Pe(e,t,"srcSet",n.srcSet,n,null),r&&Pe(e,t,"src",n.src,n,null);return;case"input":he("invalid",e);var o=a=s=i=null,l=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var c=n[r];if(c!=null)switch(r){case"name":i=c;break;case"type":s=c;break;case"checked":l=c;break;case"defaultChecked":u=c;break;case"value":a=c;break;case"defaultValue":o=c;break;case"children":case"dangerouslySetInnerHTML":if(c!=null)throw Error(z(137,t));break;default:Pe(e,t,r,c,n,null)}}kI(e,a,o,l,u,s,i,!1);return;case"select":he("invalid",e),r=s=a=null;for(i in n)if(n.hasOwnProperty(i)&&(o=n[i],o!=null))switch(i){case"value":a=o;break;case"defaultValue":s=o;break;case"multiple":r=o;default:Pe(e,t,i,o,n,null)}t=a,n=s,e.multiple=!!r,t!=null?gl(e,!!r,t,!1):n!=null&&gl(e,!!r,n,!0);return;case"textarea":he("invalid",e),a=i=r=null;for(s in n)if(n.hasOwnProperty(s)&&(o=n[s],o!=null))switch(s){case"value":r=o;break;case"defaultValue":i=o;break;case"children":a=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(z(91));break;default:Pe(e,t,s,o,n,null)}LI(e,r,i,a);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Pe(e,t,l,r,n,null)}return;case"dialog":he("beforetoggle",e),he("toggle",e),he("cancel",e),he("close",e);break;case"iframe":case"object":he("load",e);break;case"video":case"audio":for(r=0;r<nf.length;r++)he(nf[r],e);break;case"image":he("error",e),he("load",e);break;case"details":he("toggle",e);break;case"embed":case"source":case"link":he("error",e),he("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(z(137,t));default:Pe(e,t,u,r,n,null)}return;default:if(o_(t)){for(c in n)n.hasOwnProperty(c)&&(r=n[c],r!==void 0&&gb(e,t,c,r,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(r=n[o],r!=null&&Pe(e,t,o,r,n,null))}function Fz(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,s=null,o=null,l=null,u=null,c=null;for(p in n){var f=n[p];if(n.hasOwnProperty(p)&&f!=null)switch(p){case"checked":break;case"value":break;case"defaultValue":l=f;default:r.hasOwnProperty(p)||Pe(e,t,p,null,r,f)}}for(var h in r){var p=r[h];if(f=n[h],r.hasOwnProperty(h)&&(p!=null||f!=null))switch(h){case"type":a=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":c=p;break;case"value":s=p;break;case"defaultValue":o=p;break;case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(z(137,t));break;default:p!==f&&Pe(e,t,h,p,r,f)}}B0(e,s,o,l,u,c,a,i);return;case"select":p=s=o=h=null;for(a in n)if(l=n[a],n.hasOwnProperty(a)&&l!=null)switch(a){case"value":break;case"multiple":p=l;default:r.hasOwnProperty(a)||Pe(e,t,a,null,r,l)}for(i in r)if(a=r[i],l=n[i],r.hasOwnProperty(i)&&(a!=null||l!=null))switch(i){case"value":h=a;break;case"defaultValue":o=a;break;case"multiple":s=a;default:a!==l&&Pe(e,t,i,a,r,l)}t=o,n=s,r=p,h!=null?gl(e,!!n,h,!1):!!r!=!!n&&(t!=null?gl(e,!!n,t,!0):gl(e,!!n,n?[]:"",!1));return;case"textarea":p=h=null;for(o in n)if(i=n[o],n.hasOwnProperty(o)&&i!=null&&!r.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:Pe(e,t,o,null,r,i)}for(s in r)if(i=r[s],a=n[s],r.hasOwnProperty(s)&&(i!=null||a!=null))switch(s){case"value":h=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(z(91));break;default:i!==a&&Pe(e,t,s,i,r,a)}MI(e,h,p);return;case"option":for(var g in n)if(h=n[g],n.hasOwnProperty(g)&&h!=null&&!r.hasOwnProperty(g))switch(g){case"selected":e.selected=!1;break;default:Pe(e,t,g,null,r,h)}for(l in r)if(h=r[l],p=n[l],r.hasOwnProperty(l)&&h!==p&&(h!=null||p!=null))switch(l){case"selected":e.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Pe(e,t,l,h,r,p)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _ in n)h=n[_],n.hasOwnProperty(_)&&h!=null&&!r.hasOwnProperty(_)&&Pe(e,t,_,null,r,h);for(u in r)if(h=r[u],p=n[u],r.hasOwnProperty(u)&&h!==p&&(h!=null||p!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(z(137,t));break;default:Pe(e,t,u,h,r,p)}return;default:if(o_(t)){for(var b in n)h=n[b],n.hasOwnProperty(b)&&h!==void 0&&!r.hasOwnProperty(b)&&gb(e,t,b,void 0,r,h);for(c in r)h=r[c],p=n[c],!r.hasOwnProperty(c)||h===p||h===void 0&&p===void 0||gb(e,t,c,h,r,p);return}}for(var w in n)h=n[w],n.hasOwnProperty(w)&&h!=null&&!r.hasOwnProperty(w)&&Pe(e,t,w,null,r,h);for(f in r)h=r[f],p=n[f],!r.hasOwnProperty(f)||h===p||h==null&&p==null||Pe(e,t,f,h,r,p)}function MA(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function qz(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],a=i.transferSize,s=i.initiatorType,o=i.duration;if(a&&o&&MA(s)){for(s=0,o=i.responseEnd,r+=1;r<n.length;r++){var l=n[r],u=l.startTime;if(u>o)break;var c=l.transferSize,f=l.initiatorType;c&&MA(f)&&(l=l.responseEnd,s+=c*(l<o?1:(o-u)/(l-u)))}if(--r,t+=8*(a+s)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var yb=null,vb=null;function Fm(e){return e.nodeType===9?e:e.ownerDocument}function LA(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $j(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function bb(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var $v=null;function Hz(){var e=window.event;return e&&e.type==="popstate"?e===$v?!1:($v=e,!0):($v=null,!1)}var Fj=typeof setTimeout=="function"?setTimeout:void 0,Gz=typeof clearTimeout=="function"?clearTimeout:void 0,VA=typeof Promise=="function"?Promise:void 0,Kz=typeof queueMicrotask=="function"?queueMicrotask:typeof VA<"u"?function(e){return VA.resolve(null).then(e).catch(Yz)}:Fj;function Yz(e){setTimeout(function(){throw e})}function ws(e){return e==="head"}function UA(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(r===0){e.removeChild(i),zl(t);return}r--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")r++;else if(n==="html")Uc(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Uc(n);for(var a=n.firstChild;a;){var s=a.nextSibling,o=a.nodeName;a[Hf]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=s}}else n==="body"&&Uc(e.ownerDocument.body);n=i}while(n);zl(t)}function zA(e,t){var n=e;e=0;do{var r=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=r}while(n)}function xb(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":xb(n),s_(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Wz(e,t,n,r){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[Hf])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(a=e.getAttribute("rel"),a==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(a!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(a=e.getAttribute("src"),(a!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var a=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===a)return e}else return e;if(e=vr(e.nextSibling),e===null)break}return null}function Xz(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=vr(e.nextSibling),e===null))return null;return e}function qj(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=vr(e.nextSibling),e===null))return null;return e}function _b(e){return e.data==="$?"||e.data==="$~"}function wb(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Qz(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function vr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Eb=null;function BA(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return vr(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function $A(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Hj(e,t,n){switch(t=Fm(n),e){case"html":if(e=t.documentElement,!e)throw Error(z(452));return e;case"head":if(e=t.head,!e)throw Error(z(453));return e;case"body":if(e=t.body,!e)throw Error(z(454));return e;default:throw Error(z(451))}}function Uc(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);s_(e)}var xr=new Map,FA=new Set;function qm(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var aa=Ae.d;Ae.d={f:Zz,r:Jz,D:e9,C:t9,L:n9,m:r9,X:a9,S:i9,M:s9};function Zz(){var e=aa.f(),t=vg();return e||t}function Jz(e){var t=iu(e);t!==null&&t.tag===5&&t.type==="form"?VP(t):aa.r(e)}var lu=typeof document>"u"?null:document;function Gj(e,t,n){var r=lu;if(r&&typeof t=="string"&&t){var i=fr(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),FA.has(i)||(FA.add(i),e={rel:e,crossOrigin:n,href:t},r.querySelector(i)===null&&(t=r.createElement("link"),sn(t,"link",e),zt(t),r.head.appendChild(t)))}}function e9(e){aa.D(e),Gj("dns-prefetch",e,null)}function t9(e,t){aa.C(e,t),Gj("preconnect",e,t)}function n9(e,t,n){aa.L(e,t,n);var r=lu;if(r&&e&&t){var i='link[rel="preload"][as="'+fr(t)+'"]';t==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+fr(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+fr(n.imageSizes)+'"]')):i+='[href="'+fr(e)+'"]';var a=i;switch(t){case"style":a=Ul(e);break;case"script":a=uu(e)}xr.has(a)||(e=Ge({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),xr.set(a,e),r.querySelector(i)!==null||t==="style"&&r.querySelector(Qf(a))||t==="script"&&r.querySelector(Zf(a))||(t=r.createElement("link"),sn(t,"link",e),zt(t),r.head.appendChild(t)))}}function r9(e,t){aa.m(e,t);var n=lu;if(n&&e){var r=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+fr(r)+'"][href="'+fr(e)+'"]',a=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=uu(e)}if(!xr.has(a)&&(e=Ge({rel:"modulepreload",href:e},t),xr.set(a,e),n.querySelector(i)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Zf(a)))return}r=n.createElement("link"),sn(r,"link",e),zt(r),n.head.appendChild(r)}}}function i9(e,t,n){aa.S(e,t,n);var r=lu;if(r&&e){var i=pl(r).hoistableStyles,a=Ul(e);t=t||"default";var s=i.get(a);if(!s){var o={loading:0,preload:null};if(s=r.querySelector(Qf(a)))o.loading=5;else{e=Ge({rel:"stylesheet",href:e,"data-precedence":t},n),(n=xr.get(a))&&H_(e,n);var l=s=r.createElement("link");zt(l),sn(l,"link",e),l._p=new Promise(function(u,c){l.onload=u,l.onerror=c}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Qh(s,t,r)}s={type:"stylesheet",instance:s,count:1,state:o},i.set(a,s)}}}function a9(e,t){aa.X(e,t);var n=lu;if(n&&e){var r=pl(n).hoistableScripts,i=uu(e),a=r.get(i);a||(a=n.querySelector(Zf(i)),a||(e=Ge({src:e,async:!0},t),(t=xr.get(i))&&G_(e,t),a=n.createElement("script"),zt(a),sn(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}function s9(e,t){aa.M(e,t);var n=lu;if(n&&e){var r=pl(n).hoistableScripts,i=uu(e),a=r.get(i);a||(a=n.querySelector(Zf(i)),a||(e=Ge({src:e,async:!0,type:"module"},t),(t=xr.get(i))&&G_(e,t),a=n.createElement("script"),zt(a),sn(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}function qA(e,t,n,r){var i=(i=Fa.current)?qm(i):null;if(!i)throw Error(z(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Ul(n.href),n=pl(i).hoistableStyles,r=n.get(t),r||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Ul(n.href);var a=pl(i).hoistableStyles,s=a.get(e);if(s||(i=i.ownerDocument||i,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(e,s),(a=i.querySelector(Qf(e)))&&!a._p&&(s.instance=a,s.state.loading=5),xr.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},xr.set(e,n),a||o9(i,e,n,s.state))),t&&r===null)throw Error(z(528,""));return s}if(t&&r!==null)throw Error(z(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=uu(n),n=pl(i).hoistableScripts,r=n.get(t),r||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(z(444,e))}}function Ul(e){return'href="'+fr(e)+'"'}function Qf(e){return'link[rel="stylesheet"]['+e+"]"}function Kj(e){return Ge({},e,{"data-precedence":e.precedence,precedence:null})}function o9(e,t,n,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),sn(t,"link",n),zt(t),e.head.appendChild(t))}function uu(e){return'[src="'+fr(e)+'"]'}function Zf(e){return"script[async]"+e}function HA(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+fr(n.href)+'"]');if(r)return t.instance=r,zt(r),r;var i=Ge({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),zt(r),sn(r,"style",i),Qh(r,n.precedence,e),t.instance=r;case"stylesheet":i=Ul(n.href);var a=e.querySelector(Qf(i));if(a)return t.state.loading|=4,t.instance=a,zt(a),a;r=Kj(n),(i=xr.get(i))&&H_(r,i),a=(e.ownerDocument||e).createElement("link"),zt(a);var s=a;return s._p=new Promise(function(o,l){s.onload=o,s.onerror=l}),sn(a,"link",r),t.state.loading|=4,Qh(a,n.precedence,e),t.instance=a;case"script":return a=uu(n.src),(i=e.querySelector(Zf(a)))?(t.instance=i,zt(i),i):(r=n,(i=xr.get(a))&&(r=Ge({},n),G_(r,i)),e=e.ownerDocument||e,i=e.createElement("script"),zt(i),sn(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(z(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(r=t.instance,t.state.loading|=4,Qh(r,n.precedence,e));return t.instance}function Qh(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,s=0;s<r.length;s++){var o=r[s];if(o.dataset.precedence===t)a=o;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function H_(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function G_(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Zh=null;function GA(e,t,n){if(Zh===null){var r=new Map,i=Zh=new Map;i.set(n,r)}else i=Zh,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[Hf]||a[en]||e==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var s=a.getAttribute(t)||"";s=e+s;var o=r.get(s);o?o.push(a):r.set(s,[a])}}return r}function KA(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function l9(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Yj(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function u9(e,t,n,r){if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var i=Ul(r.href),a=t.querySelector(Qf(i));if(a){t=a._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Hm.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=a,zt(a);return}a=t.ownerDocument||t,r=Kj(r),(i=xr.get(i))&&H_(r,i),a=a.createElement("link"),zt(a);var s=a;s._p=new Promise(function(o,l){s.onload=o,s.onerror=l}),sn(a,"link",r),n.instance=a}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=Hm.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Fv=0;function c9(e,t){return e.stylesheets&&e.count===0&&Jh(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&Jh(e,e.stylesheets),e.unsuspend){var a=e.unsuspend;e.unsuspend=null,a()}},6e4+t);0<e.imgBytes&&Fv===0&&(Fv=62500*qz());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Jh(e,e.stylesheets),e.unsuspend)){var a=e.unsuspend;e.unsuspend=null,a()}},(e.imgBytes>Fv?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}function Hm(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Jh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Gm=null;function Jh(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Gm=new Map,t.forEach(f9,e),Gm=null,Hm.call(e))}function f9(e,t){if(!(t.state.loading&4)){var n=Gm.get(e);if(n)var r=n.get(null);else{n=new Map,Gm.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var s=i[a];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}i=t.instance,s=i.getAttribute("data-precedence"),a=n.get(s)||r,a===r&&n.set(null,i),n.set(s,i),this.count++,r=Hm.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var af={$$typeof:Ii,Provider:null,Consumer:null,_currentValue:Xs,_currentValue2:Xs,_threadCount:0};function d9(e,t,n,r,i,a,s,o,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=dv(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dv(0),this.hiddenUpdates=dv(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function Wj(e,t,n,r,i,a,s,o,l,u,c,f){return e=new d9(e,t,n,s,l,u,c,f,o),t=1,a===!0&&(t|=24),a=Gn(3,null,null,t),e.current=a,a.stateNode=e,t=v_(),t.refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},__(a),e}function Xj(e){return e?(e=ol,e):ol}function Qj(e,t,n,r,i,a){i=Xj(i),r.context===null?r.context=i:r.pendingContext=i,r=Ha(t),r.payload={element:n},a=a===void 0?null:a,a!==null&&(r.callback=a),n=Ga(e,r,t),n!==null&&(Ln(n,e,t),Pc(n,e,t))}function YA(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function K_(e,t){YA(e,t),(e=e.alternate)&&YA(e,t)}function Zj(e){if(e.tag===13||e.tag===31){var t=No(e,67108864);t!==null&&Ln(t,e,67108864),K_(e,67108864)}}function WA(e){if(e.tag===13||e.tag===31){var t=er();t=i_(t);var n=No(e,t);n!==null&&Ln(n,e,t),K_(e,t)}}var Km=!0;function h9(e,t,n,r){var i=ie.T;ie.T=null;var a=Ae.p;try{Ae.p=2,Y_(e,t,n,r)}finally{Ae.p=a,ie.T=i}}function m9(e,t,n,r){var i=ie.T;ie.T=null;var a=Ae.p;try{Ae.p=8,Y_(e,t,n,r)}finally{Ae.p=a,ie.T=i}}function Y_(e,t,n,r){if(Km){var i=Sb(r);if(i===null)Bv(e,t,r,Ym,n),XA(e,r);else if(g9(i,e,t,n,r))r.stopPropagation();else if(XA(e,r),t&4&&-1<p9.indexOf(e)){for(;i!==null;){var a=iu(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var s=Vs(a.pendingLanes);if(s!==0){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var l=1<<31-Jn(s);o.entanglements[1]|=l,s&=~l}yi(a),!(Se&6)&&(Lm=Qn()+500,Xf(0))}}break;case 31:case 13:o=No(a,2),o!==null&&Ln(o,a,2),vg(),K_(a,2)}if(a=Sb(r),a===null&&Bv(e,t,r,Ym,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Bv(e,t,r,null,n)}}function Sb(e){return e=l_(e),W_(e)}var Ym=null;function W_(e){if(Ym=null,e=tl(e),e!==null){var t=Bf(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=vI(t),e!==null)return e;e=null}else if(n===31){if(e=bI(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ym=e,null}function Jj(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(eU()){case EI:return 2;case SI:return 8;case Em:case tU:return 32;case AI:return 268435456;default:return 32}default:return 32}}var Ab=!1,Wa=null,Xa=null,Qa=null,sf=new Map,of=new Map,Ia=[],p9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function XA(e,t){switch(e){case"focusin":case"focusout":Wa=null;break;case"dragenter":case"dragleave":Xa=null;break;case"mouseover":case"mouseout":Qa=null;break;case"pointerover":case"pointerout":sf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":of.delete(t.pointerId)}}function tc(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=iu(t),t!==null&&Zj(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function g9(e,t,n,r,i){switch(t){case"focusin":return Wa=tc(Wa,e,t,n,r,i),!0;case"dragenter":return Xa=tc(Xa,e,t,n,r,i),!0;case"mouseover":return Qa=tc(Qa,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return sf.set(a,tc(sf.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,of.set(a,tc(of.get(a)||null,e,t,n,r,i)),!0}return!1}function eR(e){var t=tl(e.target);if(t!==null){var n=Bf(t);if(n!==null){if(t=n.tag,t===13){if(t=vI(n),t!==null){e.blockedOn=t,DS(e.priority,function(){WA(n)});return}}else if(t===31){if(t=bI(n),t!==null){e.blockedOn=t,DS(e.priority,function(){WA(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function em(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Sb(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);F0=r,n.target.dispatchEvent(r),F0=null}else return t=iu(n),t!==null&&Zj(t),e.blockedOn=n,!1;t.shift()}return!0}function QA(e,t,n){em(e)&&n.delete(t)}function y9(){Ab=!1,Wa!==null&&em(Wa)&&(Wa=null),Xa!==null&&em(Xa)&&(Xa=null),Qa!==null&&em(Qa)&&(Qa=null),sf.forEach(QA),of.forEach(QA)}function mh(e,t){e.blockedOn===t&&(e.blockedOn=null,Ab||(Ab=!0,Nt.unstable_scheduleCallback(Nt.unstable_NormalPriority,y9)))}var ph=null;function ZA(e){ph!==e&&(ph=e,Nt.unstable_scheduleCallback(Nt.unstable_NormalPriority,function(){ph===e&&(ph=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if(typeof r!="function"){if(W_(r||n)===null)continue;break}var a=iu(n);a!==null&&(e.splice(t,3),t-=3,ab(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function zl(e){function t(l){return mh(l,e)}Wa!==null&&mh(Wa,e),Xa!==null&&mh(Xa,e),Qa!==null&&mh(Qa,e),sf.forEach(t),of.forEach(t);for(var n=0;n<Ia.length;n++){var r=Ia[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Ia.length&&(n=Ia[0],n.blockedOn===null);)eR(n),n.blockedOn===null&&Ia.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],s=i[Un]||null;if(typeof a=="function")s||ZA(n);else if(s){var o=null;if(a&&a.hasAttribute("formAction")){if(i=a,s=a[Un]||null)o=s.formAction;else if(W_(i)!==null)continue}else o=s.action;typeof o=="function"?n[r+1]=o:(n.splice(r,3),r-=3),ZA(n)}}}function tR(){function e(a){a.canIntercept&&a.info==="react-transition"&&a.intercept({handler:function(){return new Promise(function(s){return i=s})},focusReset:"manual",scroll:"manual"})}function t(){i!==null&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var a=navigation.currentEntry;a&&a.url!=null&&navigation.navigate(a.url,{state:a.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),i!==null&&(i(),i=null)}}}function X_(e){this._internalRoot=e}_g.prototype.render=X_.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(z(409));var n=t.current,r=er();Qj(n,r,e,t,null,null)};_g.prototype.unmount=X_.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Qj(e.current,2,null,e,null,null),vg(),t[ru]=null}};function _g(e){this._internalRoot=e}_g.prototype.unstable_scheduleHydration=function(e){if(e){var t=II();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ia.length&&t!==0&&t<Ia[n].priority;n++);Ia.splice(n,0,e),n===0&&eR(e)}};var JA=gI.version;if(JA!=="19.2.3")throw Error(z(527,JA,"19.2.3"));Ae.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(z(188)):(e=Object.keys(e).join(","),Error(z(268,e)));return e=KV(t),e=e!==null?xI(e):null,e=e===null?null:e.stateNode,e};var v9={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:ie,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gh.isDisabled&&gh.supportsFiber)try{$f=gh.inject(v9),Zn=gh}catch{}}ig.createRoot=function(e,t){if(!yI(e))throw Error(z(299));var n=!1,r="",i=GP,a=KP,s=YP;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(a=t.onCaughtError),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Wj(e,1,!1,null,null,n,r,null,i,a,s,tR),e[ru]=t.current,q_(e),new X_(t)};ig.hydrateRoot=function(e,t,n){if(!yI(e))throw Error(z(299));var r=!1,i="",a=GP,s=KP,o=YP,l=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.formState!==void 0&&(l=n.formState)),t=Wj(e,1,!0,t,n??null,r,i,l,a,s,o,tR),t.context=Xj(null),n=t.current,r=er(),r=i_(r),i=Ha(r),i.callback=null,Ga(n,i,r),n=r,t.current.lanes=n,qf(t,n),yi(t),e[ru]=t.current,q_(e),new _g(t)};ig.version="19.2.3";function nR(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(nR)}catch(e){console.error(e)}}nR(),cI.exports=ig;var b9=cI.exports;/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var eT="popstate";function x9(e={}){function t(r,i){let{pathname:a,search:s,hash:o}=r.location;return Tb("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:lf(i)}return w9(t,n,null,e)}function Je(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ui(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function _9(){return Math.random().toString(36).substring(2,10)}function tT(e,t){return{usr:e.state,key:e.key,idx:t}}function Tb(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?cu(t):t,state:n,key:t&&t.key||r||_9()}}function lf({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function cu(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function w9(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,o="POP",l=null,u=c();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function c(){return(s.state||{idx:null}).idx}function f(){o="POP";let b=c(),w=b==null?null:b-u;u=b,l&&l({action:o,location:_.location,delta:w})}function h(b,w){o="PUSH";let x=Tb(_.location,b,w);u=c()+1;let E=tT(x,u),T=_.createHref(x);try{s.pushState(E,"",T)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;i.location.assign(T)}a&&l&&l({action:o,location:_.location,delta:1})}function p(b,w){o="REPLACE";let x=Tb(_.location,b,w);u=c();let E=tT(x,u),T=_.createHref(x);s.replaceState(E,"",T),a&&l&&l({action:o,location:_.location,delta:0})}function g(b){return E9(b)}let _={get action(){return o},get location(){return e(i,s)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(eT,f),l=b,()=>{i.removeEventListener(eT,f),l=null}},createHref(b){return t(i,b)},createURL:g,encodeLocation(b){let w=g(b);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:h,replace:p,go(b){return s.go(b)}};return _}function E9(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Je(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:lf(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function rR(e,t,n="/"){return S9(e,t,n,!1)}function S9(e,t,n,r){let i=typeof t=="string"?cu(t):t,a=Yi(i.pathname||"/",n);if(a==null)return null;let s=iR(e);A9(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let u=M9(a);o=D9(s[l],u,r)}return o}function iR(e,t=[],n=[],r="",i=!1){let a=(s,o,l=i,u)=>{let c={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};if(c.relativePath.startsWith("/")){if(!c.relativePath.startsWith(r)&&l)return;Je(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length)}let f=zi([r,c.relativePath]),h=n.concat(c);s.children&&s.children.length>0&&(Je(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),iR(s.children,t,h,f,l)),!(s.path==null&&!s.index)&&t.push({path:f,score:j9(f,s.index),routesMeta:h})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))a(s,o);else for(let u of aR(s.path))a(s,o,!0,u)}),t}function aR(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=aR(r.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function A9(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:R9(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var T9=/^:[\w-]+$/,C9=3,N9=2,O9=1,I9=10,P9=-2,nT=e=>e==="*";function j9(e,t){let n=e.split("/"),r=n.length;return n.some(nT)&&(r+=P9),t&&(r+=N9),n.filter(i=>!nT(i)).reduce((i,a)=>i+(T9.test(a)?C9:a===""?O9:I9),r)}function R9(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function D9(e,t,n=!1){let{routesMeta:r}=e,i={},a="/",s=[];for(let o=0;o<r.length;++o){let l=r[o],u=o===r.length-1,c=a==="/"?t:t.slice(a.length)||"/",f=Wm({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),h=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=Wm({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:zi([a,f.pathname]),pathnameBase:z9(zi([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=zi([a,f.pathnameBase]))}return s}function Wm(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=k9(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((u,{paramName:c,isOptional:f},h)=>{if(c==="*"){let g=o[h]||"";s=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const p=o[h];return f&&!p?u[c]=void 0:u[c]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:s,pattern:e}}function k9(e,t=!1,n=!0){ui(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function M9(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ui(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Yi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var L9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function V9(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?cu(e):e,a;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?a=rT(n.substring(1),"/"):a=rT(n,t)):a=t,{pathname:a,search:B9(r),hash:$9(i)}}function rT(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function qv(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function U9(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function sR(e){let t=U9(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function oR(e,t,n,r=!1){let i;typeof e=="string"?i=cu(e):(i={...e},Je(!i.pathname||!i.pathname.includes("?"),qv("?","pathname","search",i)),Je(!i.pathname||!i.pathname.includes("#"),qv("#","pathname","hash",i)),Je(!i.search||!i.search.includes("#"),qv("#","search","hash",i)));let a=e===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=n;else{let f=t.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}o=f>=0?t[f]:"/"}let l=V9(i,o),u=s&&s!=="/"&&s.endsWith("/"),c=(a||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}var zi=e=>e.join("/").replace(/\/\/+/g,"/"),z9=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),B9=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,$9=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,F9=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function q9(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function H9(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var lR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function uR(e,t){let n=e;if(typeof n!="string"||!L9.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(lR)try{let a=new URL(window.location.href),s=n.startsWith("//")?new URL(a.protocol+n):new URL(n),o=Yi(s.pathname,t);s.origin===a.origin&&o!=null?n=o+s.search+s.hash:i=!0}catch{ui(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var cR=["POST","PUT","PATCH","DELETE"];new Set(cR);var G9=["GET",...cR];new Set(G9);var fu=v.createContext(null);fu.displayName="DataRouter";var wg=v.createContext(null);wg.displayName="DataRouterState";var K9=v.createContext(!1),fR=v.createContext({isTransitioning:!1});fR.displayName="ViewTransition";var Y9=v.createContext(new Map);Y9.displayName="Fetchers";var W9=v.createContext(null);W9.displayName="Await";var Sr=v.createContext(null);Sr.displayName="Navigation";var Jf=v.createContext(null);Jf.displayName="Location";var vi=v.createContext({outlet:null,matches:[],isDataRoute:!1});vi.displayName="Route";var Q_=v.createContext(null);Q_.displayName="RouteError";var dR="REACT_ROUTER_ERROR",X9="REDIRECT",Q9="ROUTE_ERROR_RESPONSE";function Z9(e){if(e.startsWith(`${dR}:${X9}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function J9(e){if(e.startsWith(`${dR}:${Q9}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new F9(t.status,t.statusText,t.data)}catch{}}function eB(e,{relative:t}={}){Je(ed(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=v.useContext(Sr),{hash:i,pathname:a,search:s}=td(e,{relative:t}),o=a;return n!=="/"&&(o=a==="/"?n:zi([n,a])),r.createHref({pathname:o,search:s,hash:i})}function ed(){return v.useContext(Jf)!=null}function Es(){return Je(ed(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(Jf).location}var hR="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function mR(e){v.useContext(Sr).static||v.useLayoutEffect(e)}function Eg(){let{isDataRoute:e}=v.useContext(vi);return e?pB():tB()}function tB(){Je(ed(),"useNavigate() may be used only in the context of a <Router> component.");let e=v.useContext(fu),{basename:t,navigator:n}=v.useContext(Sr),{matches:r}=v.useContext(vi),{pathname:i}=Es(),a=JSON.stringify(sR(r)),s=v.useRef(!1);return mR(()=>{s.current=!0}),v.useCallback((l,u={})=>{if(ui(s.current,hR),!s.current)return;if(typeof l=="number"){n.go(l);return}let c=oR(l,JSON.parse(a),i,u.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:zi([t,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[t,n,a,i,e])}var nB=v.createContext(null);function rB(e){let t=v.useContext(vi).outlet;return v.useMemo(()=>t&&v.createElement(nB.Provider,{value:e},t),[t,e])}function td(e,{relative:t}={}){let{matches:n}=v.useContext(vi),{pathname:r}=Es(),i=JSON.stringify(sR(n));return v.useMemo(()=>oR(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function iB(e,t){return pR(e,t)}function pR(e,t,n,r,i){var x;Je(ed(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=v.useContext(Sr),{matches:s}=v.useContext(vi),o=s[s.length-1],l=o?o.params:{},u=o?o.pathname:"/",c=o?o.pathnameBase:"/",f=o&&o.route;{let E=f&&f.path||"";yR(u,!f||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let h=Es(),p;if(t){let E=typeof t=="string"?cu(t):t;Je(c==="/"||((x=E.pathname)==null?void 0:x.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${E.pathname}" was given in the \`location\` prop.`),p=E}else p=h;let g=p.pathname||"/",_=g;if(c!=="/"){let E=c.replace(/^\//,"").split("/");_="/"+g.replace(/^\//,"").split("/").slice(E.length).join("/")}let b=rR(e,{pathname:_});ui(f||b!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),ui(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=uB(b&&b.map(E=>Object.assign({},E,{params:Object.assign({},l,E.params),pathname:zi([c,a.encodeLocation?a.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?c:zi([c,a.encodeLocation?a.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),s,n,r,i);return t&&w?v.createElement(Jf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},w):w}function aB(){let e=mB(),t=q9(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=v.createElement(v.Fragment,null,v.createElement("p",null," Hey developer "),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:a},"ErrorBoundary")," or"," ",v.createElement("code",{style:a},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),n?v.createElement("pre",{style:i},n):null,s)}var sB=v.createElement(aB,null),gR=class extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=J9(e.digest);n&&(e=n)}let t=e!==void 0?v.createElement(vi.Provider,{value:this.props.routeContext},v.createElement(Q_.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?v.createElement(oB,{error:e},t):t}};gR.contextType=K9;var Hv=new WeakMap;function oB({children:e,error:t}){let{basename:n}=v.useContext(Sr);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let r=Z9(t.digest);if(r){let i=Hv.get(t);if(i)throw i;let a=uR(r.location,n);if(lR&&!Hv.get(t))if(a.isExternal||r.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const s=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:r.replace}));throw Hv.set(t,s),s}return v.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return e}function lB({routeContext:e,match:t,children:n}){let r=v.useContext(fu);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),v.createElement(vi.Provider,{value:e},n)}function uB(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,s=n==null?void 0:n.errors;if(s!=null){let c=a.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);Je(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,c+1))}let o=!1,l=-1;if(n)for(let c=0;c<a.length;c++){let f=a[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(l=c),f.route.id){let{loaderData:h,errors:p}=n,g=f.route.loader&&!h.hasOwnProperty(f.route.id)&&(!p||p[f.route.id]===void 0);if(f.route.lazy||g){o=!0,l>=0?a=a.slice(0,l+1):a=[a[0]];break}}}let u=n&&r?(c,f)=>{var h,p;r(c,{location:n.location,params:((p=(h=n.matches)==null?void 0:h[0])==null?void 0:p.params)??{},unstable_pattern:H9(n.matches),errorInfo:f})}:void 0;return a.reduceRight((c,f,h)=>{let p,g=!1,_=null,b=null;n&&(p=s&&f.route.id?s[f.route.id]:void 0,_=f.route.errorElement||sB,o&&(l<0&&h===0?(yR("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,b=null):l===h&&(g=!0,b=f.route.hydrateFallbackElement||null)));let w=t.concat(a.slice(0,h+1)),x=()=>{let E;return p?E=_:g?E=b:f.route.Component?E=v.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=c,v.createElement(lB,{match:f,routeContext:{outlet:c,matches:w,isDataRoute:n!=null},children:E})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?v.createElement(gR,{location:n.location,revalidation:n.revalidation,component:_,error:p,children:x(),routeContext:{outlet:null,matches:w,isDataRoute:!0},onError:u}):x()},null)}function Z_(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cB(e){let t=v.useContext(fu);return Je(t,Z_(e)),t}function fB(e){let t=v.useContext(wg);return Je(t,Z_(e)),t}function dB(e){let t=v.useContext(vi);return Je(t,Z_(e)),t}function J_(e){let t=dB(e),n=t.matches[t.matches.length-1];return Je(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function hB(){return J_("useRouteId")}function mB(){var r;let e=v.useContext(Q_),t=fB("useRouteError"),n=J_("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function pB(){let{router:e}=cB("useNavigate"),t=J_("useNavigate"),n=v.useRef(!1);return mR(()=>{n.current=!0}),v.useCallback(async(i,a={})=>{ui(n.current,hR),n.current&&(typeof i=="number"?await e.navigate(i):await e.navigate(i,{fromRouteId:t,...a}))},[e,t])}var iT={};function yR(e,t,n){!t&&!iT[e]&&(iT[e]=!0,ui(!1,n))}v.memo(gB);function gB({routes:e,future:t,state:n,onError:r}){return pR(e,void 0,n,r,t)}function yB(e){return rB(e.context)}function ot(e){Je(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function vB({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:a=!1,unstable_useTransitions:s}){Je(!ed(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),l=v.useMemo(()=>({basename:o,navigator:i,static:a,unstable_useTransitions:s,future:{}}),[o,i,a,s]);typeof n=="string"&&(n=cu(n));let{pathname:u="/",search:c="",hash:f="",state:h=null,key:p="default"}=n,g=v.useMemo(()=>{let _=Yi(u,o);return _==null?null:{location:{pathname:_,search:c,hash:f,state:h,key:p},navigationType:r}},[o,u,c,f,h,p,r]);return ui(g!=null,`<Router basename="${o}"> is not able to match the URL "${u}${c}${f}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:v.createElement(Sr.Provider,{value:l},v.createElement(Jf.Provider,{children:t,value:g}))}function aT({children:e,location:t}){return iB(Cb(e),t)}function Cb(e,t=[]){let n=[];return v.Children.forEach(e,(r,i)=>{if(!v.isValidElement(r))return;let a=[...t,i];if(r.type===v.Fragment){n.push.apply(n,Cb(r.props.children,a));return}Je(r.type===ot,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Je(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Cb(r.props.children,a)),n.push(s)}),n}var tm="get",nm="application/x-www-form-urlencoded";function Sg(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function bB(e){return Sg(e)&&e.tagName.toLowerCase()==="button"}function xB(e){return Sg(e)&&e.tagName.toLowerCase()==="form"}function _B(e){return Sg(e)&&e.tagName.toLowerCase()==="input"}function wB(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function EB(e,t){return e.button===0&&(!t||t==="_self")&&!wB(e)}var yh=null;function SB(){if(yh===null)try{new FormData(document.createElement("form"),0),yh=!1}catch{yh=!0}return yh}var AB=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Gv(e){return e!=null&&!AB.has(e)?(ui(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${nm}"`),null):e}function TB(e,t){let n,r,i,a,s;if(xB(e)){let o=e.getAttribute("action");r=o?Yi(o,t):null,n=e.getAttribute("method")||tm,i=Gv(e.getAttribute("enctype"))||nm,a=new FormData(e)}else if(bB(e)||_B(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||o.getAttribute("action");if(r=l?Yi(l,t):null,n=e.getAttribute("formmethod")||o.getAttribute("method")||tm,i=Gv(e.getAttribute("formenctype"))||Gv(o.getAttribute("enctype"))||nm,a=new FormData(o,e),!SB()){let{name:u,type:c,value:f}=e;if(c==="image"){let h=u?`${u}.`:"";a.append(`${h}x`,"0"),a.append(`${h}y`,"0")}else u&&a.append(u,f)}}else{if(Sg(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=tm,r=null,i=nm,s=e}return a&&i==="text/plain"&&(s=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ew(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function CB(e,t,n,r){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${r}`:i.pathname=`${i.pathname}.${r}`:i.pathname==="/"?i.pathname=`_root.${r}`:t&&Yi(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${r}`,i}async function NB(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function OB(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function IB(e,t,n){let r=await Promise.all(e.map(async i=>{let a=t.routes[i.route.id];if(a){let s=await NB(a,n);return s.links?s.links():[]}return[]}));return DB(r.flat(1).filter(OB).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function sT(e,t,n,r,i,a){let s=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,o=(l,u)=>{var c;return n[u].pathname!==l.pathname||((c=n[u].route.path)==null?void 0:c.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return a==="assets"?t.filter((l,u)=>s(l,u)||o(l,u)):a==="data"?t.filter((l,u)=>{var f;let c=r.routes[l.route.id];if(!c||!c.hasLoader)return!1;if(s(l,u)||o(l,u))return!0;if(l.route.shouldRevalidate){let h=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function PB(e,t,{includeHydrateFallback:n}={}){return jB(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function jB(e){return[...new Set(e)]}function RB(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function DB(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let a=JSON.stringify(RB(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function vR(){let e=v.useContext(fu);return ew(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function kB(){let e=v.useContext(wg);return ew(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var tw=v.createContext(void 0);tw.displayName="FrameworkContext";function bR(){let e=v.useContext(tw);return ew(e,"You must render this element inside a <HydratedRouter> element"),e}function MB(e,t){let n=v.useContext(tw),[r,i]=v.useState(!1),[a,s]=v.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:f}=t,h=v.useRef(null);v.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let _=w=>{w.forEach(x=>{s(x.isIntersecting)})},b=new IntersectionObserver(_,{threshold:.5});return h.current&&b.observe(h.current),()=>{b.disconnect()}}},[e]),v.useEffect(()=>{if(r){let _=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(_)}}},[r]);let p=()=>{i(!0)},g=()=>{i(!1),s(!1)};return n?e!=="intent"?[a,h,{}]:[a,h,{onFocus:nc(o,p),onBlur:nc(l,g),onMouseEnter:nc(u,p),onMouseLeave:nc(c,g),onTouchStart:nc(f,p)}]:[!1,h,{}]}function nc(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function LB({page:e,...t}){let{router:n}=vR(),r=v.useMemo(()=>rR(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?v.createElement(UB,{page:e,matches:r,...t}):null}function VB(e){let{manifest:t,routeModules:n}=bR(),[r,i]=v.useState([]);return v.useEffect(()=>{let a=!1;return IB(e,t,n).then(s=>{a||i(s)}),()=>{a=!0}},[e,t,n]),r}function UB({page:e,matches:t,...n}){let r=Es(),{future:i,manifest:a,routeModules:s}=bR(),{basename:o}=vR(),{loaderData:l,matches:u}=kB(),c=v.useMemo(()=>sT(e,t,u,a,r,"data"),[e,t,u,a,r]),f=v.useMemo(()=>sT(e,t,u,a,r,"assets"),[e,t,u,a,r]),h=v.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let _=new Set,b=!1;if(t.forEach(x=>{var T;let E=a.routes[x.route.id];!E||!E.hasLoader||(!c.some(I=>I.route.id===x.route.id)&&x.route.id in l&&((T=s[x.route.id])!=null&&T.shouldRevalidate)||E.hasClientLoader?b=!0:_.add(x.route.id))}),_.size===0)return[];let w=CB(e,o,i.unstable_trailingSlashAwareDataRequests,"data");return b&&_.size>0&&w.searchParams.set("_routes",t.filter(x=>_.has(x.route.id)).map(x=>x.route.id).join(",")),[w.pathname+w.search]},[o,i.unstable_trailingSlashAwareDataRequests,l,r,a,c,t,e,s]),p=v.useMemo(()=>PB(f,a),[f,a]),g=VB(f);return v.createElement(v.Fragment,null,h.map(_=>v.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),p.map(_=>v.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),g.map(({key:_,link:b})=>v.createElement("link",{key:_,nonce:n.nonce,...b,crossOrigin:b.crossOrigin??n.crossOrigin})))}function zB(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var BB=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{BB&&(window.__reactRouterVersion="7.13.0")}catch{}function $B({basename:e,children:t,unstable_useTransitions:n,window:r}){let i=v.useRef();i.current==null&&(i.current=x9({window:r,v5Compat:!0}));let a=i.current,[s,o]=v.useState({action:a.action,location:a.location}),l=v.useCallback(u=>{n===!1?o(u):v.startTransition(()=>o(u))},[n]);return v.useLayoutEffect(()=>a.listen(l),[a,l]),v.createElement(vB,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:a,unstable_useTransitions:n})}var xR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,At=v.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:s,state:o,target:l,to:u,preventScrollReset:c,viewTransition:f,unstable_defaultShouldRevalidate:h,...p},g){let{basename:_,unstable_useTransitions:b}=v.useContext(Sr),w=typeof u=="string"&&xR.test(u),x=uR(u,_);u=x.to;let E=eB(u,{relative:i}),[T,I,k]=MB(r,p),A=HB(u,{replace:s,state:o,target:l,preventScrollReset:c,relative:i,viewTransition:f,unstable_defaultShouldRevalidate:h,unstable_useTransitions:b});function C(j){t&&t(j),j.defaultPrevented||A(j)}let N=v.createElement("a",{...p,...k,href:x.absoluteURL||E,onClick:x.isExternal||a?t:C,ref:zB(g,I),target:l,"data-discover":!w&&n==="render"?"true":void 0});return T&&!w?v.createElement(v.Fragment,null,N,v.createElement(LB,{page:E})):N});At.displayName="Link";var Xr=v.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:s,viewTransition:o,children:l,...u},c){let f=td(s,{relative:u.relative}),h=Es(),p=v.useContext(wg),{navigator:g,basename:_}=v.useContext(Sr),b=p!=null&&XB(f)&&o===!0,w=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,x=h.pathname,E=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(x=x.toLowerCase(),E=E?E.toLowerCase():null,w=w.toLowerCase()),E&&_&&(E=Yi(E,_)||E);const T=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let I=x===w||!i&&x.startsWith(w)&&x.charAt(T)==="/",k=E!=null&&(E===w||!i&&E.startsWith(w)&&E.charAt(w.length)==="/"),A={isActive:I,isPending:k,isTransitioning:b},C=I?t:void 0,N;typeof r=="function"?N=r(A):N=[r,I?"active":null,k?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let j=typeof a=="function"?a(A):a;return v.createElement(At,{...u,"aria-current":C,className:N,ref:c,style:j,to:s,viewTransition:o},typeof l=="function"?l(A):l)});Xr.displayName="NavLink";var FB=v.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:a,method:s=tm,action:o,onSubmit:l,relative:u,preventScrollReset:c,viewTransition:f,unstable_defaultShouldRevalidate:h,...p},g)=>{let{unstable_useTransitions:_}=v.useContext(Sr),b=YB(),w=WB(o,{relative:u}),x=s.toLowerCase()==="get"?"get":"post",E=typeof o=="string"&&xR.test(o),T=I=>{if(l&&l(I),I.defaultPrevented)return;I.preventDefault();let k=I.nativeEvent.submitter,A=(k==null?void 0:k.getAttribute("formmethod"))||s,C=()=>b(k||I.currentTarget,{fetcherKey:t,method:A,navigate:n,replace:i,state:a,relative:u,preventScrollReset:c,viewTransition:f,unstable_defaultShouldRevalidate:h});_&&n!==!1?v.startTransition(()=>C()):C()};return v.createElement("form",{ref:g,method:x,action:w,onSubmit:r?l:T,...p,"data-discover":!E&&e==="render"?"true":void 0})});FB.displayName="Form";function qB(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _R(e){let t=v.useContext(fu);return Je(t,qB(e)),t}function HB(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:s,unstable_defaultShouldRevalidate:o,unstable_useTransitions:l}={}){let u=Eg(),c=Es(),f=td(e,{relative:a});return v.useCallback(h=>{if(EB(h,t)){h.preventDefault();let p=n!==void 0?n:lf(c)===lf(f),g=()=>u(e,{replace:p,state:r,preventScrollReset:i,relative:a,viewTransition:s,unstable_defaultShouldRevalidate:o});l?v.startTransition(()=>g()):g()}},[c,u,f,n,r,t,e,i,a,s,o,l])}var GB=0,KB=()=>`__${String(++GB)}__`;function YB(){let{router:e}=_R("useSubmit"),{basename:t}=v.useContext(Sr),n=hB(),r=e.fetch,i=e.navigate;return v.useCallback(async(a,s={})=>{let{action:o,method:l,encType:u,formData:c,body:f}=TB(a,t);if(s.navigate===!1){let h=s.fetcherKey||KB();await r(h,n,s.action||o,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:c,body:f,formMethod:s.method||l,formEncType:s.encType||u,flushSync:s.flushSync})}else await i(s.action||o,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:c,body:f,formMethod:s.method||l,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[r,i,t,n])}function WB(e,{relative:t}={}){let{basename:n}=v.useContext(Sr),r=v.useContext(vi);Je(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...td(e||".",{relative:t})},s=Es();if(e==null){a.search=s.search;let o=new URLSearchParams(a.search),l=o.getAll("index");if(l.some(c=>c==="")){o.delete("index"),l.filter(f=>f).forEach(f=>o.append("index",f));let c=o.toString();a.search=c?`?${c}`:""}}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:zi([n,a.pathname])),lf(a)}function XB(e,{relative:t}={}){let n=v.useContext(fR);Je(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=_R("useViewTransitionState"),i=td(e,{relative:t});if(!n.isTransitioning)return!1;let a=Yi(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Yi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Wm(i.pathname,s)!=null||Wm(i.pathname,a)!=null}const wR=v.createContext(),nd=()=>v.useContext(wR),QB=({children:e})=>{const[t,n]=v.useState(()=>{try{const u=localStorage.getItem("ambrosia_cart");return u?JSON.parse(u):[]}catch(u){return console.error("Failed to parse cart data:",u),[]}});v.useEffect(()=>{localStorage.setItem("ambrosia_cart",JSON.stringify(t))},[t]);const r=u=>{n(c=>{const f=c.find(h=>h.id===u.id);return f?f.quantity>=50?c:c.map(h=>h.id===u.id?{...h,quantity:h.quantity+1}:h):[...c,{...u,quantity:1}]})},i=u=>{n(c=>c.filter(f=>f.id!==u))},a=(u,c)=>{if(c<1){i(u);return}c>50||n(f=>f.map(h=>h.id===u?{...h,quantity:c}:h))},s=()=>n([]),o=t.reduce((u,c)=>u+c.price*c.quantity,0),l=t.reduce((u,c)=>u+c.quantity,0);return m.jsx(wR.Provider,{value:{cartItems:t,addToCart:r,removeFromCart:i,updateQuantity:a,clearCart:s,cartTotal:o,cartCount:l},children:e})},ZB=()=>{};var oT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},JB=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[n++];t[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=e[n++],s=e[n++],o=e[n++],l=((i&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const a=e[n++],s=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return t.join("")},SR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const a=e[i],s=i+1<e.length,o=s?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=a>>2,f=(a&3)<<4|o>>4;let h=(o&15)<<2|u>>6,p=u&63;l||(p=64,s||(h=64)),r.push(n[c],n[f],n[h],n[p])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ER(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):JB(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const f=i<e.length?n[e.charAt(i)]:64;if(++i,a==null||o==null||u==null||f==null)throw new e8;const h=a<<2|o>>4;if(r.push(h),u!==64){const p=o<<4&240|u>>2;if(r.push(p),f!==64){const g=u<<6&192|f;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class e8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const t8=function(e){const t=ER(e);return SR.encodeByteArray(t,!0)},Xm=function(e){return t8(e).replace(/\./g,"")},AR=function(e){try{return SR.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r8=()=>n8().__FIREBASE_DEFAULTS__,i8=()=>{if(typeof process>"u"||typeof oT>"u")return;const e=oT.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},a8=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&AR(e[1]);return t&&JSON.parse(t)},Ag=()=>{try{return ZB()||r8()||i8()||a8()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},TR=e=>{var t,n;return(n=(t=Ag())==null?void 0:t.emulatorHosts)==null?void 0:n[e]},s8=e=>{const t=TR(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},CR=()=>{var e;return(e=Ag())==null?void 0:e.config},NR=e=>{var t;return(t=Ag())==null?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o8{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function du(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function OR(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l8(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...e};return[Xm(JSON.stringify(n)),Xm(JSON.stringify(s)),""].join(".")}const zc={};function u8(){const e={prod:[],emulator:[]};for(const t of Object.keys(zc))zc[t]?e.emulator.push(t):e.prod.push(t);return e}function c8(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let lT=!1;function IR(e,t){if(typeof window>"u"||typeof document>"u"||!du(window.location.host)||zc[e]===t||zc[e]||lT)return;zc[e]=t;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",a=u8().prod.length>0;function s(){const h=document.getElementById(r);h&&h.remove()}function o(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,p){h.setAttribute("width","24"),h.setAttribute("id",p),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function u(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{lT=!0,s()},h}function c(h,p){h.setAttribute("id",p),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=c8(r),p=n("text"),g=document.getElementById(p)||document.createElement("span"),_=n("learnmore"),b=document.getElementById(_)||document.createElement("a"),w=n("preprendIcon"),x=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const E=h.element;o(E),c(b,_);const T=u();l(x,w),E.append(x,g,b,T),document.body.appendChild(E)}a?(g.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function f8(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yn())}function d8(){var t;const e=(t=Ag())==null?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function h8(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function m8(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function p8(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function g8(){const e=yn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function y8(){return!d8()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function v8(){try{return typeof indexedDB=="object"}catch{return!1}}function b8(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;t(((a=i.error)==null?void 0:a.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x8="FirebaseError";class sa extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=x8,Object.setPrototypeOf(this,sa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rd.prototype.create)}}class rd{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,a=this.errors[t],s=a?_8(a,r):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new sa(i,o,r)}}function _8(e,t){return e.replace(w8,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const w8=/\{\$([^}]+)}/g;function E8(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function fo(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const a=e[i],s=t[i];if(uT(a)&&uT(s)){if(!fo(a,s))return!1}else if(a!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function uT(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function id(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function yc(e){const t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");t[decodeURIComponent(i)]=decodeURIComponent(a)}}),t}function vc(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function S8(e,t){const n=new A8(e,t);return n.subscribe.bind(n)}class A8{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");T8(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=Kv),i.error===void 0&&(i.error=Kv),i.complete===void 0&&(i.complete=Kv);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function T8(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Kv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(e){return e&&e._delegate?e._delegate:e}class ho{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let C8=class{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new o8;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(O8(t))try{this.getOrInitializeService({instanceIdentifier:Bs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(t=Bs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Bs){return this.instances.has(t)}getOptions(t=Bs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);r===o&&s.resolve(i)}return i}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(t),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&t(a,r),()=>{i.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:N8(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Bs){return this.component?this.component.multipleInstances?t:Bs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function N8(e){return e===Bs?void 0:e}function O8(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I8{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new C8(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(pe||(pe={}));const P8={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},j8=pe.INFO,R8={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},D8=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=R8[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class nw{constructor(t){this.name=t,this._logLevel=j8,this._logHandler=D8,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in pe))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?P8[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...t),this._logHandler(this,pe.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...t),this._logHandler(this,pe.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...t),this._logHandler(this,pe.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...t),this._logHandler(this,pe.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...t),this._logHandler(this,pe.ERROR,...t)}}const k8=(e,t)=>t.some(n=>e instanceof n);let cT,fT;function M8(){return cT||(cT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function L8(){return fT||(fT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const PR=new WeakMap,Nb=new WeakMap,jR=new WeakMap,Yv=new WeakMap,rw=new WeakMap;function V8(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",a),e.removeEventListener("error",s)},a=()=>{n(Za(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",a),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&PR.set(n,e)}).catch(()=>{}),rw.set(t,e),t}function U8(e){if(Nb.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",s),e.removeEventListener("abort",s)},a=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",a),e.addEventListener("error",s),e.addEventListener("abort",s)});Nb.set(e,t)}let Ob={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Nb.get(e);if(t==="objectStoreNames")return e.objectStoreNames||jR.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Za(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function z8(e){Ob=e(Ob)}function B8(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Wv(this),t,...n);return jR.set(r,t.sort?t.sort():[t]),Za(r)}:L8().includes(e)?function(...t){return e.apply(Wv(this),t),Za(PR.get(this))}:function(...t){return Za(e.apply(Wv(this),t))}}function $8(e){return typeof e=="function"?B8(e):(e instanceof IDBTransaction&&U8(e),k8(e,M8())?new Proxy(e,Ob):e)}function Za(e){if(e instanceof IDBRequest)return V8(e);if(Yv.has(e))return Yv.get(e);const t=$8(e);return t!==e&&(Yv.set(e,t),rw.set(t,e)),t}const Wv=e=>rw.get(e);function F8(e,t,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const s=indexedDB.open(e,t),o=Za(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Za(s.result),l.oldVersion,l.newVersion,Za(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const q8=["get","getKey","getAll","getAllKeys","count"],H8=["put","add","delete","clear"],Xv=new Map;function dT(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Xv.get(t))return Xv.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=H8.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||q8.includes(n)))return;const a=async function(s,...o){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(o.shift())),(await Promise.all([u[n](...o),i&&l.done]))[0]};return Xv.set(t,a),a}z8(e=>({...e,get:(t,n,r)=>dT(t,n)||e.get(t,n,r),has:(t,n)=>!!dT(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G8{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(K8(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function K8(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Ib="@firebase/app",hT="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi=new nw("@firebase/app"),Y8="@firebase/app-compat",W8="@firebase/analytics-compat",X8="@firebase/analytics",Q8="@firebase/app-check-compat",Z8="@firebase/app-check",J8="@firebase/auth",e$="@firebase/auth-compat",t$="@firebase/database",n$="@firebase/data-connect",r$="@firebase/database-compat",i$="@firebase/functions",a$="@firebase/functions-compat",s$="@firebase/installations",o$="@firebase/installations-compat",l$="@firebase/messaging",u$="@firebase/messaging-compat",c$="@firebase/performance",f$="@firebase/performance-compat",d$="@firebase/remote-config",h$="@firebase/remote-config-compat",m$="@firebase/storage",p$="@firebase/storage-compat",g$="@firebase/firestore",y$="@firebase/ai",v$="@firebase/firestore-compat",b$="firebase",x$="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb="[DEFAULT]",_$={[Ib]:"fire-core",[Y8]:"fire-core-compat",[X8]:"fire-analytics",[W8]:"fire-analytics-compat",[Z8]:"fire-app-check",[Q8]:"fire-app-check-compat",[J8]:"fire-auth",[e$]:"fire-auth-compat",[t$]:"fire-rtdb",[n$]:"fire-data-connect",[r$]:"fire-rtdb-compat",[i$]:"fire-fn",[a$]:"fire-fn-compat",[s$]:"fire-iid",[o$]:"fire-iid-compat",[l$]:"fire-fcm",[u$]:"fire-fcm-compat",[c$]:"fire-perf",[f$]:"fire-perf-compat",[d$]:"fire-rc",[h$]:"fire-rc-compat",[m$]:"fire-gcs",[p$]:"fire-gcs-compat",[g$]:"fire-fst",[v$]:"fire-fst-compat",[y$]:"fire-vertex","fire-js":"fire-js",[b$]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qm=new Map,w$=new Map,jb=new Map;function mT(e,t){try{e.container.addComponent(t)}catch(n){Wi.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Bl(e){const t=e.name;if(jb.has(t))return Wi.debug(`There were multiple attempts to register component ${t}.`),!1;jb.set(t,e);for(const n of Qm.values())mT(n,e);for(const n of w$.values())mT(n,e);return!0}function iw(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Or(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ja=new rd("app","Firebase",E$);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S${constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ho("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ja.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hu=x$;function RR(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r={name:Pb,automaticDataCollectionEnabled:!0,...t},i=r.name;if(typeof i!="string"||!i)throw Ja.create("bad-app-name",{appName:String(i)});if(n||(n=CR()),!n)throw Ja.create("no-options");const a=Qm.get(i);if(a){if(fo(n,a.options)&&fo(r,a.config))return a;throw Ja.create("duplicate-app",{appName:i})}const s=new I8(i);for(const l of jb.values())s.addComponent(l);const o=new S$(n,r,s);return Qm.set(i,o),o}function DR(e=Pb){const t=Qm.get(e);if(!t&&e===Pb&&CR())return RR();if(!t)throw Ja.create("no-app",{appName:e});return t}function es(e,t,n){let r=_$[e]??e;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=t.match(/\s|\//);if(i||a){const s=[`Unable to register library "${r}" with version "${t}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&s.push("and"),a&&s.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Wi.warn(s.join(" "));return}Bl(new ho(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A$="firebase-heartbeat-database",T$=1,uf="firebase-heartbeat-store";let Qv=null;function kR(){return Qv||(Qv=F8(A$,T$,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(uf)}catch(n){console.warn(n)}}}}).catch(e=>{throw Ja.create("idb-open",{originalErrorMessage:e.message})})),Qv}async function C$(e){try{const n=(await kR()).transaction(uf),r=await n.objectStore(uf).get(MR(e));return await n.done,r}catch(t){if(t instanceof sa)Wi.warn(t.message);else{const n=Ja.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Wi.warn(n.message)}}}async function pT(e,t){try{const r=(await kR()).transaction(uf,"readwrite");await r.objectStore(uf).put(t,MR(e)),await r.done}catch(n){if(n instanceof sa)Wi.warn(n.message);else{const r=Ja.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Wi.warn(r.message)}}}function MR(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N$=1024,O$=30;class I${constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new j$(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=gT();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>O$){const s=R$(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Wi.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=gT(),{heartbeatsToSend:r,unsentEntries:i}=P$(this._heartbeatsCache.heartbeats),a=Xm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Wi.warn(n),""}}}function gT(){return new Date().toISOString().substring(0,10)}function P$(e,t=N$){const n=[];let r=e.slice();for(const i of e){const a=n.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),yT(n)>t){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),yT(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class j${constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return v8()?b8().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await C$(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return pT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return pT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function yT(e){return Xm(JSON.stringify({version:2,heartbeats:e})).length}function R$(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D$(e){Bl(new ho("platform-logger",t=>new G8(t),"PRIVATE")),Bl(new ho("heartbeat",t=>new I$(t),"PRIVATE")),es(Ib,hT,e),es(Ib,hT,"esm2020"),es("fire-js","")}D$("");var k$="firebase",M$="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */es(k$,M$,"app");function LR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const L$=LR,VR=new rd("auth","Firebase",LR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zm=new nw("@firebase/auth");function V$(e,...t){Zm.logLevel<=pe.WARN&&Zm.warn(`Auth (${hu}): ${e}`,...t)}function rm(e,...t){Zm.logLevel<=pe.ERROR&&Zm.error(`Auth (${hu}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(e,...t){throw aw(e,...t)}function ri(e,...t){return aw(e,...t)}function UR(e,t,n){const r={...L$(),[t]:n};return new rd("auth","Firebase",r).create(t,{appName:e.name})}function ts(e){return UR(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function aw(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return VR.create(e,...t)}function ne(e,t,...n){if(!e)throw aw(t,...n)}function Ri(e){const t="INTERNAL ASSERTION FAILED: "+e;throw rm(t),new Error(t)}function Xi(e,t){e||Ri(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.href)||""}function U$(){return vT()==="http:"||vT()==="https:"}function vT(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(U$()||m8()||"connection"in navigator)?navigator.onLine:!0}function B$(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(t,n){this.shortDelay=t,this.longDelay=n,Xi(n>t,"Short delay should be less than long delay!"),this.isMobile=f8()||p8()}get(){return z$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(e,t){Xi(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ri("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ri("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ri("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F$=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],q$=new ad(3e4,6e4);function Io(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Ss(e,t,n,r,i={}){return BR(e,i,async()=>{let a={},s={};r&&(t==="GET"?s=r:a={body:JSON.stringify(r)});const o=id({key:e.config.apiKey,...s}).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const u={method:t,headers:l,...a};return h8()||(u.referrerPolicy="no-referrer"),e.emulatorConfig&&du(e.emulatorConfig.host)&&(u.credentials="include"),zR.fetch()(await $R(e,e.config.apiHost,n,o),u)})}async function BR(e,t,n){e._canInitEmulator=!1;const r={...$$,...t};try{const i=new G$(e),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw vh(e,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const o=a.ok?s.errorMessage:s.error.message,[l,u]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw vh(e,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw vh(e,"email-already-in-use",s);if(l==="USER_DISABLED")throw vh(e,"user-disabled",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw UR(e,c,u);Lr(e,c)}}catch(i){if(i instanceof sa)throw i;Lr(e,"network-request-failed",{message:String(i)})}}async function Tg(e,t,n,r,i={}){const a=await Ss(e,t,n,r,i);return"mfaPendingCredential"in a&&Lr(e,"multi-factor-auth-required",{_serverResponse:a}),a}async function $R(e,t,n,r){const i=`${t}${n}?${r}`,a=e,s=a.config.emulator?sw(e.config,i):`${e.config.apiScheme}://${i}`;return F$.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(s).toString():s}function H$(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class G${clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ri(this.auth,"network-request-failed")),q$.get())})}}function vh(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ri(e,t,r);return i.customData._tokenResponse=n,i}function bT(e){return e!==void 0&&e.enterprise!==void 0}class K${constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return H$(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Y$(e,t){return Ss(e,"GET","/v2/recaptchaConfig",Io(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W$(e,t){return Ss(e,"POST","/v1/accounts:delete",t)}async function Jm(e,t){return Ss(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bc(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function X$(e,t=!1){const n=dt(e),r=await n.getIdToken(t),i=ow(r);ne(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Bc(Zv(i.auth_time)),issuedAtTime:Bc(Zv(i.iat)),expirationTime:Bc(Zv(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Zv(e){return Number(e)*1e3}function ow(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return rm("JWT malformed, contained fewer than 3 sections"),null;try{const i=AR(n);return i?JSON.parse(i):(rm("Failed to decode base64 JWT payload"),null)}catch(i){return rm("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function xT(e){const t=ow(e);return ne(t,"internal-error"),ne(typeof t.exp<"u","internal-error"),ne(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cf(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof sa&&Q$(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function Q$({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z${constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bc(this.lastLoginAt),this.creationTime=Bc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ep(e){var f;const t=e.auth,n=await e.getIdToken(),r=await cf(e,Jm(t,{idToken:n}));ne(r==null?void 0:r.users.length,t,"internal-error");const i=r.users[0];e._notifyReloadListener(i);const a=(f=i.providerUserInfo)!=null&&f.length?FR(i.providerUserInfo):[],s=e7(e.providerData,a),o=e.isAnonymous,l=!(e.email&&i.passwordHash)&&!(s!=null&&s.length),u=o?l:!1,c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Db(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(e,c)}async function J$(e){const t=dt(e);await ep(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function e7(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function FR(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t7(e,t){const n=await BR(e,{},async()=>{const r=id({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:a}=e.config,s=await $R(e,i,"/v1/token",`key=${a}`),o=await e._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:r};return e.emulatorConfig&&du(e.emulatorConfig.host)&&(l.credentials="include"),zR.fetch()(s,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function n7(e,t){return Ss(e,"POST","/v2/accounts:revokeToken",Io(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){ne(t.idToken,"internal-error"),ne(typeof t.idToken<"u","internal-error"),ne(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):xT(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){ne(t.length!==0,"internal-error");const n=xT(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ne(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await t7(t,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,s=new wl;return r&&(ne(typeof r=="string","internal-error",{appName:t}),s.refreshToken=r),i&&(ne(typeof i=="string","internal-error",{appName:t}),s.accessToken=i),a&&(ne(typeof a=="number","internal-error",{appName:t}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new wl,this.toJSON())}_performRefresh(){return Ri("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wa(e,t){ne(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Rr{constructor({uid:t,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new Z$(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Db(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){const n=await cf(this,this.stsTokenManager.getToken(this.auth,t));return ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return X$(this,t)}reload(){return J$(this)}_assign(t){this!==t&&(ne(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Rr({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await ep(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Or(this.auth.app))return Promise.reject(ts(this.auth));const t=await this.getIdToken();return await cf(this,W$(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,s=n.photoURL??void 0,o=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,c=n.lastLoginAt??void 0,{uid:f,emailVerified:h,isAnonymous:p,providerData:g,stsTokenManager:_}=n;ne(f&&_,t,"internal-error");const b=wl.fromJSON(this.name,_);ne(typeof f=="string",t,"internal-error"),wa(r,t.name),wa(i,t.name),ne(typeof h=="boolean",t,"internal-error"),ne(typeof p=="boolean",t,"internal-error"),wa(a,t.name),wa(s,t.name),wa(o,t.name),wa(l,t.name),wa(u,t.name),wa(c,t.name);const w=new Rr({uid:f,auth:t,email:i,emailVerified:h,displayName:r,isAnonymous:p,photoURL:s,phoneNumber:a,tenantId:o,stsTokenManager:b,createdAt:u,lastLoginAt:c});return g&&Array.isArray(g)&&(w.providerData=g.map(x=>({...x}))),l&&(w._redirectEventId=l),w}static async _fromIdTokenResponse(t,n,r=!1){const i=new wl;i.updateFromServerResponse(n);const a=new Rr({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await ep(a),a}static async _fromGetAccountInfoResponse(t,n,r){const i=n.users[0];ne(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?FR(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),o=new wl;o.updateFromIdToken(r);const l=new Rr({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Db(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T=new Map;function Di(e){Xi(e instanceof Function,"Expected a class definition");let t=_T.get(e);return t?(Xi(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,_T.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}qR.type="NONE";const wT=qR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function im(e,t,n){return`firebase:${e}:${t}:${n}`}class El{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=im(this.userKey,i.apiKey,a),this.fullPersistenceKey=im("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Jm(this.auth,{idToken:t}).catch(()=>{});return n?Rr._fromGetAccountInfoResponse(this.auth,n,t):null}return Rr._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new El(Di(wT),t,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=i[0]||Di(wT);const s=im(r,t.config.apiKey,t.name);let o=null;for(const u of n)try{const c=await u._get(s);if(c){let f;if(typeof c=="string"){const h=await Jm(t,{idToken:c}).catch(()=>{});if(!h)break;f=await Rr._fromGetAccountInfoResponse(t,h,c)}else f=Rr._fromJSON(t,c);u!==a&&(o=f),a=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new El(a,t,r):(a=l[0],o&&await a._set(s,o.toJSON()),await Promise.all(n.map(async u=>{if(u!==a)try{await u._remove(s)}catch{}})),new El(a,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(YR(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(HR(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(XR(t))return"Blackberry";if(QR(t))return"Webos";if(GR(t))return"Safari";if((t.includes("chrome/")||KR(t))&&!t.includes("edge/"))return"Chrome";if(WR(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function HR(e=yn()){return/firefox\//i.test(e)}function GR(e=yn()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function KR(e=yn()){return/crios\//i.test(e)}function YR(e=yn()){return/iemobile/i.test(e)}function WR(e=yn()){return/android/i.test(e)}function XR(e=yn()){return/blackberry/i.test(e)}function QR(e=yn()){return/webos/i.test(e)}function lw(e=yn()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function r7(e=yn()){var t;return lw(e)&&!!((t=window.navigator)!=null&&t.standalone)}function i7(){return g8()&&document.documentMode===10}function ZR(e=yn()){return lw(e)||WR(e)||QR(e)||XR(e)||/windows phone/i.test(e)||YR(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(e,t=[]){let n;switch(e){case"Browser":n=ET(yn());break;case"Worker":n=`${ET(yn())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${hu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a7{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=a=>new Promise((s,o)=>{try{const l=t(a);s(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s7(e,t={}){return Ss(e,"GET","/v2/passwordPolicy",Io(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o7=6;class l7{constructor(t){var r;const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??o7,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=t.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u7{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ST(this),this.idTokenSubscription=new ST(this),this.beforeStateQueue=new a7(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=VR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Di(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await El.create(this,t),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Jm(this,{idToken:t}),r=await Rr._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var a;if(Or(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(a=this.redirectUser)==null?void 0:a._redirectEventId,o=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(t);(!s||s===o)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await ep(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=B$()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Or(this.app))return Promise.reject(ts(this));const n=t?dt(t):null;return n&&ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&ne(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Or(this.app)?Promise.reject(ts(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Or(this.app)?Promise.reject(ts(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Di(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await s7(this),n=new l7(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new rd("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await n7(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Di(t)||this._popupRedirectResolver;ne(n,this,"argument-error"),this.redirectPersistenceManager=await El.create(this,[Di(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(ne(o,this,"internal-error"),o.then(()=>{s||a(this.currentUser)}),typeof n=="function"){const l=t.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=t.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=JR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var n;if(Or(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return t!=null&&t.error&&V$(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function mu(e){return dt(e)}class ST{constructor(t){this.auth=t,this.observer=null,this.addObserver=S8(n=>this.observer=n)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function c7(e){Cg=e}function eD(e){return Cg.loadJS(e)}function f7(){return Cg.recaptchaEnterpriseScript}function d7(){return Cg.gapiScript}function h7(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class m7{constructor(){this.enterprise=new p7}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class p7{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const g7="recaptcha-enterprise",tD="NO_RECAPTCHA";class y7{constructor(t){this.type=g7,this.auth=mu(t)}async verify(t="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,o)=>{Y$(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const u=new K$(l);return a.tenantId==null?a._agentRecaptchaConfig=u:a._tenantRecaptchaConfigs[a.tenantId]=u,s(u.siteKey)}}).catch(l=>{o(l)})})}function i(a,s,o){const l=window.grecaptcha;bT(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:t}).then(u=>{s(u)}).catch(()=>{s(tD)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new m7().execute("siteKey",{action:"verify"}):new Promise((a,s)=>{r(this.auth).then(o=>{if(!n&&bT(window.grecaptcha))i(o,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=f7();l.length!==0&&(l+=o),eD(l).then(()=>{i(o,a,s)}).catch(u=>{s(u)})}}).catch(o=>{s(o)})})}}async function AT(e,t,n,r=!1,i=!1){const a=new y7(e);let s;if(i)s=tD;else try{s=await a.verify(n)}catch{s=await a.verify(n,!0)}const o={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,u=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function TT(e,t,n,r,i){var a;if((a=e._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await AT(e,t,n,n==="getOobCode");return r(e,s)}else return r(e,t).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await AT(e,t,n,n==="getOobCode");return r(e,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v7(e,t){const n=iw(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(fo(a,t??{}))return i;Lr(i,"already-initialized")}return n.initialize({options:t})}function b7(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Di);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function x7(e,t,n){const r=mu(e);ne(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!1,a=nD(t),{host:s,port:o}=_7(t),l=o===null?"":`:${o}`,u={url:`${a}//${s}${l}/`},c=Object.freeze({host:s,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ne(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ne(fo(u,r.config.emulator)&&fo(c,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=c,r.settings.appVerificationDisabledForTesting=!0,du(s)?(OR(`${a}//${s}${l}`),IR("Auth",!0)):w7()}function nD(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function _7(e){const t=nD(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:CT(r.substr(a.length+1))}}else{const[a,s]=r.split(":");return{host:a,port:CT(s)}}}function CT(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function w7(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Ri("not implemented")}_getIdTokenResponse(t){return Ri("not implemented")}_linkToIdToken(t,n){return Ri("not implemented")}_getReauthenticationResolver(t){return Ri("not implemented")}}async function E7(e,t){return Ss(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S7(e,t){return Tg(e,"POST","/v1/accounts:signInWithPassword",Io(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A7(e,t){return Tg(e,"POST","/v1/accounts:signInWithEmailLink",Io(e,t))}async function T7(e,t){return Tg(e,"POST","/v1/accounts:signInWithEmailLink",Io(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff extends uw{constructor(t,n,r,i=null){super("password",r),this._email=t,this._password=n,this._tenantId=i}static _fromEmailAndPassword(t,n){return new ff(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new ff(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return TT(t,n,"signInWithPassword",S7);case"emailLink":return A7(t,{email:this._email,oobCode:this._password});default:Lr(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return TT(t,r,"signUpPassword",E7);case"emailLink":return T7(t,{idToken:n,email:this._email,oobCode:this._password});default:Lr(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sl(e,t){return Tg(e,"POST","/v1/accounts:signInWithIdp",Io(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C7="http://localhost";class mo extends uw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new mo(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Lr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const s=new mo(r,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(t){const n=this.buildRequest();return Sl(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Sl(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Sl(t,n)}buildRequest(){const t={requestUri:C7,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=id(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N7(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function O7(e){const t=yc(vc(e)).link,n=t?yc(vc(t)).deep_link_id:null,r=yc(vc(e)).deep_link_id;return(r?yc(vc(r)).link:null)||r||n||t||e}class cw{constructor(t){const n=yc(vc(t)),r=n.apiKey??null,i=n.oobCode??null,a=N7(n.mode??null);ne(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=O7(t);try{return new cw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(){this.providerId=pu.PROVIDER_ID}static credential(t,n){return ff._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=cw.parseLink(n);return ne(r,"argument-error"),ff._fromEmailAndCode(t,r.code,r.tenantId)}}pu.PROVIDER_ID="password";pu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";pu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd extends rD{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa extends sd{constructor(){super("facebook.com")}static credential(t){return mo._fromParams({providerId:Pa.PROVIDER_ID,signInMethod:Pa.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Pa.credentialFromTaggedObject(t)}static credentialFromError(t){return Pa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Pa.credential(t.oauthAccessToken)}catch{return null}}}Pa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja extends sd{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return mo._fromParams({providerId:ja.PROVIDER_ID,signInMethod:ja.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return ja.credentialFromTaggedObject(t)}static credentialFromError(t){return ja.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return ja.credential(n,r)}catch{return null}}}ja.GOOGLE_SIGN_IN_METHOD="google.com";ja.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra extends sd{constructor(){super("github.com")}static credential(t){return mo._fromParams({providerId:Ra.PROVIDER_ID,signInMethod:Ra.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ra.credentialFromTaggedObject(t)}static credentialFromError(t){return Ra.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ra.credential(t.oauthAccessToken)}catch{return null}}}Ra.GITHUB_SIGN_IN_METHOD="github.com";Ra.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da extends sd{constructor(){super("twitter.com")}static credential(t,n){return mo._fromParams({providerId:Da.PROVIDER_ID,signInMethod:Da.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Da.credentialFromTaggedObject(t)}static credentialFromError(t){return Da.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Da.credential(n,r)}catch{return null}}}Da.TWITTER_SIGN_IN_METHOD="twitter.com";Da.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const a=await Rr._fromIdTokenResponse(t,r,i),s=NT(r);return new $l({user:a,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=NT(r);return new $l({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function NT(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp extends sa{constructor(t,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,tp.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new tp(t,n,r,i)}}function iD(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?tp._fromErrorAndOperation(e,a,t,r):a})}async function I7(e,t,n=!1){const r=await cf(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return $l._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P7(e,t,n=!1){const{auth:r}=e;if(Or(r.app))return Promise.reject(ts(r));const i="reauthenticate";try{const a=await cf(e,iD(r,i,t,e),n);ne(a.idToken,r,"internal-error");const s=ow(a.idToken);ne(s,r,"internal-error");const{sub:o}=s;return ne(e.uid===o,r,"user-mismatch"),$l._forOperation(e,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Lr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aD(e,t,n=!1){if(Or(e.app))return Promise.reject(ts(e));const r="signIn",i=await iD(e,r,t),a=await $l._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(a.user),a}async function j7(e,t){return aD(mu(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R7(e){const t=mu(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function D7(e,t,n){return Or(e.app)?Promise.reject(ts(e)):j7(dt(e),pu.credential(t,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&R7(e),r})}function k7(e,t,n,r){return dt(e).onIdTokenChanged(t,n,r)}function M7(e,t,n){return dt(e).beforeAuthStateChanged(t,n)}function L7(e,t,n,r){return dt(e).onAuthStateChanged(t,n,r)}function kb(e){return dt(e).signOut()}const np="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(np,"1"),this.storage.removeItem(np),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V7=1e3,U7=10;class oD extends sD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ZR(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((s,o,l)=>{this.notifyListeners(s,l)});return}const r=t.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},a=this.storage.getItem(r);i7()&&a!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,U7):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},V7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}oD.type="LOCAL";const z7=oD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD extends sD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}lD.type="SESSION";const uD=lD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B7(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new Ng(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:a}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(s).map(async u=>u(n.origin,a)),l=await B7(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ng.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $7{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((o,l)=>{const u=fw("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),o(h.data.response);break;default:clearTimeout(c),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(){return window}function F7(e){ii().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cD(){return typeof ii().WorkerGlobalScope<"u"&&typeof ii().importScripts=="function"}async function q7(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function H7(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)==null?void 0:e.controller)||null}function G7(){return cD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD="firebaseLocalStorageDb",K7=1,rp="firebaseLocalStorage",dD="fbase_key";class od{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Og(e,t){return e.transaction([rp],t?"readwrite":"readonly").objectStore(rp)}function Y7(){const e=indexedDB.deleteDatabase(fD);return new od(e).toPromise()}function Mb(){const e=indexedDB.open(fD,K7);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(rp,{keyPath:dD})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(rp)?t(r):(r.close(),await Y7(),t(await Mb()))})})}async function OT(e,t,n){const r=Og(e,!0).put({[dD]:t,value:n});return new od(r).toPromise()}async function W7(e,t){const n=Og(e,!1).get(t),r=await new od(n).toPromise();return r===void 0?null:r.value}function IT(e,t){const n=Og(e,!0).delete(t);return new od(n).toPromise()}const X7=800,Q7=3;class hD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Mb(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>Q7)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ng._getInstance(G7()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await q7(),!this.activeServiceWorker)return;this.sender=new $7(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(n=t[0])!=null&&n.fulfilled&&(r=t[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||H7()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Mb();return await OT(t,np,"1"),await IT(t,np),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>OT(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>W7(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>IT(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const a=Og(i,!1).getAll();return new od(a).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:i,value:a}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),X7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}hD.type="LOCAL";const Z7=hD;new ad(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J7(e,t){return t?Di(t):(ne(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw extends uw{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Sl(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Sl(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Sl(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function eF(e){return aD(e.auth,new dw(e),e.bypassAuthState)}function tF(e){const{auth:t,user:n}=e;return ne(n,t,"internal-error"),P7(n,new dw(e),e.bypassAuthState)}async function nF(e){const{auth:t,user:n}=e;return ne(n,t,"internal-error"),I7(n,new dw(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(t,n,r,i,a=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:s,type:o}=t;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return eF;case"linkViaPopup":case"linkViaRedirect":return nF;case"reauthViaPopup":case"reauthViaRedirect":return tF;default:Lr(this.auth,"internal-error")}}resolve(t){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rF=new ad(2e3,1e4);class fl extends mD{constructor(t,n,r,i,a){super(t,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,fl.currentPopupAction&&fl.currentPopupAction.cancel(),fl.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return ne(t,this.auth,"internal-error"),t}async onExecution(){Xi(this.filter.length===1,"Popup operations only handle one event");const t=fw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fl.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,rF.get())};t()}}fl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iF="pendingRedirect",am=new Map;class aF extends mD{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=am.get(this.auth._key());if(!t){try{const r=await sF(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}am.set(this.auth._key(),t)}return this.bypassAuthState||am.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function sF(e,t){const n=uF(t),r=lF(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function oF(e,t){am.set(e._key(),t)}function lF(e){return Di(e._redirectPersistence)}function uF(e){return im(iF,e.config.apiKey,e.name)}async function cF(e,t,n=!1){if(Or(e.app))return Promise.reject(ts(e));const r=mu(e),i=J7(r,t),s=await new aF(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fF=10*60*1e3;class dF{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!hF(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!pD(t)){const i=((r=t.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(ri(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=fF&&this.cachedEventUids.clear(),this.cachedEventUids.has(PT(t))}saveEventToCache(t){this.cachedEventUids.add(PT(t)),this.lastProcessedEventTime=Date.now()}}function PT(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function pD({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function hF(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pD(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mF(e,t={}){return Ss(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gF=/^https?/;async function yF(e){if(e.config.emulator)return;const{authorizedDomains:t}=await mF(e);for(const n of t)try{if(vF(n))return}catch{}Lr(e,"unauthorized-domain")}function vF(e){const t=Rb(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const s=new URL(e);return s.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!gF.test(n))return!1;if(pF.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bF=new ad(3e4,6e4);function jT(){const e=ii().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function xF(e){return new Promise((t,n)=>{var i,a,s;function r(){jT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{jT(),n(ri(e,"network-request-failed"))},timeout:bF.get()})}if((a=(i=ii().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)t(gapi.iframes.getContext());else if((s=ii().gapi)!=null&&s.load)r();else{const o=h7("iframefcb");return ii()[o]=()=>{gapi.load?r():n(ri(e,"network-request-failed"))},eD(`${d7()}?onload=${o}`).catch(l=>n(l))}}).catch(t=>{throw sm=null,t})}let sm=null;function _F(e){return sm=sm||xF(e),sm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wF=new ad(5e3,15e3),EF="__/auth/iframe",SF="emulator/auth/iframe",AF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},TF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function CF(e){const t=e.config;ne(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?sw(t,SF):`https://${e.config.authDomain}/${EF}`,r={apiKey:t.apiKey,appName:e.name,v:hu},i=TF.get(e.config.apiHost);i&&(r.eid=i);const a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${id(r).slice(1)}`}async function NF(e){const t=await _F(e),n=ii().gapi;return ne(n,e,"internal-error"),t.open({where:document.body,url:CF(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:AF,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const s=ri(e,"network-request-failed"),o=ii().setTimeout(()=>{a(s)},wF.get());function l(){ii().clearTimeout(o),i(r)}r.ping(l).then(l,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},IF=500,PF=600,jF="_blank",RF="http://localhost";class RT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function DF(e,t,n,r=IF,i=PF){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l={...OF,width:r.toString(),height:i.toString(),top:a,left:s},u=yn().toLowerCase();n&&(o=KR(u)?jF:n),HR(u)&&(t=t||RF,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[p,g])=>`${h}${p}=${g},`,"");if(r7(u)&&o!=="_self")return kF(t||"",o),new RT(null);const f=window.open(t||"",o,c);ne(f,e,"popup-blocked");try{f.focus()}catch{}return new RT(f)}function kF(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MF="__/auth/handler",LF="emulator/auth/handler",VF=encodeURIComponent("fac");async function DT(e,t,n,r,i,a){ne(e.config.authDomain,e,"auth-domain-config-required"),ne(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:hu,eventId:i};if(t instanceof rD){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",E8(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[c,f]of Object.entries({}))s[c]=f}if(t instanceof sd){const c=t.getScopes().filter(f=>f!=="");c.length>0&&(s.scopes=c.join(","))}e.tenantId&&(s.tid=e.tenantId);const o=s;for(const c of Object.keys(o))o[c]===void 0&&delete o[c];const l=await e._getAppCheckToken(),u=l?`#${VF}=${encodeURIComponent(l)}`:"";return`${UF(e)}?${id(o).slice(1)}${u}`}function UF({config:e}){return e.emulator?sw(e,LF):`https://${e.authDomain}/${MF}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv="webStorageSupport";class zF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uD,this._completeRedirectFn=cF,this._overrideRedirectResult=oF}async _openPopup(t,n,r,i){var s;Xi((s=this.eventManagers[t._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await DT(t,n,r,Rb(),i);return DF(t,a,fw())}async _openRedirect(t,n,r,i){await this._originValidation(t);const a=await DT(t,n,r,Rb(),i);return F7(a),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(Xi(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await NF(t),r=new dF(t);return n.register("authEvent",i=>(ne(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Jv,{type:Jv},i=>{var s;const a=(s=i==null?void 0:i[0])==null?void 0:s[Jv];a!==void 0&&n(!!a),Lr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=yF(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return ZR()||GR()||lw()}}const BF=zF;var kT="@firebase/auth",MT="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $F{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FF(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qF(e){Bl(new ho("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),a=t.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=r.options;ne(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:o,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:JR(e)},u=new u7(r,i,a,l);return b7(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Bl(new ho("auth-internal",t=>{const n=mu(t.getProvider("auth").getImmediate());return(r=>new $F(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),es(kT,MT,FF(e)),es(kT,MT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HF=5*60,GF=NR("authIdTokenMaxAge")||HF;let LT=null;const KF=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>GF)return;const i=n==null?void 0:n.token;LT!==i&&(LT=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function YF(e=DR()){const t=iw(e,"auth");if(t.isInitialized())return t.getImmediate();const n=v7(e,{popupRedirectResolver:BF,persistence:[Z7,z7,uD]}),r=NR("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const s=KF(a.toString());M7(n,s,()=>s(n.currentUser)),k7(n,o=>s(o))}}const i=TR("auth");return i&&x7(n,`http://${i}`),n}function WF(){var e;return((e=document.getElementsByTagName("head"))==null?void 0:e[0])??document}c7({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const a=ri("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",WF().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qF("Browser");var VT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ns,gD;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(A,C){function N(){}N.prototype=C.prototype,A.F=C.prototype,A.prototype=new N,A.prototype.constructor=A,A.D=function(j,R,P){for(var D=Array(arguments.length-2),Z=2;Z<arguments.length;Z++)D[Z-2]=arguments[Z];return C.prototype[R].apply(j,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,C,N){N||(N=0);const j=Array(16);if(typeof C=="string")for(var R=0;R<16;++R)j[R]=C.charCodeAt(N++)|C.charCodeAt(N++)<<8|C.charCodeAt(N++)<<16|C.charCodeAt(N++)<<24;else for(R=0;R<16;++R)j[R]=C[N++]|C[N++]<<8|C[N++]<<16|C[N++]<<24;C=A.g[0],N=A.g[1],R=A.g[2];let P=A.g[3],D;D=C+(P^N&(R^P))+j[0]+3614090360&4294967295,C=N+(D<<7&4294967295|D>>>25),D=P+(R^C&(N^R))+j[1]+3905402710&4294967295,P=C+(D<<12&4294967295|D>>>20),D=R+(N^P&(C^N))+j[2]+606105819&4294967295,R=P+(D<<17&4294967295|D>>>15),D=N+(C^R&(P^C))+j[3]+3250441966&4294967295,N=R+(D<<22&4294967295|D>>>10),D=C+(P^N&(R^P))+j[4]+4118548399&4294967295,C=N+(D<<7&4294967295|D>>>25),D=P+(R^C&(N^R))+j[5]+1200080426&4294967295,P=C+(D<<12&4294967295|D>>>20),D=R+(N^P&(C^N))+j[6]+2821735955&4294967295,R=P+(D<<17&4294967295|D>>>15),D=N+(C^R&(P^C))+j[7]+4249261313&4294967295,N=R+(D<<22&4294967295|D>>>10),D=C+(P^N&(R^P))+j[8]+1770035416&4294967295,C=N+(D<<7&4294967295|D>>>25),D=P+(R^C&(N^R))+j[9]+2336552879&4294967295,P=C+(D<<12&4294967295|D>>>20),D=R+(N^P&(C^N))+j[10]+4294925233&4294967295,R=P+(D<<17&4294967295|D>>>15),D=N+(C^R&(P^C))+j[11]+2304563134&4294967295,N=R+(D<<22&4294967295|D>>>10),D=C+(P^N&(R^P))+j[12]+1804603682&4294967295,C=N+(D<<7&4294967295|D>>>25),D=P+(R^C&(N^R))+j[13]+4254626195&4294967295,P=C+(D<<12&4294967295|D>>>20),D=R+(N^P&(C^N))+j[14]+2792965006&4294967295,R=P+(D<<17&4294967295|D>>>15),D=N+(C^R&(P^C))+j[15]+1236535329&4294967295,N=R+(D<<22&4294967295|D>>>10),D=C+(R^P&(N^R))+j[1]+4129170786&4294967295,C=N+(D<<5&4294967295|D>>>27),D=P+(N^R&(C^N))+j[6]+3225465664&4294967295,P=C+(D<<9&4294967295|D>>>23),D=R+(C^N&(P^C))+j[11]+643717713&4294967295,R=P+(D<<14&4294967295|D>>>18),D=N+(P^C&(R^P))+j[0]+3921069994&4294967295,N=R+(D<<20&4294967295|D>>>12),D=C+(R^P&(N^R))+j[5]+3593408605&4294967295,C=N+(D<<5&4294967295|D>>>27),D=P+(N^R&(C^N))+j[10]+38016083&4294967295,P=C+(D<<9&4294967295|D>>>23),D=R+(C^N&(P^C))+j[15]+3634488961&4294967295,R=P+(D<<14&4294967295|D>>>18),D=N+(P^C&(R^P))+j[4]+3889429448&4294967295,N=R+(D<<20&4294967295|D>>>12),D=C+(R^P&(N^R))+j[9]+568446438&4294967295,C=N+(D<<5&4294967295|D>>>27),D=P+(N^R&(C^N))+j[14]+3275163606&4294967295,P=C+(D<<9&4294967295|D>>>23),D=R+(C^N&(P^C))+j[3]+4107603335&4294967295,R=P+(D<<14&4294967295|D>>>18),D=N+(P^C&(R^P))+j[8]+1163531501&4294967295,N=R+(D<<20&4294967295|D>>>12),D=C+(R^P&(N^R))+j[13]+2850285829&4294967295,C=N+(D<<5&4294967295|D>>>27),D=P+(N^R&(C^N))+j[2]+4243563512&4294967295,P=C+(D<<9&4294967295|D>>>23),D=R+(C^N&(P^C))+j[7]+1735328473&4294967295,R=P+(D<<14&4294967295|D>>>18),D=N+(P^C&(R^P))+j[12]+2368359562&4294967295,N=R+(D<<20&4294967295|D>>>12),D=C+(N^R^P)+j[5]+4294588738&4294967295,C=N+(D<<4&4294967295|D>>>28),D=P+(C^N^R)+j[8]+2272392833&4294967295,P=C+(D<<11&4294967295|D>>>21),D=R+(P^C^N)+j[11]+1839030562&4294967295,R=P+(D<<16&4294967295|D>>>16),D=N+(R^P^C)+j[14]+4259657740&4294967295,N=R+(D<<23&4294967295|D>>>9),D=C+(N^R^P)+j[1]+2763975236&4294967295,C=N+(D<<4&4294967295|D>>>28),D=P+(C^N^R)+j[4]+1272893353&4294967295,P=C+(D<<11&4294967295|D>>>21),D=R+(P^C^N)+j[7]+4139469664&4294967295,R=P+(D<<16&4294967295|D>>>16),D=N+(R^P^C)+j[10]+3200236656&4294967295,N=R+(D<<23&4294967295|D>>>9),D=C+(N^R^P)+j[13]+681279174&4294967295,C=N+(D<<4&4294967295|D>>>28),D=P+(C^N^R)+j[0]+3936430074&4294967295,P=C+(D<<11&4294967295|D>>>21),D=R+(P^C^N)+j[3]+3572445317&4294967295,R=P+(D<<16&4294967295|D>>>16),D=N+(R^P^C)+j[6]+76029189&4294967295,N=R+(D<<23&4294967295|D>>>9),D=C+(N^R^P)+j[9]+3654602809&4294967295,C=N+(D<<4&4294967295|D>>>28),D=P+(C^N^R)+j[12]+3873151461&4294967295,P=C+(D<<11&4294967295|D>>>21),D=R+(P^C^N)+j[15]+530742520&4294967295,R=P+(D<<16&4294967295|D>>>16),D=N+(R^P^C)+j[2]+3299628645&4294967295,N=R+(D<<23&4294967295|D>>>9),D=C+(R^(N|~P))+j[0]+4096336452&4294967295,C=N+(D<<6&4294967295|D>>>26),D=P+(N^(C|~R))+j[7]+1126891415&4294967295,P=C+(D<<10&4294967295|D>>>22),D=R+(C^(P|~N))+j[14]+2878612391&4294967295,R=P+(D<<15&4294967295|D>>>17),D=N+(P^(R|~C))+j[5]+4237533241&4294967295,N=R+(D<<21&4294967295|D>>>11),D=C+(R^(N|~P))+j[12]+1700485571&4294967295,C=N+(D<<6&4294967295|D>>>26),D=P+(N^(C|~R))+j[3]+2399980690&4294967295,P=C+(D<<10&4294967295|D>>>22),D=R+(C^(P|~N))+j[10]+4293915773&4294967295,R=P+(D<<15&4294967295|D>>>17),D=N+(P^(R|~C))+j[1]+2240044497&4294967295,N=R+(D<<21&4294967295|D>>>11),D=C+(R^(N|~P))+j[8]+1873313359&4294967295,C=N+(D<<6&4294967295|D>>>26),D=P+(N^(C|~R))+j[15]+4264355552&4294967295,P=C+(D<<10&4294967295|D>>>22),D=R+(C^(P|~N))+j[6]+2734768916&4294967295,R=P+(D<<15&4294967295|D>>>17),D=N+(P^(R|~C))+j[13]+1309151649&4294967295,N=R+(D<<21&4294967295|D>>>11),D=C+(R^(N|~P))+j[4]+4149444226&4294967295,C=N+(D<<6&4294967295|D>>>26),D=P+(N^(C|~R))+j[11]+3174756917&4294967295,P=C+(D<<10&4294967295|D>>>22),D=R+(C^(P|~N))+j[2]+718787259&4294967295,R=P+(D<<15&4294967295|D>>>17),D=N+(P^(R|~C))+j[9]+3951481745&4294967295,A.g[0]=A.g[0]+C&4294967295,A.g[1]=A.g[1]+(R+(D<<21&4294967295|D>>>11))&4294967295,A.g[2]=A.g[2]+R&4294967295,A.g[3]=A.g[3]+P&4294967295}r.prototype.v=function(A,C){C===void 0&&(C=A.length);const N=C-this.blockSize,j=this.C;let R=this.h,P=0;for(;P<C;){if(R==0)for(;P<=N;)i(this,A,P),P+=this.blockSize;if(typeof A=="string"){for(;P<C;)if(j[R++]=A.charCodeAt(P++),R==this.blockSize){i(this,j),R=0;break}}else for(;P<C;)if(j[R++]=A[P++],R==this.blockSize){i(this,j),R=0;break}}this.h=R,this.o+=C},r.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var C=1;C<A.length-8;++C)A[C]=0;C=this.o*8;for(var N=A.length-8;N<A.length;++N)A[N]=C&255,C/=256;for(this.v(A),A=Array(16),C=0,N=0;N<4;++N)for(let j=0;j<32;j+=8)A[C++]=this.g[N]>>>j&255;return A};function a(A,C){var N=o;return Object.prototype.hasOwnProperty.call(N,A)?N[A]:N[A]=C(A)}function s(A,C){this.h=C;const N=[];let j=!0;for(let R=A.length-1;R>=0;R--){const P=A[R]|0;j&&P==C||(N[R]=P,j=!1)}this.g=N}var o={};function l(A){return-128<=A&&A<128?a(A,function(C){return new s([C|0],C<0?-1:0)}):new s([A|0],A<0?-1:0)}function u(A){if(isNaN(A)||!isFinite(A))return f;if(A<0)return b(u(-A));const C=[];let N=1;for(let j=0;A>=N;j++)C[j]=A/N|0,N*=4294967296;return new s(C,0)}function c(A,C){if(A.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(A.charAt(0)=="-")return b(c(A.substring(1),C));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=u(Math.pow(C,8));let j=f;for(let P=0;P<A.length;P+=8){var R=Math.min(8,A.length-P);const D=parseInt(A.substring(P,P+R),C);R<8?(R=u(Math.pow(C,R)),j=j.j(R).add(u(D))):(j=j.j(N),j=j.add(u(D)))}return j}var f=l(0),h=l(1),p=l(16777216);e=s.prototype,e.m=function(){if(_(this))return-b(this).m();let A=0,C=1;for(let N=0;N<this.g.length;N++){const j=this.i(N);A+=(j>=0?j:4294967296+j)*C,C*=4294967296}return A},e.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(g(this))return"0";if(_(this))return"-"+b(this).toString(A);const C=u(Math.pow(A,6));var N=this;let j="";for(;;){const R=T(N,C).g;N=w(N,R.j(C));let P=((N.g.length>0?N.g[0]:N.h)>>>0).toString(A);if(N=R,g(N))return P+j;for(;P.length<6;)P="0"+P;j=P+j}},e.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function g(A){if(A.h!=0)return!1;for(let C=0;C<A.g.length;C++)if(A.g[C]!=0)return!1;return!0}function _(A){return A.h==-1}e.l=function(A){return A=w(this,A),_(A)?-1:g(A)?0:1};function b(A){const C=A.g.length,N=[];for(let j=0;j<C;j++)N[j]=~A.g[j];return new s(N,~A.h).add(h)}e.abs=function(){return _(this)?b(this):this},e.add=function(A){const C=Math.max(this.g.length,A.g.length),N=[];let j=0;for(let R=0;R<=C;R++){let P=j+(this.i(R)&65535)+(A.i(R)&65535),D=(P>>>16)+(this.i(R)>>>16)+(A.i(R)>>>16);j=D>>>16,P&=65535,D&=65535,N[R]=D<<16|P}return new s(N,N[N.length-1]&-2147483648?-1:0)};function w(A,C){return A.add(b(C))}e.j=function(A){if(g(this)||g(A))return f;if(_(this))return _(A)?b(this).j(b(A)):b(b(this).j(A));if(_(A))return b(this.j(b(A)));if(this.l(p)<0&&A.l(p)<0)return u(this.m()*A.m());const C=this.g.length+A.g.length,N=[];for(var j=0;j<2*C;j++)N[j]=0;for(j=0;j<this.g.length;j++)for(let R=0;R<A.g.length;R++){const P=this.i(j)>>>16,D=this.i(j)&65535,Z=A.i(R)>>>16,oe=A.i(R)&65535;N[2*j+2*R]+=D*oe,x(N,2*j+2*R),N[2*j+2*R+1]+=P*oe,x(N,2*j+2*R+1),N[2*j+2*R+1]+=D*Z,x(N,2*j+2*R+1),N[2*j+2*R+2]+=P*Z,x(N,2*j+2*R+2)}for(A=0;A<C;A++)N[A]=N[2*A+1]<<16|N[2*A];for(A=C;A<2*C;A++)N[A]=0;return new s(N,0)};function x(A,C){for(;(A[C]&65535)!=A[C];)A[C+1]+=A[C]>>>16,A[C]&=65535,C++}function E(A,C){this.g=A,this.h=C}function T(A,C){if(g(C))throw Error("division by zero");if(g(A))return new E(f,f);if(_(A))return C=T(b(A),C),new E(b(C.g),b(C.h));if(_(C))return C=T(A,b(C)),new E(b(C.g),C.h);if(A.g.length>30){if(_(A)||_(C))throw Error("slowDivide_ only works with positive integers.");for(var N=h,j=C;j.l(A)<=0;)N=I(N),j=I(j);var R=k(N,1),P=k(j,1);for(j=k(j,2),N=k(N,2);!g(j);){var D=P.add(j);D.l(A)<=0&&(R=R.add(N),P=D),j=k(j,1),N=k(N,1)}return C=w(A,R.j(C)),new E(R,C)}for(R=f;A.l(C)>=0;){for(N=Math.max(1,Math.floor(A.m()/C.m())),j=Math.ceil(Math.log(N)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),P=u(N),D=P.j(C);_(D)||D.l(A)>0;)N-=j,P=u(N),D=P.j(C);g(P)&&(P=h),R=R.add(P),A=w(A,D)}return new E(R,A)}e.B=function(A){return T(this,A).h},e.and=function(A){const C=Math.max(this.g.length,A.g.length),N=[];for(let j=0;j<C;j++)N[j]=this.i(j)&A.i(j);return new s(N,this.h&A.h)},e.or=function(A){const C=Math.max(this.g.length,A.g.length),N=[];for(let j=0;j<C;j++)N[j]=this.i(j)|A.i(j);return new s(N,this.h|A.h)},e.xor=function(A){const C=Math.max(this.g.length,A.g.length),N=[];for(let j=0;j<C;j++)N[j]=this.i(j)^A.i(j);return new s(N,this.h^A.h)};function I(A){const C=A.g.length+1,N=[];for(let j=0;j<C;j++)N[j]=A.i(j)<<1|A.i(j-1)>>>31;return new s(N,A.h)}function k(A,C){const N=C>>5;C%=32;const j=A.g.length-N,R=[];for(let P=0;P<j;P++)R[P]=C>0?A.i(P+N)>>>C|A.i(P+N+1)<<32-C:A.i(P+N);return new s(R,A.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,gD=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=c,ns=s}).apply(typeof VT<"u"?VT:typeof self<"u"?self:typeof window<"u"?window:{});var bh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yD,bc,vD,om,Lb,bD,xD,_D;(function(){var e,t=Object.defineProperty;function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof bh=="object"&&bh];for(var y=0;y<d.length;++y){var S=d[y];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=n(this);function i(d,y){if(y)e:{var S=r;d=d.split(".");for(var O=0;O<d.length-1;O++){var M=d[O];if(!(M in S))break e;S=S[M]}d=d[d.length-1],O=S[d],y=y(O),y!=O&&y!=null&&t(S,d,{configurable:!0,writable:!0,value:y})}}i("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(d){return d||function(y){var S=[],O;for(O in y)Object.prototype.hasOwnProperty.call(y,O)&&S.push([O,y[O]]);return S}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function o(d){var y=typeof d;return y=="object"&&d!=null||y=="function"}function l(d,y,S){return d.call.apply(d.bind,arguments)}function u(d,y,S){return u=l,u.apply(null,arguments)}function c(d,y){var S=Array.prototype.slice.call(arguments,1);return function(){var O=S.slice();return O.push.apply(O,arguments),d.apply(this,O)}}function f(d,y){function S(){}S.prototype=y.prototype,d.Z=y.prototype,d.prototype=new S,d.prototype.constructor=d,d.Ob=function(O,M,L){for(var H=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)H[fe-2]=arguments[fe];return y.prototype[M].apply(O,H)}}var h=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function p(d){const y=d.length;if(y>0){const S=Array(y);for(let O=0;O<y;O++)S[O]=d[O];return S}return[]}function g(d,y){for(let O=1;O<arguments.length;O++){const M=arguments[O];var S=typeof M;if(S=S!="object"?S:M?Array.isArray(M)?"array":S:"null",S=="array"||S=="object"&&typeof M.length=="number"){S=d.length||0;const L=M.length||0;d.length=S+L;for(let H=0;H<L;H++)d[S+H]=M[H]}else d.push(M)}}class _{constructor(y,S){this.i=y,this.j=S,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function b(d){s.setTimeout(()=>{throw d},0)}function w(){var d=A;let y=null;return d.g&&(y=d.g,d.g=d.g.next,d.g||(d.h=null),y.next=null),y}class x{constructor(){this.h=this.g=null}add(y,S){const O=E.get();O.set(y,S),this.h?this.h.next=O:this.g=O,this.h=O}}var E=new _(()=>new T,d=>d.reset());class T{constructor(){this.next=this.g=this.h=null}set(y,S){this.h=y,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let I,k=!1,A=new x,C=()=>{const d=Promise.resolve(void 0);I=()=>{d.then(N)}};function N(){for(var d;d=w();){try{d.h.call(d.g)}catch(S){b(S)}var y=E;y.j(d),y.h<100&&(y.h++,d.next=y.g,y.g=d)}k=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(d,y){this.type=d,this.g=this.target=y,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var P=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var d=!1,y=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const S=()=>{};s.addEventListener("test",S,y),s.removeEventListener("test",S,y)}catch{}return d}();function D(d){return/^[\s\xa0]*$/.test(d)}function Z(d,y){R.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,y)}f(Z,R),Z.prototype.init=function(d,y){const S=this.type=d.type,O=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=y,y=d.relatedTarget,y||(S=="mouseover"?y=d.fromElement:S=="mouseout"&&(y=d.toElement)),this.relatedTarget=y,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&Z.Z.h.call(this)},Z.prototype.h=function(){Z.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var oe="closure_listenable_"+(Math.random()*1e6|0),q=0;function K(d,y,S,O,M){this.listener=d,this.proxy=null,this.src=y,this.type=S,this.capture=!!O,this.ha=M,this.key=++q,this.da=this.fa=!1}function W(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function te(d,y,S){for(const O in d)y.call(S,d[O],O,d)}function le(d,y){for(const S in d)y.call(void 0,d[S],S,d)}function Ye(d){const y={};for(const S in d)y[S]=d[S];return y}const st="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Pt(d,y){let S,O;for(let M=1;M<arguments.length;M++){O=arguments[M];for(S in O)d[S]=O[S];for(let L=0;L<st.length;L++)S=st[L],Object.prototype.hasOwnProperty.call(O,S)&&(d[S]=O[S])}}function Re(d){this.src=d,this.g={},this.h=0}Re.prototype.add=function(d,y,S,O,M){const L=d.toString();d=this.g[L],d||(d=this.g[L]=[],this.h++);const H=xi(d,y,O,M);return H>-1?(y=d[H],S||(y.fa=!1)):(y=new K(y,this.src,L,!!O,M),y.fa=S,d.push(y)),y};function cn(d,y){const S=y.type;if(S in d.g){var O=d.g[S],M=Array.prototype.indexOf.call(O,y,void 0),L;(L=M>=0)&&Array.prototype.splice.call(O,M,1),L&&(W(y),d.g[S].length==0&&(delete d.g[S],d.h--))}}function xi(d,y,S,O){for(let M=0;M<d.length;++M){const L=d[M];if(!L.da&&L.listener==y&&L.capture==!!S&&L.ha==O)return M}return-1}var jt="closure_lm_"+(Math.random()*1e6|0),Os={};function $(d,y,S,O,M){if(Array.isArray(y)){for(let L=0;L<y.length;L++)$(d,y[L],S,O,M);return null}return S=ju(S),d&&d[oe]?d.J(y,S,o(O)?!!O.capture:!1,M):de(d,y,S,!1,O,M)}function de(d,y,S,O,M,L){if(!y)throw Error("Invalid event type");const H=o(M)?!!M.capture:!!M;let fe=Gt(d);if(fe||(d[jt]=fe=new Re(d)),S=fe.add(y,S,O,H,L),S.proxy)return S;if(O=_e(),S.proxy=O,O.src=d,O.listener=S,d.addEventListener)P||(M=H),M===void 0&&(M=!1),d.addEventListener(y.toString(),O,M);else if(d.attachEvent)d.attachEvent(Ce(y.toString()),O);else if(d.addListener&&d.removeListener)d.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return S}function _e(){function d(S){return y.call(d.src,d.listener,S)}const y=bn;return d}function F(d,y,S,O,M){if(Array.isArray(y))for(var L=0;L<y.length;L++)F(d,y[L],S,O,M);else O=o(O)?!!O.capture:!!O,S=ju(S),d&&d[oe]?(d=d.i,L=String(y).toString(),L in d.g&&(y=d.g[L],S=xi(y,S,O,M),S>-1&&(W(y[S]),Array.prototype.splice.call(y,S,1),y.length==0&&(delete d.g[L],d.h--)))):d&&(d=Gt(d))&&(y=d.g[y.toString()],d=-1,y&&(d=xi(y,S,O,M)),(S=d>-1?y[d]:null)&&Rt(S))}function Rt(d){if(typeof d!="number"&&d&&!d.da){var y=d.src;if(y&&y[oe])cn(y.i,d);else{var S=d.type,O=d.proxy;y.removeEventListener?y.removeEventListener(S,O,d.capture):y.detachEvent?y.detachEvent(Ce(S),O):y.addListener&&y.removeListener&&y.removeListener(O),(S=Gt(y))?(cn(S,d),S.h==0&&(S.src=null,y[jt]=null)):W(d)}}}function Ce(d){return d in Os?Os[d]:Os[d]="on"+d}function bn(d,y){if(d.da)d=!0;else{y=new Z(y,this);const S=d.listener,O=d.ha||d.src;d.fa&&Rt(d),d=S.call(O,y)}return d}function Gt(d){return d=d[jt],d instanceof Re?d:null}var Tr="__closure_events_fn_"+(Math.random()*1e9>>>0);function ju(d){return typeof d=="function"?d:(d[Tr]||(d[Tr]=function(y){return d.handleEvent(y)}),d[Tr])}function fn(){j.call(this),this.i=new Re(this),this.M=this,this.G=null}f(fn,j),fn.prototype[oe]=!0,fn.prototype.removeEventListener=function(d,y,S,O){F(this,d,y,S,O)};function xn(d,y){var S,O=d.G;if(O)for(S=[];O;O=O.G)S.push(O);if(d=d.M,O=y.type||y,typeof y=="string")y=new R(y,d);else if(y instanceof R)y.target=y.target||d;else{var M=y;y=new R(O,d),Pt(y,M)}M=!0;let L,H;if(S)for(H=S.length-1;H>=0;H--)L=y.g=S[H],M=Fd(L,O,!0,y)&&M;if(L=y.g=d,M=Fd(L,O,!0,y)&&M,M=Fd(L,O,!1,y)&&M,S)for(H=0;H<S.length;H++)L=y.g=S[H],M=Fd(L,O,!1,y)&&M}fn.prototype.N=function(){if(fn.Z.N.call(this),this.i){var d=this.i;for(const y in d.g){const S=d.g[y];for(let O=0;O<S.length;O++)W(S[O]);delete d.g[y],d.h--}}this.G=null},fn.prototype.J=function(d,y,S,O){return this.i.add(String(d),y,!1,S,O)},fn.prototype.K=function(d,y,S,O){return this.i.add(String(d),y,!0,S,O)};function Fd(d,y,S,O){if(y=d.i.g[String(y)],!y)return!0;y=y.concat();let M=!0;for(let L=0;L<y.length;++L){const H=y[L];if(H&&!H.da&&H.capture==S){const fe=H.listener,Et=H.ha||H.src;H.fa&&cn(d.i,H),M=fe.call(Et,O)!==!1&&M}}return M&&!O.defaultPrevented}function Y5(d,y){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=u(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:s.setTimeout(d,y||0)}function jE(d){d.g=Y5(()=>{d.g=null,d.i&&(d.i=!1,jE(d))},d.l);const y=d.h;d.h=null,d.m.apply(null,y)}class W5 extends j{constructor(y,S){super(),this.m=y,this.l=S,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:jE(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ru(d){j.call(this),this.h=d,this.g={}}f(Ru,j);var RE=[];function DE(d){te(d.g,function(y,S){this.g.hasOwnProperty(S)&&Rt(y)},d),d.g={}}Ru.prototype.N=function(){Ru.Z.N.call(this),DE(this)},Ru.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fy=s.JSON.stringify,X5=s.JSON.parse,Q5=class{stringify(d){return s.JSON.stringify(d,void 0)}parse(d){return s.JSON.parse(d,void 0)}};function kE(){}function ME(){}var Du={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qy(){R.call(this,"d")}f(qy,R);function Hy(){R.call(this,"c")}f(Hy,R);var Is={},LE=null;function qd(){return LE=LE||new fn}Is.Ia="serverreachability";function VE(d){R.call(this,Is.Ia,d)}f(VE,R);function ku(d){const y=qd();xn(y,new VE(y))}Is.STAT_EVENT="statevent";function UE(d,y){R.call(this,Is.STAT_EVENT,d),this.stat=y}f(UE,R);function _n(d){const y=qd();xn(y,new UE(y,d))}Is.Ja="timingevent";function zE(d,y){R.call(this,Is.Ja,d),this.size=y}f(zE,R);function Mu(d,y){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){d()},y)}function Lu(){this.g=!0}Lu.prototype.ua=function(){this.g=!1};function Z5(d,y,S,O,M,L){d.info(function(){if(d.g)if(L){var H="",fe=L.split("&");for(let De=0;De<fe.length;De++){var Et=fe[De].split("=");if(Et.length>1){const Dt=Et[0];Et=Et[1];const qr=Dt.split("_");H=qr.length>=2&&qr[1]=="type"?H+(Dt+"="+Et+"&"):H+(Dt+"=redacted&")}}}else H=null;else H=L;return"XMLHTTP REQ ("+O+") [attempt "+M+"]: "+y+`
`+S+`
`+H})}function J5(d,y,S,O,M,L,H){d.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+M+"]: "+y+`
`+S+`
`+L+" "+H})}function Mo(d,y,S,O){d.info(function(){return"XMLHTTP TEXT ("+y+"): "+tV(d,S)+(O?" "+O:"")})}function eV(d,y){d.info(function(){return"TIMEOUT: "+y})}Lu.prototype.info=function(){};function tV(d,y){if(!d.g)return y;if(!y)return null;try{const L=JSON.parse(y);if(L){for(d=0;d<L.length;d++)if(Array.isArray(L[d])){var S=L[d];if(!(S.length<2)){var O=S[1];if(Array.isArray(O)&&!(O.length<1)){var M=O[0];if(M!="noop"&&M!="stop"&&M!="close")for(let H=1;H<O.length;H++)O[H]=""}}}}return Fy(L)}catch{return y}}var Hd={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},BE={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},$E;function Gy(){}f(Gy,kE),Gy.prototype.g=function(){return new XMLHttpRequest},$E=new Gy;function Vu(d){return encodeURIComponent(String(d))}function nV(d){var y=1;d=d.split(":");const S=[];for(;y>0&&d.length;)S.push(d.shift()),y--;return d.length&&S.push(d.join(":")),S}function pa(d,y,S,O){this.j=d,this.i=y,this.l=S,this.S=O||1,this.V=new Ru(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new FE}function FE(){this.i=null,this.g="",this.h=!1}var qE={},Ky={};function Yy(d,y,S){d.M=1,d.A=Kd(Fr(y)),d.u=S,d.R=!0,HE(d,null)}function HE(d,y){d.F=Date.now(),Gd(d),d.B=Fr(d.A);var S=d.B,O=d.S;Array.isArray(O)||(O=[String(O)]),iS(S.i,"t",O),d.C=0,S=d.j.L,d.h=new FE,d.g=wS(d.j,S?y:null,!d.u),d.P>0&&(d.O=new W5(u(d.Y,d,d.g),d.P)),y=d.V,S=d.g,O=d.ba;var M="readystatechange";Array.isArray(M)||(M&&(RE[0]=M.toString()),M=RE);for(let L=0;L<M.length;L++){const H=$(S,M[L],O||y.handleEvent,!1,y.h||y);if(!H)break;y.g[H.key]=H}y=d.J?Ye(d.J):{},d.u?(d.v||(d.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,y)):(d.v="GET",d.g.ea(d.B,d.v,null,y)),ku(),Z5(d.i,d.v,d.B,d.l,d.S,d.u)}pa.prototype.ba=function(d){d=d.target;const y=this.O;y&&va(d)==3?y.j():this.Y(d)},pa.prototype.Y=function(d){try{if(d==this.g)e:{const fe=va(this.g),Et=this.g.ya(),De=this.g.ca();if(!(fe<3)&&(fe!=3||this.g&&(this.h.h||this.g.la()||fS(this.g)))){this.K||fe!=4||Et==7||(Et==8||De<=0?ku(3):ku(2)),Wy(this);var y=this.g.ca();this.X=y;var S=rV(this);if(this.o=y==200,J5(this.i,this.v,this.B,this.l,this.S,fe,y),this.o){if(this.U&&!this.L){t:{if(this.g){var O,M=this.g;if((O=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(O)){var L=O;break t}}L=null}if(d=L)Mo(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Xy(this,d);else{this.o=!1,this.m=3,_n(12),Ps(this),Uu(this);break e}}if(this.R){d=!0;let Dt;for(;!this.K&&this.C<S.length;)if(Dt=iV(this,S),Dt==Ky){fe==4&&(this.m=4,_n(14),d=!1),Mo(this.i,this.l,null,"[Incomplete Response]");break}else if(Dt==qE){this.m=4,_n(15),Mo(this.i,this.l,S,"[Invalid Chunk]"),d=!1;break}else Mo(this.i,this.l,Dt,null),Xy(this,Dt);if(GE(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),fe!=4||S.length!=0||this.h.h||(this.m=1,_n(16),d=!1),this.o=this.o&&d,!d)Mo(this.i,this.l,S,"[Invalid Chunked Response]"),Ps(this),Uu(this);else if(S.length>0&&!this.W){this.W=!0;var H=this.j;H.g==this&&H.aa&&!H.P&&(H.j.info("Great, no buffering proxy detected. Bytes received: "+S.length),iv(H),H.P=!0,_n(11))}}else Mo(this.i,this.l,S,null),Xy(this,S);fe==4&&Ps(this),this.o&&!this.K&&(fe==4?vS(this.j,this):(this.o=!1,Gd(this)))}else vV(this.g),y==400&&S.indexOf("Unknown SID")>0?(this.m=3,_n(12)):(this.m=0,_n(13)),Ps(this),Uu(this)}}}catch{}finally{}};function rV(d){if(!GE(d))return d.g.la();const y=fS(d.g);if(y==="")return"";let S="";const O=y.length,M=va(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return Ps(d),Uu(d),"";d.h.i=new s.TextDecoder}for(let L=0;L<O;L++)d.h.h=!0,S+=d.h.i.decode(y[L],{stream:!(M&&L==O-1)});return y.length=0,d.h.g+=S,d.C=0,d.h.g}function GE(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function iV(d,y){var S=d.C,O=y.indexOf(`
`,S);return O==-1?Ky:(S=Number(y.substring(S,O)),isNaN(S)?qE:(O+=1,O+S>y.length?Ky:(y=y.slice(O,O+S),d.C=O+S,y)))}pa.prototype.cancel=function(){this.K=!0,Ps(this)};function Gd(d){d.T=Date.now()+d.H,KE(d,d.H)}function KE(d,y){if(d.D!=null)throw Error("WatchDog timer not null");d.D=Mu(u(d.aa,d),y)}function Wy(d){d.D&&(s.clearTimeout(d.D),d.D=null)}pa.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(eV(this.i,this.B),this.M!=2&&(ku(),_n(17)),Ps(this),this.m=2,Uu(this)):KE(this,this.T-d)};function Uu(d){d.j.I==0||d.K||vS(d.j,d)}function Ps(d){Wy(d);var y=d.O;y&&typeof y.dispose=="function"&&y.dispose(),d.O=null,DE(d.V),d.g&&(y=d.g,d.g=null,y.abort(),y.dispose())}function Xy(d,y){try{var S=d.j;if(S.I!=0&&(S.g==d||Qy(S.h,d))){if(!d.L&&Qy(S.h,d)&&S.I==3){try{var O=S.Ba.g.parse(y)}catch{O=null}if(Array.isArray(O)&&O.length==3){var M=O;if(M[0]==0){e:if(!S.v){if(S.g)if(S.g.F+3e3<d.F)Zd(S),Xd(S);else break e;rv(S),_n(18)}}else S.xa=M[1],0<S.xa-S.K&&M[2]<37500&&S.F&&S.A==0&&!S.C&&(S.C=Mu(u(S.Va,S),6e3));XE(S.h)<=1&&S.ta&&(S.ta=void 0)}else Rs(S,11)}else if((d.L||S.g==d)&&Zd(S),!D(y))for(M=S.Ba.g.parse(y),y=0;y<M.length;y++){let De=M[y];const Dt=De[0];if(!(Dt<=S.K))if(S.K=Dt,De=De[1],S.I==2)if(De[0]=="c"){S.M=De[1],S.ba=De[2];const qr=De[3];qr!=null&&(S.ka=qr,S.j.info("VER="+S.ka));const Ds=De[4];Ds!=null&&(S.za=Ds,S.j.info("SVER="+S.za));const ba=De[5];ba!=null&&typeof ba=="number"&&ba>0&&(O=1.5*ba,S.O=O,S.j.info("backChannelRequestTimeoutMs_="+O)),O=S;const xa=d.g;if(xa){const eh=xa.g?xa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(eh){var L=O.h;L.g||eh.indexOf("spdy")==-1&&eh.indexOf("quic")==-1&&eh.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(Zy(L,L.h),L.h=null))}if(O.G){const av=xa.g?xa.g.getResponseHeader("X-HTTP-Session-Id"):null;av&&(O.wa=av,ze(O.J,O.G,av))}}S.I=3,S.l&&S.l.ra(),S.aa&&(S.T=Date.now()-d.F,S.j.info("Handshake RTT: "+S.T+"ms")),O=S;var H=d;if(O.na=_S(O,O.L?O.ba:null,O.W),H.L){QE(O.h,H);var fe=H,Et=O.O;Et&&(fe.H=Et),fe.D&&(Wy(fe),Gd(fe)),O.g=H}else gS(O);S.i.length>0&&Qd(S)}else De[0]!="stop"&&De[0]!="close"||Rs(S,7);else S.I==3&&(De[0]=="stop"||De[0]=="close"?De[0]=="stop"?Rs(S,7):nv(S):De[0]!="noop"&&S.l&&S.l.qa(De),S.A=0)}}ku(4)}catch{}}var aV=class{constructor(d,y){this.g=d,this.map=y}};function YE(d){this.l=d||10,s.PerformanceNavigationTiming?(d=s.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function WE(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function XE(d){return d.h?1:d.g?d.g.size:0}function Qy(d,y){return d.h?d.h==y:d.g?d.g.has(y):!1}function Zy(d,y){d.g?d.g.add(y):d.h=y}function QE(d,y){d.h&&d.h==y?d.h=null:d.g&&d.g.has(y)&&d.g.delete(y)}YE.prototype.cancel=function(){if(this.i=ZE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function ZE(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let y=d.i;for(const S of d.g.values())y=y.concat(S.G);return y}return p(d.i)}var JE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sV(d,y){if(d){d=d.split("&");for(let S=0;S<d.length;S++){const O=d[S].indexOf("=");let M,L=null;O>=0?(M=d[S].substring(0,O),L=d[S].substring(O+1)):M=d[S],y(M,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function ga(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;d instanceof ga?(this.l=d.l,zu(this,d.j),this.o=d.o,this.g=d.g,Bu(this,d.u),this.h=d.h,Jy(this,aS(d.i)),this.m=d.m):d&&(y=String(d).match(JE))?(this.l=!1,zu(this,y[1]||"",!0),this.o=$u(y[2]||""),this.g=$u(y[3]||"",!0),Bu(this,y[4]),this.h=$u(y[5]||"",!0),Jy(this,y[6]||"",!0),this.m=$u(y[7]||"")):(this.l=!1,this.i=new qu(null,this.l))}ga.prototype.toString=function(){const d=[];var y=this.j;y&&d.push(Fu(y,eS,!0),":");var S=this.g;return(S||y=="file")&&(d.push("//"),(y=this.o)&&d.push(Fu(y,eS,!0),"@"),d.push(Vu(S).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.u,S!=null&&d.push(":",String(S))),(S=this.h)&&(this.g&&S.charAt(0)!="/"&&d.push("/"),d.push(Fu(S,S.charAt(0)=="/"?uV:lV,!0))),(S=this.i.toString())&&d.push("?",S),(S=this.m)&&d.push("#",Fu(S,fV)),d.join("")},ga.prototype.resolve=function(d){const y=Fr(this);let S=!!d.j;S?zu(y,d.j):S=!!d.o,S?y.o=d.o:S=!!d.g,S?y.g=d.g:S=d.u!=null;var O=d.h;if(S)Bu(y,d.u);else if(S=!!d.h){if(O.charAt(0)!="/")if(this.g&&!this.h)O="/"+O;else{var M=y.h.lastIndexOf("/");M!=-1&&(O=y.h.slice(0,M+1)+O)}if(M=O,M==".."||M==".")O="";else if(M.indexOf("./")!=-1||M.indexOf("/.")!=-1){O=M.lastIndexOf("/",0)==0,M=M.split("/");const L=[];for(let H=0;H<M.length;){const fe=M[H++];fe=="."?O&&H==M.length&&L.push(""):fe==".."?((L.length>1||L.length==1&&L[0]!="")&&L.pop(),O&&H==M.length&&L.push("")):(L.push(fe),O=!0)}O=L.join("/")}else O=M}return S?y.h=O:S=d.i.toString()!=="",S?Jy(y,aS(d.i)):S=!!d.m,S&&(y.m=d.m),y};function Fr(d){return new ga(d)}function zu(d,y,S){d.j=S?$u(y,!0):y,d.j&&(d.j=d.j.replace(/:$/,""))}function Bu(d,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);d.u=y}else d.u=null}function Jy(d,y,S){y instanceof qu?(d.i=y,dV(d.i,d.l)):(S||(y=Fu(y,cV)),d.i=new qu(y,d.l))}function ze(d,y,S){d.i.set(y,S)}function Kd(d){return ze(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function $u(d,y){return d?y?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Fu(d,y,S){return typeof d=="string"?(d=encodeURI(d).replace(y,oV),S&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function oV(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var eS=/[#\/\?@]/g,lV=/[#\?:]/g,uV=/[#\?]/g,cV=/[#\?@]/g,fV=/#/g;function qu(d,y){this.h=this.g=null,this.i=d||null,this.j=!!y}function js(d){d.g||(d.g=new Map,d.h=0,d.i&&sV(d.i,function(y,S){d.add(decodeURIComponent(y.replace(/\+/g," ")),S)}))}e=qu.prototype,e.add=function(d,y){js(this),this.i=null,d=Lo(this,d);let S=this.g.get(d);return S||this.g.set(d,S=[]),S.push(y),this.h+=1,this};function tS(d,y){js(d),y=Lo(d,y),d.g.has(y)&&(d.i=null,d.h-=d.g.get(y).length,d.g.delete(y))}function nS(d,y){return js(d),y=Lo(d,y),d.g.has(y)}e.forEach=function(d,y){js(this),this.g.forEach(function(S,O){S.forEach(function(M){d.call(y,M,O,this)},this)},this)};function rS(d,y){js(d);let S=[];if(typeof y=="string")nS(d,y)&&(S=S.concat(d.g.get(Lo(d,y))));else for(d=Array.from(d.g.values()),y=0;y<d.length;y++)S=S.concat(d[y]);return S}e.set=function(d,y){return js(this),this.i=null,d=Lo(this,d),nS(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[y]),this.h+=1,this},e.get=function(d,y){return d?(d=rS(this,d),d.length>0?String(d[0]):y):y};function iS(d,y,S){tS(d,y),S.length>0&&(d.i=null,d.g.set(Lo(d,y),p(S)),d.h+=S.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],y=Array.from(this.g.keys());for(let O=0;O<y.length;O++){var S=y[O];const M=Vu(S);S=rS(this,S);for(let L=0;L<S.length;L++){let H=M;S[L]!==""&&(H+="="+Vu(S[L])),d.push(H)}}return this.i=d.join("&")};function aS(d){const y=new qu;return y.i=d.i,d.g&&(y.g=new Map(d.g),y.h=d.h),y}function Lo(d,y){return y=String(y),d.j&&(y=y.toLowerCase()),y}function dV(d,y){y&&!d.j&&(js(d),d.i=null,d.g.forEach(function(S,O){const M=O.toLowerCase();O!=M&&(tS(this,O),iS(this,M,S))},d)),d.j=y}function hV(d,y){const S=new Lu;if(s.Image){const O=new Image;O.onload=c(ya,S,"TestLoadImage: loaded",!0,y,O),O.onerror=c(ya,S,"TestLoadImage: error",!1,y,O),O.onabort=c(ya,S,"TestLoadImage: abort",!1,y,O),O.ontimeout=c(ya,S,"TestLoadImage: timeout",!1,y,O),s.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=d}else y(!1)}function mV(d,y){const S=new Lu,O=new AbortController,M=setTimeout(()=>{O.abort(),ya(S,"TestPingServer: timeout",!1,y)},1e4);fetch(d,{signal:O.signal}).then(L=>{clearTimeout(M),L.ok?ya(S,"TestPingServer: ok",!0,y):ya(S,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(M),ya(S,"TestPingServer: error",!1,y)})}function ya(d,y,S,O,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),O(S)}catch{}}function pV(){this.g=new Q5}function ev(d){this.i=d.Sb||null,this.h=d.ab||!1}f(ev,kE),ev.prototype.g=function(){return new Yd(this.i,this.h)};function Yd(d,y){fn.call(this),this.H=d,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(Yd,fn),e=Yd.prototype,e.open=function(d,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=y,this.readyState=1,Gu(this)},e.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(y.body=d),(this.H||s).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Hu(this)),this.readyState=0},e.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Gu(this)),this.g&&(this.readyState=3,Gu(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;sS(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function sS(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}e.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var y=d.value?d.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!d.done}))&&(this.response=this.responseText+=y)}d.done?Hu(this):Gu(this),this.readyState==3&&sS(this)}},e.Oa=function(d){this.g&&(this.response=this.responseText=d,Hu(this))},e.Na=function(d){this.g&&(this.response=d,Hu(this))},e.ga=function(){this.g&&Hu(this)};function Hu(d){d.readyState=4,d.l=null,d.j=null,d.B=null,Gu(d)}e.setRequestHeader=function(d,y){this.A.append(d,y)},e.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],y=this.h.entries();for(var S=y.next();!S.done;)S=S.value,d.push(S[0]+": "+S[1]),S=y.next();return d.join(`\r
`)};function Gu(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Yd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function oS(d){let y="";return te(d,function(S,O){y+=O,y+=":",y+=S,y+=`\r
`}),y}function tv(d,y,S){e:{for(O in S){var O=!1;break e}O=!0}O||(S=oS(S),typeof d=="string"?S!=null&&Vu(S):ze(d,y,S))}function tt(d){fn.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(tt,fn);var gV=/^https?$/i,yV=["POST","PUT"];e=tt.prototype,e.Fa=function(d){this.H=d},e.ea=function(d,y,S,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);y=y?y.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():$E.g(),this.g.onreadystatechange=h(u(this.Ca,this));try{this.B=!0,this.g.open(y,String(d),!0),this.B=!1}catch(L){lS(this,L);return}if(d=S||"",S=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var M in O)S.set(M,O[M]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const L of O.keys())S.set(L,O.get(L));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(S.keys()).find(L=>L.toLowerCase()=="content-type"),M=s.FormData&&d instanceof s.FormData,!(Array.prototype.indexOf.call(yV,y,void 0)>=0)||O||M||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,H]of S)this.g.setRequestHeader(L,H);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(L){lS(this,L)}};function lS(d,y){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=y,d.o=5,uS(d),Wd(d)}function uS(d){d.A||(d.A=!0,xn(d,"complete"),xn(d,"error"))}e.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,xn(this,"complete"),xn(this,"abort"),Wd(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wd(this,!0)),tt.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?cS(this):this.Xa())},e.Xa=function(){cS(this)};function cS(d){if(d.h&&typeof a<"u"){if(d.v&&va(d)==4)setTimeout(d.Ca.bind(d),0);else if(xn(d,"readystatechange"),va(d)==4){d.h=!1;try{const L=d.ca();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var S;if(!(S=y)){var O;if(O=L===0){let H=String(d.D).match(JE)[1]||null;!H&&s.self&&s.self.location&&(H=s.self.location.protocol.slice(0,-1)),O=!gV.test(H?H.toLowerCase():"")}S=O}if(S)xn(d,"complete"),xn(d,"success");else{d.o=6;try{var M=va(d)>2?d.g.statusText:""}catch{M=""}d.l=M+" ["+d.ca()+"]",uS(d)}}finally{Wd(d)}}}}function Wd(d,y){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const S=d.g;d.g=null,y||xn(d,"ready");try{S.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function va(d){return d.g?d.g.readyState:0}e.ca=function(){try{return va(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(d){if(this.g){var y=this.g.responseText;return d&&y.indexOf(d)==0&&(y=y.substring(d.length)),X5(y)}};function fS(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function vV(d){const y={};d=(d.g&&va(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<d.length;O++){if(D(d[O]))continue;var S=nV(d[O]);const M=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const L=y[M]||[];y[M]=L,L.push(S)}le(y,function(O){return O.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ku(d,y,S){return S&&S.internalChannelParams&&S.internalChannelParams[d]||y}function dS(d){this.za=0,this.i=[],this.j=new Lu,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ku("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ku("baseRetryDelayMs",5e3,d),this.Za=Ku("retryDelaySeedMs",1e4,d),this.Ta=Ku("forwardChannelMaxRetries",2,d),this.va=Ku("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new YE(d&&d.concurrentRequestLimit),this.Ba=new pV,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=dS.prototype,e.ka=8,e.I=1,e.connect=function(d,y,S,O){_n(0),this.W=d,this.H=y||{},S&&O!==void 0&&(this.H.OSID=S,this.H.OAID=O),this.F=this.X,this.J=_S(this,null,this.W),Qd(this)};function nv(d){if(hS(d),d.I==3){var y=d.V++,S=Fr(d.J);if(ze(S,"SID",d.M),ze(S,"RID",y),ze(S,"TYPE","terminate"),Yu(d,S),y=new pa(d,d.j,y),y.M=2,y.A=Kd(Fr(S)),S=!1,s.navigator&&s.navigator.sendBeacon)try{S=s.navigator.sendBeacon(y.A.toString(),"")}catch{}!S&&s.Image&&(new Image().src=y.A,S=!0),S||(y.g=wS(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Gd(y)}xS(d)}function Xd(d){d.g&&(iv(d),d.g.cancel(),d.g=null)}function hS(d){Xd(d),d.v&&(s.clearTimeout(d.v),d.v=null),Zd(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&s.clearTimeout(d.m),d.m=null)}function Qd(d){if(!WE(d.h)&&!d.m){d.m=!0;var y=d.Ea;I||C(),k||(I(),k=!0),A.add(y,d),d.D=0}}function bV(d,y){return XE(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=y.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=Mu(u(d.Ea,d,y),bS(d,d.D)),d.D++,!0)}e.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const M=new pa(this,this.j,d);let L=this.o;if(this.U&&(L?(L=Ye(L),Pt(L,this.U)):L=this.U),this.u!==null||this.R||(M.J=L,L=null),this.S)e:{for(var y=0,S=0;S<this.i.length;S++){t:{var O=this.i[S];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(y+=O,y>4096){y=S;break e}if(y===4096||S===this.i.length-1){y=S+1;break e}}y=1e3}else y=1e3;y=pS(this,M,y),S=Fr(this.J),ze(S,"RID",d),ze(S,"CVER",22),this.G&&ze(S,"X-HTTP-Session-Id",this.G),Yu(this,S),L&&(this.R?y="headers="+Vu(oS(L))+"&"+y:this.u&&tv(S,this.u,L)),Zy(this.h,M),this.Ra&&ze(S,"TYPE","init"),this.S?(ze(S,"$req",y),ze(S,"SID","null"),M.U=!0,Yy(M,S,null)):Yy(M,S,y),this.I=2}}else this.I==3&&(d?mS(this,d):this.i.length==0||WE(this.h)||mS(this))};function mS(d,y){var S;y?S=y.l:S=d.V++;const O=Fr(d.J);ze(O,"SID",d.M),ze(O,"RID",S),ze(O,"AID",d.K),Yu(d,O),d.u&&d.o&&tv(O,d.u,d.o),S=new pa(d,d.j,S,d.D+1),d.u===null&&(S.J=d.o),y&&(d.i=y.G.concat(d.i)),y=pS(d,S,1e3),S.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),Zy(d.h,S),Yy(S,O,y)}function Yu(d,y){d.H&&te(d.H,function(S,O){ze(y,O,S)}),d.l&&te({},function(S,O){ze(y,O,S)})}function pS(d,y,S){S=Math.min(d.i.length,S);const O=d.l?u(d.l.Ka,d.l,d):null;e:{var M=d.i;let fe=-1;for(;;){const Et=["count="+S];fe==-1?S>0?(fe=M[0].g,Et.push("ofs="+fe)):fe=0:Et.push("ofs="+fe);let De=!0;for(let Dt=0;Dt<S;Dt++){var L=M[Dt].g;const qr=M[Dt].map;if(L-=fe,L<0)fe=Math.max(0,M[Dt].g-100),De=!1;else try{L="req"+L+"_"||"";try{var H=qr instanceof Map?qr:Object.entries(qr);for(const[Ds,ba]of H){let xa=ba;o(ba)&&(xa=Fy(ba)),Et.push(L+Ds+"="+encodeURIComponent(xa))}}catch(Ds){throw Et.push(L+"type="+encodeURIComponent("_badmap")),Ds}}catch{O&&O(qr)}}if(De){H=Et.join("&");break e}}H=void 0}return d=d.i.splice(0,S),y.G=d,H}function gS(d){if(!d.g&&!d.v){d.Y=1;var y=d.Da;I||C(),k||(I(),k=!0),A.add(y,d),d.A=0}}function rv(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=Mu(u(d.Da,d),bS(d,d.A)),d.A++,!0)}e.Da=function(){if(this.v=null,yS(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=Mu(u(this.Wa,this),d)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_n(10),Xd(this),yS(this))};function iv(d){d.B!=null&&(s.clearTimeout(d.B),d.B=null)}function yS(d){d.g=new pa(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var y=Fr(d.na);ze(y,"RID","rpc"),ze(y,"SID",d.M),ze(y,"AID",d.K),ze(y,"CI",d.F?"0":"1"),!d.F&&d.ia&&ze(y,"TO",d.ia),ze(y,"TYPE","xmlhttp"),Yu(d,y),d.u&&d.o&&tv(y,d.u,d.o),d.O&&(d.g.H=d.O);var S=d.g;d=d.ba,S.M=1,S.A=Kd(Fr(y)),S.u=null,S.R=!0,HE(S,d)}e.Va=function(){this.C!=null&&(this.C=null,Xd(this),rv(this),_n(19))};function Zd(d){d.C!=null&&(s.clearTimeout(d.C),d.C=null)}function vS(d,y){var S=null;if(d.g==y){Zd(d),iv(d),d.g=null;var O=2}else if(Qy(d.h,y))S=y.G,QE(d.h,y),O=1;else return;if(d.I!=0){if(y.o)if(O==1){S=y.u?y.u.length:0,y=Date.now()-y.F;var M=d.D;O=qd(),xn(O,new zE(O,S)),Qd(d)}else gS(d);else if(M=y.m,M==3||M==0&&y.X>0||!(O==1&&bV(d,y)||O==2&&rv(d)))switch(S&&S.length>0&&(y=d.h,y.i=y.i.concat(S)),M){case 1:Rs(d,5);break;case 4:Rs(d,10);break;case 3:Rs(d,6);break;default:Rs(d,2)}}}function bS(d,y){let S=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(S*=2),S*y}function Rs(d,y){if(d.j.info("Error code "+y),y==2){var S=u(d.bb,d),O=d.Ua;const M=!O;O=new ga(O||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||zu(O,"https"),Kd(O),M?hV(O.toString(),S):mV(O.toString(),S)}else _n(2);d.I=0,d.l&&d.l.pa(y),xS(d),hS(d)}e.bb=function(d){d?(this.j.info("Successfully pinged google.com"),_n(2)):(this.j.info("Failed to ping google.com"),_n(1))};function xS(d){if(d.I=0,d.ja=[],d.l){const y=ZE(d.h);(y.length!=0||d.i.length!=0)&&(g(d.ja,y),g(d.ja,d.i),d.h.i.length=0,p(d.i),d.i.length=0),d.l.oa()}}function _S(d,y,S){var O=S instanceof ga?Fr(S):new ga(S);if(O.g!="")y&&(O.g=y+"."+O.g),Bu(O,O.u);else{var M=s.location;O=M.protocol,y=y?y+"."+M.hostname:M.hostname,M=+M.port;const L=new ga(null);O&&zu(L,O),y&&(L.g=y),M&&Bu(L,M),S&&(L.h=S),O=L}return S=d.G,y=d.wa,S&&y&&ze(O,S,y),ze(O,"VER",d.ka),Yu(d,O),O}function wS(d,y,S){if(y&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=d.Aa&&!d.ma?new tt(new ev({ab:S})):new tt(d.ma),y.Fa(d.L),y}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function ES(){}e=ES.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function Jd(){}Jd.prototype.g=function(d,y){return new Fn(d,y)};function Fn(d,y){fn.call(this),this.g=new dS(y),this.l=d,this.h=y&&y.messageUrlParams||null,d=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(d?d["X-WebChannel-Content-Type"]=y.messageContentType:d={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(d?d["X-WebChannel-Client-Profile"]=y.sa:d={"X-WebChannel-Client-Profile":y.sa}),this.g.U=d,(d=y&&y.Qb)&&!D(d)&&(this.g.u=d),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!D(y)&&(this.g.G=y,d=this.h,d!==null&&y in d&&(d=this.h,y in d&&delete d[y])),this.j=new Vo(this)}f(Fn,fn),Fn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Fn.prototype.close=function(){nv(this.g)},Fn.prototype.o=function(d){var y=this.g;if(typeof d=="string"){var S={};S.__data__=d,d=S}else this.v&&(S={},S.__data__=Fy(d),d=S);y.i.push(new aV(y.Ya++,d)),y.I==3&&Qd(y)},Fn.prototype.N=function(){this.g.l=null,delete this.j,nv(this.g),delete this.g,Fn.Z.N.call(this)};function SS(d){qy.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var y=d.__sm__;if(y){e:{for(const S in y){d=S;break e}d=void 0}(this.i=d)&&(d=this.i,y=y!==null&&d in y?y[d]:void 0),this.data=y}else this.data=d}f(SS,qy);function AS(){Hy.call(this),this.status=1}f(AS,Hy);function Vo(d){this.g=d}f(Vo,ES),Vo.prototype.ra=function(){xn(this.g,"a")},Vo.prototype.qa=function(d){xn(this.g,new SS(d))},Vo.prototype.pa=function(d){xn(this.g,new AS)},Vo.prototype.oa=function(){xn(this.g,"b")},Jd.prototype.createWebChannel=Jd.prototype.g,Fn.prototype.send=Fn.prototype.o,Fn.prototype.open=Fn.prototype.m,Fn.prototype.close=Fn.prototype.close,_D=function(){return new Jd},xD=function(){return qd()},bD=Is,Lb={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Hd.NO_ERROR=0,Hd.TIMEOUT=8,Hd.HTTP_ERROR=6,om=Hd,BE.COMPLETE="complete",vD=BE,ME.EventType=Du,Du.OPEN="a",Du.CLOSE="b",Du.ERROR="c",Du.MESSAGE="d",fn.prototype.listen=fn.prototype.J,bc=ME,tt.prototype.listenOnce=tt.prototype.K,tt.prototype.getLastError=tt.prototype.Ha,tt.prototype.getLastErrorCode=tt.prototype.ya,tt.prototype.getStatus=tt.prototype.ca,tt.prototype.getResponseJson=tt.prototype.La,tt.prototype.getResponseText=tt.prototype.la,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Fa,yD=tt}).apply(typeof bh<"u"?bh:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gu="12.8.0";function XF(e){gu=e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po=new nw("@firebase/firestore");function Yo(){return po.logLevel}function Y(e,...t){if(po.logLevel<=pe.DEBUG){const n=t.map(hw);po.debug(`Firestore (${gu}): ${e}`,...n)}}function Qi(e,...t){if(po.logLevel<=pe.ERROR){const n=t.map(hw);po.error(`Firestore (${gu}): ${e}`,...n)}}function Fl(e,...t){if(po.logLevel<=pe.WARN){const n=t.map(hw);po.warn(`Firestore (${gu}): ${e}`,...n)}}function hw(e){if(typeof e=="string")return e;try{return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function re(e,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,wD(e,r,n)}function wD(e,t,n){let r=`FIRESTORE (${gu}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Qi(r),new Error(r)}function Te(e,t,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,e||wD(t,i,r)}function se(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class G extends sa{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class QF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(mn.UNAUTHENTICATED))}shutdown(){}}class ZF{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class JF{constructor(t){this.t=t,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Te(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let a=new rs;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new rs,t.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=a;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new rs)}},0),s()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Te(typeof r.accessToken=="string",31837,{l:r}),new ED(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Te(t===null||typeof t=="string",2055,{h:t}),new mn(t)}}class eq{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class tq{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new eq(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(mn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class UT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nq{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Or(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Te(this.o===void 0,3512);const r=a=>{a.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,Y("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable(()=>r(a))};const i=a=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new UT(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Te(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new UT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rq(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=rq(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=t.charAt(i[a]%62))}return r}}function ge(e,t){return e<t?-1:e>t?1:0}function Vb(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const i=e.charAt(r),a=t.charAt(r);if(i!==a)return e0(i)===e0(a)?ge(i,a):e0(i)?1:-1}return ge(e.length,t.length)}const iq=55296,aq=57343;function e0(e){const t=e.charCodeAt(0);return t>=iq&&t<=aq}function ql(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT="__name__";class Yr{constructor(t,n,r){n===void 0?n=0:n>t.length&&re(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&re(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Yr.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Yr?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const a=Yr.compareSegments(t.get(i),n.get(i));if(a!==0)return a}return ge(t.length,n.length)}static compareSegments(t,n){const r=Yr.isNumericId(t),i=Yr.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Yr.extractNumericId(t).compare(Yr.extractNumericId(n)):Vb(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ns.fromString(t.substring(4,t.length-2))}}class Le extends Yr{construct(t,n,r){return new Le(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new G(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Le(n)}static emptyPath(){return new Le([])}}const sq=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends Yr{construct(t,n,r){return new nn(t,n,r)}static isValidIdentifier(t){return sq.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===zT}static keyField(){return new nn([zT])}static fromServerFormat(t){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new G(U.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<t.length;){const o=t[i];if(o==="\\"){if(i+1===t.length)throw new G(U.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new G(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else o==="`"?(s=!s,i++):o!=="."||s?(r+=o,i++):(a(),i++)}if(a(),s)throw new G(U.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new nn(n)}static emptyPath(){return new nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(t){this.path=t}static fromPath(t){return new J(Le.fromString(t))}static fromName(t){return new J(Le.fromString(t).popFirst(5))}static empty(){return new J(Le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Le.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Le.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new J(new Le(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(e,t,n){if(!n)throw new G(U.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function oq(e,t,n,r){if(t===!0&&r===!0)throw new G(U.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function BT(e){if(!J.isDocumentKey(e))throw new G(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function $T(e){if(J.isDocumentKey(e))throw new G(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function AD(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function Ig(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":re(12329,{type:typeof e})}function Dr(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new G(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ig(e);throw new G(U.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(e,t){const n={typeString:e};return t&&(n.value=t),n}function ld(e,t){if(!AD(e))throw new G(U.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,a="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const s=e[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&s!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new G(U.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT=-62135596800,qT=1e6;class qe{static now(){return qe.fromMillis(Date.now())}static fromDate(t){return qe.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*qT);return new qe(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new G(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<FT)throw new G(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new G(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/qT}_compareTo(t){return this.seconds===t.seconds?ge(this.nanoseconds,t.nanoseconds):ge(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:qe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(ld(t,qe._jsonSchema))return new qe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-FT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}qe._jsonSchemaVersion="firestore/timestamp/1.0",qe._jsonSchema={type:xt("string",qe._jsonSchemaVersion),seconds:xt("number"),nanoseconds:xt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{static fromTimestamp(t){return new ae(t)}static min(){return new ae(new qe(0,0))}static max(){return new ae(new qe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const df=-1;function lq(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=ae.fromTimestamp(r===1e9?new qe(n+1,0):new qe(n,r));return new fs(i,J.empty(),t)}function uq(e){return new fs(e.readTime,e.key,df)}class fs{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new fs(ae.min(),J.empty(),df)}static max(){return new fs(ae.max(),J.empty(),df)}}function cq(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=J.comparator(e.documentKey,t.documentKey),n!==0?n:ge(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dq{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yu(e){if(e.code!==U.FAILED_PRECONDITION||e.message!==fq)throw e;Y("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new B((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(t,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):B.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):B.reject(n)}static resolve(t){return new B((n,r)=>{n(t)})}static reject(t){return new B((n,r)=>{r(t)})}static waitFor(t){return new B((n,r)=>{let i=0,a=0,s=!1;t.forEach(o=>{++i,o.next(()=>{++a,s&&a===i&&n()},l=>r(l))}),s=!0,a===i&&n()})}static or(t){let n=B.resolve(!1);for(const r of t)n=n.next(i=>i?B.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(t,n){return new B((r,i)=>{const a=t.length,s=new Array(a);let o=0;for(let l=0;l<a;l++){const u=l;n(t[u]).next(c=>{s[u]=c,++o,o===a&&r(s)},c=>i(c))}})}static doWhile(t,n){return new B((r,i)=>{const a=()=>{t()===!0?n().next(()=>{a()},i):r()};a()})}}function hq(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function vu(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Pg.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw=-1;function jg(e){return e==null}function ip(e){return e===0&&1/e==-1/0}function mq(e){return typeof e=="number"&&Number.isInteger(e)&&!ip(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD="";function pq(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=HT(t)),t=gq(e.get(n),t);return HT(t)}function gq(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const a=e.charAt(i);switch(a){case"\0":n+="";break;case TD:n+="";break;default:n+=a}}return n}function HT(e){return e+TD+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function As(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function CD(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(t,n){this.comparator=t,this.root=n||Zt.EMPTY}insert(t,n){return new et(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(t){return new et(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new xh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new xh(this.root,t,this.comparator,!1)}getReverseIterator(){return new xh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new xh(this.root,t,this.comparator,!0)}}class xh{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(a===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Zt{constructor(t,n,r,i,a){this.key=t,this.value=n,this.color=r??Zt.RED,this.left=i??Zt.EMPTY,this.right=a??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,a){return new Zt(t??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const a=r(t,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(t,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return Zt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw re(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw re(27949);return t+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw re(57766)}get value(){throw re(16141)}get color(){throw re(16727)}get left(){throw re(29726)}get right(){throw re(36894)}copy(t,n,r,i,a){return this}insert(t,n,r){return new Zt(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(t){this.comparator=t,this.data=new et(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new KT(this.data.getIterator())}getIteratorFrom(t){return new KT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof Ct)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Ct(this.comparator);return n.data=t,n}}class KT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(t){this.fields=t,t.sort(nn.comparator)}static empty(){return new Wn([])}unionWith(t){let n=new Ct(nn.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Wn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return ql(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new ND("Invalid base64 string: "+a):a}}(t);return new ln(n)}static fromUint8Array(t){const n=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(t);return new ln(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ge(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ln.EMPTY_BYTE_STRING=new ln("");const yq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ds(e){if(Te(!!e,39018),typeof e=="string"){let t=0;const n=yq.exec(e);if(Te(!!n,46558,{timestamp:e}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:lt(e.seconds),nanos:lt(e.nanos)}}function lt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function hs(e){return typeof e=="string"?ln.fromBase64String(e):ln.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD="server_timestamp",ID="__type__",PD="__previous_value__",jD="__local_write_time__";function gw(e){var n,r;return((r=(((n=e==null?void 0:e.mapValue)==null?void 0:n.fields)||{})[ID])==null?void 0:r.stringValue)===OD}function Rg(e){const t=e.mapValue.fields[PD];return gw(t)?Rg(t):t}function hf(e){const t=ds(e.mapValue.fields[jD].timestampValue);return new qe(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vq{constructor(t,n,r,i,a,s,o,l,u,c,f){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=c,this.apiKey=f}}const ap="(default)";class mf{constructor(t,n){this.projectId=t,this.database=n||ap}static empty(){return new mf("","")}get isDefaultDatabase(){return this.database===ap}isEqual(t){return t instanceof mf&&t.projectId===this.projectId&&t.database===this.database}}function bq(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new G(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mf(e.options.projectId,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD="__type__",xq="__max__",_h={mapValue:{}},DD="__vector__",sp="value";function ms(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?gw(e)?4:wq(e)?9007199254740991:_q(e)?10:11:re(28295,{value:e})}function ci(e,t){if(e===t)return!0;const n=ms(e);if(n!==ms(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return hf(e).isEqual(hf(t));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=ds(i.timestampValue),o=ds(a.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,a){return hs(i.bytesValue).isEqual(hs(a.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,a){return lt(i.geoPointValue.latitude)===lt(a.geoPointValue.latitude)&&lt(i.geoPointValue.longitude)===lt(a.geoPointValue.longitude)}(e,t);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return lt(i.integerValue)===lt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=lt(i.doubleValue),o=lt(a.doubleValue);return s===o?ip(s)===ip(o):isNaN(s)&&isNaN(o)}return!1}(e,t);case 9:return ql(e.arrayValue.values||[],t.arrayValue.values||[],ci);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},o=a.mapValue.fields||{};if(GT(s)!==GT(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!ci(s[l],o[l])))return!1;return!0}(e,t);default:return re(52216,{left:e})}}function pf(e,t){return(e.values||[]).find(n=>ci(n,t))!==void 0}function Hl(e,t){if(e===t)return 0;const n=ms(e),r=ms(t);if(n!==r)return ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ge(e.booleanValue,t.booleanValue);case 2:return function(a,s){const o=lt(a.integerValue||a.doubleValue),l=lt(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(e,t);case 3:return YT(e.timestampValue,t.timestampValue);case 4:return YT(hf(e),hf(t));case 5:return Vb(e.stringValue,t.stringValue);case 6:return function(a,s){const o=hs(a),l=hs(s);return o.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(a,s){const o=a.split("/"),l=s.split("/");for(let u=0;u<o.length&&u<l.length;u++){const c=ge(o[u],l[u]);if(c!==0)return c}return ge(o.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(a,s){const o=ge(lt(a.latitude),lt(s.latitude));return o!==0?o:ge(lt(a.longitude),lt(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return WT(e.arrayValue,t.arrayValue);case 10:return function(a,s){var h,p,g,_;const o=a.fields||{},l=s.fields||{},u=(h=o[sp])==null?void 0:h.arrayValue,c=(p=l[sp])==null?void 0:p.arrayValue,f=ge(((g=u==null?void 0:u.values)==null?void 0:g.length)||0,((_=c==null?void 0:c.values)==null?void 0:_.length)||0);return f!==0?f:WT(u,c)}(e.mapValue,t.mapValue);case 11:return function(a,s){if(a===_h.mapValue&&s===_h.mapValue)return 0;if(a===_h.mapValue)return 1;if(s===_h.mapValue)return-1;const o=a.fields||{},l=Object.keys(o),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const h=Vb(l[f],c[f]);if(h!==0)return h;const p=Hl(o[l[f]],u[c[f]]);if(p!==0)return p}return ge(l.length,c.length)}(e.mapValue,t.mapValue);default:throw re(23264,{he:n})}}function YT(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return ge(e,t);const n=ds(e),r=ds(t),i=ge(n.seconds,r.seconds);return i!==0?i:ge(n.nanos,r.nanos)}function WT(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=Hl(n[i],r[i]);if(a)return a}return ge(n.length,r.length)}function Gl(e){return Ub(e)}function Ub(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=ds(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return hs(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return J.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=Ub(a);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const s of r)a?a=!1:i+=",",i+=`${s}:${Ub(n.fields[s])}`;return i+"}"}(e.mapValue):re(61005,{value:e})}function lm(e){switch(ms(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Rg(e);return t?16+lm(t):16;case 5:return 2*e.stringValue.length;case 6:return hs(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+lm(a),0)}(e.arrayValue);case 10:case 11:return function(r){let i=0;return As(r.fields,(a,s)=>{i+=a.length+lm(s)}),i}(e.mapValue);default:throw re(13486,{value:e})}}function XT(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function zb(e){return!!e&&"integerValue"in e}function yw(e){return!!e&&"arrayValue"in e}function QT(e){return!!e&&"nullValue"in e}function ZT(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function um(e){return!!e&&"mapValue"in e}function _q(e){var n,r;return((r=(((n=e==null?void 0:e.mapValue)==null?void 0:n.fields)||{})[RD])==null?void 0:r.stringValue)===DD}function $c(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return As(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=$c(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=$c(e.arrayValue.values[n]);return t}return{...e}}function wq(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===xq}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(t){this.value=t}static empty(){return new Dn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!um(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=$c(n)}setAll(t){let n=nn.emptyPath(),r={},i=[];t.forEach((s,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=o.popLast()}s?r[o.lastSegment()]=$c(s):i.push(o.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(t){const n=this.field(t.popLast());um(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return ci(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];um(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){As(n,(i,a)=>t[i]=a);for(const i of r)delete t[i]}clone(){return new Dn($c(this.value))}}function kD(e){const t=[];return As(e.fields,(n,r)=>{const i=new nn([n]);if(um(r)){const a=kD(r.mapValue).fields;if(a.length===0)t.push(i);else for(const s of a)t.push(i.child(s))}else t.push(i)}),new Wn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(t,n,r,i,a,s,o){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=s,this.documentState=o}static newInvalidDocument(t){return new pn(t,0,ae.min(),ae.min(),ae.min(),Dn.empty(),0)}static newFoundDocument(t,n,r,i){return new pn(t,1,n,ae.min(),r,i,0)}static newNoDocument(t,n){return new pn(t,2,n,ae.min(),ae.min(),Dn.empty(),0)}static newUnknownDocument(t,n){return new pn(t,3,n,ae.min(),ae.min(),Dn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ae.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof pn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(t,n){this.position=t,this.inclusive=n}}function JT(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const a=t[i],s=e.position[i];if(a.field.isKeyField()?r=J.comparator(J.fromName(s.referenceValue),n.key):r=Hl(s,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function eC(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!ci(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(t,n="asc"){this.field=t,this.dir=n}}function Eq(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{}class vt extends MD{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new Aq(t,n,r):n==="array-contains"?new Nq(t,r):n==="in"?new Oq(t,r):n==="not-in"?new Iq(t,r):n==="array-contains-any"?new Pq(t,r):new vt(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new Tq(t,r):new Cq(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Hl(n,this.value)):n!==null&&ms(this.value)===ms(n)&&this.matchesComparison(Hl(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vr extends MD{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Vr(t,n)}matches(t){return LD(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function LD(e){return e.op==="and"}function VD(e){return Sq(e)&&LD(e)}function Sq(e){for(const t of e.filters)if(t instanceof Vr)return!1;return!0}function Bb(e){if(e instanceof vt)return e.field.canonicalString()+e.op.toString()+Gl(e.value);if(VD(e))return e.filters.map(t=>Bb(t)).join(",");{const t=e.filters.map(n=>Bb(n)).join(",");return`${e.op}(${t})`}}function UD(e,t){return e instanceof vt?function(r,i){return i instanceof vt&&r.op===i.op&&r.field.isEqual(i.field)&&ci(r.value,i.value)}(e,t):e instanceof Vr?function(r,i){return i instanceof Vr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,s,o)=>a&&UD(s,i.filters[o]),!0):!1}(e,t):void re(19439)}function zD(e){return e instanceof vt?function(n){return`${n.field.canonicalString()} ${n.op} ${Gl(n.value)}`}(e):e instanceof Vr?function(n){return n.op.toString()+" {"+n.getFilters().map(zD).join(" ,")+"}"}(e):"Filter"}class Aq extends vt{constructor(t,n,r){super(t,n,r),this.key=J.fromName(r.referenceValue)}matches(t){const n=J.comparator(t.key,this.key);return this.matchesComparison(n)}}class Tq extends vt{constructor(t,n){super(t,"in",n),this.keys=BD("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class Cq extends vt{constructor(t,n){super(t,"not-in",n),this.keys=BD("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function BD(e,t){var n;return(((n=t.arrayValue)==null?void 0:n.values)||[]).map(r=>J.fromName(r.referenceValue))}class Nq extends vt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return yw(n)&&pf(n.arrayValue,this.value)}}class Oq extends vt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&pf(this.value.arrayValue,n)}}class Iq extends vt{constructor(t,n){super(t,"not-in",n)}matches(t){if(pf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!pf(this.value.arrayValue,n)}}class Pq extends vt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!yw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>pf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jq{constructor(t,n=null,r=[],i=[],a=null,s=null,o=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=s,this.endAt=o,this.Te=null}}function tC(e,t=null,n=[],r=[],i=null,a=null,s=null){return new jq(e,t,n,r,i,a,s)}function vw(e){const t=se(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>Bb(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),jg(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Gl(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Gl(r)).join(",")),t.Te=n}return t.Te}function bw(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Eq(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!UD(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!eC(e.startAt,t.startAt)&&eC(e.endAt,t.endAt)}function $b(e){return J.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(t,n=null,r=[],i=[],a=null,s="F",o=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=s,this.startAt=o,this.endAt=l,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Rq(e,t,n,r,i,a,s,o){return new bu(e,t,n,r,i,a,s,o)}function Dg(e){return new bu(e)}function nC(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function Dq(e){return J.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}function $D(e){return e.collectionGroup!==null}function Fc(e){const t=se(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const a of t.explicitOrderBy)t.Ie.push(a),n.add(a.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new Ct(nn.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(o=o.add(u.field))})}),o})(t).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||t.Ie.push(new gf(a,r))}),n.has(nn.keyField().canonicalString())||t.Ie.push(new gf(nn.keyField(),r))}return t.Ie}function ai(e){const t=se(e);return t.Ee||(t.Ee=kq(t,Fc(e))),t.Ee}function kq(e,t){if(e.limitType==="F")return tC(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new gf(i.field,a)});const n=e.endAt?new op(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new op(e.startAt.position,e.startAt.inclusive):null;return tC(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Fb(e,t){const n=e.filters.concat([t]);return new bu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Mq(e,t){const n=e.explicitOrderBy.concat([t]);return new bu(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}function qb(e,t,n){return new bu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function kg(e,t){return bw(ai(e),ai(t))&&e.limitType===t.limitType}function FD(e){return`${vw(ai(e))}|lt:${e.limitType}`}function Wo(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>zD(i)).join(", ")}]`),jg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Gl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Gl(i)).join(",")),`Target(${r})`}(ai(e))}; limitType=${e.limitType})`}function Mg(e,t){return t.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):J.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(e,t)&&function(r,i){for(const a of Fc(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(s,o,l){const u=JT(s,o,l);return s.inclusive?u<=0:u<0}(r.startAt,Fc(r),i)||r.endAt&&!function(s,o,l){const u=JT(s,o,l);return s.inclusive?u>=0:u>0}(r.endAt,Fc(r),i))}(e,t)}function Lq(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function qD(e){return(t,n)=>{let r=!1;for(const i of Fc(e)){const a=Vq(i,t,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function Vq(e,t,n){const r=e.field.isKeyField()?J.comparator(t.key,n.key):function(a,s,o){const l=s.data.field(a),u=o.data.field(a);return l!==null&&u!==null?Hl(l,u):re(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return re(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,t))return a}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return void(i[a]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){As(this.inner,(n,r)=>{for(const[i,a]of r)t(i,a)})}isEmpty(){return CD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uq=new et(J.comparator);function Zi(){return Uq}const HD=new et(J.comparator);function xc(...e){let t=HD;for(const n of e)t=t.insert(n.key,n);return t}function GD(e){let t=HD;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function Hs(){return qc()}function KD(){return qc()}function qc(){return new Po(e=>e.toString(),(e,t)=>e.isEqual(t))}const zq=new et(J.comparator),Bq=new Ct(J.comparator);function ye(...e){let t=Bq;for(const n of e)t=t.add(n);return t}const $q=new Ct(ge);function Fq(){return $q}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ip(t)?"-0":t}}function YD(e){return{integerValue:""+e}}function WD(e,t){return mq(t)?YD(t):xw(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(){this._=void 0}}function qq(e,t,n){return e instanceof yf?function(i,a){const s={fields:{[ID]:{stringValue:OD},[jD]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&gw(a)&&(a=Rg(a)),a&&(s.fields[PD]=a),{mapValue:s}}(n,t):e instanceof vf?QD(e,t):e instanceof bf?ZD(e,t):function(i,a){const s=XD(i,a),o=rC(s)+rC(i.Ae);return zb(s)&&zb(i.Ae)?YD(o):xw(i.serializer,o)}(e,t)}function Hq(e,t,n){return e instanceof vf?QD(e,t):e instanceof bf?ZD(e,t):n}function XD(e,t){return e instanceof xf?function(r){return zb(r)||function(a){return!!a&&"doubleValue"in a}(r)}(t)?t:{integerValue:0}:null}class yf extends Lg{}class vf extends Lg{constructor(t){super(),this.elements=t}}function QD(e,t){const n=JD(t);for(const r of e.elements)n.some(i=>ci(i,r))||n.push(r);return{arrayValue:{values:n}}}class bf extends Lg{constructor(t){super(),this.elements=t}}function ZD(e,t){let n=JD(t);for(const r of e.elements)n=n.filter(i=>!ci(i,r));return{arrayValue:{values:n}}}class xf extends Lg{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function rC(e){return lt(e.integerValue||e.doubleValue)}function JD(e){return yw(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(t,n){this.field=t,this.transform=n}}function Gq(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof vf&&i instanceof vf||r instanceof bf&&i instanceof bf?ql(r.elements,i.elements,ci):r instanceof xf&&i instanceof xf?ci(r.Ae,i.Ae):r instanceof yf&&i instanceof yf}(e.transform,t.transform)}class Kq{constructor(t,n){this.version=t,this.transformResults=n}}class Vn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Vn}static exists(t){return new Vn(void 0,t)}static updateTime(t){return new Vn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function cm(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Vg{}function tk(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Ug(e.key,Vn.none()):new ud(e.key,e.data,Vn.none());{const n=e.data,r=Dn.empty();let i=new Ct(nn.comparator);for(let a of t.fields)if(!i.has(a)){let s=n.field(a);s===null&&a.length>1&&(a=a.popLast(),s=n.field(a)),s===null?r.delete(a):r.set(a,s),i=i.add(a)}return new Ts(e.key,r,new Wn(i.toArray()),Vn.none())}}function Yq(e,t,n){e instanceof ud?function(i,a,s){const o=i.value.clone(),l=aC(i.fieldTransforms,a,s.transformResults);o.setAll(l),a.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(e,t,n):e instanceof Ts?function(i,a,s){if(!cm(i.precondition,a))return void a.convertToUnknownDocument(s.version);const o=aC(i.fieldTransforms,a,s.transformResults),l=a.data;l.setAll(nk(i)),l.setAll(o),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(e,t,n):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function Hc(e,t,n,r){return e instanceof ud?function(a,s,o,l){if(!cm(a.precondition,s))return o;const u=a.value.clone(),c=sC(a.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ts?function(a,s,o,l){if(!cm(a.precondition,s))return o;const u=sC(a.fieldTransforms,l,s),c=s.data;return c.setAll(nk(a)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),o===null?null:o.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(f=>f.field))}(e,t,n,r):function(a,s,o){return cm(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(e,t,n)}function Wq(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),a=XD(r.transform,i||null);a!=null&&(n===null&&(n=Dn.empty()),n.set(r.field,a))}return n||null}function iC(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ql(r,i,(a,s)=>Gq(a,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class ud extends Vg{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ts extends Vg{constructor(t,n,r,i,a=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function nk(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function aC(e,t,n){const r=new Map;Te(e.length===n.length,32656,{Ve:n.length,de:e.length});for(let i=0;i<n.length;i++){const a=e[i],s=a.transform,o=t.data.field(a.field);r.set(a.field,Hq(s,o,n[i]))}return r}function sC(e,t,n){const r=new Map;for(const i of e){const a=i.transform,s=n.data.field(i.field);r.set(i.field,qq(a,s,t))}return r}class Ug extends Vg{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Xq extends Vg{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qq{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(t.key)&&Yq(a,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Hc(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Hc(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=KD();return this.mutations.forEach(i=>{const a=t.get(i.key),s=a.overlayedDocument;let o=this.applyToLocalView(s,a.mutatedFields);o=n.has(i.key)?null:o;const l=tk(s,o);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(ae.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),ye())}isEqual(t){return this.batchId===t.batchId&&ql(this.mutations,t.mutations,(n,r)=>iC(n,r))&&ql(this.baseMutations,t.baseMutations,(n,r)=>iC(n,r))}}class _w{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){Te(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let i=function(){return zq}();const a=t.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,r[s].version);return new _w(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zq{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jq{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mt,we;function eH(e){switch(e){case U.OK:return re(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return re(15467,{code:e})}}function rk(e){if(e===void 0)return Qi("GRPC error has no .code"),U.UNKNOWN;switch(e){case mt.OK:return U.OK;case mt.CANCELLED:return U.CANCELLED;case mt.UNKNOWN:return U.UNKNOWN;case mt.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case mt.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case mt.INTERNAL:return U.INTERNAL;case mt.UNAVAILABLE:return U.UNAVAILABLE;case mt.UNAUTHENTICATED:return U.UNAUTHENTICATED;case mt.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case mt.NOT_FOUND:return U.NOT_FOUND;case mt.ALREADY_EXISTS:return U.ALREADY_EXISTS;case mt.PERMISSION_DENIED:return U.PERMISSION_DENIED;case mt.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case mt.ABORTED:return U.ABORTED;case mt.OUT_OF_RANGE:return U.OUT_OF_RANGE;case mt.UNIMPLEMENTED:return U.UNIMPLEMENTED;case mt.DATA_LOSS:return U.DATA_LOSS;default:return re(39323,{code:e})}}(we=mt||(mt={}))[we.OK=0]="OK",we[we.CANCELLED=1]="CANCELLED",we[we.UNKNOWN=2]="UNKNOWN",we[we.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",we[we.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",we[we.NOT_FOUND=5]="NOT_FOUND",we[we.ALREADY_EXISTS=6]="ALREADY_EXISTS",we[we.PERMISSION_DENIED=7]="PERMISSION_DENIED",we[we.UNAUTHENTICATED=16]="UNAUTHENTICATED",we[we.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",we[we.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",we[we.ABORTED=10]="ABORTED",we[we.OUT_OF_RANGE=11]="OUT_OF_RANGE",we[we.UNIMPLEMENTED=12]="UNIMPLEMENTED",we[we.INTERNAL=13]="INTERNAL",we[we.UNAVAILABLE=14]="UNAVAILABLE",we[we.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tH(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nH=new ns([4294967295,4294967295],0);function oC(e){const t=tH().encode(e),n=new gD;return n.update(t),new Uint8Array(n.digest())}function lC(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new ns([n,r],0),new ns([i,a],0)]}class ww{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new _c(`Invalid padding: ${n}`);if(r<0)throw new _c(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new _c(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new _c(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=ns.fromNumber(this.ge)}ye(t,n,r){let i=t.add(n.multiply(ns.fromNumber(r)));return i.compare(nH)===1&&(i=new ns([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=oC(t),[r,i]=lC(n);for(let a=0;a<this.hashCount;a++){const s=this.ye(r,i,a);if(!this.we(s))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,a=new Uint8Array(Math.ceil(t/8)),s=new ww(a,i,n);return r.forEach(o=>s.insert(o)),s}insert(t){if(this.ge===0)return;const n=oC(t),[r,i]=lC(n);for(let a=0;a<this.hashCount;a++){const s=this.ye(r,i,a);this.be(s)}}be(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class _c extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(t,n,r,i,a){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,cd.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new zg(ae.min(),i,new et(ge),Zi(),ye())}}class cd{constructor(t,n,r,i,a){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new cd(r,n,ye(),ye(),ye())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(t,n,r,i){this.Se=t,this.removedTargetIds=n,this.key=r,this.De=i}}class ik{constructor(t,n){this.targetId=t,this.Ce=n}}class ak{constructor(t,n,r=ln.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class uC{constructor(){this.ve=0,this.Fe=cC(),this.Me=ln.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=ye(),n=ye(),r=ye();return this.Fe.forEach((i,a)=>{switch(a){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:re(38017,{changeType:a})}}),new cd(this.Me,this.xe,t,n,r)}Ke(){this.Oe=!1,this.Fe=cC()}qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Te(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class rH{constructor(t){this.Ge=t,this.ze=new Map,this.je=Zi(),this.He=wh(),this.Je=wh(),this.Ze=new et(ge)}Xe(t){for(const n of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,n=>{const r=this.nt(n);switch(t.state){case 0:this.rt(n)&&r.Le(t.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(t.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(t.resumeToken));break;default:re(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(t){const n=t.targetId,r=t.Ce.count,i=this.ot(n);if(i){const a=i.target;if($b(a))if(r===0){const s=new J(a.path);this.et(n,s,pn.newNoDocument(s,ae.min()))}else Te(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const o=this.ut(t),l=o?this.ct(o,t,s):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let s,o;try{s=hs(r).toUint8Array()}catch(l){if(l instanceof ND)return Fl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new ww(s,i,a)}catch(l){return Fl(l instanceof _c?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.ge===0?null:o}ct(t,n,r){return n.Ce.count===r-this.Pt(t,n.targetId)?0:2}Pt(t,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const s=this.Ge.ht(),o=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;t.mightContain(o)||(this.et(n,a,null),i++)}),i}Tt(t){const n=new Map;this.ze.forEach((a,s)=>{const o=this.ot(s);if(o){if(a.current&&$b(o.target)){const l=new J(o.target.path);this.It(l).has(s)||this.Et(s,l)||this.et(s,l,pn.newNoDocument(l,t))}a.Be&&(n.set(s,a.ke()),a.Ke())}});let r=ye();this.Je.forEach((a,s)=>{let o=!0;s.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(a))}),this.je.forEach((a,s)=>s.setReadTime(t));const i=new zg(t,n,this.Ze,this.je,r);return this.je=Zi(),this.He=wh(),this.Je=wh(),this.Ze=new et(ge),i}Ye(t,n){if(!this.rt(t))return;const r=this.Et(t,n.key)?2:0;this.nt(t).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(t)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(t))}et(t,n,r){if(!this.rt(t))return;const i=this.nt(t);this.Et(t,n)?i.qe(n,1):i.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(t)),this.Je=this.Je.insert(n,this.Rt(n).add(t)),r&&(this.je=this.je.insert(n,r))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let n=this.ze.get(t);return n||(n=new uC,this.ze.set(t,n)),n}Rt(t){let n=this.Je.get(t);return n||(n=new Ct(ge),this.Je=this.Je.insert(t,n)),n}It(t){let n=this.He.get(t);return n||(n=new Ct(ge),this.He=this.He.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||Y("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new uC),this.Ge.getRemoteKeysForTarget(t).forEach(n=>{this.et(t,n,null)})}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function wh(){return new et(J.comparator)}function cC(){return new et(J.comparator)}const iH={asc:"ASCENDING",desc:"DESCENDING"},aH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sH={and:"AND",or:"OR"};class oH{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Hb(e,t){return e.useProto3Json||jg(t)?t:{value:t}}function lp(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function sk(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function lH(e,t){return lp(e,t.toTimestamp())}function si(e){return Te(!!e,49232),ae.fromTimestamp(function(n){const r=ds(n);return new qe(r.seconds,r.nanos)}(e))}function Ew(e,t){return Gb(e,t).canonicalString()}function Gb(e,t){const n=function(i){return new Le(["projects",i.projectId,"databases",i.database])}(e).child("documents");return t===void 0?n:n.child(t)}function ok(e){const t=Le.fromString(e);return Te(dk(t),10190,{key:t.toString()}),t}function Kb(e,t){return Ew(e.databaseId,t.path)}function t0(e,t){const n=ok(t);if(n.get(1)!==e.databaseId.projectId)throw new G(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new G(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new J(uk(n))}function lk(e,t){return Ew(e.databaseId,t)}function uH(e){const t=ok(e);return t.length===4?Le.emptyPath():uk(t)}function Yb(e){return new Le(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function uk(e){return Te(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function fC(e,t,n){return{name:Kb(e,t),fields:n.value.mapValue.fields}}function cH(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:re(39313,{state:u})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(u,c){return u.useProto3Json?(Te(c===void 0||typeof c=="string",58123),ln.fromBase64String(c||"")):(Te(c===void 0||c instanceof Buffer||c instanceof Uint8Array,16193),ln.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&function(u){const c=u.code===void 0?U.UNKNOWN:rk(u.code);return new G(c,u.message||"")}(s);n=new ak(r,i,a,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=t0(e,r.document.name),a=si(r.document.updateTime),s=r.document.createTime?si(r.document.createTime):ae.min(),o=new Dn({mapValue:{fields:r.document.fields}}),l=pn.newFoundDocument(i,a,s,o),u=r.targetIds||[],c=r.removedTargetIds||[];n=new fm(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=t0(e,r.document),a=r.readTime?si(r.readTime):ae.min(),s=pn.newNoDocument(i,a),o=r.removedTargetIds||[];n=new fm([],o,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=t0(e,r.document),a=r.removedTargetIds||[];n=new fm([],a,i,null)}else{if(!("filter"in t))return re(11601,{Vt:t});{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,s=new Jq(i,a),o=r.targetId;n=new ik(o,s)}}return n}function fH(e,t){let n;if(t instanceof ud)n={update:fC(e,t.key,t.value)};else if(t instanceof Ug)n={delete:Kb(e,t.key)};else if(t instanceof Ts)n={update:fC(e,t.key,t.data),updateMask:xH(t.fieldMask)};else{if(!(t instanceof Xq))return re(16599,{dt:t.type});n={verify:Kb(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(a,s){const o=s.transform;if(o instanceof yf)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof vf)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof bf)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof xf)return{fieldPath:s.field.canonicalString(),increment:o.Ae};throw re(20930,{transform:s.transform})}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:lH(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:re(27497)}(e,t.precondition)),n}function dH(e,t){return e&&e.length>0?(Te(t!==void 0,14353),e.map(n=>function(i,a){let s=i.updateTime?si(i.updateTime):si(a);return s.isEqual(ae.min())&&(s=si(a)),new Kq(s,i.transformResults||[])}(n,t))):[]}function hH(e,t){return{documents:[lk(e,t.path)]}}function mH(e,t){const n={structuredQuery:{}},r=t.path;let i;t.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=lk(e,i);const a=function(u){if(u.length!==0)return fk(Vr.create(u,"and"))}(t.filters);a&&(n.structuredQuery.where=a);const s=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:Xo(h.field),direction:yH(h.dir)}}(c))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Hb(e,t.limit);return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(t.endAt)),{ft:n,parent:i}}function pH(e){let t=uH(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Te(r===1,65062);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let a=[];n.where&&(a=function(f){const h=ck(f);return h instanceof Vr&&VD(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(h=>function(g){return new gf(Qo(g.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(n.orderBy));let o=null;n.limit&&(o=function(f){let h;return h=typeof f=="object"?f.value:f,jg(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,p=f.values||[];return new op(p,h)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const h=!f.before,p=f.values||[];return new op(p,h)}(n.endAt)),Rq(t,i,s,a,o,"F",l,u)}function gH(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return re(28987,{purpose:i})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function ck(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Qo(n.unaryFilter.field);return vt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Qo(n.unaryFilter.field);return vt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Qo(n.unaryFilter.field);return vt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Qo(n.unaryFilter.field);return vt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return re(61313);default:return re(60726)}}(e):e.fieldFilter!==void 0?function(n){return vt.create(Qo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return re(58110);default:return re(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Vr.create(n.compositeFilter.filters.map(r=>ck(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return re(1026)}}(n.compositeFilter.op))}(e):re(30097,{filter:e})}function yH(e){return iH[e]}function vH(e){return aH[e]}function bH(e){return sH[e]}function Xo(e){return{fieldPath:e.canonicalString()}}function Qo(e){return nn.fromServerFormat(e.fieldPath)}function fk(e){return e instanceof vt?function(n){if(n.op==="=="){if(ZT(n.value))return{unaryFilter:{field:Xo(n.field),op:"IS_NAN"}};if(QT(n.value))return{unaryFilter:{field:Xo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ZT(n.value))return{unaryFilter:{field:Xo(n.field),op:"IS_NOT_NAN"}};if(QT(n.value))return{unaryFilter:{field:Xo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xo(n.field),op:vH(n.op),value:n.value}}}(e):e instanceof Vr?function(n){const r=n.getFilters().map(i=>fk(i));return r.length===1?r[0]:{compositeFilter:{op:bH(n.op),filters:r}}}(e):re(54877,{filter:e})}function xH(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function dk(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}function hk(e){return!!e&&typeof e._toProto=="function"&&e._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(t,n,r,i,a=ae.min(),s=ae.min(),o=ln.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(t){return new Ba(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Ba(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ba(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ba(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _H{constructor(t){this.yt=t}}function wH(e){const t=pH({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?qb(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EH{constructor(){this.Sn=new SH}addToCollectionParentIndex(t,n){return this.Sn.add(n),B.resolve()}getCollectionParents(t,n){return B.resolve(this.Sn.getEntries(n))}addFieldIndex(t,n){return B.resolve()}deleteFieldIndex(t,n){return B.resolve()}deleteAllFieldIndexes(t){return B.resolve()}createTargetIndexes(t,n){return B.resolve()}getDocumentsMatchingTarget(t,n){return B.resolve(null)}getIndexType(t,n){return B.resolve(0)}getFieldIndexes(t,n){return B.resolve([])}getNextCollectionGroupToUpdate(t){return B.resolve(null)}getMinOffset(t,n){return B.resolve(fs.min())}getMinOffsetFromCollectionGroup(t,n){return B.resolve(fs.min())}updateCollectionGroup(t,n,r){return B.resolve()}updateIndexEntries(t,n){return B.resolve()}}class SH{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new Ct(Le.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new Ct(Le.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mk=41943040;class Rn{static withCacheSize(t){return new Rn(t,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rn.DEFAULT_COLLECTION_PERCENTILE=10,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rn.DEFAULT=new Rn(mk,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rn.DISABLED=new Rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new Kl(0)}static ar(){return new Kl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC="LruGarbageCollector",AH=1048576;function mC([e,t],[n,r]){const i=ge(e,n);return i===0?ge(t,r):i}class TH{constructor(t){this.Pr=t,this.buffer=new Ct(mC),this.Tr=0}Ir(){return++this.Tr}Er(t){const n=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();mC(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class CH{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){Y(hC,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){vu(n)?Y(hC,"Ignoring IndexedDB error during garbage collection: ",n):await yu(n)}await this.Ar(3e5)})}}class NH{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.dr(t).next(r=>Math.floor(n/100*r))}nthSequenceNumber(t,n){if(n===0)return B.resolve(Pg.ce);const r=new TH(n);return this.Vr.forEachTarget(t,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.mr(t,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(t,n,r){return this.Vr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(Y("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(dC)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(Y("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dC):this.gr(t,n))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,n){let r,i,a,s,o,l,u;const c=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Y("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(t,i))).next(f=>(r=f,o=Date.now(),this.removeTargets(t,r,n))).next(f=>(a=f,l=Date.now(),this.removeOrphanedDocuments(t,r))).next(f=>(u=Date.now(),Yo()<=pe.DEBUG&&Y("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-c}ms
	Determined least recently used ${i} in `+(o-s)+`ms
	Removed ${a} targets in `+(l-o)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:f})))}}function OH(e,t){return new NH(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IH{constructor(){this.changes=new Po(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,pn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PH{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jH{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&Hc(r.mutation,i,Wn.empty(),qe.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,ye()).next(()=>r))}getLocalViewOfDocuments(t,n,r=ye()){const i=Hs();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(a=>{let s=xc();return a.forEach((o,l)=>{s=s.insert(o,l.overlayedDocument)}),s}))}getOverlayedDocuments(t,n){const r=Hs();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,ye()))}populateOverlays(t,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(t,i).next(a=>{a.forEach((s,o)=>{n.set(s,o)})})}computeViews(t,n,r,i){let a=Zi();const s=qc(),o=function(){return qc()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Ts)?a=a.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),Hc(c.mutation,u,c.mutation.getFieldMask(),qe.now())):s.set(u.key,Wn.empty())}),this.recalculateAndSaveOverlays(t,a).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>o.set(u,new PH(c,s.get(u)??null))),o))}recalculateAndSaveOverlays(t,n){const r=qc();let i=new et((s,o)=>s-o),a=ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(s=>{for(const o of s)o.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Wn.empty();c=o.applyToLocalView(u,c),r.set(l,c);const f=(i.get(o.batchId)||ye()).add(l);i=i.insert(o.batchId,f)})}).next(()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),u=l.key,c=l.value,f=KD();c.forEach(h=>{if(!a.has(h)){const p=tk(n.get(h),r.get(h));p!==null&&f.set(h,p),a=a.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(t,u,f))}return B.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return Dq(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):$D(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-a.size):B.resolve(Hs());let o=df,l=a;return s.next(u=>B.forEach(u,(c,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),a.get(c)?B.resolve():this.remoteDocumentCache.getEntry(t,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(t,u,a)).next(()=>this.computeViews(t,l,u,ye())).next(c=>({batchId:o,changes:GD(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new J(n)).next(r=>{let i=xc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const a=n.collectionGroup;let s=xc();return this.indexManager.getCollectionParents(t,a).next(o=>B.forEach(o,l=>{const u=function(f,h){return new bu(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(a));return this.getDocumentsMatchingCollectionQuery(t,u,r,i).next(c=>{c.forEach((f,h)=>{s=s.insert(f,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,a,i))).next(s=>{a.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,pn.newInvalidDocument(c)))});let o=xc();return s.forEach((l,u)=>{const c=a.get(l);c!==void 0&&Hc(c.mutation,u,Wn.empty(),qe.now()),Mg(n,u)&&(o=o.insert(l,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RH{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,n){return B.resolve(this.Nr.get(n))}saveBundleMetadata(t,n){return this.Nr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:si(i.createTime)}}(n)),B.resolve()}getNamedQuery(t,n){return B.resolve(this.Br.get(n))}saveNamedQuery(t,n){return this.Br.set(n.name,function(i){return{name:i.name,query:wH(i.bundledQuery),readTime:si(i.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DH{constructor(){this.overlays=new et(J.comparator),this.Lr=new Map}getOverlay(t,n){return B.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Hs();return B.forEach(n,i=>this.getOverlay(t,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,a)=>{this.bt(t,n,a)}),B.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Lr.delete(r)),B.resolve()}getOverlaysForCollection(t,n,r){const i=Hs(),a=n.length+1,s=new J(n.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const l=o.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===a&&l.largestBatchId>r&&i.set(l.getKey(),l)}return B.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let a=new et((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=a.get(u.largestBatchId);c===null&&(c=Hs(),a=a.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const o=Hs(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>o.set(u,c)),!(o.size()>=i)););return B.resolve(o)}bt(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Zq(n,r));let a=this.Lr.get(n);a===void 0&&(a=ye(),this.Lr.set(n,a)),this.Lr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kH{constructor(){this.sessionToken=ln.EMPTY_BYTE_STRING}getSessionToken(t){return B.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(){this.kr=new Ct(Lt.Kr),this.qr=new Ct(Lt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,n){const r=new Lt(t,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.Wr(new Lt(t,n))}Qr(t,n){t.forEach(r=>this.removeReference(r,n))}Gr(t){const n=new J(new Le([])),r=new Lt(n,t),i=new Lt(n,t+1),a=[];return this.qr.forEachInRange([r,i],s=>{this.Wr(s),a.push(s.key)}),a}zr(){this.kr.forEach(t=>this.Wr(t))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const n=new J(new Le([])),r=new Lt(n,t),i=new Lt(n,t+1);let a=ye();return this.qr.forEachInRange([r,i],s=>{a=a.add(s.key)}),a}containsKey(t){const n=new Lt(t,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Lt{constructor(t,n){this.key=t,this.Hr=n}static Kr(t,n){return J.comparator(t.key,n.key)||ge(t.Hr,n.Hr)}static Ur(t,n){return ge(t.Hr,n.Hr)||J.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MH{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Ct(Lt.Kr)}checkEmpty(t){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const a=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Qq(a,n,r,i);this.mutationQueue.push(s);for(const o of i)this.Jr=this.Jr.add(new Lt(o.key,a)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return B.resolve(s)}lookupMutationBatch(t,n){return B.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.Xr(r),a=i<0?0:i;return B.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?pw:this.Yn-1)}getAllMutationBatches(t){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Lt(n,0),i=new Lt(n,Number.POSITIVE_INFINITY),a=[];return this.Jr.forEachInRange([r,i],s=>{const o=this.Zr(s.Hr);a.push(o)}),B.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Ct(ge);return n.forEach(i=>{const a=new Lt(i,0),s=new Lt(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([a,s],o=>{r=r.add(o.Hr)})}),B.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let a=r;J.isDocumentKey(a)||(a=a.child(""));const s=new Lt(new J(a),0);let o=new Ct(ge);return this.Jr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(o=o.add(l.Hr)),!0)},s),B.resolve(this.Yr(o))}Yr(t){const n=[];return t.forEach(r=>{const i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){Te(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return B.forEach(n.mutations,i=>{const a=new Lt(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.Jr=r})}nr(t){}containsKey(t,n){const r=new Lt(n,0),i=this.Jr.firstAfterOrEqual(r);return B.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,B.resolve()}ei(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LH{constructor(t){this.ti=t,this.docs=function(){return new et(J.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,s=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():pn.newInvalidDocument(n))}getEntries(t,n){let r=Zi();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():pn.newInvalidDocument(i))}),B.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let a=Zi();const s=n.path,o=new J(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||cq(uq(c),r)<=0||(i.has(c.key)||Mg(n,c))&&(a=a.insert(c.key,c.mutableCopy()))}return B.resolve(a)}getAllFromCollectionGroup(t,n,r,i){re(9500)}ni(t,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new VH(this)}getSize(t){return B.resolve(this.size)}}class VH extends IH{constructor(t){super(),this.Mr=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Mr.addEntry(t,i)):this.Mr.removeEntry(r)}),B.waitFor(n)}getFromCache(t,n){return this.Mr.getEntry(t,n)}getAllFromCache(t,n){return this.Mr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UH{constructor(t){this.persistence=t,this.ri=new Po(n=>vw(n),bw),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this.ii=0,this.si=new Sw,this.targetCount=0,this.oi=Kl._r()}forEachTarget(t,n){return this.ri.forEach((r,i)=>n(i)),B.resolve()}getLastRemoteSnapshotVersion(t){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return B.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),B.resolve()}lr(t){this.ri.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.oi=new Kl(n),this.highestTargetId=n),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,n){return this.lr(n),this.targetCount+=1,B.resolve()}updateTargetData(t,n){return this.lr(n),B.resolve()}removeTargetData(t,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(t,n,r){let i=0;const a=[];return this.ri.forEach((s,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.ri.delete(s),a.push(this.removeMatchingKeysForTargetId(t,o.targetId)),i++)}),B.waitFor(a).next(()=>i)}getTargetCount(t){return B.resolve(this.targetCount)}getTargetData(t,n){const r=this.ri.get(n)||null;return B.resolve(r)}addMatchingKeys(t,n,r){return this.si.$r(n,r),B.resolve()}removeMatchingKeys(t,n,r){this.si.Qr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(s=>{a.push(i.markPotentiallyOrphaned(t,s))}),B.waitFor(a)}removeMatchingKeysForTargetId(t,n){return this.si.Gr(n),B.resolve()}getMatchingKeysForTargetId(t,n){const r=this.si.jr(n);return B.resolve(r)}containsKey(t,n){return B.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(t,n){this._i={},this.overlays={},this.ai=new Pg(0),this.ui=!1,this.ui=!0,this.ci=new kH,this.referenceDelegate=t(this),this.li=new UH(this),this.indexManager=new EH,this.remoteDocumentCache=function(i){return new LH(i)}(r=>this.referenceDelegate.hi(r)),this.serializer=new _H(n),this.Pi=new RH(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new DH,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this._i[t.toKey()];return r||(r=new MH(n,this.referenceDelegate),this._i[t.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,n,r){Y("MemoryPersistence","Starting transaction:",t);const i=new zH(this.ai.next());return this.referenceDelegate.Ti(),r(i).next(a=>this.referenceDelegate.Ii(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ei(t,n){return B.or(Object.values(this._i).map(r=>()=>r.containsKey(t,n)))}}class zH extends dq{constructor(t){super(),this.currentSequenceNumber=t}}class Aw{constructor(t){this.persistence=t,this.Ri=new Sw,this.Ai=null}static Vi(t){return new Aw(t)}get di(){if(this.Ai)return this.Ai;throw re(60996)}addReference(t,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),B.resolve()}removeReference(t,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),B.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),B.resolve()}removeTarget(t,n){this.Ri.Gr(n.targetId).forEach(i=>this.di.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(a=>this.di.add(a.toString()))}).next(()=>r.removeTargetData(t,n))}Ti(){this.Ai=new Set}Ii(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.di,r=>{const i=J.fromPath(r);return this.mi(t,i).next(a=>{a||n.removeEntry(i,ae.min())})}).next(()=>(this.Ai=null,n.apply(t)))}updateLimboDocument(t,n){return this.mi(t,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}hi(t){return 0}mi(t,n){return B.or([()=>B.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class up{constructor(t,n){this.persistence=t,this.fi=new Po(r=>pq(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=OH(this,n)}static Vi(t,n){return new up(t,n)}Ti(){}Ii(t){return B.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>n.next(i=>r+i))}pr(t){let n=0;return this.mr(t,r=>{n++}).next(()=>n)}mr(t,n){return B.forEach(this.fi,(r,i)=>this.wr(t,r,i).next(a=>a?B.resolve():n(i)))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ni(t,s=>this.wr(t,s,n).next(o=>{o||(r++,a.removeEntry(s,ae.min()))})).next(()=>a.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,n){return this.fi.set(n,t.currentSequenceNumber),B.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.fi.set(r,t.currentSequenceNumber),B.resolve()}removeReference(t,n,r){return this.fi.set(r,t.currentSequenceNumber),B.resolve()}updateLimboDocument(t,n){return this.fi.set(n,t.currentSequenceNumber),B.resolve()}hi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=lm(t.data.value)),n}wr(t,n,r){return B.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const i=this.fi.get(n);return B.resolve(i!==void 0&&i>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.Ts=r,this.Is=i}static Es(t,n){let r=ye(),i=ye();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Tw(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BH{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $H{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return y8()?8:hq(yn())>0?6:4}()}initialize(t,n){this.fs=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,r,i){const a={result:null};return this.gs(t,n).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.ps(t,n,i,r).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new BH;return this.ys(t,n,s).next(o=>{if(a.result=o,this.As)return this.ws(t,n,s,o.size)})}).next(()=>a.result)}ws(t,n,r,i){return r.documentReadCount<this.Vs?(Yo()<=pe.DEBUG&&Y("QueryEngine","SDK will not create cache indexes for query:",Wo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),B.resolve()):(Yo()<=pe.DEBUG&&Y("QueryEngine","Query:",Wo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(Yo()<=pe.DEBUG&&Y("QueryEngine","The SDK decides to create cache indexes for query:",Wo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ai(n))):B.resolve())}gs(t,n){if(nC(n))return B.resolve(null);let r=ai(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=qb(n,null,"F"),r=ai(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(a=>{const s=ye(...a);return this.fs.getDocuments(t,s).next(o=>this.indexManager.getMinOffset(t,r).next(l=>{const u=this.bs(n,o);return this.Ss(n,u,s,l.readTime)?this.gs(t,qb(n,null,"F")):this.Ds(t,u,n,l)}))})))}ps(t,n,r,i){return nC(n)||i.isEqual(ae.min())?B.resolve(null):this.fs.getDocuments(t,r).next(a=>{const s=this.bs(n,a);return this.Ss(n,s,r,i)?B.resolve(null):(Yo()<=pe.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Wo(n)),this.Ds(t,s,n,lq(i,df)).next(o=>o))})}bs(t,n){let r=new Ct(qD(t));return n.forEach((i,a)=>{Mg(t,a)&&(r=r.add(a))}),r}Ss(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const a=t.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ys(t,n,r){return Yo()<=pe.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",Wo(n)),this.fs.getDocumentsMatchingQuery(t,n,fs.min(),r)}Ds(t,n,r,i){return this.fs.getDocumentsMatchingQuery(t,r,i).next(a=>(n.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw="LocalStore",FH=3e8;class qH{constructor(t,n,r,i){this.persistence=t,this.Cs=n,this.serializer=i,this.vs=new et(ge),this.Fs=new Po(a=>vw(a),bw),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(r)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new jH(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.vs))}}function HH(e,t,n,r){return new qH(e,t,n,r)}async function gk(e,t){const n=se(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.Os(t),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const s=[],o=[];let l=ye();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of a){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ns:u,removedBatchIds:s,addedBatchIds:o}))})})}function GH(e,t){const n=se(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),a=n.xs.newChangeBuffer({trackRemovals:!0});return function(o,l,u,c){const f=u.batch,h=f.keys();let p=B.resolve();return h.forEach(g=>{p=p.next(()=>c.getEntry(l,g)).next(_=>{const b=u.docVersions.get(g);Te(b!==null,48541),_.version.compareTo(b)<0&&(f.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),c.addEntry(_)))})}),p.next(()=>o.mutationQueue.removeMutationBatch(l,f))}(n,r,t,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let l=ye();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(l=l.add(o.batch.mutations[u].key));return l}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function yk(e){const t=se(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.li.getLastRemoteSnapshotVersion(n))}function KH(e,t){const n=se(e),r=t.snapshotVersion;let i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;const o=[];t.targetChanges.forEach((c,f)=>{const h=i.get(f);if(!h)return;o.push(n.li.removeMatchingKeys(a,c.removedDocuments,f).next(()=>n.li.addMatchingKeys(a,c.addedDocuments,f)));let p=h.withSequenceNumber(a.currentSequenceNumber);t.targetMismatches.get(f)!==null?p=p.withResumeToken(ln.EMPTY_BYTE_STRING,ae.min()).withLastLimboFreeSnapshotVersion(ae.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(f,p),function(_,b,w){return _.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=FH?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(h,p,c)&&o.push(n.li.updateTargetData(a,p))});let l=Zi(),u=ye();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(a,c))}),o.push(YH(a,s,t.documentUpdates).next(c=>{l=c.Bs,u=c.Ls})),!r.isEqual(ae.min())){const c=n.li.getLastRemoteSnapshotVersion(a).next(f=>n.li.setTargetsMetadata(a,a.currentSequenceNumber,r));o.push(c)}return B.waitFor(o).next(()=>s.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,l,u)).next(()=>l)}).then(a=>(n.vs=i,a))}function YH(e,t,n){let r=ye(),i=ye();return n.forEach(a=>r=r.add(a)),t.getEntries(e,r).next(a=>{let s=Zi();return n.forEach((o,l)=>{const u=a.get(o);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(ae.min())?(t.removeEntry(o,l.readTime),s=s.insert(o,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),s=s.insert(o,l)):Y(Cw,"Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",l.version)}),{Bs:s,Ls:i}})}function WH(e,t){const n=se(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=pw),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function XH(e,t){const n=se(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.li.getTargetData(r,t).next(a=>a?(i=a,B.resolve(i)):n.li.allocateTargetId(r).next(s=>(i=new Ba(t,s,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(t,r.targetId)),r})}async function Wb(e,t,n){const r=se(e),i=r.vs.get(t),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!vu(s))throw s;Y(Cw,`Failed to update sequence numbers for target ${t}: ${s}`)}r.vs=r.vs.remove(t),r.Fs.delete(i.target)}function pC(e,t,n){const r=se(e);let i=ae.min(),a=ye();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const f=se(l),h=f.Fs.get(c);return h!==void 0?B.resolve(f.vs.get(h)):f.li.getTargetData(u,c)}(r,s,ai(t)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(s,o.targetId).next(l=>{a=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,t,n?i:ae.min(),n?a:ye())).next(o=>(QH(r,Lq(t),o),{documents:o,ks:a})))}function QH(e,t,n){let r=e.Ms.get(t)||ae.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),e.Ms.set(t,r)}class gC{constructor(){this.activeTargetIds=Fq()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class ZH{constructor(){this.vo=new gC,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,n,r){this.Fo[t]=n}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new gC,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JH{Mo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC="ConnectivityMonitor";class vC{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Y(yC,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){Y(yC,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eh=null;function Xb(){return Eh===null?Eh=function(){return 268435456+Math.round(2147483648*Math.random())}():Eh++,"0x"+Eh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0="RestConnection",eG={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class tG{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+t.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===ap?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(t,n,r,i,a){const s=Xb(),o=this.Qo(t,n.toUriEncodedString());Y(n0,`Sending RPC '${t}' ${s}:`,o,r);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(l,i,a);const{host:u}=new URL(o),c=du(u);return this.zo(t,o,l,r,c).then(f=>(Y(n0,`Received RPC '${t}' ${s}: `,f),f),f=>{throw Fl(n0,`RPC '${t}' ${s} failed with error: `,f,"url: ",o,"request:",r),f})}jo(t,n,r,i,a,s){return this.Wo(t,n,r,i,a)}Go(t,n,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+gu}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,a)=>t[a]=i),r&&r.headers.forEach((i,a)=>t[a]=i)}Qo(t,n){const r=eG[t];let i=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nG{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dn="WebChannelConnection",rc=(e,t,n)=>{e.listen(t,r=>{try{n(r)}catch(i){setTimeout(()=>{throw i},0)}})};class Al extends tG{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Al.c_){const t=xD();rc(t,bD.STAT_EVENT,n=>{n.stat===Lb.PROXY?Y(dn,"STAT_EVENT: detected buffering proxy"):n.stat===Lb.NOPROXY&&Y(dn,"STAT_EVENT: detected no buffering proxy")}),Al.c_=!0}}zo(t,n,r,i,a){const s=Xb();return new Promise((o,l)=>{const u=new yD;u.setWithCredentials(!0),u.listenOnce(vD.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case om.NO_ERROR:const f=u.getResponseJson();Y(dn,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(f)),o(f);break;case om.TIMEOUT:Y(dn,`RPC '${t}' ${s} timed out`),l(new G(U.DEADLINE_EXCEEDED,"Request time out"));break;case om.HTTP_ERROR:const h=u.getStatus();if(Y(dn,`RPC '${t}' ${s} failed with status:`,h,"response text:",u.getResponseText()),h>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const _=function(w){const x=w.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(x)>=0?x:U.UNKNOWN}(g.status);l(new G(_,g.message))}else l(new G(U.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new G(U.UNAVAILABLE,"Connection failed."));break;default:re(9055,{l_:t,streamId:s,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{Y(dn,`RPC '${t}' ${s} completed.`)}});const c=JSON.stringify(i);Y(dn,`RPC '${t}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}T_(t,n,r){const i=Xb(),a=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=this.createWebChannelTransport(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Go(o.initMessageHeaders,n,r),o.encodeInitMessageHeaders=!0;const u=a.join("");Y(dn,`Creating RPC '${t}' stream ${i}: ${u}`,o);const c=s.createWebChannel(u,o);this.I_(c);let f=!1,h=!1;const p=new nG({Ho:g=>{h?Y(dn,`Not sending because RPC '${t}' stream ${i} is closed:`,g):(f||(Y(dn,`Opening RPC '${t}' stream ${i} transport.`),c.open(),f=!0),Y(dn,`RPC '${t}' stream ${i} sending:`,g),c.send(g))},Jo:()=>c.close()});return rc(c,bc.EventType.OPEN,()=>{h||(Y(dn,`RPC '${t}' stream ${i} transport opened.`),p.i_())}),rc(c,bc.EventType.CLOSE,()=>{h||(h=!0,Y(dn,`RPC '${t}' stream ${i} transport closed`),p.o_(),this.E_(c))}),rc(c,bc.EventType.ERROR,g=>{h||(h=!0,Fl(dn,`RPC '${t}' stream ${i} transport errored. Name:`,g.name,"Message:",g.message),p.o_(new G(U.UNAVAILABLE,"The operation could not be completed")))}),rc(c,bc.EventType.MESSAGE,g=>{var _;if(!h){const b=g.data[0];Te(!!b,16349);const w=b,x=(w==null?void 0:w.error)||((_=w[0])==null?void 0:_.error);if(x){Y(dn,`RPC '${t}' stream ${i} received error:`,x);const E=x.status;let T=function(A){const C=mt[A];if(C!==void 0)return rk(C)}(E),I=x.message;T===void 0&&(T=U.INTERNAL,I="Unknown error status: "+E+" with message "+x.message),h=!0,p.o_(new G(T,I)),c.close()}else Y(dn,`RPC '${t}' stream ${i} received:`,b),p.__(b)}}),Al.u_(),setTimeout(()=>{p.s_()},0),p}terminate(){this.a_.forEach(t=>t.close()),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter(n=>n===t)}Go(t,n,r){super.Go(t,n,r),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return _D()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rG(e){return new Al(e)}function r0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bg(e){return new oH(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Al.c_=!1;class vk{constructor(t,n,r=1e3,i=1.5,a=6e4){this.Ci=t,this.timerId=n,this.R_=r,this.A_=i,this.V_=a,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Y("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),t())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC="PersistentStream";class bk{constructor(t,n,r,i,a,s,o,l){this.Ci=t,this.b_=r,this.S_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new vk(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(Qi(n.toString()),Qi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(n)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{t(()=>{const i=new G(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(t,n){const r=this.Q_(this.D_);this.stream=this.j_(t,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.Yo(()=>{r(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.H_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return Y(bC,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return n=>{this.Ci.enqueueAndForget(()=>this.D_===t?n():(Y(bC,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class iG extends bk{constructor(t,n,r,i,a,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}j_(t,n){return this.connection.T_("Listen",t,n)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=cH(this.serializer,t),r=function(a){if(!("targetChange"in a))return ae.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?ae.min():s.readTime?si(s.readTime):ae.min()}(t);return this.listener.J_(n,r)}Z_(t){const n={};n.database=Yb(this.serializer),n.addTarget=function(a,s){let o;const l=s.target;if(o=$b(l)?{documents:hH(a,l)}:{query:mH(a,l).ft},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=sk(a,s.resumeToken);const u=Hb(a,s.expectedCount);u!==null&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(ae.min())>0){o.readTime=lp(a,s.snapshotVersion.toTimestamp());const u=Hb(a,s.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,t);const r=gH(this.serializer,t);r&&(n.labels=r),this.K_(n)}X_(t){const n={};n.database=Yb(this.serializer),n.removeTarget=t,this.K_(n)}}class aG extends bk{constructor(t,n,r,i,a,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}H_(t){return Te(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Te(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Te(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=dH(t.writeResults,t.commitTime),r=si(t.commitTime);return this.listener.na(r,n)}ra(){const t={};t.database=Yb(this.serializer),this.K_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>fH(this.serializer,r))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sG{}class oG extends sG{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new G(U.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Wo(t,Gb(n,r),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new G(U.UNKNOWN,a.toString())})}jo(t,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.jo(t,Gb(n,r),i,s,o,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new G(U.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function lG(e,t,n,r){return new oG(e,t,n,r)}class uG{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Qi(n),this.aa=!1):Y("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go="RemoteStore";class cG{constructor(t,n,r,i,a){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=a,this.Aa.Mo(s=>{r.enqueueAndForget(async()=>{jo(this)&&(Y(go,"Restarting streams for network reachability change."),await async function(l){const u=se(l);u.Ea.add(4),await fd(u),u.Va.set("Unknown"),u.Ea.delete(4),await $g(u)}(this))})}),this.Va=new uG(r,i)}}async function $g(e){if(jo(e))for(const t of e.Ra)await t(!0)}async function fd(e){for(const t of e.Ra)await t(!1)}function xk(e,t){const n=se(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Pw(n)?Iw(n):xu(n).O_()&&Ow(n,t))}function Nw(e,t){const n=se(e),r=xu(n);n.Ia.delete(t),r.O_()&&_k(n,t),n.Ia.size===0&&(r.O_()?r.L_():jo(n)&&n.Va.set("Unknown"))}function Ow(e,t){if(e.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ae.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}xu(e).Z_(t)}function _k(e,t){e.da.$e(t),xu(e).X_(t)}function Iw(e){e.da=new rH({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),xu(e).start(),e.Va.ua()}function Pw(e){return jo(e)&&!xu(e).x_()&&e.Ia.size>0}function jo(e){return se(e).Ea.size===0}function wk(e){e.da=void 0}async function fG(e){e.Va.set("Online")}async function dG(e){e.Ia.forEach((t,n)=>{Ow(e,t)})}async function hG(e,t){wk(e),Pw(e)?(e.Va.ha(t),Iw(e)):e.Va.set("Unknown")}async function mG(e,t,n){if(e.Va.set("Online"),t instanceof ak&&t.state===2&&t.cause)try{await async function(i,a){const s=a.cause;for(const o of a.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,s),i.Ia.delete(o),i.da.removeTarget(o))}(e,t)}catch(r){Y(go,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await cp(e,r)}else if(t instanceof fm?e.da.Xe(t):t instanceof ik?e.da.st(t):e.da.tt(t),!n.isEqual(ae.min()))try{const r=await yk(e.localStore);n.compareTo(r)>=0&&await function(a,s){const o=a.da.Tt(s);return o.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=a.Ia.get(u);c&&a.Ia.set(u,c.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach((l,u)=>{const c=a.Ia.get(l);if(!c)return;a.Ia.set(l,c.withResumeToken(ln.EMPTY_BYTE_STRING,c.snapshotVersion)),_k(a,l);const f=new Ba(c.target,l,u,c.sequenceNumber);Ow(a,f)}),a.remoteSyncer.applyRemoteEvent(o)}(e,n)}catch(r){Y(go,"Failed to raise snapshot:",r),await cp(e,r)}}async function cp(e,t,n){if(!vu(t))throw t;e.Ea.add(1),await fd(e),e.Va.set("Offline"),n||(n=()=>yk(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Y(go,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await $g(e)})}function Ek(e,t){return t().catch(n=>cp(e,n,t))}async function Fg(e){const t=se(e),n=ps(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:pw;for(;pG(t);)try{const i=await WH(t.localStore,r);if(i===null){t.Ta.length===0&&n.L_();break}r=i.batchId,gG(t,i)}catch(i){await cp(t,i)}Sk(t)&&Ak(t)}function pG(e){return jo(e)&&e.Ta.length<10}function gG(e,t){e.Ta.push(t);const n=ps(e);n.O_()&&n.Y_&&n.ea(t.mutations)}function Sk(e){return jo(e)&&!ps(e).x_()&&e.Ta.length>0}function Ak(e){ps(e).start()}async function yG(e){ps(e).ra()}async function vG(e){const t=ps(e);for(const n of e.Ta)t.ea(n.mutations)}async function bG(e,t,n){const r=e.Ta.shift(),i=_w.from(r,t,n);await Ek(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Fg(e)}async function xG(e,t){t&&ps(e).Y_&&await async function(r,i){if(function(s){return eH(s)&&s!==U.ABORTED}(i.code)){const a=r.Ta.shift();ps(r).B_(),await Ek(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Fg(r)}}(e,t),Sk(e)&&Ak(e)}async function xC(e,t){const n=se(e);n.asyncQueue.verifyOperationInProgress(),Y(go,"RemoteStore received new credentials");const r=jo(n);n.Ea.add(3),await fd(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await $g(n)}async function _G(e,t){const n=se(e);t?(n.Ea.delete(2),await $g(n)):t||(n.Ea.add(2),await fd(n),n.Va.set("Unknown"))}function xu(e){return e.ma||(e.ma=function(n,r,i){const a=se(n);return a.sa(),new iG(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(e.datastore,e.asyncQueue,{Zo:fG.bind(null,e),Yo:dG.bind(null,e),t_:hG.bind(null,e),J_:mG.bind(null,e)}),e.Ra.push(async t=>{t?(e.ma.B_(),Pw(e)?Iw(e):e.Va.set("Unknown")):(await e.ma.stop(),wk(e))})),e.ma}function ps(e){return e.fa||(e.fa=function(n,r,i){const a=se(n);return a.sa(),new aG(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(e.datastore,e.asyncQueue,{Zo:()=>Promise.resolve(),Yo:yG.bind(null,e),t_:xG.bind(null,e),ta:vG.bind(null,e),na:bG.bind(null,e)}),e.Ra.push(async t=>{t?(e.fa.B_(),await Fg(e)):(await e.fa.stop(),e.Ta.length>0&&(Y(go,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(t,n,r,i,a){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new rs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,a){const s=Date.now()+r,o=new jw(t,n,s,i,a);return o.start(r),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(U.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Rw(e,t){if(Qi("AsyncQueue",`${t}: ${e}`),vu(e))return new G(U.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{static emptySet(t){return new Tl(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||J.comparator(n.key,r.key):(n,r)=>J.comparator(n.key,r.key),this.keyedMap=xc(),this.sortedSet=new et(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Tl)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Tl;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(){this.ga=new et(J.comparator)}track(t){const n=t.doc.key,r=this.ga.get(n);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(n,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(n):t.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):re(63341,{Vt:t,pa:r}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal((n,r)=>{t.push(r)}),t}}class Yl{constructor(t,n,r,i,a,s,o,l,u){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,n,r,i,a){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new Yl(t,n,Tl.emptySet(n),s,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&kg(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wG{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(t=>t.Da())}}class EG{constructor(){this.queries=wC(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=se(n),a=i.queries;i.queries=wC(),a.forEach((s,o)=>{for(const l of o.ba)l.onError(r)})})(this,new G(U.ABORTED,"Firestore shutting down"))}}function wC(){return new Po(e=>FD(e),kg)}async function Tk(e,t){const n=se(e);let r=3;const i=t.query;let a=n.queries.get(i);a?!a.Sa()&&t.Da()&&(r=2):(a=new wG,r=t.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const o=Rw(s,`Initialization of query '${Wo(t.query)}' failed`);return void t.onError(o)}n.queries.set(i,a),a.ba.push(t),t.va(n.onlineState),a.wa&&t.Fa(a.wa)&&Dw(n)}async function Ck(e,t){const n=se(e),r=t.query;let i=3;const a=n.queries.get(r);if(a){const s=a.ba.indexOf(t);s>=0&&(a.ba.splice(s,1),a.ba.length===0?i=t.Da()?0:1:!a.Sa()&&t.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function SG(e,t){const n=se(e);let r=!1;for(const i of t){const a=i.query,s=n.queries.get(a);if(s){for(const o of s.ba)o.Fa(i)&&(r=!0);s.wa=i}}r&&Dw(n)}function AG(e,t,n){const r=se(e),i=r.queries.get(t);if(i)for(const a of i.ba)a.onError(n);r.queries.delete(t)}function Dw(e){e.Ca.forEach(t=>{t.next()})}var Qb,EC;(EC=Qb||(Qb={})).Ma="default",EC.Cache="cache";class Nk{constructor(t,n,r){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new Yl(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=Yl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Qb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(t){this.key=t}}class Ik{constructor(t){this.key=t}}class TG{constructor(t,n){this.query=t,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ye(),this.mutatedKeys=ye(),this.eu=qD(t),this.tu=new Tl(this.eu)}get nu(){return this.Za}ru(t,n){const r=n?n.iu:new _C,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,s=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,f)=>{const h=i.get(c),p=Mg(this.query,f)?f:null,g=!!h&&this.mutatedKeys.has(h.key),_=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let b=!1;h&&p?h.data.isEqual(p.data)?g!==_&&(r.track({type:3,doc:p}),b=!0):this.su(h,p)||(r.track({type:2,doc:p}),b=!0,(l&&this.eu(p,l)>0||u&&this.eu(p,u)<0)&&(o=!0)):!h&&p?(r.track({type:0,doc:p}),b=!0):h&&!p&&(r.track({type:1,doc:h}),b=!0,(l||u)&&(o=!0)),b&&(p?(s=s.add(p),a=_?a.add(c):a.delete(c)):(s=s.delete(c),a=a.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),a=a.delete(c.key),r.track({type:1,doc:c})}return{tu:s,iu:r,Ss:o,mutatedKeys:a}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,i){const a=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const s=t.iu.ya();s.sort((c,f)=>function(p,g){const _=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return re(20277,{Vt:b})}};return _(p)-_(g)}(c.type,f.type)||this.eu(c.doc,f.doc)),this.ou(r),i=i??!1;const o=n&&!i?this._u():[],l=this.Ya.size===0&&this.current&&!i?1:0,u=l!==this.Xa;return this.Xa=l,s.length!==0||u?{snapshot:new Yl(this.query,t.tu,a,s,t.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new _C,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(n=>this.Za=this.Za.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Za=this.Za.delete(n)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=ye(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return t.forEach(r=>{this.Ya.has(r)||n.push(new Ik(r))}),this.Ya.forEach(r=>{t.has(r)||n.push(new Ok(r))}),n}cu(t){this.Za=t.ks,this.Ya=ye();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return Yl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const kw="SyncEngine";class CG{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class NG{constructor(t){this.key=t,this.hu=!1}}class OG{constructor(t,n,r,i,a,s){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Po(o=>FD(o),kg),this.Iu=new Map,this.Eu=new Set,this.Ru=new et(J.comparator),this.Au=new Map,this.Vu=new Sw,this.du={},this.mu=new Map,this.fu=Kl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function IG(e,t,n=!0){const r=Mk(e);let i;const a=r.Tu.get(t);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await Pk(r,t,n,!0),i}async function PG(e,t){const n=Mk(e);await Pk(n,t,!0,!1)}async function Pk(e,t,n,r){const i=await XH(e.localStore,ai(t)),a=i.targetId,s=e.sharedClientState.addLocalQueryTarget(a,n);let o;return r&&(o=await jG(e,t,a,s==="current",i.resumeToken)),e.isPrimaryClient&&n&&xk(e.remoteStore,i),o}async function jG(e,t,n,r,i){e.pu=(f,h,p)=>async function(_,b,w,x){let E=b.view.ru(w);E.Ss&&(E=await pC(_.localStore,b.query,!1).then(({documents:A})=>b.view.ru(A,E)));const T=x&&x.targetChanges.get(b.targetId),I=x&&x.targetMismatches.get(b.targetId)!=null,k=b.view.applyChanges(E,_.isPrimaryClient,T,I);return AC(_,b.targetId,k.au),k.snapshot}(e,f,h,p);const a=await pC(e.localStore,t,!0),s=new TG(t,a.ks),o=s.ru(a.documents),l=cd.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),u=s.applyChanges(o,e.isPrimaryClient,l);AC(e,n,u.au);const c=new CG(t,n,s);return e.Tu.set(t,c),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),u.snapshot}async function RG(e,t,n){const r=se(e),i=r.Tu.get(t),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter(s=>!kg(s,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Wb(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Nw(r.remoteStore,i.targetId),Zb(r,i.targetId)}).catch(yu)):(Zb(r,i.targetId),await Wb(r.localStore,i.targetId,!0))}async function DG(e,t){const n=se(e),r=n.Tu.get(t),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Nw(n.remoteStore,r.targetId))}async function kG(e,t,n){const r=$G(e);try{const i=await function(s,o){const l=se(s),u=qe.now(),c=o.reduce((p,g)=>p.add(g.key),ye());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=Zi(),_=ye();return l.xs.getEntries(p,c).next(b=>{g=b,g.forEach((w,x)=>{x.isValidDocument()||(_=_.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(b=>{f=b;const w=[];for(const x of o){const E=Wq(x,f.get(x.key).overlayedDocument);E!=null&&w.push(new Ts(x.key,E,kD(E.value.mapValue),Vn.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,w,o)}).next(b=>{h=b;const w=b.applyToLocalDocumentSet(f,_);return l.documentOverlayCache.saveOverlays(p,b.batchId,w)})}).then(()=>({batchId:h.batchId,changes:GD(f)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,l){let u=s.du[s.currentUser.toKey()];u||(u=new et(ge)),u=u.insert(o,l),s.du[s.currentUser.toKey()]=u}(r,i.batchId,n),await dd(r,i.changes),await Fg(r.remoteStore)}catch(i){const a=Rw(i,"Failed to persist write");n.reject(a)}}async function jk(e,t){const n=se(e);try{const r=await KH(n.localStore,t);t.targetChanges.forEach((i,a)=>{const s=n.Au.get(a);s&&(Te(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?Te(s.hu,14607):i.removedDocuments.size>0&&(Te(s.hu,42227),s.hu=!1))}),await dd(n,r,t)}catch(r){await yu(r)}}function SC(e,t,n){const r=se(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((a,s)=>{const o=s.view.va(t);o.snapshot&&i.push(o.snapshot)}),function(s,o){const l=se(s);l.onlineState=o;let u=!1;l.queries.forEach((c,f)=>{for(const h of f.ba)h.va(o)&&(u=!0)}),u&&Dw(l)}(r.eventManager,t),i.length&&r.Pu.J_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function MG(e,t,n){const r=se(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Au.get(t),a=i&&i.key;if(a){let s=new et(J.comparator);s=s.insert(a,pn.newNoDocument(a,ae.min()));const o=ye().add(a),l=new zg(ae.min(),new Map,new et(ge),s,o);await jk(r,l),r.Ru=r.Ru.remove(a),r.Au.delete(t),Mw(r)}else await Wb(r.localStore,t,!1).then(()=>Zb(r,t,n)).catch(yu)}async function LG(e,t){const n=se(e),r=t.batch.batchId;try{const i=await GH(n.localStore,t);Dk(n,r,null),Rk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await dd(n,i)}catch(i){await yu(i)}}async function VG(e,t,n){const r=se(e);try{const i=await function(s,o){const l=se(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,o).next(f=>(Te(f!==null,37113),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,t);Dk(r,t,n),Rk(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await dd(r,i)}catch(i){await yu(i)}}function Rk(e,t){(e.mu.get(t)||[]).forEach(n=>{n.resolve()}),e.mu.delete(t)}function Dk(e,t,n){const r=se(e);let i=r.du[r.currentUser.toKey()];if(i){const a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.du[r.currentUser.toKey()]=i}}function Zb(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Vu.Gr(t).forEach(r=>{e.Vu.containsKey(r)||kk(e,r)})}function kk(e,t){e.Eu.delete(t.path.canonicalString());const n=e.Ru.get(t);n!==null&&(Nw(e.remoteStore,n),e.Ru=e.Ru.remove(t),e.Au.delete(n),Mw(e))}function AC(e,t,n){for(const r of n)r instanceof Ok?(e.Vu.addReference(r.key,t),UG(e,r)):r instanceof Ik?(Y(kw,"Document no longer in limbo: "+r.key),e.Vu.removeReference(r.key,t),e.Vu.containsKey(r.key)||kk(e,r.key)):re(19791,{wu:r})}function UG(e,t){const n=t.key,r=n.path.canonicalString();e.Ru.get(n)||e.Eu.has(r)||(Y(kw,"New document in limbo: "+n),e.Eu.add(r),Mw(e))}function Mw(e){for(;e.Eu.size>0&&e.Ru.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new J(Le.fromString(t)),r=e.fu.next();e.Au.set(r,new NG(n)),e.Ru=e.Ru.insert(n,r),xk(e.remoteStore,new Ba(ai(Dg(n.path)),r,"TargetPurposeLimboResolution",Pg.ce))}}async function dd(e,t,n){const r=se(e),i=[],a=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((o,l)=>{s.push(r.pu(l,t,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=Tw.Es(l.targetId,u);a.push(f)}}))}),await Promise.all(s),r.Pu.J_(i),await async function(l,u){const c=se(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>B.forEach(u,h=>B.forEach(h.Ts,p=>c.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>B.forEach(h.Is,p=>c.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!vu(f))throw f;Y(Cw,"Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const p=c.vs.get(h),g=p.snapshotVersion,_=p.withLastLimboFreeSnapshotVersion(g);c.vs=c.vs.insert(h,_)}}}(r.localStore,a))}async function zG(e,t){const n=se(e);if(!n.currentUser.isEqual(t)){Y(kw,"User change. New user:",t.toKey());const r=await gk(n.localStore,t);n.currentUser=t,function(a,s){a.mu.forEach(o=>{o.forEach(l=>{l.reject(new G(U.CANCELLED,s))})}),a.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await dd(n,r.Ns)}}function BG(e,t){const n=se(e),r=n.Au.get(t);if(r&&r.hu)return ye().add(r.key);{let i=ye();const a=n.Iu.get(t);if(!a)return i;for(const s of a){const o=n.Tu.get(s);i=i.unionWith(o.view.nu)}return i}}function Mk(e){const t=se(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=jk.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=BG.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=MG.bind(null,t),t.Pu.J_=SG.bind(null,t.eventManager),t.Pu.yu=AG.bind(null,t.eventManager),t}function $G(e){const t=se(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=LG.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=VG.bind(null,t),t}class fp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Bg(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return HH(this.persistence,new $H,t.initialUser,this.serializer)}Cu(t){return new pk(Aw.Vi,this.serializer)}Du(t){return new ZH}async terminate(){var t,n;(t=this.gcScheduler)==null||t.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fp.provider={build:()=>new fp};class FG extends fp{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Te(this.persistence.referenceDelegate instanceof up,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new CH(r,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?Rn.withCacheSize(this.cacheSizeBytes):Rn.DEFAULT;return new pk(r=>up.Vi(r,n),this.serializer)}}class Jb{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>SC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=zG.bind(null,this.syncEngine),await _G(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new EG}()}createDatastore(t){const n=Bg(t.databaseInfo.databaseId),r=rG(t.databaseInfo);return lG(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,a,s,o){return new cG(r,i,a,s,o)}(this.localStore,this.datastore,t.asyncQueue,n=>SC(this.syncEngine,n,0),function(){return vC.v()?new vC:new JH}())}createSyncEngine(t,n){return function(i,a,s,o,l,u,c){const f=new OG(i,a,s,o,l,u);return c&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(i){const a=se(i);Y(go,"RemoteStore shutting down."),a.Ea.add(5),await fd(a),a.Aa.shutdown(),a.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)==null||t.terminate(),(n=this.eventManager)==null||n.terminate()}}Jb.provider={build:()=>new Jb};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Qi("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs="FirestoreClient";class qG{constructor(t,n,r,i,a){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=i,this.user=mn.UNAUTHENTICATED,this.clientId=mw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async s=>{Y(gs,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Y(gs,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new rs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Rw(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function i0(e,t){e.asyncQueue.verifyOperationInProgress(),Y(gs,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await gk(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function TC(e,t){e.asyncQueue.verifyOperationInProgress();const n=await HG(e);Y(gs,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>xC(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,i)=>xC(t.remoteStore,i)),e._onlineComponents=t}async function HG(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Y(gs,"Using user provided OfflineComponentProvider");try{await i0(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(i){return i.name==="FirebaseError"?i.code===U.FAILED_PRECONDITION||i.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Fl("Error using user provided cache. Falling back to memory cache: "+n),await i0(e,new fp)}}else Y(gs,"Using default OfflineComponentProvider"),await i0(e,new FG(void 0));return e._offlineComponents}async function Vk(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Y(gs,"Using user provided OnlineComponentProvider"),await TC(e,e._uninitializedComponentsProvider._online)):(Y(gs,"Using default OnlineComponentProvider"),await TC(e,new Jb))),e._onlineComponents}function GG(e){return Vk(e).then(t=>t.syncEngine)}async function ex(e){const t=await Vk(e),n=t.eventManager;return n.onListen=IG.bind(null,t.syncEngine),n.onUnlisten=RG.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=PG.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=DG.bind(null,t.syncEngine),n}function KG(e,t,n,r){const i=new Lk(r),a=new Nk(t,i,n);return e.asyncQueue.enqueueAndForget(async()=>Tk(await ex(e),a)),()=>{i.Nu(),e.asyncQueue.enqueueAndForget(async()=>Ck(await ex(e),a))}}function YG(e,t,n={}){const r=new rs;return e.asyncQueue.enqueueAndForget(async()=>function(a,s,o,l,u){const c=new Lk({next:h=>{c.Nu(),s.enqueueAndForget(()=>Ck(a,f));const p=h.docs.has(o);!p&&h.fromCache?u.reject(new G(U.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?u.reject(new G(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new Nk(Dg(o.path),c,{includeMetadataChanges:!0,Ka:!0});return Tk(a,f)}(await ex(e),e.asyncQueue,t,n,r)),r.promise}function WG(e,t){const n=new rs;return e.asyncQueue.enqueueAndForget(async()=>kG(await GG(e),t,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uk(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XG="ComponentProvider",CC=new Map;function QG(e,t,n,r,i){return new vq(e,t,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,Uk(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zk="firestore.googleapis.com",NC=!0;class OC{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new G(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=zk,this.ssl=NC}else this.host=t.host,this.ssl=t.ssl??NC;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=mk;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<AH)throw new G(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}oq("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Uk(t.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new G(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new G(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new G(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class qg{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new OC({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new G(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new G(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new OC(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new QF;switch(r.type){case"firstParty":return new tq(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new G(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=CC.get(n);r&&(Y(XG,"Removing Datastore"),CC.delete(n),r.terminate())}(this),Promise.resolve()}}function ZG(e,t,n,r={}){var u;e=Dr(e,qg);const i=du(t),a=e._getSettings(),s={...a,emulatorOptions:e._getEmulatorOptions()},o=`${t}:${n}`;i&&(OR(`https://${o}`),IR("Firestore",!0)),a.host!==zk&&a.host!==o&&Fl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...a,host:o,ssl:i,emulatorOptions:r};if(!fo(l,s)&&(e._setSettings(l),r.mockUserToken)){let c,f;if(typeof r.mockUserToken=="string")c=r.mockUserToken,f=mn.MOCK_USER;else{c=l8(r.mockUserToken,(u=e._app)==null?void 0:u.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new G(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new mn(h)}e._authCredentials=new ZF(new ED(c,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Ro(this.firestore,t,this._query)}}class ct{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new is(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ct(this.firestore,t,this._key)}toJSON(){return{type:ct._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(ld(n,ct._jsonSchema))return new ct(t,r||null,new J(Le.fromString(n.referencePath)))}}ct._jsonSchemaVersion="firestore/documentReference/1.0",ct._jsonSchema={type:xt("string",ct._jsonSchemaVersion),referencePath:xt("string")};class is extends Ro{constructor(t,n,r){super(t,n,Dg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ct(this.firestore,null,new J(t))}withConverter(t){return new is(this.firestore,t,this._path)}}function ys(e,t,...n){if(e=dt(e),SD("collection","path",t),e instanceof qg){const r=Le.fromString(t,...n);return $T(r),new is(e,null,r)}{if(!(e instanceof ct||e instanceof is))throw new G(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Le.fromString(t,...n));return $T(r),new is(e.firestore,null,r)}}function br(e,t,...n){if(e=dt(e),arguments.length===1&&(t=mw.newId()),SD("doc","path",t),e instanceof qg){const r=Le.fromString(t,...n);return BT(r),new ct(e,null,new J(r))}{if(!(e instanceof ct||e instanceof is))throw new G(U.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Le.fromString(t,...n));return BT(r),new ct(e.firestore,e instanceof is?e.converter:null,new J(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC="AsyncQueue";class PC{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new vk(this,"async_queue_retry"),this._c=()=>{const r=r0();r&&Y(IC,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=r0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=r0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new rs;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Yu.push(t),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!vu(t))throw t;Y(IC,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(r=>{throw this.nc=r,this.rc=!1,Qi("INTERNAL UNHANDLED ERROR: ",jC(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const i=jw.createAndSchedule(this,t,n,r,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&re(47125,{Pc:jC(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function jC(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class vs extends qg{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=new PC,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new PC(t),this._firestoreClient=void 0,await t}}}function JG(e,t){const n=typeof e=="object"?e:DR(),r=typeof e=="string"?e:ap,i=iw(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=s8("firestore");a&&ZG(i,...a)}return i}function Hg(e){if(e._terminated)throw new G(U.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||eK(e),e._firestoreClient}function eK(e){var r,i,a,s;const t=e._freezeSettings(),n=QG(e._databaseId,((r=e._app)==null?void 0:r.options.appId)||"",e._persistenceKey,(i=e._app)==null?void 0:i.options.apiKey,t);e._componentsProvider||(a=t.localCache)!=null&&a._offlineComponentProvider&&((s=t.localCache)!=null&&s._onlineComponentProvider)&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new qG(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(t){this._byteString=t}static fromBase64String(t){try{return new mr(ln.fromBase64String(t))}catch(n){throw new G(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new mr(ln.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:mr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(ld(t,mr._jsonSchema))return mr.fromBase64String(t.bytes)}}mr._jsonSchemaVersion="firestore/bytes/1.0",mr._jsonSchema={type:xt("string",mr._jsonSchemaVersion),bytes:xt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new G(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new G(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new G(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return ge(this._lat,t._lat)||ge(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:oi._jsonSchemaVersion}}static fromJSON(t){if(ld(t,oi._jsonSchema))return new oi(t.latitude,t.longitude)}}oi._jsonSchemaVersion="firestore/geoPoint/1.0",oi._jsonSchema={type:xt("string",oi._jsonSchemaVersion),latitude:xt("number"),longitude:xt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,t._values)}toJSON(){return{type:kr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(ld(t,kr._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new kr(t.vectorValues);throw new G(U.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}kr._jsonSchemaVersion="firestore/vectorValue/1.0",kr._jsonSchema={type:xt("string",kr._jsonSchemaVersion),vectorValues:xt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tK=/^__.*__$/;class nK{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Ts(t,this.data,this.fieldMask,n,this.fieldTransforms):new ud(t,this.data,n,this.fieldTransforms)}}class Bk{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new Ts(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function $k(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw re(40011,{dataSource:e})}}class Lw{constructor(t,n,r,i,a,s){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.validatePath(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Lw({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){var i;const n=(i=this.path)==null?void 0:i.child(t),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(t),r}childContextForFieldPath(t){var i;const n=(i=this.path)==null?void 0:i.child(t),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return dp(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if($k(this.dataSource)&&tK.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class rK{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Bg(t)}createContext(t,n,r,i=!1){return new Lw({dataSource:t,methodName:n,targetDoc:r,path:nn.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Kg(e){const t=e._freezeSettings(),n=Bg(e._databaseId);return new rK(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Fk(e,t,n,r,i,a={}){const s=e.createContext(a.merge||a.mergeFields?2:0,t,n,i);zw("Data must be an object, but it was:",s,r);const o=Gk(r,s);let l,u;if(a.merge)l=new Wn(s.fieldMask),u=s.fieldTransforms;else if(a.mergeFields){const c=[];for(const f of a.mergeFields){const h=Wl(t,f,n);if(!s.contains(h))throw new G(U.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);Wk(c,h)||c.push(h)}l=new Wn(c),u=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=s.fieldTransforms;return new nK(new Dn(o),l,u)}class Yg extends hd{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Yg}}class Vw extends hd{_toFieldTransform(t){return new ek(t.path,new yf)}isEqual(t){return t instanceof Vw}}class Uw extends hd{constructor(t,n){super(t),this.Vc=n}_toFieldTransform(t){const n=new xf(t.serializer,WD(t.serializer,this.Vc));return new ek(t.path,n)}isEqual(t){return t instanceof Uw&&this.Vc===t.Vc}}function qk(e,t,n,r){const i=e.createContext(1,t,n);zw("Data must be an object, but it was:",i,r);const a=[],s=Dn.empty();As(r,(l,u)=>{const c=Yk(t,l,n);u=dt(u);const f=i.childContextForFieldPath(c);if(u instanceof Yg)a.push(c);else{const h=md(u,f);h!=null&&(a.push(c),s.set(c,h))}});const o=new Wn(a);return new Bk(s,o,i.fieldTransforms)}function Hk(e,t,n,r,i,a){const s=e.createContext(1,t,n),o=[Wl(t,r,n)],l=[i];if(a.length%2!=0)throw new G(U.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<a.length;h+=2)o.push(Wl(t,a[h])),l.push(a[h+1]);const u=[],c=Dn.empty();for(let h=o.length-1;h>=0;--h)if(!Wk(u,o[h])){const p=o[h];let g=l[h];g=dt(g);const _=s.childContextForFieldPath(p);if(g instanceof Yg)u.push(p);else{const b=md(g,_);b!=null&&(u.push(p),c.set(p,b))}}const f=new Wn(u);return new Bk(c,f,s.fieldTransforms)}function iK(e,t,n,r=!1){return md(n,e.createContext(r?4:3,t))}function md(e,t){if(Kk(e=dt(e)))return zw("Unsupported field value:",t,e),Gk(e,t);if(e instanceof hd)return function(r,i){if(!$k(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return function(r,i){const a=[];let s=0;for(const o of r){let l=md(o,i.childContextForArray(s));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),s++}return{arrayValue:{values:a}}}(e,t)}return function(r,i){if((r=dt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return WD(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=qe.fromDate(r);return{timestampValue:lp(i.serializer,a)}}if(r instanceof qe){const a=new qe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:lp(i.serializer,a)}}if(r instanceof oi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof mr)return{bytesValue:sk(i.serializer,r._byteString)};if(r instanceof ct){const a=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(a))throw i.createError(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Ew(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof kr)return function(s,o){const l=s instanceof kr?s.toArray():s;return{mapValue:{fields:{[RD]:{stringValue:DD},[sp]:{arrayValue:{values:l.map(c=>{if(typeof c!="number")throw o.createError("VectorValues must only contain numeric values.");return xw(o.serializer,c)})}}}}}}(r,i);if(hk(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${Ig(r)}`)}(e,t)}function Gk(e,t){const n={};return CD(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):As(e,(r,i)=>{const a=md(i,t.childContextForField(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function Kk(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof qe||e instanceof oi||e instanceof mr||e instanceof ct||e instanceof hd||e instanceof kr||hk(e))}function zw(e,t,n){if(!Kk(n)||!AD(n)){const r=Ig(n);throw r==="an object"?t.createError(e+" a custom object"):t.createError(e+" "+r)}}function Wl(e,t,n){if((t=dt(t))instanceof Gg)return t._internalPath;if(typeof t=="string")return Yk(e,t);throw dp("Field path arguments must be of type string or ",e,!1,void 0,n)}const aK=new RegExp("[~\\*/\\[\\]]");function Yk(e,t,n){if(t.search(aK)>=0)throw dp(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Gg(...t.split("."))._internalPath}catch{throw dp(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function dp(e,t,n,r,i){const a=r&&!r.isEmpty(),s=i!==void 0;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||s)&&(l+=" (found",a&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new G(U.INVALID_ARGUMENT,o+e+l)}function Wk(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sK{convertValue(t,n="none"){switch(ms(t)){case 0:return null;case 1:return t.booleanValue;case 2:return lt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(hs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw re(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return As(t,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(t){var r,i,a;const n=(a=(i=(r=t.fields)==null?void 0:r[sp].arrayValue)==null?void 0:i.values)==null?void 0:a.map(s=>lt(s.doubleValue));return new kr(n)}convertGeoPoint(t){return new oi(lt(t.latitude),lt(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=Rg(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(hf(t));default:return null}}convertTimestamp(t){const n=ds(t);return new qe(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=Le.fromString(t);Te(dk(r),9688,{name:t});const i=new mf(r.get(1),r.get(3)),a=new J(r.popFirst(5));return i.isEqual(n)||Qi(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk extends sK{constructor(t){super(),this.firestore=t}convertBytes(t){return new mr(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new ct(this.firestore,null,n)}}function Qk(){return new Vw("serverTimestamp")}function oK(e){return new Uw("increment",e)}const RC="@firebase/firestore",DC="4.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(e){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(e,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(t,n,r,i,a){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new ct(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new lK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var t;return((t=this._document)==null?void 0:t.data.clone().value.mapValue.fields)??void 0}get(t){if(this._document){const n=this._document.data.field(Wl("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class lK extends Zk{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uK(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new G(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bw{}class Jk extends Bw{}function eM(e,t,...n){let r=[];t instanceof Bw&&r.push(t),r=r.concat(n),function(a){const s=a.filter(l=>l instanceof Fw).length,o=a.filter(l=>l instanceof $w).length;if(s>1||s>0&&o>0)throw new G(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}class $w extends Jk{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new $w(t,n,r)}_apply(t){const n=this._parse(t);return nM(t._query,n),new Ro(t.firestore,t.converter,Fb(t._query,n))}_parse(t){const n=Kg(t.firestore);return function(a,s,o,l,u,c,f){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new G(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){LC(f,c);const g=[];for(const _ of f)g.push(MC(l,a,_));h={arrayValue:{values:g}}}else h=MC(l,a,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||LC(f,c),h=iK(o,s,f,c==="in"||c==="not-in");return vt.create(u,c,h)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class Fw extends Bw{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Fw(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Vr.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(i,a){let s=i;const o=a.getFlattenedFilters();for(const l of o)nM(s,l),s=Fb(s,l)}(t._query,n),new Ro(t.firestore,t.converter,Fb(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class qw extends Jk{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new qw(t,n)}_apply(t){const n=function(i,a,s){if(i.startAt!==null)throw new G(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new G(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new gf(a,s)}(t._query,this._field,this._direction);return new Ro(t.firestore,t.converter,Mq(t._query,n))}}function tM(e,t="asc"){const n=t,r=Wl("orderBy",e);return qw._create(r,n)}function MC(e,t,n){if(typeof(n=dt(n))=="string"){if(n==="")throw new G(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$D(t)&&n.indexOf("/")!==-1)throw new G(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Le.fromString(n));if(!J.isDocumentKey(r))throw new G(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return XT(e,new J(r))}if(n instanceof ct)return XT(e,n._key);throw new G(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ig(n)}.`)}function LC(e,t){if(!Array.isArray(e)||e.length===0)throw new G(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function nM(e,t){const n=function(i,a){for(const s of i)for(const o of s.getFlattenedFilters())if(a.indexOf(o.op)>=0)return o.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new G(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new G(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function rM(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class wc{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class to extends Zk{constructor(t,n,r,i,a,s){super(t,n,r,i,s),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new dm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(Wl("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new G(U.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=to._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}to._jsonSchemaVersion="firestore/documentSnapshot/1.0",to._jsonSchema={type:xt("string",to._jsonSchemaVersion),bundleSource:xt("string","DocumentSnapshot"),bundleName:xt("string"),bundle:xt("string")};class dm extends to{data(t={}){return super.data(t)}}class Cl{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new wc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new dm(this._firestore,this._userDataWriter,r.key,r,new wc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new G(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(o=>{const l=new dm(i._firestore,i._userDataWriter,o.doc.key,o.doc,new wc(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>a||o.type!==3).map(o=>{const l=new dm(i._firestore,i._userDataWriter,o.doc.key,o.doc,new wc(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return o.type!==0&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:cK(o.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new G(U.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Cl._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=mw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function cK(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return re(61501,{type:e})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cl._jsonSchemaVersion="firestore/querySnapshot/1.0",Cl._jsonSchema={type:xt("string",Cl._jsonSchemaVersion),bundleSource:xt("string","QuerySnapshot"),bundleName:xt("string"),bundle:xt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fK{constructor(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Kg(t)}set(t,n,r){this._verifyNotCommitted();const i=a0(t,this._firestore),a=rM(i.converter,n,r),s=Fk(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,Vn.none())),this}update(t,n,r,...i){this._verifyNotCommitted();const a=a0(t,this._firestore);let s;return s=typeof(n=dt(n))=="string"||n instanceof Gg?Hk(this._dataReader,"WriteBatch.update",a._key,n,r,i):qk(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(s.toMutation(a._key,Vn.exists(!0))),this}delete(t){this._verifyNotCommitted();const n=a0(t,this._firestore);return this._mutations=this._mutations.concat(new Ug(n._key,Vn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new G(U.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function a0(e,t){if((e=dt(e)).firestore!==t)throw new G(U.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(e){e=Dr(e,ct);const t=Dr(e.firestore,vs),n=Hg(t);return YG(n,e._key).then(r=>aM(t,e,r))}function _f(e,t,n,...r){e=Dr(e,ct);const i=Dr(e.firestore,vs),a=Kg(i);let s;return s=typeof(t=dt(t))=="string"||t instanceof Gg?Hk(a,"updateDoc",e._key,t,n,r):qk(a,"updateDoc",e._key,t),Wg(i,[s.toMutation(e._key,Vn.exists(!0))])}function iM(e){return Wg(Dr(e.firestore,vs),[new Ug(e._key,Vn.none())])}function Gw(e,t){const n=Dr(e.firestore,vs),r=br(e),i=rM(e.converter,t),a=Kg(e.firestore);return Wg(n,[Fk(a,"addDoc",r._key,i,e.converter!==null,{}).toMutation(r._key,Vn.exists(!1))]).then(()=>r)}function pd(e,...t){var u,c,f;e=dt(e);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||kC(t[r])||(n=t[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(kC(t[r])){const h=t[r];t[r]=(u=h.next)==null?void 0:u.bind(h),t[r+1]=(c=h.error)==null?void 0:c.bind(h),t[r+2]=(f=h.complete)==null?void 0:f.bind(h)}let a,s,o;if(e instanceof ct)s=Dr(e.firestore,vs),o=Dg(e._key.path),a={next:h=>{t[r]&&t[r](aM(s,e,h))},error:t[r+1],complete:t[r+2]};else{const h=Dr(e,Ro);s=Dr(h.firestore,vs),o=h._query;const p=new Xk(s);a={next:g=>{t[r]&&t[r](new Cl(s,p,h,g))},error:t[r+1],complete:t[r+2]},uK(e._query)}const l=Hg(s);return KG(l,o,i,a)}function Wg(e,t){const n=Hg(e);return WG(n,t)}function aM(e,t,n){const r=n.docs.get(t._key),i=new Xk(e);return new to(e,i,t._key,r,new wc(n.hasPendingWrites,n.fromCache),t.converter)}function dK(e){return e=Dr(e,vs),Hg(e),new fK(e,t=>Wg(e,t))}(function(t,n=!0){XF(hu),Bl(new ho("firestore",(r,{instanceIdentifier:i,options:a})=>{const s=r.getProvider("app").getImmediate(),o=new vs(new JF(r.getProvider("auth-internal")),new nq(s,r.getProvider("app-check-internal")),bq(s,i),s);return a={useFetchStreams:n,...a},o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),es(RC,DC,t),es(RC,DC,"esm2020")})();const hK={apiKey:"AIzaSyCIPE6DWpsUhDwRz9r5WMnsLGV4f8y-X2s",authDomain:"ambrosia-web-bc4f9.firebaseapp.com",projectId:"ambrosia-web-bc4f9",storageBucket:"ambrosia-web-bc4f9.firebasestorage.app",messagingSenderId:"768539470516",appId:"1:768539470516:web:d9f3705b1c79d35147c5e1",measurementId:"G-08Y4G38JM3"},sM=RR(hK),wf=YF(sM),_t=JG(sM),oM=v.createContext(),mK=()=>v.useContext(oM),pK=({children:e})=>{const[t,n]=v.useState(null),[r,i]=v.useState(null),[a,s]=v.useState(!0);v.useEffect(()=>L7(wf,async u=>{if(u){try{const c=await Hw(br(_t,"users",u.uid));c.exists()?i(c.data().role):i("customer")}catch(c){console.error("AuthProvider: Error fetching role",c)}n(u)}else n(null),i(null);s(!1)}),[]);const o={currentUser:t,userRole:r,loading:a,isAdmin:r==="admin"};return m.jsx(oM.Provider,{value:o,children:!a&&e})},gK=()=>{const[e,t]=v.useState(!1),{cartCount:n}=nd();return v.useEffect(()=>{const r=()=>{t(window.scrollY>50)};return window.addEventListener("scroll",r),()=>window.removeEventListener("scroll",r)},[]),m.jsx("nav",{className:`navbar ${e?"scrolled":""}`,children:m.jsxs("div",{className:"nav-container",children:[m.jsx(At,{to:"/",className:"nav-logo",children:"Ambrosia"}),m.jsxs("div",{className:"nav-links",children:[m.jsx(Xr,{to:"/",className:({isActive:r})=>`nav-link ${r?"active":""}`,end:!0,children:"Home"}),m.jsx(Xr,{to:"/shop",className:({isActive:r})=>`nav-link ${r?"active":""}`,children:"Shop"}),m.jsx(Xr,{to:"/about-cinnamon",className:({isActive:r})=>`nav-link ${r?"active":""}`,children:"Cinnamon"}),m.jsx(Xr,{to:"/recipes",className:({isActive:r})=>`nav-link ${r?"active":""}`,children:"Recipes"}),m.jsx(Xr,{to:"/contact",className:({isActive:r})=>`nav-link ${r?"active":""}`,children:"Contact"})]}),m.jsxs("div",{className:"nav-actions flex items-center gap-6",children:[m.jsxs(At,{to:"/cart",className:"cart-link relative text-white hover:text-gold transition-colors",children:[m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("circle",{cx:"9",cy:"21",r:"1"}),m.jsx("circle",{cx:"20",cy:"21",r:"1"}),m.jsx("path",{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"})]}),n>0&&m.jsx("span",{className:"cart-badge absolute -top-2 -right-2 bg-gold text-black text-[10px] font-bold w-5 h-5 rounded-full flex items-center justify-center",children:n})]}),m.jsx(At,{to:"/shop",className:"btn-outline nav-btn",children:"Shop Now"})]}),m.jsx("div",{className:"nav-toggle",children:m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),m.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),m.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})})]})})},yK=()=>m.jsx("footer",{className:"footer",children:m.jsxs("div",{className:"container",children:[m.jsxs("div",{className:"footer-content",children:[m.jsxs("div",{className:"footer-column",children:[m.jsx("h4",{className:"font-heading",children:"Ambrosia"}),m.jsx("p",{className:"text-gray-500 text-sm leading-7",children:"Delivering the 100% authentic essence of Sri Lankan Ceylon Cinnamon to the world. A commitment to purity, heritage, and health."})]}),m.jsxs("div",{className:"footer-column",children:[m.jsx("h4",{children:"Quick Links"}),m.jsxs("ul",{children:[m.jsx("li",{children:m.jsx(At,{to:"/shop",children:"Online Store"})}),m.jsx("li",{children:m.jsx(At,{to:"/about-cinnamon",children:"About Cinnamon"})}),m.jsx("li",{children:m.jsx(At,{to:"/recipes",children:"Recipes & Blog"})}),m.jsx("li",{children:m.jsx(At,{to:"/faq",children:"FAQs"})})]})]}),m.jsxs("div",{className:"footer-column",children:[m.jsx("h4",{children:"Support"}),m.jsxs("ul",{children:[m.jsx("li",{children:m.jsx(At,{to:"/contact",children:"Contact Us"})}),m.jsx("li",{children:m.jsx(At,{to:"/privacy",children:"Privacy Policy"})}),m.jsx("li",{children:m.jsx(At,{to:"/terms",children:"Terms & Conditions"})})]})]}),m.jsxs("div",{className:"footer-column",children:[m.jsx("h4",{children:"Newsletter"}),m.jsxs("div",{className:"newsletter-form mt-4",children:[m.jsx("input",{type:"email",placeholder:"Your email address",className:"bg-[#1a1a1a] border border-white/10 p-2 text-sm w-full mb-2"}),m.jsx("button",{className:"btn-outline w-full py-2 text-xs",children:"Subscribe"})]})]})]}),m.jsx("div",{className:"footer-bottom",children:m.jsx("p",{children:" 2026 Ambrosia 100% Sri Lankan Cinnamon. All rights reserved."})})]})}),vK="/Ambrosia/assets/hero_bg-Cd28FfOR.png",bK=()=>m.jsxs("section",{id:"home",className:"hero",children:[m.jsxs("div",{className:"hero-bg",children:[m.jsx("img",{src:vK,alt:"Cinnamon Background"}),m.jsx("div",{className:"hero-overlay"})]}),m.jsxs("div",{className:"hero-content",children:[m.jsx("span",{className:"hero-eyebrow",children:"Ambrosia  Pure, Premium 100% Sri Lankan Cinnamon"}),m.jsx("h1",{className:"hero-title",children:"Divine Essence"}),m.jsx("p",{className:"hero-desc",children:"Experience the gold standard of spices. 100% authentic, hand-harvested Ceylon cinnamon from the heart of Sri Lanka."}),m.jsxs("div",{className:"hero-actions",children:[m.jsx("a",{href:"#products",className:"btn",children:"Shop Now"}),m.jsx("a",{href:"#heritage",className:"btn btn-outline",style:{marginLeft:"1rem"},children:"Learn More"})]})]})]}),xK=()=>m.jsx("section",{id:"heritage",className:"brand-intro-section",children:m.jsx("div",{className:"container",children:m.jsxs("div",{className:"intro-grid",children:[m.jsxs("div",{className:"intro-text",children:[m.jsx("span",{className:"gold-label",children:"Our Mission"}),m.jsx("h2",{className:"text-4xl font-heading mb-6 text-white",children:"Ambrosia  Pure, Premium 100% Sri Lankan Cinnamon"}),m.jsx("p",{className:"intro-p",children:"Born from the sun-drenched coastal gardens of Sri Lanka, Ambrosia is a tribute to the legendary 'Gold of the East'. We specialize exclusively in true Ceylon Cinnamon (Cinnamomum Verum)  the only 100% authentic, low-coumarin variety that offers genuine health benefits and a sophisticated sweetness."}),m.jsx("p",{className:"intro-p",children:"Our mission is simple: To bring the finest grade cinnamon, usually reserved for the royal houses of the world, directly to your kitchen."})]}),m.jsxs("div",{className:"quick-links",children:[m.jsx("h3",{className:"text-xl font-heading mb-6 text-gold",children:"Explore Ambrosia"}),m.jsxs("div",{className:"links-stack",children:[m.jsxs("a",{href:"#products",className:"quick-link-item",children:[m.jsx("span",{className:"link-icon",children:""}),m.jsxs("div",{className:"link-content",children:[m.jsx("h4",{children:"Online Shop"}),m.jsx("p",{children:"Browse our sticks, powders, and blends."})]})]}),m.jsxs("a",{href:"#about-cinnamon",className:"quick-link-item",children:[m.jsx("span",{className:"link-icon",children:""}),m.jsxs("div",{className:"link-content",children:[m.jsx("h4",{children:"About Cinnamon"}),m.jsx("p",{children:"Learn the difference between Ceylon and Cassia."})]})]}),m.jsxs("a",{href:"#recipes",className:"quick-link-item",children:[m.jsx("span",{className:"link-icon",children:""}),m.jsxs("div",{className:"link-content",children:[m.jsx("h4",{children:"Recipes & Blog"}),m.jsx("p",{children:"Discover healthy ways to use cinnamon."})]})]})]})]})]})})}),yo="/Ambrosia/assets/divine-CAd-ezJ-.png",lM="/Ambrosia/assets/kuveni-CIhBCFC7.png",uM="/Ambrosia/assets/ravana-UNXb9jZj.png",_K=[{id:1,name:"Divine Essence Powder",price:45,image:yo,description:"Finely milled 100% Sri Lankan cinnamon powder for effortless blending."},{id:2,name:"Kuveni's Reserve Sticks",price:60,image:lM,description:"Hand-rolled Alba grade Ceylon cinnamon sticks, the gold standard."},{id:3,name:"Ravana's Signature Blend",price:55,image:uM,description:"A specialized infusion of spices anchored by our premium cinnamon."}],wK=()=>{const{addToCart:e}=nd();return m.jsx("section",{id:"products",className:"products-section",children:m.jsxs("div",{className:"container",children:[m.jsxs("div",{className:"section-header",children:[m.jsx("h2",{className:"section-title",children:"Royal Collections"}),m.jsx("p",{className:"section-subtitle",children:"Curated from the ancient gardens of Ceylon."})]}),m.jsx("div",{className:"products-grid",children:_K.map(t=>m.jsxs("div",{className:"product-card",children:[m.jsx("div",{className:"product-image-wrapper",children:m.jsx("img",{src:t.image,alt:t.name,className:"product-image"})}),m.jsxs("div",{className:"product-info",children:[m.jsx("h3",{className:"product-name",children:t.name}),m.jsx("p",{className:"product-desc",children:t.description}),m.jsxs("span",{className:"product-price",children:["$",t.price.toFixed(2)]}),m.jsx("button",{onClick:()=>e(t),className:"product-btn uppercase",children:"Add to Cart"})]})]},t.id))})]})})},Ef="/Ambrosia/assets/garden-0ov3Dsbc.png",EK=[{id:1,title:"Golden Cinnamon Latte",category:"Beverages",image:yo,time:"5 mins",desc:"A warm, soul-soothing latte infused with Ambrosia Divine Essence."},{id:2,title:"Authentic Sri Lankan Chai",category:"Beverages",image:Ef,time:"15 mins",desc:"A spiced tea tradition using whole Kuveni sticks."},{id:3,title:"Cinnamon Glazed Apple Tart",category:"Desserts",image:yo,time:"45 mins",desc:"A classic dessert elevated by the floral notes of Ceylon cinnamon."},{id:4,title:"Health Benefits of Daily Cinnamon",category:"Wellness",image:Ef,time:"4 min read",desc:"How a pinch of Ambrosia every morning can change your metabolism."}],SK=()=>m.jsx("section",{className:"recipes-home-section",children:m.jsxs("div",{className:"container",children:[m.jsxs("div",{className:"section-header",children:[m.jsx("h2",{className:"section-title",children:"Recipes & Rituals"}),m.jsx("p",{className:"section-subtitle",children:"Discover the endless possibilities of true cinnamon."})]}),m.jsx("div",{className:"recipes-home-scroll",children:EK.map(e=>m.jsxs("div",{className:"recipe-home-card",children:[m.jsxs("div",{className:"recipe-home-image",children:[m.jsx("img",{src:e.image,alt:e.title}),m.jsx("span",{className:"recipe-home-cat",children:e.category})]}),m.jsxs("div",{className:"recipe-home-info",children:[m.jsx("span",{className:"recipe-home-time",children:e.time}),m.jsx("h3",{className:"recipe-home-title",children:e.title}),m.jsx("p",{className:"recipe-home-desc",children:e.desc}),m.jsx(At,{to:"/recipes",className:"recipe-home-link",children:"Read More"})]})]},e.id))})]})}),AK=[{id:1,name:"Sarah Johnson",role:"Professional Baker",content:"The aroma of Ambrosia's Divine Essence is incomparable. It transformed my signature cinnamon rolls into something truly legendary.",rating:5},{id:2,name:"Dr. Aris Fernando",role:"Wellness Consultant",content:"I recommend Ambrosia to all my clients. Knowing it's 100% authentic Sri Lankan cinnamon gives me peace of mind regarding its health benefits.",rating:5},{id:3,name:"Michael Chen",role:"Home Enthusiast",content:"I never knew there was such a difference between regular cinnamon and Ceylon cinnamon until I tried the Ravana's Blend. Incredible depth!",rating:5}],TK=()=>m.jsx("section",{className:"testimonials-section",children:m.jsxs("div",{className:"container",children:[m.jsxs("div",{className:"section-header",children:[m.jsx("h2",{className:"section-title",children:"What Our Patrons Say"}),m.jsx("p",{className:"section-subtitle",children:"Join the community of those who appreciate the finer things in life."})]}),m.jsx("div",{className:"testimonials-grid",children:AK.map(e=>m.jsxs("div",{className:"testimonial-card",children:[m.jsx("div",{className:"stars",children:[...Array(e.rating)].map((t,n)=>m.jsx("span",{className:"star",children:""},n))}),m.jsxs("p",{className:"testimonial-content",children:['"',e.content,'"']}),m.jsx("div",{className:"testimonial-author",children:m.jsxs("div",{className:"author-info",children:[m.jsx("h4",{className:"author-name",children:e.name}),m.jsx("p",{className:"author-role",children:e.role})]})})]},e.id))})]})}),CK=()=>m.jsxs("div",{className:"home-page",children:[m.jsx(bK,{}),m.jsx(xK,{}),m.jsx(wK,{}),m.jsx(SK,{}),m.jsx(TK,{})]}),NK=()=>m.jsxs("div",{className:"about-page",children:[m.jsx("section",{className:"about-hero",children:m.jsxs("div",{className:"container",children:[m.jsx("h1",{className:"text-6xl font-heading text-gold mb-4",children:"Our Heritage"}),m.jsx("p",{className:"text-xl text-gray-300 max-w-2xl",children:"Preserving the 100% authentic legacy of Ceylon Cinnamon."})]})}),m.jsx("section",{className:"mission-section py-20",children:m.jsxs("div",{className:"container intro-grid",children:[m.jsxs("div",{className:"mission-text",children:[m.jsx("h2",{className:"text-4xl font-heading text-white mb-8",children:"A Legacy of Excellence"}),m.jsx("p",{className:"text-gray-400 mb-6 leading-relaxed",children:"Ambrosia was founded on a singular realization: the true essence of Sri Lankan cinnamon was being lost to the world. In an era dominated by mass-market Cassia, the legendary 'Cinnamomum Verum' of Ceylononce more valuable than goldhad become a rare luxury."}),m.jsx("p",{className:"text-gray-400 mb-6 leading-relaxed",children:"Our journey began in the southern coastal stretches of Sri Lanka, where the humid air and salty breeze create the perfect cradle for the world's finest cinnamon. We don't just sell a spice; we protect a thousand-year-old tradition of hand-peeling and air-drying that has been passed down through generations of 'Salagama' harvesters."})]}),m.jsx("div",{className:"mission-image",children:m.jsx("img",{src:Ef,alt:"Cinnamon Garden",className:"rounded-lg shadow-2xl"})})]})}),m.jsx("section",{className:"sourcing-section py-20 bg-gold/5",children:m.jsxs("div",{className:"container",children:[m.jsxs("div",{className:"text-center mb-16",children:[m.jsx("h2",{className:"text-4xl font-heading text-gold mb-4",children:"Sustainable Sourcing"}),m.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"We believe in a cycle of respectfor the soil, the farmer, and the consumer."})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-16 items-center",children:[m.jsxs("div",{className:"sourcing-content",children:[m.jsx("h3",{className:"text-2xl text-white mb-6",children:"Direct from the Wild Gardens"}),m.jsx("p",{className:"text-gray-500 mb-6",children:"Unlike industrial plantations, our cinnamon is sourced from 'wild gardens' where biodiversity is encouraged. This natural ecosystem allows the trees to develop higher concentrations of essential oils, resulting in the signature floral aroma unique to Ambrosia."}),m.jsx("p",{className:"text-gray-500",children:"Every harvest is traceable to its village of origin, ensuring that the local communities that have guarded this heritage for centuries are fairly compensated and supported."})]}),m.jsxs("div",{className:"sourcing-stats grid grid-cols-2 gap-8",children:[m.jsxs("div",{className:"stat-box",children:[m.jsx("span",{className:"text-4xl text-gold font-bold",children:"100%"}),m.jsx("p",{className:"text-gray-400",children:"Natural & Organic"})]}),m.jsxs("div",{className:"stat-box",children:[m.jsx("span",{className:"text-4xl text-gold font-bold",children:"500+"}),m.jsx("p",{className:"text-gray-400",children:"Local Farmers"})]}),m.jsxs("div",{className:"stat-box",children:[m.jsx("span",{className:"text-4xl text-gold font-bold",children:"0%"}),m.jsx("p",{className:"text-gray-400",children:"Chemical Additives"})]}),m.jsxs("div",{className:"stat-box",children:[m.jsx("span",{className:"text-4xl text-gold font-bold",children:"True"}),m.jsx("p",{className:"text-gray-400",children:"Alba Grade Only"})]})]})]})]})})]}),OK="/Ambrosia/assets/comparison-D2ywGGNU.png",s0=["Cinnamon bark is harvested after two years of growth during the rainy season.","True Ceylon Cinnamon quills are filled like a cigar with small, fine chips.","In the 1st century AD, 350 grams of cinnamon was worth 5 kilograms of silver.","The word 'Cinnamon' is derived from the Greek 'kinnamon'."],IK=()=>{const[e,t]=v.useState(0);return v.useEffect(()=>{const n=setInterval(()=>{t(r=>(r+1)%s0.length)},5e3);return()=>clearInterval(n)},[]),m.jsxs("div",{className:"cinnamon-education-page",children:[m.jsx("section",{className:"edu-hero",children:m.jsxs("div",{className:"container text-center",children:[m.jsx("span",{className:"gold-label font-bold tracking-widest uppercase mb-4 block",children:"Educational Guide"}),m.jsx("h1",{className:"text-7xl font-heading text-gold mb-6",children:"The Gold of the East"}),m.jsx("p",{className:"text-xl text-gray-200 max-w-3xl mx-auto leading-relaxed mb-10",children:"Deep within the soul of Sri Lanka lies a secret that shaped world history. Worshiped by Emperors and sought by explorers, Ceylon Cinnamon remains nature's most sophisticated spice."}),m.jsxs("div",{className:"flex justify-center gap-6",children:[m.jsx("a",{href:"#production-video",className:"btn btn-outline",children:"Watch Production"}),m.jsx(At,{to:"/shop",className:"btn",children:"Shop Collection"})]})]})}),m.jsx("section",{className:"history-section py-24 bg-[#050505]",children:m.jsx("div",{className:"container",children:m.jsxs("div",{className:"history-grid grid grid-cols-2 gap-20 items-center",children:[m.jsxs("div",{className:"history-content",children:[m.jsx("h2",{className:"text-4xl font-heading text-white mb-8",children:"A Journey Through Time"}),m.jsx("p",{className:"text-gray-400 mb-6 leading-relaxed",children:"The documented history of Sri Lankan cinnamon dates back over 3,000 years. Mentioned in the Old Testament and sought by Ancient Egyptians for embalming, it was the most prized possession in the ancient world."}),m.jsx("p",{className:"text-gray-400 mb-6 leading-relaxed",children:"In the 15th century, the 'Cinnamon Quest' launched the Age of Discovery. Columbus, Vasco da Gama, and Magellan sailed into the unknown partially driven by the intoxicating scent of Ceylons 'true' cinnamon. For centuries, nations fought wars for the exclusive rights to our island's shores."}),m.jsxs("blockquote",{className:"border-l-4 border-gold pl-6 py-2 italic text-gray-300 text-lg",children:['"The cinnamon of Ceylon is the best in all the world, and many-a-man hath lost his life for its sake."',m.jsx("span",{className:"block text-sm text-gold mt-2",children:" 17th Century Dutch Explorer"})]})]}),m.jsx("div",{className:"history-visual relative",children:m.jsxs("div",{className:"history-box p-12 bg-gold/5 border border-gold/20 rounded-lg",children:[m.jsx("h3",{className:"text-2xl text-gold mb-6 font-heading",children:"Key Historical Milestones"}),m.jsxs("ul",{className:"space-y-6",children:[m.jsxs("li",{className:"flex gap-4",children:[m.jsx("span",{className:"text-gold font-bold",children:"1400 BC:"}),m.jsx("p",{className:"text-gray-400 text-sm",children:"Used in Ancient Egypt as a sacred medicinal ingredient."})]}),m.jsxs("li",{className:"flex gap-4",children:[m.jsx("span",{className:"text-gold font-bold",children:"1505 AD:"}),m.jsx("p",{className:"text-gray-400 text-sm",children:"Portuguese explorers land in Sri Lanka, seeking the source of 'True Cinnamon'."})]}),m.jsxs("li",{className:"flex gap-4",children:[m.jsx("span",{className:"text-gold font-bold",children:"18th Century:"}),m.jsx("p",{className:"text-gray-400 text-sm",children:"Dutch East India Company establishes the first systematic plantations."})]})]})]})})]})})}),m.jsx("section",{id:"production-video",className:"video-section py-24 bg-black",children:m.jsxs("div",{className:"container",children:[m.jsxs("div",{className:"text-center mb-16",children:[m.jsx("h2",{className:"text-4xl font-heading text-gold mb-4",children:"Life of Cinnamon"}),m.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"Witness the meticulous craft behind every Ambrosia quill."})]}),m.jsx("div",{className:"video-container aspect-video max-w-5xl mx-auto rounded-2xl overflow-hidden border border-gold/10 shadow-2xl",children:m.jsx("iframe",{width:"100%",height:"100%",src:"https://www.youtube.com/embed/j_8c8XwK6-o",title:"Life of Ceylon Cinnamon",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),m.jsx("p",{className:"text-center text-gray-500 mt-8 italic",children:"Courtesy: A cinematic look at the traditional peeling process in Southern Sri Lanka."})]})}),m.jsx("section",{className:"types-section py-24 bg-[#0a0a0a]",children:m.jsxs("div",{className:"container grid grid-cols-2 gap-20 items-center",children:[m.jsx("div",{className:"order-2 lg:order-1",children:m.jsx("img",{src:OK,alt:"Cinnamon Comparison",className:"rounded-xl border border-gold/20 shadow-2xl"})}),m.jsxs("div",{className:"order-1 lg:order-2",children:[m.jsx("h2",{className:"text-4xl font-heading text-white mb-8",children:"Ceylon vs Cassia"}),m.jsxs("div",{className:"comparison-bullets space-y-8",children:[m.jsxs("div",{children:[m.jsx("h4",{className:"text-gold mb-2 font-bold tracking-wide",children:"THE TRUTH"}),m.jsxs("p",{className:"text-gray-400",children:["Mass-market ",m.jsx("strong",{children:"Cassia"})," contains high levels of ",m.jsx("em",{children:"coumarin"}),", a compound that can be toxic if consumed regularly. It's thick, hard bark with a spicy, hot bite."]})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"text-gold mb-2 font-bold tracking-wide",children:"THE ESSENCE"}),m.jsxs("p",{className:"text-gray-400",children:[m.jsx("strong",{children:"Ambrosia Ceylon Cinnamon"})," is thin, flaky, and delicate. It has virtually 0% coumarin and offers a complex, floral sweetness that's safe for daily health rituals."]})]})]})]})]})}),m.jsx("section",{className:"uses-section py-24 bg-[#050505]",children:m.jsxs("div",{className:"container",children:[m.jsx("h2",{className:"text-4xl font-heading text-gold text-center mb-16",children:"Rituals & Remedies"}),m.jsxs("div",{className:"grid grid-cols-3 gap-12",children:[m.jsxs("div",{className:"use-card p-10 bg-[#111] rounded-lg border border-white/5",children:[m.jsx("h3",{className:"text-xl text-white mb-4",children:"Culinary Mastery"}),m.jsx("p",{className:"text-gray-500 text-sm leading-relaxed",children:"Used in both sweet and savory dishes. From a pinch in your morning coffee to a quill in a slow-cooked Lankan curry, its versatility is unmatched."})]}),m.jsxs("div",{className:"use-card p-10 bg-[#111] rounded-lg border border-white/5 text-center transform scale-110 border-gold/20",children:[m.jsx("h3",{className:"text-xl text-white mb-4",children:"Wellness Elixir"}),m.jsx("p",{className:"text-gray-500 text-sm leading-relaxed",children:"Mixed with warm water and honey for a natural immunity boost. A powerful tool for blood sugar regulation and metabolic health."})]}),m.jsxs("div",{className:"use-card p-10 bg-[#111] rounded-lg border border-white/5",children:[m.jsx("h3",{className:"text-xl text-white mb-4",children:"Pure Aromatherapy"}),m.jsx("p",{className:"text-gray-500 text-sm leading-relaxed",children:"Its scent alone can improve memory and mood. Use the natural quills as an elegant, aromatic centerpiece in your living space."})]})]})]})}),m.jsx("section",{className:"fun-facts py-24 bg-gold/5 overflow-hidden",children:m.jsxs("div",{className:"container text-center",children:[m.jsx("span",{className:"gold-label text-xs tracking-widest uppercase mb-6 block",children:"Did You Know?"}),m.jsx("div",{className:"fact-slider",children:m.jsx("p",{className:"text-white font-heading text-3xl max-w-4xl mx-auto animate-fade-in",children:s0[e]},e)}),m.jsx("div",{className:"flex justify-center gap-2 mt-8",children:s0.map((n,r)=>m.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${r===e?"bg-gold w-8":"bg-gray-700"}`},r))})]})}),m.jsx("section",{className:"cta-section py-24 text-center",children:m.jsxs("div",{className:"container",children:[m.jsx("h2",{className:"text-5xl font-heading text-white mb-10",children:"Experience the Pure Essence"}),m.jsx(At,{to:"/shop",className:"btn btn-lg px-12 py-5 text-lg",children:"Shop Ambrosia Cinnamon"})]})})]})},PK=()=>{const{addToCart:e}=nd(),[t,n]=v.useState([]),[r,i]=v.useState(!0),[a,s]=v.useState(""),[o,l]=v.useState("featured"),u=["All","Sticks","Powder","Blends","Gift Sets"];v.useEffect(()=>{const f=pd(ys(_t,"products"),h=>{const p=h.docs.map(g=>({id:g.id,...g.data(),image:g.data().imageType==="divine"?yo:g.data().imageType==="kuveni"?lM:g.data().imageType==="ravana"?uM:yo}));n(p),i(!1)});return()=>f()},[]);const c=t.filter(f=>filter==="All"||f.category===filter).filter(f=>f.name.toLowerCase().includes(a.toLowerCase())).sort((f,h)=>o==="price-asc"?Number(f.price)-Number(h.price):o==="price-desc"?Number(h.price)-Number(f.price):0);return r?m.jsx("div",{className:"text-center py-20 text-gold",children:"Loading Collection..."}):m.jsxs("div",{className:"store-page",children:[m.jsx("section",{className:"store-header",children:m.jsxs("div",{className:"container",children:[m.jsx("h1",{className:"text-5xl font-heading text-gold mb-4",children:"The Collections"}),m.jsx("p",{className:"text-gray-400",children:"Authentic Ceylon cinnamon for every occasion."})]})}),m.jsx("section",{className:"store-content py-12",children:m.jsxs("div",{className:"container",children:[m.jsxs("div",{className:"filters-bar mb-12 flex flex-col md:flex-row justify-between items-center gap-6",children:[m.jsx("div",{className:"categories flex gap-4 overflow-x-auto pb-2 md:pb-0 w-full md:w-auto",children:u.map(f=>m.jsx("button",{onClick:()=>setFilter(f),className:`filter-btn whitespace-nowrap ${filter===f?"active":""}`,children:f},f))}),m.jsxs("div",{className:"search-sort flex flex-col md:flex-row gap-4 w-full md:w-auto",children:[m.jsx("input",{type:"text",placeholder:"Search products...",className:"bg-black/50 border border-white/10 rounded px-4 py-2 text-white focus:border-gold outline-none w-full md:w-64",value:a,onChange:f=>s(f.target.value)}),m.jsxs("select",{className:"bg-black/50 border border-white/10 rounded px-4 py-2 text-white focus:border-gold outline-none cursor-pointer",value:o,onChange:f=>l(f.target.value),children:[m.jsx("option",{value:"featured",children:"Featured"}),m.jsx("option",{value:"price-asc",children:"Price: Low to High"}),m.jsx("option",{value:"price-desc",children:"Price: High to Low"})]})]})]}),m.jsx("div",{className:"store-grid",children:c.length===0?m.jsx("div",{className:"col-span-3 text-center text-gray-500 py-20",children:"No products found in this category."}):c.map(f=>{const h=f.stock<=0;return m.jsxs("div",{className:`store-item-card ${h?"opacity-75 grayscale":""}`,children:[m.jsxs("div",{className:"item-image relative",children:[m.jsx("img",{src:f.image,alt:f.name}),h&&m.jsx("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center",children:m.jsx("span",{className:"text-red-500 font-bold uppercase tracking-widest border border-red-500 px-4 py-2",children:"Sold Out"})}),!h&&f.stock<10&&m.jsxs("span",{className:"absolute top-2 right-2 bg-yellow-600 text-white text-[10px] uppercase font-bold px-2 py-1 rounded",children:["Low Stock: ",f.stock]}),m.jsx("span",{className:"origin-badge",children:f.origin||"100% Sri Lankan"})]}),m.jsxs("div",{className:"item-info",children:[m.jsx("span",{className:"item-cat",children:f.category}),m.jsx("h3",{className:"item-name",children:f.name}),m.jsxs("div",{className:"flex justify-between items-center w-full mb-4",children:[m.jsxs("p",{className:"item-price",children:["$",Number(f.price).toFixed(2)]}),m.jsx("span",{className:"text-xs text-gray-500",children:f.unit||"per unit"})]}),m.jsx("button",{onClick:()=>!h&&e(f),disabled:h,className:`add-cart-btn uppercase w-full ${h?"cursor-not-allowed bg-gray-800 text-gray-500 hover:bg-gray-800":""}`,children:h?"Out of Stock":"Add to Cart"})]})]},f.id)})})]})})]})},jK=[{id:1,title:"Golden Cinnamon Latte",category:"Beverages",image:yo,time:"5 mins",desc:"A warm, soul-soothing latte infused with Ambrosia Divine Essence."},{id:2,title:"Authentic Sri Lankan Chai",category:"Beverages",image:Ef,time:"15 mins",desc:"A spiced tea tradition using whole Kuveni sticks."},{id:3,title:"Cinnamon Glazed Apple Tart",category:"Desserts",image:yo,time:"45 mins",desc:"A classic dessert elevated by the floral notes of Ceylon cinnamon."},{id:4,title:"Health Benefits of Daily Cinnamon",category:"Wellness",image:Ef,time:"4 min read",desc:"How a pinch of Ambrosia every morning can change your metabolism."}],RK=()=>m.jsxs("div",{className:"recipes-page",children:[m.jsx("section",{className:"recipes-hero",children:m.jsxs("div",{className:"container",children:[m.jsx("h1",{className:"text-6xl font-heading text-gold mb-4",children:"Recipes & Rituals"}),m.jsx("p",{className:"text-xl text-gray-400",children:"Discover the endless possibilities of true cinnamon."})]})}),m.jsx("section",{className:"recipes-grid-section py-20",children:m.jsx("div",{className:"container",children:m.jsx("div",{className:"recipes-grid",children:jK.map(e=>m.jsxs("div",{className:"recipe-card",children:[m.jsxs("div",{className:"recipe-image",children:[m.jsx("img",{src:e.image,alt:e.title}),m.jsx("span",{className:"recipe-cat",children:e.category})]}),m.jsxs("div",{className:"recipe-info",children:[m.jsx("span",{className:"recipe-time",children:e.time}),m.jsx("h3",{className:"recipe-title",children:e.title}),m.jsx("p",{className:"recipe-desc",children:e.desc}),m.jsx("button",{className:"read-more",children:"Read More"})]})]},e.id))})})})]}),DK=()=>{const[e,t]=v.useState({name:"",email:"",subject:"General Inquiry",message:""}),[n,r]=v.useState(!1),i=s=>{t({...e,[s.target.name]:s.target.value})},a=async s=>{s.preventDefault(),r(!0);try{await Gw(ys(_t,"messages"),{...e,createdAt:Qk(),status:"new"}),alert("Message sent successfully! We will get back to you soon."),t({name:"",email:"",subject:"General Inquiry",message:""})}catch(o){console.error("Error sending message:",o),alert("Failed to send message. Please try again.")}r(!1)};return m.jsxs("div",{className:"contact-page",children:[m.jsx("section",{className:"contact-hero",children:m.jsxs("div",{className:"container text-center",children:[m.jsx("h1",{className:"text-6xl font-heading text-gold mb-4",children:"Connect with Ambrosia"}),m.jsx("p",{className:"text-xl text-gray-400",children:"Questions about our cinnamon? We're here to help."})]})}),m.jsx("section",{className:"contact-content py-20",children:m.jsxs("div",{className:"container grid grid-cols-2 gap-20",children:[m.jsxs("div",{className:"contact-info",children:[m.jsx("h2",{className:"text-4xl font-heading text-white mb-8",children:"Get in Touch"}),m.jsxs("div",{className:"info-item mb-8",children:[m.jsx("h4",{className:"text-gold uppercase tracking-widest text-xs mb-2",children:"Email"}),m.jsx("p",{className:"text-xl text-gray-300",children:"essence@ambrosiaspice.com"})]}),m.jsxs("div",{className:"info-item mb-8",children:[m.jsx("h4",{className:"text-gold uppercase tracking-widest text-xs mb-2",children:"Phone"}),m.jsx("p",{className:"text-xl text-gray-300",children:"+94 11 234 5678"})]}),m.jsxs("div",{className:"info-item mb-8",children:[m.jsx("h4",{className:"text-gold uppercase tracking-widest text-xs mb-2",children:"Headquarters"}),m.jsx("p",{className:"text-xl text-gray-300",children:"Galle Road, Colombo 03, Sri Lanka"})]}),m.jsxs("div",{className:"social-links mt-12",children:[m.jsx("h4",{className:"text-gray-500 uppercase tracking-widest text-xs mb-4",children:"Follow Our Journey"}),m.jsxs("div",{className:"flex gap-6",children:[m.jsx("a",{href:"#",className:"text-gold hover:text-white transition-colors mr-4",children:"Instagram"}),m.jsx("a",{href:"#",className:"text-gold hover:text-white transition-colors mr-4",children:"Facebook"}),m.jsx("a",{href:"#",className:"text-gold hover:text-white transition-colors",children:"LinkedIn"})]})]})]}),m.jsx("div",{className:"contact-form-container",children:m.jsxs("form",{className:"contact-form",onSubmit:a,children:[m.jsx("div",{className:"form-group mb-6",children:m.jsx("input",{type:"text",name:"name",placeholder:"Your Name",className:"form-input",value:e.name,onChange:i,required:!0})}),m.jsx("div",{className:"form-group mb-6",children:m.jsx("input",{type:"email",name:"email",placeholder:"Email Address",className:"form-input",value:e.email,onChange:i,required:!0})}),m.jsx("div",{className:"form-group mb-6",children:m.jsxs("select",{name:"subject",className:"form-input",value:e.subject,onChange:i,children:[m.jsx("option",{children:"General Inquiry"}),m.jsx("option",{children:"Wholesale/B2B"}),m.jsx("option",{children:"Order Support"}),m.jsx("option",{children:"Press"})]})}),m.jsx("div",{className:"form-group mb-8",children:m.jsx("textarea",{name:"message",placeholder:"How can we help?",className:"form-input h-32",value:e.message,onChange:i,required:!0})}),m.jsx("button",{type:"submit",className:"btn w-full",disabled:n,children:n?"Sending...":"Send Message"})]})})]})})]})},kK=[{q:"Why is Sri Lankan cinnamon better?",a:"Sri Lankan (Ceylon) cinnamon has a much lower coumarin content compared to Cassia. It's also known for its delicate, sweet flavor and floral aroma that Cassia lacks."},{q:"How should I store my Ambrosia cinnamon?",a:"Store in a cool, dark place in an airtight container. Our premium jars are designed to protect the essential oils from light and moisture."},{q:"Do you ship internationally?",a:"Yes, Ambrosia ships to most countries worldwide. Shipping times vary depending on the location, typically 5-10 business days."},{q:"Is your cinnamon organic?",a:"We work with farms that follow sustainable, natural farming practices. While not all are certified 'Organic' yet, we ensure no synthetic pesticides or fertilizers are used."}],MK=()=>m.jsxs("div",{className:"faq-page",children:[m.jsx("section",{className:"faq-hero py-20",children:m.jsxs("div",{className:"container text-center",children:[m.jsx("h1",{className:"text-5xl font-heading text-gold mb-4",children:"Frequently Asked Questions"}),m.jsx("p",{className:"text-gray-400",children:"Everything you need to know about Ambrosia."})]})}),m.jsx("section",{className:"faq-list-section py-12",children:m.jsx("div",{className:"container max-w-3xl",children:m.jsx("div",{className:"faq-list",children:kK.map((e,t)=>m.jsxs("div",{className:"faq-item mb-8",children:[m.jsx("h3",{className:"text-xl text-white mb-3 font-heading",children:e.q}),m.jsx("p",{className:"text-gray-400 leading-relaxed",children:e.a})]},t))})})})]}),LK=()=>{const{cartItems:e,removeFromCart:t,updateQuantity:n,cartTotal:r}=nd();return e.length===0?m.jsx("div",{className:"cart-page py-32",children:m.jsxs("div",{className:"container text-center",children:[m.jsx("h1",{className:"text-4xl font-heading text-gold mb-8",children:"Your Cart is Empty"}),m.jsx("p",{className:"text-gray-400 mb-12",children:"Looks like you haven't added the essence of Ceylon to your collection yet."}),m.jsx(At,{to:"/shop",className:"btn",children:"Browse Shop"})]})}):m.jsx("div",{className:"cart-page py-32",children:m.jsxs("div",{className:"container",children:[m.jsx("h1",{className:"text-5xl font-heading text-gold mb-12",children:"Your Selection"}),m.jsxs("div",{className:"cart-grid",children:[m.jsxs("div",{className:"cart-items",children:[m.jsxs("div",{className:"cart-header grid grid-cols-4 gap-4 text-xs uppercase tracking-widest text-gray-500 pb-4 border-bottom border-white/5 mb-8",children:[m.jsx("div",{className:"col-span-2",children:"Product"}),m.jsx("div",{className:"text-center",children:"Quantity"}),m.jsx("div",{className:"text-right",children:"Total"})]}),e.map(i=>m.jsxs("div",{className:"cart-item-row grid grid-cols-4 gap-4 items-center py-6 border-bottom border-white/5",children:[m.jsxs("div",{className:"col-span-2 flex gap-6 items-center",children:[m.jsx("div",{className:"item-thumbnail w-24 h-24 bg-[#111] overflow-hidden rounded",children:m.jsx("img",{src:i.image,alt:i.name,className:"w-full h-full object-cover"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-white font-heading text-xl mb-1",children:i.name}),m.jsxs("p",{className:"text-gold text-sm",children:["$",i.price.toFixed(2)]}),m.jsx("button",{onClick:()=>t(i.id),className:"text-gray-600 text-xs mt-2 hover:text-red-500 transition-colors uppercase",children:"Remove"})]})]}),m.jsxs("div",{className:"flex justify-center items-center gap-4",children:[m.jsx("button",{onClick:()=>n(i.id,i.quantity-1),className:"qty-btn",children:"-"}),m.jsx("span",{className:"text-white",children:i.quantity}),m.jsx("button",{onClick:()=>n(i.id,i.quantity+1),className:"qty-btn",children:"+"})]}),m.jsxs("div",{className:"text-right text-white font-bold",children:["$",(i.price*i.quantity).toFixed(2)]})]},i.id))]}),m.jsxs("div",{className:"cart-summary bg-[#111] p-8 rounded-lg border border-white/5 h-fit",children:[m.jsx("h2",{className:"text-2xl font-heading text-white mb-8",children:"Summary"}),m.jsxs("div",{className:"summary-row flex justify-between mb-4",children:[m.jsx("span",{className:"text-gray-400",children:"Subtotal"}),m.jsxs("span",{className:"text-white",children:["$",r.toFixed(2)]})]}),m.jsxs("div",{className:"summary-row flex justify-between mb-8 pb-8 border-bottom border-white/5",children:[m.jsx("span",{className:"text-gray-400",children:"Shipping"}),m.jsx("span",{className:"text-gold",children:"Calculated at checkout"})]}),m.jsxs("div",{className:"summary-row flex justify-between mb-12",children:[m.jsx("span",{className:"text-xl text-white font-heading",children:"Total"}),m.jsxs("span",{className:"text-xl text-gold font-bold",children:["$",r.toFixed(2)]})]}),m.jsx(At,{to:"/checkout",className:"btn w-full text-center",children:"Proceed to Checkout"})]})]})]})})};class gd{constructor(t=0,n="Network Error"){this.status=t,this.text=n}}const VK=()=>{if(!(typeof localStorage>"u"))return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}},Jt={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:VK()},Kw=e=>e?typeof e=="string"?{publicKey:e}:e.toString()==="[object Object]"?e:{}:{},UK=(e,t="https://api.emailjs.com")=>{if(!e)return;const n=Kw(e);Jt.publicKey=n.publicKey,Jt.blockHeadless=n.blockHeadless,Jt.storageProvider=n.storageProvider,Jt.blockList=n.blockList,Jt.limitRate=n.limitRate,Jt.origin=n.origin||t},cM=async(e,t,n={})=>{const r=await fetch(Jt.origin+e,{method:"POST",headers:n,body:t}),i=await r.text(),a=new gd(r.status,i);if(r.ok)return a;throw a},fM=(e,t,n)=>{if(!e||typeof e!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||typeof t!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},zK=e=>{if(e&&e.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},dM=e=>e.webdriver||!e.languages||e.languages.length===0,hM=()=>new gd(451,"Unavailable For Headless Browser"),BK=(e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if(typeof t!="string")throw"The BlockList watchVariable has to be a string"},$K=e=>{var t;return!((t=e.list)!=null&&t.length)||!e.watchVariable},FK=(e,t)=>e instanceof FormData?e.get(t):e[t],mM=(e,t)=>{if($K(e))return!1;BK(e.list,e.watchVariable);const n=FK(t,e.watchVariable);return typeof n!="string"?!1:e.list.includes(n)},pM=()=>new gd(403,"Forbidden"),qK=(e,t)=>{if(typeof e!="number"||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&typeof t!="string")throw"The LimitRate ID has to be a non-empty string"},HK=async(e,t,n)=>{const r=Number(await n.get(e)||0);return t-Date.now()+r},gM=async(e,t,n)=>{if(!t.throttle||!n)return!1;qK(t.throttle,t.id);const r=t.id||e;return await HK(r,t.throttle,n)>0?!0:(await n.set(r,Date.now().toString()),!1)},yM=()=>new gd(429,"Too Many Requests"),GK=async(e,t,n,r)=>{const i=Kw(r),a=i.publicKey||Jt.publicKey,s=i.blockHeadless||Jt.blockHeadless,o=i.storageProvider||Jt.storageProvider,l={...Jt.blockList,...i.blockList},u={...Jt.limitRate,...i.limitRate};return s&&dM(navigator)?Promise.reject(hM()):(fM(a,e,t),zK(n),n&&mM(l,n)?Promise.reject(pM()):await gM(location.pathname,u,o)?Promise.reject(yM()):cM("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:a,service_id:e,template_id:t,template_params:n}),{"Content-type":"application/json"}))},KK=e=>{if(!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},YK=e=>typeof e=="string"?document.querySelector(e):e,WK=async(e,t,n,r)=>{const i=Kw(r),a=i.publicKey||Jt.publicKey,s=i.blockHeadless||Jt.blockHeadless,o=Jt.storageProvider||i.storageProvider,l={...Jt.blockList,...i.blockList},u={...Jt.limitRate,...i.limitRate};if(s&&dM(navigator))return Promise.reject(hM());const c=YK(n);fM(a,e,t),KK(c);const f=new FormData(c);return mM(l,f)?Promise.reject(pM()):await gM(location.pathname,u,o)?Promise.reject(yM()):(f.append("lib_version","4.4.1"),f.append("service_id",e),f.append("template_id",t),f.append("user_id",a),cM("/api/v1.0/email/send-form",f))},vM={init:UK,send:GK,sendForm:WK,EmailJSResponseStatus:gd},XK=()=>{const{cartItems:e,cartTotal:t,clearCart:n}=nd(),r=Eg(),[i,a]=v.useState(!1),[s,o]=v.useState("card"),[l,u]=v.useState({firstName:"",lastName:"",email:"",address:"",city:"",country:"",shippingMethod:"standard"}),[c,f]=v.useState(10),h=b=>{const{name:w,value:x}=b.target;u(E=>({...E,[w]:x}))},p=(b,w)=>{u(x=>({...x,shippingMethod:b})),f(w)},g=async b=>{if(b.preventDefault(),a(!0),!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l.email)){alert("Please enter a valid email address."),a(!1);return}if(!l.firstName||!l.lastName||!l.address||!l.city||!l.country){alert("Please fill in all required fields."),a(!1);return}try{const x=await Gw(ys(_t,"orders"),{...l,items:e.length,total:_,cart:e.map(T=>({id:T.id,name:T.name,quantity:T.quantity,price:T.price})),status:"New",paymentStatus:"Paid",fulfillmentStatus:"Pending",created_at:Qk(),user:l.email}),E=dK(_t);e.forEach(T=>{const I=br(_t,"products",T.id);E.update(I,{stock:oK(-T.quantity)})}),await E.commit();try{const T="YOUR_SERVICE_ID",I="YOUR_TEMPLATE_ID",k="YOUR_PUBLIC_KEY",A={to_name:l.firstName,to_email:l.email,order_id:x.id,order_total:_.toFixed(2),message:`Thank you for your order! Your Order ID is ${x.id}.`};await vM.send(T,I,A,k),console.log("Email sent successfully")}catch(T){console.error("Failed to send email:",T)}a(!1),n(),r("/order-confirmation",{state:{orderId:x.id}})}catch(x){console.error("Order failed:",x),alert("Failed to place order. Please try again."),a(!1)}};if(e.length===0)return setTimeout(()=>r("/cart"),0),null;const _=t+c;return m.jsx("div",{className:"checkout-page py-32",children:m.jsxs("div",{className:"container",children:[m.jsx("h1",{className:"text-5xl font-heading text-gold mb-12",children:"Checkout"}),m.jsxs("form",{onSubmit:g,className:"checkout-grid grid grid-cols-2 gap-20",children:[m.jsxs("div",{className:"checkout-form",children:[m.jsxs("section",{className:"checkout-section mb-12",children:[m.jsx("h2",{className:"text-2xl font-heading text-white mb-8 border-bottom border-white/5 pb-4",children:"Shipping Information"}),m.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[m.jsx("input",{type:"text",name:"firstName",placeholder:"First Name",className:"form-input",required:!0,value:l.firstName,onChange:h}),m.jsx("input",{type:"text",name:"lastName",placeholder:"Last Name",className:"form-input",required:!0,value:l.lastName,onChange:h})]}),m.jsx("input",{type:"email",name:"email",placeholder:"Email Address",className:"form-input mb-6",required:!0,value:l.email,onChange:h}),m.jsx("input",{type:"text",name:"address",placeholder:"Address",className:"form-input mb-6",required:!0,value:l.address,onChange:h}),m.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[m.jsx("input",{type:"text",name:"city",placeholder:"City",className:"form-input",required:!0,value:l.city,onChange:h}),m.jsx("input",{type:"text",name:"country",placeholder:"Country",className:"form-input",required:!0,value:l.country,onChange:h})]})]}),m.jsxs("section",{className:"checkout-section mb-12",children:[m.jsx("h2",{className:"text-2xl font-heading text-white mb-8 border-bottom border-white/5 pb-4",children:"Shipping Method"}),m.jsxs("div",{className:"shipping-options space-y-4",children:[m.jsxs("label",{className:`shipping-option flex items-center justify-between p-4 bg-[#111] border rounded cursor-pointer ${l.shippingMethod==="standard"?"border-gold":"border-white/5"}`,children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("input",{type:"radio",name:"shipping",checked:l.shippingMethod==="standard",onChange:()=>p("standard",10)}),m.jsx("span",{children:"Standard (5-10 Days)"})]}),m.jsx("span",{className:"text-gold",children:"$10.00"})]}),m.jsxs("label",{className:`shipping-option flex items-center justify-between p-4 bg-[#111] border rounded cursor-pointer ${l.shippingMethod==="express"?"border-gold":"border-white/5"}`,children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("input",{type:"radio",name:"shipping",checked:l.shippingMethod==="express",onChange:()=>p("express",25)}),m.jsx("span",{children:"Express (2-3 Days)"})]}),m.jsx("span",{className:"text-gold",children:"$25.00"})]})]})]}),m.jsxs("section",{className:"checkout-section mb-12",children:[m.jsx("h2",{className:"text-2xl font-heading text-white mb-8 border-bottom border-white/5 pb-4",children:"Payment Method"}),m.jsxs("div",{className:"payment-tabs flex gap-4 mb-8",children:[m.jsx("button",{type:"button",className:`payment-tab flex-1 p-4 rounded border ${s==="card"?"border-gold text-gold bg-gold/5":"border-white/5 text-gray-400"}`,onClick:()=>o("card"),children:"Credit Card"}),m.jsx("button",{type:"button",className:`payment-tab flex-1 p-4 rounded border ${s==="paypal"?"border-gold text-gold bg-gold/5":"border-white/5 text-gray-400"}`,onClick:()=>o("paypal"),children:"PayPal"})]}),s==="card"?m.jsxs("div",{className:"card-details space-y-6",children:[m.jsx("div",{className:"p-4 bg-yellow-500/10 border border-yellow-500/20 text-yellow-200 text-sm rounded",children:"Note: This is a secure checkout demonstration. No real charge will be made yet."}),m.jsx("input",{type:"text",placeholder:"Card Number",className:"form-input"}),m.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[m.jsx("input",{type:"text",placeholder:"MM / YY",className:"form-input"}),m.jsx("input",{type:"text",placeholder:"CVV",className:"form-input"})]})]}):m.jsx("div",{className:"paypal-notice p-8 bg-blue-600/5 border border-blue-600/20 rounded text-center",children:m.jsx("p",{className:"text-gray-300",children:"Proceed to complete your purchase securely with PayPal."})})]}),m.jsx("button",{type:"submit",disabled:i,className:`btn w-full py-5 text-lg uppercase tracking-widest mt-8 ${i?"opacity-50 cursor-not-allowed":""}`,children:i?"Processing...":"Place Order"})]}),m.jsx("div",{className:"checkout-sidebar",children:m.jsxs("div",{className:"order-summary bg-[#111] p-10 rounded-lg border border-white/5 sticky top-32",children:[m.jsx("h2",{className:"text-2xl font-heading text-white mb-8 border-bottom border-white/5 pb-4",children:"Order Summary"}),m.jsx("div",{className:"order-items space-y-6 mb-10 max-h-96 overflow-y-auto pr-2",children:e.map(b=>m.jsxs("div",{className:"flex justify-between items-center bg-black/20 p-3 rounded border border-white/5",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"item-thumbnail-mini w-12 h-12 overflow-hidden rounded bg-gray-800",children:m.jsx("img",{src:b.image,alt:b.name,className:"w-full h-full object-cover"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-white text-xs font-heading leading-tight mb-1",children:b.name}),m.jsxs("p",{className:"text-gray-500 text-[10px] uppercase tracking-widest",children:["Qty: ",b.quantity]})]})]}),m.jsxs("span",{className:"text-gold text-sm font-bold",children:["$",(b.price*b.quantity).toFixed(2)]})]},b.id))}),m.jsxs("div",{className:"summary-details pt-8 border-top border-white/10 space-y-4",children:[m.jsxs("div",{className:"flex justify-between text-gray-400",children:[m.jsx("span",{children:"Subtotal"}),m.jsxs("span",{children:["$",t.toFixed(2)]})]}),m.jsxs("div",{className:"flex justify-between text-gray-400",children:[m.jsx("span",{children:"Shipping"}),m.jsxs("span",{children:["$",c.toFixed(2)]})]}),m.jsxs("div",{className:"flex justify-between text-xl text-white font-heading font-bold pt-4 border-top border-white/5",children:[m.jsx("span",{children:"Total"}),m.jsxs("span",{className:"text-gold",children:["$",_.toFixed(2)]})]})]})]})})]})]})})},QK=()=>{var f,h,p;const[e,t]=v.useState(""),[n,r]=v.useState(""),[i,a]=v.useState(null),[s,o]=v.useState(!1),[l,u]=v.useState(""),c=async g=>{g.preventDefault(),o(!0),u(""),a(null);try{const _=br(_t,"orders",e.trim()),b=await Hw(_);if(b.exists()){const w=b.data();w.email.toLowerCase()===n.toLowerCase()?a({id:b.id,...w}):u("Order found, but email does not match records.")}else u("Order not found. Please check your Order ID.")}catch(_){console.error("Tracking Error:",_),u("An error occurred while tracking. Please try again.")}o(!1)};return m.jsx("div",{className:"track-order-page py-32 min-h-[60vh]",children:m.jsxs("div",{className:"container max-w-2xl mx-auto",children:[m.jsx("h1",{className:"text-4xl font-heading text-gold text-center mb-8",children:"Track Your Order"}),m.jsx("p",{className:"text-gray-400 text-center mb-12",children:"Enter your Order ID and Email Address to see current status."}),m.jsxs("form",{onSubmit:c,className:"bg-[#111] p-8 rounded-xl border border-white/10 mb-12",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Order ID"}),m.jsx("input",{type:"text",required:!0,className:"w-full bg-black/50 border border-white/10 rounded p-3 text-white focus:border-gold outline-none",placeholder:"e.g. 5xJ8...",value:e,onChange:g=>t(g.target.value)})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Email Address"}),m.jsx("input",{type:"email",required:!0,className:"w-full bg-black/50 border border-white/10 rounded p-3 text-white focus:border-gold outline-none",placeholder:"name@example.com",value:n,onChange:g=>r(g.target.value)})]})]}),m.jsx("button",{type:"submit",disabled:s,className:"w-full bg-gold text-black py-4 rounded font-bold uppercase tracking-widest hover:bg-white transition-colors",children:s?"Searching...":"Track Order"}),l&&m.jsx("p",{className:"text-red-500 text-center mt-4 text-sm",children:l})]}),i&&m.jsxs("div",{className:"order-result bg-[#111] p-8 rounded-xl border border-gold/30 animate-fade-in relative overflow-hidden",children:[m.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-gold to-transparent"}),m.jsxs("div",{className:"flex justify-between items-start mb-8",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl text-white font-heading",children:"Order Status"}),m.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:["Placed on ",(f=i.created_at)==null?void 0:f.toDate().toLocaleDateString()]})]}),m.jsx("div",{className:"text-right",children:m.jsx("span",{className:`inline-block px-4 py-2 rounded border text-xs uppercase font-bold tracking-widest ${i.status==="Delivered"?"text-green-500 border-green-500/30 bg-green-500/10":i.status==="Shipped"?"text-purple-500 border-purple-500/30 bg-purple-500/10":"text-yellow-500 border-yellow-500/30 bg-yellow-500/10"}`,children:i.status})})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-8 border-t border-white/10 pt-8",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-xs uppercase tracking-widest text-gray-500 mb-4",children:"Shipping To"}),m.jsxs("p",{className:"text-white",children:[i.firstName," ",i.lastName]}),m.jsx("p",{className:"text-gray-400 text-sm",children:i.address}),m.jsxs("p",{className:"text-gray-400 text-sm",children:[i.city,", ",i.country]})]}),m.jsxs("div",{children:[m.jsxs("h3",{className:"text-xs uppercase tracking-widest text-gray-500 mb-4",children:["Items (",i.items,")"]}),m.jsx("ul",{className:"space-y-2",children:(h=i.cart)==null?void 0:h.map((g,_)=>m.jsxs("li",{className:"text-sm text-gray-300 flex justify-between",children:[m.jsxs("span",{children:[g.quantity,"x ",g.name]}),m.jsxs("span",{className:"text-gold",children:["$",g.price]})]},_))}),m.jsxs("div",{className:"mt-4 pt-4 border-t border-white/10 flex justify-between font-bold text-white",children:[m.jsx("span",{children:"Total"}),m.jsxs("span",{children:["$",(p=i.total)==null?void 0:p.toFixed(2)]})]})]})]})]})]})})},ZK=()=>{var n;const t=((n=Es().state)==null?void 0:n.orderId)||"AMB-"+Math.floor(1e5+Math.random()*9e5);return m.jsx("div",{className:"confirmation-page py-48",children:m.jsxs("div",{className:"container text-center",children:[m.jsx("div",{className:"success-icon text-gold text-7xl mb-8",children:""}),m.jsx("h1",{className:"text-6xl font-heading text-gold mb-6",children:"Order Confirmed"}),m.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto leading-relaxed mb-12",children:"Thank you for choosing Ambrosia. We've received your order and are currently preparing your selection of prime cinnamon for its journey to your doorstep."}),m.jsxs("div",{className:"order-details-summary bg-[#111] p-10 rounded max-w-lg mx-auto border border-white/5 mb-16",children:[m.jsxs("p",{className:"text-gray-500 text-sm mb-4",children:["Order #",t]}),m.jsx("p",{className:"text-white",children:"A confirmation email has been sent. You can track your 100% Sri Lankan delivery once the quills are dispatched."})]}),m.jsxs("div",{className:"flex justify-center gap-8",children:[m.jsx(At,{to:"/shop",className:"btn btn-outline",children:"Continue Shopping"}),m.jsx(At,{to:"/",className:"btn",children:"Back to Home"})]})]})})},bM=({title:e})=>m.jsx("div",{className:"section",style:{paddingTop:"150px",minHeight:"80vh"},children:m.jsxs("div",{className:"container text-center",children:[m.jsx("h1",{className:"text-6xl text-gold mb-8",children:e}),m.jsx("p",{className:"text-xl text-gray-500",children:"This section is coming soon as part of the Ambrosia mission."})]})}),JK=()=>m.jsx(bM,{title:"Privacy Policy"}),eY=()=>m.jsx(bM,{title:"Terms & Conditions"}),tY=()=>{const[e,t]=v.useState(""),[n,r]=v.useState(""),[i,a]=v.useState(""),[s,o]=v.useState(!1),l=Eg(),u=async c=>{var f;c.preventDefault(),a(""),o(!0);try{const p=(await D7(wf,e,n)).user,g=await Hw(br(_t,"users",p.uid));if(g.exists()&&((f=g.data())==null?void 0:f.role)==="admin")l("/admin");else throw await kb(wf),new Error("Access Denied: You do not have administrator privileges.")}catch(h){console.error("Login Error:",h);const p=h.message.includes("Access Denied")?h.message:"Invalid credentials. Please try again.";a(p)}finally{o(!1)}};return m.jsxs("div",{className:"min-h-screen bg-[#050505] flex items-center justify-center relative overflow-hidden",children:[m.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[m.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[50%] h-[50%] bg-gold/5 blur-[150px] rounded-full"}),m.jsx("div",{className:"absolute bottom-[-20%] right-[-10%] w-[50%] h-[50%] bg-purple-900/10 blur-[150px] rounded-full"})]}),m.jsxs("div",{className:"w-full max-w-md bg-[#111]/80 backdrop-blur-xl p-10 rounded-2xl border border-white/10 shadow-2xl relative z-10",children:[m.jsxs("div",{className:"text-center mb-10",children:[m.jsx("h1",{className:"text-4xl font-heading text-gold mb-3 tracking-tight",children:"Ambrosia"}),m.jsx("div",{className:"h-px w-16 bg-gradient-to-r from-transparent via-gold/50 to-transparent mx-auto mb-3"}),m.jsx("p",{className:"text-gray-500 uppercase text-[10px] tracking-[0.3em] font-medium",children:"Administration"})]}),i&&m.jsx("div",{className:"bg-red-500/10 border border-red-500/20 text-red-400 p-4 rounded-lg mb-6 text-xs text-center font-medium tracking-wide",children:i}),m.jsxs("form",{onSubmit:u,className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-[10px] uppercase tracking-widest text-gray-500 mb-2 font-bold ml-1",children:"Email Address"}),m.jsx("input",{type:"email",value:e,onChange:c=>t(c.target.value),className:"w-full bg-black/50 border border-white/10 rounded-lg p-4 text-white placeholder-gray-700 text-sm focus:outline-none focus:border-gold/50 focus:bg-black transition-all duration-300",placeholder:"name@example.com",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-[10px] uppercase tracking-widest text-gray-500 mb-2 font-bold ml-1",children:"Password"}),m.jsx("input",{type:"password",value:n,onChange:c=>r(c.target.value),className:"w-full bg-black/50 border border-white/10 rounded-lg p-4 text-white placeholder-gray-700 text-sm focus:outline-none focus:border-gold/50 focus:bg-black transition-all duration-300",placeholder:"",required:!0})]}),m.jsx("button",{type:"submit",disabled:s,className:`w-full bg-gold text-black font-bold py-4 rounded-lg text-xs uppercase tracking-widest transition-all hover:bg-white hover:scale-[1.02] shadow-[0_0_20px_rgba(212,175,55,0.2)] ${s?"opacity-50 cursor-not-allowed transform-none":""}`,children:s?"Authenticating...":"Access Dashboard"})]}),m.jsx("div",{className:"mt-8 text-center",children:m.jsx("p",{className:"text-[10px] text-gray-700 font-mono",children:"Protected System. Unauthorized access is prohibited."})})]})]})};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xM=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nY=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rY=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VC=e=>{const t=rY(e);return t.charAt(0).toUpperCase()+t.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var iY={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aY=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sY=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...o},l)=>v.createElement("svg",{ref:l,...iY,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:xM("lucide",i),...!a&&!aY(o)&&{"aria-hidden":"true"},...o},[...s.map(([u,c])=>v.createElement(u,c)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=(e,t)=>{const n=v.forwardRef(({className:r,...i},a)=>v.createElement(sY,{ref:a,iconNode:t,className:xM(`lucide-${nY(VC(e))}`,`lucide-${e}`,r),...i}));return n.displayName=VC(e),n};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oY=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],lY=ht("activity",oY);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uY=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],cY=ht("arrow-up-right",uY);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fY=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],dY=ht("clock",fY);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hY=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],_M=ht("dollar-sign",hY);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mY=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],pY=ht("ellipsis",mY);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gY=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],yY=ht("image",gY);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vY=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],bY=ht("layout-dashboard",vY);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xY=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],_Y=ht("log-out",xY);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wY=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Sf=ht("mail",wY);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EY=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],SY=ht("message-circle",EY);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AY=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],wM=ht("package",AY);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TY=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],CY=ht("pen",TY);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NY=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],OY=ht("phone",NY);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IY=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],PY=ht("plus",IY);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jY=[["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}],["path",{d:"m9 17-5-5 5-5",key:"nvlc11"}]],RY=ht("reply",jY);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DY=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Yw=ht("search",DY);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kY=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],MY=ht("send",kY);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LY=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],EM=ht("shopping-bag",LY);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VY=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],SM=ht("trash-2",VY);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UY=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],zY=ht("triangle-alert",UY);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BY=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],$Y=ht("users",BY),FY=()=>{const e=Eg(),{currentUser:t,isAdmin:n,loading:r}=mK();if(uI.useEffect(()=>{!r&&(!t||!n)&&e("/admin/login")},[t,n,r,e]),r)return m.jsx("div",{className:"min-h-screen bg-black text-gold flex items-center justify-center",children:"Loading Admin..."});if(!n)return m.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col items-center justify-center gap-4",children:[m.jsx("h1",{className:"text-2xl text-red-500 font-bold",children:"Access Denied"}),m.jsx("p",{className:"text-gray-400",children:"You do not have administrator's privileges."}),m.jsxs("div",{className:"text-sm text-gray-600",children:["Current Role: ",t==null?void 0:t.email]}),m.jsx("button",{onClick:()=>{kb(wf),e("/admin/login")},className:"px-4 py-2 bg-gold text-black rounded hover:bg-white transition-colors",children:"Back to Login"})]});const i=async()=>{try{await kb(wf),e("/admin/login")}catch(a){console.error("Logout failed:",a)}};return m.jsxs("div",{className:"admin-theme min-h-screen bg-[#F4F5F7] flex text-gray-800 font-sans selection:bg-gold selection:text-black",children:[m.jsxs("aside",{className:"w-64 bg-[#1C1C24] flex flex-col fixed h-full z-20 shadow-xl",children:[m.jsx("div",{className:"h-20 flex items-center px-8 border-b border-gray-800",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-gold to-yellow-600 rounded-lg flex items-center justify-center text-black font-bold text-lg shadow-lg shadow-gold/20",children:"A"}),m.jsxs("h1",{className:"text-xl font-bold text-white tracking-tight",children:["Ambrosia",m.jsx("span",{className:"text-gold",children:"."})]})]})}),m.jsxs("nav",{className:"flex-1 px-4 py-8 space-y-1",children:[m.jsx("p",{className:"px-4 text-[10px] uppercase tracking-wider text-gray-500 mb-4 font-bold",children:"Menu"}),m.jsxs(Xr,{to:"/admin",end:!0,className:({isActive:a})=>`flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200 ${a?"bg-gradient-to-r from-gold to-yellow-500 text-black shadow-lg shadow-gold/20":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[m.jsx(bY,{size:18}),m.jsx("span",{children:"Dashboard"})]}),m.jsxs(Xr,{to:"/admin/orders",className:({isActive:a})=>`flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200 ${a?"bg-gradient-to-r from-gold to-yellow-500 text-black shadow-lg shadow-gold/20":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[m.jsx(EM,{size:18}),m.jsx("span",{children:"Orders"})]}),m.jsxs(Xr,{to:"/admin/products",className:({isActive:a})=>`flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200 ${a?"bg-gradient-to-r from-gold to-yellow-500 text-black shadow-lg shadow-gold/20":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[m.jsx(wM,{size:18}),m.jsx("span",{children:"Products"})]}),m.jsxs(Xr,{to:"/admin/messages",className:({isActive:a})=>`flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200 ${a?"bg-gradient-to-r from-gold to-yellow-500 text-black shadow-lg shadow-gold/20":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[m.jsx(Sf,{size:18}),m.jsx("span",{children:"Messages"})]})]}),m.jsxs("div",{className:"p-6 border-t border-gray-800",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-700 overflow-hidden",children:m.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-xs",children:"U"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-white font-medium",children:"Admin User"}),m.jsx("p",{className:"text-[10px] text-gray-500 truncate w-32",children:t==null?void 0:t.email})]})]}),m.jsxs("button",{onClick:i,className:"w-full flex items-center gap-2 px-4 py-2 text-gray-400 hover:text-white transition-colors text-xs font-medium",children:[m.jsx(_Y,{size:16}),"Sign Out"]})]})]}),m.jsx("main",{className:"flex-1 ml-64 min-h-screen",children:m.jsx("div",{className:"max-w-[1600px] mx-auto p-12",children:m.jsx(yB,{})})})]})};function AM(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=AM(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ke(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=AM(e))&&(r&&(r+=" "),r+=t);return r}var qY=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Ww(e){if(typeof e!="string")return!1;var t=qY;return t.includes(e)}var HY=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],GY=new Set(HY);function TM(e){return typeof e!="string"?!1:GY.has(e)}function CM(e){return typeof e=="string"&&e.startsWith("data-")}function Ur(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(TM(n)||CM(n))&&(t[n]=e[n]);return t}function Xg(e){if(e==null)return null;if(v.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Ur(t)}return typeof e=="object"&&!Array.isArray(e)?Ur(e):null}function _r(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(TM(n)||CM(n)||Ww(n))&&(t[n]=e[n]);return t}function KY(e){return e==null?null:v.isValidElement(e)?_r(e.props):typeof e=="object"&&!Array.isArray(e)?_r(e):null}var YY=["children","width","height","viewBox","className","style","title","desc"];function tx(){return tx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tx.apply(null,arguments)}function WY(e,t){if(e==null)return{};var n,r,i=XY(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function XY(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var NM=v.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:s,style:o,title:l,desc:u}=e,c=WY(e,YY),f=a||{width:r,height:i,x:0,y:0},h=Ke("recharts-surface",s);return v.createElement("svg",tx({},_r(c),{className:h,width:r,height:i,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),v.createElement("title",null,l),v.createElement("desc",null,u),n)}),QY=["children","className"];function nx(){return nx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nx.apply(null,arguments)}function ZY(e,t){if(e==null)return{};var n,r,i=JY(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function JY(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var fi=v.forwardRef((e,t)=>{var{children:n,className:r}=e,i=ZY(e,QY),a=Ke("recharts-layer",r);return v.createElement("g",nx({className:a},_r(i),{ref:t}),n)}),eW=v.createContext(null);function rt(e){return function(){return e}}const rx=Math.PI,ix=2*rx,$s=1e-6,tW=ix-$s;function OM(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function nW(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return OM;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class rW{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?OM:nW(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=r-t,u=i-n,c=s-t,f=o-n,h=c*c+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>$s)if(!(Math.abs(f*l-u*c)>$s)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let p=r-s,g=i-o,_=l*l+u*u,b=p*p+g*g,w=Math.sqrt(_),x=Math.sqrt(h),E=a*Math.tan((rx-Math.acos((_+h-b)/(2*w*x)))/2),T=E/x,I=E/w;Math.abs(T-1)>$s&&this._append`L${t+T*c},${n+T*f}`,this._append`A${a},${a},0,0,${+(f*p>c*g)},${this._x1=t+I*l},${this._y1=n+I*u}`}}arc(t,n,r,i,a,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),u=t+o,c=n+l,f=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>$s||Math.abs(this._y1-c)>$s)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%ix+ix),h>tW?this._append`A${r},${r},0,1,${f},${t-o},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:h>$s&&this._append`A${r},${r},0,${+(h>=rx)},${f},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function IM(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new rW(t)}function Xw(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function PM(e){this._context=e}PM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Qg(e){return new PM(e)}function jM(e){return e[0]}function RM(e){return e[1]}function DM(e,t){var n=rt(!0),r=null,i=Qg,a=null,s=IM(o);e=typeof e=="function"?e:e===void 0?jM:rt(e),t=typeof t=="function"?t:t===void 0?RM:rt(t);function o(l){var u,c=(l=Xw(l)).length,f,h=!1,p;for(r==null&&(a=i(p=s())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(f,u,l),+t(f,u,l));if(p)return a=null,p+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:rt(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:rt(+l),o):t},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:rt(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),o):r},o}function Sh(e,t,n){var r=null,i=rt(!0),a=null,s=Qg,o=null,l=IM(u);e=typeof e=="function"?e:e===void 0?jM:rt(+e),t=typeof t=="function"?t:rt(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?RM:rt(+n);function u(f){var h,p,g,_=(f=Xw(f)).length,b,w=!1,x,E=new Array(_),T=new Array(_);for(a==null&&(o=s(x=l())),h=0;h<=_;++h){if(!(h<_&&i(b=f[h],h,f))===w)if(w=!w)p=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=h-1;g>=p;--g)o.point(E[g],T[g]);o.lineEnd(),o.areaEnd()}w&&(E[h]=+e(b,h,f),T[h]=+t(b,h,f),o.point(r?+r(b,h,f):E[h],n?+n(b,h,f):T[h]))}if(x)return o=null,x+""||null}function c(){return DM().defined(i).curve(s).context(a)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:rt(+f),r=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:rt(+f),u):e},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:rt(+f),u):r},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:rt(+f),n=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:rt(+f),u):t},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:rt(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(n)},u.lineX1=function(){return c().x(r).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:rt(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),u):s},u.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),u):a},u}class kM{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function iW(e){return new kM(e,!0)}function aW(e){return new kM(e,!1)}function hp(){}function mp(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function MM(e){this._context=e}MM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:mp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:mp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function sW(e){return new MM(e)}function LM(e){this._context=e}LM.prototype={areaStart:hp,areaEnd:hp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:mp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function oW(e){return new LM(e)}function VM(e){this._context=e}VM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:mp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function lW(e){return new VM(e)}function UM(e){this._context=e}UM.prototype={areaStart:hp,areaEnd:hp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function uW(e){return new UM(e)}function UC(e){return e<0?-1:1}function zC(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(UC(a)+UC(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function BC(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function o0(e,t,n){var r=e._x0,i=e._y0,a=e._x1,s=e._y1,o=(a-r)/3;e._context.bezierCurveTo(r+o,i+o*t,a-o,s-o*n,a,s)}function pp(e){this._context=e}pp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:o0(this,this._t0,BC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,o0(this,BC(this,n=zC(this,e,t)),n);break;default:o0(this,this._t0,n=zC(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function zM(e){this._context=new BM(e)}(zM.prototype=Object.create(pp.prototype)).point=function(e,t){pp.prototype.point.call(this,t,e)};function BM(e){this._context=e}BM.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function cW(e){return new pp(e)}function fW(e){return new zM(e)}function $M(e){this._context=e}$M.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=$C(e),i=$C(t),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function $C(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function dW(e){return new $M(e)}function Zg(e,t){this._context=e,this._t=t}Zg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function hW(e){return new Zg(e,.5)}function mW(e){return new Zg(e,0)}function pW(e){return new Zg(e,1)}function vo(e,t){if((s=e.length)>1)for(var n=1,r,i,a=e[t[0]],s,o=a.length;n<s;++n)for(i=a,a=e[t[n]],r=0;r<o;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function ax(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function gW(e,t){return e[t]}function yW(e){const t=[];return t.key=e,t}function vW(){var e=rt([]),t=ax,n=vo,r=gW;function i(a){var s=Array.from(e.apply(this,arguments),yW),o,l=s.length,u=-1,c;for(const f of a)for(o=0,++u;o<l;++o)(s[o][u]=[0,+r(f,s[o].key,u,a)]).data=f;for(o=0,c=Xw(t(s));o<l;++o)s[c[o]].index=o;return n(s,c),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:rt(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:rt(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?ax:typeof a=="function"?a:rt(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??vo,i):n},i}function bW(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=e[n][i][1]||0;if(s)for(n=0;n<r;++n)e[n][i][1]/=s}vo(e,t)}}function xW(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var s=0,o=0;s<i;++s)o+=e[s][n][1]||0;r[n][1]+=r[n][0]=-o/2}vo(e,t)}}function _W(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var o=0,l=0,u=0;o<s;++o){for(var c=e[t[o]],f=c[r][1]||0,h=c[r-1][1]||0,p=(f-h)/2,g=0;g<o;++g){var _=e[t[g]],b=_[r][1]||0,w=_[r-1][1]||0;p+=b-w}l+=f,u+=p*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,vo(e,t)}}var Jg={},FM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(FM);var Qw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(Qw);var ey={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(ey);var ty={},qM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(qM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qM,n=ey;function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],s=i.length;if(s===0)return a;let o=0,l="",u="",c=!1;for(i.charCodeAt(0)===46&&(a.push(""),o++);o<s;){const f=i[o];u?f==="\\"&&o+1<s?(o++,l+=i[o]):f===u?u="":l+=f:c?f==='"'||f==="'"?u=f:f==="]"?(c=!1,a.push(l),l=""):l+=f:f==="["?(c=!0,l&&(a.push(l),l="")):f==="."?l&&(a.push(l),l=""):l+=f,o++}return l&&a.push(l),a}e.toPath=r})(ty);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FM,n=Qw,r=ey,i=ty;function a(o,l,u){if(o==null)return u;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return u;const c=o[l];return c===void 0?n.isDeepKey(l)?a(o,i.toPath(l),u):u:c}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const c=o[l];return c===void 0?u:c}default:{if(Array.isArray(l))return s(o,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return u;const c=o[l];return c===void 0?u:c}}}function s(o,l,u){if(l.length===0)return u;let c=o;for(let f=0;f<l.length;f++){if(c==null||t.isUnsafeProperty(l[f]))return u;c=c[l[f]]}return c===void 0?u:c}e.get=a})(Jg);var wW=Jg.get;const ny=xs(wW);var EW=4;function $a(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:EW,n=10**t,r=Math.round(e*n)/n;return Object.is(r,-0)?0:r}function Xt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((i,a,s)=>{var o=n[s-1];return typeof o=="string"?i+o+a:o!==void 0?i+$a(o)+a:i+a},"")}var pr=e=>e===0?0:e>0?1:-1,di=e=>typeof e=="number"&&e!=+e,bo=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Q=e=>(typeof e=="number"||e instanceof Number)&&!di(e),hi=e=>Q(e)||typeof e=="string",SW=0,Af=e=>{var t=++SW;return"".concat(e||"").concat(t)},bs=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Q(t)&&typeof t!="string")return r;var a;if(bo(t)){if(n==null)return r;var s=t.indexOf("%");a=n*parseFloat(t.slice(0,s))/100}else a=+t;return di(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},HM=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[String(e[r])])n[String(e[r])]=!0;else return!0;return!1};function Wr(e,t,n){return Q(e)&&Q(t)?$a(e+n*(t-e)):t}function GM(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):ny(r,t))===n)}var vn=e=>e===null||typeof e>"u",Zw=e=>vn(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function kn(e){return e!=null}function _u(){}var KM=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,Jw=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(v.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{Ww(i)&&(r[i]=a=>n[i](n,a))}),r},AW=(e,t,n)=>r=>(e(t,n,r),null),TW=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];Ww(i)&&typeof a=="function"&&(r||(r={}),r[i]=AW(a,t,n))}),r};function FC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function CW(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FC(Object(n),!0).forEach(function(r){NW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NW(e,t,n){return(t=OW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OW(e){var t=IW(e,"string");return typeof t=="symbol"?t:t+""}function IW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ar(e,t){var n=CW({},e),r=t,i=Object.keys(t),a=i.reduce((s,o)=>(s[o]===void 0&&r[o]!==void 0&&(s[o]=r[o]),s),n);return a}var YM={},WM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let a=0;a<n.length;a++){const s=n[a],o=r(s,a,n);i.has(o)||i.set(o,s)}return Array.from(i.values())}e.uniqBy=t})(WM);var XM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}e.ary=t})(XM);var e1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(e1);var QM={},ry={},ZM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(ZM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZM;function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(ry);var JM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(JM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ry,n=JM;function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(QM);var e4={},t4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jg;function n(r){return function(i){return t.get(i,r)}}e.property=n})(t4);var n4={},t1={},r4={},n1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(n1);var r1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(r1);var i1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.isEqualsSameValueZero=t})(i1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=n1,n=r1,r=i1;function i(c,f,h){return typeof h!="function"?i(c,f,()=>{}):a(c,f,function p(g,_,b,w,x,E){const T=h(g,_,b,w,x,E);return T!==void 0?!!T:a(g,_,p,E)},new Map)}function a(c,f,h,p){if(f===c)return!0;switch(typeof f){case"object":return s(c,f,h,p);case"function":return Object.keys(f).length>0?a(c,{...f},h,p):r.isEqualsSameValueZero(c,f);default:return t.isObject(c)?typeof f=="string"?f==="":!0:r.isEqualsSameValueZero(c,f)}}function s(c,f,h,p){if(f==null)return!0;if(Array.isArray(f))return l(c,f,h,p);if(f instanceof Map)return o(c,f,h,p);if(f instanceof Set)return u(c,f,h,p);const g=Object.keys(f);if(c==null||n.isPrimitive(c))return g.length===0;if(g.length===0)return!0;if(p!=null&&p.has(f))return p.get(f)===c;p==null||p.set(f,c);try{for(let _=0;_<g.length;_++){const b=g[_];if(!n.isPrimitive(c)&&!(b in c)||f[b]===void 0&&c[b]!==void 0||f[b]===null&&c[b]!==null||!h(c[b],f[b],b,c,f,p))return!1}return!0}finally{p==null||p.delete(f)}}function o(c,f,h,p){if(f.size===0)return!0;if(!(c instanceof Map))return!1;for(const[g,_]of f.entries()){const b=c.get(g);if(h(b,_,g,c,f,p)===!1)return!1}return!0}function l(c,f,h,p){if(f.length===0)return!0;if(!Array.isArray(c))return!1;const g=new Set;for(let _=0;_<f.length;_++){const b=f[_];let w=!1;for(let x=0;x<c.length;x++){if(g.has(x))continue;const E=c[x];let T=!1;if(h(E,b,_,c,f,p)&&(T=!0),T){g.add(x),w=!0;break}}if(!w)return!1}return!0}function u(c,f,h,p){return f.size===0?!0:c instanceof Set?l([...c],[...f],h,p):!1}e.isMatchWith=i,e.isSetMatch=u})(r4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=r4;function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(t1);var i4={},a1={},a4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(a4);var iy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(iy);var s1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",o="[object Date]",l="[object Map]",u="[object Set]",c="[object Array]",f="[object Function]",h="[object ArrayBuffer]",p="[object Object]",g="[object Error]",_="[object DataView]",b="[object Uint8Array]",w="[object Uint8ClampedArray]",x="[object Uint16Array]",E="[object Uint32Array]",T="[object BigUint64Array]",I="[object Int8Array]",k="[object Int16Array]",A="[object Int32Array]",C="[object BigInt64Array]",N="[object Float32Array]",j="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=h,e.arrayTag=c,e.bigInt64ArrayTag=C,e.bigUint64ArrayTag=T,e.booleanTag=i,e.dataViewTag=_,e.dateTag=o,e.errorTag=g,e.float32ArrayTag=N,e.float64ArrayTag=j,e.functionTag=f,e.int16ArrayTag=k,e.int32ArrayTag=A,e.int8ArrayTag=I,e.mapTag=l,e.numberTag=r,e.objectTag=p,e.regexpTag=t,e.setTag=u,e.stringTag=n,e.symbolTag=s,e.uint16ArrayTag=x,e.uint32ArrayTag=E,e.uint8ArrayTag=b,e.uint8ClampedArrayTag=w})(s1);var s4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(s4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=a4,n=iy,r=s1,i=r1,a=s4;function s(c,f){return o(c,void 0,c,new Map,f)}function o(c,f,h,p=new Map,g=void 0){const _=g==null?void 0:g(c,f,h,p);if(_!==void 0)return _;if(i.isPrimitive(c))return c;if(p.has(c))return p.get(c);if(Array.isArray(c)){const b=new Array(c.length);p.set(c,b);for(let w=0;w<c.length;w++)b[w]=o(c[w],w,h,p,g);return Object.hasOwn(c,"index")&&(b.index=c.index),Object.hasOwn(c,"input")&&(b.input=c.input),b}if(c instanceof Date)return new Date(c.getTime());if(c instanceof RegExp){const b=new RegExp(c.source,c.flags);return b.lastIndex=c.lastIndex,b}if(c instanceof Map){const b=new Map;p.set(c,b);for(const[w,x]of c)b.set(w,o(x,w,h,p,g));return b}if(c instanceof Set){const b=new Set;p.set(c,b);for(const w of c)b.add(o(w,void 0,h,p,g));return b}if(typeof Buffer<"u"&&Buffer.isBuffer(c))return c.subarray();if(a.isTypedArray(c)){const b=new(Object.getPrototypeOf(c)).constructor(c.length);p.set(c,b);for(let w=0;w<c.length;w++)b[w]=o(c[w],w,h,p,g);return b}if(c instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&c instanceof SharedArrayBuffer)return c.slice(0);if(c instanceof DataView){const b=new DataView(c.buffer.slice(0),c.byteOffset,c.byteLength);return p.set(c,b),l(b,c,h,p,g),b}if(typeof File<"u"&&c instanceof File){const b=new File([c],c.name,{type:c.type});return p.set(c,b),l(b,c,h,p,g),b}if(typeof Blob<"u"&&c instanceof Blob){const b=new Blob([c],{type:c.type});return p.set(c,b),l(b,c,h,p,g),b}if(c instanceof Error){const b=new c.constructor;return p.set(c,b),b.message=c.message,b.name=c.name,b.stack=c.stack,b.cause=c.cause,l(b,c,h,p,g),b}if(c instanceof Boolean){const b=new Boolean(c.valueOf());return p.set(c,b),l(b,c,h,p,g),b}if(c instanceof Number){const b=new Number(c.valueOf());return p.set(c,b),l(b,c,h,p,g),b}if(c instanceof String){const b=new String(c.valueOf());return p.set(c,b),l(b,c,h,p,g),b}if(typeof c=="object"&&u(c)){const b=Object.create(Object.getPrototypeOf(c));return p.set(c,b),l(b,c,h,p,g),b}return c}function l(c,f,h=c,p,g){const _=[...Object.keys(f),...t.getSymbols(f)];for(let b=0;b<_.length;b++){const w=_[b],x=Object.getOwnPropertyDescriptor(c,w);(x==null||x.writable)&&(c[w]=o(f[w],w,h,p,g))}}function u(c){switch(n.getTag(c)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=o,e.copyProperties=l})(a1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=a1;function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(i4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=t1,n=i4;function r(i){return i=n.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=r})(n4);var o4={},l4={},u4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=a1,n=iy,r=s1;function i(a,s){return t.cloneDeepWith(a,(o,l,u,c)=>{const f=s==null?void 0:s(o,l,u,c);if(f!==void 0)return f;if(typeof a=="object"){if(n.getTag(a)===r.objectTag&&typeof a.constructor!="function"){const h={};return c.set(a,h),t.copyProperties(h,a,u,c),h}switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const h=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(h,a),h}case r.argumentsTag:{const h={};return t.copyProperties(h,a),h.length=a.length,h[Symbol.iterator]=a[Symbol.iterator],h}default:return}}})}e.cloneDeepWith=i})(u4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u4;function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(l4);var c4={},o1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(o1);var f4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iy;function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(f4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qw,n=o1,r=f4,i=ty;function a(s,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&t.isDeepKey(o)&&(s==null?void 0:s[o])==null?l=i.toPath(o):l=[o],l.length===0)return!1;let u=s;for(let c=0;c<l.length;c++){const f=l[c];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||r.isArguments(u))&&n.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=a})(c4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=t1,n=ey,r=l4,i=Jg,a=c4;function s(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=n.toKey(o);break}}return l=r.cloneDeep(l),function(u){const c=i.get(u,o);return c===void 0?a.has(u,o):l===void 0?c===void 0:t.isMatch(c,l)}}e.matchesProperty=s})(o4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=e1,n=t4,r=n4,i=o4;function a(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}e.iteratee=a})(e4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WM,n=XM,r=e1,i=QM,a=e4;function s(o,l=r.identity){return i.isArrayLikeObject(o)?t.uniqBy(Array.from(o),n.ary(a.iteratee(l),1)):[]}e.uniqBy=s})(YM);var PW=YM.uniqBy;const qC=xs(PW);function jW(e,t,n){return t===!0?qC(e,n):typeof t=="function"?qC(e,t):e}var d4={exports:{}},h4={},m4={exports:{}},p4={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xl=v;function RW(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var DW=typeof Object.is=="function"?Object.is:RW,kW=Xl.useState,MW=Xl.useEffect,LW=Xl.useLayoutEffect,VW=Xl.useDebugValue;function UW(e,t){var n=t(),r=kW({inst:{value:n,getSnapshot:t}}),i=r[0].inst,a=r[1];return LW(function(){i.value=n,i.getSnapshot=t,l0(i)&&a({inst:i})},[e,n,t]),MW(function(){return l0(i)&&a({inst:i}),e(function(){l0(i)&&a({inst:i})})},[e]),VW(n),n}function l0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!DW(e,n)}catch{return!0}}function zW(e,t){return t()}var BW=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?zW:UW;p4.useSyncExternalStore=Xl.useSyncExternalStore!==void 0?Xl.useSyncExternalStore:BW;m4.exports=p4;var $W=m4.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ay=v,FW=$W;function qW(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var HW=typeof Object.is=="function"?Object.is:qW,GW=FW.useSyncExternalStore,KW=ay.useRef,YW=ay.useEffect,WW=ay.useMemo,XW=ay.useDebugValue;h4.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var a=KW(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=WW(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&s.hasValue){var g=s.value;if(i(g,p))return f=g}return f=p}if(g=f,HW(c,p))return g;var _=r(p);return i!==void 0&&i(g,_)?(c=p,g):(c=p,f=_)}var u=!1,c,f,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,i]);var o=GW(e,a[0],a[1]);return YW(function(){s.hasValue=!0,s.value=o},[o]),XW(o),o};d4.exports=h4;var QW=d4.exports,l1=v.createContext(null),ZW=e=>e,$t=()=>{var e=v.useContext(l1);return e?e.store.dispatch:ZW},hm=()=>{},JW=()=>hm,eX=(e,t)=>e===t;function ee(e){var t=v.useContext(l1),n=v.useMemo(()=>t?r=>{if(r!=null)return e(r)}:hm,[t,e]);return QW.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:JW,t?t.store.getState:hm,t?t.store.getState:hm,n,eX)}function tX(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function nX(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function rX(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var HC=e=>Array.isArray(e)?e:[e];function iX(e){const t=Array.isArray(e[0])?e[0]:e;return rX(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function aX(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var sX=class{constructor(e){this.value=e}deref(){return this.value}},oX=typeof WeakRef<"u"?WeakRef:sX,lX=0,GC=1;function Ah(){return{s:lX,v:void 0,o:null,p:null}}function g4(e,t={}){let n=Ah();const{resultEqualityCheck:r}=t;let i,a=0;function s(){var f;let o=n;const{length:l}=arguments;for(let h=0,p=l;h<p;h++){const g=arguments[h];if(typeof g=="function"||typeof g=="object"&&g!==null){let _=o.o;_===null&&(o.o=_=new WeakMap);const b=_.get(g);b===void 0?(o=Ah(),_.set(g,o)):o=b}else{let _=o.p;_===null&&(o.p=_=new Map);const b=_.get(g);b===void 0?(o=Ah(),_.set(g,o)):o=b}}const u=o;let c;if(o.s===GC)c=o.v;else if(c=e.apply(null,arguments),a++,r){const h=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;h!=null&&r(h,c)&&(c=h,a!==0&&a--),i=typeof c=="object"&&c!==null||typeof c=="function"?new oX(c):c}return u.s=GC,u.v=c,c}return s.clearCache=()=>{n=Ah(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function uX(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let a=0,s=0,o,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),tX(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...n,...l},{memoize:f,memoizeOptions:h=[],argsMemoize:p=g4,argsMemoizeOptions:g=[]}=c,_=HC(h),b=HC(g),w=iX(i),x=f(function(){return a++,u.apply(null,arguments)},..._),E=p(function(){s++;const I=aX(w,arguments);return o=x.apply(null,I),o},...b);return Object.assign(E,{resultFunc:u,memoizedResultFunc:x,dependencies:w,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:f,argsMemoize:p})};return Object.assign(r,{withTypes:()=>r}),r}var V=uX(g4),cX=Object.assign((e,t=V)=>{nX(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((s,o,l)=>(s[n[l]]=o,s),{}))},{withTypes:()=>cX}),y4={},v4={},b4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const s=t(r),o=t(i);if(s===o&&s===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?o-s:s-o}return 0};e.compareValues=n})(b4);var x4={},u1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(u1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u1,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||s!=null&&Object.hasOwn(s,a)}e.isKey=i})(x4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=b4,n=x4,r=ty;function i(a,s,o,l){if(a==null)return[];o=l?void 0:o,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(p=>String(p));const u=(p,g)=>{let _=p;for(let b=0;b<g.length&&_!=null;++b)_=_[g[b]];return _},c=(p,g)=>g==null||p==null?g:typeof p=="object"&&"key"in p?Object.hasOwn(g,p.key)?g[p.key]:u(g,p.path):typeof p=="function"?p(g):Array.isArray(p)?u(g,p):typeof g=="object"?g[p]:g,f=s.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||n.isKey(p)?p:{key:p,path:r.toPath(p)}));return a.map(p=>({original:p,criteria:f.map(g=>c(g,p))})).slice().sort((p,g)=>{for(let _=0;_<f.length;_++){const b=t.compareValues(p.criteria[_],g.criteria[_],o[_]);if(b!==0)return b}return 0}).map(p=>p.original)}e.orderBy=i})(v4);var _4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],a=Math.floor(r),s=(o,l)=>{for(let u=0;u<o.length;u++){const c=o[u];Array.isArray(c)&&l<a?s(c,l+1):i.push(c)}};return s(n,0),i}e.flatten=t})(_4);var c1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=o1,n=ry,r=n1,i=i1;function a(s,o,l){return r.isObject(l)&&(typeof o=="number"&&n.isArrayLike(l)&&t.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?i.isEqualsSameValueZero(l[o],s):!1}e.isIterateeCall=a})(c1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=v4,n=_4,r=c1;function i(a,...s){const o=s.length;return o>1&&r.isIterateeCall(a,s[0],s[1])?s=[]:o>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(a,n.flatten(s),["asc"])}e.sortBy=i})(y4);var fX=y4.sortBy;const sy=xs(fX);var w4=e=>e.legend.settings,dX=e=>e.legend.size,hX=e=>e.legend.payload;V([hX,w4],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?sy(r,n):r});var Th=1;function mX(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=v.useState({height:0,left:0,top:0,width:0}),r=v.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-t.height)>Th||Math.abs(s.left-t.left)>Th||Math.abs(s.top-t.top)>Th||Math.abs(s.width-t.width)>Th)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function Yt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var pX=typeof Symbol=="function"&&Symbol.observable||"@@observable",KC=pX,u0=()=>Math.random().toString(36).substring(7).split("").join("."),gX={INIT:`@@redux/INIT${u0()}`,REPLACE:`@@redux/REPLACE${u0()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${u0()}`},gp=gX;function f1(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function E4(e,t,n){if(typeof e!="function")throw new Error(Yt(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Yt(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Yt(1));return n(E4)(e,t)}let r=e,i=t,a=new Map,s=a,o=0,l=!1;function u(){s===a&&(s=new Map,a.forEach((b,w)=>{s.set(w,b)}))}function c(){if(l)throw new Error(Yt(3));return i}function f(b){if(typeof b!="function")throw new Error(Yt(4));if(l)throw new Error(Yt(5));let w=!0;u();const x=o++;return s.set(x,b),function(){if(w){if(l)throw new Error(Yt(6));w=!1,u(),s.delete(x),a=null}}}function h(b){if(!f1(b))throw new Error(Yt(7));if(typeof b.type>"u")throw new Error(Yt(8));if(typeof b.type!="string")throw new Error(Yt(17));if(l)throw new Error(Yt(9));try{l=!0,i=r(i,b)}finally{l=!1}return(a=s).forEach(x=>{x()}),b}function p(b){if(typeof b!="function")throw new Error(Yt(10));r=b,h({type:gp.REPLACE})}function g(){const b=f;return{subscribe(w){if(typeof w!="object"||w===null)throw new Error(Yt(11));function x(){const T=w;T.next&&T.next(c())}return x(),{unsubscribe:b(x)}},[KC](){return this}}}return h({type:gp.INIT}),{dispatch:h,subscribe:f,getState:c,replaceReducer:p,[KC]:g}}function yX(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:gp.INIT})>"u")throw new Error(Yt(12));if(typeof n(void 0,{type:gp.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Yt(13))})}function S4(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const s=t[a];typeof e[s]=="function"&&(n[s]=e[s])}const r=Object.keys(n);let i;try{yX(n)}catch(a){i=a}return function(s={},o){if(i)throw i;let l=!1;const u={};for(let c=0;c<r.length;c++){const f=r[c],h=n[f],p=s[f],g=h(p,o);if(typeof g>"u")throw o&&o.type,new Error(Yt(14));u[f]=g,l=l||g!==p}return l=l||r.length!==Object.keys(s).length,l?u:s}}function yp(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function vX(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(Yt(15))};const s={getState:i.getState,dispatch:(l,...u)=>a(l,...u)},o=e.map(l=>l(s));return a=yp(...o)(i.dispatch),{...i,dispatch:a}}}function A4(e){return f1(e)&&"type"in e&&typeof e.type=="string"}var T4=Symbol.for("immer-nothing"),YC=Symbol.for("immer-draftable"),Tn=Symbol.for("immer-state");function Ir(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Xn=Object,Ql=Xn.getPrototypeOf,vp="constructor",oy="prototype",sx="configurable",bp="enumerable",mm="writable",Tf="value",Ji=e=>!!e&&!!e[Tn];function zr(e){var t;return e?C4(e)||uy(e)||!!e[YC]||!!((t=e[vp])!=null&&t[YC])||cy(e)||fy(e):!1}var bX=Xn[oy][vp].toString(),WC=new WeakMap;function C4(e){if(!e||!d1(e))return!1;const t=Ql(e);if(t===null||t===Xn[oy])return!0;const n=Xn.hasOwnProperty.call(t,vp)&&t[vp];if(n===Object)return!0;if(!Zo(n))return!1;let r=WC.get(n);return r===void 0&&(r=Function.toString.call(n),WC.set(n,r)),r===bX}function ly(e,t,n=!0){yd(e)===0?(n?Reflect.ownKeys(e):Xn.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function yd(e){const t=e[Tn];return t?t.type_:uy(e)?1:cy(e)?2:fy(e)?3:0}var XC=(e,t,n=yd(e))=>n===2?e.has(t):Xn[oy].hasOwnProperty.call(e,t),ox=(e,t,n=yd(e))=>n===2?e.get(t):e[t],xp=(e,t,n,r=yd(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function xX(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var uy=Array.isArray,cy=e=>e instanceof Map,fy=e=>e instanceof Set,d1=e=>typeof e=="object",Zo=e=>typeof e=="function",c0=e=>typeof e=="boolean";function _X(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Ci=e=>e.copy_||e.base_,h1=e=>e.modified_?e.copy_:e.base_;function lx(e,t){if(cy(e))return new Map(e);if(fy(e))return new Set(e);if(uy(e))return Array[oy].slice.call(e);const n=C4(e);if(t===!0||t==="class_only"&&!n){const r=Xn.getOwnPropertyDescriptors(e);delete r[Tn];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],o=r[s];o[mm]===!1&&(o[mm]=!0,o[sx]=!0),(o.get||o.set)&&(r[s]={[sx]:!0,[mm]:!0,[bp]:o[bp],[Tf]:e[s]})}return Xn.create(Ql(e),r)}else{const r=Ql(e);if(r!==null&&n)return{...e};const i=Xn.create(r);return Xn.assign(i,e)}}function m1(e,t=!1){return dy(e)||Ji(e)||!zr(e)||(yd(e)>1&&Xn.defineProperties(e,{set:Ch,add:Ch,clear:Ch,delete:Ch}),Xn.freeze(e),t&&ly(e,(n,r)=>{m1(r,!0)},!1)),e}function wX(){Ir(2)}var Ch={[Tf]:wX};function dy(e){return e===null||!d1(e)?!0:Xn.isFrozen(e)}var _p="MapSet",ux="Patches",QC="ArrayMethods",N4={};function xo(e){const t=N4[e];return t||Ir(0,e),t}var ZC=e=>!!N4[e],Cf,O4=()=>Cf,EX=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:ZC(_p)?xo(_p):void 0,arrayMethodsPlugin_:ZC(QC)?xo(QC):void 0});function JC(e,t){t&&(e.patchPlugin_=xo(ux),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function cx(e){fx(e),e.drafts_.forEach(SX),e.drafts_=null}function fx(e){e===Cf&&(Cf=e.parent_)}var eN=e=>Cf=EX(Cf,e);function SX(e){const t=e[Tn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function tN(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[Tn].modified_&&(cx(t),Ir(4)),zr(e)&&(e=nN(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[Tn].base_,e,t)}else e=nN(t,n);return AX(t,e,!0),cx(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==T4?e:void 0}function nN(e,t){if(dy(t))return t;const n=t[Tn];if(!n)return wp(t,e.handledSet_,e);if(!hy(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);j4(n,e)}return n.copy_}function AX(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&m1(t,n)}function I4(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var hy=(e,t)=>e.scope_===t,TX=[];function P4(e,t,n,r){const i=Ci(e),a=e.type_;if(r!==void 0&&ox(i,r,a)===t){xp(i,r,n,a);return}if(!e.draftLocations_){const o=e.draftLocations_=new Map;ly(i,(l,u)=>{if(Ji(u)){const c=o.get(u)||[];c.push(l),o.set(u,c)}})}const s=e.draftLocations_.get(t)??TX;for(const o of s)xp(i,o,n,a)}function CX(e,t,n){e.callbacks_.push(function(i){var o;const a=t;if(!a||!hy(a,i))return;(o=i.mapSetPlugin_)==null||o.fixSetContents(a);const s=h1(a);P4(e,a.draft_??a,s,n),j4(a,i)})}function j4(e,t){var r;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((r=e.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const a=i.getPath(e);a&&i.generatePatches_(e,a,t)}I4(e)}}function NX(e,t,n){const{scope_:r}=e;if(Ji(n)){const i=n[Tn];hy(i,r)&&i.callbacks_.push(function(){pm(e);const s=h1(i);P4(e,n,s,t)})}else zr(n)&&e.callbacks_.push(function(){const a=Ci(e);e.type_===3?a.has(n)&&wp(n,r.handledSet_,r):ox(a,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&wp(ox(e.copy_,t,e.type_),r.handledSet_,r)})}function wp(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Ji(e)||t.has(e)||!zr(e)||dy(e)||(t.add(e),ly(e,(r,i)=>{if(Ji(i)){const a=i[Tn];if(hy(a,n)){const s=h1(a);xp(e,r,s,e.type_),I4(a)}}else zr(i)&&wp(i,t,n)})),e}function OX(e,t){const n=uy(e),r={type_:n?1:0,scope_:t?t.scope_:O4(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=Ep;n&&(i=[r],a=Nf);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,[o,r]}var Ep={get(e,t){if(t===Tn)return e;let n=e.scope_.arrayMethodsPlugin_;const r=e.type_===1&&typeof t=="string";if(r&&n!=null&&n.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const i=Ci(e);if(!XC(i,t,e.type_))return IX(e,i,t);const a=i[t];if(e.finalized_||!zr(a)||r&&e.operationMethod&&(n!=null&&n.isMutatingArrayMethod(e.operationMethod))&&_X(t))return a;if(a===f0(e.base_,t)){pm(e);const s=e.type_===1?+t:t,o=hx(e.scope_,a,e,s);return e.copy_[s]=o}return a},has(e,t){return t in Ci(e)},ownKeys(e){return Reflect.ownKeys(Ci(e))},set(e,t,n){const r=R4(Ci(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=f0(Ci(e),t),a=i==null?void 0:i[Tn];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(xX(n,i)&&(n!==void 0||XC(e.base_,t,e.type_)))return!0;pm(e),dx(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),NX(e,t,n)),!0},deleteProperty(e,t){return pm(e),f0(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),dx(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Ci(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[mm]:!0,[sx]:e.type_!==1||t!=="length",[bp]:r[bp],[Tf]:n[t]}},defineProperty(){Ir(11)},getPrototypeOf(e){return Ql(e.base_)},setPrototypeOf(){Ir(12)}},Nf={};for(let e in Ep){let t=Ep[e];Nf[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}}Nf.deleteProperty=function(e,t){return Nf.set.call(this,e,t,void 0)};Nf.set=function(e,t,n){return Ep.set.call(this,e[0],t,n,e[0])};function f0(e,t){const n=e[Tn];return(n?Ci(n):e)[t]}function IX(e,t,n){var i;const r=R4(t,n);return r?Tf in r?r[Tf]:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function R4(e,t){if(!(t in e))return;let n=Ql(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Ql(n)}}function dx(e){e.modified_||(e.modified_=!0,e.parent_&&dx(e.parent_))}function pm(e){e.copy_||(e.assigned_=new Map,e.copy_=lx(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var PX=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Zo(n)&&!Zo(r)){const s=r;r=n;const o=this;return function(u=s,...c){return o.produce(u,f=>r.call(this,f,...c))}}Zo(r)||Ir(6),i!==void 0&&!Zo(i)&&Ir(7);let a;if(zr(n)){const s=eN(this),o=hx(s,n,void 0);let l=!0;try{a=r(o),l=!1}finally{l?cx(s):fx(s)}return JC(s,i),tN(a,s)}else if(!n||!d1(n)){if(a=r(n),a===void 0&&(a=n),a===T4&&(a=void 0),this.autoFreeze_&&m1(a,!0),i){const s=[],o=[];xo(ux).generateReplacementPatches_(n,a,{patches_:s,inversePatches_:o}),i(s,o)}return a}else Ir(1,n)},this.produceWithPatches=(n,r)=>{if(Zo(n))return(o,...l)=>this.produceWithPatches(o,u=>n(u,...l));let i,a;return[this.produce(n,r,(o,l)=>{i=o,a=l}),i,a]},c0(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),c0(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),c0(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){zr(t)||Ir(8),Ji(t)&&(t=Mr(t));const n=eN(this),r=hx(n,t,void 0);return r[Tn].isManual_=!0,fx(n),r}finishDraft(t,n){const r=t&&t[Tn];(!r||!r.isManual_)&&Ir(9);const{scope_:i}=r;return JC(i,n),tN(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(n=n.slice(r+1));const i=xo(ux).applyPatches_;return Ji(t)?i(t,n):this.produce(t,a=>i(a,n))}};function hx(e,t,n,r){const[i,a]=cy(t)?xo(_p).proxyMap_(t,n):fy(t)?xo(_p).proxySet_(t,n):OX(t,n);return((n==null?void 0:n.scope_)??O4()).drafts_.push(i),a.callbacks_=(n==null?void 0:n.callbacks_)??[],a.key_=r,n&&r!==void 0?CX(n,a,r):a.callbacks_.push(function(l){var c;(c=l.mapSetPlugin_)==null||c.fixSetContents(a);const{patchPlugin_:u}=l;a.modified_&&u&&u.generatePatches_(a,[],l)}),i}function Mr(e){return Ji(e)||Ir(10,e),D4(e)}function D4(e){if(!zr(e)||dy(e))return e;const t=e[Tn];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=lx(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=lx(e,!0);return ly(n,(i,a)=>{xp(n,i,D4(a))},r),t&&(t.finalized_=!1),n}var jX=new PX,k4=jX.produce;function M4(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var RX=M4(),DX=M4,kX=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?yp:yp.apply(null,arguments)};function wr(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(tr(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>A4(r)&&r.type===e,n}var L4=class Ec extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Ec.prototype)}static get[Symbol.species](){return Ec}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Ec(...t[0].concat(this)):new Ec(...t.concat(this))}};function rN(e){return zr(e)?k4(e,()=>{}):e}function Nh(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function MX(e){return typeof e=="boolean"}var LX=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let s=new L4;return n&&(MX(n)?s.push(RX):s.push(DX(n.extraArgument))),s},V4="RTK_autoBatch",Xe=()=>e=>({payload:e,meta:{[V4]:!0}}),iN=e=>t=>{setTimeout(t,e)},U4=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,s=!1;const o=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:iN(10):e.type==="callback"?e.queueNotification:iN(e.timeout),u=()=>{s=!1,a&&(a=!1,o.forEach(c=>c()))};return Object.assign({},r,{subscribe(c){const f=()=>i&&c(),h=r.subscribe(f);return o.add(c),()=>{h(),o.delete(c)}},dispatch(c){var f;try{return i=!((f=c==null?void 0:c.meta)!=null&&f[V4]),a=!i,a&&(s||(s=!0,l(u))),r.dispatch(c)}finally{i=!0}}})},VX=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new L4(e);return r&&i.push(U4(typeof r=="object"?r:void 0)),i};function UX(e){const t=LX(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=e||{};let o;if(typeof n=="function")o=n;else if(f1(n))o=S4(n);else throw new Error(tr(1));let l;typeof r=="function"?l=r(t):l=t();let u=yp;i&&(u=kX({trace:!1,...typeof i=="object"&&i}));const c=vX(...l),f=VX(c);let h=typeof s=="function"?s(f):f();const p=u(...h);return E4(o,a,p)}function z4(e){const t={},n=[];let r;const i={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(tr(28));if(o in t)throw new Error(tr(29));return t[o]=s,i},addAsyncThunk(a,s){return s.pending&&(t[a.pending.type]=s.pending),s.rejected&&(t[a.rejected.type]=s.rejected),s.fulfilled&&(t[a.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return n.push({matcher:a,reducer:s}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}function zX(e){return typeof e=="function"}function BX(e,t){let[n,r,i]=z4(t),a;if(zX(e))a=()=>rN(e());else{const o=rN(e);a=()=>o}function s(o=a(),l){let u=[n[l.type],...r.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,f)=>{if(f)if(Ji(c)){const p=f(c,l);return p===void 0?c:p}else{if(zr(c))return k4(c,h=>f(h,l));{const h=f(c,l);if(h===void 0){if(c===null)return c;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return c},o)}return s.getInitialState=a,s}var $X="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",FX=(e=21)=>{let t="",n=e;for(;n--;)t+=$X[Math.random()*64|0];return t},qX=Symbol.for("rtk-slice-createasyncthunk");function HX(e,t){return`${e}/${t}`}function GX({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[qX];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(tr(11));const o=(typeof i.reducers=="function"?i.reducers(YX()):i.reducers)||{},l=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(T,I){const k=typeof T=="string"?T:T.type;if(!k)throw new Error(tr(12));if(k in u.sliceCaseReducersByType)throw new Error(tr(13));return u.sliceCaseReducersByType[k]=I,c},addMatcher(T,I){return u.sliceMatchers.push({matcher:T,reducer:I}),c},exposeAction(T,I){return u.actionCreators[T]=I,c},exposeCaseReducer(T,I){return u.sliceCaseReducersByName[T]=I,c}};l.forEach(T=>{const I=o[T],k={reducerName:T,type:HX(a,T),createNotation:typeof i.reducers=="function"};XX(I)?ZX(k,I,c,t):WX(k,I,c)});function f(){const[T={},I=[],k=void 0]=typeof i.extraReducers=="function"?z4(i.extraReducers):[i.extraReducers],A={...T,...u.sliceCaseReducersByType};return BX(i.initialState,C=>{for(let N in A)C.addCase(N,A[N]);for(let N of u.sliceMatchers)C.addMatcher(N.matcher,N.reducer);for(let N of I)C.addMatcher(N.matcher,N.reducer);k&&C.addDefaultCase(k)})}const h=T=>T,p=new Map,g=new WeakMap;let _;function b(T,I){return _||(_=f()),_(T,I)}function w(){return _||(_=f()),_.getInitialState()}function x(T,I=!1){function k(C){let N=C[T];return typeof N>"u"&&I&&(N=Nh(g,k,w)),N}function A(C=h){const N=Nh(p,I,()=>new WeakMap);return Nh(N,C,()=>{const j={};for(const[R,P]of Object.entries(i.selectors??{}))j[R]=KX(P,C,()=>Nh(g,C,w),I);return j})}return{reducerPath:T,getSelectors:A,get selectors(){return A(k)},selectSlice:k}}const E={name:a,reducer:b,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:w,...x(s),injectInto(T,{reducerPath:I,...k}={}){const A=I??s;return T.inject({reducerPath:A,reducer:b},k),{...E,...x(A,!0)}}};return E}}function KX(e,t,n,r){function i(a,...s){let o=t(a);return typeof o>"u"&&r&&(o=n()),e(o,...s)}return i.unwrapped=e,i}var Bn=GX();function YX(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function WX({type:e,reducerName:t,createNotation:n},r,i){let a,s;if("reducer"in r){if(n&&!QX(r))throw new Error(tr(17));a=r.reducer,s=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,s?wr(e,s):wr(e))}function XX(e){return e._reducerDefinitionType==="asyncThunk"}function QX(e){return e._reducerDefinitionType==="reducerWithPrepare"}function ZX({type:e,reducerName:t},n,r,i){if(!i)throw new Error(tr(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:l,settled:u,options:c}=n,f=i(e,a,c);r.exposeAction(t,f),s&&r.addCase(f.fulfilled,s),o&&r.addCase(f.pending,o),l&&r.addCase(f.rejected,l),u&&r.addMatcher(f.settled,u),r.exposeCaseReducer(t,{fulfilled:s||Oh,pending:o||Oh,rejected:l||Oh,settled:u||Oh})}function Oh(){}var JX="task",B4="listener",$4="completed",p1="cancelled",eQ=`task-${p1}`,tQ=`task-${$4}`,mx=`${B4}-${p1}`,nQ=`${B4}-${$4}`,my=class{constructor(e){sv(this,"name","TaskAbortError");sv(this,"message");this.code=e,this.message=`${JX} ${p1} (reason: ${e})`}},g1=(e,t)=>{if(typeof e!="function")throw new TypeError(tr(32))},Sp=()=>{},F4=(e,t=Sp)=>(e.catch(t),e),q4=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),no=e=>{if(e.aborted)throw new my(e.reason)};function H4(e,t){let n=Sp;return new Promise((r,i)=>{const a=()=>i(new my(e.reason));if(e.aborted){a();return}n=q4(e,a),t.finally(()=>n()).then(r,i)}).finally(()=>{n=Sp})}var rQ=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof my?"cancelled":"rejected",error:n}}finally{t==null||t()}},Ap=e=>t=>F4(H4(e,t).then(n=>(no(e),n))),G4=e=>{const t=Ap(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Nl}=Object,aN={},py="listenerMiddleware",iQ=(e,t)=>{const n=r=>q4(e,()=>r.abort(e.reason));return(r,i)=>{g1(r);const a=new AbortController;n(a);const s=rQ(async()=>{no(e),no(a.signal);const o=await r({pause:Ap(a.signal),delay:G4(a.signal),signal:a.signal});return no(a.signal),o},()=>a.abort(tQ));return i!=null&&i.autoJoin&&t.push(s.catch(Sp)),{result:Ap(e)(s),cancel(){a.abort(eQ)}}}},aQ=(e,t)=>{const n=async(r,i)=>{no(t);let a=()=>{};const o=[new Promise((l,u)=>{let c=e({predicate:r,effect:(f,h)=>{h.unsubscribe(),l([f,h.getState(),h.getOriginalState()])}});a=()=>{c(),u()}})];i!=null&&o.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await H4(t,Promise.race(o));return no(t),l}finally{a()}};return(r,i)=>F4(n(r,i))},K4=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=wr(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(tr(21));return g1(a),{predicate:i,type:t,effect:a}},Y4=Nl(e=>{const{type:t,predicate:n,effect:r}=K4(e);return{id:FX(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(tr(22))}}},{withTypes:()=>Y4}),sN=(e,t)=>{const{type:n,effect:r,predicate:i}=K4(t);return Array.from(e.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},px=e=>{e.pending.forEach(t=>{t.abort(mx)})},sQ=(e,t)=>()=>{for(const n of t.keys())px(n);e.clear()},oN=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},W4=Nl(wr(`${py}/add`),{withTypes:()=>W4}),oQ=wr(`${py}/removeAll`),X4=Nl(wr(`${py}/remove`),{withTypes:()=>X4}),lQ=(...e)=>{console.error(`${py}/error`,...e)},vd=(e={})=>{const t=new Map,n=new Map,r=p=>{const g=n.get(p)??0;n.set(p,g+1)},i=p=>{const g=n.get(p)??1;g===1?n.delete(p):n.set(p,g-1)},{extra:a,onError:s=lQ}=e;g1(s);const o=p=>(p.unsubscribe=()=>t.delete(p.id),t.set(p.id,p),g=>{p.unsubscribe(),g!=null&&g.cancelActive&&px(p)}),l=p=>{const g=sN(t,p)??Y4(p);return o(g)};Nl(l,{withTypes:()=>l});const u=p=>{const g=sN(t,p);return g&&(g.unsubscribe(),p.cancelActive&&px(g)),!!g};Nl(u,{withTypes:()=>u});const c=async(p,g,_,b)=>{const w=new AbortController,x=aQ(l,w.signal),E=[];try{p.pending.add(w),r(p),await Promise.resolve(p.effect(g,Nl({},_,{getOriginalState:b,condition:(T,I)=>x(T,I).then(Boolean),take:x,delay:G4(w.signal),pause:Ap(w.signal),extra:a,signal:w.signal,fork:iQ(w.signal,E),unsubscribe:p.unsubscribe,subscribe:()=>{t.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((T,I,k)=>{T!==w&&(T.abort(mx),k.delete(T))})},cancel:()=>{w.abort(mx),p.pending.delete(w)},throwIfCancelled:()=>{no(w.signal)}})))}catch(T){T instanceof my||oN(s,T,{raisedBy:"effect"})}finally{await Promise.all(E),w.abort(nQ),i(p),p.pending.delete(w)}},f=sQ(t,n);return{middleware:p=>g=>_=>{if(!A4(_))return g(_);if(W4.match(_))return l(_.payload);if(oQ.match(_)){f();return}if(X4.match(_))return u(_.payload);let b=p.getState();const w=()=>{if(b===aN)throw new Error(tr(23));return b};let x;try{if(x=g(_),t.size>0){const E=p.getState(),T=Array.from(t.values());for(const I of T){let k=!1;try{k=I.predicate(_,E,b)}catch(A){k=!1,oN(s,A,{raisedBy:"predicate"})}k&&c(I,_,p,w)}}}finally{b=aN}return x},startListening:l,stopListening:u,clearListeners:f}};function tr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var uQ={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},Q4=Bn({name:"chartLayout",initialState:uQ,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:cQ,setLayout:fQ,setChartSize:dQ,setScale:hQ}=Q4.actions,mQ=Q4.reducer;function Z4(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function be(e){return Number.isFinite(e)}function mi(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function lN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lN(Object(n),!0).forEach(function(r){pQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pQ(e,t,n){return(t=gQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gQ(e){var t=yQ(e,"string");return typeof t=="symbol"?t:t+""}function yQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function on(e,t,n){return vn(e)||vn(t)?n:hi(t)?ny(e,t,n):typeof t=="function"?t(e):n}var vQ=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:s,layout:o}=t;if((o==="vertical"||o==="horizontal"&&s==="middle")&&a!=="center"&&Q(e[a]))return dl(dl({},e),{},{[a]:e[a]+(r||0)});if((o==="horizontal"||o==="vertical"&&a==="center")&&s!=="middle"&&Q(e[s]))return dl(dl({},e),{},{[s]:e[s]+(i||0)})}return e},bi=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",J4=(e,t,n,r)=>{if(r)return e.map(o=>o.coordinate);var i,a,s=e.map(o=>(o.coordinate===t&&(i=!0),o.coordinate===n&&(a=!0),o.coordinate));return i||s.push(t),a||s.push(n),s},eL=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:s,realScaleType:o,isCategorical:l,categoricalDomain:u,tickCount:c,ticks:f,niceTicks:h,axisType:p}=e;if(!s)return null;var g=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,_=i==="category"&&s.bandwidth?s.bandwidth()/g:0;if(_=p==="angleAxis"&&a&&a.length>=2?pr(a[0]-a[1])*2*_:_,f||h){var b=(f||h||[]).map((w,x)=>{var E=r?r.indexOf(w):w,T=s.map(E);return be(T)?{coordinate:T+_,value:w,offset:_,index:x}:null}).filter(kn);return b}return l&&u?u.map((w,x)=>{var E=s.map(w);return be(E)?{coordinate:E+_,value:w,index:x,offset:_}:null}).filter(kn):s.ticks&&c!=null?s.ticks(c).map((w,x)=>{var E=s.map(w);return be(E)?{coordinate:E+_,value:w,index:x,offset:_}:null}).filter(kn):s.domain().map((w,x)=>{var E=s.map(w);return be(E)?{coordinate:E+_,value:r?r[w]:w,index:x,offset:_}:null}).filter(kn)},bQ=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,s=0,o=0;o<n;++o){var l=e[o],u=l==null?void 0:l[i];if(u!=null){var c=u[1],f=u[0],h=di(c)?f:c;h>=0?(u[0]=a,a+=h,u[1]=a):(u[0]=s,s+=h,u[1]=s)}}}},xQ=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,s=0;s<n;++s){var o=e[s],l=o==null?void 0:o[i];if(l!=null){var u=di(l[1])?l[0]:l[1];u>=0?(l[0]=a,a+=u,l[1]=a):(l[0]=0,l[1]=0)}}}},_Q={sign:bQ,expand:bW,none:vo,silhouette:xW,wiggle:_W,positive:xQ},wQ=(e,t,n)=>{var r,i=(r=_Q[n])!==null&&r!==void 0?r:vo,a=vW().keys(t).value((o,l)=>Number(on(o,l,0))).order(ax).offset(i),s=a(e);return s.forEach((o,l)=>{o.forEach((u,c)=>{var f=on(e[c],t[l],0);Array.isArray(f)&&f.length===2&&Q(f[0])&&Q(f[1])&&(u[0]=f[0],u[1]=f[1])})}),s};function EQ(e){return e==null?void 0:String(e)}function uN(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:a,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!vn(i[t.dataKey])){var o=GM(n,"value",i[t.dataKey]);if(o)return o.coordinate+r/2}return n!=null&&n[a]?n[a].coordinate+r/2:null}var l=on(i,vn(s)?t.dataKey:s),u=t.scale.map(l);return Q(u)?u:null}var SQ=e=>{var t=e.flat(2).filter(Q);return[Math.min(...t),Math.max(...t)]},AQ=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],TQ=(e,t,n)=>{if(e!=null)return AQ(Object.keys(e).reduce((r,i)=>{var a=e[i];if(!a)return r;var{stackedData:s}=a,o=s.reduce((l,u)=>{var c=Z4(u,t,n),f=SQ(c);return!be(f[0])||!be(f[1])?l:[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]))},cN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,fN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Tp=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=sy(t,c=>c.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var l=i[s],u=i[s-1];a=Math.min(((l==null?void 0:l.coordinate)||0)-((u==null?void 0:u.coordinate)||0),a)}return a===1/0?0:a}return n?void 0:0};function dN(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return dl(dl({},t),{},{dataKey:n,payload:r,value:i,name:a})}function tL(e,t){if(e)return String(e);if(typeof t=="string")return t}var CQ=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},NQ=(e,t)=>t==="centric"?e.angle:e.radius,oa=e=>e.layout.width,la=e=>e.layout.height,OQ=e=>e.layout.scale,nL=e=>e.layout.margin,gy=V(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),yy=V(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),IQ="data-recharts-item-index",PQ="data-recharts-item-id",bd=60;function hN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ih(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hN(Object(n),!0).forEach(function(r){jQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jQ(e,t,n){return(t=RQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RQ(e){var t=DQ(e,"string");return typeof t=="symbol"?t:t+""}function DQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kQ=e=>e.brush.height;function MQ(e){var t=yy(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:bd;return n+i}return n},0)}function LQ(e){var t=yy(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:bd;return n+i}return n},0)}function VQ(e){var t=gy(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function UQ(e){var t=gy(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var un=V([oa,la,nL,kQ,MQ,LQ,VQ,UQ,w4,dX],(e,t,n,r,i,a,s,o,l,u)=>{var c={left:(n.left||0)+i,right:(n.right||0)+a},f={top:(n.top||0)+s,bottom:(n.bottom||0)+o},h=Ih(Ih({},f),c),p=h.bottom;h.bottom+=r,h=vQ(h,l,u);var g=e-h.left-h.right,_=t-h.top-h.bottom;return Ih(Ih({brushBottom:p},h),{},{width:Math.max(g,0),height:Math.max(_,0)})}),zQ=V(un,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),rL=V(oa,la,(e,t)=>({x:0,y:0,width:e,height:t})),BQ=v.createContext(null),$n=()=>v.useContext(BQ)!=null,vy=e=>e.brush,by=V([vy,un,nL],(e,t,n)=>({height:e.height,x:Q(e.x)?e.x:t.left,y:Q(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:Q(e.width)?e.width:t.width})),iL={},aL={},sL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:a}={}){let s,o=null;const l=a!=null&&a.includes("leading"),u=a==null||a.includes("trailing"),c=()=>{o!==null&&(n.apply(s,o),s=void 0,o=null)},f=()=>{u&&c(),_()};let h=null;const p=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},r)},g=()=>{h!==null&&(clearTimeout(h),h=null)},_=()=>{g(),s=void 0,o=null},b=()=>{c()},w=function(...x){if(i!=null&&i.aborted)return;s=this,o=x;const E=h==null;p(),l&&E&&c()};return w.schedule=p,w.cancel=_,w.flush=b,i==null||i.addEventListener("abort",_,{once:!0}),w}e.debounce=t})(sL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sL;function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:o=!0,maxWait:l}=a,u=Array(2);s&&(u[0]="leading"),o&&(u[1]="trailing");let c,f=null;const h=t.debounce(function(..._){c=r.apply(this,_),f=null},i,{edges:u}),p=function(..._){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(c=r.apply(this,_),f=Date.now(),h.cancel(),h.schedule(),c):(h.apply(this,_),c)},g=()=>(h.flush(),c);return p.cancel=h.cancel,p.flush=g,p}e.debounce=n})(aL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aL;function n(r,i=0,a={}){const{leading:s=!0,trailing:o=!0}=a;return t.debounce(r,i,{leading:s,maxWait:i,trailing:o})}e.throttle=n})(iL);var $Q=iL.throttle;const FQ=xs($Q);var Cp=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(n.replace(/%s/g,()=>i[s++]))}},ei={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},oL=(e,t,n)=>{var{width:r=ei.width,height:i=ei.height,aspect:a,maxHeight:s}=n,o=bo(r)?e:Number(r),l=bo(i)?t:Number(i);return a&&a>0&&(o?l=o/a:l&&(o=l*a),s&&l!=null&&l>s&&(l=s)),{calculatedWidth:o,calculatedHeight:l}},qQ={width:0,height:0,overflow:"visible"},HQ={width:0,overflowX:"visible"},GQ={height:0,overflowY:"visible"},KQ={},YQ=e=>{var{width:t,height:n}=e,r=bo(t),i=bo(n);return r&&i?qQ:r?HQ:i?GQ:KQ};function WQ(e){var{width:t,height:n,aspect:r}=e,i=t,a=n;return i===void 0&&a===void 0?(i=ei.width,a=ei.height):i===void 0?i=r&&r>0?void 0:ei.width:a===void 0&&(a=r&&r>0?void 0:ei.height),{width:i,height:a}}function gx(){return gx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gx.apply(null,arguments)}function mN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mN(Object(n),!0).forEach(function(r){XQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XQ(e,t,n){return(t=QQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QQ(e){var t=ZQ(e,"string");return typeof t=="symbol"?t:t+""}function ZQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lL=v.createContext(ei.initialDimension);function JQ(e){return mi(e.width)&&mi(e.height)}function uL(e){var{children:t,width:n,height:r}=e,i=v.useMemo(()=>({width:n,height:r}),[n,r]);return JQ(i)?v.createElement(lL.Provider,{value:i},t):null}var y1=()=>v.useContext(lL),eZ=v.forwardRef((e,t)=>{var{aspect:n,initialDimension:r=ei.initialDimension,width:i,height:a,minWidth:s=ei.minWidth,minHeight:o,maxHeight:l,children:u,debounce:c=ei.debounce,id:f,className:h,onResize:p,style:g={}}=e,_=v.useRef(null),b=v.useRef();b.current=p,v.useImperativeHandle(t,()=>_.current);var[w,x]=v.useState({containerWidth:r.width,containerHeight:r.height}),E=v.useCallback((C,N)=>{x(j=>{var R=Math.round(C),P=Math.round(N);return j.containerWidth===R&&j.containerHeight===P?j:{containerWidth:R,containerHeight:P}})},[]);v.useEffect(()=>{if(_.current==null||typeof ResizeObserver>"u")return _u;var C=P=>{var D,Z=P[0];if(Z!=null){var{width:oe,height:q}=Z.contentRect;E(oe,q),(D=b.current)===null||D===void 0||D.call(b,oe,q)}};c>0&&(C=FQ(C,c,{trailing:!0,leading:!1}));var N=new ResizeObserver(C),{width:j,height:R}=_.current.getBoundingClientRect();return E(j,R),N.observe(_.current),()=>{N.disconnect()}},[E,c]);var{containerWidth:T,containerHeight:I}=w;Cp(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:k,calculatedHeight:A}=oL(T,I,{width:i,height:a,aspect:n,maxHeight:l});return Cp(k!=null&&k>0||A!=null&&A>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,k,A,i,a,s,o,n),v.createElement("div",{id:f?"".concat(f):void 0,className:Ke("recharts-responsive-container",h),style:pN(pN({},g),{},{width:i,height:a,minWidth:s,minHeight:o,maxHeight:l}),ref:_},v.createElement("div",{style:YQ({width:i,height:a})},v.createElement(uL,{width:k,height:A},u)))}),tZ=v.forwardRef((e,t)=>{var n=y1();if(mi(n.width)&&mi(n.height))return e.children;var{width:r,height:i}=WQ({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:s}=oL(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return Q(a)&&Q(s)?v.createElement(uL,{width:a,height:s},e.children):v.createElement(eZ,gx({},e,{width:r,height:i,ref:t}))});function v1(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var xy=()=>{var e,t=$n(),n=ee(zQ),r=ee(by),i=(e=ee(vy))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},nZ={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},cL=()=>{var e;return(e=ee(un))!==null&&e!==void 0?e:nZ},fL=()=>ee(oa),dL=()=>ee(la),Ze=e=>e.layout.layoutType,wu=()=>ee(Ze),b1=()=>{var e=wu();if(e==="horizontal"||e==="vertical")return e},hL=e=>{var t=e.layout.layoutType;if(t==="centric"||t==="radial")return t},rZ=()=>{var e=wu();return e!==void 0},xd=e=>{var t=$t(),n=$n(),{width:r,height:i}=e,a=y1(),s=r,o=i;return a&&(s=a.width>0?a.width:r,o=a.height>0?a.height:i),v.useEffect(()=>{!n&&mi(s)&&mi(o)&&t(dQ({width:s,height:o}))},[t,n,s,o]),null},mL=Symbol.for("immer-nothing"),gN=Symbol.for("immer-draftable"),ir=Symbol.for("immer-state");function Pr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Of=Object.getPrototypeOf;function Zl(e){return!!e&&!!e[ir]}function _o(e){var t;return e?pL(e)||Array.isArray(e)||!!e[gN]||!!((t=e.constructor)!=null&&t[gN])||_d(e)||wy(e):!1}var iZ=Object.prototype.constructor.toString(),yN=new WeakMap;function pL(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=yN.get(n);return r===void 0&&(r=Function.toString.call(n),yN.set(n,r)),r===iZ}function Np(e,t,n=!0){_y(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function _y(e){const t=e[ir];return t?t.type_:Array.isArray(e)?1:_d(e)?2:wy(e)?3:0}function yx(e,t){return _y(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function gL(e,t,n){const r=_y(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function aZ(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function _d(e){return e instanceof Map}function wy(e){return e instanceof Set}function Fs(e){return e.copy_||e.base_}function vx(e,t){if(_d(e))return new Map(e);if(wy(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=pL(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[ir];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],o=r[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(Of(e),r)}else{const r=Of(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function x1(e,t=!1){return Ey(e)||Zl(e)||!_o(e)||(_y(e)>1&&Object.defineProperties(e,{set:Ph,add:Ph,clear:Ph,delete:Ph}),Object.freeze(e),t&&Object.values(e).forEach(n=>x1(n,!0))),e}function sZ(){Pr(2)}var Ph={value:sZ};function Ey(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var oZ={};function wo(e){const t=oZ[e];return t||Pr(0,e),t}var If;function yL(){return If}function lZ(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function vN(e,t){t&&(wo("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function bx(e){xx(e),e.drafts_.forEach(uZ),e.drafts_=null}function xx(e){e===If&&(If=e.parent_)}function bN(e){return If=lZ(If,e)}function uZ(e){const t=e[ir];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function xN(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[ir].modified_&&(bx(t),Pr(4)),_o(e)&&(e=Op(t,e),t.parent_||Ip(t,e)),t.patches_&&wo("Patches").generateReplacementPatches_(n[ir].base_,e,t.patches_,t.inversePatches_)):e=Op(t,n,[]),bx(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==mL?e:void 0}function Op(e,t,n){if(Ey(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[ir];if(!i)return Np(t,(a,s)=>_N(e,i,t,a,s,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return Ip(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,o=!1;i.type_===3&&(s=new Set(a),a.clear(),o=!0),Np(s,(l,u)=>_N(e,i,a,l,u,n,o),r),Ip(e,a,!1),n&&e.patches_&&wo("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function _N(e,t,n,r,i,a,s){if(i==null||typeof i!="object"&&!s)return;const o=Ey(i);if(!(o&&!s)){if(Zl(i)){const l=a&&t&&t.type_!==3&&!yx(t.assigned_,r)?a.concat(r):void 0,u=Op(e,i,l);if(gL(n,r,u),Zl(u))e.canAutoFreeze_=!1;else return}else s&&n.add(i);if(_o(i)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&o)return;Op(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(_d(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Ip(e,i)}}}function Ip(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&x1(t,n)}function cZ(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:yL(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=_1;n&&(i=[r],a=Pf);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,o}var _1={get(e,t){if(t===ir)return e;const n=Fs(e);if(!yx(n,t))return fZ(e,n,t);const r=n[t];return e.finalized_||!_o(r)?r:r===d0(e.base_,t)?(h0(e),e.copy_[t]=wx(r,e)):r},has(e,t){return t in Fs(e)},ownKeys(e){return Reflect.ownKeys(Fs(e))},set(e,t,n){const r=vL(Fs(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=d0(Fs(e),t),a=i==null?void 0:i[ir];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(aZ(n,i)&&(n!==void 0||yx(e.base_,t)))return!0;h0(e),_x(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return d0(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,h0(e),_x(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Fs(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Pr(11)},getPrototypeOf(e){return Of(e.base_)},setPrototypeOf(){Pr(12)}},Pf={};Np(_1,(e,t)=>{Pf[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Pf.deleteProperty=function(e,t){return Pf.set.call(this,e,t,void 0)};Pf.set=function(e,t,n){return _1.set.call(this,e[0],t,n,e[0])};function d0(e,t){const n=e[ir];return(n?Fs(n):e)[t]}function fZ(e,t,n){var i;const r=vL(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function vL(e,t){if(!(t in e))return;let n=Of(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Of(n)}}function _x(e){e.modified_||(e.modified_=!0,e.parent_&&_x(e.parent_))}function h0(e){e.copy_||(e.copy_=vx(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var dZ=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const s=this;return function(l=a,...u){return s.produce(l,c=>n.call(this,c,...u))}}typeof n!="function"&&Pr(6),r!==void 0&&typeof r!="function"&&Pr(7);let i;if(_o(t)){const a=bN(this),s=wx(t,void 0);let o=!0;try{i=n(s),o=!1}finally{o?bx(a):xx(a)}return vN(a,r),xN(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===mL&&(i=void 0),this.autoFreeze_&&x1(i,!0),r){const a=[],s=[];wo("Patches").generateReplacementPatches_(t,i,a,s),r(a,s)}return i}else Pr(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...o)=>this.produceWithPatches(s,l=>t(l,...o));let r,i;return[this.produce(t,n,(s,o)=>{r=s,i=o}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){_o(e)||Pr(8),Zl(e)&&(e=hZ(e));const t=bN(this),n=wx(e,void 0);return n[ir].isManual_=!0,xx(t),n}finishDraft(e,t){const n=e&&e[ir];(!n||!n.isManual_)&&Pr(9);const{scope_:r}=n;return vN(r,t),xN(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=wo("Patches").applyPatches_;return Zl(e)?r(e,t):this.produce(e,i=>r(i,t))}};function wx(e,t){const n=_d(e)?wo("MapSet").proxyMap_(e,t):wy(e)?wo("MapSet").proxySet_(e,t):cZ(e,t);return(t?t.scope_:yL()).drafts_.push(n),n}function hZ(e){return Zl(e)||Pr(10,e),bL(e)}function bL(e){if(!_o(e)||Ey(e))return e;const t=e[ir];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=vx(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=vx(e,!0);return Np(n,(i,a)=>{gL(n,i,bL(a))},r),t&&(t.finalized_=!1),n}var mZ=new dZ;mZ.produce;var pZ={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},xL=Bn({name:"legend",initialState:pZ,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Xe()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Mr(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:Xe()},removeLegendPayload:{reducer(e,t){var n=Mr(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:Xe()}}}),{setLegendSize:gfe,setLegendSettings:yfe,addLegendPayload:gZ,replaceLegendPayload:yZ,removeLegendPayload:vZ}=xL.actions,bZ=xL.reducer;function Ex(){return Ex=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ex.apply(null,arguments)}function wN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ic(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wN(Object(n),!0).forEach(function(r){xZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xZ(e,t,n){return(t=_Z(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _Z(e){var t=wZ(e,"string");return typeof t=="symbol"?t:t+""}function wZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EZ(e){return Array.isArray(e)&&hi(e[0])&&hi(e[1])?e.join(" ~ "):e}var Bo={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},SZ=e=>{var{separator:t=Bo.separator,contentStyle:n,itemStyle:r,labelStyle:i=Bo.labelStyle,payload:a,formatter:s,itemSorter:o,wrapperClassName:l,labelClassName:u,label:c,labelFormatter:f,accessibilityLayer:h=Bo.accessibilityLayer}=e,p=()=>{if(a&&a.length){var I={padding:0,margin:0},k=(o?sy(a,o):a).map((A,C)=>{if(A.type==="none")return null;var N=A.formatter||s||EZ,{value:j,name:R}=A,P=j,D=R;if(N){var Z=N(j,R,A,C,a);if(Array.isArray(Z))[P,D]=Z;else if(Z!=null)P=Z;else return null}var oe=ic(ic({},Bo.itemStyle),{},{color:A.color||Bo.itemStyle.color},r);return v.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(C),style:oe},hi(D)?v.createElement("span",{className:"recharts-tooltip-item-name"},D):null,hi(D)?v.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,v.createElement("span",{className:"recharts-tooltip-item-value"},P),v.createElement("span",{className:"recharts-tooltip-item-unit"},A.unit||""))});return v.createElement("ul",{className:"recharts-tooltip-item-list",style:I},k)}return null},g=ic(ic({},Bo.contentStyle),n),_=ic({margin:0},i),b=!vn(c),w=b?c:"",x=Ke("recharts-default-tooltip",l),E=Ke("recharts-tooltip-label",u);b&&f&&a!==void 0&&a!==null&&(w=f(c,a));var T=h?{role:"status","aria-live":"assertive"}:{};return v.createElement("div",Ex({className:x,style:g},T),v.createElement("p",{className:E,style:_},v.isValidElement(w)?w:"".concat(w)),p())},ac="recharts-tooltip-wrapper",AZ={visibility:"hidden"};function TZ(e){var{coordinate:t,translateX:n,translateY:r}=e;return Ke(ac,{["".concat(ac,"-right")]:Q(n)&&t&&Q(t.x)&&n>=t.x,["".concat(ac,"-left")]:Q(n)&&t&&Q(t.x)&&n<t.x,["".concat(ac,"-bottom")]:Q(r)&&t&&Q(t.y)&&r>=t.y,["".concat(ac,"-top")]:Q(r)&&t&&Q(t.y)&&r<t.y})}function EN(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offset:i,position:a,reverseDirection:s,tooltipDimension:o,viewBox:l,viewBoxDimension:u}=e;if(a&&Q(a[r]))return a[r];var c=n[r]-o-(i>0?i:0),f=n[r]+i;if(t[r])return s[r]?c:f;var h=l[r];if(h==null)return 0;if(s[r]){var p=c,g=h;return p<g?Math.max(f,h):Math.max(c,h)}if(u==null)return 0;var _=f+o,b=h+u;return _>b?Math.max(c,h):Math.max(f,h)}function CZ(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function NZ(e){var{allowEscapeViewBox:t,coordinate:n,offsetTop:r,offsetLeft:i,position:a,reverseDirection:s,tooltipBox:o,useTranslate3d:l,viewBox:u}=e,c,f,h;return o.height>0&&o.width>0&&n?(f=EN({allowEscapeViewBox:t,coordinate:n,key:"x",offset:i,position:a,reverseDirection:s,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),h=EN({allowEscapeViewBox:t,coordinate:n,key:"y",offset:r,position:a,reverseDirection:s,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),c=CZ({translateX:f,translateY:h,useTranslate3d:l})):c=AZ,{cssProperties:c,cssClasses:TZ({translateX:f,translateY:h,coordinate:n})}}function SN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SN(Object(n),!0).forEach(function(r){Sx(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Sx(e,t,n){return(t=OZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OZ(e){var t=IZ(e,"string");return typeof t=="symbol"?t:t+""}function IZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class PZ extends v.PureComponent{constructor(){super(...arguments),Sx(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Sx(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:s,hasPayload:o,isAnimationActive:l,offset:u,position:c,reverseDirection:f,useTranslate3d:h,viewBox:p,wrapperStyle:g,lastBoundingBox:_,innerRef:b,hasPortalFromProps:w}=this.props,x=typeof u=="number"?u:u.x,E=typeof u=="number"?u:u.y,{cssClasses:T,cssProperties:I}=NZ({allowEscapeViewBox:n,coordinate:s,offsetLeft:x,offsetTop:E,position:c,reverseDirection:f,tooltipBox:{height:_.height,width:_.width},useTranslate3d:h,viewBox:p}),k=w?{}:jh(jh({transition:l&&t?"transform ".concat(r,"ms ").concat(i):void 0},I),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),A=jh(jh({},k),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},g);return v.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:T,style:A,ref:b},a)}}var _L=()=>{var e;return(e=ee(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Ax(){return Ax=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ax.apply(null,arguments)}function AN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function TN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AN(Object(n),!0).forEach(function(r){jZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jZ(e,t,n){return(t=RZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RZ(e){var t=DZ(e,"string");return typeof t=="symbol"?t:t+""}function DZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CN={curveBasisClosed:oW,curveBasisOpen:lW,curveBasis:sW,curveBumpX:iW,curveBumpY:aW,curveLinearClosed:uW,curveLinear:Qg,curveMonotoneX:cW,curveMonotoneY:fW,curveNatural:dW,curveStep:hW,curveStepAfter:pW,curveStepBefore:mW},Pp=e=>be(e.x)&&be(e.y),NN=e=>e.base!=null&&Pp(e.base)&&Pp(e),sc=e=>e.x,oc=e=>e.y,kZ=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(Zw(e));if((n==="curveMonotone"||n==="curveBump")&&t){var r=CN["".concat(n).concat(t==="vertical"?"Y":"X")];if(r)return r}return CN[n]||Qg},ON={connectNulls:!1,type:"linear"},MZ=e=>{var{type:t=ON.type,points:n=[],baseLine:r,layout:i,connectNulls:a=ON.connectNulls}=e,s=kZ(t,i),o=a?n.filter(Pp):n;if(Array.isArray(r)){var l,u=n.map((g,_)=>TN(TN({},g),{},{base:r[_]}));i==="vertical"?l=Sh().y(oc).x1(sc).x0(g=>g.base.x):l=Sh().x(sc).y1(oc).y0(g=>g.base.y);var c=l.defined(NN).curve(s),f=a?u.filter(NN):u;return c(f)}var h;i==="vertical"&&Q(r)?h=Sh().y(oc).x1(sc).x0(r):Q(r)?h=Sh().x(sc).y1(oc).y0(r):h=DM().x(sc).y(oc);var p=h.defined(Pp).curve(s);return p(o)},gm=e=>{var{className:t,points:n,path:r,pathRef:i}=e,a=wu();if((!n||!n.length)&&!r)return null;var s={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||a,connectNulls:e.connectNulls},o=n&&n.length?MZ(s):r;return v.createElement("path",Ax({},Ur(e),Jw(e),{className:Ke("recharts-curve",t),d:o===null?void 0:o,ref:i}))},LZ=["x","y","top","left","width","height","className"];function Tx(){return Tx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tx.apply(null,arguments)}function IN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function VZ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IN(Object(n),!0).forEach(function(r){UZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UZ(e,t,n){return(t=zZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zZ(e){var t=BZ(e,"string");return typeof t=="symbol"?t:t+""}function BZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $Z(e,t){if(e==null)return{};var n,r,i=FZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function FZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var qZ=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),HZ=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:s=0,className:o}=e,l=$Z(e,LZ),u=VZ({x:t,y:n,top:r,left:i,width:a,height:s},l);return!Q(t)||!Q(n)||!Q(a)||!Q(s)||!Q(r)||!Q(i)?null:v.createElement("path",Tx({},_r(u),{className:Ke("recharts-cross",o),d:qZ(t,n,a,s,r,i)}))};function GZ(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function PN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PN(Object(n),!0).forEach(function(r){KZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KZ(e,t,n){return(t=YZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YZ(e){var t=WZ(e,"string");return typeof t=="symbol"?t:t+""}function WZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XZ=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),QZ=(e,t,n)=>e.map(r=>"".concat(XZ(r)," ").concat(t,"ms ").concat(n)).join(","),ZZ=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),jf=(e,t)=>Object.keys(t).reduce((n,r)=>jN(jN({},n),{},{[r]:e(r,t[r])}),{});function RN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function St(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RN(Object(n),!0).forEach(function(r){JZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JZ(e,t,n){return(t=eJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eJ(e){var t=tJ(e,"string");return typeof t=="symbol"?t:t+""}function tJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jp=(e,t,n)=>e+(t-e)*n,Cx=e=>{var{from:t,to:n}=e;return t!==n},wL=(e,t,n)=>{var r=jf((i,a)=>{if(Cx(a)){var[s,o]=e(a.from,a.to,a.velocity);return St(St({},a),{},{from:s,velocity:o})}return a},t);return n<1?jf((i,a)=>Cx(a)&&r[i]!=null?St(St({},a),{},{velocity:jp(a.velocity,r[i].velocity,n),from:jp(a.from,r[i].from,n)}):a,t):wL(e,r,n-1)};function nJ(e,t,n,r,i,a){var s,o=r.reduce((h,p)=>St(St({},h),{},{[p]:{from:e[p],velocity:0,to:t[p]}}),{}),l=()=>jf((h,p)=>p.from,o),u=()=>!Object.values(o).filter(Cx).length,c=null,f=h=>{s||(s=h);var p=h-s,g=p/n.dt;o=wL(n,o,g),i(St(St(St({},e),t),l())),s=h,u()||(c=a.setTimeout(f))};return()=>(c=a.setTimeout(f),()=>{var h;(h=c)===null||h===void 0||h()})}function rJ(e,t,n,r,i,a,s){var o=null,l=i.reduce((f,h)=>{var p=e[h],g=t[h];return p==null||g==null?f:St(St({},f),{},{[h]:[p,g]})},{}),u,c=f=>{u||(u=f);var h=(f-u)/r,p=jf((_,b)=>jp(...b,n(h)),l);if(a(St(St(St({},e),t),p)),h<1)o=s.setTimeout(c);else{var g=jf((_,b)=>jp(...b,n(1)),l);a(St(St(St({},e),t),g))}};return()=>(o=s.setTimeout(c),()=>{var f;(f=o)===null||f===void 0||f()})}const iJ=(e,t,n,r,i,a)=>{var s=ZZ(e,t);return n==null?()=>(i(St(St({},e),t)),()=>{}):n.isStepper===!0?nJ(e,t,n,s,i,a):rJ(e,t,n,r,s,i,a)};var Rp=1e-4,EL=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],SL=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),DN=(e,t)=>n=>{var r=EL(e,t);return SL(r,n)},aJ=(e,t)=>n=>{var r=EL(e,t),i=[...r.map((a,s)=>a*s).slice(1),0];return SL(i,n)},sJ=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(r==null||r.length!==4)return null;var i=r.map(a=>parseFloat(a));return[i[0],i[1],i[2],i[3]]},oJ=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=sJ(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},lJ=(e,t,n,r)=>{var i=DN(e,n),a=DN(t,r),s=aJ(e,n),o=u=>u>1?1:u<0?0:u,l=u=>{for(var c=u>1?1:u,f=c,h=0;h<8;++h){var p=i(f)-c,g=s(f);if(Math.abs(p-c)<Rp||g<Rp)return a(f);f=o(f-p/g)}return a(f)};return l.isStepper=!1,l},kN=function(){return lJ(...oJ(...arguments))},uJ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,a=(s,o,l)=>{var u=-(s-o)*n,c=l*r,f=l+(u-c)*i/1e3,h=l*i/1e3+s;return Math.abs(h-o)<Rp&&Math.abs(f)<Rp?[o,0]:[h,f]};return a.isStepper=!0,a.dt=i,a},cJ=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return kN(e);case"spring":return uJ();default:if(e.split("(")[0]==="cubic-bezier")return kN(e)}return typeof e=="function"?e:null};function fJ(e){var t,n=()=>null,r=!1,i=null,a=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,[l,...u]=o;if(typeof l=="number"){i=e.setTimeout(a.bind(null,u),l);return}a(l),i=e.setTimeout(a.bind(null,u));return}typeof s=="string"&&(t=s,n(t)),typeof s=="object"&&(t=s,n(t)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),a(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>e}}class dJ{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=s=>{s-r>=n?t(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function hJ(){return fJ(new dJ)}var mJ=v.createContext(hJ);function pJ(e,t){var n=v.useContext(mJ);return v.useMemo(()=>t??n(e),[e,t,n])}var gJ=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),wd={isSsr:gJ()},yJ={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},MN={t:0},m0={t:1};function AL(e){var t=ar(e,yJ),{isActive:n,canBegin:r,duration:i,easing:a,begin:s,onAnimationEnd:o,onAnimationStart:l,children:u}=t,c=n==="auto"?!wd.isSsr:n,f=pJ(t.animationId,t.animationManager),[h,p]=v.useState(c?MN:m0),g=v.useRef(null);return v.useEffect(()=>{c||p(m0)},[c]),v.useEffect(()=>{if(!c||!r)return _u;var _=iJ(MN,m0,cJ(a),i,p,f.getTimeoutController()),b=()=>{g.current=_()};return f.start([l,s,b,i,o]),()=>{f.stop(),g.current&&g.current(),o()}},[c,r,i,a,s,l,o,f]),u(h.t)}function TL(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=v.useRef(Af(t)),r=v.useRef(e);return r.current!==e&&(n.current=Af(t),r.current=e),n.current}var vJ=["radius"],bJ=["radius"],LN,VN,UN,zN,BN,$N,FN,qN,HN,GN;function KN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function YN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KN(Object(n),!0).forEach(function(r){xJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xJ(e,t,n){return(t=_J(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _J(e){var t=wJ(e,"string");return typeof t=="symbol"?t:t+""}function wJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dp(){return Dp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dp.apply(null,arguments)}function WN(e,t){if(e==null)return{};var n,r,i=EJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function EJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Hr(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var XN=(e,t,n,r,i)=>{var a=$a(n),s=$a(r),o=Math.min(Math.abs(a)/2,Math.abs(s)/2),l=s>=0?1:-1,u=a>=0?1:-1,c=s>=0&&a>=0||s<0&&a<0?1:0,f;if(o>0&&Array.isArray(i)){for(var h=[0,0,0,0],p=0,g=4;p<g;p++){var _,b=(_=i[p])!==null&&_!==void 0?_:0;h[p]=b>o?o:b}f=Xt(LN||(LN=Hr(["M",",",""])),e,t+l*h[0]),h[0]>0&&(f+=Xt(VN||(VN=Hr(["A ",",",",0,0,",",",",",""])),h[0],h[0],c,e+u*h[0],t)),f+=Xt(UN||(UN=Hr(["L ",",",""])),e+n-u*h[1],t),h[1]>0&&(f+=Xt(zN||(zN=Hr(["A ",",",",0,0,",`,
        `,",",""])),h[1],h[1],c,e+n,t+l*h[1])),f+=Xt(BN||(BN=Hr(["L ",",",""])),e+n,t+r-l*h[2]),h[2]>0&&(f+=Xt($N||($N=Hr(["A ",",",",0,0,",`,
        `,",",""])),h[2],h[2],c,e+n-u*h[2],t+r)),f+=Xt(FN||(FN=Hr(["L ",",",""])),e+u*h[3],t+r),h[3]>0&&(f+=Xt(qN||(qN=Hr(["A ",",",",0,0,",`,
        `,",",""])),h[3],h[3],c,e,t+r-l*h[3])),f+="Z"}else if(o>0&&i===+i&&i>0){var w=Math.min(o,i);f=Xt(HN||(HN=Hr(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+l*w,w,w,c,e+u*w,t,e+n-u*w,t,w,w,c,e+n,t+l*w,e+n,t+r-l*w,w,w,c,e+n-u*w,t+r,e+u*w,t+r,w,w,c,e,t+r-l*w)}else f=Xt(GN||(GN=Hr(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return f},QN={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},SJ=e=>{var t=ar(e,QN),n=v.useRef(null),[r,i]=v.useState(-1);v.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var K=n.current.getTotalLength();K&&i(K)}catch{}},[]);var{x:a,y:s,width:o,height:l,radius:u,className:c}=t,{animationEasing:f,animationDuration:h,animationBegin:p,isAnimationActive:g,isUpdateAnimationActive:_}=t,b=v.useRef(o),w=v.useRef(l),x=v.useRef(a),E=v.useRef(s),T=v.useMemo(()=>({x:a,y:s,width:o,height:l,radius:u}),[a,s,o,l,u]),I=TL(T,"rectangle-");if(a!==+a||s!==+s||o!==+o||l!==+l||o===0||l===0)return null;var k=Ke("recharts-rectangle",c);if(!_){var A=_r(t),{radius:C}=A,N=WN(A,vJ);return v.createElement("path",Dp({},N,{x:$a(a),y:$a(s),width:$a(o),height:$a(l),radius:typeof u=="number"?u:void 0,className:k,d:XN(a,s,o,l,u)}))}var j=b.current,R=w.current,P=x.current,D=E.current,Z="0px ".concat(r===-1?1:r,"px"),oe="".concat(r,"px 0px"),q=QZ(["strokeDasharray"],h,typeof f=="string"?f:QN.animationEasing);return v.createElement(AL,{animationId:I,key:I,canBegin:r>0,duration:h,easing:f,isActive:_,begin:p},K=>{var W=Wr(j,o,K),te=Wr(R,l,K),le=Wr(P,a,K),Ye=Wr(D,s,K);n.current&&(b.current=W,w.current=te,x.current=le,E.current=Ye);var st;g?K>0?st={transition:q,strokeDasharray:oe}:st={strokeDasharray:Z}:st={strokeDasharray:oe};var Pt=_r(t),{radius:Re}=Pt,cn=WN(Pt,bJ);return v.createElement("path",Dp({},cn,{radius:typeof u=="number"?u:void 0,className:k,d:XN(le,Ye,W,te,u),ref:n,style:YN(YN({},st),t.style)}))})};function ZN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function JN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZN(Object(n),!0).forEach(function(r){AJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function AJ(e,t,n){return(t=TJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TJ(e){var t=CJ(e,"string");return typeof t=="symbol"?t:t+""}function CJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kp=Math.PI/180,NJ=e=>e*180/Math.PI,an=(e,t,n,r)=>({x:e+Math.cos(-kp*r)*n,y:t+Math.sin(-kp*r)*n}),OJ=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},IJ=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)},PJ=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,s=IJ({x:n,y:r},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(n-i)/s,l=Math.acos(o);return r>a&&(l=2*Math.PI-l),{radius:s,angle:NJ(l),angleInRadian:l}},jJ=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-a*360,endAngle:n-a*360}},RJ=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return e+s*360},DJ=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:a}=PJ({x:n,y:r},t),{innerRadius:s,outerRadius:o}=t;if(i<s||i>o||i===0)return null;var{startAngle:l,endAngle:u}=jJ(t),c=a,f;if(l<=u){for(;c>u;)c-=360;for(;c<l;)c+=360;f=c>=l&&c<=u}else{for(;c>l;)c-=360;for(;c<u;)c+=360;f=c>=u&&c<=l}return f?JN(JN({},t),{},{radius:i,angle:RJ(c,t)}):null};function CL(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e,s=an(t,n,r,i),o=an(t,n,r,a);return{points:[s,o],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}var eO,tO,nO,rO,iO,aO,sO;function Nx(){return Nx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nx.apply(null,arguments)}function Gs(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var kJ=(e,t)=>{var n=pr(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},Rh=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:l}=e,u=o*(s?1:-1)+r,c=Math.asin(o/u)/kp,f=l?i:i+a*c,h=an(t,n,u,f),p=an(t,n,r,f),g=l?i-a*c:i,_=an(t,n,u*Math.cos(c*kp),g);return{center:h,circleTangency:p,lineTangency:_,theta:c}},NL=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:s}=e,o=kJ(a,s),l=a+o,u=an(t,n,i,a),c=an(t,n,i,l),f=Xt(eO||(eO=Gs(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),u.x,u.y,i,i,+(Math.abs(o)>180),+(a>l),c.x,c.y);if(r>0){var h=an(t,n,r,a),p=an(t,n,r,l);f+=Xt(tO||(tO=Gs(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),p.x,p.y,r,r,+(Math.abs(o)>180),+(a<=l),h.x,h.y)}else f+=Xt(nO||(nO=Gs(["L ",","," Z"])),t,n);return f},MJ=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:l,endAngle:u}=e,c=pr(u-l),{circleTangency:f,lineTangency:h,theta:p}=Rh({cx:t,cy:n,radius:i,angle:l,sign:c,cornerRadius:a,cornerIsExternal:o}),{circleTangency:g,lineTangency:_,theta:b}=Rh({cx:t,cy:n,radius:i,angle:u,sign:-c,cornerRadius:a,cornerIsExternal:o}),w=o?Math.abs(l-u):Math.abs(l-u)-p-b;if(w<0)return s?Xt(rO||(rO=Gs(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),h.x,h.y,a,a,a*2,a,a,-a*2):NL({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:u});var x=Xt(iO||(iO=Gs(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),h.x,h.y,a,a,+(c<0),f.x,f.y,i,i,+(w>180),+(c<0),g.x,g.y,a,a,+(c<0),_.x,_.y);if(r>0){var{circleTangency:E,lineTangency:T,theta:I}=Rh({cx:t,cy:n,radius:r,angle:l,sign:c,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:k,lineTangency:A,theta:C}=Rh({cx:t,cy:n,radius:r,angle:u,sign:-c,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),N=o?Math.abs(l-u):Math.abs(l-u)-I-C;if(N<0&&a===0)return"".concat(x,"L").concat(t,",").concat(n,"Z");x+=Xt(aO||(aO=Gs(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),A.x,A.y,a,a,+(c<0),k.x,k.y,r,r,+(N>180),+(c>0),E.x,E.y,a,a,+(c<0),T.x,T.y)}else x+=Xt(sO||(sO=Gs(["L",",","Z"])),t,n);return x},LJ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},VJ=e=>{var t=ar(e,LJ),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:c,className:f}=t;if(a<i||u===c)return null;var h=Ke("recharts-sector",f),p=a-i,g=bs(s,p,0,!0),_;return g>0&&Math.abs(u-c)<360?_=MJ({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(g,p/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:c}):_=NL({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:u,endAngle:c}),v.createElement("path",Nx({},_r(t),{className:h,d:_}))};function UJ(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(KM(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:s,angle:o}=t,l=an(r,i,a,o),u=an(r,i,s,o);return[{x:l.x,y:l.y},{x:u.x,y:u.y}]}return CL(t)}}var OL={},IL={},PL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u1;function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(PL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PL;function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(IL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=c1,n=IL;function r(i,a,s){s&&typeof s!="number"&&t.isIterateeCall(i,a,s)&&(a=s=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),s=s===void 0?i<a?1:-1:n.toFinite(s);const o=Math.max(Math.ceil((a-i)/(s||1)),0),l=new Array(o);for(let u=0;u<o;u++)l[u]=i,i+=s;return l}e.range=r})(OL);var zJ=OL.range;const jL=xs(zJ);function as(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function BJ(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function w1(e){let t,n,r;e.length!==2?(t=as,n=(o,l)=>as(e(o),l),r=(o,l)=>e(o)-l):(t=e===as||e===BJ?e:$J,n=e,r=e);function i(o,l,u=0,c=o.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;n(o[f],l)<0?u=f+1:c=f}while(u<c)}return u}function a(o,l,u=0,c=o.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;n(o[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function s(o,l,u=0,c=o.length){const f=i(o,l,u,c-1);return f>u&&r(o[f-1],l)>-r(o[f],l)?f-1:f}return{left:i,center:s,right:a}}function $J(){return 0}function RL(e){return e===null?NaN:+e}function*FJ(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const qJ=w1(as),Ed=qJ.right;w1(RL).center;class oO extends Map{constructor(t,n=KJ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(lO(this,t))}has(t){return super.has(lO(this,t))}set(t,n){return super.set(HJ(this,t),n)}delete(t){return super.delete(GJ(this,t))}}function lO({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function HJ({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function GJ({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function KJ(e){return e!==null&&typeof e=="object"?e.valueOf():e}function YJ(e=as){if(e===as)return DL;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function DL(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const WJ=Math.sqrt(50),XJ=Math.sqrt(10),QJ=Math.sqrt(2);function Mp(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=WJ?10:a>=XJ?5:a>=QJ?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/s,o=Math.round(e*u),l=Math.round(t*u),o/u<e&&++o,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*s,o=Math.round(e/u),l=Math.round(t/u),o*u<e&&++o,l*u>t&&--l),l<o&&.5<=n&&n<2?Mp(e,t,n*2):[o,l,u]}function Ox(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,s]=r?Mp(t,e,n):Mp(e,t,n);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(r)if(s<0)for(let u=0;u<o;++u)l[u]=(a-u)/-s;else for(let u=0;u<o;++u)l[u]=(a-u)*s;else if(s<0)for(let u=0;u<o;++u)l[u]=(i+u)/-s;else for(let u=0;u<o;++u)l[u]=(i+u)*s;return l}function Ix(e,t,n){return t=+t,e=+e,n=+n,Mp(e,t,n)[2]}function Px(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Ix(t,e,n):Ix(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function uO(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function cO(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function kL(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?DL:YJ(i);r>n;){if(r-n>600){const l=r-n+1,u=t-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),p=Math.max(n,Math.floor(t-u*f/l+h)),g=Math.min(r,Math.floor(t+(l-u)*f/l+h));kL(e,t,p,g,i)}const a=e[t];let s=n,o=r;for(lc(e,n,t),i(e[r],a)>0&&lc(e,n,r);s<o;){for(lc(e,s,o),++s,--o;i(e[s],a)<0;)++s;for(;i(e[o],a)>0;)--o}i(e[n],a)===0?lc(e,n,o):(++o,lc(e,o,r)),o<=t&&(n=o+1),t<=o&&(r=o-1)}return e}function lc(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function ZJ(e,t,n){if(e=Float64Array.from(FJ(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return cO(e);if(t>=1)return uO(e);var r,i=(r-1)*t,a=Math.floor(i),s=uO(kL(e,a).subarray(0,a+1)),o=cO(e.subarray(a+1));return s+(o-s)*(i-a)}}function JJ(e,t,n=RL){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),s=+n(e[a],a,e),o=+n(e[a+1],a+1,e);return s+(o-s)*(i-a)}}function eee(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function Ar(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ua(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const jx=Symbol("implicit");function E1(){var e=new oO,t=[],n=[],r=jx;function i(a){let s=e.get(a);if(s===void 0){if(r!==jx)return r;e.set(a,s=t.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new oO;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return E1(t,n).unknown(r)},Ar.apply(i,arguments),i}function S1(){var e=E1().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,s,o=!1,l=0,u=0,c=.5;delete e.unknown;function f(){var h=t().length,p=i<r,g=p?i:r,_=p?r:i;a=(_-g)/Math.max(1,h-l+u*2),o&&(a=Math.floor(a)),g+=(_-g-a*(h-l))*c,s=a*(1-l),o&&(g=Math.round(g),s=Math.round(s));var b=eee(h).map(function(w){return g+a*w});return n(p?b.reverse():b)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,o=!0,f()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),f()):c},e.copy=function(){return S1(t(),[r,i]).round(o).paddingInner(l).paddingOuter(u).align(c)},Ar.apply(f(),arguments)}function ML(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return ML(t())},e}function tee(){return ML(S1.apply(null,arguments).paddingInner(1))}function A1(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function LL(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Sd(){}var Rf=.7,Lp=1/Rf,Ol="\\s*([+-]?\\d+)\\s*",Df="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",li="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",nee=/^#([0-9a-f]{3,8})$/,ree=new RegExp(`^rgb\\(${Ol},${Ol},${Ol}\\)$`),iee=new RegExp(`^rgb\\(${li},${li},${li}\\)$`),aee=new RegExp(`^rgba\\(${Ol},${Ol},${Ol},${Df}\\)$`),see=new RegExp(`^rgba\\(${li},${li},${li},${Df}\\)$`),oee=new RegExp(`^hsl\\(${Df},${li},${li}\\)$`),lee=new RegExp(`^hsla\\(${Df},${li},${li},${Df}\\)$`),fO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};A1(Sd,kf,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:dO,formatHex:dO,formatHex8:uee,formatHsl:cee,formatRgb:hO,toString:hO});function dO(){return this.rgb().formatHex()}function uee(){return this.rgb().formatHex8()}function cee(){return VL(this).formatHsl()}function hO(){return this.rgb().formatRgb()}function kf(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=nee.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?mO(t):n===3?new Mn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Dh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Dh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=ree.exec(e))?new Mn(t[1],t[2],t[3],1):(t=iee.exec(e))?new Mn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=aee.exec(e))?Dh(t[1],t[2],t[3],t[4]):(t=see.exec(e))?Dh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=oee.exec(e))?yO(t[1],t[2]/100,t[3]/100,1):(t=lee.exec(e))?yO(t[1],t[2]/100,t[3]/100,t[4]):fO.hasOwnProperty(e)?mO(fO[e]):e==="transparent"?new Mn(NaN,NaN,NaN,0):null}function mO(e){return new Mn(e>>16&255,e>>8&255,e&255,1)}function Dh(e,t,n,r){return r<=0&&(e=t=n=NaN),new Mn(e,t,n,r)}function fee(e){return e instanceof Sd||(e=kf(e)),e?(e=e.rgb(),new Mn(e.r,e.g,e.b,e.opacity)):new Mn}function Rx(e,t,n,r){return arguments.length===1?fee(e):new Mn(e,t,n,r??1)}function Mn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}A1(Mn,Rx,LL(Sd,{brighter(e){return e=e==null?Lp:Math.pow(Lp,e),new Mn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Rf:Math.pow(Rf,e),new Mn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Mn(ro(this.r),ro(this.g),ro(this.b),Vp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:pO,formatHex:pO,formatHex8:dee,formatRgb:gO,toString:gO}));function pO(){return`#${Ks(this.r)}${Ks(this.g)}${Ks(this.b)}`}function dee(){return`#${Ks(this.r)}${Ks(this.g)}${Ks(this.b)}${Ks((isNaN(this.opacity)?1:this.opacity)*255)}`}function gO(){const e=Vp(this.opacity);return`${e===1?"rgb(":"rgba("}${ro(this.r)}, ${ro(this.g)}, ${ro(this.b)}${e===1?")":`, ${e})`}`}function Vp(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ro(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ks(e){return e=ro(e),(e<16?"0":"")+e.toString(16)}function yO(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new jr(e,t,n,r)}function VL(e){if(e instanceof jr)return new jr(e.h,e.s,e.l,e.opacity);if(e instanceof Sd||(e=kf(e)),!e)return new jr;if(e instanceof jr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(t===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-t)/o+2:s=(t-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new jr(s,o,l,e.opacity)}function hee(e,t,n,r){return arguments.length===1?VL(e):new jr(e,t,n,r??1)}function jr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}A1(jr,hee,LL(Sd,{brighter(e){return e=e==null?Lp:Math.pow(Lp,e),new jr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Rf:Math.pow(Rf,e),new jr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Mn(p0(e>=240?e-240:e+120,i,r),p0(e,i,r),p0(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new jr(vO(this.h),kh(this.s),kh(this.l),Vp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Vp(this.opacity);return`${e===1?"hsl(":"hsla("}${vO(this.h)}, ${kh(this.s)*100}%, ${kh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function vO(e){return e=(e||0)%360,e<0?e+360:e}function kh(e){return Math.max(0,Math.min(1,e||0))}function p0(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const T1=e=>()=>e;function mee(e,t){return function(n){return e+n*t}}function pee(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function gee(e){return(e=+e)==1?UL:function(t,n){return n-t?pee(t,n,e):T1(isNaN(t)?n:t)}}function UL(e,t){var n=t-e;return n?mee(e,n):T1(isNaN(e)?t:e)}const bO=function e(t){var n=gee(t);function r(i,a){var s=n((i=Rx(i)).r,(a=Rx(a)).r),o=n(i.g,a.g),l=n(i.b,a.b),u=UL(i.opacity,a.opacity);return function(c){return i.r=s(c),i.g=o(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=e,r}(1);function yee(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function vee(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function bee(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=Eu(e[s],t[s]);for(;s<n;++s)a[s]=t[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function xee(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Up(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function _ee(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Eu(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Dx=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,g0=new RegExp(Dx.source,"g");function wee(e){return function(){return e}}function Eee(e){return function(t){return e(t)+""}}function See(e,t){var n=Dx.lastIndex=g0.lastIndex=0,r,i,a,s=-1,o=[],l=[];for(e=e+"",t=t+"";(r=Dx.exec(e))&&(i=g0.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:Up(r,i)})),n=g0.lastIndex;return n<t.length&&(a=t.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?Eee(l[0].x):wee(t):(t=l.length,function(u){for(var c=0,f;c<t;++c)o[(f=l[c]).i]=f.x(u);return o.join("")})}function Eu(e,t){var n=typeof t,r;return t==null||n==="boolean"?T1(t):(n==="number"?Up:n==="string"?(r=kf(t))?(t=r,bO):See:t instanceof kf?bO:t instanceof Date?xee:vee(t)?yee:Array.isArray(t)?bee:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?_ee:Up)(e,t)}function C1(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Aee(e,t){t===void 0&&(t=e,e=Eu);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[o](s-o)}}function Tee(e){return function(){return e}}function zp(e){return+e}var xO=[0,1];function Sn(e){return e}function kx(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Tee(isNaN(t)?NaN:.5)}function Cee(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Nee(e,t,n){var r=e[0],i=e[1],a=t[0],s=t[1];return i<r?(r=kx(i,r),a=n(s,a)):(r=kx(r,i),a=n(a,s)),function(o){return a(r(o))}}function Oee(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=kx(e[s],e[s+1]),a[s]=n(t[s],t[s+1]);return function(o){var l=Ed(e,o,1,r)-1;return a[l](i[l](o))}}function Ad(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Sy(){var e=xO,t=xO,n=Eu,r,i,a,s=Sn,o,l,u;function c(){var h=Math.min(e.length,t.length);return s!==Sn&&(s=Cee(e[0],e[h-1])),o=h>2?Oee:Nee,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(l||(l=o(e.map(r),t,n)))(r(s(h)))}return f.invert=function(h){return s(i((u||(u=o(t,e.map(r),Up)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,zp),c()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),c()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),n=C1,c()},f.clamp=function(h){return arguments.length?(s=h?!0:Sn,c()):s!==Sn},f.interpolate=function(h){return arguments.length?(n=h,c()):n},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,p){return r=h,i=p,c()}}function N1(){return Sy()(Sn,Sn)}function Iee(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Bp(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Jl(e){return e=Bp(Math.abs(e)),e?e[1]:NaN}function Pee(e,t){return function(n,r){for(var i=n.length,a=[],s=0,o=e[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=e[s=(s+1)%e.length];return a.reverse().join(t)}}function jee(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Ree=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Mf(e){if(!(t=Ree.exec(e)))throw new Error("invalid format: "+e);var t;return new O1({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Mf.prototype=O1.prototype;function O1(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}O1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Dee(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var $p;function kee(e,t){var n=Bp(e,t);if(!n)return $p=void 0,e.toPrecision(t);var r=n[0],i=n[1],a=i-($p=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Bp(e,Math.max(0,t+a-1))[0]}function _O(e,t){var n=Bp(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const wO={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Iee,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>_O(e*100,t),r:_O,s:kee,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function EO(e){return e}var SO=Array.prototype.map,AO=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Mee(e){var t=e.grouping===void 0||e.thousands===void 0?EO:Pee(SO.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?EO:jee(SO.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f,h){f=Mf(f);var p=f.fill,g=f.align,_=f.sign,b=f.symbol,w=f.zero,x=f.width,E=f.comma,T=f.precision,I=f.trim,k=f.type;k==="n"?(E=!0,k="g"):wO[k]||(T===void 0&&(T=12),I=!0,k="g"),(w||p==="0"&&g==="=")&&(w=!0,p="0",g="=");var A=(h&&h.prefix!==void 0?h.prefix:"")+(b==="$"?n:b==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():""),C=(b==="$"?r:/[%p]/.test(k)?s:"")+(h&&h.suffix!==void 0?h.suffix:""),N=wO[k],j=/[defgprs%]/.test(k);T=T===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function R(P){var D=A,Z=C,oe,q,K;if(k==="c")Z=N(P)+Z,P="";else{P=+P;var W=P<0||1/P<0;if(P=isNaN(P)?l:N(Math.abs(P),T),I&&(P=Dee(P)),W&&+P==0&&_!=="+"&&(W=!1),D=(W?_==="("?_:o:_==="-"||_==="("?"":_)+D,Z=(k==="s"&&!isNaN(P)&&$p!==void 0?AO[8+$p/3]:"")+Z+(W&&_==="("?")":""),j){for(oe=-1,q=P.length;++oe<q;)if(K=P.charCodeAt(oe),48>K||K>57){Z=(K===46?i+P.slice(oe+1):P.slice(oe))+Z,P=P.slice(0,oe);break}}}E&&!w&&(P=t(P,1/0));var te=D.length+P.length+Z.length,le=te<x?new Array(x-te+1).join(p):"";switch(E&&w&&(P=t(le+P,le.length?x-Z.length:1/0),le=""),g){case"<":P=D+P+Z+le;break;case"=":P=D+le+P+Z;break;case"^":P=le.slice(0,te=le.length>>1)+D+P+Z+le.slice(te);break;default:P=le+D+P+Z;break}return a(P)}return R.toString=function(){return f+""},R}function c(f,h){var p=Math.max(-8,Math.min(8,Math.floor(Jl(h)/3)))*3,g=Math.pow(10,-p),_=u((f=Mf(f),f.type="f",f),{suffix:AO[8+p/3]});return function(b){return _(g*b)}}return{format:u,formatPrefix:c}}var Mh,I1,zL;Lee({thousands:",",grouping:[3],currency:["$",""]});function Lee(e){return Mh=Mee(e),I1=Mh.format,zL=Mh.formatPrefix,Mh}function Vee(e){return Math.max(0,-Jl(Math.abs(e)))}function Uee(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Jl(t)/3)))*3-Jl(Math.abs(e)))}function zee(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Jl(t)-Jl(e))+1}function BL(e,t,n,r){var i=Px(e,t,n),a;switch(r=Mf(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=Uee(i,s))&&(r.precision=a),zL(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=zee(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Vee(i))&&(r.precision=a-(r.type==="%")*2);break}}return I1(r)}function Cs(e){var t=e.domain;return e.ticks=function(n){var r=t();return Ox(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return BL(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,s=r[i],o=r[a],l,u,c=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);c-- >0;){if(u=Ix(s,o,n),u===l)return r[i]=s,r[a]=o,t(r);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;l=u}return e},e}function $L(){var e=N1();return e.copy=function(){return Ad(e,$L())},Ar.apply(e,arguments),Cs(e)}function FL(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,zp),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return FL(e).unknown(t)},e=arguments.length?Array.from(e,zp):[0,1],Cs(n)}function qL(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),e[n]=t.floor(i),e[r]=t.ceil(a),e}function TO(e){return Math.log(e)}function CO(e){return Math.exp(e)}function Bee(e){return-Math.log(-e)}function $ee(e){return-Math.exp(-e)}function Fee(e){return isFinite(e)?+("1e"+e):e<0?0:e}function qee(e){return e===10?Fee:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Hee(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function NO(e){return(t,n)=>-e(-t,n)}function P1(e){const t=e(TO,CO),n=t.domain;let r=10,i,a;function s(){return i=Hee(r),a=qee(r),n()[0]<0?(i=NO(i),a=NO(a),e(Bee,$ee)):e(TO,CO),t}return t.base=function(o){return arguments.length?(r=+o,s()):r},t.domain=function(o){return arguments.length?(n(o),s()):n()},t.ticks=o=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let h=i(u),p=i(c),g,_;const b=o==null?10:+o;let w=[];if(!(r%1)&&p-h<b){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(g=1;g<r;++g)if(_=h<0?g/a(-h):g*a(h),!(_<u)){if(_>c)break;w.push(_)}}else for(;h<=p;++h)for(g=r-1;g>=1;--g)if(_=h>0?g/a(-h):g*a(h),!(_<u)){if(_>c)break;w.push(_)}w.length*2<b&&(w=Ox(u,c,b))}else w=Ox(h,p,Math.min(p-h,b)).map(a);return f?w.reverse():w},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Mf(l)).precision==null&&(l.trim=!0),l=I1(l)),o===1/0)return l;const u=Math.max(1,r*o/t.ticks().length);return c=>{let f=c/a(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},t.nice=()=>n(qL(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),t}function HL(){const e=P1(Sy()).domain([1,10]);return e.copy=()=>Ad(e,HL()).base(e.base()),Ar.apply(e,arguments),e}function OO(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function IO(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function j1(e){var t=1,n=e(OO(t),IO(t));return n.constant=function(r){return arguments.length?e(OO(t=+r),IO(t)):t},Cs(n)}function GL(){var e=j1(Sy());return e.copy=function(){return Ad(e,GL()).constant(e.constant())},Ar.apply(e,arguments)}function PO(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Gee(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Kee(e){return e<0?-e*e:e*e}function R1(e){var t=e(Sn,Sn),n=1;function r(){return n===1?e(Sn,Sn):n===.5?e(Gee,Kee):e(PO(n),PO(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Cs(t)}function D1(){var e=R1(Sy());return e.copy=function(){return Ad(e,D1()).exponent(e.exponent())},Ar.apply(e,arguments),e}function Yee(){return D1.apply(null,arguments).exponent(.5)}function jO(e){return Math.sign(e)*e*e}function Wee(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function KL(){var e=N1(),t=[0,1],n=!1,r;function i(a){var s=Wee(e(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return e.invert(jO(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,zp)).map(jO)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return KL(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Ar.apply(i,arguments),Cs(i)}function YL(){var e=[],t=[],n=[],r;function i(){var s=0,o=Math.max(1,t.length);for(n=new Array(o-1);++s<o;)n[s-1]=JJ(e,s/o);return a}function a(s){return s==null||isNaN(s=+s)?r:t[Ed(n,s)]}return a.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:e[0],o<n.length?n[o]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(as),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return YL().domain(e).range(t).unknown(r)},Ar.apply(a,arguments)}function WL(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[Ed(r,l,0,n)]:a}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return WL().domain([e,t]).range(i).unknown(a)},Ar.apply(Cs(s),arguments)}function XL(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[Ed(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return XL().domain(e).range(t).unknown(n)},Ar.apply(i,arguments)}const y0=new Date,v0=new Date;function Ot(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let u;do l.push(u=new Date(+a)),t(a,o),e(a);while(u<a&&a<s);return l},i.filter=a=>Ot(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!a(s););else for(;--o>=0;)for(;t(s,1),!a(s););}),n&&(i.count=(a,s)=>(y0.setTime(+a),v0.setTime(+s),e(y0),e(v0),Math.floor(n(y0,v0))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const Fp=Ot(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Fp.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ot(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Fp);Fp.range;const ki=1e3,gr=ki*60,Mi=gr*60,ea=Mi*24,k1=ea*7,RO=ea*30,b0=ea*365,Ys=Ot(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ki)},(e,t)=>(t-e)/ki,e=>e.getUTCSeconds());Ys.range;const M1=Ot(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ki)},(e,t)=>{e.setTime(+e+t*gr)},(e,t)=>(t-e)/gr,e=>e.getMinutes());M1.range;const L1=Ot(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*gr)},(e,t)=>(t-e)/gr,e=>e.getUTCMinutes());L1.range;const V1=Ot(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ki-e.getMinutes()*gr)},(e,t)=>{e.setTime(+e+t*Mi)},(e,t)=>(t-e)/Mi,e=>e.getHours());V1.range;const U1=Ot(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Mi)},(e,t)=>(t-e)/Mi,e=>e.getUTCHours());U1.range;const Td=Ot(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*gr)/ea,e=>e.getDate()-1);Td.range;const Ay=Ot(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ea,e=>e.getUTCDate()-1);Ay.range;const QL=Ot(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ea,e=>Math.floor(e/ea));QL.range;function Do(e){return Ot(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*gr)/k1)}const Ty=Do(0),qp=Do(1),Xee=Do(2),Qee=Do(3),eu=Do(4),Zee=Do(5),Jee=Do(6);Ty.range;qp.range;Xee.range;Qee.range;eu.range;Zee.range;Jee.range;function ko(e){return Ot(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/k1)}const Cy=ko(0),Hp=ko(1),ete=ko(2),tte=ko(3),tu=ko(4),nte=ko(5),rte=ko(6);Cy.range;Hp.range;ete.range;tte.range;tu.range;nte.range;rte.range;const z1=Ot(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());z1.range;const B1=Ot(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());B1.range;const ta=Ot(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ta.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ot(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});ta.range;const na=Ot(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());na.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ot(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});na.range;function ZL(e,t,n,r,i,a){const s=[[Ys,1,ki],[Ys,5,5*ki],[Ys,15,15*ki],[Ys,30,30*ki],[a,1,gr],[a,5,5*gr],[a,15,15*gr],[a,30,30*gr],[i,1,Mi],[i,3,3*Mi],[i,6,6*Mi],[i,12,12*Mi],[r,1,ea],[r,2,2*ea],[n,1,k1],[t,1,RO],[t,3,3*RO],[e,1,b0]];function o(u,c,f){const h=c<u;h&&([u,c]=[c,u]);const p=f&&typeof f.range=="function"?f:l(u,c,f),g=p?p.range(u,+c+1):[];return h?g.reverse():g}function l(u,c,f){const h=Math.abs(c-u)/f,p=w1(([,,b])=>b).right(s,h);if(p===s.length)return e.every(Px(u/b0,c/b0,f));if(p===0)return Fp.every(Math.max(Px(u,c,f),1));const[g,_]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return g.every(_)}return[o,l]}const[ite,ate]=ZL(na,B1,Cy,QL,U1,L1),[ste,ote]=ZL(ta,z1,Ty,Td,V1,M1);function x0(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function _0(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function uc(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function lte(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,u=cc(i),c=fc(i),f=cc(a),h=fc(a),p=cc(s),g=fc(s),_=cc(o),b=fc(o),w=cc(l),x=fc(l),E={a:K,A:W,b:te,B:le,c:null,d:UO,e:UO,f:Pte,g:Bte,G:Fte,H:Nte,I:Ote,j:Ite,L:JL,m:jte,M:Rte,p:Ye,q:st,Q:$O,s:FO,S:Dte,u:kte,U:Mte,V:Lte,w:Vte,W:Ute,x:null,X:null,y:zte,Y:$te,Z:qte,"%":BO},T={a:Pt,A:Re,b:cn,B:xi,c:null,d:zO,e:zO,f:Yte,g:ine,G:sne,H:Hte,I:Gte,j:Kte,L:t3,m:Wte,M:Xte,p:jt,q:Os,Q:$O,s:FO,S:Qte,u:Zte,U:Jte,V:ene,w:tne,W:nne,x:null,X:null,y:rne,Y:ane,Z:one,"%":BO},I={a:j,A:R,b:P,B:D,c:Z,d:LO,e:LO,f:Ste,g:MO,G:kO,H:VO,I:VO,j:xte,L:Ete,m:bte,M:_te,p:N,q:vte,Q:Tte,s:Cte,S:wte,u:hte,U:mte,V:pte,w:dte,W:gte,x:oe,X:q,y:MO,Y:kO,Z:yte,"%":Ate};E.x=k(n,E),E.X=k(r,E),E.c=k(t,E),T.x=k(n,T),T.X=k(r,T),T.c=k(t,T);function k($,de){return function(_e){var F=[],Rt=-1,Ce=0,bn=$.length,Gt,Tr,ju;for(_e instanceof Date||(_e=new Date(+_e));++Rt<bn;)$.charCodeAt(Rt)===37&&(F.push($.slice(Ce,Rt)),(Tr=DO[Gt=$.charAt(++Rt)])!=null?Gt=$.charAt(++Rt):Tr=Gt==="e"?" ":"0",(ju=de[Gt])&&(Gt=ju(_e,Tr)),F.push(Gt),Ce=Rt+1);return F.push($.slice(Ce,Rt)),F.join("")}}function A($,de){return function(_e){var F=uc(1900,void 0,1),Rt=C(F,$,_e+="",0),Ce,bn;if(Rt!=_e.length)return null;if("Q"in F)return new Date(F.Q);if("s"in F)return new Date(F.s*1e3+("L"in F?F.L:0));if(de&&!("Z"in F)&&(F.Z=0),"p"in F&&(F.H=F.H%12+F.p*12),F.m===void 0&&(F.m="q"in F?F.q:0),"V"in F){if(F.V<1||F.V>53)return null;"w"in F||(F.w=1),"Z"in F?(Ce=_0(uc(F.y,0,1)),bn=Ce.getUTCDay(),Ce=bn>4||bn===0?Hp.ceil(Ce):Hp(Ce),Ce=Ay.offset(Ce,(F.V-1)*7),F.y=Ce.getUTCFullYear(),F.m=Ce.getUTCMonth(),F.d=Ce.getUTCDate()+(F.w+6)%7):(Ce=x0(uc(F.y,0,1)),bn=Ce.getDay(),Ce=bn>4||bn===0?qp.ceil(Ce):qp(Ce),Ce=Td.offset(Ce,(F.V-1)*7),F.y=Ce.getFullYear(),F.m=Ce.getMonth(),F.d=Ce.getDate()+(F.w+6)%7)}else("W"in F||"U"in F)&&("w"in F||(F.w="u"in F?F.u%7:"W"in F?1:0),bn="Z"in F?_0(uc(F.y,0,1)).getUTCDay():x0(uc(F.y,0,1)).getDay(),F.m=0,F.d="W"in F?(F.w+6)%7+F.W*7-(bn+5)%7:F.w+F.U*7-(bn+6)%7);return"Z"in F?(F.H+=F.Z/100|0,F.M+=F.Z%100,_0(F)):x0(F)}}function C($,de,_e,F){for(var Rt=0,Ce=de.length,bn=_e.length,Gt,Tr;Rt<Ce;){if(F>=bn)return-1;if(Gt=de.charCodeAt(Rt++),Gt===37){if(Gt=de.charAt(Rt++),Tr=I[Gt in DO?de.charAt(Rt++):Gt],!Tr||(F=Tr($,_e,F))<0)return-1}else if(Gt!=_e.charCodeAt(F++))return-1}return F}function N($,de,_e){var F=u.exec(de.slice(_e));return F?($.p=c.get(F[0].toLowerCase()),_e+F[0].length):-1}function j($,de,_e){var F=p.exec(de.slice(_e));return F?($.w=g.get(F[0].toLowerCase()),_e+F[0].length):-1}function R($,de,_e){var F=f.exec(de.slice(_e));return F?($.w=h.get(F[0].toLowerCase()),_e+F[0].length):-1}function P($,de,_e){var F=w.exec(de.slice(_e));return F?($.m=x.get(F[0].toLowerCase()),_e+F[0].length):-1}function D($,de,_e){var F=_.exec(de.slice(_e));return F?($.m=b.get(F[0].toLowerCase()),_e+F[0].length):-1}function Z($,de,_e){return C($,t,de,_e)}function oe($,de,_e){return C($,n,de,_e)}function q($,de,_e){return C($,r,de,_e)}function K($){return s[$.getDay()]}function W($){return a[$.getDay()]}function te($){return l[$.getMonth()]}function le($){return o[$.getMonth()]}function Ye($){return i[+($.getHours()>=12)]}function st($){return 1+~~($.getMonth()/3)}function Pt($){return s[$.getUTCDay()]}function Re($){return a[$.getUTCDay()]}function cn($){return l[$.getUTCMonth()]}function xi($){return o[$.getUTCMonth()]}function jt($){return i[+($.getUTCHours()>=12)]}function Os($){return 1+~~($.getUTCMonth()/3)}return{format:function($){var de=k($+="",E);return de.toString=function(){return $},de},parse:function($){var de=A($+="",!1);return de.toString=function(){return $},de},utcFormat:function($){var de=k($+="",T);return de.toString=function(){return $},de},utcParse:function($){var de=A($+="",!0);return de.toString=function(){return $},de}}}var DO={"-":"",_:" ",0:"0"},Ft=/^\s*\d+/,ute=/^%/,cte=/[\\^$*+?|[\]().{}]/g;function Ee(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function fte(e){return e.replace(cte,"\\$&")}function cc(e){return new RegExp("^(?:"+e.map(fte).join("|")+")","i")}function fc(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function dte(e,t,n){var r=Ft.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function hte(e,t,n){var r=Ft.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function mte(e,t,n){var r=Ft.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function pte(e,t,n){var r=Ft.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function gte(e,t,n){var r=Ft.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function kO(e,t,n){var r=Ft.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function MO(e,t,n){var r=Ft.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function yte(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function vte(e,t,n){var r=Ft.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function bte(e,t,n){var r=Ft.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function LO(e,t,n){var r=Ft.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function xte(e,t,n){var r=Ft.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function VO(e,t,n){var r=Ft.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function _te(e,t,n){var r=Ft.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function wte(e,t,n){var r=Ft.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Ete(e,t,n){var r=Ft.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Ste(e,t,n){var r=Ft.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Ate(e,t,n){var r=ute.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Tte(e,t,n){var r=Ft.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Cte(e,t,n){var r=Ft.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function UO(e,t){return Ee(e.getDate(),t,2)}function Nte(e,t){return Ee(e.getHours(),t,2)}function Ote(e,t){return Ee(e.getHours()%12||12,t,2)}function Ite(e,t){return Ee(1+Td.count(ta(e),e),t,3)}function JL(e,t){return Ee(e.getMilliseconds(),t,3)}function Pte(e,t){return JL(e,t)+"000"}function jte(e,t){return Ee(e.getMonth()+1,t,2)}function Rte(e,t){return Ee(e.getMinutes(),t,2)}function Dte(e,t){return Ee(e.getSeconds(),t,2)}function kte(e){var t=e.getDay();return t===0?7:t}function Mte(e,t){return Ee(Ty.count(ta(e)-1,e),t,2)}function e3(e){var t=e.getDay();return t>=4||t===0?eu(e):eu.ceil(e)}function Lte(e,t){return e=e3(e),Ee(eu.count(ta(e),e)+(ta(e).getDay()===4),t,2)}function Vte(e){return e.getDay()}function Ute(e,t){return Ee(qp.count(ta(e)-1,e),t,2)}function zte(e,t){return Ee(e.getFullYear()%100,t,2)}function Bte(e,t){return e=e3(e),Ee(e.getFullYear()%100,t,2)}function $te(e,t){return Ee(e.getFullYear()%1e4,t,4)}function Fte(e,t){var n=e.getDay();return e=n>=4||n===0?eu(e):eu.ceil(e),Ee(e.getFullYear()%1e4,t,4)}function qte(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ee(t/60|0,"0",2)+Ee(t%60,"0",2)}function zO(e,t){return Ee(e.getUTCDate(),t,2)}function Hte(e,t){return Ee(e.getUTCHours(),t,2)}function Gte(e,t){return Ee(e.getUTCHours()%12||12,t,2)}function Kte(e,t){return Ee(1+Ay.count(na(e),e),t,3)}function t3(e,t){return Ee(e.getUTCMilliseconds(),t,3)}function Yte(e,t){return t3(e,t)+"000"}function Wte(e,t){return Ee(e.getUTCMonth()+1,t,2)}function Xte(e,t){return Ee(e.getUTCMinutes(),t,2)}function Qte(e,t){return Ee(e.getUTCSeconds(),t,2)}function Zte(e){var t=e.getUTCDay();return t===0?7:t}function Jte(e,t){return Ee(Cy.count(na(e)-1,e),t,2)}function n3(e){var t=e.getUTCDay();return t>=4||t===0?tu(e):tu.ceil(e)}function ene(e,t){return e=n3(e),Ee(tu.count(na(e),e)+(na(e).getUTCDay()===4),t,2)}function tne(e){return e.getUTCDay()}function nne(e,t){return Ee(Hp.count(na(e)-1,e),t,2)}function rne(e,t){return Ee(e.getUTCFullYear()%100,t,2)}function ine(e,t){return e=n3(e),Ee(e.getUTCFullYear()%100,t,2)}function ane(e,t){return Ee(e.getUTCFullYear()%1e4,t,4)}function sne(e,t){var n=e.getUTCDay();return e=n>=4||n===0?tu(e):tu.ceil(e),Ee(e.getUTCFullYear()%1e4,t,4)}function one(){return"+0000"}function BO(){return"%"}function $O(e){return+e}function FO(e){return Math.floor(+e/1e3)}var $o,r3,i3;lne({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function lne(e){return $o=lte(e),r3=$o.format,$o.parse,i3=$o.utcFormat,$o.utcParse,$o}function une(e){return new Date(e)}function cne(e){return e instanceof Date?+e:+new Date(+e)}function $1(e,t,n,r,i,a,s,o,l,u){var c=N1(),f=c.invert,h=c.domain,p=u(".%L"),g=u(":%S"),_=u("%I:%M"),b=u("%I %p"),w=u("%a %d"),x=u("%b %d"),E=u("%B"),T=u("%Y");function I(k){return(l(k)<k?p:o(k)<k?g:s(k)<k?_:a(k)<k?b:r(k)<k?i(k)<k?w:x:n(k)<k?E:T)(k)}return c.invert=function(k){return new Date(f(k))},c.domain=function(k){return arguments.length?h(Array.from(k,cne)):h().map(une)},c.ticks=function(k){var A=h();return e(A[0],A[A.length-1],k??10)},c.tickFormat=function(k,A){return A==null?I:u(A)},c.nice=function(k){var A=h();return(!k||typeof k.range!="function")&&(k=t(A[0],A[A.length-1],k??10)),k?h(qL(A,k)):c},c.copy=function(){return Ad(c,$1(e,t,n,r,i,a,s,o,l,u))},c}function fne(){return Ar.apply($1(ste,ote,ta,z1,Ty,Td,V1,M1,Ys,r3).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function dne(){return Ar.apply($1(ite,ate,na,B1,Cy,Ay,U1,L1,Ys,i3).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ny(){var e=0,t=1,n,r,i,a,s=Sn,o=!1,l;function u(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(a(f)-n)*i,o?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(f){return arguments.length?(o=!!f,u):o},u.interpolator=function(f){return arguments.length?(s=f,u):s};function c(f){return function(h){var p,g;return arguments.length?([p,g]=h,s=f(p,g),u):[s(0),s(1)]}}return u.range=c(Eu),u.rangeRound=c(C1),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return a=f,n=f(e),r=f(t),i=n===r?0:1/(r-n),u}}function Ns(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function a3(){var e=Cs(Ny()(Sn));return e.copy=function(){return Ns(e,a3())},ua.apply(e,arguments)}function s3(){var e=P1(Ny()).domain([1,10]);return e.copy=function(){return Ns(e,s3()).base(e.base())},ua.apply(e,arguments)}function o3(){var e=j1(Ny());return e.copy=function(){return Ns(e,o3()).constant(e.constant())},ua.apply(e,arguments)}function F1(){var e=R1(Ny());return e.copy=function(){return Ns(e,F1()).exponent(e.exponent())},ua.apply(e,arguments)}function hne(){return F1.apply(null,arguments).exponent(.5)}function l3(){var e=[],t=Sn;function n(r){if(r!=null&&!isNaN(r=+r))return t((Ed(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(as),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>ZJ(e,a/r))},n.copy=function(){return l3(t).domain(e)},ua.apply(n,arguments)}function Oy(){var e=0,t=.5,n=1,r=1,i,a,s,o,l,u=Sn,c,f=!1,h;function p(_){return isNaN(_=+_)?h:(_=.5+((_=+c(_))-a)*(r*_<r*a?o:l),u(f?Math.max(0,Math.min(1,_)):_))}p.domain=function(_){return arguments.length?([e,t,n]=_,i=c(e=+e),a=c(t=+t),s=c(n=+n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,p):[e,t,n]},p.clamp=function(_){return arguments.length?(f=!!_,p):f},p.interpolator=function(_){return arguments.length?(u=_,p):u};function g(_){return function(b){var w,x,E;return arguments.length?([w,x,E]=b,u=Aee(_,[w,x,E]),p):[u(0),u(.5),u(1)]}}return p.range=g(Eu),p.rangeRound=g(C1),p.unknown=function(_){return arguments.length?(h=_,p):h},function(_){return c=_,i=_(e),a=_(t),s=_(n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,p}}function u3(){var e=Cs(Oy()(Sn));return e.copy=function(){return Ns(e,u3())},ua.apply(e,arguments)}function c3(){var e=P1(Oy()).domain([.1,1,10]);return e.copy=function(){return Ns(e,c3()).base(e.base())},ua.apply(e,arguments)}function f3(){var e=j1(Oy());return e.copy=function(){return Ns(e,f3()).constant(e.constant())},ua.apply(e,arguments)}function q1(){var e=R1(Oy());return e.copy=function(){return Ns(e,q1()).exponent(e.exponent())},ua.apply(e,arguments)}function mne(){return q1.apply(null,arguments).exponent(.5)}const Sc=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:S1,scaleDiverging:u3,scaleDivergingLog:c3,scaleDivergingPow:q1,scaleDivergingSqrt:mne,scaleDivergingSymlog:f3,scaleIdentity:FL,scaleImplicit:jx,scaleLinear:$L,scaleLog:HL,scaleOrdinal:E1,scalePoint:tee,scalePow:D1,scaleQuantile:YL,scaleQuantize:WL,scaleRadial:KL,scaleSequential:a3,scaleSequentialLog:s3,scaleSequentialPow:F1,scaleSequentialQuantile:l3,scaleSequentialSqrt:hne,scaleSequentialSymlog:o3,scaleSqrt:Yee,scaleSymlog:GL,scaleThreshold:XL,scaleTime:fne,scaleUtc:dne,tickFormat:BL},Symbol.toStringTag,{value:"Module"}));var ca=e=>e.chartData,d3=V([ca],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),h3=(e,t,n,r)=>r?d3(e):ca(e),pne=(e,t,n)=>n?d3(e):ca(e);function ra(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(be(t)&&be(n))return!0}return!1}function qO(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function m3(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,a;if(be(n))i=n;else if(typeof n=="function")return;if(be(r))a=r;else if(typeof r=="function")return;var s=[i,a];if(ra(s))return s}}function gne(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(ra(r))return qO(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,s,o;if(i==="auto")t!=null&&(s=Math.min(...t));else if(Q(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&cN.test(i)){var l=cN.exec(i);if(l==null||l[1]==null||t==null)s=void 0;else{var u=+l[1];s=t[0]-u}}else s=t==null?void 0:t[0];if(a==="auto")t!=null&&(o=Math.max(...t));else if(Q(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&fN.test(a)){var c=fN.exec(a);if(c==null||c[1]==null||t==null)o=void 0;else{var f=+c[1];o=t[1]+f}}else o=t==null?void 0:t[1];var h=[s,o];if(ra(h))return t==null?h:qO(h,t,n)}}}var Su=1e9,yne={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},G1,Qe=!0,Er="[DecimalError] ",io=Er+"Invalid argument: ",H1=Er+"Exponent out of range: ",Au=Math.floor,qs=Math.pow,vne=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Kn,Vt=1e7,$e=7,p3=9007199254740991,Gp=Au(p3/$e),X={};X.absoluteValue=X.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};X.comparedTo=X.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};X.decimalPlaces=X.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*$e;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};X.dividedBy=X.div=function(e){return Bi(this,new this.constructor(e))};X.dividedToIntegerBy=X.idiv=function(e){var t=this,n=t.constructor;return ke(Bi(t,new n(e),0,1),n.precision)};X.equals=X.eq=function(e){return!this.cmp(e)};X.exponent=function(){return wt(this)};X.greaterThan=X.gt=function(e){return this.cmp(e)>0};X.greaterThanOrEqualTo=X.gte=function(e){return this.cmp(e)>=0};X.isInteger=X.isint=function(){return this.e>this.d.length-2};X.isNegative=X.isneg=function(){return this.s<0};X.isPositive=X.ispos=function(){return this.s>0};X.isZero=function(){return this.s===0};X.lessThan=X.lt=function(e){return this.cmp(e)<0};X.lessThanOrEqualTo=X.lte=function(e){return this.cmp(e)<1};X.logarithm=X.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Kn))throw Error(Er+"NaN");if(n.s<1)throw Error(Er+(n.s?"NaN":"-Infinity"));return n.eq(Kn)?new r(0):(Qe=!1,t=Bi(Lf(n,a),Lf(e,a),a),Qe=!0,ke(t,i))};X.minus=X.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?v3(t,e):g3(t,(e.s=-e.s,e))};X.modulo=X.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Er+"NaN");return n.s?(Qe=!1,t=Bi(n,e,0,1).times(e),Qe=!0,n.minus(t)):ke(new r(n),i)};X.naturalExponential=X.exp=function(){return y3(this)};X.naturalLogarithm=X.ln=function(){return Lf(this)};X.negated=X.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};X.plus=X.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?g3(t,e):v3(t,(e.s=-e.s,e))};X.precision=X.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(io+e);if(t=wt(i)+1,r=i.d.length-1,n=r*$e+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};X.squareRoot=X.sqrt=function(){var e,t,n,r,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Er+"NaN")}for(e=wt(o),Qe=!1,i=Math.sqrt(+o),i==0||i==1/0?(t=ti(o.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Au((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new l(t)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(a=r,r=a.plus(Bi(o,a,s+2)).times(.5),ti(a.d).slice(0,s)===(t=ti(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(ke(a,n+1,0),a.times(a).eq(o)){r=a;break}}else if(t!="9999")break;s+=4}return Qe=!0,ke(r,n)};X.times=X.mul=function(e){var t,n,r,i,a,s,o,l,u,c=this,f=c.constructor,h=c.d,p=(e=new f(e)).d;if(!c.s||!e.s)return new f(0);for(e.s*=c.s,n=c.e+e.e,l=h.length,u=p.length,l<u&&(a=h,h=p,p=a,s=l,l=u,u=s),a=[],s=l+u,r=s;r--;)a.push(0);for(r=u;--r>=0;){for(t=0,i=l+r;i>r;)o=a[i]+p[r]*h[i-r-1]+t,a[i--]=o%Vt|0,t=o/Vt|0;a[i]=(a[i]+t)%Vt|0}for(;!a[--s];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,Qe?ke(e,f.precision):e};X.toDecimalPlaces=X.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(pi(e,0,Su),t===void 0?t=r.rounding:pi(t,0,8),ke(n,e+wt(n)+1,t))};X.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=Eo(r,!0):(pi(e,0,Su),t===void 0?t=i.rounding:pi(t,0,8),r=ke(new i(r),e+1,t),n=Eo(r,!0,e+1)),n};X.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?Eo(i):(pi(e,0,Su),t===void 0?t=a.rounding:pi(t,0,8),r=ke(new a(i),e+wt(i)+1,t),n=Eo(r.abs(),!1,e+wt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};X.toInteger=X.toint=function(){var e=this,t=e.constructor;return ke(new t(e),wt(e)+1,t.rounding)};X.toNumber=function(){return+this};X.toPower=X.pow=function(e){var t,n,r,i,a,s,o=this,l=o.constructor,u=12,c=+(e=new l(e));if(!e.s)return new l(Kn);if(o=new l(o),!o.s){if(e.s<1)throw Error(Er+"Infinity");return o}if(o.eq(Kn))return o;if(r=l.precision,e.eq(Kn))return ke(o,r);if(t=e.e,n=e.d.length-1,s=t>=n,a=o.s,s){if((n=c<0?-c:c)<=p3){for(i=new l(Kn),t=Math.ceil(r/$e+4),Qe=!1;n%2&&(i=i.times(o),GO(i.d,t)),n=Au(n/2),n!==0;)o=o.times(o),GO(o.d,t);return Qe=!0,e.s<0?new l(Kn).div(i):ke(i,r)}}else if(a<0)throw Error(Er+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,o.s=1,Qe=!1,i=e.times(Lf(o,r+u)),Qe=!0,i=y3(i),i.s=a,i};X.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=wt(i),r=Eo(i,n<=a.toExpNeg||n>=a.toExpPos)):(pi(e,1,Su),t===void 0?t=a.rounding:pi(t,0,8),i=ke(new a(i),e,t),n=wt(i),r=Eo(i,e<=n||n<=a.toExpNeg,e)),r};X.toSignificantDigits=X.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(pi(e,1,Su),t===void 0?t=r.rounding:pi(t,0,8)),ke(new r(n),e,t)};X.toString=X.valueOf=X.val=X.toJSON=X[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=wt(e),n=e.constructor;return Eo(e,t<=n.toExpNeg||t>=n.toExpPos)};function g3(e,t){var n,r,i,a,s,o,l,u,c=e.constructor,f=c.precision;if(!e.s||!t.s)return t.s||(t=new c(e)),Qe?ke(t,f):t;if(l=e.d,u=t.d,s=e.e,i=t.e,l=l.slice(),a=s-i,a){for(a<0?(r=l,a=-a,o=u.length):(r=u,i=s,o=l.length),s=Math.ceil(f/$e),o=s>o?s+1:o+1,a>o&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(o=l.length,a=u.length,o-a<0&&(a=o,r=u,u=l,l=r),n=0;a;)n=(l[--a]=l[a]+u[a]+n)/Vt|0,l[a]%=Vt;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=i,Qe?ke(t,f):t}function pi(e,t,n){if(e!==~~e||e<t||e>n)throw Error(io+e)}function ti(e){var t,n,r,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)r=e[t]+"",n=$e-r.length,n&&(a+=Aa(n)),a+=r;s=e[t],r=s+"",n=$e-r.length,n&&(a+=Aa(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Bi=function(){function e(r,i){var a,s=0,o=r.length;for(r=r.slice();o--;)a=r[o]*i+s,r[o]=a%Vt|0,s=a/Vt|0;return s&&r.unshift(s),r}function t(r,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*Vt+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var o,l,u,c,f,h,p,g,_,b,w,x,E,T,I,k,A,C,N=r.constructor,j=r.s==i.s?1:-1,R=r.d,P=i.d;if(!r.s)return new N(r);if(!i.s)throw Error(Er+"Division by zero");for(l=r.e-i.e,A=P.length,I=R.length,p=new N(j),g=p.d=[],u=0;P[u]==(R[u]||0);)++u;if(P[u]>(R[u]||0)&&--l,a==null?x=a=N.precision:s?x=a+(wt(r)-wt(i))+1:x=a,x<0)return new N(0);if(x=x/$e+2|0,u=0,A==1)for(c=0,P=P[0],x++;(u<I||c)&&x--;u++)E=c*Vt+(R[u]||0),g[u]=E/P|0,c=E%P|0;else{for(c=Vt/(P[0]+1)|0,c>1&&(P=e(P,c),R=e(R,c),A=P.length,I=R.length),T=A,_=R.slice(0,A),b=_.length;b<A;)_[b++]=0;C=P.slice(),C.unshift(0),k=P[0],P[1]>=Vt/2&&++k;do c=0,o=t(P,_,A,b),o<0?(w=_[0],A!=b&&(w=w*Vt+(_[1]||0)),c=w/k|0,c>1?(c>=Vt&&(c=Vt-1),f=e(P,c),h=f.length,b=_.length,o=t(f,_,h,b),o==1&&(c--,n(f,A<h?C:P,h))):(c==0&&(o=c=1),f=P.slice()),h=f.length,h<b&&f.unshift(0),n(_,f,b),o==-1&&(b=_.length,o=t(P,_,A,b),o<1&&(c++,n(_,A<b?C:P,b))),b=_.length):o===0&&(c++,_=[0]),g[u++]=c,o&&_[0]?_[b++]=R[T]||0:(_=[R[T]],b=1);while((T++<I||_[0]!==void 0)&&x--)}return g[0]||g.shift(),p.e=l,ke(p,s?a+wt(p)+1:a)}}();function y3(e,t){var n,r,i,a,s,o,l=0,u=0,c=e.constructor,f=c.precision;if(wt(e)>16)throw Error(H1+wt(e));if(!e.s)return new c(Kn);for(Qe=!1,o=f,s=new c(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(r=Math.log(qs(2,u))/Math.LN10*2+5|0,o+=r,n=i=a=new c(Kn),c.precision=o;;){if(i=ke(i.times(e),o),n=n.times(++l),s=a.plus(Bi(i,n,o)),ti(s.d).slice(0,o)===ti(a.d).slice(0,o)){for(;u--;)a=ke(a.times(a),o);return c.precision=f,t==null?(Qe=!0,ke(a,f)):a}a=s}}function wt(e){for(var t=e.e*$e,n=e.d[0];n>=10;n/=10)t++;return t}function w0(e,t,n){if(t>e.LN10.sd())throw Qe=!0,n&&(e.precision=n),Error(Er+"LN10 precision limit exceeded");return ke(new e(e.LN10),t)}function Aa(e){for(var t="";e--;)t+="0";return t}function Lf(e,t){var n,r,i,a,s,o,l,u,c,f=1,h=10,p=e,g=p.d,_=p.constructor,b=_.precision;if(p.s<1)throw Error(Er+(p.s?"NaN":"-Infinity"));if(p.eq(Kn))return new _(0);if(t==null?(Qe=!1,u=b):u=t,p.eq(10))return t==null&&(Qe=!0),w0(_,u);if(u+=h,_.precision=u,n=ti(g),r=n.charAt(0),a=wt(p),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(e),n=ti(p.d),r=n.charAt(0),f++;a=wt(p),r>1?(p=new _("0."+n),a++):p=new _(r+"."+n.slice(1))}else return l=w0(_,u+2,b).times(a+""),p=Lf(new _(r+"."+n.slice(1)),u-h).plus(l),_.precision=b,t==null?(Qe=!0,ke(p,b)):p;for(o=s=p=Bi(p.minus(Kn),p.plus(Kn),u),c=ke(p.times(p),u),i=3;;){if(s=ke(s.times(c),u),l=o.plus(Bi(s,new _(i),u)),ti(l.d).slice(0,u)===ti(o.d).slice(0,u))return o=o.times(2),a!==0&&(o=o.plus(w0(_,u+2,b).times(a+""))),o=Bi(o,new _(f),u),_.precision=b,t==null?(Qe=!0,ke(o,b)):o;o=l,i+=2}}function HO(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Au(n/$e),e.d=[],r=(n+1)%$e,n<0&&(r+=$e),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=$e;r<i;)e.d.push(+t.slice(r,r+=$e));t=t.slice(r),r=$e-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),Qe&&(e.e>Gp||e.e<-Gp))throw Error(H1+n)}else e.s=0,e.e=0,e.d=[0];return e}function ke(e,t,n){var r,i,a,s,o,l,u,c,f=e.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(r=t-s,r<0)r+=$e,i=t,u=f[c=0];else{if(c=Math.ceil((r+1)/$e),a=f.length,c>=a)return e;for(u=a=f[c],s=1;a>=10;a/=10)s++;r%=$e,i=r-$e+s}if(n!==void 0&&(a=qs(10,s-i-1),o=u/a%10|0,l=t<0||f[c+1]!==void 0||u%a,l=n<4?(o||l)&&(n==0||n==(e.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?u/qs(10,s-i):0:f[c-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return l?(a=wt(e),f.length=1,t=t-a-1,f[0]=qs(10,($e-t%$e)%$e),e.e=Au(-t/$e)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=c,a=1,c--):(f.length=c+1,a=qs(10,$e-r),f[c]=i>0?(u/qs(10,s-i)%qs(10,i)|0)*a:0),l)for(;;)if(c==0){(f[0]+=a)==Vt&&(f[0]=1,++e.e);break}else{if(f[c]+=a,f[c]!=Vt)break;f[c--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(Qe&&(e.e>Gp||e.e<-Gp))throw Error(H1+wt(e));return e}function v3(e,t){var n,r,i,a,s,o,l,u,c,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Qe?ke(t,p):t;if(l=e.d,f=t.d,r=t.e,u=e.e,l=l.slice(),s=u-r,s){for(c=s<0,c?(n=l,s=-s,o=f.length):(n=f,r=u,o=l.length),i=Math.max(Math.ceil(p/$e),o)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=f.length,c=i<o,c&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}s=0}for(c&&(n=l,l=f,f=n,t.s=-t.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=Vt-1;--l[a],l[i]+=Vt}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=r,Qe?ke(t,p):t):new h(0)}function Eo(e,t,n){var r,i=wt(e),a=ti(e.d),s=a.length;return t?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+Aa(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Aa(-i-1)+a,n&&(r=n-s)>0&&(a+=Aa(r))):i>=s?(a+=Aa(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+Aa(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=Aa(r))),e.s<0?"-"+a:a}function GO(e,t){if(e.length>t)return e.length=t,!0}function b3(e){var t,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(io+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return HO(s,a.toString())}else if(typeof a!="string")throw Error(io+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,vne.test(a))HO(s,a);else throw Error(io+a)}if(i.prototype=X,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=b3,i.config=i.set=bne,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function bne(e){if(!e||typeof e!="object")throw Error(Er+"Object expected");var t,n,r,i=["precision",1,Su,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Au(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(io+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(io+n+": "+r);return this}var G1=b3(yne);Kn=new G1(1);const Oe=G1;function x3(e){var t;return e===0?t=1:t=Math.floor(new Oe(e).abs().log(10).toNumber())+1,t}function _3(e,t,n){for(var r=new Oe(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var w3=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},E3=(e,t,n)=>{if(e.lte(0))return new Oe(0);var r=x3(e.toNumber()),i=new Oe(10).pow(r),a=e.div(i),s=r!==1?.05:.1,o=new Oe(Math.ceil(a.div(s).toNumber())).add(n).mul(s),l=o.mul(i);return t?new Oe(l.toNumber()):new Oe(Math.ceil(l.toNumber()))},xne=(e,t,n)=>{var r=new Oe(1),i=new Oe(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new Oe(10).pow(x3(e)-1),i=new Oe(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Oe(Math.floor(e)))}else e===0?i=new Oe(Math.floor((t-1)/2)):n||(i=new Oe(Math.floor(e)));for(var s=Math.floor((t-1)/2),o=[],l=0;l<t;l++)o.push(i.add(new Oe(l-s).mul(r)).toNumber());return o},S3=function(t,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Oe(0),tickMin:new Oe(0),tickMax:new Oe(0)};var s=E3(new Oe(n).sub(t).div(r-1),i,a),o;t<=0&&n>=0?o=new Oe(0):(o=new Oe(t).add(n).div(2),o=o.sub(new Oe(o).mod(s)));var l=Math.ceil(o.sub(t).div(s).toNumber()),u=Math.ceil(new Oe(n).sub(o).div(s).toNumber()),c=l+u+1;return c>r?S3(t,n,r,i,a+1):(c<r&&(u=n>0?u+(r-c):u,l=n>0?l:l+(r-c)),{step:s,tickMin:o.sub(new Oe(l).mul(s)),tickMax:o.add(new Oe(u).mul(s))})},_ne=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[o,l]=w3([n,r]);if(o===-1/0||l===1/0){var u=l===1/0?[o,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),l];return n>r?u.reverse():u}if(o===l)return xne(o,i,a);var{step:c,tickMin:f,tickMax:h}=S3(o,l,s,a,0),p=_3(f,h.add(new Oe(.1).mul(c)),c);return n>r?p.reverse():p},wne=function(t,n){var[r,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,o]=w3([r,i]);if(s===-1/0||o===1/0)return[r,i];if(s===o)return[s];var l=Math.max(n,2),u=E3(new Oe(o).sub(s).div(l-1),a,0),c=[..._3(new Oe(s),new Oe(o),u),o];return a===!1&&(c=c.map(f=>Math.round(f))),r>i?c.reverse():c},Ene=e=>e.rootProps.barCategoryGap,Iy=e=>e.rootProps.stackOffset,A3=e=>e.rootProps.reverseStackOrder,K1=e=>e.options.chartName,Y1=e=>e.rootProps.syncId,T3=e=>e.rootProps.syncMethod,W1=e=>e.options.eventEmitter,Sne=e=>e.rootProps.baseValue,An={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Ms={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},Gr={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},Py=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t};function jy(e,t,n){if(n!=="auto")return n;if(e!=null)return bi(e,t)?"category":"number"}function KO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Kp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KO(Object(n),!0).forEach(function(r){Ane(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ane(e,t,n){return(t=Tne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tne(e){var t=Cne(e,"string");return typeof t=="symbol"?t:t+""}function Cne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YO={allowDataOverflow:Ms.allowDataOverflow,allowDecimals:Ms.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ms.angleAxisId,includeHidden:!1,name:void 0,reversed:Ms.reversed,scale:Ms.scale,tick:Ms.tick,tickCount:void 0,ticks:void 0,type:Ms.type,unit:void 0},WO={allowDataOverflow:Gr.allowDataOverflow,allowDecimals:Gr.allowDecimals,allowDuplicatedCategory:Gr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Gr.radiusAxisId,includeHidden:Gr.includeHidden,name:void 0,reversed:Gr.reversed,scale:Gr.scale,tick:Gr.tick,tickCount:Gr.tickCount,ticks:void 0,type:Gr.type,unit:void 0},Nne=(e,t)=>{if(t!=null)return e.polarAxis.angleAxis[t]},X1=V([Nne,hL],(e,t)=>{var n;if(e!=null)return e;var r=(n=jy(t,"angleAxis",YO.type))!==null&&n!==void 0?n:"category";return Kp(Kp({},YO),{},{type:r})}),One=(e,t)=>e.polarAxis.radiusAxis[t],Q1=V([One,hL],(e,t)=>{var n;if(e!=null)return e;var r=(n=jy(t,"radiusAxis",WO.type))!==null&&n!==void 0?n:"category";return Kp(Kp({},WO),{},{type:r})}),Ry=e=>e.polarOptions,Z1=V([oa,la,un],OJ),C3=V([Ry,Z1],(e,t)=>{if(e!=null)return bs(e.innerRadius,t,0)}),N3=V([Ry,Z1],(e,t)=>{if(e!=null)return bs(e.outerRadius,t,t*.8)}),Ine=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},O3=V([Ry],Ine);V([X1,O3],Py);var I3=V([Z1,C3,N3],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});V([Q1,I3],Py);var P3=V([Ze,Ry,C3,N3,oa,la],(e,t,n,r,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:s,cy:o,startAngle:l,endAngle:u}=t;return{cx:bs(s,i,i/2),cy:bs(o,a,a/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:u,clockWise:!1}}}),qt=(e,t)=>t,Dy=(e,t,n)=>n;function J1(e){return e==null?void 0:e.id}function j3(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,s=new Map;return e.forEach(o=>{var l,u=(l=o.data)!==null&&l!==void 0?l:r;if(!(u==null||u.length===0)){var c=J1(o);u.forEach((f,h)=>{var p=a==null||i?h:String(on(f,a,null)),g=on(f,o.dataKey,0),_;s.has(p)?_=s.get(p):_={},Object.assign(_,{[c]:g}),s.set(p,_)})}}),Array.from(s.values())}function eE(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var ky=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function My(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function Pne(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var Ht=e=>{var t=Ze(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Tu=e=>e.tooltip.settings.axisId;function jne(e){if(e in Sc)return Sc[e]();var t="scale".concat(Zw(e));if(t in Sc)return Sc[t]()}function XO(e){var t=e.ticks,n=e.bandwidth,r=e.range(),i=[Math.min(...r),Math.max(...r)];return{domain:()=>e.domain(),range:function(a){function s(){return a.apply(this,arguments)}return s.toString=function(){return a.toString()},s}(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(a){var s=i[0],o=i[1];return s<=o?a>=s&&a<=o:a>=o&&a<=s},bandwidth:n?()=>n.call(e):void 0,ticks:t?a=>t.call(e,a):void 0,map:(a,s)=>{var o=e(a);if(o!=null){if(e.bandwidth&&s!==null&&s!==void 0&&s.position){var l=e.bandwidth();switch(s.position){case"middle":o+=l/2;break;case"end":o+=l;break}}return o}}}}function QO(e,t,n){if(typeof e=="function")return XO(e.copy().domain(t).range(n));if(e!=null){var r=jne(e);if(r!=null)return r.domain(t).range(n),XO(r)}}var Rne=(e,t)=>{if(t!=null)switch(e){case"linear":{if(!ra(t)){for(var n,r,i=0;i<t.length;i++){var a=t[i];be(a)&&((n===void 0||a<n)&&(n=a),(r===void 0||a>r)&&(r=a))}return n!==void 0&&r!==void 0?[n,r]:void 0}return t}default:return t}};function ZO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Yp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZO(Object(n),!0).forEach(function(r){Dne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Dne(e,t,n){return(t=kne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kne(e){var t=Mne(e,"string");return typeof t=="symbol"?t:t+""}function Mne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mx=[0,"auto"],kt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},R3=(e,t)=>e.cartesianAxis.xAxis[t],fa=(e,t)=>{var n=R3(e,t);return n??kt},Mt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Mx,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:bd},D3=(e,t)=>e.cartesianAxis.yAxis[t],da=(e,t)=>{var n=D3(e,t);return n??Mt},Lne={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},tE=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??Lne},Nn=(e,t,n)=>{switch(t){case"xAxis":return fa(e,n);case"yAxis":return da(e,n);case"zAxis":return tE(e,n);case"angleAxis":return X1(e,n);case"radiusAxis":return Q1(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Vne=(e,t,n)=>{switch(t){case"xAxis":return fa(e,n);case"yAxis":return da(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Cd=(e,t,n)=>{switch(t){case"xAxis":return fa(e,n);case"yAxis":return da(e,n);case"angleAxis":return X1(e,n);case"radiusAxis":return Q1(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},k3=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function M3(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var L3=e=>e.graphicalItems.cartesianItems,Une=V([qt,Dy],M3),V3=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),Nd=V([L3,Nn,Une],V3,{memoizeOptions:{resultEqualityCheck:My}}),U3=V([Nd],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(eE)),z3=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),zne=V([Nd],z3),B3=e=>e.map(t=>t.data).filter(Boolean).flat(1),Bne=V([Nd],B3,{memoizeOptions:{resultEqualityCheck:My}}),$3=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},nE=V([Bne,h3],$3),F3=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:on(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:on(i,r)}))):e.map(r=>({value:r})),Ly=V([nE,Nn,Nd],F3);function q3(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function ym(e){if(hi(e)||e instanceof Date){var t=Number(e);if(be(t))return t}}function JO(e){if(Array.isArray(e)){var t=[ym(e[0]),ym(e[1])];return ra(t)?t:void 0}var n=ym(e);if(n!=null)return[n,n]}function ia(e){return e.map(ym).filter(kn)}function $ne(e,t,n){return!n||typeof t!="number"||di(t)?[]:n.length?ia(n.flatMap(r=>{var i=on(e,r.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!be(a)||!be(s)))return[t-a,t+s]})):[]}var It=e=>{var t=Ht(e),n=Tu(e);return Cd(e,t,n)},Od=V([It],e=>e==null?void 0:e.dataKey),Fne=V([U3,h3,It],j3),H3=(e,t,n,r)=>{var i={},a=t.reduce((s,o)=>{if(o.stackId==null)return s;var l=s[o.stackId];return l==null&&(l=[]),l.push(o),s[o.stackId]=l,s},i);return Object.fromEntries(Object.entries(a).map(s=>{var[o,l]=s,u=r?[...l].reverse():l,c=u.map(J1);return[o,{stackedData:wQ(e,c,n),graphicalItems:u}]}))},G3=V([Fne,U3,Iy,A3],H3),K3=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(r==null&&n!=="zAxis"){var s=TQ(e,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},qne=V([Nn],e=>e.allowDataOverflow),rE=e=>{var t;if(e==null||!("domain"in e))return Mx;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=ia(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Mx},Y3=V([Nn],rE),W3=V([Y3,qne],m3),Hne=V([G3,ca,qt,W3],K3,{memoizeOptions:{resultEqualityCheck:ky}}),iE=e=>e.errorBars,Gne=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>q3(n,r)),Wp=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),o=Math.max(...a);return[s,o]}},X3=(e,t,n,r,i)=>{var a,s;if(n.length>0&&e.forEach(o=>{n.forEach(l=>{var u,c,f=(u=r[l.id])===null||u===void 0?void 0:u.filter(w=>q3(i,w)),h=on(o,(c=t.dataKey)!==null&&c!==void 0?c:l.dataKey),p=$ne(o,h,f);if(p.length>=2){var g=Math.min(...p),_=Math.max(...p);(a==null||g<a)&&(a=g),(s==null||_>s)&&(s=_)}var b=JO(h);b!=null&&(a=a==null?b[0]:Math.min(a,b[0]),s=s==null?b[1]:Math.max(s,b[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(o=>{var l=JO(on(o,t.dataKey));l!=null&&(a=a==null?l[0]:Math.min(a,l[0]),s=s==null?l[1]:Math.max(s,l[1]))}),be(a)&&be(s))return[a,s]},Kne=V([nE,Nn,zne,iE,qt],X3,{memoizeOptions:{resultEqualityCheck:ky}});function Yne(e){var{value:t}=e;if(hi(t)||t instanceof Date)return t}var Wne=(e,t,n)=>{var r=e.map(Yne).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&HM(r))?jL(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},Q3=e=>e.referenceElements.dots,Cu=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),Xne=V([Q3,qt,Dy],Cu),Z3=e=>e.referenceElements.areas,Qne=V([Z3,qt,Dy],Cu),J3=e=>e.referenceElements.lines,Zne=V([J3,qt,Dy],Cu),e6=(e,t)=>{if(e!=null){var n=ia(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Jne=V(Xne,qt,e6),t6=(e,t)=>{if(e!=null){var n=ia(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},ere=V([Qne,qt],t6);function tre(e){var t;if(e.x!=null)return ia([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:ia(n)}function nre(e){var t;if(e.y!=null)return ia([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:ia(n)}var n6=(e,t)=>{if(e!=null){var n=e.flatMap(r=>t==="xAxis"?tre(r):nre(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},rre=V([Zne,qt],n6),ire=V(Jne,rre,ere,(e,t,n)=>Wp(e,n,t)),r6=(e,t,n,r,i,a,s,o)=>{if(n!=null)return n;var l=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",u=l?Wp(r,a,i):Wp(a,i);return gne(t,u,e.allowDataOverflow)},are=V([Nn,Y3,W3,Hne,Kne,ire,Ze,qt],r6,{memoizeOptions:{resultEqualityCheck:ky}}),sre=[0,1],i6=(e,t,n,r,i,a,s)=>{if(!((e==null||n==null||n.length===0)&&s===void 0)){var{dataKey:o,type:l}=e,u=bi(t,a);if(u&&o==null){var c;return jL(0,(c=n==null?void 0:n.length)!==null&&c!==void 0?c:0)}return l==="category"?Wne(r,e,u):i==="expand"?sre:s}},aE=V([Nn,Ze,nE,Ly,Iy,qt,are],i6);function ore(e){return e in Sc}var a6=(e,t,n)=>{if(e!=null){var{scale:r,type:i}=e;if(r==="auto")return i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!t)?"point":i==="category"?"band":"linear";if(typeof r=="string"){var a="scale".concat(Zw(r));return ore(a)?a:"point"}}},Nu=V([Nn,k3,K1],a6);function sE(e,t,n,r){if(!(n==null||r==null))return typeof e.scale=="function"?QO(e.scale,n,r):QO(t,n,r)}var s6=(e,t,n)=>{var r=rE(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&ra(e))return _ne(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&ra(e))return wne(e,t.tickCount,t.allowDecimals)}},oE=V([aE,Cd,Nu],s6),o6=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&ra(t)&&Array.isArray(n)&&n.length>0){var i,a,s=t[0],o=(i=n[0])!==null&&i!==void 0?i:0,l=t[1],u=(a=n[n.length-1])!==null&&a!==void 0?a:0;return[Math.min(s,o),Math.max(l,u)]}return t},lre=V([Nn,aE,oE,qt],o6),ure=V(Ly,Nn,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(ia(e.map(f=>f.value))).sort((f,h)=>f-h),i=r[0],a=r[r.length-1];if(i==null||a==null)return 1/0;var s=a-i;if(s===0)return 1/0;for(var o=0;o<r.length-1;o++){var l=r[o],u=r[o+1];if(!(l==null||u==null)){var c=u-l;n=Math.min(n,c)}}return n/s}}),l6=V(ure,Ze,Ene,un,(e,t,n,r,i)=>i,(e,t,n,r,i)=>{if(!be(e))return 0;var a=t==="vertical"?r.height:r.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var s=bs(n,e*a),o=e*a/2;return o-s-(o-s)/a*s}return 0}),cre=(e,t,n)=>{var r=fa(e,t);return r==null||typeof r.padding!="string"?0:l6(e,"xAxis",t,n,r.padding)},fre=(e,t,n)=>{var r=da(e,t);return r==null||typeof r.padding!="string"?0:l6(e,"yAxis",t,n,r.padding)},dre=V(fa,cre,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),hre=V(da,fre,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),mre=V([un,dre,by,vy,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),pre=V([un,Ze,hre,by,vy,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:s}=i;return a?[r.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Id=(e,t,n,r)=>{var i;switch(t){case"xAxis":return mre(e,n,r);case"yAxis":return pre(e,n,r);case"zAxis":return(i=tE(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return O3(e);case"radiusAxis":return I3(e,n);default:return}},u6=V([Nn,Id],Py),gre=V([Nu,lre],Rne),Vy=V([Nn,Nu,gre,u6],sE);V([Nd,iE,qt],Gne);function c6(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Uy=(e,t)=>t,zy=(e,t,n)=>n,yre=V(gy,Uy,zy,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(c6)),vre=V(yy,Uy,zy,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(c6)),f6=(e,t)=>({width:e.width,height:t.height}),bre=(e,t)=>{var n=typeof t.width=="number"?t.width:bd;return{width:n,height:e.height}},xre=V(un,fa,f6),_re=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},wre=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},Ere=V(la,un,yre,Uy,zy,(e,t,n,r,i)=>{var a={},s;return n.forEach(o=>{var l=f6(t,o);s==null&&(s=_re(t,r,e));var u=r==="top"&&!i||r==="bottom"&&i;a[o.id]=s-Number(u)*l.height,s+=(u?-1:1)*l.height}),a}),Sre=V(oa,un,vre,Uy,zy,(e,t,n,r,i)=>{var a={},s;return n.forEach(o=>{var l=bre(t,o);s==null&&(s=wre(t,r,e));var u=r==="left"&&!i||r==="right"&&i;a[o.id]=s-Number(u)*l.width,s+=(u?-1:1)*l.width}),a}),Are=(e,t)=>{var n=fa(e,t);if(n!=null)return Ere(e,n.orientation,n.mirror)},Tre=V([un,fa,Are,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),Cre=(e,t)=>{var n=da(e,t);if(n!=null)return Sre(e,n.orientation,n.mirror)},Nre=V([un,da,Cre,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),Ore=V(un,da,(e,t)=>{var n=typeof t.width=="number"?t.width:bd;return{width:n,height:e.height}}),d6=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=n,o=bi(e,r),l=t.map(u=>u.value);if(s&&o&&a==="category"&&i&&HM(l))return l}},lE=V([Ze,Ly,Nn,qt],d6),h6=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,s=bi(e,r);if(s&&(i==="number"||a!=="auto"))return t.map(o=>o.value)}},uE=V([Ze,Ly,Cd,qt],h6),e2=V([Ze,Vne,Nu,Vy,lE,uE,Id,oE,qt],(e,t,n,r,i,a,s,o,l)=>{if(t!=null){var u=bi(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:u,niceTicks:o,range:s,realScaleType:n,scale:r}}}),Ire=(e,t,n,r,i,a,s,o,l)=>{if(!(t==null||r==null)){var u=bi(e,l),{type:c,ticks:f,tickCount:h}=t,p=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,g=c==="category"&&r.bandwidth?r.bandwidth()/p:0;g=l==="angleAxis"&&a!=null&&a.length>=2?pr(a[0]-a[1])*2*g:g;var _=f||i;return _?_.map((b,w)=>{var x=s?s.indexOf(b):b,E=r.map(x);return be(E)?{index:w,coordinate:E+g,value:b,offset:g}:null}).filter(kn):u&&o?o.map((b,w)=>{var x=r.map(b);return be(x)?{coordinate:x+g,value:b,index:w,offset:g}:null}).filter(kn):r.ticks?r.ticks(h).map((b,w)=>{var x=r.map(b);return be(x)?{coordinate:x+g,value:b,index:w,offset:g}:null}).filter(kn):r.domain().map((b,w)=>{var x=r.map(b);return be(x)?{coordinate:x+g,value:s?s[b]:b,index:w,offset:g}:null}).filter(kn)}},m6=V([Ze,Cd,Nu,Vy,oE,Id,lE,uE,qt],Ire),Pre=(e,t,n,r,i,a,s)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var o=bi(e,s),{tickCount:l}=t,u=0;return u=s==="angleAxis"&&(r==null?void 0:r.length)>=2?pr(r[0]-r[1])*2*u:u,o&&a?a.map((c,f)=>{var h=n.map(c);return be(h)?{coordinate:h+u,value:c,index:f,offset:u}:null}).filter(kn):n.ticks?n.ticks(l).map((c,f)=>{var h=n.map(c);return be(h)?{coordinate:h+u,value:c,index:f,offset:u}:null}).filter(kn):n.domain().map((c,f)=>{var h=n.map(c);return be(h)?{coordinate:h+u,value:i?i[c]:c,index:f,offset:u}:null}).filter(kn)}},p6=V([Ze,Cd,Vy,Id,lE,uE,qt],Pre),g6=V(Nn,Vy,(e,t)=>{if(!(e==null||t==null))return Yp(Yp({},e),{},{scale:t})}),jre=V([Nn,Nu,aE,u6],sE);V((e,t,n)=>tE(e,n),jre,(e,t)=>{if(!(e==null||t==null))return Yp(Yp({},e),{},{scale:t})});var Rre=V([Ze,gy,yy],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),y6=e=>e.options.defaultTooltipEventType,v6=e=>e.options.validateTooltipEventTypes;function b6(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function cE(e,t){var n=y6(e),r=v6(e);return b6(t,n,r)}function Dre(e){return ee(t=>cE(t,e))}var x6=(e,t)=>{var n,r=Number(t);if(!(di(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},kre=e=>e.tooltip.settings,ka={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Mre={itemInteraction:{click:ka,hover:ka},axisInteraction:{click:ka,hover:ka},keyboardInteraction:ka,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},_6=Bn({name:"tooltip",initialState:Mre,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Xe()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Mr(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:Xe()},removeTooltipEntrySettings:{reducer(e,t){var n=Mr(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:Xe()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:Lre,replaceTooltipEntrySettings:Vre,removeTooltipEntrySettings:Ure,setTooltipSettingsState:zre,setActiveMouseOverItemIndex:Bre,mouseLeaveItem:vfe,mouseLeaveChart:w6,setActiveClickItemIndex:bfe,setMouseOverAxisIndex:E6,setMouseClickAxisIndex:$re,setSyncInteraction:Lx,setKeyboardInteraction:Vx}=_6.actions,Fre=_6.reducer;function t2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Lh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?t2(Object(n),!0).forEach(function(r){qre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qre(e,t,n){return(t=Hre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hre(e){var t=Gre(e,"string");return typeof t=="symbol"?t:t+""}function Gre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kre(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Yre(e){return e.index!=null}var S6=(e,t,n,r)=>{if(t==null)return ka;var i=Kre(e,t,n);if(i==null)return ka;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(Yre(i)){if(a)return Lh(Lh({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Lh(Lh({},ka),{},{coordinate:i.coordinate})};function Wre(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function Xre(e,t){var n=Wre(e),r=t[0],i=t[1];if(n===void 0)return!1;var a=Math.min(r,i),s=Math.max(r,i);return n>=a&&n<=s}function Qre(e,t,n){if(n==null||t==null)return!0;var r=on(e,t);return r==null||!ra(n)?!0:Xre(r,n)}var fE=(e,t,n,r)=>{var i=e==null?void 0:e.index;if(i==null)return null;var a=Number(i);if(!be(a))return i;var s=0,o=1/0;t.length>0&&(o=t.length-1);var l=Math.max(s,Math.min(a,o)),u=t[l];return u==null||Qre(u,n,r)?String(l):null},A6=(e,t,n,r,i,a,s)=>{if(a!=null){var o=s[0],l=o==null?void 0:o.getPosition(a);if(l!=null)return l;var u=i==null?void 0:i[Number(a)];if(u)switch(n){case"horizontal":return{x:u.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:u.coordinate}}}},T6=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&r!=null){var a=e.tooltipItemPayloads[0];return a!=null?[a]:[]}return e.tooltipItemPayloads.filter(s=>{var o;return((o=s.settings)===null||o===void 0?void 0:o.graphicalItemId)===i})},C6=e=>e.options.tooltipPayloadSearcher,Ou=e=>e.tooltip;function n2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function r2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?n2(Object(n),!0).forEach(function(r){Zre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zre(e,t,n){return(t=Jre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jre(e){var t=eie(e,"string");return typeof t=="symbol"?t:t+""}function eie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tie(e,t){return e??t}var N6=(e,t,n,r,i,a,s)=>{if(!(t==null||a==null)){var{chartData:o,computedData:l,dataStartIndex:u,dataEndIndex:c}=n,f=[];return e.reduce((h,p)=>{var g,{dataDefinedOnItem:_,settings:b}=p,w=tie(_,o),x=Array.isArray(w)?Z4(w,u,c):w,E=(g=b==null?void 0:b.dataKey)!==null&&g!==void 0?g:r,T=b==null?void 0:b.nameKey,I;if(r&&Array.isArray(x)&&!Array.isArray(x[0])&&s==="axis"?I=GM(x,r,i):I=a(x,t,l,T),Array.isArray(I))I.forEach(A=>{var C=r2(r2({},b),{},{name:A.name,unit:A.unit,color:void 0,fill:void 0});h.push(dN({tooltipEntrySettings:C,dataKey:A.dataKey,payload:A.payload,value:on(A.payload,A.dataKey),name:A.name}))});else{var k;h.push(dN({tooltipEntrySettings:b,dataKey:E,payload:I,value:on(I,E),name:(k=on(I,T))!==null&&k!==void 0?k:b==null?void 0:b.name}))}return h},f)}},dE=V([It,k3,K1],a6),nie=V([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),rie=V([Ht,Tu],M3),Iu=V([nie,It,rie],V3,{memoizeOptions:{resultEqualityCheck:My}}),iie=V([Iu],e=>e.filter(eE)),aie=V([Iu],B3,{memoizeOptions:{resultEqualityCheck:My}}),Pu=V([aie,ca],$3),sie=V([iie,ca,It],j3),hE=V([Pu,It,Iu],F3),O6=V([It],rE),oie=V([It],e=>e.allowDataOverflow),I6=V([O6,oie],m3),lie=V([Iu],e=>e.filter(eE)),uie=V([sie,lie,Iy,A3],H3),cie=V([uie,ca,Ht,I6],K3),fie=V([Iu],z3),die=V([Pu,It,fie,iE,Ht],X3,{memoizeOptions:{resultEqualityCheck:ky}}),hie=V([Q3,Ht,Tu],Cu),mie=V([hie,Ht],e6),pie=V([Z3,Ht,Tu],Cu),gie=V([pie,Ht],t6),yie=V([J3,Ht,Tu],Cu),vie=V([yie,Ht],n6),bie=V([mie,vie,gie],Wp),xie=V([It,O6,I6,cie,die,bie,Ze,Ht],r6),Pd=V([It,Ze,Pu,hE,Iy,Ht,xie],i6),_ie=V([Pd,It,dE],s6),wie=V([It,Pd,_ie,Ht],o6),P6=e=>{var t=Ht(e),n=Tu(e),r=!1;return Id(e,t,n,r)},j6=V([It,P6],Py),R6=V([It,dE,wie,j6],sE),Eie=V([Ze,hE,It,Ht],d6),Sie=V([Ze,hE,It,Ht],h6),Aie=(e,t,n,r,i,a,s,o)=>{if(t){var{type:l}=t,u=bi(e,o);if(r){var c=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,f=l==="category"&&r.bandwidth?r.bandwidth()/c:0;return f=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?pr(i[0]-i[1])*2*f:f,u&&s?s.map((h,p)=>{var g=r.map(h);return be(g)?{coordinate:g+f,value:h,index:p,offset:f}:null}).filter(kn):r.domain().map((h,p)=>{var g=r.map(h);return be(g)?{coordinate:g+f,value:a?a[h]:h,index:p,offset:f}:null}).filter(kn)}}},ha=V([Ze,It,dE,R6,P6,Eie,Sie,Ht],Aie),mE=V([y6,v6,kre],(e,t,n)=>b6(n.shared,e,t)),D6=e=>e.tooltip.settings.trigger,pE=e=>e.tooltip.settings.defaultIndex,jd=V([Ou,mE,D6,pE],S6),Vf=V([jd,Pu,Od,Pd],fE),k6=V([ha,Vf],x6),Tie=V([jd],e=>{if(e)return e.dataKey});V([jd],e=>{if(e)return e.graphicalItemId});var M6=V([Ou,mE,D6,pE],T6),Cie=V([oa,la,Ze,un,ha,pE,M6],A6),Nie=V([jd,Cie],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Oie=V([jd],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),Iie=V([M6,Vf,ca,Od,k6,C6,mE],N6),Pie=V([Iie],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function i2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function a2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?i2(Object(n),!0).forEach(function(r){jie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jie(e,t,n){return(t=Rie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rie(e){var t=Die(e,"string");return typeof t=="symbol"?t:t+""}function Die(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kie=()=>ee(It),Mie=()=>{var e=kie(),t=ee(ha),n=ee(R6);return Tp(!e||!n?void 0:a2(a2({},e),{},{scale:n}),t)};function s2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Fo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?s2(Object(n),!0).forEach(function(r){Lie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Lie(e,t,n){return(t=Vie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vie(e){var t=Uie(e,"string");return typeof t=="symbol"?t:t+""}function Uie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zie=(e,t,n,r)=>{var i=t.find(a=>a&&a.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},Bie=(e,t,n,r)=>{var i=t.find(u=>u&&u.index===n);if(i){if(e==="centric"){var a=i.coordinate,{radius:s}=r;return Fo(Fo(Fo({},r),an(r.cx,r.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:l}=r;return Fo(Fo(Fo({},r),an(r.cx,r.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function $ie(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var L6=(e,t,n,r,i)=>{var a,s=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(s<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var o=0;o<s;o++){var l,u,c,f,h,p=o>0?(l=n[o-1])===null||l===void 0?void 0:l.coordinate:(u=n[s-1])===null||u===void 0?void 0:u.coordinate,g=(c=n[o])===null||c===void 0?void 0:c.coordinate,_=o>=s-1?(f=n[0])===null||f===void 0?void 0:f.coordinate:(h=n[o+1])===null||h===void 0?void 0:h.coordinate,b=void 0;if(!(p==null||g==null||_==null))if(pr(g-p)!==pr(_-g)){var w=[];if(pr(_-g)===pr(i[1]-i[0])){b=_;var x=g+i[1]-i[0];w[0]=Math.min(x,(x+p)/2),w[1]=Math.max(x,(x+p)/2)}else{b=p;var E=_+i[1]-i[0];w[0]=Math.min(g,(E+g)/2),w[1]=Math.max(g,(E+g)/2)}var T=[Math.min(g,(b+g)/2),Math.max(g,(b+g)/2)];if(e>T[0]&&e<=T[1]||e>=w[0]&&e<=w[1]){var I;return(I=n[o])===null||I===void 0?void 0:I.index}}else{var k=Math.min(p,_),A=Math.max(p,_);if(e>(k+g)/2&&e<=(A+g)/2){var C;return(C=n[o])===null||C===void 0?void 0:C.index}}}else if(t)for(var N=0;N<s;N++){var j=t[N];if(j!=null){var R=t[N+1],P=t[N-1];if(N===0&&R!=null&&e<=(j.coordinate+R.coordinate)/2||N===s-1&&P!=null&&e>(j.coordinate+P.coordinate)/2||N>0&&N<s-1&&P!=null&&R!=null&&e>(j.coordinate+P.coordinate)/2&&e<=(j.coordinate+R.coordinate)/2)return j.index}}return-1},V6=()=>ee(K1),gE=(e,t)=>t,U6=(e,t,n)=>n,yE=(e,t,n,r)=>r,Fie=V(ha,e=>sy(e,t=>t.coordinate)),vE=V([Ou,gE,U6,yE],S6),bE=V([vE,Pu,Od,Pd],fE),qie=(e,t,n)=>{if(t!=null){var r=Ou(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},z6=V([Ou,gE,U6,yE],T6),Xp=V([oa,la,Ze,un,ha,yE,z6],A6),Hie=V([vE,Xp],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),B6=V([ha,bE],x6),Gie=V([z6,bE,ca,Od,B6,C6,gE],N6),Kie=V([vE,bE],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),Yie=(e,t,n,r,i,a,s)=>{if(!(!e||!n||!r||!i)&&$ie(e,s)){var o=CQ(e,t),l=L6(o,a,i,n,r),u=zie(t,i,l,e);return{activeIndex:String(l),activeCoordinate:u}}},Wie=(e,t,n,r,i,a,s)=>{if(!(!e||!r||!i||!a||!n)){var o=DJ(e,n);if(o){var l=NQ(o,t),u=L6(l,s,a,r,i),c=Bie(t,a,u,o);return{activeIndex:String(u),activeCoordinate:c}}}},Xie=(e,t,n,r,i,a,s,o)=>{if(!(!e||!t||!r||!i||!a))return t==="horizontal"||t==="vertical"?Yie(e,t,r,i,a,s,o):Wie(e,t,n,r,i,a,s)},Qie=V(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElement:r.element}}),Zie=V(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(An)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:Pne}});function o2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function l2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?o2(Object(n),!0).forEach(function(r){Jie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Jie(e,t,n){return(t=eae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eae(e){var t=tae(e,"string");return typeof t=="symbol"?t:t+""}function tae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nae={},rae={zIndexMap:Object.values(An).reduce((e,t)=>l2(l2({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),nae)},iae=new Set(Object.values(An));function aae(e){return iae.has(e)}var $6=Bn({name:"zIndex",initialState:rae,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Xe()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!aae(n)&&delete e.zIndexMap[n])},prepare:Xe()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:Xe()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:Xe()}}}),{registerZIndexPortal:sae,unregisterZIndexPortal:oae,registerZIndexPortalElement:lae,unregisterZIndexPortalElement:uae}=$6.actions,cae=$6.reducer;function ma(e){var{zIndex:t,children:n}=e,r=rZ(),i=r&&t!==void 0&&t!==0,a=$n(),s=$t();v.useLayoutEffect(()=>i?(s(sae({zIndex:t})),()=>{s(oae({zIndex:t}))}):_u,[s,t,i]);var o=ee(l=>Qie(l,t,a));return i?o?e_.createPortal(n,o):null:n}function Ux(){return Ux=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ux.apply(null,arguments)}function u2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Vh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?u2(Object(n),!0).forEach(function(r){fae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fae(e,t,n){return(t=dae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dae(e){var t=hae(e,"string");return typeof t=="symbol"?t:t+""}function hae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mae(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return v.isValidElement(t)?v.cloneElement(t,r):v.createElement(n,r)}function pae(e){var t,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:s,layout:o,cursor:l,tooltipEventType:u,chartName:c}=e,f=n,h=r,p=i;if(!l||!f||c!=="ScatterChart"&&u!=="axis")return null;var g,_,b;if(c==="ScatterChart")g=f,_=HZ,b=An.cursorLine;else if(c==="BarChart")g=GZ(o,f,a,s),_=SJ,b=An.cursorRectangle;else if(o==="radial"&&KM(f)){var{cx:w,cy:x,radius:E,startAngle:T,endAngle:I}=CL(f);g={cx:w,cy:x,startAngle:T,endAngle:I,innerRadius:E,outerRadius:E},_=VJ,b=An.cursorLine}else g={points:UJ(o,f,a)},_=gm,b=An.cursorLine;var k=typeof l=="object"&&"className"in l?l.className:void 0,A=Vh(Vh(Vh(Vh({stroke:"#ccc",pointerEvents:"none"},a),g),Xg(l)),{},{payload:h,payloadIndex:p,className:Ke("recharts-tooltip-cursor",k)});return v.createElement(ma,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:b},v.createElement(mae,{cursor:l,cursorComp:_,cursorProps:A}))}function gae(e){var t=Mie(),n=cL(),r=wu(),i=V6();return t==null||n==null||r==null||i==null?null:v.createElement(pae,Ux({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var F6=v.createContext(null),yae=()=>v.useContext(F6),q6={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,f,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new i(c,f||l,h),g=n?n+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],p]:l._events[g].push(p):(l._events[g]=p,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)t.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},o.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,g=new Array(p);h<p;h++)g[h]=f[h].fn;return g},o.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,c,f,h,p,g){var _=n?n+u:u;if(!this._events[_])return!1;var b=this._events[_],w=arguments.length,x,E;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),w){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,c),!0;case 3:return b.fn.call(b.context,c,f),!0;case 4:return b.fn.call(b.context,c,f,h),!0;case 5:return b.fn.call(b.context,c,f,h,p),!0;case 6:return b.fn.call(b.context,c,f,h,p,g),!0}for(E=1,x=new Array(w-1);E<w;E++)x[E-1]=arguments[E];b.fn.apply(b.context,x)}else{var T=b.length,I;for(E=0;E<T;E++)switch(b[E].once&&this.removeListener(u,b[E].fn,void 0,!0),w){case 1:b[E].fn.call(b[E].context);break;case 2:b[E].fn.call(b[E].context,c);break;case 3:b[E].fn.call(b[E].context,c,f);break;case 4:b[E].fn.call(b[E].context,c,f,h);break;default:if(!x)for(I=1,x=new Array(w-1);I<w;I++)x[I-1]=arguments[I];b[E].fn.apply(b[E].context,x)}}return!0},o.prototype.on=function(u,c,f){return a(this,u,c,f,!1)},o.prototype.once=function(u,c,f){return a(this,u,c,f,!0)},o.prototype.removeListener=function(u,c,f,h){var p=n?n+u:u;if(!this._events[p])return this;if(!c)return s(this,p),this;var g=this._events[p];if(g.fn)g.fn===c&&(!h||g.once)&&(!f||g.context===f)&&s(this,p);else{for(var _=0,b=[],w=g.length;_<w;_++)(g[_].fn!==c||h&&!g[_].once||f&&g[_].context!==f)&&b.push(g[_]);b.length?this._events[p]=b.length===1?b[0]:b:s(this,p)}return this},o.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&s(this,c)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o})(q6);var vae=q6.exports;const bae=xs(vae);var Uf=new bae,zx="recharts.syncEvent.tooltip",c2="recharts.syncEvent.brush",xae=(e,t)=>{if(t&&Array.isArray(e)){var n=Number.parseInt(t,10);if(!di(n))return e[n]}},_ae={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},H6=Bn({name:"options",initialState:_ae,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),wae=H6.reducer,{createEventEmitter:Eae}=H6.actions;function Sae(e){return e.tooltip.syncInteraction}var Aae={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},G6=Bn({name:"chartData",initialState:Aae,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:f2,setDataStartEndIndexes:Tae,setComputedData:xfe}=G6.actions,Cae=G6.reducer,Nae=["x","y"];function d2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?d2(Object(n),!0).forEach(function(r){Oae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Oae(e,t,n){return(t=Iae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Iae(e){var t=Pae(e,"string");return typeof t=="symbol"?t:t+""}function Pae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jae(e,t){if(e==null)return{};var n,r,i=Rae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Rae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Dae(){var e=ee(Y1),t=ee(W1),n=$t(),r=ee(T3),i=ee(ha),a=wu(),s=xy(),o=ee(l=>l.rootProps.className);v.useEffect(()=>{if(e==null)return _u;var l=(u,c,f)=>{if(t!==f&&e===u){if(r==="index"){var h;if(s&&c!==null&&c!==void 0&&(h=c.payload)!==null&&h!==void 0&&h.coordinate&&c.payload.sourceViewBox){var p=c.payload.coordinate,{x:g,y:_}=p,b=jae(p,Nae),{x:w,y:x,width:E,height:T}=c.payload.sourceViewBox,I=qo(qo({},b),{},{x:s.x+(E?(g-w)/E:0)*s.width,y:s.y+(T?(_-x)/T:0)*s.height});n(qo(qo({},c),{},{payload:qo(qo({},c.payload),{},{coordinate:I})}))}else n(c);return}if(i!=null){var k;if(typeof r=="function"){var A={activeTooltipIndex:c.payload.index==null?void 0:Number(c.payload.index),isTooltipActive:c.payload.active,activeIndex:c.payload.index==null?void 0:Number(c.payload.index),activeLabel:c.payload.label,activeDataKey:c.payload.dataKey,activeCoordinate:c.payload.coordinate},C=r(i,A);k=i[C]}else r==="value"&&(k=i.find(q=>String(q.value)===c.payload.label));var{coordinate:N}=c.payload;if(k==null||c.payload.active===!1||N==null||s==null){n(Lx({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:j,y:R}=N,P=Math.min(j,s.x+s.width),D=Math.min(R,s.y+s.height),Z={x:a==="horizontal"?k.coordinate:P,y:a==="horizontal"?D:k.coordinate},oe=Lx({active:c.payload.active,coordinate:Z,dataKey:c.payload.dataKey,index:String(k.index),label:c.payload.label,sourceViewBox:c.payload.sourceViewBox,graphicalItemId:c.payload.graphicalItemId});n(oe)}}};return Uf.on(zx,l),()=>{Uf.off(zx,l)}},[o,n,t,e,r,i,a,s])}function kae(){var e=ee(Y1),t=ee(W1),n=$t();v.useEffect(()=>{if(e==null)return _u;var r=(i,a,s)=>{t!==s&&e===i&&n(Tae(a))};return Uf.on(c2,r),()=>{Uf.off(c2,r)}},[n,t,e])}function Mae(){var e=$t();v.useEffect(()=>{e(Eae())},[e]),Dae(),kae()}function Lae(e,t,n,r,i,a){var s=ee(p=>qie(p,e,t)),o=ee(W1),l=ee(Y1),u=ee(T3),c=ee(Sae),f=c==null?void 0:c.active,h=xy();v.useEffect(()=>{if(!f&&l!=null&&o!=null){var p=Lx({active:a,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:h,graphicalItemId:void 0});Uf.emit(zx,l,p,o)}},[f,n,s,i,r,o,l,u,a,h])}function h2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function m2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?h2(Object(n),!0).forEach(function(r){Vae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vae(e,t,n){return(t=Uae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uae(e){var t=zae(e,"string");return typeof t=="symbol"?t:t+""}function zae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bae(e){return e.dataKey}function $ae(e,t){return v.isValidElement(e)?v.cloneElement(e,t):typeof e=="function"?v.createElement(e,t):v.createElement(SZ,t)}var p2=[],Fae={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function qae(e){var t,n,r=ar(e,Fae),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:o,content:l,filterNull:u,isAnimationActive:c,offset:f,payloadUniqBy:h,position:p,reverseDirection:g,useTranslate3d:_,wrapperStyle:b,cursor:w,shared:x,trigger:E,defaultIndex:T,portal:I,axisId:k}=r,A=$t(),C=typeof T=="number"?String(T):T;v.useEffect(()=>{A(zre({shared:x,trigger:E,axisId:k,active:i,defaultIndex:C}))},[A,x,E,k,i,C]);var N=xy(),j=_L(),R=Dre(x),{activeIndex:P,isActive:D}=(t=ee(jt=>Kie(jt,R,E,C)))!==null&&t!==void 0?t:{},Z=ee(jt=>Gie(jt,R,E,C)),oe=ee(jt=>B6(jt,R,E,C)),q=ee(jt=>Hie(jt,R,E,C)),K=Z,W=yae(),te=(n=i??D)!==null&&n!==void 0?n:!1,[le,Ye]=mX([K,te]),st=R==="axis"?oe:void 0;Lae(R,E,q,st,P,te);var Pt=I??W;if(Pt==null||N==null||R==null)return null;var Re=K??p2;te||(Re=p2),u&&Re.length&&(Re=jW(Re.filter(jt=>jt.value!=null&&(jt.hide!==!0||r.includeHidden)),h,Bae));var cn=Re.length>0,xi=v.createElement(PZ,{allowEscapeViewBox:a,animationDuration:s,animationEasing:o,isAnimationActive:c,active:te,coordinate:q,hasPayload:cn,offset:f,position:p,reverseDirection:g,useTranslate3d:_,viewBox:N,wrapperStyle:b,lastBoundingBox:le,innerRef:Ye,hasPortalFromProps:!!I},$ae(l,m2(m2({},r),{},{payload:Re,label:st,active:te,activeIndex:P,coordinate:q,accessibilityLayer:j})));return v.createElement(v.Fragment,null,e_.createPortal(xi,Pt),te&&v.createElement(gae,{cursor:w,tooltipEventType:R,coordinate:q,payload:Re,index:P}))}function Hae(e,t,n){return(t=Gae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gae(e){var t=Kae(e,"string");return typeof t=="symbol"?t:t+""}function Kae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Yae{constructor(t){Hae(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function g2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Wae(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?g2(Object(n),!0).forEach(function(r){Xae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xae(e,t,n){return(t=Qae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qae(e){var t=Zae(e,"string");return typeof t=="symbol"?t:t+""}function Zae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jae={cacheSize:2e3,enableCache:!0},K6=Wae({},Jae),y2=new Yae(K6.cacheSize),ese={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},v2="recharts_measurement_span";function tse(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",s=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(o)}var b2=(e,t)=>{try{var n=document.getElementById(v2);n||(n=document.createElement("span"),n.setAttribute("id",v2),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,ese,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Gc=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||wd.isSsr)return{width:0,height:0};if(!K6.enableCache)return b2(t,n);var r=tse(t,n),i=y2.get(r);if(i)return i;var a=b2(t,n);return y2.set(r,a),a},Y6;function nse(e,t,n){return(t=rse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rse(e){var t=ise(e,"string");return typeof t=="symbol"?t:t+""}function ise(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var x2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,_2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ase=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,sse=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,ose={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},lse=["cm","mm","pt","pc","in","Q","px"];function use(e){return lse.includes(e)}var hl="NaN";function cse(e,t){return e*ose[t]}class Qt{static parse(t){var n,[,r,i]=(n=sse.exec(t))!==null&&n!==void 0?n:[];return r==null?Qt.NaN:new Qt(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,di(t)&&(this.unit=""),n!==""&&!ase.test(n)&&(this.num=NaN,this.unit=""),use(n)&&(this.num=cse(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new Qt(NaN,""):new Qt(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Qt(NaN,""):new Qt(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Qt(NaN,""):new Qt(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Qt(NaN,""):new Qt(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return di(this.num)}}Y6=Qt;nse(Qt,"NaN",new Y6(NaN,""));function W6(e){if(e==null||e.includes(hl))return hl;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=(n=x2.exec(t))!==null&&n!==void 0?n:[],s=Qt.parse(r??""),o=Qt.parse(a??""),l=i==="*"?s.multiply(o):s.divide(o);if(l.isNaN())return hl;t=t.replace(x2,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,c,f,h]=(u=_2.exec(t))!==null&&u!==void 0?u:[],p=Qt.parse(c??""),g=Qt.parse(h??""),_=f==="+"?p.add(g):p.subtract(g);if(_.isNaN())return hl;t=t.replace(_2,_.toString())}return t}var w2=/\(([^()]*)\)/;function fse(e){for(var t=e,n;(n=w2.exec(t))!=null;){var[,r]=n;t=t.replace(w2,W6(r))}return t}function dse(e){var t=e.replace(/\s+/g,"");return t=fse(t),t=W6(t),t}function hse(e){try{return dse(e)}catch{return hl}}function E0(e){var t=hse(e.slice(5,-1));return t===hl?"":t}var mse=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],pse=["dx","dy","angle","className","breakAll"];function Bx(){return Bx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bx.apply(null,arguments)}function E2(e,t){if(e==null)return{};var n,r,i=gse(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function gse(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var X6=/[ \f\n\r\t\v\u2028\u2029]+/,Q6=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];vn(t)||(n?i=t.toString().split(""):i=t.toString().split(X6));var a=i.map(o=>({word:o,width:Gc(o,r).width})),s=n?0:Gc("",r).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function yse(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var Z6=(e,t,n,r)=>e.reduce((i,a)=>{var{word:s,width:o}=a,l=i[i.length-1];if(l&&o!=null&&(t==null||r||l.width+o+n<Number(t)))l.words.push(s),l.width+=o+n;else{var u={words:[s],width:o};i.push(u)}return i},[]),J6=e=>e.reduce((t,n)=>t.width>n.width?t:n),vse="",S2=(e,t,n,r,i,a,s,o)=>{var l=e.slice(0,t),u=Q6({breakAll:n,style:r,children:l+vse});if(!u)return[!1,[]];var c=Z6(u.wordsWithComputedWidth,a,s,o),f=c.length>i||J6(c).width>Number(a);return[f,c]},bse=(e,t,n,r,i)=>{var{maxLines:a,children:s,style:o,breakAll:l}=e,u=Q(a),c=String(s),f=Z6(t,r,n,i);if(!u||i)return f;var h=f.length>a||J6(f).width>Number(r);if(!h)return f;for(var p=0,g=c.length-1,_=0,b;p<=g&&_<=c.length-1;){var w=Math.floor((p+g)/2),x=w-1,[E,T]=S2(c,x,l,o,a,r,n,i),[I]=S2(c,w,l,o,a,r,n,i);if(!E&&!I&&(p=w+1),E&&I&&(g=w-1),!E&&I){b=T;break}_++}return b||f},A2=e=>{var t=vn(e)?[]:e.toString().split(X6);return[{words:t,width:void 0}]},xse=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:s}=e;if((t||n)&&!wd.isSsr){var o,l,u=Q6({breakAll:a,children:r,style:i});if(u){var{wordsWithComputedWidth:c,spaceWidth:f}=u;o=c,l=f}else return A2(r);return bse({breakAll:a,children:r,maxLines:s,style:i},o,l,t,!!n)}return A2(r)},e5="#808080",_se={angle:0,breakAll:!1,capHeight:"0.71em",fill:e5,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},xE=v.forwardRef((e,t)=>{var n=ar(e,_se),{x:r,y:i,lineHeight:a,capHeight:s,fill:o,scaleToFit:l,textAnchor:u,verticalAnchor:c}=n,f=E2(n,mse),h=v.useMemo(()=>xse({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:l,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,l,f.style,f.width]),{dx:p,dy:g,angle:_,className:b,breakAll:w}=f,x=E2(f,pse);if(!hi(r)||!hi(i)||h.length===0)return null;var E=Number(r)+(Q(p)?p:0),T=Number(i)+(Q(g)?g:0);if(!be(E)||!be(T))return null;var I;switch(c){case"start":I=E0("calc(".concat(s,")"));break;case"middle":I=E0("calc(".concat((h.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:I=E0("calc(".concat(h.length-1," * -").concat(a,")"));break}var k=[],A=h[0];if(l&&A!=null){var C=A.width,{width:N}=f;k.push("scale(".concat(Q(N)&&Q(C)?N/C:1,")"))}return _&&k.push("rotate(".concat(_,", ").concat(E,", ").concat(T,")")),k.length&&(x.transform=k.join(" ")),v.createElement("text",Bx({},_r(x),{ref:t,x:E,y:T,className:Ke("recharts-text",b),textAnchor:u,fill:o.includes("url")?e5:o}),h.map((j,R)=>{var P=j.words.join(w?"":" ");return v.createElement("tspan",{x:E,dy:R===0?I:a,key:"".concat(P,"-").concat(R)},P)}))});xE.displayName="Text";function T2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Kr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?T2(Object(n),!0).forEach(function(r){wse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wse(e,t,n){return(t=Ese(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ese(e){var t=Sse(e,"string");return typeof t=="symbol"?t:t+""}function Sse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ase=e=>{var{viewBox:t,position:n,offset:r=0,parentViewBox:i}=e,{x:a,y:s,height:o,upperWidth:l,lowerWidth:u}=v1(t),c=a,f=a+(l-u)/2,h=(c+f)/2,p=(l+u)/2,g=c+l/2,_=o>=0?1:-1,b=_*r,w=_>0?"end":"start",x=_>0?"start":"end",E=l>=0?1:-1,T=E*r,I=E>0?"end":"start",k=E>0?"start":"end",A=i;if(n==="top"){var C={x:c+l/2,y:s-b,horizontalAnchor:"middle",verticalAnchor:w};return A&&(C.height=Math.max(s-A.y,0),C.width=l),C}if(n==="bottom"){var N={x:f+u/2,y:s+o+b,horizontalAnchor:"middle",verticalAnchor:x};return A&&(N.height=Math.max(A.y+A.height-(s+o),0),N.width=u),N}if(n==="left"){var j={x:h-T,y:s+o/2,horizontalAnchor:I,verticalAnchor:"middle"};return A&&(j.width=Math.max(j.x-A.x,0),j.height=o),j}if(n==="right"){var R={x:h+p+T,y:s+o/2,horizontalAnchor:k,verticalAnchor:"middle"};return A&&(R.width=Math.max(A.x+A.width-R.x,0),R.height=o),R}var P=A?{width:p,height:o}:{};return n==="insideLeft"?Kr({x:h+T,y:s+o/2,horizontalAnchor:k,verticalAnchor:"middle"},P):n==="insideRight"?Kr({x:h+p-T,y:s+o/2,horizontalAnchor:I,verticalAnchor:"middle"},P):n==="insideTop"?Kr({x:c+l/2,y:s+b,horizontalAnchor:"middle",verticalAnchor:x},P):n==="insideBottom"?Kr({x:f+u/2,y:s+o-b,horizontalAnchor:"middle",verticalAnchor:w},P):n==="insideTopLeft"?Kr({x:c+T,y:s+b,horizontalAnchor:k,verticalAnchor:x},P):n==="insideTopRight"?Kr({x:c+l-T,y:s+b,horizontalAnchor:I,verticalAnchor:x},P):n==="insideBottomLeft"?Kr({x:f+T,y:s+o-b,horizontalAnchor:k,verticalAnchor:w},P):n==="insideBottomRight"?Kr({x:f+u-T,y:s+o-b,horizontalAnchor:I,verticalAnchor:w},P):n&&typeof n=="object"&&(Q(n.x)||bo(n.x))&&(Q(n.y)||bo(n.y))?Kr({x:a+bs(n.x,p),y:s+bs(n.y,o),horizontalAnchor:"end",verticalAnchor:"end"},P):Kr({x:g,y:s+o/2,horizontalAnchor:"middle",verticalAnchor:"middle"},P)},Tse=["labelRef"],Cse=["content"];function C2(e,t){if(e==null)return{};var n,r,i=Nse(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Nse(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function N2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ac(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?N2(Object(n),!0).forEach(function(r){Ose(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ose(e,t,n){return(t=Ise(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ise(e){var t=Pse(e,"string");return typeof t=="symbol"?t:t+""}function Pse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oi(){return Oi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oi.apply(null,arguments)}var t5=v.createContext(null),jse=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:s,children:o}=e,l=v.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:s}),[t,n,r,i,a,s]);return v.createElement(t5.Provider,{value:l},o)},n5=()=>{var e=v.useContext(t5),t=xy();return e||(t?v1(t):void 0)},Rse=v.createContext(null),Dse=()=>{var e=v.useContext(Rse),t=ee(P3);return e||t},kse=e=>{var{value:t,formatter:n}=e,r=vn(e.children)?t:e.children;return typeof n=="function"?n(r):r},_E=e=>e!=null&&typeof e=="function",Mse=(e,t)=>{var n=pr(t-e),r=Math.min(Math.abs(t-e),360);return n*r},Lse=(e,t,n,r,i)=>{var{offset:a,className:s}=e,{cx:o,cy:l,innerRadius:u,outerRadius:c,startAngle:f,endAngle:h,clockWise:p}=i,g=(u+c)/2,_=Mse(f,h),b=_>=0?1:-1,w,x;switch(t){case"insideStart":w=f+b*a,x=p;break;case"insideEnd":w=h-b*a,x=!p;break;case"end":w=h+b*a,x=p;break;default:throw new Error("Unsupported position ".concat(t))}x=_<=0?x:!x;var E=an(o,l,g,w),T=an(o,l,g,w+(x?1:-1)*359),I="M".concat(E.x,",").concat(E.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(x?0:1,`,
    `).concat(T.x,",").concat(T.y),k=vn(e.id)?Af("recharts-radial-line-"):e.id;return v.createElement("text",Oi({},r,{dominantBaseline:"central",className:Ke("recharts-radial-bar-label",s)}),v.createElement("defs",null,v.createElement("path",{id:k,d:I})),v.createElement("textPath",{xlinkHref:"#".concat(k)},n))},Vse=(e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:o,endAngle:l}=e,u=(o+l)/2;if(n==="outside"){var{x:c,y:f}=an(r,i,s+t,u);return{x:c,y:f,textAnchor:c>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(a+s)/2,{x:p,y:g}=an(r,i,h,u);return{x:p,y:g,textAnchor:"middle",verticalAnchor:"middle"}},vm=e=>e!=null&&"cx"in e&&Q(e.cx),Use={angle:0,offset:5,zIndex:An.label,position:"middle",textBreakAll:!1};function zse(e){if(!vm(e))return e;var{cx:t,cy:n,outerRadius:r}=e,i=r*2;return{x:t-r,y:n-r,width:i,upperWidth:i,lowerWidth:i,height:i}}function Ta(e){var t=ar(e,Use),{viewBox:n,parentViewBox:r,position:i,value:a,children:s,content:o,className:l="",textBreakAll:u,labelRef:c}=t,f=Dse(),h=n5(),p=i==="center"?h:f??h,g,_,b;n==null?g=p:vm(n)?g=n:g=v1(n);var w=zse(g);if(!g||vn(a)&&vn(s)&&!v.isValidElement(o)&&typeof o!="function")return null;var x=Ac(Ac({},t),{},{viewBox:g});if(v.isValidElement(o)){var{labelRef:E}=x,T=C2(x,Tse);return v.cloneElement(o,T)}if(typeof o=="function"){var{content:I}=x,k=C2(x,Cse);if(_=v.createElement(o,k),v.isValidElement(_))return _}else _=kse(t);var A=_r(t);if(vm(g)){if(i==="insideStart"||i==="insideEnd"||i==="end")return Lse(t,i,_,A,g);b=Vse(g,t.offset,t.position)}else{if(!w)return null;var C=Ase({viewBox:w,position:i,offset:t.offset,parentViewBox:vm(r)?void 0:r});b=Ac(Ac({x:C.x,y:C.y,textAnchor:C.horizontalAnchor,verticalAnchor:C.verticalAnchor},C.width!==void 0?{width:C.width}:{}),C.height!==void 0?{height:C.height}:{})}return v.createElement(ma,{zIndex:t.zIndex},v.createElement(xE,Oi({ref:c,className:Ke("recharts-label",l)},A,b,{textAnchor:yse(A.textAnchor)?A.textAnchor:b.textAnchor,breakAll:u}),_))}Ta.displayName="Label";var Bse=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?v.createElement(Ta,Oi({key:"label-implicit"},r)):hi(e)?v.createElement(Ta,Oi({key:"label-implicit",value:e},r)):v.isValidElement(e)?e.type===Ta?v.cloneElement(e,Ac({key:"label-implicit"},r)):v.createElement(Ta,Oi({key:"label-implicit",content:e},r)):_E(e)?v.createElement(Ta,Oi({key:"label-implicit",content:e},r)):e&&typeof e=="object"?v.createElement(Ta,Oi({},e,{key:"label-implicit"},r)):null};function $se(e){var{label:t,labelRef:n}=e,r=n5();return Bse(t,r,n)||null}var r5={},i5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(i5);var a5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(a5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=i5,n=a5,r=ry;function i(a){if(r.isArrayLike(a))return t.last(n.toArray(a))}e.last=i})(r5);var Fse=r5.last;const qse=xs(Fse);var Hse=["valueAccessor"],Gse=["dataKey","clockWise","id","textBreakAll","zIndex"];function Qp(){return Qp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qp.apply(null,arguments)}function O2(e,t){if(e==null)return{};var n,r,i=Kse(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Kse(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Yse=e=>Array.isArray(e.value)?qse(e.value):e.value,s5=v.createContext(void 0),Wse=s5.Provider,o5=v.createContext(void 0);o5.Provider;function Xse(){return v.useContext(s5)}function Qse(){return v.useContext(o5)}function bm(e){var{valueAccessor:t=Yse}=e,n=O2(e,Hse),{dataKey:r,clockWise:i,id:a,textBreakAll:s,zIndex:o}=n,l=O2(n,Gse),u=Xse(),c=Qse(),f=u||c;return!f||!f.length?null:v.createElement(ma,{zIndex:o??An.label},v.createElement(fi,{className:"recharts-label-list"},f.map((h,p)=>{var g,_=vn(r)?t(h,p):on(h.payload,r),b=vn(a)?{}:{id:"".concat(a,"-").concat(p)};return v.createElement(Ta,Qp({key:"label-".concat(p)},_r(h),l,b,{fill:(g=n.fill)!==null&&g!==void 0?g:h.fill,parentViewBox:h.parentViewBox,value:_,textBreakAll:s,viewBox:h.viewBox,index:p,zIndex:0}))})))}bm.displayName="LabelList";function Zse(e){var{label:t}=e;return t?t===!0?v.createElement(bm,{key:"labelList-implicit"}):v.isValidElement(t)||_E(t)?v.createElement(bm,{key:"labelList-implicit",content:t}):typeof t=="object"?v.createElement(bm,Qp({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function $x(){return $x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$x.apply(null,arguments)}var l5=e=>{var{cx:t,cy:n,r,className:i}=e,a=Ke("recharts-dot",i);return Q(t)&&Q(n)&&Q(r)?v.createElement("circle",$x({},Ur(e),Jw(e),{className:a,cx:t,cy:n,r})):null},Jse={radiusAxis:{},angleAxis:{}},u5=Bn({name:"polarAxis",initialState:Jse,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:_fe,removeRadiusAxis:wfe,addAngleAxis:Efe,removeAngleAxis:Sfe}=u5.actions,eoe=u5.reducer;function toe(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var Ue={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var By=60103,$y=60106,Rd=60107,Dd=60108,kd=60114,Md=60109,Ld=60110,Vd=60112,Ud=60113,wE=60120,zd=60115,Bd=60116,c5=60121,f5=60122,d5=60117,h5=60129,m5=60131;if(typeof Symbol=="function"&&Symbol.for){var Kt=Symbol.for;By=Kt("react.element"),$y=Kt("react.portal"),Rd=Kt("react.fragment"),Dd=Kt("react.strict_mode"),kd=Kt("react.profiler"),Md=Kt("react.provider"),Ld=Kt("react.context"),Vd=Kt("react.forward_ref"),Ud=Kt("react.suspense"),wE=Kt("react.suspense_list"),zd=Kt("react.memo"),Bd=Kt("react.lazy"),c5=Kt("react.block"),f5=Kt("react.server.block"),d5=Kt("react.fundamental"),h5=Kt("react.debug_trace_mode"),m5=Kt("react.legacy_hidden")}function $r(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case By:switch(e=e.type,e){case Rd:case kd:case Dd:case Ud:case wE:return e;default:switch(e=e&&e.$$typeof,e){case Ld:case Vd:case Bd:case zd:case Md:return e;default:return t}}case $y:return t}}}var noe=Md,roe=By,ioe=Vd,aoe=Rd,soe=Bd,ooe=zd,loe=$y,uoe=kd,coe=Dd,foe=Ud;Ue.ContextConsumer=Ld;Ue.ContextProvider=noe;Ue.Element=roe;Ue.ForwardRef=ioe;Ue.Fragment=aoe;Ue.Lazy=soe;Ue.Memo=ooe;Ue.Portal=loe;Ue.Profiler=uoe;Ue.StrictMode=coe;Ue.Suspense=foe;Ue.isAsyncMode=function(){return!1};Ue.isConcurrentMode=function(){return!1};Ue.isContextConsumer=function(e){return $r(e)===Ld};Ue.isContextProvider=function(e){return $r(e)===Md};Ue.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===By};Ue.isForwardRef=function(e){return $r(e)===Vd};Ue.isFragment=function(e){return $r(e)===Rd};Ue.isLazy=function(e){return $r(e)===Bd};Ue.isMemo=function(e){return $r(e)===zd};Ue.isPortal=function(e){return $r(e)===$y};Ue.isProfiler=function(e){return $r(e)===kd};Ue.isStrictMode=function(e){return $r(e)===Dd};Ue.isSuspense=function(e){return $r(e)===Ud};Ue.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Rd||e===kd||e===h5||e===Dd||e===Ud||e===wE||e===m5||typeof e=="object"&&e!==null&&(e.$$typeof===Bd||e.$$typeof===zd||e.$$typeof===Md||e.$$typeof===Ld||e.$$typeof===Vd||e.$$typeof===d5||e.$$typeof===c5||e[0]===f5)};Ue.typeOf=$r;var p5=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0;function doe(e){var{tooltipEntrySettings:t}=e,n=$t(),r=$n(),i=v.useRef(null);return v.useLayoutEffect(()=>{r||(i.current===null?n(Lre(t)):i.current!==t&&n(Vre({prev:i.current,next:t})),i.current=t)},[t,n,r]),v.useLayoutEffect(()=>()=>{i.current&&(n(Ure(i.current)),i.current=null)},[n]),null}function hoe(e){var{legendPayload:t}=e,n=$t(),r=$n(),i=v.useRef(null);return v.useLayoutEffect(()=>{r||(i.current===null?n(gZ(t)):i.current!==t&&n(yZ({prev:i.current,next:t})),i.current=t)},[n,r,t]),v.useLayoutEffect(()=>()=>{i.current&&(n(vZ(i.current)),i.current=null)},[n]),null}var S0,moe=()=>{var[e]=v.useState(()=>Af("uid-"));return e},poe=(S0=BV.useId)!==null&&S0!==void 0?S0:moe;function goe(e,t){var n=poe();return t||(e?"".concat(e,"-").concat(n):n)}var yoe=v.createContext(void 0),voe=e=>{var{id:t,type:n,children:r}=e,i=goe("recharts-".concat(n),t);return v.createElement(yoe.Provider,{value:i},r(i))},boe={cartesianItems:[],polarItems:[]},g5=Bn({name:"graphicalItems",initialState:boe,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Xe()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Mr(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:Xe()},removeCartesianGraphicalItem:{reducer(e,t){var n=Mr(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:Xe()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Xe()},removePolarGraphicalItem:{reducer(e,t){var n=Mr(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:Xe()}}}),{addCartesianGraphicalItem:xoe,replaceCartesianGraphicalItem:_oe,removeCartesianGraphicalItem:woe,addPolarGraphicalItem:Afe,removePolarGraphicalItem:Tfe}=g5.actions,Eoe=g5.reducer,Soe=e=>{var t=$t(),n=v.useRef(null);return v.useLayoutEffect(()=>{n.current===null?t(xoe(e)):n.current!==e&&t(_oe({prev:n.current,next:e})),n.current=e},[t,e]),v.useLayoutEffect(()=>()=>{n.current&&(t(woe(n.current)),n.current=null)},[t]),null},Aoe=v.memo(Soe),Toe=["points"];function I2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function A0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?I2(Object(n),!0).forEach(function(r){Coe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Coe(e,t,n){return(t=Noe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Noe(e){var t=Ooe(e,"string");return typeof t=="symbol"?t:t+""}function Ooe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zp(){return Zp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zp.apply(null,arguments)}function Ioe(e,t){if(e==null)return{};var n,r,i=Poe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Poe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function joe(e){var{option:t,dotProps:n,className:r}=e;if(v.isValidElement(t))return v.cloneElement(t,n);if(typeof t=="function")return t(n);var i=Ke(r,typeof t!="boolean"?t.className:""),a=n??{},{points:s}=a,o=Ioe(a,Toe);return v.createElement(l5,Zp({},o,{className:i}))}function Roe(e,t){return e==null?!1:t?!0:e.length===1}function Doe(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:s,needClip:o,clipPathId:l,zIndex:u=An.scatter}=e;if(!Roe(t,n))return null;var c=p5(n),f=KY(n),h=t.map((g,_)=>{var b,w,x=A0(A0(A0({r:3},s),f),{},{index:_,cx:(b=g.x)!==null&&b!==void 0?b:void 0,cy:(w=g.y)!==null&&w!==void 0?w:void 0,dataKey:a,value:g.value,payload:g.payload,points:t});return v.createElement(joe,{key:"dot-".concat(_),option:n,dotProps:x,className:i})}),p={};return o&&l!=null&&(p.clipPath="url(#clipPath-".concat(c?"":"dots-").concat(l,")")),v.createElement(ma,{zIndex:u},v.createElement(fi,Zp({className:r},p),h))}function P2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function j2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?P2(Object(n),!0).forEach(function(r){koe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function koe(e,t,n){return(t=Moe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Moe(e){var t=Loe(e,"string");return typeof t=="symbol"?t:t+""}function Loe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var y5=0,Voe={xAxis:{},yAxis:{},zAxis:{}},v5=Bn({name:"cartesianAxis",initialState:Voe,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Xe()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:Xe()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Xe()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Xe()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:Xe()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Xe()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Xe()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:Xe()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Xe()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var a,s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==i.width&&Math.abs(r-((a=s[0])!==null&&a!==void 0?a:0))<=1)return;var o=[...s,r].slice(-3);e.yAxis[n]=j2(j2({},i),{},{width:r,widthHistory:o})}}}}),{addXAxis:Uoe,replaceXAxis:zoe,removeXAxis:Boe,addYAxis:$oe,replaceYAxis:Foe,removeYAxis:qoe,addZAxis:Cfe,replaceZAxis:Nfe,removeZAxis:Ofe,updateYAxisWidth:Hoe}=v5.actions,Goe=v5.reducer,Koe=V([un],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Yoe=V([Koe,oa,la],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),EE=()=>ee(Yoe),Woe=()=>ee(Pie);function R2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function T0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?R2(Object(n),!0).forEach(function(r){Xoe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xoe(e,t,n){return(t=Qoe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qoe(e){var t=Zoe(e,"string");return typeof t=="symbol"?t:t+""}function Zoe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Joe=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:s}=e;if(i===!1||t.x==null||t.y==null)return null;var o={index:n,dataKey:a,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},l=T0(T0(T0({},o),Xg(i)),Jw(i)),u;return v.isValidElement(i)?u=v.cloneElement(i,l):typeof i=="function"?u=i(l):u=v.createElement(l5,l),v.createElement(fi,{className:"recharts-active-dot",clipPath:s},u)};function D2(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:s=An.activeDot}=e,o=ee(Vf),l=Woe();if(t==null||l==null)return null;var u=t.find(c=>l.includes(c.payload));return vn(u)?null:v.createElement(ma,{zIndex:s},v.createElement(Joe,{point:u,childIndex:Number(o),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var ele=e=>{var{chartData:t}=e,n=$t(),r=$n();return v.useEffect(()=>r?()=>{}:(n(f2(t)),()=>{n(f2(void 0))}),[t,n,r]),null},k2={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},b5=Bn({name:"brush",initialState:k2,reducers:{setBrushSettings(e,t){return t.payload==null?k2:t.payload}}}),{setBrushSettings:Ife}=b5.actions,tle=b5.reducer;function nle(e){return(e%180+180)%180}var rle=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=nle(i),s=a*Math.PI/180,o=Math.atan(r/n),l=s>o&&s<Math.PI-o?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},ile={dots:[],areas:[],lines:[]},x5=Bn({name:"referenceElements",initialState:ile,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Mr(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Mr(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Mr(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:Pfe,removeDot:jfe,addArea:Rfe,removeArea:Dfe,addLine:kfe,removeLine:Mfe}=x5.actions,ale=x5.reducer,sle=v.createContext(void 0),ole=e=>{var{children:t}=e,[n]=v.useState("".concat(Af("recharts"),"-clip")),r=EE();if(r==null)return null;var{x:i,y:a,width:s,height:o}=r;return v.createElement(sle.Provider,{value:n},v.createElement("defs",null,v.createElement("clipPath",{id:n},v.createElement("rect",{x:i,y:a,height:o,width:s}))),t)};function _5(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t){var i=e[r];i!==void 0&&n.push(i)}return n}function lle(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return rle(r,n)}function ule(e,t,n){var r=n==="width",{x:i,y:a,width:s,height:o}=e;return t===1?{start:r?i:a,end:r?i+s:a+o}:{start:r?i+s:a+o,end:r?i:a}}function zf(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function cle(e,t){return _5(e,t+1)}function fle(e,t,n,r,i){for(var a=(r||[]).slice(),{start:s,end:o}=t,l=0,u=1,c=s,f=function(){var g=r==null?void 0:r[l];if(g===void 0)return{v:_5(r,u)};var _=l,b,w=()=>(b===void 0&&(b=n(g,_)),b),x=g.coordinate,E=l===0||zf(e,x,w,c,o);E||(l=0,c=s,u+=1),E&&(c=x+e*(w()/2+i),l+=u)},h;u<=a.length;)if(h=f(),h)return h.v;return[]}function dle(e,t,n,r,i){var a=(r||[]).slice(),s=a.length;if(s===0)return[];for(var{start:o,end:l}=t,u=1;u<=s;u++){for(var c=(s-1)%u,f=o,h=!0,p=function(){var T=r[_];if(T==null)return 0;var I=_,k,A=()=>(k===void 0&&(k=n(T,I)),k),C=T.coordinate,N=_===c||zf(e,C,A,f,l);if(!N)return h=!1,1;N&&(f=C+e*(A()/2+i))},g,_=c;_<s&&(g=p(),!(g!==0&&g===1));_+=u);if(h){for(var b=[],w=c;w<s;w+=u){var x=r[w];x!=null&&b.push(x)}return b}}return[]}function M2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?M2(Object(n),!0).forEach(function(r){hle(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hle(e,t,n){return(t=mle(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mle(e){var t=ple(e,"string");return typeof t=="symbol"?t:t+""}function ple(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gle(e,t,n,r,i){for(var a=(r||[]).slice(),s=a.length,{start:o}=t,{end:l}=t,u=function(h){var p=a[h];if(p==null)return 1;var g=p,_,b=()=>(_===void 0&&(_=n(p,h)),_);if(h===s-1){var w=e*(g.coordinate+e*b()/2-l);a[h]=g=hn(hn({},g),{},{tickCoord:w>0?g.coordinate-w*e:g.coordinate})}else a[h]=g=hn(hn({},g),{},{tickCoord:g.coordinate});if(g.tickCoord!=null){var x=zf(e,g.tickCoord,b,o,l);x&&(l=g.tickCoord-e*(b()/2+i),a[h]=hn(hn({},g),{},{isShow:!0}))}},c=s-1;c>=0;c--)u(c);return a}function yle(e,t,n,r,i,a){var s=(r||[]).slice(),o=s.length,{start:l,end:u}=t;if(a){var c=r[o-1];if(c!=null){var f=n(c,o-1),h=e*(c.coordinate+e*f/2-u);if(s[o-1]=c=hn(hn({},c),{},{tickCoord:h>0?c.coordinate-h*e:c.coordinate}),c.tickCoord!=null){var p=zf(e,c.tickCoord,()=>f,l,u);p&&(u=c.tickCoord-e*(f/2+i),s[o-1]=hn(hn({},c),{},{isShow:!0}))}}}for(var g=a?o-1:o,_=function(x){var E=s[x];if(E==null)return 1;var T=E,I,k=()=>(I===void 0&&(I=n(E,x)),I);if(x===0){var A=e*(T.coordinate-e*k()/2-l);s[x]=T=hn(hn({},T),{},{tickCoord:A<0?T.coordinate-A*e:T.coordinate})}else s[x]=T=hn(hn({},T),{},{tickCoord:T.coordinate});if(T.tickCoord!=null){var C=zf(e,T.tickCoord,k,l,u);C&&(l=T.tickCoord+e*(k()/2+i),s[x]=hn(hn({},T),{},{isShow:!0}))}},b=0;b<g;b++)_(b);return s}function SE(e,t,n){var{tick:r,ticks:i,viewBox:a,minTickGap:s,orientation:o,interval:l,tickFormatter:u,unit:c,angle:f}=e;if(!i||!i.length||!r)return[];if(Q(l)||wd.isSsr){var h;return(h=cle(i,Q(l)?l:0))!==null&&h!==void 0?h:[]}var p=[],g=o==="top"||o==="bottom"?"width":"height",_=c&&g==="width"?Gc(c,{fontSize:t,letterSpacing:n}):{width:0,height:0},b=(I,k)=>{var A=typeof u=="function"?u(I.value,k):I.value;return g==="width"?lle(Gc(A,{fontSize:t,letterSpacing:n}),_,f):Gc(A,{fontSize:t,letterSpacing:n})[g]},w=i[0],x=i[1],E=i.length>=2&&w!=null&&x!=null?pr(x.coordinate-w.coordinate):1,T=ule(a,E,g);return l==="equidistantPreserveStart"?fle(E,T,b,i,s):l==="equidistantPreserveEnd"?dle(E,T,b,i,s):(l==="preserveStart"||l==="preserveStartEnd"?p=yle(E,T,b,i,s,l==="preserveStartEnd"):p=gle(E,T,b,i,s),p.filter(I=>I.isShow))}var vle=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,s=0;if(t){Array.from(t).forEach(c=>{if(c){var f=c.getBoundingClientRect();f.width>s&&(s=f.width)}});var o=n?n.getBoundingClientRect().width:0,l=i+a,u=s+l+o+(n?r:0);return Math.round(u)}return 0},ble=["axisLine","width","height","className","hide","ticks","axisType"];function xle(e,t){if(e==null)return{};var n,r,i=_le(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _le(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function So(){return So=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},So.apply(null,arguments)}function L2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function it(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?L2(Object(n),!0).forEach(function(r){wle(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wle(e,t,n){return(t=Ele(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ele(e){var t=Sle(e,"string");return typeof t=="symbol"?t:t+""}function Sle(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $i={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:An.axis};function Ale(e){var{x:t,y:n,width:r,height:i,orientation:a,mirror:s,axisLine:o,otherSvgProps:l}=e;if(!o)return null;var u=it(it(it({},l),Ur(o)),{},{fill:"none"});if(a==="top"||a==="bottom"){var c=+(a==="top"&&!s||a==="bottom"&&s);u=it(it({},u),{},{x1:t,y1:n+c*i,x2:t+r,y2:n+c*i})}else{var f=+(a==="left"&&!s||a==="right"&&s);u=it(it({},u),{},{x1:t+f*r,y1:n,x2:t+f*r,y2:n+i})}return v.createElement("line",So({},u,{className:Ke("recharts-cartesian-axis-line",ny(o,"className"))}))}function Tle(e,t,n,r,i,a,s,o,l){var u,c,f,h,p,g,_=o?-1:1,b=e.tickSize||s,w=Q(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":u=c=e.coordinate,h=n+ +!o*i,f=h-_*b,g=f-_*l,p=w;break;case"left":f=h=e.coordinate,c=t+ +!o*r,u=c-_*b,p=u-_*l,g=w;break;case"right":f=h=e.coordinate,c=t+ +o*r,u=c+_*b,p=u+_*l,g=w;break;default:u=c=e.coordinate,h=n+ +o*i,f=h+_*b,g=f+_*l,p=w;break}return{line:{x1:u,y1:f,x2:c,y2:h},tick:{x:p,y:g}}}function Cle(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Nle(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Ole(e){var{option:t,tickProps:n,value:r}=e,i,a=Ke(n.className,"recharts-cartesian-axis-tick-value");if(v.isValidElement(t))i=v.cloneElement(t,it(it({},n),{},{className:a}));else if(typeof t=="function")i=t(it(it({},n),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=Ke(s,toe(t))),i=v.createElement(xE,So({},n,{className:s}),r)}return i}var Ile=v.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:s,unit:o,padding:l,tickTextProps:u,orientation:c,mirror:f,x:h,y:p,width:g,height:_,tickSize:b,tickMargin:w,fontSize:x,letterSpacing:E,getTicksConfig:T,events:I,axisType:k}=e,A=SE(it(it({},T),{},{ticks:n}),x,E),C=Cle(c,f),N=Nle(c,f),j=Ur(T),R=Xg(r),P={};typeof i=="object"&&(P=i);var D=it(it({},j),{},{fill:"none"},P),Z=A.map(K=>it({entry:K},Tle(K,h,p,g,_,c,b,f,w))),oe=Z.map(K=>{var{entry:W,line:te}=K;return v.createElement(fi,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(W.value,"-").concat(W.coordinate,"-").concat(W.tickCoord)},i&&v.createElement("line",So({},D,te,{className:Ke("recharts-cartesian-axis-tick-line",ny(i,"className"))})))}),q=Z.map((K,W)=>{var te,le,{entry:Ye,tick:st}=K,Pt=it(it(it(it({verticalAnchor:N},j),{},{textAnchor:C,stroke:"none",fill:a},st),{},{index:W,payload:Ye,visibleTicksCount:A.length,tickFormatter:s,padding:l},u),{},{angle:(te=(le=u==null?void 0:u.angle)!==null&&le!==void 0?le:j.angle)!==null&&te!==void 0?te:0}),Re=it(it({},Pt),R);return v.createElement(fi,So({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(Ye.value,"-").concat(Ye.coordinate,"-").concat(Ye.tickCoord)},TW(I,Ye,W)),r&&v.createElement(Ole,{option:r,tickProps:Re,value:"".concat(typeof s=="function"?s(Ye.value,W):Ye.value).concat(o||"")}))});return v.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(k,"-ticks")},q.length>0&&v.createElement(ma,{zIndex:An.label},v.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(k,"-tick-labels"),ref:t},q)),oe.length>0&&v.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(k,"-tick-lines")},oe))}),Ple=v.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:a,hide:s,ticks:o,axisType:l}=e,u=xle(e,ble),[c,f]=v.useState(""),[h,p]=v.useState(""),g=v.useRef(null);v.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var b;return vle({ticks:g.current,label:(b=e.labelRef)===null||b===void 0?void 0:b.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var _=v.useCallback(b=>{if(b){var w=b.getElementsByClassName("recharts-cartesian-axis-tick-value");g.current=w;var x=w[0];if(x){var E=window.getComputedStyle(x),T=E.fontSize,I=E.letterSpacing;(T!==c||I!==h)&&(f(T),p(I))}}},[c,h]);return s||r!=null&&r<=0||i!=null&&i<=0?null:v.createElement(ma,{zIndex:e.zIndex},v.createElement(fi,{className:Ke("recharts-cartesian-axis",a)},v.createElement(Ale,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Ur(e)}),v.createElement(Ile,{ref:_,axisType:l,events:u,fontSize:c,getTicksConfig:e,height:e.height,letterSpacing:h,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:o,unit:e.unit,width:e.width,x:e.x,y:e.y}),v.createElement(jse,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},v.createElement($se,{label:e.label,labelRef:e.labelRef}),e.children)))}),AE=v.forwardRef((e,t)=>{var n=ar(e,$i);return v.createElement(Ple,So({},n,{ref:t}))});AE.displayName="CartesianAxis";var jle=["x1","y1","x2","y2","key"],Rle=["offset"],Dle=["xAxisId","yAxisId"],kle=["xAxisId","yAxisId"];function V2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?V2(Object(n),!0).forEach(function(r){Mle(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mle(e,t,n){return(t=Lle(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lle(e){var t=Vle(e,"string");return typeof t=="symbol"?t:t+""}function Vle(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ws(){return Ws=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ws.apply(null,arguments)}function Jp(e,t){if(e==null)return{};var n,r,i=Ule(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ule(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var zle=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:s,ry:o}=e;return v.createElement("rect",{x:r,y:i,ry:o,width:a,height:s,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function w5(e){var{option:t,lineItemProps:n}=e,r;if(v.isValidElement(t))r=v.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:a,y1:s,x2:o,y2:l,key:u}=n,c=Jp(n,jle),f=(i=Ur(c))!==null&&i!==void 0?i:{},{offset:h}=f,p=Jp(f,Rle);r=v.createElement("line",Ws({},p,{x1:a,y1:s,x2:o,y2:l,fill:"none",key:u}))}return r}function Ble(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=Jp(e,Dle),l=i.map((u,c)=>{var f=gn(gn({},o),{},{x1:t,y1:u,x2:t+n,y2:u,key:"line-".concat(c),index:c});return v.createElement(w5,{key:"line-".concat(c),option:r,lineItemProps:f})});return v.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function $le(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=Jp(e,kle),l=i.map((u,c)=>{var f=gn(gn({},o),{},{x1:u,y1:t,x2:u,y2:t+n,key:"line-".concat(c),index:c});return v.createElement(w5,{option:r,lineItemProps:f,key:"line-".concat(c)})});return v.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function Fle(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:a,height:s,horizontalPoints:o,horizontal:l=!0}=e;if(!l||!t||!t.length||o==null)return null;var u=o.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==u[0]&&u.unshift(0);var c=u.map((f,h)=>{var p=u[h+1],g=p==null,_=g?i+s-f:p-f;if(_<=0)return null;var b=h%t.length;return v.createElement("rect",{key:"react-".concat(h),y:f,x:r,height:_,width:a,stroke:"none",fill:t[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},c)}function qle(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:s,height:o,verticalPoints:l}=e;if(!t||!n||!n.length)return null;var u=l.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==u[0]&&u.unshift(0);var c=u.map((f,h)=>{var p=u[h+1],g=p==null,_=g?i+s-f:p-f;if(_<=0)return null;var b=h%n.length;return v.createElement("rect",{key:"react-".concat(h),x:f,y:a,width:_,height:o,stroke:"none",fill:n[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},c)}var Hle=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return J4(SE(gn(gn(gn({},$i),n),{},{ticks:eL(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},Gle=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return J4(SE(gn(gn(gn({},$i),n),{},{ticks:eL(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},Kle={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:An.grid};function E5(e){var t=fL(),n=dL(),r=cL(),i=gn(gn({},ar(e,Kle)),{},{x:Q(e.x)?e.x:r.left,y:Q(e.y)?e.y:r.top,width:Q(e.width)?e.width:r.width,height:Q(e.height)?e.height:r.height}),{xAxisId:a,yAxisId:s,x:o,y:l,width:u,height:c,syncWithTicks:f,horizontalValues:h,verticalValues:p}=i,g=$n(),_=ee(N=>e2(N,"xAxis",a,g)),b=ee(N=>e2(N,"yAxis",s,g));if(!mi(u)||!mi(c)||!Q(o)||!Q(l))return null;var w=i.verticalCoordinatesGenerator||Hle,x=i.horizontalCoordinatesGenerator||Gle,{horizontalPoints:E,verticalPoints:T}=i;if((!E||!E.length)&&typeof x=="function"){var I=h&&h.length,k=x({yAxis:b?gn(gn({},b),{},{ticks:I?h:b.ticks}):void 0,width:t??u,height:n??c,offset:r},I?!0:f);Cp(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(E=k)}if((!T||!T.length)&&typeof w=="function"){var A=p&&p.length,C=w({xAxis:_?gn(gn({},_),{},{ticks:A?p:_.ticks}):void 0,width:t??u,height:n??c,offset:r},A?!0:f);Cp(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof C,"]")),Array.isArray(C)&&(T=C)}return v.createElement(ma,{zIndex:i.zIndex},v.createElement("g",{className:"recharts-cartesian-grid"},v.createElement(zle,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),v.createElement(Fle,Ws({},i,{horizontalPoints:E})),v.createElement(qle,Ws({},i,{verticalPoints:T})),v.createElement(Ble,Ws({},i,{offset:r,horizontalPoints:E,xAxis:_,yAxis:b})),v.createElement($le,Ws({},i,{offset:r,verticalPoints:T,xAxis:_,yAxis:b}))))}E5.displayName="CartesianGrid";var Yle={},S5=Bn({name:"errorBars",initialState:Yle,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Lfe,replaceErrorBar:Vfe,removeErrorBar:Ufe}=S5.actions,Wle=S5.reducer;function A5(e,t){var n,r,i=ee(u=>fa(u,e)),a=ee(u=>da(u,t)),s=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:kt.allowDataOverflow,o=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:Mt.allowDataOverflow,l=s||o;return{needClip:l,needClipX:s,needClipY:o}}function Xle(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=EE(),{needClipX:a,needClipY:s,needClip:o}=A5(t,n);if(!o||!i)return null;var{x:l,y:u,width:c,height:f}=i;return v.createElement("clipPath",{id:"clipPath-".concat(r)},v.createElement("rect",{x:a?l:l-c/2,y:s?u:u-f/2,width:a?c:c*2,height:s?f:f*2}))}function Qle(e){var t=Xg(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:a}=t,s=Number(i),o=Number(a);return(Number.isNaN(s)||s<0)&&(s=n),(Number.isNaN(o)||o<0)&&(o=r),{r:s,strokeWidth:o}}return{r:n,strokeWidth:r}}var Zle={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $d=v;function Jle(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var eue=typeof Object.is=="function"?Object.is:Jle,tue=$d.useSyncExternalStore,nue=$d.useRef,rue=$d.useEffect,iue=$d.useMemo,aue=$d.useDebugValue;Zle.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var a=nue(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=iue(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&s.hasValue){var g=s.value;if(i(g,p))return f=g}return f=p}if(g=f,eue(c,p))return g;var _=r(p);return i!==void 0&&i(g,_)?(c=p,g):(c=p,f=_)}var u=!1,c,f,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,i]);var o=tue(e,a[0],a[1]);return rue(function(){s.hasValue=!0,s.value=o},[o]),aue(o),o};function sue(e){e()}function oue(){let e=null,t=null;return{clear(){e=null,t=null},notify(){sue(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var U2={notify(){},get:()=>[]};function lue(e,t){let n,r=U2,i=0,a=!1;function s(_){c();const b=r.subscribe(_);let w=!1;return()=>{w||(w=!0,b(),f())}}function o(){r.notify()}function l(){g.onStateChange&&g.onStateChange()}function u(){return a}function c(){i++,n||(n=e.subscribe(l),r=oue())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=U2)}function h(){a||(a=!0,c())}function p(){a&&(a=!1,f())}const g={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:u,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>r};return g}var uue=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",cue=uue(),fue=()=>typeof navigator<"u"&&navigator.product==="ReactNative",due=fue(),hue=()=>cue||due?v.useLayoutEffect:v.useEffect,mue=hue();function z2(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function pue(e,t){if(z2(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!z2(e[n[i]],t[n[i]]))return!1;return!0}var C0=Symbol.for("react-redux-context"),N0=typeof globalThis<"u"?globalThis:{};function gue(){if(!v.createContext)return{};const e=N0[C0]??(N0[C0]=new Map);let t=e.get(v.createContext);return t||(t=v.createContext(null),e.set(v.createContext,t)),t}var yue=gue();function vue(e){const{children:t,context:n,serverState:r,store:i}=e,a=v.useMemo(()=>{const l=lue(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),s=v.useMemo(()=>i.getState(),[i]);mue(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,s]);const o=n||yue;return v.createElement(o.Provider,{value:a},t)}var bue=vue,xue=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function _ue(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function TE(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(xue.has(r)){if(e[r]==null&&t[r]==null)continue;if(!pue(e[r],t[r]))return!1}else if(!_ue(e[r],t[r]))return!1;return!0}function CE(e,t){var n,r;return(n=(r=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:y5}function NE(e,t){var n,r;return(n=(r=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:y5}var T5=(e,t,n)=>g6(e,"xAxis",CE(e,t),n),C5=(e,t,n)=>p6(e,"xAxis",CE(e,t),n),N5=(e,t,n)=>g6(e,"yAxis",NE(e,t),n),O5=(e,t,n)=>p6(e,"yAxis",NE(e,t),n),wue=V([Ze,T5,N5,C5,O5],(e,t,n,r,i)=>bi(e,"xAxis")?Tp(t,r,!1):Tp(n,i,!1)),Eue=(e,t)=>t,I5=V([L3,Eue],(e,t)=>e.filter(n=>n.type==="area").find(n=>n.id===t)),P5=e=>{var t=Ze(e),n=bi(t,"xAxis");return n?"yAxis":"xAxis"},Sue=(e,t)=>{var n=P5(e);return n==="yAxis"?NE(e,t):CE(e,t)},Aue=(e,t,n)=>G3(e,P5(e),Sue(e,t),n),Tue=V([I5,Aue],(e,t)=>{var n;if(!(e==null||t==null)){var{stackId:r}=e,i=J1(e);if(!(r==null||i==null)){var a=(n=t[r])===null||n===void 0?void 0:n.stackedData,s=a==null?void 0:a.find(o=>o.key===i);if(s!=null)return s.map(o=>[o[0],o[1]])}}}),Cue=V([Ze,T5,N5,C5,O5,Tue,pne,wue,I5,Sne],(e,t,n,r,i,a,s,o,l,u)=>{var{chartData:c,dataStartIndex:f,dataEndIndex:h}=s;if(!(l==null||e!=="horizontal"&&e!=="vertical"||t==null||n==null||r==null||i==null||r.length===0||i.length===0||o==null)){var{data:p}=l,g;if(p&&p.length>0?g=p:g=c==null?void 0:c.slice(f,h+1),g!=null)return Gue({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:f,areaSettings:l,stackedData:a,displayedData:g,chartBaseValue:u,bandSize:o})}}),Nue=["id"],Oue=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function ao(){return ao=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ao.apply(null,arguments)}function j5(e,t){if(e==null)return{};var n,r,i=Iue(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Iue(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function B2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ml(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?B2(Object(n),!0).forEach(function(r){Pue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pue(e,t,n){return(t=jue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jue(e){var t=Rue(e,"string");return typeof t=="symbol"?t:t+""}function Rue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eg(e,t){return e&&e!=="none"?e:t}var Due=e=>{var{dataKey:t,name:n,stroke:r,fill:i,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:eg(r,i),value:tL(n,t),payload:e}]},kue=v.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:s,hide:o,unit:l,tooltipType:u,id:c}=e,f={dataDefinedOnItem:n,getPosition:_u,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:tL(s,t),hide:o,type:u,color:eg(r,a),unit:l,graphicalItemId:c}};return v.createElement(doe,{tooltipEntrySettings:f})});function Mue(e){var{clipPathId:t,points:n,props:r}=e,{needClip:i,dot:a,dataKey:s}=r,o=Ur(r);return v.createElement(Doe,{points:n,dot:a,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:s,baseProps:o,needClip:i,clipPathId:t})}function Lue(e){var{showLabels:t,children:n,points:r}=e,i=r.map(a=>{var s,o,l={x:(s=a.x)!==null&&s!==void 0?s:0,y:(o=a.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return ml(ml({},l),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:l,fill:void 0})});return v.createElement(Wse,{value:t?i:void 0},n)}function $2(e){var{points:t,baseLine:n,needClip:r,clipPathId:i,props:a}=e,{layout:s,type:o,stroke:l,connectNulls:u,isRange:c}=a,{id:f}=a,h=j5(a,Nue),p=Ur(h),g=_r(h);return v.createElement(v.Fragment,null,(t==null?void 0:t.length)>1&&v.createElement(fi,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},v.createElement(gm,ao({},g,{id:f,points:t,connectNulls:u,type:o,baseLine:n,layout:s,stroke:"none",className:"recharts-area-area"})),l!=="none"&&v.createElement(gm,ao({},p,{className:"recharts-area-curve",layout:s,type:o,connectNulls:u,fill:"none",points:t})),l!=="none"&&c&&v.createElement(gm,ao({},p,{className:"recharts-area-curve",layout:s,type:o,connectNulls:u,fill:"none",points:n}))),v.createElement(Mue,{points:t,props:h,clipPathId:i}))}function Vue(e){var t,n,{alpha:r,baseLine:i,points:a,strokeWidth:s}=e,o=(t=a[0])===null||t===void 0?void 0:t.y,l=(n=a[a.length-1])===null||n===void 0?void 0:n.y;if(!be(o)||!be(l))return null;var u=r*Math.abs(o-l),c=Math.max(...a.map(f=>f.x||0));return Q(i)?c=Math.max(i,c):i&&Array.isArray(i)&&i.length&&(c=Math.max(...i.map(f=>f.x||0),c)),Q(c)?v.createElement("rect",{x:0,y:o<l?o:o-u,width:c+(s?parseInt("".concat(s),10):1),height:Math.floor(u)}):null}function Uue(e){var t,n,{alpha:r,baseLine:i,points:a,strokeWidth:s}=e,o=(t=a[0])===null||t===void 0?void 0:t.x,l=(n=a[a.length-1])===null||n===void 0?void 0:n.x;if(!be(o)||!be(l))return null;var u=r*Math.abs(o-l),c=Math.max(...a.map(f=>f.y||0));return Q(i)?c=Math.max(i,c):i&&Array.isArray(i)&&i.length&&(c=Math.max(...i.map(f=>f.y||0),c)),Q(c)?v.createElement("rect",{x:o<l?o:o-u,y:0,width:u,height:Math.floor(c+(s?parseInt("".concat(s),10):1))}):null}function zue(e){var{alpha:t,layout:n,points:r,baseLine:i,strokeWidth:a}=e;return n==="vertical"?v.createElement(Vue,{alpha:t,points:r,baseLine:i,strokeWidth:a}):v.createElement(Uue,{alpha:t,points:r,baseLine:i,strokeWidth:a})}function Bue(e){var{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a}=e,{points:s,baseLine:o,isAnimationActive:l,animationBegin:u,animationDuration:c,animationEasing:f,onAnimationStart:h,onAnimationEnd:p}=r,g=v.useMemo(()=>({points:s,baseLine:o}),[s,o]),_=TL(g,"recharts-area-"),b=b1(),[w,x]=v.useState(!1),E=!w,T=v.useCallback(()=>{typeof p=="function"&&p(),x(!1)},[p]),I=v.useCallback(()=>{typeof h=="function"&&h(),x(!0)},[h]);if(b==null)return null;var k=i.current,A=a.current;return v.createElement(Lue,{showLabels:E,points:s},r.children,v.createElement(AL,{animationId:_,begin:u,duration:c,isActive:l,easing:f,onAnimationEnd:T,onAnimationStart:I,key:_},C=>{if(k){var N=k.length/s.length,j=C===1?s:s.map((P,D)=>{var Z=Math.floor(D*N);if(k[Z]){var oe=k[Z];return ml(ml({},P),{},{x:Wr(oe.x,P.x,C),y:Wr(oe.y,P.y,C)})}return P}),R;return Q(o)?R=Wr(A,o,C):vn(o)||di(o)?R=Wr(A,0,C):R=o.map((P,D)=>{var Z=Math.floor(D*N);if(Array.isArray(A)&&A[Z]){var oe=A[Z];return ml(ml({},P),{},{x:Wr(oe.x,P.x,C),y:Wr(oe.y,P.y,C)})}return P}),C>0&&(i.current=j,a.current=R),v.createElement($2,{points:j,baseLine:R,needClip:t,clipPathId:n,props:r})}return C>0&&(i.current=s,a.current=o),v.createElement(fi,null,l&&v.createElement("defs",null,v.createElement("clipPath",{id:"animationClipPath-".concat(n)},v.createElement(zue,{alpha:C,points:s,baseLine:o,layout:b,strokeWidth:r.strokeWidth}))),v.createElement(fi,{clipPath:"url(#animationClipPath-".concat(n,")")},v.createElement($2,{points:s,baseLine:o,needClip:t,clipPathId:n,props:r})))}),v.createElement(Zse,{label:r.label}))}function $ue(e){var{needClip:t,clipPathId:n,props:r}=e,i=v.useRef(null),a=v.useRef();return v.createElement(Bue,{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a})}class Fue extends v.PureComponent{render(){var{hide:t,dot:n,points:r,className:i,top:a,left:s,needClip:o,xAxisId:l,yAxisId:u,width:c,height:f,id:h,baseLine:p,zIndex:g}=this.props;if(t)return null;var _=Ke("recharts-area",i),b=h,{r:w,strokeWidth:x}=Qle(n),E=p5(n),T=w*2+x,I=o?"url(#clipPath-".concat(E?"":"dots-").concat(b,")"):void 0;return v.createElement(ma,{zIndex:g},v.createElement(fi,{className:_},o&&v.createElement("defs",null,v.createElement(Xle,{clipPathId:b,xAxisId:l,yAxisId:u}),!E&&v.createElement("clipPath",{id:"clipPath-dots-".concat(b)},v.createElement("rect",{x:s-T/2,y:a-T/2,width:c+T,height:f+T}))),v.createElement($ue,{needClip:o,clipPathId:b,props:this.props})),v.createElement(D2,{points:r,mainColor:eg(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:I}),this.props.isRange&&Array.isArray(p)&&v.createElement(D2,{points:p,mainColor:eg(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:I}))}}var R5={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:An.area};function que(e){var t,n=ar(e,R5),{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:o,dot:l,fill:u,fillOpacity:c,hide:f,isAnimationActive:h,legendType:p,stroke:g,xAxisId:_,yAxisId:b}=n,w=j5(n,Oue),x=wu(),E=V6(),{needClip:T}=A5(_,b),I=$n(),{points:k,isRange:A,baseLine:C}=(t=ee(Z=>Cue(Z,e.id,I)))!==null&&t!==void 0?t:{},N=EE();if(x!=="horizontal"&&x!=="vertical"||N==null||E!=="AreaChart"&&E!=="ComposedChart")return null;var{height:j,width:R,x:P,y:D}=N;return!k||!k.length?null:v.createElement(Fue,ao({},w,{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:s,baseLine:C,connectNulls:o,dot:l,fill:u,fillOpacity:c,height:j,hide:f,layout:x,isAnimationActive:h==="auto"?!wd.isSsr:h,isRange:A,legendType:p,needClip:T,points:k,stroke:g,width:R,left:P,top:D,xAxisId:_,yAxisId:b}))}var Hue=(e,t,n,r,i)=>{var a=n??t;if(Q(a))return a;var s=e==="horizontal"?i:r,o=s.scale.domain();if(s.type==="number"){var l=Math.max(o[0],o[1]),u=Math.min(o[0],o[1]);return a==="dataMin"?u:a==="dataMax"||l<0?l:Math.max(Math.min(o[0],o[1]),0)}return a==="dataMin"?o[0]:a==="dataMax"?o[1]:o[0]};function Gue(e){var{areaSettings:{connectNulls:t,baseValue:n,dataKey:r},stackedData:i,layout:a,chartBaseValue:s,xAxis:o,yAxis:l,displayedData:u,dataStartIndex:c,xAxisTicks:f,yAxisTicks:h,bandSize:p}=e,g=i&&i.length,_=Hue(a,s,n,o,l),b=a==="horizontal",w=!1,x=u.map((T,I)=>{var k,A,C,N;if(g)N=i[c+I];else{var j=on(T,r);Array.isArray(j)?(N=j,w=!0):N=[_,j]}var R=(k=(A=N)===null||A===void 0?void 0:A[1])!==null&&k!==void 0?k:null,P=R==null||g&&!t&&on(T,r)==null;if(b){var D;return{x:uN({axis:o,ticks:f,bandSize:p,entry:T,index:I}),y:P?null:(D=l.scale.map(R))!==null&&D!==void 0?D:null,value:N,payload:T}}return{x:P?null:(C=o.scale.map(R))!==null&&C!==void 0?C:null,y:uN({axis:l,ticks:h,bandSize:p,entry:T,index:I}),value:N,payload:T}}),E;return g||w?E=x.map(T=>{var I,k=Array.isArray(T.value)?T.value[0]:null;if(b){var A;return{x:T.x,y:k!=null&&T.y!=null&&(A=l.scale.map(k))!==null&&A!==void 0?A:null,payload:T.payload}}return{x:k!=null&&(I=o.scale.map(k))!==null&&I!==void 0?I:null,y:T.y,payload:T.payload}}):E=b?l.scale.map(_):o.scale.map(_),{points:x,baseLine:E??0,isRange:w}}function Kue(e){var t=ar(e,R5),n=$n();return v.createElement(voe,{id:t.id,type:"area"},r=>v.createElement(v.Fragment,null,v.createElement(hoe,{legendPayload:Due(t)}),v.createElement(kue,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:r}),v.createElement(Aoe,{type:"area",id:r,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:EQ(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:n,connectNulls:t.connectNulls}),v.createElement(que,ao({},t,{id:r}))))}var D5=v.memo(Kue,TE);D5.displayName="Area";var Yue=["domain","range"],Wue=["domain","range"];function F2(e,t){if(e==null)return{};var n,r,i=Xue(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Xue(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function q2(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function k5(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=F2(e,Yue),{domain:a,range:s}=t,o=F2(t,Wue);return!q2(n,a)||!q2(r,s)?!1:TE(i,o)}var Que=["type"],Zue=["dangerouslySetInnerHTML","ticks","scale"],Jue=["id","scale"];function Fx(){return Fx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fx.apply(null,arguments)}function H2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function G2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?H2(Object(n),!0).forEach(function(r){ece(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ece(e,t,n){return(t=tce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tce(e){var t=nce(e,"string");return typeof t=="symbol"?t:t+""}function nce(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qx(e,t){if(e==null)return{};var n,r,i=rce(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function rce(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ice(e){var t=$t(),n=v.useRef(null),r=b1(),{type:i}=e,a=qx(e,Que),s=jy(r,"xAxis",i),o=v.useMemo(()=>{if(s!=null)return G2(G2({},a),{},{type:s})},[a,s]);return v.useLayoutEffect(()=>{o!=null&&(n.current===null?t(Uoe(o)):n.current!==o&&t(zoe({prev:n.current,next:o})),n.current=o)},[o,t]),v.useLayoutEffect(()=>()=>{n.current&&(t(Boe(n.current)),n.current=null)},[t]),null}var ace=e=>{var{xAxisId:t,className:n}=e,r=ee(rL),i=$n(),a="xAxis",s=ee(w=>m6(w,a,t,i)),o=ee(w=>xre(w,t)),l=ee(w=>Tre(w,t)),u=ee(w=>R3(w,t));if(o==null||l==null||u==null)return null;var{dangerouslySetInnerHTML:c,ticks:f,scale:h}=e,p=qx(e,Zue),{id:g,scale:_}=u,b=qx(u,Jue);return v.createElement(AE,Fx({},p,b,{x:l.x,y:l.y,width:o.width,height:o.height,className:Ke("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:s,axisType:a}))},sce={allowDataOverflow:kt.allowDataOverflow,allowDecimals:kt.allowDecimals,allowDuplicatedCategory:kt.allowDuplicatedCategory,angle:kt.angle,axisLine:$i.axisLine,height:kt.height,hide:!1,includeHidden:kt.includeHidden,interval:kt.interval,label:!1,minTickGap:kt.minTickGap,mirror:kt.mirror,orientation:kt.orientation,padding:kt.padding,reversed:kt.reversed,scale:kt.scale,tick:kt.tick,tickCount:kt.tickCount,tickLine:$i.tickLine,tickSize:$i.tickSize,type:kt.type,xAxisId:0},oce=e=>{var t=ar(e,sce);return v.createElement(v.Fragment,null,v.createElement(ice,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),v.createElement(ace,t))},M5=v.memo(oce,k5);M5.displayName="XAxis";var lce=["type"],uce=["dangerouslySetInnerHTML","ticks","scale"],cce=["id","scale"];function Hx(){return Hx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hx.apply(null,arguments)}function K2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Y2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?K2(Object(n),!0).forEach(function(r){fce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fce(e,t,n){return(t=dce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dce(e){var t=hce(e,"string");return typeof t=="symbol"?t:t+""}function hce(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gx(e,t){if(e==null)return{};var n,r,i=mce(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function mce(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function pce(e){var t=$t(),n=v.useRef(null),r=b1(),{type:i}=e,a=Gx(e,lce),s=jy(r,"yAxis",i),o=v.useMemo(()=>{if(s!=null)return Y2(Y2({},a),{},{type:s})},[s,a]);return v.useLayoutEffect(()=>{o!=null&&(n.current===null?t($oe(o)):n.current!==o&&t(Foe({prev:n.current,next:o})),n.current=o)},[o,t]),v.useLayoutEffect(()=>()=>{n.current&&(t(qoe(n.current)),n.current=null)},[t]),null}function gce(e){var{yAxisId:t,className:n,width:r,label:i}=e,a=v.useRef(null),s=v.useRef(null),o=ee(rL),l=$n(),u=$t(),c="yAxis",f=ee(k=>Ore(k,t)),h=ee(k=>Nre(k,t)),p=ee(k=>m6(k,c,t,l)),g=ee(k=>D3(k,t));if(v.useLayoutEffect(()=>{if(!(r!=="auto"||!f||_E(i)||v.isValidElement(i)||g==null)){var k=a.current;if(k){var A=k.getCalculatedWidth();Math.round(f.width)!==Math.round(A)&&u(Hoe({id:t,width:A}))}}},[p,f,u,i,t,r,g]),f==null||h==null||g==null)return null;var{dangerouslySetInnerHTML:_,ticks:b,scale:w}=e,x=Gx(e,uce),{id:E,scale:T}=g,I=Gx(g,cce);return v.createElement(AE,Hx({},x,I,{ref:a,labelRef:s,x:h.x,y:h.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:f.width,height:f.height,className:Ke("recharts-".concat(c," ").concat(c),n),viewBox:o,ticks:p,axisType:c}))}var yce={allowDataOverflow:Mt.allowDataOverflow,allowDecimals:Mt.allowDecimals,allowDuplicatedCategory:Mt.allowDuplicatedCategory,angle:Mt.angle,axisLine:$i.axisLine,hide:!1,includeHidden:Mt.includeHidden,interval:Mt.interval,label:!1,minTickGap:Mt.minTickGap,mirror:Mt.mirror,orientation:Mt.orientation,padding:Mt.padding,reversed:Mt.reversed,scale:Mt.scale,tick:Mt.tick,tickCount:Mt.tickCount,tickLine:$i.tickLine,tickSize:$i.tickSize,type:Mt.type,width:Mt.width,yAxisId:0},vce=e=>{var t=ar(e,yce);return v.createElement(v.Fragment,null,v.createElement(pce,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),v.createElement(gce,t))},L5=v.memo(vce,k5);L5.displayName="YAxis";var bce=(e,t)=>t,OE=V([bce,Ze,P3,Ht,j6,ha,Fie,un],Xie),IE=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},V5=wr("mouseClick"),U5=vd();U5.startListening({actionCreator:V5,effect:(e,t)=>{var n=e.payload,r=OE(t.getState(),IE(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch($re({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Kx=wr("mouseMove"),z5=vd(),Uh=null;z5.startListening({actionCreator:Kx,effect:(e,t)=>{var n=e.payload;Uh!==null&&cancelAnimationFrame(Uh);var r=IE(n);Uh=requestAnimationFrame(()=>{var i=t.getState(),a=cE(i,i.tooltip.settings.shared);if(a==="axis"){var s=OE(i,r);(s==null?void 0:s.activeIndex)!=null?t.dispatch(E6({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(w6())}Uh=null})}});function xce(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var W2={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},B5=Bn({name:"rootProps",initialState:W2,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:W2.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),_ce=B5.reducer,{updateOptions:wce}=B5.actions,Ece=null,Sce={updatePolarOptions:(e,t)=>t.payload},$5=Bn({name:"polarOptions",initialState:Ece,reducers:Sce}),{updatePolarOptions:zfe}=$5.actions,Ace=$5.reducer,F5=wr("keyDown"),q5=wr("focus"),PE=vd();PE.startListening({actionCreator:F5,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=fE(i,Pu(n),Od(n),Pd(n)),o=s==null?-1:Number(s);if(!(!Number.isFinite(o)||o<0)){var l=ha(n);if(a==="Enter"){var u=Xp(n,"axis","hover",String(i.index));t.dispatch(Vx({active:!i.active,activeIndex:i.index,activeCoordinate:u}));return}var c=Rre(n),f=c==="left-to-right"?1:-1,h=a==="ArrowRight"?1:-1,p=o+h*f;if(!(l==null||p>=l.length||p<0)){var g=Xp(n,"axis","hover",String(p));t.dispatch(Vx({active:!0,activeIndex:p.toString(),activeCoordinate:g}))}}}}}});PE.startListening({actionCreator:q5,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",s=Xp(n,"axis","hover",String(a));t.dispatch(Vx({active:!0,activeIndex:a,activeCoordinate:s}))}}}});var sr=wr("externalEvent"),H5=vd(),O0=new Map;H5.startListening({actionCreator:sr,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,a=O0.get(i);a!==void 0&&cancelAnimationFrame(a);var s=requestAnimationFrame(()=>{try{var o=t.getState(),l={activeCoordinate:Nie(o),activeDataKey:Tie(o),activeIndex:Vf(o),activeLabel:k6(o),activeTooltipIndex:Vf(o),isTooltipActive:Oie(o)};n(l,r)}finally{O0.delete(i)}});O0.set(i,s)}}});var Tce=V([Ou],e=>e.tooltipItemPayloads),Cce=V([Tce,(e,t)=>t,(e,t,n)=>n],(e,t,n)=>{if(t!=null){var r=e.find(a=>a.settings.graphicalItemId===n);if(r!=null){var{getPosition:i}=r;if(i!=null)return i(t)}}}),G5=wr("touchMove"),K5=vd();K5.startListening({actionCreator:G5,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=cE(r,r.tooltip.settings.shared);if(i==="axis"){var a=n.touches[0];if(a==null)return;var s=OE(r,IE({clientX:a.clientX,clientY:a.clientY,currentTarget:n.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(E6({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var o,l=n.touches[0];if(document.elementFromPoint==null||l==null)return;var u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var c=u.getAttribute(IQ),f=(o=u.getAttribute(PQ))!==null&&o!==void 0?o:void 0,h=Iu(r).find(_=>_.id===f);if(c==null||h==null||f==null)return;var{dataKey:p}=h,g=Cce(r,c,f);t.dispatch(Bre({activeDataKey:p,activeIndex:c,activeCoordinate:g,activeGraphicalItemId:f}))}}}});var Nce=S4({brush:tle,cartesianAxis:Goe,chartData:Cae,errorBars:Wle,graphicalItems:Eoe,layout:mQ,legend:bZ,options:wae,polarAxis:eoe,polarOptions:Ace,referenceElements:ale,rootProps:_ce,tooltip:Fre,zIndex:cae}),Oce=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return UX({reducer:Nce,preloadedState:t,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([U5.middleware,z5.middleware,PE.middleware,H5.middleware,K5.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(U4({type:"raf"}))},devTools:{serialize:{replacer:xce},name:"recharts-".concat(n)}})};function Ice(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=$n(),a=v.useRef(null);if(i)return n;a.current==null&&(a.current=Oce(t,r));var s=l1;return v.createElement(bue,{context:s,store:a.current},n)}function Pce(e){var{layout:t,margin:n}=e,r=$t(),i=$n();return v.useEffect(()=>{i||(r(fQ(t)),r(cQ(n)))},[r,i,t,n]),null}var jce=v.memo(Pce,TE);function Rce(e){var t=$t();return v.useEffect(()=>{t(wce(e))},[t,e]),null}function X2(e){var{zIndex:t,isPanorama:n}=e,r=v.useRef(null),i=$t();return v.useLayoutEffect(()=>(r.current&&i(lae({zIndex:t,element:r.current,isPanorama:n})),()=>{i(uae({zIndex:t,isPanorama:n}))}),[i,t,n]),v.createElement("g",{tabIndex:-1,ref:r})}function Q2(e){var{children:t,isPanorama:n}=e,r=ee(Zie);if(!r||r.length===0)return t;var i=r.filter(s=>s<0),a=r.filter(s=>s>0);return v.createElement(v.Fragment,null,i.map(s=>v.createElement(X2,{key:s,zIndex:s,isPanorama:n})),t,a.map(s=>v.createElement(X2,{key:s,zIndex:s,isPanorama:n})))}var Dce=["children"];function kce(e,t){if(e==null)return{};var n,r,i=Mce(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Mce(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function tg(){return tg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tg.apply(null,arguments)}var Lce={width:"100%",height:"100%",display:"block"},Vce=v.forwardRef((e,t)=>{var n=fL(),r=dL(),i=_L();if(!mi(n)||!mi(r))return null;var{children:a,otherAttributes:s,title:o,desc:l}=e,u,c;return s!=null&&(typeof s.tabIndex=="number"?u=s.tabIndex:u=i?0:void 0,typeof s.role=="string"?c=s.role:c=i?"application":void 0),v.createElement(NM,tg({},s,{title:o,desc:l,role:c,tabIndex:u,width:n,height:r,style:Lce,ref:t}),a)}),Uce=e=>{var{children:t}=e,n=ee(by);if(!n)return null;var{width:r,height:i,y:a,x:s}=n;return v.createElement(NM,{width:r,height:i,x:s,y:a},t)},Z2=v.forwardRef((e,t)=>{var{children:n}=e,r=kce(e,Dce),i=$n();return i?v.createElement(Uce,null,v.createElement(Q2,{isPanorama:!0},n)):v.createElement(Vce,tg({ref:t},r),v.createElement(Q2,{isPanorama:!1},n))});function zce(){var e=$t(),[t,n]=v.useState(null),r=ee(OQ);return v.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;be(a)&&a!==r&&e(hQ(a))}},[t,e,r]),n}function J2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bce(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?J2(Object(n),!0).forEach(function(r){$ce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $ce(e,t,n){return(t=Fce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fce(e){var t=qce(e,"string");return typeof t=="symbol"?t:t+""}function qce(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ss(){return ss=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ss.apply(null,arguments)}var Hce=()=>(Mae(),null);function ng(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Gce=v.forwardRef((e,t)=>{var n,r,i=v.useRef(null),[a,s]=v.useState({containerWidth:ng((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:ng((r=e.style)===null||r===void 0?void 0:r.height)}),o=v.useCallback((u,c)=>{s(f=>{var h=Math.round(u),p=Math.round(c);return f.containerWidth===h&&f.containerHeight===p?f:{containerWidth:h,containerHeight:p}})},[]),l=v.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:c,height:f}=u.getBoundingClientRect();o(c,f);var h=g=>{var _=g[0];if(_!=null){var{width:b,height:w}=_.contentRect;o(b,w)}},p=new ResizeObserver(h);p.observe(u),i.current=p}},[t,o]);return v.useEffect(()=>()=>{var u=i.current;u!=null&&u.disconnect()},[o]),v.createElement(v.Fragment,null,v.createElement(xd,{width:a.containerWidth,height:a.containerHeight}),v.createElement("div",ss({ref:l},e)))}),Kce=v.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,a]=v.useState({containerWidth:ng(n),containerHeight:ng(r)}),s=v.useCallback((l,u)=>{a(c=>{var f=Math.round(l),h=Math.round(u);return c.containerWidth===f&&c.containerHeight===h?c:{containerWidth:f,containerHeight:h}})},[]),o=v.useCallback(l=>{if(typeof t=="function"&&t(l),l!=null){var{width:u,height:c}=l.getBoundingClientRect();s(u,c)}},[t,s]);return v.createElement(v.Fragment,null,v.createElement(xd,{width:i.containerWidth,height:i.containerHeight}),v.createElement("div",ss({ref:o},e)))}),Yce=v.forwardRef((e,t)=>{var{width:n,height:r}=e;return v.createElement(v.Fragment,null,v.createElement(xd,{width:n,height:r}),v.createElement("div",ss({ref:t},e)))}),Wce=v.forwardRef((e,t)=>{var{width:n,height:r}=e;return typeof n=="string"||typeof r=="string"?v.createElement(Kce,ss({},e,{ref:t})):typeof n=="number"&&typeof r=="number"?v.createElement(Yce,ss({},e,{width:n,height:r,ref:t})):v.createElement(v.Fragment,null,v.createElement(xd,{width:n,height:r}),v.createElement("div",ss({ref:t},e)))});function Xce(e){return e?Gce:Wce}var Qce=v.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:s,onDoubleClick:o,onMouseDown:l,onMouseEnter:u,onMouseLeave:c,onMouseMove:f,onMouseUp:h,onTouchEnd:p,onTouchMove:g,onTouchStart:_,style:b,width:w,responsive:x,dispatchTouchEvents:E=!0}=e,T=v.useRef(null),I=$t(),[k,A]=v.useState(null),[C,N]=v.useState(null),j=zce(),R=y1(),P=(R==null?void 0:R.width)>0?R.width:w,D=(R==null?void 0:R.height)>0?R.height:i,Z=v.useCallback($=>{j($),typeof t=="function"&&t($),A($),N($),$!=null&&(T.current=$)},[j,t,A,N]),oe=v.useCallback($=>{I(V5($)),I(sr({handler:a,reactEvent:$}))},[I,a]),q=v.useCallback($=>{I(Kx($)),I(sr({handler:u,reactEvent:$}))},[I,u]),K=v.useCallback($=>{I(w6()),I(sr({handler:c,reactEvent:$}))},[I,c]),W=v.useCallback($=>{I(Kx($)),I(sr({handler:f,reactEvent:$}))},[I,f]),te=v.useCallback(()=>{I(q5())},[I]),le=v.useCallback($=>{I(F5($.key))},[I]),Ye=v.useCallback($=>{I(sr({handler:s,reactEvent:$}))},[I,s]),st=v.useCallback($=>{I(sr({handler:o,reactEvent:$}))},[I,o]),Pt=v.useCallback($=>{I(sr({handler:l,reactEvent:$}))},[I,l]),Re=v.useCallback($=>{I(sr({handler:h,reactEvent:$}))},[I,h]),cn=v.useCallback($=>{I(sr({handler:_,reactEvent:$}))},[I,_]),xi=v.useCallback($=>{E&&I(G5($)),I(sr({handler:g,reactEvent:$}))},[I,E,g]),jt=v.useCallback($=>{I(sr({handler:p,reactEvent:$}))},[I,p]),Os=Xce(x);return v.createElement(F6.Provider,{value:k},v.createElement(eW.Provider,{value:C},v.createElement(Os,{width:P??(b==null?void 0:b.width),height:D??(b==null?void 0:b.height),className:Ke("recharts-wrapper",r),style:Bce({position:"relative",cursor:"default",width:P,height:D},b),onClick:oe,onContextMenu:Ye,onDoubleClick:st,onFocus:te,onKeyDown:le,onMouseDown:Pt,onMouseEnter:q,onMouseLeave:K,onMouseMove:W,onMouseUp:Re,onTouchEnd:jt,onTouchMove:xi,onTouchStart:cn,ref:Z},v.createElement(Hce,null),n)))}),Zce=["width","height","responsive","children","className","style","compact","title","desc"];function Jce(e,t){if(e==null)return{};var n,r,i=efe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function efe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var tfe=v.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:a,className:s,style:o,compact:l,title:u,desc:c}=e,f=Jce(e,Zce),h=Ur(f);return l?v.createElement(v.Fragment,null,v.createElement(xd,{width:n,height:r}),v.createElement(Z2,{otherAttributes:h,title:u,desc:c},a)):v.createElement(Qce,{className:s,style:o,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},v.createElement(Z2,{otherAttributes:h,title:u,desc:c,ref:t},v.createElement(ole,null,a)))});function Yx(){return Yx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yx.apply(null,arguments)}var nfe={top:5,right:5,bottom:5,left:5},rfe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:nfe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},ife=v.forwardRef(function(t,n){var r,i=ar(t.categoricalChartProps,rfe),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:u}=t,c={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return v.createElement(Ice,{preloadedState:{options:c},reduxStoreName:(r=u.id)!==null&&r!==void 0?r:a},v.createElement(ele,{chartData:u.data}),v.createElement(jce,{layout:i.layout,margin:i.margin}),v.createElement(Rce,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),v.createElement(tfe,Yx({},i,{ref:n})))}),afe=["axis"],sfe=v.forwardRef((e,t)=>v.createElement(ife,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:afe,tooltipPayloadSearcher:xae,categoricalChartProps:e,ref:t}));const ofe=()=>{const[e,t]=v.useState([]),[n,r]=v.useState(!0);v.useEffect(()=>{const s=eM(ys(_t,"orders"),tM("created_at","asc")),o=pd(s,l=>{const u=l.docs.map(c=>{var f,h;return{id:c.id,...c.data(),dateObj:(f=c.data().created_at)==null?void 0:f.toDate(),date:((h=c.data().created_at)==null?void 0:h.toDate().toLocaleDateString())||"N/A"}});t(u),r(!1)});return()=>o()},[]);const i=v.useMemo(()=>{const s=e.reduce((u,c)=>u+(Number(c.total)||0),0),o=new Set(e.map(u=>u.user)).size,l=e.length>3?e.map(u=>({date:u.date,sales:Number(u.total)})):[{date:"Jan",sales:4e3},{date:"Feb",sales:3e3},{date:"Mar",sales:5e3},{date:"Apr",sales:4500},{date:"May",sales:6e3},{date:"Jun",sales:5500},{date:"Jul",sales:7e3},{date:"Aug",sales:6500},{date:"Sep",sales:8e3}];return{totalRevenue:s,uniqueCustomers:o,salesData:l}},[e]);if(n)return m.jsx("div",{className:"p-12 text-center text-gray-400 font-bold uppercase tracking-widest text-xs",children:"Loading Dashboard..."});const a=({title:s,value:o,icon:l,gradient:u,trend:c})=>m.jsxs("div",{className:`p-6 rounded-3xl text-white shadow-lg shadow-color relative overflow-hidden group hover:-translate-y-1 transition-transform duration-300 ${u}`,children:[m.jsxs("div",{className:"flex justify-between items-start z-10 relative",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-white/80 text-sm font-medium mb-1",children:s}),m.jsx("h3",{className:"text-3xl font-bold tracking-tight",children:o})]}),m.jsx("div",{className:"p-2 bg-white/20 rounded-xl backdrop-blur-sm",children:m.jsx(l,{size:20,className:"text-white"})})]}),m.jsxs("div",{className:"mt-6 flex items-center gap-2 text-sm font-medium relative z-10",children:[m.jsxs("span",{className:"bg-white/20 px-2 py-0.5 rounded-lg flex items-center gap-1 backdrop-blur-md",children:[m.jsx(cY,{size:14})," ",c]}),m.jsx("span",{className:"text-white/70 text-xs",children:"Since last month"})]}),m.jsx("div",{className:"absolute -bottom-4 -right-4 w-32 h-32 bg-white/10 rounded-full blur-2xl group-hover:scale-110 transition-transform duration-500"})]});return m.jsxs("div",{className:"flex gap-8",children:[m.jsxs("div",{className:"flex-1 space-y-8 min-w-0",children:[m.jsxs("div",{className:"flex justify-between items-center bg-white p-4 rounded-2xl border border-gray-100 shadow-sm",children:[m.jsx("h1",{className:"text-2xl font-bold text-gray-800 ml-2",children:"Dashboard"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{className:"p-2 text-gray-400 hover:bg-gray-50 rounded-lg",children:m.jsx(Sf,{size:20})}),m.jsx("div",{className:"w-8 h-8 bg-gradient-pink rounded-full flex items-center justify-center text-white font-bold text-xs shadow-md",children:"A"})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[m.jsx(a,{title:"Total Revenue",value:`$${i.totalRevenue.toLocaleString()}`,icon:_M,gradient:"bg-gradient-cyan",trend:"+12.5%"}),m.jsx(a,{title:"Total Orders",value:e.length,icon:EM,gradient:"bg-gradient-pink",trend:"+8.2%"}),m.jsx(a,{title:"New Customers",value:i.uniqueCustomers,icon:$Y,gradient:"bg-gradient-orange",trend:"+2.4%"}),m.jsx(a,{title:"Avg. Order Value",value:"$124.50",icon:lY,gradient:"bg-gradient-green",trend:"+5.1%"})]}),m.jsxs("div",{className:"admin-card p-8",children:[m.jsxs("div",{className:"flex justify-between items-center mb-8",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Sales Overview"}),m.jsx("p",{className:"text-xs text-gray-500 font-medium uppercase tracking-wider mt-1",children:"Monthly Analytics"})]}),m.jsxs("select",{className:"bg-gray-50 border border-gray-200 text-xs font-bold uppercase tracking-wider text-gray-600 rounded-lg px-3 py-2 outline-none",children:[m.jsx("option",{children:"This Year"}),m.jsx("option",{children:"Last Year"})]})]}),m.jsx("div",{className:"h-[300px] w-full",children:m.jsx(tZ,{width:"100%",height:"100%",children:m.jsxs(sfe,{data:i.salesData,children:[m.jsx("defs",{children:m.jsxs("linearGradient",{id:"colorSales",x1:"0",y1:"0",x2:"0",y2:"1",children:[m.jsx("stop",{offset:"5%",stopColor:"#06b6d4",stopOpacity:.3}),m.jsx("stop",{offset:"95%",stopColor:"#06b6d4",stopOpacity:0})]})}),m.jsx(E5,{strokeDasharray:"3 3",stroke:"#f0f0f0",vertical:!1}),m.jsx(M5,{dataKey:"date",axisLine:!1,tickLine:!1,tick:{fill:"#9ca3af",fontSize:11},dy:10}),m.jsx(L5,{axisLine:!1,tickLine:!1,tick:{fill:"#9ca3af",fontSize:11},tickFormatter:s=>`$${s}`}),m.jsx(qae,{contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgba(0,0,0,0.1)"},itemStyle:{color:"#06b6d4",fontWeight:"bold"}}),m.jsx(D5,{type:"monotone",dataKey:"sales",stroke:"#06b6d4",strokeWidth:3,fillOpacity:1,fill:"url(#colorSales)"})]})})})]}),m.jsxs("div",{className:"admin-card overflow-hidden",children:[m.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[m.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Recent Orders"}),m.jsx("button",{className:"text-cyan-500 text-xs font-bold uppercase tracking-wider hover:text-cyan-600",children:"View All"})]}),m.jsxs("table",{className:"w-full text-left admin-table",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"bg-gray-50/50 text-gray-400",children:[m.jsx("th",{className:"p-4 pl-6",children:"Order ID"}),m.jsx("th",{className:"p-4",children:"Customer"}),m.jsx("th",{className:"p-4",children:"Date"}),m.jsx("th",{className:"p-4",children:"Amount"}),m.jsx("th",{className:"p-4 text-right pr-6",children:"Status"})]})}),m.jsx("tbody",{children:e.slice().reverse().slice(0,5).map(s=>{var o,l;return m.jsxs("tr",{className:"hover:bg-gray-50/80 transition-colors",children:[m.jsxs("td",{className:"p-4 pl-6 font-mono text-xs font-bold text-gray-600",children:["#",s.id.slice(0,6)]}),m.jsxs("td",{className:"p-4 flex items-center gap-3",children:[m.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center text-xs font-bold text-gray-500",children:(o=s.user)==null?void 0:o.charAt(0).toUpperCase()}),m.jsx("span",{className:"text-sm font-medium text-gray-900",children:(l=s.user)==null?void 0:l.split("@")[0]})]}),m.jsx("td",{className:"p-4 text-xs text-gray-500 font-medium",children:s.date}),m.jsxs("td",{className:"p-4 text-sm font-bold text-gray-900",children:["$",Number(s.total).toFixed(2)]}),m.jsx("td",{className:"p-4 text-right pr-6",children:m.jsx("span",{className:`px-2.5 py-1 rounded-lg text-xs font-bold ${s.status==="New"?"bg-yellow-100 text-yellow-700":s.status==="Shipped"?"bg-cyan-100 text-cyan-700":"bg-green-100 text-green-700"}`,children:s.status||"Paid"})})]},s.id)})})]})]})]}),m.jsxs("div",{className:"w-[350px] flex-shrink-0 space-y-6 hidden xl:block",children:[m.jsxs("div",{className:"admin-card p-6 text-center relative overflow-hidden",children:[m.jsx("div",{className:"w-24 h-24 mx-auto rounded-full p-1 bg-gradient-pink mb-4 shadow-xl",children:m.jsx("div",{className:"w-full h-full rounded-full bg-white flex items-center justify-center text-3xl font-bold text-pink-500",children:"A"})}),m.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Admin User"}),m.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"Store Manager"}),m.jsxs("div",{className:"flex justify-center gap-4",children:[m.jsx("button",{className:"p-2 rounded-full bg-gray-50 hover:bg-gray-100 text-gray-500 transition-colors",children:m.jsx(OY,{size:18})}),m.jsx("button",{className:"p-2 rounded-full bg-gray-50 hover:bg-gray-100 text-gray-500 transition-colors",children:m.jsx(Sf,{size:18})}),m.jsx("button",{className:"p-2 rounded-full bg-gray-50 hover:bg-gray-100 text-gray-500 transition-colors",children:m.jsx(SY,{size:18})})]})]}),m.jsxs("div",{className:"admin-card",children:[m.jsxs("div",{className:"p-5 border-b border-gray-100 flex justify-between items-center",children:[m.jsx("h3",{className:"text-base font-bold text-gray-800",children:"Recent Buyers"}),m.jsx(pY,{size:16,className:"text-gray-400 cursor-pointer"})]}),m.jsx("div",{className:"p-2 max-h-[400px] overflow-y-auto",children:e.slice(0,5).map(s=>{var o,l;return m.jsxs("div",{className:"flex items-center gap-4 p-3 hover:bg-gray-50 rounded-xl cursor-pointer transition-colors group",children:[m.jsx("div",{className:"w-10 h-10 rounded-xl bg-gray-100 flex items-center justify-center text-gray-500 font-bold text-sm group-hover:bg-white group-hover:shadow-sm transition-all",children:(o=s.user)==null?void 0:o.charAt(0).toUpperCase()}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h4",{className:"text-sm font-bold text-gray-800",children:(l=s.user)==null?void 0:l.split("@")[0]}),m.jsx("p",{className:"text-xs text-gray-400",children:s.date})]}),m.jsxs("span",{className:"text-sm font-bold text-gray-900",children:["$",Number(s.total).toFixed(0)]})]},s.id)})}),m.jsx("div",{className:"p-4 border-t border-gray-100 text-center",children:m.jsx("button",{className:"text-xs font-bold text-pink-500 uppercase tracking-wider hover:text-pink-600",children:"View All Customers"})})]}),m.jsxs("div",{className:"p-6 rounded-3xl bg-gray-900 text-white relative overflow-hidden shadow-xl",children:[m.jsxs("div",{className:"relative z-10",children:[m.jsx("p",{className:"text-gray-400 text-xs font-bold uppercase tracking-wider mb-2",children:"Monthly Target"}),m.jsx("h3",{className:"text-3xl font-bold mb-4",children:"$15,000"}),m.jsx("div",{className:"w-full bg-gray-700 h-1.5 rounded-full mb-2 overflow-hidden",children:m.jsx("div",{className:"bg-gradient-pink h-full rounded-full",style:{width:"75%"}})}),m.jsxs("div",{className:"flex justify-between text-xs text-gray-400",children:[m.jsx("span",{children:"$11,250 achieved"}),m.jsx("span",{children:"75%"})]})]}),m.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-pink-500 rounded-full blur-[60px] opacity-20"})]})]})]})},lfe=()=>{var _,b,w;const[e,t]=v.useState([]),[n,r]=v.useState(!0),[i,a]=v.useState("All"),[s,o]=v.useState(""),[l,u]=v.useState(null),[c,f]=v.useState("");v.useEffect(()=>{const x=pd(ys(_t,"orders"),E=>{const T=E.docs.map(I=>{var A;const k=I.data();return{id:I.id,...k,date:((A=k.created_at)==null?void 0:A.toDate().toLocaleDateString())||new Date().toLocaleDateString(),paymentStatus:k.paymentStatus||"Paid",fulfillmentStatus:k.status||"Pending",trackingNumber:k.trackingNumber||""}});T.sort((I,k)=>k.created_at-I.created_at),t(T),r(!1)});return()=>x()},[]);const h=async(x,E)=>{try{await _f(br(_t,"orders",x),{status:E})}catch(T){alert("Update failed: "+T.message)}},p=async()=>{if(l)try{await _f(br(_t,"orders",l.id),{trackingNumber:c,status:"Shipped"}),f(""),u(null)}catch(x){alert("Failed to save tracking: "+x.message)}},g=e.filter(x=>{var I;const E=i==="All"||x.fulfillmentStatus===i,T=x.id.toLowerCase().includes(s.toLowerCase())||((I=x.user)==null?void 0:I.toLowerCase().includes(s.toLowerCase()));return E&&T});return m.jsxs("div",{className:"h-[calc(100vh-6rem)] flex flex-col",children:[m.jsxs("header",{className:"flex justify-between items-center mb-8",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Orders"}),m.jsx("p",{className:"text-gray-500 mt-1 text-sm",children:"Manage and track customer orders"})]}),m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("div",{className:"relative",children:[m.jsx(Yw,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),m.jsx("input",{type:"text",placeholder:"Order # or Customer...",value:s,onChange:x=>o(x.target.value),className:"pl-10 pr-4 py-2.5 bg-white border border-gray-200 rounded-lg text-sm w-64 focus:outline-none focus:ring-2 focus:ring-gold/50"})]}),m.jsx("select",{value:i,onChange:x=>a(x.target.value),className:"px-4 py-2.5 bg-white border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-gold/50 cursor-pointer",children:["All","Pending","Processing","Shipped","Delivered"].map(x=>m.jsx("option",{value:x,children:x==="All"?"Filter by Status":x},x))})]})]}),m.jsxs("div",{className:"flex gap-6 flex-1 min-h-0",children:[m.jsx("div",{className:`bg-white border border-gray-200 rounded-2xl shadow-sm flex-1 overflow-hidden flex flex-col transition-all duration-300 ${l?"w-2/3":"w-full"}`,children:m.jsx("div",{className:"overflow-y-auto flex-1 p-2",children:m.jsxs("table",{className:"w-full text-left admin-table",children:[m.jsx("thead",{className:"sticky top-0 bg-white z-10",children:m.jsxs("tr",{className:"text-gray-400 text-xs uppercase tracking-wider border-b border-gray-100",children:[m.jsx("th",{className:"p-4 font-medium pl-6",children:"Order"}),m.jsx("th",{className:"p-4 font-medium",children:"Customer"}),m.jsx("th",{className:"p-4 font-medium",children:"Date"}),m.jsx("th",{className:"p-4 font-medium",children:"Total"}),m.jsx("th",{className:"p-4 font-medium",children:"Status"}),m.jsx("th",{className:"p-4 font-medium text-right pr-6",children:"Action"})]})}),m.jsx("tbody",{className:"divide-y divide-gray-50",children:n?m.jsx("tr",{children:m.jsx("td",{colSpan:"6",className:"p-12 text-center text-gray-400",children:"Loading orders..."})}):g.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:"6",className:"p-12 text-center text-gray-400",children:"No orders found."})}):g.map(x=>{var E;return m.jsxs("tr",{onClick:()=>u(x),className:`hover:bg-gold/5 cursor-pointer transition-colors group border-b border-gray-50 last:border-0 ${(l==null?void 0:l.id)===x.id?"bg-gold/10":""}`,children:[m.jsxs("td",{className:"p-4 pl-6 font-mono text-sm text-gray-600 font-bold group-hover:text-gold transition-colors",children:["#",x.id.slice(0,6)]}),m.jsx("td",{className:"p-4",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-gray-500 font-bold text-xs",children:(E=x.user)==null?void 0:E.charAt(0).toUpperCase()}),m.jsx("span",{className:"text-sm font-medium text-gray-900",children:x.user})]})}),m.jsx("td",{className:"p-4 text-sm text-gray-500",children:x.date}),m.jsxs("td",{className:"p-4 text-sm font-medium text-gray-900",children:["$",Number(x.total).toFixed(2)]}),m.jsx("td",{className:"p-4",children:m.jsx("span",{className:`text-xs font-bold px-2.5 py-1 rounded-full ${x.fulfillmentStatus==="Delivered"?"bg-green-100 text-green-700":x.fulfillmentStatus==="Shipped"?"bg-purple-100 text-purple-700":x.fulfillmentStatus==="Processing"?"bg-blue-100 text-blue-700":"bg-yellow-100 text-yellow-700"}`,children:x.fulfillmentStatus})}),m.jsx("td",{className:"p-4 pr-6 text-right",children:m.jsx("div",{className:"text-gray-300 group-hover:text-gray-600",children:""})})]},x.id)})})]})})}),l&&m.jsxs("div",{className:"w-[400px] bg-white border border-gray-200 rounded-2xl shadow-xl flex flex-col overflow-hidden animate-slide-in-right",children:[m.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-start bg-gold/5",children:[m.jsxs("div",{children:[m.jsxs("h2",{className:"text-lg font-bold text-gray-900",children:["Order #",l.id.slice(0,6)]}),m.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[l.date," at ",new Date(((_=l.created_at)==null?void 0:_.seconds)*1e3).toLocaleTimeString()]})]}),m.jsx("button",{onClick:()=>u(null),className:"p-1 hover:bg-gray-200 rounded-full text-gray-400 hover:text-gray-600 transition-colors",children:m.jsx("span",{className:"text-xl leading-none",children:""})})]}),m.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full mx-auto flex items-center justify-center text-3xl text-gray-400 font-light mb-4",children:(b=l.user)==null?void 0:b.charAt(0).toUpperCase()}),m.jsxs("h3",{className:"font-bold text-gray-900 text-lg",children:[l.firstName," ",l.lastName]}),m.jsx("p",{className:"text-sm text-gray-500 mb-4",children:l.email}),m.jsx("div",{className:"flex justify-center gap-4",children:m.jsx("button",{className:"p-2 rounded-full border border-gray-200 hover:bg-gold hover:border-gold hover:text-white transition-colors text-gray-500",children:m.jsx(Sf,{size:16})})})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"text-xs font-bold uppercase tracking-wider text-gray-400 mb-4",children:"Order Items"}),m.jsx("div",{className:"space-y-4",children:(w=l.cart)==null?void 0:w.map((x,E)=>m.jsxs("div",{className:"flex gap-4",children:[m.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex-shrink-0"}),m.jsxs("div",{className:"flex-1",children:[m.jsx("p",{className:"text-sm font-medium text-gray-900",children:x.name}),m.jsxs("p",{className:"text-xs text-gray-500",children:["Qty: ",x.quantity,"  $",x.price]})]}),m.jsxs("span",{className:"text-sm font-bold text-gray-900",children:["$",(x.price*x.quantity).toFixed(2)]})]},E))}),m.jsxs("div",{className:"border-t border-gray-100 mt-4 pt-4 flex justify-between items-center",children:[m.jsx("span",{className:"font-bold text-gray-900",children:"Total"}),m.jsxs("span",{className:"font-bold text-2xl text-gray-900",children:["$",l.total]})]})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"text-xs font-bold uppercase tracking-wider text-gray-400 mb-4",children:"Fulfillment"}),m.jsx("div",{className:"grid grid-cols-2 gap-2",children:["Pending","Processing","Shipped","Delivered"].map(x=>m.jsx("button",{onClick:()=>h(l.id,x),className:`px-3 py-2 text-xs font-medium rounded-lg border transition-all ${l.fulfillmentStatus===x?"bg-gold text-black border-gold shadow-sm":"border-gray-200 text-gray-500 hover:border-gray-300"}`,children:x},x))})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"text-xs font-bold uppercase tracking-wider text-gray-400 mb-4",children:"Tracking Info"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("input",{type:"text",value:c,onChange:x=>f(x.target.value),placeholder:"Tracking Number",className:"flex-1 text-sm border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:border-gold"}),m.jsx("button",{onClick:p,className:"bg-black text-white px-4 py-2 rounded-lg text-sm hover:bg-gray-800 transition-colors",children:"Save"})]})]})]})]})]})]})},ufe=()=>{const[e,t]=v.useState([]),[n,r]=v.useState(!0),[i,a]=v.useState(!1),[s,o]=v.useState(null),[l,u]=v.useState(""),[c,f]=v.useState({sku:"",name:"",category:"Powder",price:"",cost:"",stock:"",reorderPoint:10,imageType:"divine",imageUrl:""});v.useEffect(()=>{const E=pd(ys(_t,"products"),T=>{const I=T.docs.map(k=>({id:k.id,...k.data()}));t(I),r(!1)},T=>{console.error("Error fetching products:",T),r(!1)});return()=>E()},[]);const h=e.reduce((E,T)=>E+(Number(T.cost)||0)*(Number(T.stock)||0),0),p=e.filter(E=>(Number(E.stock)||0)<=(Number(E.reorderPoint)||0)).length,g=E=>{const T=Number(E.stock)||0,I=Number(E.reorderPoint)||0;return T===0?{label:"Out of Stock",color:"text-red-500 bg-red-500/10 border-red-500/20"}:T<=5?{label:"Critical",color:"text-red-400 bg-red-400/10 border-red-400/20"}:T<=I?{label:"Low Stock",color:"text-yellow-500 bg-yellow-500/10 border-yellow-500/20"}:{label:"In Stock",color:"text-green-500 bg-green-500/10 border-green-500/20"}},_=(E=null)=>{o(E),f(E?{sku:E.sku||"",name:E.name||"",category:E.category||"Powder",price:E.price||"",cost:E.cost||"",stock:E.stock||"",reorderPoint:E.reorderPoint||10,imageType:E.imageType||"divine",imageUrl:E.imageUrl||""}:{sku:"",name:"",category:"Powder",price:"",cost:"",stock:"",reorderPoint:10,imageType:"divine",imageUrl:""}),a(!0)},b=async E=>{E.preventDefault();const T={...c,price:Number(c.price),cost:Number(c.cost),stock:Number(c.stock),reorderPoint:Number(c.reorderPoint)};try{s?await _f(br(_t,"products",s.id),T):await Gw(ys(_t,"products"),T),a(!1)}catch(I){alert("Failed to save product: "+I.message)}},w=async E=>{window.confirm("Are you sure you want to delete this product?")&&await iM(br(_t,"products",E))},x=e.filter(E=>E.name.toLowerCase().includes(l.toLowerCase())||E.sku.toLowerCase().includes(l.toLowerCase()));return n?m.jsx("div",{className:"p-10 text-center text-gray-500 text-xs uppercase tracking-widest",children:"Loading Inventory..."}):m.jsxs("div",{className:"space-y-8",children:[m.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-end gap-4 pb-6 border-b border-gray-200",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Inventory"}),m.jsx("p",{className:"text-gray-500 mt-1 text-sm",children:"Manage product catalog, stock levels, and pricing."})]}),m.jsxs("div",{className:"flex gap-4 w-full md:w-auto",children:[m.jsxs("div",{className:"relative group",children:[m.jsx(Yw,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-gold transition-colors",size:18}),m.jsx("input",{type:"text",placeholder:"Search Inventory...",value:l,onChange:E=>u(E.target.value),className:"pl-10 pr-4 py-2.5 bg-white border border-gray-200 rounded-lg text-sm w-full md:w-64 focus:outline-none focus:ring-2 focus:ring-gold/50 transition-all shadow-sm"})]}),m.jsxs("button",{onClick:()=>_(),className:"bg-gradient-to-r from-gold to-yellow-600 hover:from-yellow-400 hover:to-yellow-500 text-black text-xs uppercase tracking-widest px-6 py-2.5 font-bold transition-all rounded-lg flex items-center gap-2 shadow-lg hover:shadow-xl hover:-translate-y-0.5 shadow-gold/20",children:[m.jsx(PY,{size:16})," Add Product"]})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[m.jsxs("div",{className:"bg-white border border-gray-200 p-6 rounded-2xl shadow-sm flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-500 text-xs font-bold uppercase tracking-wider",children:"Total Asset Value"}),m.jsxs("h3",{className:"text-2xl text-gray-900 font-bold mt-1 tracking-tight",children:["$",h.toLocaleString()]})]}),m.jsx("div",{className:"p-3 bg-blue-50 rounded-xl text-blue-600",children:m.jsx(_M,{size:24})})]}),m.jsxs("div",{className:"bg-white border border-gray-200 p-6 rounded-2xl shadow-sm flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-500 text-xs font-bold uppercase tracking-wider",children:"Total Products"}),m.jsx("h3",{className:"text-2xl text-gray-900 font-bold mt-1 tracking-tight",children:e.length})]}),m.jsx("div",{className:"p-3 bg-purple-50 rounded-xl text-purple-600",children:m.jsx(wM,{size:24})})]}),m.jsxs("div",{className:"bg-white border border-gray-200 p-6 rounded-2xl shadow-sm flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-500 text-xs font-bold uppercase tracking-wider",children:"Low Stock Alerts"}),m.jsx("h3",{className:`text-2xl font-bold mt-1 tracking-tight ${p>0?"text-red-600":"text-green-600"}`,children:p})]}),m.jsx("div",{className:`p-3 rounded-xl ${p>0?"bg-red-50 text-red-600":"bg-green-50 text-green-600"}`,children:m.jsx(zY,{size:24})})]})]}),m.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl overflow-hidden shadow-sm",children:m.jsxs("table",{className:"w-full text-left admin-table",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"bg-gray-50 text-gray-400 text-xs font-bold uppercase tracking-wider border-b border-gray-100",children:[m.jsx("th",{className:"p-4 pl-6 font-medium w-20",children:"Image"}),m.jsx("th",{className:"p-4 font-medium",children:"Product Name"}),m.jsx("th",{className:"p-4 font-medium",children:"Category"}),m.jsx("th",{className:"p-4 font-medium text-right",children:"Price"}),m.jsx("th",{className:"p-4 font-medium text-center",children:"Stock"}),m.jsx("th",{className:"p-4 font-medium",children:"Status"}),m.jsx("th",{className:"p-4 font-medium text-right pr-6",children:"Actions"})]})}),m.jsx("tbody",{className:"divide-y divide-gray-50",children:x.map(E=>{const T=g(E);return m.jsxs("tr",{className:"hover:bg-gray-50 transition-colors group",children:[m.jsx("td",{className:"p-4 pl-6",children:m.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg overflow-hidden border border-gray-100",children:E.imageUrl?m.jsx("img",{src:E.imageUrl,alt:E.name,className:"w-full h-full object-cover"}):m.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:m.jsx(yY,{size:16})})})}),m.jsxs("td",{className:"p-4",children:[m.jsx("div",{className:"text-sm text-gray-900 font-bold",children:E.name}),m.jsx("div",{className:"text-xs text-gray-500 font-mono mt-0.5",children:E.sku})]}),m.jsx("td",{className:"p-4 text-sm text-gray-600",children:E.category}),m.jsxs("td",{className:"p-4 text-sm text-gray-900 font-mono text-right font-medium",children:["$",Number(E.price).toFixed(2)]}),m.jsx("td",{className:"p-4 text-sm text-gray-900 font-mono text-center",children:E.stock}),m.jsx("td",{className:"p-4",children:m.jsx("span",{className:`text-[10px] uppercase font-bold tracking-wider px-2.5 py-1 rounded-full border ${T.color.replace("bg-","bg-opacity-10 bg-").replace("text-","text-opacity-100 text-")}`,children:T.label})}),m.jsx("td",{className:"p-4 text-right pr-6",children:m.jsxs("div",{className:"flex gap-2 justify-end opacity-0 group-hover:opacity-100 transition-opacity",children:[m.jsx("button",{onClick:()=>_(E),className:"p-2 text-gray-400 hover:text-gold hover:bg-gold/10 rounded-lg transition-colors",children:m.jsx(CY,{size:16})}),m.jsx("button",{onClick:()=>w(E.id),className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",children:m.jsx(SM,{size:16})})]})})]},E.id)})})]})}),i&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-fade-in",children:m.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-2xl shadow-2xl overflow-hidden animate-scale-in",children:[m.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50/50",children:[m.jsx("h2",{className:"text-lg font-bold text-gray-900",children:s?"Edit Product":"Add New Product"}),m.jsx("button",{onClick:()=>a(!1),className:"text-gray-400 hover:text-gray-600 text-2xl leading-none",children:""})]}),m.jsxs("form",{onSubmit:b,className:"p-8 grid grid-cols-2 gap-6",children:[m.jsxs("div",{className:"col-span-1",children:[m.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-500 mb-2",children:"SKU"}),m.jsx("input",{type:"text",required:!0,className:"w-full bg-white border border-gray-200 rounded-lg p-3 text-gray-900 focus:border-gold focus:ring-1 focus:ring-gold outline-none text-sm transition-all",value:c.sku,onChange:E=>f({...c,sku:E.target.value})})]}),m.jsxs("div",{className:"col-span-1",children:[m.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-500 mb-2",children:"Category"}),m.jsxs("select",{className:"w-full bg-white border border-gray-200 rounded-lg p-3 text-gray-900 focus:border-gold focus:ring-1 focus:ring-gold outline-none text-sm transition-all",value:c.category,onChange:E=>f({...c,category:E.target.value}),children:[m.jsx("option",{children:"Powder"}),m.jsx("option",{children:"Sticks"}),m.jsx("option",{children:"Blends"}),m.jsx("option",{children:"Gift Sets"})]})]}),m.jsxs("div",{className:"col-span-2",children:[m.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-500 mb-2",children:"Product Name"}),m.jsx("input",{type:"text",required:!0,className:"w-full bg-white border border-gray-200 rounded-lg p-3 text-gray-900 focus:border-gold focus:ring-1 focus:ring-gold outline-none text-sm transition-all",value:c.name,onChange:E=>f({...c,name:E.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-500 mb-2",children:"Price ($)"}),m.jsx("input",{type:"number",step:"0.01",required:!0,className:"w-full bg-white border border-gray-200 rounded-lg p-3 text-gray-900 focus:border-gold focus:ring-1 focus:ring-gold outline-none text-sm transition-all",value:c.price,onChange:E=>f({...c,price:E.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-500 mb-2",children:"Cost ($)"}),m.jsx("input",{type:"number",step:"0.01",required:!0,className:"w-full bg-white border border-gray-200 rounded-lg p-3 text-gray-900 focus:border-gold focus:ring-1 focus:ring-gold outline-none text-sm transition-all",value:c.cost,onChange:E=>f({...c,cost:E.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-500 mb-2",children:"Stock"}),m.jsx("input",{type:"number",required:!0,className:"w-full bg-white border border-gray-200 rounded-lg p-3 text-gray-900 focus:border-gold focus:ring-1 focus:ring-gold outline-none text-sm transition-all",value:c.stock,onChange:E=>f({...c,stock:E.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-500 mb-2",children:"Low Stock Threshold"}),m.jsx("input",{type:"number",required:!0,className:"w-full bg-white border border-gray-200 rounded-lg p-3 text-gray-900 focus:border-gold focus:ring-1 focus:ring-gold outline-none text-sm transition-all",value:c.reorderPoint,onChange:E=>f({...c,reorderPoint:E.target.value})})]}),m.jsxs("div",{className:"col-span-2",children:[m.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-500 mb-2",children:"Image URL (Optional)"}),m.jsx("input",{type:"text",className:"w-full bg-white border border-gray-200 rounded-lg p-3 text-gray-900 focus:border-gold focus:ring-1 focus:ring-gold outline-none text-sm transition-all",placeholder:"https://...",value:c.imageUrl,onChange:E=>f({...c,imageUrl:E.target.value})})]}),m.jsxs("div",{className:"col-span-2 flex justify-end gap-4 mt-6 pt-6 border-t border-gray-100",children:[m.jsx("button",{type:"button",onClick:()=>a(!1),className:"px-4 py-2 text-xs font-bold uppercase tracking-widest text-gray-500 hover:text-gray-800 transition-colors",children:"Cancel"}),m.jsx("button",{type:"submit",className:"bg-black text-white px-8 py-3 rounded-lg text-xs uppercase tracking-widest font-bold hover:bg-gray-800 transition-colors shadow-lg shadow-black/20",children:"Save Product"})]})]})]})})]})},cfe=()=>{const[e,t]=v.useState([]),[n,r]=v.useState(!0),[i,a]=v.useState(null),[s,o]=v.useState(""),[l,u]=v.useState("all"),[c,f]=v.useState(""),[h,p]=v.useState(!1);v.useEffect(()=>{const x=eM(ys(_t,"messages"),tM("createdAt","desc")),E=pd(x,T=>{const I=T.docs.map(k=>{var A;return{id:k.id,...k.data(),createdAt:((A=k.data().createdAt)==null?void 0:A.toDate())||new Date}});t(I),r(!1)});return()=>E()},[]);const g=async x=>{a(x),x.status==="new"&&await _f(br(_t,"messages",x.id),{status:"read"})},_=async(x,E)=>{E&&E.stopPropagation(),window.confirm("Delete this message?")&&(await iM(br(_t,"messages",x)),(i==null?void 0:i.id)===x&&a(null))},b=async()=>{if(!(!c.trim()||!i)){p(!0);try{const x="service_vnv2zdj",E="YOUR_REPLY_TEMPLATE_ID",T="YOUR_PUBLIC_KEY",I={to_name:i.name,to_email:i.email,original_message:i.message,reply_message:c,subject:`Re: ${i.subject}`};await vM.send(x,E,I,T),await _f(br(_t,"messages",i.id),{status:"replied",repliedAt:new Date}),alert(`Reply sent to ${i.email} successfully!`),f("")}catch(x){console.error("Failed to send reply:",x),alert("Failed to send email. Please checks keys in Messages.jsx")}finally{p(!1)}}},w=e.filter(x=>{const E=(x.name||"").toLowerCase().includes(s.toLowerCase())||(x.subject||"").toLowerCase().includes(s.toLowerCase())||(x.email||"").toLowerCase().includes(s.toLowerCase());return l==="unread"?E&&x.status==="new":E});return n?m.jsx("div",{className:"p-10 text-center text-gray-500 text-xs uppercase tracking-widest",children:"Loading Inbox..."}):m.jsxs("div",{className:"h-[calc(100vh-6rem)] flex flex-col",children:[m.jsxs("header",{className:"flex justify-between items-center mb-6",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Messages"}),m.jsx("p",{className:"text-gray-500 mt-1 text-sm",children:"Customer inquiries and support tickets."})]}),m.jsx("div",{className:"flex gap-4",children:m.jsxs("div",{className:"relative group",children:[m.jsx(Yw,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-gold transition-colors",size:18}),m.jsx("input",{type:"text",placeholder:"Search inbox...",value:s,onChange:x=>o(x.target.value),className:"pl-10 pr-4 py-2.5 bg-white border border-gray-200 rounded-lg text-sm w-64 focus:outline-none focus:ring-2 focus:ring-gold/50 transition-all shadow-sm"})]})})]}),m.jsxs("div",{className:"flex gap-6 flex-1 min-h-0 bg-white border border-gray-200 rounded-2xl shadow-sm overflow-hidden",children:[m.jsxs("div",{className:"w-1/3 min-w-[320px] max-w-[400px] border-r border-gray-100 flex flex-col bg-gray-50/50",children:[m.jsxs("div",{className:"p-4 border-b border-gray-100 flex gap-2",children:[m.jsx("button",{onClick:()=>u("all"),className:`flex-1 py-2 text-[10px] uppercase tracking-widest font-bold rounded-lg transition-all ${l==="all"?"bg-white text-black shadow-sm border border-gray-200":"text-gray-500 hover:bg-gray-100"}`,children:"All"}),m.jsx("button",{onClick:()=>u("unread"),className:`flex-1 py-2 text-[10px] uppercase tracking-widest font-bold rounded-lg transition-all ${l==="unread"?"bg-gold text-black shadow-lg shadow-gold/20":"text-gray-500 hover:bg-gray-100"}`,children:"Unread"})]}),m.jsx("div",{className:"flex-1 overflow-y-auto",children:w.length===0?m.jsx("div",{className:"p-8 text-center text-gray-400 text-xs uppercase tracking-widest",children:"No messages"}):w.map(x=>m.jsxs("div",{onClick:()=>g(x),className:`p-5 border-b border-gray-100 cursor-pointer transition-all hover:bg-white group relative ${(i==null?void 0:i.id)===x.id?"bg-white shadow-md z-10":""}`,children:[m.jsxs("div",{className:"flex justify-between items-start mb-1",children:[m.jsx("h3",{className:`text-sm truncate pr-2 ${x.status==="new"?"text-gray-900 font-bold":"text-gray-600 font-medium"}`,children:x.name}),m.jsx("span",{className:"text-[10px] text-gray-400 font-mono whitespace-nowrap",children:x.createdAt.toLocaleDateString()})]}),m.jsx("p",{className:`text-xs mb-1.5 truncate ${x.status==="new"?"text-gold font-medium":"text-gray-500"}`,children:x.subject}),m.jsx("p",{className:"text-[11px] text-gray-400 truncate leading-relaxed",children:x.message}),x.status==="new"&&m.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-gold"})]},x.id))})]}),m.jsx("div",{className:"flex-1 flex flex-col bg-white relative",children:i?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"p-8 border-b border-gray-100 flex justify-between items-start",children:[m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-100 flex items-center justify-center text-gray-400 font-bold text-lg",children:i.name.charAt(0).toUpperCase()}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl text-gray-900 font-bold mb-1",children:i.subject}),m.jsxs("div",{className:"flex flex-col text-sm text-gray-500",children:[m.jsxs("span",{className:"flex items-center gap-2",children:["From: ",m.jsx("span",{className:"text-gray-900 font-medium",children:i.name}),m.jsxs("span",{className:"text-xs bg-gray-100 px-2 py-0.5 rounded text-gray-500",children:["<",i.email,">"]})]}),m.jsxs("span",{className:"text-[11px] text-gray-400 mt-1 uppercase tracking-wider flex items-center gap-1",children:[m.jsx(dY,{size:12})," ",i.createdAt.toLocaleString()]})]})]})]}),m.jsx("button",{onClick:x=>_(i.id,x),className:"p-2 text-gray-400 hover:text-red-500 transition-colors rounded-lg hover:bg-red-50",title:"Delete Message",children:m.jsx(SM,{size:18})})]}),m.jsx("div",{className:"flex-1 p-8 overflow-y-auto",children:m.jsx("div",{className:"prose max-w-none",children:m.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap text-sm md:text-base",children:i.message})})}),m.jsxs("div",{className:"p-6 bg-gray-50 border-t border-gray-100 m-4 rounded-xl",children:[m.jsxs("h3",{className:"text-xs font-bold uppercase tracking-wider text-gray-500 mb-4 flex items-center gap-2",children:[m.jsx(RY,{size:14})," Reply to Customer"]}),m.jsx("div",{className:"mb-4",children:m.jsx("textarea",{value:c,onChange:x=>f(x.target.value),placeholder:"Write your response here...",className:"w-full bg-white border border-gray-200 rounded-lg p-4 text-sm text-gray-900 focus:border-gold focus:ring-1 focus:ring-gold outline-none min-h-[120px] resize-none transition-all shadow-sm placeholder:text-gray-400"})}),m.jsx("div",{className:"flex justify-end",children:m.jsx("button",{onClick:b,disabled:!c.trim()||h,className:"bg-gradient-to-r from-gold to-yellow-600 hover:from-yellow-400 hover:to-yellow-500 text-black px-6 py-2.5 rounded-lg shadow-lg hover:shadow-xl hover:-translate-y-0.5 transition-all text-xs uppercase tracking-widest font-bold flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:h?"Sending...":m.jsxs(m.Fragment,{children:[m.jsx(MY,{size:14})," Send Reply"]})})})]})]}):m.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-400",children:[m.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-50 flex items-center justify-center mb-6",children:m.jsx(Sf,{size:40,className:"text-gray-300"})}),m.jsx("p",{className:"text-sm font-medium uppercase tracking-widest text-gray-500",children:"Select a message to view"})]})})]})]})};function ffe(){return console.log("VERSION CHECK: STACK THEME REDESIGN V1"),m.jsx(pK,{children:m.jsx(QB,{children:m.jsx($B,{basename:"/Ambrosia/",children:m.jsx("div",{className:"app",children:m.jsxs(aT,{children:[m.jsx(ot,{path:"/admin/login",element:m.jsx(tY,{})}),m.jsxs(ot,{path:"/admin",element:m.jsx(FY,{}),children:[m.jsx(ot,{index:!0,element:m.jsx(ofe,{})}),m.jsx(ot,{path:"orders",element:m.jsx(lfe,{})}),m.jsx(ot,{path:"products",element:m.jsx(ufe,{})}),m.jsx(ot,{path:"messages",element:m.jsx(cfe,{})})]}),m.jsx(ot,{path:"/*",element:m.jsxs(m.Fragment,{children:[m.jsx(gK,{}),m.jsx("main",{children:m.jsxs(aT,{children:[m.jsx(ot,{path:"/",element:m.jsx(CK,{})}),m.jsx(ot,{path:"/about-us",element:m.jsx(NK,{})}),m.jsx(ot,{path:"/about-cinnamon",element:m.jsx(IK,{})}),m.jsx(ot,{path:"/shop",element:m.jsx(PK,{})}),m.jsx(ot,{path:"/recipes",element:m.jsx(RK,{})}),m.jsx(ot,{path:"/contact",element:m.jsx(DK,{})}),m.jsx(ot,{path:"/cart",element:m.jsx(LK,{})}),m.jsx(ot,{path:"/checkout",element:m.jsx(XK,{})}),m.jsx(ot,{path:"/track",element:m.jsx(QK,{})}),m.jsx(ot,{path:"/order-confirmation",element:m.jsx(ZK,{})}),m.jsx(ot,{path:"/faq",element:m.jsx(MK,{})}),m.jsx(ot,{path:"/privacy",element:m.jsx(JK,{})}),m.jsx(ot,{path:"/terms",element:m.jsx(eY,{})})]})}),m.jsx(yK,{})]})})]})})})})})}b9.createRoot(document.getElementById("root")).render(m.jsx(v.StrictMode,{children:m.jsx(ffe,{})}));
