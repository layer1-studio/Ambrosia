var fU=Object.defineProperty;var dU=(e,t,n)=>t in e?fU(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var xv=(e,t,n)=>dU(e,typeof t!="symbol"?t+"":t,n);function hU(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function Ns(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var UI={exports:{}},vg={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mU=Symbol.for("react.transitional.element"),pU=Symbol.for("react.fragment");function zI(e,t,n){var r=null;if(n!==void 0&&(r=""+n),t.key!==void 0&&(r=""+t.key),"key"in t){n={};for(var i in t)i!=="key"&&(n[i]=t[i])}else n=t;return t=n.ref,{$$typeof:mU,type:e,key:r,ref:t!==void 0?t:null,props:n}}vg.Fragment=pU;vg.jsx=zI;vg.jsxs=zI;UI.exports=vg;var m=UI.exports,BI={exports:{}},ue={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dx=Symbol.for("react.transitional.element"),gU=Symbol.for("react.portal"),yU=Symbol.for("react.fragment"),vU=Symbol.for("react.strict_mode"),bU=Symbol.for("react.profiler"),_U=Symbol.for("react.consumer"),xU=Symbol.for("react.context"),wU=Symbol.for("react.forward_ref"),EU=Symbol.for("react.suspense"),SU=Symbol.for("react.memo"),$I=Symbol.for("react.lazy"),AU=Symbol.for("react.activity"),sA=Symbol.iterator;function TU(e){return e===null||typeof e!="object"?null:(e=sA&&e[sA]||e["@@iterator"],typeof e=="function"?e:null)}var FI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qI=Object.assign,HI={};function du(e,t,n){this.props=e,this.context=t,this.refs=HI,this.updater=n||FI}du.prototype.isReactComponent={};du.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};du.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function GI(){}GI.prototype=du.prototype;function hx(e,t,n){this.props=e,this.context=t,this.refs=HI,this.updater=n||FI}var mx=hx.prototype=new GI;mx.constructor=hx;qI(mx,du.prototype);mx.isPureReactComponent=!0;var oA=Array.isArray;function K0(){}var He={H:null,A:null,T:null,S:null},KI=Object.prototype.hasOwnProperty;function px(e,t,n){var r=n.ref;return{$$typeof:dx,type:e,key:t,ref:r!==void 0?r:null,props:n}}function CU(e,t){return px(e.type,t,e.props)}function gx(e){return typeof e=="object"&&e!==null&&e.$$typeof===dx}function NU(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var lA=/\/+/g;function wv(e,t){return typeof e=="object"&&e!==null&&e.key!=null?NU(""+e.key):t.toString(36)}function OU(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(K0,K0):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function nl(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"bigint":case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case dx:case gU:s=!0;break;case $I:return s=e._init,nl(s(e._payload),t,n,r,i)}}if(s)return i=i(e),s=r===""?"."+wv(e,0):r,oA(i)?(n="",s!=null&&(n=s.replace(lA,"$&/")+"/"),nl(i,t,n,"",function(u){return u})):i!=null&&(gx(i)&&(i=CU(i,n+(i.key==null||e&&e.key===i.key?"":(""+i.key).replace(lA,"$&/")+"/")+s)),t.push(i)),1;s=0;var o=r===""?".":r+":";if(oA(e))for(var l=0;l<e.length;l++)r=e[l],a=o+wv(r,l),s+=nl(r,t,n,a,i);else if(l=TU(e),typeof l=="function")for(e=l.call(e),l=0;!(r=e.next()).done;)r=r.value,a=o+wv(r,l++),s+=nl(r,t,n,a,i);else if(a==="object"){if(typeof e.then=="function")return nl(OU(e),t,n,r,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return s}function dh(e,t,n){if(e==null)return e;var r=[],i=0;return nl(e,r,"","",function(a){return t.call(n,a,i++)}),r}function IU(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var uA=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},PU={map:dh,forEach:function(e,t,n){dh(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return dh(e,function(){t++}),t},toArray:function(e){return dh(e,function(t){return t})||[]},only:function(e){if(!gx(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ue.Activity=AU;ue.Children=PU;ue.Component=du;ue.Fragment=yU;ue.Profiler=bU;ue.PureComponent=hx;ue.StrictMode=vU;ue.Suspense=EU;ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=He;ue.__COMPILER_RUNTIME={__proto__:null,c:function(e){return He.H.useMemoCache(e)}};ue.cache=function(e){return function(){return e.apply(null,arguments)}};ue.cacheSignal=function(){return null};ue.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var r=qI({},e.props),i=e.key;if(t!=null)for(a in t.key!==void 0&&(i=""+t.key),t)!KI.call(t,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&t.ref===void 0||(r[a]=t[a]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var s=Array(a),o=0;o<a;o++)s[o]=arguments[o+2];r.children=s}return px(e.type,i,r)};ue.createContext=function(e){return e={$$typeof:xU,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:_U,_context:e},e};ue.createElement=function(e,t,n){var r,i={},a=null;if(t!=null)for(r in t.key!==void 0&&(a=""+t.key),t)KI.call(t,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];i.children=o}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return px(e,a,i)};ue.createRef=function(){return{current:null}};ue.forwardRef=function(e){return{$$typeof:wU,render:e}};ue.isValidElement=gx;ue.lazy=function(e){return{$$typeof:$I,_payload:{_status:-1,_result:e},_init:IU}};ue.memo=function(e,t){return{$$typeof:SU,type:e,compare:t===void 0?null:t}};ue.startTransition=function(e){var t=He.T,n={};He.T=n;try{var r=e(),i=He.S;i!==null&&i(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(K0,uA)}catch(a){uA(a)}finally{t!==null&&n.types!==null&&(t.types=n.types),He.T=t}};ue.unstable_useCacheRefresh=function(){return He.H.useCacheRefresh()};ue.use=function(e){return He.H.use(e)};ue.useActionState=function(e,t,n){return He.H.useActionState(e,t,n)};ue.useCallback=function(e,t){return He.H.useCallback(e,t)};ue.useContext=function(e){return He.H.useContext(e)};ue.useDebugValue=function(){};ue.useDeferredValue=function(e,t){return He.H.useDeferredValue(e,t)};ue.useEffect=function(e,t){return He.H.useEffect(e,t)};ue.useEffectEvent=function(e){return He.H.useEffectEvent(e)};ue.useId=function(){return He.H.useId()};ue.useImperativeHandle=function(e,t,n){return He.H.useImperativeHandle(e,t,n)};ue.useInsertionEffect=function(e,t){return He.H.useInsertionEffect(e,t)};ue.useLayoutEffect=function(e,t){return He.H.useLayoutEffect(e,t)};ue.useMemo=function(e,t){return He.H.useMemo(e,t)};ue.useOptimistic=function(e,t){return He.H.useOptimistic(e,t)};ue.useReducer=function(e,t,n){return He.H.useReducer(e,t,n)};ue.useRef=function(e){return He.H.useRef(e)};ue.useState=function(e){return He.H.useState(e)};ue.useSyncExternalStore=function(e,t,n){return He.H.useSyncExternalStore(e,t,n)};ue.useTransition=function(){return He.H.useTransition()};ue.version="19.2.3";BI.exports=ue;var b=BI.exports;const yx=Ns(b),RU=hU({__proto__:null,default:yx},[b]);var YI={exports:{}},bg={},WI={exports:{}},XI={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(q,K){var W=q.length;q.push(K);e:for(;0<W;){var te=W-1>>>1,le=q[te];if(0<i(le,K))q[te]=K,q[W]=le,W=te;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var K=q[0],W=q.pop();if(W!==K){q[0]=W;e:for(var te=0,le=q.length,We=le>>>1;te<We;){var ut=2*(te+1)-1,jt=q[ut],je=ut+1,dn=q[je];if(0>i(jt,W))je<le&&0>i(dn,jt)?(q[te]=dn,q[je]=W,te=je):(q[te]=jt,q[ut]=W,te=ut);else if(je<le&&0>i(dn,W))q[te]=dn,q[je]=W,te=je;else break e}}return K}function i(q,K){var W=q.sortIndex-K.sortIndex;return W!==0?W:q.id-K.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],u=[],c=1,f=null,h=3,p=!1,g=!1,x=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function C(q){for(var K=n(u);K!==null;){if(K.callback===null)r(u);else if(K.startTime<=q)r(u),K.sortIndex=K.expirationTime,t(l,K);else break;K=n(u)}}function P(q){if(x=!1,C(q),!g)if(n(l)!==null)g=!0,O||(O=!0,R());else{var K=n(u);K!==null&&oe(P,K.startTime-q)}}var O=!1,A=-1,T=5,N=-1;function k(){return v?!0:!(e.unstable_now()-N<T)}function j(){if(v=!1,O){var q=e.unstable_now();N=q;var K=!0;try{e:{g=!1,x&&(x=!1,_(A),A=-1),p=!0;var W=h;try{t:{for(C(q),f=n(l);f!==null&&!(f.expirationTime>q&&k());){var te=f.callback;if(typeof te=="function"){f.callback=null,h=f.priorityLevel;var le=te(f.expirationTime<=q);if(q=e.unstable_now(),typeof le=="function"){f.callback=le,C(q),K=!0;break t}f===n(l)&&r(l),C(q)}else r(l);f=n(l)}if(f!==null)K=!0;else{var We=n(u);We!==null&&oe(P,We.startTime-q),K=!1}}break e}finally{f=null,h=W,p=!1}K=void 0}}finally{K?R():O=!1}}}var R;if(typeof S=="function")R=function(){S(j)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Z=D.port2;D.port1.onmessage=j,R=function(){Z.postMessage(null)}}else R=function(){w(j,0)};function oe(q,K){A=w(function(){q(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(q){switch(h){case 1:case 2:case 3:var K=3;break;default:K=h}var W=h;h=K;try{return q()}finally{h=W}},e.unstable_requestPaint=function(){v=!0},e.unstable_runWithPriority=function(q,K){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var W=h;h=q;try{return K()}finally{h=W}},e.unstable_scheduleCallback=function(q,K,W){var te=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?te+W:te):W=te,q){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=W+le,q={id:c++,callback:K,priorityLevel:q,startTime:W,expirationTime:le,sortIndex:-1},W>te?(q.sortIndex=W,t(u,q),n(l)===null&&q===n(u)&&(x?(_(A),A=-1):x=!0,oe(P,W-te))):(q.sortIndex=le,t(l,q),g||p||(g=!0,O||(O=!0,R()))),q},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(q){var K=h;return function(){var W=h;h=K;try{return q.apply(this,arguments)}finally{h=W}}}})(XI);WI.exports=XI;var jU=WI.exports,QI={exports:{}},Pn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kU=b;function ZI(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Pa(){}var Cn={d:{f:Pa,r:function(){throw Error(ZI(522))},D:Pa,C:Pa,L:Pa,m:Pa,X:Pa,S:Pa,M:Pa},p:0,findDOMNode:null},DU=Symbol.for("react.portal");function MU(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:DU,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}var Dc=kU.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function _g(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Cn;Pn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(ZI(299));return MU(e,t,null,n)};Pn.flushSync=function(e){var t=Dc.T,n=Cn.p;try{if(Dc.T=null,Cn.p=2,e)return e()}finally{Dc.T=t,Cn.p=n,Cn.d.f()}};Pn.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Cn.d.C(e,t))};Pn.prefetchDNS=function(e){typeof e=="string"&&Cn.d.D(e)};Pn.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,r=_g(n,t.crossOrigin),i=typeof t.integrity=="string"?t.integrity:void 0,a=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?Cn.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:a}):n==="script"&&Cn.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:a,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Pn.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=_g(t.as,t.crossOrigin);Cn.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Cn.d.M(e)};Pn.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,r=_g(n,t.crossOrigin);Cn.d.L(e,n,{crossOrigin:r,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Pn.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=_g(t.as,t.crossOrigin);Cn.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Cn.d.m(e)};Pn.requestFormReset=function(e){Cn.d.r(e)};Pn.unstable_batchedUpdates=function(e,t){return e(t)};Pn.useFormState=function(e,t,n){return Dc.H.useFormState(e,t,n)};Pn.useFormStatus=function(){return Dc.H.useHostTransitionStatus()};Pn.version="19.2.3";function JI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(JI)}catch(e){console.error(e)}}JI(),QI.exports=Pn;var vx=QI.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var It=jU,eP=b,LU=vx;function z(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function tP(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Qf(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function nP(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function rP(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function cA(e){if(Qf(e)!==e)throw Error(z(188))}function VU(e){var t=e.alternate;if(!t){if(t=Qf(e),t===null)throw Error(z(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return cA(i),e;if(a===r)return cA(i),t;a=a.sibling}throw Error(z(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?e:t}function iP(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=iP(e),t!==null)return t;e=e.sibling}return null}var Ge=Object.assign,UU=Symbol.for("react.element"),hh=Symbol.for("react.transitional.element"),xc=Symbol.for("react.portal"),cl=Symbol.for("react.fragment"),aP=Symbol.for("react.strict_mode"),Y0=Symbol.for("react.profiler"),sP=Symbol.for("react.consumer"),Li=Symbol.for("react.context"),bx=Symbol.for("react.forward_ref"),W0=Symbol.for("react.suspense"),X0=Symbol.for("react.suspense_list"),_x=Symbol.for("react.memo"),ja=Symbol.for("react.lazy"),Q0=Symbol.for("react.activity"),zU=Symbol.for("react.memo_cache_sentinel"),fA=Symbol.iterator;function rc(e){return e===null||typeof e!="object"?null:(e=fA&&e[fA]||e["@@iterator"],typeof e=="function"?e:null)}var BU=Symbol.for("react.client.reference");function Z0(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===BU?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case cl:return"Fragment";case Y0:return"Profiler";case aP:return"StrictMode";case W0:return"Suspense";case X0:return"SuspenseList";case Q0:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case xc:return"Portal";case Li:return e.displayName||"Context";case sP:return(e._context.displayName||"Context")+".Consumer";case bx:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case _x:return t=e.displayName||null,t!==null?t:Z0(e.type)||"Memo";case ja:t=e._payload,e=e._init;try{return Z0(e(t))}catch{}}return null}var wc=Array.isArray,ie=eP.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ae=LU.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ao={pending:!1,data:null,method:null,action:null},J0=[],fl=-1;function wi(e){return{current:e}}function Ft(e){0>fl||(e.current=J0[fl],J0[fl]=null,fl--)}function Ve(e,t){fl++,J0[fl]=e.current,e.current=t}var oi=wi(null),rf=wi(null),es=wi(null),jm=wi(null);function km(e,t){switch(Ve(es,t),Ve(rf,e),Ve(oi,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?yT(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=yT(t),e=Tj(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Ft(oi),Ve(oi,e)}function zl(){Ft(oi),Ft(rf),Ft(es)}function eb(e){e.memoizedState!==null&&Ve(jm,e);var t=oi.current,n=Tj(t,e.type);t!==n&&(Ve(rf,e),Ve(oi,n))}function Dm(e){rf.current===e&&(Ft(oi),Ft(rf)),jm.current===e&&(Ft(jm),pf._currentValue=ao)}var Ev,dA;function Gs(e){if(Ev===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ev=t&&t[1]||"",dA=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ev+e+dA}var Sv=!1;function Av(e,t){if(!e||Sv)return"";Sv=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(p){var h=p}Reflect.construct(e,[],f)}else{try{f.call()}catch(p){h=p}e.call(f.prototype)}}else{try{throw Error()}catch(p){h=p}(f=e())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(p){if(p&&h&&typeof p.stack=="string")return[p.stack,h.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),s=a[0],o=a[1];if(s&&o){var l=s.split(`
`),u=o.split(`
`);for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===u.length)for(r=l.length-1,i=u.length-1;1<=r&&0<=i&&l[r]!==u[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==u[i]){if(r!==1||i!==1)do if(r--,i--,0>i||l[r]!==u[i]){var c=`
`+l[r].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=r&&0<=i);break}}}finally{Sv=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Gs(n):""}function $U(e,t){switch(e.tag){case 26:case 27:case 5:return Gs(e.type);case 16:return Gs("Lazy");case 13:return e.child!==t&&t!==null?Gs("Suspense Fallback"):Gs("Suspense");case 19:return Gs("SuspenseList");case 0:case 15:return Av(e.type,!1);case 11:return Av(e.type.render,!1);case 1:return Av(e.type,!0);case 31:return Gs("Activity");default:return""}}function hA(e){try{var t="",n=null;do t+=$U(e,n),n=e,e=e.return;while(e);return t}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var tb=Object.prototype.hasOwnProperty,xx=It.unstable_scheduleCallback,Tv=It.unstable_cancelCallback,FU=It.unstable_shouldYield,qU=It.unstable_requestPaint,nr=It.unstable_now,HU=It.unstable_getCurrentPriorityLevel,oP=It.unstable_ImmediatePriority,lP=It.unstable_UserBlockingPriority,Mm=It.unstable_NormalPriority,GU=It.unstable_LowPriority,uP=It.unstable_IdlePriority,KU=It.log,YU=It.unstable_setDisableYieldValue,Zf=null,rr=null;function Ka(e){if(typeof KU=="function"&&YU(e),rr&&typeof rr.setStrictMode=="function")try{rr.setStrictMode(Zf,e)}catch{}}var ir=Math.clz32?Math.clz32:QU,WU=Math.log,XU=Math.LN2;function QU(e){return e>>>=0,e===0?32:31-(WU(e)/XU|0)|0}var mh=256,ph=262144,gh=4194304;function Ks(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function xg(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var i=0,a=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var o=r&134217727;return o!==0?(r=o&~a,r!==0?i=Ks(r):(s&=o,s!==0?i=Ks(s):n||(n=o&~e,n!==0&&(i=Ks(n))))):(o=r&~a,o!==0?i=Ks(o):s!==0?i=Ks(s):n||(n=r&~e,n!==0&&(i=Ks(n)))),i===0?0:t!==0&&t!==i&&!(t&a)&&(a=i&-i,n=t&-t,a>=n||a===32&&(n&4194048)!==0)?t:i}function Jf(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function ZU(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cP(){var e=gh;return gh<<=1,!(gh&62914560)&&(gh=4194304),e}function Cv(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ed(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function JU(e,t,n,r,i,a){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,u=e.hiddenUpdates;for(n=s&~n;0<n;){var c=31-ir(n),f=1<<c;o[c]=0,l[c]=-1;var h=u[c];if(h!==null)for(u[c]=null,c=0;c<h.length;c++){var p=h[c];p!==null&&(p.lane&=-536870913)}n&=~f}r!==0&&fP(e,r,0),a!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=a&~(s&~t))}function fP(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-ir(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&261930}function dP(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ir(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function hP(e,t){var n=t&-t;return n=n&42?1:wx(n),n&(e.suspendedLanes|t)?0:n}function wx(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ex(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function mP(){var e=Ae.p;return e!==0?e:(e=window.event,e===void 0?32:Lj(e.type))}function mA(e,t){var n=Ae.p;try{return Ae.p=e,t()}finally{Ae.p=n}}var Os=Math.random().toString(36).slice(2),nn="__reactFiber$"+Os,Fn="__reactProps$"+Os,hu="__reactContainer$"+Os,nb="__reactEvents$"+Os,ez="__reactListeners$"+Os,tz="__reactHandles$"+Os,pA="__reactResources$"+Os,td="__reactMarker$"+Os;function Sx(e){delete e[nn],delete e[Fn],delete e[nb],delete e[ez],delete e[tz]}function dl(e){var t=e[nn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hu]||n[nn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=wT(e);e!==null;){if(n=e[nn])return n;e=wT(e)}return t}e=n,n=e.parentNode}return null}function mu(e){if(e=e[nn]||e[hu]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Ec(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(z(33))}function Tl(e){var t=e[pA];return t||(t=e[pA]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function $t(e){e[td]=!0}var pP=new Set,gP={};function Mo(e,t){Bl(e,t),Bl(e+"Capture",t)}function Bl(e,t){for(gP[e]=t,e=0;e<t.length;e++)pP.add(t[e])}var nz=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gA={},yA={};function rz(e){return tb.call(yA,e)?!0:tb.call(gA,e)?!1:nz.test(e)?yA[e]=!0:(gA[e]=!0,!1)}function Jh(e,t,n){if(rz(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function yh(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Ni(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+r)}}function mr(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function yP(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function iz(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function rb(e){if(!e._valueTracker){var t=yP(e)?"checked":"value";e._valueTracker=iz(e,t,""+e[t])}}function vP(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=yP(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Lm(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var az=/[\n"\\]/g;function yr(e){return e.replace(az,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function ib(e,t,n,r,i,a,s,o){e.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?e.type=s:e.removeAttribute("type"),t!=null?s==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+mr(t)):e.value!==""+mr(t)&&(e.value=""+mr(t)):s!=="submit"&&s!=="reset"||e.removeAttribute("value"),t!=null?ab(e,s,mr(t)):n!=null?ab(e,s,mr(n)):r!=null&&e.removeAttribute("value"),i==null&&a!=null&&(e.defaultChecked=!!a),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.name=""+mr(o):e.removeAttribute("name")}function bP(e,t,n,r,i,a,s,o){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.type=a),t!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||t!=null)){rb(e);return}n=n!=null?""+mr(n):"",t=t!=null?""+mr(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r=r??i,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.name=s),rb(e)}function ab(e,t,n){t==="number"&&Lm(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Cl(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+mr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function _P(e,t,n){if(t!=null&&(t=""+mr(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+mr(n):""}function xP(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(z(92));if(wc(r)){if(1<r.length)throw Error(z(93));r=r[0]}n=r}n==null&&(n=""),t=n}n=mr(t),e.defaultValue=n,r=e.textContent,r===n&&r!==""&&r!==null&&(e.value=r),rb(e)}function $l(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var sz=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vA(e,t,n){var r=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,n):typeof n!="number"||n===0||sz.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function wP(e,t,n){if(t!=null&&typeof t!="object")throw Error(z(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&vA(e,i,r)}else for(var a in t)t.hasOwnProperty(a)&&vA(e,a,t[a])}function Ax(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oz=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lz=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function em(e){return lz.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Vi(){}var sb=null;function Tx(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hl=null,Nl=null;function bA(e){var t=mu(e);if(t&&(e=t.stateNode)){var n=e[Fn]||null;e:switch(e=t.stateNode,t.type){case"input":if(ib(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+yr(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[Fn]||null;if(!i)throw Error(z(90));ib(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&vP(r)}break e;case"textarea":_P(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Cl(e,!!n.multiple,t,!1)}}}var Nv=!1;function EP(e,t,n){if(Nv)return e(t,n);Nv=!0;try{var r=e(t);return r}finally{if(Nv=!1,(hl!==null||Nl!==null)&&(jg(),hl&&(t=hl,e=Nl,Nl=hl=null,bA(t),e)))for(t=0;t<e.length;t++)bA(e[t])}}function af(e,t){var n=e.stateNode;if(n===null)return null;var r=n[Fn]||null;if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(z(231,t,typeof n));return n}var Qi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ob=!1;if(Qi)try{var ic={};Object.defineProperty(ic,"passive",{get:function(){ob=!0}}),window.addEventListener("test",ic,ic),window.removeEventListener("test",ic,ic)}catch{ob=!1}var Ya=null,Cx=null,tm=null;function SP(){if(tm)return tm;var e,t=Cx,n=t.length,r,i="value"in Ya?Ya.value:Ya.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[a-r];r++);return tm=i.slice(e,1<r?1-r:void 0)}function nm(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function vh(){return!0}function _A(){return!1}function qn(e){function t(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?vh:_A,this.isPropagationStopped=_A,this}return Ge(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=vh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=vh)},persist:function(){},isPersistent:vh}),t}var Lo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wg=qn(Lo),nd=Ge({},Lo,{view:0,detail:0}),uz=qn(nd),Ov,Iv,ac,Eg=Ge({},nd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nx,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ac&&(ac&&e.type==="mousemove"?(Ov=e.screenX-ac.screenX,Iv=e.screenY-ac.screenY):Iv=Ov=0,ac=e),Ov)},movementY:function(e){return"movementY"in e?e.movementY:Iv}}),xA=qn(Eg),cz=Ge({},Eg,{dataTransfer:0}),fz=qn(cz),dz=Ge({},nd,{relatedTarget:0}),Pv=qn(dz),hz=Ge({},Lo,{animationName:0,elapsedTime:0,pseudoElement:0}),mz=qn(hz),pz=Ge({},Lo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gz=qn(pz),yz=Ge({},Lo,{data:0}),wA=qn(yz),vz={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bz={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_z={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xz(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=_z[e])?!!t[e]:!1}function Nx(){return xz}var wz=Ge({},nd,{key:function(e){if(e.key){var t=vz[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=nm(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?bz[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nx,charCode:function(e){return e.type==="keypress"?nm(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?nm(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ez=qn(wz),Sz=Ge({},Eg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),EA=qn(Sz),Az=Ge({},nd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nx}),Tz=qn(Az),Cz=Ge({},Lo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nz=qn(Cz),Oz=Ge({},Eg,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Iz=qn(Oz),Pz=Ge({},Lo,{newState:0,oldState:0}),Rz=qn(Pz),jz=[9,13,27,32],Ox=Qi&&"CompositionEvent"in window,Mc=null;Qi&&"documentMode"in document&&(Mc=document.documentMode);var kz=Qi&&"TextEvent"in window&&!Mc,AP=Qi&&(!Ox||Mc&&8<Mc&&11>=Mc),SA=" ",AA=!1;function TP(e,t){switch(e){case"keyup":return jz.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function CP(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ml=!1;function Dz(e,t){switch(e){case"compositionend":return CP(t);case"keypress":return t.which!==32?null:(AA=!0,SA);case"textInput":return e=t.data,e===SA&&AA?null:e;default:return null}}function Mz(e,t){if(ml)return e==="compositionend"||!Ox&&TP(e,t)?(e=SP(),tm=Cx=Ya=null,ml=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return AP&&t.locale!=="ko"?null:t.data;default:return null}}var Lz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function TA(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Lz[e.type]:t==="textarea"}function NP(e,t,n,r){hl?Nl?Nl.push(r):Nl=[r]:hl=r,t=tp(t,"onChange"),0<t.length&&(n=new wg("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Lc=null,sf=null;function Vz(e){Ej(e,0)}function Sg(e){var t=Ec(e);if(vP(t))return e}function CA(e,t){if(e==="change")return t}var OP=!1;if(Qi){var Rv;if(Qi){var jv="oninput"in document;if(!jv){var NA=document.createElement("div");NA.setAttribute("oninput","return;"),jv=typeof NA.oninput=="function"}Rv=jv}else Rv=!1;OP=Rv&&(!document.documentMode||9<document.documentMode)}function OA(){Lc&&(Lc.detachEvent("onpropertychange",IP),sf=Lc=null)}function IP(e){if(e.propertyName==="value"&&Sg(sf)){var t=[];NP(t,sf,e,Tx(e)),EP(Vz,t)}}function Uz(e,t,n){e==="focusin"?(OA(),Lc=t,sf=n,Lc.attachEvent("onpropertychange",IP)):e==="focusout"&&OA()}function zz(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Sg(sf)}function Bz(e,t){if(e==="click")return Sg(t)}function $z(e,t){if(e==="input"||e==="change")return Sg(t)}function Fz(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var lr=typeof Object.is=="function"?Object.is:Fz;function of(e,t){if(lr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!tb.call(t,i)||!lr(e[i],t[i]))return!1}return!0}function IA(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function PA(e,t){var n=IA(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=IA(n)}}function PP(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?PP(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function RP(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Lm(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Lm(e.document)}return t}function Ix(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var qz=Qi&&"documentMode"in document&&11>=document.documentMode,pl=null,lb=null,Vc=null,ub=!1;function RA(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ub||pl==null||pl!==Lm(r)||(r=pl,"selectionStart"in r&&Ix(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Vc&&of(Vc,r)||(Vc=r,r=tp(lb,"onSelect"),0<r.length&&(t=new wg("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=pl)))}function qs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var gl={animationend:qs("Animation","AnimationEnd"),animationiteration:qs("Animation","AnimationIteration"),animationstart:qs("Animation","AnimationStart"),transitionrun:qs("Transition","TransitionRun"),transitionstart:qs("Transition","TransitionStart"),transitioncancel:qs("Transition","TransitionCancel"),transitionend:qs("Transition","TransitionEnd")},kv={},jP={};Qi&&(jP=document.createElement("div").style,"AnimationEvent"in window||(delete gl.animationend.animation,delete gl.animationiteration.animation,delete gl.animationstart.animation),"TransitionEvent"in window||delete gl.transitionend.transition);function Vo(e){if(kv[e])return kv[e];if(!gl[e])return e;var t=gl[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in jP)return kv[e]=t[n];return e}var kP=Vo("animationend"),DP=Vo("animationiteration"),MP=Vo("animationstart"),Hz=Vo("transitionrun"),Gz=Vo("transitionstart"),Kz=Vo("transitioncancel"),LP=Vo("transitionend"),VP=new Map,cb="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");cb.push("scrollEnd");function Gr(e,t){VP.set(e,t),Mo(t,[e])}var Vm=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},hr=[],yl=0,Px=0;function Ag(){for(var e=yl,t=Px=yl=0;t<e;){var n=hr[t];hr[t++]=null;var r=hr[t];hr[t++]=null;var i=hr[t];hr[t++]=null;var a=hr[t];if(hr[t++]=null,r!==null&&i!==null){var s=r.pending;s===null?i.next=i:(i.next=s.next,s.next=i),r.pending=i}a!==0&&UP(n,i,a)}}function Tg(e,t,n,r){hr[yl++]=e,hr[yl++]=t,hr[yl++]=n,hr[yl++]=r,Px|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function Rx(e,t,n,r){return Tg(e,t,n,r),Um(e)}function Uo(e,t){return Tg(e,null,null,t),Um(e)}function UP(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var i=!1,a=e.return;a!==null;)a.childLanes|=n,r=a.alternate,r!==null&&(r.childLanes|=n),a.tag===22&&(e=a.stateNode,e===null||e._visibility&1||(i=!0)),e=a,a=a.return;return e.tag===3?(a=e.stateNode,i&&t!==null&&(i=31-ir(n),e=a.hiddenUpdates,r=e[i],r===null?e[i]=[t]:r.push(t),t.lane=n|536870912),a):null}function Um(e){if(50<Kc)throw Kc=0,Pb=null,Error(z(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var vl={};function Yz(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xn(e,t,n,r){return new Yz(e,t,n,r)}function jx(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qi(e,t){var n=e.alternate;return n===null?(n=Xn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function zP(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function rm(e,t,n,r,i,a){var s=0;if(r=e,typeof e=="function")jx(e)&&(s=1);else if(typeof e=="string")s=J9(e,n,oi.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Q0:return e=Xn(31,n,t,i),e.elementType=Q0,e.lanes=a,e;case cl:return so(n.children,i,a,t);case aP:s=8,i|=24;break;case Y0:return e=Xn(12,n,t,i|2),e.elementType=Y0,e.lanes=a,e;case W0:return e=Xn(13,n,t,i),e.elementType=W0,e.lanes=a,e;case X0:return e=Xn(19,n,t,i),e.elementType=X0,e.lanes=a,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Li:s=10;break e;case sP:s=9;break e;case bx:s=11;break e;case _x:s=14;break e;case ja:s=16,r=null;break e}s=29,n=Error(z(130,e===null?"null":typeof e,"")),r=null}return t=Xn(s,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function so(e,t,n,r){return e=Xn(7,e,r,t),e.lanes=n,e}function Dv(e,t,n){return e=Xn(6,e,null,t),e.lanes=n,e}function BP(e){var t=Xn(18,null,null,0);return t.stateNode=e,t}function Mv(e,t,n){return t=Xn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var jA=new WeakMap;function vr(e,t){if(typeof e=="object"&&e!==null){var n=jA.get(e);return n!==void 0?n:(t={value:e,source:t,stack:hA(t)},jA.set(e,t),t)}return{value:e,source:t,stack:hA(t)}}var bl=[],_l=0,zm=null,lf=0,pr=[],gr=0,gs=null,ti=1,ni="";function ji(e,t){bl[_l++]=lf,bl[_l++]=zm,zm=e,lf=t}function $P(e,t,n){pr[gr++]=ti,pr[gr++]=ni,pr[gr++]=gs,gs=e;var r=ti;e=ni;var i=32-ir(r)-1;r&=~(1<<i),n+=1;var a=32-ir(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,ti=1<<32-ir(t)+i|n<<i|r,ni=a+e}else ti=1<<a|n<<i|r,ni=e}function kx(e){e.return!==null&&(ji(e,1),$P(e,1,0))}function Dx(e){for(;e===zm;)zm=bl[--_l],bl[_l]=null,lf=bl[--_l],bl[_l]=null;for(;e===gs;)gs=pr[--gr],pr[gr]=null,ni=pr[--gr],pr[gr]=null,ti=pr[--gr],pr[gr]=null}function FP(e,t){pr[gr++]=ti,pr[gr++]=ni,pr[gr++]=gs,ti=t.id,ni=t.overflow,gs=e}var rn=null,Fe=null,_e=!1,ts=null,br=!1,fb=Error(z(519));function ys(e){var t=Error(z(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw uf(vr(t,e)),fb}function kA(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[nn]=e,t[Fn]=r,n){case"dialog":he("cancel",t),he("close",t);break;case"iframe":case"object":case"embed":he("load",t);break;case"video":case"audio":for(n=0;n<hf.length;n++)he(hf[n],t);break;case"source":he("error",t);break;case"img":case"image":case"link":he("error",t),he("load",t);break;case"details":he("toggle",t);break;case"input":he("invalid",t),bP(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":he("invalid",t);break;case"textarea":he("invalid",t),xP(t,r.value,r.defaultValue,r.children)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||r.suppressHydrationWarning===!0||Aj(t.textContent,n)?(r.popover!=null&&(he("beforetoggle",t),he("toggle",t)),r.onScroll!=null&&he("scroll",t),r.onScrollEnd!=null&&he("scrollend",t),r.onClick!=null&&(t.onclick=Vi),t=!0):t=!1,t||ys(e,!0)}function DA(e){for(rn=e.return;rn;)switch(rn.tag){case 5:case 31:case 13:br=!1;return;case 27:case 3:br=!0;return;default:rn=rn.return}}function Xo(e){if(e!==rn)return!1;if(!_e)return DA(e),_e=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Mb(e.type,e.memoizedProps)),n=!n),n&&Fe&&ys(e),DA(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(z(317));Fe=xT(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(z(317));Fe=xT(e)}else t===27?(t=Fe,Is(e.type)?(e=zb,zb=null,Fe=e):Fe=t):Fe=rn?Ar(e.stateNode.nextSibling):null;return!0}function vo(){Fe=rn=null,_e=!1}function Lv(){var e=ts;return e!==null&&(Mn===null?Mn=e:Mn.push.apply(Mn,e),ts=null),e}function uf(e){ts===null?ts=[e]:ts.push(e)}var db=wi(null),zo=null,Ui=null;function La(e,t,n){Ve(db,t._currentValue),t._currentValue=n}function Hi(e){e._currentValue=db.current,Ft(db)}function hb(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function mb(e,t,n,r){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){var s=i.child;a=a.firstContext;e:for(;a!==null;){var o=a;a=i;for(var l=0;l<t.length;l++)if(o.context===t[l]){a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),hb(a.return,n,e),r||(s=null);break e}a=o.next}}else if(i.tag===18){if(s=i.return,s===null)throw Error(z(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),hb(s,n,e),s=null}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===e){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}}function pu(e,t,n,r){e=null;for(var i=t,a=!1;i!==null;){if(!a){if(i.flags&524288)a=!0;else if(i.flags&262144)break}if(i.tag===10){var s=i.alternate;if(s===null)throw Error(z(387));if(s=s.memoizedProps,s!==null){var o=i.type;lr(i.pendingProps.value,s.value)||(e!==null?e.push(o):e=[o])}}else if(i===jm.current){if(s=i.alternate,s===null)throw Error(z(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(pf):e=[pf])}i=i.return}e!==null&&mb(t,e,n,r),t.flags|=262144}function Bm(e){for(e=e.firstContext;e!==null;){if(!lr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function bo(e){zo=e,Ui=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function sn(e){return qP(zo,e)}function bh(e,t){return zo===null&&bo(e),qP(e,t)}function qP(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Ui===null){if(e===null)throw Error(z(308));Ui=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ui=Ui.next=t;return n}var Wz=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Xz=It.unstable_scheduleCallback,Qz=It.unstable_NormalPriority,_t={$$typeof:Li,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mx(){return{controller:new Wz,data:new Map,refCount:0}}function rd(e){e.refCount--,e.refCount===0&&Xz(Qz,function(){e.controller.abort()})}var Uc=null,pb=0,Fl=0,Ol=null;function Zz(e,t){if(Uc===null){var n=Uc=[];pb=0,Fl=ow(),Ol={status:"pending",value:void 0,then:function(r){n.push(r)}}}return pb++,t.then(MA,MA),t}function MA(){if(--pb===0&&Uc!==null){Ol!==null&&(Ol.status="fulfilled");var e=Uc;Uc=null,Fl=0,Ol=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Jz(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var i=0;i<n.length;i++)(0,n[i])(t)},function(i){for(r.status="rejected",r.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),r}var LA=ie.S;ie.S=function(e,t){ij=nr(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Zz(e,t),LA!==null&&LA(e,t)};var oo=wi(null);function Lx(){var e=oo.current;return e!==null?e:Me.pooledCache}function im(e,t){t===null?Ve(oo,oo.current):Ve(oo,t.pool)}function HP(){var e=Lx();return e===null?null:{parent:_t._currentValue,pool:e}}var gu=Error(z(460)),Vx=Error(z(474)),Cg=Error(z(542)),$m={then:function(){}};function VA(e){return e=e.status,e==="fulfilled"||e==="rejected"}function GP(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Vi,Vi),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,zA(e),e;default:if(typeof t.status=="string")t.then(Vi,Vi);else{if(e=Me,e!==null&&100<e.shellSuspendCounter)throw Error(z(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=r}},function(r){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,zA(e),e}throw lo=t,gu}}function Ys(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(lo=n,gu):n}}var lo=null;function UA(){if(lo===null)throw Error(z(459));var e=lo;return lo=null,e}function zA(e){if(e===gu||e===Cg)throw Error(z(483))}var Il=null,cf=0;function _h(e){var t=cf;return cf+=1,Il===null&&(Il=[]),GP(Il,e,t)}function sc(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function xh(e,t){throw t.$$typeof===UU?Error(z(525)):(e=Object.prototype.toString.call(t),Error(z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function KP(e){function t(w,_){if(e){var S=w.deletions;S===null?(w.deletions=[_],w.flags|=16):S.push(_)}}function n(w,_){if(!e)return null;for(;_!==null;)t(w,_),_=_.sibling;return null}function r(w){for(var _=new Map;w!==null;)w.key!==null?_.set(w.key,w):_.set(w.index,w),w=w.sibling;return _}function i(w,_){return w=qi(w,_),w.index=0,w.sibling=null,w}function a(w,_,S){return w.index=S,e?(S=w.alternate,S!==null?(S=S.index,S<_?(w.flags|=67108866,_):S):(w.flags|=67108866,_)):(w.flags|=1048576,_)}function s(w){return e&&w.alternate===null&&(w.flags|=67108866),w}function o(w,_,S,C){return _===null||_.tag!==6?(_=Dv(S,w.mode,C),_.return=w,_):(_=i(_,S),_.return=w,_)}function l(w,_,S,C){var P=S.type;return P===cl?c(w,_,S.props.children,C,S.key):_!==null&&(_.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===ja&&Ys(P)===_.type)?(_=i(_,S.props),sc(_,S),_.return=w,_):(_=rm(S.type,S.key,S.props,null,w.mode,C),sc(_,S),_.return=w,_)}function u(w,_,S,C){return _===null||_.tag!==4||_.stateNode.containerInfo!==S.containerInfo||_.stateNode.implementation!==S.implementation?(_=Mv(S,w.mode,C),_.return=w,_):(_=i(_,S.children||[]),_.return=w,_)}function c(w,_,S,C,P){return _===null||_.tag!==7?(_=so(S,w.mode,C,P),_.return=w,_):(_=i(_,S),_.return=w,_)}function f(w,_,S){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return _=Dv(""+_,w.mode,S),_.return=w,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case hh:return S=rm(_.type,_.key,_.props,null,w.mode,S),sc(S,_),S.return=w,S;case xc:return _=Mv(_,w.mode,S),_.return=w,_;case ja:return _=Ys(_),f(w,_,S)}if(wc(_)||rc(_))return _=so(_,w.mode,S,null),_.return=w,_;if(typeof _.then=="function")return f(w,_h(_),S);if(_.$$typeof===Li)return f(w,bh(w,_),S);xh(w,_)}return null}function h(w,_,S,C){var P=_!==null?_.key:null;if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return P!==null?null:o(w,_,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case hh:return S.key===P?l(w,_,S,C):null;case xc:return S.key===P?u(w,_,S,C):null;case ja:return S=Ys(S),h(w,_,S,C)}if(wc(S)||rc(S))return P!==null?null:c(w,_,S,C,null);if(typeof S.then=="function")return h(w,_,_h(S),C);if(S.$$typeof===Li)return h(w,_,bh(w,S),C);xh(w,S)}return null}function p(w,_,S,C,P){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return w=w.get(S)||null,o(_,w,""+C,P);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case hh:return w=w.get(C.key===null?S:C.key)||null,l(_,w,C,P);case xc:return w=w.get(C.key===null?S:C.key)||null,u(_,w,C,P);case ja:return C=Ys(C),p(w,_,S,C,P)}if(wc(C)||rc(C))return w=w.get(S)||null,c(_,w,C,P,null);if(typeof C.then=="function")return p(w,_,S,_h(C),P);if(C.$$typeof===Li)return p(w,_,S,bh(_,C),P);xh(_,C)}return null}function g(w,_,S,C){for(var P=null,O=null,A=_,T=_=0,N=null;A!==null&&T<S.length;T++){A.index>T?(N=A,A=null):N=A.sibling;var k=h(w,A,S[T],C);if(k===null){A===null&&(A=N);break}e&&A&&k.alternate===null&&t(w,A),_=a(k,_,T),O===null?P=k:O.sibling=k,O=k,A=N}if(T===S.length)return n(w,A),_e&&ji(w,T),P;if(A===null){for(;T<S.length;T++)A=f(w,S[T],C),A!==null&&(_=a(A,_,T),O===null?P=A:O.sibling=A,O=A);return _e&&ji(w,T),P}for(A=r(A);T<S.length;T++)N=p(A,w,T,S[T],C),N!==null&&(e&&N.alternate!==null&&A.delete(N.key===null?T:N.key),_=a(N,_,T),O===null?P=N:O.sibling=N,O=N);return e&&A.forEach(function(j){return t(w,j)}),_e&&ji(w,T),P}function x(w,_,S,C){if(S==null)throw Error(z(151));for(var P=null,O=null,A=_,T=_=0,N=null,k=S.next();A!==null&&!k.done;T++,k=S.next()){A.index>T?(N=A,A=null):N=A.sibling;var j=h(w,A,k.value,C);if(j===null){A===null&&(A=N);break}e&&A&&j.alternate===null&&t(w,A),_=a(j,_,T),O===null?P=j:O.sibling=j,O=j,A=N}if(k.done)return n(w,A),_e&&ji(w,T),P;if(A===null){for(;!k.done;T++,k=S.next())k=f(w,k.value,C),k!==null&&(_=a(k,_,T),O===null?P=k:O.sibling=k,O=k);return _e&&ji(w,T),P}for(A=r(A);!k.done;T++,k=S.next())k=p(A,w,T,k.value,C),k!==null&&(e&&k.alternate!==null&&A.delete(k.key===null?T:k.key),_=a(k,_,T),O===null?P=k:O.sibling=k,O=k);return e&&A.forEach(function(R){return t(w,R)}),_e&&ji(w,T),P}function v(w,_,S,C){if(typeof S=="object"&&S!==null&&S.type===cl&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case hh:e:{for(var P=S.key;_!==null;){if(_.key===P){if(P=S.type,P===cl){if(_.tag===7){n(w,_.sibling),C=i(_,S.props.children),C.return=w,w=C;break e}}else if(_.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===ja&&Ys(P)===_.type){n(w,_.sibling),C=i(_,S.props),sc(C,S),C.return=w,w=C;break e}n(w,_);break}else t(w,_);_=_.sibling}S.type===cl?(C=so(S.props.children,w.mode,C,S.key),C.return=w,w=C):(C=rm(S.type,S.key,S.props,null,w.mode,C),sc(C,S),C.return=w,w=C)}return s(w);case xc:e:{for(P=S.key;_!==null;){if(_.key===P)if(_.tag===4&&_.stateNode.containerInfo===S.containerInfo&&_.stateNode.implementation===S.implementation){n(w,_.sibling),C=i(_,S.children||[]),C.return=w,w=C;break e}else{n(w,_);break}else t(w,_);_=_.sibling}C=Mv(S,w.mode,C),C.return=w,w=C}return s(w);case ja:return S=Ys(S),v(w,_,S,C)}if(wc(S))return g(w,_,S,C);if(rc(S)){if(P=rc(S),typeof P!="function")throw Error(z(150));return S=P.call(S),x(w,_,S,C)}if(typeof S.then=="function")return v(w,_,_h(S),C);if(S.$$typeof===Li)return v(w,_,bh(w,S),C);xh(w,S)}return typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint"?(S=""+S,_!==null&&_.tag===6?(n(w,_.sibling),C=i(_,S),C.return=w,w=C):(n(w,_),C=Dv(S,w.mode,C),C.return=w,w=C),s(w)):n(w,_)}return function(w,_,S,C){try{cf=0;var P=v(w,_,S,C);return Il=null,P}catch(A){if(A===gu||A===Cg)throw A;var O=Xn(29,A,null,w.mode);return O.lanes=C,O.return=w,O}finally{}}}var _o=KP(!0),YP=KP(!1),ka=!1;function Ux(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gb(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ns(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function rs(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Se&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Um(e),UP(e,null,n),t}return Tg(e,r,t,n),Um(e)}function zc(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,dP(e,n)}}function Vv(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var yb=!1;function Bc(){if(yb){var e=Ol;if(e!==null)throw e}}function $c(e,t,n,r){yb=!1;var i=e.updateQueue;ka=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?a=u:s.next=u,s=l;var c=e.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==s&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;s=0,c=u=l=null,o=a;do{var h=o.lane&-536870913,p=h!==o.lane;if(p?(ve&h)===h:(r&h)===h){h!==0&&h===Fl&&(yb=!0),c!==null&&(c=c.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var g=e,x=o;h=t;var v=n;switch(x.tag){case 1:if(g=x.payload,typeof g=="function"){f=g.call(v,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=x.payload,h=typeof g=="function"?g.call(v,f,h):g,h==null)break e;f=Ge({},f,h);break e;case 2:ka=!0}}h=o.callback,h!==null&&(e.flags|=64,p&&(e.flags|=8192),p=i.callbacks,p===null?i.callbacks=[h]:p.push(h))}else p={lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=p,l=f):c=c.next=p,s|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;p=o,o=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,a===null&&(i.shared.lanes=0),bs|=s,e.lanes=s,e.memoizedState=f}}function WP(e,t){if(typeof e!="function")throw Error(z(191,e));e.call(t)}function XP(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)WP(n[e],t)}var ql=wi(null),Fm=wi(0);function BA(e,t){e=ta,Ve(Fm,e),Ve(ql,t),ta=e|t.baseLanes}function vb(){Ve(Fm,ta),Ve(ql,ql.current)}function zx(){ta=Fm.current,Ft(ql),Ft(Fm)}var ur=wi(null),Sr=null;function Va(e){var t=e.alternate;Ve(dt,dt.current&1),Ve(ur,e),Sr===null&&(t===null||ql.current!==null||t.memoizedState!==null)&&(Sr=e)}function bb(e){Ve(dt,dt.current),Ve(ur,e),Sr===null&&(Sr=e)}function QP(e){e.tag===22?(Ve(dt,dt.current),Ve(ur,e),Sr===null&&(Sr=e)):Ua()}function Ua(){Ve(dt,dt.current),Ve(ur,ur.current)}function Wn(e){Ft(ur),Sr===e&&(Sr=null),Ft(dt)}var dt=wi(0);function qm(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Vb(n)||Ub(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Zi=0,ce=null,Re=null,vt=null,Hm=!1,Pl=!1,xo=!1,Gm=0,ff=0,Rl=null,e9=0;function rt(){throw Error(z(321))}function Bx(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function $x(e,t,n,r,i,a){return Zi=a,ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ie.H=e===null||e.memoizedState===null?NR:Jx,xo=!1,a=n(r,i),xo=!1,Pl&&(a=JP(t,n,r,i)),ZP(e),a}function ZP(e){ie.H=df;var t=Re!==null&&Re.next!==null;if(Zi=0,vt=Re=ce=null,Hm=!1,ff=0,Rl=null,t)throw Error(z(300));e===null||Et||(e=e.dependencies,e!==null&&Bm(e)&&(Et=!0))}function JP(e,t,n,r){ce=e;var i=0;do{if(Pl&&(Rl=null),ff=0,Pl=!1,25<=i)throw Error(z(301));if(i+=1,vt=Re=null,e.updateQueue!=null){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}ie.H=OR,a=t(n,r)}while(Pl);return a}function t9(){var e=ie.H,t=e.useState()[0];return t=typeof t.then=="function"?id(t):t,e=e.useState()[0],(Re!==null?Re.memoizedState:null)!==e&&(ce.flags|=1024),t}function Fx(){var e=Gm!==0;return Gm=0,e}function qx(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Hx(e){if(Hm){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Hm=!1}Zi=0,vt=Re=ce=null,Pl=!1,ff=Gm=0,Rl=null}function An(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?ce.memoizedState=vt=e:vt=vt.next=e,vt}function pt(){if(Re===null){var e=ce.alternate;e=e!==null?e.memoizedState:null}else e=Re.next;var t=vt===null?ce.memoizedState:vt.next;if(t!==null)vt=t,Re=e;else{if(e===null)throw ce.alternate===null?Error(z(467)):Error(z(310));Re=e,e={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},vt===null?ce.memoizedState=vt=e:vt=vt.next=e}return vt}function Ng(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function id(e){var t=ff;return ff+=1,Rl===null&&(Rl=[]),e=GP(Rl,e,t),t=ce,(vt===null?t.memoizedState:vt.next)===null&&(t=t.alternate,ie.H=t===null||t.memoizedState===null?NR:Jx),e}function Og(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return id(e);if(e.$$typeof===Li)return sn(e)}throw Error(z(438,String(e)))}function Gx(e){var t=null,n=ce.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=ce.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Ng(),ce.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=zU;return t.index++,n}function Ji(e,t){return typeof t=="function"?t(e):t}function am(e){var t=pt();return Kx(t,Re,e)}function Kx(e,t,n){var r=e.queue;if(r===null)throw Error(z(311));r.lastRenderedReducer=n;var i=e.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}t.baseQueue=i=a,r.pending=null}if(a=e.baseState,i===null)e.memoizedState=a;else{t=i.next;var o=s=null,l=null,u=t,c=!1;do{var f=u.lane&-536870913;if(f!==u.lane?(ve&f)===f:(Zi&f)===f){var h=u.revertLane;if(h===0)l!==null&&(l=l.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===Fl&&(c=!0);else if((Zi&h)===h){u=u.next,h===Fl&&(c=!0);continue}else f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(o=l=f,s=a):l=l.next=f,ce.lanes|=h,bs|=h;f=u.action,xo&&n(a,f),a=u.hasEagerState?u.eagerState:n(a,f)}else h={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(o=l=h,s=a):l=l.next=h,ce.lanes|=f,bs|=f;u=u.next}while(u!==null&&u!==t);if(l===null?s=a:l.next=o,!lr(a,e.memoizedState)&&(Et=!0,c&&(n=Ol,n!==null)))throw n;e.memoizedState=a,e.baseState=s,e.baseQueue=l,r.lastRenderedState=a}return i===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Uv(e){var t=pt(),n=t.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);lr(a,t.memoizedState)||(Et=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function eR(e,t,n){var r=ce,i=pt(),a=_e;if(a){if(n===void 0)throw Error(z(407));n=n()}else n=t();var s=!lr((Re||i).memoizedState,n);if(s&&(i.memoizedState=n,Et=!0),i=i.queue,Yx(rR.bind(null,r,i,e),[e]),i.getSnapshot!==t||s||vt!==null&&vt.memoizedState.tag&1){if(r.flags|=2048,Hl(9,{destroy:void 0},nR.bind(null,r,i,n,t),null),Me===null)throw Error(z(349));a||Zi&127||tR(r,t,n)}return n}function tR(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ce.updateQueue,t===null?(t=Ng(),ce.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function nR(e,t,n,r){t.value=n,t.getSnapshot=r,iR(t)&&aR(e)}function rR(e,t,n){return n(function(){iR(t)&&aR(e)})}function iR(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!lr(e,n)}catch{return!0}}function aR(e){var t=Uo(e,2);t!==null&&Bn(t,e,2)}function _b(e){var t=An();if(typeof e=="function"){var n=e;if(e=n(),xo){Ka(!0);try{n()}finally{Ka(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:e},t}function sR(e,t,n,r){return e.baseState=n,Kx(e,Re,typeof r=="function"?r:Ji)}function n9(e,t,n,r,i){if(Pg(e))throw Error(z(485));if(e=t.action,e!==null){var a={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){a.listeners.push(s)}};ie.T!==null?n(!0):a.isTransition=!1,r(a),n=t.pending,n===null?(a.next=t.pending=a,oR(t,a)):(a.next=n.next,t.pending=n.next=a)}}function oR(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=ie.T,s={};ie.T=s;try{var o=n(i,r),l=ie.S;l!==null&&l(s,o),$A(e,t,o)}catch(u){xb(e,t,u)}finally{a!==null&&s.types!==null&&(a.types=s.types),ie.T=a}}else try{a=n(i,r),$A(e,t,a)}catch(u){xb(e,t,u)}}function $A(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){FA(e,t,r)},function(r){return xb(e,t,r)}):FA(e,t,n)}function FA(e,t,n){t.status="fulfilled",t.value=n,lR(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,oR(e,n)))}function xb(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=n,lR(t),t=t.next;while(t!==r)}e.action=null}function lR(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function uR(e,t){return t}function qA(e,t){if(_e){var n=Me.formState;if(n!==null){e:{var r=ce;if(_e){if(Fe){t:{for(var i=Fe,a=br;i.nodeType!==8;){if(!a){i=null;break t}if(i=Ar(i.nextSibling),i===null){i=null;break t}}a=i.data,i=a==="F!"||a==="F"?i:null}if(i){Fe=Ar(i.nextSibling),r=i.data==="F!";break e}}ys(r)}r=!1}r&&(t=n[0])}}return n=An(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:uR,lastRenderedState:t},n.queue=r,n=AR.bind(null,ce,r),r.dispatch=n,r=_b(!1),a=Zx.bind(null,ce,!1,r.queue),r=An(),i={state:t,dispatch:null,action:e,pending:null},r.queue=i,n=n9.bind(null,ce,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function HA(e){var t=pt();return cR(t,Re,e)}function cR(e,t,n){if(t=Kx(e,t,uR)[0],e=am(Ji)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=id(t)}catch(s){throw s===gu?Cg:s}else r=t;t=pt();var i=t.queue,a=i.dispatch;return n!==t.memoizedState&&(ce.flags|=2048,Hl(9,{destroy:void 0},r9.bind(null,i,n),null)),[r,a,e]}function r9(e,t){e.action=t}function GA(e){var t=pt(),n=Re;if(n!==null)return cR(t,n,e);pt(),t=t.memoizedState,n=pt();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Hl(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=ce.updateQueue,t===null&&(t=Ng(),ce.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function fR(){return pt().memoizedState}function sm(e,t,n,r){var i=An();ce.flags|=e,i.memoizedState=Hl(1|t,{destroy:void 0},n,r===void 0?null:r)}function Ig(e,t,n,r){var i=pt();r=r===void 0?null:r;var a=i.memoizedState.inst;Re!==null&&r!==null&&Bx(r,Re.memoizedState.deps)?i.memoizedState=Hl(t,a,n,r):(ce.flags|=e,i.memoizedState=Hl(1|t,a,n,r))}function KA(e,t){sm(8390656,8,e,t)}function Yx(e,t){Ig(2048,8,e,t)}function i9(e){ce.flags|=4;var t=ce.updateQueue;if(t===null)t=Ng(),ce.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function dR(e){var t=pt().memoizedState;return i9({ref:t,nextImpl:e}),function(){if(Se&2)throw Error(z(440));return t.impl.apply(void 0,arguments)}}function hR(e,t){return Ig(4,2,e,t)}function mR(e,t){return Ig(4,4,e,t)}function pR(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function gR(e,t,n){n=n!=null?n.concat([e]):null,Ig(4,4,pR.bind(null,t,e),n)}function Wx(){}function yR(e,t){var n=pt();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&Bx(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function vR(e,t){var n=pt();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&Bx(t,r[1]))return r[0];if(r=e(),xo){Ka(!0);try{e()}finally{Ka(!1)}}return n.memoizedState=[r,t],r}function Xx(e,t,n){return n===void 0||Zi&1073741824&&!(ve&261930)?e.memoizedState=t:(e.memoizedState=n,e=sj(),ce.lanes|=e,bs|=e,n)}function bR(e,t,n,r){return lr(n,t)?n:ql.current!==null?(e=Xx(e,n,r),lr(e,t)||(Et=!0),e):!(Zi&42)||Zi&1073741824&&!(ve&261930)?(Et=!0,e.memoizedState=n):(e=sj(),ce.lanes|=e,bs|=e,t)}function _R(e,t,n,r,i){var a=Ae.p;Ae.p=a!==0&&8>a?a:8;var s=ie.T,o={};ie.T=o,Zx(e,!1,t,n);try{var l=i(),u=ie.S;if(u!==null&&u(o,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=Jz(l,r);Fc(e,t,c,ar(e))}else Fc(e,t,r,ar(e))}catch(f){Fc(e,t,{then:function(){},status:"rejected",reason:f},ar())}finally{Ae.p=a,s!==null&&o.types!==null&&(s.types=o.types),ie.T=s}}function a9(){}function wb(e,t,n,r){if(e.tag!==5)throw Error(z(476));var i=xR(e).queue;_R(e,i,t,ao,n===null?a9:function(){return wR(e),n(r)})}function xR(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ao,baseState:ao,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:ao},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function wR(e){var t=xR(e);t.next===null&&(t=e.alternate.memoizedState),Fc(e,t.next.queue,{},ar())}function Qx(){return sn(pf)}function ER(){return pt().memoizedState}function SR(){return pt().memoizedState}function s9(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=ar();e=ns(n);var r=rs(t,e,n);r!==null&&(Bn(r,t,n),zc(r,t,n)),t={cache:Mx()},e.payload=t;return}t=t.return}}function o9(e,t,n){var r=ar();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Pg(e)?TR(t,n):(n=Rx(e,t,n,r),n!==null&&(Bn(n,e,r),CR(n,t,r)))}function AR(e,t,n){var r=ar();Fc(e,t,n,r)}function Fc(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Pg(e))TR(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,lr(o,s))return Tg(e,t,i,0),Me===null&&Ag(),!1}catch{}finally{}if(n=Rx(e,t,i,r),n!==null)return Bn(n,e,r),CR(n,t,r),!0}return!1}function Zx(e,t,n,r){if(r={lane:2,revertLane:ow(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Pg(e)){if(t)throw Error(z(479))}else t=Rx(e,n,r,2),t!==null&&Bn(t,e,2)}function Pg(e){var t=e.alternate;return e===ce||t!==null&&t===ce}function TR(e,t){Pl=Hm=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function CR(e,t,n){if(n&4194048){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,dP(e,n)}}var df={readContext:sn,use:Og,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useLayoutEffect:rt,useInsertionEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useSyncExternalStore:rt,useId:rt,useHostTransitionStatus:rt,useFormState:rt,useActionState:rt,useOptimistic:rt,useMemoCache:rt,useCacheRefresh:rt};df.useEffectEvent=rt;var NR={readContext:sn,use:Og,useCallback:function(e,t){return An().memoizedState=[e,t===void 0?null:t],e},useContext:sn,useEffect:KA,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,sm(4194308,4,pR.bind(null,t,e),n)},useLayoutEffect:function(e,t){return sm(4194308,4,e,t)},useInsertionEffect:function(e,t){sm(4,2,e,t)},useMemo:function(e,t){var n=An();t=t===void 0?null:t;var r=e();if(xo){Ka(!0);try{e()}finally{Ka(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=An();if(n!==void 0){var i=n(t);if(xo){Ka(!0);try{n(t)}finally{Ka(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=o9.bind(null,ce,e),[r.memoizedState,e]},useRef:function(e){var t=An();return e={current:e},t.memoizedState=e},useState:function(e){e=_b(e);var t=e.queue,n=AR.bind(null,ce,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Wx,useDeferredValue:function(e,t){var n=An();return Xx(n,e,t)},useTransition:function(){var e=_b(!1);return e=_R.bind(null,ce,e.queue,!0,!1),An().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=ce,i=An();if(_e){if(n===void 0)throw Error(z(407));n=n()}else{if(n=t(),Me===null)throw Error(z(349));ve&127||tR(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,KA(rR.bind(null,r,a,e),[e]),r.flags|=2048,Hl(9,{destroy:void 0},nR.bind(null,r,a,n,t),null),n},useId:function(){var e=An(),t=Me.identifierPrefix;if(_e){var n=ni,r=ti;n=(r&~(1<<32-ir(r)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Gm++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=e9++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Qx,useFormState:qA,useActionState:qA,useOptimistic:function(e){var t=An();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Zx.bind(null,ce,!0,n),n.dispatch=t,[e,t]},useMemoCache:Gx,useCacheRefresh:function(){return An().memoizedState=s9.bind(null,ce)},useEffectEvent:function(e){var t=An(),n={impl:e};return t.memoizedState=n,function(){if(Se&2)throw Error(z(440));return n.impl.apply(void 0,arguments)}}},Jx={readContext:sn,use:Og,useCallback:yR,useContext:sn,useEffect:Yx,useImperativeHandle:gR,useInsertionEffect:hR,useLayoutEffect:mR,useMemo:vR,useReducer:am,useRef:fR,useState:function(){return am(Ji)},useDebugValue:Wx,useDeferredValue:function(e,t){var n=pt();return bR(n,Re.memoizedState,e,t)},useTransition:function(){var e=am(Ji)[0],t=pt().memoizedState;return[typeof e=="boolean"?e:id(e),t]},useSyncExternalStore:eR,useId:ER,useHostTransitionStatus:Qx,useFormState:HA,useActionState:HA,useOptimistic:function(e,t){var n=pt();return sR(n,Re,e,t)},useMemoCache:Gx,useCacheRefresh:SR};Jx.useEffectEvent=dR;var OR={readContext:sn,use:Og,useCallback:yR,useContext:sn,useEffect:Yx,useImperativeHandle:gR,useInsertionEffect:hR,useLayoutEffect:mR,useMemo:vR,useReducer:Uv,useRef:fR,useState:function(){return Uv(Ji)},useDebugValue:Wx,useDeferredValue:function(e,t){var n=pt();return Re===null?Xx(n,e,t):bR(n,Re.memoizedState,e,t)},useTransition:function(){var e=Uv(Ji)[0],t=pt().memoizedState;return[typeof e=="boolean"?e:id(e),t]},useSyncExternalStore:eR,useId:ER,useHostTransitionStatus:Qx,useFormState:GA,useActionState:GA,useOptimistic:function(e,t){var n=pt();return Re!==null?sR(n,Re,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Gx,useCacheRefresh:SR};OR.useEffectEvent=dR;function zv(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ge({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Eb={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ar(),i=ns(r);i.payload=t,n!=null&&(i.callback=n),t=rs(e,i,r),t!==null&&(Bn(t,e,r),zc(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ar(),i=ns(r);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=rs(e,i,r),t!==null&&(Bn(t,e,r),zc(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ar(),r=ns(n);r.tag=2,t!=null&&(r.callback=t),t=rs(e,r,n),t!==null&&(Bn(t,e,n),zc(t,e,n))}};function YA(e,t,n,r,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,s):t.prototype&&t.prototype.isPureReactComponent?!of(n,r)||!of(i,a):!0}function WA(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Eb.enqueueReplaceState(t,t.state,null)}function wo(e,t){var n=t;if("ref"in t){n={};for(var r in t)r!=="ref"&&(n[r]=t[r])}if(e=e.defaultProps){n===t&&(n=Ge({},n));for(var i in e)n[i]===void 0&&(n[i]=e[i])}return n}function IR(e){Vm(e)}function PR(e){console.error(e)}function RR(e){Vm(e)}function Km(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function XA(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function Sb(e,t,n){return n=ns(n),n.tag=3,n.payload={element:null},n.callback=function(){Km(e,t)},n}function jR(e){return e=ns(e),e.tag=3,e}function kR(e,t,n,r){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){XA(t,n,r)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(e.callback=function(){XA(t,n,r),typeof i!="function"&&(is===null?is=new Set([this]):is.add(this));var o=r.stack;this.componentDidCatch(r.value,{componentStack:o!==null?o:""})})}function l9(e,t,n,r,i){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=n.alternate,t!==null&&pu(t,n,i,!0),n=ur.current,n!==null){switch(n.tag){case 31:case 13:return Sr===null?Zm():n.alternate===null&&st===0&&(st=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===$m?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),Qv(e,r,i)),!1;case 22:return n.flags|=65536,r===$m?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),Qv(e,r,i)),!1}throw Error(z(435,n.tag))}return Qv(e,r,i),Zm(),!1}if(_e)return t=ur.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==fb&&(e=Error(z(422),{cause:r}),uf(vr(e,n)))):(r!==fb&&(t=Error(z(423),{cause:r}),uf(vr(t,n))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,r=vr(r,n),i=Sb(e.stateNode,r,i),Vv(e,i),st!==4&&(st=2)),!1;var a=Error(z(520),{cause:r});if(a=vr(a,n),Gc===null?Gc=[a]:Gc.push(a),st!==4&&(st=2),t===null)return!0;r=vr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,e=Sb(n.stateNode,r,e),Vv(n,e),!1;case 1:if(t=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(is===null||!is.has(a))))return n.flags|=65536,i&=-i,n.lanes|=i,i=jR(i),kR(i,e,n,r),Vv(n,i),!1}n=n.return}while(n!==null);return!1}var ew=Error(z(461)),Et=!1;function Qt(e,t,n,r){t.child=e===null?YP(t,null,n,r):_o(t,e.child,n,r)}function QA(e,t,n,r,i){n=n.render;var a=t.ref;if("ref"in r){var s={};for(var o in r)o!=="ref"&&(s[o]=r[o])}else s=r;return bo(t),r=$x(e,t,n,s,a,i),o=Fx(),e!==null&&!Et?(qx(e,t,i),ea(e,t,i)):(_e&&o&&kx(t),t.flags|=1,Qt(e,t,r,i),t.child)}function ZA(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!jx(a)&&a.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=a,DR(e,t,a,r,i)):(e=rm(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!tw(e,i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:of,n(s,r)&&e.ref===t.ref)return ea(e,t,i)}return t.flags|=1,e=qi(a,r),e.ref=t.ref,e.return=t,t.child=e}function DR(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(of(a,r)&&e.ref===t.ref)if(Et=!1,t.pendingProps=r=a,tw(e,i))e.flags&131072&&(Et=!0);else return t.lanes=e.lanes,ea(e,t,i)}return Ab(e,t,n,r,i)}function MR(e,t,n,r){var i=r.children,a=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if(t.flags&128){if(a=a!==null?a.baseLanes|n:n,e!==null){for(r=t.child=e.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~a}else r=0,t.child=null;return JA(e,t,a,n,r)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&im(t,a!==null?a.cachePool:null),a!==null?BA(t,a):vb(),QP(t);else return r=t.lanes=536870912,JA(e,t,a!==null?a.baseLanes|n:n,n,r)}else a!==null?(im(t,a.cachePool),BA(t,a),Ua(),t.memoizedState=null):(e!==null&&im(t,null),vb(),Ua());return Qt(e,t,i,n),t.child}function Sc(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function JA(e,t,n,r,i){var a=Lx();return a=a===null?null:{parent:_t._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},e!==null&&im(t,null),vb(),QP(t),e!==null&&pu(e,t,r,!0),t.childLanes=i,null}function om(e,t){return t=Ym({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function eT(e,t,n){return _o(t,e.child,null,n),e=om(t,t.pendingProps),e.flags|=2,Wn(t),t.memoizedState=null,e}function u9(e,t,n){var r=t.pendingProps,i=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(_e){if(r.mode==="hidden")return e=om(t,r),t.lanes=536870912,Sc(null,e);if(bb(t),(e=Fe)?(e=Nj(e,br),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:gs!==null?{id:ti,overflow:ni}:null,retryLane:536870912,hydrationErrors:null},n=BP(e),n.return=t,t.child=n,rn=t,Fe=null)):e=null,e===null)throw ys(t);return t.lanes=536870912,null}return om(t,r)}var a=e.memoizedState;if(a!==null){var s=a.dehydrated;if(bb(t),i)if(t.flags&256)t.flags&=-257,t=eT(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(z(558));else if(Et||pu(e,t,n,!1),i=(n&e.childLanes)!==0,Et||i){if(r=Me,r!==null&&(s=hP(r,n),s!==0&&s!==a.retryLane))throw a.retryLane=s,Uo(e,s),Bn(r,e,s),ew;Zm(),t=eT(e,t,n)}else e=a.treeContext,Fe=Ar(s.nextSibling),rn=t,_e=!0,ts=null,br=!1,e!==null&&FP(t,e),t=om(t,r),t.flags|=4096;return t}return e=qi(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function lm(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(z(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Ab(e,t,n,r,i){return bo(t),n=$x(e,t,n,r,void 0,i),r=Fx(),e!==null&&!Et?(qx(e,t,i),ea(e,t,i)):(_e&&r&&kx(t),t.flags|=1,Qt(e,t,n,i),t.child)}function tT(e,t,n,r,i,a){return bo(t),t.updateQueue=null,n=JP(t,r,n,i),ZP(e),r=Fx(),e!==null&&!Et?(qx(e,t,a),ea(e,t,a)):(_e&&r&&kx(t),t.flags|=1,Qt(e,t,n,a),t.child)}function nT(e,t,n,r,i){if(bo(t),t.stateNode===null){var a=vl,s=n.contextType;typeof s=="object"&&s!==null&&(a=sn(s)),a=new n(r,a),t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Eb,t.stateNode=a,a._reactInternals=t,a=t.stateNode,a.props=r,a.state=t.memoizedState,a.refs={},Ux(t),s=n.contextType,a.context=typeof s=="object"&&s!==null?sn(s):vl,a.state=t.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&(zv(t,n,s,r),a.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(s=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),s!==a.state&&Eb.enqueueReplaceState(a,a.state,null),$c(t,r,a,i),Bc(),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){a=t.stateNode;var o=t.memoizedProps,l=wo(n,o);a.props=l;var u=a.context,c=n.contextType;s=vl,typeof c=="object"&&c!==null&&(s=sn(c));var f=n.getDerivedStateFromProps;c=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function",o=t.pendingProps!==o,c||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o||u!==s)&&WA(t,a,r,s),ka=!1;var h=t.memoizedState;a.state=h,$c(t,r,a,i),Bc(),u=t.memoizedState,o||h!==u||ka?(typeof f=="function"&&(zv(t,n,f,r),u=t.memoizedState),(l=ka||YA(t,n,l,r,h,u,s))?(c||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=s,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,gb(e,t),s=t.memoizedProps,c=wo(n,s),a.props=c,f=t.pendingProps,h=a.context,u=n.contextType,l=vl,typeof u=="object"&&u!==null&&(l=sn(u)),o=n.getDerivedStateFromProps,(u=typeof o=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||h!==l)&&WA(t,a,r,l),ka=!1,h=t.memoizedState,a.state=h,$c(t,r,a,i),Bc();var p=t.memoizedState;s!==f||h!==p||ka||e!==null&&e.dependencies!==null&&Bm(e.dependencies)?(typeof o=="function"&&(zv(t,n,o,r),p=t.memoizedState),(c=ka||YA(t,n,c,r,h,p,l)||e!==null&&e.dependencies!==null&&Bm(e.dependencies))?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,p,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,p,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,lm(e,t),r=(t.flags&128)!==0,a||r?(a=t.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:a.render(),t.flags|=1,e!==null&&r?(t.child=_o(t,e.child,null,i),t.child=_o(t,null,n,i)):Qt(e,t,n,i),t.memoizedState=a.state,e=t.child):e=ea(e,t,i),e}function rT(e,t,n,r){return vo(),t.flags|=256,Qt(e,t,n,r),t.child}var Bv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $v(e){return{baseLanes:e,cachePool:HP()}}function Fv(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Zn),e}function LR(e,t,n){var r=t.pendingProps,i=!1,a=(t.flags&128)!==0,s;if((s=a)||(s=e!==null&&e.memoizedState===null?!1:(dt.current&2)!==0),s&&(i=!0,t.flags&=-129),s=(t.flags&32)!==0,t.flags&=-33,e===null){if(_e){if(i?Va(t):Ua(),(e=Fe)?(e=Nj(e,br),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:gs!==null?{id:ti,overflow:ni}:null,retryLane:536870912,hydrationErrors:null},n=BP(e),n.return=t,t.child=n,rn=t,Fe=null)):e=null,e===null)throw ys(t);return Ub(e)?t.lanes=32:t.lanes=536870912,null}var o=r.children;return r=r.fallback,i?(Ua(),i=t.mode,o=Ym({mode:"hidden",children:o},i),r=so(r,i,n,null),o.return=t,r.return=t,o.sibling=r,t.child=o,r=t.child,r.memoizedState=$v(n),r.childLanes=Fv(e,s,n),t.memoizedState=Bv,Sc(null,r)):(Va(t),Tb(t,o))}var l=e.memoizedState;if(l!==null&&(o=l.dehydrated,o!==null)){if(a)t.flags&256?(Va(t),t.flags&=-257,t=qv(e,t,n)):t.memoizedState!==null?(Ua(),t.child=e.child,t.flags|=128,t=null):(Ua(),o=r.fallback,i=t.mode,r=Ym({mode:"visible",children:r.children},i),o=so(o,i,n,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,_o(t,e.child,null,n),r=t.child,r.memoizedState=$v(n),r.childLanes=Fv(e,s,n),t.memoizedState=Bv,t=Sc(null,r));else if(Va(t),Ub(o)){if(s=o.nextSibling&&o.nextSibling.dataset,s)var u=s.dgst;s=u,r=Error(z(419)),r.stack="",r.digest=s,uf({value:r,source:null,stack:null}),t=qv(e,t,n)}else if(Et||pu(e,t,n,!1),s=(n&e.childLanes)!==0,Et||s){if(s=Me,s!==null&&(r=hP(s,n),r!==0&&r!==l.retryLane))throw l.retryLane=r,Uo(e,r),Bn(s,e,r),ew;Vb(o)||Zm(),t=qv(e,t,n)}else Vb(o)?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,Fe=Ar(o.nextSibling),rn=t,_e=!0,ts=null,br=!1,e!==null&&FP(t,e),t=Tb(t,r.children),t.flags|=4096);return t}return i?(Ua(),o=r.fallback,i=t.mode,l=e.child,u=l.sibling,r=qi(l,{mode:"hidden",children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,u!==null?o=qi(u,o):(o=so(o,i,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,Sc(null,r),r=t.child,o=e.child.memoizedState,o===null?o=$v(n):(i=o.cachePool,i!==null?(l=_t._currentValue,i=i.parent!==l?{parent:l,pool:l}:i):i=HP(),o={baseLanes:o.baseLanes|n,cachePool:i}),r.memoizedState=o,r.childLanes=Fv(e,s,n),t.memoizedState=Bv,Sc(e.child,r)):(Va(t),n=e.child,e=n.sibling,n=qi(n,{mode:"visible",children:r.children}),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n)}function Tb(e,t){return t=Ym({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ym(e,t){return e=Xn(22,e,null,t),e.lanes=0,e}function qv(e,t,n){return _o(t,e.child,null,n),e=Tb(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function iT(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),hb(e.return,t,n)}function Hv(e,t,n,r,i,a){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i,s.treeForkCount=a)}function VR(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;r=r.children;var s=dt.current,o=(s&2)!==0;if(o?(s=s&1|2,t.flags|=128):s&=1,Ve(dt,s),Qt(e,t,r,n),r=_e?lf:0,!o&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&iT(e,n,t);else if(e.tag===19)iT(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&qm(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Hv(t,!1,i,n,a,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&qm(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Hv(t,!0,n,null,a,r);break;case"together":Hv(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function ea(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),bs|=t.lanes,!(n&t.childLanes))if(e!==null){if(pu(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(z(153));if(t.child!==null){for(e=t.child,n=qi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=qi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function tw(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Bm(e)))}function c9(e,t,n){switch(t.tag){case 3:km(t,t.stateNode.containerInfo),La(t,_t,e.memoizedState.cache),vo();break;case 27:case 5:eb(t);break;case 4:km(t,t.stateNode.containerInfo);break;case 10:La(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,bb(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(Va(t),t.flags|=128,null):n&t.child.childLanes?LR(e,t,n):(Va(t),e=ea(e,t,n),e!==null?e.sibling:null);Va(t);break;case 19:var i=(e.flags&128)!==0;if(r=(n&t.childLanes)!==0,r||(pu(e,t,n,!1),r=(n&t.childLanes)!==0),i){if(r)return VR(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ve(dt,dt.current),r)break;return null;case 22:return t.lanes=0,MR(e,t,n,t.pendingProps);case 24:La(t,_t,e.memoizedState.cache)}return ea(e,t,n)}function UR(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Et=!0;else{if(!tw(e,n)&&!(t.flags&128))return Et=!1,c9(e,t,n);Et=!!(e.flags&131072)}else Et=!1,_e&&t.flags&1048576&&$P(t,lf,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=Ys(t.elementType),t.type=e,typeof e=="function")jx(e)?(r=wo(e,r),t.tag=1,t=nT(null,t,e,r,n)):(t.tag=0,t=Ab(null,t,e,r,n));else{if(e!=null){var i=e.$$typeof;if(i===bx){t.tag=11,t=QA(null,t,e,r,n);break e}else if(i===_x){t.tag=14,t=ZA(null,t,e,r,n);break e}}throw t=Z0(e)||e,Error(z(306,t,""))}}return t;case 0:return Ab(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,i=wo(r,t.pendingProps),nT(e,t,r,i,n);case 3:e:{if(km(t,t.stateNode.containerInfo),e===null)throw Error(z(387));r=t.pendingProps;var a=t.memoizedState;i=a.element,gb(e,t),$c(t,r,null,n);var s=t.memoizedState;if(r=s.cache,La(t,_t,r),r!==a.cache&&mb(t,[_t],n,!0),Bc(),r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){t=rT(e,t,r,n);break e}else if(r!==i){i=vr(Error(z(424)),t),uf(i),t=rT(e,t,r,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Fe=Ar(e.firstChild),rn=t,_e=!0,ts=null,br=!0,n=YP(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(vo(),r===i){t=ea(e,t,n);break e}Qt(e,t,r,n)}t=t.child}return t;case 26:return lm(e,t),e===null?(n=ST(t.type,null,t.pendingProps,null))?t.memoizedState=n:_e||(n=t.type,e=t.pendingProps,r=np(es.current).createElement(n),r[nn]=t,r[Fn]=e,ln(r,n,e),$t(r),t.stateNode=r):t.memoizedState=ST(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return eb(t),e===null&&_e&&(r=t.stateNode=Oj(t.type,t.pendingProps,es.current),rn=t,br=!0,i=Fe,Is(t.type)?(zb=i,Fe=Ar(r.firstChild)):Fe=i),Qt(e,t,t.pendingProps.children,n),lm(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&_e&&((i=r=Fe)&&(r=z9(r,t.type,t.pendingProps,br),r!==null?(t.stateNode=r,rn=t,Fe=Ar(r.firstChild),br=!1,i=!0):i=!1),i||ys(t)),eb(t),i=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,r=a.children,Mb(i,a)?r=null:s!==null&&Mb(i,s)&&(t.flags|=32),t.memoizedState!==null&&(i=$x(e,t,t9,null,null,n),pf._currentValue=i),lm(e,t),Qt(e,t,r,n),t.child;case 6:return e===null&&_e&&((e=n=Fe)&&(n=B9(n,t.pendingProps,br),n!==null?(t.stateNode=n,rn=t,Fe=null,e=!0):e=!1),e||ys(t)),null;case 13:return LR(e,t,n);case 4:return km(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=_o(t,null,r,n):Qt(e,t,r,n),t.child;case 11:return QA(e,t,t.type,t.pendingProps,n);case 7:return Qt(e,t,t.pendingProps,n),t.child;case 8:return Qt(e,t,t.pendingProps.children,n),t.child;case 12:return Qt(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,La(t,t.type,r.value),Qt(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,bo(t),i=sn(i),r=r(i),t.flags|=1,Qt(e,t,r,n),t.child;case 14:return ZA(e,t,t.type,t.pendingProps,n);case 15:return DR(e,t,t.type,t.pendingProps,n);case 19:return VR(e,t,n);case 31:return u9(e,t,n);case 22:return MR(e,t,n,t.pendingProps);case 24:return bo(t),r=sn(_t),e===null?(i=Lx(),i===null&&(i=Me,a=Mx(),i.pooledCache=a,a.refCount++,a!==null&&(i.pooledCacheLanes|=n),i=a),t.memoizedState={parent:r,cache:i},Ux(t),La(t,_t,i)):(e.lanes&n&&(gb(e,t),$c(t,null,null,n),Bc()),i=e.memoizedState,a=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),La(t,_t,r)):(r=a.cache,La(t,_t,r),r!==i.cache&&mb(t,[_t],n,!0))),Qt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(z(156,t.tag))}function Oi(e){e.flags|=4}function Gv(e,t,n,r,i){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(uj())e.flags|=8192;else throw lo=$m,Vx}else e.flags&=-16777217}function aT(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!Rj(t))if(uj())e.flags|=8192;else throw lo=$m,Vx}function wh(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?cP():536870912,e.lanes|=t,Gl|=t)}function oc(e,t){if(!_e)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Be(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function f9(e,t,n){var r=t.pendingProps;switch(Dx(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(t),null;case 1:return Be(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Hi(_t),zl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Xo(t)?Oi(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Lv())),Be(t),null;case 26:var i=t.type,a=t.memoizedState;return e===null?(Oi(t),a!==null?(Be(t),aT(t,a)):(Be(t),Gv(t,i,null,r,n))):a?a!==e.memoizedState?(Oi(t),Be(t),aT(t,a)):(Be(t),t.flags&=-16777217):(e=e.memoizedProps,e!==r&&Oi(t),Be(t),Gv(t,i,e,r,n)),null;case 27:if(Dm(t),n=es.current,i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Oi(t);else{if(!r){if(t.stateNode===null)throw Error(z(166));return Be(t),null}e=oi.current,Xo(t)?kA(t):(e=Oj(i,r,n),t.stateNode=e,Oi(t))}return Be(t),null;case 5:if(Dm(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Oi(t);else{if(!r){if(t.stateNode===null)throw Error(z(166));return Be(t),null}if(a=oi.current,Xo(t))kA(t);else{var s=np(es.current);switch(a){case 1:a=s.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:a=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":a=s.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":a=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":a=s.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof r.is=="string"?s.createElement("select",{is:r.is}):s.createElement("select"),r.multiple?a.multiple=!0:r.size&&(a.size=r.size);break;default:a=typeof r.is=="string"?s.createElement(i,{is:r.is}):s.createElement(i)}}a[nn]=t,a[Fn]=r;e:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)a.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=a;e:switch(ln(a,i,r),i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Oi(t)}}return Be(t),Gv(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&Oi(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(z(166));if(e=es.current,Xo(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,i=rn,i!==null)switch(i.tag){case 27:case 5:r=i.memoizedProps}e[nn]=t,e=!!(e.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||Aj(e.nodeValue,n)),e||ys(t,!0)}else e=np(e).createTextNode(r),e[nn]=t,t.stateNode=e}return Be(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(r=Xo(t),n!==null){if(e===null){if(!r)throw Error(z(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(z(557));e[nn]=t}else vo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Be(t),e=!1}else n=Lv(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Wn(t),t):(Wn(t),null);if(t.flags&128)throw Error(z(558))}return Be(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=Xo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(z(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(z(317));i[nn]=t}else vo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Be(t),i=!1}else i=Lv(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(Wn(t),t):(Wn(t),null)}return Wn(t),t.flags&128?(t.lanes=n,t):(n=r!==null,e=e!==null&&e.memoizedState!==null,n&&(r=t.child,i=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(i=r.alternate.memoizedState.cachePool.pool),a=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),a!==i&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),wh(t,t.updateQueue),Be(t),null);case 4:return zl(),e===null&&lw(t.stateNode.containerInfo),Be(t),null;case 10:return Hi(t.type),Be(t),null;case 19:if(Ft(dt),r=t.memoizedState,r===null)return Be(t),null;if(i=(t.flags&128)!==0,a=r.rendering,a===null)if(i)oc(r,!1);else{if(st!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=qm(e),a!==null){for(t.flags|=128,oc(r,!1),e=a.updateQueue,t.updateQueue=e,wh(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)zP(n,e),n=n.sibling;return Ve(dt,dt.current&1|2),_e&&ji(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&nr()>Xm&&(t.flags|=128,i=!0,oc(r,!1),t.lanes=4194304)}else{if(!i)if(e=qm(a),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,wh(t,e),oc(r,!0),r.tail===null&&r.tailMode==="hidden"&&!a.alternate&&!_e)return Be(t),null}else 2*nr()-r.renderingStartTime>Xm&&n!==536870912&&(t.flags|=128,i=!0,oc(r,!1),t.lanes=4194304);r.isBackwards?(a.sibling=t.child,t.child=a):(e=r.last,e!==null?e.sibling=a:t.child=a,r.last=a)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=nr(),e.sibling=null,n=dt.current,Ve(dt,i?n&1|2:n&1),_e&&ji(t,r.treeForkCount),e):(Be(t),null);case 22:case 23:return Wn(t),zx(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?n&536870912&&!(t.flags&128)&&(Be(t),t.subtreeFlags&6&&(t.flags|=8192)):Be(t),n=t.updateQueue,n!==null&&wh(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&Ft(oo),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Hi(_t),Be(t),null;case 25:return null;case 30:return null}throw Error(z(156,t.tag))}function d9(e,t){switch(Dx(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Hi(_t),zl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Dm(t),null;case 31:if(t.memoizedState!==null){if(Wn(t),t.alternate===null)throw Error(z(340));vo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Wn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(z(340));vo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ft(dt),null;case 4:return zl(),null;case 10:return Hi(t.type),null;case 22:case 23:return Wn(t),zx(),e!==null&&Ft(oo),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Hi(_t),null;case 25:return null;default:return null}}function zR(e,t){switch(Dx(t),t.tag){case 3:Hi(_t),zl();break;case 26:case 27:case 5:Dm(t);break;case 4:zl();break;case 31:t.memoizedState!==null&&Wn(t);break;case 13:Wn(t);break;case 19:Ft(dt);break;case 10:Hi(t.type);break;case 22:case 23:Wn(t),zx(),e!==null&&Ft(oo);break;case 24:Hi(_t)}}function ad(e,t){try{var n=t.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,s=n.inst;r=a(),s.destroy=r}n=n.next}while(n!==i)}}catch(o){Ie(t,t.return,o)}}function vs(e,t,n){try{var r=t.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var a=i.next;r=a;do{if((r.tag&e)===e){var s=r.inst,o=s.destroy;if(o!==void 0){s.destroy=void 0,i=t;var l=n,u=o;try{u()}catch(c){Ie(i,l,c)}}}r=r.next}while(r!==a)}}catch(c){Ie(t,t.return,c)}}function BR(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{XP(t,n)}catch(r){Ie(e,e.return,r)}}}function $R(e,t,n){n.props=wo(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){Ie(e,t,r)}}function qc(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n=="function"?e.refCleanup=n(r):n.current=r}}catch(i){Ie(e,t,i)}}function ri(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(i){Ie(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){Ie(e,t,i)}else n.current=null}function FR(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){Ie(e,e.return,i)}}function Kv(e,t,n){try{var r=e.stateNode;k9(r,e.type,n,t),r[Fn]=t}catch(i){Ie(e,e.return,i)}}function qR(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Is(e.type)||e.tag===4}function Yv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||qR(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Is(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Cb(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Vi));else if(r!==4&&(r===27&&Is(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Cb(e,t,n),e=e.sibling;e!==null;)Cb(e,t,n),e=e.sibling}function Wm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&Is(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Wm(e,t,n),e=e.sibling;e!==null;)Wm(e,t,n),e=e.sibling}function HR(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ln(t,r,n),t[nn]=e,t[Fn]=n}catch(a){Ie(e,e.return,a)}}var Di=!1,bt=!1,Wv=!1,sT=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function h9(e,t){if(e=e.containerInfo,kb=sp,e=RP(e),Ix(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,u=0,c=0,f=e,h=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(o=s+i),f!==a||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++u===i&&(o=s),h===a&&++c===r&&(l=s),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Db={focusedElem:e,selectionRange:n},sp=!1,Bt=t;Bt!==null;)if(t=Bt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Bt=e;else for(;Bt!==null;){switch(t=Bt,a=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)i=e[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&a!==null){e=void 0,n=t,i=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var g=wo(n.type,i);e=r.getSnapshotBeforeUpdate(g,a),r.__reactInternalSnapshotBeforeUpdate=e}catch(x){Ie(n,n.return,x)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Lb(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Lb(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(z(163))}if(e=t.sibling,e!==null){e.return=t.return,Bt=e;break}Bt=t.return}}function GR(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Pi(e,n),r&4&&ad(5,n);break;case 1:if(Pi(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(s){Ie(n,n.return,s)}else{var i=wo(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){Ie(n,n.return,s)}}r&64&&BR(n),r&512&&qc(n,n.return);break;case 3:if(Pi(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{XP(e,t)}catch(s){Ie(n,n.return,s)}}break;case 27:t===null&&r&4&&HR(n);case 26:case 5:Pi(e,n),t===null&&r&4&&FR(n),r&512&&qc(n,n.return);break;case 12:Pi(e,n);break;case 31:Pi(e,n),r&4&&WR(e,n);break;case 13:Pi(e,n),r&4&&XR(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=w9.bind(null,n),$9(e,n))));break;case 22:if(r=n.memoizedState!==null||Di,!r){t=t!==null&&t.memoizedState!==null||bt,i=Di;var a=bt;Di=r,(bt=t)&&!a?Ri(e,n,(n.subtreeFlags&8772)!==0):Pi(e,n),Di=i,bt=a}break;case 30:break;default:Pi(e,n)}}function KR(e){var t=e.alternate;t!==null&&(e.alternate=null,KR(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Sx(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Xe=null,Dn=!1;function Ii(e,t,n){for(n=n.child;n!==null;)YR(e,t,n),n=n.sibling}function YR(e,t,n){if(rr&&typeof rr.onCommitFiberUnmount=="function")try{rr.onCommitFiberUnmount(Zf,n)}catch{}switch(n.tag){case 26:bt||ri(n,t),Ii(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:bt||ri(n,t);var r=Xe,i=Dn;Is(n.type)&&(Xe=n.stateNode,Dn=!1),Ii(e,t,n),Yc(n.stateNode),Xe=r,Dn=i;break;case 5:bt||ri(n,t);case 6:if(r=Xe,i=Dn,Xe=null,Ii(e,t,n),Xe=r,Dn=i,Xe!==null)if(Dn)try{(Xe.nodeType===9?Xe.body:Xe.nodeName==="HTML"?Xe.ownerDocument.body:Xe).removeChild(n.stateNode)}catch(a){Ie(n,t,a)}else try{Xe.removeChild(n.stateNode)}catch(a){Ie(n,t,a)}break;case 18:Xe!==null&&(Dn?(e=Xe,bT(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Xl(e)):bT(Xe,n.stateNode));break;case 4:r=Xe,i=Dn,Xe=n.stateNode.containerInfo,Dn=!0,Ii(e,t,n),Xe=r,Dn=i;break;case 0:case 11:case 14:case 15:vs(2,n,t),bt||vs(4,n,t),Ii(e,t,n);break;case 1:bt||(ri(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"&&$R(n,t,r)),Ii(e,t,n);break;case 21:Ii(e,t,n);break;case 22:bt=(r=bt)||n.memoizedState!==null,Ii(e,t,n),bt=r;break;default:Ii(e,t,n)}}function WR(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Xl(e)}catch(n){Ie(t,t.return,n)}}}function XR(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Xl(e)}catch(n){Ie(t,t.return,n)}}function m9(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new sT),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new sT),t;default:throw Error(z(435,e.tag))}}function Eh(e,t){var n=m9(e);t.forEach(function(r){if(!n.has(r)){n.add(r);var i=E9.bind(null,e,r);r.then(i,i)}})}function jn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r],a=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 27:if(Is(o.type)){Xe=o.stateNode,Dn=!1;break e}break;case 5:Xe=o.stateNode,Dn=!1;break e;case 3:case 4:Xe=o.stateNode.containerInfo,Dn=!0;break e}o=o.return}if(Xe===null)throw Error(z(160));YR(a,s,i),Xe=null,Dn=!1,a=i.alternate,a!==null&&(a.return=null),i.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)QR(t,e),t=t.sibling}var Dr=null;function QR(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:jn(t,e),kn(e),r&4&&(vs(3,e,e.return),ad(3,e),vs(5,e,e.return));break;case 1:jn(t,e),kn(e),r&512&&(bt||n===null||ri(n,n.return)),r&64&&Di&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var i=Dr;if(jn(t,e),kn(e),r&512&&(bt||n===null||ri(n,n.return)),r&4){var a=n!==null?n.memoizedState:null;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":a=i.getElementsByTagName("title")[0],(!a||a[td]||a[nn]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=i.createElement(r),i.head.insertBefore(a,i.querySelector("head > title"))),ln(a,r,n),a[nn]=e,$t(a),r=a;break e;case"link":var s=TT("link","href",i).get(r+(n.href||""));if(s){for(var o=0;o<s.length;o++)if(a=s[o],a.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(o,1);break t}}a=i.createElement(r),ln(a,r,n),i.head.appendChild(a);break;case"meta":if(s=TT("meta","content",i).get(r+(n.content||""))){for(o=0;o<s.length;o++)if(a=s[o],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(o,1);break t}}a=i.createElement(r),ln(a,r,n),i.head.appendChild(a);break;default:throw Error(z(468,r))}a[nn]=e,$t(a),r=a}e.stateNode=r}else CT(i,e.type,e.stateNode);else e.stateNode=AT(i,r,e.memoizedProps);else a!==r?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,r===null?CT(i,e.type,e.stateNode):AT(i,r,e.memoizedProps)):r===null&&e.stateNode!==null&&Kv(e,e.memoizedProps,n.memoizedProps)}break;case 27:jn(t,e),kn(e),r&512&&(bt||n===null||ri(n,n.return)),n!==null&&r&4&&Kv(e,e.memoizedProps,n.memoizedProps);break;case 5:if(jn(t,e),kn(e),r&512&&(bt||n===null||ri(n,n.return)),e.flags&32){i=e.stateNode;try{$l(i,"")}catch(g){Ie(e,e.return,g)}}r&4&&e.stateNode!=null&&(i=e.memoizedProps,Kv(e,i,n!==null?n.memoizedProps:i)),r&1024&&(Wv=!0);break;case 6:if(jn(t,e),kn(e),r&4){if(e.stateNode===null)throw Error(z(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(g){Ie(e,e.return,g)}}break;case 3:if(fm=null,i=Dr,Dr=rp(t.containerInfo),jn(t,e),Dr=i,kn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Xl(t.containerInfo)}catch(g){Ie(e,e.return,g)}Wv&&(Wv=!1,ZR(e));break;case 4:r=Dr,Dr=rp(e.stateNode.containerInfo),jn(t,e),kn(e),Dr=r;break;case 12:jn(t,e),kn(e);break;case 31:jn(t,e),kn(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Eh(e,r)));break;case 13:jn(t,e),kn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Rg=nr()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Eh(e,r)));break;case 22:i=e.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,u=Di,c=bt;if(Di=u||i,bt=c||l,jn(t,e),bt=c,Di=u,kn(e),r&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(n===null||l||Di||bt||Ws(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){l=n=t;try{if(a=l.stateNode,i)s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{o=l.stateNode;var f=l.memoizedProps.style,h=f!=null&&f.hasOwnProperty("display")?f.display:null;o.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(g){Ie(l,l.return,g)}}}else if(t.tag===6){if(n===null){l=t;try{l.stateNode.nodeValue=i?"":l.memoizedProps}catch(g){Ie(l,l.return,g)}}}else if(t.tag===18){if(n===null){l=t;try{var p=l.stateNode;i?_T(p,!0):_T(l.stateNode,!1)}catch(g){Ie(l,l.return,g)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,Eh(e,n))));break;case 19:jn(t,e),kn(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Eh(e,r)));break;case 30:break;case 21:break;default:jn(t,e),kn(e)}}function kn(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if(qR(r)){n=r;break}r=r.return}if(n==null)throw Error(z(160));switch(n.tag){case 27:var i=n.stateNode,a=Yv(e);Wm(e,a,i);break;case 5:var s=n.stateNode;n.flags&32&&($l(s,""),n.flags&=-33);var o=Yv(e);Wm(e,o,s);break;case 3:case 4:var l=n.stateNode.containerInfo,u=Yv(e);Cb(e,u,l);break;default:throw Error(z(161))}}catch(c){Ie(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ZR(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;ZR(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Pi(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)GR(e,t.alternate,t),t=t.sibling}function Ws(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:vs(4,t,t.return),Ws(t);break;case 1:ri(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&$R(t,t.return,n),Ws(t);break;case 27:Yc(t.stateNode);case 26:case 5:ri(t,t.return),Ws(t);break;case 22:t.memoizedState===null&&Ws(t);break;case 30:Ws(t);break;default:Ws(t)}e=e.sibling}}function Ri(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,i=e,a=t,s=a.flags;switch(a.tag){case 0:case 11:case 15:Ri(i,a,n),ad(4,a);break;case 1:if(Ri(i,a,n),r=a,i=r.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(u){Ie(r,r.return,u)}if(r=a,i=r.updateQueue,i!==null){var o=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(l!==null)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)WP(l[i],o)}catch(u){Ie(r,r.return,u)}}n&&s&64&&BR(a),qc(a,a.return);break;case 27:HR(a);case 26:case 5:Ri(i,a,n),n&&r===null&&s&4&&FR(a),qc(a,a.return);break;case 12:Ri(i,a,n);break;case 31:Ri(i,a,n),n&&s&4&&WR(i,a);break;case 13:Ri(i,a,n),n&&s&4&&XR(i,a);break;case 22:a.memoizedState===null&&Ri(i,a,n),qc(a,a.return);break;case 30:break;default:Ri(i,a,n)}t=t.sibling}}function nw(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&rd(n))}function rw(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&rd(e))}function kr(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)JR(e,t,n,r),t=t.sibling}function JR(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:kr(e,t,n,r),i&2048&&ad(9,t);break;case 1:kr(e,t,n,r);break;case 3:kr(e,t,n,r),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&rd(e)));break;case 12:if(i&2048){kr(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,s=a.id,o=a.onPostCommit;typeof o=="function"&&o(s,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(l){Ie(t,t.return,l)}}else kr(e,t,n,r);break;case 31:kr(e,t,n,r);break;case 13:kr(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,s=t.alternate,t.memoizedState!==null?a._visibility&2?kr(e,t,n,r):Hc(e,t):a._visibility&2?kr(e,t,n,r):(a._visibility|=2,rl(e,t,n,r,(t.subtreeFlags&10256)!==0||!1)),i&2048&&nw(s,t);break;case 24:kr(e,t,n,r),i&2048&&rw(t.alternate,t);break;default:kr(e,t,n,r)}}function rl(e,t,n,r,i){for(i=i&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var a=e,s=t,o=n,l=r,u=s.flags;switch(s.tag){case 0:case 11:case 15:rl(a,s,o,l,i),ad(8,s);break;case 23:break;case 22:var c=s.stateNode;s.memoizedState!==null?c._visibility&2?rl(a,s,o,l,i):Hc(a,s):(c._visibility|=2,rl(a,s,o,l,i)),i&&u&2048&&nw(s.alternate,s);break;case 24:rl(a,s,o,l,i),i&&u&2048&&rw(s.alternate,s);break;default:rl(a,s,o,l,i)}t=t.sibling}}function Hc(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Hc(n,r),i&2048&&nw(r.alternate,r);break;case 24:Hc(n,r),i&2048&&rw(r.alternate,r);break;default:Hc(n,r)}t=t.sibling}}var Ac=8192;function Qo(e,t,n){if(e.subtreeFlags&Ac)for(e=e.child;e!==null;)ej(e,t,n),e=e.sibling}function ej(e,t,n){switch(e.tag){case 26:Qo(e,t,n),e.flags&Ac&&e.memoizedState!==null&&eB(n,Dr,e.memoizedState,e.memoizedProps);break;case 5:Qo(e,t,n);break;case 3:case 4:var r=Dr;Dr=rp(e.stateNode.containerInfo),Qo(e,t,n),Dr=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=Ac,Ac=16777216,Qo(e,t,n),Ac=r):Qo(e,t,n));break;default:Qo(e,t,n)}}function tj(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function lc(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];Bt=r,rj(r,e)}tj(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)nj(e),e=e.sibling}function nj(e){switch(e.tag){case 0:case 11:case 15:lc(e),e.flags&2048&&vs(9,e,e.return);break;case 3:lc(e);break;case 12:lc(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,um(e)):lc(e);break;default:lc(e)}}function um(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];Bt=r,rj(r,e)}tj(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:vs(8,t,t.return),um(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,um(t));break;default:um(t)}e=e.sibling}}function rj(e,t){for(;Bt!==null;){var n=Bt;switch(n.tag){case 0:case 11:case 15:vs(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:rd(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,Bt=r;else e:for(n=e;Bt!==null;){r=Bt;var i=r.sibling,a=r.return;if(KR(r),r===n){Bt=null;break e}if(i!==null){i.return=a,Bt=i;break e}Bt=a}}}var p9={getCacheForType:function(e){var t=sn(_t),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return sn(_t).controller.signal}},g9=typeof WeakMap=="function"?WeakMap:Map,Se=0,Me=null,me=null,ve=0,Ne=0,Yn=null,Wa=!1,yu=!1,iw=!1,ta=0,st=0,bs=0,uo=0,aw=0,Zn=0,Gl=0,Gc=null,Mn=null,Nb=!1,Rg=0,ij=0,Xm=1/0,Qm=null,is=null,Nt=0,as=null,Kl=null,Gi=0,Ob=0,Ib=null,aj=null,Kc=0,Pb=null;function ar(){return Se&2&&ve!==0?ve&-ve:ie.T!==null?ow():mP()}function sj(){if(Zn===0)if(!(ve&536870912)||_e){var e=ph;ph<<=1,!(ph&3932160)&&(ph=262144),Zn=e}else Zn=536870912;return e=ur.current,e!==null&&(e.flags|=32),Zn}function Bn(e,t,n){(e===Me&&(Ne===2||Ne===9)||e.cancelPendingCommit!==null)&&(Yl(e,0),Xa(e,ve,Zn,!1)),ed(e,n),(!(Se&2)||e!==Me)&&(e===Me&&(!(Se&2)&&(uo|=n),st===4&&Xa(e,ve,Zn,!1)),Ei(e))}function oj(e,t,n){if(Se&6)throw Error(z(327));var r=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Jf(e,t),i=r?b9(e,t):Xv(e,t,!0),a=r;do{if(i===0){yu&&!r&&Xa(e,t,0,!1);break}else{if(n=e.current.alternate,a&&!y9(n)){i=Xv(e,t,!1),a=!1;continue}if(i===2){if(a=t,e.errorRecoveryDisabledLanes&a)var s=0;else s=e.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){t=s;e:{var o=e;i=Gc;var l=o.current.memoizedState.isDehydrated;if(l&&(Yl(o,s).flags|=256),s=Xv(o,s,!1),s!==2){if(iw&&!l){o.errorRecoveryDisabledLanes|=a,uo|=a,i=4;break e}a=Mn,Mn=i,a!==null&&(Mn===null?Mn=a:Mn.push.apply(Mn,a))}i=s}if(a=!1,i!==2)continue}}if(i===1){Yl(e,0),Xa(e,t,0,!0);break}e:{switch(r=e,a=i,a){case 0:case 1:throw Error(z(345));case 4:if((t&4194048)!==t)break;case 6:Xa(r,t,Zn,!Wa);break e;case 2:Mn=null;break;case 3:case 5:break;default:throw Error(z(329))}if((t&62914560)===t&&(i=Rg+300-nr(),10<i)){if(Xa(r,t,Zn,!Wa),xg(r,0,!0)!==0)break e;Gi=t,r.timeoutHandle=Cj(oT.bind(null,r,n,Mn,Qm,Nb,t,Zn,uo,Gl,Wa,a,"Throttled",-0,0),i);break e}oT(r,n,Mn,Qm,Nb,t,Zn,uo,Gl,Wa,a,null,-0,0)}}break}while(!0);Ei(e)}function oT(e,t,n,r,i,a,s,o,l,u,c,f,h,p){if(e.timeoutHandle=-1,f=t.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Vi},ej(t,a,f);var g=(a&62914560)===a?Rg-nr():(a&4194048)===a?ij-nr():0;if(g=tB(f,g),g!==null){Gi=a,e.cancelPendingCommit=g(uT.bind(null,e,t,a,n,r,i,s,o,l,c,f,null,h,p)),Xa(e,a,s,!u);return}}uT(e,t,a,n,r,i,s,o,l)}function y9(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!lr(a(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xa(e,t,n,r){t&=~aw,t&=~uo,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-ir(i),s=1<<a;r[a]=-1,i&=~s}n!==0&&fP(e,n,t)}function jg(){return Se&6?!0:(sd(0),!1)}function sw(){if(me!==null){if(Ne===0)var e=me.return;else e=me,Ui=zo=null,Hx(e),Il=null,cf=0,e=me;for(;e!==null;)zR(e.alternate,e),e=e.return;me=null}}function Yl(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,L9(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Gi=0,sw(),Me=e,me=n=qi(e.current,null),ve=t,Ne=0,Yn=null,Wa=!1,yu=Jf(e,t),iw=!1,Gl=Zn=aw=uo=bs=st=0,Mn=Gc=null,Nb=!1,t&8&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var i=31-ir(r),a=1<<i;t|=e[i],r&=~a}return ta=t,Ag(),n}function lj(e,t){ce=null,ie.H=df,t===gu||t===Cg?(t=UA(),Ne=3):t===Vx?(t=UA(),Ne=4):Ne=t===ew?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Yn=t,me===null&&(st=1,Km(e,vr(t,e.current)))}function uj(){var e=ur.current;return e===null?!0:(ve&4194048)===ve?Sr===null:(ve&62914560)===ve||ve&536870912?e===Sr:!1}function cj(){var e=ie.H;return ie.H=df,e===null?df:e}function fj(){var e=ie.A;return ie.A=p9,e}function Zm(){st=4,Wa||(ve&4194048)!==ve&&ur.current!==null||(yu=!0),!(bs&134217727)&&!(uo&134217727)||Me===null||Xa(Me,ve,Zn,!1)}function Xv(e,t,n){var r=Se;Se|=2;var i=cj(),a=fj();(Me!==e||ve!==t)&&(Qm=null,Yl(e,t)),t=!1;var s=st;e:do try{if(Ne!==0&&me!==null){var o=me,l=Yn;switch(Ne){case 8:sw(),s=6;break e;case 3:case 2:case 9:case 6:ur.current===null&&(t=!0);var u=Ne;if(Ne=0,Yn=null,xl(e,o,l,u),n&&yu){s=0;break e}break;default:u=Ne,Ne=0,Yn=null,xl(e,o,l,u)}}v9(),s=st;break}catch(c){lj(e,c)}while(!0);return t&&e.shellSuspendCounter++,Ui=zo=null,Se=r,ie.H=i,ie.A=a,me===null&&(Me=null,ve=0,Ag()),s}function v9(){for(;me!==null;)dj(me)}function b9(e,t){var n=Se;Se|=2;var r=cj(),i=fj();Me!==e||ve!==t?(Qm=null,Xm=nr()+500,Yl(e,t)):yu=Jf(e,t);e:do try{if(Ne!==0&&me!==null){t=me;var a=Yn;t:switch(Ne){case 1:Ne=0,Yn=null,xl(e,t,a,1);break;case 2:case 9:if(VA(a)){Ne=0,Yn=null,lT(t);break}t=function(){Ne!==2&&Ne!==9||Me!==e||(Ne=7),Ei(e)},a.then(t,t);break e;case 3:Ne=7;break e;case 4:Ne=5;break e;case 7:VA(a)?(Ne=0,Yn=null,lT(t)):(Ne=0,Yn=null,xl(e,t,a,7));break;case 5:var s=null;switch(me.tag){case 26:s=me.memoizedState;case 5:case 27:var o=me;if(s?Rj(s):o.stateNode.complete){Ne=0,Yn=null;var l=o.sibling;if(l!==null)me=l;else{var u=o.return;u!==null?(me=u,kg(u)):me=null}break t}}Ne=0,Yn=null,xl(e,t,a,5);break;case 6:Ne=0,Yn=null,xl(e,t,a,6);break;case 8:sw(),st=6;break e;default:throw Error(z(462))}}_9();break}catch(c){lj(e,c)}while(!0);return Ui=zo=null,ie.H=r,ie.A=i,Se=n,me!==null?0:(Me=null,ve=0,Ag(),st)}function _9(){for(;me!==null&&!FU();)dj(me)}function dj(e){var t=UR(e.alternate,e,ta);e.memoizedProps=e.pendingProps,t===null?kg(e):me=t}function lT(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=tT(n,t,t.pendingProps,t.type,void 0,ve);break;case 11:t=tT(n,t,t.pendingProps,t.type.render,t.ref,ve);break;case 5:Hx(t);default:zR(n,t),t=me=zP(t,ta),t=UR(n,t,ta)}e.memoizedProps=e.pendingProps,t===null?kg(e):me=t}function xl(e,t,n,r){Ui=zo=null,Hx(t),Il=null,cf=0;var i=t.return;try{if(l9(e,i,t,n,ve)){st=1,Km(e,vr(n,e.current)),me=null;return}}catch(a){if(i!==null)throw me=i,a;st=1,Km(e,vr(n,e.current)),me=null;return}t.flags&32768?(_e||r===1?e=!0:yu||ve&536870912?e=!1:(Wa=e=!0,(r===2||r===9||r===3||r===6)&&(r=ur.current,r!==null&&r.tag===13&&(r.flags|=16384))),hj(t,e)):kg(t)}function kg(e){var t=e;do{if(t.flags&32768){hj(t,Wa);return}e=t.return;var n=f9(t.alternate,t,ta);if(n!==null){me=n;return}if(t=t.sibling,t!==null){me=t;return}me=t=e}while(t!==null);st===0&&(st=5)}function hj(e,t){do{var n=d9(e.alternate,e);if(n!==null){n.flags&=32767,me=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){me=e;return}me=e=n}while(e!==null);st=6,me=null}function uT(e,t,n,r,i,a,s,o,l){e.cancelPendingCommit=null;do Dg();while(Nt!==0);if(Se&6)throw Error(z(327));if(t!==null){if(t===e.current)throw Error(z(177));if(a=t.lanes|t.childLanes,a|=Px,JU(e,n,a,s,o,l),e===Me&&(me=Me=null,ve=0),Kl=t,as=e,Gi=n,Ob=a,Ib=i,aj=r,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,S9(Mm,function(){return vj(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,t.subtreeFlags&13878||r){r=ie.T,ie.T=null,i=Ae.p,Ae.p=2,s=Se,Se|=4;try{h9(e,t,n)}finally{Se=s,Ae.p=i,ie.T=r}}Nt=1,mj(),pj(),gj()}}function mj(){if(Nt===1){Nt=0;var e=as,t=Kl,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=ie.T,ie.T=null;var r=Ae.p;Ae.p=2;var i=Se;Se|=4;try{QR(t,e);var a=Db,s=RP(e.containerInfo),o=a.focusedElem,l=a.selectionRange;if(s!==o&&o&&o.ownerDocument&&PP(o.ownerDocument.documentElement,o)){if(l!==null&&Ix(o)){var u=l.start,c=l.end;if(c===void 0&&(c=u),"selectionStart"in o)o.selectionStart=u,o.selectionEnd=Math.min(c,o.value.length);else{var f=o.ownerDocument||document,h=f&&f.defaultView||window;if(h.getSelection){var p=h.getSelection(),g=o.textContent.length,x=Math.min(l.start,g),v=l.end===void 0?x:Math.min(l.end,g);!p.extend&&x>v&&(s=v,v=x,x=s);var w=PA(o,x),_=PA(o,v);if(w&&_&&(p.rangeCount!==1||p.anchorNode!==w.node||p.anchorOffset!==w.offset||p.focusNode!==_.node||p.focusOffset!==_.offset)){var S=f.createRange();S.setStart(w.node,w.offset),p.removeAllRanges(),x>v?(p.addRange(S),p.extend(_.node,_.offset)):(S.setEnd(_.node,_.offset),p.addRange(S))}}}}for(f=[],p=o;p=p.parentNode;)p.nodeType===1&&f.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<f.length;o++){var C=f[o];C.element.scrollLeft=C.left,C.element.scrollTop=C.top}}sp=!!kb,Db=kb=null}finally{Se=i,Ae.p=r,ie.T=n}}e.current=t,Nt=2}}function pj(){if(Nt===2){Nt=0;var e=as,t=Kl,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=ie.T,ie.T=null;var r=Ae.p;Ae.p=2;var i=Se;Se|=4;try{GR(e,t.alternate,t)}finally{Se=i,Ae.p=r,ie.T=n}}Nt=3}}function gj(){if(Nt===4||Nt===3){Nt=0,qU();var e=as,t=Kl,n=Gi,r=aj;t.subtreeFlags&10256||t.flags&10256?Nt=5:(Nt=0,Kl=as=null,yj(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(is=null),Ex(n),t=t.stateNode,rr&&typeof rr.onCommitFiberRoot=="function")try{rr.onCommitFiberRoot(Zf,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=ie.T,i=Ae.p,Ae.p=2,ie.T=null;try{for(var a=e.onRecoverableError,s=0;s<r.length;s++){var o=r[s];a(o.value,{componentStack:o.stack})}}finally{ie.T=t,Ae.p=i}}Gi&3&&Dg(),Ei(e),i=e.pendingLanes,n&261930&&i&42?e===Pb?Kc++:(Kc=0,Pb=e):Kc=0,sd(0)}}function yj(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,rd(t)))}function Dg(){return mj(),pj(),gj(),vj()}function vj(){if(Nt!==5)return!1;var e=as,t=Ob;Ob=0;var n=Ex(Gi),r=ie.T,i=Ae.p;try{Ae.p=32>n?32:n,ie.T=null,n=Ib,Ib=null;var a=as,s=Gi;if(Nt=0,Kl=as=null,Gi=0,Se&6)throw Error(z(331));var o=Se;if(Se|=4,nj(a.current),JR(a,a.current,s,n),Se=o,sd(0,!1),rr&&typeof rr.onPostCommitFiberRoot=="function")try{rr.onPostCommitFiberRoot(Zf,a)}catch{}return!0}finally{Ae.p=i,ie.T=r,yj(e,t)}}function cT(e,t,n){t=vr(n,t),t=Sb(e.stateNode,t,2),e=rs(e,t,2),e!==null&&(ed(e,2),Ei(e))}function Ie(e,t,n){if(e.tag===3)cT(e,e,n);else for(;t!==null;){if(t.tag===3){cT(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(is===null||!is.has(r))){e=vr(n,e),n=jR(2),r=rs(t,n,2),r!==null&&(kR(n,r,t,e),ed(r,2),Ei(r));break}}t=t.return}}function Qv(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new g9;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(iw=!0,i.add(n),e=x9.bind(null,e,t,n),t.then(e,e))}function x9(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Me===e&&(ve&n)===n&&(st===4||st===3&&(ve&62914560)===ve&&300>nr()-Rg?!(Se&2)&&Yl(e,0):aw|=n,Gl===ve&&(Gl=0)),Ei(e)}function bj(e,t){t===0&&(t=cP()),e=Uo(e,t),e!==null&&(ed(e,t),Ei(e))}function w9(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),bj(e,n)}function E9(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(z(314))}r!==null&&r.delete(t),bj(e,n)}function S9(e,t){return xx(e,t)}var Jm=null,il=null,Rb=!1,ep=!1,Zv=!1,Qa=0;function Ei(e){e!==il&&e.next===null&&(il===null?Jm=il=e:il=il.next=e),ep=!0,Rb||(Rb=!0,T9())}function sd(e,t){if(!Zv&&ep){Zv=!0;do for(var n=!1,r=Jm;r!==null;){if(e!==0){var i=r.pendingLanes;if(i===0)var a=0;else{var s=r.suspendedLanes,o=r.pingedLanes;a=(1<<31-ir(42|e)+1)-1,a&=i&~(s&~o),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,fT(r,a))}else a=ve,a=xg(r,r===Me?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(a&3)||Jf(r,a)||(n=!0,fT(r,a));r=r.next}while(n);Zv=!1}}function A9(){_j()}function _j(){ep=Rb=!1;var e=0;Qa!==0&&M9()&&(e=Qa);for(var t=nr(),n=null,r=Jm;r!==null;){var i=r.next,a=xj(r,t);a===0?(r.next=null,n===null?Jm=i:n.next=i,i===null&&(il=n)):(n=r,(e!==0||a&3)&&(ep=!0)),r=i}Nt!==0&&Nt!==5||sd(e),Qa!==0&&(Qa=0)}function xj(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes&-62914561;0<a;){var s=31-ir(a),o=1<<s,l=i[s];l===-1?(!(o&n)||o&r)&&(i[s]=ZU(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}if(t=Me,n=ve,n=xg(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(Ne===2||Ne===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Tv(r),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||Jf(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&Tv(r),Ex(n)){case 2:case 8:n=lP;break;case 32:n=Mm;break;case 268435456:n=uP;break;default:n=Mm}return r=wj.bind(null,e),n=xx(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&Tv(r),e.callbackPriority=2,e.callbackNode=null,2}function wj(e,t){if(Nt!==0&&Nt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Dg()&&e.callbackNode!==n)return null;var r=ve;return r=xg(e,e===Me?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(oj(e,r,t),xj(e,nr()),e.callbackNode!=null&&e.callbackNode===n?wj.bind(null,e):null)}function fT(e,t){if(Dg())return null;oj(e,t,!0)}function T9(){V9(function(){Se&6?xx(oP,A9):_j()})}function ow(){if(Qa===0){var e=Fl;e===0&&(e=mh,mh<<=1,!(mh&261888)&&(mh=256)),Qa=e}return Qa}function dT(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:em(""+e)}function hT(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function C9(e,t,n,r,i){if(t==="submit"&&n&&n.stateNode===i){var a=dT((i[Fn]||null).action),s=r.submitter;s&&(t=(t=s[Fn]||null)?dT(t.formAction):s.getAttribute("formAction"),t!==null&&(a=t,s=null));var o=new wg("action","action",null,r,i);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Qa!==0){var l=s?hT(i,s):new FormData(i);wb(n,{pending:!0,data:l,method:i.method,action:a},null,l)}}else typeof a=="function"&&(o.preventDefault(),l=s?hT(i,s):new FormData(i),wb(n,{pending:!0,data:l,method:i.method,action:a},a,l))},currentTarget:i}]})}}for(var Jv=0;Jv<cb.length;Jv++){var e0=cb[Jv],N9=e0.toLowerCase(),O9=e0[0].toUpperCase()+e0.slice(1);Gr(N9,"on"+O9)}Gr(kP,"onAnimationEnd");Gr(DP,"onAnimationIteration");Gr(MP,"onAnimationStart");Gr("dblclick","onDoubleClick");Gr("focusin","onFocus");Gr("focusout","onBlur");Gr(Hz,"onTransitionRun");Gr(Gz,"onTransitionStart");Gr(Kz,"onTransitionCancel");Gr(LP,"onTransitionEnd");Bl("onMouseEnter",["mouseout","mouseover"]);Bl("onMouseLeave",["mouseout","mouseover"]);Bl("onPointerEnter",["pointerout","pointerover"]);Bl("onPointerLeave",["pointerout","pointerover"]);Mo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Mo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Mo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Mo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Mo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Mo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),I9=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hf));function Ej(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=u;try{a(i)}catch(c){Vm(c)}i.currentTarget=null,a=l}else for(s=0;s<r.length;s++){if(o=r[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=u;try{a(i)}catch(c){Vm(c)}i.currentTarget=null,a=l}}}}function he(e,t){var n=t[nb];n===void 0&&(n=t[nb]=new Set);var r=e+"__bubble";n.has(r)||(Sj(t,e,2,!1),n.add(r))}function t0(e,t,n){var r=0;t&&(r|=4),Sj(n,e,r,t)}var Sh="_reactListening"+Math.random().toString(36).slice(2);function lw(e){if(!e[Sh]){e[Sh]=!0,pP.forEach(function(n){n!=="selectionchange"&&(I9.has(n)||t0(n,!1,e),t0(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Sh]||(t[Sh]=!0,t0("selectionchange",!1,t))}}function Sj(e,t,n,r){switch(Lj(t)){case 2:var i=iB;break;case 8:i=aB;break;default:i=dw}n=i.bind(null,t,n,e),i=void 0,!ob||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function n0(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&s.stateNode.containerInfo===i)return;s=s.return}for(;o!==null;){if(s=dl(o),s===null)return;if(l=s.tag,l===5||l===6||l===26||l===27){r=a=s;continue e}o=o.parentNode}}r=r.return}EP(function(){var u=a,c=Tx(n),f=[];e:{var h=VP.get(e);if(h!==void 0){var p=wg,g=e;switch(e){case"keypress":if(nm(n)===0)break e;case"keydown":case"keyup":p=Ez;break;case"focusin":g="focus",p=Pv;break;case"focusout":g="blur",p=Pv;break;case"beforeblur":case"afterblur":p=Pv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=xA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=fz;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Tz;break;case kP:case DP:case MP:p=mz;break;case LP:p=Nz;break;case"scroll":case"scrollend":p=uz;break;case"wheel":p=Iz;break;case"copy":case"cut":case"paste":p=gz;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=EA;break;case"toggle":case"beforetoggle":p=Rz}var x=(t&4)!==0,v=!x&&(e==="scroll"||e==="scrollend"),w=x?h!==null?h+"Capture":null:h;x=[];for(var _=u,S;_!==null;){var C=_;if(S=C.stateNode,C=C.tag,C!==5&&C!==26&&C!==27||S===null||w===null||(C=af(_,w),C!=null&&x.push(mf(_,C,S))),v)break;_=_.return}0<x.length&&(h=new p(h,g,null,n,c),f.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==sb&&(g=n.relatedTarget||n.fromElement)&&(dl(g)||g[hu]))break e;if((p||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=u,g=g?dl(g):null,g!==null&&(v=Qf(g),x=g.tag,g!==v||x!==5&&x!==27&&x!==6)&&(g=null)):(p=null,g=u),p!==g)){if(x=xA,C="onMouseLeave",w="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(x=EA,C="onPointerLeave",w="onPointerEnter",_="pointer"),v=p==null?h:Ec(p),S=g==null?h:Ec(g),h=new x(C,_+"leave",p,n,c),h.target=v,h.relatedTarget=S,C=null,dl(c)===u&&(x=new x(w,_+"enter",g,n,c),x.target=S,x.relatedTarget=v,C=x),v=C,p&&g)t:{for(x=P9,w=p,_=g,S=0,C=w;C;C=x(C))S++;C=0;for(var P=_;P;P=x(P))C++;for(;0<S-C;)w=x(w),S--;for(;0<C-S;)_=x(_),C--;for(;S--;){if(w===_||_!==null&&w===_.alternate){x=w;break t}w=x(w),_=x(_)}x=null}else x=null;p!==null&&mT(f,h,p,x,!1),g!==null&&v!==null&&mT(f,v,g,x,!0)}}e:{if(h=u?Ec(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var O=CA;else if(TA(h))if(OP)O=$z;else{O=zz;var A=Uz}else p=h.nodeName,!p||p.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?u&&Ax(u.elementType)&&(O=CA):O=Bz;if(O&&(O=O(e,u))){NP(f,O,n,c);break e}A&&A(e,h,u),e==="focusout"&&u&&h.type==="number"&&u.memoizedProps.value!=null&&ab(h,"number",h.value)}switch(A=u?Ec(u):window,e){case"focusin":(TA(A)||A.contentEditable==="true")&&(pl=A,lb=u,Vc=null);break;case"focusout":Vc=lb=pl=null;break;case"mousedown":ub=!0;break;case"contextmenu":case"mouseup":case"dragend":ub=!1,RA(f,n,c);break;case"selectionchange":if(qz)break;case"keydown":case"keyup":RA(f,n,c)}var T;if(Ox)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else ml?TP(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(AP&&n.locale!=="ko"&&(ml||N!=="onCompositionStart"?N==="onCompositionEnd"&&ml&&(T=SP()):(Ya=c,Cx="value"in Ya?Ya.value:Ya.textContent,ml=!0)),A=tp(u,N),0<A.length&&(N=new wA(N,e,null,n,c),f.push({event:N,listeners:A}),T?N.data=T:(T=CP(n),T!==null&&(N.data=T)))),(T=kz?Dz(e,n):Mz(e,n))&&(N=tp(u,"onBeforeInput"),0<N.length&&(A=new wA("onBeforeInput","beforeinput",null,n,c),f.push({event:A,listeners:N}),A.data=T)),C9(f,e,u,n,c)}Ej(f,t)})}function mf(e,t,n){return{instance:e,listener:t,currentTarget:n}}function tp(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=af(e,n),i!=null&&r.unshift(mf(e,i,a)),i=af(e,t),i!=null&&r.push(mf(e,i,a))),e.tag===3)return r;e=e.return}return[]}function P9(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function mT(e,t,n,r,i){for(var a=t._reactName,s=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(o=o.tag,l!==null&&l===r)break;o!==5&&o!==26&&o!==27||u===null||(l=u,i?(u=af(n,a),u!=null&&s.unshift(mf(n,u,l))):i||(u=af(n,a),u!=null&&s.push(mf(n,u,l)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var R9=/\r\n?/g,j9=/\u0000|\uFFFD/g;function pT(e){return(typeof e=="string"?e:""+e).replace(R9,`
`).replace(j9,"")}function Aj(e,t){return t=pT(t),pT(e)===t}function Pe(e,t,n,r,i,a){switch(n){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||$l(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&$l(e,""+r);break;case"className":yh(e,"class",r);break;case"tabIndex":yh(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":yh(e,n,r);break;case"style":wP(e,r,a);break;case"data":if(t!=="object"){yh(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=em(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(t!=="input"&&Pe(e,t,"name",i.name,i,null),Pe(e,t,"formEncType",i.formEncType,i,null),Pe(e,t,"formMethod",i.formMethod,i,null),Pe(e,t,"formTarget",i.formTarget,i,null)):(Pe(e,t,"encType",i.encType,i,null),Pe(e,t,"method",i.method,i,null),Pe(e,t,"target",i.target,i,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=em(""+r),e.setAttribute(n,r);break;case"onClick":r!=null&&(e.onclick=Vi);break;case"onScroll":r!=null&&he("scroll",e);break;case"onScrollEnd":r!=null&&he("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(z(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(z(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}n=em(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":r===!0?e.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":he("beforetoggle",e),he("toggle",e),Jh(e,"popover",r);break;case"xlinkActuate":Ni(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Ni(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Ni(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Ni(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Ni(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Ni(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Ni(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Ni(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Ni(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Jh(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=oz.get(n)||n,Jh(e,n,r))}}function jb(e,t,n,r,i,a){switch(n){case"style":wP(e,r,a);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(z(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(z(60));e.innerHTML=n}}break;case"children":typeof r=="string"?$l(e,r):(typeof r=="number"||typeof r=="bigint")&&$l(e,""+r);break;case"onScroll":r!=null&&he("scroll",e);break;case"onScrollEnd":r!=null&&he("scrollend",e);break;case"onClick":r!=null&&(e.onclick=Vi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gP.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),a=e[Fn]||null,a=a!=null?a[n]:null,typeof a=="function"&&e.removeEventListener(t,a,i),typeof r=="function")){typeof a!="function"&&a!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i);break e}n in e?e[n]=r:r===!0?e.setAttribute(n,""):Jh(e,n,r)}}}function ln(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":he("error",e),he("load",e);var r=!1,i=!1,a;for(a in n)if(n.hasOwnProperty(a)){var s=n[a];if(s!=null)switch(a){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(z(137,t));default:Pe(e,t,a,s,n,null)}}i&&Pe(e,t,"srcSet",n.srcSet,n,null),r&&Pe(e,t,"src",n.src,n,null);return;case"input":he("invalid",e);var o=a=s=i=null,l=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var c=n[r];if(c!=null)switch(r){case"name":i=c;break;case"type":s=c;break;case"checked":l=c;break;case"defaultChecked":u=c;break;case"value":a=c;break;case"defaultValue":o=c;break;case"children":case"dangerouslySetInnerHTML":if(c!=null)throw Error(z(137,t));break;default:Pe(e,t,r,c,n,null)}}bP(e,a,o,l,u,s,i,!1);return;case"select":he("invalid",e),r=s=a=null;for(i in n)if(n.hasOwnProperty(i)&&(o=n[i],o!=null))switch(i){case"value":a=o;break;case"defaultValue":s=o;break;case"multiple":r=o;default:Pe(e,t,i,o,n,null)}t=a,n=s,e.multiple=!!r,t!=null?Cl(e,!!r,t,!1):n!=null&&Cl(e,!!r,n,!0);return;case"textarea":he("invalid",e),a=i=r=null;for(s in n)if(n.hasOwnProperty(s)&&(o=n[s],o!=null))switch(s){case"value":r=o;break;case"defaultValue":i=o;break;case"children":a=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(z(91));break;default:Pe(e,t,s,o,n,null)}xP(e,r,i,a);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Pe(e,t,l,r,n,null)}return;case"dialog":he("beforetoggle",e),he("toggle",e),he("cancel",e),he("close",e);break;case"iframe":case"object":he("load",e);break;case"video":case"audio":for(r=0;r<hf.length;r++)he(hf[r],e);break;case"image":he("error",e),he("load",e);break;case"details":he("toggle",e);break;case"embed":case"source":case"link":he("error",e),he("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(z(137,t));default:Pe(e,t,u,r,n,null)}return;default:if(Ax(t)){for(c in n)n.hasOwnProperty(c)&&(r=n[c],r!==void 0&&jb(e,t,c,r,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(r=n[o],r!=null&&Pe(e,t,o,r,n,null))}function k9(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,s=null,o=null,l=null,u=null,c=null;for(p in n){var f=n[p];if(n.hasOwnProperty(p)&&f!=null)switch(p){case"checked":break;case"value":break;case"defaultValue":l=f;default:r.hasOwnProperty(p)||Pe(e,t,p,null,r,f)}}for(var h in r){var p=r[h];if(f=n[h],r.hasOwnProperty(h)&&(p!=null||f!=null))switch(h){case"type":a=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":c=p;break;case"value":s=p;break;case"defaultValue":o=p;break;case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(z(137,t));break;default:p!==f&&Pe(e,t,h,p,r,f)}}ib(e,s,o,l,u,c,a,i);return;case"select":p=s=o=h=null;for(a in n)if(l=n[a],n.hasOwnProperty(a)&&l!=null)switch(a){case"value":break;case"multiple":p=l;default:r.hasOwnProperty(a)||Pe(e,t,a,null,r,l)}for(i in r)if(a=r[i],l=n[i],r.hasOwnProperty(i)&&(a!=null||l!=null))switch(i){case"value":h=a;break;case"defaultValue":o=a;break;case"multiple":s=a;default:a!==l&&Pe(e,t,i,a,r,l)}t=o,n=s,r=p,h!=null?Cl(e,!!n,h,!1):!!r!=!!n&&(t!=null?Cl(e,!!n,t,!0):Cl(e,!!n,n?[]:"",!1));return;case"textarea":p=h=null;for(o in n)if(i=n[o],n.hasOwnProperty(o)&&i!=null&&!r.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:Pe(e,t,o,null,r,i)}for(s in r)if(i=r[s],a=n[s],r.hasOwnProperty(s)&&(i!=null||a!=null))switch(s){case"value":h=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(z(91));break;default:i!==a&&Pe(e,t,s,i,r,a)}_P(e,h,p);return;case"option":for(var g in n)if(h=n[g],n.hasOwnProperty(g)&&h!=null&&!r.hasOwnProperty(g))switch(g){case"selected":e.selected=!1;break;default:Pe(e,t,g,null,r,h)}for(l in r)if(h=r[l],p=n[l],r.hasOwnProperty(l)&&h!==p&&(h!=null||p!=null))switch(l){case"selected":e.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Pe(e,t,l,h,r,p)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var x in n)h=n[x],n.hasOwnProperty(x)&&h!=null&&!r.hasOwnProperty(x)&&Pe(e,t,x,null,r,h);for(u in r)if(h=r[u],p=n[u],r.hasOwnProperty(u)&&h!==p&&(h!=null||p!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(z(137,t));break;default:Pe(e,t,u,h,r,p)}return;default:if(Ax(t)){for(var v in n)h=n[v],n.hasOwnProperty(v)&&h!==void 0&&!r.hasOwnProperty(v)&&jb(e,t,v,void 0,r,h);for(c in r)h=r[c],p=n[c],!r.hasOwnProperty(c)||h===p||h===void 0&&p===void 0||jb(e,t,c,h,r,p);return}}for(var w in n)h=n[w],n.hasOwnProperty(w)&&h!=null&&!r.hasOwnProperty(w)&&Pe(e,t,w,null,r,h);for(f in r)h=r[f],p=n[f],!r.hasOwnProperty(f)||h===p||h==null&&p==null||Pe(e,t,f,h,r,p)}function gT(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function D9(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],a=i.transferSize,s=i.initiatorType,o=i.duration;if(a&&o&&gT(s)){for(s=0,o=i.responseEnd,r+=1;r<n.length;r++){var l=n[r],u=l.startTime;if(u>o)break;var c=l.transferSize,f=l.initiatorType;c&&gT(f)&&(l=l.responseEnd,s+=c*(l<o?1:(o-u)/(l-u)))}if(--r,t+=8*(a+s)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var kb=null,Db=null;function np(e){return e.nodeType===9?e:e.ownerDocument}function yT(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Tj(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Mb(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var r0=null;function M9(){var e=window.event;return e&&e.type==="popstate"?e===r0?!1:(r0=e,!0):(r0=null,!1)}var Cj=typeof setTimeout=="function"?setTimeout:void 0,L9=typeof clearTimeout=="function"?clearTimeout:void 0,vT=typeof Promise=="function"?Promise:void 0,V9=typeof queueMicrotask=="function"?queueMicrotask:typeof vT<"u"?function(e){return vT.resolve(null).then(e).catch(U9)}:Cj;function U9(e){setTimeout(function(){throw e})}function Is(e){return e==="head"}function bT(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(r===0){e.removeChild(i),Xl(t);return}r--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")r++;else if(n==="html")Yc(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Yc(n);for(var a=n.firstChild;a;){var s=a.nextSibling,o=a.nodeName;a[td]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=s}}else n==="body"&&Yc(e.ownerDocument.body);n=i}while(n);Xl(t)}function _T(e,t){var n=e;e=0;do{var r=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=r}while(n)}function Lb(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Lb(n),Sx(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function z9(e,t,n,r){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[td])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(a=e.getAttribute("rel"),a==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(a!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(a=e.getAttribute("src"),(a!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var a=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===a)return e}else return e;if(e=Ar(e.nextSibling),e===null)break}return null}function B9(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Ar(e.nextSibling),e===null))return null;return e}function Nj(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Ar(e.nextSibling),e===null))return null;return e}function Vb(e){return e.data==="$?"||e.data==="$~"}function Ub(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function $9(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function Ar(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var zb=null;function xT(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Ar(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function wT(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Oj(e,t,n){switch(t=np(n),e){case"html":if(e=t.documentElement,!e)throw Error(z(452));return e;case"head":if(e=t.head,!e)throw Error(z(453));return e;case"body":if(e=t.body,!e)throw Error(z(454));return e;default:throw Error(z(451))}}function Yc(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Sx(e)}var Cr=new Map,ET=new Set;function rp(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var pa=Ae.d;Ae.d={f:F9,r:q9,D:H9,C:G9,L:K9,m:Y9,X:X9,S:W9,M:Q9};function F9(){var e=pa.f(),t=jg();return e||t}function q9(e){var t=mu(e);t!==null&&t.tag===5&&t.type==="form"?wR(t):pa.r(e)}var vu=typeof document>"u"?null:document;function Ij(e,t,n){var r=vu;if(r&&typeof t=="string"&&t){var i=yr(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),ET.has(i)||(ET.add(i),e={rel:e,crossOrigin:n,href:t},r.querySelector(i)===null&&(t=r.createElement("link"),ln(t,"link",e),$t(t),r.head.appendChild(t)))}}function H9(e){pa.D(e),Ij("dns-prefetch",e,null)}function G9(e,t){pa.C(e,t),Ij("preconnect",e,t)}function K9(e,t,n){pa.L(e,t,n);var r=vu;if(r&&e&&t){var i='link[rel="preload"][as="'+yr(t)+'"]';t==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+yr(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+yr(n.imageSizes)+'"]')):i+='[href="'+yr(e)+'"]';var a=i;switch(t){case"style":a=Wl(e);break;case"script":a=bu(e)}Cr.has(a)||(e=Ge({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Cr.set(a,e),r.querySelector(i)!==null||t==="style"&&r.querySelector(od(a))||t==="script"&&r.querySelector(ld(a))||(t=r.createElement("link"),ln(t,"link",e),$t(t),r.head.appendChild(t)))}}function Y9(e,t){pa.m(e,t);var n=vu;if(n&&e){var r=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+yr(r)+'"][href="'+yr(e)+'"]',a=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=bu(e)}if(!Cr.has(a)&&(e=Ge({rel:"modulepreload",href:e},t),Cr.set(a,e),n.querySelector(i)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(ld(a)))return}r=n.createElement("link"),ln(r,"link",e),$t(r),n.head.appendChild(r)}}}function W9(e,t,n){pa.S(e,t,n);var r=vu;if(r&&e){var i=Tl(r).hoistableStyles,a=Wl(e);t=t||"default";var s=i.get(a);if(!s){var o={loading:0,preload:null};if(s=r.querySelector(od(a)))o.loading=5;else{e=Ge({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Cr.get(a))&&uw(e,n);var l=s=r.createElement("link");$t(l),ln(l,"link",e),l._p=new Promise(function(u,c){l.onload=u,l.onerror=c}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,cm(s,t,r)}s={type:"stylesheet",instance:s,count:1,state:o},i.set(a,s)}}}function X9(e,t){pa.X(e,t);var n=vu;if(n&&e){var r=Tl(n).hoistableScripts,i=bu(e),a=r.get(i);a||(a=n.querySelector(ld(i)),a||(e=Ge({src:e,async:!0},t),(t=Cr.get(i))&&cw(e,t),a=n.createElement("script"),$t(a),ln(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}function Q9(e,t){pa.M(e,t);var n=vu;if(n&&e){var r=Tl(n).hoistableScripts,i=bu(e),a=r.get(i);a||(a=n.querySelector(ld(i)),a||(e=Ge({src:e,async:!0,type:"module"},t),(t=Cr.get(i))&&cw(e,t),a=n.createElement("script"),$t(a),ln(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}function ST(e,t,n,r){var i=(i=es.current)?rp(i):null;if(!i)throw Error(z(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Wl(n.href),n=Tl(i).hoistableStyles,r=n.get(t),r||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Wl(n.href);var a=Tl(i).hoistableStyles,s=a.get(e);if(s||(i=i.ownerDocument||i,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(e,s),(a=i.querySelector(od(e)))&&!a._p&&(s.instance=a,s.state.loading=5),Cr.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Cr.set(e,n),a||Z9(i,e,n,s.state))),t&&r===null)throw Error(z(528,""));return s}if(t&&r!==null)throw Error(z(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=bu(n),n=Tl(i).hoistableScripts,r=n.get(t),r||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(z(444,e))}}function Wl(e){return'href="'+yr(e)+'"'}function od(e){return'link[rel="stylesheet"]['+e+"]"}function Pj(e){return Ge({},e,{"data-precedence":e.precedence,precedence:null})}function Z9(e,t,n,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),ln(t,"link",n),$t(t),e.head.appendChild(t))}function bu(e){return'[src="'+yr(e)+'"]'}function ld(e){return"script[async]"+e}function AT(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+yr(n.href)+'"]');if(r)return t.instance=r,$t(r),r;var i=Ge({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),$t(r),ln(r,"style",i),cm(r,n.precedence,e),t.instance=r;case"stylesheet":i=Wl(n.href);var a=e.querySelector(od(i));if(a)return t.state.loading|=4,t.instance=a,$t(a),a;r=Pj(n),(i=Cr.get(i))&&uw(r,i),a=(e.ownerDocument||e).createElement("link"),$t(a);var s=a;return s._p=new Promise(function(o,l){s.onload=o,s.onerror=l}),ln(a,"link",r),t.state.loading|=4,cm(a,n.precedence,e),t.instance=a;case"script":return a=bu(n.src),(i=e.querySelector(ld(a)))?(t.instance=i,$t(i),i):(r=n,(i=Cr.get(a))&&(r=Ge({},n),cw(r,i)),e=e.ownerDocument||e,i=e.createElement("script"),$t(i),ln(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(z(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(r=t.instance,t.state.loading|=4,cm(r,n.precedence,e));return t.instance}function cm(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,s=0;s<r.length;s++){var o=r[s];if(o.dataset.precedence===t)a=o;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function uw(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function cw(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var fm=null;function TT(e,t,n){if(fm===null){var r=new Map,i=fm=new Map;i.set(n,r)}else i=fm,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[td]||a[nn]||e==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var s=a.getAttribute(t)||"";s=e+s;var o=r.get(s);o?o.push(a):r.set(s,[a])}}return r}function CT(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function J9(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Rj(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function eB(e,t,n,r){if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var i=Wl(r.href),a=t.querySelector(od(i));if(a){t=a._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=ip.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=a,$t(a);return}a=t.ownerDocument||t,r=Pj(r),(i=Cr.get(i))&&uw(r,i),a=a.createElement("link"),$t(a);var s=a;s._p=new Promise(function(o,l){s.onload=o,s.onerror=l}),ln(a,"link",r),n.instance=a}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=ip.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var i0=0;function tB(e,t){return e.stylesheets&&e.count===0&&dm(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&dm(e,e.stylesheets),e.unsuspend){var a=e.unsuspend;e.unsuspend=null,a()}},6e4+t);0<e.imgBytes&&i0===0&&(i0=62500*D9());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&dm(e,e.stylesheets),e.unsuspend)){var a=e.unsuspend;e.unsuspend=null,a()}},(e.imgBytes>i0?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}function ip(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)dm(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ap=null;function dm(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ap=new Map,t.forEach(nB,e),ap=null,ip.call(e))}function nB(e,t){if(!(t.state.loading&4)){var n=ap.get(e);if(n)var r=n.get(null);else{n=new Map,ap.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var s=i[a];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}i=t.instance,s=i.getAttribute("data-precedence"),a=n.get(s)||r,a===r&&n.set(null,i),n.set(s,i),this.count++,r=ip.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var pf={$$typeof:Li,Provider:null,Consumer:null,_currentValue:ao,_currentValue2:ao,_threadCount:0};function rB(e,t,n,r,i,a,s,o,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Cv(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cv(0),this.hiddenUpdates=Cv(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function jj(e,t,n,r,i,a,s,o,l,u,c,f){return e=new rB(e,t,n,s,l,u,c,f,o),t=1,a===!0&&(t|=24),a=Xn(3,null,null,t),e.current=a,a.stateNode=e,t=Mx(),t.refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},Ux(a),e}function kj(e){return e?(e=vl,e):vl}function Dj(e,t,n,r,i,a){i=kj(i),r.context===null?r.context=i:r.pendingContext=i,r=ns(t),r.payload={element:n},a=a===void 0?null:a,a!==null&&(r.callback=a),n=rs(e,r,t),n!==null&&(Bn(n,e,t),zc(n,e,t))}function NT(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function fw(e,t){NT(e,t),(e=e.alternate)&&NT(e,t)}function Mj(e){if(e.tag===13||e.tag===31){var t=Uo(e,67108864);t!==null&&Bn(t,e,67108864),fw(e,67108864)}}function OT(e){if(e.tag===13||e.tag===31){var t=ar();t=wx(t);var n=Uo(e,t);n!==null&&Bn(n,e,t),fw(e,t)}}var sp=!0;function iB(e,t,n,r){var i=ie.T;ie.T=null;var a=Ae.p;try{Ae.p=2,dw(e,t,n,r)}finally{Ae.p=a,ie.T=i}}function aB(e,t,n,r){var i=ie.T;ie.T=null;var a=Ae.p;try{Ae.p=8,dw(e,t,n,r)}finally{Ae.p=a,ie.T=i}}function dw(e,t,n,r){if(sp){var i=Bb(r);if(i===null)n0(e,t,r,op,n),IT(e,r);else if(oB(i,e,t,n,r))r.stopPropagation();else if(IT(e,r),t&4&&-1<sB.indexOf(e)){for(;i!==null;){var a=mu(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var s=Ks(a.pendingLanes);if(s!==0){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var l=1<<31-ir(s);o.entanglements[1]|=l,s&=~l}Ei(a),!(Se&6)&&(Xm=nr()+500,sd(0))}}break;case 31:case 13:o=Uo(a,2),o!==null&&Bn(o,a,2),jg(),fw(a,2)}if(a=Bb(r),a===null&&n0(e,t,r,op,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else n0(e,t,r,null,n)}}function Bb(e){return e=Tx(e),hw(e)}var op=null;function hw(e){if(op=null,e=dl(e),e!==null){var t=Qf(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=nP(t),e!==null)return e;e=null}else if(n===31){if(e=rP(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return op=e,null}function Lj(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(HU()){case oP:return 2;case lP:return 8;case Mm:case GU:return 32;case uP:return 268435456;default:return 32}default:return 32}}var $b=!1,ss=null,os=null,ls=null,gf=new Map,yf=new Map,za=[],sB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function IT(e,t){switch(e){case"focusin":case"focusout":ss=null;break;case"dragenter":case"dragleave":os=null;break;case"mouseover":case"mouseout":ls=null;break;case"pointerover":case"pointerout":gf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":yf.delete(t.pointerId)}}function uc(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=mu(t),t!==null&&Mj(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function oB(e,t,n,r,i){switch(t){case"focusin":return ss=uc(ss,e,t,n,r,i),!0;case"dragenter":return os=uc(os,e,t,n,r,i),!0;case"mouseover":return ls=uc(ls,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return gf.set(a,uc(gf.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,yf.set(a,uc(yf.get(a)||null,e,t,n,r,i)),!0}return!1}function Vj(e){var t=dl(e.target);if(t!==null){var n=Qf(t);if(n!==null){if(t=n.tag,t===13){if(t=nP(n),t!==null){e.blockedOn=t,mA(e.priority,function(){OT(n)});return}}else if(t===31){if(t=rP(n),t!==null){e.blockedOn=t,mA(e.priority,function(){OT(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hm(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Bb(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);sb=r,n.target.dispatchEvent(r),sb=null}else return t=mu(n),t!==null&&Mj(t),e.blockedOn=n,!1;t.shift()}return!0}function PT(e,t,n){hm(e)&&n.delete(t)}function lB(){$b=!1,ss!==null&&hm(ss)&&(ss=null),os!==null&&hm(os)&&(os=null),ls!==null&&hm(ls)&&(ls=null),gf.forEach(PT),yf.forEach(PT)}function Ah(e,t){e.blockedOn===t&&(e.blockedOn=null,$b||($b=!0,It.unstable_scheduleCallback(It.unstable_NormalPriority,lB)))}var Th=null;function RT(e){Th!==e&&(Th=e,It.unstable_scheduleCallback(It.unstable_NormalPriority,function(){Th===e&&(Th=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if(typeof r!="function"){if(hw(r||n)===null)continue;break}var a=mu(n);a!==null&&(e.splice(t,3),t-=3,wb(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Xl(e){function t(l){return Ah(l,e)}ss!==null&&Ah(ss,e),os!==null&&Ah(os,e),ls!==null&&Ah(ls,e),gf.forEach(t),yf.forEach(t);for(var n=0;n<za.length;n++){var r=za[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<za.length&&(n=za[0],n.blockedOn===null);)Vj(n),n.blockedOn===null&&za.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],s=i[Fn]||null;if(typeof a=="function")s||RT(n);else if(s){var o=null;if(a&&a.hasAttribute("formAction")){if(i=a,s=a[Fn]||null)o=s.formAction;else if(hw(i)!==null)continue}else o=s.action;typeof o=="function"?n[r+1]=o:(n.splice(r,3),r-=3),RT(n)}}}function Uj(){function e(a){a.canIntercept&&a.info==="react-transition"&&a.intercept({handler:function(){return new Promise(function(s){return i=s})},focusReset:"manual",scroll:"manual"})}function t(){i!==null&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var a=navigation.currentEntry;a&&a.url!=null&&navigation.navigate(a.url,{state:a.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),i!==null&&(i(),i=null)}}}function mw(e){this._internalRoot=e}Mg.prototype.render=mw.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(z(409));var n=t.current,r=ar();Dj(n,r,e,t,null,null)};Mg.prototype.unmount=mw.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Dj(e.current,2,null,e,null,null),jg(),t[hu]=null}};function Mg(e){this._internalRoot=e}Mg.prototype.unstable_scheduleHydration=function(e){if(e){var t=mP();e={blockedOn:null,target:e,priority:t};for(var n=0;n<za.length&&t!==0&&t<za[n].priority;n++);za.splice(n,0,e),n===0&&Vj(e)}};var jT=eP.version;if(jT!=="19.2.3")throw Error(z(527,jT,"19.2.3"));Ae.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(z(188)):(e=Object.keys(e).join(","),Error(z(268,e)));return e=VU(t),e=e!==null?iP(e):null,e=e===null?null:e.stateNode,e};var uB={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:ie,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ch=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ch.isDisabled&&Ch.supportsFiber)try{Zf=Ch.inject(uB),rr=Ch}catch{}}bg.createRoot=function(e,t){if(!tP(e))throw Error(z(299));var n=!1,r="",i=IR,a=PR,s=RR;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(a=t.onCaughtError),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=jj(e,1,!1,null,null,n,r,null,i,a,s,Uj),e[hu]=t.current,lw(e),new mw(t)};bg.hydrateRoot=function(e,t,n){if(!tP(e))throw Error(z(299));var r=!1,i="",a=IR,s=PR,o=RR,l=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.formState!==void 0&&(l=n.formState)),t=jj(e,1,!0,t,n??null,r,i,l,a,s,o,Uj),t.context=kj(null),n=t.current,r=ar(),r=wx(r),i=ns(r),i.callback=null,rs(n,i,r),n=r,t.current.lanes=n,ed(t,n),Ei(t),e[hu]=t.current,lw(e),new Mg(t)};bg.version="19.2.3";function zj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zj)}catch(e){console.error(e)}}zj(),YI.exports=bg;var cB=YI.exports;/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var kT="popstate";function fB(e={}){function t(r,i){let{pathname:a,search:s,hash:o}=r.location;return Fb("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:vf(i)}return hB(t,n,null,e)}function et(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function pi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function dB(){return Math.random().toString(36).substring(2,10)}function DT(e,t){return{usr:e.state,key:e.key,idx:t}}function Fb(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?_u(t):t,state:n,key:t&&t.key||r||dB()}}function vf({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function _u(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function hB(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,o="POP",l=null,u=c();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function c(){return(s.state||{idx:null}).idx}function f(){o="POP";let v=c(),w=v==null?null:v-u;u=v,l&&l({action:o,location:x.location,delta:w})}function h(v,w){o="PUSH";let _=Fb(x.location,v,w);u=c()+1;let S=DT(_,u),C=x.createHref(_);try{s.pushState(S,"",C)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(C)}a&&l&&l({action:o,location:x.location,delta:1})}function p(v,w){o="REPLACE";let _=Fb(x.location,v,w);u=c();let S=DT(_,u),C=x.createHref(_);s.replaceState(S,"",C),a&&l&&l({action:o,location:x.location,delta:0})}function g(v){return mB(v)}let x={get action(){return o},get location(){return e(i,s)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(kT,f),l=v,()=>{i.removeEventListener(kT,f),l=null}},createHref(v){return t(i,v)},createURL:g,encodeLocation(v){let w=g(v);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:h,replace:p,go(v){return s.go(v)}};return x}function mB(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),et(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:vf(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Bj(e,t,n="/"){return pB(e,t,n,!1)}function pB(e,t,n,r){let i=typeof t=="string"?_u(t):t,a=na(i.pathname||"/",n);if(a==null)return null;let s=$j(e);gB(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let u=CB(a);o=AB(s[l],u,r)}return o}function $j(e,t=[],n=[],r="",i=!1){let a=(s,o,l=i,u)=>{let c={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};if(c.relativePath.startsWith("/")){if(!c.relativePath.startsWith(r)&&l)return;et(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length)}let f=Ki([r,c.relativePath]),h=n.concat(c);s.children&&s.children.length>0&&(et(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),$j(s.children,t,h,f,l)),!(s.path==null&&!s.index)&&t.push({path:f,score:EB(f,s.index),routesMeta:h})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))a(s,o);else for(let u of Fj(s.path))a(s,o,!0,u)}),t}function Fj(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=Fj(r.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function gB(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:SB(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var yB=/^:[\w-]+$/,vB=3,bB=2,_B=1,xB=10,wB=-2,MT=e=>e==="*";function EB(e,t){let n=e.split("/"),r=n.length;return n.some(MT)&&(r+=wB),t&&(r+=bB),n.filter(i=>!MT(i)).reduce((i,a)=>i+(yB.test(a)?vB:a===""?_B:xB),r)}function SB(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function AB(e,t,n=!1){let{routesMeta:r}=e,i={},a="/",s=[];for(let o=0;o<r.length;++o){let l=r[o],u=o===r.length-1,c=a==="/"?t:t.slice(a.length)||"/",f=lp({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),h=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=lp({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:Ki([a,f.pathname]),pathnameBase:PB(Ki([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=Ki([a,f.pathnameBase]))}return s}function lp(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=TB(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((u,{paramName:c,isOptional:f},h)=>{if(c==="*"){let g=o[h]||"";s=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const p=o[h];return f&&!p?u[c]=void 0:u[c]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:s,pattern:e}}function TB(e,t=!1,n=!0){pi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function CB(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return pi(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function na(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var NB=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function OB(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?_u(e):e,a;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?a=LT(n.substring(1),"/"):a=LT(n,t)):a=t,{pathname:a,search:RB(r),hash:jB(i)}}function LT(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function a0(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function IB(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function qj(e){let t=IB(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function Hj(e,t,n,r=!1){let i;typeof e=="string"?i=_u(e):(i={...e},et(!i.pathname||!i.pathname.includes("?"),a0("?","pathname","search",i)),et(!i.pathname||!i.pathname.includes("#"),a0("#","pathname","hash",i)),et(!i.search||!i.search.includes("#"),a0("#","search","hash",i)));let a=e===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=n;else{let f=t.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}o=f>=0?t[f]:"/"}let l=OB(i,o),u=s&&s!=="/"&&s.endsWith("/"),c=(a||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}var Ki=e=>e.join("/").replace(/\/\/+/g,"/"),PB=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),RB=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,jB=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,kB=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function DB(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function MB(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Gj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Kj(e,t){let n=e;if(typeof n!="string"||!NB.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(Gj)try{let a=new URL(window.location.href),s=n.startsWith("//")?new URL(a.protocol+n):new URL(n),o=na(s.pathname,t);s.origin===a.origin&&o!=null?n=o+s.search+s.hash:i=!0}catch{pi(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Yj=["POST","PUT","PATCH","DELETE"];new Set(Yj);var LB=["GET",...Yj];new Set(LB);var xu=b.createContext(null);xu.displayName="DataRouter";var Lg=b.createContext(null);Lg.displayName="DataRouterState";var VB=b.createContext(!1),Wj=b.createContext({isTransitioning:!1});Wj.displayName="ViewTransition";var UB=b.createContext(new Map);UB.displayName="Fetchers";var zB=b.createContext(null);zB.displayName="Await";var Pr=b.createContext(null);Pr.displayName="Navigation";var ud=b.createContext(null);ud.displayName="Location";var Si=b.createContext({outlet:null,matches:[],isDataRoute:!1});Si.displayName="Route";var pw=b.createContext(null);pw.displayName="RouteError";var Xj="REACT_ROUTER_ERROR",BB="REDIRECT",$B="ROUTE_ERROR_RESPONSE";function FB(e){if(e.startsWith(`${Xj}:${BB}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function qB(e){if(e.startsWith(`${Xj}:${$B}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new kB(t.status,t.statusText,t.data)}catch{}}function HB(e,{relative:t}={}){et(cd(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=b.useContext(Pr),{hash:i,pathname:a,search:s}=fd(e,{relative:t}),o=a;return n!=="/"&&(o=a==="/"?n:Ki([n,a])),r.createHref({pathname:o,search:s,hash:i})}function cd(){return b.useContext(ud)!=null}function Ps(){return et(cd(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(ud).location}var Qj="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Zj(e){b.useContext(Pr).static||b.useLayoutEffect(e)}function Vg(){let{isDataRoute:e}=b.useContext(Si);return e?s8():GB()}function GB(){et(cd(),"useNavigate() may be used only in the context of a <Router> component.");let e=b.useContext(xu),{basename:t,navigator:n}=b.useContext(Pr),{matches:r}=b.useContext(Si),{pathname:i}=Ps(),a=JSON.stringify(qj(r)),s=b.useRef(!1);return Zj(()=>{s.current=!0}),b.useCallback((l,u={})=>{if(pi(s.current,Qj),!s.current)return;if(typeof l=="number"){n.go(l);return}let c=Hj(l,JSON.parse(a),i,u.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:Ki([t,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[t,n,a,i,e])}var KB=b.createContext(null);function YB(e){let t=b.useContext(Si).outlet;return b.useMemo(()=>t&&b.createElement(KB.Provider,{value:e},t),[t,e])}function fd(e,{relative:t}={}){let{matches:n}=b.useContext(Si),{pathname:r}=Ps(),i=JSON.stringify(qj(n));return b.useMemo(()=>Hj(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function WB(e,t){return Jj(e,t)}function Jj(e,t,n,r,i){var _;et(cd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=b.useContext(Pr),{matches:s}=b.useContext(Si),o=s[s.length-1],l=o?o.params:{},u=o?o.pathname:"/",c=o?o.pathnameBase:"/",f=o&&o.route;{let S=f&&f.path||"";tk(u,!f||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let h=Ps(),p;if(t){let S=typeof t=="string"?_u(t):t;et(c==="/"||((_=S.pathname)==null?void 0:_.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${S.pathname}" was given in the \`location\` prop.`),p=S}else p=h;let g=p.pathname||"/",x=g;if(c!=="/"){let S=c.replace(/^\//,"").split("/");x="/"+g.replace(/^\//,"").split("/").slice(S.length).join("/")}let v=Bj(e,{pathname:x});pi(f||v!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),pi(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=e8(v&&v.map(S=>Object.assign({},S,{params:Object.assign({},l,S.params),pathname:Ki([c,a.encodeLocation?a.encodeLocation(S.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?c:Ki([c,a.encodeLocation?a.encodeLocation(S.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathnameBase])})),s,n,r,i);return t&&w?b.createElement(ud.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},w):w}function XB(){let e=a8(),t=DB(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:a},"ErrorBoundary")," or"," ",b.createElement("code",{style:a},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),n?b.createElement("pre",{style:i},n):null,s)}var QB=b.createElement(XB,null),ek=class extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=qB(e.digest);n&&(e=n)}let t=e!==void 0?b.createElement(Si.Provider,{value:this.props.routeContext},b.createElement(pw.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?b.createElement(ZB,{error:e},t):t}};ek.contextType=VB;var s0=new WeakMap;function ZB({children:e,error:t}){let{basename:n}=b.useContext(Pr);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let r=FB(t.digest);if(r){let i=s0.get(t);if(i)throw i;let a=Kj(r.location,n);if(Gj&&!s0.get(t))if(a.isExternal||r.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const s=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:r.replace}));throw s0.set(t,s),s}return b.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return e}function JB({routeContext:e,match:t,children:n}){let r=b.useContext(xu);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),b.createElement(Si.Provider,{value:e},n)}function e8(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,s=n==null?void 0:n.errors;if(s!=null){let c=a.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);et(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,c+1))}let o=!1,l=-1;if(n)for(let c=0;c<a.length;c++){let f=a[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(l=c),f.route.id){let{loaderData:h,errors:p}=n,g=f.route.loader&&!h.hasOwnProperty(f.route.id)&&(!p||p[f.route.id]===void 0);if(f.route.lazy||g){o=!0,l>=0?a=a.slice(0,l+1):a=[a[0]];break}}}let u=n&&r?(c,f)=>{var h,p;r(c,{location:n.location,params:((p=(h=n.matches)==null?void 0:h[0])==null?void 0:p.params)??{},unstable_pattern:MB(n.matches),errorInfo:f})}:void 0;return a.reduceRight((c,f,h)=>{let p,g=!1,x=null,v=null;n&&(p=s&&f.route.id?s[f.route.id]:void 0,x=f.route.errorElement||QB,o&&(l<0&&h===0?(tk("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,v=null):l===h&&(g=!0,v=f.route.hydrateFallbackElement||null)));let w=t.concat(a.slice(0,h+1)),_=()=>{let S;return p?S=x:g?S=v:f.route.Component?S=b.createElement(f.route.Component,null):f.route.element?S=f.route.element:S=c,b.createElement(JB,{match:f,routeContext:{outlet:c,matches:w,isDataRoute:n!=null},children:S})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?b.createElement(ek,{location:n.location,revalidation:n.revalidation,component:x,error:p,children:_(),routeContext:{outlet:null,matches:w,isDataRoute:!0},onError:u}):_()},null)}function gw(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function t8(e){let t=b.useContext(xu);return et(t,gw(e)),t}function n8(e){let t=b.useContext(Lg);return et(t,gw(e)),t}function r8(e){let t=b.useContext(Si);return et(t,gw(e)),t}function yw(e){let t=r8(e),n=t.matches[t.matches.length-1];return et(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function i8(){return yw("useRouteId")}function a8(){var r;let e=b.useContext(pw),t=n8("useRouteError"),n=yw("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function s8(){let{router:e}=t8("useNavigate"),t=yw("useNavigate"),n=b.useRef(!1);return Zj(()=>{n.current=!0}),b.useCallback(async(i,a={})=>{pi(n.current,Qj),n.current&&(typeof i=="number"?await e.navigate(i):await e.navigate(i,{fromRouteId:t,...a}))},[e,t])}var VT={};function tk(e,t,n){!t&&!VT[e]&&(VT[e]=!0,pi(!1,n))}b.memo(o8);function o8({routes:e,future:t,state:n,onError:r}){return Jj(e,void 0,n,r,t)}function l8(e){return YB(e.context)}function ct(e){et(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function u8({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:a=!1,unstable_useTransitions:s}){et(!cd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),l=b.useMemo(()=>({basename:o,navigator:i,static:a,unstable_useTransitions:s,future:{}}),[o,i,a,s]);typeof n=="string"&&(n=_u(n));let{pathname:u="/",search:c="",hash:f="",state:h=null,key:p="default"}=n,g=b.useMemo(()=>{let x=na(u,o);return x==null?null:{location:{pathname:x,search:c,hash:f,state:h,key:p},navigationType:r}},[o,u,c,f,h,p,r]);return pi(g!=null,`<Router basename="${o}"> is not able to match the URL "${u}${c}${f}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:b.createElement(Pr.Provider,{value:l},b.createElement(ud.Provider,{children:t,value:g}))}function UT({children:e,location:t}){return WB(qb(e),t)}function qb(e,t=[]){let n=[];return b.Children.forEach(e,(r,i)=>{if(!b.isValidElement(r))return;let a=[...t,i];if(r.type===b.Fragment){n.push.apply(n,qb(r.props.children,a));return}et(r.type===ct,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),et(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=qb(r.props.children,a)),n.push(s)}),n}var mm="get",pm="application/x-www-form-urlencoded";function Ug(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function c8(e){return Ug(e)&&e.tagName.toLowerCase()==="button"}function f8(e){return Ug(e)&&e.tagName.toLowerCase()==="form"}function d8(e){return Ug(e)&&e.tagName.toLowerCase()==="input"}function h8(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function m8(e,t){return e.button===0&&(!t||t==="_self")&&!h8(e)}var Nh=null;function p8(){if(Nh===null)try{new FormData(document.createElement("form"),0),Nh=!1}catch{Nh=!0}return Nh}var g8=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function o0(e){return e!=null&&!g8.has(e)?(pi(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${pm}"`),null):e}function y8(e,t){let n,r,i,a,s;if(f8(e)){let o=e.getAttribute("action");r=o?na(o,t):null,n=e.getAttribute("method")||mm,i=o0(e.getAttribute("enctype"))||pm,a=new FormData(e)}else if(c8(e)||d8(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||o.getAttribute("action");if(r=l?na(l,t):null,n=e.getAttribute("formmethod")||o.getAttribute("method")||mm,i=o0(e.getAttribute("formenctype"))||o0(o.getAttribute("enctype"))||pm,a=new FormData(o,e),!p8()){let{name:u,type:c,value:f}=e;if(c==="image"){let h=u?`${u}.`:"";a.append(`${h}x`,"0"),a.append(`${h}y`,"0")}else u&&a.append(u,f)}}else{if(Ug(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=mm,r=null,i=pm,s=e}return a&&i==="text/plain"&&(s=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function vw(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function v8(e,t,n,r){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${r}`:i.pathname=`${i.pathname}.${r}`:i.pathname==="/"?i.pathname=`_root.${r}`:t&&na(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${r}`,i}async function b8(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _8(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function x8(e,t,n){let r=await Promise.all(e.map(async i=>{let a=t.routes[i.route.id];if(a){let s=await b8(a,n);return s.links?s.links():[]}return[]}));return A8(r.flat(1).filter(_8).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function zT(e,t,n,r,i,a){let s=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,o=(l,u)=>{var c;return n[u].pathname!==l.pathname||((c=n[u].route.path)==null?void 0:c.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return a==="assets"?t.filter((l,u)=>s(l,u)||o(l,u)):a==="data"?t.filter((l,u)=>{var f;let c=r.routes[l.route.id];if(!c||!c.hasLoader)return!1;if(s(l,u)||o(l,u))return!0;if(l.route.shouldRevalidate){let h=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function w8(e,t,{includeHydrateFallback:n}={}){return E8(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function E8(e){return[...new Set(e)]}function S8(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function A8(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let a=JSON.stringify(S8(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function nk(){let e=b.useContext(xu);return vw(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function T8(){let e=b.useContext(Lg);return vw(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var bw=b.createContext(void 0);bw.displayName="FrameworkContext";function rk(){let e=b.useContext(bw);return vw(e,"You must render this element inside a <HydratedRouter> element"),e}function C8(e,t){let n=b.useContext(bw),[r,i]=b.useState(!1),[a,s]=b.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:f}=t,h=b.useRef(null);b.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let x=w=>{w.forEach(_=>{s(_.isIntersecting)})},v=new IntersectionObserver(x,{threshold:.5});return h.current&&v.observe(h.current),()=>{v.disconnect()}}},[e]),b.useEffect(()=>{if(r){let x=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(x)}}},[r]);let p=()=>{i(!0)},g=()=>{i(!1),s(!1)};return n?e!=="intent"?[a,h,{}]:[a,h,{onFocus:cc(o,p),onBlur:cc(l,g),onMouseEnter:cc(u,p),onMouseLeave:cc(c,g),onTouchStart:cc(f,p)}]:[!1,h,{}]}function cc(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function N8({page:e,...t}){let{router:n}=nk(),r=b.useMemo(()=>Bj(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?b.createElement(I8,{page:e,matches:r,...t}):null}function O8(e){let{manifest:t,routeModules:n}=rk(),[r,i]=b.useState([]);return b.useEffect(()=>{let a=!1;return x8(e,t,n).then(s=>{a||i(s)}),()=>{a=!0}},[e,t,n]),r}function I8({page:e,matches:t,...n}){let r=Ps(),{future:i,manifest:a,routeModules:s}=rk(),{basename:o}=nk(),{loaderData:l,matches:u}=T8(),c=b.useMemo(()=>zT(e,t,u,a,r,"data"),[e,t,u,a,r]),f=b.useMemo(()=>zT(e,t,u,a,r,"assets"),[e,t,u,a,r]),h=b.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let x=new Set,v=!1;if(t.forEach(_=>{var C;let S=a.routes[_.route.id];!S||!S.hasLoader||(!c.some(P=>P.route.id===_.route.id)&&_.route.id in l&&((C=s[_.route.id])!=null&&C.shouldRevalidate)||S.hasClientLoader?v=!0:x.add(_.route.id))}),x.size===0)return[];let w=v8(e,o,i.unstable_trailingSlashAwareDataRequests,"data");return v&&x.size>0&&w.searchParams.set("_routes",t.filter(_=>x.has(_.route.id)).map(_=>_.route.id).join(",")),[w.pathname+w.search]},[o,i.unstable_trailingSlashAwareDataRequests,l,r,a,c,t,e,s]),p=b.useMemo(()=>w8(f,a),[f,a]),g=O8(f);return b.createElement(b.Fragment,null,h.map(x=>b.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),p.map(x=>b.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),g.map(({key:x,link:v})=>b.createElement("link",{key:x,nonce:n.nonce,...v,crossOrigin:v.crossOrigin??n.crossOrigin})))}function P8(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var R8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{R8&&(window.__reactRouterVersion="7.13.0")}catch{}function j8({basename:e,children:t,unstable_useTransitions:n,window:r}){let i=b.useRef();i.current==null&&(i.current=fB({window:r,v5Compat:!0}));let a=i.current,[s,o]=b.useState({action:a.action,location:a.location}),l=b.useCallback(u=>{n===!1?o(u):b.startTransition(()=>o(u))},[n]);return b.useLayoutEffect(()=>a.listen(l),[a,l]),b.createElement(u8,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:a,unstable_useTransitions:n})}var ik=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xt=b.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:s,state:o,target:l,to:u,preventScrollReset:c,viewTransition:f,unstable_defaultShouldRevalidate:h,...p},g){let{basename:x,unstable_useTransitions:v}=b.useContext(Pr),w=typeof u=="string"&&ik.test(u),_=Kj(u,x);u=_.to;let S=HB(u,{relative:i}),[C,P,O]=C8(r,p),A=M8(u,{replace:s,state:o,target:l,preventScrollReset:c,relative:i,viewTransition:f,unstable_defaultShouldRevalidate:h,unstable_useTransitions:v});function T(k){t&&t(k),k.defaultPrevented||A(k)}let N=b.createElement("a",{...p,...O,href:_.absoluteURL||S,onClick:_.isExternal||a?t:T,ref:P8(g,P),target:l,"data-discover":!w&&n==="render"?"true":void 0});return C&&!w?b.createElement(b.Fragment,null,N,b.createElement(N8,{page:S})):N});xt.displayName="Link";var Tn=b.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:s,viewTransition:o,children:l,...u},c){let f=fd(s,{relative:u.relative}),h=Ps(),p=b.useContext(Lg),{navigator:g,basename:x}=b.useContext(Pr),v=p!=null&&B8(f)&&o===!0,w=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,_=h.pathname,S=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(_=_.toLowerCase(),S=S?S.toLowerCase():null,w=w.toLowerCase()),S&&x&&(S=na(S,x)||S);const C=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let P=_===w||!i&&_.startsWith(w)&&_.charAt(C)==="/",O=S!=null&&(S===w||!i&&S.startsWith(w)&&S.charAt(w.length)==="/"),A={isActive:P,isPending:O,isTransitioning:v},T=P?t:void 0,N;typeof r=="function"?N=r(A):N=[r,P?"active":null,O?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let k=typeof a=="function"?a(A):a;return b.createElement(xt,{...u,"aria-current":T,className:N,ref:c,style:k,to:s,viewTransition:o},typeof l=="function"?l(A):l)});Tn.displayName="NavLink";var k8=b.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:a,method:s=mm,action:o,onSubmit:l,relative:u,preventScrollReset:c,viewTransition:f,unstable_defaultShouldRevalidate:h,...p},g)=>{let{unstable_useTransitions:x}=b.useContext(Pr),v=U8(),w=z8(o,{relative:u}),_=s.toLowerCase()==="get"?"get":"post",S=typeof o=="string"&&ik.test(o),C=P=>{if(l&&l(P),P.defaultPrevented)return;P.preventDefault();let O=P.nativeEvent.submitter,A=(O==null?void 0:O.getAttribute("formmethod"))||s,T=()=>v(O||P.currentTarget,{fetcherKey:t,method:A,navigate:n,replace:i,state:a,relative:u,preventScrollReset:c,viewTransition:f,unstable_defaultShouldRevalidate:h});x&&n!==!1?b.startTransition(()=>T()):T()};return b.createElement("form",{ref:g,method:_,action:w,onSubmit:r?l:C,...p,"data-discover":!S&&e==="render"?"true":void 0})});k8.displayName="Form";function D8(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ak(e){let t=b.useContext(xu);return et(t,D8(e)),t}function M8(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:s,unstable_defaultShouldRevalidate:o,unstable_useTransitions:l}={}){let u=Vg(),c=Ps(),f=fd(e,{relative:a});return b.useCallback(h=>{if(m8(h,t)){h.preventDefault();let p=n!==void 0?n:vf(c)===vf(f),g=()=>u(e,{replace:p,state:r,preventScrollReset:i,relative:a,viewTransition:s,unstable_defaultShouldRevalidate:o});l?b.startTransition(()=>g()):g()}},[c,u,f,n,r,t,e,i,a,s,o,l])}var L8=0,V8=()=>`__${String(++L8)}__`;function U8(){let{router:e}=ak("useSubmit"),{basename:t}=b.useContext(Pr),n=i8(),r=e.fetch,i=e.navigate;return b.useCallback(async(a,s={})=>{let{action:o,method:l,encType:u,formData:c,body:f}=y8(a,t);if(s.navigate===!1){let h=s.fetcherKey||V8();await r(h,n,s.action||o,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:c,body:f,formMethod:s.method||l,formEncType:s.encType||u,flushSync:s.flushSync})}else await i(s.action||o,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:c,body:f,formMethod:s.method||l,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[r,i,t,n])}function z8(e,{relative:t}={}){let{basename:n}=b.useContext(Pr),r=b.useContext(Si);et(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...fd(e||".",{relative:t})},s=Ps();if(e==null){a.search=s.search;let o=new URLSearchParams(a.search),l=o.getAll("index");if(l.some(c=>c==="")){o.delete("index"),l.filter(f=>f).forEach(f=>o.append("index",f));let c=o.toString();a.search=c?`?${c}`:""}}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Ki([n,a.pathname])),vf(a)}function B8(e,{relative:t}={}){let n=b.useContext(Wj);et(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=ak("useViewTransitionState"),i=fd(e,{relative:t});if(!n.isTransitioning)return!1;let a=na(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=na(n.nextLocation.pathname,r)||n.nextLocation.pathname;return lp(i.pathname,s)!=null||lp(i.pathname,a)!=null}const sk=b.createContext(),dd=()=>b.useContext(sk),$8=({children:e})=>{const[t,n]=b.useState(()=>{try{const u=localStorage.getItem("ambrosia_cart");return u?JSON.parse(u):[]}catch(u){return console.error("Failed to parse cart data:",u),[]}});b.useEffect(()=>{localStorage.setItem("ambrosia_cart",JSON.stringify(t))},[t]);const r=u=>{n(c=>{const f=c.find(h=>h.id===u.id);return f?f.quantity>=50?c:c.map(h=>h.id===u.id?{...h,quantity:h.quantity+1}:h):[...c,{...u,quantity:1}]})},i=u=>{n(c=>c.filter(f=>f.id!==u))},a=(u,c)=>{if(c<1){i(u);return}c>50||n(f=>f.map(h=>h.id===u?{...h,quantity:c}:h))},s=()=>n([]),o=t.reduce((u,c)=>u+c.price*c.quantity,0),l=t.reduce((u,c)=>u+c.quantity,0);return m.jsx(sk.Provider,{value:{cartItems:t,addToCart:r,removeFromCart:i,updateQuantity:a,clearCart:s,cartTotal:o,cartCount:l},children:e})},F8=()=>{};var BT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},q8=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[n++];t[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=e[n++],s=e[n++],o=e[n++],l=((i&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const a=e[n++],s=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return t.join("")},lk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const a=e[i],s=i+1<e.length,o=s?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=a>>2,f=(a&3)<<4|o>>4;let h=(o&15)<<2|u>>6,p=u&63;l||(p=64,s||(h=64)),r.push(n[c],n[f],n[h],n[p])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ok(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):q8(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const f=i<e.length?n[e.charAt(i)]:64;if(++i,a==null||o==null||u==null||f==null)throw new H8;const h=a<<2|o>>4;if(r.push(h),u!==64){const p=o<<4&240|u>>2;if(r.push(p),f!==64){const g=u<<6&192|f;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class H8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const G8=function(e){const t=ok(e);return lk.encodeByteArray(t,!0)},up=function(e){return G8(e).replace(/\./g,"")},uk=function(e){try{return lk.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y8=()=>K8().__FIREBASE_DEFAULTS__,W8=()=>{if(typeof process>"u"||typeof BT>"u")return;const e=BT.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},X8=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&uk(e[1]);return t&&JSON.parse(t)},zg=()=>{try{return F8()||Y8()||W8()||X8()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},ck=e=>{var t,n;return(n=(t=zg())==null?void 0:t.emulatorHosts)==null?void 0:n[e]},fk=e=>{const t=ck(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},dk=()=>{var e;return(e=zg())==null?void 0:e.config},hk=e=>{var t;return(t=zg())==null?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q8{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rs(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function _w(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mk(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...e};return[up(JSON.stringify(n)),up(JSON.stringify(s)),""].join(".")}const Wc={};function Z8(){const e={prod:[],emulator:[]};for(const t of Object.keys(Wc))Wc[t]?e.emulator.push(t):e.prod.push(t);return e}function J8(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let $T=!1;function xw(e,t){if(typeof window>"u"||typeof document>"u"||!Rs(window.location.host)||Wc[e]===t||Wc[e]||$T)return;Wc[e]=t;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",a=Z8().prod.length>0;function s(){const h=document.getElementById(r);h&&h.remove()}function o(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,p){h.setAttribute("width","24"),h.setAttribute("id",p),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function u(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{$T=!0,s()},h}function c(h,p){h.setAttribute("id",p),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=J8(r),p=n("text"),g=document.getElementById(p)||document.createElement("span"),x=n("learnmore"),v=document.getElementById(x)||document.createElement("a"),w=n("preprendIcon"),_=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const S=h.element;o(S),c(v,x);const C=u();l(_,w),S.append(_,g,v,C),document.body.appendChild(S)}a?(g.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function e$(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bn())}function t$(){var t;const e=(t=zg())==null?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function n$(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function r$(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function i$(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function a$(){const e=bn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function s$(){return!t$()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function o$(){try{return typeof indexedDB=="object"}catch{return!1}}function l$(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;t(((a=i.error)==null?void 0:a.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u$="FirebaseError";class Ai extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=u$,Object.setPrototypeOf(this,Ai.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hd.prototype.create)}}class hd{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,a=this.errors[t],s=a?c$(a,r):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new Ai(i,o,r)}}function c$(e,t){return e.replace(f$,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const f$=/\{\$([^}]+)}/g;function d$(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Eo(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const a=e[i],s=t[i];if(FT(a)&&FT(s)){if(!Eo(a,s))return!1}else if(a!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function FT(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function md(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Tc(e){const t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");t[decodeURIComponent(i)]=decodeURIComponent(a)}}),t}function Cc(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function h$(e,t){const n=new m$(e,t);return n.subscribe.bind(n)}class m${constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");p$(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=l0),i.error===void 0&&(i.error=l0),i.complete===void 0&&(i.complete=l0);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function p$(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function l0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(e){return e&&e._delegate?e._delegate:e}class _s{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let g$=class{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new Q8;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(v$(t))try{this.getOrInitializeService({instanceIdentifier:Xs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(t=Xs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Xs){return this.instances.has(t)}getOptions(t=Xs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);r===o&&s.resolve(i)}return i}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(t),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&t(a,r),()=>{i.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:y$(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Xs){return this.component?this.component.multipleInstances?t:Xs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function y$(e){return e===Xs?void 0:e}function v$(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b${constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new g$(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(pe||(pe={}));const _$={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},x$=pe.INFO,w$={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},E$=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=w$[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class ww{constructor(t){this.name=t,this._logLevel=x$,this._logHandler=E$,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in pe))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?_$[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...t),this._logHandler(this,pe.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...t),this._logHandler(this,pe.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...t),this._logHandler(this,pe.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...t),this._logHandler(this,pe.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...t),this._logHandler(this,pe.ERROR,...t)}}const S$=(e,t)=>t.some(n=>e instanceof n);let qT,HT;function A$(){return qT||(qT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function T$(){return HT||(HT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pk=new WeakMap,Hb=new WeakMap,gk=new WeakMap,u0=new WeakMap,Ew=new WeakMap;function C$(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",a),e.removeEventListener("error",s)},a=()=>{n(us(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",a),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&pk.set(n,e)}).catch(()=>{}),Ew.set(t,e),t}function N$(e){if(Hb.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",s),e.removeEventListener("abort",s)},a=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",a),e.addEventListener("error",s),e.addEventListener("abort",s)});Hb.set(e,t)}let Gb={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Hb.get(e);if(t==="objectStoreNames")return e.objectStoreNames||gk.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return us(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function O$(e){Gb=e(Gb)}function I$(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(c0(this),t,...n);return gk.set(r,t.sort?t.sort():[t]),us(r)}:T$().includes(e)?function(...t){return e.apply(c0(this),t),us(pk.get(this))}:function(...t){return us(e.apply(c0(this),t))}}function P$(e){return typeof e=="function"?I$(e):(e instanceof IDBTransaction&&N$(e),S$(e,A$())?new Proxy(e,Gb):e)}function us(e){if(e instanceof IDBRequest)return C$(e);if(u0.has(e))return u0.get(e);const t=P$(e);return t!==e&&(u0.set(e,t),Ew.set(t,e)),t}const c0=e=>Ew.get(e);function R$(e,t,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const s=indexedDB.open(e,t),o=us(s);return r&&s.addEventListener("upgradeneeded",l=>{r(us(s.result),l.oldVersion,l.newVersion,us(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const j$=["get","getKey","getAll","getAllKeys","count"],k$=["put","add","delete","clear"],f0=new Map;function GT(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(f0.get(t))return f0.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=k$.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||j$.includes(n)))return;const a=async function(s,...o){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(o.shift())),(await Promise.all([u[n](...o),i&&l.done]))[0]};return f0.set(t,a),a}O$(e=>({...e,get:(t,n,r)=>GT(t,n)||e.get(t,n,r),has:(t,n)=>!!GT(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D${constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(M$(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function M$(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Kb="@firebase/app",KT="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=new ww("@firebase/app"),L$="@firebase/app-compat",V$="@firebase/analytics-compat",U$="@firebase/analytics",z$="@firebase/app-check-compat",B$="@firebase/app-check",$$="@firebase/auth",F$="@firebase/auth-compat",q$="@firebase/database",H$="@firebase/data-connect",G$="@firebase/database-compat",K$="@firebase/functions",Y$="@firebase/functions-compat",W$="@firebase/installations",X$="@firebase/installations-compat",Q$="@firebase/messaging",Z$="@firebase/messaging-compat",J$="@firebase/performance",eF="@firebase/performance-compat",tF="@firebase/remote-config",nF="@firebase/remote-config-compat",rF="@firebase/storage",iF="@firebase/storage-compat",aF="@firebase/firestore",sF="@firebase/ai",oF="@firebase/firestore-compat",lF="firebase",uF="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb="[DEFAULT]",cF={[Kb]:"fire-core",[L$]:"fire-core-compat",[U$]:"fire-analytics",[V$]:"fire-analytics-compat",[B$]:"fire-app-check",[z$]:"fire-app-check-compat",[$$]:"fire-auth",[F$]:"fire-auth-compat",[q$]:"fire-rtdb",[H$]:"fire-data-connect",[G$]:"fire-rtdb-compat",[K$]:"fire-fn",[Y$]:"fire-fn-compat",[W$]:"fire-iid",[X$]:"fire-iid-compat",[Q$]:"fire-fcm",[Z$]:"fire-fcm-compat",[J$]:"fire-perf",[eF]:"fire-perf-compat",[tF]:"fire-rc",[nF]:"fire-rc-compat",[rF]:"fire-gcs",[iF]:"fire-gcs-compat",[aF]:"fire-fst",[oF]:"fire-fst-compat",[sF]:"fire-vertex","fire-js":"fire-js",[lF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp=new Map,fF=new Map,Wb=new Map;function YT(e,t){try{e.container.addComponent(t)}catch(n){ra.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function So(e){const t=e.name;if(Wb.has(t))return ra.debug(`There were multiple attempts to register component ${t}.`),!1;Wb.set(t,e);for(const n of cp.values())YT(n,e);for(const n of fF.values())YT(n,e);return!0}function Bg(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function _r(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cs=new hd("app","Firebase",dF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _s("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw cs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo=uF;function yk(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r={name:Yb,automaticDataCollectionEnabled:!0,...t},i=r.name;if(typeof i!="string"||!i)throw cs.create("bad-app-name",{appName:String(i)});if(n||(n=dk()),!n)throw cs.create("no-options");const a=cp.get(i);if(a){if(Eo(n,a.options)&&Eo(r,a.config))return a;throw cs.create("duplicate-app",{appName:i})}const s=new b$(i);for(const l of Wb.values())s.addComponent(l);const o=new hF(n,r,s);return cp.set(i,o),o}function Sw(e=Yb){const t=cp.get(e);if(!t&&e===Yb&&dk())return yk();if(!t)throw cs.create("no-app",{appName:e});return t}function li(e,t,n){let r=cF[e]??e;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=t.match(/\s|\//);if(i||a){const s=[`Unable to register library "${r}" with version "${t}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&s.push("and"),a&&s.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ra.warn(s.join(" "));return}So(new _s(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mF="firebase-heartbeat-database",pF=1,bf="firebase-heartbeat-store";let d0=null;function vk(){return d0||(d0=R$(mF,pF,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(bf)}catch(n){console.warn(n)}}}}).catch(e=>{throw cs.create("idb-open",{originalErrorMessage:e.message})})),d0}async function gF(e){try{const n=(await vk()).transaction(bf),r=await n.objectStore(bf).get(bk(e));return await n.done,r}catch(t){if(t instanceof Ai)ra.warn(t.message);else{const n=cs.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ra.warn(n.message)}}}async function WT(e,t){try{const r=(await vk()).transaction(bf,"readwrite");await r.objectStore(bf).put(t,bk(e)),await r.done}catch(n){if(n instanceof Ai)ra.warn(n.message);else{const r=cs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ra.warn(r.message)}}}function bk(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yF=1024,vF=30;class bF{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new xF(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=XT();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>vF){const s=wF(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ra.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=XT(),{heartbeatsToSend:r,unsentEntries:i}=_F(this._heartbeatsCache.heartbeats),a=up(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return ra.warn(n),""}}}function XT(){return new Date().toISOString().substring(0,10)}function _F(e,t=yF){const n=[];let r=e.slice();for(const i of e){const a=n.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),QT(n)>t){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),QT(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class xF{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return o$()?l$().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await gF(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return WT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return WT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function QT(e){return up(JSON.stringify({version:2,heartbeats:e})).length}function wF(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EF(e){So(new _s("platform-logger",t=>new D$(t),"PRIVATE")),So(new _s("heartbeat",t=>new bF(t),"PRIVATE")),li(Kb,KT,e),li(Kb,KT,"esm2020"),li("fire-js","")}EF("");var SF="firebase",AF="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */li(SF,AF,"app");function _k(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const TF=_k,xk=new hd("auth","Firebase",_k());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fp=new ww("@firebase/auth");function CF(e,...t){fp.logLevel<=pe.WARN&&fp.warn(`Auth (${Bo}): ${e}`,...t)}function gm(e,...t){fp.logLevel<=pe.ERROR&&fp.error(`Auth (${Bo}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(e,...t){throw Aw(e,...t)}function ui(e,...t){return Aw(e,...t)}function wk(e,t,n){const r={...TF(),[t]:n};return new hd("auth","Firebase",r).create(t,{appName:e.name})}function fs(e){return wk(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Aw(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return xk.create(e,...t)}function ne(e,t,...n){if(!e)throw Aw(t,...n)}function zi(e){const t="INTERNAL ASSERTION FAILED: "+e;throw gm(t),new Error(t)}function ia(e,t){e||zi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xb(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.href)||""}function NF(){return ZT()==="http:"||ZT()==="https:"}function ZT(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(NF()||r$()||"connection"in navigator)?navigator.onLine:!0}function IF(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(t,n){this.shortDelay=t,this.longDelay=n,ia(n>t,"Short delay should be less than long delay!"),this.isMobile=e$()||i$()}get(){return OF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tw(e,t){ia(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RF=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],jF=new pd(3e4,6e4);function $o(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function js(e,t,n,r,i={}){return Sk(e,i,async()=>{let a={},s={};r&&(t==="GET"?s=r:a={body:JSON.stringify(r)});const o=md({key:e.config.apiKey,...s}).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const u={method:t,headers:l,...a};return n$()||(u.referrerPolicy="no-referrer"),e.emulatorConfig&&Rs(e.emulatorConfig.host)&&(u.credentials="include"),Ek.fetch()(await Ak(e,e.config.apiHost,n,o),u)})}async function Sk(e,t,n){e._canInitEmulator=!1;const r={...PF,...t};try{const i=new DF(e),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw Oh(e,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const o=a.ok?s.errorMessage:s.error.message,[l,u]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Oh(e,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Oh(e,"email-already-in-use",s);if(l==="USER_DISABLED")throw Oh(e,"user-disabled",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw wk(e,c,u);$r(e,c)}}catch(i){if(i instanceof Ai)throw i;$r(e,"network-request-failed",{message:String(i)})}}async function $g(e,t,n,r,i={}){const a=await js(e,t,n,r,i);return"mfaPendingCredential"in a&&$r(e,"multi-factor-auth-required",{_serverResponse:a}),a}async function Ak(e,t,n,r){const i=`${t}${n}?${r}`,a=e,s=a.config.emulator?Tw(e.config,i):`${e.config.apiScheme}://${i}`;return RF.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(s).toString():s}function kF(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class DF{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ui(this.auth,"network-request-failed")),jF.get())})}}function Oh(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ui(e,t,r);return i.customData._tokenResponse=n,i}function JT(e){return e!==void 0&&e.enterprise!==void 0}class MF{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return kF(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function LF(e,t){return js(e,"GET","/v2/recaptchaConfig",$o(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VF(e,t){return js(e,"POST","/v1/accounts:delete",t)}async function dp(e,t){return js(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xc(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function UF(e,t=!1){const n=Ke(e),r=await n.getIdToken(t),i=Cw(r);ne(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Xc(h0(i.auth_time)),issuedAtTime:Xc(h0(i.iat)),expirationTime:Xc(h0(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function h0(e){return Number(e)*1e3}function Cw(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return gm("JWT malformed, contained fewer than 3 sections"),null;try{const i=uk(n);return i?JSON.parse(i):(gm("Failed to decode base64 JWT payload"),null)}catch(i){return gm("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function eC(e){const t=Cw(e);return ne(t,"internal-error"),ne(typeof t.exp<"u","internal-error"),ne(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _f(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof Ai&&zF(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function zF({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BF{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xc(this.lastLoginAt),this.creationTime=Xc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hp(e){var f;const t=e.auth,n=await e.getIdToken(),r=await _f(e,dp(t,{idToken:n}));ne(r==null?void 0:r.users.length,t,"internal-error");const i=r.users[0];e._notifyReloadListener(i);const a=(f=i.providerUserInfo)!=null&&f.length?Tk(i.providerUserInfo):[],s=FF(e.providerData,a),o=e.isAnonymous,l=!(e.email&&i.passwordHash)&&!(s!=null&&s.length),u=o?l:!1,c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Qb(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(e,c)}async function $F(e){const t=Ke(e);await hp(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function FF(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function Tk(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qF(e,t){const n=await Sk(e,{},async()=>{const r=md({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:a}=e.config,s=await Ak(e,i,"/v1/token",`key=${a}`),o=await e._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:r};return e.emulatorConfig&&Rs(e.emulatorConfig.host)&&(l.credentials="include"),Ek.fetch()(s,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function HF(e,t){return js(e,"POST","/v2/accounts:revokeToken",$o(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){ne(t.idToken,"internal-error"),ne(typeof t.idToken<"u","internal-error"),ne(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):eC(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){ne(t.length!==0,"internal-error");const n=eC(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ne(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await qF(t,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,s=new jl;return r&&(ne(typeof r=="string","internal-error",{appName:t}),s.refreshToken=r),i&&(ne(typeof i=="string","internal-error",{appName:t}),s.accessToken=i),a&&(ne(typeof a=="number","internal-error",{appName:t}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new jl,this.toJSON())}_performRefresh(){return zi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ra(e,t){ne(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Ur{constructor({uid:t,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new BF(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Qb(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){const n=await _f(this,this.stsTokenManager.getToken(this.auth,t));return ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return UF(this,t)}reload(){return $F(this)}_assign(t){this!==t&&(ne(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Ur({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await hp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_r(this.auth.app))return Promise.reject(fs(this.auth));const t=await this.getIdToken();return await _f(this,VF(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,s=n.photoURL??void 0,o=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,c=n.lastLoginAt??void 0,{uid:f,emailVerified:h,isAnonymous:p,providerData:g,stsTokenManager:x}=n;ne(f&&x,t,"internal-error");const v=jl.fromJSON(this.name,x);ne(typeof f=="string",t,"internal-error"),Ra(r,t.name),Ra(i,t.name),ne(typeof h=="boolean",t,"internal-error"),ne(typeof p=="boolean",t,"internal-error"),Ra(a,t.name),Ra(s,t.name),Ra(o,t.name),Ra(l,t.name),Ra(u,t.name),Ra(c,t.name);const w=new Ur({uid:f,auth:t,email:i,emailVerified:h,displayName:r,isAnonymous:p,photoURL:s,phoneNumber:a,tenantId:o,stsTokenManager:v,createdAt:u,lastLoginAt:c});return g&&Array.isArray(g)&&(w.providerData=g.map(_=>({..._}))),l&&(w._redirectEventId=l),w}static async _fromIdTokenResponse(t,n,r=!1){const i=new jl;i.updateFromServerResponse(n);const a=new Ur({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await hp(a),a}static async _fromGetAccountInfoResponse(t,n,r){const i=n.users[0];ne(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?Tk(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),o=new jl;o.updateFromIdToken(r);const l=new Ur({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Qb(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC=new Map;function Bi(e){ia(e instanceof Function,"Expected a class definition");let t=tC.get(e);return t?(ia(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,tC.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}Ck.type="NONE";const nC=Ck;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ym(e,t,n){return`firebase:${e}:${t}:${n}`}class kl{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=ym(this.userKey,i.apiKey,a),this.fullPersistenceKey=ym("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await dp(this.auth,{idToken:t}).catch(()=>{});return n?Ur._fromGetAccountInfoResponse(this.auth,n,t):null}return Ur._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new kl(Bi(nC),t,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=i[0]||Bi(nC);const s=ym(r,t.config.apiKey,t.name);let o=null;for(const u of n)try{const c=await u._get(s);if(c){let f;if(typeof c=="string"){const h=await dp(t,{idToken:c}).catch(()=>{});if(!h)break;f=await Ur._fromGetAccountInfoResponse(t,h,c)}else f=Ur._fromJSON(t,c);u!==a&&(o=f),a=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new kl(a,t,r):(a=l[0],o&&await a._set(s,o.toJSON()),await Promise.all(n.map(async u=>{if(u!==a)try{await u._remove(s)}catch{}})),new kl(a,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Pk(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Nk(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(jk(t))return"Blackberry";if(kk(t))return"Webos";if(Ok(t))return"Safari";if((t.includes("chrome/")||Ik(t))&&!t.includes("edge/"))return"Chrome";if(Rk(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Nk(e=bn()){return/firefox\//i.test(e)}function Ok(e=bn()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Ik(e=bn()){return/crios\//i.test(e)}function Pk(e=bn()){return/iemobile/i.test(e)}function Rk(e=bn()){return/android/i.test(e)}function jk(e=bn()){return/blackberry/i.test(e)}function kk(e=bn()){return/webos/i.test(e)}function Nw(e=bn()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function GF(e=bn()){var t;return Nw(e)&&!!((t=window.navigator)!=null&&t.standalone)}function KF(){return a$()&&document.documentMode===10}function Dk(e=bn()){return Nw(e)||Rk(e)||kk(e)||jk(e)||/windows phone/i.test(e)||Pk(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mk(e,t=[]){let n;switch(e){case"Browser":n=rC(bn());break;case"Worker":n=`${rC(bn())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Bo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=a=>new Promise((s,o)=>{try{const l=t(a);s(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WF(e,t={}){return js(e,"GET","/v2/passwordPolicy",$o(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XF=6;class QF{constructor(t){var r;const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??XF,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=t.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZF{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new iC(this),this.idTokenSubscription=new iC(this),this.beforeStateQueue=new YF(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Bi(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await kl.create(this,t),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await dp(this,{idToken:t}),r=await Ur._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var a;if(_r(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(a=this.redirectUser)==null?void 0:a._redirectEventId,o=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(t);(!s||s===o)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await hp(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=IF()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(_r(this.app))return Promise.reject(fs(this));const n=t?Ke(t):null;return n&&ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&ne(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return _r(this.app)?Promise.reject(fs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return _r(this.app)?Promise.reject(fs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await WF(this),n=new QF(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new hd("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await HF(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Bi(t)||this._popupRedirectResolver;ne(n,this,"argument-error"),this.redirectPersistenceManager=await kl.create(this,[Bi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(ne(o,this,"internal-error"),o.then(()=>{s||a(this.currentUser)}),typeof n=="function"){const l=t.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=t.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Mk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var n;if(_r(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return t!=null&&t.error&&CF(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function wu(e){return Ke(e)}class iC{constructor(t){this.auth=t,this.observer=null,this.addObserver=h$(n=>this.observer=n)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function JF(e){Fg=e}function Lk(e){return Fg.loadJS(e)}function e7(){return Fg.recaptchaEnterpriseScript}function t7(){return Fg.gapiScript}function n7(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class r7{constructor(){this.enterprise=new i7}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class i7{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const a7="recaptcha-enterprise",Vk="NO_RECAPTCHA";class s7{constructor(t){this.type=a7,this.auth=wu(t)}async verify(t="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,o)=>{LF(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const u=new MF(l);return a.tenantId==null?a._agentRecaptchaConfig=u:a._tenantRecaptchaConfigs[a.tenantId]=u,s(u.siteKey)}}).catch(l=>{o(l)})})}function i(a,s,o){const l=window.grecaptcha;JT(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:t}).then(u=>{s(u)}).catch(()=>{s(Vk)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new r7().execute("siteKey",{action:"verify"}):new Promise((a,s)=>{r(this.auth).then(o=>{if(!n&&JT(window.grecaptcha))i(o,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=e7();l.length!==0&&(l+=o),Lk(l).then(()=>{i(o,a,s)}).catch(u=>{s(u)})}}).catch(o=>{s(o)})})}}async function aC(e,t,n,r=!1,i=!1){const a=new s7(e);let s;if(i)s=Vk;else try{s=await a.verify(n)}catch{s=await a.verify(n,!0)}const o={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,u=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function sC(e,t,n,r,i){var a;if((a=e._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await aC(e,t,n,n==="getOobCode");return r(e,s)}else return r(e,t).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await aC(e,t,n,n==="getOobCode");return r(e,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o7(e,t){const n=Bg(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(Eo(a,t??{}))return i;$r(i,"already-initialized")}return n.initialize({options:t})}function l7(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Bi);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function u7(e,t,n){const r=wu(e);ne(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!1,a=Uk(t),{host:s,port:o}=c7(t),l=o===null?"":`:${o}`,u={url:`${a}//${s}${l}/`},c=Object.freeze({host:s,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ne(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ne(Eo(u,r.config.emulator)&&Eo(c,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=c,r.settings.appVerificationDisabledForTesting=!0,Rs(s)?(_w(`${a}//${s}${l}`),xw("Auth",!0)):f7()}function Uk(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function c7(e){const t=Uk(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:oC(r.substr(a.length+1))}}else{const[a,s]=r.split(":");return{host:a,port:oC(s)}}}function oC(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function f7(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return zi("not implemented")}_getIdTokenResponse(t){return zi("not implemented")}_linkToIdToken(t,n){return zi("not implemented")}_getReauthenticationResolver(t){return zi("not implemented")}}async function d7(e,t){return js(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h7(e,t){return $g(e,"POST","/v1/accounts:signInWithPassword",$o(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m7(e,t){return $g(e,"POST","/v1/accounts:signInWithEmailLink",$o(e,t))}async function p7(e,t){return $g(e,"POST","/v1/accounts:signInWithEmailLink",$o(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf extends Ow{constructor(t,n,r,i=null){super("password",r),this._email=t,this._password=n,this._tenantId=i}static _fromEmailAndPassword(t,n){return new xf(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new xf(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sC(t,n,"signInWithPassword",h7);case"emailLink":return m7(t,{email:this._email,oobCode:this._password});default:$r(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sC(t,r,"signUpPassword",d7);case"emailLink":return p7(t,{idToken:n,email:this._email,oobCode:this._password});default:$r(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dl(e,t){return $g(e,"POST","/v1/accounts:signInWithIdp",$o(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g7="http://localhost";class Ao extends Ow{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ao(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):$r("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const s=new Ao(r,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(t){const n=this.buildRequest();return Dl(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Dl(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Dl(t,n)}buildRequest(){const t={requestUri:g7,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=md(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y7(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function v7(e){const t=Tc(Cc(e)).link,n=t?Tc(Cc(t)).deep_link_id:null,r=Tc(Cc(e)).deep_link_id;return(r?Tc(Cc(r)).link:null)||r||n||t||e}class Iw{constructor(t){const n=Tc(Cc(t)),r=n.apiKey??null,i=n.oobCode??null,a=y7(n.mode??null);ne(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=v7(t);try{return new Iw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(){this.providerId=Eu.PROVIDER_ID}static credential(t,n){return xf._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=Iw.parseLink(n);return ne(r,"argument-error"),xf._fromEmailAndCode(t,r.code,r.tenantId)}}Eu.PROVIDER_ID="password";Eu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Eu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd extends zk{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba extends gd{constructor(){super("facebook.com")}static credential(t){return Ao._fromParams({providerId:Ba.PROVIDER_ID,signInMethod:Ba.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ba.credentialFromTaggedObject(t)}static credentialFromError(t){return Ba.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ba.credential(t.oauthAccessToken)}catch{return null}}}Ba.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ba.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a extends gd{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ao._fromParams({providerId:$a.PROVIDER_ID,signInMethod:$a.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return $a.credentialFromTaggedObject(t)}static credentialFromError(t){return $a.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return $a.credential(n,r)}catch{return null}}}$a.GOOGLE_SIGN_IN_METHOD="google.com";$a.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa extends gd{constructor(){super("github.com")}static credential(t){return Ao._fromParams({providerId:Fa.PROVIDER_ID,signInMethod:Fa.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Fa.credentialFromTaggedObject(t)}static credentialFromError(t){return Fa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Fa.credential(t.oauthAccessToken)}catch{return null}}}Fa.GITHUB_SIGN_IN_METHOD="github.com";Fa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa extends gd{constructor(){super("twitter.com")}static credential(t,n){return Ao._fromParams({providerId:qa.PROVIDER_ID,signInMethod:qa.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return qa.credentialFromTaggedObject(t)}static credentialFromError(t){return qa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return qa.credential(n,r)}catch{return null}}}qa.TWITTER_SIGN_IN_METHOD="twitter.com";qa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const a=await Ur._fromIdTokenResponse(t,r,i),s=lC(r);return new Ql({user:a,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=lC(r);return new Ql({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function lC(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp extends Ai{constructor(t,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,mp.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new mp(t,n,r,i)}}function Bk(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?mp._fromErrorAndOperation(e,a,t,r):a})}async function b7(e,t,n=!1){const r=await _f(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ql._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _7(e,t,n=!1){const{auth:r}=e;if(_r(r.app))return Promise.reject(fs(r));const i="reauthenticate";try{const a=await _f(e,Bk(r,i,t,e),n);ne(a.idToken,r,"internal-error");const s=Cw(a.idToken);ne(s,r,"internal-error");const{sub:o}=s;return ne(e.uid===o,r,"user-mismatch"),Ql._forOperation(e,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&$r(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $k(e,t,n=!1){if(_r(e.app))return Promise.reject(fs(e));const r="signIn",i=await Bk(e,r,t),a=await Ql._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(a.user),a}async function x7(e,t){return $k(wu(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w7(e){const t=wu(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function E7(e,t,n){return _r(e.app)?Promise.reject(fs(e)):x7(Ke(e),Eu.credential(t,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&w7(e),r})}function S7(e,t,n,r){return Ke(e).onIdTokenChanged(t,n,r)}function A7(e,t,n){return Ke(e).beforeAuthStateChanged(t,n)}function T7(e,t,n,r){return Ke(e).onAuthStateChanged(t,n,r)}function Zb(e){return Ke(e).signOut()}const pp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(pp,"1"),this.storage.removeItem(pp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C7=1e3,N7=10;class qk extends Fk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Dk(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((s,o,l)=>{this.notifyListeners(s,l)});return}const r=t.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},a=this.storage.getItem(r);KF()&&a!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,N7):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},C7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}qk.type="LOCAL";const O7=qk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk extends Fk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}Hk.type="SESSION";const Gk=Hk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I7(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new qg(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:a}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(s).map(async u=>u(n.origin,a)),l=await I7(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}qg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P7{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((o,l)=>{const u=Pw("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),o(h.data.response);break;default:clearTimeout(c),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(){return window}function R7(e){ci().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(){return typeof ci().WorkerGlobalScope<"u"&&typeof ci().importScripts=="function"}async function j7(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function k7(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)==null?void 0:e.controller)||null}function D7(){return Kk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yk="firebaseLocalStorageDb",M7=1,gp="firebaseLocalStorage",Wk="fbase_key";class yd{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Hg(e,t){return e.transaction([gp],t?"readwrite":"readonly").objectStore(gp)}function L7(){const e=indexedDB.deleteDatabase(Yk);return new yd(e).toPromise()}function Jb(){const e=indexedDB.open(Yk,M7);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(gp,{keyPath:Wk})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(gp)?t(r):(r.close(),await L7(),t(await Jb()))})})}async function uC(e,t,n){const r=Hg(e,!0).put({[Wk]:t,value:n});return new yd(r).toPromise()}async function V7(e,t){const n=Hg(e,!1).get(t),r=await new yd(n).toPromise();return r===void 0?null:r.value}function cC(e,t){const n=Hg(e,!0).delete(t);return new yd(n).toPromise()}const U7=800,z7=3;class Xk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jb(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>z7)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Kk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qg._getInstance(D7()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await j7(),!this.activeServiceWorker)return;this.sender=new P7(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(n=t[0])!=null&&n.fulfilled&&(r=t[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||k7()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Jb();return await uC(t,pp,"1"),await cC(t,pp),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>uC(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>V7(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>cC(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const a=Hg(i,!1).getAll();return new yd(a).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:i,value:a}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),U7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Xk.type="LOCAL";const B7=Xk;new pd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $7(e,t){return t?Bi(t):(ne(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw extends Ow{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Dl(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Dl(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Dl(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function F7(e){return $k(e.auth,new Rw(e),e.bypassAuthState)}function q7(e){const{auth:t,user:n}=e;return ne(n,t,"internal-error"),_7(n,new Rw(e),e.bypassAuthState)}async function H7(e){const{auth:t,user:n}=e;return ne(n,t,"internal-error"),b7(n,new Rw(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(t,n,r,i,a=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:s,type:o}=t;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return F7;case"linkViaPopup":case"linkViaRedirect":return H7;case"reauthViaPopup":case"reauthViaRedirect":return q7;default:$r(this.auth,"internal-error")}}resolve(t){ia(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ia(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G7=new pd(2e3,1e4);class wl extends Qk{constructor(t,n,r,i,a){super(t,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,wl.currentPopupAction&&wl.currentPopupAction.cancel(),wl.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return ne(t,this.auth,"internal-error"),t}async onExecution(){ia(this.filter.length===1,"Popup operations only handle one event");const t=Pw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ui(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(ui(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wl.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ui(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,G7.get())};t()}}wl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K7="pendingRedirect",vm=new Map;class Y7 extends Qk{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=vm.get(this.auth._key());if(!t){try{const r=await W7(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}vm.set(this.auth._key(),t)}return this.bypassAuthState||vm.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function W7(e,t){const n=Z7(t),r=Q7(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function X7(e,t){vm.set(e._key(),t)}function Q7(e){return Bi(e._redirectPersistence)}function Z7(e){return ym(K7,e.config.apiKey,e.name)}async function J7(e,t,n=!1){if(_r(e.app))return Promise.reject(fs(e));const r=wu(e),i=$7(r,t),s=await new Y7(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eq=10*60*1e3;class tq{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!nq(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!Zk(t)){const i=((r=t.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(ui(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=eq&&this.cachedEventUids.clear(),this.cachedEventUids.has(fC(t))}saveEventToCache(t){this.cachedEventUids.add(fC(t)),this.lastProcessedEventTime=Date.now()}}function fC(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function Zk({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function nq(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Zk(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rq(e,t={}){return js(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iq=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aq=/^https?/;async function sq(e){if(e.config.emulator)return;const{authorizedDomains:t}=await rq(e);for(const n of t)try{if(oq(n))return}catch{}$r(e,"unauthorized-domain")}function oq(e){const t=Xb(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const s=new URL(e);return s.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!aq.test(n))return!1;if(iq.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lq=new pd(3e4,6e4);function dC(){const e=ci().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function uq(e){return new Promise((t,n)=>{var i,a,s;function r(){dC(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{dC(),n(ui(e,"network-request-failed"))},timeout:lq.get()})}if((a=(i=ci().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)t(gapi.iframes.getContext());else if((s=ci().gapi)!=null&&s.load)r();else{const o=n7("iframefcb");return ci()[o]=()=>{gapi.load?r():n(ui(e,"network-request-failed"))},Lk(`${t7()}?onload=${o}`).catch(l=>n(l))}}).catch(t=>{throw bm=null,t})}let bm=null;function cq(e){return bm=bm||uq(e),bm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fq=new pd(5e3,15e3),dq="__/auth/iframe",hq="emulator/auth/iframe",mq={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pq=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gq(e){const t=e.config;ne(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Tw(t,hq):`https://${e.config.authDomain}/${dq}`,r={apiKey:t.apiKey,appName:e.name,v:Bo},i=pq.get(e.config.apiHost);i&&(r.eid=i);const a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${md(r).slice(1)}`}async function yq(e){const t=await cq(e),n=ci().gapi;return ne(n,e,"internal-error"),t.open({where:document.body,url:gq(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mq,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const s=ui(e,"network-request-failed"),o=ci().setTimeout(()=>{a(s)},fq.get());function l(){ci().clearTimeout(o),i(r)}r.ping(l).then(l,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vq={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},bq=500,_q=600,xq="_blank",wq="http://localhost";class hC{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Eq(e,t,n,r=bq,i=_q){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l={...vq,width:r.toString(),height:i.toString(),top:a,left:s},u=bn().toLowerCase();n&&(o=Ik(u)?xq:n),Nk(u)&&(t=t||wq,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[p,g])=>`${h}${p}=${g},`,"");if(GF(u)&&o!=="_self")return Sq(t||"",o),new hC(null);const f=window.open(t||"",o,c);ne(f,e,"popup-blocked");try{f.focus()}catch{}return new hC(f)}function Sq(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aq="__/auth/handler",Tq="emulator/auth/handler",Cq=encodeURIComponent("fac");async function mC(e,t,n,r,i,a){ne(e.config.authDomain,e,"auth-domain-config-required"),ne(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Bo,eventId:i};if(t instanceof zk){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",d$(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[c,f]of Object.entries({}))s[c]=f}if(t instanceof gd){const c=t.getScopes().filter(f=>f!=="");c.length>0&&(s.scopes=c.join(","))}e.tenantId&&(s.tid=e.tenantId);const o=s;for(const c of Object.keys(o))o[c]===void 0&&delete o[c];const l=await e._getAppCheckToken(),u=l?`#${Cq}=${encodeURIComponent(l)}`:"";return`${Nq(e)}?${md(o).slice(1)}${u}`}function Nq({config:e}){return e.emulator?Tw(e,Tq):`https://${e.authDomain}/${Aq}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0="webStorageSupport";class Oq{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Gk,this._completeRedirectFn=J7,this._overrideRedirectResult=X7}async _openPopup(t,n,r,i){var s;ia((s=this.eventManagers[t._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await mC(t,n,r,Xb(),i);return Eq(t,a,Pw())}async _openRedirect(t,n,r,i){await this._originValidation(t);const a=await mC(t,n,r,Xb(),i);return R7(a),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(ia(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await yq(t),r=new tq(t);return n.register("authEvent",i=>(ne(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(m0,{type:m0},i=>{var s;const a=(s=i==null?void 0:i[0])==null?void 0:s[m0];a!==void 0&&n(!!a),$r(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=sq(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return Dk()||Ok()||Nw()}}const Iq=Oq;var pC="@firebase/auth",gC="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pq{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rq(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jq(e){So(new _s("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),a=t.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=r.options;ne(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:o,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Mk(e)},u=new ZF(r,i,a,l);return l7(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),So(new _s("auth-internal",t=>{const n=wu(t.getProvider("auth").getImmediate());return(r=>new Pq(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),li(pC,gC,Rq(e)),li(pC,gC,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kq=5*60,Dq=hk("authIdTokenMaxAge")||kq;let yC=null;const Mq=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Dq)return;const i=n==null?void 0:n.token;yC!==i&&(yC=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Lq(e=Sw()){const t=Bg(e,"auth");if(t.isInitialized())return t.getImmediate();const n=o7(e,{popupRedirectResolver:Iq,persistence:[B7,O7,Gk]}),r=hk("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const s=Mq(a.toString());A7(n,s,()=>s(n.currentUser)),S7(n,o=>s(o))}}const i=ck("auth");return i&&u7(n,`http://${i}`),n}function Vq(){var e;return((e=document.getElementsByTagName("head"))==null?void 0:e[0])??document}JF({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const a=ui("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",Vq().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jq("Browser");var vC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ds,Jk;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(A,T){function N(){}N.prototype=T.prototype,A.F=T.prototype,A.prototype=new N,A.prototype.constructor=A,A.D=function(k,j,R){for(var D=Array(arguments.length-2),Z=2;Z<arguments.length;Z++)D[Z-2]=arguments[Z];return T.prototype[j].apply(k,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,T,N){N||(N=0);const k=Array(16);if(typeof T=="string")for(var j=0;j<16;++j)k[j]=T.charCodeAt(N++)|T.charCodeAt(N++)<<8|T.charCodeAt(N++)<<16|T.charCodeAt(N++)<<24;else for(j=0;j<16;++j)k[j]=T[N++]|T[N++]<<8|T[N++]<<16|T[N++]<<24;T=A.g[0],N=A.g[1],j=A.g[2];let R=A.g[3],D;D=T+(R^N&(j^R))+k[0]+3614090360&4294967295,T=N+(D<<7&4294967295|D>>>25),D=R+(j^T&(N^j))+k[1]+3905402710&4294967295,R=T+(D<<12&4294967295|D>>>20),D=j+(N^R&(T^N))+k[2]+606105819&4294967295,j=R+(D<<17&4294967295|D>>>15),D=N+(T^j&(R^T))+k[3]+3250441966&4294967295,N=j+(D<<22&4294967295|D>>>10),D=T+(R^N&(j^R))+k[4]+4118548399&4294967295,T=N+(D<<7&4294967295|D>>>25),D=R+(j^T&(N^j))+k[5]+1200080426&4294967295,R=T+(D<<12&4294967295|D>>>20),D=j+(N^R&(T^N))+k[6]+2821735955&4294967295,j=R+(D<<17&4294967295|D>>>15),D=N+(T^j&(R^T))+k[7]+4249261313&4294967295,N=j+(D<<22&4294967295|D>>>10),D=T+(R^N&(j^R))+k[8]+1770035416&4294967295,T=N+(D<<7&4294967295|D>>>25),D=R+(j^T&(N^j))+k[9]+2336552879&4294967295,R=T+(D<<12&4294967295|D>>>20),D=j+(N^R&(T^N))+k[10]+4294925233&4294967295,j=R+(D<<17&4294967295|D>>>15),D=N+(T^j&(R^T))+k[11]+2304563134&4294967295,N=j+(D<<22&4294967295|D>>>10),D=T+(R^N&(j^R))+k[12]+1804603682&4294967295,T=N+(D<<7&4294967295|D>>>25),D=R+(j^T&(N^j))+k[13]+4254626195&4294967295,R=T+(D<<12&4294967295|D>>>20),D=j+(N^R&(T^N))+k[14]+2792965006&4294967295,j=R+(D<<17&4294967295|D>>>15),D=N+(T^j&(R^T))+k[15]+1236535329&4294967295,N=j+(D<<22&4294967295|D>>>10),D=T+(j^R&(N^j))+k[1]+4129170786&4294967295,T=N+(D<<5&4294967295|D>>>27),D=R+(N^j&(T^N))+k[6]+3225465664&4294967295,R=T+(D<<9&4294967295|D>>>23),D=j+(T^N&(R^T))+k[11]+643717713&4294967295,j=R+(D<<14&4294967295|D>>>18),D=N+(R^T&(j^R))+k[0]+3921069994&4294967295,N=j+(D<<20&4294967295|D>>>12),D=T+(j^R&(N^j))+k[5]+3593408605&4294967295,T=N+(D<<5&4294967295|D>>>27),D=R+(N^j&(T^N))+k[10]+38016083&4294967295,R=T+(D<<9&4294967295|D>>>23),D=j+(T^N&(R^T))+k[15]+3634488961&4294967295,j=R+(D<<14&4294967295|D>>>18),D=N+(R^T&(j^R))+k[4]+3889429448&4294967295,N=j+(D<<20&4294967295|D>>>12),D=T+(j^R&(N^j))+k[9]+568446438&4294967295,T=N+(D<<5&4294967295|D>>>27),D=R+(N^j&(T^N))+k[14]+3275163606&4294967295,R=T+(D<<9&4294967295|D>>>23),D=j+(T^N&(R^T))+k[3]+4107603335&4294967295,j=R+(D<<14&4294967295|D>>>18),D=N+(R^T&(j^R))+k[8]+1163531501&4294967295,N=j+(D<<20&4294967295|D>>>12),D=T+(j^R&(N^j))+k[13]+2850285829&4294967295,T=N+(D<<5&4294967295|D>>>27),D=R+(N^j&(T^N))+k[2]+4243563512&4294967295,R=T+(D<<9&4294967295|D>>>23),D=j+(T^N&(R^T))+k[7]+1735328473&4294967295,j=R+(D<<14&4294967295|D>>>18),D=N+(R^T&(j^R))+k[12]+2368359562&4294967295,N=j+(D<<20&4294967295|D>>>12),D=T+(N^j^R)+k[5]+4294588738&4294967295,T=N+(D<<4&4294967295|D>>>28),D=R+(T^N^j)+k[8]+2272392833&4294967295,R=T+(D<<11&4294967295|D>>>21),D=j+(R^T^N)+k[11]+1839030562&4294967295,j=R+(D<<16&4294967295|D>>>16),D=N+(j^R^T)+k[14]+4259657740&4294967295,N=j+(D<<23&4294967295|D>>>9),D=T+(N^j^R)+k[1]+2763975236&4294967295,T=N+(D<<4&4294967295|D>>>28),D=R+(T^N^j)+k[4]+1272893353&4294967295,R=T+(D<<11&4294967295|D>>>21),D=j+(R^T^N)+k[7]+4139469664&4294967295,j=R+(D<<16&4294967295|D>>>16),D=N+(j^R^T)+k[10]+3200236656&4294967295,N=j+(D<<23&4294967295|D>>>9),D=T+(N^j^R)+k[13]+681279174&4294967295,T=N+(D<<4&4294967295|D>>>28),D=R+(T^N^j)+k[0]+3936430074&4294967295,R=T+(D<<11&4294967295|D>>>21),D=j+(R^T^N)+k[3]+3572445317&4294967295,j=R+(D<<16&4294967295|D>>>16),D=N+(j^R^T)+k[6]+76029189&4294967295,N=j+(D<<23&4294967295|D>>>9),D=T+(N^j^R)+k[9]+3654602809&4294967295,T=N+(D<<4&4294967295|D>>>28),D=R+(T^N^j)+k[12]+3873151461&4294967295,R=T+(D<<11&4294967295|D>>>21),D=j+(R^T^N)+k[15]+530742520&4294967295,j=R+(D<<16&4294967295|D>>>16),D=N+(j^R^T)+k[2]+3299628645&4294967295,N=j+(D<<23&4294967295|D>>>9),D=T+(j^(N|~R))+k[0]+4096336452&4294967295,T=N+(D<<6&4294967295|D>>>26),D=R+(N^(T|~j))+k[7]+1126891415&4294967295,R=T+(D<<10&4294967295|D>>>22),D=j+(T^(R|~N))+k[14]+2878612391&4294967295,j=R+(D<<15&4294967295|D>>>17),D=N+(R^(j|~T))+k[5]+4237533241&4294967295,N=j+(D<<21&4294967295|D>>>11),D=T+(j^(N|~R))+k[12]+1700485571&4294967295,T=N+(D<<6&4294967295|D>>>26),D=R+(N^(T|~j))+k[3]+2399980690&4294967295,R=T+(D<<10&4294967295|D>>>22),D=j+(T^(R|~N))+k[10]+4293915773&4294967295,j=R+(D<<15&4294967295|D>>>17),D=N+(R^(j|~T))+k[1]+2240044497&4294967295,N=j+(D<<21&4294967295|D>>>11),D=T+(j^(N|~R))+k[8]+1873313359&4294967295,T=N+(D<<6&4294967295|D>>>26),D=R+(N^(T|~j))+k[15]+4264355552&4294967295,R=T+(D<<10&4294967295|D>>>22),D=j+(T^(R|~N))+k[6]+2734768916&4294967295,j=R+(D<<15&4294967295|D>>>17),D=N+(R^(j|~T))+k[13]+1309151649&4294967295,N=j+(D<<21&4294967295|D>>>11),D=T+(j^(N|~R))+k[4]+4149444226&4294967295,T=N+(D<<6&4294967295|D>>>26),D=R+(N^(T|~j))+k[11]+3174756917&4294967295,R=T+(D<<10&4294967295|D>>>22),D=j+(T^(R|~N))+k[2]+718787259&4294967295,j=R+(D<<15&4294967295|D>>>17),D=N+(R^(j|~T))+k[9]+3951481745&4294967295,A.g[0]=A.g[0]+T&4294967295,A.g[1]=A.g[1]+(j+(D<<21&4294967295|D>>>11))&4294967295,A.g[2]=A.g[2]+j&4294967295,A.g[3]=A.g[3]+R&4294967295}r.prototype.v=function(A,T){T===void 0&&(T=A.length);const N=T-this.blockSize,k=this.C;let j=this.h,R=0;for(;R<T;){if(j==0)for(;R<=N;)i(this,A,R),R+=this.blockSize;if(typeof A=="string"){for(;R<T;)if(k[j++]=A.charCodeAt(R++),j==this.blockSize){i(this,k),j=0;break}}else for(;R<T;)if(k[j++]=A[R++],j==this.blockSize){i(this,k),j=0;break}}this.h=j,this.o+=T},r.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var T=1;T<A.length-8;++T)A[T]=0;T=this.o*8;for(var N=A.length-8;N<A.length;++N)A[N]=T&255,T/=256;for(this.v(A),A=Array(16),T=0,N=0;N<4;++N)for(let k=0;k<32;k+=8)A[T++]=this.g[N]>>>k&255;return A};function a(A,T){var N=o;return Object.prototype.hasOwnProperty.call(N,A)?N[A]:N[A]=T(A)}function s(A,T){this.h=T;const N=[];let k=!0;for(let j=A.length-1;j>=0;j--){const R=A[j]|0;k&&R==T||(N[j]=R,k=!1)}this.g=N}var o={};function l(A){return-128<=A&&A<128?a(A,function(T){return new s([T|0],T<0?-1:0)}):new s([A|0],A<0?-1:0)}function u(A){if(isNaN(A)||!isFinite(A))return f;if(A<0)return v(u(-A));const T=[];let N=1;for(let k=0;A>=N;k++)T[k]=A/N|0,N*=4294967296;return new s(T,0)}function c(A,T){if(A.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(A.charAt(0)=="-")return v(c(A.substring(1),T));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=u(Math.pow(T,8));let k=f;for(let R=0;R<A.length;R+=8){var j=Math.min(8,A.length-R);const D=parseInt(A.substring(R,R+j),T);j<8?(j=u(Math.pow(T,j)),k=k.j(j).add(u(D))):(k=k.j(N),k=k.add(u(D)))}return k}var f=l(0),h=l(1),p=l(16777216);e=s.prototype,e.m=function(){if(x(this))return-v(this).m();let A=0,T=1;for(let N=0;N<this.g.length;N++){const k=this.i(N);A+=(k>=0?k:4294967296+k)*T,T*=4294967296}return A},e.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(g(this))return"0";if(x(this))return"-"+v(this).toString(A);const T=u(Math.pow(A,6));var N=this;let k="";for(;;){const j=C(N,T).g;N=w(N,j.j(T));let R=((N.g.length>0?N.g[0]:N.h)>>>0).toString(A);if(N=j,g(N))return R+k;for(;R.length<6;)R="0"+R;k=R+k}},e.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function g(A){if(A.h!=0)return!1;for(let T=0;T<A.g.length;T++)if(A.g[T]!=0)return!1;return!0}function x(A){return A.h==-1}e.l=function(A){return A=w(this,A),x(A)?-1:g(A)?0:1};function v(A){const T=A.g.length,N=[];for(let k=0;k<T;k++)N[k]=~A.g[k];return new s(N,~A.h).add(h)}e.abs=function(){return x(this)?v(this):this},e.add=function(A){const T=Math.max(this.g.length,A.g.length),N=[];let k=0;for(let j=0;j<=T;j++){let R=k+(this.i(j)&65535)+(A.i(j)&65535),D=(R>>>16)+(this.i(j)>>>16)+(A.i(j)>>>16);k=D>>>16,R&=65535,D&=65535,N[j]=D<<16|R}return new s(N,N[N.length-1]&-2147483648?-1:0)};function w(A,T){return A.add(v(T))}e.j=function(A){if(g(this)||g(A))return f;if(x(this))return x(A)?v(this).j(v(A)):v(v(this).j(A));if(x(A))return v(this.j(v(A)));if(this.l(p)<0&&A.l(p)<0)return u(this.m()*A.m());const T=this.g.length+A.g.length,N=[];for(var k=0;k<2*T;k++)N[k]=0;for(k=0;k<this.g.length;k++)for(let j=0;j<A.g.length;j++){const R=this.i(k)>>>16,D=this.i(k)&65535,Z=A.i(j)>>>16,oe=A.i(j)&65535;N[2*k+2*j]+=D*oe,_(N,2*k+2*j),N[2*k+2*j+1]+=R*oe,_(N,2*k+2*j+1),N[2*k+2*j+1]+=D*Z,_(N,2*k+2*j+1),N[2*k+2*j+2]+=R*Z,_(N,2*k+2*j+2)}for(A=0;A<T;A++)N[A]=N[2*A+1]<<16|N[2*A];for(A=T;A<2*T;A++)N[A]=0;return new s(N,0)};function _(A,T){for(;(A[T]&65535)!=A[T];)A[T+1]+=A[T]>>>16,A[T]&=65535,T++}function S(A,T){this.g=A,this.h=T}function C(A,T){if(g(T))throw Error("division by zero");if(g(A))return new S(f,f);if(x(A))return T=C(v(A),T),new S(v(T.g),v(T.h));if(x(T))return T=C(A,v(T)),new S(v(T.g),T.h);if(A.g.length>30){if(x(A)||x(T))throw Error("slowDivide_ only works with positive integers.");for(var N=h,k=T;k.l(A)<=0;)N=P(N),k=P(k);var j=O(N,1),R=O(k,1);for(k=O(k,2),N=O(N,2);!g(k);){var D=R.add(k);D.l(A)<=0&&(j=j.add(N),R=D),k=O(k,1),N=O(N,1)}return T=w(A,j.j(T)),new S(j,T)}for(j=f;A.l(T)>=0;){for(N=Math.max(1,Math.floor(A.m()/T.m())),k=Math.ceil(Math.log(N)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),R=u(N),D=R.j(T);x(D)||D.l(A)>0;)N-=k,R=u(N),D=R.j(T);g(R)&&(R=h),j=j.add(R),A=w(A,D)}return new S(j,A)}e.B=function(A){return C(this,A).h},e.and=function(A){const T=Math.max(this.g.length,A.g.length),N=[];for(let k=0;k<T;k++)N[k]=this.i(k)&A.i(k);return new s(N,this.h&A.h)},e.or=function(A){const T=Math.max(this.g.length,A.g.length),N=[];for(let k=0;k<T;k++)N[k]=this.i(k)|A.i(k);return new s(N,this.h|A.h)},e.xor=function(A){const T=Math.max(this.g.length,A.g.length),N=[];for(let k=0;k<T;k++)N[k]=this.i(k)^A.i(k);return new s(N,this.h^A.h)};function P(A){const T=A.g.length+1,N=[];for(let k=0;k<T;k++)N[k]=A.i(k)<<1|A.i(k-1)>>>31;return new s(N,A.h)}function O(A,T){const N=T>>5;T%=32;const k=A.g.length-N,j=[];for(let R=0;R<k;R++)j[R]=T>0?A.i(R+N)>>>T|A.i(R+N+1)<<32-T:A.i(R+N);return new s(j,A.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Jk=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=c,ds=s}).apply(typeof vC<"u"?vC:typeof self<"u"?self:typeof window<"u"?window:{});var Ih=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var eD,Nc,tD,_m,e_,nD,rD,iD;(function(){var e,t=Object.defineProperty;function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ih=="object"&&Ih];for(var y=0;y<d.length;++y){var E=d[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function i(d,y){if(y)e:{var E=r;d=d.split(".");for(var I=0;I<d.length-1;I++){var M=d[I];if(!(M in E))break e;E=E[M]}d=d[d.length-1],I=E[d],y=y(I),y!=I&&y!=null&&t(E,d,{configurable:!0,writable:!0,value:y})}}i("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(d){return d||function(y){var E=[],I;for(I in y)Object.prototype.hasOwnProperty.call(y,I)&&E.push([I,y[I]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function o(d){var y=typeof d;return y=="object"&&d!=null||y=="function"}function l(d,y,E){return d.call.apply(d.bind,arguments)}function u(d,y,E){return u=l,u.apply(null,arguments)}function c(d,y){var E=Array.prototype.slice.call(arguments,1);return function(){var I=E.slice();return I.push.apply(I,arguments),d.apply(this,I)}}function f(d,y){function E(){}E.prototype=y.prototype,d.Z=y.prototype,d.prototype=new E,d.prototype.constructor=d,d.Ob=function(I,M,L){for(var H=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)H[fe-2]=arguments[fe];return y.prototype[M].apply(I,H)}}var h=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function p(d){const y=d.length;if(y>0){const E=Array(y);for(let I=0;I<y;I++)E[I]=d[I];return E}return[]}function g(d,y){for(let I=1;I<arguments.length;I++){const M=arguments[I];var E=typeof M;if(E=E!="object"?E:M?Array.isArray(M)?"array":E:"null",E=="array"||E=="object"&&typeof M.length=="number"){E=d.length||0;const L=M.length||0;d.length=E+L;for(let H=0;H<L;H++)d[E+H]=M[H]}else d.push(M)}}class x{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function v(d){s.setTimeout(()=>{throw d},0)}function w(){var d=A;let y=null;return d.g&&(y=d.g,d.g=d.g.next,d.g||(d.h=null),y.next=null),y}class _{constructor(){this.h=this.g=null}add(y,E){const I=S.get();I.set(y,E),this.h?this.h.next=I:this.g=I,this.h=I}}var S=new x(()=>new C,d=>d.reset());class C{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let P,O=!1,A=new _,T=()=>{const d=Promise.resolve(void 0);P=()=>{d.then(N)}};function N(){for(var d;d=w();){try{d.h.call(d.g)}catch(E){v(E)}var y=S;y.j(d),y.h<100&&(y.h++,d.next=y.g,y.g=d)}O=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(d,y){this.type=d,this.g=this.target=y,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var R=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var d=!1,y=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};s.addEventListener("test",E,y),s.removeEventListener("test",E,y)}catch{}return d}();function D(d){return/^[\s\xa0]*$/.test(d)}function Z(d,y){j.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,y)}f(Z,j),Z.prototype.init=function(d,y){const E=this.type=d.type,I=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=y,y=d.relatedTarget,y||(E=="mouseover"?y=d.fromElement:E=="mouseout"&&(y=d.toElement)),this.relatedTarget=y,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&Z.Z.h.call(this)},Z.prototype.h=function(){Z.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var oe="closure_listenable_"+(Math.random()*1e6|0),q=0;function K(d,y,E,I,M){this.listener=d,this.proxy=null,this.src=y,this.type=E,this.capture=!!I,this.ha=M,this.key=++q,this.da=this.fa=!1}function W(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function te(d,y,E){for(const I in d)y.call(E,d[I],I,d)}function le(d,y){for(const E in d)y.call(void 0,d[E],E,d)}function We(d){const y={};for(const E in d)y[E]=d[E];return y}const ut="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function jt(d,y){let E,I;for(let M=1;M<arguments.length;M++){I=arguments[M];for(E in I)d[E]=I[E];for(let L=0;L<ut.length;L++)E=ut[L],Object.prototype.hasOwnProperty.call(I,E)&&(d[E]=I[E])}}function je(d){this.src=d,this.g={},this.h=0}je.prototype.add=function(d,y,E,I,M){const L=d.toString();d=this.g[L],d||(d=this.g[L]=[],this.h++);const H=Ci(d,y,I,M);return H>-1?(y=d[H],E||(y.fa=!1)):(y=new K(y,this.src,L,!!I,M),y.fa=E,d.push(y)),y};function dn(d,y){const E=y.type;if(E in d.g){var I=d.g[E],M=Array.prototype.indexOf.call(I,y,void 0),L;(L=M>=0)&&Array.prototype.splice.call(I,M,1),L&&(W(y),d.g[E].length==0&&(delete d.g[E],d.h--))}}function Ci(d,y,E,I){for(let M=0;M<d.length;++M){const L=d[M];if(!L.da&&L.listener==y&&L.capture==!!E&&L.ha==I)return M}return-1}var kt="closure_lm_"+(Math.random()*1e6|0),Vs={};function $(d,y,E,I,M){if(Array.isArray(y)){for(let L=0;L<y.length;L++)$(d,y[L],E,I,M);return null}return E=zu(E),d&&d[oe]?d.J(y,E,o(I)?!!I.capture:!1,M):de(d,y,E,!1,I,M)}function de(d,y,E,I,M,L){if(!y)throw Error("Invalid event type");const H=o(M)?!!M.capture:!!M;let fe=Yt(d);if(fe||(d[kt]=fe=new je(d)),E=fe.add(y,E,I,H,L),E.proxy)return E;if(I=xe(),E.proxy=I,I.src=d,I.listener=E,d.addEventListener)R||(M=H),M===void 0&&(M=!1),d.addEventListener(y.toString(),I,M);else if(d.attachEvent)d.attachEvent(Ce(y.toString()),I);else if(d.addListener&&d.removeListener)d.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return E}function xe(){function d(E){return y.call(d.src,d.listener,E)}const y=xn;return d}function F(d,y,E,I,M){if(Array.isArray(y))for(var L=0;L<y.length;L++)F(d,y[L],E,I,M);else I=o(I)?!!I.capture:!!I,E=zu(E),d&&d[oe]?(d=d.i,L=String(y).toString(),L in d.g&&(y=d.g[L],E=Ci(y,E,I,M),E>-1&&(W(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete d.g[L],d.h--)))):d&&(d=Yt(d))&&(y=d.g[y.toString()],d=-1,y&&(d=Ci(y,E,I,M)),(E=d>-1?y[d]:null)&&Dt(E))}function Dt(d){if(typeof d!="number"&&d&&!d.da){var y=d.src;if(y&&y[oe])dn(y.i,d);else{var E=d.type,I=d.proxy;y.removeEventListener?y.removeEventListener(E,I,d.capture):y.detachEvent?y.detachEvent(Ce(E),I):y.addListener&&y.removeListener&&y.removeListener(I),(E=Yt(y))?(dn(E,d),E.h==0&&(E.src=null,y[kt]=null)):W(d)}}}function Ce(d){return d in Vs?Vs[d]:Vs[d]="on"+d}function xn(d,y){if(d.da)d=!0;else{y=new Z(y,this);const E=d.listener,I=d.ha||d.src;d.fa&&Dt(d),d=E.call(I,y)}return d}function Yt(d){return d=d[kt],d instanceof je?d:null}var jr="__closure_events_fn_"+(Math.random()*1e9>>>0);function zu(d){return typeof d=="function"?d:(d[jr]||(d[jr]=function(y){return d.handleEvent(y)}),d[jr])}function hn(){k.call(this),this.i=new je(this),this.M=this,this.G=null}f(hn,k),hn.prototype[oe]=!0,hn.prototype.removeEventListener=function(d,y,E,I){F(this,d,y,E,I)};function wn(d,y){var E,I=d.G;if(I)for(E=[];I;I=I.G)E.push(I);if(d=d.M,I=y.type||y,typeof y=="string")y=new j(y,d);else if(y instanceof j)y.target=y.target||d;else{var M=y;y=new j(I,d),jt(y,M)}M=!0;let L,H;if(E)for(H=E.length-1;H>=0;H--)L=y.g=E[H],M=eh(L,I,!0,y)&&M;if(L=y.g=d,M=eh(L,I,!0,y)&&M,M=eh(L,I,!1,y)&&M,E)for(H=0;H<E.length;H++)L=y.g=E[H],M=eh(L,I,!1,y)&&M}hn.prototype.N=function(){if(hn.Z.N.call(this),this.i){var d=this.i;for(const y in d.g){const E=d.g[y];for(let I=0;I<E.length;I++)W(E[I]);delete d.g[y],d.h--}}this.G=null},hn.prototype.J=function(d,y,E,I){return this.i.add(String(d),y,!1,E,I)},hn.prototype.K=function(d,y,E,I){return this.i.add(String(d),y,!0,E,I)};function eh(d,y,E,I){if(y=d.i.g[String(y)],!y)return!0;y=y.concat();let M=!0;for(let L=0;L<y.length;++L){const H=y[L];if(H&&!H.da&&H.capture==E){const fe=H.listener,Tt=H.ha||H.src;H.fa&&dn(d.i,H),M=fe.call(Tt,I)!==!1&&M}}return M&&!I.defaultPrevented}function U5(d,y){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=u(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:s.setTimeout(d,y||0)}function dS(d){d.g=U5(()=>{d.g=null,d.i&&(d.i=!1,dS(d))},d.l);const y=d.h;d.h=null,d.m.apply(null,y)}class z5 extends k{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:dS(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bu(d){k.call(this),this.h=d,this.g={}}f(Bu,k);var hS=[];function mS(d){te(d.g,function(y,E){this.g.hasOwnProperty(E)&&Dt(y)},d),d.g={}}Bu.prototype.N=function(){Bu.Z.N.call(this),mS(this)},Bu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var iv=s.JSON.stringify,B5=s.JSON.parse,$5=class{stringify(d){return s.JSON.stringify(d,void 0)}parse(d){return s.JSON.parse(d,void 0)}};function pS(){}function gS(){}var $u={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function av(){j.call(this,"d")}f(av,j);function sv(){j.call(this,"c")}f(sv,j);var Us={},yS=null;function th(){return yS=yS||new hn}Us.Ia="serverreachability";function vS(d){j.call(this,Us.Ia,d)}f(vS,j);function Fu(d){const y=th();wn(y,new vS(y))}Us.STAT_EVENT="statevent";function bS(d,y){j.call(this,Us.STAT_EVENT,d),this.stat=y}f(bS,j);function En(d){const y=th();wn(y,new bS(y,d))}Us.Ja="timingevent";function _S(d,y){j.call(this,Us.Ja,d),this.size=y}f(_S,j);function qu(d,y){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){d()},y)}function Hu(){this.g=!0}Hu.prototype.ua=function(){this.g=!1};function F5(d,y,E,I,M,L){d.info(function(){if(d.g)if(L){var H="",fe=L.split("&");for(let ke=0;ke<fe.length;ke++){var Tt=fe[ke].split("=");if(Tt.length>1){const Mt=Tt[0];Tt=Tt[1];const Wr=Mt.split("_");H=Wr.length>=2&&Wr[1]=="type"?H+(Mt+"="+Tt+"&"):H+(Mt+"=redacted&")}}}else H=null;else H=L;return"XMLHTTP REQ ("+I+") [attempt "+M+"]: "+y+`
`+E+`
`+H})}function q5(d,y,E,I,M,L,H){d.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+M+"]: "+y+`
`+E+`
`+L+" "+H})}function Ko(d,y,E,I){d.info(function(){return"XMLHTTP TEXT ("+y+"): "+G5(d,E)+(I?" "+I:"")})}function H5(d,y){d.info(function(){return"TIMEOUT: "+y})}Hu.prototype.info=function(){};function G5(d,y){if(!d.g)return y;if(!y)return null;try{const L=JSON.parse(y);if(L){for(d=0;d<L.length;d++)if(Array.isArray(L[d])){var E=L[d];if(!(E.length<2)){var I=E[1];if(Array.isArray(I)&&!(I.length<1)){var M=I[0];if(M!="noop"&&M!="stop"&&M!="close")for(let H=1;H<I.length;H++)I[H]=""}}}}return iv(L)}catch{return y}}var nh={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},xS={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},wS;function ov(){}f(ov,pS),ov.prototype.g=function(){return new XMLHttpRequest},wS=new ov;function Gu(d){return encodeURIComponent(String(d))}function K5(d){var y=1;d=d.split(":");const E=[];for(;y>0&&d.length;)E.push(d.shift()),y--;return d.length&&E.push(d.join(":")),E}function Aa(d,y,E,I){this.j=d,this.i=y,this.l=E,this.S=I||1,this.V=new Bu(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ES}function ES(){this.i=null,this.g="",this.h=!1}var SS={},lv={};function uv(d,y,E){d.M=1,d.A=ih(Yr(y)),d.u=E,d.R=!0,AS(d,null)}function AS(d,y){d.F=Date.now(),rh(d),d.B=Yr(d.A);var E=d.B,I=d.S;Array.isArray(I)||(I=[String(I)]),VS(E.i,"t",I),d.C=0,E=d.j.L,d.h=new ES,d.g=nA(d.j,E?y:null,!d.u),d.P>0&&(d.O=new z5(u(d.Y,d,d.g),d.P)),y=d.V,E=d.g,I=d.ba;var M="readystatechange";Array.isArray(M)||(M&&(hS[0]=M.toString()),M=hS);for(let L=0;L<M.length;L++){const H=$(E,M[L],I||y.handleEvent,!1,y.h||y);if(!H)break;y.g[H.key]=H}y=d.J?We(d.J):{},d.u?(d.v||(d.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,y)):(d.v="GET",d.g.ea(d.B,d.v,null,y)),Fu(),F5(d.i,d.v,d.B,d.l,d.S,d.u)}Aa.prototype.ba=function(d){d=d.target;const y=this.O;y&&Na(d)==3?y.j():this.Y(d)},Aa.prototype.Y=function(d){try{if(d==this.g)e:{const fe=Na(this.g),Tt=this.g.ya(),ke=this.g.ca();if(!(fe<3)&&(fe!=3||this.g&&(this.h.h||this.g.la()||HS(this.g)))){this.K||fe!=4||Tt==7||(Tt==8||ke<=0?Fu(3):Fu(2)),cv(this);var y=this.g.ca();this.X=y;var E=Y5(this);if(this.o=y==200,q5(this.i,this.v,this.B,this.l,this.S,fe,y),this.o){if(this.U&&!this.L){t:{if(this.g){var I,M=this.g;if((I=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(I)){var L=I;break t}}L=null}if(d=L)Ko(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,fv(this,d);else{this.o=!1,this.m=3,En(12),zs(this),Ku(this);break e}}if(this.R){d=!0;let Mt;for(;!this.K&&this.C<E.length;)if(Mt=W5(this,E),Mt==lv){fe==4&&(this.m=4,En(14),d=!1),Ko(this.i,this.l,null,"[Incomplete Response]");break}else if(Mt==SS){this.m=4,En(15),Ko(this.i,this.l,E,"[Invalid Chunk]"),d=!1;break}else Ko(this.i,this.l,Mt,null),fv(this,Mt);if(TS(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),fe!=4||E.length!=0||this.h.h||(this.m=1,En(16),d=!1),this.o=this.o&&d,!d)Ko(this.i,this.l,E,"[Invalid Chunked Response]"),zs(this),Ku(this);else if(E.length>0&&!this.W){this.W=!0;var H=this.j;H.g==this&&H.aa&&!H.P&&(H.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),bv(H),H.P=!0,En(11))}}else Ko(this.i,this.l,E,null),fv(this,E);fe==4&&zs(this),this.o&&!this.K&&(fe==4?ZS(this.j,this):(this.o=!1,rh(this)))}else uU(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,En(12)):(this.m=0,En(13)),zs(this),Ku(this)}}}catch{}finally{}};function Y5(d){if(!TS(d))return d.g.la();const y=HS(d.g);if(y==="")return"";let E="";const I=y.length,M=Na(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return zs(d),Ku(d),"";d.h.i=new s.TextDecoder}for(let L=0;L<I;L++)d.h.h=!0,E+=d.h.i.decode(y[L],{stream:!(M&&L==I-1)});return y.length=0,d.h.g+=E,d.C=0,d.h.g}function TS(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function W5(d,y){var E=d.C,I=y.indexOf(`
`,E);return I==-1?lv:(E=Number(y.substring(E,I)),isNaN(E)?SS:(I+=1,I+E>y.length?lv:(y=y.slice(I,I+E),d.C=I+E,y)))}Aa.prototype.cancel=function(){this.K=!0,zs(this)};function rh(d){d.T=Date.now()+d.H,CS(d,d.H)}function CS(d,y){if(d.D!=null)throw Error("WatchDog timer not null");d.D=qu(u(d.aa,d),y)}function cv(d){d.D&&(s.clearTimeout(d.D),d.D=null)}Aa.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(H5(this.i,this.B),this.M!=2&&(Fu(),En(17)),zs(this),this.m=2,Ku(this)):CS(this,this.T-d)};function Ku(d){d.j.I==0||d.K||ZS(d.j,d)}function zs(d){cv(d);var y=d.O;y&&typeof y.dispose=="function"&&y.dispose(),d.O=null,mS(d.V),d.g&&(y=d.g,d.g=null,y.abort(),y.dispose())}function fv(d,y){try{var E=d.j;if(E.I!=0&&(E.g==d||dv(E.h,d))){if(!d.L&&dv(E.h,d)&&E.I==3){try{var I=E.Ba.g.parse(y)}catch{I=null}if(Array.isArray(I)&&I.length==3){var M=I;if(M[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<d.F)uh(E),oh(E);else break e;vv(E),En(18)}}else E.xa=M[1],0<E.xa-E.K&&M[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=qu(u(E.Va,E),6e3));IS(E.h)<=1&&E.ta&&(E.ta=void 0)}else $s(E,11)}else if((d.L||E.g==d)&&uh(E),!D(y))for(M=E.Ba.g.parse(y),y=0;y<M.length;y++){let ke=M[y];const Mt=ke[0];if(!(Mt<=E.K))if(E.K=Mt,ke=ke[1],E.I==2)if(ke[0]=="c"){E.M=ke[1],E.ba=ke[2];const Wr=ke[3];Wr!=null&&(E.ka=Wr,E.j.info("VER="+E.ka));const Fs=ke[4];Fs!=null&&(E.za=Fs,E.j.info("SVER="+E.za));const Oa=ke[5];Oa!=null&&typeof Oa=="number"&&Oa>0&&(I=1.5*Oa,E.O=I,E.j.info("backChannelRequestTimeoutMs_="+I)),I=E;const Ia=d.g;if(Ia){const fh=Ia.g?Ia.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fh){var L=I.h;L.g||fh.indexOf("spdy")==-1&&fh.indexOf("quic")==-1&&fh.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(hv(L,L.h),L.h=null))}if(I.G){const _v=Ia.g?Ia.g.getResponseHeader("X-HTTP-Session-Id"):null;_v&&(I.wa=_v,ze(I.J,I.G,_v))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-d.F,E.j.info("Handshake RTT: "+E.T+"ms")),I=E;var H=d;if(I.na=tA(I,I.L?I.ba:null,I.W),H.L){PS(I.h,H);var fe=H,Tt=I.O;Tt&&(fe.H=Tt),fe.D&&(cv(fe),rh(fe)),I.g=H}else XS(I);E.i.length>0&&lh(E)}else ke[0]!="stop"&&ke[0]!="close"||$s(E,7);else E.I==3&&(ke[0]=="stop"||ke[0]=="close"?ke[0]=="stop"?$s(E,7):yv(E):ke[0]!="noop"&&E.l&&E.l.qa(ke),E.A=0)}}Fu(4)}catch{}}var X5=class{constructor(d,y){this.g=d,this.map=y}};function NS(d){this.l=d||10,s.PerformanceNavigationTiming?(d=s.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function OS(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function IS(d){return d.h?1:d.g?d.g.size:0}function dv(d,y){return d.h?d.h==y:d.g?d.g.has(y):!1}function hv(d,y){d.g?d.g.add(y):d.h=y}function PS(d,y){d.h&&d.h==y?d.h=null:d.g&&d.g.has(y)&&d.g.delete(y)}NS.prototype.cancel=function(){if(this.i=RS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function RS(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let y=d.i;for(const E of d.g.values())y=y.concat(E.G);return y}return p(d.i)}var jS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Q5(d,y){if(d){d=d.split("&");for(let E=0;E<d.length;E++){const I=d[E].indexOf("=");let M,L=null;I>=0?(M=d[E].substring(0,I),L=d[E].substring(I+1)):M=d[E],y(M,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Ta(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;d instanceof Ta?(this.l=d.l,Yu(this,d.j),this.o=d.o,this.g=d.g,Wu(this,d.u),this.h=d.h,mv(this,US(d.i)),this.m=d.m):d&&(y=String(d).match(jS))?(this.l=!1,Yu(this,y[1]||"",!0),this.o=Xu(y[2]||""),this.g=Xu(y[3]||"",!0),Wu(this,y[4]),this.h=Xu(y[5]||"",!0),mv(this,y[6]||"",!0),this.m=Xu(y[7]||"")):(this.l=!1,this.i=new Zu(null,this.l))}Ta.prototype.toString=function(){const d=[];var y=this.j;y&&d.push(Qu(y,kS,!0),":");var E=this.g;return(E||y=="file")&&(d.push("//"),(y=this.o)&&d.push(Qu(y,kS,!0),"@"),d.push(Gu(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&d.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push(Qu(E,E.charAt(0)=="/"?eU:J5,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",Qu(E,nU)),d.join("")},Ta.prototype.resolve=function(d){const y=Yr(this);let E=!!d.j;E?Yu(y,d.j):E=!!d.o,E?y.o=d.o:E=!!d.g,E?y.g=d.g:E=d.u!=null;var I=d.h;if(E)Wu(y,d.u);else if(E=!!d.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var M=y.h.lastIndexOf("/");M!=-1&&(I=y.h.slice(0,M+1)+I)}if(M=I,M==".."||M==".")I="";else if(M.indexOf("./")!=-1||M.indexOf("/.")!=-1){I=M.lastIndexOf("/",0)==0,M=M.split("/");const L=[];for(let H=0;H<M.length;){const fe=M[H++];fe=="."?I&&H==M.length&&L.push(""):fe==".."?((L.length>1||L.length==1&&L[0]!="")&&L.pop(),I&&H==M.length&&L.push("")):(L.push(fe),I=!0)}I=L.join("/")}else I=M}return E?y.h=I:E=d.i.toString()!=="",E?mv(y,US(d.i)):E=!!d.m,E&&(y.m=d.m),y};function Yr(d){return new Ta(d)}function Yu(d,y,E){d.j=E?Xu(y,!0):y,d.j&&(d.j=d.j.replace(/:$/,""))}function Wu(d,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);d.u=y}else d.u=null}function mv(d,y,E){y instanceof Zu?(d.i=y,rU(d.i,d.l)):(E||(y=Qu(y,tU)),d.i=new Zu(y,d.l))}function ze(d,y,E){d.i.set(y,E)}function ih(d){return ze(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function Xu(d,y){return d?y?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Qu(d,y,E){return typeof d=="string"?(d=encodeURI(d).replace(y,Z5),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Z5(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var kS=/[#\/\?@]/g,J5=/[#\?:]/g,eU=/[#\?]/g,tU=/[#\?@]/g,nU=/#/g;function Zu(d,y){this.h=this.g=null,this.i=d||null,this.j=!!y}function Bs(d){d.g||(d.g=new Map,d.h=0,d.i&&Q5(d.i,function(y,E){d.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}e=Zu.prototype,e.add=function(d,y){Bs(this),this.i=null,d=Yo(this,d);let E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(y),this.h+=1,this};function DS(d,y){Bs(d),y=Yo(d,y),d.g.has(y)&&(d.i=null,d.h-=d.g.get(y).length,d.g.delete(y))}function MS(d,y){return Bs(d),y=Yo(d,y),d.g.has(y)}e.forEach=function(d,y){Bs(this),this.g.forEach(function(E,I){E.forEach(function(M){d.call(y,M,I,this)},this)},this)};function LS(d,y){Bs(d);let E=[];if(typeof y=="string")MS(d,y)&&(E=E.concat(d.g.get(Yo(d,y))));else for(d=Array.from(d.g.values()),y=0;y<d.length;y++)E=E.concat(d[y]);return E}e.set=function(d,y){return Bs(this),this.i=null,d=Yo(this,d),MS(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[y]),this.h+=1,this},e.get=function(d,y){return d?(d=LS(this,d),d.length>0?String(d[0]):y):y};function VS(d,y,E){DS(d,y),E.length>0&&(d.i=null,d.g.set(Yo(d,y),p(E)),d.h+=E.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],y=Array.from(this.g.keys());for(let I=0;I<y.length;I++){var E=y[I];const M=Gu(E);E=LS(this,E);for(let L=0;L<E.length;L++){let H=M;E[L]!==""&&(H+="="+Gu(E[L])),d.push(H)}}return this.i=d.join("&")};function US(d){const y=new Zu;return y.i=d.i,d.g&&(y.g=new Map(d.g),y.h=d.h),y}function Yo(d,y){return y=String(y),d.j&&(y=y.toLowerCase()),y}function rU(d,y){y&&!d.j&&(Bs(d),d.i=null,d.g.forEach(function(E,I){const M=I.toLowerCase();I!=M&&(DS(this,I),VS(this,M,E))},d)),d.j=y}function iU(d,y){const E=new Hu;if(s.Image){const I=new Image;I.onload=c(Ca,E,"TestLoadImage: loaded",!0,y,I),I.onerror=c(Ca,E,"TestLoadImage: error",!1,y,I),I.onabort=c(Ca,E,"TestLoadImage: abort",!1,y,I),I.ontimeout=c(Ca,E,"TestLoadImage: timeout",!1,y,I),s.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=d}else y(!1)}function aU(d,y){const E=new Hu,I=new AbortController,M=setTimeout(()=>{I.abort(),Ca(E,"TestPingServer: timeout",!1,y)},1e4);fetch(d,{signal:I.signal}).then(L=>{clearTimeout(M),L.ok?Ca(E,"TestPingServer: ok",!0,y):Ca(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(M),Ca(E,"TestPingServer: error",!1,y)})}function Ca(d,y,E,I,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),I(E)}catch{}}function sU(){this.g=new $5}function pv(d){this.i=d.Sb||null,this.h=d.ab||!1}f(pv,pS),pv.prototype.g=function(){return new ah(this.i,this.h)};function ah(d,y){hn.call(this),this.H=d,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(ah,hn),e=ah.prototype,e.open=function(d,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=y,this.readyState=1,ec(this)},e.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(y.body=d),(this.H||s).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ju(this)),this.readyState=0},e.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,ec(this)),this.g&&(this.readyState=3,ec(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;zS(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function zS(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}e.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var y=d.value?d.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!d.done}))&&(this.response=this.responseText+=y)}d.done?Ju(this):ec(this),this.readyState==3&&zS(this)}},e.Oa=function(d){this.g&&(this.response=this.responseText=d,Ju(this))},e.Na=function(d){this.g&&(this.response=d,Ju(this))},e.ga=function(){this.g&&Ju(this)};function Ju(d){d.readyState=4,d.l=null,d.j=null,d.B=null,ec(d)}e.setRequestHeader=function(d,y){this.A.append(d,y)},e.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=y.next();return d.join(`\r
`)};function ec(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(ah.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function BS(d){let y="";return te(d,function(E,I){y+=I,y+=":",y+=E,y+=`\r
`}),y}function gv(d,y,E){e:{for(I in E){var I=!1;break e}I=!0}I||(E=BS(E),typeof d=="string"?E!=null&&Gu(E):ze(d,y,E))}function nt(d){hn.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(nt,hn);var oU=/^https?$/i,lU=["POST","PUT"];e=nt.prototype,e.Fa=function(d){this.H=d},e.ea=function(d,y,E,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);y=y?y.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():wS.g(),this.g.onreadystatechange=h(u(this.Ca,this));try{this.B=!0,this.g.open(y,String(d),!0),this.B=!1}catch(L){$S(this,L);return}if(d=E||"",E=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var M in I)E.set(M,I[M]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const L of I.keys())E.set(L,I.get(L));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(E.keys()).find(L=>L.toLowerCase()=="content-type"),M=s.FormData&&d instanceof s.FormData,!(Array.prototype.indexOf.call(lU,y,void 0)>=0)||I||M||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,H]of E)this.g.setRequestHeader(L,H);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(L){$S(this,L)}};function $S(d,y){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=y,d.o=5,FS(d),sh(d)}function FS(d){d.A||(d.A=!0,wn(d,"complete"),wn(d,"error"))}e.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,wn(this,"complete"),wn(this,"abort"),sh(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),sh(this,!0)),nt.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?qS(this):this.Xa())},e.Xa=function(){qS(this)};function qS(d){if(d.h&&typeof a<"u"){if(d.v&&Na(d)==4)setTimeout(d.Ca.bind(d),0);else if(wn(d,"readystatechange"),Na(d)==4){d.h=!1;try{const L=d.ca();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var I;if(I=L===0){let H=String(d.D).match(jS)[1]||null;!H&&s.self&&s.self.location&&(H=s.self.location.protocol.slice(0,-1)),I=!oU.test(H?H.toLowerCase():"")}E=I}if(E)wn(d,"complete"),wn(d,"success");else{d.o=6;try{var M=Na(d)>2?d.g.statusText:""}catch{M=""}d.l=M+" ["+d.ca()+"]",FS(d)}}finally{sh(d)}}}}function sh(d,y){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const E=d.g;d.g=null,y||wn(d,"ready");try{E.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function Na(d){return d.g?d.g.readyState:0}e.ca=function(){try{return Na(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(d){if(this.g){var y=this.g.responseText;return d&&y.indexOf(d)==0&&(y=y.substring(d.length)),B5(y)}};function HS(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function uU(d){const y={};d=(d.g&&Na(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<d.length;I++){if(D(d[I]))continue;var E=K5(d[I]);const M=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const L=y[M]||[];y[M]=L,L.push(E)}le(y,function(I){return I.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function tc(d,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||y}function GS(d){this.za=0,this.i=[],this.j=new Hu,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=tc("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=tc("baseRetryDelayMs",5e3,d),this.Za=tc("retryDelaySeedMs",1e4,d),this.Ta=tc("forwardChannelMaxRetries",2,d),this.va=tc("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new NS(d&&d.concurrentRequestLimit),this.Ba=new sU,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=GS.prototype,e.ka=8,e.I=1,e.connect=function(d,y,E,I){En(0),this.W=d,this.H=y||{},E&&I!==void 0&&(this.H.OSID=E,this.H.OAID=I),this.F=this.X,this.J=tA(this,null,this.W),lh(this)};function yv(d){if(KS(d),d.I==3){var y=d.V++,E=Yr(d.J);if(ze(E,"SID",d.M),ze(E,"RID",y),ze(E,"TYPE","terminate"),nc(d,E),y=new Aa(d,d.j,y),y.M=2,y.A=ih(Yr(E)),E=!1,s.navigator&&s.navigator.sendBeacon)try{E=s.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&s.Image&&(new Image().src=y.A,E=!0),E||(y.g=nA(y.j,null),y.g.ea(y.A)),y.F=Date.now(),rh(y)}eA(d)}function oh(d){d.g&&(bv(d),d.g.cancel(),d.g=null)}function KS(d){oh(d),d.v&&(s.clearTimeout(d.v),d.v=null),uh(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&s.clearTimeout(d.m),d.m=null)}function lh(d){if(!OS(d.h)&&!d.m){d.m=!0;var y=d.Ea;P||T(),O||(P(),O=!0),A.add(y,d),d.D=0}}function cU(d,y){return IS(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=y.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=qu(u(d.Ea,d,y),JS(d,d.D)),d.D++,!0)}e.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const M=new Aa(this,this.j,d);let L=this.o;if(this.U&&(L?(L=We(L),jt(L,this.U)):L=this.U),this.u!==null||this.R||(M.J=L,L=null),this.S)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var I=this.i[E];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(y+=I,y>4096){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=WS(this,M,y),E=Yr(this.J),ze(E,"RID",d),ze(E,"CVER",22),this.G&&ze(E,"X-HTTP-Session-Id",this.G),nc(this,E),L&&(this.R?y="headers="+Gu(BS(L))+"&"+y:this.u&&gv(E,this.u,L)),hv(this.h,M),this.Ra&&ze(E,"TYPE","init"),this.S?(ze(E,"$req",y),ze(E,"SID","null"),M.U=!0,uv(M,E,null)):uv(M,E,y),this.I=2}}else this.I==3&&(d?YS(this,d):this.i.length==0||OS(this.h)||YS(this))};function YS(d,y){var E;y?E=y.l:E=d.V++;const I=Yr(d.J);ze(I,"SID",d.M),ze(I,"RID",E),ze(I,"AID",d.K),nc(d,I),d.u&&d.o&&gv(I,d.u,d.o),E=new Aa(d,d.j,E,d.D+1),d.u===null&&(E.J=d.o),y&&(d.i=y.G.concat(d.i)),y=WS(d,E,1e3),E.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),hv(d.h,E),uv(E,I,y)}function nc(d,y){d.H&&te(d.H,function(E,I){ze(y,I,E)}),d.l&&te({},function(E,I){ze(y,I,E)})}function WS(d,y,E){E=Math.min(d.i.length,E);const I=d.l?u(d.l.Ka,d.l,d):null;e:{var M=d.i;let fe=-1;for(;;){const Tt=["count="+E];fe==-1?E>0?(fe=M[0].g,Tt.push("ofs="+fe)):fe=0:Tt.push("ofs="+fe);let ke=!0;for(let Mt=0;Mt<E;Mt++){var L=M[Mt].g;const Wr=M[Mt].map;if(L-=fe,L<0)fe=Math.max(0,M[Mt].g-100),ke=!1;else try{L="req"+L+"_"||"";try{var H=Wr instanceof Map?Wr:Object.entries(Wr);for(const[Fs,Oa]of H){let Ia=Oa;o(Oa)&&(Ia=iv(Oa)),Tt.push(L+Fs+"="+encodeURIComponent(Ia))}}catch(Fs){throw Tt.push(L+"type="+encodeURIComponent("_badmap")),Fs}}catch{I&&I(Wr)}}if(ke){H=Tt.join("&");break e}}H=void 0}return d=d.i.splice(0,E),y.G=d,H}function XS(d){if(!d.g&&!d.v){d.Y=1;var y=d.Da;P||T(),O||(P(),O=!0),A.add(y,d),d.A=0}}function vv(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=qu(u(d.Da,d),JS(d,d.A)),d.A++,!0)}e.Da=function(){if(this.v=null,QS(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=qu(u(this.Wa,this),d)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,En(10),oh(this),QS(this))};function bv(d){d.B!=null&&(s.clearTimeout(d.B),d.B=null)}function QS(d){d.g=new Aa(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var y=Yr(d.na);ze(y,"RID","rpc"),ze(y,"SID",d.M),ze(y,"AID",d.K),ze(y,"CI",d.F?"0":"1"),!d.F&&d.ia&&ze(y,"TO",d.ia),ze(y,"TYPE","xmlhttp"),nc(d,y),d.u&&d.o&&gv(y,d.u,d.o),d.O&&(d.g.H=d.O);var E=d.g;d=d.ba,E.M=1,E.A=ih(Yr(y)),E.u=null,E.R=!0,AS(E,d)}e.Va=function(){this.C!=null&&(this.C=null,oh(this),vv(this),En(19))};function uh(d){d.C!=null&&(s.clearTimeout(d.C),d.C=null)}function ZS(d,y){var E=null;if(d.g==y){uh(d),bv(d),d.g=null;var I=2}else if(dv(d.h,y))E=y.G,PS(d.h,y),I=1;else return;if(d.I!=0){if(y.o)if(I==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var M=d.D;I=th(),wn(I,new _S(I,E)),lh(d)}else XS(d);else if(M=y.m,M==3||M==0&&y.X>0||!(I==1&&cU(d,y)||I==2&&vv(d)))switch(E&&E.length>0&&(y=d.h,y.i=y.i.concat(E)),M){case 1:$s(d,5);break;case 4:$s(d,10);break;case 3:$s(d,6);break;default:$s(d,2)}}}function JS(d,y){let E=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(E*=2),E*y}function $s(d,y){if(d.j.info("Error code "+y),y==2){var E=u(d.bb,d),I=d.Ua;const M=!I;I=new Ta(I||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Yu(I,"https"),ih(I),M?iU(I.toString(),E):aU(I.toString(),E)}else En(2);d.I=0,d.l&&d.l.pa(y),eA(d),KS(d)}e.bb=function(d){d?(this.j.info("Successfully pinged google.com"),En(2)):(this.j.info("Failed to ping google.com"),En(1))};function eA(d){if(d.I=0,d.ja=[],d.l){const y=RS(d.h);(y.length!=0||d.i.length!=0)&&(g(d.ja,y),g(d.ja,d.i),d.h.i.length=0,p(d.i),d.i.length=0),d.l.oa()}}function tA(d,y,E){var I=E instanceof Ta?Yr(E):new Ta(E);if(I.g!="")y&&(I.g=y+"."+I.g),Wu(I,I.u);else{var M=s.location;I=M.protocol,y=y?y+"."+M.hostname:M.hostname,M=+M.port;const L=new Ta(null);I&&Yu(L,I),y&&(L.g=y),M&&Wu(L,M),E&&(L.h=E),I=L}return E=d.G,y=d.wa,E&&y&&ze(I,E,y),ze(I,"VER",d.ka),nc(d,I),I}function nA(d,y,E){if(y&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=d.Aa&&!d.ma?new nt(new pv({ab:E})):new nt(d.ma),y.Fa(d.L),y}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function rA(){}e=rA.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function ch(){}ch.prototype.g=function(d,y){return new Kn(d,y)};function Kn(d,y){hn.call(this),this.g=new GS(y),this.l=d,this.h=y&&y.messageUrlParams||null,d=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(d?d["X-WebChannel-Content-Type"]=y.messageContentType:d={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(d?d["X-WebChannel-Client-Profile"]=y.sa:d={"X-WebChannel-Client-Profile":y.sa}),this.g.U=d,(d=y&&y.Qb)&&!D(d)&&(this.g.u=d),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!D(y)&&(this.g.G=y,d=this.h,d!==null&&y in d&&(d=this.h,y in d&&delete d[y])),this.j=new Wo(this)}f(Kn,hn),Kn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Kn.prototype.close=function(){yv(this.g)},Kn.prototype.o=function(d){var y=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.v&&(E={},E.__data__=iv(d),d=E);y.i.push(new X5(y.Ya++,d)),y.I==3&&lh(y)},Kn.prototype.N=function(){this.g.l=null,delete this.j,yv(this.g),delete this.g,Kn.Z.N.call(this)};function iA(d){av.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var y=d.__sm__;if(y){e:{for(const E in y){d=E;break e}d=void 0}(this.i=d)&&(d=this.i,y=y!==null&&d in y?y[d]:void 0),this.data=y}else this.data=d}f(iA,av);function aA(){sv.call(this),this.status=1}f(aA,sv);function Wo(d){this.g=d}f(Wo,rA),Wo.prototype.ra=function(){wn(this.g,"a")},Wo.prototype.qa=function(d){wn(this.g,new iA(d))},Wo.prototype.pa=function(d){wn(this.g,new aA)},Wo.prototype.oa=function(){wn(this.g,"b")},ch.prototype.createWebChannel=ch.prototype.g,Kn.prototype.send=Kn.prototype.o,Kn.prototype.open=Kn.prototype.m,Kn.prototype.close=Kn.prototype.close,iD=function(){return new ch},rD=function(){return th()},nD=Us,e_={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},nh.NO_ERROR=0,nh.TIMEOUT=8,nh.HTTP_ERROR=6,_m=nh,xS.COMPLETE="complete",tD=xS,gS.EventType=$u,$u.OPEN="a",$u.CLOSE="b",$u.ERROR="c",$u.MESSAGE="d",hn.prototype.listen=hn.prototype.J,Nc=gS,nt.prototype.listenOnce=nt.prototype.K,nt.prototype.getLastError=nt.prototype.Ha,nt.prototype.getLastErrorCode=nt.prototype.ya,nt.prototype.getStatus=nt.prototype.ca,nt.prototype.getResponseJson=nt.prototype.La,nt.prototype.getResponseText=nt.prototype.la,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Fa,eD=nt}).apply(typeof Ih<"u"?Ih:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}gn.UNAUTHENTICATED=new gn(null),gn.GOOGLE_CREDENTIALS=new gn("google-credentials-uid"),gn.FIRST_PARTY=new gn("first-party-uid"),gn.MOCK_USER=new gn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Su="12.8.0";function Uq(e){Su=e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To=new ww("@firebase/firestore");function al(){return To.logLevel}function Y(e,...t){if(To.logLevel<=pe.DEBUG){const n=t.map(jw);To.debug(`Firestore (${Su}): ${e}`,...n)}}function aa(e,...t){if(To.logLevel<=pe.ERROR){const n=t.map(jw);To.error(`Firestore (${Su}): ${e}`,...n)}}function Zl(e,...t){if(To.logLevel<=pe.WARN){const n=t.map(jw);To.warn(`Firestore (${Su}): ${e}`,...n)}}function jw(e){if(typeof e=="string")return e;try{return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function re(e,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,aD(e,r,n)}function aD(e,t,n){let r=`FIRESTORE (${Su}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw aa(r),new Error(r)}function Te(e,t,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,e||aD(t,i,r)}function se(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class G extends Ai{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class zq{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(gn.UNAUTHENTICATED))}shutdown(){}}class Bq{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class $q{constructor(t){this.t=t,this.currentUser=gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Te(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let a=new Yi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Yi,t.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=a;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Yi)}},0),s()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Te(typeof r.accessToken=="string",31837,{l:r}),new sD(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Te(t===null||typeof t=="string",2055,{h:t}),new gn(t)}}class Fq{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=gn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class qq{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new Fq(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(gn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class bC{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Hq{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_r(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Te(this.o===void 0,3512);const r=a=>{a.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,Y("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable(()=>r(a))};const i=a=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new bC(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Te(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new bC(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gq(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Gq(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=t.charAt(i[a]%62))}return r}}function ge(e,t){return e<t?-1:e>t?1:0}function t_(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const i=e.charAt(r),a=t.charAt(r);if(i!==a)return p0(i)===p0(a)?ge(i,a):p0(i)?1:-1}return ge(e.length,t.length)}const Kq=55296,Yq=57343;function p0(e){const t=e.charCodeAt(0);return t>=Kq&&t<=Yq}function Jl(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C="__name__";class Jr{constructor(t,n,r){n===void 0?n=0:n>t.length&&re(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&re(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Jr.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Jr?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const a=Jr.compareSegments(t.get(i),n.get(i));if(a!==0)return a}return ge(t.length,n.length)}static compareSegments(t,n){const r=Jr.isNumericId(t),i=Jr.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Jr.extractNumericId(t).compare(Jr.extractNumericId(n)):t_(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ds.fromString(t.substring(4,t.length-2))}}class Le extends Jr{construct(t,n,r){return new Le(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new G(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Le(n)}static emptyPath(){return new Le([])}}const Wq=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends Jr{construct(t,n,r){return new an(t,n,r)}static isValidIdentifier(t){return Wq.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_C}static keyField(){return new an([_C])}static fromServerFormat(t){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new G(U.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<t.length;){const o=t[i];if(o==="\\"){if(i+1===t.length)throw new G(U.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new G(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else o==="`"?(s=!s,i++):o!=="."||s?(r+=o,i++):(a(),i++)}if(a(),s)throw new G(U.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new an(n)}static emptyPath(){return new an([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(t){this.path=t}static fromPath(t){return new J(Le.fromString(t))}static fromName(t){return new J(Le.fromString(t).popFirst(5))}static empty(){return new J(Le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Le.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Le.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new J(new Le(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oD(e,t,n){if(!n)throw new G(U.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Xq(e,t,n,r){if(t===!0&&r===!0)throw new G(U.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function xC(e){if(!J.isDocumentKey(e))throw new G(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function wC(e){if(J.isDocumentKey(e))throw new G(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function lD(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function Gg(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":re(12329,{type:typeof e})}function sr(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new G(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Gg(e);throw new G(U.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(e,t){const n={typeString:e};return t&&(n.value=t),n}function vd(e,t){if(!lD(e))throw new G(U.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,a="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const s=e[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&s!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new G(U.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC=-62135596800,SC=1e6;class qe{static now(){return qe.fromMillis(Date.now())}static fromDate(t){return qe.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*SC);return new qe(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new G(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<EC)throw new G(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new G(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/SC}_compareTo(t){return this.seconds===t.seconds?ge(this.nanoseconds,t.nanoseconds):ge(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:qe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(vd(t,qe._jsonSchema))return new qe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-EC;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}qe._jsonSchemaVersion="firestore/timestamp/1.0",qe._jsonSchema={type:St("string",qe._jsonSchemaVersion),seconds:St("number"),nanoseconds:St("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{static fromTimestamp(t){return new ae(t)}static min(){return new ae(new qe(0,0))}static max(){return new ae(new qe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf=-1;function Qq(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=ae.fromTimestamp(r===1e9?new qe(n+1,0):new qe(n,r));return new xs(i,J.empty(),t)}function Zq(e){return new xs(e.readTime,e.key,wf)}class xs{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new xs(ae.min(),J.empty(),wf)}static max(){return new xs(ae.max(),J.empty(),wf)}}function Jq(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=J.comparator(e.documentKey,t.documentKey),n!==0?n:ge(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tH{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Au(e){if(e.code!==U.FAILED_PRECONDITION||e.message!==eH)throw e;Y("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new B((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(t,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):B.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):B.reject(n)}static resolve(t){return new B((n,r)=>{n(t)})}static reject(t){return new B((n,r)=>{r(t)})}static waitFor(t){return new B((n,r)=>{let i=0,a=0,s=!1;t.forEach(o=>{++i,o.next(()=>{++a,s&&a===i&&n()},l=>r(l))}),s=!0,a===i&&n()})}static or(t){let n=B.resolve(!1);for(const r of t)n=n.next(i=>i?B.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(t,n){return new B((r,i)=>{const a=t.length,s=new Array(a);let o=0;for(let l=0;l<a;l++){const u=l;n(t[u]).next(c=>{s[u]=c,++o,o===a&&r(s)},c=>i(c))}})}static doWhile(t,n){return new B((r,i)=>{const a=()=>{t()===!0?n().next(()=>{a()},i):r()};a()})}}function nH(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Tu(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Kg.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw=-1;function Yg(e){return e==null}function yp(e){return e===0&&1/e==-1/0}function rH(e){return typeof e=="number"&&Number.isInteger(e)&&!yp(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD="";function iH(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=AC(t)),t=aH(e.get(n),t);return AC(t)}function aH(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const a=e.charAt(i);switch(a){case"\0":n+="";break;case uD:n+="";break;default:n+=a}}return n}function AC(e){return e+uD+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ks(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function cD(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(t,n){this.comparator=t,this.root=n||en.EMPTY}insert(t,n){return new tt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,en.BLACK,null,null))}remove(t){return new tt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,en.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ph(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ph(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ph(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ph(this.root,t,this.comparator,!0)}}class Ph{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(a===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class en{constructor(t,n,r,i,a){this.key=t,this.value=n,this.color=r??en.RED,this.left=i??en.EMPTY,this.right=a??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,a){return new en(t??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const a=r(t,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(t,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return en.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw re(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw re(27949);return t+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw re(57766)}get value(){throw re(16141)}get color(){throw re(16727)}get left(){throw re(29726)}get right(){throw re(36894)}copy(t,n,r,i,a){return this}insert(t,n,r){return new en(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(t){this.comparator=t,this.data=new tt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new CC(this.data.getIterator())}getIteratorFrom(t){return new CC(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof Ot)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Ot(this.comparator);return n.data=t,n}}class CC{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(t){this.fields=t,t.sort(an.comparator)}static empty(){return new Jn([])}unionWith(t){let n=new Ot(an.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Jn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Jl(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new fD("Invalid base64 string: "+a):a}}(t);return new cn(n)}static fromUint8Array(t){const n=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(t);return new cn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ge(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const sH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ws(e){if(Te(!!e,39018),typeof e=="string"){let t=0;const n=sH.exec(e);if(Te(!!n,46558,{timestamp:e}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ft(e.seconds),nanos:ft(e.nanos)}}function ft(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Es(e){return typeof e=="string"?cn.fromBase64String(e):cn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD="server_timestamp",hD="__type__",mD="__previous_value__",pD="__local_write_time__";function Mw(e){var n,r;return((r=(((n=e==null?void 0:e.mapValue)==null?void 0:n.fields)||{})[hD])==null?void 0:r.stringValue)===dD}function Wg(e){const t=e.mapValue.fields[mD];return Mw(t)?Wg(t):t}function Ef(e){const t=ws(e.mapValue.fields[pD].timestampValue);return new qe(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oH{constructor(t,n,r,i,a,s,o,l,u,c,f){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=c,this.apiKey=f}}const vp="(default)";class Sf{constructor(t,n){this.projectId=t,this.database=n||vp}static empty(){return new Sf("","")}get isDefaultDatabase(){return this.database===vp}isEqual(t){return t instanceof Sf&&t.projectId===this.projectId&&t.database===this.database}}function lH(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new G(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sf(e.options.projectId,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD="__type__",uH="__max__",Rh={mapValue:{}},yD="__vector__",bp="value";function Ss(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Mw(e)?4:fH(e)?9007199254740991:cH(e)?10:11:re(28295,{value:e})}function gi(e,t){if(e===t)return!0;const n=Ss(e);if(n!==Ss(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ef(e).isEqual(Ef(t));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=ws(i.timestampValue),o=ws(a.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,a){return Es(i.bytesValue).isEqual(Es(a.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,a){return ft(i.geoPointValue.latitude)===ft(a.geoPointValue.latitude)&&ft(i.geoPointValue.longitude)===ft(a.geoPointValue.longitude)}(e,t);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return ft(i.integerValue)===ft(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=ft(i.doubleValue),o=ft(a.doubleValue);return s===o?yp(s)===yp(o):isNaN(s)&&isNaN(o)}return!1}(e,t);case 9:return Jl(e.arrayValue.values||[],t.arrayValue.values||[],gi);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},o=a.mapValue.fields||{};if(TC(s)!==TC(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!gi(s[l],o[l])))return!1;return!0}(e,t);default:return re(52216,{left:e})}}function Af(e,t){return(e.values||[]).find(n=>gi(n,t))!==void 0}function eu(e,t){if(e===t)return 0;const n=Ss(e),r=Ss(t);if(n!==r)return ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ge(e.booleanValue,t.booleanValue);case 2:return function(a,s){const o=ft(a.integerValue||a.doubleValue),l=ft(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(e,t);case 3:return NC(e.timestampValue,t.timestampValue);case 4:return NC(Ef(e),Ef(t));case 5:return t_(e.stringValue,t.stringValue);case 6:return function(a,s){const o=Es(a),l=Es(s);return o.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(a,s){const o=a.split("/"),l=s.split("/");for(let u=0;u<o.length&&u<l.length;u++){const c=ge(o[u],l[u]);if(c!==0)return c}return ge(o.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(a,s){const o=ge(ft(a.latitude),ft(s.latitude));return o!==0?o:ge(ft(a.longitude),ft(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return OC(e.arrayValue,t.arrayValue);case 10:return function(a,s){var h,p,g,x;const o=a.fields||{},l=s.fields||{},u=(h=o[bp])==null?void 0:h.arrayValue,c=(p=l[bp])==null?void 0:p.arrayValue,f=ge(((g=u==null?void 0:u.values)==null?void 0:g.length)||0,((x=c==null?void 0:c.values)==null?void 0:x.length)||0);return f!==0?f:OC(u,c)}(e.mapValue,t.mapValue);case 11:return function(a,s){if(a===Rh.mapValue&&s===Rh.mapValue)return 0;if(a===Rh.mapValue)return 1;if(s===Rh.mapValue)return-1;const o=a.fields||{},l=Object.keys(o),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const h=t_(l[f],c[f]);if(h!==0)return h;const p=eu(o[l[f]],u[c[f]]);if(p!==0)return p}return ge(l.length,c.length)}(e.mapValue,t.mapValue);default:throw re(23264,{he:n})}}function NC(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return ge(e,t);const n=ws(e),r=ws(t),i=ge(n.seconds,r.seconds);return i!==0?i:ge(n.nanos,r.nanos)}function OC(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=eu(n[i],r[i]);if(a)return a}return ge(n.length,r.length)}function tu(e){return n_(e)}function n_(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=ws(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Es(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return J.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=n_(a);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const s of r)a?a=!1:i+=",",i+=`${s}:${n_(n.fields[s])}`;return i+"}"}(e.mapValue):re(61005,{value:e})}function xm(e){switch(Ss(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Wg(e);return t?16+xm(t):16;case 5:return 2*e.stringValue.length;case 6:return Es(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+xm(a),0)}(e.arrayValue);case 10:case 11:return function(r){let i=0;return ks(r.fields,(a,s)=>{i+=a.length+xm(s)}),i}(e.mapValue);default:throw re(13486,{value:e})}}function IC(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function r_(e){return!!e&&"integerValue"in e}function Lw(e){return!!e&&"arrayValue"in e}function PC(e){return!!e&&"nullValue"in e}function RC(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function wm(e){return!!e&&"mapValue"in e}function cH(e){var n,r;return((r=(((n=e==null?void 0:e.mapValue)==null?void 0:n.fields)||{})[gD])==null?void 0:r.stringValue)===yD}function Qc(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return ks(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Qc(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Qc(e.arrayValue.values[n]);return t}return{...e}}function fH(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===uH}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(t){this.value=t}static empty(){return new Vn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!wm(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Qc(n)}setAll(t){let n=an.emptyPath(),r={},i=[];t.forEach((s,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=o.popLast()}s?r[o.lastSegment()]=Qc(s):i.push(o.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(t){const n=this.field(t.popLast());wm(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return gi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];wm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){ks(n,(i,a)=>t[i]=a);for(const i of r)delete t[i]}clone(){return new Vn(Qc(this.value))}}function vD(e){const t=[];return ks(e.fields,(n,r)=>{const i=new an([n]);if(wm(r)){const a=vD(r.mapValue).fields;if(a.length===0)t.push(i);else for(const s of a)t.push(i.child(s))}else t.push(i)}),new Jn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(t,n,r,i,a,s,o){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=s,this.documentState=o}static newInvalidDocument(t){return new yn(t,0,ae.min(),ae.min(),ae.min(),Vn.empty(),0)}static newFoundDocument(t,n,r,i){return new yn(t,1,n,ae.min(),r,i,0)}static newNoDocument(t,n){return new yn(t,2,n,ae.min(),ae.min(),Vn.empty(),0)}static newUnknownDocument(t,n){return new yn(t,3,n,ae.min(),ae.min(),Vn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Vn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ae.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof yn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(t,n){this.position=t,this.inclusive=n}}function jC(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const a=t[i],s=e.position[i];if(a.field.isKeyField()?r=J.comparator(J.fromName(s.referenceValue),n.key):r=eu(s,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function kC(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!gi(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(t,n="asc"){this.field=t,this.dir=n}}function dH(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{}class wt extends bD{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new mH(t,n,r):n==="array-contains"?new yH(t,r):n==="in"?new vH(t,r):n==="not-in"?new bH(t,r):n==="array-contains-any"?new _H(t,r):new wt(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new pH(t,r):new gH(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(eu(n,this.value)):n!==null&&Ss(this.value)===Ss(n)&&this.matchesComparison(eu(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fr extends bD{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Fr(t,n)}matches(t){return _D(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function _D(e){return e.op==="and"}function xD(e){return hH(e)&&_D(e)}function hH(e){for(const t of e.filters)if(t instanceof Fr)return!1;return!0}function i_(e){if(e instanceof wt)return e.field.canonicalString()+e.op.toString()+tu(e.value);if(xD(e))return e.filters.map(t=>i_(t)).join(",");{const t=e.filters.map(n=>i_(n)).join(",");return`${e.op}(${t})`}}function wD(e,t){return e instanceof wt?function(r,i){return i instanceof wt&&r.op===i.op&&r.field.isEqual(i.field)&&gi(r.value,i.value)}(e,t):e instanceof Fr?function(r,i){return i instanceof Fr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,s,o)=>a&&wD(s,i.filters[o]),!0):!1}(e,t):void re(19439)}function ED(e){return e instanceof wt?function(n){return`${n.field.canonicalString()} ${n.op} ${tu(n.value)}`}(e):e instanceof Fr?function(n){return n.op.toString()+" {"+n.getFilters().map(ED).join(" ,")+"}"}(e):"Filter"}class mH extends wt{constructor(t,n,r){super(t,n,r),this.key=J.fromName(r.referenceValue)}matches(t){const n=J.comparator(t.key,this.key);return this.matchesComparison(n)}}class pH extends wt{constructor(t,n){super(t,"in",n),this.keys=SD("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class gH extends wt{constructor(t,n){super(t,"not-in",n),this.keys=SD("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function SD(e,t){var n;return(((n=t.arrayValue)==null?void 0:n.values)||[]).map(r=>J.fromName(r.referenceValue))}class yH extends wt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Lw(n)&&Af(n.arrayValue,this.value)}}class vH extends wt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Af(this.value.arrayValue,n)}}class bH extends wt{constructor(t,n){super(t,"not-in",n)}matches(t){if(Af(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Af(this.value.arrayValue,n)}}class _H extends wt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Lw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Af(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xH{constructor(t,n=null,r=[],i=[],a=null,s=null,o=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=s,this.endAt=o,this.Te=null}}function DC(e,t=null,n=[],r=[],i=null,a=null,s=null){return new xH(e,t,n,r,i,a,s)}function Vw(e){const t=se(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>i_(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Yg(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>tu(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>tu(r)).join(",")),t.Te=n}return t.Te}function Uw(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!dH(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!wD(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!kC(e.startAt,t.startAt)&&kC(e.endAt,t.endAt)}function a_(e){return J.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(t,n=null,r=[],i=[],a=null,s="F",o=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=s,this.startAt=o,this.endAt=l,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function wH(e,t,n,r,i,a,s,o){return new Cu(e,t,n,r,i,a,s,o)}function Xg(e){return new Cu(e)}function MC(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function EH(e){return J.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}function AD(e){return e.collectionGroup!==null}function Zc(e){const t=se(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const a of t.explicitOrderBy)t.Ie.push(a),n.add(a.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new Ot(an.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(o=o.add(u.field))})}),o})(t).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||t.Ie.push(new Tf(a,r))}),n.has(an.keyField().canonicalString())||t.Ie.push(new Tf(an.keyField(),r))}return t.Ie}function fi(e){const t=se(e);return t.Ee||(t.Ee=SH(t,Zc(e))),t.Ee}function SH(e,t){if(e.limitType==="F")return DC(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Tf(i.field,a)});const n=e.endAt?new _p(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new _p(e.startAt.position,e.startAt.inclusive):null;return DC(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function s_(e,t){const n=e.filters.concat([t]);return new Cu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function AH(e,t){const n=e.explicitOrderBy.concat([t]);return new Cu(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}function xp(e,t,n){return new Cu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Qg(e,t){return Uw(fi(e),fi(t))&&e.limitType===t.limitType}function TD(e){return`${Vw(fi(e))}|lt:${e.limitType}`}function sl(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>ED(i)).join(", ")}]`),Yg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>tu(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>tu(i)).join(",")),`Target(${r})`}(fi(e))}; limitType=${e.limitType})`}function Zg(e,t){return t.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):J.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(e,t)&&function(r,i){for(const a of Zc(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(s,o,l){const u=jC(s,o,l);return s.inclusive?u<=0:u<0}(r.startAt,Zc(r),i)||r.endAt&&!function(s,o,l){const u=jC(s,o,l);return s.inclusive?u>=0:u>0}(r.endAt,Zc(r),i))}(e,t)}function TH(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function CD(e){return(t,n)=>{let r=!1;for(const i of Zc(e)){const a=CH(i,t,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function CH(e,t,n){const r=e.field.isKeyField()?J.comparator(t.key,n.key):function(a,s,o){const l=s.data.field(a),u=o.data.field(a);return l!==null&&u!==null?eu(l,u):re(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return re(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,t))return a}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return void(i[a]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){ks(this.inner,(n,r)=>{for(const[i,a]of r)t(i,a)})}isEmpty(){return cD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NH=new tt(J.comparator);function sa(){return NH}const ND=new tt(J.comparator);function Oc(...e){let t=ND;for(const n of e)t=t.insert(n.key,n);return t}function OD(e){let t=ND;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function eo(){return Jc()}function ID(){return Jc()}function Jc(){return new Fo(e=>e.toString(),(e,t)=>e.isEqual(t))}const OH=new tt(J.comparator),IH=new Ot(J.comparator);function ye(...e){let t=IH;for(const n of e)t=t.add(n);return t}const PH=new Ot(ge);function RH(){return PH}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yp(t)?"-0":t}}function PD(e){return{integerValue:""+e}}function RD(e,t){return rH(t)?PD(t):zw(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(){this._=void 0}}function jH(e,t,n){return e instanceof Cf?function(i,a){const s={fields:{[hD]:{stringValue:dD},[pD]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Mw(a)&&(a=Wg(a)),a&&(s.fields[mD]=a),{mapValue:s}}(n,t):e instanceof Nf?kD(e,t):e instanceof Of?DD(e,t):function(i,a){const s=jD(i,a),o=LC(s)+LC(i.Ae);return r_(s)&&r_(i.Ae)?PD(o):zw(i.serializer,o)}(e,t)}function kH(e,t,n){return e instanceof Nf?kD(e,t):e instanceof Of?DD(e,t):n}function jD(e,t){return e instanceof If?function(r){return r_(r)||function(a){return!!a&&"doubleValue"in a}(r)}(t)?t:{integerValue:0}:null}class Cf extends Jg{}class Nf extends Jg{constructor(t){super(),this.elements=t}}function kD(e,t){const n=MD(t);for(const r of e.elements)n.some(i=>gi(i,r))||n.push(r);return{arrayValue:{values:n}}}class Of extends Jg{constructor(t){super(),this.elements=t}}function DD(e,t){let n=MD(t);for(const r of e.elements)n=n.filter(i=>!gi(i,r));return{arrayValue:{values:n}}}class If extends Jg{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function LC(e){return ft(e.integerValue||e.doubleValue)}function MD(e){return Lw(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(t,n){this.field=t,this.transform=n}}function DH(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof Nf&&i instanceof Nf||r instanceof Of&&i instanceof Of?Jl(r.elements,i.elements,gi):r instanceof If&&i instanceof If?gi(r.Ae,i.Ae):r instanceof Cf&&i instanceof Cf}(e.transform,t.transform)}class MH{constructor(t,n){this.version=t,this.transformResults=n}}class $n{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new $n}static exists(t){return new $n(void 0,t)}static updateTime(t){return new $n(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Em(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class ey{}function VD(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new ty(e.key,$n.none()):new bd(e.key,e.data,$n.none());{const n=e.data,r=Vn.empty();let i=new Ot(an.comparator);for(let a of t.fields)if(!i.has(a)){let s=n.field(a);s===null&&a.length>1&&(a=a.popLast(),s=n.field(a)),s===null?r.delete(a):r.set(a,s),i=i.add(a)}return new Ds(e.key,r,new Jn(i.toArray()),$n.none())}}function LH(e,t,n){e instanceof bd?function(i,a,s){const o=i.value.clone(),l=UC(i.fieldTransforms,a,s.transformResults);o.setAll(l),a.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(e,t,n):e instanceof Ds?function(i,a,s){if(!Em(i.precondition,a))return void a.convertToUnknownDocument(s.version);const o=UC(i.fieldTransforms,a,s.transformResults),l=a.data;l.setAll(UD(i)),l.setAll(o),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(e,t,n):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function ef(e,t,n,r){return e instanceof bd?function(a,s,o,l){if(!Em(a.precondition,s))return o;const u=a.value.clone(),c=zC(a.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ds?function(a,s,o,l){if(!Em(a.precondition,s))return o;const u=zC(a.fieldTransforms,l,s),c=s.data;return c.setAll(UD(a)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),o===null?null:o.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(f=>f.field))}(e,t,n,r):function(a,s,o){return Em(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(e,t,n)}function VH(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),a=jD(r.transform,i||null);a!=null&&(n===null&&(n=Vn.empty()),n.set(r.field,a))}return n||null}function VC(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Jl(r,i,(a,s)=>DH(a,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class bd extends ey{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ds extends ey{constructor(t,n,r,i,a=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function UD(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function UC(e,t,n){const r=new Map;Te(e.length===n.length,32656,{Ve:n.length,de:e.length});for(let i=0;i<n.length;i++){const a=e[i],s=a.transform,o=t.data.field(a.field);r.set(a.field,kH(s,o,n[i]))}return r}function zC(e,t,n){const r=new Map;for(const i of e){const a=i.transform,s=n.data.field(i.field);r.set(i.field,jH(a,s,t))}return r}class ty extends ey{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class UH extends ey{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zH{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(t.key)&&LH(a,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=ef(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=ef(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=ID();return this.mutations.forEach(i=>{const a=t.get(i.key),s=a.overlayedDocument;let o=this.applyToLocalView(s,a.mutatedFields);o=n.has(i.key)?null:o;const l=VD(s,o);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(ae.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),ye())}isEqual(t){return this.batchId===t.batchId&&Jl(this.mutations,t.mutations,(n,r)=>VC(n,r))&&Jl(this.baseMutations,t.baseMutations,(n,r)=>VC(n,r))}}class Bw{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){Te(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let i=function(){return OH}();const a=t.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,r[s].version);return new Bw(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BH{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $H{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt,we;function FH(e){switch(e){case U.OK:return re(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return re(15467,{code:e})}}function zD(e){if(e===void 0)return aa("GRPC error has no .code"),U.UNKNOWN;switch(e){case yt.OK:return U.OK;case yt.CANCELLED:return U.CANCELLED;case yt.UNKNOWN:return U.UNKNOWN;case yt.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case yt.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case yt.INTERNAL:return U.INTERNAL;case yt.UNAVAILABLE:return U.UNAVAILABLE;case yt.UNAUTHENTICATED:return U.UNAUTHENTICATED;case yt.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case yt.NOT_FOUND:return U.NOT_FOUND;case yt.ALREADY_EXISTS:return U.ALREADY_EXISTS;case yt.PERMISSION_DENIED:return U.PERMISSION_DENIED;case yt.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case yt.ABORTED:return U.ABORTED;case yt.OUT_OF_RANGE:return U.OUT_OF_RANGE;case yt.UNIMPLEMENTED:return U.UNIMPLEMENTED;case yt.DATA_LOSS:return U.DATA_LOSS;default:return re(39323,{code:e})}}(we=yt||(yt={}))[we.OK=0]="OK",we[we.CANCELLED=1]="CANCELLED",we[we.UNKNOWN=2]="UNKNOWN",we[we.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",we[we.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",we[we.NOT_FOUND=5]="NOT_FOUND",we[we.ALREADY_EXISTS=6]="ALREADY_EXISTS",we[we.PERMISSION_DENIED=7]="PERMISSION_DENIED",we[we.UNAUTHENTICATED=16]="UNAUTHENTICATED",we[we.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",we[we.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",we[we.ABORTED=10]="ABORTED",we[we.OUT_OF_RANGE=11]="OUT_OF_RANGE",we[we.UNIMPLEMENTED=12]="UNIMPLEMENTED",we[we.INTERNAL=13]="INTERNAL",we[we.UNAVAILABLE=14]="UNAVAILABLE",we[we.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qH(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HH=new ds([4294967295,4294967295],0);function BC(e){const t=qH().encode(e),n=new Jk;return n.update(t),new Uint8Array(n.digest())}function $C(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new ds([n,r],0),new ds([i,a],0)]}class $w{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ic(`Invalid padding: ${n}`);if(r<0)throw new Ic(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Ic(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Ic(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=ds.fromNumber(this.ge)}ye(t,n,r){let i=t.add(n.multiply(ds.fromNumber(r)));return i.compare(HH)===1&&(i=new ds([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=BC(t),[r,i]=$C(n);for(let a=0;a<this.hashCount;a++){const s=this.ye(r,i,a);if(!this.we(s))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,a=new Uint8Array(Math.ceil(t/8)),s=new $w(a,i,n);return r.forEach(o=>s.insert(o)),s}insert(t){if(this.ge===0)return;const n=BC(t),[r,i]=$C(n);for(let a=0;a<this.hashCount;a++){const s=this.ye(r,i,a);this.be(s)}}be(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class Ic extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(t,n,r,i,a){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,_d.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new ny(ae.min(),i,new tt(ge),sa(),ye())}}class _d{constructor(t,n,r,i,a){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new _d(r,n,ye(),ye(),ye())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(t,n,r,i){this.Se=t,this.removedTargetIds=n,this.key=r,this.De=i}}class BD{constructor(t,n){this.targetId=t,this.Ce=n}}class $D{constructor(t,n,r=cn.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class FC{constructor(){this.ve=0,this.Fe=qC(),this.Me=cn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=ye(),n=ye(),r=ye();return this.Fe.forEach((i,a)=>{switch(a){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:re(38017,{changeType:a})}}),new _d(this.Me,this.xe,t,n,r)}Ke(){this.Oe=!1,this.Fe=qC()}qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Te(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class GH{constructor(t){this.Ge=t,this.ze=new Map,this.je=sa(),this.He=jh(),this.Je=jh(),this.Ze=new tt(ge)}Xe(t){for(const n of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,n=>{const r=this.nt(n);switch(t.state){case 0:this.rt(n)&&r.Le(t.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(t.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(t.resumeToken));break;default:re(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(t){const n=t.targetId,r=t.Ce.count,i=this.ot(n);if(i){const a=i.target;if(a_(a))if(r===0){const s=new J(a.path);this.et(n,s,yn.newNoDocument(s,ae.min()))}else Te(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const o=this.ut(t),l=o?this.ct(o,t,s):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let s,o;try{s=Es(r).toUint8Array()}catch(l){if(l instanceof fD)return Zl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new $w(s,i,a)}catch(l){return Zl(l instanceof Ic?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.ge===0?null:o}ct(t,n,r){return n.Ce.count===r-this.Pt(t,n.targetId)?0:2}Pt(t,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const s=this.Ge.ht(),o=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;t.mightContain(o)||(this.et(n,a,null),i++)}),i}Tt(t){const n=new Map;this.ze.forEach((a,s)=>{const o=this.ot(s);if(o){if(a.current&&a_(o.target)){const l=new J(o.target.path);this.It(l).has(s)||this.Et(s,l)||this.et(s,l,yn.newNoDocument(l,t))}a.Be&&(n.set(s,a.ke()),a.Ke())}});let r=ye();this.Je.forEach((a,s)=>{let o=!0;s.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(a))}),this.je.forEach((a,s)=>s.setReadTime(t));const i=new ny(t,n,this.Ze,this.je,r);return this.je=sa(),this.He=jh(),this.Je=jh(),this.Ze=new tt(ge),i}Ye(t,n){if(!this.rt(t))return;const r=this.Et(t,n.key)?2:0;this.nt(t).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(t)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(t))}et(t,n,r){if(!this.rt(t))return;const i=this.nt(t);this.Et(t,n)?i.qe(n,1):i.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(t)),this.Je=this.Je.insert(n,this.Rt(n).add(t)),r&&(this.je=this.je.insert(n,r))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let n=this.ze.get(t);return n||(n=new FC,this.ze.set(t,n)),n}Rt(t){let n=this.Je.get(t);return n||(n=new Ot(ge),this.Je=this.Je.insert(t,n)),n}It(t){let n=this.He.get(t);return n||(n=new Ot(ge),this.He=this.He.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||Y("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new FC),this.Ge.getRemoteKeysForTarget(t).forEach(n=>{this.et(t,n,null)})}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function jh(){return new tt(J.comparator)}function qC(){return new tt(J.comparator)}const KH={asc:"ASCENDING",desc:"DESCENDING"},YH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},WH={and:"AND",or:"OR"};class XH{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function o_(e,t){return e.useProto3Json||Yg(t)?t:{value:t}}function wp(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function FD(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function QH(e,t){return wp(e,t.toTimestamp())}function di(e){return Te(!!e,49232),ae.fromTimestamp(function(n){const r=ws(n);return new qe(r.seconds,r.nanos)}(e))}function Fw(e,t){return l_(e,t).canonicalString()}function l_(e,t){const n=function(i){return new Le(["projects",i.projectId,"databases",i.database])}(e).child("documents");return t===void 0?n:n.child(t)}function qD(e){const t=Le.fromString(e);return Te(WD(t),10190,{key:t.toString()}),t}function u_(e,t){return Fw(e.databaseId,t.path)}function g0(e,t){const n=qD(t);if(n.get(1)!==e.databaseId.projectId)throw new G(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new G(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new J(GD(n))}function HD(e,t){return Fw(e.databaseId,t)}function ZH(e){const t=qD(e);return t.length===4?Le.emptyPath():GD(t)}function c_(e){return new Le(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function GD(e){return Te(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function HC(e,t,n){return{name:u_(e,t),fields:n.value.mapValue.fields}}function JH(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:re(39313,{state:u})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(u,c){return u.useProto3Json?(Te(c===void 0||typeof c=="string",58123),cn.fromBase64String(c||"")):(Te(c===void 0||c instanceof Buffer||c instanceof Uint8Array,16193),cn.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&function(u){const c=u.code===void 0?U.UNKNOWN:zD(u.code);return new G(c,u.message||"")}(s);n=new $D(r,i,a,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=g0(e,r.document.name),a=di(r.document.updateTime),s=r.document.createTime?di(r.document.createTime):ae.min(),o=new Vn({mapValue:{fields:r.document.fields}}),l=yn.newFoundDocument(i,a,s,o),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Sm(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=g0(e,r.document),a=r.readTime?di(r.readTime):ae.min(),s=yn.newNoDocument(i,a),o=r.removedTargetIds||[];n=new Sm([],o,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=g0(e,r.document),a=r.removedTargetIds||[];n=new Sm([],a,i,null)}else{if(!("filter"in t))return re(11601,{Vt:t});{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,s=new $H(i,a),o=r.targetId;n=new BD(o,s)}}return n}function eG(e,t){let n;if(t instanceof bd)n={update:HC(e,t.key,t.value)};else if(t instanceof ty)n={delete:u_(e,t.key)};else if(t instanceof Ds)n={update:HC(e,t.key,t.data),updateMask:uG(t.fieldMask)};else{if(!(t instanceof UH))return re(16599,{dt:t.type});n={verify:u_(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(a,s){const o=s.transform;if(o instanceof Cf)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Nf)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Of)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof If)return{fieldPath:s.field.canonicalString(),increment:o.Ae};throw re(20930,{transform:s.transform})}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:QH(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:re(27497)}(e,t.precondition)),n}function tG(e,t){return e&&e.length>0?(Te(t!==void 0,14353),e.map(n=>function(i,a){let s=i.updateTime?di(i.updateTime):di(a);return s.isEqual(ae.min())&&(s=di(a)),new MH(s,i.transformResults||[])}(n,t))):[]}function nG(e,t){return{documents:[HD(e,t.path)]}}function rG(e,t){const n={structuredQuery:{}},r=t.path;let i;t.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=HD(e,i);const a=function(u){if(u.length!==0)return YD(Fr.create(u,"and"))}(t.filters);a&&(n.structuredQuery.where=a);const s=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:ol(h.field),direction:sG(h.dir)}}(c))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=o_(e,t.limit);return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(t.endAt)),{ft:n,parent:i}}function iG(e){let t=ZH(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Te(r===1,65062);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let a=[];n.where&&(a=function(f){const h=KD(f);return h instanceof Fr&&xD(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(h=>function(g){return new Tf(ll(g.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(n.orderBy));let o=null;n.limit&&(o=function(f){let h;return h=typeof f=="object"?f.value:f,Yg(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,p=f.values||[];return new _p(p,h)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const h=!f.before,p=f.values||[];return new _p(p,h)}(n.endAt)),wH(t,i,s,a,o,"F",l,u)}function aG(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return re(28987,{purpose:i})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function KD(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ll(n.unaryFilter.field);return wt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ll(n.unaryFilter.field);return wt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ll(n.unaryFilter.field);return wt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ll(n.unaryFilter.field);return wt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return re(61313);default:return re(60726)}}(e):e.fieldFilter!==void 0?function(n){return wt.create(ll(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return re(58110);default:return re(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Fr.create(n.compositeFilter.filters.map(r=>KD(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return re(1026)}}(n.compositeFilter.op))}(e):re(30097,{filter:e})}function sG(e){return KH[e]}function oG(e){return YH[e]}function lG(e){return WH[e]}function ol(e){return{fieldPath:e.canonicalString()}}function ll(e){return an.fromServerFormat(e.fieldPath)}function YD(e){return e instanceof wt?function(n){if(n.op==="=="){if(RC(n.value))return{unaryFilter:{field:ol(n.field),op:"IS_NAN"}};if(PC(n.value))return{unaryFilter:{field:ol(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(RC(n.value))return{unaryFilter:{field:ol(n.field),op:"IS_NOT_NAN"}};if(PC(n.value))return{unaryFilter:{field:ol(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ol(n.field),op:oG(n.op),value:n.value}}}(e):e instanceof Fr?function(n){const r=n.getFilters().map(i=>YD(i));return r.length===1?r[0]:{compositeFilter:{op:lG(n.op),filters:r}}}(e):re(54877,{filter:e})}function uG(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function WD(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}function XD(e){return!!e&&typeof e._toProto=="function"&&e._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(t,n,r,i,a=ae.min(),s=ae.min(),o=cn.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(t){return new Za(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cG{constructor(t){this.yt=t}}function fG(e){const t=iG({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?xp(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dG{constructor(){this.Sn=new hG}addToCollectionParentIndex(t,n){return this.Sn.add(n),B.resolve()}getCollectionParents(t,n){return B.resolve(this.Sn.getEntries(n))}addFieldIndex(t,n){return B.resolve()}deleteFieldIndex(t,n){return B.resolve()}deleteAllFieldIndexes(t){return B.resolve()}createTargetIndexes(t,n){return B.resolve()}getDocumentsMatchingTarget(t,n){return B.resolve(null)}getIndexType(t,n){return B.resolve(0)}getFieldIndexes(t,n){return B.resolve([])}getNextCollectionGroupToUpdate(t){return B.resolve(null)}getMinOffset(t,n){return B.resolve(xs.min())}getMinOffsetFromCollectionGroup(t,n){return B.resolve(xs.min())}updateCollectionGroup(t,n,r){return B.resolve()}updateIndexEntries(t,n){return B.resolve()}}class hG{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new Ot(Le.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new Ot(Le.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},QD=41943040;class Ln{static withCacheSize(t){return new Ln(t,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ln.DEFAULT_COLLECTION_PERCENTILE=10,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ln.DEFAULT=new Ln(QD,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ln.DISABLED=new Ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new nu(0)}static ar(){return new nu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC="LruGarbageCollector",mG=1048576;function YC([e,t],[n,r]){const i=ge(e,n);return i===0?ge(t,r):i}class pG{constructor(t){this.Pr=t,this.buffer=new Ot(YC),this.Tr=0}Ir(){return++this.Tr}Er(t){const n=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();YC(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class gG{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){Y(KC,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Tu(n)?Y(KC,"Ignoring IndexedDB error during garbage collection: ",n):await Au(n)}await this.Ar(3e5)})}}class yG{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.dr(t).next(r=>Math.floor(n/100*r))}nthSequenceNumber(t,n){if(n===0)return B.resolve(Kg.ce);const r=new pG(n);return this.Vr.forEachTarget(t,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.mr(t,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(t,n,r){return this.Vr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(Y("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(GC)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(Y("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),GC):this.gr(t,n))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,n){let r,i,a,s,o,l,u;const c=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Y("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(t,i))).next(f=>(r=f,o=Date.now(),this.removeTargets(t,r,n))).next(f=>(a=f,l=Date.now(),this.removeOrphanedDocuments(t,r))).next(f=>(u=Date.now(),al()<=pe.DEBUG&&Y("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-c}ms
	Determined least recently used ${i} in `+(o-s)+`ms
	Removed ${a} targets in `+(l-o)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:f})))}}function vG(e,t){return new yG(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bG{constructor(){this.changes=new Fo(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,yn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _G{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xG{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&ef(r.mutation,i,Jn.empty(),qe.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,ye()).next(()=>r))}getLocalViewOfDocuments(t,n,r=ye()){const i=eo();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(a=>{let s=Oc();return a.forEach((o,l)=>{s=s.insert(o,l.overlayedDocument)}),s}))}getOverlayedDocuments(t,n){const r=eo();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,ye()))}populateOverlays(t,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(t,i).next(a=>{a.forEach((s,o)=>{n.set(s,o)})})}computeViews(t,n,r,i){let a=sa();const s=Jc(),o=function(){return Jc()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Ds)?a=a.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),ef(c.mutation,u,c.mutation.getFieldMask(),qe.now())):s.set(u.key,Jn.empty())}),this.recalculateAndSaveOverlays(t,a).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>o.set(u,new _G(c,s.get(u)??null))),o))}recalculateAndSaveOverlays(t,n){const r=Jc();let i=new tt((s,o)=>s-o),a=ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(s=>{for(const o of s)o.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Jn.empty();c=o.applyToLocalView(u,c),r.set(l,c);const f=(i.get(o.batchId)||ye()).add(l);i=i.insert(o.batchId,f)})}).next(()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),u=l.key,c=l.value,f=ID();c.forEach(h=>{if(!a.has(h)){const p=VD(n.get(h),r.get(h));p!==null&&f.set(h,p),a=a.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(t,u,f))}return B.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return EH(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):AD(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-a.size):B.resolve(eo());let o=wf,l=a;return s.next(u=>B.forEach(u,(c,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),a.get(c)?B.resolve():this.remoteDocumentCache.getEntry(t,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(t,u,a)).next(()=>this.computeViews(t,l,u,ye())).next(c=>({batchId:o,changes:OD(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new J(n)).next(r=>{let i=Oc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const a=n.collectionGroup;let s=Oc();return this.indexManager.getCollectionParents(t,a).next(o=>B.forEach(o,l=>{const u=function(f,h){return new Cu(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(a));return this.getDocumentsMatchingCollectionQuery(t,u,r,i).next(c=>{c.forEach((f,h)=>{s=s.insert(f,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,a,i))).next(s=>{a.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,yn.newInvalidDocument(c)))});let o=Oc();return s.forEach((l,u)=>{const c=a.get(l);c!==void 0&&ef(c.mutation,u,Jn.empty(),qe.now()),Zg(n,u)&&(o=o.insert(l,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wG{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,n){return B.resolve(this.Nr.get(n))}saveBundleMetadata(t,n){return this.Nr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:di(i.createTime)}}(n)),B.resolve()}getNamedQuery(t,n){return B.resolve(this.Br.get(n))}saveNamedQuery(t,n){return this.Br.set(n.name,function(i){return{name:i.name,query:fG(i.bundledQuery),readTime:di(i.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EG{constructor(){this.overlays=new tt(J.comparator),this.Lr=new Map}getOverlay(t,n){return B.resolve(this.overlays.get(n))}getOverlays(t,n){const r=eo();return B.forEach(n,i=>this.getOverlay(t,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,a)=>{this.bt(t,n,a)}),B.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Lr.delete(r)),B.resolve()}getOverlaysForCollection(t,n,r){const i=eo(),a=n.length+1,s=new J(n.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const l=o.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===a&&l.largestBatchId>r&&i.set(l.getKey(),l)}return B.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let a=new tt((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=a.get(u.largestBatchId);c===null&&(c=eo(),a=a.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const o=eo(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>o.set(u,c)),!(o.size()>=i)););return B.resolve(o)}bt(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new BH(n,r));let a=this.Lr.get(n);a===void 0&&(a=ye(),this.Lr.set(n,a)),this.Lr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SG{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(t){return B.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(){this.kr=new Ot(Ut.Kr),this.qr=new Ot(Ut.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,n){const r=new Ut(t,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.Wr(new Ut(t,n))}Qr(t,n){t.forEach(r=>this.removeReference(r,n))}Gr(t){const n=new J(new Le([])),r=new Ut(n,t),i=new Ut(n,t+1),a=[];return this.qr.forEachInRange([r,i],s=>{this.Wr(s),a.push(s.key)}),a}zr(){this.kr.forEach(t=>this.Wr(t))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const n=new J(new Le([])),r=new Ut(n,t),i=new Ut(n,t+1);let a=ye();return this.qr.forEachInRange([r,i],s=>{a=a.add(s.key)}),a}containsKey(t){const n=new Ut(t,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Ut{constructor(t,n){this.key=t,this.Hr=n}static Kr(t,n){return J.comparator(t.key,n.key)||ge(t.Hr,n.Hr)}static Ur(t,n){return ge(t.Hr,n.Hr)||J.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AG{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Ot(Ut.Kr)}checkEmpty(t){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const a=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new zH(a,n,r,i);this.mutationQueue.push(s);for(const o of i)this.Jr=this.Jr.add(new Ut(o.key,a)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return B.resolve(s)}lookupMutationBatch(t,n){return B.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.Xr(r),a=i<0?0:i;return B.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?Dw:this.Yn-1)}getAllMutationBatches(t){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Ut(n,0),i=new Ut(n,Number.POSITIVE_INFINITY),a=[];return this.Jr.forEachInRange([r,i],s=>{const o=this.Zr(s.Hr);a.push(o)}),B.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Ot(ge);return n.forEach(i=>{const a=new Ut(i,0),s=new Ut(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([a,s],o=>{r=r.add(o.Hr)})}),B.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let a=r;J.isDocumentKey(a)||(a=a.child(""));const s=new Ut(new J(a),0);let o=new Ot(ge);return this.Jr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(o=o.add(l.Hr)),!0)},s),B.resolve(this.Yr(o))}Yr(t){const n=[];return t.forEach(r=>{const i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){Te(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return B.forEach(n.mutations,i=>{const a=new Ut(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.Jr=r})}nr(t){}containsKey(t,n){const r=new Ut(n,0),i=this.Jr.firstAfterOrEqual(r);return B.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,B.resolve()}ei(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TG{constructor(t){this.ti=t,this.docs=function(){return new tt(J.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,s=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():yn.newInvalidDocument(n))}getEntries(t,n){let r=sa();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():yn.newInvalidDocument(i))}),B.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let a=sa();const s=n.path,o=new J(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||Jq(Zq(c),r)<=0||(i.has(c.key)||Zg(n,c))&&(a=a.insert(c.key,c.mutableCopy()))}return B.resolve(a)}getAllFromCollectionGroup(t,n,r,i){re(9500)}ni(t,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new CG(this)}getSize(t){return B.resolve(this.size)}}class CG extends bG{constructor(t){super(),this.Mr=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Mr.addEntry(t,i)):this.Mr.removeEntry(r)}),B.waitFor(n)}getFromCache(t,n){return this.Mr.getEntry(t,n)}getAllFromCache(t,n){return this.Mr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NG{constructor(t){this.persistence=t,this.ri=new Fo(n=>Vw(n),Uw),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this.ii=0,this.si=new qw,this.targetCount=0,this.oi=nu._r()}forEachTarget(t,n){return this.ri.forEach((r,i)=>n(i)),B.resolve()}getLastRemoteSnapshotVersion(t){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return B.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),B.resolve()}lr(t){this.ri.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.oi=new nu(n),this.highestTargetId=n),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,n){return this.lr(n),this.targetCount+=1,B.resolve()}updateTargetData(t,n){return this.lr(n),B.resolve()}removeTargetData(t,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(t,n,r){let i=0;const a=[];return this.ri.forEach((s,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.ri.delete(s),a.push(this.removeMatchingKeysForTargetId(t,o.targetId)),i++)}),B.waitFor(a).next(()=>i)}getTargetCount(t){return B.resolve(this.targetCount)}getTargetData(t,n){const r=this.ri.get(n)||null;return B.resolve(r)}addMatchingKeys(t,n,r){return this.si.$r(n,r),B.resolve()}removeMatchingKeys(t,n,r){this.si.Qr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(s=>{a.push(i.markPotentiallyOrphaned(t,s))}),B.waitFor(a)}removeMatchingKeysForTargetId(t,n){return this.si.Gr(n),B.resolve()}getMatchingKeysForTargetId(t,n){const r=this.si.jr(n);return B.resolve(r)}containsKey(t,n){return B.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(t,n){this._i={},this.overlays={},this.ai=new Kg(0),this.ui=!1,this.ui=!0,this.ci=new SG,this.referenceDelegate=t(this),this.li=new NG(this),this.indexManager=new dG,this.remoteDocumentCache=function(i){return new TG(i)}(r=>this.referenceDelegate.hi(r)),this.serializer=new cG(n),this.Pi=new wG(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new EG,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this._i[t.toKey()];return r||(r=new AG(n,this.referenceDelegate),this._i[t.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,n,r){Y("MemoryPersistence","Starting transaction:",t);const i=new OG(this.ai.next());return this.referenceDelegate.Ti(),r(i).next(a=>this.referenceDelegate.Ii(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ei(t,n){return B.or(Object.values(this._i).map(r=>()=>r.containsKey(t,n)))}}class OG extends tH{constructor(t){super(),this.currentSequenceNumber=t}}class Hw{constructor(t){this.persistence=t,this.Ri=new qw,this.Ai=null}static Vi(t){return new Hw(t)}get di(){if(this.Ai)return this.Ai;throw re(60996)}addReference(t,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),B.resolve()}removeReference(t,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),B.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),B.resolve()}removeTarget(t,n){this.Ri.Gr(n.targetId).forEach(i=>this.di.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(a=>this.di.add(a.toString()))}).next(()=>r.removeTargetData(t,n))}Ti(){this.Ai=new Set}Ii(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.di,r=>{const i=J.fromPath(r);return this.mi(t,i).next(a=>{a||n.removeEntry(i,ae.min())})}).next(()=>(this.Ai=null,n.apply(t)))}updateLimboDocument(t,n){return this.mi(t,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}hi(t){return 0}mi(t,n){return B.or([()=>B.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class Ep{constructor(t,n){this.persistence=t,this.fi=new Fo(r=>iH(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=vG(this,n)}static Vi(t,n){return new Ep(t,n)}Ti(){}Ii(t){return B.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>n.next(i=>r+i))}pr(t){let n=0;return this.mr(t,r=>{n++}).next(()=>n)}mr(t,n){return B.forEach(this.fi,(r,i)=>this.wr(t,r,i).next(a=>a?B.resolve():n(i)))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ni(t,s=>this.wr(t,s,n).next(o=>{o||(r++,a.removeEntry(s,ae.min()))})).next(()=>a.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,n){return this.fi.set(n,t.currentSequenceNumber),B.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.fi.set(r,t.currentSequenceNumber),B.resolve()}removeReference(t,n,r){return this.fi.set(r,t.currentSequenceNumber),B.resolve()}updateLimboDocument(t,n){return this.fi.set(n,t.currentSequenceNumber),B.resolve()}hi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=xm(t.data.value)),n}wr(t,n,r){return B.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const i=this.fi.get(n);return B.resolve(i!==void 0&&i>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.Ts=r,this.Is=i}static Es(t,n){let r=ye(),i=ye();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Gw(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IG{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PG{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return s$()?8:nH(bn())>0?6:4}()}initialize(t,n){this.fs=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,r,i){const a={result:null};return this.gs(t,n).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.ps(t,n,i,r).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new IG;return this.ys(t,n,s).next(o=>{if(a.result=o,this.As)return this.ws(t,n,s,o.size)})}).next(()=>a.result)}ws(t,n,r,i){return r.documentReadCount<this.Vs?(al()<=pe.DEBUG&&Y("QueryEngine","SDK will not create cache indexes for query:",sl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),B.resolve()):(al()<=pe.DEBUG&&Y("QueryEngine","Query:",sl(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(al()<=pe.DEBUG&&Y("QueryEngine","The SDK decides to create cache indexes for query:",sl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,fi(n))):B.resolve())}gs(t,n){if(MC(n))return B.resolve(null);let r=fi(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=xp(n,null,"F"),r=fi(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(a=>{const s=ye(...a);return this.fs.getDocuments(t,s).next(o=>this.indexManager.getMinOffset(t,r).next(l=>{const u=this.bs(n,o);return this.Ss(n,u,s,l.readTime)?this.gs(t,xp(n,null,"F")):this.Ds(t,u,n,l)}))})))}ps(t,n,r,i){return MC(n)||i.isEqual(ae.min())?B.resolve(null):this.fs.getDocuments(t,r).next(a=>{const s=this.bs(n,a);return this.Ss(n,s,r,i)?B.resolve(null):(al()<=pe.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),sl(n)),this.Ds(t,s,n,Qq(i,wf)).next(o=>o))})}bs(t,n){let r=new Ot(CD(t));return n.forEach((i,a)=>{Zg(t,a)&&(r=r.add(a))}),r}Ss(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const a=t.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ys(t,n,r){return al()<=pe.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",sl(n)),this.fs.getDocumentsMatchingQuery(t,n,xs.min(),r)}Ds(t,n,r,i){return this.fs.getDocumentsMatchingQuery(t,r,i).next(a=>(n.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw="LocalStore",RG=3e8;class jG{constructor(t,n,r,i){this.persistence=t,this.Cs=n,this.serializer=i,this.vs=new tt(ge),this.Fs=new Fo(a=>Vw(a),Uw),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(r)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new xG(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.vs))}}function kG(e,t,n,r){return new jG(e,t,n,r)}async function JD(e,t){const n=se(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.Os(t),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const s=[],o=[];let l=ye();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of a){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ns:u,removedBatchIds:s,addedBatchIds:o}))})})}function DG(e,t){const n=se(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),a=n.xs.newChangeBuffer({trackRemovals:!0});return function(o,l,u,c){const f=u.batch,h=f.keys();let p=B.resolve();return h.forEach(g=>{p=p.next(()=>c.getEntry(l,g)).next(x=>{const v=u.docVersions.get(g);Te(v!==null,48541),x.version.compareTo(v)<0&&(f.applyToRemoteDocument(x,u),x.isValidDocument()&&(x.setReadTime(u.commitVersion),c.addEntry(x)))})}),p.next(()=>o.mutationQueue.removeMutationBatch(l,f))}(n,r,t,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let l=ye();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(l=l.add(o.batch.mutations[u].key));return l}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function eM(e){const t=se(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.li.getLastRemoteSnapshotVersion(n))}function MG(e,t){const n=se(e),r=t.snapshotVersion;let i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;const o=[];t.targetChanges.forEach((c,f)=>{const h=i.get(f);if(!h)return;o.push(n.li.removeMatchingKeys(a,c.removedDocuments,f).next(()=>n.li.addMatchingKeys(a,c.addedDocuments,f)));let p=h.withSequenceNumber(a.currentSequenceNumber);t.targetMismatches.get(f)!==null?p=p.withResumeToken(cn.EMPTY_BYTE_STRING,ae.min()).withLastLimboFreeSnapshotVersion(ae.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(f,p),function(x,v,w){return x.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=RG?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(h,p,c)&&o.push(n.li.updateTargetData(a,p))});let l=sa(),u=ye();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(a,c))}),o.push(LG(a,s,t.documentUpdates).next(c=>{l=c.Bs,u=c.Ls})),!r.isEqual(ae.min())){const c=n.li.getLastRemoteSnapshotVersion(a).next(f=>n.li.setTargetsMetadata(a,a.currentSequenceNumber,r));o.push(c)}return B.waitFor(o).next(()=>s.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,l,u)).next(()=>l)}).then(a=>(n.vs=i,a))}function LG(e,t,n){let r=ye(),i=ye();return n.forEach(a=>r=r.add(a)),t.getEntries(e,r).next(a=>{let s=sa();return n.forEach((o,l)=>{const u=a.get(o);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(ae.min())?(t.removeEntry(o,l.readTime),s=s.insert(o,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),s=s.insert(o,l)):Y(Kw,"Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",l.version)}),{Bs:s,Ls:i}})}function VG(e,t){const n=se(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=Dw),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function UG(e,t){const n=se(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.li.getTargetData(r,t).next(a=>a?(i=a,B.resolve(i)):n.li.allocateTargetId(r).next(s=>(i=new Za(t,s,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(t,r.targetId)),r})}async function f_(e,t,n){const r=se(e),i=r.vs.get(t),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Tu(s))throw s;Y(Kw,`Failed to update sequence numbers for target ${t}: ${s}`)}r.vs=r.vs.remove(t),r.Fs.delete(i.target)}function WC(e,t,n){const r=se(e);let i=ae.min(),a=ye();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const f=se(l),h=f.Fs.get(c);return h!==void 0?B.resolve(f.vs.get(h)):f.li.getTargetData(u,c)}(r,s,fi(t)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(s,o.targetId).next(l=>{a=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,t,n?i:ae.min(),n?a:ye())).next(o=>(zG(r,TH(t),o),{documents:o,ks:a})))}function zG(e,t,n){let r=e.Ms.get(t)||ae.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),e.Ms.set(t,r)}class XC{constructor(){this.activeTargetIds=RH()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class BG{constructor(){this.vo=new XC,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,n,r){this.Fo[t]=n}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new XC,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $G{Mo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC="ConnectivityMonitor";class ZC{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Y(QC,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){Y(QC,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kh=null;function d_(){return kh===null?kh=function(){return 268435456+Math.round(2147483648*Math.random())}():kh++,"0x"+kh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0="RestConnection",FG={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class qG{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+t.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===vp?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(t,n,r,i,a){const s=d_(),o=this.Qo(t,n.toUriEncodedString());Y(y0,`Sending RPC '${t}' ${s}:`,o,r);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(l,i,a);const{host:u}=new URL(o),c=Rs(u);return this.zo(t,o,l,r,c).then(f=>(Y(y0,`Received RPC '${t}' ${s}: `,f),f),f=>{throw Zl(y0,`RPC '${t}' ${s} failed with error: `,f,"url: ",o,"request:",r),f})}jo(t,n,r,i,a,s){return this.Wo(t,n,r,i,a)}Go(t,n,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Su}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,a)=>t[a]=i),r&&r.headers.forEach((i,a)=>t[a]=i)}Qo(t,n){const r=FG[t];let i=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HG{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mn="WebChannelConnection",fc=(e,t,n)=>{e.listen(t,r=>{try{n(r)}catch(i){setTimeout(()=>{throw i},0)}})};class Ml extends qG{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Ml.c_){const t=rD();fc(t,nD.STAT_EVENT,n=>{n.stat===e_.PROXY?Y(mn,"STAT_EVENT: detected buffering proxy"):n.stat===e_.NOPROXY&&Y(mn,"STAT_EVENT: detected no buffering proxy")}),Ml.c_=!0}}zo(t,n,r,i,a){const s=d_();return new Promise((o,l)=>{const u=new eD;u.setWithCredentials(!0),u.listenOnce(tD.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case _m.NO_ERROR:const f=u.getResponseJson();Y(mn,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(f)),o(f);break;case _m.TIMEOUT:Y(mn,`RPC '${t}' ${s} timed out`),l(new G(U.DEADLINE_EXCEEDED,"Request time out"));break;case _m.HTTP_ERROR:const h=u.getStatus();if(Y(mn,`RPC '${t}' ${s} failed with status:`,h,"response text:",u.getResponseText()),h>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const x=function(w){const _=w.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(_)>=0?_:U.UNKNOWN}(g.status);l(new G(x,g.message))}else l(new G(U.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new G(U.UNAVAILABLE,"Connection failed."));break;default:re(9055,{l_:t,streamId:s,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{Y(mn,`RPC '${t}' ${s} completed.`)}});const c=JSON.stringify(i);Y(mn,`RPC '${t}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}T_(t,n,r){const i=d_(),a=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=this.createWebChannelTransport(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Go(o.initMessageHeaders,n,r),o.encodeInitMessageHeaders=!0;const u=a.join("");Y(mn,`Creating RPC '${t}' stream ${i}: ${u}`,o);const c=s.createWebChannel(u,o);this.I_(c);let f=!1,h=!1;const p=new HG({Ho:g=>{h?Y(mn,`Not sending because RPC '${t}' stream ${i} is closed:`,g):(f||(Y(mn,`Opening RPC '${t}' stream ${i} transport.`),c.open(),f=!0),Y(mn,`RPC '${t}' stream ${i} sending:`,g),c.send(g))},Jo:()=>c.close()});return fc(c,Nc.EventType.OPEN,()=>{h||(Y(mn,`RPC '${t}' stream ${i} transport opened.`),p.i_())}),fc(c,Nc.EventType.CLOSE,()=>{h||(h=!0,Y(mn,`RPC '${t}' stream ${i} transport closed`),p.o_(),this.E_(c))}),fc(c,Nc.EventType.ERROR,g=>{h||(h=!0,Zl(mn,`RPC '${t}' stream ${i} transport errored. Name:`,g.name,"Message:",g.message),p.o_(new G(U.UNAVAILABLE,"The operation could not be completed")))}),fc(c,Nc.EventType.MESSAGE,g=>{var x;if(!h){const v=g.data[0];Te(!!v,16349);const w=v,_=(w==null?void 0:w.error)||((x=w[0])==null?void 0:x.error);if(_){Y(mn,`RPC '${t}' stream ${i} received error:`,_);const S=_.status;let C=function(A){const T=yt[A];if(T!==void 0)return zD(T)}(S),P=_.message;C===void 0&&(C=U.INTERNAL,P="Unknown error status: "+S+" with message "+_.message),h=!0,p.o_(new G(C,P)),c.close()}else Y(mn,`RPC '${t}' stream ${i} received:`,v),p.__(v)}}),Ml.u_(),setTimeout(()=>{p.s_()},0),p}terminate(){this.a_.forEach(t=>t.close()),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter(n=>n===t)}Go(t,n,r){super.Go(t,n,r),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return iD()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GG(e){return new Ml(e)}function v0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ry(e){return new XH(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ml.c_=!1;class tM{constructor(t,n,r=1e3,i=1.5,a=6e4){this.Ci=t,this.timerId=n,this.R_=r,this.A_=i,this.V_=a,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Y("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),t())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC="PersistentStream";class nM{constructor(t,n,r,i,a,s,o,l){this.Ci=t,this.b_=r,this.S_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new tM(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(aa(n.toString()),aa("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(n)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{t(()=>{const i=new G(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(t,n){const r=this.Q_(this.D_);this.stream=this.j_(t,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.Yo(()=>{r(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.H_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return Y(JC,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return n=>{this.Ci.enqueueAndForget(()=>this.D_===t?n():(Y(JC,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class KG extends nM{constructor(t,n,r,i,a,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}j_(t,n){return this.connection.T_("Listen",t,n)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=JH(this.serializer,t),r=function(a){if(!("targetChange"in a))return ae.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?ae.min():s.readTime?di(s.readTime):ae.min()}(t);return this.listener.J_(n,r)}Z_(t){const n={};n.database=c_(this.serializer),n.addTarget=function(a,s){let o;const l=s.target;if(o=a_(l)?{documents:nG(a,l)}:{query:rG(a,l).ft},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=FD(a,s.resumeToken);const u=o_(a,s.expectedCount);u!==null&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(ae.min())>0){o.readTime=wp(a,s.snapshotVersion.toTimestamp());const u=o_(a,s.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,t);const r=aG(this.serializer,t);r&&(n.labels=r),this.K_(n)}X_(t){const n={};n.database=c_(this.serializer),n.removeTarget=t,this.K_(n)}}class YG extends nM{constructor(t,n,r,i,a,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}H_(t){return Te(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Te(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Te(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=tG(t.writeResults,t.commitTime),r=di(t.commitTime);return this.listener.na(r,n)}ra(){const t={};t.database=c_(this.serializer),this.K_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>eG(this.serializer,r))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WG{}class XG extends WG{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new G(U.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Wo(t,l_(n,r),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new G(U.UNKNOWN,a.toString())})}jo(t,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.jo(t,l_(n,r),i,s,o,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new G(U.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function QG(e,t,n,r){return new XG(e,t,n,r)}class ZG{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(aa(n),this.aa=!1):Y("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co="RemoteStore";class JG{constructor(t,n,r,i,a){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=a,this.Aa.Mo(s=>{r.enqueueAndForget(async()=>{qo(this)&&(Y(Co,"Restarting streams for network reachability change."),await async function(l){const u=se(l);u.Ea.add(4),await xd(u),u.Va.set("Unknown"),u.Ea.delete(4),await iy(u)}(this))})}),this.Va=new ZG(r,i)}}async function iy(e){if(qo(e))for(const t of e.Ra)await t(!0)}async function xd(e){for(const t of e.Ra)await t(!1)}function rM(e,t){const n=se(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Qw(n)?Xw(n):Nu(n).O_()&&Ww(n,t))}function Yw(e,t){const n=se(e),r=Nu(n);n.Ia.delete(t),r.O_()&&iM(n,t),n.Ia.size===0&&(r.O_()?r.L_():qo(n)&&n.Va.set("Unknown"))}function Ww(e,t){if(e.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ae.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Nu(e).Z_(t)}function iM(e,t){e.da.$e(t),Nu(e).X_(t)}function Xw(e){e.da=new GH({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Nu(e).start(),e.Va.ua()}function Qw(e){return qo(e)&&!Nu(e).x_()&&e.Ia.size>0}function qo(e){return se(e).Ea.size===0}function aM(e){e.da=void 0}async function eK(e){e.Va.set("Online")}async function tK(e){e.Ia.forEach((t,n)=>{Ww(e,t)})}async function nK(e,t){aM(e),Qw(e)?(e.Va.ha(t),Xw(e)):e.Va.set("Unknown")}async function rK(e,t,n){if(e.Va.set("Online"),t instanceof $D&&t.state===2&&t.cause)try{await async function(i,a){const s=a.cause;for(const o of a.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,s),i.Ia.delete(o),i.da.removeTarget(o))}(e,t)}catch(r){Y(Co,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Sp(e,r)}else if(t instanceof Sm?e.da.Xe(t):t instanceof BD?e.da.st(t):e.da.tt(t),!n.isEqual(ae.min()))try{const r=await eM(e.localStore);n.compareTo(r)>=0&&await function(a,s){const o=a.da.Tt(s);return o.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=a.Ia.get(u);c&&a.Ia.set(u,c.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach((l,u)=>{const c=a.Ia.get(l);if(!c)return;a.Ia.set(l,c.withResumeToken(cn.EMPTY_BYTE_STRING,c.snapshotVersion)),iM(a,l);const f=new Za(c.target,l,u,c.sequenceNumber);Ww(a,f)}),a.remoteSyncer.applyRemoteEvent(o)}(e,n)}catch(r){Y(Co,"Failed to raise snapshot:",r),await Sp(e,r)}}async function Sp(e,t,n){if(!Tu(t))throw t;e.Ea.add(1),await xd(e),e.Va.set("Offline"),n||(n=()=>eM(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Y(Co,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await iy(e)})}function sM(e,t){return t().catch(n=>Sp(e,n,t))}async function ay(e){const t=se(e),n=As(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Dw;for(;iK(t);)try{const i=await VG(t.localStore,r);if(i===null){t.Ta.length===0&&n.L_();break}r=i.batchId,aK(t,i)}catch(i){await Sp(t,i)}oM(t)&&lM(t)}function iK(e){return qo(e)&&e.Ta.length<10}function aK(e,t){e.Ta.push(t);const n=As(e);n.O_()&&n.Y_&&n.ea(t.mutations)}function oM(e){return qo(e)&&!As(e).x_()&&e.Ta.length>0}function lM(e){As(e).start()}async function sK(e){As(e).ra()}async function oK(e){const t=As(e);for(const n of e.Ta)t.ea(n.mutations)}async function lK(e,t,n){const r=e.Ta.shift(),i=Bw.from(r,t,n);await sM(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await ay(e)}async function uK(e,t){t&&As(e).Y_&&await async function(r,i){if(function(s){return FH(s)&&s!==U.ABORTED}(i.code)){const a=r.Ta.shift();As(r).B_(),await sM(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await ay(r)}}(e,t),oM(e)&&lM(e)}async function eN(e,t){const n=se(e);n.asyncQueue.verifyOperationInProgress(),Y(Co,"RemoteStore received new credentials");const r=qo(n);n.Ea.add(3),await xd(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await iy(n)}async function cK(e,t){const n=se(e);t?(n.Ea.delete(2),await iy(n)):t||(n.Ea.add(2),await xd(n),n.Va.set("Unknown"))}function Nu(e){return e.ma||(e.ma=function(n,r,i){const a=se(n);return a.sa(),new KG(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(e.datastore,e.asyncQueue,{Zo:eK.bind(null,e),Yo:tK.bind(null,e),t_:nK.bind(null,e),J_:rK.bind(null,e)}),e.Ra.push(async t=>{t?(e.ma.B_(),Qw(e)?Xw(e):e.Va.set("Unknown")):(await e.ma.stop(),aM(e))})),e.ma}function As(e){return e.fa||(e.fa=function(n,r,i){const a=se(n);return a.sa(),new YG(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(e.datastore,e.asyncQueue,{Zo:()=>Promise.resolve(),Yo:sK.bind(null,e),t_:uK.bind(null,e),ta:oK.bind(null,e),na:lK.bind(null,e)}),e.Ra.push(async t=>{t?(e.fa.B_(),await ay(e)):(await e.fa.stop(),e.Ta.length>0&&(Y(Co,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(t,n,r,i,a){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Yi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,a){const s=Date.now()+r,o=new Zw(t,n,s,i,a);return o.start(r),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(U.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jw(e,t){if(aa("AsyncQueue",`${t}: ${e}`),Tu(e))return new G(U.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{static emptySet(t){return new Ll(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||J.comparator(n.key,r.key):(n,r)=>J.comparator(n.key,r.key),this.keyedMap=Oc(),this.sortedSet=new tt(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Ll)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Ll;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(){this.ga=new tt(J.comparator)}track(t){const n=t.doc.key,r=this.ga.get(n);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(n,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(n):t.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):re(63341,{Vt:t,pa:r}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal((n,r)=>{t.push(r)}),t}}class ru{constructor(t,n,r,i,a,s,o,l,u){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,n,r,i,a){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new ru(t,n,Ll.emptySet(n),s,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Qg(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fK{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(t=>t.Da())}}class dK{constructor(){this.queries=nN(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=se(n),a=i.queries;i.queries=nN(),a.forEach((s,o)=>{for(const l of o.ba)l.onError(r)})})(this,new G(U.ABORTED,"Firestore shutting down"))}}function nN(){return new Fo(e=>TD(e),Qg)}async function e1(e,t){const n=se(e);let r=3;const i=t.query;let a=n.queries.get(i);a?!a.Sa()&&t.Da()&&(r=2):(a=new fK,r=t.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const o=Jw(s,`Initialization of query '${sl(t.query)}' failed`);return void t.onError(o)}n.queries.set(i,a),a.ba.push(t),t.va(n.onlineState),a.wa&&t.Fa(a.wa)&&n1(n)}async function t1(e,t){const n=se(e),r=t.query;let i=3;const a=n.queries.get(r);if(a){const s=a.ba.indexOf(t);s>=0&&(a.ba.splice(s,1),a.ba.length===0?i=t.Da()?0:1:!a.Sa()&&t.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function hK(e,t){const n=se(e);let r=!1;for(const i of t){const a=i.query,s=n.queries.get(a);if(s){for(const o of s.ba)o.Fa(i)&&(r=!0);s.wa=i}}r&&n1(n)}function mK(e,t,n){const r=se(e),i=r.queries.get(t);if(i)for(const a of i.ba)a.onError(n);r.queries.delete(t)}function n1(e){e.Ca.forEach(t=>{t.next()})}var h_,rN;(rN=h_||(h_={})).Ma="default",rN.Cache="cache";class r1{constructor(t,n,r){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new ru(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=ru.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==h_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(t){this.key=t}}class cM{constructor(t){this.key=t}}class pK{constructor(t,n){this.query=t,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ye(),this.mutatedKeys=ye(),this.eu=CD(t),this.tu=new Ll(this.eu)}get nu(){return this.Za}ru(t,n){const r=n?n.iu:new tN,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,s=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,f)=>{const h=i.get(c),p=Zg(this.query,f)?f:null,g=!!h&&this.mutatedKeys.has(h.key),x=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let v=!1;h&&p?h.data.isEqual(p.data)?g!==x&&(r.track({type:3,doc:p}),v=!0):this.su(h,p)||(r.track({type:2,doc:p}),v=!0,(l&&this.eu(p,l)>0||u&&this.eu(p,u)<0)&&(o=!0)):!h&&p?(r.track({type:0,doc:p}),v=!0):h&&!p&&(r.track({type:1,doc:h}),v=!0,(l||u)&&(o=!0)),v&&(p?(s=s.add(p),a=x?a.add(c):a.delete(c)):(s=s.delete(c),a=a.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),a=a.delete(c.key),r.track({type:1,doc:c})}return{tu:s,iu:r,Ss:o,mutatedKeys:a}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,i){const a=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const s=t.iu.ya();s.sort((c,f)=>function(p,g){const x=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return re(20277,{Vt:v})}};return x(p)-x(g)}(c.type,f.type)||this.eu(c.doc,f.doc)),this.ou(r),i=i??!1;const o=n&&!i?this._u():[],l=this.Ya.size===0&&this.current&&!i?1:0,u=l!==this.Xa;return this.Xa=l,s.length!==0||u?{snapshot:new ru(this.query,t.tu,a,s,t.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new tN,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(n=>this.Za=this.Za.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Za=this.Za.delete(n)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=ye(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return t.forEach(r=>{this.Ya.has(r)||n.push(new cM(r))}),this.Ya.forEach(r=>{t.has(r)||n.push(new uM(r))}),n}cu(t){this.Za=t.ks,this.Ya=ye();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return ru.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const i1="SyncEngine";class gK{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class yK{constructor(t){this.key=t,this.hu=!1}}class vK{constructor(t,n,r,i,a,s){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Fo(o=>TD(o),Qg),this.Iu=new Map,this.Eu=new Set,this.Ru=new tt(J.comparator),this.Au=new Map,this.Vu=new qw,this.du={},this.mu=new Map,this.fu=nu.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function bK(e,t,n=!0){const r=gM(e);let i;const a=r.Tu.get(t);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await fM(r,t,n,!0),i}async function _K(e,t){const n=gM(e);await fM(n,t,!0,!1)}async function fM(e,t,n,r){const i=await UG(e.localStore,fi(t)),a=i.targetId,s=e.sharedClientState.addLocalQueryTarget(a,n);let o;return r&&(o=await xK(e,t,a,s==="current",i.resumeToken)),e.isPrimaryClient&&n&&rM(e.remoteStore,i),o}async function xK(e,t,n,r,i){e.pu=(f,h,p)=>async function(x,v,w,_){let S=v.view.ru(w);S.Ss&&(S=await WC(x.localStore,v.query,!1).then(({documents:A})=>v.view.ru(A,S)));const C=_&&_.targetChanges.get(v.targetId),P=_&&_.targetMismatches.get(v.targetId)!=null,O=v.view.applyChanges(S,x.isPrimaryClient,C,P);return aN(x,v.targetId,O.au),O.snapshot}(e,f,h,p);const a=await WC(e.localStore,t,!0),s=new pK(t,a.ks),o=s.ru(a.documents),l=_d.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),u=s.applyChanges(o,e.isPrimaryClient,l);aN(e,n,u.au);const c=new gK(t,n,s);return e.Tu.set(t,c),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),u.snapshot}async function wK(e,t,n){const r=se(e),i=r.Tu.get(t),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter(s=>!Qg(s,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await f_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Yw(r.remoteStore,i.targetId),m_(r,i.targetId)}).catch(Au)):(m_(r,i.targetId),await f_(r.localStore,i.targetId,!0))}async function EK(e,t){const n=se(e),r=n.Tu.get(t),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Yw(n.remoteStore,r.targetId))}async function SK(e,t,n){const r=PK(e);try{const i=await function(s,o){const l=se(s),u=qe.now(),c=o.reduce((p,g)=>p.add(g.key),ye());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=sa(),x=ye();return l.xs.getEntries(p,c).next(v=>{g=v,g.forEach((w,_)=>{_.isValidDocument()||(x=x.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(v=>{f=v;const w=[];for(const _ of o){const S=VH(_,f.get(_.key).overlayedDocument);S!=null&&w.push(new Ds(_.key,S,vD(S.value.mapValue),$n.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,w,o)}).next(v=>{h=v;const w=v.applyToLocalDocumentSet(f,x);return l.documentOverlayCache.saveOverlays(p,v.batchId,w)})}).then(()=>({batchId:h.batchId,changes:OD(f)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,l){let u=s.du[s.currentUser.toKey()];u||(u=new tt(ge)),u=u.insert(o,l),s.du[s.currentUser.toKey()]=u}(r,i.batchId,n),await wd(r,i.changes),await ay(r.remoteStore)}catch(i){const a=Jw(i,"Failed to persist write");n.reject(a)}}async function dM(e,t){const n=se(e);try{const r=await MG(n.localStore,t);t.targetChanges.forEach((i,a)=>{const s=n.Au.get(a);s&&(Te(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?Te(s.hu,14607):i.removedDocuments.size>0&&(Te(s.hu,42227),s.hu=!1))}),await wd(n,r,t)}catch(r){await Au(r)}}function iN(e,t,n){const r=se(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((a,s)=>{const o=s.view.va(t);o.snapshot&&i.push(o.snapshot)}),function(s,o){const l=se(s);l.onlineState=o;let u=!1;l.queries.forEach((c,f)=>{for(const h of f.ba)h.va(o)&&(u=!0)}),u&&n1(l)}(r.eventManager,t),i.length&&r.Pu.J_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function AK(e,t,n){const r=se(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Au.get(t),a=i&&i.key;if(a){let s=new tt(J.comparator);s=s.insert(a,yn.newNoDocument(a,ae.min()));const o=ye().add(a),l=new ny(ae.min(),new Map,new tt(ge),s,o);await dM(r,l),r.Ru=r.Ru.remove(a),r.Au.delete(t),a1(r)}else await f_(r.localStore,t,!1).then(()=>m_(r,t,n)).catch(Au)}async function TK(e,t){const n=se(e),r=t.batch.batchId;try{const i=await DG(n.localStore,t);mM(n,r,null),hM(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await wd(n,i)}catch(i){await Au(i)}}async function CK(e,t,n){const r=se(e);try{const i=await function(s,o){const l=se(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,o).next(f=>(Te(f!==null,37113),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,t);mM(r,t,n),hM(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await wd(r,i)}catch(i){await Au(i)}}function hM(e,t){(e.mu.get(t)||[]).forEach(n=>{n.resolve()}),e.mu.delete(t)}function mM(e,t,n){const r=se(e);let i=r.du[r.currentUser.toKey()];if(i){const a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.du[r.currentUser.toKey()]=i}}function m_(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Vu.Gr(t).forEach(r=>{e.Vu.containsKey(r)||pM(e,r)})}function pM(e,t){e.Eu.delete(t.path.canonicalString());const n=e.Ru.get(t);n!==null&&(Yw(e.remoteStore,n),e.Ru=e.Ru.remove(t),e.Au.delete(n),a1(e))}function aN(e,t,n){for(const r of n)r instanceof uM?(e.Vu.addReference(r.key,t),NK(e,r)):r instanceof cM?(Y(i1,"Document no longer in limbo: "+r.key),e.Vu.removeReference(r.key,t),e.Vu.containsKey(r.key)||pM(e,r.key)):re(19791,{wu:r})}function NK(e,t){const n=t.key,r=n.path.canonicalString();e.Ru.get(n)||e.Eu.has(r)||(Y(i1,"New document in limbo: "+n),e.Eu.add(r),a1(e))}function a1(e){for(;e.Eu.size>0&&e.Ru.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new J(Le.fromString(t)),r=e.fu.next();e.Au.set(r,new yK(n)),e.Ru=e.Ru.insert(n,r),rM(e.remoteStore,new Za(fi(Xg(n.path)),r,"TargetPurposeLimboResolution",Kg.ce))}}async function wd(e,t,n){const r=se(e),i=[],a=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((o,l)=>{s.push(r.pu(l,t,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=Gw.Es(l.targetId,u);a.push(f)}}))}),await Promise.all(s),r.Pu.J_(i),await async function(l,u){const c=se(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>B.forEach(u,h=>B.forEach(h.Ts,p=>c.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>B.forEach(h.Is,p=>c.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!Tu(f))throw f;Y(Kw,"Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const p=c.vs.get(h),g=p.snapshotVersion,x=p.withLastLimboFreeSnapshotVersion(g);c.vs=c.vs.insert(h,x)}}}(r.localStore,a))}async function OK(e,t){const n=se(e);if(!n.currentUser.isEqual(t)){Y(i1,"User change. New user:",t.toKey());const r=await JD(n.localStore,t);n.currentUser=t,function(a,s){a.mu.forEach(o=>{o.forEach(l=>{l.reject(new G(U.CANCELLED,s))})}),a.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await wd(n,r.Ns)}}function IK(e,t){const n=se(e),r=n.Au.get(t);if(r&&r.hu)return ye().add(r.key);{let i=ye();const a=n.Iu.get(t);if(!a)return i;for(const s of a){const o=n.Tu.get(s);i=i.unionWith(o.view.nu)}return i}}function gM(e){const t=se(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=dM.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=IK.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=AK.bind(null,t),t.Pu.J_=hK.bind(null,t.eventManager),t.Pu.yu=mK.bind(null,t.eventManager),t}function PK(e){const t=se(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=TK.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=CK.bind(null,t),t}class Ap{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=ry(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return kG(this.persistence,new PG,t.initialUser,this.serializer)}Cu(t){return new ZD(Hw.Vi,this.serializer)}Du(t){return new BG}async terminate(){var t,n;(t=this.gcScheduler)==null||t.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ap.provider={build:()=>new Ap};class RK extends Ap{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Te(this.persistence.referenceDelegate instanceof Ep,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new gG(r,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?Ln.withCacheSize(this.cacheSizeBytes):Ln.DEFAULT;return new ZD(r=>Ep.Vi(r,n),this.serializer)}}class p_{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>iN(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=OK.bind(null,this.syncEngine),await cK(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new dK}()}createDatastore(t){const n=ry(t.databaseInfo.databaseId),r=GG(t.databaseInfo);return QG(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,a,s,o){return new JG(r,i,a,s,o)}(this.localStore,this.datastore,t.asyncQueue,n=>iN(this.syncEngine,n,0),function(){return ZC.v()?new ZC:new $G}())}createSyncEngine(t,n){return function(i,a,s,o,l,u,c){const f=new vK(i,a,s,o,l,u);return c&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(i){const a=se(i);Y(Co,"RemoteStore shutting down."),a.Ea.add(5),await xd(a),a.Aa.shutdown(),a.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)==null||t.terminate(),(n=this.eventManager)==null||n.terminate()}}p_.provider={build:()=>new p_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):aa("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts="FirestoreClient";class jK{constructor(t,n,r,i,a){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=i,this.user=gn.UNAUTHENTICATED,this.clientId=kw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async s=>{Y(Ts,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Y(Ts,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Yi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Jw(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function b0(e,t){e.asyncQueue.verifyOperationInProgress(),Y(Ts,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await JD(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function sN(e,t){e.asyncQueue.verifyOperationInProgress();const n=await kK(e);Y(Ts,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>eN(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,i)=>eN(t.remoteStore,i)),e._onlineComponents=t}async function kK(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Y(Ts,"Using user provided OfflineComponentProvider");try{await b0(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(i){return i.name==="FirebaseError"?i.code===U.FAILED_PRECONDITION||i.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Zl("Error using user provided cache. Falling back to memory cache: "+n),await b0(e,new Ap)}}else Y(Ts,"Using default OfflineComponentProvider"),await b0(e,new RK(void 0));return e._offlineComponents}async function yM(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Y(Ts,"Using user provided OnlineComponentProvider"),await sN(e,e._uninitializedComponentsProvider._online)):(Y(Ts,"Using default OnlineComponentProvider"),await sN(e,new p_))),e._onlineComponents}function DK(e){return yM(e).then(t=>t.syncEngine)}async function Tp(e){const t=await yM(e),n=t.eventManager;return n.onListen=bK.bind(null,t.syncEngine),n.onUnlisten=wK.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=_K.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=EK.bind(null,t.syncEngine),n}function MK(e,t,n,r){const i=new s1(r),a=new r1(t,i,n);return e.asyncQueue.enqueueAndForget(async()=>e1(await Tp(e),a)),()=>{i.Nu(),e.asyncQueue.enqueueAndForget(async()=>t1(await Tp(e),a))}}function LK(e,t,n={}){const r=new Yi;return e.asyncQueue.enqueueAndForget(async()=>function(a,s,o,l,u){const c=new s1({next:h=>{c.Nu(),s.enqueueAndForget(()=>t1(a,f));const p=h.docs.has(o);!p&&h.fromCache?u.reject(new G(U.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?u.reject(new G(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new r1(Xg(o.path),c,{includeMetadataChanges:!0,Ka:!0});return e1(a,f)}(await Tp(e),e.asyncQueue,t,n,r)),r.promise}function VK(e,t,n={}){const r=new Yi;return e.asyncQueue.enqueueAndForget(async()=>function(a,s,o,l,u){const c=new s1({next:h=>{c.Nu(),s.enqueueAndForget(()=>t1(a,f)),h.fromCache&&l.source==="server"?u.reject(new G(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new r1(o,c,{includeMetadataChanges:!0,Ka:!0});return e1(a,f)}(await Tp(e),e.asyncQueue,t,n,r)),r.promise}function UK(e,t){const n=new Yi;return e.asyncQueue.enqueueAndForget(async()=>SK(await DK(e),t,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vM(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zK="ComponentProvider",oN=new Map;function BK(e,t,n,r,i){return new oH(e,t,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,vM(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM="firestore.googleapis.com",lN=!0;class uN{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new G(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=bM,this.ssl=lN}else this.host=t.host,this.ssl=t.ssl??lN;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=QD;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<mG)throw new G(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Xq("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vM(t.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new G(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new G(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new G(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class sy{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uN({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new G(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new G(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uN(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new zq;switch(r.type){case"firstParty":return new qq(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new G(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=oN.get(n);r&&(Y(zK,"Removing Datastore"),oN.delete(n),r.terminate())}(this),Promise.resolve()}}function $K(e,t,n,r={}){var u;e=sr(e,sy);const i=Rs(t),a=e._getSettings(),s={...a,emulatorOptions:e._getEmulatorOptions()},o=`${t}:${n}`;i&&(_w(`https://${o}`),xw("Firestore",!0)),a.host!==bM&&a.host!==o&&Zl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...a,host:o,ssl:i,emulatorOptions:r};if(!Eo(l,s)&&(e._setSettings(l),r.mockUserToken)){let c,f;if(typeof r.mockUserToken=="string")c=r.mockUserToken,f=gn.MOCK_USER;else{c=mk(r.mockUserToken,(u=e._app)==null?void 0:u.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new G(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new gn(h)}e._authCredentials=new Bq(new sD(c,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new ga(this.firestore,t,this._query)}}class ht{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ht(this.firestore,t,this._key)}toJSON(){return{type:ht._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(vd(n,ht._jsonSchema))return new ht(t,r||null,new J(Le.fromString(n.referencePath)))}}ht._jsonSchemaVersion="firestore/documentReference/1.0",ht._jsonSchema={type:St("string",ht._jsonSchemaVersion),referencePath:St("string")};class hs extends ga{constructor(t,n,r){super(t,n,Xg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ht(this.firestore,null,new J(t))}withConverter(t){return new hs(this.firestore,t,this._path)}}function oa(e,t,...n){if(e=Ke(e),oD("collection","path",t),e instanceof sy){const r=Le.fromString(t,...n);return wC(r),new hs(e,null,r)}{if(!(e instanceof ht||e instanceof hs))throw new G(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Le.fromString(t,...n));return wC(r),new hs(e.firestore,null,r)}}function Tr(e,t,...n){if(e=Ke(e),arguments.length===1&&(t=kw.newId()),oD("doc","path",t),e instanceof sy){const r=Le.fromString(t,...n);return xC(r),new ht(e,null,new J(r))}{if(!(e instanceof ht||e instanceof hs))throw new G(U.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Le.fromString(t,...n));return xC(r),new ht(e.firestore,e instanceof hs?e.converter:null,new J(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN="AsyncQueue";class fN{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new tM(this,"async_queue_retry"),this._c=()=>{const r=v0();r&&Y(cN,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=v0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=v0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Yi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Yu.push(t),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!Tu(t))throw t;Y(cN,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(r=>{throw this.nc=r,this.rc=!1,aa("INTERNAL UNHANDLED ERROR: ",dN(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const i=Zw.createAndSchedule(this,t,n,r,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&re(47125,{Pc:dN(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function dN(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class la extends sy{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=new fN,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new fN(t),this._firestoreClient=void 0,await t}}}function FK(e,t){const n=typeof e=="object"?e:Sw(),r=typeof e=="string"?e:vp,i=Bg(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=fk("firestore");a&&$K(i,...a)}return i}function Ed(e){if(e._terminated)throw new G(U.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||qK(e),e._firestoreClient}function qK(e){var r,i,a,s;const t=e._freezeSettings(),n=BK(e._databaseId,((r=e._app)==null?void 0:r.options.appId)||"",e._persistenceKey,(i=e._app)==null?void 0:i.options.apiKey,t);e._componentsProvider||(a=t.localCache)!=null&&a._offlineComponentProvider&&((s=t.localCache)!=null&&s._onlineComponentProvider)&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new jK(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(t){this._byteString=t}static fromBase64String(t){try{return new xr(cn.fromBase64String(t))}catch(n){throw new G(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new xr(cn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:xr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(vd(t,xr._jsonSchema))return xr.fromBase64String(t.bytes)}}xr._jsonSchemaVersion="firestore/bytes/1.0",xr._jsonSchema={type:St("string",xr._jsonSchemaVersion),bytes:St("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new G(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new G(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new G(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return ge(this._lat,t._lat)||ge(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:hi._jsonSchemaVersion}}static fromJSON(t){if(vd(t,hi._jsonSchema))return new hi(t.latitude,t.longitude)}}hi._jsonSchemaVersion="firestore/geoPoint/1.0",hi._jsonSchema={type:St("string",hi._jsonSchemaVersion),latitude:St("number"),longitude:St("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,t._values)}toJSON(){return{type:zr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(vd(t,zr._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new zr(t.vectorValues);throw new G(U.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}zr._jsonSchemaVersion="firestore/vectorValue/1.0",zr._jsonSchema={type:St("string",zr._jsonSchemaVersion),vectorValues:St("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HK=/^__.*__$/;class GK{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Ds(t,this.data,this.fieldMask,n,this.fieldTransforms):new bd(t,this.data,n,this.fieldTransforms)}}class _M{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new Ds(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function xM(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw re(40011,{dataSource:e})}}class o1{constructor(t,n,r,i,a,s){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.validatePath(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new o1({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){var i;const n=(i=this.path)==null?void 0:i.child(t),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(t),r}childContextForFieldPath(t){var i;const n=(i=this.path)==null?void 0:i.child(t),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return Cp(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(xM(this.dataSource)&&HK.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class KK{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||ry(t)}createContext(t,n,r,i=!1){return new o1({dataSource:t,methodName:n,targetDoc:r,path:an.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ly(e){const t=e._freezeSettings(),n=ry(e._databaseId);return new KK(e._databaseId,!!t.ignoreUndefinedProperties,n)}function wM(e,t,n,r,i,a={}){const s=e.createContext(a.merge||a.mergeFields?2:0,t,n,i);c1("Data must be an object, but it was:",s,r);const o=AM(r,s);let l,u;if(a.merge)l=new Jn(s.fieldMask),u=s.fieldTransforms;else if(a.mergeFields){const c=[];for(const f of a.mergeFields){const h=iu(t,f,n);if(!s.contains(h))throw new G(U.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);NM(c,h)||c.push(h)}l=new Jn(c),u=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=s.fieldTransforms;return new GK(new Vn(o),l,u)}class uy extends Sd{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof uy}}class l1 extends Sd{_toFieldTransform(t){return new LD(t.path,new Cf)}isEqual(t){return t instanceof l1}}class u1 extends Sd{constructor(t,n){super(t),this.Vc=n}_toFieldTransform(t){const n=new If(t.serializer,RD(t.serializer,this.Vc));return new LD(t.path,n)}isEqual(t){return t instanceof u1&&this.Vc===t.Vc}}function EM(e,t,n,r){const i=e.createContext(1,t,n);c1("Data must be an object, but it was:",i,r);const a=[],s=Vn.empty();ks(r,(l,u)=>{const c=CM(t,l,n);u=Ke(u);const f=i.childContextForFieldPath(c);if(u instanceof uy)a.push(c);else{const h=Ad(u,f);h!=null&&(a.push(c),s.set(c,h))}});const o=new Jn(a);return new _M(s,o,i.fieldTransforms)}function SM(e,t,n,r,i,a){const s=e.createContext(1,t,n),o=[iu(t,r,n)],l=[i];if(a.length%2!=0)throw new G(U.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<a.length;h+=2)o.push(iu(t,a[h])),l.push(a[h+1]);const u=[],c=Vn.empty();for(let h=o.length-1;h>=0;--h)if(!NM(u,o[h])){const p=o[h];let g=l[h];g=Ke(g);const x=s.childContextForFieldPath(p);if(g instanceof uy)u.push(p);else{const v=Ad(g,x);v!=null&&(u.push(p),c.set(p,v))}}const f=new Jn(u);return new _M(c,f,s.fieldTransforms)}function YK(e,t,n,r=!1){return Ad(n,e.createContext(r?4:3,t))}function Ad(e,t){if(TM(e=Ke(e)))return c1("Unsupported field value:",t,e),AM(e,t);if(e instanceof Sd)return function(r,i){if(!xM(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return function(r,i){const a=[];let s=0;for(const o of r){let l=Ad(o,i.childContextForArray(s));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),s++}return{arrayValue:{values:a}}}(e,t)}return function(r,i){if((r=Ke(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return RD(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=qe.fromDate(r);return{timestampValue:wp(i.serializer,a)}}if(r instanceof qe){const a=new qe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:wp(i.serializer,a)}}if(r instanceof hi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof xr)return{bytesValue:FD(i.serializer,r._byteString)};if(r instanceof ht){const a=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(a))throw i.createError(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Fw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof zr)return function(s,o){const l=s instanceof zr?s.toArray():s;return{mapValue:{fields:{[gD]:{stringValue:yD},[bp]:{arrayValue:{values:l.map(c=>{if(typeof c!="number")throw o.createError("VectorValues must only contain numeric values.");return zw(o.serializer,c)})}}}}}}(r,i);if(XD(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${Gg(r)}`)}(e,t)}function AM(e,t){const n={};return cD(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ks(e,(r,i)=>{const a=Ad(i,t.childContextForField(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function TM(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof qe||e instanceof hi||e instanceof xr||e instanceof ht||e instanceof Sd||e instanceof zr||XD(e))}function c1(e,t,n){if(!TM(n)||!lD(n)){const r=Gg(n);throw r==="an object"?t.createError(e+" a custom object"):t.createError(e+" "+r)}}function iu(e,t,n){if((t=Ke(t))instanceof oy)return t._internalPath;if(typeof t=="string")return CM(e,t);throw Cp("Field path arguments must be of type string or ",e,!1,void 0,n)}const WK=new RegExp("[~\\*/\\[\\]]");function CM(e,t,n){if(t.search(WK)>=0)throw Cp(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new oy(...t.split("."))._internalPath}catch{throw Cp(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Cp(e,t,n,r,i){const a=r&&!r.isEmpty(),s=i!==void 0;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||s)&&(l+=" (found",a&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new G(U.INVALID_ARGUMENT,o+e+l)}function NM(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XK{convertValue(t,n="none"){switch(Ss(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ft(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Es(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw re(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return ks(t,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(t){var r,i,a;const n=(a=(i=(r=t.fields)==null?void 0:r[bp].arrayValue)==null?void 0:i.values)==null?void 0:a.map(s=>ft(s.doubleValue));return new zr(n)}convertGeoPoint(t){return new hi(ft(t.latitude),ft(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=Wg(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ef(t));default:return null}}convertTimestamp(t){const n=ws(t);return new qe(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=Le.fromString(t);Te(WD(r),9688,{name:t});const i=new Sf(r.get(1),r.get(3)),a=new J(r.popFirst(5));return i.isEqual(n)||aa(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1 extends XK{constructor(t){super(),this.firestore=t}convertBytes(t){return new xr(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new ht(this.firestore,null,n)}}function OM(){return new l1("serverTimestamp")}function QK(e){return new u1("increment",e)}const hN="@firebase/firestore",mN="4.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(e){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(e,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(t,n,r,i,a){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new ZK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var t;return((t=this._document)==null?void 0:t.data.clone().value.mapValue.fields)??void 0}get(t){if(this._document){const n=this._document.data.field(iu("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ZK extends IM{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PM(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new G(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class d1{}class h1 extends d1{}function m1(e,t,...n){let r=[];t instanceof d1&&r.push(t),r=r.concat(n),function(a){const s=a.filter(l=>l instanceof g1).length,o=a.filter(l=>l instanceof p1).length;if(s>1||s>0&&o>0)throw new G(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}class p1 extends h1{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new p1(t,n,r)}_apply(t){const n=this._parse(t);return jM(t._query,n),new ga(t.firestore,t.converter,s_(t._query,n))}_parse(t){const n=ly(t.firestore);return function(a,s,o,l,u,c,f){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new G(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){yN(f,c);const g=[];for(const x of f)g.push(gN(l,a,x));h={arrayValue:{values:g}}}else h=gN(l,a,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||yN(f,c),h=YK(o,s,f,c==="in"||c==="not-in");return wt.create(u,c,h)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class g1 extends d1{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new g1(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Fr.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(i,a){let s=i;const o=a.getFlattenedFilters();for(const l of o)jM(s,l),s=s_(s,l)}(t._query,n),new ga(t.firestore,t.converter,s_(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class y1 extends h1{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new y1(t,n)}_apply(t){const n=function(i,a,s){if(i.startAt!==null)throw new G(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new G(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Tf(a,s)}(t._query,this._field,this._direction);return new ga(t.firestore,t.converter,AH(t._query,n))}}function RM(e,t="asc"){const n=t,r=iu("orderBy",e);return y1._create(r,n)}class v1 extends h1{constructor(t,n,r){super(),this.type=t,this._limit=n,this._limitType=r}static _create(t,n,r){return new v1(t,n,r)}_apply(t){return new ga(t.firestore,t.converter,xp(t._query,this._limit,this._limitType))}}function JK(e){return v1._create("limit",e,"F")}function gN(e,t,n){if(typeof(n=Ke(n))=="string"){if(n==="")throw new G(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!AD(t)&&n.indexOf("/")!==-1)throw new G(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Le.fromString(n));if(!J.isDocumentKey(r))throw new G(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return IC(e,new J(r))}if(n instanceof ht)return IC(e,n._key);throw new G(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Gg(n)}.`)}function yN(e,t){if(!Array.isArray(e)||e.length===0)throw new G(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function jM(e,t){const n=function(i,a){for(const s of i)for(const o of s.getFlattenedFilters())if(a.indexOf(o.op)>=0)return o.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new G(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new G(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function kM(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Pc{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class co extends IM{constructor(t,n,r,i,a,s){super(t,n,r,i,s),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Am(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(iu("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new G(U.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=co._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}co._jsonSchemaVersion="firestore/documentSnapshot/1.0",co._jsonSchema={type:St("string",co._jsonSchemaVersion),bundleSource:St("string","DocumentSnapshot"),bundleName:St("string"),bundle:St("string")};class Am extends co{data(t={}){return super.data(t)}}class fo{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Pc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new Am(this._firestore,this._userDataWriter,r.key,r,new Pc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new G(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(o=>{const l=new Am(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Pc(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>a||o.type!==3).map(o=>{const l=new Am(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Pc(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return o.type!==0&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:eY(o.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new G(U.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=fo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=kw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function eY(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return re(61501,{type:e})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fo._jsonSchemaVersion="firestore/querySnapshot/1.0",fo._jsonSchema={type:St("string",fo._jsonSchemaVersion),bundleSource:St("string","QuerySnapshot"),bundleName:St("string"),bundle:St("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tY{constructor(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=ly(t)}set(t,n,r){this._verifyNotCommitted();const i=_0(t,this._firestore),a=kM(i.converter,n,r),s=wM(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,$n.none())),this}update(t,n,r,...i){this._verifyNotCommitted();const a=_0(t,this._firestore);let s;return s=typeof(n=Ke(n))=="string"||n instanceof oy?SM(this._dataReader,"WriteBatch.update",a._key,n,r,i):EM(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(s.toMutation(a._key,$n.exists(!0))),this}delete(t){this._verifyNotCommitted();const n=_0(t,this._firestore);return this._mutations=this._mutations.concat(new ty(n._key,$n.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new G(U.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function _0(e,t){if((e=Ke(e)).firestore!==t)throw new G(U.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(e){e=sr(e,ht);const t=sr(e.firestore,la),n=Ed(t);return LK(n,e._key).then(r=>MM(t,e,r))}function nY(e){e=sr(e,ga);const t=sr(e.firestore,la),n=Ed(t),r=new f1(t);return PM(e._query),VK(n,e._query).then(i=>new fo(t,r,e,i))}function Pf(e,t,n,...r){e=sr(e,ht);const i=sr(e.firestore,la),a=ly(i);let s;return s=typeof(t=Ke(t))=="string"||t instanceof oy?SM(a,"updateDoc",e._key,t,n,r):EM(a,"updateDoc",e._key,t),cy(i,[s.toMutation(e._key,$n.exists(!0))])}function DM(e){return cy(sr(e.firestore,la),[new ty(e._key,$n.none())])}function _1(e,t){const n=sr(e.firestore,la),r=Tr(e),i=kM(e.converter,t),a=ly(e.firestore);return cy(n,[wM(a,"addDoc",r._key,i,e.converter!==null,{}).toMutation(r._key,$n.exists(!1))]).then(()=>r)}function Td(e,...t){var u,c,f;e=Ke(e);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||pN(t[r])||(n=t[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(pN(t[r])){const h=t[r];t[r]=(u=h.next)==null?void 0:u.bind(h),t[r+1]=(c=h.error)==null?void 0:c.bind(h),t[r+2]=(f=h.complete)==null?void 0:f.bind(h)}let a,s,o;if(e instanceof ht)s=sr(e.firestore,la),o=Xg(e._key.path),a={next:h=>{t[r]&&t[r](MM(s,e,h))},error:t[r+1],complete:t[r+2]};else{const h=sr(e,ga);s=sr(h.firestore,la),o=h._query;const p=new f1(s);a={next:g=>{t[r]&&t[r](new fo(s,p,h,g))},error:t[r+1],complete:t[r+2]},PM(e._query)}const l=Ed(s);return MK(l,o,i,a)}function cy(e,t){const n=Ed(e);return UK(n,t)}function MM(e,t,n){const r=n.docs.get(t._key),i=new f1(e);return new co(e,i,t._key,r,new Pc(n.hasPendingWrites,n.fromCache),t.converter)}function rY(e){return e=sr(e,la),Ed(e),new tY(e,t=>cy(e,t))}(function(t,n=!0){Uq(Bo),So(new _s("firestore",(r,{instanceIdentifier:i,options:a})=>{const s=r.getProvider("app").getImmediate(),o=new la(new $q(r.getProvider("auth-internal")),new Hq(s,r.getProvider("app-check-internal")),lH(s,i),s);return a={useFetchStreams:n,...a},o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),li(hN,mN,t),li(hN,mN,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LM="firebasestorage.googleapis.com",VM="storageBucket",iY=2*60*1e3,aY=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt extends Ai{constructor(t,n,r=0){super(x0(t),`Firebase Storage: ${n} (${x0(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,lt.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return x0(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ot;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ot||(ot={}));function x0(e){return"storage/"+e}function x1(){const e="An unknown error occurred, please check the error payload for server response.";return new lt(ot.UNKNOWN,e)}function sY(e){return new lt(ot.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function oY(e){return new lt(ot.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function lY(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new lt(ot.UNAUTHENTICATED,e)}function uY(){return new lt(ot.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function cY(e){return new lt(ot.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function fY(){return new lt(ot.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function dY(){return new lt(ot.CANCELED,"User canceled the upload/download.")}function hY(e){return new lt(ot.INVALID_URL,"Invalid URL '"+e+"'.")}function mY(e){return new lt(ot.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function pY(){return new lt(ot.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+VM+"' property when initializing the app?")}function gY(){return new lt(ot.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function yY(){return new lt(ot.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function vY(e){return new lt(ot.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function g_(e){return new lt(ot.INVALID_ARGUMENT,e)}function UM(){return new lt(ot.APP_DELETED,"The Firebase app was deleted.")}function bY(e){return new lt(ot.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function tf(e,t){return new lt(ot.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function dc(e){throw new lt(ot.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=er.makeFromUrl(t,n)}catch{return new er(t,"")}if(r.path==="")return r;throw mY(t)}static makeFromUrl(t,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const s="(/(.*))?$",o=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function u(C){C.path_=decodeURIComponent(C.path)}const c="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${f}/${c}/b/${i}/o${h}`,"i"),g={bucket:1,path:3},x=n===LM?"(?:storage.googleapis.com|storage.cloud.google.com)":n,v="([^?#]*)",w=new RegExp(`^https?://${x}/${i}/${v}`,"i"),S=[{regex:o,indices:l,postModify:a},{regex:p,indices:g,postModify:u},{regex:w,indices:{bucket:1,path:2},postModify:u}];for(let C=0;C<S.length;C++){const P=S[C],O=P.regex.exec(t);if(O){const A=O[P.indices.bucket];let T=O[P.indices.path];T||(T=""),r=new er(A,T),P.postModify(r);break}}if(r==null)throw hY(t);return r}}class _Y{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xY(e,t,n){let r=1,i=null,a=null,s=!1,o=0;function l(){return o===2}let u=!1;function c(...v){u||(u=!0,t.apply(null,v))}function f(v){i=setTimeout(()=>{i=null,e(p,l())},v)}function h(){a&&clearTimeout(a)}function p(v,...w){if(u){h();return}if(v){h(),c.call(null,v,...w);return}if(l()||s){h(),c.call(null,v,...w);return}r<64&&(r*=2);let S;o===1?(o=2,S=0):S=(r+Math.random())*1e3,f(S)}let g=!1;function x(v){g||(g=!0,h(),!u&&(i!==null?(v||(o=2),clearTimeout(i),f(0)):v||(o=1)))}return f(0),a=setTimeout(()=>{s=!0,x(!0)},n),x}function wY(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EY(e){return e!==void 0}function SY(e){return typeof e=="object"&&!Array.isArray(e)}function w1(e){return typeof e=="string"||e instanceof String}function vN(e){return E1()&&e instanceof Blob}function E1(){return typeof Blob<"u"}function bN(e,t,n,r){if(r<t)throw g_(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw g_(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(e,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function zM(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var ho;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(ho||(ho={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AY(e,t){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,a=t.indexOf(e)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TY{constructor(t,n,r,i,a,s,o,l,u,c,f,h=!0,p=!1){this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=f,this.retry=h,this.isUsingEmulator=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,x)=>{this.resolve_=g,this.reject_=x,this.start_()})}start_(){const t=(r,i)=>{if(i){r(!1,new Dh(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const s=o=>{const l=o.loaded,u=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&a.addUploadProgressListener(s),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(s),this.pendingConnection_=null;const o=a.getErrorCode()===ho.NO_ERROR,l=a.getStatus();if(!o||AY(l,this.additionalRetryCodes_)&&this.retry){const c=a.getErrorCode()===ho.ABORT;r(!1,new Dh(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Dh(u,a))})},n=(r,i)=>{const a=this.resolve_,s=this.reject_,o=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(o,o.getResponse());EY(l)?a(l):a()}catch(l){s(l)}else if(o!==null){const l=x1();l.serverResponse=o.getErrorText(),this.errorCallback_?s(this.errorCallback_(o,l)):s(l)}else if(i.canceled){const l=this.appDelete_?UM():dY();s(l)}else{const l=fY();s(l)}};this.canceled_?n(!1,new Dh(!1,null,!0)):this.backoffId_=xY(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&wY(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Dh{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function CY(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function NY(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function OY(e,t){t&&(e["X-Firebase-GMPID"]=t)}function IY(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function PY(e,t,n,r,i,a,s=!0,o=!1){const l=zM(e.urlParams),u=e.url+l,c=Object.assign({},e.headers);return OY(c,t),CY(c,n),NY(c,a),IY(c,r),new TY(u,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RY(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function jY(...e){const t=RY();if(t!==void 0){const n=new t;for(let r=0;r<e.length;r++)n.append(e[r]);return n.getBlob()}else{if(E1())return new Blob(e);throw new lt(ot.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function kY(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DY(e){if(typeof atob>"u")throw vY("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ii={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class w0{constructor(t,n){this.data=t,this.contentType=n||null}}function MY(e,t){switch(e){case ii.RAW:return new w0(BM(t));case ii.BASE64:case ii.BASE64URL:return new w0($M(e,t));case ii.DATA_URL:return new w0(VY(t),UY(t))}throw x1()}function BM(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const a=r,s=e.charCodeAt(++n);r=65536|(a&1023)<<10|s&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function LY(e){let t;try{t=decodeURIComponent(e)}catch{throw tf(ii.DATA_URL,"Malformed data URL.")}return BM(t)}function $M(e,t){switch(e){case ii.BASE64:{const i=t.indexOf("-")!==-1,a=t.indexOf("_")!==-1;if(i||a)throw tf(e,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case ii.BASE64URL:{const i=t.indexOf("+")!==-1,a=t.indexOf("/")!==-1;if(i||a)throw tf(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=DY(t)}catch(i){throw i.message.includes("polyfill")?i:tf(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class FM{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw tf(ii.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=zY(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function VY(e){const t=new FM(e);return t.base64?$M(ii.BASE64,t.rest):LY(t.rest)}function UY(e){return new FM(e).contentType}function zY(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(t,n){let r=0,i="";vN(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(t,n){if(vN(this.data_)){const r=this.data_,i=kY(r,t,n);return i===null?null:new Ha(i)}else{const r=new Uint8Array(this.data_.buffer,t,n-t);return new Ha(r,!0)}}static getBlob(...t){if(E1()){const n=t.map(r=>r instanceof Ha?r.data_:r);return new Ha(jY.apply(null,n))}else{const n=t.map(s=>w1(s)?MY(ii.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let a=0;return n.forEach(s=>{for(let o=0;o<s.length;o++)i[a++]=s[o]}),new Ha(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qM(e){let t;try{t=JSON.parse(e)}catch{return null}return SY(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BY(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function $Y(e,t){const n=t.split("/").filter(r=>r.length>0).join("/");return e.length===0?n:e+"/"+n}function HM(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FY(e,t){return t}class Sn{constructor(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||FY}}let Mh=null;function qY(e){return!w1(e)||e.length<2?e:HM(e)}function GM(){if(Mh)return Mh;const e=[];e.push(new Sn("bucket")),e.push(new Sn("generation")),e.push(new Sn("metageneration")),e.push(new Sn("name","fullPath",!0));function t(a,s){return qY(s)}const n=new Sn("name");n.xform=t,e.push(n);function r(a,s){return s!==void 0?Number(s):s}const i=new Sn("size");return i.xform=r,e.push(i),e.push(new Sn("timeCreated")),e.push(new Sn("updated")),e.push(new Sn("md5Hash",null,!0)),e.push(new Sn("cacheControl",null,!0)),e.push(new Sn("contentDisposition",null,!0)),e.push(new Sn("contentEncoding",null,!0)),e.push(new Sn("contentLanguage",null,!0)),e.push(new Sn("contentType",null,!0)),e.push(new Sn("metadata","customMetadata",!0)),Mh=e,Mh}function HY(e,t){function n(){const r=e.bucket,i=e.fullPath,a=new er(r,i);return t._makeStorageReference(a)}Object.defineProperty(e,"ref",{get:n})}function GY(e,t,n){const r={};r.type="file";const i=n.length;for(let a=0;a<i;a++){const s=n[a];r[s.local]=s.xform(r,t[s.server])}return HY(r,e),r}function KM(e,t,n){const r=qM(t);return r===null?null:GY(e,r,n)}function KY(e,t,n,r){const i=qM(t);if(i===null||!w1(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const s=encodeURIComponent;return a.split(",").map(u=>{const c=e.bucket,f=e.fullPath,h="/b/"+s(c)+"/o/"+s(f),p=S1(h,n,r),g=zM({alt:"media",token:u});return p+g})[0]}function YY(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}class YM{constructor(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WM(e){if(!e)throw x1()}function WY(e,t){function n(r,i){const a=KM(e,i,t);return WM(a!==null),a}return n}function XY(e,t){function n(r,i){const a=KM(e,i,t);return WM(a!==null),KY(a,i,e.host,e._protocol)}return n}function XM(e){function t(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=uY():i=lY():n.getStatus()===402?i=oY(e.bucket):n.getStatus()===403?i=cY(e.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return t}function QY(e){const t=XM(e);function n(r,i){let a=t(r,i);return r.getStatus()===404&&(a=sY(e.path)),a.serverResponse=i.serverResponse,a}return n}function ZY(e,t,n){const r=t.fullServerUrl(),i=S1(r,e.host,e._protocol),a="GET",s=e.maxOperationRetryTime,o=new YM(i,a,XY(e,n),s);return o.errorHandler=QY(t),o}function JY(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function eW(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=JY(null,t)),r}function tW(e,t,n,r,i){const a=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function o(){let S="";for(let C=0;C<2;C++)S=S+Math.random().toString().slice(2);return S}const l=o();s["Content-Type"]="multipart/related; boundary="+l;const u=eW(t,r,i),c=YY(u,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+l+"--",p=Ha.getBlob(f,r,h);if(p===null)throw gY();const g={name:u.fullPath},x=S1(a,e.host,e._protocol),v="POST",w=e.maxUploadRetryTime,_=new YM(x,v,WY(e,n),w);return _.urlParams=g,_.headers=s,_.body=p.uploadData(),_.errorHandler=XM(t),_}class nW{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ho.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ho.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ho.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,i,a){if(this.sent_)throw dc("cannot .send() more than once");if(Rs(t)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,t,!0),a!==void 0)for(const s in a)a.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,a[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw dc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw dc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw dc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw dc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class rW extends nW{initXhr(){this.xhr_.responseType="text"}}function QM(){return new rW}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(t,n){this._service=t,n instanceof er?this._location=n:this._location=er.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new No(t,n)}get root(){const t=new er(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return HM(this._location.path)}get storage(){return this._service}get parent(){const t=BY(this._location.path);if(t===null)return null;const n=new er(this._location.bucket,t);return new No(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw bY(t)}}function iW(e,t,n){e._throwIfRoot("uploadBytes");const r=tW(e.storage,e._location,GM(),new Ha(t,!0),n);return e.storage.makeRequestWithTokens(r,QM).then(i=>({metadata:i,ref:e}))}function aW(e){e._throwIfRoot("getDownloadURL");const t=ZY(e.storage,e._location,GM());return e.storage.makeRequestWithTokens(t,QM).then(n=>{if(n===null)throw yY();return n})}function sW(e,t){const n=$Y(e._location.path,t),r=new er(e._location.bucket,n);return new No(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oW(e){return/^[A-Za-z]+:\/\//.test(e)}function lW(e,t){return new No(e,t)}function ZM(e,t){if(e instanceof A1){const n=e;if(n._bucket==null)throw pY();const r=new No(n,n._bucket);return t!=null?ZM(r,t):r}else return t!==void 0?sW(e,t):e}function uW(e,t){if(t&&oW(t)){if(e instanceof A1)return lW(e,t);throw g_("To use ref(service, url), the first argument must be a Storage instance.")}else return ZM(e,t)}function _N(e,t){const n=t==null?void 0:t[VM];return n==null?null:er.makeFromBucketSpec(n,e)}function cW(e,t,n,r={}){e.host=`${t}:${n}`;const i=Rs(t);i&&(_w(`https://${e.host}/b`),xw("Storage",!0)),e._isUsingEmulator=!0,e._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(e._overrideAuthToken=typeof a=="string"?a:mk(a,e.app.options.projectId))}class A1{constructor(t,n,r,i,a,s=!1){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=s,this._bucket=null,this._host=LM,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=iY,this._maxUploadRetryTime=aY,this._requests=new Set,i!=null?this._bucket=er.makeFromBucketSpec(i,this._host):this._bucket=_N(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=er.makeFromBucketSpec(this._url,t):this._bucket=_N(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){bN("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){bN("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(_r(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new No(this,t)}_makeRequest(t,n,r,i,a=!0){if(this._deleted)return new _Y(UM());{const s=PY(t,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(t,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,i).getPromise()}}const xN="@firebase/storage",wN="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM="storage";function fW(e,t,n){return e=Ke(e),iW(e,t,n)}function dW(e){return e=Ke(e),aW(e)}function hW(e,t){return e=Ke(e),uW(e,t)}function mW(e=Sw(),t){e=Ke(e);const r=Bg(e,JM).getImmediate({identifier:t}),i=fk("storage");return i&&pW(r,...i),r}function pW(e,t,n,r={}){cW(e,t,n,r)}function gW(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new A1(n,r,i,t,Bo)}function yW(){So(new _s(JM,gW,"PUBLIC").setMultipleInstances(!0)),li(xN,wN,""),li(xN,wN,"esm2020")}yW();const vW={apiKey:"AIzaSyCIPE6DWpsUhDwRz9r5WMnsLGV4f8y-X2s",authDomain:"ambrosia-web-bc4f9.firebaseapp.com",projectId:"ambrosia-web-bc4f9",storageBucket:"ambrosia-web-bc4f9.firebasestorage.app",messagingSenderId:"768539470516",appId:"1:768539470516:web:d9f3705b1c79d35147c5e1",measurementId:"G-08Y4G38JM3"},T1=yk(vW),Rf=Lq(T1),mt=FK(T1),bW=mW(T1),e4=b.createContext(),_W=()=>b.useContext(e4),xW=({children:e})=>{const[t,n]=b.useState(null),[r,i]=b.useState(null),[a,s]=b.useState(!0);b.useEffect(()=>T7(Rf,async u=>{if(u){try{const c=await b1(Tr(mt,"users",u.uid));c.exists()?i(c.data().role):i("customer")}catch(c){console.error("AuthProvider: Error fetching role",c)}n(u)}else n(null),i(null);s(!1)}),[]);const o={currentUser:t,userRole:r,loading:a,isAdmin:r==="admin"};return m.jsx(e4.Provider,{value:o,children:!a&&e})},wW=()=>{const[e,t]=b.useState(!1),{cartCount:n}=dd();b.useEffect(()=>{const s=()=>{t(window.scrollY>50)};return window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s)},[]);const[r,i]=b.useState(!1),a=()=>{i(!r)};return m.jsx("nav",{className:`navbar ${e?"scrolled":""}`,children:m.jsxs("div",{className:"nav-container",children:[m.jsx(xt,{to:"/",className:"nav-logo",children:"Ambrosia"}),m.jsxs("div",{className:"nav-links",children:[m.jsx(Tn,{to:"/",className:({isActive:s})=>`nav-link ${s?"active":""}`,end:!0,children:"Home"}),m.jsx(Tn,{to:"/shop",className:({isActive:s})=>`nav-link ${s?"active":""}`,children:"Shop"}),m.jsx(Tn,{to:"/about-cinnamon",className:({isActive:s})=>`nav-link ${s?"active":""}`,children:"Cinnamon"}),m.jsx(Tn,{to:"/recipes",className:({isActive:s})=>`nav-link ${s?"active":""}`,children:"Recipes"}),m.jsx(Tn,{to:"/contact",className:({isActive:s})=>`nav-link ${s?"active":""}`,children:"Contact"})]}),m.jsxs("div",{className:"nav-actions flex items-center gap-6",children:[m.jsxs(xt,{to:"/cart",className:"cart-link relative text-white hover:text-gold transition-colors",children:[m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("circle",{cx:"9",cy:"21",r:"1"}),m.jsx("circle",{cx:"20",cy:"21",r:"1"}),m.jsx("path",{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"})]}),n>0&&m.jsx("span",{className:"cart-badge absolute -top-2 -right-2 bg-gold text-black text-[10px] font-bold w-5 h-5 rounded-full flex items-center justify-center",children:n})]}),m.jsx(xt,{to:"/shop",className:"btn-outline nav-btn",children:"Shop Now"}),m.jsx("div",{className:"nav-toggle",onClick:a,children:r?m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),m.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}):m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),m.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),m.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})})]}),m.jsx("div",{className:`mobile-menu ${r?"active":""}`,children:m.jsxs("div",{className:"mobile-nav-links",children:[m.jsx(Tn,{to:"/",onClick:a,className:({isActive:s})=>`mobile-link ${s?"active":""}`,end:!0,children:"Home"}),m.jsx(Tn,{to:"/shop",onClick:a,className:({isActive:s})=>`mobile-link ${s?"active":""}`,children:"Shop"}),m.jsx(Tn,{to:"/about-cinnamon",onClick:a,className:({isActive:s})=>`mobile-link ${s?"active":""}`,children:"Cinnamon"}),m.jsx(Tn,{to:"/recipes",onClick:a,className:({isActive:s})=>`mobile-link ${s?"active":""}`,children:"Recipes"}),m.jsx(Tn,{to:"/contact",onClick:a,className:({isActive:s})=>`mobile-link ${s?"active":""}`,children:"Contact"}),m.jsx(xt,{to:"/shop",onClick:a,className:"btn-primary mt-8 inline-block text-center",children:"Shop Now"})]})})]})})},EW=()=>m.jsx("footer",{className:"footer",children:m.jsxs("div",{className:"container",children:[m.jsxs("div",{className:"footer-content",children:[m.jsxs("div",{className:"footer-column",children:[m.jsx("h4",{className:"font-heading",children:"Ambrosia"}),m.jsx("p",{className:"text-gray-500 text-sm leading-7",children:"Delivering the 100% authentic essence of Sri Lankan Ceylon Cinnamon to the world. A commitment to purity, heritage, and health."})]}),m.jsxs("div",{className:"footer-column",children:[m.jsx("h4",{children:"Quick Links"}),m.jsxs("ul",{children:[m.jsx("li",{children:m.jsx(xt,{to:"/shop",children:"Online Store"})}),m.jsx("li",{children:m.jsx(xt,{to:"/about-cinnamon",children:"About Cinnamon"})}),m.jsx("li",{children:m.jsx(xt,{to:"/recipes",children:"Recipes & Blog"})}),m.jsx("li",{children:m.jsx(xt,{to:"/faq",children:"FAQs"})})]})]}),m.jsxs("div",{className:"footer-column",children:[m.jsx("h4",{children:"Support"}),m.jsxs("ul",{children:[m.jsx("li",{children:m.jsx(xt,{to:"/contact",children:"Contact Us"})}),m.jsx("li",{children:m.jsx(xt,{to:"/privacy",children:"Privacy Policy"})}),m.jsx("li",{children:m.jsx(xt,{to:"/terms",children:"Terms & Conditions"})})]})]}),m.jsxs("div",{className:"footer-column",children:[m.jsx("h4",{children:"Newsletter"}),m.jsxs("div",{className:"newsletter-form mt-4",children:[m.jsx("input",{type:"email",placeholder:"Your email address",className:"bg-[#1a1a1a] border border-white/10 p-2 text-sm w-full mb-2"}),m.jsx("button",{className:"btn-outline w-full py-2 text-xs",children:"Subscribe"})]})]})]}),m.jsx("div",{className:"footer-bottom",children:m.jsx("p",{children:" 2026 Ambrosia 100% Sri Lankan Cinnamon. All rights reserved."})})]})}),SW="/Ambrosia/assets/hero_bg-Cd28FfOR.png",AW=()=>m.jsxs("section",{id:"home",className:"hero",children:[m.jsxs("div",{className:"hero-bg",children:[m.jsx("img",{src:SW,alt:"Cinnamon Background"}),m.jsx("div",{className:"hero-overlay"})]}),m.jsxs("div",{className:"hero-content",children:[m.jsx("span",{className:"hero-eyebrow",children:"Ambrosia  Pure, Premium 100% Sri Lankan Cinnamon"}),m.jsx("h1",{className:"hero-title",children:"Divine Essence"}),m.jsx("p",{className:"hero-desc",children:"Experience the gold standard of spices. 100% authentic, hand-harvested Ceylon cinnamon from the heart of Sri Lanka."}),m.jsxs("div",{className:"hero-actions",children:[m.jsx("a",{href:"#products",className:"btn",children:"Shop Now"}),m.jsx("a",{href:"#heritage",className:"btn btn-outline",style:{marginLeft:"1rem"},children:"Learn More"})]})]})]}),TW=()=>m.jsx("section",{id:"heritage",className:"brand-intro-section",children:m.jsx("div",{className:"container",children:m.jsxs("div",{className:"intro-grid",children:[m.jsxs("div",{className:"intro-text",children:[m.jsx("span",{className:"gold-label",children:"Our Mission"}),m.jsx("h2",{className:"text-4xl font-heading mb-6 text-white",children:"Ambrosia  Pure, Premium 100% Sri Lankan Cinnamon"}),m.jsx("p",{className:"intro-p",children:"Born from the sun-drenched coastal gardens of Sri Lanka, Ambrosia is a tribute to the legendary 'Gold of the East'. We specialize exclusively in true Ceylon Cinnamon (Cinnamomum Verum)  the only 100% authentic, low-coumarin variety that offers genuine health benefits and a sophisticated sweetness."}),m.jsx("p",{className:"intro-p",children:"Our mission is simple: To bring the finest grade cinnamon, usually reserved for the royal houses of the world, directly to your kitchen."})]}),m.jsxs("div",{className:"quick-links",children:[m.jsx("h3",{className:"text-xl font-heading mb-6 text-gold",children:"Explore Ambrosia"}),m.jsxs("div",{className:"links-stack",children:[m.jsxs("a",{href:"#products",className:"quick-link-item",children:[m.jsx("span",{className:"link-icon",children:""}),m.jsxs("div",{className:"link-content",children:[m.jsx("h4",{children:"Online Shop"}),m.jsx("p",{children:"Browse our sticks, powders, and blends."})]})]}),m.jsxs("a",{href:"#about-cinnamon",className:"quick-link-item",children:[m.jsx("span",{className:"link-icon",children:""}),m.jsxs("div",{className:"link-content",children:[m.jsx("h4",{children:"About Cinnamon"}),m.jsx("p",{children:"Learn the difference between Ceylon and Cassia."})]})]}),m.jsxs("a",{href:"#recipes",className:"quick-link-item",children:[m.jsx("span",{className:"link-icon",children:""}),m.jsxs("div",{className:"link-content",children:[m.jsx("h4",{children:"Recipes & Blog"}),m.jsx("p",{children:"Discover healthy ways to use cinnamon."})]})]})]})]})]})})});/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t4=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CW=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NW=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=e=>{const t=NW(e);return t.charAt(0).toUpperCase()+t.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var OW={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IW=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PW=b.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...o},l)=>b.createElement("svg",{ref:l,...OW,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:t4("lucide",i),...!a&&!IW(o)&&{"aria-hidden":"true"},...o},[...s.map(([u,c])=>b.createElement(u,c)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=(e,t)=>{const n=b.forwardRef(({className:r,...i},a)=>b.createElement(PW,{ref:a,iconNode:t,className:t4(`lucide-${CW(EN(e))}`,`lucide-${e}`,r),...i}));return n.displayName=EN(e),n};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RW=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],jW=gt("activity",RW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kW=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],DW=gt("arrow-up-right",kW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MW=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],LW=gt("clock",MW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VW=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],n4=gt("dollar-sign",VW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UW=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],zW=gt("ellipsis",UW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BW=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],y_=gt("image",BW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $W=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],FW=gt("layout-dashboard",$W);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qW=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],HW=gt("log-out",qW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GW=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],jf=gt("mail",GW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KW=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],YW=gt("message-circle",KW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WW=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],r4=gt("package",WW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XW=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],QW=gt("pen",XW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZW=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],JW=gt("phone",ZW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eX=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],tX=gt("plus",eX);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nX=[["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}],["path",{d:"m9 17-5-5 5-5",key:"nvlc11"}]],rX=gt("reply",nX);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iX=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],C1=gt("search",iX);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aX=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],sX=gt("send",aX);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oX=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],i4=gt("shopping-bag",oX);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lX=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],a4=gt("trash-2",lX);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uX=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],cX=gt("triangle-alert",uX);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fX=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],dX=gt("users",fX),hX=()=>{const{addToCart:e}=dd(),[t,n]=b.useState([]),[r,i]=b.useState(!0);return b.useEffect(()=>{(async()=>{try{const s=m1(oa(mt,"products"),JK(5)),u=(await nY(s)).docs.map(c=>({id:c.id,...c.data()})).filter(c=>c.name&&c.price);n(u)}catch(s){console.error("Error fetching home products:",s)}finally{i(!1)}})()},[]),r?null:m.jsx("section",{id:"products",className:"products-section",children:m.jsxs("div",{className:"container",children:[m.jsxs("div",{className:"section-header",children:[m.jsx("h2",{className:"section-title",children:"Royal Collections"}),m.jsx("p",{className:"section-subtitle",children:"Curated from the ancient gardens of Ceylon."})]}),m.jsx("div",{className:"products-grid",children:t.map(a=>m.jsxs("div",{className:"product-card",children:[m.jsx("div",{className:"product-image-wrapper",children:a.imageUrl?m.jsx("img",{src:a.imageUrl,alt:a.name,className:"product-image"}):m.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-900 text-gray-700",children:m.jsx(y_,{size:48})})}),m.jsxs("div",{className:"product-info",children:[m.jsx("h3",{className:"product-name",children:a.name}),m.jsx("p",{className:"product-desc line-clamp-2",children:a.description||a.category||"Premium Cinnamon Product"}),m.jsxs("span",{className:"product-price",children:["$",Number(a.price).toFixed(2)]}),m.jsx("button",{onClick:()=>e(a),disabled:Number(a.stock)===0,className:`product-btn uppercase ${Number(a.stock)===0?"opacity-50 cursor-not-allowed":""}`,children:Number(a.stock)===0?"Out of Stock":"Add to Cart"})]})]},a.id))})]})})},au="/Ambrosia/assets/divine-CAd-ezJ-.png",kf="/Ambrosia/assets/garden-0ov3Dsbc.png",mX=[{id:1,title:"Golden Cinnamon Latte",category:"Beverages",image:au,time:"5 mins",desc:"A warm, soul-soothing latte infused with Ambrosia Divine Essence."},{id:2,title:"Authentic Sri Lankan Chai",category:"Beverages",image:kf,time:"15 mins",desc:"A spiced tea tradition using whole Kuveni sticks."},{id:3,title:"Cinnamon Glazed Apple Tart",category:"Desserts",image:au,time:"45 mins",desc:"A classic dessert elevated by the floral notes of Ceylon cinnamon."},{id:4,title:"Health Benefits of Daily Cinnamon",category:"Wellness",image:kf,time:"4 min read",desc:"How a pinch of Ambrosia every morning can change your metabolism."}],pX=()=>m.jsx("section",{className:"recipes-home-section",children:m.jsxs("div",{className:"container",children:[m.jsxs("div",{className:"section-header",children:[m.jsx("h2",{className:"section-title",children:"Recipes & Rituals"}),m.jsx("p",{className:"section-subtitle",children:"Discover the endless possibilities of true cinnamon."})]}),m.jsx("div",{className:"recipes-home-scroll",children:mX.map(e=>m.jsxs("div",{className:"recipe-home-card",children:[m.jsxs("div",{className:"recipe-home-image",children:[m.jsx("img",{src:e.image,alt:e.title}),m.jsx("span",{className:"recipe-home-cat",children:e.category})]}),m.jsxs("div",{className:"recipe-home-info",children:[m.jsx("span",{className:"recipe-home-time",children:e.time}),m.jsx("h3",{className:"recipe-home-title",children:e.title}),m.jsx("p",{className:"recipe-home-desc",children:e.desc}),m.jsx(xt,{to:"/recipes",className:"recipe-home-link",children:"Read More"})]})]},e.id))})]})}),gX=[{id:1,name:"Sarah Johnson",role:"Professional Baker",content:"The aroma of Ambrosia's Divine Essence is incomparable. It transformed my signature cinnamon rolls into something truly legendary.",rating:5},{id:2,name:"Dr. Aris Fernando",role:"Wellness Consultant",content:"I recommend Ambrosia to all my clients. Knowing it's 100% authentic Sri Lankan cinnamon gives me peace of mind regarding its health benefits.",rating:5},{id:3,name:"Michael Chen",role:"Home Enthusiast",content:"I never knew there was such a difference between regular cinnamon and Ceylon cinnamon until I tried the Ravana's Blend. Incredible depth!",rating:5}],yX=()=>m.jsx("section",{className:"testimonials-section",children:m.jsxs("div",{className:"container",children:[m.jsxs("div",{className:"section-header",children:[m.jsx("h2",{className:"section-title",children:"What Our Patrons Say"}),m.jsx("p",{className:"section-subtitle",children:"Join the community of those who appreciate the finer things in life."})]}),m.jsx("div",{className:"testimonials-grid",children:gX.map(e=>m.jsxs("div",{className:"testimonial-card",children:[m.jsx("div",{className:"stars",children:[...Array(e.rating)].map((t,n)=>m.jsx("span",{className:"star",children:""},n))}),m.jsxs("p",{className:"testimonial-content",children:['"',e.content,'"']}),m.jsx("div",{className:"testimonial-author",children:m.jsxs("div",{className:"author-info",children:[m.jsx("h4",{className:"author-name",children:e.name}),m.jsx("p",{className:"author-role",children:e.role})]})})]},e.id))})]})}),vX=()=>m.jsxs("div",{className:"home-page",children:[m.jsx(AW,{}),m.jsx(TW,{}),m.jsx(hX,{}),m.jsx(pX,{}),m.jsx(yX,{})]}),bX=()=>m.jsxs("div",{className:"about-page",children:[m.jsx("section",{className:"about-hero",children:m.jsxs("div",{className:"container",children:[m.jsx("h1",{className:"text-6xl font-heading text-gold mb-4",children:"Our Heritage"}),m.jsx("p",{className:"text-xl text-gray-300 max-w-2xl",children:"Preserving the 100% authentic legacy of Ceylon Cinnamon."})]})}),m.jsx("section",{className:"mission-section py-20",children:m.jsxs("div",{className:"container intro-grid",children:[m.jsxs("div",{className:"mission-text",children:[m.jsx("h2",{className:"text-4xl font-heading text-white mb-8",children:"A Legacy of Excellence"}),m.jsx("p",{className:"text-gray-400 mb-6 leading-relaxed",children:"Ambrosia was founded on a singular realization: the true essence of Sri Lankan cinnamon was being lost to the world. In an era dominated by mass-market Cassia, the legendary 'Cinnamomum Verum' of Ceylononce more valuable than goldhad become a rare luxury."}),m.jsx("p",{className:"text-gray-400 mb-6 leading-relaxed",children:"Our journey began in the southern coastal stretches of Sri Lanka, where the humid air and salty breeze create the perfect cradle for the world's finest cinnamon. We don't just sell a spice; we protect a thousand-year-old tradition of hand-peeling and air-drying that has been passed down through generations of 'Salagama' harvesters."})]}),m.jsx("div",{className:"mission-image",children:m.jsx("img",{src:kf,alt:"Cinnamon Garden",className:"rounded-lg shadow-2xl"})})]})}),m.jsx("section",{className:"sourcing-section py-20 bg-gold/5",children:m.jsxs("div",{className:"container",children:[m.jsxs("div",{className:"text-center mb-16",children:[m.jsx("h2",{className:"text-4xl font-heading text-gold mb-4",children:"Sustainable Sourcing"}),m.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"We believe in a cycle of respectfor the soil, the farmer, and the consumer."})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-16 items-center",children:[m.jsxs("div",{className:"sourcing-content",children:[m.jsx("h3",{className:"text-2xl text-white mb-6",children:"Direct from the Wild Gardens"}),m.jsx("p",{className:"text-gray-500 mb-6",children:"Unlike industrial plantations, our cinnamon is sourced from 'wild gardens' where biodiversity is encouraged. This natural ecosystem allows the trees to develop higher concentrations of essential oils, resulting in the signature floral aroma unique to Ambrosia."}),m.jsx("p",{className:"text-gray-500",children:"Every harvest is traceable to its village of origin, ensuring that the local communities that have guarded this heritage for centuries are fairly compensated and supported."})]}),m.jsxs("div",{className:"sourcing-stats grid grid-cols-2 gap-8",children:[m.jsxs("div",{className:"stat-box",children:[m.jsx("span",{className:"text-4xl text-gold font-bold",children:"100%"}),m.jsx("p",{className:"text-gray-400",children:"Natural & Organic"})]}),m.jsxs("div",{className:"stat-box",children:[m.jsx("span",{className:"text-4xl text-gold font-bold",children:"500+"}),m.jsx("p",{className:"text-gray-400",children:"Local Farmers"})]}),m.jsxs("div",{className:"stat-box",children:[m.jsx("span",{className:"text-4xl text-gold font-bold",children:"0%"}),m.jsx("p",{className:"text-gray-400",children:"Chemical Additives"})]}),m.jsxs("div",{className:"stat-box",children:[m.jsx("span",{className:"text-4xl text-gold font-bold",children:"True"}),m.jsx("p",{className:"text-gray-400",children:"Alba Grade Only"})]})]})]})]})})]}),_X="/Ambrosia/assets/comparison-D2ywGGNU.png",E0=["Cinnamon bark is harvested after two years of growth during the rainy season.","True Ceylon Cinnamon quills are filled like a cigar with small, fine chips.","In the 1st century AD, 350 grams of cinnamon was worth 5 kilograms of silver.","The word 'Cinnamon' is derived from the Greek 'kinnamon'."],xX=()=>{const[e,t]=b.useState(0);return b.useEffect(()=>{const n=setInterval(()=>{t(r=>(r+1)%E0.length)},5e3);return()=>clearInterval(n)},[]),m.jsxs("div",{className:"cinnamon-education-page",children:[m.jsx("section",{className:"edu-hero",children:m.jsxs("div",{className:"container text-center",children:[m.jsx("span",{className:"gold-label font-bold tracking-widest uppercase mb-4 block",children:"Educational Guide"}),m.jsx("h1",{className:"text-7xl font-heading text-gold mb-6",children:"The Gold of the East"}),m.jsx("p",{className:"text-xl text-gray-200 max-w-3xl mx-auto leading-relaxed mb-10",children:"Deep within the soul of Sri Lanka lies a secret that shaped world history. Worshiped by Emperors and sought by explorers, Ceylon Cinnamon remains nature's most sophisticated spice."}),m.jsxs("div",{className:"flex justify-center gap-6",children:[m.jsx("a",{href:"#production-video",className:"btn btn-outline",children:"Watch Production"}),m.jsx(xt,{to:"/shop",className:"btn",children:"Shop Collection"})]})]})}),m.jsx("section",{className:"history-section py-24 bg-[#050505]",children:m.jsx("div",{className:"container",children:m.jsxs("div",{className:"history-grid grid grid-cols-2 gap-20 items-center",children:[m.jsxs("div",{className:"history-content",children:[m.jsx("h2",{className:"text-4xl font-heading text-white mb-8",children:"A Journey Through Time"}),m.jsx("p",{className:"text-gray-400 mb-6 leading-relaxed",children:"The documented history of Sri Lankan cinnamon dates back over 3,000 years. Mentioned in the Old Testament and sought by Ancient Egyptians for embalming, it was the most prized possession in the ancient world."}),m.jsx("p",{className:"text-gray-400 mb-6 leading-relaxed",children:"In the 15th century, the 'Cinnamon Quest' launched the Age of Discovery. Columbus, Vasco da Gama, and Magellan sailed into the unknown partially driven by the intoxicating scent of Ceylons 'true' cinnamon. For centuries, nations fought wars for the exclusive rights to our island's shores."}),m.jsxs("blockquote",{className:"border-l-4 border-gold pl-6 py-2 italic text-gray-300 text-lg",children:['"The cinnamon of Ceylon is the best in all the world, and many-a-man hath lost his life for its sake."',m.jsx("span",{className:"block text-sm text-gold mt-2",children:" 17th Century Dutch Explorer"})]})]}),m.jsx("div",{className:"history-visual relative",children:m.jsxs("div",{className:"history-box p-12 bg-gold/5 border border-gold/20 rounded-lg",children:[m.jsx("h3",{className:"text-2xl text-gold mb-6 font-heading",children:"Key Historical Milestones"}),m.jsxs("ul",{className:"space-y-6",children:[m.jsxs("li",{className:"flex gap-4",children:[m.jsx("span",{className:"text-gold font-bold",children:"1400 BC:"}),m.jsx("p",{className:"text-gray-400 text-sm",children:"Used in Ancient Egypt as a sacred medicinal ingredient."})]}),m.jsxs("li",{className:"flex gap-4",children:[m.jsx("span",{className:"text-gold font-bold",children:"1505 AD:"}),m.jsx("p",{className:"text-gray-400 text-sm",children:"Portuguese explorers land in Sri Lanka, seeking the source of 'True Cinnamon'."})]}),m.jsxs("li",{className:"flex gap-4",children:[m.jsx("span",{className:"text-gold font-bold",children:"18th Century:"}),m.jsx("p",{className:"text-gray-400 text-sm",children:"Dutch East India Company establishes the first systematic plantations."})]})]})]})})]})})}),m.jsx("section",{id:"production-video",className:"video-section py-24 bg-black",children:m.jsxs("div",{className:"container",children:[m.jsxs("div",{className:"text-center mb-16",children:[m.jsx("h2",{className:"text-4xl font-heading text-gold mb-4",children:"Life of Cinnamon"}),m.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"Witness the meticulous craft behind every Ambrosia quill."})]}),m.jsx("div",{className:"video-container aspect-video max-w-5xl mx-auto rounded-2xl overflow-hidden border border-gold/10 shadow-2xl",children:m.jsx("iframe",{width:"100%",height:"100%",src:"https://www.youtube.com/embed/j_8c8XwK6-o",title:"Life of Ceylon Cinnamon",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),m.jsx("p",{className:"text-center text-gray-500 mt-8 italic",children:"Courtesy: A cinematic look at the traditional peeling process in Southern Sri Lanka."})]})}),m.jsx("section",{className:"types-section py-24 bg-[#0a0a0a]",children:m.jsxs("div",{className:"container grid grid-cols-2 gap-20 items-center",children:[m.jsx("div",{className:"order-2 lg:order-1",children:m.jsx("img",{src:_X,alt:"Cinnamon Comparison",className:"rounded-xl border border-gold/20 shadow-2xl"})}),m.jsxs("div",{className:"order-1 lg:order-2",children:[m.jsx("h2",{className:"text-4xl font-heading text-white mb-8",children:"Ceylon vs Cassia"}),m.jsxs("div",{className:"comparison-bullets space-y-8",children:[m.jsxs("div",{children:[m.jsx("h4",{className:"text-gold mb-2 font-bold tracking-wide",children:"THE TRUTH"}),m.jsxs("p",{className:"text-gray-400",children:["Mass-market ",m.jsx("strong",{children:"Cassia"})," contains high levels of ",m.jsx("em",{children:"coumarin"}),", a compound that can be toxic if consumed regularly. It's thick, hard bark with a spicy, hot bite."]})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"text-gold mb-2 font-bold tracking-wide",children:"THE ESSENCE"}),m.jsxs("p",{className:"text-gray-400",children:[m.jsx("strong",{children:"Ambrosia Ceylon Cinnamon"})," is thin, flaky, and delicate. It has virtually 0% coumarin and offers a complex, floral sweetness that's safe for daily health rituals."]})]})]})]})]})}),m.jsx("section",{className:"uses-section py-24 bg-[#050505]",children:m.jsxs("div",{className:"container",children:[m.jsx("h2",{className:"text-4xl font-heading text-gold text-center mb-16",children:"Rituals & Remedies"}),m.jsxs("div",{className:"grid grid-cols-3 gap-12",children:[m.jsxs("div",{className:"use-card p-10 bg-[#111] rounded-lg border border-white/5",children:[m.jsx("h3",{className:"text-xl text-white mb-4",children:"Culinary Mastery"}),m.jsx("p",{className:"text-gray-500 text-sm leading-relaxed",children:"Used in both sweet and savory dishes. From a pinch in your morning coffee to a quill in a slow-cooked Lankan curry, its versatility is unmatched."})]}),m.jsxs("div",{className:"use-card p-10 bg-[#111] rounded-lg border border-white/5 text-center transform scale-110 border-gold/20",children:[m.jsx("h3",{className:"text-xl text-white mb-4",children:"Wellness Elixir"}),m.jsx("p",{className:"text-gray-500 text-sm leading-relaxed",children:"Mixed with warm water and honey for a natural immunity boost. A powerful tool for blood sugar regulation and metabolic health."})]}),m.jsxs("div",{className:"use-card p-10 bg-[#111] rounded-lg border border-white/5",children:[m.jsx("h3",{className:"text-xl text-white mb-4",children:"Pure Aromatherapy"}),m.jsx("p",{className:"text-gray-500 text-sm leading-relaxed",children:"Its scent alone can improve memory and mood. Use the natural quills as an elegant, aromatic centerpiece in your living space."})]})]})]})}),m.jsx("section",{className:"fun-facts py-24 bg-gold/5 overflow-hidden",children:m.jsxs("div",{className:"container text-center",children:[m.jsx("span",{className:"gold-label text-xs tracking-widest uppercase mb-6 block",children:"Did You Know?"}),m.jsx("div",{className:"fact-slider",children:m.jsx("p",{className:"text-white font-heading text-3xl max-w-4xl mx-auto animate-fade-in",children:E0[e]},e)}),m.jsx("div",{className:"flex justify-center gap-2 mt-8",children:E0.map((n,r)=>m.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${r===e?"bg-gold w-8":"bg-gray-700"}`},r))})]})}),m.jsx("section",{className:"cta-section py-24 text-center",children:m.jsxs("div",{className:"container",children:[m.jsx("h2",{className:"text-5xl font-heading text-white mb-10",children:"Experience the Pure Essence"}),m.jsx(xt,{to:"/shop",className:"btn btn-lg px-12 py-5 text-lg",children:"Shop Ambrosia Cinnamon"})]})})]})},wX="/Ambrosia/assets/kuveni-CIhBCFC7.png",EX="/Ambrosia/assets/ravana-UNXb9jZj.png",SX=()=>{const{addToCart:e}=dd(),[t,n]=b.useState([]),[r,i]=b.useState(!0),[a,s]=b.useState(""),[o,l]=b.useState("featured"),[u,c]=b.useState("All"),f=["All","Sticks","Powder","Blends","Gift Sets"];b.useEffect(()=>{const p=Td(oa(mt,"products"),g=>{const x=g.docs.map(v=>({id:v.id,...v.data(),image:v.data().imageType==="divine"?au:v.data().imageType==="kuveni"?wX:v.data().imageType==="ravana"?EX:au}));n(x),i(!1)});return()=>p()},[]);const h=t.filter(p=>u==="All"||p.category===u).filter(p=>(p.name||"").toLowerCase().includes(a.toLowerCase())).sort((p,g)=>o==="price-asc"?Number(p.price)-Number(g.price):o==="price-desc"?Number(g.price)-Number(p.price):0);return console.log("Store Render Debug:",{productsCount:t.length,filteredCount:h.length,loading:r}),r?m.jsx("div",{className:"text-center py-20 text-gold",children:"Loading Collection..."}):m.jsxs("div",{className:"store-page",children:[m.jsx("section",{className:"store-header",children:m.jsxs("div",{className:"container",children:[m.jsx("h1",{className:"text-5xl font-heading text-gold mb-4",children:"The Collections"}),m.jsx("p",{className:"text-gray-400",children:"Authentic Ceylon cinnamon for every occasion."})]})}),m.jsx("section",{className:"store-content py-12",children:m.jsxs("div",{className:"container",children:[m.jsxs("div",{className:"filters-bar mb-12 flex flex-col md:flex-row justify-between items-center gap-6",children:[m.jsx("div",{className:"categories flex gap-4 overflow-x-auto pb-2 md:pb-0 w-full md:w-auto",children:f.map(p=>m.jsx("button",{onClick:()=>c(p),className:`filter-btn whitespace-nowrap ${u===p?"active":""}`,children:p},p))}),m.jsxs("div",{className:"search-sort flex flex-col md:flex-row gap-4 w-full md:w-auto",children:[m.jsx("input",{type:"text",placeholder:"Search products...",className:"bg-black/50 border border-white/10 rounded px-4 py-2 text-white focus:border-gold outline-none w-full md:w-64",value:a,onChange:p=>s(p.target.value)}),m.jsxs("select",{className:"bg-black/50 border border-white/10 rounded px-4 py-2 text-white focus:border-gold outline-none cursor-pointer",value:o,onChange:p=>l(p.target.value),children:[m.jsx("option",{value:"featured",children:"Featured"}),m.jsx("option",{value:"price-asc",children:"Price: Low to High"}),m.jsx("option",{value:"price-desc",children:"Price: High to Low"})]})]})]}),m.jsx("div",{className:"store-grid",children:h.length===0?m.jsx("div",{className:"col-span-3 text-center text-gray-500 py-20",children:"No products found in this category."}):h.map(p=>{const g=p.stock<=0;return m.jsxs("div",{className:`store-item-card ${g?"opacity-75 grayscale":""}`,children:[m.jsxs("div",{className:"item-image relative",children:[m.jsx("img",{src:p.image,alt:p.name}),g&&m.jsx("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center",children:m.jsx("span",{className:"text-red-500 font-bold uppercase tracking-widest border border-red-500 px-4 py-2",children:"Sold Out"})}),!g&&p.stock<10&&m.jsxs("span",{className:"absolute top-2 right-2 bg-yellow-600 text-white text-[10px] uppercase font-bold px-2 py-1 rounded",children:["Low Stock: ",p.stock]}),m.jsx("span",{className:"origin-badge",children:p.origin||"100% Sri Lankan"})]}),m.jsxs("div",{className:"item-info",children:[m.jsx("span",{className:"item-cat",children:p.category}),m.jsx("h3",{className:"item-name",children:p.name}),m.jsxs("div",{className:"flex justify-between items-center w-full mb-4",children:[m.jsxs("p",{className:"item-price",children:["$",Number(p.price).toFixed(2)]}),m.jsx("span",{className:"text-xs text-gray-500",children:p.unit||"per unit"})]}),m.jsx("button",{onClick:()=>!g&&e(p),disabled:g,className:`add-cart-btn uppercase w-full ${g?"cursor-not-allowed bg-gray-800 text-gray-500 hover:bg-gray-800":""}`,children:g?"Out of Stock":"Add to Cart"})]})]},p.id)})})]})})]})},AX=[{id:1,title:"Golden Cinnamon Latte",category:"Beverages",image:au,time:"5 mins",desc:"A warm, soul-soothing latte infused with Ambrosia Divine Essence."},{id:2,title:"Authentic Sri Lankan Chai",category:"Beverages",image:kf,time:"15 mins",desc:"A spiced tea tradition using whole Kuveni sticks."},{id:3,title:"Cinnamon Glazed Apple Tart",category:"Desserts",image:au,time:"45 mins",desc:"A classic dessert elevated by the floral notes of Ceylon cinnamon."},{id:4,title:"Health Benefits of Daily Cinnamon",category:"Wellness",image:kf,time:"4 min read",desc:"How a pinch of Ambrosia every morning can change your metabolism."}],TX=()=>{const[e,t]=yx.useState(null);return m.jsxs("div",{className:"recipes-page",children:[m.jsx("section",{className:"recipes-hero",children:m.jsxs("div",{className:"container",children:[m.jsx("h1",{className:"text-6xl font-heading text-gold mb-4",children:"Recipes & Rituals"}),m.jsx("p",{className:"text-xl text-gray-400",children:"Discover the endless possibilities of true cinnamon."})]})}),m.jsx("section",{className:"recipes-grid-section py-20",children:m.jsx("div",{className:"container",children:m.jsx("div",{className:"recipes-grid",children:AX.map(n=>m.jsxs("div",{className:"recipe-card",children:[m.jsxs("div",{className:"recipe-image",children:[m.jsx("img",{src:n.image,alt:n.title}),m.jsx("span",{className:"recipe-cat",children:n.category})]}),m.jsxs("div",{className:"recipe-info",children:[m.jsx("span",{className:"recipe-time",children:n.time}),m.jsx("h3",{className:"recipe-title",children:n.title}),m.jsx("p",{className:"recipe-desc",children:n.desc}),m.jsx("button",{className:"read-more",onClick:()=>t(n),children:"Read More"})]})]},n.id))})})}),e&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-md p-4",onClick:()=>t(null),children:m.jsxs("div",{className:"bg-[#111] border border-gray-800 rounded-3xl p-8 max-w-2xl w-full relative",onClick:n=>n.stopPropagation(),children:[m.jsx("button",{className:"absolute top-4 right-6 text-gray-400 hover:text-white text-3xl",onClick:()=>t(null),children:""}),m.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[m.jsx("div",{className:"w-full md:w-1/3",children:m.jsx("img",{src:e.image,alt:e.title,className:"w-full rounded-2xl aspect-square object-cover"})}),m.jsxs("div",{className:"w-full md:w-2/3",children:[m.jsx("span",{className:"text-gold text-xs font-bold uppercase tracking-widest mb-2 block",children:e.category}),m.jsx("h2",{className:"text-3xl font-heading text-white mb-4",children:e.title}),m.jsxs("p",{className:"text-gray-400 leading-relaxed mb-6",children:[e.desc,m.jsx("br",{}),m.jsx("br",{}),"Here is where the full recipe instructions would go. For now, enjoy the inspiration of how Ambrosia Cinnamon can elevate your culinary creations.",m.jsx("br",{}),m.jsx("br",{}),m.jsx("strong",{children:"Ingredients:"}),m.jsx("br",{})," 1 tsp Ambrosia Cinnamon",m.jsx("br",{})," Natural Sweetener",m.jsx("br",{})," Love & Care"]}),m.jsx("button",{className:"bg-gold text-black px-6 py-2 rounded-lg font-bold uppercase text-xs tracking-wider hover:bg-white transition-colors",onClick:()=>t(null),children:"Close Recipe"})]})]})]})})]})},CX=()=>{const[e,t]=b.useState({name:"",email:"",subject:"General Inquiry",message:""}),[n,r]=b.useState(!1),i=s=>{t({...e,[s.target.name]:s.target.value})},a=async s=>{s.preventDefault(),r(!0);try{await _1(oa(mt,"messages"),{...e,createdAt:OM(),status:"new"}),alert("Message sent successfully! We will get back to you soon."),t({name:"",email:"",subject:"General Inquiry",message:""})}catch(o){console.error("Error sending message:",o),alert("Failed to send message. Please try again.")}r(!1)};return m.jsxs("div",{className:"contact-page",children:[m.jsx("section",{className:"contact-hero",children:m.jsxs("div",{className:"container text-center",children:[m.jsx("h1",{className:"text-6xl font-heading text-gold mb-4",children:"Connect with Ambrosia"}),m.jsx("p",{className:"text-xl text-gray-400",children:"Questions about our cinnamon? We're here to help."})]})}),m.jsx("section",{className:"contact-content py-20",children:m.jsxs("div",{className:"container grid grid-cols-2 gap-20",children:[m.jsxs("div",{className:"contact-info",children:[m.jsx("h2",{className:"text-4xl font-heading text-white mb-8",children:"Get in Touch"}),m.jsxs("div",{className:"info-item mb-8",children:[m.jsx("h4",{className:"text-gold uppercase tracking-widest text-xs mb-2",children:"Email"}),m.jsx("p",{className:"text-xl text-gray-300",children:"essence@ambrosiaspice.com"})]}),m.jsxs("div",{className:"info-item mb-8",children:[m.jsx("h4",{className:"text-gold uppercase tracking-widest text-xs mb-2",children:"Phone"}),m.jsx("p",{className:"text-xl text-gray-300",children:"+94 11 234 5678"})]}),m.jsxs("div",{className:"info-item mb-8",children:[m.jsx("h4",{className:"text-gold uppercase tracking-widest text-xs mb-2",children:"Headquarters"}),m.jsx("p",{className:"text-xl text-gray-300",children:"Galle Road, Colombo 03, Sri Lanka"})]}),m.jsxs("div",{className:"social-links mt-12",children:[m.jsx("h4",{className:"text-gray-500 uppercase tracking-widest text-xs mb-4",children:"Follow Our Journey"}),m.jsxs("div",{className:"flex gap-6",children:[m.jsx("a",{href:"#",className:"text-gold hover:text-white transition-colors mr-4",children:"Instagram"}),m.jsx("a",{href:"#",className:"text-gold hover:text-white transition-colors mr-4",children:"Facebook"}),m.jsx("a",{href:"#",className:"text-gold hover:text-white transition-colors",children:"LinkedIn"})]})]})]}),m.jsx("div",{className:"contact-form-container",children:m.jsxs("form",{className:"contact-form",onSubmit:a,children:[m.jsx("div",{className:"form-group mb-6",children:m.jsx("input",{type:"text",name:"name",placeholder:"Your Name",className:"form-input",value:e.name,onChange:i,required:!0})}),m.jsx("div",{className:"form-group mb-6",children:m.jsx("input",{type:"email",name:"email",placeholder:"Email Address",className:"form-input",value:e.email,onChange:i,required:!0})}),m.jsx("div",{className:"form-group mb-6",children:m.jsxs("select",{name:"subject",className:"form-input",value:e.subject,onChange:i,children:[m.jsx("option",{children:"General Inquiry"}),m.jsx("option",{children:"Wholesale/B2B"}),m.jsx("option",{children:"Order Support"}),m.jsx("option",{children:"Press"})]})}),m.jsx("div",{className:"form-group mb-8",children:m.jsx("textarea",{name:"message",placeholder:"How can we help?",className:"form-input h-32",value:e.message,onChange:i,required:!0})}),m.jsx("button",{type:"submit",className:"btn w-full",disabled:n,children:n?"Sending...":"Send Message"})]})})]})})]})},NX=[{q:"Why is Sri Lankan cinnamon better?",a:"Sri Lankan (Ceylon) cinnamon has a much lower coumarin content compared to Cassia. It's also known for its delicate, sweet flavor and floral aroma that Cassia lacks."},{q:"How should I store my Ambrosia cinnamon?",a:"Store in a cool, dark place in an airtight container. Our premium jars are designed to protect the essential oils from light and moisture."},{q:"Do you ship internationally?",a:"Yes, Ambrosia ships to most countries worldwide. Shipping times vary depending on the location, typically 5-10 business days."},{q:"Is your cinnamon organic?",a:"We work with farms that follow sustainable, natural farming practices. While not all are certified 'Organic' yet, we ensure no synthetic pesticides or fertilizers are used."}],OX=()=>m.jsxs("div",{className:"faq-page",children:[m.jsx("section",{className:"faq-hero py-20",children:m.jsxs("div",{className:"container text-center",children:[m.jsx("h1",{className:"text-5xl font-heading text-gold mb-4",children:"Frequently Asked Questions"}),m.jsx("p",{className:"text-gray-400",children:"Everything you need to know about Ambrosia."})]})}),m.jsx("section",{className:"faq-list-section py-12",children:m.jsx("div",{className:"container max-w-3xl",children:m.jsx("div",{className:"faq-list",children:NX.map((e,t)=>m.jsxs("div",{className:"faq-item mb-8",children:[m.jsx("h3",{className:"text-xl text-white mb-3 font-heading",children:e.q}),m.jsx("p",{className:"text-gray-400 leading-relaxed",children:e.a})]},t))})})})]}),IX=()=>{const{cartItems:e,removeFromCart:t,updateQuantity:n,cartTotal:r}=dd();return e.length===0?m.jsx("div",{className:"cart-page py-32",children:m.jsxs("div",{className:"container text-center",children:[m.jsx("h1",{className:"text-4xl font-heading text-gold mb-8",children:"Your Cart is Empty"}),m.jsx("p",{className:"text-gray-400 mb-12",children:"Looks like you haven't added the essence of Ceylon to your collection yet."}),m.jsx(xt,{to:"/shop",className:"btn",children:"Browse Shop"})]})}):m.jsx("div",{className:"cart-page py-32",children:m.jsxs("div",{className:"container",children:[m.jsx("h1",{className:"text-5xl font-heading text-gold mb-12",children:"Your Selection"}),m.jsxs("div",{className:"cart-grid",children:[m.jsxs("div",{className:"cart-items",children:[m.jsxs("div",{className:"cart-header grid grid-cols-4 gap-4 text-xs uppercase tracking-widest text-gray-500 pb-4 border-bottom border-white/5 mb-8",children:[m.jsx("div",{className:"col-span-2",children:"Product"}),m.jsx("div",{className:"text-center",children:"Quantity"}),m.jsx("div",{className:"text-right",children:"Total"})]}),e.map(i=>m.jsxs("div",{className:"cart-item-row grid grid-cols-4 gap-4 items-center py-6 border-bottom border-white/5",children:[m.jsxs("div",{className:"col-span-2 flex gap-6 items-center",children:[m.jsx("div",{className:"item-thumbnail w-24 h-24 bg-[#111] overflow-hidden rounded",children:m.jsx("img",{src:i.image,alt:i.name,className:"w-full h-full object-cover"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-white font-heading text-xl mb-1",children:i.name}),m.jsxs("p",{className:"text-gold text-sm",children:["$",i.price.toFixed(2)]}),m.jsx("button",{onClick:()=>t(i.id),className:"text-gray-600 text-xs mt-2 hover:text-red-500 transition-colors uppercase",children:"Remove"})]})]}),m.jsxs("div",{className:"flex justify-center items-center gap-4",children:[m.jsx("button",{onClick:()=>n(i.id,i.quantity-1),className:"qty-btn",children:"-"}),m.jsx("span",{className:"text-white",children:i.quantity}),m.jsx("button",{onClick:()=>n(i.id,i.quantity+1),className:"qty-btn",children:"+"})]}),m.jsxs("div",{className:"text-right text-white font-bold",children:["$",(i.price*i.quantity).toFixed(2)]})]},i.id))]}),m.jsxs("div",{className:"cart-summary bg-[#111] p-8 rounded-lg border border-white/5 h-fit",children:[m.jsx("h2",{className:"text-2xl font-heading text-white mb-8",children:"Summary"}),m.jsxs("div",{className:"summary-row flex justify-between mb-4",children:[m.jsx("span",{className:"text-gray-400",children:"Subtotal"}),m.jsxs("span",{className:"text-white",children:["$",r.toFixed(2)]})]}),m.jsxs("div",{className:"summary-row flex justify-between mb-8 pb-8 border-bottom border-white/5",children:[m.jsx("span",{className:"text-gray-400",children:"Shipping"}),m.jsx("span",{className:"text-gold",children:"Calculated at checkout"})]}),m.jsxs("div",{className:"summary-row flex justify-between mb-12",children:[m.jsx("span",{className:"text-xl text-white font-heading",children:"Total"}),m.jsxs("span",{className:"text-xl text-gold font-bold",children:["$",r.toFixed(2)]})]}),m.jsx(xt,{to:"/checkout",className:"btn w-full text-center",children:"Proceed to Checkout"})]})]})]})})};class Cd{constructor(t=0,n="Network Error"){this.status=t,this.text=n}}const PX=()=>{if(!(typeof localStorage>"u"))return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}},tn={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:PX()},N1=e=>e?typeof e=="string"?{publicKey:e}:e.toString()==="[object Object]"?e:{}:{},RX=(e,t="https://api.emailjs.com")=>{if(!e)return;const n=N1(e);tn.publicKey=n.publicKey,tn.blockHeadless=n.blockHeadless,tn.storageProvider=n.storageProvider,tn.blockList=n.blockList,tn.limitRate=n.limitRate,tn.origin=n.origin||t},s4=async(e,t,n={})=>{const r=await fetch(tn.origin+e,{method:"POST",headers:n,body:t}),i=await r.text(),a=new Cd(r.status,i);if(r.ok)return a;throw a},o4=(e,t,n)=>{if(!e||typeof e!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||typeof t!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},jX=e=>{if(e&&e.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},l4=e=>e.webdriver||!e.languages||e.languages.length===0,u4=()=>new Cd(451,"Unavailable For Headless Browser"),kX=(e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if(typeof t!="string")throw"The BlockList watchVariable has to be a string"},DX=e=>{var t;return!((t=e.list)!=null&&t.length)||!e.watchVariable},MX=(e,t)=>e instanceof FormData?e.get(t):e[t],c4=(e,t)=>{if(DX(e))return!1;kX(e.list,e.watchVariable);const n=MX(t,e.watchVariable);return typeof n!="string"?!1:e.list.includes(n)},f4=()=>new Cd(403,"Forbidden"),LX=(e,t)=>{if(typeof e!="number"||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&typeof t!="string")throw"The LimitRate ID has to be a non-empty string"},VX=async(e,t,n)=>{const r=Number(await n.get(e)||0);return t-Date.now()+r},d4=async(e,t,n)=>{if(!t.throttle||!n)return!1;LX(t.throttle,t.id);const r=t.id||e;return await VX(r,t.throttle,n)>0?!0:(await n.set(r,Date.now().toString()),!1)},h4=()=>new Cd(429,"Too Many Requests"),UX=async(e,t,n,r)=>{const i=N1(r),a=i.publicKey||tn.publicKey,s=i.blockHeadless||tn.blockHeadless,o=i.storageProvider||tn.storageProvider,l={...tn.blockList,...i.blockList},u={...tn.limitRate,...i.limitRate};return s&&l4(navigator)?Promise.reject(u4()):(o4(a,e,t),jX(n),n&&c4(l,n)?Promise.reject(f4()):await d4(location.pathname,u,o)?Promise.reject(h4()):s4("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:a,service_id:e,template_id:t,template_params:n}),{"Content-type":"application/json"}))},zX=e=>{if(!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},BX=e=>typeof e=="string"?document.querySelector(e):e,$X=async(e,t,n,r)=>{const i=N1(r),a=i.publicKey||tn.publicKey,s=i.blockHeadless||tn.blockHeadless,o=tn.storageProvider||i.storageProvider,l={...tn.blockList,...i.blockList},u={...tn.limitRate,...i.limitRate};if(s&&l4(navigator))return Promise.reject(u4());const c=BX(n);o4(a,e,t),zX(c);const f=new FormData(c);return c4(l,f)?Promise.reject(f4()):await d4(location.pathname,u,o)?Promise.reject(h4()):(f.append("lib_version","4.4.1"),f.append("service_id",e),f.append("template_id",t),f.append("user_id",a),s4("/api/v1.0/email/send-form",f))},m4={init:RX,send:UX,sendForm:$X,EmailJSResponseStatus:Cd},FX=()=>{const{cartItems:e,cartTotal:t,clearCart:n}=dd(),r=Vg(),[i,a]=b.useState(!1),[s,o]=b.useState("card"),[l,u]=b.useState({firstName:"",lastName:"",email:"",address:"",city:"",country:"",shippingMethod:"standard"}),[c,f]=b.useState(10),h=v=>{const{name:w,value:_}=v.target;u(S=>({...S,[w]:_}))},p=(v,w)=>{u(_=>({..._,shippingMethod:v})),f(w)},g=async v=>{if(v.preventDefault(),a(!0),!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l.email)){alert("Please enter a valid email address."),a(!1);return}if(!l.firstName||!l.lastName||!l.address||!l.city||!l.country){alert("Please fill in all required fields."),a(!1);return}try{const _=await _1(oa(mt,"orders"),{...l,items:e.length,total:x,cart:e.map(C=>({id:C.id,name:C.name,quantity:C.quantity,price:C.price})),status:"New",paymentStatus:"Paid",fulfillmentStatus:"Pending",created_at:OM(),user:l.email}),S=rY(mt);e.forEach(C=>{const P=Tr(mt,"products",C.id);S.update(P,{stock:QK(-C.quantity)})}),await S.commit();try{const C="service_vnv2zdj",P="template_fcosgki",O="BsB9Xsr8nr5Yo-WuD",A=e.map(N=>`
                    <tr style="vertical-align: top">
                        <td style="padding: 24px 8px 0 4px; width: 64px;">
                            <img style="height: 64px; width: 64px; object-fit: cover; border-radius: 4px;" src="${N.image}" alt="${N.name}" />
                        </td>
                        <td style="padding: 24px 8px 0 8px;">
                            <div style="font-family: 'Playfair Display', serif; font-size: 16px; color: #1a1a1a;">${N.name}</div>
                            <div style="font-size: 14px; color: #888; padding-top: 4px">Qty: ${N.quantity}  $${N.price}</div>
                        </td>
                        <td style="padding: 24px 4px 0 0; white-space: nowrap; text-align: right;">
                            <strong style="color: #D4AF37;">$${(N.price*N.quantity).toFixed(2)}</strong>
                        </td>
                    </tr>
                `).join(""),T={to_name:l.firstName,to_email:l.email,order_id:_.id,order_items_html:A,shipping_cost:c.toFixed(2),total_cost:x.toFixed(2),message:"Thank you for choosing Ambrosia. We are preparing your divine essence."};await m4.send(C,P,T,O),console.log("Email sent successfully")}catch(C){console.error("Failed to send email:",C)}a(!1),n(),r("/order-confirmation",{state:{orderId:_.id}})}catch(_){console.error("Order failed:",_),alert("Failed to place order. Please try again."),a(!1)}};if(e.length===0)return setTimeout(()=>r("/cart"),0),null;const x=t+c;return m.jsx("div",{className:"checkout-page py-32",children:m.jsxs("div",{className:"container",children:[m.jsx("h1",{className:"text-5xl font-heading text-gold mb-12",children:"Checkout"}),m.jsxs("form",{onSubmit:g,className:"checkout-grid grid grid-cols-2 gap-20",children:[m.jsxs("div",{className:"checkout-form",children:[m.jsxs("section",{className:"checkout-section mb-12",children:[m.jsx("h2",{className:"text-2xl font-heading text-white mb-8 border-bottom border-white/5 pb-4",children:"Shipping Information"}),m.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[m.jsx("input",{type:"text",name:"firstName",placeholder:"First Name",className:"form-input",required:!0,value:l.firstName,onChange:h}),m.jsx("input",{type:"text",name:"lastName",placeholder:"Last Name",className:"form-input",required:!0,value:l.lastName,onChange:h})]}),m.jsx("input",{type:"email",name:"email",placeholder:"Email Address",className:"form-input mb-6",required:!0,value:l.email,onChange:h}),m.jsx("input",{type:"text",name:"address",placeholder:"Address",className:"form-input mb-6",required:!0,value:l.address,onChange:h}),m.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[m.jsx("input",{type:"text",name:"city",placeholder:"City",className:"form-input",required:!0,value:l.city,onChange:h}),m.jsx("input",{type:"text",name:"country",placeholder:"Country",className:"form-input",required:!0,value:l.country,onChange:h})]})]}),m.jsxs("section",{className:"checkout-section mb-12",children:[m.jsx("h2",{className:"text-2xl font-heading text-white mb-8 border-bottom border-white/5 pb-4",children:"Shipping Method"}),m.jsxs("div",{className:"shipping-options space-y-4",children:[m.jsxs("label",{className:`shipping-option flex items-center justify-between p-4 bg-[#111] border rounded cursor-pointer ${l.shippingMethod==="standard"?"border-gold":"border-white/5"}`,children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("input",{type:"radio",name:"shipping",checked:l.shippingMethod==="standard",onChange:()=>p("standard",10)}),m.jsx("span",{children:"Standard (5-10 Days)"})]}),m.jsx("span",{className:"text-gold",children:"$10.00"})]}),m.jsxs("label",{className:`shipping-option flex items-center justify-between p-4 bg-[#111] border rounded cursor-pointer ${l.shippingMethod==="express"?"border-gold":"border-white/5"}`,children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("input",{type:"radio",name:"shipping",checked:l.shippingMethod==="express",onChange:()=>p("express",25)}),m.jsx("span",{children:"Express (2-3 Days)"})]}),m.jsx("span",{className:"text-gold",children:"$25.00"})]})]})]}),m.jsxs("section",{className:"checkout-section mb-12",children:[m.jsx("h2",{className:"text-2xl font-heading text-white mb-8 border-bottom border-white/5 pb-4",children:"Payment Method"}),m.jsxs("div",{className:"payment-tabs flex gap-4 mb-8",children:[m.jsx("button",{type:"button",className:`payment-tab flex-1 p-4 rounded border ${s==="card"?"border-gold text-gold bg-gold/5":"border-white/5 text-gray-400"}`,onClick:()=>o("card"),children:"Credit Card"}),m.jsx("button",{type:"button",className:`payment-tab flex-1 p-4 rounded border ${s==="paypal"?"border-gold text-gold bg-gold/5":"border-white/5 text-gray-400"}`,onClick:()=>o("paypal"),children:"PayPal"})]}),s==="card"?m.jsxs("div",{className:"card-details space-y-6",children:[m.jsx("div",{className:"p-4 bg-yellow-500/10 border border-yellow-500/20 text-yellow-200 text-sm rounded",children:"Note: This is a secure checkout demonstration. No real charge will be made yet."}),m.jsx("input",{type:"text",placeholder:"Card Number",className:"form-input"}),m.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[m.jsx("input",{type:"text",placeholder:"MM / YY",className:"form-input"}),m.jsx("input",{type:"text",placeholder:"CVV",className:"form-input"})]})]}):m.jsx("div",{className:"paypal-notice p-8 bg-blue-600/5 border border-blue-600/20 rounded text-center",children:m.jsx("p",{className:"text-gray-300",children:"Proceed to complete your purchase securely with PayPal."})})]}),m.jsx("button",{type:"submit",disabled:i,className:`btn w-full py-5 text-lg uppercase tracking-widest mt-8 ${i?"opacity-50 cursor-not-allowed":""}`,children:i?"Processing...":"Place Order"})]}),m.jsx("div",{className:"checkout-sidebar",children:m.jsxs("div",{className:"order-summary bg-[#111] p-10 rounded-lg border border-white/5 sticky top-32",children:[m.jsx("h2",{className:"text-2xl font-heading text-white mb-8 border-bottom border-white/5 pb-4",children:"Order Summary"}),m.jsx("div",{className:"order-items space-y-6 mb-10 max-h-96 overflow-y-auto pr-2",children:e.map(v=>m.jsxs("div",{className:"flex justify-between items-center bg-black/20 p-3 rounded border border-white/5",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"item-thumbnail-mini w-12 h-12 overflow-hidden rounded bg-gray-800",children:m.jsx("img",{src:v.image,alt:v.name,className:"w-full h-full object-cover"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-white text-xs font-heading leading-tight mb-1",children:v.name}),m.jsxs("p",{className:"text-gray-500 text-[10px] uppercase tracking-widest",children:["Qty: ",v.quantity]})]})]}),m.jsxs("span",{className:"text-gold text-sm font-bold",children:["$",(v.price*v.quantity).toFixed(2)]})]},v.id))}),m.jsxs("div",{className:"summary-details pt-8 border-top border-white/10 space-y-4",children:[m.jsxs("div",{className:"flex justify-between text-gray-400",children:[m.jsx("span",{children:"Subtotal"}),m.jsxs("span",{children:["$",t.toFixed(2)]})]}),m.jsxs("div",{className:"flex justify-between text-gray-400",children:[m.jsx("span",{children:"Shipping"}),m.jsxs("span",{children:["$",c.toFixed(2)]})]}),m.jsxs("div",{className:"flex justify-between text-xl text-white font-heading font-bold pt-4 border-top border-white/5",children:[m.jsx("span",{children:"Total"}),m.jsxs("span",{className:"text-gold",children:["$",x.toFixed(2)]})]})]})]})})]})]})})},qX=()=>{var f,h,p;const[e,t]=b.useState(""),[n,r]=b.useState(""),[i,a]=b.useState(null),[s,o]=b.useState(!1),[l,u]=b.useState(""),c=async g=>{g.preventDefault(),o(!0),u(""),a(null);try{const x=Tr(mt,"orders",e.trim()),v=await b1(x);if(v.exists()){const w=v.data();w.email.toLowerCase()===n.toLowerCase()?a({id:v.id,...w}):u("Order found, but email does not match records.")}else u("Order not found. Please check your Order ID.")}catch(x){console.error("Tracking Error:",x),u("An error occurred while tracking. Please try again.")}o(!1)};return m.jsx("div",{className:"track-order-page py-32 min-h-[60vh]",children:m.jsxs("div",{className:"container max-w-2xl mx-auto",children:[m.jsx("h1",{className:"text-4xl font-heading text-gold text-center mb-8",children:"Track Your Order"}),m.jsx("p",{className:"text-gray-400 text-center mb-12",children:"Enter your Order ID and Email Address to see current status."}),m.jsxs("form",{onSubmit:c,className:"bg-[#111] p-8 rounded-xl border border-white/10 mb-12",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Order ID"}),m.jsx("input",{type:"text",required:!0,className:"w-full bg-black/50 border border-white/10 rounded p-3 text-white focus:border-gold outline-none",placeholder:"e.g. 5xJ8...",value:e,onChange:g=>t(g.target.value)})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Email Address"}),m.jsx("input",{type:"email",required:!0,className:"w-full bg-black/50 border border-white/10 rounded p-3 text-white focus:border-gold outline-none",placeholder:"name@example.com",value:n,onChange:g=>r(g.target.value)})]})]}),m.jsx("button",{type:"submit",disabled:s,className:"w-full bg-gold text-black py-4 rounded font-bold uppercase tracking-widest hover:bg-white transition-colors",children:s?"Searching...":"Track Order"}),l&&m.jsx("p",{className:"text-red-500 text-center mt-4 text-sm",children:l})]}),i&&m.jsxs("div",{className:"order-result bg-[#111] p-8 rounded-xl border border-gold/30 animate-fade-in relative overflow-hidden",children:[m.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-gold to-transparent"}),m.jsxs("div",{className:"flex justify-between items-start mb-8",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl text-white font-heading",children:"Order Status"}),m.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:["Placed on ",(f=i.created_at)==null?void 0:f.toDate().toLocaleDateString()]})]}),m.jsx("div",{className:"text-right",children:m.jsx("span",{className:`inline-block px-4 py-2 rounded border text-xs uppercase font-bold tracking-widest ${i.status==="Delivered"?"text-green-500 border-green-500/30 bg-green-500/10":i.status==="Shipped"?"text-purple-500 border-purple-500/30 bg-purple-500/10":"text-yellow-500 border-yellow-500/30 bg-yellow-500/10"}`,children:i.status})})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-8 border-t border-white/10 pt-8",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-xs uppercase tracking-widest text-gray-500 mb-4",children:"Shipping To"}),m.jsxs("p",{className:"text-white",children:[i.firstName," ",i.lastName]}),m.jsx("p",{className:"text-gray-400 text-sm",children:i.address}),m.jsxs("p",{className:"text-gray-400 text-sm",children:[i.city,", ",i.country]})]}),m.jsxs("div",{children:[m.jsxs("h3",{className:"text-xs uppercase tracking-widest text-gray-500 mb-4",children:["Items (",i.items,")"]}),m.jsx("ul",{className:"space-y-2",children:(h=i.cart)==null?void 0:h.map((g,x)=>m.jsxs("li",{className:"text-sm text-gray-300 flex justify-between",children:[m.jsxs("span",{children:[g.quantity,"x ",g.name]}),m.jsxs("span",{className:"text-gold",children:["$",g.price]})]},x))}),m.jsxs("div",{className:"mt-4 pt-4 border-t border-white/10 flex justify-between font-bold text-white",children:[m.jsx("span",{children:"Total"}),m.jsxs("span",{children:["$",(p=i.total)==null?void 0:p.toFixed(2)]})]})]})]})]})]})})},HX=()=>{var n;const t=((n=Ps().state)==null?void 0:n.orderId)||"AMB-"+Math.floor(1e5+Math.random()*9e5);return m.jsx("div",{className:"confirmation-page py-48",children:m.jsxs("div",{className:"container text-center",children:[m.jsx("div",{className:"success-icon text-gold text-7xl mb-8",children:""}),m.jsx("h1",{className:"text-6xl font-heading text-gold mb-6",children:"Order Confirmed"}),m.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto leading-relaxed mb-12",children:"Thank you for choosing Ambrosia. We've received your order and are currently preparing your selection of prime cinnamon for its journey to your doorstep."}),m.jsxs("div",{className:"order-details-summary bg-[#111] p-10 rounded max-w-lg mx-auto border border-white/5 mb-16",children:[m.jsxs("p",{className:"text-gray-500 text-sm mb-4",children:["Order #",t]}),m.jsx("p",{className:"text-white",children:"A confirmation email has been sent. You can track your 100% Sri Lankan delivery once the quills are dispatched."})]}),m.jsxs("div",{className:"flex justify-center gap-8",children:[m.jsx(xt,{to:"/shop",className:"btn btn-outline",children:"Continue Shopping"}),m.jsx(xt,{to:"/",className:"btn",children:"Back to Home"})]})]})})},p4=({title:e})=>m.jsx("div",{className:"section",style:{paddingTop:"150px",minHeight:"80vh"},children:m.jsxs("div",{className:"container text-center",children:[m.jsx("h1",{className:"text-6xl text-gold mb-8",children:e}),m.jsx("p",{className:"text-xl text-gray-500",children:"This section is coming soon as part of the Ambrosia mission."})]})}),GX=()=>m.jsx(p4,{title:"Privacy Policy"}),KX=()=>m.jsx(p4,{title:"Terms & Conditions"}),YX=()=>{const[e,t]=b.useState(""),[n,r]=b.useState(""),[i,a]=b.useState(""),[s,o]=b.useState(!1),l=Vg(),u=async c=>{var f;c.preventDefault(),a(""),o(!0);try{const p=(await E7(Rf,e,n)).user,g=await b1(Tr(mt,"users",p.uid));if(g.exists()&&((f=g.data())==null?void 0:f.role)==="admin")l("/admin");else throw await Zb(Rf),new Error("Access Denied: You do not have administrator privileges.")}catch(h){console.error("Login Error:",h);const p=h.message.includes("Access Denied")?h.message:"Invalid credentials. Please try again.";a(p)}finally{o(!1)}};return m.jsxs("div",{className:"min-h-screen bg-[#050505] flex items-center justify-center relative overflow-hidden",children:[m.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[m.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[50%] h-[50%] bg-gold/5 blur-[150px] rounded-full"}),m.jsx("div",{className:"absolute bottom-[-20%] right-[-10%] w-[50%] h-[50%] bg-purple-900/10 blur-[150px] rounded-full"})]}),m.jsxs("div",{className:"w-full max-w-md bg-[#111]/80 backdrop-blur-xl p-10 rounded-2xl border border-white/10 shadow-2xl relative z-10",children:[m.jsxs("div",{className:"text-center mb-10",children:[m.jsx("h1",{className:"text-4xl font-heading text-gold mb-3 tracking-tight",children:"Ambrosia"}),m.jsx("div",{className:"h-px w-16 bg-gradient-to-r from-transparent via-gold/50 to-transparent mx-auto mb-3"}),m.jsx("p",{className:"text-gray-500 uppercase text-[10px] tracking-[0.3em] font-medium",children:"Administration"})]}),i&&m.jsx("div",{className:"bg-red-500/10 border border-red-500/20 text-red-400 p-4 rounded-lg mb-6 text-xs text-center font-medium tracking-wide",children:i}),m.jsxs("form",{onSubmit:u,className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-[10px] uppercase tracking-widest text-gray-500 mb-2 font-bold ml-1",children:"Email Address"}),m.jsx("input",{type:"email",value:e,onChange:c=>t(c.target.value),className:"w-full bg-black/50 border border-white/10 rounded-lg p-4 text-white placeholder-gray-700 text-sm focus:outline-none focus:border-gold/50 focus:bg-black transition-all duration-300",placeholder:"name@example.com",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-[10px] uppercase tracking-widest text-gray-500 mb-2 font-bold ml-1",children:"Password"}),m.jsx("input",{type:"password",value:n,onChange:c=>r(c.target.value),className:"w-full bg-black/50 border border-white/10 rounded-lg p-4 text-white placeholder-gray-700 text-sm focus:outline-none focus:border-gold/50 focus:bg-black transition-all duration-300",placeholder:"",required:!0})]}),m.jsx("button",{type:"submit",disabled:s,className:`w-full bg-gold text-black font-bold py-4 rounded-lg text-xs uppercase tracking-widest transition-all hover:bg-white hover:scale-[1.02] shadow-[0_0_20px_rgba(212,175,55,0.2)] ${s?"opacity-50 cursor-not-allowed transform-none":""}`,children:s?"Authenticating...":"Access Dashboard"})]}),m.jsx("div",{className:"mt-8 text-center",children:m.jsx("p",{className:"text-[10px] text-gray-700 font-mono",children:"Protected System. Unauthorized access is prohibited."})})]})]})},WX=()=>{const e=Vg(),{currentUser:t,isAdmin:n,loading:r}=_W();if(yx.useEffect(()=>{!r&&(!t||!n)&&e("/admin/login")},[t,n,r,e]),r)return m.jsx("div",{className:"min-h-screen bg-black text-gold flex items-center justify-center",children:"Loading Admin..."});if(!n)return m.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col items-center justify-center gap-4",children:[m.jsx("h1",{className:"text-2xl text-red-500 font-bold",children:"Access Denied"}),m.jsx("p",{className:"text-gray-400",children:"You do not have administrator's privileges."}),m.jsxs("div",{className:"text-sm text-gray-600",children:["Current Role: ",t==null?void 0:t.email]}),m.jsx("button",{onClick:()=>{Zb(Rf),e("/admin/login")},className:"px-4 py-2 bg-gold text-black rounded hover:bg-white transition-colors",children:"Back to Login"})]});const i=async()=>{try{await Zb(Rf),e("/admin/login")}catch(a){console.error("Logout failed:",a)}};return m.jsxs("div",{className:"admin-theme min-h-screen bg-[#F4F5F7] flex text-gray-800 selection:bg-gold selection:text-black",children:[m.jsxs("aside",{className:"w-64 bg-black flex flex-col fixed h-full z-20 shadow-xl border-r border-white/10",children:[m.jsx("div",{className:"h-20 flex items-center px-8 border-b border-white/10",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-gold to-yellow-600 rounded-lg flex items-center justify-center text-black font-bold text-lg shadow-lg shadow-gold/20",children:"A"}),m.jsxs("h1",{className:"text-xl font-bold text-white tracking-tight",children:["Ambrosia",m.jsx("span",{className:"text-gold",children:"."})]})]})}),m.jsxs("nav",{className:"flex-1 px-4 py-8 space-y-1",children:[m.jsx("p",{className:"px-4 text-[10px] uppercase tracking-wider text-gray-500 mb-4 font-bold",children:"Menu"}),m.jsxs(Tn,{to:"/admin",end:!0,className:({isActive:a})=>`flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200 ${a?"bg-gradient-to-r from-gold to-yellow-500 text-black shadow-lg shadow-gold/20":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[m.jsx(FW,{size:18}),m.jsx("span",{children:"Dashboard"})]}),m.jsxs(Tn,{to:"/admin/orders",className:({isActive:a})=>`flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200 ${a?"bg-gradient-to-r from-gold to-yellow-500 text-black shadow-lg shadow-gold/20":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[m.jsx(i4,{size:18}),m.jsx("span",{children:"Orders"})]}),m.jsxs(Tn,{to:"/admin/products",className:({isActive:a})=>`flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200 ${a?"bg-gradient-to-r from-gold to-yellow-500 text-black shadow-lg shadow-gold/20":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[m.jsx(r4,{size:18}),m.jsx("span",{children:"Products"})]}),m.jsxs(Tn,{to:"/admin/messages",className:({isActive:a})=>`flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200 ${a?"bg-gradient-to-r from-gold to-yellow-500 text-black shadow-lg shadow-gold/20":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[m.jsx(jf,{size:18}),m.jsx("span",{children:"Messages"})]})]}),m.jsxs("div",{className:"p-6 border-t border-white/10",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-700 overflow-hidden",children:m.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-xs",children:"U"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-white font-medium",children:"Admin User"}),m.jsx("p",{className:"text-[10px] text-gray-500 truncate w-32",children:t==null?void 0:t.email})]})]}),m.jsxs("button",{onClick:i,className:"w-full flex items-center gap-2 px-4 py-2 text-gray-400 hover:text-white transition-colors text-xs font-medium",children:[m.jsx(HW,{size:16}),"Sign Out"]})]})]}),m.jsx("main",{className:"flex-1 min-h-screen transition-all duration-300",style:{marginLeft:"256px"},children:m.jsx("div",{className:"w-full p-8",children:m.jsx(l8,{})})})]})};function g4(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=g4(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ye(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=g4(e))&&(r&&(r+=" "),r+=t);return r}var XX=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function O1(e){if(typeof e!="string")return!1;var t=XX;return t.includes(e)}var QX=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],ZX=new Set(QX);function y4(e){return typeof e!="string"?!1:ZX.has(e)}function v4(e){return typeof e=="string"&&e.startsWith("data-")}function qr(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(y4(n)||v4(n))&&(t[n]=e[n]);return t}function fy(e){if(e==null)return null;if(b.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return qr(t)}return typeof e=="object"&&!Array.isArray(e)?qr(e):null}function Nr(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(y4(n)||v4(n)||O1(n))&&(t[n]=e[n]);return t}function JX(e){return e==null?null:b.isValidElement(e)?Nr(e.props):typeof e=="object"&&!Array.isArray(e)?Nr(e):null}var eQ=["children","width","height","viewBox","className","style","title","desc"];function v_(){return v_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v_.apply(null,arguments)}function tQ(e,t){if(e==null)return{};var n,r,i=nQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function nQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var b4=b.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:s,style:o,title:l,desc:u}=e,c=tQ(e,eQ),f=a||{width:r,height:i,x:0,y:0},h=Ye("recharts-surface",s);return b.createElement("svg",v_({},Nr(c),{className:h,width:r,height:i,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),b.createElement("title",null,l),b.createElement("desc",null,u),n)}),rQ=["children","className"];function b_(){return b_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b_.apply(null,arguments)}function iQ(e,t){if(e==null)return{};var n,r,i=aQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function aQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var yi=b.forwardRef((e,t)=>{var{children:n,className:r}=e,i=iQ(e,rQ),a=Ye("recharts-layer",r);return b.createElement("g",b_({className:a},Nr(i),{ref:t}),n)}),sQ=b.createContext(null);function it(e){return function(){return e}}const __=Math.PI,x_=2*__,Qs=1e-6,oQ=x_-Qs;function _4(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function lQ(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return _4;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class uQ{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?_4:lQ(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=r-t,u=i-n,c=s-t,f=o-n,h=c*c+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>Qs)if(!(Math.abs(f*l-u*c)>Qs)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let p=r-s,g=i-o,x=l*l+u*u,v=p*p+g*g,w=Math.sqrt(x),_=Math.sqrt(h),S=a*Math.tan((__-Math.acos((x+h-v)/(2*w*_)))/2),C=S/_,P=S/w;Math.abs(C-1)>Qs&&this._append`L${t+C*c},${n+C*f}`,this._append`A${a},${a},0,0,${+(f*p>c*g)},${this._x1=t+P*l},${this._y1=n+P*u}`}}arc(t,n,r,i,a,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),u=t+o,c=n+l,f=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Qs||Math.abs(this._y1-c)>Qs)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%x_+x_),h>oQ?this._append`A${r},${r},0,1,${f},${t-o},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:h>Qs&&this._append`A${r},${r},0,${+(h>=__)},${f},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function x4(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new uQ(t)}function I1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function w4(e){this._context=e}w4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function dy(e){return new w4(e)}function E4(e){return e[0]}function S4(e){return e[1]}function A4(e,t){var n=it(!0),r=null,i=dy,a=null,s=x4(o);e=typeof e=="function"?e:e===void 0?E4:it(e),t=typeof t=="function"?t:t===void 0?S4:it(t);function o(l){var u,c=(l=I1(l)).length,f,h=!1,p;for(r==null&&(a=i(p=s())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(f,u,l),+t(f,u,l));if(p)return a=null,p+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:it(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:it(+l),o):t},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:it(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),o):r},o}function Lh(e,t,n){var r=null,i=it(!0),a=null,s=dy,o=null,l=x4(u);e=typeof e=="function"?e:e===void 0?E4:it(+e),t=typeof t=="function"?t:it(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?S4:it(+n);function u(f){var h,p,g,x=(f=I1(f)).length,v,w=!1,_,S=new Array(x),C=new Array(x);for(a==null&&(o=s(_=l())),h=0;h<=x;++h){if(!(h<x&&i(v=f[h],h,f))===w)if(w=!w)p=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=h-1;g>=p;--g)o.point(S[g],C[g]);o.lineEnd(),o.areaEnd()}w&&(S[h]=+e(v,h,f),C[h]=+t(v,h,f),o.point(r?+r(v,h,f):S[h],n?+n(v,h,f):C[h]))}if(_)return o=null,_+""||null}function c(){return A4().defined(i).curve(s).context(a)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:it(+f),r=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:it(+f),u):e},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:it(+f),u):r},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:it(+f),n=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:it(+f),u):t},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:it(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(n)},u.lineX1=function(){return c().x(r).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:it(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),u):s},u.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),u):a},u}class T4{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function cQ(e){return new T4(e,!0)}function fQ(e){return new T4(e,!1)}function Np(){}function Op(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function C4(e){this._context=e}C4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Op(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Op(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function dQ(e){return new C4(e)}function N4(e){this._context=e}N4.prototype={areaStart:Np,areaEnd:Np,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Op(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function hQ(e){return new N4(e)}function O4(e){this._context=e}O4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Op(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function mQ(e){return new O4(e)}function I4(e){this._context=e}I4.prototype={areaStart:Np,areaEnd:Np,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function pQ(e){return new I4(e)}function SN(e){return e<0?-1:1}function AN(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(SN(a)+SN(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function TN(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function S0(e,t,n){var r=e._x0,i=e._y0,a=e._x1,s=e._y1,o=(a-r)/3;e._context.bezierCurveTo(r+o,i+o*t,a-o,s-o*n,a,s)}function Ip(e){this._context=e}Ip.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:S0(this,this._t0,TN(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,S0(this,TN(this,n=AN(this,e,t)),n);break;default:S0(this,this._t0,n=AN(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function P4(e){this._context=new R4(e)}(P4.prototype=Object.create(Ip.prototype)).point=function(e,t){Ip.prototype.point.call(this,t,e)};function R4(e){this._context=e}R4.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function gQ(e){return new Ip(e)}function yQ(e){return new P4(e)}function j4(e){this._context=e}j4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=CN(e),i=CN(t),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function CN(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function vQ(e){return new j4(e)}function hy(e,t){this._context=e,this._t=t}hy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function bQ(e){return new hy(e,.5)}function _Q(e){return new hy(e,0)}function xQ(e){return new hy(e,1)}function Oo(e,t){if((s=e.length)>1)for(var n=1,r,i,a=e[t[0]],s,o=a.length;n<s;++n)for(i=a,a=e[t[n]],r=0;r<o;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function w_(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function wQ(e,t){return e[t]}function EQ(e){const t=[];return t.key=e,t}function SQ(){var e=it([]),t=w_,n=Oo,r=wQ;function i(a){var s=Array.from(e.apply(this,arguments),EQ),o,l=s.length,u=-1,c;for(const f of a)for(o=0,++u;o<l;++o)(s[o][u]=[0,+r(f,s[o].key,u,a)]).data=f;for(o=0,c=I1(t(s));o<l;++o)s[c[o]].index=o;return n(s,c),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:it(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:it(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?w_:typeof a=="function"?a:it(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??Oo,i):n},i}function AQ(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=e[n][i][1]||0;if(s)for(n=0;n<r;++n)e[n][i][1]/=s}Oo(e,t)}}function TQ(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var s=0,o=0;s<i;++s)o+=e[s][n][1]||0;r[n][1]+=r[n][0]=-o/2}Oo(e,t)}}function CQ(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var o=0,l=0,u=0;o<s;++o){for(var c=e[t[o]],f=c[r][1]||0,h=c[r-1][1]||0,p=(f-h)/2,g=0;g<o;++g){var x=e[t[g]],v=x[r][1]||0,w=x[r-1][1]||0;p+=v-w}l+=f,u+=p*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Oo(e,t)}}var my={},k4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(k4);var P1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(P1);var py={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(py);var gy={},D4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(D4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=D4,n=py;function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],s=i.length;if(s===0)return a;let o=0,l="",u="",c=!1;for(i.charCodeAt(0)===46&&(a.push(""),o++);o<s;){const f=i[o];u?f==="\\"&&o+1<s?(o++,l+=i[o]):f===u?u="":l+=f:c?f==='"'||f==="'"?u=f:f==="]"?(c=!1,a.push(l),l=""):l+=f:f==="["?(c=!0,l&&(a.push(l),l="")):f==="."?l&&(a.push(l),l=""):l+=f,o++}return l&&a.push(l),a}e.toPath=r})(gy);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k4,n=P1,r=py,i=gy;function a(o,l,u){if(o==null)return u;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return u;const c=o[l];return c===void 0?n.isDeepKey(l)?a(o,i.toPath(l),u):u:c}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const c=o[l];return c===void 0?u:c}default:{if(Array.isArray(l))return s(o,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return u;const c=o[l];return c===void 0?u:c}}}function s(o,l,u){if(l.length===0)return u;let c=o;for(let f=0;f<l.length;f++){if(c==null||t.isUnsafeProperty(l[f]))return u;c=c[l[f]]}return c===void 0?u:c}e.get=a})(my);var NQ=my.get;const yy=Ns(NQ);var OQ=4;function Ja(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:OQ,n=10**t,r=Math.round(e*n)/n;return Object.is(r,-0)?0:r}function Zt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((i,a,s)=>{var o=n[s-1];return typeof o=="string"?i+o+a:o!==void 0?i+Ja(o)+a:i+a},"")}var wr=e=>e===0?0:e>0?1:-1,vi=e=>typeof e=="number"&&e!=+e,Io=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Q=e=>(typeof e=="number"||e instanceof Number)&&!vi(e),bi=e=>Q(e)||typeof e=="string",IQ=0,Df=e=>{var t=++IQ;return"".concat(e||"").concat(t)},Cs=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Q(t)&&typeof t!="string")return r;var a;if(Io(t)){if(n==null)return r;var s=t.indexOf("%");a=n*parseFloat(t.slice(0,s))/100}else a=+t;return vi(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},M4=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[String(e[r])])n[String(e[r])]=!0;else return!0;return!1};function ei(e,t,n){return Q(e)&&Q(t)?Ja(e+n*(t-e)):t}function L4(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):yy(r,t))===n)}var _n=e=>e===null||typeof e>"u",R1=e=>_n(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function Un(e){return e!=null}function Ou(){}var V4=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,j1=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(b.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{O1(i)&&(r[i]=a=>n[i](n,a))}),r},PQ=(e,t,n)=>r=>(e(t,n,r),null),RQ=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];O1(i)&&typeof a=="function"&&(r||(r={}),r[i]=PQ(a,t,n))}),r};function NN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jQ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NN(Object(n),!0).forEach(function(r){kQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kQ(e,t,n){return(t=DQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DQ(e){var t=MQ(e,"string");return typeof t=="symbol"?t:t+""}function MQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fr(e,t){var n=jQ({},e),r=t,i=Object.keys(t),a=i.reduce((s,o)=>(s[o]===void 0&&r[o]!==void 0&&(s[o]=r[o]),s),n);return a}var U4={},z4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let a=0;a<n.length;a++){const s=n[a],o=r(s,a,n);i.has(o)||i.set(o,s)}return Array.from(i.values())}e.uniqBy=t})(z4);var B4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}e.ary=t})(B4);var k1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(k1);var $4={},vy={},F4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(F4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=F4;function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(vy);var q4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(q4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vy,n=q4;function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})($4);var H4={},G4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=my;function n(r){return function(i){return t.get(i,r)}}e.property=n})(G4);var K4={},D1={},Y4={},M1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(M1);var L1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(L1);var V1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.isEqualsSameValueZero=t})(V1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=M1,n=L1,r=V1;function i(c,f,h){return typeof h!="function"?i(c,f,()=>{}):a(c,f,function p(g,x,v,w,_,S){const C=h(g,x,v,w,_,S);return C!==void 0?!!C:a(g,x,p,S)},new Map)}function a(c,f,h,p){if(f===c)return!0;switch(typeof f){case"object":return s(c,f,h,p);case"function":return Object.keys(f).length>0?a(c,{...f},h,p):r.isEqualsSameValueZero(c,f);default:return t.isObject(c)?typeof f=="string"?f==="":!0:r.isEqualsSameValueZero(c,f)}}function s(c,f,h,p){if(f==null)return!0;if(Array.isArray(f))return l(c,f,h,p);if(f instanceof Map)return o(c,f,h,p);if(f instanceof Set)return u(c,f,h,p);const g=Object.keys(f);if(c==null||n.isPrimitive(c))return g.length===0;if(g.length===0)return!0;if(p!=null&&p.has(f))return p.get(f)===c;p==null||p.set(f,c);try{for(let x=0;x<g.length;x++){const v=g[x];if(!n.isPrimitive(c)&&!(v in c)||f[v]===void 0&&c[v]!==void 0||f[v]===null&&c[v]!==null||!h(c[v],f[v],v,c,f,p))return!1}return!0}finally{p==null||p.delete(f)}}function o(c,f,h,p){if(f.size===0)return!0;if(!(c instanceof Map))return!1;for(const[g,x]of f.entries()){const v=c.get(g);if(h(v,x,g,c,f,p)===!1)return!1}return!0}function l(c,f,h,p){if(f.length===0)return!0;if(!Array.isArray(c))return!1;const g=new Set;for(let x=0;x<f.length;x++){const v=f[x];let w=!1;for(let _=0;_<c.length;_++){if(g.has(_))continue;const S=c[_];let C=!1;if(h(S,v,x,c,f,p)&&(C=!0),C){g.add(_),w=!0;break}}if(!w)return!1}return!0}function u(c,f,h,p){return f.size===0?!0:c instanceof Set?l([...c],[...f],h,p):!1}e.isMatchWith=i,e.isSetMatch=u})(Y4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Y4;function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(D1);var W4={},U1={},X4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(X4);var by={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(by);var z1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",o="[object Date]",l="[object Map]",u="[object Set]",c="[object Array]",f="[object Function]",h="[object ArrayBuffer]",p="[object Object]",g="[object Error]",x="[object DataView]",v="[object Uint8Array]",w="[object Uint8ClampedArray]",_="[object Uint16Array]",S="[object Uint32Array]",C="[object BigUint64Array]",P="[object Int8Array]",O="[object Int16Array]",A="[object Int32Array]",T="[object BigInt64Array]",N="[object Float32Array]",k="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=h,e.arrayTag=c,e.bigInt64ArrayTag=T,e.bigUint64ArrayTag=C,e.booleanTag=i,e.dataViewTag=x,e.dateTag=o,e.errorTag=g,e.float32ArrayTag=N,e.float64ArrayTag=k,e.functionTag=f,e.int16ArrayTag=O,e.int32ArrayTag=A,e.int8ArrayTag=P,e.mapTag=l,e.numberTag=r,e.objectTag=p,e.regexpTag=t,e.setTag=u,e.stringTag=n,e.symbolTag=s,e.uint16ArrayTag=_,e.uint32ArrayTag=S,e.uint8ArrayTag=v,e.uint8ClampedArrayTag=w})(z1);var Q4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(Q4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=X4,n=by,r=z1,i=L1,a=Q4;function s(c,f){return o(c,void 0,c,new Map,f)}function o(c,f,h,p=new Map,g=void 0){const x=g==null?void 0:g(c,f,h,p);if(x!==void 0)return x;if(i.isPrimitive(c))return c;if(p.has(c))return p.get(c);if(Array.isArray(c)){const v=new Array(c.length);p.set(c,v);for(let w=0;w<c.length;w++)v[w]=o(c[w],w,h,p,g);return Object.hasOwn(c,"index")&&(v.index=c.index),Object.hasOwn(c,"input")&&(v.input=c.input),v}if(c instanceof Date)return new Date(c.getTime());if(c instanceof RegExp){const v=new RegExp(c.source,c.flags);return v.lastIndex=c.lastIndex,v}if(c instanceof Map){const v=new Map;p.set(c,v);for(const[w,_]of c)v.set(w,o(_,w,h,p,g));return v}if(c instanceof Set){const v=new Set;p.set(c,v);for(const w of c)v.add(o(w,void 0,h,p,g));return v}if(typeof Buffer<"u"&&Buffer.isBuffer(c))return c.subarray();if(a.isTypedArray(c)){const v=new(Object.getPrototypeOf(c)).constructor(c.length);p.set(c,v);for(let w=0;w<c.length;w++)v[w]=o(c[w],w,h,p,g);return v}if(c instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&c instanceof SharedArrayBuffer)return c.slice(0);if(c instanceof DataView){const v=new DataView(c.buffer.slice(0),c.byteOffset,c.byteLength);return p.set(c,v),l(v,c,h,p,g),v}if(typeof File<"u"&&c instanceof File){const v=new File([c],c.name,{type:c.type});return p.set(c,v),l(v,c,h,p,g),v}if(typeof Blob<"u"&&c instanceof Blob){const v=new Blob([c],{type:c.type});return p.set(c,v),l(v,c,h,p,g),v}if(c instanceof Error){const v=new c.constructor;return p.set(c,v),v.message=c.message,v.name=c.name,v.stack=c.stack,v.cause=c.cause,l(v,c,h,p,g),v}if(c instanceof Boolean){const v=new Boolean(c.valueOf());return p.set(c,v),l(v,c,h,p,g),v}if(c instanceof Number){const v=new Number(c.valueOf());return p.set(c,v),l(v,c,h,p,g),v}if(c instanceof String){const v=new String(c.valueOf());return p.set(c,v),l(v,c,h,p,g),v}if(typeof c=="object"&&u(c)){const v=Object.create(Object.getPrototypeOf(c));return p.set(c,v),l(v,c,h,p,g),v}return c}function l(c,f,h=c,p,g){const x=[...Object.keys(f),...t.getSymbols(f)];for(let v=0;v<x.length;v++){const w=x[v],_=Object.getOwnPropertyDescriptor(c,w);(_==null||_.writable)&&(c[w]=o(f[w],w,h,p,g))}}function u(c){switch(n.getTag(c)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=o,e.copyProperties=l})(U1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=U1;function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(W4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=D1,n=W4;function r(i){return i=n.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=r})(K4);var Z4={},J4={},eL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=U1,n=by,r=z1;function i(a,s){return t.cloneDeepWith(a,(o,l,u,c)=>{const f=s==null?void 0:s(o,l,u,c);if(f!==void 0)return f;if(typeof a=="object"){if(n.getTag(a)===r.objectTag&&typeof a.constructor!="function"){const h={};return c.set(a,h),t.copyProperties(h,a,u,c),h}switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const h=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(h,a),h}case r.argumentsTag:{const h={};return t.copyProperties(h,a),h.length=a.length,h[Symbol.iterator]=a[Symbol.iterator],h}default:return}}})}e.cloneDeepWith=i})(eL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eL;function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(J4);var tL={},B1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(B1);var nL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=by;function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(nL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=P1,n=B1,r=nL,i=gy;function a(s,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&t.isDeepKey(o)&&(s==null?void 0:s[o])==null?l=i.toPath(o):l=[o],l.length===0)return!1;let u=s;for(let c=0;c<l.length;c++){const f=l[c];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||r.isArguments(u))&&n.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=a})(tL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=D1,n=py,r=J4,i=my,a=tL;function s(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=n.toKey(o);break}}return l=r.cloneDeep(l),function(u){const c=i.get(u,o);return c===void 0?a.has(u,o):l===void 0?c===void 0:t.isMatch(c,l)}}e.matchesProperty=s})(Z4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k1,n=G4,r=K4,i=Z4;function a(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}e.iteratee=a})(H4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=z4,n=B4,r=k1,i=$4,a=H4;function s(o,l=r.identity){return i.isArrayLikeObject(o)?t.uniqBy(Array.from(o),n.ary(a.iteratee(l),1)):[]}e.uniqBy=s})(U4);var LQ=U4.uniqBy;const ON=Ns(LQ);function VQ(e,t,n){return t===!0?ON(e,n):typeof t=="function"?ON(e,t):e}var rL={exports:{}},iL={},aL={exports:{}},sL={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var su=b;function UQ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var zQ=typeof Object.is=="function"?Object.is:UQ,BQ=su.useState,$Q=su.useEffect,FQ=su.useLayoutEffect,qQ=su.useDebugValue;function HQ(e,t){var n=t(),r=BQ({inst:{value:n,getSnapshot:t}}),i=r[0].inst,a=r[1];return FQ(function(){i.value=n,i.getSnapshot=t,A0(i)&&a({inst:i})},[e,n,t]),$Q(function(){return A0(i)&&a({inst:i}),e(function(){A0(i)&&a({inst:i})})},[e]),qQ(n),n}function A0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!zQ(e,n)}catch{return!0}}function GQ(e,t){return t()}var KQ=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?GQ:HQ;sL.useSyncExternalStore=su.useSyncExternalStore!==void 0?su.useSyncExternalStore:KQ;aL.exports=sL;var YQ=aL.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _y=b,WQ=YQ;function XQ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var QQ=typeof Object.is=="function"?Object.is:XQ,ZQ=WQ.useSyncExternalStore,JQ=_y.useRef,eZ=_y.useEffect,tZ=_y.useMemo,nZ=_y.useDebugValue;iL.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var a=JQ(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=tZ(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&s.hasValue){var g=s.value;if(i(g,p))return f=g}return f=p}if(g=f,QQ(c,p))return g;var x=r(p);return i!==void 0&&i(g,x)?(c=p,g):(c=p,f=x)}var u=!1,c,f,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,i]);var o=ZQ(e,a[0],a[1]);return eZ(function(){s.hasValue=!0,s.value=o},[o]),nZ(o),o};rL.exports=iL;var rZ=rL.exports,$1=b.createContext(null),iZ=e=>e,qt=()=>{var e=b.useContext($1);return e?e.store.dispatch:iZ},Tm=()=>{},aZ=()=>Tm,sZ=(e,t)=>e===t;function ee(e){var t=b.useContext($1),n=b.useMemo(()=>t?r=>{if(r!=null)return e(r)}:Tm,[t,e]);return rZ.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:aZ,t?t.store.getState:Tm,t?t.store.getState:Tm,n,sZ)}function oZ(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function lZ(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function uZ(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var IN=e=>Array.isArray(e)?e:[e];function cZ(e){const t=Array.isArray(e[0])?e[0]:e;return uZ(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function fZ(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var dZ=class{constructor(e){this.value=e}deref(){return this.value}},hZ=typeof WeakRef<"u"?WeakRef:dZ,mZ=0,PN=1;function Vh(){return{s:mZ,v:void 0,o:null,p:null}}function oL(e,t={}){let n=Vh();const{resultEqualityCheck:r}=t;let i,a=0;function s(){var f;let o=n;const{length:l}=arguments;for(let h=0,p=l;h<p;h++){const g=arguments[h];if(typeof g=="function"||typeof g=="object"&&g!==null){let x=o.o;x===null&&(o.o=x=new WeakMap);const v=x.get(g);v===void 0?(o=Vh(),x.set(g,o)):o=v}else{let x=o.p;x===null&&(o.p=x=new Map);const v=x.get(g);v===void 0?(o=Vh(),x.set(g,o)):o=v}}const u=o;let c;if(o.s===PN)c=o.v;else if(c=e.apply(null,arguments),a++,r){const h=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;h!=null&&r(h,c)&&(c=h,a!==0&&a--),i=typeof c=="object"&&c!==null||typeof c=="function"?new hZ(c):c}return u.s=PN,u.v=c,c}return s.clearCache=()=>{n=Vh(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function pZ(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let a=0,s=0,o,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),oZ(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...n,...l},{memoize:f,memoizeOptions:h=[],argsMemoize:p=oL,argsMemoizeOptions:g=[]}=c,x=IN(h),v=IN(g),w=cZ(i),_=f(function(){return a++,u.apply(null,arguments)},...x),S=p(function(){s++;const P=fZ(w,arguments);return o=_.apply(null,P),o},...v);return Object.assign(S,{resultFunc:u,memoizedResultFunc:_,dependencies:w,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:f,argsMemoize:p})};return Object.assign(r,{withTypes:()=>r}),r}var V=pZ(oL),gZ=Object.assign((e,t=V)=>{lZ(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((s,o,l)=>(s[n[l]]=o,s),{}))},{withTypes:()=>gZ}),lL={},uL={},cL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const s=t(r),o=t(i);if(s===o&&s===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?o-s:s-o}return 0};e.compareValues=n})(cL);var fL={},F1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(F1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=F1,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||s!=null&&Object.hasOwn(s,a)}e.isKey=i})(fL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cL,n=fL,r=gy;function i(a,s,o,l){if(a==null)return[];o=l?void 0:o,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(p=>String(p));const u=(p,g)=>{let x=p;for(let v=0;v<g.length&&x!=null;++v)x=x[g[v]];return x},c=(p,g)=>g==null||p==null?g:typeof p=="object"&&"key"in p?Object.hasOwn(g,p.key)?g[p.key]:u(g,p.path):typeof p=="function"?p(g):Array.isArray(p)?u(g,p):typeof g=="object"?g[p]:g,f=s.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||n.isKey(p)?p:{key:p,path:r.toPath(p)}));return a.map(p=>({original:p,criteria:f.map(g=>c(g,p))})).slice().sort((p,g)=>{for(let x=0;x<f.length;x++){const v=t.compareValues(p.criteria[x],g.criteria[x],o[x]);if(v!==0)return v}return 0}).map(p=>p.original)}e.orderBy=i})(uL);var dL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],a=Math.floor(r),s=(o,l)=>{for(let u=0;u<o.length;u++){const c=o[u];Array.isArray(c)&&l<a?s(c,l+1):i.push(c)}};return s(n,0),i}e.flatten=t})(dL);var q1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=B1,n=vy,r=M1,i=V1;function a(s,o,l){return r.isObject(l)&&(typeof o=="number"&&n.isArrayLike(l)&&t.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?i.isEqualsSameValueZero(l[o],s):!1}e.isIterateeCall=a})(q1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uL,n=dL,r=q1;function i(a,...s){const o=s.length;return o>1&&r.isIterateeCall(a,s[0],s[1])?s=[]:o>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(a,n.flatten(s),["asc"])}e.sortBy=i})(lL);var yZ=lL.sortBy;const xy=Ns(yZ);var hL=e=>e.legend.settings,vZ=e=>e.legend.size,bZ=e=>e.legend.payload;V([bZ,hL],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?xy(r,n):r});var Uh=1;function _Z(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=b.useState({height:0,left:0,top:0,width:0}),r=b.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-t.height)>Uh||Math.abs(s.left-t.left)>Uh||Math.abs(s.top-t.top)>Uh||Math.abs(s.width-t.width)>Uh)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function Xt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var xZ=typeof Symbol=="function"&&Symbol.observable||"@@observable",RN=xZ,T0=()=>Math.random().toString(36).substring(7).split("").join("."),wZ={INIT:`@@redux/INIT${T0()}`,REPLACE:`@@redux/REPLACE${T0()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${T0()}`},Pp=wZ;function H1(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function mL(e,t,n){if(typeof e!="function")throw new Error(Xt(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Xt(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Xt(1));return n(mL)(e,t)}let r=e,i=t,a=new Map,s=a,o=0,l=!1;function u(){s===a&&(s=new Map,a.forEach((v,w)=>{s.set(w,v)}))}function c(){if(l)throw new Error(Xt(3));return i}function f(v){if(typeof v!="function")throw new Error(Xt(4));if(l)throw new Error(Xt(5));let w=!0;u();const _=o++;return s.set(_,v),function(){if(w){if(l)throw new Error(Xt(6));w=!1,u(),s.delete(_),a=null}}}function h(v){if(!H1(v))throw new Error(Xt(7));if(typeof v.type>"u")throw new Error(Xt(8));if(typeof v.type!="string")throw new Error(Xt(17));if(l)throw new Error(Xt(9));try{l=!0,i=r(i,v)}finally{l=!1}return(a=s).forEach(_=>{_()}),v}function p(v){if(typeof v!="function")throw new Error(Xt(10));r=v,h({type:Pp.REPLACE})}function g(){const v=f;return{subscribe(w){if(typeof w!="object"||w===null)throw new Error(Xt(11));function _(){const C=w;C.next&&C.next(c())}return _(),{unsubscribe:v(_)}},[RN](){return this}}}return h({type:Pp.INIT}),{dispatch:h,subscribe:f,getState:c,replaceReducer:p,[RN]:g}}function EZ(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Pp.INIT})>"u")throw new Error(Xt(12));if(typeof n(void 0,{type:Pp.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Xt(13))})}function pL(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const s=t[a];typeof e[s]=="function"&&(n[s]=e[s])}const r=Object.keys(n);let i;try{EZ(n)}catch(a){i=a}return function(s={},o){if(i)throw i;let l=!1;const u={};for(let c=0;c<r.length;c++){const f=r[c],h=n[f],p=s[f],g=h(p,o);if(typeof g>"u")throw o&&o.type,new Error(Xt(14));u[f]=g,l=l||g!==p}return l=l||r.length!==Object.keys(s).length,l?u:s}}function Rp(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function SZ(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(Xt(15))};const s={getState:i.getState,dispatch:(l,...u)=>a(l,...u)},o=e.map(l=>l(s));return a=Rp(...o)(i.dispatch),{...i,dispatch:a}}}function gL(e){return H1(e)&&"type"in e&&typeof e.type=="string"}var yL=Symbol.for("immer-nothing"),jN=Symbol.for("immer-draftable"),In=Symbol.for("immer-state");function Mr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var tr=Object,ou=tr.getPrototypeOf,jp="constructor",wy="prototype",E_="configurable",kp="enumerable",Cm="writable",Mf="value",ua=e=>!!e&&!!e[In];function Hr(e){var t;return e?vL(e)||Sy(e)||!!e[jN]||!!((t=e[jp])!=null&&t[jN])||Ay(e)||Ty(e):!1}var AZ=tr[wy][jp].toString(),kN=new WeakMap;function vL(e){if(!e||!G1(e))return!1;const t=ou(e);if(t===null||t===tr[wy])return!0;const n=tr.hasOwnProperty.call(t,jp)&&t[jp];if(n===Object)return!0;if(!ul(n))return!1;let r=kN.get(n);return r===void 0&&(r=Function.toString.call(n),kN.set(n,r)),r===AZ}function Ey(e,t,n=!0){Nd(e)===0?(n?Reflect.ownKeys(e):tr.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function Nd(e){const t=e[In];return t?t.type_:Sy(e)?1:Ay(e)?2:Ty(e)?3:0}var DN=(e,t,n=Nd(e))=>n===2?e.has(t):tr[wy].hasOwnProperty.call(e,t),S_=(e,t,n=Nd(e))=>n===2?e.get(t):e[t],Dp=(e,t,n,r=Nd(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function TZ(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Sy=Array.isArray,Ay=e=>e instanceof Map,Ty=e=>e instanceof Set,G1=e=>typeof e=="object",ul=e=>typeof e=="function",C0=e=>typeof e=="boolean";function CZ(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var ki=e=>e.copy_||e.base_,K1=e=>e.modified_?e.copy_:e.base_;function A_(e,t){if(Ay(e))return new Map(e);if(Ty(e))return new Set(e);if(Sy(e))return Array[wy].slice.call(e);const n=vL(e);if(t===!0||t==="class_only"&&!n){const r=tr.getOwnPropertyDescriptors(e);delete r[In];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],o=r[s];o[Cm]===!1&&(o[Cm]=!0,o[E_]=!0),(o.get||o.set)&&(r[s]={[E_]:!0,[Cm]:!0,[kp]:o[kp],[Mf]:e[s]})}return tr.create(ou(e),r)}else{const r=ou(e);if(r!==null&&n)return{...e};const i=tr.create(r);return tr.assign(i,e)}}function Y1(e,t=!1){return Cy(e)||ua(e)||!Hr(e)||(Nd(e)>1&&tr.defineProperties(e,{set:zh,add:zh,clear:zh,delete:zh}),tr.freeze(e),t&&Ey(e,(n,r)=>{Y1(r,!0)},!1)),e}function NZ(){Mr(2)}var zh={[Mf]:NZ};function Cy(e){return e===null||!G1(e)?!0:tr.isFrozen(e)}var Mp="MapSet",T_="Patches",MN="ArrayMethods",bL={};function Po(e){const t=bL[e];return t||Mr(0,e),t}var LN=e=>!!bL[e],Lf,_L=()=>Lf,OZ=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:LN(Mp)?Po(Mp):void 0,arrayMethodsPlugin_:LN(MN)?Po(MN):void 0});function VN(e,t){t&&(e.patchPlugin_=Po(T_),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function C_(e){N_(e),e.drafts_.forEach(IZ),e.drafts_=null}function N_(e){e===Lf&&(Lf=e.parent_)}var UN=e=>Lf=OZ(Lf,e);function IZ(e){const t=e[In];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function zN(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[In].modified_&&(C_(t),Mr(4)),Hr(e)&&(e=BN(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[In].base_,e,t)}else e=BN(t,n);return PZ(t,e,!0),C_(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==yL?e:void 0}function BN(e,t){if(Cy(t))return t;const n=t[In];if(!n)return Lp(t,e.handledSet_,e);if(!Ny(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);EL(n,e)}return n.copy_}function PZ(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Y1(t,n)}function xL(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Ny=(e,t)=>e.scope_===t,RZ=[];function wL(e,t,n,r){const i=ki(e),a=e.type_;if(r!==void 0&&S_(i,r,a)===t){Dp(i,r,n,a);return}if(!e.draftLocations_){const o=e.draftLocations_=new Map;Ey(i,(l,u)=>{if(ua(u)){const c=o.get(u)||[];c.push(l),o.set(u,c)}})}const s=e.draftLocations_.get(t)??RZ;for(const o of s)Dp(i,o,n,a)}function jZ(e,t,n){e.callbacks_.push(function(i){var o;const a=t;if(!a||!Ny(a,i))return;(o=i.mapSetPlugin_)==null||o.fixSetContents(a);const s=K1(a);wL(e,a.draft_??a,s,n),EL(a,i)})}function EL(e,t){var r;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((r=e.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const a=i.getPath(e);a&&i.generatePatches_(e,a,t)}xL(e)}}function kZ(e,t,n){const{scope_:r}=e;if(ua(n)){const i=n[In];Ny(i,r)&&i.callbacks_.push(function(){Nm(e);const s=K1(i);wL(e,n,s,t)})}else Hr(n)&&e.callbacks_.push(function(){const a=ki(e);e.type_===3?a.has(n)&&Lp(n,r.handledSet_,r):S_(a,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Lp(S_(e.copy_,t,e.type_),r.handledSet_,r)})}function Lp(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||ua(e)||t.has(e)||!Hr(e)||Cy(e)||(t.add(e),Ey(e,(r,i)=>{if(ua(i)){const a=i[In];if(Ny(a,n)){const s=K1(a);Dp(e,r,s,e.type_),xL(a)}}else Hr(i)&&Lp(i,t,n)})),e}function DZ(e,t){const n=Sy(e),r={type_:n?1:0,scope_:t?t.scope_:_L(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=Vp;n&&(i=[r],a=Vf);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,[o,r]}var Vp={get(e,t){if(t===In)return e;let n=e.scope_.arrayMethodsPlugin_;const r=e.type_===1&&typeof t=="string";if(r&&n!=null&&n.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const i=ki(e);if(!DN(i,t,e.type_))return MZ(e,i,t);const a=i[t];if(e.finalized_||!Hr(a)||r&&e.operationMethod&&(n!=null&&n.isMutatingArrayMethod(e.operationMethod))&&CZ(t))return a;if(a===N0(e.base_,t)){Nm(e);const s=e.type_===1?+t:t,o=I_(e.scope_,a,e,s);return e.copy_[s]=o}return a},has(e,t){return t in ki(e)},ownKeys(e){return Reflect.ownKeys(ki(e))},set(e,t,n){const r=SL(ki(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=N0(ki(e),t),a=i==null?void 0:i[In];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(TZ(n,i)&&(n!==void 0||DN(e.base_,t,e.type_)))return!0;Nm(e),O_(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),kZ(e,t,n)),!0},deleteProperty(e,t){return Nm(e),N0(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),O_(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=ki(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[Cm]:!0,[E_]:e.type_!==1||t!=="length",[kp]:r[kp],[Mf]:n[t]}},defineProperty(){Mr(11)},getPrototypeOf(e){return ou(e.base_)},setPrototypeOf(){Mr(12)}},Vf={};for(let e in Vp){let t=Vp[e];Vf[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}}Vf.deleteProperty=function(e,t){return Vf.set.call(this,e,t,void 0)};Vf.set=function(e,t,n){return Vp.set.call(this,e[0],t,n,e[0])};function N0(e,t){const n=e[In];return(n?ki(n):e)[t]}function MZ(e,t,n){var i;const r=SL(t,n);return r?Mf in r?r[Mf]:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function SL(e,t){if(!(t in e))return;let n=ou(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=ou(n)}}function O_(e){e.modified_||(e.modified_=!0,e.parent_&&O_(e.parent_))}function Nm(e){e.copy_||(e.assigned_=new Map,e.copy_=A_(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var LZ=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(ul(n)&&!ul(r)){const s=r;r=n;const o=this;return function(u=s,...c){return o.produce(u,f=>r.call(this,f,...c))}}ul(r)||Mr(6),i!==void 0&&!ul(i)&&Mr(7);let a;if(Hr(n)){const s=UN(this),o=I_(s,n,void 0);let l=!0;try{a=r(o),l=!1}finally{l?C_(s):N_(s)}return VN(s,i),zN(a,s)}else if(!n||!G1(n)){if(a=r(n),a===void 0&&(a=n),a===yL&&(a=void 0),this.autoFreeze_&&Y1(a,!0),i){const s=[],o=[];Po(T_).generateReplacementPatches_(n,a,{patches_:s,inversePatches_:o}),i(s,o)}return a}else Mr(1,n)},this.produceWithPatches=(n,r)=>{if(ul(n))return(o,...l)=>this.produceWithPatches(o,u=>n(u,...l));let i,a;return[this.produce(n,r,(o,l)=>{i=o,a=l}),i,a]},C0(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),C0(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),C0(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Hr(t)||Mr(8),ua(t)&&(t=Br(t));const n=UN(this),r=I_(n,t,void 0);return r[In].isManual_=!0,N_(n),r}finishDraft(t,n){const r=t&&t[In];(!r||!r.isManual_)&&Mr(9);const{scope_:i}=r;return VN(i,n),zN(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(n=n.slice(r+1));const i=Po(T_).applyPatches_;return ua(t)?i(t,n):this.produce(t,a=>i(a,n))}};function I_(e,t,n,r){const[i,a]=Ay(t)?Po(Mp).proxyMap_(t,n):Ty(t)?Po(Mp).proxySet_(t,n):DZ(t,n);return((n==null?void 0:n.scope_)??_L()).drafts_.push(i),a.callbacks_=(n==null?void 0:n.callbacks_)??[],a.key_=r,n&&r!==void 0?jZ(n,a,r):a.callbacks_.push(function(l){var c;(c=l.mapSetPlugin_)==null||c.fixSetContents(a);const{patchPlugin_:u}=l;a.modified_&&u&&u.generatePatches_(a,[],l)}),i}function Br(e){return ua(e)||Mr(10,e),AL(e)}function AL(e){if(!Hr(e)||Cy(e))return e;const t=e[In];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=A_(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=A_(e,!0);return Ey(n,(i,a)=>{Dp(n,i,AL(a))},r),t&&(t.finalized_=!1),n}var VZ=new LZ,TL=VZ.produce;function CL(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var UZ=CL(),zZ=CL,BZ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Rp:Rp.apply(null,arguments)};function Or(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(or(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>gL(r)&&r.type===e,n}var NL=class Rc extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Rc.prototype)}static get[Symbol.species](){return Rc}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Rc(...t[0].concat(this)):new Rc(...t.concat(this))}};function $N(e){return Hr(e)?TL(e,()=>{}):e}function Bh(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function $Z(e){return typeof e=="boolean"}var FZ=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let s=new NL;return n&&($Z(n)?s.push(UZ):s.push(zZ(n.extraArgument))),s},OL="RTK_autoBatch",Qe=()=>e=>({payload:e,meta:{[OL]:!0}}),FN=e=>t=>{setTimeout(t,e)},IL=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,s=!1;const o=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:FN(10):e.type==="callback"?e.queueNotification:FN(e.timeout),u=()=>{s=!1,a&&(a=!1,o.forEach(c=>c()))};return Object.assign({},r,{subscribe(c){const f=()=>i&&c(),h=r.subscribe(f);return o.add(c),()=>{h(),o.delete(c)}},dispatch(c){var f;try{return i=!((f=c==null?void 0:c.meta)!=null&&f[OL]),a=!i,a&&(s||(s=!0,l(u))),r.dispatch(c)}finally{i=!0}}})},qZ=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new NL(e);return r&&i.push(IL(typeof r=="object"?r:void 0)),i};function HZ(e){const t=FZ(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=e||{};let o;if(typeof n=="function")o=n;else if(H1(n))o=pL(n);else throw new Error(or(1));let l;typeof r=="function"?l=r(t):l=t();let u=Rp;i&&(u=BZ({trace:!1,...typeof i=="object"&&i}));const c=SZ(...l),f=qZ(c);let h=typeof s=="function"?s(f):f();const p=u(...h);return mL(o,a,p)}function PL(e){const t={},n=[];let r;const i={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(or(28));if(o in t)throw new Error(or(29));return t[o]=s,i},addAsyncThunk(a,s){return s.pending&&(t[a.pending.type]=s.pending),s.rejected&&(t[a.rejected.type]=s.rejected),s.fulfilled&&(t[a.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return n.push({matcher:a,reducer:s}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}function GZ(e){return typeof e=="function"}function KZ(e,t){let[n,r,i]=PL(t),a;if(GZ(e))a=()=>$N(e());else{const o=$N(e);a=()=>o}function s(o=a(),l){let u=[n[l.type],...r.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,f)=>{if(f)if(ua(c)){const p=f(c,l);return p===void 0?c:p}else{if(Hr(c))return TL(c,h=>f(h,l));{const h=f(c,l);if(h===void 0){if(c===null)return c;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return c},o)}return s.getInitialState=a,s}var YZ="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",WZ=(e=21)=>{let t="",n=e;for(;n--;)t+=YZ[Math.random()*64|0];return t},XZ=Symbol.for("rtk-slice-createasyncthunk");function QZ(e,t){return`${e}/${t}`}function ZZ({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[XZ];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(or(11));const o=(typeof i.reducers=="function"?i.reducers(eJ()):i.reducers)||{},l=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(C,P){const O=typeof C=="string"?C:C.type;if(!O)throw new Error(or(12));if(O in u.sliceCaseReducersByType)throw new Error(or(13));return u.sliceCaseReducersByType[O]=P,c},addMatcher(C,P){return u.sliceMatchers.push({matcher:C,reducer:P}),c},exposeAction(C,P){return u.actionCreators[C]=P,c},exposeCaseReducer(C,P){return u.sliceCaseReducersByName[C]=P,c}};l.forEach(C=>{const P=o[C],O={reducerName:C,type:QZ(a,C),createNotation:typeof i.reducers=="function"};nJ(P)?iJ(O,P,c,t):tJ(O,P,c)});function f(){const[C={},P=[],O=void 0]=typeof i.extraReducers=="function"?PL(i.extraReducers):[i.extraReducers],A={...C,...u.sliceCaseReducersByType};return KZ(i.initialState,T=>{for(let N in A)T.addCase(N,A[N]);for(let N of u.sliceMatchers)T.addMatcher(N.matcher,N.reducer);for(let N of P)T.addMatcher(N.matcher,N.reducer);O&&T.addDefaultCase(O)})}const h=C=>C,p=new Map,g=new WeakMap;let x;function v(C,P){return x||(x=f()),x(C,P)}function w(){return x||(x=f()),x.getInitialState()}function _(C,P=!1){function O(T){let N=T[C];return typeof N>"u"&&P&&(N=Bh(g,O,w)),N}function A(T=h){const N=Bh(p,P,()=>new WeakMap);return Bh(N,T,()=>{const k={};for(const[j,R]of Object.entries(i.selectors??{}))k[j]=JZ(R,T,()=>Bh(g,T,w),P);return k})}return{reducerPath:C,getSelectors:A,get selectors(){return A(O)},selectSlice:O}}const S={name:a,reducer:v,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:w,..._(s),injectInto(C,{reducerPath:P,...O}={}){const A=P??s;return C.inject({reducerPath:A,reducer:v},O),{...S,..._(A,!0)}}};return S}}function JZ(e,t,n,r){function i(a,...s){let o=t(a);return typeof o>"u"&&r&&(o=n()),e(o,...s)}return i.unwrapped=e,i}var Hn=ZZ();function eJ(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function tJ({type:e,reducerName:t,createNotation:n},r,i){let a,s;if("reducer"in r){if(n&&!rJ(r))throw new Error(or(17));a=r.reducer,s=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,s?Or(e,s):Or(e))}function nJ(e){return e._reducerDefinitionType==="asyncThunk"}function rJ(e){return e._reducerDefinitionType==="reducerWithPrepare"}function iJ({type:e,reducerName:t},n,r,i){if(!i)throw new Error(or(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:l,settled:u,options:c}=n,f=i(e,a,c);r.exposeAction(t,f),s&&r.addCase(f.fulfilled,s),o&&r.addCase(f.pending,o),l&&r.addCase(f.rejected,l),u&&r.addMatcher(f.settled,u),r.exposeCaseReducer(t,{fulfilled:s||$h,pending:o||$h,rejected:l||$h,settled:u||$h})}function $h(){}var aJ="task",RL="listener",jL="completed",W1="cancelled",sJ=`task-${W1}`,oJ=`task-${jL}`,P_=`${RL}-${W1}`,lJ=`${RL}-${jL}`,Oy=class{constructor(e){xv(this,"name","TaskAbortError");xv(this,"message");this.code=e,this.message=`${aJ} ${W1} (reason: ${e})`}},X1=(e,t)=>{if(typeof e!="function")throw new TypeError(or(32))},Up=()=>{},kL=(e,t=Up)=>(e.catch(t),e),DL=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),mo=e=>{if(e.aborted)throw new Oy(e.reason)};function ML(e,t){let n=Up;return new Promise((r,i)=>{const a=()=>i(new Oy(e.reason));if(e.aborted){a();return}n=DL(e,a),t.finally(()=>n()).then(r,i)}).finally(()=>{n=Up})}var uJ=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Oy?"cancelled":"rejected",error:n}}finally{t==null||t()}},zp=e=>t=>kL(ML(e,t).then(n=>(mo(e),n))),LL=e=>{const t=zp(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Vl}=Object,qN={},Iy="listenerMiddleware",cJ=(e,t)=>{const n=r=>DL(e,()=>r.abort(e.reason));return(r,i)=>{X1(r);const a=new AbortController;n(a);const s=uJ(async()=>{mo(e),mo(a.signal);const o=await r({pause:zp(a.signal),delay:LL(a.signal),signal:a.signal});return mo(a.signal),o},()=>a.abort(oJ));return i!=null&&i.autoJoin&&t.push(s.catch(Up)),{result:zp(e)(s),cancel(){a.abort(sJ)}}}},fJ=(e,t)=>{const n=async(r,i)=>{mo(t);let a=()=>{};const o=[new Promise((l,u)=>{let c=e({predicate:r,effect:(f,h)=>{h.unsubscribe(),l([f,h.getState(),h.getOriginalState()])}});a=()=>{c(),u()}})];i!=null&&o.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await ML(t,Promise.race(o));return mo(t),l}finally{a()}};return(r,i)=>kL(n(r,i))},VL=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=Or(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(or(21));return X1(a),{predicate:i,type:t,effect:a}},UL=Vl(e=>{const{type:t,predicate:n,effect:r}=VL(e);return{id:WZ(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(or(22))}}},{withTypes:()=>UL}),HN=(e,t)=>{const{type:n,effect:r,predicate:i}=VL(t);return Array.from(e.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},R_=e=>{e.pending.forEach(t=>{t.abort(P_)})},dJ=(e,t)=>()=>{for(const n of t.keys())R_(n);e.clear()},GN=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},zL=Vl(Or(`${Iy}/add`),{withTypes:()=>zL}),hJ=Or(`${Iy}/removeAll`),BL=Vl(Or(`${Iy}/remove`),{withTypes:()=>BL}),mJ=(...e)=>{console.error(`${Iy}/error`,...e)},Od=(e={})=>{const t=new Map,n=new Map,r=p=>{const g=n.get(p)??0;n.set(p,g+1)},i=p=>{const g=n.get(p)??1;g===1?n.delete(p):n.set(p,g-1)},{extra:a,onError:s=mJ}=e;X1(s);const o=p=>(p.unsubscribe=()=>t.delete(p.id),t.set(p.id,p),g=>{p.unsubscribe(),g!=null&&g.cancelActive&&R_(p)}),l=p=>{const g=HN(t,p)??UL(p);return o(g)};Vl(l,{withTypes:()=>l});const u=p=>{const g=HN(t,p);return g&&(g.unsubscribe(),p.cancelActive&&R_(g)),!!g};Vl(u,{withTypes:()=>u});const c=async(p,g,x,v)=>{const w=new AbortController,_=fJ(l,w.signal),S=[];try{p.pending.add(w),r(p),await Promise.resolve(p.effect(g,Vl({},x,{getOriginalState:v,condition:(C,P)=>_(C,P).then(Boolean),take:_,delay:LL(w.signal),pause:zp(w.signal),extra:a,signal:w.signal,fork:cJ(w.signal,S),unsubscribe:p.unsubscribe,subscribe:()=>{t.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((C,P,O)=>{C!==w&&(C.abort(P_),O.delete(C))})},cancel:()=>{w.abort(P_),p.pending.delete(w)},throwIfCancelled:()=>{mo(w.signal)}})))}catch(C){C instanceof Oy||GN(s,C,{raisedBy:"effect"})}finally{await Promise.all(S),w.abort(lJ),i(p),p.pending.delete(w)}},f=dJ(t,n);return{middleware:p=>g=>x=>{if(!gL(x))return g(x);if(zL.match(x))return l(x.payload);if(hJ.match(x)){f();return}if(BL.match(x))return u(x.payload);let v=p.getState();const w=()=>{if(v===qN)throw new Error(or(23));return v};let _;try{if(_=g(x),t.size>0){const S=p.getState(),C=Array.from(t.values());for(const P of C){let O=!1;try{O=P.predicate(x,S,v)}catch(A){O=!1,GN(s,A,{raisedBy:"predicate"})}O&&c(P,x,p,w)}}}finally{v=qN}return _},startListening:l,stopListening:u,clearListeners:f}};function or(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var pJ={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},$L=Hn({name:"chartLayout",initialState:pJ,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:gJ,setLayout:yJ,setChartSize:vJ,setScale:bJ}=$L.actions,_J=$L.reducer;function FL(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function be(e){return Number.isFinite(e)}function _i(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function KN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function El(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KN(Object(n),!0).forEach(function(r){xJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xJ(e,t,n){return(t=wJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wJ(e){var t=EJ(e,"string");return typeof t=="symbol"?t:t+""}function EJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function un(e,t,n){return _n(e)||_n(t)?n:bi(t)?yy(e,t,n):typeof t=="function"?t(e):n}var SJ=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:s,layout:o}=t;if((o==="vertical"||o==="horizontal"&&s==="middle")&&a!=="center"&&Q(e[a]))return El(El({},e),{},{[a]:e[a]+(r||0)});if((o==="horizontal"||o==="vertical"&&a==="center")&&s!=="middle"&&Q(e[s]))return El(El({},e),{},{[s]:e[s]+(i||0)})}return e},Ti=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",qL=(e,t,n,r)=>{if(r)return e.map(o=>o.coordinate);var i,a,s=e.map(o=>(o.coordinate===t&&(i=!0),o.coordinate===n&&(a=!0),o.coordinate));return i||s.push(t),a||s.push(n),s},HL=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:s,realScaleType:o,isCategorical:l,categoricalDomain:u,tickCount:c,ticks:f,niceTicks:h,axisType:p}=e;if(!s)return null;var g=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,x=i==="category"&&s.bandwidth?s.bandwidth()/g:0;if(x=p==="angleAxis"&&a&&a.length>=2?wr(a[0]-a[1])*2*x:x,f||h){var v=(f||h||[]).map((w,_)=>{var S=r?r.indexOf(w):w,C=s.map(S);return be(C)?{coordinate:C+x,value:w,offset:x,index:_}:null}).filter(Un);return v}return l&&u?u.map((w,_)=>{var S=s.map(w);return be(S)?{coordinate:S+x,value:w,index:_,offset:x}:null}).filter(Un):s.ticks&&c!=null?s.ticks(c).map((w,_)=>{var S=s.map(w);return be(S)?{coordinate:S+x,value:w,index:_,offset:x}:null}).filter(Un):s.domain().map((w,_)=>{var S=s.map(w);return be(S)?{coordinate:S+x,value:r?r[w]:w,index:_,offset:x}:null}).filter(Un)},AJ=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,s=0,o=0;o<n;++o){var l=e[o],u=l==null?void 0:l[i];if(u!=null){var c=u[1],f=u[0],h=vi(c)?f:c;h>=0?(u[0]=a,a+=h,u[1]=a):(u[0]=s,s+=h,u[1]=s)}}}},TJ=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,s=0;s<n;++s){var o=e[s],l=o==null?void 0:o[i];if(l!=null){var u=vi(l[1])?l[0]:l[1];u>=0?(l[0]=a,a+=u,l[1]=a):(l[0]=0,l[1]=0)}}}},CJ={sign:AJ,expand:AQ,none:Oo,silhouette:TQ,wiggle:CQ,positive:TJ},NJ=(e,t,n)=>{var r,i=(r=CJ[n])!==null&&r!==void 0?r:Oo,a=SQ().keys(t).value((o,l)=>Number(un(o,l,0))).order(w_).offset(i),s=a(e);return s.forEach((o,l)=>{o.forEach((u,c)=>{var f=un(e[c],t[l],0);Array.isArray(f)&&f.length===2&&Q(f[0])&&Q(f[1])&&(u[0]=f[0],u[1]=f[1])})}),s};function OJ(e){return e==null?void 0:String(e)}function YN(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:a,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!_n(i[t.dataKey])){var o=L4(n,"value",i[t.dataKey]);if(o)return o.coordinate+r/2}return n!=null&&n[a]?n[a].coordinate+r/2:null}var l=un(i,_n(s)?t.dataKey:s),u=t.scale.map(l);return Q(u)?u:null}var IJ=e=>{var t=e.flat(2).filter(Q);return[Math.min(...t),Math.max(...t)]},PJ=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],RJ=(e,t,n)=>{if(e!=null)return PJ(Object.keys(e).reduce((r,i)=>{var a=e[i];if(!a)return r;var{stackedData:s}=a,o=s.reduce((l,u)=>{var c=FL(u,t,n),f=IJ(c);return!be(f[0])||!be(f[1])?l:[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]))},WN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,XN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Bp=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=xy(t,c=>c.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var l=i[s],u=i[s-1];a=Math.min(((l==null?void 0:l.coordinate)||0)-((u==null?void 0:u.coordinate)||0),a)}return a===1/0?0:a}return n?void 0:0};function QN(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return El(El({},t),{},{dataKey:n,payload:r,value:i,name:a})}function GL(e,t){if(e)return String(e);if(typeof t=="string")return t}var jJ=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},kJ=(e,t)=>t==="centric"?e.angle:e.radius,ya=e=>e.layout.width,va=e=>e.layout.height,DJ=e=>e.layout.scale,KL=e=>e.layout.margin,Py=V(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Ry=V(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),MJ="data-recharts-item-index",LJ="data-recharts-item-id",Id=60;function ZN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Fh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZN(Object(n),!0).forEach(function(r){VJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function VJ(e,t,n){return(t=UJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UJ(e){var t=zJ(e,"string");return typeof t=="symbol"?t:t+""}function zJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BJ=e=>e.brush.height;function $J(e){var t=Ry(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Id;return n+i}return n},0)}function FJ(e){var t=Ry(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Id;return n+i}return n},0)}function qJ(e){var t=Py(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function HJ(e){var t=Py(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var fn=V([ya,va,KL,BJ,$J,FJ,qJ,HJ,hL,vZ],(e,t,n,r,i,a,s,o,l,u)=>{var c={left:(n.left||0)+i,right:(n.right||0)+a},f={top:(n.top||0)+s,bottom:(n.bottom||0)+o},h=Fh(Fh({},f),c),p=h.bottom;h.bottom+=r,h=SJ(h,l,u);var g=e-h.left-h.right,x=t-h.top-h.bottom;return Fh(Fh({brushBottom:p},h),{},{width:Math.max(g,0),height:Math.max(x,0)})}),GJ=V(fn,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),YL=V(ya,va,(e,t)=>({x:0,y:0,width:e,height:t})),KJ=b.createContext(null),Gn=()=>b.useContext(KJ)!=null,jy=e=>e.brush,ky=V([jy,fn,KL],(e,t,n)=>({height:e.height,x:Q(e.x)?e.x:t.left,y:Q(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:Q(e.width)?e.width:t.width})),WL={},XL={},QL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:a}={}){let s,o=null;const l=a!=null&&a.includes("leading"),u=a==null||a.includes("trailing"),c=()=>{o!==null&&(n.apply(s,o),s=void 0,o=null)},f=()=>{u&&c(),x()};let h=null;const p=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},r)},g=()=>{h!==null&&(clearTimeout(h),h=null)},x=()=>{g(),s=void 0,o=null},v=()=>{c()},w=function(..._){if(i!=null&&i.aborted)return;s=this,o=_;const S=h==null;p(),l&&S&&c()};return w.schedule=p,w.cancel=x,w.flush=v,i==null||i.addEventListener("abort",x,{once:!0}),w}e.debounce=t})(QL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QL;function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:o=!0,maxWait:l}=a,u=Array(2);s&&(u[0]="leading"),o&&(u[1]="trailing");let c,f=null;const h=t.debounce(function(...x){c=r.apply(this,x),f=null},i,{edges:u}),p=function(...x){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(c=r.apply(this,x),f=Date.now(),h.cancel(),h.schedule(),c):(h.apply(this,x),c)},g=()=>(h.flush(),c);return p.cancel=h.cancel,p.flush=g,p}e.debounce=n})(XL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XL;function n(r,i=0,a={}){const{leading:s=!0,trailing:o=!0}=a;return t.debounce(r,i,{leading:s,maxWait:i,trailing:o})}e.throttle=n})(WL);var YJ=WL.throttle;const WJ=Ns(YJ);var $p=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(n.replace(/%s/g,()=>i[s++]))}},ai={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},ZL=(e,t,n)=>{var{width:r=ai.width,height:i=ai.height,aspect:a,maxHeight:s}=n,o=Io(r)?e:Number(r),l=Io(i)?t:Number(i);return a&&a>0&&(o?l=o/a:l&&(o=l*a),s&&l!=null&&l>s&&(l=s)),{calculatedWidth:o,calculatedHeight:l}},XJ={width:0,height:0,overflow:"visible"},QJ={width:0,overflowX:"visible"},ZJ={height:0,overflowY:"visible"},JJ={},eee=e=>{var{width:t,height:n}=e,r=Io(t),i=Io(n);return r&&i?XJ:r?QJ:i?ZJ:JJ};function tee(e){var{width:t,height:n,aspect:r}=e,i=t,a=n;return i===void 0&&a===void 0?(i=ai.width,a=ai.height):i===void 0?i=r&&r>0?void 0:ai.width:a===void 0&&(a=r&&r>0?void 0:ai.height),{width:i,height:a}}function j_(){return j_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j_.apply(null,arguments)}function JN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function eO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JN(Object(n),!0).forEach(function(r){nee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nee(e,t,n){return(t=ree(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ree(e){var t=iee(e,"string");return typeof t=="symbol"?t:t+""}function iee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JL=b.createContext(ai.initialDimension);function aee(e){return _i(e.width)&&_i(e.height)}function e3(e){var{children:t,width:n,height:r}=e,i=b.useMemo(()=>({width:n,height:r}),[n,r]);return aee(i)?b.createElement(JL.Provider,{value:i},t):null}var Q1=()=>b.useContext(JL),see=b.forwardRef((e,t)=>{var{aspect:n,initialDimension:r=ai.initialDimension,width:i,height:a,minWidth:s=ai.minWidth,minHeight:o,maxHeight:l,children:u,debounce:c=ai.debounce,id:f,className:h,onResize:p,style:g={}}=e,x=b.useRef(null),v=b.useRef();v.current=p,b.useImperativeHandle(t,()=>x.current);var[w,_]=b.useState({containerWidth:r.width,containerHeight:r.height}),S=b.useCallback((T,N)=>{_(k=>{var j=Math.round(T),R=Math.round(N);return k.containerWidth===j&&k.containerHeight===R?k:{containerWidth:j,containerHeight:R}})},[]);b.useEffect(()=>{if(x.current==null||typeof ResizeObserver>"u")return Ou;var T=R=>{var D,Z=R[0];if(Z!=null){var{width:oe,height:q}=Z.contentRect;S(oe,q),(D=v.current)===null||D===void 0||D.call(v,oe,q)}};c>0&&(T=WJ(T,c,{trailing:!0,leading:!1}));var N=new ResizeObserver(T),{width:k,height:j}=x.current.getBoundingClientRect();return S(k,j),N.observe(x.current),()=>{N.disconnect()}},[S,c]);var{containerWidth:C,containerHeight:P}=w;$p(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:O,calculatedHeight:A}=ZL(C,P,{width:i,height:a,aspect:n,maxHeight:l});return $p(O!=null&&O>0||A!=null&&A>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,O,A,i,a,s,o,n),b.createElement("div",{id:f?"".concat(f):void 0,className:Ye("recharts-responsive-container",h),style:eO(eO({},g),{},{width:i,height:a,minWidth:s,minHeight:o,maxHeight:l}),ref:x},b.createElement("div",{style:eee({width:i,height:a})},b.createElement(e3,{width:O,height:A},u)))}),oee=b.forwardRef((e,t)=>{var n=Q1();if(_i(n.width)&&_i(n.height))return e.children;var{width:r,height:i}=tee({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:s}=ZL(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return Q(a)&&Q(s)?b.createElement(e3,{width:a,height:s},e.children):b.createElement(see,j_({},e,{width:r,height:i,ref:t}))});function Z1(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Dy=()=>{var e,t=Gn(),n=ee(GJ),r=ee(ky),i=(e=ee(jy))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},lee={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},t3=()=>{var e;return(e=ee(fn))!==null&&e!==void 0?e:lee},n3=()=>ee(ya),r3=()=>ee(va),Je=e=>e.layout.layoutType,Iu=()=>ee(Je),J1=()=>{var e=Iu();if(e==="horizontal"||e==="vertical")return e},i3=e=>{var t=e.layout.layoutType;if(t==="centric"||t==="radial")return t},uee=()=>{var e=Iu();return e!==void 0},Pd=e=>{var t=qt(),n=Gn(),{width:r,height:i}=e,a=Q1(),s=r,o=i;return a&&(s=a.width>0?a.width:r,o=a.height>0?a.height:i),b.useEffect(()=>{!n&&_i(s)&&_i(o)&&t(vJ({width:s,height:o}))},[t,n,s,o]),null},a3=Symbol.for("immer-nothing"),tO=Symbol.for("immer-draftable"),cr=Symbol.for("immer-state");function Lr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Uf=Object.getPrototypeOf;function lu(e){return!!e&&!!e[cr]}function Ro(e){var t;return e?s3(e)||Array.isArray(e)||!!e[tO]||!!((t=e.constructor)!=null&&t[tO])||Rd(e)||Ly(e):!1}var cee=Object.prototype.constructor.toString(),nO=new WeakMap;function s3(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=nO.get(n);return r===void 0&&(r=Function.toString.call(n),nO.set(n,r)),r===cee}function Fp(e,t,n=!0){My(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function My(e){const t=e[cr];return t?t.type_:Array.isArray(e)?1:Rd(e)?2:Ly(e)?3:0}function k_(e,t){return My(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function o3(e,t,n){const r=My(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function fee(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Rd(e){return e instanceof Map}function Ly(e){return e instanceof Set}function Zs(e){return e.copy_||e.base_}function D_(e,t){if(Rd(e))return new Map(e);if(Ly(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=s3(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[cr];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],o=r[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(Uf(e),r)}else{const r=Uf(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function eE(e,t=!1){return Vy(e)||lu(e)||!Ro(e)||(My(e)>1&&Object.defineProperties(e,{set:qh,add:qh,clear:qh,delete:qh}),Object.freeze(e),t&&Object.values(e).forEach(n=>eE(n,!0))),e}function dee(){Lr(2)}var qh={value:dee};function Vy(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var hee={};function jo(e){const t=hee[e];return t||Lr(0,e),t}var zf;function l3(){return zf}function mee(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function rO(e,t){t&&(jo("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function M_(e){L_(e),e.drafts_.forEach(pee),e.drafts_=null}function L_(e){e===zf&&(zf=e.parent_)}function iO(e){return zf=mee(zf,e)}function pee(e){const t=e[cr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function aO(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[cr].modified_&&(M_(t),Lr(4)),Ro(e)&&(e=qp(t,e),t.parent_||Hp(t,e)),t.patches_&&jo("Patches").generateReplacementPatches_(n[cr].base_,e,t.patches_,t.inversePatches_)):e=qp(t,n,[]),M_(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==a3?e:void 0}function qp(e,t,n){if(Vy(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[cr];if(!i)return Fp(t,(a,s)=>sO(e,i,t,a,s,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return Hp(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,o=!1;i.type_===3&&(s=new Set(a),a.clear(),o=!0),Fp(s,(l,u)=>sO(e,i,a,l,u,n,o),r),Hp(e,a,!1),n&&e.patches_&&jo("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function sO(e,t,n,r,i,a,s){if(i==null||typeof i!="object"&&!s)return;const o=Vy(i);if(!(o&&!s)){if(lu(i)){const l=a&&t&&t.type_!==3&&!k_(t.assigned_,r)?a.concat(r):void 0,u=qp(e,i,l);if(o3(n,r,u),lu(u))e.canAutoFreeze_=!1;else return}else s&&n.add(i);if(Ro(i)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&o)return;qp(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(Rd(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Hp(e,i)}}}function Hp(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&eE(t,n)}function gee(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:l3(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=tE;n&&(i=[r],a=Bf);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,o}var tE={get(e,t){if(t===cr)return e;const n=Zs(e);if(!k_(n,t))return yee(e,n,t);const r=n[t];return e.finalized_||!Ro(r)?r:r===O0(e.base_,t)?(I0(e),e.copy_[t]=U_(r,e)):r},has(e,t){return t in Zs(e)},ownKeys(e){return Reflect.ownKeys(Zs(e))},set(e,t,n){const r=u3(Zs(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=O0(Zs(e),t),a=i==null?void 0:i[cr];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(fee(n,i)&&(n!==void 0||k_(e.base_,t)))return!0;I0(e),V_(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return O0(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,I0(e),V_(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Zs(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Lr(11)},getPrototypeOf(e){return Uf(e.base_)},setPrototypeOf(){Lr(12)}},Bf={};Fp(tE,(e,t)=>{Bf[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Bf.deleteProperty=function(e,t){return Bf.set.call(this,e,t,void 0)};Bf.set=function(e,t,n){return tE.set.call(this,e[0],t,n,e[0])};function O0(e,t){const n=e[cr];return(n?Zs(n):e)[t]}function yee(e,t,n){var i;const r=u3(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function u3(e,t){if(!(t in e))return;let n=Uf(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Uf(n)}}function V_(e){e.modified_||(e.modified_=!0,e.parent_&&V_(e.parent_))}function I0(e){e.copy_||(e.copy_=D_(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var vee=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const s=this;return function(l=a,...u){return s.produce(l,c=>n.call(this,c,...u))}}typeof n!="function"&&Lr(6),r!==void 0&&typeof r!="function"&&Lr(7);let i;if(Ro(t)){const a=iO(this),s=U_(t,void 0);let o=!0;try{i=n(s),o=!1}finally{o?M_(a):L_(a)}return rO(a,r),aO(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===a3&&(i=void 0),this.autoFreeze_&&eE(i,!0),r){const a=[],s=[];jo("Patches").generateReplacementPatches_(t,i,a,s),r(a,s)}return i}else Lr(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...o)=>this.produceWithPatches(s,l=>t(l,...o));let r,i;return[this.produce(t,n,(s,o)=>{r=s,i=o}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Ro(e)||Lr(8),lu(e)&&(e=bee(e));const t=iO(this),n=U_(e,void 0);return n[cr].isManual_=!0,L_(t),n}finishDraft(e,t){const n=e&&e[cr];(!n||!n.isManual_)&&Lr(9);const{scope_:r}=n;return rO(r,t),aO(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=jo("Patches").applyPatches_;return lu(e)?r(e,t):this.produce(e,i=>r(i,t))}};function U_(e,t){const n=Rd(e)?jo("MapSet").proxyMap_(e,t):Ly(e)?jo("MapSet").proxySet_(e,t):gee(e,t);return(t?t.scope_:l3()).drafts_.push(n),n}function bee(e){return lu(e)||Lr(10,e),c3(e)}function c3(e){if(!Ro(e)||Vy(e))return e;const t=e[cr];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=D_(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=D_(e,!0);return Fp(n,(i,a)=>{o3(n,i,c3(a))},r),t&&(t.finalized_=!1),n}var _ee=new vee;_ee.produce;var xee={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},f3=Hn({name:"legend",initialState:xee,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Qe()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Br(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:Qe()},removeLegendPayload:{reducer(e,t){var n=Br(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:Qe()}}}),{setLegendSize:whe,setLegendSettings:Ehe,addLegendPayload:wee,replaceLegendPayload:Eee,removeLegendPayload:See}=f3.actions,Aee=f3.reducer;function z_(){return z_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z_.apply(null,arguments)}function oO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oO(Object(n),!0).forEach(function(r){Tee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tee(e,t,n){return(t=Cee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cee(e){var t=Nee(e,"string");return typeof t=="symbol"?t:t+""}function Nee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oee(e){return Array.isArray(e)&&bi(e[0])&&bi(e[1])?e.join(" ~ "):e}var Zo={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},Iee=e=>{var{separator:t=Zo.separator,contentStyle:n,itemStyle:r,labelStyle:i=Zo.labelStyle,payload:a,formatter:s,itemSorter:o,wrapperClassName:l,labelClassName:u,label:c,labelFormatter:f,accessibilityLayer:h=Zo.accessibilityLayer}=e,p=()=>{if(a&&a.length){var P={padding:0,margin:0},O=(o?xy(a,o):a).map((A,T)=>{if(A.type==="none")return null;var N=A.formatter||s||Oee,{value:k,name:j}=A,R=k,D=j;if(N){var Z=N(k,j,A,T,a);if(Array.isArray(Z))[R,D]=Z;else if(Z!=null)R=Z;else return null}var oe=hc(hc({},Zo.itemStyle),{},{color:A.color||Zo.itemStyle.color},r);return b.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(T),style:oe},bi(D)?b.createElement("span",{className:"recharts-tooltip-item-name"},D):null,bi(D)?b.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,b.createElement("span",{className:"recharts-tooltip-item-value"},R),b.createElement("span",{className:"recharts-tooltip-item-unit"},A.unit||""))});return b.createElement("ul",{className:"recharts-tooltip-item-list",style:P},O)}return null},g=hc(hc({},Zo.contentStyle),n),x=hc({margin:0},i),v=!_n(c),w=v?c:"",_=Ye("recharts-default-tooltip",l),S=Ye("recharts-tooltip-label",u);v&&f&&a!==void 0&&a!==null&&(w=f(c,a));var C=h?{role:"status","aria-live":"assertive"}:{};return b.createElement("div",z_({className:_,style:g},C),b.createElement("p",{className:S,style:x},b.isValidElement(w)?w:"".concat(w)),p())},mc="recharts-tooltip-wrapper",Pee={visibility:"hidden"};function Ree(e){var{coordinate:t,translateX:n,translateY:r}=e;return Ye(mc,{["".concat(mc,"-right")]:Q(n)&&t&&Q(t.x)&&n>=t.x,["".concat(mc,"-left")]:Q(n)&&t&&Q(t.x)&&n<t.x,["".concat(mc,"-bottom")]:Q(r)&&t&&Q(t.y)&&r>=t.y,["".concat(mc,"-top")]:Q(r)&&t&&Q(t.y)&&r<t.y})}function lO(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offset:i,position:a,reverseDirection:s,tooltipDimension:o,viewBox:l,viewBoxDimension:u}=e;if(a&&Q(a[r]))return a[r];var c=n[r]-o-(i>0?i:0),f=n[r]+i;if(t[r])return s[r]?c:f;var h=l[r];if(h==null)return 0;if(s[r]){var p=c,g=h;return p<g?Math.max(f,h):Math.max(c,h)}if(u==null)return 0;var x=f+o,v=h+u;return x>v?Math.max(c,h):Math.max(f,h)}function jee(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function kee(e){var{allowEscapeViewBox:t,coordinate:n,offsetTop:r,offsetLeft:i,position:a,reverseDirection:s,tooltipBox:o,useTranslate3d:l,viewBox:u}=e,c,f,h;return o.height>0&&o.width>0&&n?(f=lO({allowEscapeViewBox:t,coordinate:n,key:"x",offset:i,position:a,reverseDirection:s,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),h=lO({allowEscapeViewBox:t,coordinate:n,key:"y",offset:r,position:a,reverseDirection:s,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),c=jee({translateX:f,translateY:h,useTranslate3d:l})):c=Pee,{cssProperties:c,cssClasses:Ree({translateX:f,translateY:h,coordinate:n})}}function uO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Hh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uO(Object(n),!0).forEach(function(r){B_(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function B_(e,t,n){return(t=Dee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dee(e){var t=Mee(e,"string");return typeof t=="symbol"?t:t+""}function Mee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Lee extends b.PureComponent{constructor(){super(...arguments),B_(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),B_(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:s,hasPayload:o,isAnimationActive:l,offset:u,position:c,reverseDirection:f,useTranslate3d:h,viewBox:p,wrapperStyle:g,lastBoundingBox:x,innerRef:v,hasPortalFromProps:w}=this.props,_=typeof u=="number"?u:u.x,S=typeof u=="number"?u:u.y,{cssClasses:C,cssProperties:P}=kee({allowEscapeViewBox:n,coordinate:s,offsetLeft:_,offsetTop:S,position:c,reverseDirection:f,tooltipBox:{height:x.height,width:x.width},useTranslate3d:h,viewBox:p}),O=w?{}:Hh(Hh({transition:l&&t?"transform ".concat(r,"ms ").concat(i):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),A=Hh(Hh({},O),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},g);return b.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:C,style:A,ref:v},a)}}var d3=()=>{var e;return(e=ee(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function $_(){return $_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$_.apply(null,arguments)}function cO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cO(Object(n),!0).forEach(function(r){Vee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vee(e,t,n){return(t=Uee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uee(e){var t=zee(e,"string");return typeof t=="symbol"?t:t+""}function zee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dO={curveBasisClosed:hQ,curveBasisOpen:mQ,curveBasis:dQ,curveBumpX:cQ,curveBumpY:fQ,curveLinearClosed:pQ,curveLinear:dy,curveMonotoneX:gQ,curveMonotoneY:yQ,curveNatural:vQ,curveStep:bQ,curveStepAfter:xQ,curveStepBefore:_Q},Gp=e=>be(e.x)&&be(e.y),hO=e=>e.base!=null&&Gp(e.base)&&Gp(e),pc=e=>e.x,gc=e=>e.y,Bee=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(R1(e));if((n==="curveMonotone"||n==="curveBump")&&t){var r=dO["".concat(n).concat(t==="vertical"?"Y":"X")];if(r)return r}return dO[n]||dy},mO={connectNulls:!1,type:"linear"},$ee=e=>{var{type:t=mO.type,points:n=[],baseLine:r,layout:i,connectNulls:a=mO.connectNulls}=e,s=Bee(t,i),o=a?n.filter(Gp):n;if(Array.isArray(r)){var l,u=n.map((g,x)=>fO(fO({},g),{},{base:r[x]}));i==="vertical"?l=Lh().y(gc).x1(pc).x0(g=>g.base.x):l=Lh().x(pc).y1(gc).y0(g=>g.base.y);var c=l.defined(hO).curve(s),f=a?u.filter(hO):u;return c(f)}var h;i==="vertical"&&Q(r)?h=Lh().y(gc).x1(pc).x0(r):Q(r)?h=Lh().x(pc).y1(gc).y0(r):h=A4().x(pc).y(gc);var p=h.defined(Gp).curve(s);return p(o)},Om=e=>{var{className:t,points:n,path:r,pathRef:i}=e,a=Iu();if((!n||!n.length)&&!r)return null;var s={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||a,connectNulls:e.connectNulls},o=n&&n.length?$ee(s):r;return b.createElement("path",$_({},qr(e),j1(e),{className:Ye("recharts-curve",t),d:o===null?void 0:o,ref:i}))},Fee=["x","y","top","left","width","height","className"];function F_(){return F_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},F_.apply(null,arguments)}function pO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qee(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pO(Object(n),!0).forEach(function(r){Hee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hee(e,t,n){return(t=Gee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gee(e){var t=Kee(e,"string");return typeof t=="symbol"?t:t+""}function Kee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yee(e,t){if(e==null)return{};var n,r,i=Wee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Wee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Xee=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),Qee=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:s=0,className:o}=e,l=Yee(e,Fee),u=qee({x:t,y:n,top:r,left:i,width:a,height:s},l);return!Q(t)||!Q(n)||!Q(a)||!Q(s)||!Q(r)||!Q(i)?null:b.createElement("path",F_({},Nr(u),{className:Ye("recharts-cross",o),d:Xee(t,n,a,s,r,i)}))};function Zee(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function gO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gO(Object(n),!0).forEach(function(r){Jee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Jee(e,t,n){return(t=ete(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ete(e){var t=tte(e,"string");return typeof t=="symbol"?t:t+""}function tte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nte=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),rte=(e,t,n)=>e.map(r=>"".concat(nte(r)," ").concat(t,"ms ").concat(n)).join(","),ite=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),$f=(e,t)=>Object.keys(t).reduce((n,r)=>yO(yO({},n),{},{[r]:e(r,t[r])}),{});function vO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ct(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vO(Object(n),!0).forEach(function(r){ate(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ate(e,t,n){return(t=ste(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ste(e){var t=ote(e,"string");return typeof t=="symbol"?t:t+""}function ote(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kp=(e,t,n)=>e+(t-e)*n,q_=e=>{var{from:t,to:n}=e;return t!==n},h3=(e,t,n)=>{var r=$f((i,a)=>{if(q_(a)){var[s,o]=e(a.from,a.to,a.velocity);return Ct(Ct({},a),{},{from:s,velocity:o})}return a},t);return n<1?$f((i,a)=>q_(a)&&r[i]!=null?Ct(Ct({},a),{},{velocity:Kp(a.velocity,r[i].velocity,n),from:Kp(a.from,r[i].from,n)}):a,t):h3(e,r,n-1)};function lte(e,t,n,r,i,a){var s,o=r.reduce((h,p)=>Ct(Ct({},h),{},{[p]:{from:e[p],velocity:0,to:t[p]}}),{}),l=()=>$f((h,p)=>p.from,o),u=()=>!Object.values(o).filter(q_).length,c=null,f=h=>{s||(s=h);var p=h-s,g=p/n.dt;o=h3(n,o,g),i(Ct(Ct(Ct({},e),t),l())),s=h,u()||(c=a.setTimeout(f))};return()=>(c=a.setTimeout(f),()=>{var h;(h=c)===null||h===void 0||h()})}function ute(e,t,n,r,i,a,s){var o=null,l=i.reduce((f,h)=>{var p=e[h],g=t[h];return p==null||g==null?f:Ct(Ct({},f),{},{[h]:[p,g]})},{}),u,c=f=>{u||(u=f);var h=(f-u)/r,p=$f((x,v)=>Kp(...v,n(h)),l);if(a(Ct(Ct(Ct({},e),t),p)),h<1)o=s.setTimeout(c);else{var g=$f((x,v)=>Kp(...v,n(1)),l);a(Ct(Ct(Ct({},e),t),g))}};return()=>(o=s.setTimeout(c),()=>{var f;(f=o)===null||f===void 0||f()})}const cte=(e,t,n,r,i,a)=>{var s=ite(e,t);return n==null?()=>(i(Ct(Ct({},e),t)),()=>{}):n.isStepper===!0?lte(e,t,n,s,i,a):ute(e,t,n,r,s,i,a)};var Yp=1e-4,m3=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],p3=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),bO=(e,t)=>n=>{var r=m3(e,t);return p3(r,n)},fte=(e,t)=>n=>{var r=m3(e,t),i=[...r.map((a,s)=>a*s).slice(1),0];return p3(i,n)},dte=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(r==null||r.length!==4)return null;var i=r.map(a=>parseFloat(a));return[i[0],i[1],i[2],i[3]]},hte=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=dte(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},mte=(e,t,n,r)=>{var i=bO(e,n),a=bO(t,r),s=fte(e,n),o=u=>u>1?1:u<0?0:u,l=u=>{for(var c=u>1?1:u,f=c,h=0;h<8;++h){var p=i(f)-c,g=s(f);if(Math.abs(p-c)<Yp||g<Yp)return a(f);f=o(f-p/g)}return a(f)};return l.isStepper=!1,l},_O=function(){return mte(...hte(...arguments))},pte=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,a=(s,o,l)=>{var u=-(s-o)*n,c=l*r,f=l+(u-c)*i/1e3,h=l*i/1e3+s;return Math.abs(h-o)<Yp&&Math.abs(f)<Yp?[o,0]:[h,f]};return a.isStepper=!0,a.dt=i,a},gte=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return _O(e);case"spring":return pte();default:if(e.split("(")[0]==="cubic-bezier")return _O(e)}return typeof e=="function"?e:null};function yte(e){var t,n=()=>null,r=!1,i=null,a=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,[l,...u]=o;if(typeof l=="number"){i=e.setTimeout(a.bind(null,u),l);return}a(l),i=e.setTimeout(a.bind(null,u));return}typeof s=="string"&&(t=s,n(t)),typeof s=="object"&&(t=s,n(t)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),a(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>e}}class vte{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=s=>{s-r>=n?t(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function bte(){return yte(new vte)}var _te=b.createContext(bte);function xte(e,t){var n=b.useContext(_te);return b.useMemo(()=>t??n(e),[e,t,n])}var wte=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),jd={isSsr:wte()},Ete={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},xO={t:0},P0={t:1};function g3(e){var t=fr(e,Ete),{isActive:n,canBegin:r,duration:i,easing:a,begin:s,onAnimationEnd:o,onAnimationStart:l,children:u}=t,c=n==="auto"?!jd.isSsr:n,f=xte(t.animationId,t.animationManager),[h,p]=b.useState(c?xO:P0),g=b.useRef(null);return b.useEffect(()=>{c||p(P0)},[c]),b.useEffect(()=>{if(!c||!r)return Ou;var x=cte(xO,P0,gte(a),i,p,f.getTimeoutController()),v=()=>{g.current=x()};return f.start([l,s,v,i,o]),()=>{f.stop(),g.current&&g.current(),o()}},[c,r,i,a,s,l,o,f]),u(h.t)}function y3(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=b.useRef(Df(t)),r=b.useRef(e);return r.current!==e&&(n.current=Df(t),r.current=e),n.current}var Ste=["radius"],Ate=["radius"],wO,EO,SO,AO,TO,CO,NO,OO,IO,PO;function RO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RO(Object(n),!0).forEach(function(r){Tte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tte(e,t,n){return(t=Cte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cte(e){var t=Nte(e,"string");return typeof t=="symbol"?t:t+""}function Nte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wp(){return Wp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wp.apply(null,arguments)}function kO(e,t){if(e==null)return{};var n,r,i=Ote(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ote(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Xr(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var DO=(e,t,n,r,i)=>{var a=Ja(n),s=Ja(r),o=Math.min(Math.abs(a)/2,Math.abs(s)/2),l=s>=0?1:-1,u=a>=0?1:-1,c=s>=0&&a>=0||s<0&&a<0?1:0,f;if(o>0&&Array.isArray(i)){for(var h=[0,0,0,0],p=0,g=4;p<g;p++){var x,v=(x=i[p])!==null&&x!==void 0?x:0;h[p]=v>o?o:v}f=Zt(wO||(wO=Xr(["M",",",""])),e,t+l*h[0]),h[0]>0&&(f+=Zt(EO||(EO=Xr(["A ",",",",0,0,",",",",",""])),h[0],h[0],c,e+u*h[0],t)),f+=Zt(SO||(SO=Xr(["L ",",",""])),e+n-u*h[1],t),h[1]>0&&(f+=Zt(AO||(AO=Xr(["A ",",",",0,0,",`,
        `,",",""])),h[1],h[1],c,e+n,t+l*h[1])),f+=Zt(TO||(TO=Xr(["L ",",",""])),e+n,t+r-l*h[2]),h[2]>0&&(f+=Zt(CO||(CO=Xr(["A ",",",",0,0,",`,
        `,",",""])),h[2],h[2],c,e+n-u*h[2],t+r)),f+=Zt(NO||(NO=Xr(["L ",",",""])),e+u*h[3],t+r),h[3]>0&&(f+=Zt(OO||(OO=Xr(["A ",",",",0,0,",`,
        `,",",""])),h[3],h[3],c,e,t+r-l*h[3])),f+="Z"}else if(o>0&&i===+i&&i>0){var w=Math.min(o,i);f=Zt(IO||(IO=Xr(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+l*w,w,w,c,e+u*w,t,e+n-u*w,t,w,w,c,e+n,t+l*w,e+n,t+r-l*w,w,w,c,e+n-u*w,t+r,e+u*w,t+r,w,w,c,e,t+r-l*w)}else f=Zt(PO||(PO=Xr(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return f},MO={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Ite=e=>{var t=fr(e,MO),n=b.useRef(null),[r,i]=b.useState(-1);b.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var K=n.current.getTotalLength();K&&i(K)}catch{}},[]);var{x:a,y:s,width:o,height:l,radius:u,className:c}=t,{animationEasing:f,animationDuration:h,animationBegin:p,isAnimationActive:g,isUpdateAnimationActive:x}=t,v=b.useRef(o),w=b.useRef(l),_=b.useRef(a),S=b.useRef(s),C=b.useMemo(()=>({x:a,y:s,width:o,height:l,radius:u}),[a,s,o,l,u]),P=y3(C,"rectangle-");if(a!==+a||s!==+s||o!==+o||l!==+l||o===0||l===0)return null;var O=Ye("recharts-rectangle",c);if(!x){var A=Nr(t),{radius:T}=A,N=kO(A,Ste);return b.createElement("path",Wp({},N,{x:Ja(a),y:Ja(s),width:Ja(o),height:Ja(l),radius:typeof u=="number"?u:void 0,className:O,d:DO(a,s,o,l,u)}))}var k=v.current,j=w.current,R=_.current,D=S.current,Z="0px ".concat(r===-1?1:r,"px"),oe="".concat(r,"px 0px"),q=rte(["strokeDasharray"],h,typeof f=="string"?f:MO.animationEasing);return b.createElement(g3,{animationId:P,key:P,canBegin:r>0,duration:h,easing:f,isActive:x,begin:p},K=>{var W=ei(k,o,K),te=ei(j,l,K),le=ei(R,a,K),We=ei(D,s,K);n.current&&(v.current=W,w.current=te,_.current=le,S.current=We);var ut;g?K>0?ut={transition:q,strokeDasharray:oe}:ut={strokeDasharray:Z}:ut={strokeDasharray:oe};var jt=Nr(t),{radius:je}=jt,dn=kO(jt,Ate);return b.createElement("path",Wp({},dn,{radius:typeof u=="number"?u:void 0,className:O,d:DO(le,We,W,te,u),ref:n,style:jO(jO({},ut),t.style)}))})};function LO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function VO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LO(Object(n),!0).forEach(function(r){Pte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pte(e,t,n){return(t=Rte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rte(e){var t=jte(e,"string");return typeof t=="symbol"?t:t+""}function jte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xp=Math.PI/180,kte=e=>e*180/Math.PI,on=(e,t,n,r)=>({x:e+Math.cos(-Xp*r)*n,y:t+Math.sin(-Xp*r)*n}),Dte=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Mte=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)},Lte=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,s=Mte({x:n,y:r},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(n-i)/s,l=Math.acos(o);return r>a&&(l=2*Math.PI-l),{radius:s,angle:kte(l),angleInRadian:l}},Vte=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-a*360,endAngle:n-a*360}},Ute=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return e+s*360},zte=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:a}=Lte({x:n,y:r},t),{innerRadius:s,outerRadius:o}=t;if(i<s||i>o||i===0)return null;var{startAngle:l,endAngle:u}=Vte(t),c=a,f;if(l<=u){for(;c>u;)c-=360;for(;c<l;)c+=360;f=c>=l&&c<=u}else{for(;c>l;)c-=360;for(;c<u;)c+=360;f=c>=u&&c<=l}return f?VO(VO({},t),{},{radius:i,angle:Ute(c,t)}):null};function v3(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e,s=on(t,n,r,i),o=on(t,n,r,a);return{points:[s,o],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}var UO,zO,BO,$O,FO,qO,HO;function H_(){return H_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H_.apply(null,arguments)}function to(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Bte=(e,t)=>{var n=wr(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},Gh=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:l}=e,u=o*(s?1:-1)+r,c=Math.asin(o/u)/Xp,f=l?i:i+a*c,h=on(t,n,u,f),p=on(t,n,r,f),g=l?i-a*c:i,x=on(t,n,u*Math.cos(c*Xp),g);return{center:h,circleTangency:p,lineTangency:x,theta:c}},b3=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:s}=e,o=Bte(a,s),l=a+o,u=on(t,n,i,a),c=on(t,n,i,l),f=Zt(UO||(UO=to(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),u.x,u.y,i,i,+(Math.abs(o)>180),+(a>l),c.x,c.y);if(r>0){var h=on(t,n,r,a),p=on(t,n,r,l);f+=Zt(zO||(zO=to(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),p.x,p.y,r,r,+(Math.abs(o)>180),+(a<=l),h.x,h.y)}else f+=Zt(BO||(BO=to(["L ",","," Z"])),t,n);return f},$te=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:l,endAngle:u}=e,c=wr(u-l),{circleTangency:f,lineTangency:h,theta:p}=Gh({cx:t,cy:n,radius:i,angle:l,sign:c,cornerRadius:a,cornerIsExternal:o}),{circleTangency:g,lineTangency:x,theta:v}=Gh({cx:t,cy:n,radius:i,angle:u,sign:-c,cornerRadius:a,cornerIsExternal:o}),w=o?Math.abs(l-u):Math.abs(l-u)-p-v;if(w<0)return s?Zt($O||($O=to(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),h.x,h.y,a,a,a*2,a,a,-a*2):b3({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:u});var _=Zt(FO||(FO=to(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),h.x,h.y,a,a,+(c<0),f.x,f.y,i,i,+(w>180),+(c<0),g.x,g.y,a,a,+(c<0),x.x,x.y);if(r>0){var{circleTangency:S,lineTangency:C,theta:P}=Gh({cx:t,cy:n,radius:r,angle:l,sign:c,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:O,lineTangency:A,theta:T}=Gh({cx:t,cy:n,radius:r,angle:u,sign:-c,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),N=o?Math.abs(l-u):Math.abs(l-u)-P-T;if(N<0&&a===0)return"".concat(_,"L").concat(t,",").concat(n,"Z");_+=Zt(qO||(qO=to(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),A.x,A.y,a,a,+(c<0),O.x,O.y,r,r,+(N>180),+(c>0),S.x,S.y,a,a,+(c<0),C.x,C.y)}else _+=Zt(HO||(HO=to(["L",",","Z"])),t,n);return _},Fte={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},qte=e=>{var t=fr(e,Fte),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:c,className:f}=t;if(a<i||u===c)return null;var h=Ye("recharts-sector",f),p=a-i,g=Cs(s,p,0,!0),x;return g>0&&Math.abs(u-c)<360?x=$te({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(g,p/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:c}):x=b3({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:u,endAngle:c}),b.createElement("path",H_({},Nr(t),{className:h,d:x}))};function Hte(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(V4(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:s,angle:o}=t,l=on(r,i,a,o),u=on(r,i,s,o);return[{x:l.x,y:l.y},{x:u.x,y:u.y}]}return v3(t)}}var _3={},x3={},w3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=F1;function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(w3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=w3;function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(x3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=q1,n=x3;function r(i,a,s){s&&typeof s!="number"&&t.isIterateeCall(i,a,s)&&(a=s=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),s=s===void 0?i<a?1:-1:n.toFinite(s);const o=Math.max(Math.ceil((a-i)/(s||1)),0),l=new Array(o);for(let u=0;u<o;u++)l[u]=i,i+=s;return l}e.range=r})(_3);var Gte=_3.range;const E3=Ns(Gte);function ms(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Kte(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function nE(e){let t,n,r;e.length!==2?(t=ms,n=(o,l)=>ms(e(o),l),r=(o,l)=>e(o)-l):(t=e===ms||e===Kte?e:Yte,n=e,r=e);function i(o,l,u=0,c=o.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;n(o[f],l)<0?u=f+1:c=f}while(u<c)}return u}function a(o,l,u=0,c=o.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;n(o[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function s(o,l,u=0,c=o.length){const f=i(o,l,u,c-1);return f>u&&r(o[f-1],l)>-r(o[f],l)?f-1:f}return{left:i,center:s,right:a}}function Yte(){return 0}function S3(e){return e===null?NaN:+e}function*Wte(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const Xte=nE(ms),kd=Xte.right;nE(S3).center;class GO extends Map{constructor(t,n=Jte){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(KO(this,t))}has(t){return super.has(KO(this,t))}set(t,n){return super.set(Qte(this,t),n)}delete(t){return super.delete(Zte(this,t))}}function KO({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Qte({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Zte({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Jte(e){return e!==null&&typeof e=="object"?e.valueOf():e}function ene(e=ms){if(e===ms)return A3;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function A3(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const tne=Math.sqrt(50),nne=Math.sqrt(10),rne=Math.sqrt(2);function Qp(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=tne?10:a>=nne?5:a>=rne?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/s,o=Math.round(e*u),l=Math.round(t*u),o/u<e&&++o,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*s,o=Math.round(e/u),l=Math.round(t/u),o*u<e&&++o,l*u>t&&--l),l<o&&.5<=n&&n<2?Qp(e,t,n*2):[o,l,u]}function G_(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,s]=r?Qp(t,e,n):Qp(e,t,n);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(r)if(s<0)for(let u=0;u<o;++u)l[u]=(a-u)/-s;else for(let u=0;u<o;++u)l[u]=(a-u)*s;else if(s<0)for(let u=0;u<o;++u)l[u]=(i+u)/-s;else for(let u=0;u<o;++u)l[u]=(i+u)*s;return l}function K_(e,t,n){return t=+t,e=+e,n=+n,Qp(e,t,n)[2]}function Y_(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?K_(t,e,n):K_(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function YO(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function WO(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function T3(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?A3:ene(i);r>n;){if(r-n>600){const l=r-n+1,u=t-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),p=Math.max(n,Math.floor(t-u*f/l+h)),g=Math.min(r,Math.floor(t+(l-u)*f/l+h));T3(e,t,p,g,i)}const a=e[t];let s=n,o=r;for(yc(e,n,t),i(e[r],a)>0&&yc(e,n,r);s<o;){for(yc(e,s,o),++s,--o;i(e[s],a)<0;)++s;for(;i(e[o],a)>0;)--o}i(e[n],a)===0?yc(e,n,o):(++o,yc(e,o,r)),o<=t&&(n=o+1),t<=o&&(r=o-1)}return e}function yc(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function ine(e,t,n){if(e=Float64Array.from(Wte(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return WO(e);if(t>=1)return YO(e);var r,i=(r-1)*t,a=Math.floor(i),s=YO(T3(e,a).subarray(0,a+1)),o=WO(e.subarray(a+1));return s+(o-s)*(i-a)}}function ane(e,t,n=S3){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),s=+n(e[a],a,e),o=+n(e[a+1],a+1,e);return s+(o-s)*(i-a)}}function sne(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function Rr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ba(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const W_=Symbol("implicit");function rE(){var e=new GO,t=[],n=[],r=W_;function i(a){let s=e.get(a);if(s===void 0){if(r!==W_)return r;e.set(a,s=t.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new GO;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return rE(t,n).unknown(r)},Rr.apply(i,arguments),i}function iE(){var e=rE().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,s,o=!1,l=0,u=0,c=.5;delete e.unknown;function f(){var h=t().length,p=i<r,g=p?i:r,x=p?r:i;a=(x-g)/Math.max(1,h-l+u*2),o&&(a=Math.floor(a)),g+=(x-g-a*(h-l))*c,s=a*(1-l),o&&(g=Math.round(g),s=Math.round(s));var v=sne(h).map(function(w){return g+a*w});return n(p?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,o=!0,f()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),f()):c},e.copy=function(){return iE(t(),[r,i]).round(o).paddingInner(l).paddingOuter(u).align(c)},Rr.apply(f(),arguments)}function C3(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return C3(t())},e}function one(){return C3(iE.apply(null,arguments).paddingInner(1))}function aE(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function N3(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Dd(){}var Ff=.7,Zp=1/Ff,Ul="\\s*([+-]?\\d+)\\s*",qf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",mi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",lne=/^#([0-9a-f]{3,8})$/,une=new RegExp(`^rgb\\(${Ul},${Ul},${Ul}\\)$`),cne=new RegExp(`^rgb\\(${mi},${mi},${mi}\\)$`),fne=new RegExp(`^rgba\\(${Ul},${Ul},${Ul},${qf}\\)$`),dne=new RegExp(`^rgba\\(${mi},${mi},${mi},${qf}\\)$`),hne=new RegExp(`^hsl\\(${qf},${mi},${mi}\\)$`),mne=new RegExp(`^hsla\\(${qf},${mi},${mi},${qf}\\)$`),XO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};aE(Dd,Hf,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:QO,formatHex:QO,formatHex8:pne,formatHsl:gne,formatRgb:ZO,toString:ZO});function QO(){return this.rgb().formatHex()}function pne(){return this.rgb().formatHex8()}function gne(){return O3(this).formatHsl()}function ZO(){return this.rgb().formatRgb()}function Hf(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=lne.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?JO(t):n===3?new zn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Kh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Kh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=une.exec(e))?new zn(t[1],t[2],t[3],1):(t=cne.exec(e))?new zn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=fne.exec(e))?Kh(t[1],t[2],t[3],t[4]):(t=dne.exec(e))?Kh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=hne.exec(e))?n2(t[1],t[2]/100,t[3]/100,1):(t=mne.exec(e))?n2(t[1],t[2]/100,t[3]/100,t[4]):XO.hasOwnProperty(e)?JO(XO[e]):e==="transparent"?new zn(NaN,NaN,NaN,0):null}function JO(e){return new zn(e>>16&255,e>>8&255,e&255,1)}function Kh(e,t,n,r){return r<=0&&(e=t=n=NaN),new zn(e,t,n,r)}function yne(e){return e instanceof Dd||(e=Hf(e)),e?(e=e.rgb(),new zn(e.r,e.g,e.b,e.opacity)):new zn}function X_(e,t,n,r){return arguments.length===1?yne(e):new zn(e,t,n,r??1)}function zn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}aE(zn,X_,N3(Dd,{brighter(e){return e=e==null?Zp:Math.pow(Zp,e),new zn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ff:Math.pow(Ff,e),new zn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new zn(po(this.r),po(this.g),po(this.b),Jp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:e2,formatHex:e2,formatHex8:vne,formatRgb:t2,toString:t2}));function e2(){return`#${no(this.r)}${no(this.g)}${no(this.b)}`}function vne(){return`#${no(this.r)}${no(this.g)}${no(this.b)}${no((isNaN(this.opacity)?1:this.opacity)*255)}`}function t2(){const e=Jp(this.opacity);return`${e===1?"rgb(":"rgba("}${po(this.r)}, ${po(this.g)}, ${po(this.b)}${e===1?")":`, ${e})`}`}function Jp(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function po(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function no(e){return e=po(e),(e<16?"0":"")+e.toString(16)}function n2(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Vr(e,t,n,r)}function O3(e){if(e instanceof Vr)return new Vr(e.h,e.s,e.l,e.opacity);if(e instanceof Dd||(e=Hf(e)),!e)return new Vr;if(e instanceof Vr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(t===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-t)/o+2:s=(t-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new Vr(s,o,l,e.opacity)}function bne(e,t,n,r){return arguments.length===1?O3(e):new Vr(e,t,n,r??1)}function Vr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}aE(Vr,bne,N3(Dd,{brighter(e){return e=e==null?Zp:Math.pow(Zp,e),new Vr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ff:Math.pow(Ff,e),new Vr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new zn(R0(e>=240?e-240:e+120,i,r),R0(e,i,r),R0(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Vr(r2(this.h),Yh(this.s),Yh(this.l),Jp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Jp(this.opacity);return`${e===1?"hsl(":"hsla("}${r2(this.h)}, ${Yh(this.s)*100}%, ${Yh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function r2(e){return e=(e||0)%360,e<0?e+360:e}function Yh(e){return Math.max(0,Math.min(1,e||0))}function R0(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const sE=e=>()=>e;function _ne(e,t){return function(n){return e+n*t}}function xne(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function wne(e){return(e=+e)==1?I3:function(t,n){return n-t?xne(t,n,e):sE(isNaN(t)?n:t)}}function I3(e,t){var n=t-e;return n?_ne(e,n):sE(isNaN(e)?t:e)}const i2=function e(t){var n=wne(t);function r(i,a){var s=n((i=X_(i)).r,(a=X_(a)).r),o=n(i.g,a.g),l=n(i.b,a.b),u=I3(i.opacity,a.opacity);return function(c){return i.r=s(c),i.g=o(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=e,r}(1);function Ene(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function Sne(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Ane(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=Pu(e[s],t[s]);for(;s<n;++s)a[s]=t[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function Tne(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function eg(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Cne(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Pu(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Q_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,j0=new RegExp(Q_.source,"g");function Nne(e){return function(){return e}}function One(e){return function(t){return e(t)+""}}function Ine(e,t){var n=Q_.lastIndex=j0.lastIndex=0,r,i,a,s=-1,o=[],l=[];for(e=e+"",t=t+"";(r=Q_.exec(e))&&(i=j0.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:eg(r,i)})),n=j0.lastIndex;return n<t.length&&(a=t.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?One(l[0].x):Nne(t):(t=l.length,function(u){for(var c=0,f;c<t;++c)o[(f=l[c]).i]=f.x(u);return o.join("")})}function Pu(e,t){var n=typeof t,r;return t==null||n==="boolean"?sE(t):(n==="number"?eg:n==="string"?(r=Hf(t))?(t=r,i2):Ine:t instanceof Hf?i2:t instanceof Date?Tne:Sne(t)?Ene:Array.isArray(t)?Ane:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Cne:eg)(e,t)}function oE(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Pne(e,t){t===void 0&&(t=e,e=Pu);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[o](s-o)}}function Rne(e){return function(){return e}}function tg(e){return+e}var a2=[0,1];function Nn(e){return e}function Z_(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Rne(isNaN(t)?NaN:.5)}function jne(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function kne(e,t,n){var r=e[0],i=e[1],a=t[0],s=t[1];return i<r?(r=Z_(i,r),a=n(s,a)):(r=Z_(r,i),a=n(a,s)),function(o){return a(r(o))}}function Dne(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=Z_(e[s],e[s+1]),a[s]=n(t[s],t[s+1]);return function(o){var l=kd(e,o,1,r)-1;return a[l](i[l](o))}}function Md(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Uy(){var e=a2,t=a2,n=Pu,r,i,a,s=Nn,o,l,u;function c(){var h=Math.min(e.length,t.length);return s!==Nn&&(s=jne(e[0],e[h-1])),o=h>2?Dne:kne,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(l||(l=o(e.map(r),t,n)))(r(s(h)))}return f.invert=function(h){return s(i((u||(u=o(t,e.map(r),eg)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,tg),c()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),c()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),n=oE,c()},f.clamp=function(h){return arguments.length?(s=h?!0:Nn,c()):s!==Nn},f.interpolate=function(h){return arguments.length?(n=h,c()):n},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,p){return r=h,i=p,c()}}function lE(){return Uy()(Nn,Nn)}function Mne(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ng(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function uu(e){return e=ng(Math.abs(e)),e?e[1]:NaN}function Lne(e,t){return function(n,r){for(var i=n.length,a=[],s=0,o=e[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=e[s=(s+1)%e.length];return a.reverse().join(t)}}function Vne(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Une=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Gf(e){if(!(t=Une.exec(e)))throw new Error("invalid format: "+e);var t;return new uE({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Gf.prototype=uE.prototype;function uE(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}uE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function zne(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var rg;function Bne(e,t){var n=ng(e,t);if(!n)return rg=void 0,e.toPrecision(t);var r=n[0],i=n[1],a=i-(rg=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+ng(e,Math.max(0,t+a-1))[0]}function s2(e,t){var n=ng(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const o2={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Mne,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>s2(e*100,t),r:s2,s:Bne,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function l2(e){return e}var u2=Array.prototype.map,c2=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function $ne(e){var t=e.grouping===void 0||e.thousands===void 0?l2:Lne(u2.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?l2:Vne(u2.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f,h){f=Gf(f);var p=f.fill,g=f.align,x=f.sign,v=f.symbol,w=f.zero,_=f.width,S=f.comma,C=f.precision,P=f.trim,O=f.type;O==="n"?(S=!0,O="g"):o2[O]||(C===void 0&&(C=12),P=!0,O="g"),(w||p==="0"&&g==="=")&&(w=!0,p="0",g="=");var A=(h&&h.prefix!==void 0?h.prefix:"")+(v==="$"?n:v==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():""),T=(v==="$"?r:/[%p]/.test(O)?s:"")+(h&&h.suffix!==void 0?h.suffix:""),N=o2[O],k=/[defgprs%]/.test(O);C=C===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function j(R){var D=A,Z=T,oe,q,K;if(O==="c")Z=N(R)+Z,R="";else{R=+R;var W=R<0||1/R<0;if(R=isNaN(R)?l:N(Math.abs(R),C),P&&(R=zne(R)),W&&+R==0&&x!=="+"&&(W=!1),D=(W?x==="("?x:o:x==="-"||x==="("?"":x)+D,Z=(O==="s"&&!isNaN(R)&&rg!==void 0?c2[8+rg/3]:"")+Z+(W&&x==="("?")":""),k){for(oe=-1,q=R.length;++oe<q;)if(K=R.charCodeAt(oe),48>K||K>57){Z=(K===46?i+R.slice(oe+1):R.slice(oe))+Z,R=R.slice(0,oe);break}}}S&&!w&&(R=t(R,1/0));var te=D.length+R.length+Z.length,le=te<_?new Array(_-te+1).join(p):"";switch(S&&w&&(R=t(le+R,le.length?_-Z.length:1/0),le=""),g){case"<":R=D+R+Z+le;break;case"=":R=D+le+R+Z;break;case"^":R=le.slice(0,te=le.length>>1)+D+R+Z+le.slice(te);break;default:R=le+D+R+Z;break}return a(R)}return j.toString=function(){return f+""},j}function c(f,h){var p=Math.max(-8,Math.min(8,Math.floor(uu(h)/3)))*3,g=Math.pow(10,-p),x=u((f=Gf(f),f.type="f",f),{suffix:c2[8+p/3]});return function(v){return x(g*v)}}return{format:u,formatPrefix:c}}var Wh,cE,P3;Fne({thousands:",",grouping:[3],currency:["$",""]});function Fne(e){return Wh=$ne(e),cE=Wh.format,P3=Wh.formatPrefix,Wh}function qne(e){return Math.max(0,-uu(Math.abs(e)))}function Hne(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(uu(t)/3)))*3-uu(Math.abs(e)))}function Gne(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,uu(t)-uu(e))+1}function R3(e,t,n,r){var i=Y_(e,t,n),a;switch(r=Gf(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=Hne(i,s))&&(r.precision=a),P3(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Gne(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=qne(i))&&(r.precision=a-(r.type==="%")*2);break}}return cE(r)}function Ms(e){var t=e.domain;return e.ticks=function(n){var r=t();return G_(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return R3(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,s=r[i],o=r[a],l,u,c=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);c-- >0;){if(u=K_(s,o,n),u===l)return r[i]=s,r[a]=o,t(r);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;l=u}return e},e}function j3(){var e=lE();return e.copy=function(){return Md(e,j3())},Rr.apply(e,arguments),Ms(e)}function k3(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,tg),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return k3(e).unknown(t)},e=arguments.length?Array.from(e,tg):[0,1],Ms(n)}function D3(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),e[n]=t.floor(i),e[r]=t.ceil(a),e}function f2(e){return Math.log(e)}function d2(e){return Math.exp(e)}function Kne(e){return-Math.log(-e)}function Yne(e){return-Math.exp(-e)}function Wne(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Xne(e){return e===10?Wne:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Qne(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function h2(e){return(t,n)=>-e(-t,n)}function fE(e){const t=e(f2,d2),n=t.domain;let r=10,i,a;function s(){return i=Qne(r),a=Xne(r),n()[0]<0?(i=h2(i),a=h2(a),e(Kne,Yne)):e(f2,d2),t}return t.base=function(o){return arguments.length?(r=+o,s()):r},t.domain=function(o){return arguments.length?(n(o),s()):n()},t.ticks=o=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let h=i(u),p=i(c),g,x;const v=o==null?10:+o;let w=[];if(!(r%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(g=1;g<r;++g)if(x=h<0?g/a(-h):g*a(h),!(x<u)){if(x>c)break;w.push(x)}}else for(;h<=p;++h)for(g=r-1;g>=1;--g)if(x=h>0?g/a(-h):g*a(h),!(x<u)){if(x>c)break;w.push(x)}w.length*2<v&&(w=G_(u,c,v))}else w=G_(h,p,Math.min(p-h,v)).map(a);return f?w.reverse():w},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Gf(l)).precision==null&&(l.trim=!0),l=cE(l)),o===1/0)return l;const u=Math.max(1,r*o/t.ticks().length);return c=>{let f=c/a(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},t.nice=()=>n(D3(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),t}function M3(){const e=fE(Uy()).domain([1,10]);return e.copy=()=>Md(e,M3()).base(e.base()),Rr.apply(e,arguments),e}function m2(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function p2(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function dE(e){var t=1,n=e(m2(t),p2(t));return n.constant=function(r){return arguments.length?e(m2(t=+r),p2(t)):t},Ms(n)}function L3(){var e=dE(Uy());return e.copy=function(){return Md(e,L3()).constant(e.constant())},Rr.apply(e,arguments)}function g2(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Zne(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Jne(e){return e<0?-e*e:e*e}function hE(e){var t=e(Nn,Nn),n=1;function r(){return n===1?e(Nn,Nn):n===.5?e(Zne,Jne):e(g2(n),g2(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Ms(t)}function mE(){var e=hE(Uy());return e.copy=function(){return Md(e,mE()).exponent(e.exponent())},Rr.apply(e,arguments),e}function ere(){return mE.apply(null,arguments).exponent(.5)}function y2(e){return Math.sign(e)*e*e}function tre(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function V3(){var e=lE(),t=[0,1],n=!1,r;function i(a){var s=tre(e(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return e.invert(y2(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,tg)).map(y2)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return V3(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Rr.apply(i,arguments),Ms(i)}function U3(){var e=[],t=[],n=[],r;function i(){var s=0,o=Math.max(1,t.length);for(n=new Array(o-1);++s<o;)n[s-1]=ane(e,s/o);return a}function a(s){return s==null||isNaN(s=+s)?r:t[kd(n,s)]}return a.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:e[0],o<n.length?n[o]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(ms),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return U3().domain(e).range(t).unknown(r)},Rr.apply(a,arguments)}function z3(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[kd(r,l,0,n)]:a}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return z3().domain([e,t]).range(i).unknown(a)},Rr.apply(Ms(s),arguments)}function B3(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[kd(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return B3().domain(e).range(t).unknown(n)},Rr.apply(i,arguments)}const k0=new Date,D0=new Date;function Pt(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let u;do l.push(u=new Date(+a)),t(a,o),e(a);while(u<a&&a<s);return l},i.filter=a=>Pt(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!a(s););else for(;--o>=0;)for(;t(s,1),!a(s););}),n&&(i.count=(a,s)=>(k0.setTime(+a),D0.setTime(+s),e(k0),e(D0),Math.floor(n(k0,D0))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const ig=Pt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ig.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Pt(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):ig);ig.range;const $i=1e3,Er=$i*60,Fi=Er*60,ca=Fi*24,pE=ca*7,v2=ca*30,M0=ca*365,ro=Pt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*$i)},(e,t)=>(t-e)/$i,e=>e.getUTCSeconds());ro.range;const gE=Pt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*$i)},(e,t)=>{e.setTime(+e+t*Er)},(e,t)=>(t-e)/Er,e=>e.getMinutes());gE.range;const yE=Pt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Er)},(e,t)=>(t-e)/Er,e=>e.getUTCMinutes());yE.range;const vE=Pt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*$i-e.getMinutes()*Er)},(e,t)=>{e.setTime(+e+t*Fi)},(e,t)=>(t-e)/Fi,e=>e.getHours());vE.range;const bE=Pt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Fi)},(e,t)=>(t-e)/Fi,e=>e.getUTCHours());bE.range;const Ld=Pt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Er)/ca,e=>e.getDate()-1);Ld.range;const zy=Pt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ca,e=>e.getUTCDate()-1);zy.range;const $3=Pt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ca,e=>Math.floor(e/ca));$3.range;function Ho(e){return Pt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Er)/pE)}const By=Ho(0),ag=Ho(1),nre=Ho(2),rre=Ho(3),cu=Ho(4),ire=Ho(5),are=Ho(6);By.range;ag.range;nre.range;rre.range;cu.range;ire.range;are.range;function Go(e){return Pt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/pE)}const $y=Go(0),sg=Go(1),sre=Go(2),ore=Go(3),fu=Go(4),lre=Go(5),ure=Go(6);$y.range;sg.range;sre.range;ore.range;fu.range;lre.range;ure.range;const _E=Pt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());_E.range;const xE=Pt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());xE.range;const fa=Pt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());fa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Pt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});fa.range;const da=Pt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());da.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Pt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});da.range;function F3(e,t,n,r,i,a){const s=[[ro,1,$i],[ro,5,5*$i],[ro,15,15*$i],[ro,30,30*$i],[a,1,Er],[a,5,5*Er],[a,15,15*Er],[a,30,30*Er],[i,1,Fi],[i,3,3*Fi],[i,6,6*Fi],[i,12,12*Fi],[r,1,ca],[r,2,2*ca],[n,1,pE],[t,1,v2],[t,3,3*v2],[e,1,M0]];function o(u,c,f){const h=c<u;h&&([u,c]=[c,u]);const p=f&&typeof f.range=="function"?f:l(u,c,f),g=p?p.range(u,+c+1):[];return h?g.reverse():g}function l(u,c,f){const h=Math.abs(c-u)/f,p=nE(([,,v])=>v).right(s,h);if(p===s.length)return e.every(Y_(u/M0,c/M0,f));if(p===0)return ig.every(Math.max(Y_(u,c,f),1));const[g,x]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return g.every(x)}return[o,l]}const[cre,fre]=F3(da,xE,$y,$3,bE,yE),[dre,hre]=F3(fa,_E,By,Ld,vE,gE);function L0(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function V0(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function vc(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function mre(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,u=bc(i),c=_c(i),f=bc(a),h=_c(a),p=bc(s),g=_c(s),x=bc(o),v=_c(o),w=bc(l),_=_c(l),S={a:K,A:W,b:te,B:le,c:null,d:S2,e:S2,f:Lre,g:Kre,G:Wre,H:kre,I:Dre,j:Mre,L:q3,m:Vre,M:Ure,p:We,q:ut,Q:C2,s:N2,S:zre,u:Bre,U:$re,V:Fre,w:qre,W:Hre,x:null,X:null,y:Gre,Y:Yre,Z:Xre,"%":T2},C={a:jt,A:je,b:dn,B:Ci,c:null,d:A2,e:A2,f:eie,g:cie,G:die,H:Qre,I:Zre,j:Jre,L:G3,m:tie,M:nie,p:kt,q:Vs,Q:C2,s:N2,S:rie,u:iie,U:aie,V:sie,w:oie,W:lie,x:null,X:null,y:uie,Y:fie,Z:hie,"%":T2},P={a:k,A:j,b:R,B:D,c:Z,d:w2,e:w2,f:Ire,g:x2,G:_2,H:E2,I:E2,j:Tre,L:Ore,m:Are,M:Cre,p:N,q:Sre,Q:Rre,s:jre,S:Nre,u:bre,U:_re,V:xre,w:vre,W:wre,x:oe,X:q,y:x2,Y:_2,Z:Ere,"%":Pre};S.x=O(n,S),S.X=O(r,S),S.c=O(t,S),C.x=O(n,C),C.X=O(r,C),C.c=O(t,C);function O($,de){return function(xe){var F=[],Dt=-1,Ce=0,xn=$.length,Yt,jr,zu;for(xe instanceof Date||(xe=new Date(+xe));++Dt<xn;)$.charCodeAt(Dt)===37&&(F.push($.slice(Ce,Dt)),(jr=b2[Yt=$.charAt(++Dt)])!=null?Yt=$.charAt(++Dt):jr=Yt==="e"?" ":"0",(zu=de[Yt])&&(Yt=zu(xe,jr)),F.push(Yt),Ce=Dt+1);return F.push($.slice(Ce,Dt)),F.join("")}}function A($,de){return function(xe){var F=vc(1900,void 0,1),Dt=T(F,$,xe+="",0),Ce,xn;if(Dt!=xe.length)return null;if("Q"in F)return new Date(F.Q);if("s"in F)return new Date(F.s*1e3+("L"in F?F.L:0));if(de&&!("Z"in F)&&(F.Z=0),"p"in F&&(F.H=F.H%12+F.p*12),F.m===void 0&&(F.m="q"in F?F.q:0),"V"in F){if(F.V<1||F.V>53)return null;"w"in F||(F.w=1),"Z"in F?(Ce=V0(vc(F.y,0,1)),xn=Ce.getUTCDay(),Ce=xn>4||xn===0?sg.ceil(Ce):sg(Ce),Ce=zy.offset(Ce,(F.V-1)*7),F.y=Ce.getUTCFullYear(),F.m=Ce.getUTCMonth(),F.d=Ce.getUTCDate()+(F.w+6)%7):(Ce=L0(vc(F.y,0,1)),xn=Ce.getDay(),Ce=xn>4||xn===0?ag.ceil(Ce):ag(Ce),Ce=Ld.offset(Ce,(F.V-1)*7),F.y=Ce.getFullYear(),F.m=Ce.getMonth(),F.d=Ce.getDate()+(F.w+6)%7)}else("W"in F||"U"in F)&&("w"in F||(F.w="u"in F?F.u%7:"W"in F?1:0),xn="Z"in F?V0(vc(F.y,0,1)).getUTCDay():L0(vc(F.y,0,1)).getDay(),F.m=0,F.d="W"in F?(F.w+6)%7+F.W*7-(xn+5)%7:F.w+F.U*7-(xn+6)%7);return"Z"in F?(F.H+=F.Z/100|0,F.M+=F.Z%100,V0(F)):L0(F)}}function T($,de,xe,F){for(var Dt=0,Ce=de.length,xn=xe.length,Yt,jr;Dt<Ce;){if(F>=xn)return-1;if(Yt=de.charCodeAt(Dt++),Yt===37){if(Yt=de.charAt(Dt++),jr=P[Yt in b2?de.charAt(Dt++):Yt],!jr||(F=jr($,xe,F))<0)return-1}else if(Yt!=xe.charCodeAt(F++))return-1}return F}function N($,de,xe){var F=u.exec(de.slice(xe));return F?($.p=c.get(F[0].toLowerCase()),xe+F[0].length):-1}function k($,de,xe){var F=p.exec(de.slice(xe));return F?($.w=g.get(F[0].toLowerCase()),xe+F[0].length):-1}function j($,de,xe){var F=f.exec(de.slice(xe));return F?($.w=h.get(F[0].toLowerCase()),xe+F[0].length):-1}function R($,de,xe){var F=w.exec(de.slice(xe));return F?($.m=_.get(F[0].toLowerCase()),xe+F[0].length):-1}function D($,de,xe){var F=x.exec(de.slice(xe));return F?($.m=v.get(F[0].toLowerCase()),xe+F[0].length):-1}function Z($,de,xe){return T($,t,de,xe)}function oe($,de,xe){return T($,n,de,xe)}function q($,de,xe){return T($,r,de,xe)}function K($){return s[$.getDay()]}function W($){return a[$.getDay()]}function te($){return l[$.getMonth()]}function le($){return o[$.getMonth()]}function We($){return i[+($.getHours()>=12)]}function ut($){return 1+~~($.getMonth()/3)}function jt($){return s[$.getUTCDay()]}function je($){return a[$.getUTCDay()]}function dn($){return l[$.getUTCMonth()]}function Ci($){return o[$.getUTCMonth()]}function kt($){return i[+($.getUTCHours()>=12)]}function Vs($){return 1+~~($.getUTCMonth()/3)}return{format:function($){var de=O($+="",S);return de.toString=function(){return $},de},parse:function($){var de=A($+="",!1);return de.toString=function(){return $},de},utcFormat:function($){var de=O($+="",C);return de.toString=function(){return $},de},utcParse:function($){var de=A($+="",!0);return de.toString=function(){return $},de}}}var b2={"-":"",_:" ",0:"0"},Ht=/^\s*\d+/,pre=/^%/,gre=/[\\^$*+?|[\]().{}]/g;function Ee(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function yre(e){return e.replace(gre,"\\$&")}function bc(e){return new RegExp("^(?:"+e.map(yre).join("|")+")","i")}function _c(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function vre(e,t,n){var r=Ht.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function bre(e,t,n){var r=Ht.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function _re(e,t,n){var r=Ht.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function xre(e,t,n){var r=Ht.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function wre(e,t,n){var r=Ht.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function _2(e,t,n){var r=Ht.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function x2(e,t,n){var r=Ht.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Ere(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Sre(e,t,n){var r=Ht.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Are(e,t,n){var r=Ht.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function w2(e,t,n){var r=Ht.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Tre(e,t,n){var r=Ht.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function E2(e,t,n){var r=Ht.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Cre(e,t,n){var r=Ht.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Nre(e,t,n){var r=Ht.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Ore(e,t,n){var r=Ht.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Ire(e,t,n){var r=Ht.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Pre(e,t,n){var r=pre.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Rre(e,t,n){var r=Ht.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function jre(e,t,n){var r=Ht.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function S2(e,t){return Ee(e.getDate(),t,2)}function kre(e,t){return Ee(e.getHours(),t,2)}function Dre(e,t){return Ee(e.getHours()%12||12,t,2)}function Mre(e,t){return Ee(1+Ld.count(fa(e),e),t,3)}function q3(e,t){return Ee(e.getMilliseconds(),t,3)}function Lre(e,t){return q3(e,t)+"000"}function Vre(e,t){return Ee(e.getMonth()+1,t,2)}function Ure(e,t){return Ee(e.getMinutes(),t,2)}function zre(e,t){return Ee(e.getSeconds(),t,2)}function Bre(e){var t=e.getDay();return t===0?7:t}function $re(e,t){return Ee(By.count(fa(e)-1,e),t,2)}function H3(e){var t=e.getDay();return t>=4||t===0?cu(e):cu.ceil(e)}function Fre(e,t){return e=H3(e),Ee(cu.count(fa(e),e)+(fa(e).getDay()===4),t,2)}function qre(e){return e.getDay()}function Hre(e,t){return Ee(ag.count(fa(e)-1,e),t,2)}function Gre(e,t){return Ee(e.getFullYear()%100,t,2)}function Kre(e,t){return e=H3(e),Ee(e.getFullYear()%100,t,2)}function Yre(e,t){return Ee(e.getFullYear()%1e4,t,4)}function Wre(e,t){var n=e.getDay();return e=n>=4||n===0?cu(e):cu.ceil(e),Ee(e.getFullYear()%1e4,t,4)}function Xre(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ee(t/60|0,"0",2)+Ee(t%60,"0",2)}function A2(e,t){return Ee(e.getUTCDate(),t,2)}function Qre(e,t){return Ee(e.getUTCHours(),t,2)}function Zre(e,t){return Ee(e.getUTCHours()%12||12,t,2)}function Jre(e,t){return Ee(1+zy.count(da(e),e),t,3)}function G3(e,t){return Ee(e.getUTCMilliseconds(),t,3)}function eie(e,t){return G3(e,t)+"000"}function tie(e,t){return Ee(e.getUTCMonth()+1,t,2)}function nie(e,t){return Ee(e.getUTCMinutes(),t,2)}function rie(e,t){return Ee(e.getUTCSeconds(),t,2)}function iie(e){var t=e.getUTCDay();return t===0?7:t}function aie(e,t){return Ee($y.count(da(e)-1,e),t,2)}function K3(e){var t=e.getUTCDay();return t>=4||t===0?fu(e):fu.ceil(e)}function sie(e,t){return e=K3(e),Ee(fu.count(da(e),e)+(da(e).getUTCDay()===4),t,2)}function oie(e){return e.getUTCDay()}function lie(e,t){return Ee(sg.count(da(e)-1,e),t,2)}function uie(e,t){return Ee(e.getUTCFullYear()%100,t,2)}function cie(e,t){return e=K3(e),Ee(e.getUTCFullYear()%100,t,2)}function fie(e,t){return Ee(e.getUTCFullYear()%1e4,t,4)}function die(e,t){var n=e.getUTCDay();return e=n>=4||n===0?fu(e):fu.ceil(e),Ee(e.getUTCFullYear()%1e4,t,4)}function hie(){return"+0000"}function T2(){return"%"}function C2(e){return+e}function N2(e){return Math.floor(+e/1e3)}var Jo,Y3,W3;mie({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function mie(e){return Jo=mre(e),Y3=Jo.format,Jo.parse,W3=Jo.utcFormat,Jo.utcParse,Jo}function pie(e){return new Date(e)}function gie(e){return e instanceof Date?+e:+new Date(+e)}function wE(e,t,n,r,i,a,s,o,l,u){var c=lE(),f=c.invert,h=c.domain,p=u(".%L"),g=u(":%S"),x=u("%I:%M"),v=u("%I %p"),w=u("%a %d"),_=u("%b %d"),S=u("%B"),C=u("%Y");function P(O){return(l(O)<O?p:o(O)<O?g:s(O)<O?x:a(O)<O?v:r(O)<O?i(O)<O?w:_:n(O)<O?S:C)(O)}return c.invert=function(O){return new Date(f(O))},c.domain=function(O){return arguments.length?h(Array.from(O,gie)):h().map(pie)},c.ticks=function(O){var A=h();return e(A[0],A[A.length-1],O??10)},c.tickFormat=function(O,A){return A==null?P:u(A)},c.nice=function(O){var A=h();return(!O||typeof O.range!="function")&&(O=t(A[0],A[A.length-1],O??10)),O?h(D3(A,O)):c},c.copy=function(){return Md(c,wE(e,t,n,r,i,a,s,o,l,u))},c}function yie(){return Rr.apply(wE(dre,hre,fa,_E,By,Ld,vE,gE,ro,Y3).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function vie(){return Rr.apply(wE(cre,fre,da,xE,$y,zy,bE,yE,ro,W3).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Fy(){var e=0,t=1,n,r,i,a,s=Nn,o=!1,l;function u(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(a(f)-n)*i,o?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(f){return arguments.length?(o=!!f,u):o},u.interpolator=function(f){return arguments.length?(s=f,u):s};function c(f){return function(h){var p,g;return arguments.length?([p,g]=h,s=f(p,g),u):[s(0),s(1)]}}return u.range=c(Pu),u.rangeRound=c(oE),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return a=f,n=f(e),r=f(t),i=n===r?0:1/(r-n),u}}function Ls(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function X3(){var e=Ms(Fy()(Nn));return e.copy=function(){return Ls(e,X3())},ba.apply(e,arguments)}function Q3(){var e=fE(Fy()).domain([1,10]);return e.copy=function(){return Ls(e,Q3()).base(e.base())},ba.apply(e,arguments)}function Z3(){var e=dE(Fy());return e.copy=function(){return Ls(e,Z3()).constant(e.constant())},ba.apply(e,arguments)}function EE(){var e=hE(Fy());return e.copy=function(){return Ls(e,EE()).exponent(e.exponent())},ba.apply(e,arguments)}function bie(){return EE.apply(null,arguments).exponent(.5)}function J3(){var e=[],t=Nn;function n(r){if(r!=null&&!isNaN(r=+r))return t((kd(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(ms),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>ine(e,a/r))},n.copy=function(){return J3(t).domain(e)},ba.apply(n,arguments)}function qy(){var e=0,t=.5,n=1,r=1,i,a,s,o,l,u=Nn,c,f=!1,h;function p(x){return isNaN(x=+x)?h:(x=.5+((x=+c(x))-a)*(r*x<r*a?o:l),u(f?Math.max(0,Math.min(1,x)):x))}p.domain=function(x){return arguments.length?([e,t,n]=x,i=c(e=+e),a=c(t=+t),s=c(n=+n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,p):[e,t,n]},p.clamp=function(x){return arguments.length?(f=!!x,p):f},p.interpolator=function(x){return arguments.length?(u=x,p):u};function g(x){return function(v){var w,_,S;return arguments.length?([w,_,S]=v,u=Pne(x,[w,_,S]),p):[u(0),u(.5),u(1)]}}return p.range=g(Pu),p.rangeRound=g(oE),p.unknown=function(x){return arguments.length?(h=x,p):h},function(x){return c=x,i=x(e),a=x(t),s=x(n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,p}}function e6(){var e=Ms(qy()(Nn));return e.copy=function(){return Ls(e,e6())},ba.apply(e,arguments)}function t6(){var e=fE(qy()).domain([.1,1,10]);return e.copy=function(){return Ls(e,t6()).base(e.base())},ba.apply(e,arguments)}function n6(){var e=dE(qy());return e.copy=function(){return Ls(e,n6()).constant(e.constant())},ba.apply(e,arguments)}function SE(){var e=hE(qy());return e.copy=function(){return Ls(e,SE()).exponent(e.exponent())},ba.apply(e,arguments)}function _ie(){return SE.apply(null,arguments).exponent(.5)}const jc=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:iE,scaleDiverging:e6,scaleDivergingLog:t6,scaleDivergingPow:SE,scaleDivergingSqrt:_ie,scaleDivergingSymlog:n6,scaleIdentity:k3,scaleImplicit:W_,scaleLinear:j3,scaleLog:M3,scaleOrdinal:rE,scalePoint:one,scalePow:mE,scaleQuantile:U3,scaleQuantize:z3,scaleRadial:V3,scaleSequential:X3,scaleSequentialLog:Q3,scaleSequentialPow:EE,scaleSequentialQuantile:J3,scaleSequentialSqrt:bie,scaleSequentialSymlog:Z3,scaleSqrt:ere,scaleSymlog:L3,scaleThreshold:B3,scaleTime:yie,scaleUtc:vie,tickFormat:R3},Symbol.toStringTag,{value:"Module"}));var _a=e=>e.chartData,r6=V([_a],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),i6=(e,t,n,r)=>r?r6(e):_a(e),xie=(e,t,n)=>n?r6(e):_a(e);function ha(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(be(t)&&be(n))return!0}return!1}function O2(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function a6(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,a;if(be(n))i=n;else if(typeof n=="function")return;if(be(r))a=r;else if(typeof r=="function")return;var s=[i,a];if(ha(s))return s}}function wie(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(ha(r))return O2(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,s,o;if(i==="auto")t!=null&&(s=Math.min(...t));else if(Q(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&WN.test(i)){var l=WN.exec(i);if(l==null||l[1]==null||t==null)s=void 0;else{var u=+l[1];s=t[0]-u}}else s=t==null?void 0:t[0];if(a==="auto")t!=null&&(o=Math.max(...t));else if(Q(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&XN.test(a)){var c=XN.exec(a);if(c==null||c[1]==null||t==null)o=void 0;else{var f=+c[1];o=t[1]+f}}else o=t==null?void 0:t[1];var h=[s,o];if(ha(h))return t==null?h:O2(h,t,n)}}}var Ru=1e9,Eie={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},TE,Ze=!0,Ir="[DecimalError] ",go=Ir+"Invalid argument: ",AE=Ir+"Exponent out of range: ",ju=Math.floor,Js=Math.pow,Sie=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Qn,zt=1e7,$e=7,s6=9007199254740991,og=ju(s6/$e),X={};X.absoluteValue=X.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};X.comparedTo=X.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};X.decimalPlaces=X.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*$e;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};X.dividedBy=X.div=function(e){return Wi(this,new this.constructor(e))};X.dividedToIntegerBy=X.idiv=function(e){var t=this,n=t.constructor;return De(Wi(t,new n(e),0,1),n.precision)};X.equals=X.eq=function(e){return!this.cmp(e)};X.exponent=function(){return At(this)};X.greaterThan=X.gt=function(e){return this.cmp(e)>0};X.greaterThanOrEqualTo=X.gte=function(e){return this.cmp(e)>=0};X.isInteger=X.isint=function(){return this.e>this.d.length-2};X.isNegative=X.isneg=function(){return this.s<0};X.isPositive=X.ispos=function(){return this.s>0};X.isZero=function(){return this.s===0};X.lessThan=X.lt=function(e){return this.cmp(e)<0};X.lessThanOrEqualTo=X.lte=function(e){return this.cmp(e)<1};X.logarithm=X.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Qn))throw Error(Ir+"NaN");if(n.s<1)throw Error(Ir+(n.s?"NaN":"-Infinity"));return n.eq(Qn)?new r(0):(Ze=!1,t=Wi(Kf(n,a),Kf(e,a),a),Ze=!0,De(t,i))};X.minus=X.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?u6(t,e):o6(t,(e.s=-e.s,e))};X.modulo=X.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Ir+"NaN");return n.s?(Ze=!1,t=Wi(n,e,0,1).times(e),Ze=!0,n.minus(t)):De(new r(n),i)};X.naturalExponential=X.exp=function(){return l6(this)};X.naturalLogarithm=X.ln=function(){return Kf(this)};X.negated=X.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};X.plus=X.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?o6(t,e):u6(t,(e.s=-e.s,e))};X.precision=X.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(go+e);if(t=At(i)+1,r=i.d.length-1,n=r*$e+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};X.squareRoot=X.sqrt=function(){var e,t,n,r,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Ir+"NaN")}for(e=At(o),Ze=!1,i=Math.sqrt(+o),i==0||i==1/0?(t=si(o.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=ju((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new l(t)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(a=r,r=a.plus(Wi(o,a,s+2)).times(.5),si(a.d).slice(0,s)===(t=si(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(De(a,n+1,0),a.times(a).eq(o)){r=a;break}}else if(t!="9999")break;s+=4}return Ze=!0,De(r,n)};X.times=X.mul=function(e){var t,n,r,i,a,s,o,l,u,c=this,f=c.constructor,h=c.d,p=(e=new f(e)).d;if(!c.s||!e.s)return new f(0);for(e.s*=c.s,n=c.e+e.e,l=h.length,u=p.length,l<u&&(a=h,h=p,p=a,s=l,l=u,u=s),a=[],s=l+u,r=s;r--;)a.push(0);for(r=u;--r>=0;){for(t=0,i=l+r;i>r;)o=a[i]+p[r]*h[i-r-1]+t,a[i--]=o%zt|0,t=o/zt|0;a[i]=(a[i]+t)%zt|0}for(;!a[--s];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,Ze?De(e,f.precision):e};X.toDecimalPlaces=X.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(xi(e,0,Ru),t===void 0?t=r.rounding:xi(t,0,8),De(n,e+At(n)+1,t))};X.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=ko(r,!0):(xi(e,0,Ru),t===void 0?t=i.rounding:xi(t,0,8),r=De(new i(r),e+1,t),n=ko(r,!0,e+1)),n};X.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?ko(i):(xi(e,0,Ru),t===void 0?t=a.rounding:xi(t,0,8),r=De(new a(i),e+At(i)+1,t),n=ko(r.abs(),!1,e+At(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};X.toInteger=X.toint=function(){var e=this,t=e.constructor;return De(new t(e),At(e)+1,t.rounding)};X.toNumber=function(){return+this};X.toPower=X.pow=function(e){var t,n,r,i,a,s,o=this,l=o.constructor,u=12,c=+(e=new l(e));if(!e.s)return new l(Qn);if(o=new l(o),!o.s){if(e.s<1)throw Error(Ir+"Infinity");return o}if(o.eq(Qn))return o;if(r=l.precision,e.eq(Qn))return De(o,r);if(t=e.e,n=e.d.length-1,s=t>=n,a=o.s,s){if((n=c<0?-c:c)<=s6){for(i=new l(Qn),t=Math.ceil(r/$e+4),Ze=!1;n%2&&(i=i.times(o),P2(i.d,t)),n=ju(n/2),n!==0;)o=o.times(o),P2(o.d,t);return Ze=!0,e.s<0?new l(Qn).div(i):De(i,r)}}else if(a<0)throw Error(Ir+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,o.s=1,Ze=!1,i=e.times(Kf(o,r+u)),Ze=!0,i=l6(i),i.s=a,i};X.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=At(i),r=ko(i,n<=a.toExpNeg||n>=a.toExpPos)):(xi(e,1,Ru),t===void 0?t=a.rounding:xi(t,0,8),i=De(new a(i),e,t),n=At(i),r=ko(i,e<=n||n<=a.toExpNeg,e)),r};X.toSignificantDigits=X.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(xi(e,1,Ru),t===void 0?t=r.rounding:xi(t,0,8)),De(new r(n),e,t)};X.toString=X.valueOf=X.val=X.toJSON=X[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=At(e),n=e.constructor;return ko(e,t<=n.toExpNeg||t>=n.toExpPos)};function o6(e,t){var n,r,i,a,s,o,l,u,c=e.constructor,f=c.precision;if(!e.s||!t.s)return t.s||(t=new c(e)),Ze?De(t,f):t;if(l=e.d,u=t.d,s=e.e,i=t.e,l=l.slice(),a=s-i,a){for(a<0?(r=l,a=-a,o=u.length):(r=u,i=s,o=l.length),s=Math.ceil(f/$e),o=s>o?s+1:o+1,a>o&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(o=l.length,a=u.length,o-a<0&&(a=o,r=u,u=l,l=r),n=0;a;)n=(l[--a]=l[a]+u[a]+n)/zt|0,l[a]%=zt;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=i,Ze?De(t,f):t}function xi(e,t,n){if(e!==~~e||e<t||e>n)throw Error(go+e)}function si(e){var t,n,r,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)r=e[t]+"",n=$e-r.length,n&&(a+=Da(n)),a+=r;s=e[t],r=s+"",n=$e-r.length,n&&(a+=Da(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Wi=function(){function e(r,i){var a,s=0,o=r.length;for(r=r.slice();o--;)a=r[o]*i+s,r[o]=a%zt|0,s=a/zt|0;return s&&r.unshift(s),r}function t(r,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*zt+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var o,l,u,c,f,h,p,g,x,v,w,_,S,C,P,O,A,T,N=r.constructor,k=r.s==i.s?1:-1,j=r.d,R=i.d;if(!r.s)return new N(r);if(!i.s)throw Error(Ir+"Division by zero");for(l=r.e-i.e,A=R.length,P=j.length,p=new N(k),g=p.d=[],u=0;R[u]==(j[u]||0);)++u;if(R[u]>(j[u]||0)&&--l,a==null?_=a=N.precision:s?_=a+(At(r)-At(i))+1:_=a,_<0)return new N(0);if(_=_/$e+2|0,u=0,A==1)for(c=0,R=R[0],_++;(u<P||c)&&_--;u++)S=c*zt+(j[u]||0),g[u]=S/R|0,c=S%R|0;else{for(c=zt/(R[0]+1)|0,c>1&&(R=e(R,c),j=e(j,c),A=R.length,P=j.length),C=A,x=j.slice(0,A),v=x.length;v<A;)x[v++]=0;T=R.slice(),T.unshift(0),O=R[0],R[1]>=zt/2&&++O;do c=0,o=t(R,x,A,v),o<0?(w=x[0],A!=v&&(w=w*zt+(x[1]||0)),c=w/O|0,c>1?(c>=zt&&(c=zt-1),f=e(R,c),h=f.length,v=x.length,o=t(f,x,h,v),o==1&&(c--,n(f,A<h?T:R,h))):(c==0&&(o=c=1),f=R.slice()),h=f.length,h<v&&f.unshift(0),n(x,f,v),o==-1&&(v=x.length,o=t(R,x,A,v),o<1&&(c++,n(x,A<v?T:R,v))),v=x.length):o===0&&(c++,x=[0]),g[u++]=c,o&&x[0]?x[v++]=j[C]||0:(x=[j[C]],v=1);while((C++<P||x[0]!==void 0)&&_--)}return g[0]||g.shift(),p.e=l,De(p,s?a+At(p)+1:a)}}();function l6(e,t){var n,r,i,a,s,o,l=0,u=0,c=e.constructor,f=c.precision;if(At(e)>16)throw Error(AE+At(e));if(!e.s)return new c(Qn);for(Ze=!1,o=f,s=new c(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(r=Math.log(Js(2,u))/Math.LN10*2+5|0,o+=r,n=i=a=new c(Qn),c.precision=o;;){if(i=De(i.times(e),o),n=n.times(++l),s=a.plus(Wi(i,n,o)),si(s.d).slice(0,o)===si(a.d).slice(0,o)){for(;u--;)a=De(a.times(a),o);return c.precision=f,t==null?(Ze=!0,De(a,f)):a}a=s}}function At(e){for(var t=e.e*$e,n=e.d[0];n>=10;n/=10)t++;return t}function U0(e,t,n){if(t>e.LN10.sd())throw Ze=!0,n&&(e.precision=n),Error(Ir+"LN10 precision limit exceeded");return De(new e(e.LN10),t)}function Da(e){for(var t="";e--;)t+="0";return t}function Kf(e,t){var n,r,i,a,s,o,l,u,c,f=1,h=10,p=e,g=p.d,x=p.constructor,v=x.precision;if(p.s<1)throw Error(Ir+(p.s?"NaN":"-Infinity"));if(p.eq(Qn))return new x(0);if(t==null?(Ze=!1,u=v):u=t,p.eq(10))return t==null&&(Ze=!0),U0(x,u);if(u+=h,x.precision=u,n=si(g),r=n.charAt(0),a=At(p),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(e),n=si(p.d),r=n.charAt(0),f++;a=At(p),r>1?(p=new x("0."+n),a++):p=new x(r+"."+n.slice(1))}else return l=U0(x,u+2,v).times(a+""),p=Kf(new x(r+"."+n.slice(1)),u-h).plus(l),x.precision=v,t==null?(Ze=!0,De(p,v)):p;for(o=s=p=Wi(p.minus(Qn),p.plus(Qn),u),c=De(p.times(p),u),i=3;;){if(s=De(s.times(c),u),l=o.plus(Wi(s,new x(i),u)),si(l.d).slice(0,u)===si(o.d).slice(0,u))return o=o.times(2),a!==0&&(o=o.plus(U0(x,u+2,v).times(a+""))),o=Wi(o,new x(f),u),x.precision=v,t==null?(Ze=!0,De(o,v)):o;o=l,i+=2}}function I2(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=ju(n/$e),e.d=[],r=(n+1)%$e,n<0&&(r+=$e),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=$e;r<i;)e.d.push(+t.slice(r,r+=$e));t=t.slice(r),r=$e-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),Ze&&(e.e>og||e.e<-og))throw Error(AE+n)}else e.s=0,e.e=0,e.d=[0];return e}function De(e,t,n){var r,i,a,s,o,l,u,c,f=e.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(r=t-s,r<0)r+=$e,i=t,u=f[c=0];else{if(c=Math.ceil((r+1)/$e),a=f.length,c>=a)return e;for(u=a=f[c],s=1;a>=10;a/=10)s++;r%=$e,i=r-$e+s}if(n!==void 0&&(a=Js(10,s-i-1),o=u/a%10|0,l=t<0||f[c+1]!==void 0||u%a,l=n<4?(o||l)&&(n==0||n==(e.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?u/Js(10,s-i):0:f[c-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return l?(a=At(e),f.length=1,t=t-a-1,f[0]=Js(10,($e-t%$e)%$e),e.e=ju(-t/$e)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=c,a=1,c--):(f.length=c+1,a=Js(10,$e-r),f[c]=i>0?(u/Js(10,s-i)%Js(10,i)|0)*a:0),l)for(;;)if(c==0){(f[0]+=a)==zt&&(f[0]=1,++e.e);break}else{if(f[c]+=a,f[c]!=zt)break;f[c--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(Ze&&(e.e>og||e.e<-og))throw Error(AE+At(e));return e}function u6(e,t){var n,r,i,a,s,o,l,u,c,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Ze?De(t,p):t;if(l=e.d,f=t.d,r=t.e,u=e.e,l=l.slice(),s=u-r,s){for(c=s<0,c?(n=l,s=-s,o=f.length):(n=f,r=u,o=l.length),i=Math.max(Math.ceil(p/$e),o)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=f.length,c=i<o,c&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}s=0}for(c&&(n=l,l=f,f=n,t.s=-t.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=zt-1;--l[a],l[i]+=zt}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=r,Ze?De(t,p):t):new h(0)}function ko(e,t,n){var r,i=At(e),a=si(e.d),s=a.length;return t?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+Da(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Da(-i-1)+a,n&&(r=n-s)>0&&(a+=Da(r))):i>=s?(a+=Da(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+Da(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=Da(r))),e.s<0?"-"+a:a}function P2(e,t){if(e.length>t)return e.length=t,!0}function c6(e){var t,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(go+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return I2(s,a.toString())}else if(typeof a!="string")throw Error(go+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,Sie.test(a))I2(s,a);else throw Error(go+a)}if(i.prototype=X,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=c6,i.config=i.set=Aie,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function Aie(e){if(!e||typeof e!="object")throw Error(Ir+"Object expected");var t,n,r,i=["precision",1,Ru,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(ju(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(go+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(go+n+": "+r);return this}var TE=c6(Eie);Qn=new TE(1);const Oe=TE;function f6(e){var t;return e===0?t=1:t=Math.floor(new Oe(e).abs().log(10).toNumber())+1,t}function d6(e,t,n){for(var r=new Oe(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var h6=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},m6=(e,t,n)=>{if(e.lte(0))return new Oe(0);var r=f6(e.toNumber()),i=new Oe(10).pow(r),a=e.div(i),s=r!==1?.05:.1,o=new Oe(Math.ceil(a.div(s).toNumber())).add(n).mul(s),l=o.mul(i);return t?new Oe(l.toNumber()):new Oe(Math.ceil(l.toNumber()))},Tie=(e,t,n)=>{var r=new Oe(1),i=new Oe(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new Oe(10).pow(f6(e)-1),i=new Oe(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Oe(Math.floor(e)))}else e===0?i=new Oe(Math.floor((t-1)/2)):n||(i=new Oe(Math.floor(e)));for(var s=Math.floor((t-1)/2),o=[],l=0;l<t;l++)o.push(i.add(new Oe(l-s).mul(r)).toNumber());return o},p6=function(t,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Oe(0),tickMin:new Oe(0),tickMax:new Oe(0)};var s=m6(new Oe(n).sub(t).div(r-1),i,a),o;t<=0&&n>=0?o=new Oe(0):(o=new Oe(t).add(n).div(2),o=o.sub(new Oe(o).mod(s)));var l=Math.ceil(o.sub(t).div(s).toNumber()),u=Math.ceil(new Oe(n).sub(o).div(s).toNumber()),c=l+u+1;return c>r?p6(t,n,r,i,a+1):(c<r&&(u=n>0?u+(r-c):u,l=n>0?l:l+(r-c)),{step:s,tickMin:o.sub(new Oe(l).mul(s)),tickMax:o.add(new Oe(u).mul(s))})},Cie=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[o,l]=h6([n,r]);if(o===-1/0||l===1/0){var u=l===1/0?[o,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),l];return n>r?u.reverse():u}if(o===l)return Tie(o,i,a);var{step:c,tickMin:f,tickMax:h}=p6(o,l,s,a,0),p=d6(f,h.add(new Oe(.1).mul(c)),c);return n>r?p.reverse():p},Nie=function(t,n){var[r,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,o]=h6([r,i]);if(s===-1/0||o===1/0)return[r,i];if(s===o)return[s];var l=Math.max(n,2),u=m6(new Oe(o).sub(s).div(l-1),a,0),c=[...d6(new Oe(s),new Oe(o),u),o];return a===!1&&(c=c.map(f=>Math.round(f))),r>i?c.reverse():c},Oie=e=>e.rootProps.barCategoryGap,Hy=e=>e.rootProps.stackOffset,g6=e=>e.rootProps.reverseStackOrder,CE=e=>e.options.chartName,NE=e=>e.rootProps.syncId,y6=e=>e.rootProps.syncMethod,OE=e=>e.options.eventEmitter,Iie=e=>e.rootProps.baseValue,On={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Hs={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},Qr={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},Gy=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t};function Ky(e,t,n){if(n!=="auto")return n;if(e!=null)return Ti(e,t)?"category":"number"}function R2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?R2(Object(n),!0).forEach(function(r){Pie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pie(e,t,n){return(t=Rie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rie(e){var t=jie(e,"string");return typeof t=="symbol"?t:t+""}function jie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var j2={allowDataOverflow:Hs.allowDataOverflow,allowDecimals:Hs.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Hs.angleAxisId,includeHidden:!1,name:void 0,reversed:Hs.reversed,scale:Hs.scale,tick:Hs.tick,tickCount:void 0,ticks:void 0,type:Hs.type,unit:void 0},k2={allowDataOverflow:Qr.allowDataOverflow,allowDecimals:Qr.allowDecimals,allowDuplicatedCategory:Qr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Qr.radiusAxisId,includeHidden:Qr.includeHidden,name:void 0,reversed:Qr.reversed,scale:Qr.scale,tick:Qr.tick,tickCount:Qr.tickCount,ticks:void 0,type:Qr.type,unit:void 0},kie=(e,t)=>{if(t!=null)return e.polarAxis.angleAxis[t]},IE=V([kie,i3],(e,t)=>{var n;if(e!=null)return e;var r=(n=Ky(t,"angleAxis",j2.type))!==null&&n!==void 0?n:"category";return lg(lg({},j2),{},{type:r})}),Die=(e,t)=>e.polarAxis.radiusAxis[t],PE=V([Die,i3],(e,t)=>{var n;if(e!=null)return e;var r=(n=Ky(t,"radiusAxis",k2.type))!==null&&n!==void 0?n:"category";return lg(lg({},k2),{},{type:r})}),Yy=e=>e.polarOptions,RE=V([ya,va,fn],Dte),v6=V([Yy,RE],(e,t)=>{if(e!=null)return Cs(e.innerRadius,t,0)}),b6=V([Yy,RE],(e,t)=>{if(e!=null)return Cs(e.outerRadius,t,t*.8)}),Mie=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},_6=V([Yy],Mie);V([IE,_6],Gy);var x6=V([RE,v6,b6],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});V([PE,x6],Gy);var w6=V([Je,Yy,v6,b6,ya,va],(e,t,n,r,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:s,cy:o,startAngle:l,endAngle:u}=t;return{cx:Cs(s,i,i/2),cy:Cs(o,a,a/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:u,clockWise:!1}}}),Gt=(e,t)=>t,Wy=(e,t,n)=>n;function jE(e){return e==null?void 0:e.id}function E6(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,s=new Map;return e.forEach(o=>{var l,u=(l=o.data)!==null&&l!==void 0?l:r;if(!(u==null||u.length===0)){var c=jE(o);u.forEach((f,h)=>{var p=a==null||i?h:String(un(f,a,null)),g=un(f,o.dataKey,0),x;s.has(p)?x=s.get(p):x={},Object.assign(x,{[c]:g}),s.set(p,x)})}}),Array.from(s.values())}function kE(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var Xy=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Qy(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function Lie(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var Kt=e=>{var t=Je(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},ku=e=>e.tooltip.settings.axisId;function Vie(e){if(e in jc)return jc[e]();var t="scale".concat(R1(e));if(t in jc)return jc[t]()}function D2(e){var t=e.ticks,n=e.bandwidth,r=e.range(),i=[Math.min(...r),Math.max(...r)];return{domain:()=>e.domain(),range:function(a){function s(){return a.apply(this,arguments)}return s.toString=function(){return a.toString()},s}(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(a){var s=i[0],o=i[1];return s<=o?a>=s&&a<=o:a>=o&&a<=s},bandwidth:n?()=>n.call(e):void 0,ticks:t?a=>t.call(e,a):void 0,map:(a,s)=>{var o=e(a);if(o!=null){if(e.bandwidth&&s!==null&&s!==void 0&&s.position){var l=e.bandwidth();switch(s.position){case"middle":o+=l/2;break;case"end":o+=l;break}}return o}}}}function M2(e,t,n){if(typeof e=="function")return D2(e.copy().domain(t).range(n));if(e!=null){var r=Vie(e);if(r!=null)return r.domain(t).range(n),D2(r)}}var Uie=(e,t)=>{if(t!=null)switch(e){case"linear":{if(!ha(t)){for(var n,r,i=0;i<t.length;i++){var a=t[i];be(a)&&((n===void 0||a<n)&&(n=a),(r===void 0||a>r)&&(r=a))}return n!==void 0&&r!==void 0?[n,r]:void 0}return t}default:return t}};function L2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ug(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?L2(Object(n),!0).forEach(function(r){zie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zie(e,t,n){return(t=Bie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bie(e){var t=$ie(e,"string");return typeof t=="symbol"?t:t+""}function $ie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var J_=[0,"auto"],Lt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},S6=(e,t)=>e.cartesianAxis.xAxis[t],xa=(e,t)=>{var n=S6(e,t);return n??Lt},Vt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:J_,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Id},A6=(e,t)=>e.cartesianAxis.yAxis[t],wa=(e,t)=>{var n=A6(e,t);return n??Vt},Fie={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},DE=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??Fie},Rn=(e,t,n)=>{switch(t){case"xAxis":return xa(e,n);case"yAxis":return wa(e,n);case"zAxis":return DE(e,n);case"angleAxis":return IE(e,n);case"radiusAxis":return PE(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},qie=(e,t,n)=>{switch(t){case"xAxis":return xa(e,n);case"yAxis":return wa(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Vd=(e,t,n)=>{switch(t){case"xAxis":return xa(e,n);case"yAxis":return wa(e,n);case"angleAxis":return IE(e,n);case"radiusAxis":return PE(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},T6=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function C6(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var N6=e=>e.graphicalItems.cartesianItems,Hie=V([Gt,Wy],C6),O6=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),Ud=V([N6,Rn,Hie],O6,{memoizeOptions:{resultEqualityCheck:Qy}}),I6=V([Ud],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(kE)),P6=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),Gie=V([Ud],P6),R6=e=>e.map(t=>t.data).filter(Boolean).flat(1),Kie=V([Ud],R6,{memoizeOptions:{resultEqualityCheck:Qy}}),j6=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},ME=V([Kie,i6],j6),k6=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:un(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:un(i,r)}))):e.map(r=>({value:r})),Zy=V([ME,Rn,Ud],k6);function D6(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Im(e){if(bi(e)||e instanceof Date){var t=Number(e);if(be(t))return t}}function V2(e){if(Array.isArray(e)){var t=[Im(e[0]),Im(e[1])];return ha(t)?t:void 0}var n=Im(e);if(n!=null)return[n,n]}function ma(e){return e.map(Im).filter(Un)}function Yie(e,t,n){return!n||typeof t!="number"||vi(t)?[]:n.length?ma(n.flatMap(r=>{var i=un(e,r.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!be(a)||!be(s)))return[t-a,t+s]})):[]}var Rt=e=>{var t=Kt(e),n=ku(e);return Vd(e,t,n)},zd=V([Rt],e=>e==null?void 0:e.dataKey),Wie=V([I6,i6,Rt],E6),M6=(e,t,n,r)=>{var i={},a=t.reduce((s,o)=>{if(o.stackId==null)return s;var l=s[o.stackId];return l==null&&(l=[]),l.push(o),s[o.stackId]=l,s},i);return Object.fromEntries(Object.entries(a).map(s=>{var[o,l]=s,u=r?[...l].reverse():l,c=u.map(jE);return[o,{stackedData:NJ(e,c,n),graphicalItems:u}]}))},L6=V([Wie,I6,Hy,g6],M6),V6=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(r==null&&n!=="zAxis"){var s=RJ(e,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},Xie=V([Rn],e=>e.allowDataOverflow),LE=e=>{var t;if(e==null||!("domain"in e))return J_;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=ma(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:J_},U6=V([Rn],LE),z6=V([U6,Xie],a6),Qie=V([L6,_a,Gt,z6],V6,{memoizeOptions:{resultEqualityCheck:Xy}}),VE=e=>e.errorBars,Zie=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>D6(n,r)),cg=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),o=Math.max(...a);return[s,o]}},B6=(e,t,n,r,i)=>{var a,s;if(n.length>0&&e.forEach(o=>{n.forEach(l=>{var u,c,f=(u=r[l.id])===null||u===void 0?void 0:u.filter(w=>D6(i,w)),h=un(o,(c=t.dataKey)!==null&&c!==void 0?c:l.dataKey),p=Yie(o,h,f);if(p.length>=2){var g=Math.min(...p),x=Math.max(...p);(a==null||g<a)&&(a=g),(s==null||x>s)&&(s=x)}var v=V2(h);v!=null&&(a=a==null?v[0]:Math.min(a,v[0]),s=s==null?v[1]:Math.max(s,v[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(o=>{var l=V2(un(o,t.dataKey));l!=null&&(a=a==null?l[0]:Math.min(a,l[0]),s=s==null?l[1]:Math.max(s,l[1]))}),be(a)&&be(s))return[a,s]},Jie=V([ME,Rn,Gie,VE,Gt],B6,{memoizeOptions:{resultEqualityCheck:Xy}});function eae(e){var{value:t}=e;if(bi(t)||t instanceof Date)return t}var tae=(e,t,n)=>{var r=e.map(eae).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&M4(r))?E3(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},$6=e=>e.referenceElements.dots,Du=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),nae=V([$6,Gt,Wy],Du),F6=e=>e.referenceElements.areas,rae=V([F6,Gt,Wy],Du),q6=e=>e.referenceElements.lines,iae=V([q6,Gt,Wy],Du),H6=(e,t)=>{if(e!=null){var n=ma(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},aae=V(nae,Gt,H6),G6=(e,t)=>{if(e!=null){var n=ma(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},sae=V([rae,Gt],G6);function oae(e){var t;if(e.x!=null)return ma([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:ma(n)}function lae(e){var t;if(e.y!=null)return ma([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:ma(n)}var K6=(e,t)=>{if(e!=null){var n=e.flatMap(r=>t==="xAxis"?oae(r):lae(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},uae=V([iae,Gt],K6),cae=V(aae,uae,sae,(e,t,n)=>cg(e,n,t)),Y6=(e,t,n,r,i,a,s,o)=>{if(n!=null)return n;var l=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",u=l?cg(r,a,i):cg(a,i);return wie(t,u,e.allowDataOverflow)},fae=V([Rn,U6,z6,Qie,Jie,cae,Je,Gt],Y6,{memoizeOptions:{resultEqualityCheck:Xy}}),dae=[0,1],W6=(e,t,n,r,i,a,s)=>{if(!((e==null||n==null||n.length===0)&&s===void 0)){var{dataKey:o,type:l}=e,u=Ti(t,a);if(u&&o==null){var c;return E3(0,(c=n==null?void 0:n.length)!==null&&c!==void 0?c:0)}return l==="category"?tae(r,e,u):i==="expand"?dae:s}},UE=V([Rn,Je,ME,Zy,Hy,Gt,fae],W6);function hae(e){return e in jc}var X6=(e,t,n)=>{if(e!=null){var{scale:r,type:i}=e;if(r==="auto")return i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!t)?"point":i==="category"?"band":"linear";if(typeof r=="string"){var a="scale".concat(R1(r));return hae(a)?a:"point"}}},Mu=V([Rn,T6,CE],X6);function zE(e,t,n,r){if(!(n==null||r==null))return typeof e.scale=="function"?M2(e.scale,n,r):M2(t,n,r)}var Q6=(e,t,n)=>{var r=LE(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&ha(e))return Cie(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&ha(e))return Nie(e,t.tickCount,t.allowDecimals)}},BE=V([UE,Vd,Mu],Q6),Z6=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&ha(t)&&Array.isArray(n)&&n.length>0){var i,a,s=t[0],o=(i=n[0])!==null&&i!==void 0?i:0,l=t[1],u=(a=n[n.length-1])!==null&&a!==void 0?a:0;return[Math.min(s,o),Math.max(l,u)]}return t},mae=V([Rn,UE,BE,Gt],Z6),pae=V(Zy,Rn,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(ma(e.map(f=>f.value))).sort((f,h)=>f-h),i=r[0],a=r[r.length-1];if(i==null||a==null)return 1/0;var s=a-i;if(s===0)return 1/0;for(var o=0;o<r.length-1;o++){var l=r[o],u=r[o+1];if(!(l==null||u==null)){var c=u-l;n=Math.min(n,c)}}return n/s}}),J6=V(pae,Je,Oie,fn,(e,t,n,r,i)=>i,(e,t,n,r,i)=>{if(!be(e))return 0;var a=t==="vertical"?r.height:r.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var s=Cs(n,e*a),o=e*a/2;return o-s-(o-s)/a*s}return 0}),gae=(e,t,n)=>{var r=xa(e,t);return r==null||typeof r.padding!="string"?0:J6(e,"xAxis",t,n,r.padding)},yae=(e,t,n)=>{var r=wa(e,t);return r==null||typeof r.padding!="string"?0:J6(e,"yAxis",t,n,r.padding)},vae=V(xa,gae,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),bae=V(wa,yae,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),_ae=V([fn,vae,ky,jy,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),xae=V([fn,Je,bae,ky,jy,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:s}=i;return a?[r.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Bd=(e,t,n,r)=>{var i;switch(t){case"xAxis":return _ae(e,n,r);case"yAxis":return xae(e,n,r);case"zAxis":return(i=DE(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return _6(e);case"radiusAxis":return x6(e,n);default:return}},eV=V([Rn,Bd],Gy),wae=V([Mu,mae],Uie),Jy=V([Rn,Mu,wae,eV],zE);V([Ud,VE,Gt],Zie);function tV(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var ev=(e,t)=>t,tv=(e,t,n)=>n,Eae=V(Py,ev,tv,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(tV)),Sae=V(Ry,ev,tv,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(tV)),nV=(e,t)=>({width:e.width,height:t.height}),Aae=(e,t)=>{var n=typeof t.width=="number"?t.width:Id;return{width:n,height:e.height}},Tae=V(fn,xa,nV),Cae=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},Nae=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},Oae=V(va,fn,Eae,ev,tv,(e,t,n,r,i)=>{var a={},s;return n.forEach(o=>{var l=nV(t,o);s==null&&(s=Cae(t,r,e));var u=r==="top"&&!i||r==="bottom"&&i;a[o.id]=s-Number(u)*l.height,s+=(u?-1:1)*l.height}),a}),Iae=V(ya,fn,Sae,ev,tv,(e,t,n,r,i)=>{var a={},s;return n.forEach(o=>{var l=Aae(t,o);s==null&&(s=Nae(t,r,e));var u=r==="left"&&!i||r==="right"&&i;a[o.id]=s-Number(u)*l.width,s+=(u?-1:1)*l.width}),a}),Pae=(e,t)=>{var n=xa(e,t);if(n!=null)return Oae(e,n.orientation,n.mirror)},Rae=V([fn,xa,Pae,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),jae=(e,t)=>{var n=wa(e,t);if(n!=null)return Iae(e,n.orientation,n.mirror)},kae=V([fn,wa,jae,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),Dae=V(fn,wa,(e,t)=>{var n=typeof t.width=="number"?t.width:Id;return{width:n,height:e.height}}),rV=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=n,o=Ti(e,r),l=t.map(u=>u.value);if(s&&o&&a==="category"&&i&&M4(l))return l}},$E=V([Je,Zy,Rn,Gt],rV),iV=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,s=Ti(e,r);if(s&&(i==="number"||a!=="auto"))return t.map(o=>o.value)}},FE=V([Je,Zy,Vd,Gt],iV),U2=V([Je,qie,Mu,Jy,$E,FE,Bd,BE,Gt],(e,t,n,r,i,a,s,o,l)=>{if(t!=null){var u=Ti(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:u,niceTicks:o,range:s,realScaleType:n,scale:r}}}),Mae=(e,t,n,r,i,a,s,o,l)=>{if(!(t==null||r==null)){var u=Ti(e,l),{type:c,ticks:f,tickCount:h}=t,p=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,g=c==="category"&&r.bandwidth?r.bandwidth()/p:0;g=l==="angleAxis"&&a!=null&&a.length>=2?wr(a[0]-a[1])*2*g:g;var x=f||i;return x?x.map((v,w)=>{var _=s?s.indexOf(v):v,S=r.map(_);return be(S)?{index:w,coordinate:S+g,value:v,offset:g}:null}).filter(Un):u&&o?o.map((v,w)=>{var _=r.map(v);return be(_)?{coordinate:_+g,value:v,index:w,offset:g}:null}).filter(Un):r.ticks?r.ticks(h).map((v,w)=>{var _=r.map(v);return be(_)?{coordinate:_+g,value:v,index:w,offset:g}:null}).filter(Un):r.domain().map((v,w)=>{var _=r.map(v);return be(_)?{coordinate:_+g,value:s?s[v]:v,index:w,offset:g}:null}).filter(Un)}},aV=V([Je,Vd,Mu,Jy,BE,Bd,$E,FE,Gt],Mae),Lae=(e,t,n,r,i,a,s)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var o=Ti(e,s),{tickCount:l}=t,u=0;return u=s==="angleAxis"&&(r==null?void 0:r.length)>=2?wr(r[0]-r[1])*2*u:u,o&&a?a.map((c,f)=>{var h=n.map(c);return be(h)?{coordinate:h+u,value:c,index:f,offset:u}:null}).filter(Un):n.ticks?n.ticks(l).map((c,f)=>{var h=n.map(c);return be(h)?{coordinate:h+u,value:c,index:f,offset:u}:null}).filter(Un):n.domain().map((c,f)=>{var h=n.map(c);return be(h)?{coordinate:h+u,value:i?i[c]:c,index:f,offset:u}:null}).filter(Un)}},sV=V([Je,Vd,Jy,Bd,$E,FE,Gt],Lae),oV=V(Rn,Jy,(e,t)=>{if(!(e==null||t==null))return ug(ug({},e),{},{scale:t})}),Vae=V([Rn,Mu,UE,eV],zE);V((e,t,n)=>DE(e,n),Vae,(e,t)=>{if(!(e==null||t==null))return ug(ug({},e),{},{scale:t})});var Uae=V([Je,Py,Ry],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),lV=e=>e.options.defaultTooltipEventType,uV=e=>e.options.validateTooltipEventTypes;function cV(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function qE(e,t){var n=lV(e),r=uV(e);return cV(t,n,r)}function zae(e){return ee(t=>qE(t,e))}var fV=(e,t)=>{var n,r=Number(t);if(!(vi(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},Bae=e=>e.tooltip.settings,Ga={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},$ae={itemInteraction:{click:Ga,hover:Ga},axisInteraction:{click:Ga,hover:Ga},keyboardInteraction:Ga,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},dV=Hn({name:"tooltip",initialState:$ae,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Qe()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Br(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:Qe()},removeTooltipEntrySettings:{reducer(e,t){var n=Br(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:Qe()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:Fae,replaceTooltipEntrySettings:qae,removeTooltipEntrySettings:Hae,setTooltipSettingsState:Gae,setActiveMouseOverItemIndex:Kae,mouseLeaveItem:She,mouseLeaveChart:hV,setActiveClickItemIndex:Ahe,setMouseOverAxisIndex:mV,setMouseClickAxisIndex:Yae,setSyncInteraction:ex,setKeyboardInteraction:tx}=dV.actions,Wae=dV.reducer;function z2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?z2(Object(n),!0).forEach(function(r){Xae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xae(e,t,n){return(t=Qae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qae(e){var t=Zae(e,"string");return typeof t=="symbol"?t:t+""}function Zae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jae(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function ese(e){return e.index!=null}var pV=(e,t,n,r)=>{if(t==null)return Ga;var i=Jae(e,t,n);if(i==null)return Ga;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(ese(i)){if(a)return Xh(Xh({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Xh(Xh({},Ga),{},{coordinate:i.coordinate})};function tse(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function nse(e,t){var n=tse(e),r=t[0],i=t[1];if(n===void 0)return!1;var a=Math.min(r,i),s=Math.max(r,i);return n>=a&&n<=s}function rse(e,t,n){if(n==null||t==null)return!0;var r=un(e,t);return r==null||!ha(n)?!0:nse(r,n)}var HE=(e,t,n,r)=>{var i=e==null?void 0:e.index;if(i==null)return null;var a=Number(i);if(!be(a))return i;var s=0,o=1/0;t.length>0&&(o=t.length-1);var l=Math.max(s,Math.min(a,o)),u=t[l];return u==null||rse(u,n,r)?String(l):null},gV=(e,t,n,r,i,a,s)=>{if(a!=null){var o=s[0],l=o==null?void 0:o.getPosition(a);if(l!=null)return l;var u=i==null?void 0:i[Number(a)];if(u)switch(n){case"horizontal":return{x:u.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:u.coordinate}}}},yV=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&r!=null){var a=e.tooltipItemPayloads[0];return a!=null?[a]:[]}return e.tooltipItemPayloads.filter(s=>{var o;return((o=s.settings)===null||o===void 0?void 0:o.graphicalItemId)===i})},vV=e=>e.options.tooltipPayloadSearcher,Lu=e=>e.tooltip;function B2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?B2(Object(n),!0).forEach(function(r){ise(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ise(e,t,n){return(t=ase(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ase(e){var t=sse(e,"string");return typeof t=="symbol"?t:t+""}function sse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ose(e,t){return e??t}var bV=(e,t,n,r,i,a,s)=>{if(!(t==null||a==null)){var{chartData:o,computedData:l,dataStartIndex:u,dataEndIndex:c}=n,f=[];return e.reduce((h,p)=>{var g,{dataDefinedOnItem:x,settings:v}=p,w=ose(x,o),_=Array.isArray(w)?FL(w,u,c):w,S=(g=v==null?void 0:v.dataKey)!==null&&g!==void 0?g:r,C=v==null?void 0:v.nameKey,P;if(r&&Array.isArray(_)&&!Array.isArray(_[0])&&s==="axis"?P=L4(_,r,i):P=a(_,t,l,C),Array.isArray(P))P.forEach(A=>{var T=$2($2({},v),{},{name:A.name,unit:A.unit,color:void 0,fill:void 0});h.push(QN({tooltipEntrySettings:T,dataKey:A.dataKey,payload:A.payload,value:un(A.payload,A.dataKey),name:A.name}))});else{var O;h.push(QN({tooltipEntrySettings:v,dataKey:S,payload:P,value:un(P,S),name:(O=un(P,C))!==null&&O!==void 0?O:v==null?void 0:v.name}))}return h},f)}},GE=V([Rt,T6,CE],X6),lse=V([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),use=V([Kt,ku],C6),Vu=V([lse,Rt,use],O6,{memoizeOptions:{resultEqualityCheck:Qy}}),cse=V([Vu],e=>e.filter(kE)),fse=V([Vu],R6,{memoizeOptions:{resultEqualityCheck:Qy}}),Uu=V([fse,_a],j6),dse=V([cse,_a,Rt],E6),KE=V([Uu,Rt,Vu],k6),_V=V([Rt],LE),hse=V([Rt],e=>e.allowDataOverflow),xV=V([_V,hse],a6),mse=V([Vu],e=>e.filter(kE)),pse=V([dse,mse,Hy,g6],M6),gse=V([pse,_a,Kt,xV],V6),yse=V([Vu],P6),vse=V([Uu,Rt,yse,VE,Kt],B6,{memoizeOptions:{resultEqualityCheck:Xy}}),bse=V([$6,Kt,ku],Du),_se=V([bse,Kt],H6),xse=V([F6,Kt,ku],Du),wse=V([xse,Kt],G6),Ese=V([q6,Kt,ku],Du),Sse=V([Ese,Kt],K6),Ase=V([_se,Sse,wse],cg),Tse=V([Rt,_V,xV,gse,vse,Ase,Je,Kt],Y6),$d=V([Rt,Je,Uu,KE,Hy,Kt,Tse],W6),Cse=V([$d,Rt,GE],Q6),Nse=V([Rt,$d,Cse,Kt],Z6),wV=e=>{var t=Kt(e),n=ku(e),r=!1;return Bd(e,t,n,r)},EV=V([Rt,wV],Gy),SV=V([Rt,GE,Nse,EV],zE),Ose=V([Je,KE,Rt,Kt],rV),Ise=V([Je,KE,Rt,Kt],iV),Pse=(e,t,n,r,i,a,s,o)=>{if(t){var{type:l}=t,u=Ti(e,o);if(r){var c=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,f=l==="category"&&r.bandwidth?r.bandwidth()/c:0;return f=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?wr(i[0]-i[1])*2*f:f,u&&s?s.map((h,p)=>{var g=r.map(h);return be(g)?{coordinate:g+f,value:h,index:p,offset:f}:null}).filter(Un):r.domain().map((h,p)=>{var g=r.map(h);return be(g)?{coordinate:g+f,value:a?a[h]:h,index:p,offset:f}:null}).filter(Un)}}},Ea=V([Je,Rt,GE,SV,wV,Ose,Ise,Kt],Pse),YE=V([lV,uV,Bae],(e,t,n)=>cV(n.shared,e,t)),AV=e=>e.tooltip.settings.trigger,WE=e=>e.tooltip.settings.defaultIndex,Fd=V([Lu,YE,AV,WE],pV),Yf=V([Fd,Uu,zd,$d],HE),TV=V([Ea,Yf],fV),Rse=V([Fd],e=>{if(e)return e.dataKey});V([Fd],e=>{if(e)return e.graphicalItemId});var CV=V([Lu,YE,AV,WE],yV),jse=V([ya,va,Je,fn,Ea,WE,CV],gV),kse=V([Fd,jse],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Dse=V([Fd],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),Mse=V([CV,Yf,_a,zd,TV,vV,YE],bV),Lse=V([Mse],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function F2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function q2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?F2(Object(n),!0).forEach(function(r){Vse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vse(e,t,n){return(t=Use(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Use(e){var t=zse(e,"string");return typeof t=="symbol"?t:t+""}function zse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bse=()=>ee(Rt),$se=()=>{var e=Bse(),t=ee(Ea),n=ee(SV);return Bp(!e||!n?void 0:q2(q2({},e),{},{scale:n}),t)};function H2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function el(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?H2(Object(n),!0).forEach(function(r){Fse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fse(e,t,n){return(t=qse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qse(e){var t=Hse(e,"string");return typeof t=="symbol"?t:t+""}function Hse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gse=(e,t,n,r)=>{var i=t.find(a=>a&&a.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},Kse=(e,t,n,r)=>{var i=t.find(u=>u&&u.index===n);if(i){if(e==="centric"){var a=i.coordinate,{radius:s}=r;return el(el(el({},r),on(r.cx,r.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:l}=r;return el(el(el({},r),on(r.cx,r.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Yse(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var NV=(e,t,n,r,i)=>{var a,s=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(s<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var o=0;o<s;o++){var l,u,c,f,h,p=o>0?(l=n[o-1])===null||l===void 0?void 0:l.coordinate:(u=n[s-1])===null||u===void 0?void 0:u.coordinate,g=(c=n[o])===null||c===void 0?void 0:c.coordinate,x=o>=s-1?(f=n[0])===null||f===void 0?void 0:f.coordinate:(h=n[o+1])===null||h===void 0?void 0:h.coordinate,v=void 0;if(!(p==null||g==null||x==null))if(wr(g-p)!==wr(x-g)){var w=[];if(wr(x-g)===wr(i[1]-i[0])){v=x;var _=g+i[1]-i[0];w[0]=Math.min(_,(_+p)/2),w[1]=Math.max(_,(_+p)/2)}else{v=p;var S=x+i[1]-i[0];w[0]=Math.min(g,(S+g)/2),w[1]=Math.max(g,(S+g)/2)}var C=[Math.min(g,(v+g)/2),Math.max(g,(v+g)/2)];if(e>C[0]&&e<=C[1]||e>=w[0]&&e<=w[1]){var P;return(P=n[o])===null||P===void 0?void 0:P.index}}else{var O=Math.min(p,x),A=Math.max(p,x);if(e>(O+g)/2&&e<=(A+g)/2){var T;return(T=n[o])===null||T===void 0?void 0:T.index}}}else if(t)for(var N=0;N<s;N++){var k=t[N];if(k!=null){var j=t[N+1],R=t[N-1];if(N===0&&j!=null&&e<=(k.coordinate+j.coordinate)/2||N===s-1&&R!=null&&e>(k.coordinate+R.coordinate)/2||N>0&&N<s-1&&R!=null&&j!=null&&e>(k.coordinate+R.coordinate)/2&&e<=(k.coordinate+j.coordinate)/2)return k.index}}return-1},OV=()=>ee(CE),XE=(e,t)=>t,IV=(e,t,n)=>n,QE=(e,t,n,r)=>r,Wse=V(Ea,e=>xy(e,t=>t.coordinate)),ZE=V([Lu,XE,IV,QE],pV),JE=V([ZE,Uu,zd,$d],HE),Xse=(e,t,n)=>{if(t!=null){var r=Lu(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},PV=V([Lu,XE,IV,QE],yV),fg=V([ya,va,Je,fn,Ea,QE,PV],gV),Qse=V([ZE,fg],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),RV=V([Ea,JE],fV),Zse=V([PV,JE,_a,zd,RV,vV,XE],bV),Jse=V([ZE,JE],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),eoe=(e,t,n,r,i,a,s)=>{if(!(!e||!n||!r||!i)&&Yse(e,s)){var o=jJ(e,t),l=NV(o,a,i,n,r),u=Gse(t,i,l,e);return{activeIndex:String(l),activeCoordinate:u}}},toe=(e,t,n,r,i,a,s)=>{if(!(!e||!r||!i||!a||!n)){var o=zte(e,n);if(o){var l=kJ(o,t),u=NV(l,s,a,r,i),c=Kse(t,a,u,o);return{activeIndex:String(u),activeCoordinate:c}}}},noe=(e,t,n,r,i,a,s,o)=>{if(!(!e||!t||!r||!i||!a))return t==="horizontal"||t==="vertical"?eoe(e,t,r,i,a,s,o):toe(e,t,n,r,i,a,s)},roe=V(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElement:r.element}}),ioe=V(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(On)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:Lie}});function G2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function K2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?G2(Object(n),!0).forEach(function(r){aoe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aoe(e,t,n){return(t=soe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function soe(e){var t=ooe(e,"string");return typeof t=="symbol"?t:t+""}function ooe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var loe={},uoe={zIndexMap:Object.values(On).reduce((e,t)=>K2(K2({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),loe)},coe=new Set(Object.values(On));function foe(e){return coe.has(e)}var jV=Hn({name:"zIndex",initialState:uoe,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Qe()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!foe(n)&&delete e.zIndexMap[n])},prepare:Qe()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:Qe()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:Qe()}}}),{registerZIndexPortal:doe,unregisterZIndexPortal:hoe,registerZIndexPortalElement:moe,unregisterZIndexPortalElement:poe}=jV.actions,goe=jV.reducer;function Sa(e){var{zIndex:t,children:n}=e,r=uee(),i=r&&t!==void 0&&t!==0,a=Gn(),s=qt();b.useLayoutEffect(()=>i?(s(doe({zIndex:t})),()=>{s(hoe({zIndex:t}))}):Ou,[s,t,i]);var o=ee(l=>roe(l,t,a));return i?o?vx.createPortal(n,o):null:n}function nx(){return nx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nx.apply(null,arguments)}function Y2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Qh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Y2(Object(n),!0).forEach(function(r){yoe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yoe(e,t,n){return(t=voe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function voe(e){var t=boe(e,"string");return typeof t=="symbol"?t:t+""}function boe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _oe(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return b.isValidElement(t)?b.cloneElement(t,r):b.createElement(n,r)}function xoe(e){var t,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:s,layout:o,cursor:l,tooltipEventType:u,chartName:c}=e,f=n,h=r,p=i;if(!l||!f||c!=="ScatterChart"&&u!=="axis")return null;var g,x,v;if(c==="ScatterChart")g=f,x=Qee,v=On.cursorLine;else if(c==="BarChart")g=Zee(o,f,a,s),x=Ite,v=On.cursorRectangle;else if(o==="radial"&&V4(f)){var{cx:w,cy:_,radius:S,startAngle:C,endAngle:P}=v3(f);g={cx:w,cy:_,startAngle:C,endAngle:P,innerRadius:S,outerRadius:S},x=qte,v=On.cursorLine}else g={points:Hte(o,f,a)},x=Om,v=On.cursorLine;var O=typeof l=="object"&&"className"in l?l.className:void 0,A=Qh(Qh(Qh(Qh({stroke:"#ccc",pointerEvents:"none"},a),g),fy(l)),{},{payload:h,payloadIndex:p,className:Ye("recharts-tooltip-cursor",O)});return b.createElement(Sa,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:v},b.createElement(_oe,{cursor:l,cursorComp:x,cursorProps:A}))}function woe(e){var t=$se(),n=t3(),r=Iu(),i=OV();return t==null||n==null||r==null||i==null?null:b.createElement(xoe,nx({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var kV=b.createContext(null),Eoe=()=>b.useContext(kV),DV={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,f,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new i(c,f||l,h),g=n?n+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],p]:l._events[g].push(p):(l._events[g]=p,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)t.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},o.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,g=new Array(p);h<p;h++)g[h]=f[h].fn;return g},o.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,c,f,h,p,g){var x=n?n+u:u;if(!this._events[x])return!1;var v=this._events[x],w=arguments.length,_,S;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),w){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,c),!0;case 3:return v.fn.call(v.context,c,f),!0;case 4:return v.fn.call(v.context,c,f,h),!0;case 5:return v.fn.call(v.context,c,f,h,p),!0;case 6:return v.fn.call(v.context,c,f,h,p,g),!0}for(S=1,_=new Array(w-1);S<w;S++)_[S-1]=arguments[S];v.fn.apply(v.context,_)}else{var C=v.length,P;for(S=0;S<C;S++)switch(v[S].once&&this.removeListener(u,v[S].fn,void 0,!0),w){case 1:v[S].fn.call(v[S].context);break;case 2:v[S].fn.call(v[S].context,c);break;case 3:v[S].fn.call(v[S].context,c,f);break;case 4:v[S].fn.call(v[S].context,c,f,h);break;default:if(!_)for(P=1,_=new Array(w-1);P<w;P++)_[P-1]=arguments[P];v[S].fn.apply(v[S].context,_)}}return!0},o.prototype.on=function(u,c,f){return a(this,u,c,f,!1)},o.prototype.once=function(u,c,f){return a(this,u,c,f,!0)},o.prototype.removeListener=function(u,c,f,h){var p=n?n+u:u;if(!this._events[p])return this;if(!c)return s(this,p),this;var g=this._events[p];if(g.fn)g.fn===c&&(!h||g.once)&&(!f||g.context===f)&&s(this,p);else{for(var x=0,v=[],w=g.length;x<w;x++)(g[x].fn!==c||h&&!g[x].once||f&&g[x].context!==f)&&v.push(g[x]);v.length?this._events[p]=v.length===1?v[0]:v:s(this,p)}return this},o.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&s(this,c)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o})(DV);var Soe=DV.exports;const Aoe=Ns(Soe);var Wf=new Aoe,rx="recharts.syncEvent.tooltip",W2="recharts.syncEvent.brush",Toe=(e,t)=>{if(t&&Array.isArray(e)){var n=Number.parseInt(t,10);if(!vi(n))return e[n]}},Coe={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},MV=Hn({name:"options",initialState:Coe,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Noe=MV.reducer,{createEventEmitter:Ooe}=MV.actions;function Ioe(e){return e.tooltip.syncInteraction}var Poe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},LV=Hn({name:"chartData",initialState:Poe,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:X2,setDataStartEndIndexes:Roe,setComputedData:The}=LV.actions,joe=LV.reducer,koe=["x","y"];function Q2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Q2(Object(n),!0).forEach(function(r){Doe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Doe(e,t,n){return(t=Moe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Moe(e){var t=Loe(e,"string");return typeof t=="symbol"?t:t+""}function Loe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Voe(e,t){if(e==null)return{};var n,r,i=Uoe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Uoe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function zoe(){var e=ee(NE),t=ee(OE),n=qt(),r=ee(y6),i=ee(Ea),a=Iu(),s=Dy(),o=ee(l=>l.rootProps.className);b.useEffect(()=>{if(e==null)return Ou;var l=(u,c,f)=>{if(t!==f&&e===u){if(r==="index"){var h;if(s&&c!==null&&c!==void 0&&(h=c.payload)!==null&&h!==void 0&&h.coordinate&&c.payload.sourceViewBox){var p=c.payload.coordinate,{x:g,y:x}=p,v=Voe(p,koe),{x:w,y:_,width:S,height:C}=c.payload.sourceViewBox,P=tl(tl({},v),{},{x:s.x+(S?(g-w)/S:0)*s.width,y:s.y+(C?(x-_)/C:0)*s.height});n(tl(tl({},c),{},{payload:tl(tl({},c.payload),{},{coordinate:P})}))}else n(c);return}if(i!=null){var O;if(typeof r=="function"){var A={activeTooltipIndex:c.payload.index==null?void 0:Number(c.payload.index),isTooltipActive:c.payload.active,activeIndex:c.payload.index==null?void 0:Number(c.payload.index),activeLabel:c.payload.label,activeDataKey:c.payload.dataKey,activeCoordinate:c.payload.coordinate},T=r(i,A);O=i[T]}else r==="value"&&(O=i.find(q=>String(q.value)===c.payload.label));var{coordinate:N}=c.payload;if(O==null||c.payload.active===!1||N==null||s==null){n(ex({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:k,y:j}=N,R=Math.min(k,s.x+s.width),D=Math.min(j,s.y+s.height),Z={x:a==="horizontal"?O.coordinate:R,y:a==="horizontal"?D:O.coordinate},oe=ex({active:c.payload.active,coordinate:Z,dataKey:c.payload.dataKey,index:String(O.index),label:c.payload.label,sourceViewBox:c.payload.sourceViewBox,graphicalItemId:c.payload.graphicalItemId});n(oe)}}};return Wf.on(rx,l),()=>{Wf.off(rx,l)}},[o,n,t,e,r,i,a,s])}function Boe(){var e=ee(NE),t=ee(OE),n=qt();b.useEffect(()=>{if(e==null)return Ou;var r=(i,a,s)=>{t!==s&&e===i&&n(Roe(a))};return Wf.on(W2,r),()=>{Wf.off(W2,r)}},[n,t,e])}function $oe(){var e=qt();b.useEffect(()=>{e(Ooe())},[e]),zoe(),Boe()}function Foe(e,t,n,r,i,a){var s=ee(p=>Xse(p,e,t)),o=ee(OE),l=ee(NE),u=ee(y6),c=ee(Ioe),f=c==null?void 0:c.active,h=Dy();b.useEffect(()=>{if(!f&&l!=null&&o!=null){var p=ex({active:a,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:h,graphicalItemId:void 0});Wf.emit(rx,l,p,o)}},[f,n,s,i,r,o,l,u,a,h])}function Z2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function J2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Z2(Object(n),!0).forEach(function(r){qoe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qoe(e,t,n){return(t=Hoe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hoe(e){var t=Goe(e,"string");return typeof t=="symbol"?t:t+""}function Goe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Koe(e){return e.dataKey}function Yoe(e,t){return b.isValidElement(e)?b.cloneElement(e,t):typeof e=="function"?b.createElement(e,t):b.createElement(Iee,t)}var eI=[],Woe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Xoe(e){var t,n,r=fr(e,Woe),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:o,content:l,filterNull:u,isAnimationActive:c,offset:f,payloadUniqBy:h,position:p,reverseDirection:g,useTranslate3d:x,wrapperStyle:v,cursor:w,shared:_,trigger:S,defaultIndex:C,portal:P,axisId:O}=r,A=qt(),T=typeof C=="number"?String(C):C;b.useEffect(()=>{A(Gae({shared:_,trigger:S,axisId:O,active:i,defaultIndex:T}))},[A,_,S,O,i,T]);var N=Dy(),k=d3(),j=zae(_),{activeIndex:R,isActive:D}=(t=ee(kt=>Jse(kt,j,S,T)))!==null&&t!==void 0?t:{},Z=ee(kt=>Zse(kt,j,S,T)),oe=ee(kt=>RV(kt,j,S,T)),q=ee(kt=>Qse(kt,j,S,T)),K=Z,W=Eoe(),te=(n=i??D)!==null&&n!==void 0?n:!1,[le,We]=_Z([K,te]),ut=j==="axis"?oe:void 0;Foe(j,S,q,ut,R,te);var jt=P??W;if(jt==null||N==null||j==null)return null;var je=K??eI;te||(je=eI),u&&je.length&&(je=VQ(je.filter(kt=>kt.value!=null&&(kt.hide!==!0||r.includeHidden)),h,Koe));var dn=je.length>0,Ci=b.createElement(Lee,{allowEscapeViewBox:a,animationDuration:s,animationEasing:o,isAnimationActive:c,active:te,coordinate:q,hasPayload:dn,offset:f,position:p,reverseDirection:g,useTranslate3d:x,viewBox:N,wrapperStyle:v,lastBoundingBox:le,innerRef:We,hasPortalFromProps:!!P},Yoe(l,J2(J2({},r),{},{payload:je,label:ut,active:te,activeIndex:R,coordinate:q,accessibilityLayer:k})));return b.createElement(b.Fragment,null,vx.createPortal(Ci,jt),te&&b.createElement(woe,{cursor:w,tooltipEventType:j,coordinate:q,payload:je,index:R}))}function Qoe(e,t,n){return(t=Zoe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zoe(e){var t=Joe(e,"string");return typeof t=="symbol"?t:t+""}function Joe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class ele{constructor(t){Qoe(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function tI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tle(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tI(Object(n),!0).forEach(function(r){nle(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nle(e,t,n){return(t=rle(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rle(e){var t=ile(e,"string");return typeof t=="symbol"?t:t+""}function ile(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ale={cacheSize:2e3,enableCache:!0},VV=tle({},ale),nI=new ele(VV.cacheSize),sle={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},rI="recharts_measurement_span";function ole(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",s=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(o)}var iI=(e,t)=>{try{var n=document.getElementById(rI);n||(n=document.createElement("span"),n.setAttribute("id",rI),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,sle,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},nf=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||jd.isSsr)return{width:0,height:0};if(!VV.enableCache)return iI(t,n);var r=ole(t,n),i=nI.get(r);if(i)return i;var a=iI(t,n);return nI.set(r,a),a},UV;function lle(e,t,n){return(t=ule(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ule(e){var t=cle(e,"string");return typeof t=="symbol"?t:t+""}function cle(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,sI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,fle=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,dle=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,hle={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},mle=["cm","mm","pt","pc","in","Q","px"];function ple(e){return mle.includes(e)}var Sl="NaN";function gle(e,t){return e*hle[t]}class Jt{static parse(t){var n,[,r,i]=(n=dle.exec(t))!==null&&n!==void 0?n:[];return r==null?Jt.NaN:new Jt(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,vi(t)&&(this.unit=""),n!==""&&!fle.test(n)&&(this.num=NaN,this.unit=""),ple(n)&&(this.num=gle(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new Jt(NaN,""):new Jt(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Jt(NaN,""):new Jt(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Jt(NaN,""):new Jt(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Jt(NaN,""):new Jt(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return vi(this.num)}}UV=Jt;lle(Jt,"NaN",new UV(NaN,""));function zV(e){if(e==null||e.includes(Sl))return Sl;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=(n=aI.exec(t))!==null&&n!==void 0?n:[],s=Jt.parse(r??""),o=Jt.parse(a??""),l=i==="*"?s.multiply(o):s.divide(o);if(l.isNaN())return Sl;t=t.replace(aI,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,c,f,h]=(u=sI.exec(t))!==null&&u!==void 0?u:[],p=Jt.parse(c??""),g=Jt.parse(h??""),x=f==="+"?p.add(g):p.subtract(g);if(x.isNaN())return Sl;t=t.replace(sI,x.toString())}return t}var oI=/\(([^()]*)\)/;function yle(e){for(var t=e,n;(n=oI.exec(t))!=null;){var[,r]=n;t=t.replace(oI,zV(r))}return t}function vle(e){var t=e.replace(/\s+/g,"");return t=yle(t),t=zV(t),t}function ble(e){try{return vle(e)}catch{return Sl}}function z0(e){var t=ble(e.slice(5,-1));return t===Sl?"":t}var _le=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],xle=["dx","dy","angle","className","breakAll"];function ix(){return ix=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ix.apply(null,arguments)}function lI(e,t){if(e==null)return{};var n,r,i=wle(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function wle(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var BV=/[ \f\n\r\t\v\u2028\u2029]+/,$V=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];_n(t)||(n?i=t.toString().split(""):i=t.toString().split(BV));var a=i.map(o=>({word:o,width:nf(o,r).width})),s=n?0:nf("",r).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function Ele(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var FV=(e,t,n,r)=>e.reduce((i,a)=>{var{word:s,width:o}=a,l=i[i.length-1];if(l&&o!=null&&(t==null||r||l.width+o+n<Number(t)))l.words.push(s),l.width+=o+n;else{var u={words:[s],width:o};i.push(u)}return i},[]),qV=e=>e.reduce((t,n)=>t.width>n.width?t:n),Sle="",uI=(e,t,n,r,i,a,s,o)=>{var l=e.slice(0,t),u=$V({breakAll:n,style:r,children:l+Sle});if(!u)return[!1,[]];var c=FV(u.wordsWithComputedWidth,a,s,o),f=c.length>i||qV(c).width>Number(a);return[f,c]},Ale=(e,t,n,r,i)=>{var{maxLines:a,children:s,style:o,breakAll:l}=e,u=Q(a),c=String(s),f=FV(t,r,n,i);if(!u||i)return f;var h=f.length>a||qV(f).width>Number(r);if(!h)return f;for(var p=0,g=c.length-1,x=0,v;p<=g&&x<=c.length-1;){var w=Math.floor((p+g)/2),_=w-1,[S,C]=uI(c,_,l,o,a,r,n,i),[P]=uI(c,w,l,o,a,r,n,i);if(!S&&!P&&(p=w+1),S&&P&&(g=w-1),!S&&P){v=C;break}x++}return v||f},cI=e=>{var t=_n(e)?[]:e.toString().split(BV);return[{words:t,width:void 0}]},Tle=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:s}=e;if((t||n)&&!jd.isSsr){var o,l,u=$V({breakAll:a,children:r,style:i});if(u){var{wordsWithComputedWidth:c,spaceWidth:f}=u;o=c,l=f}else return cI(r);return Ale({breakAll:a,children:r,maxLines:s,style:i},o,l,t,!!n)}return cI(r)},HV="#808080",Cle={angle:0,breakAll:!1,capHeight:"0.71em",fill:HV,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},eS=b.forwardRef((e,t)=>{var n=fr(e,Cle),{x:r,y:i,lineHeight:a,capHeight:s,fill:o,scaleToFit:l,textAnchor:u,verticalAnchor:c}=n,f=lI(n,_le),h=b.useMemo(()=>Tle({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:l,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,l,f.style,f.width]),{dx:p,dy:g,angle:x,className:v,breakAll:w}=f,_=lI(f,xle);if(!bi(r)||!bi(i)||h.length===0)return null;var S=Number(r)+(Q(p)?p:0),C=Number(i)+(Q(g)?g:0);if(!be(S)||!be(C))return null;var P;switch(c){case"start":P=z0("calc(".concat(s,")"));break;case"middle":P=z0("calc(".concat((h.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:P=z0("calc(".concat(h.length-1," * -").concat(a,")"));break}var O=[],A=h[0];if(l&&A!=null){var T=A.width,{width:N}=f;O.push("scale(".concat(Q(N)&&Q(T)?N/T:1,")"))}return x&&O.push("rotate(".concat(x,", ").concat(S,", ").concat(C,")")),O.length&&(_.transform=O.join(" ")),b.createElement("text",ix({},Nr(_),{ref:t,x:S,y:C,className:Ye("recharts-text",v),textAnchor:u,fill:o.includes("url")?HV:o}),h.map((k,j)=>{var R=k.words.join(w?"":" ");return b.createElement("tspan",{x:S,dy:j===0?P:a,key:"".concat(R,"-").concat(j)},R)}))});eS.displayName="Text";function fI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fI(Object(n),!0).forEach(function(r){Nle(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nle(e,t,n){return(t=Ole(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ole(e){var t=Ile(e,"string");return typeof t=="symbol"?t:t+""}function Ile(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ple=e=>{var{viewBox:t,position:n,offset:r=0,parentViewBox:i}=e,{x:a,y:s,height:o,upperWidth:l,lowerWidth:u}=Z1(t),c=a,f=a+(l-u)/2,h=(c+f)/2,p=(l+u)/2,g=c+l/2,x=o>=0?1:-1,v=x*r,w=x>0?"end":"start",_=x>0?"start":"end",S=l>=0?1:-1,C=S*r,P=S>0?"end":"start",O=S>0?"start":"end",A=i;if(n==="top"){var T={x:c+l/2,y:s-v,horizontalAnchor:"middle",verticalAnchor:w};return A&&(T.height=Math.max(s-A.y,0),T.width=l),T}if(n==="bottom"){var N={x:f+u/2,y:s+o+v,horizontalAnchor:"middle",verticalAnchor:_};return A&&(N.height=Math.max(A.y+A.height-(s+o),0),N.width=u),N}if(n==="left"){var k={x:h-C,y:s+o/2,horizontalAnchor:P,verticalAnchor:"middle"};return A&&(k.width=Math.max(k.x-A.x,0),k.height=o),k}if(n==="right"){var j={x:h+p+C,y:s+o/2,horizontalAnchor:O,verticalAnchor:"middle"};return A&&(j.width=Math.max(A.x+A.width-j.x,0),j.height=o),j}var R=A?{width:p,height:o}:{};return n==="insideLeft"?Zr({x:h+C,y:s+o/2,horizontalAnchor:O,verticalAnchor:"middle"},R):n==="insideRight"?Zr({x:h+p-C,y:s+o/2,horizontalAnchor:P,verticalAnchor:"middle"},R):n==="insideTop"?Zr({x:c+l/2,y:s+v,horizontalAnchor:"middle",verticalAnchor:_},R):n==="insideBottom"?Zr({x:f+u/2,y:s+o-v,horizontalAnchor:"middle",verticalAnchor:w},R):n==="insideTopLeft"?Zr({x:c+C,y:s+v,horizontalAnchor:O,verticalAnchor:_},R):n==="insideTopRight"?Zr({x:c+l-C,y:s+v,horizontalAnchor:P,verticalAnchor:_},R):n==="insideBottomLeft"?Zr({x:f+C,y:s+o-v,horizontalAnchor:O,verticalAnchor:w},R):n==="insideBottomRight"?Zr({x:f+u-C,y:s+o-v,horizontalAnchor:P,verticalAnchor:w},R):n&&typeof n=="object"&&(Q(n.x)||Io(n.x))&&(Q(n.y)||Io(n.y))?Zr({x:a+Cs(n.x,p),y:s+Cs(n.y,o),horizontalAnchor:"end",verticalAnchor:"end"},R):Zr({x:g,y:s+o/2,horizontalAnchor:"middle",verticalAnchor:"middle"},R)},Rle=["labelRef"],jle=["content"];function dI(e,t){if(e==null)return{};var n,r,i=kle(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function kle(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function hI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hI(Object(n),!0).forEach(function(r){Dle(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Dle(e,t,n){return(t=Mle(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mle(e){var t=Lle(e,"string");return typeof t=="symbol"?t:t+""}function Lle(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mi(){return Mi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mi.apply(null,arguments)}var GV=b.createContext(null),Vle=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:s,children:o}=e,l=b.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:s}),[t,n,r,i,a,s]);return b.createElement(GV.Provider,{value:l},o)},KV=()=>{var e=b.useContext(GV),t=Dy();return e||(t?Z1(t):void 0)},Ule=b.createContext(null),zle=()=>{var e=b.useContext(Ule),t=ee(w6);return e||t},Ble=e=>{var{value:t,formatter:n}=e,r=_n(e.children)?t:e.children;return typeof n=="function"?n(r):r},tS=e=>e!=null&&typeof e=="function",$le=(e,t)=>{var n=wr(t-e),r=Math.min(Math.abs(t-e),360);return n*r},Fle=(e,t,n,r,i)=>{var{offset:a,className:s}=e,{cx:o,cy:l,innerRadius:u,outerRadius:c,startAngle:f,endAngle:h,clockWise:p}=i,g=(u+c)/2,x=$le(f,h),v=x>=0?1:-1,w,_;switch(t){case"insideStart":w=f+v*a,_=p;break;case"insideEnd":w=h-v*a,_=!p;break;case"end":w=h+v*a,_=p;break;default:throw new Error("Unsupported position ".concat(t))}_=x<=0?_:!_;var S=on(o,l,g,w),C=on(o,l,g,w+(_?1:-1)*359),P="M".concat(S.x,",").concat(S.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(_?0:1,`,
    `).concat(C.x,",").concat(C.y),O=_n(e.id)?Df("recharts-radial-line-"):e.id;return b.createElement("text",Mi({},r,{dominantBaseline:"central",className:Ye("recharts-radial-bar-label",s)}),b.createElement("defs",null,b.createElement("path",{id:O,d:P})),b.createElement("textPath",{xlinkHref:"#".concat(O)},n))},qle=(e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:o,endAngle:l}=e,u=(o+l)/2;if(n==="outside"){var{x:c,y:f}=on(r,i,s+t,u);return{x:c,y:f,textAnchor:c>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(a+s)/2,{x:p,y:g}=on(r,i,h,u);return{x:p,y:g,textAnchor:"middle",verticalAnchor:"middle"}},Pm=e=>e!=null&&"cx"in e&&Q(e.cx),Hle={angle:0,offset:5,zIndex:On.label,position:"middle",textBreakAll:!1};function Gle(e){if(!Pm(e))return e;var{cx:t,cy:n,outerRadius:r}=e,i=r*2;return{x:t-r,y:n-r,width:i,upperWidth:i,lowerWidth:i,height:i}}function Ma(e){var t=fr(e,Hle),{viewBox:n,parentViewBox:r,position:i,value:a,children:s,content:o,className:l="",textBreakAll:u,labelRef:c}=t,f=zle(),h=KV(),p=i==="center"?h:f??h,g,x,v;n==null?g=p:Pm(n)?g=n:g=Z1(n);var w=Gle(g);if(!g||_n(a)&&_n(s)&&!b.isValidElement(o)&&typeof o!="function")return null;var _=kc(kc({},t),{},{viewBox:g});if(b.isValidElement(o)){var{labelRef:S}=_,C=dI(_,Rle);return b.cloneElement(o,C)}if(typeof o=="function"){var{content:P}=_,O=dI(_,jle);if(x=b.createElement(o,O),b.isValidElement(x))return x}else x=Ble(t);var A=Nr(t);if(Pm(g)){if(i==="insideStart"||i==="insideEnd"||i==="end")return Fle(t,i,x,A,g);v=qle(g,t.offset,t.position)}else{if(!w)return null;var T=Ple({viewBox:w,position:i,offset:t.offset,parentViewBox:Pm(r)?void 0:r});v=kc(kc({x:T.x,y:T.y,textAnchor:T.horizontalAnchor,verticalAnchor:T.verticalAnchor},T.width!==void 0?{width:T.width}:{}),T.height!==void 0?{height:T.height}:{})}return b.createElement(Sa,{zIndex:t.zIndex},b.createElement(eS,Mi({ref:c,className:Ye("recharts-label",l)},A,v,{textAnchor:Ele(A.textAnchor)?A.textAnchor:v.textAnchor,breakAll:u}),x))}Ma.displayName="Label";var Kle=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?b.createElement(Ma,Mi({key:"label-implicit"},r)):bi(e)?b.createElement(Ma,Mi({key:"label-implicit",value:e},r)):b.isValidElement(e)?e.type===Ma?b.cloneElement(e,kc({key:"label-implicit"},r)):b.createElement(Ma,Mi({key:"label-implicit",content:e},r)):tS(e)?b.createElement(Ma,Mi({key:"label-implicit",content:e},r)):e&&typeof e=="object"?b.createElement(Ma,Mi({},e,{key:"label-implicit"},r)):null};function Yle(e){var{label:t,labelRef:n}=e,r=KV();return Kle(t,r,n)||null}var YV={},WV={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(WV);var XV={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(XV);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WV,n=XV,r=vy;function i(a){if(r.isArrayLike(a))return t.last(n.toArray(a))}e.last=i})(YV);var Wle=YV.last;const Xle=Ns(Wle);var Qle=["valueAccessor"],Zle=["dataKey","clockWise","id","textBreakAll","zIndex"];function dg(){return dg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dg.apply(null,arguments)}function mI(e,t){if(e==null)return{};var n,r,i=Jle(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Jle(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var eue=e=>Array.isArray(e.value)?Xle(e.value):e.value,QV=b.createContext(void 0),tue=QV.Provider,ZV=b.createContext(void 0);ZV.Provider;function nue(){return b.useContext(QV)}function rue(){return b.useContext(ZV)}function Rm(e){var{valueAccessor:t=eue}=e,n=mI(e,Qle),{dataKey:r,clockWise:i,id:a,textBreakAll:s,zIndex:o}=n,l=mI(n,Zle),u=nue(),c=rue(),f=u||c;return!f||!f.length?null:b.createElement(Sa,{zIndex:o??On.label},b.createElement(yi,{className:"recharts-label-list"},f.map((h,p)=>{var g,x=_n(r)?t(h,p):un(h.payload,r),v=_n(a)?{}:{id:"".concat(a,"-").concat(p)};return b.createElement(Ma,dg({key:"label-".concat(p)},Nr(h),l,v,{fill:(g=n.fill)!==null&&g!==void 0?g:h.fill,parentViewBox:h.parentViewBox,value:x,textBreakAll:s,viewBox:h.viewBox,index:p,zIndex:0}))})))}Rm.displayName="LabelList";function iue(e){var{label:t}=e;return t?t===!0?b.createElement(Rm,{key:"labelList-implicit"}):b.isValidElement(t)||tS(t)?b.createElement(Rm,{key:"labelList-implicit",content:t}):typeof t=="object"?b.createElement(Rm,dg({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function ax(){return ax=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ax.apply(null,arguments)}var JV=e=>{var{cx:t,cy:n,r,className:i}=e,a=Ye("recharts-dot",i);return Q(t)&&Q(n)&&Q(r)?b.createElement("circle",ax({},qr(e),j1(e),{className:a,cx:t,cy:n,r})):null},aue={radiusAxis:{},angleAxis:{}},e5=Hn({name:"polarAxis",initialState:aue,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Che,removeRadiusAxis:Nhe,addAngleAxis:Ohe,removeAngleAxis:Ihe}=e5.actions,sue=e5.reducer;function oue(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var Ue={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nv=60103,rv=60106,qd=60107,Hd=60108,Gd=60114,Kd=60109,Yd=60110,Wd=60112,Xd=60113,nS=60120,Qd=60115,Zd=60116,t5=60121,n5=60122,r5=60117,i5=60129,a5=60131;if(typeof Symbol=="function"&&Symbol.for){var Wt=Symbol.for;nv=Wt("react.element"),rv=Wt("react.portal"),qd=Wt("react.fragment"),Hd=Wt("react.strict_mode"),Gd=Wt("react.profiler"),Kd=Wt("react.provider"),Yd=Wt("react.context"),Wd=Wt("react.forward_ref"),Xd=Wt("react.suspense"),nS=Wt("react.suspense_list"),Qd=Wt("react.memo"),Zd=Wt("react.lazy"),t5=Wt("react.block"),n5=Wt("react.server.block"),r5=Wt("react.fundamental"),i5=Wt("react.debug_trace_mode"),a5=Wt("react.legacy_hidden")}function Kr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case nv:switch(e=e.type,e){case qd:case Gd:case Hd:case Xd:case nS:return e;default:switch(e=e&&e.$$typeof,e){case Yd:case Wd:case Zd:case Qd:case Kd:return e;default:return t}}case rv:return t}}}var lue=Kd,uue=nv,cue=Wd,fue=qd,due=Zd,hue=Qd,mue=rv,pue=Gd,gue=Hd,yue=Xd;Ue.ContextConsumer=Yd;Ue.ContextProvider=lue;Ue.Element=uue;Ue.ForwardRef=cue;Ue.Fragment=fue;Ue.Lazy=due;Ue.Memo=hue;Ue.Portal=mue;Ue.Profiler=pue;Ue.StrictMode=gue;Ue.Suspense=yue;Ue.isAsyncMode=function(){return!1};Ue.isConcurrentMode=function(){return!1};Ue.isContextConsumer=function(e){return Kr(e)===Yd};Ue.isContextProvider=function(e){return Kr(e)===Kd};Ue.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===nv};Ue.isForwardRef=function(e){return Kr(e)===Wd};Ue.isFragment=function(e){return Kr(e)===qd};Ue.isLazy=function(e){return Kr(e)===Zd};Ue.isMemo=function(e){return Kr(e)===Qd};Ue.isPortal=function(e){return Kr(e)===rv};Ue.isProfiler=function(e){return Kr(e)===Gd};Ue.isStrictMode=function(e){return Kr(e)===Hd};Ue.isSuspense=function(e){return Kr(e)===Xd};Ue.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===qd||e===Gd||e===i5||e===Hd||e===Xd||e===nS||e===a5||typeof e=="object"&&e!==null&&(e.$$typeof===Zd||e.$$typeof===Qd||e.$$typeof===Kd||e.$$typeof===Yd||e.$$typeof===Wd||e.$$typeof===r5||e.$$typeof===t5||e[0]===n5)};Ue.typeOf=Kr;var s5=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0;function vue(e){var{tooltipEntrySettings:t}=e,n=qt(),r=Gn(),i=b.useRef(null);return b.useLayoutEffect(()=>{r||(i.current===null?n(Fae(t)):i.current!==t&&n(qae({prev:i.current,next:t})),i.current=t)},[t,n,r]),b.useLayoutEffect(()=>()=>{i.current&&(n(Hae(i.current)),i.current=null)},[n]),null}function bue(e){var{legendPayload:t}=e,n=qt(),r=Gn(),i=b.useRef(null);return b.useLayoutEffect(()=>{r||(i.current===null?n(wee(t)):i.current!==t&&n(Eee({prev:i.current,next:t})),i.current=t)},[n,r,t]),b.useLayoutEffect(()=>()=>{i.current&&(n(See(i.current)),i.current=null)},[n]),null}var B0,_ue=()=>{var[e]=b.useState(()=>Df("uid-"));return e},xue=(B0=RU.useId)!==null&&B0!==void 0?B0:_ue;function wue(e,t){var n=xue();return t||(e?"".concat(e,"-").concat(n):n)}var Eue=b.createContext(void 0),Sue=e=>{var{id:t,type:n,children:r}=e,i=wue("recharts-".concat(n),t);return b.createElement(Eue.Provider,{value:i},r(i))},Aue={cartesianItems:[],polarItems:[]},o5=Hn({name:"graphicalItems",initialState:Aue,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Qe()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Br(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:Qe()},removeCartesianGraphicalItem:{reducer(e,t){var n=Br(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:Qe()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Qe()},removePolarGraphicalItem:{reducer(e,t){var n=Br(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:Qe()}}}),{addCartesianGraphicalItem:Tue,replaceCartesianGraphicalItem:Cue,removeCartesianGraphicalItem:Nue,addPolarGraphicalItem:Phe,removePolarGraphicalItem:Rhe}=o5.actions,Oue=o5.reducer,Iue=e=>{var t=qt(),n=b.useRef(null);return b.useLayoutEffect(()=>{n.current===null?t(Tue(e)):n.current!==e&&t(Cue({prev:n.current,next:e})),n.current=e},[t,e]),b.useLayoutEffect(()=>()=>{n.current&&(t(Nue(n.current)),n.current=null)},[t]),null},Pue=b.memo(Iue),Rue=["points"];function pI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pI(Object(n),!0).forEach(function(r){jue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jue(e,t,n){return(t=kue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kue(e){var t=Due(e,"string");return typeof t=="symbol"?t:t+""}function Due(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hg(){return hg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hg.apply(null,arguments)}function Mue(e,t){if(e==null)return{};var n,r,i=Lue(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Lue(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Vue(e){var{option:t,dotProps:n,className:r}=e;if(b.isValidElement(t))return b.cloneElement(t,n);if(typeof t=="function")return t(n);var i=Ye(r,typeof t!="boolean"?t.className:""),a=n??{},{points:s}=a,o=Mue(a,Rue);return b.createElement(JV,hg({},o,{className:i}))}function Uue(e,t){return e==null?!1:t?!0:e.length===1}function zue(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:s,needClip:o,clipPathId:l,zIndex:u=On.scatter}=e;if(!Uue(t,n))return null;var c=s5(n),f=JX(n),h=t.map((g,x)=>{var v,w,_=$0($0($0({r:3},s),f),{},{index:x,cx:(v=g.x)!==null&&v!==void 0?v:void 0,cy:(w=g.y)!==null&&w!==void 0?w:void 0,dataKey:a,value:g.value,payload:g.payload,points:t});return b.createElement(Vue,{key:"dot-".concat(x),option:n,dotProps:_,className:i})}),p={};return o&&l!=null&&(p.clipPath="url(#clipPath-".concat(c?"":"dots-").concat(l,")")),b.createElement(Sa,{zIndex:u},b.createElement(yi,hg({className:r},p),h))}function gI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gI(Object(n),!0).forEach(function(r){Bue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bue(e,t,n){return(t=$ue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $ue(e){var t=Fue(e,"string");return typeof t=="symbol"?t:t+""}function Fue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var l5=0,que={xAxis:{},yAxis:{},zAxis:{}},u5=Hn({name:"cartesianAxis",initialState:que,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Qe()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:Qe()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Qe()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Qe()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:Qe()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Qe()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Qe()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:Qe()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Qe()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var a,s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==i.width&&Math.abs(r-((a=s[0])!==null&&a!==void 0?a:0))<=1)return;var o=[...s,r].slice(-3);e.yAxis[n]=yI(yI({},i),{},{width:r,widthHistory:o})}}}}),{addXAxis:Hue,replaceXAxis:Gue,removeXAxis:Kue,addYAxis:Yue,replaceYAxis:Wue,removeYAxis:Xue,addZAxis:jhe,replaceZAxis:khe,removeZAxis:Dhe,updateYAxisWidth:Que}=u5.actions,Zue=u5.reducer,Jue=V([fn],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),ece=V([Jue,ya,va],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),rS=()=>ee(ece),tce=()=>ee(Lse);function vI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function F0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vI(Object(n),!0).forEach(function(r){nce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nce(e,t,n){return(t=rce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rce(e){var t=ice(e,"string");return typeof t=="symbol"?t:t+""}function ice(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ace=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:s}=e;if(i===!1||t.x==null||t.y==null)return null;var o={index:n,dataKey:a,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},l=F0(F0(F0({},o),fy(i)),j1(i)),u;return b.isValidElement(i)?u=b.cloneElement(i,l):typeof i=="function"?u=i(l):u=b.createElement(JV,l),b.createElement(yi,{className:"recharts-active-dot",clipPath:s},u)};function bI(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:s=On.activeDot}=e,o=ee(Yf),l=tce();if(t==null||l==null)return null;var u=t.find(c=>l.includes(c.payload));return _n(u)?null:b.createElement(Sa,{zIndex:s},b.createElement(ace,{point:u,childIndex:Number(o),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var sce=e=>{var{chartData:t}=e,n=qt(),r=Gn();return b.useEffect(()=>r?()=>{}:(n(X2(t)),()=>{n(X2(void 0))}),[t,n,r]),null},_I={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},c5=Hn({name:"brush",initialState:_I,reducers:{setBrushSettings(e,t){return t.payload==null?_I:t.payload}}}),{setBrushSettings:Mhe}=c5.actions,oce=c5.reducer;function lce(e){return(e%180+180)%180}var uce=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=lce(i),s=a*Math.PI/180,o=Math.atan(r/n),l=s>o&&s<Math.PI-o?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},cce={dots:[],areas:[],lines:[]},f5=Hn({name:"referenceElements",initialState:cce,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Br(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Br(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Br(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:Lhe,removeDot:Vhe,addArea:Uhe,removeArea:zhe,addLine:Bhe,removeLine:$he}=f5.actions,fce=f5.reducer,dce=b.createContext(void 0),hce=e=>{var{children:t}=e,[n]=b.useState("".concat(Df("recharts"),"-clip")),r=rS();if(r==null)return null;var{x:i,y:a,width:s,height:o}=r;return b.createElement(dce.Provider,{value:n},b.createElement("defs",null,b.createElement("clipPath",{id:n},b.createElement("rect",{x:i,y:a,height:o,width:s}))),t)};function d5(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t){var i=e[r];i!==void 0&&n.push(i)}return n}function mce(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return uce(r,n)}function pce(e,t,n){var r=n==="width",{x:i,y:a,width:s,height:o}=e;return t===1?{start:r?i:a,end:r?i+s:a+o}:{start:r?i+s:a+o,end:r?i:a}}function Xf(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function gce(e,t){return d5(e,t+1)}function yce(e,t,n,r,i){for(var a=(r||[]).slice(),{start:s,end:o}=t,l=0,u=1,c=s,f=function(){var g=r==null?void 0:r[l];if(g===void 0)return{v:d5(r,u)};var x=l,v,w=()=>(v===void 0&&(v=n(g,x)),v),_=g.coordinate,S=l===0||Xf(e,_,w,c,o);S||(l=0,c=s,u+=1),S&&(c=_+e*(w()/2+i),l+=u)},h;u<=a.length;)if(h=f(),h)return h.v;return[]}function vce(e,t,n,r,i){var a=(r||[]).slice(),s=a.length;if(s===0)return[];for(var{start:o,end:l}=t,u=1;u<=s;u++){for(var c=(s-1)%u,f=o,h=!0,p=function(){var C=r[x];if(C==null)return 0;var P=x,O,A=()=>(O===void 0&&(O=n(C,P)),O),T=C.coordinate,N=x===c||Xf(e,T,A,f,l);if(!N)return h=!1,1;N&&(f=T+e*(A()/2+i))},g,x=c;x<s&&(g=p(),!(g!==0&&g===1));x+=u);if(h){for(var v=[],w=c;w<s;w+=u){var _=r[w];_!=null&&v.push(_)}return v}}return[]}function xI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xI(Object(n),!0).forEach(function(r){bce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bce(e,t,n){return(t=_ce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _ce(e){var t=xce(e,"string");return typeof t=="symbol"?t:t+""}function xce(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wce(e,t,n,r,i){for(var a=(r||[]).slice(),s=a.length,{start:o}=t,{end:l}=t,u=function(h){var p=a[h];if(p==null)return 1;var g=p,x,v=()=>(x===void 0&&(x=n(p,h)),x);if(h===s-1){var w=e*(g.coordinate+e*v()/2-l);a[h]=g=pn(pn({},g),{},{tickCoord:w>0?g.coordinate-w*e:g.coordinate})}else a[h]=g=pn(pn({},g),{},{tickCoord:g.coordinate});if(g.tickCoord!=null){var _=Xf(e,g.tickCoord,v,o,l);_&&(l=g.tickCoord-e*(v()/2+i),a[h]=pn(pn({},g),{},{isShow:!0}))}},c=s-1;c>=0;c--)u(c);return a}function Ece(e,t,n,r,i,a){var s=(r||[]).slice(),o=s.length,{start:l,end:u}=t;if(a){var c=r[o-1];if(c!=null){var f=n(c,o-1),h=e*(c.coordinate+e*f/2-u);if(s[o-1]=c=pn(pn({},c),{},{tickCoord:h>0?c.coordinate-h*e:c.coordinate}),c.tickCoord!=null){var p=Xf(e,c.tickCoord,()=>f,l,u);p&&(u=c.tickCoord-e*(f/2+i),s[o-1]=pn(pn({},c),{},{isShow:!0}))}}}for(var g=a?o-1:o,x=function(_){var S=s[_];if(S==null)return 1;var C=S,P,O=()=>(P===void 0&&(P=n(S,_)),P);if(_===0){var A=e*(C.coordinate-e*O()/2-l);s[_]=C=pn(pn({},C),{},{tickCoord:A<0?C.coordinate-A*e:C.coordinate})}else s[_]=C=pn(pn({},C),{},{tickCoord:C.coordinate});if(C.tickCoord!=null){var T=Xf(e,C.tickCoord,O,l,u);T&&(l=C.tickCoord+e*(O()/2+i),s[_]=pn(pn({},C),{},{isShow:!0}))}},v=0;v<g;v++)x(v);return s}function iS(e,t,n){var{tick:r,ticks:i,viewBox:a,minTickGap:s,orientation:o,interval:l,tickFormatter:u,unit:c,angle:f}=e;if(!i||!i.length||!r)return[];if(Q(l)||jd.isSsr){var h;return(h=gce(i,Q(l)?l:0))!==null&&h!==void 0?h:[]}var p=[],g=o==="top"||o==="bottom"?"width":"height",x=c&&g==="width"?nf(c,{fontSize:t,letterSpacing:n}):{width:0,height:0},v=(P,O)=>{var A=typeof u=="function"?u(P.value,O):P.value;return g==="width"?mce(nf(A,{fontSize:t,letterSpacing:n}),x,f):nf(A,{fontSize:t,letterSpacing:n})[g]},w=i[0],_=i[1],S=i.length>=2&&w!=null&&_!=null?wr(_.coordinate-w.coordinate):1,C=pce(a,S,g);return l==="equidistantPreserveStart"?yce(S,C,v,i,s):l==="equidistantPreserveEnd"?vce(S,C,v,i,s):(l==="preserveStart"||l==="preserveStartEnd"?p=Ece(S,C,v,i,s,l==="preserveStartEnd"):p=wce(S,C,v,i,s),p.filter(P=>P.isShow))}var Sce=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,s=0;if(t){Array.from(t).forEach(c=>{if(c){var f=c.getBoundingClientRect();f.width>s&&(s=f.width)}});var o=n?n.getBoundingClientRect().width:0,l=i+a,u=s+l+o+(n?r:0);return Math.round(u)}return 0},Ace=["axisLine","width","height","className","hide","ticks","axisType"];function Tce(e,t){if(e==null)return{};var n,r,i=Cce(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Cce(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Do(){return Do=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Do.apply(null,arguments)}function wI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function at(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wI(Object(n),!0).forEach(function(r){Nce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nce(e,t,n){return(t=Oce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oce(e){var t=Ice(e,"string");return typeof t=="symbol"?t:t+""}function Ice(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xi={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:On.axis};function Pce(e){var{x:t,y:n,width:r,height:i,orientation:a,mirror:s,axisLine:o,otherSvgProps:l}=e;if(!o)return null;var u=at(at(at({},l),qr(o)),{},{fill:"none"});if(a==="top"||a==="bottom"){var c=+(a==="top"&&!s||a==="bottom"&&s);u=at(at({},u),{},{x1:t,y1:n+c*i,x2:t+r,y2:n+c*i})}else{var f=+(a==="left"&&!s||a==="right"&&s);u=at(at({},u),{},{x1:t+f*r,y1:n,x2:t+f*r,y2:n+i})}return b.createElement("line",Do({},u,{className:Ye("recharts-cartesian-axis-line",yy(o,"className"))}))}function Rce(e,t,n,r,i,a,s,o,l){var u,c,f,h,p,g,x=o?-1:1,v=e.tickSize||s,w=Q(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":u=c=e.coordinate,h=n+ +!o*i,f=h-x*v,g=f-x*l,p=w;break;case"left":f=h=e.coordinate,c=t+ +!o*r,u=c-x*v,p=u-x*l,g=w;break;case"right":f=h=e.coordinate,c=t+ +o*r,u=c+x*v,p=u+x*l,g=w;break;default:u=c=e.coordinate,h=n+ +o*i,f=h+x*v,g=f+x*l,p=w;break}return{line:{x1:u,y1:f,x2:c,y2:h},tick:{x:p,y:g}}}function jce(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function kce(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Dce(e){var{option:t,tickProps:n,value:r}=e,i,a=Ye(n.className,"recharts-cartesian-axis-tick-value");if(b.isValidElement(t))i=b.cloneElement(t,at(at({},n),{},{className:a}));else if(typeof t=="function")i=t(at(at({},n),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=Ye(s,oue(t))),i=b.createElement(eS,Do({},n,{className:s}),r)}return i}var Mce=b.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:s,unit:o,padding:l,tickTextProps:u,orientation:c,mirror:f,x:h,y:p,width:g,height:x,tickSize:v,tickMargin:w,fontSize:_,letterSpacing:S,getTicksConfig:C,events:P,axisType:O}=e,A=iS(at(at({},C),{},{ticks:n}),_,S),T=jce(c,f),N=kce(c,f),k=qr(C),j=fy(r),R={};typeof i=="object"&&(R=i);var D=at(at({},k),{},{fill:"none"},R),Z=A.map(K=>at({entry:K},Rce(K,h,p,g,x,c,v,f,w))),oe=Z.map(K=>{var{entry:W,line:te}=K;return b.createElement(yi,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(W.value,"-").concat(W.coordinate,"-").concat(W.tickCoord)},i&&b.createElement("line",Do({},D,te,{className:Ye("recharts-cartesian-axis-tick-line",yy(i,"className"))})))}),q=Z.map((K,W)=>{var te,le,{entry:We,tick:ut}=K,jt=at(at(at(at({verticalAnchor:N},k),{},{textAnchor:T,stroke:"none",fill:a},ut),{},{index:W,payload:We,visibleTicksCount:A.length,tickFormatter:s,padding:l},u),{},{angle:(te=(le=u==null?void 0:u.angle)!==null&&le!==void 0?le:k.angle)!==null&&te!==void 0?te:0}),je=at(at({},jt),j);return b.createElement(yi,Do({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(We.value,"-").concat(We.coordinate,"-").concat(We.tickCoord)},RQ(P,We,W)),r&&b.createElement(Dce,{option:r,tickProps:je,value:"".concat(typeof s=="function"?s(We.value,W):We.value).concat(o||"")}))});return b.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(O,"-ticks")},q.length>0&&b.createElement(Sa,{zIndex:On.label},b.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(O,"-tick-labels"),ref:t},q)),oe.length>0&&b.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(O,"-tick-lines")},oe))}),Lce=b.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:a,hide:s,ticks:o,axisType:l}=e,u=Tce(e,Ace),[c,f]=b.useState(""),[h,p]=b.useState(""),g=b.useRef(null);b.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var v;return Sce({ticks:g.current,label:(v=e.labelRef)===null||v===void 0?void 0:v.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var x=b.useCallback(v=>{if(v){var w=v.getElementsByClassName("recharts-cartesian-axis-tick-value");g.current=w;var _=w[0];if(_){var S=window.getComputedStyle(_),C=S.fontSize,P=S.letterSpacing;(C!==c||P!==h)&&(f(C),p(P))}}},[c,h]);return s||r!=null&&r<=0||i!=null&&i<=0?null:b.createElement(Sa,{zIndex:e.zIndex},b.createElement(yi,{className:Ye("recharts-cartesian-axis",a)},b.createElement(Pce,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:qr(e)}),b.createElement(Mce,{ref:x,axisType:l,events:u,fontSize:c,getTicksConfig:e,height:e.height,letterSpacing:h,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:o,unit:e.unit,width:e.width,x:e.x,y:e.y}),b.createElement(Vle,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},b.createElement(Yle,{label:e.label,labelRef:e.labelRef}),e.children)))}),aS=b.forwardRef((e,t)=>{var n=fr(e,Xi);return b.createElement(Lce,Do({},n,{ref:t}))});aS.displayName="CartesianAxis";var Vce=["x1","y1","x2","y2","key"],Uce=["offset"],zce=["xAxisId","yAxisId"],Bce=["xAxisId","yAxisId"];function EI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EI(Object(n),!0).forEach(function(r){$ce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $ce(e,t,n){return(t=Fce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fce(e){var t=qce(e,"string");return typeof t=="symbol"?t:t+""}function qce(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function io(){return io=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},io.apply(null,arguments)}function mg(e,t){if(e==null)return{};var n,r,i=Hce(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Hce(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Gce=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:s,ry:o}=e;return b.createElement("rect",{x:r,y:i,ry:o,width:a,height:s,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function h5(e){var{option:t,lineItemProps:n}=e,r;if(b.isValidElement(t))r=b.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:a,y1:s,x2:o,y2:l,key:u}=n,c=mg(n,Vce),f=(i=qr(c))!==null&&i!==void 0?i:{},{offset:h}=f,p=mg(f,Uce);r=b.createElement("line",io({},p,{x1:a,y1:s,x2:o,y2:l,fill:"none",key:u}))}return r}function Kce(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=mg(e,zce),l=i.map((u,c)=>{var f=vn(vn({},o),{},{x1:t,y1:u,x2:t+n,y2:u,key:"line-".concat(c),index:c});return b.createElement(h5,{key:"line-".concat(c),option:r,lineItemProps:f})});return b.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function Yce(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=mg(e,Bce),l=i.map((u,c)=>{var f=vn(vn({},o),{},{x1:u,y1:t,x2:u,y2:t+n,key:"line-".concat(c),index:c});return b.createElement(h5,{option:r,lineItemProps:f,key:"line-".concat(c)})});return b.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function Wce(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:a,height:s,horizontalPoints:o,horizontal:l=!0}=e;if(!l||!t||!t.length||o==null)return null;var u=o.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==u[0]&&u.unshift(0);var c=u.map((f,h)=>{var p=u[h+1],g=p==null,x=g?i+s-f:p-f;if(x<=0)return null;var v=h%t.length;return b.createElement("rect",{key:"react-".concat(h),y:f,x:r,height:x,width:a,stroke:"none",fill:t[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},c)}function Xce(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:s,height:o,verticalPoints:l}=e;if(!t||!n||!n.length)return null;var u=l.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==u[0]&&u.unshift(0);var c=u.map((f,h)=>{var p=u[h+1],g=p==null,x=g?i+s-f:p-f;if(x<=0)return null;var v=h%n.length;return b.createElement("rect",{key:"react-".concat(h),x:f,y:a,width:x,height:o,stroke:"none",fill:n[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},c)}var Qce=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return qL(iS(vn(vn(vn({},Xi),n),{},{ticks:HL(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},Zce=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return qL(iS(vn(vn(vn({},Xi),n),{},{ticks:HL(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},Jce={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:On.grid};function m5(e){var t=n3(),n=r3(),r=t3(),i=vn(vn({},fr(e,Jce)),{},{x:Q(e.x)?e.x:r.left,y:Q(e.y)?e.y:r.top,width:Q(e.width)?e.width:r.width,height:Q(e.height)?e.height:r.height}),{xAxisId:a,yAxisId:s,x:o,y:l,width:u,height:c,syncWithTicks:f,horizontalValues:h,verticalValues:p}=i,g=Gn(),x=ee(N=>U2(N,"xAxis",a,g)),v=ee(N=>U2(N,"yAxis",s,g));if(!_i(u)||!_i(c)||!Q(o)||!Q(l))return null;var w=i.verticalCoordinatesGenerator||Qce,_=i.horizontalCoordinatesGenerator||Zce,{horizontalPoints:S,verticalPoints:C}=i;if((!S||!S.length)&&typeof _=="function"){var P=h&&h.length,O=_({yAxis:v?vn(vn({},v),{},{ticks:P?h:v.ticks}):void 0,width:t??u,height:n??c,offset:r},P?!0:f);$p(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(S=O)}if((!C||!C.length)&&typeof w=="function"){var A=p&&p.length,T=w({xAxis:x?vn(vn({},x),{},{ticks:A?p:x.ticks}):void 0,width:t??u,height:n??c,offset:r},A?!0:f);$p(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof T,"]")),Array.isArray(T)&&(C=T)}return b.createElement(Sa,{zIndex:i.zIndex},b.createElement("g",{className:"recharts-cartesian-grid"},b.createElement(Gce,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),b.createElement(Wce,io({},i,{horizontalPoints:S})),b.createElement(Xce,io({},i,{verticalPoints:C})),b.createElement(Kce,io({},i,{offset:r,horizontalPoints:S,xAxis:x,yAxis:v})),b.createElement(Yce,io({},i,{offset:r,verticalPoints:C,xAxis:x,yAxis:v}))))}m5.displayName="CartesianGrid";var efe={},p5=Hn({name:"errorBars",initialState:efe,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Fhe,replaceErrorBar:qhe,removeErrorBar:Hhe}=p5.actions,tfe=p5.reducer;function g5(e,t){var n,r,i=ee(u=>xa(u,e)),a=ee(u=>wa(u,t)),s=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Lt.allowDataOverflow,o=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:Vt.allowDataOverflow,l=s||o;return{needClip:l,needClipX:s,needClipY:o}}function nfe(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=rS(),{needClipX:a,needClipY:s,needClip:o}=g5(t,n);if(!o||!i)return null;var{x:l,y:u,width:c,height:f}=i;return b.createElement("clipPath",{id:"clipPath-".concat(r)},b.createElement("rect",{x:a?l:l-c/2,y:s?u:u-f/2,width:a?c:c*2,height:s?f:f*2}))}function rfe(e){var t=fy(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:a}=t,s=Number(i),o=Number(a);return(Number.isNaN(s)||s<0)&&(s=n),(Number.isNaN(o)||o<0)&&(o=r),{r:s,strokeWidth:o}}return{r:n,strokeWidth:r}}var ife={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jd=b;function afe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var sfe=typeof Object.is=="function"?Object.is:afe,ofe=Jd.useSyncExternalStore,lfe=Jd.useRef,ufe=Jd.useEffect,cfe=Jd.useMemo,ffe=Jd.useDebugValue;ife.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var a=lfe(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=cfe(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&s.hasValue){var g=s.value;if(i(g,p))return f=g}return f=p}if(g=f,sfe(c,p))return g;var x=r(p);return i!==void 0&&i(g,x)?(c=p,g):(c=p,f=x)}var u=!1,c,f,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,i]);var o=ofe(e,a[0],a[1]);return ufe(function(){s.hasValue=!0,s.value=o},[o]),ffe(o),o};function dfe(e){e()}function hfe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){dfe(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var SI={notify(){},get:()=>[]};function mfe(e,t){let n,r=SI,i=0,a=!1;function s(x){c();const v=r.subscribe(x);let w=!1;return()=>{w||(w=!0,v(),f())}}function o(){r.notify()}function l(){g.onStateChange&&g.onStateChange()}function u(){return a}function c(){i++,n||(n=e.subscribe(l),r=hfe())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=SI)}function h(){a||(a=!0,c())}function p(){a&&(a=!1,f())}const g={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:u,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>r};return g}var pfe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",gfe=pfe(),yfe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",vfe=yfe(),bfe=()=>gfe||vfe?b.useLayoutEffect:b.useEffect,_fe=bfe();function AI(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function xfe(e,t){if(AI(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!AI(e[n[i]],t[n[i]]))return!1;return!0}var q0=Symbol.for("react-redux-context"),H0=typeof globalThis<"u"?globalThis:{};function wfe(){if(!b.createContext)return{};const e=H0[q0]??(H0[q0]=new Map);let t=e.get(b.createContext);return t||(t=b.createContext(null),e.set(b.createContext,t)),t}var Efe=wfe();function Sfe(e){const{children:t,context:n,serverState:r,store:i}=e,a=b.useMemo(()=>{const l=mfe(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),s=b.useMemo(()=>i.getState(),[i]);_fe(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,s]);const o=n||Efe;return b.createElement(o.Provider,{value:a},t)}var Afe=Sfe,Tfe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function Cfe(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function sS(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(Tfe.has(r)){if(e[r]==null&&t[r]==null)continue;if(!xfe(e[r],t[r]))return!1}else if(!Cfe(e[r],t[r]))return!1;return!0}function oS(e,t){var n,r;return(n=(r=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:l5}function lS(e,t){var n,r;return(n=(r=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:l5}var y5=(e,t,n)=>oV(e,"xAxis",oS(e,t),n),v5=(e,t,n)=>sV(e,"xAxis",oS(e,t),n),b5=(e,t,n)=>oV(e,"yAxis",lS(e,t),n),_5=(e,t,n)=>sV(e,"yAxis",lS(e,t),n),Nfe=V([Je,y5,b5,v5,_5],(e,t,n,r,i)=>Ti(e,"xAxis")?Bp(t,r,!1):Bp(n,i,!1)),Ofe=(e,t)=>t,x5=V([N6,Ofe],(e,t)=>e.filter(n=>n.type==="area").find(n=>n.id===t)),w5=e=>{var t=Je(e),n=Ti(t,"xAxis");return n?"yAxis":"xAxis"},Ife=(e,t)=>{var n=w5(e);return n==="yAxis"?lS(e,t):oS(e,t)},Pfe=(e,t,n)=>L6(e,w5(e),Ife(e,t),n),Rfe=V([x5,Pfe],(e,t)=>{var n;if(!(e==null||t==null)){var{stackId:r}=e,i=jE(e);if(!(r==null||i==null)){var a=(n=t[r])===null||n===void 0?void 0:n.stackedData,s=a==null?void 0:a.find(o=>o.key===i);if(s!=null)return s.map(o=>[o[0],o[1]])}}}),jfe=V([Je,y5,b5,v5,_5,Rfe,xie,Nfe,x5,Iie],(e,t,n,r,i,a,s,o,l,u)=>{var{chartData:c,dataStartIndex:f,dataEndIndex:h}=s;if(!(l==null||e!=="horizontal"&&e!=="vertical"||t==null||n==null||r==null||i==null||r.length===0||i.length===0||o==null)){var{data:p}=l,g;if(p&&p.length>0?g=p:g=c==null?void 0:c.slice(f,h+1),g!=null)return Zfe({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:f,areaSettings:l,stackedData:a,displayedData:g,chartBaseValue:u,bandSize:o})}}),kfe=["id"],Dfe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function yo(){return yo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yo.apply(null,arguments)}function E5(e,t){if(e==null)return{};var n,r,i=Mfe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Mfe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function TI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Al(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TI(Object(n),!0).forEach(function(r){Lfe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Lfe(e,t,n){return(t=Vfe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vfe(e){var t=Ufe(e,"string");return typeof t=="symbol"?t:t+""}function Ufe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pg(e,t){return e&&e!=="none"?e:t}var zfe=e=>{var{dataKey:t,name:n,stroke:r,fill:i,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:pg(r,i),value:GL(n,t),payload:e}]},Bfe=b.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:s,hide:o,unit:l,tooltipType:u,id:c}=e,f={dataDefinedOnItem:n,getPosition:Ou,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:GL(s,t),hide:o,type:u,color:pg(r,a),unit:l,graphicalItemId:c}};return b.createElement(vue,{tooltipEntrySettings:f})});function $fe(e){var{clipPathId:t,points:n,props:r}=e,{needClip:i,dot:a,dataKey:s}=r,o=qr(r);return b.createElement(zue,{points:n,dot:a,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:s,baseProps:o,needClip:i,clipPathId:t})}function Ffe(e){var{showLabels:t,children:n,points:r}=e,i=r.map(a=>{var s,o,l={x:(s=a.x)!==null&&s!==void 0?s:0,y:(o=a.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Al(Al({},l),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:l,fill:void 0})});return b.createElement(tue,{value:t?i:void 0},n)}function CI(e){var{points:t,baseLine:n,needClip:r,clipPathId:i,props:a}=e,{layout:s,type:o,stroke:l,connectNulls:u,isRange:c}=a,{id:f}=a,h=E5(a,kfe),p=qr(h),g=Nr(h);return b.createElement(b.Fragment,null,(t==null?void 0:t.length)>1&&b.createElement(yi,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},b.createElement(Om,yo({},g,{id:f,points:t,connectNulls:u,type:o,baseLine:n,layout:s,stroke:"none",className:"recharts-area-area"})),l!=="none"&&b.createElement(Om,yo({},p,{className:"recharts-area-curve",layout:s,type:o,connectNulls:u,fill:"none",points:t})),l!=="none"&&c&&b.createElement(Om,yo({},p,{className:"recharts-area-curve",layout:s,type:o,connectNulls:u,fill:"none",points:n}))),b.createElement($fe,{points:t,props:h,clipPathId:i}))}function qfe(e){var t,n,{alpha:r,baseLine:i,points:a,strokeWidth:s}=e,o=(t=a[0])===null||t===void 0?void 0:t.y,l=(n=a[a.length-1])===null||n===void 0?void 0:n.y;if(!be(o)||!be(l))return null;var u=r*Math.abs(o-l),c=Math.max(...a.map(f=>f.x||0));return Q(i)?c=Math.max(i,c):i&&Array.isArray(i)&&i.length&&(c=Math.max(...i.map(f=>f.x||0),c)),Q(c)?b.createElement("rect",{x:0,y:o<l?o:o-u,width:c+(s?parseInt("".concat(s),10):1),height:Math.floor(u)}):null}function Hfe(e){var t,n,{alpha:r,baseLine:i,points:a,strokeWidth:s}=e,o=(t=a[0])===null||t===void 0?void 0:t.x,l=(n=a[a.length-1])===null||n===void 0?void 0:n.x;if(!be(o)||!be(l))return null;var u=r*Math.abs(o-l),c=Math.max(...a.map(f=>f.y||0));return Q(i)?c=Math.max(i,c):i&&Array.isArray(i)&&i.length&&(c=Math.max(...i.map(f=>f.y||0),c)),Q(c)?b.createElement("rect",{x:o<l?o:o-u,y:0,width:u,height:Math.floor(c+(s?parseInt("".concat(s),10):1))}):null}function Gfe(e){var{alpha:t,layout:n,points:r,baseLine:i,strokeWidth:a}=e;return n==="vertical"?b.createElement(qfe,{alpha:t,points:r,baseLine:i,strokeWidth:a}):b.createElement(Hfe,{alpha:t,points:r,baseLine:i,strokeWidth:a})}function Kfe(e){var{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a}=e,{points:s,baseLine:o,isAnimationActive:l,animationBegin:u,animationDuration:c,animationEasing:f,onAnimationStart:h,onAnimationEnd:p}=r,g=b.useMemo(()=>({points:s,baseLine:o}),[s,o]),x=y3(g,"recharts-area-"),v=J1(),[w,_]=b.useState(!1),S=!w,C=b.useCallback(()=>{typeof p=="function"&&p(),_(!1)},[p]),P=b.useCallback(()=>{typeof h=="function"&&h(),_(!0)},[h]);if(v==null)return null;var O=i.current,A=a.current;return b.createElement(Ffe,{showLabels:S,points:s},r.children,b.createElement(g3,{animationId:x,begin:u,duration:c,isActive:l,easing:f,onAnimationEnd:C,onAnimationStart:P,key:x},T=>{if(O){var N=O.length/s.length,k=T===1?s:s.map((R,D)=>{var Z=Math.floor(D*N);if(O[Z]){var oe=O[Z];return Al(Al({},R),{},{x:ei(oe.x,R.x,T),y:ei(oe.y,R.y,T)})}return R}),j;return Q(o)?j=ei(A,o,T):_n(o)||vi(o)?j=ei(A,0,T):j=o.map((R,D)=>{var Z=Math.floor(D*N);if(Array.isArray(A)&&A[Z]){var oe=A[Z];return Al(Al({},R),{},{x:ei(oe.x,R.x,T),y:ei(oe.y,R.y,T)})}return R}),T>0&&(i.current=k,a.current=j),b.createElement(CI,{points:k,baseLine:j,needClip:t,clipPathId:n,props:r})}return T>0&&(i.current=s,a.current=o),b.createElement(yi,null,l&&b.createElement("defs",null,b.createElement("clipPath",{id:"animationClipPath-".concat(n)},b.createElement(Gfe,{alpha:T,points:s,baseLine:o,layout:v,strokeWidth:r.strokeWidth}))),b.createElement(yi,{clipPath:"url(#animationClipPath-".concat(n,")")},b.createElement(CI,{points:s,baseLine:o,needClip:t,clipPathId:n,props:r})))}),b.createElement(iue,{label:r.label}))}function Yfe(e){var{needClip:t,clipPathId:n,props:r}=e,i=b.useRef(null),a=b.useRef();return b.createElement(Kfe,{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a})}class Wfe extends b.PureComponent{render(){var{hide:t,dot:n,points:r,className:i,top:a,left:s,needClip:o,xAxisId:l,yAxisId:u,width:c,height:f,id:h,baseLine:p,zIndex:g}=this.props;if(t)return null;var x=Ye("recharts-area",i),v=h,{r:w,strokeWidth:_}=rfe(n),S=s5(n),C=w*2+_,P=o?"url(#clipPath-".concat(S?"":"dots-").concat(v,")"):void 0;return b.createElement(Sa,{zIndex:g},b.createElement(yi,{className:x},o&&b.createElement("defs",null,b.createElement(nfe,{clipPathId:v,xAxisId:l,yAxisId:u}),!S&&b.createElement("clipPath",{id:"clipPath-dots-".concat(v)},b.createElement("rect",{x:s-C/2,y:a-C/2,width:c+C,height:f+C}))),b.createElement(Yfe,{needClip:o,clipPathId:v,props:this.props})),b.createElement(bI,{points:r,mainColor:pg(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:P}),this.props.isRange&&Array.isArray(p)&&b.createElement(bI,{points:p,mainColor:pg(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:P}))}}var S5={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:On.area};function Xfe(e){var t,n=fr(e,S5),{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:o,dot:l,fill:u,fillOpacity:c,hide:f,isAnimationActive:h,legendType:p,stroke:g,xAxisId:x,yAxisId:v}=n,w=E5(n,Dfe),_=Iu(),S=OV(),{needClip:C}=g5(x,v),P=Gn(),{points:O,isRange:A,baseLine:T}=(t=ee(Z=>jfe(Z,e.id,P)))!==null&&t!==void 0?t:{},N=rS();if(_!=="horizontal"&&_!=="vertical"||N==null||S!=="AreaChart"&&S!=="ComposedChart")return null;var{height:k,width:j,x:R,y:D}=N;return!O||!O.length?null:b.createElement(Wfe,yo({},w,{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:s,baseLine:T,connectNulls:o,dot:l,fill:u,fillOpacity:c,height:k,hide:f,layout:_,isAnimationActive:h==="auto"?!jd.isSsr:h,isRange:A,legendType:p,needClip:C,points:O,stroke:g,width:j,left:R,top:D,xAxisId:x,yAxisId:v}))}var Qfe=(e,t,n,r,i)=>{var a=n??t;if(Q(a))return a;var s=e==="horizontal"?i:r,o=s.scale.domain();if(s.type==="number"){var l=Math.max(o[0],o[1]),u=Math.min(o[0],o[1]);return a==="dataMin"?u:a==="dataMax"||l<0?l:Math.max(Math.min(o[0],o[1]),0)}return a==="dataMin"?o[0]:a==="dataMax"?o[1]:o[0]};function Zfe(e){var{areaSettings:{connectNulls:t,baseValue:n,dataKey:r},stackedData:i,layout:a,chartBaseValue:s,xAxis:o,yAxis:l,displayedData:u,dataStartIndex:c,xAxisTicks:f,yAxisTicks:h,bandSize:p}=e,g=i&&i.length,x=Qfe(a,s,n,o,l),v=a==="horizontal",w=!1,_=u.map((C,P)=>{var O,A,T,N;if(g)N=i[c+P];else{var k=un(C,r);Array.isArray(k)?(N=k,w=!0):N=[x,k]}var j=(O=(A=N)===null||A===void 0?void 0:A[1])!==null&&O!==void 0?O:null,R=j==null||g&&!t&&un(C,r)==null;if(v){var D;return{x:YN({axis:o,ticks:f,bandSize:p,entry:C,index:P}),y:R?null:(D=l.scale.map(j))!==null&&D!==void 0?D:null,value:N,payload:C}}return{x:R?null:(T=o.scale.map(j))!==null&&T!==void 0?T:null,y:YN({axis:l,ticks:h,bandSize:p,entry:C,index:P}),value:N,payload:C}}),S;return g||w?S=_.map(C=>{var P,O=Array.isArray(C.value)?C.value[0]:null;if(v){var A;return{x:C.x,y:O!=null&&C.y!=null&&(A=l.scale.map(O))!==null&&A!==void 0?A:null,payload:C.payload}}return{x:O!=null&&(P=o.scale.map(O))!==null&&P!==void 0?P:null,y:C.y,payload:C.payload}}):S=v?l.scale.map(x):o.scale.map(x),{points:_,baseLine:S??0,isRange:w}}function Jfe(e){var t=fr(e,S5),n=Gn();return b.createElement(Sue,{id:t.id,type:"area"},r=>b.createElement(b.Fragment,null,b.createElement(bue,{legendPayload:zfe(t)}),b.createElement(Bfe,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:r}),b.createElement(Pue,{type:"area",id:r,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:OJ(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:n,connectNulls:t.connectNulls}),b.createElement(Xfe,yo({},t,{id:r}))))}var A5=b.memo(Jfe,sS);A5.displayName="Area";var ede=["domain","range"],tde=["domain","range"];function NI(e,t){if(e==null)return{};var n,r,i=nde(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function nde(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function OI(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function T5(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=NI(e,ede),{domain:a,range:s}=t,o=NI(t,tde);return!OI(n,a)||!OI(r,s)?!1:sS(i,o)}var rde=["type"],ide=["dangerouslySetInnerHTML","ticks","scale"],ade=["id","scale"];function sx(){return sx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sx.apply(null,arguments)}function II(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function PI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?II(Object(n),!0).forEach(function(r){sde(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):II(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sde(e,t,n){return(t=ode(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ode(e){var t=lde(e,"string");return typeof t=="symbol"?t:t+""}function lde(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ox(e,t){if(e==null)return{};var n,r,i=ude(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ude(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function cde(e){var t=qt(),n=b.useRef(null),r=J1(),{type:i}=e,a=ox(e,rde),s=Ky(r,"xAxis",i),o=b.useMemo(()=>{if(s!=null)return PI(PI({},a),{},{type:s})},[a,s]);return b.useLayoutEffect(()=>{o!=null&&(n.current===null?t(Hue(o)):n.current!==o&&t(Gue({prev:n.current,next:o})),n.current=o)},[o,t]),b.useLayoutEffect(()=>()=>{n.current&&(t(Kue(n.current)),n.current=null)},[t]),null}var fde=e=>{var{xAxisId:t,className:n}=e,r=ee(YL),i=Gn(),a="xAxis",s=ee(w=>aV(w,a,t,i)),o=ee(w=>Tae(w,t)),l=ee(w=>Rae(w,t)),u=ee(w=>S6(w,t));if(o==null||l==null||u==null)return null;var{dangerouslySetInnerHTML:c,ticks:f,scale:h}=e,p=ox(e,ide),{id:g,scale:x}=u,v=ox(u,ade);return b.createElement(aS,sx({},p,v,{x:l.x,y:l.y,width:o.width,height:o.height,className:Ye("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:s,axisType:a}))},dde={allowDataOverflow:Lt.allowDataOverflow,allowDecimals:Lt.allowDecimals,allowDuplicatedCategory:Lt.allowDuplicatedCategory,angle:Lt.angle,axisLine:Xi.axisLine,height:Lt.height,hide:!1,includeHidden:Lt.includeHidden,interval:Lt.interval,label:!1,minTickGap:Lt.minTickGap,mirror:Lt.mirror,orientation:Lt.orientation,padding:Lt.padding,reversed:Lt.reversed,scale:Lt.scale,tick:Lt.tick,tickCount:Lt.tickCount,tickLine:Xi.tickLine,tickSize:Xi.tickSize,type:Lt.type,xAxisId:0},hde=e=>{var t=fr(e,dde);return b.createElement(b.Fragment,null,b.createElement(cde,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),b.createElement(fde,t))},C5=b.memo(hde,T5);C5.displayName="XAxis";var mde=["type"],pde=["dangerouslySetInnerHTML","ticks","scale"],gde=["id","scale"];function lx(){return lx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lx.apply(null,arguments)}function RI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RI(Object(n),!0).forEach(function(r){yde(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yde(e,t,n){return(t=vde(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vde(e){var t=bde(e,"string");return typeof t=="symbol"?t:t+""}function bde(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ux(e,t){if(e==null)return{};var n,r,i=_de(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _de(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function xde(e){var t=qt(),n=b.useRef(null),r=J1(),{type:i}=e,a=ux(e,mde),s=Ky(r,"yAxis",i),o=b.useMemo(()=>{if(s!=null)return jI(jI({},a),{},{type:s})},[s,a]);return b.useLayoutEffect(()=>{o!=null&&(n.current===null?t(Yue(o)):n.current!==o&&t(Wue({prev:n.current,next:o})),n.current=o)},[o,t]),b.useLayoutEffect(()=>()=>{n.current&&(t(Xue(n.current)),n.current=null)},[t]),null}function wde(e){var{yAxisId:t,className:n,width:r,label:i}=e,a=b.useRef(null),s=b.useRef(null),o=ee(YL),l=Gn(),u=qt(),c="yAxis",f=ee(O=>Dae(O,t)),h=ee(O=>kae(O,t)),p=ee(O=>aV(O,c,t,l)),g=ee(O=>A6(O,t));if(b.useLayoutEffect(()=>{if(!(r!=="auto"||!f||tS(i)||b.isValidElement(i)||g==null)){var O=a.current;if(O){var A=O.getCalculatedWidth();Math.round(f.width)!==Math.round(A)&&u(Que({id:t,width:A}))}}},[p,f,u,i,t,r,g]),f==null||h==null||g==null)return null;var{dangerouslySetInnerHTML:x,ticks:v,scale:w}=e,_=ux(e,pde),{id:S,scale:C}=g,P=ux(g,gde);return b.createElement(aS,lx({},_,P,{ref:a,labelRef:s,x:h.x,y:h.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:f.width,height:f.height,className:Ye("recharts-".concat(c," ").concat(c),n),viewBox:o,ticks:p,axisType:c}))}var Ede={allowDataOverflow:Vt.allowDataOverflow,allowDecimals:Vt.allowDecimals,allowDuplicatedCategory:Vt.allowDuplicatedCategory,angle:Vt.angle,axisLine:Xi.axisLine,hide:!1,includeHidden:Vt.includeHidden,interval:Vt.interval,label:!1,minTickGap:Vt.minTickGap,mirror:Vt.mirror,orientation:Vt.orientation,padding:Vt.padding,reversed:Vt.reversed,scale:Vt.scale,tick:Vt.tick,tickCount:Vt.tickCount,tickLine:Xi.tickLine,tickSize:Xi.tickSize,type:Vt.type,width:Vt.width,yAxisId:0},Sde=e=>{var t=fr(e,Ede);return b.createElement(b.Fragment,null,b.createElement(xde,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),b.createElement(wde,t))},N5=b.memo(Sde,T5);N5.displayName="YAxis";var Ade=(e,t)=>t,uS=V([Ade,Je,w6,Kt,EV,Ea,Wse,fn],noe),cS=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},O5=Or("mouseClick"),I5=Od();I5.startListening({actionCreator:O5,effect:(e,t)=>{var n=e.payload,r=uS(t.getState(),cS(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(Yae({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var cx=Or("mouseMove"),P5=Od(),Zh=null;P5.startListening({actionCreator:cx,effect:(e,t)=>{var n=e.payload;Zh!==null&&cancelAnimationFrame(Zh);var r=cS(n);Zh=requestAnimationFrame(()=>{var i=t.getState(),a=qE(i,i.tooltip.settings.shared);if(a==="axis"){var s=uS(i,r);(s==null?void 0:s.activeIndex)!=null?t.dispatch(mV({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(hV())}Zh=null})}});function Tde(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var kI={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},R5=Hn({name:"rootProps",initialState:kI,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:kI.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),Cde=R5.reducer,{updateOptions:Nde}=R5.actions,Ode=null,Ide={updatePolarOptions:(e,t)=>t.payload},j5=Hn({name:"polarOptions",initialState:Ode,reducers:Ide}),{updatePolarOptions:Ghe}=j5.actions,Pde=j5.reducer,k5=Or("keyDown"),D5=Or("focus"),fS=Od();fS.startListening({actionCreator:k5,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=HE(i,Uu(n),zd(n),$d(n)),o=s==null?-1:Number(s);if(!(!Number.isFinite(o)||o<0)){var l=Ea(n);if(a==="Enter"){var u=fg(n,"axis","hover",String(i.index));t.dispatch(tx({active:!i.active,activeIndex:i.index,activeCoordinate:u}));return}var c=Uae(n),f=c==="left-to-right"?1:-1,h=a==="ArrowRight"?1:-1,p=o+h*f;if(!(l==null||p>=l.length||p<0)){var g=fg(n,"axis","hover",String(p));t.dispatch(tx({active:!0,activeIndex:p.toString(),activeCoordinate:g}))}}}}}});fS.startListening({actionCreator:D5,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",s=fg(n,"axis","hover",String(a));t.dispatch(tx({active:!0,activeIndex:a,activeCoordinate:s}))}}}});var dr=Or("externalEvent"),M5=Od(),G0=new Map;M5.startListening({actionCreator:dr,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,a=G0.get(i);a!==void 0&&cancelAnimationFrame(a);var s=requestAnimationFrame(()=>{try{var o=t.getState(),l={activeCoordinate:kse(o),activeDataKey:Rse(o),activeIndex:Yf(o),activeLabel:TV(o),activeTooltipIndex:Yf(o),isTooltipActive:Dse(o)};n(l,r)}finally{G0.delete(i)}});G0.set(i,s)}}});var Rde=V([Lu],e=>e.tooltipItemPayloads),jde=V([Rde,(e,t)=>t,(e,t,n)=>n],(e,t,n)=>{if(t!=null){var r=e.find(a=>a.settings.graphicalItemId===n);if(r!=null){var{getPosition:i}=r;if(i!=null)return i(t)}}}),L5=Or("touchMove"),V5=Od();V5.startListening({actionCreator:L5,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=qE(r,r.tooltip.settings.shared);if(i==="axis"){var a=n.touches[0];if(a==null)return;var s=uS(r,cS({clientX:a.clientX,clientY:a.clientY,currentTarget:n.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(mV({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var o,l=n.touches[0];if(document.elementFromPoint==null||l==null)return;var u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var c=u.getAttribute(MJ),f=(o=u.getAttribute(LJ))!==null&&o!==void 0?o:void 0,h=Vu(r).find(x=>x.id===f);if(c==null||h==null||f==null)return;var{dataKey:p}=h,g=jde(r,c,f);t.dispatch(Kae({activeDataKey:p,activeIndex:c,activeCoordinate:g,activeGraphicalItemId:f}))}}}});var kde=pL({brush:oce,cartesianAxis:Zue,chartData:joe,errorBars:tfe,graphicalItems:Oue,layout:_J,legend:Aee,options:Noe,polarAxis:sue,polarOptions:Pde,referenceElements:fce,rootProps:Cde,tooltip:Wae,zIndex:goe}),Dde=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return HZ({reducer:kde,preloadedState:t,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([I5.middleware,P5.middleware,fS.middleware,M5.middleware,V5.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(IL({type:"raf"}))},devTools:{serialize:{replacer:Tde},name:"recharts-".concat(n)}})};function Mde(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=Gn(),a=b.useRef(null);if(i)return n;a.current==null&&(a.current=Dde(t,r));var s=$1;return b.createElement(Afe,{context:s,store:a.current},n)}function Lde(e){var{layout:t,margin:n}=e,r=qt(),i=Gn();return b.useEffect(()=>{i||(r(yJ(t)),r(gJ(n)))},[r,i,t,n]),null}var Vde=b.memo(Lde,sS);function Ude(e){var t=qt();return b.useEffect(()=>{t(Nde(e))},[t,e]),null}function DI(e){var{zIndex:t,isPanorama:n}=e,r=b.useRef(null),i=qt();return b.useLayoutEffect(()=>(r.current&&i(moe({zIndex:t,element:r.current,isPanorama:n})),()=>{i(poe({zIndex:t,isPanorama:n}))}),[i,t,n]),b.createElement("g",{tabIndex:-1,ref:r})}function MI(e){var{children:t,isPanorama:n}=e,r=ee(ioe);if(!r||r.length===0)return t;var i=r.filter(s=>s<0),a=r.filter(s=>s>0);return b.createElement(b.Fragment,null,i.map(s=>b.createElement(DI,{key:s,zIndex:s,isPanorama:n})),t,a.map(s=>b.createElement(DI,{key:s,zIndex:s,isPanorama:n})))}var zde=["children"];function Bde(e,t){if(e==null)return{};var n,r,i=$de(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function $de(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function gg(){return gg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gg.apply(null,arguments)}var Fde={width:"100%",height:"100%",display:"block"},qde=b.forwardRef((e,t)=>{var n=n3(),r=r3(),i=d3();if(!_i(n)||!_i(r))return null;var{children:a,otherAttributes:s,title:o,desc:l}=e,u,c;return s!=null&&(typeof s.tabIndex=="number"?u=s.tabIndex:u=i?0:void 0,typeof s.role=="string"?c=s.role:c=i?"application":void 0),b.createElement(b4,gg({},s,{title:o,desc:l,role:c,tabIndex:u,width:n,height:r,style:Fde,ref:t}),a)}),Hde=e=>{var{children:t}=e,n=ee(ky);if(!n)return null;var{width:r,height:i,y:a,x:s}=n;return b.createElement(b4,{width:r,height:i,x:s,y:a},t)},LI=b.forwardRef((e,t)=>{var{children:n}=e,r=Bde(e,zde),i=Gn();return i?b.createElement(Hde,null,b.createElement(MI,{isPanorama:!0},n)):b.createElement(qde,gg({ref:t},r),b.createElement(MI,{isPanorama:!1},n))});function Gde(){var e=qt(),[t,n]=b.useState(null),r=ee(DJ);return b.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;be(a)&&a!==r&&e(bJ(a))}},[t,e,r]),n}function VI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Kde(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VI(Object(n),!0).forEach(function(r){Yde(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Yde(e,t,n){return(t=Wde(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wde(e){var t=Xde(e,"string");return typeof t=="symbol"?t:t+""}function Xde(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ps(){return ps=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ps.apply(null,arguments)}var Qde=()=>($oe(),null);function yg(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Zde=b.forwardRef((e,t)=>{var n,r,i=b.useRef(null),[a,s]=b.useState({containerWidth:yg((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:yg((r=e.style)===null||r===void 0?void 0:r.height)}),o=b.useCallback((u,c)=>{s(f=>{var h=Math.round(u),p=Math.round(c);return f.containerWidth===h&&f.containerHeight===p?f:{containerWidth:h,containerHeight:p}})},[]),l=b.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:c,height:f}=u.getBoundingClientRect();o(c,f);var h=g=>{var x=g[0];if(x!=null){var{width:v,height:w}=x.contentRect;o(v,w)}},p=new ResizeObserver(h);p.observe(u),i.current=p}},[t,o]);return b.useEffect(()=>()=>{var u=i.current;u!=null&&u.disconnect()},[o]),b.createElement(b.Fragment,null,b.createElement(Pd,{width:a.containerWidth,height:a.containerHeight}),b.createElement("div",ps({ref:l},e)))}),Jde=b.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,a]=b.useState({containerWidth:yg(n),containerHeight:yg(r)}),s=b.useCallback((l,u)=>{a(c=>{var f=Math.round(l),h=Math.round(u);return c.containerWidth===f&&c.containerHeight===h?c:{containerWidth:f,containerHeight:h}})},[]),o=b.useCallback(l=>{if(typeof t=="function"&&t(l),l!=null){var{width:u,height:c}=l.getBoundingClientRect();s(u,c)}},[t,s]);return b.createElement(b.Fragment,null,b.createElement(Pd,{width:i.containerWidth,height:i.containerHeight}),b.createElement("div",ps({ref:o},e)))}),ehe=b.forwardRef((e,t)=>{var{width:n,height:r}=e;return b.createElement(b.Fragment,null,b.createElement(Pd,{width:n,height:r}),b.createElement("div",ps({ref:t},e)))}),the=b.forwardRef((e,t)=>{var{width:n,height:r}=e;return typeof n=="string"||typeof r=="string"?b.createElement(Jde,ps({},e,{ref:t})):typeof n=="number"&&typeof r=="number"?b.createElement(ehe,ps({},e,{width:n,height:r,ref:t})):b.createElement(b.Fragment,null,b.createElement(Pd,{width:n,height:r}),b.createElement("div",ps({ref:t},e)))});function nhe(e){return e?Zde:the}var rhe=b.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:s,onDoubleClick:o,onMouseDown:l,onMouseEnter:u,onMouseLeave:c,onMouseMove:f,onMouseUp:h,onTouchEnd:p,onTouchMove:g,onTouchStart:x,style:v,width:w,responsive:_,dispatchTouchEvents:S=!0}=e,C=b.useRef(null),P=qt(),[O,A]=b.useState(null),[T,N]=b.useState(null),k=Gde(),j=Q1(),R=(j==null?void 0:j.width)>0?j.width:w,D=(j==null?void 0:j.height)>0?j.height:i,Z=b.useCallback($=>{k($),typeof t=="function"&&t($),A($),N($),$!=null&&(C.current=$)},[k,t,A,N]),oe=b.useCallback($=>{P(O5($)),P(dr({handler:a,reactEvent:$}))},[P,a]),q=b.useCallback($=>{P(cx($)),P(dr({handler:u,reactEvent:$}))},[P,u]),K=b.useCallback($=>{P(hV()),P(dr({handler:c,reactEvent:$}))},[P,c]),W=b.useCallback($=>{P(cx($)),P(dr({handler:f,reactEvent:$}))},[P,f]),te=b.useCallback(()=>{P(D5())},[P]),le=b.useCallback($=>{P(k5($.key))},[P]),We=b.useCallback($=>{P(dr({handler:s,reactEvent:$}))},[P,s]),ut=b.useCallback($=>{P(dr({handler:o,reactEvent:$}))},[P,o]),jt=b.useCallback($=>{P(dr({handler:l,reactEvent:$}))},[P,l]),je=b.useCallback($=>{P(dr({handler:h,reactEvent:$}))},[P,h]),dn=b.useCallback($=>{P(dr({handler:x,reactEvent:$}))},[P,x]),Ci=b.useCallback($=>{S&&P(L5($)),P(dr({handler:g,reactEvent:$}))},[P,S,g]),kt=b.useCallback($=>{P(dr({handler:p,reactEvent:$}))},[P,p]),Vs=nhe(_);return b.createElement(kV.Provider,{value:O},b.createElement(sQ.Provider,{value:T},b.createElement(Vs,{width:R??(v==null?void 0:v.width),height:D??(v==null?void 0:v.height),className:Ye("recharts-wrapper",r),style:Kde({position:"relative",cursor:"default",width:R,height:D},v),onClick:oe,onContextMenu:We,onDoubleClick:ut,onFocus:te,onKeyDown:le,onMouseDown:jt,onMouseEnter:q,onMouseLeave:K,onMouseMove:W,onMouseUp:je,onTouchEnd:kt,onTouchMove:Ci,onTouchStart:dn,ref:Z},b.createElement(Qde,null),n)))}),ihe=["width","height","responsive","children","className","style","compact","title","desc"];function ahe(e,t){if(e==null)return{};var n,r,i=she(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function she(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ohe=b.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:a,className:s,style:o,compact:l,title:u,desc:c}=e,f=ahe(e,ihe),h=qr(f);return l?b.createElement(b.Fragment,null,b.createElement(Pd,{width:n,height:r}),b.createElement(LI,{otherAttributes:h,title:u,desc:c},a)):b.createElement(rhe,{className:s,style:o,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},b.createElement(LI,{otherAttributes:h,title:u,desc:c,ref:t},b.createElement(hce,null,a)))});function fx(){return fx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fx.apply(null,arguments)}var lhe={top:5,right:5,bottom:5,left:5},uhe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:lhe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},che=b.forwardRef(function(t,n){var r,i=fr(t.categoricalChartProps,uhe),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:u}=t,c={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return b.createElement(Mde,{preloadedState:{options:c},reduxStoreName:(r=u.id)!==null&&r!==void 0?r:a},b.createElement(sce,{chartData:u.data}),b.createElement(Vde,{layout:i.layout,margin:i.margin}),b.createElement(Ude,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),b.createElement(ohe,fx({},i,{ref:n})))}),fhe=["axis"],dhe=b.forwardRef((e,t)=>b.createElement(che,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:fhe,tooltipPayloadSearcher:Toe,categoricalChartProps:e,ref:t}));const hhe=()=>{const[e,t]=b.useState([]),[n,r]=b.useState(!0);b.useEffect(()=>{const s=m1(oa(mt,"orders"),RM("created_at","asc")),o=Td(s,l=>{const u=l.docs.map(c=>{var f,h;return{id:c.id,...c.data(),dateObj:(f=c.data().created_at)==null?void 0:f.toDate(),date:((h=c.data().created_at)==null?void 0:h.toDate().toLocaleDateString())||"N/A"}});t(u),r(!1)});return()=>o()},[]);const i=b.useMemo(()=>{const s=e.reduce((u,c)=>u+(Number(c.total)||0),0),o=new Set(e.map(u=>u.user)).size,l=e.map(u=>({date:u.date,sales:Number(u.total)}));return{totalRevenue:s,uniqueCustomers:o,salesData:l}},[e]);if(n)return m.jsx("div",{className:"p-12 text-center text-gray-400 font-bold uppercase tracking-widest text-xs",children:"Loading Dashboard..."});const a=({title:s,value:o,icon:l,gradient:u,trend:c})=>m.jsxs("div",{className:`p-6 rounded-3xl text-white shadow-lg shadow-color relative overflow-hidden group hover:-translate-y-1 transition-transform duration-300 ${u}`,children:[m.jsxs("div",{className:"flex justify-between items-start z-10 relative",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-white/80 text-sm font-medium mb-1",children:s}),m.jsx("h3",{className:"text-3xl font-bold tracking-tight",children:o})]}),m.jsx("div",{className:"p-2 bg-white/20 rounded-xl backdrop-blur-sm",children:m.jsx(l,{size:20,className:"text-white"})})]}),m.jsxs("div",{className:"mt-6 flex items-center gap-2 text-sm font-medium relative z-10",children:[m.jsxs("span",{className:"bg-white/20 px-2 py-0.5 rounded-lg flex items-center gap-1 backdrop-blur-md",children:[m.jsx(DW,{size:14})," ",c]}),m.jsx("span",{className:"text-white/70 text-xs",children:"Since last month"})]}),m.jsx("div",{className:"absolute -bottom-4 -right-4 w-32 h-32 bg-white/10 rounded-full blur-2xl group-hover:scale-110 transition-transform duration-500"})]});return m.jsxs("div",{className:"flex gap-8",children:[m.jsxs("div",{className:"flex-1 space-y-8 min-w-0",children:[m.jsxs("div",{className:"flex justify-between items-center bg-white p-4 rounded-2xl border border-gray-100 shadow-sm",children:[m.jsx("h1",{className:"text-2xl font-bold text-gray-800 ml-2",children:"Dashboard"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{className:"p-2 text-gray-400 hover:bg-gray-50 rounded-lg",children:m.jsx(jf,{size:20})}),m.jsx("div",{className:"w-8 h-8 bg-black rounded-full flex items-center justify-center text-white font-bold text-xs shadow-md",children:"A"})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[m.jsx(a,{title:"Total Revenue",value:`$${i.totalRevenue.toLocaleString()}`,icon:n4,gradient:"bg-gradient-cyan",trend:"+12.5%"}),m.jsx(a,{title:"Total Orders",value:e.length,icon:i4,gradient:"bg-gradient-pink",trend:"+8.2%"}),m.jsx(a,{title:"New Customers",value:i.uniqueCustomers,icon:dX,gradient:"bg-gradient-orange",trend:"+2.4%"}),m.jsx(a,{title:"Avg. Order Value",value:"$124.50",icon:jW,gradient:"bg-gradient-green",trend:"+5.1%"})]}),m.jsxs("div",{className:"admin-card p-8",children:[m.jsxs("div",{className:"flex justify-between items-center mb-8",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Sales Overview"}),m.jsx("p",{className:"text-xs text-gray-500 font-medium uppercase tracking-wider mt-1",children:"Monthly Analytics"})]}),m.jsxs("select",{className:"bg-gray-50 border border-gray-200 text-xs font-bold uppercase tracking-wider text-gray-600 rounded-lg px-3 py-2 outline-none",children:[m.jsx("option",{children:"This Year"}),m.jsx("option",{children:"Last Year"})]})]}),m.jsx("div",{className:"h-[300px] w-full",children:m.jsx(oee,{width:"100%",height:"100%",children:m.jsxs(dhe,{data:i.salesData,children:[m.jsx("defs",{children:m.jsxs("linearGradient",{id:"colorSales",x1:"0",y1:"0",x2:"0",y2:"1",children:[m.jsx("stop",{offset:"5%",stopColor:"#D4AF37",stopOpacity:.3}),m.jsx("stop",{offset:"95%",stopColor:"#D4AF37",stopOpacity:0})]})}),m.jsx(m5,{strokeDasharray:"3 3",stroke:"#f0f0f0",vertical:!1}),m.jsx(C5,{dataKey:"date",axisLine:!1,tickLine:!1,tick:{fill:"#9ca3af",fontSize:11},dy:10}),m.jsx(N5,{axisLine:!1,tickLine:!1,tick:{fill:"#9ca3af",fontSize:11},tickFormatter:s=>`$${s}`}),m.jsx(Xoe,{contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgba(0,0,0,0.1)"},itemStyle:{color:"#D4AF37",fontWeight:"bold"}}),m.jsx(A5,{type:"monotone",dataKey:"sales",stroke:"#D4AF37",strokeWidth:3,fillOpacity:1,fill:"url(#colorSales)"})]})})})]}),m.jsxs("div",{className:"admin-card overflow-hidden",children:[m.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[m.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Recent Orders"}),m.jsx("button",{className:"text-yellow-600 text-xs font-bold uppercase tracking-wider hover:text-yellow-700",children:"View All"})]}),m.jsxs("table",{className:"w-full text-left admin-table",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"bg-gray-50/50 text-gray-400",children:[m.jsx("th",{className:"p-4 pl-6",children:"Order ID"}),m.jsx("th",{className:"p-4",children:"Customer"}),m.jsx("th",{className:"p-4",children:"Date"}),m.jsx("th",{className:"p-4",children:"Amount"}),m.jsx("th",{className:"p-4 text-right pr-6",children:"Status"})]})}),m.jsx("tbody",{children:e.slice().reverse().slice(0,5).map(s=>{var o,l;return m.jsxs("tr",{className:"hover:bg-gray-50/80 transition-colors",children:[m.jsxs("td",{className:"p-4 pl-6 font-mono text-xs font-bold text-gray-600",children:["#",s.id.slice(0,6)]}),m.jsxs("td",{className:"p-4 flex items-center gap-3",children:[m.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center text-xs font-bold text-gray-500",children:(o=s.user)==null?void 0:o.charAt(0).toUpperCase()}),m.jsx("span",{className:"text-sm font-medium text-gray-900",children:(l=s.user)==null?void 0:l.split("@")[0]})]}),m.jsx("td",{className:"p-4 text-xs text-gray-500 font-medium",children:s.date}),m.jsxs("td",{className:"p-4 text-sm font-bold text-gray-900",children:["$",Number(s.total).toFixed(2)]}),m.jsx("td",{className:"p-4 text-right pr-6",children:m.jsx("span",{className:`px-2.5 py-1 rounded-lg text-xs font-bold ${s.status==="New"?"bg-yellow-100 text-yellow-700":s.status==="Shipped"?"bg-cyan-100 text-cyan-700":"bg-green-100 text-green-700"}`,children:s.status||"Paid"})})]},s.id)})})]})]})]}),m.jsxs("div",{className:"w-[350px] flex-shrink-0 space-y-6 hidden xl:block",children:[m.jsxs("div",{className:"admin-card p-6 text-center relative overflow-hidden",children:[m.jsx("div",{className:"w-24 h-24 mx-auto rounded-full p-1 bg-gradient-to-br from-gold to-yellow-600 mb-4 shadow-xl",children:m.jsx("div",{className:"w-full h-full rounded-full bg-white flex items-center justify-center text-3xl font-bold text-yellow-600",children:"A"})}),m.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Admin User"}),m.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"Store Manager"}),m.jsxs("div",{className:"flex justify-center gap-4",children:[m.jsx("button",{className:"p-2 rounded-full bg-gray-50 hover:bg-gray-100 text-gray-500 transition-colors",children:m.jsx(JW,{size:18})}),m.jsx("button",{className:"p-2 rounded-full bg-gray-50 hover:bg-gray-100 text-gray-500 transition-colors",children:m.jsx(jf,{size:18})}),m.jsx("button",{className:"p-2 rounded-full bg-gray-50 hover:bg-gray-100 text-gray-500 transition-colors",children:m.jsx(YW,{size:18})})]})]}),m.jsxs("div",{className:"admin-card",children:[m.jsxs("div",{className:"p-5 border-b border-gray-100 flex justify-between items-center",children:[m.jsx("h3",{className:"text-base font-bold text-gray-800",children:"Recent Buyers"}),m.jsx(zW,{size:16,className:"text-gray-400 cursor-pointer"})]}),m.jsx("div",{className:"p-2 max-h-[400px] overflow-y-auto",children:e.slice(0,5).map(s=>{var o,l;return m.jsxs("div",{className:"flex items-center gap-4 p-3 hover:bg-gray-50 rounded-xl cursor-pointer transition-colors group",children:[m.jsx("div",{className:"w-10 h-10 rounded-xl bg-gray-100 flex items-center justify-center text-gray-500 font-bold text-sm group-hover:bg-white group-hover:shadow-sm transition-all",children:(o=s.user)==null?void 0:o.charAt(0).toUpperCase()}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h4",{className:"text-sm font-bold text-gray-800",children:(l=s.user)==null?void 0:l.split("@")[0]}),m.jsx("p",{className:"text-xs text-gray-400",children:s.date})]}),m.jsxs("span",{className:"text-sm font-bold text-gray-900",children:["$",Number(s.total).toFixed(0)]})]},s.id)})}),m.jsx("div",{className:"p-4 border-t border-gray-100 text-center",children:m.jsx("div",{className:"p-4 border-t border-gray-100 text-center",children:m.jsx("button",{className:"text-xs font-bold text-yellow-600 uppercase tracking-wider hover:text-yellow-700",children:"View All Customers"})})})]}),m.jsxs("div",{className:"p-6 rounded-3xl bg-gray-900 text-white relative overflow-hidden shadow-xl",children:[m.jsxs("div",{className:"relative z-10",children:[m.jsx("p",{className:"text-gray-400 text-xs font-bold uppercase tracking-wider mb-2",children:"Revenue Goal"}),m.jsxs("h3",{className:"text-3xl font-bold mb-4",children:["$",i.totalRevenue.toLocaleString()]}),m.jsx("div",{className:"w-full bg-gray-700 h-1.5 rounded-full mb-2 overflow-hidden",children:m.jsx("div",{className:"bg-gradient-to-r from-gold to-yellow-600 h-full rounded-full",style:{width:`${Math.min(i.totalRevenue/5e3*100,100)}%`}})}),m.jsxs("div",{className:"flex justify-between text-xs text-gray-400",children:[m.jsx("span",{children:"Goal: $5,000"}),m.jsxs("span",{children:[Math.min(i.totalRevenue/5e3*100,100).toFixed(0),"%"]})]})]}),m.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-yellow-500 rounded-full blur-[60px] opacity-20"})]})]})]})},mhe=()=>{var x,v,w;const[e,t]=b.useState([]),[n,r]=b.useState(!0),[i,a]=b.useState("All"),[s,o]=b.useState(""),[l,u]=b.useState(null),[c,f]=b.useState("");b.useEffect(()=>{const _=Td(oa(mt,"orders"),S=>{const C=S.docs.map(P=>{var A;const O=P.data();return{id:P.id,...O,date:((A=O.created_at)==null?void 0:A.toDate().toLocaleDateString())||new Date().toLocaleDateString(),paymentStatus:O.paymentStatus||"Paid",fulfillmentStatus:O.status||"Pending",trackingNumber:O.trackingNumber||""}});C.sort((P,O)=>O.created_at-P.created_at),t(C),r(!1)});return()=>_()},[]);const h=async(_,S)=>{try{await Pf(Tr(mt,"orders",_),{status:S})}catch(C){alert("Update failed: "+C.message)}},p=async()=>{if(l)try{await Pf(Tr(mt,"orders",l.id),{trackingNumber:c,status:"Shipped"}),f(""),u(null)}catch(_){alert("Failed to save tracking: "+_.message)}},g=e.filter(_=>{var P;const S=i==="All"||_.fulfillmentStatus===i,C=_.id.toLowerCase().includes(s.toLowerCase())||((P=_.user)==null?void 0:P.toLowerCase().includes(s.toLowerCase()));return S&&C});return m.jsxs("div",{className:"h-[calc(100vh-6rem)] flex flex-col",children:[m.jsxs("header",{className:"flex justify-between items-center mb-8",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Orders"}),m.jsx("p",{className:"text-gray-500 mt-1 text-sm",children:"Manage and track customer orders"})]}),m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("div",{className:"relative",children:[m.jsx(C1,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),m.jsx("input",{type:"text",placeholder:"Order # or Customer...",value:s,onChange:_=>o(_.target.value),className:"pl-10 pr-4 py-2.5 bg-white border border-gray-200 rounded-lg text-sm w-64 focus:outline-none focus:ring-2 focus:ring-gold/50"})]}),m.jsx("select",{value:i,onChange:_=>a(_.target.value),className:"px-4 py-2.5 bg-white border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-gold/50 cursor-pointer",children:["All","New","Pending","Processing","Shipped","Delivered"].map(_=>m.jsx("option",{value:_,children:_==="All"?"Filter by Status":_},_))})]})]}),m.jsxs("div",{className:"flex gap-6 flex-1 min-h-0",children:[m.jsx("div",{className:`bg-white border border-gray-200 rounded-2xl shadow-sm flex-1 overflow-hidden flex flex-col transition-all duration-300 ${l?"w-2/3":"w-full"}`,children:m.jsx("div",{className:"overflow-y-auto flex-1 p-2",children:m.jsxs("table",{className:"w-full text-left admin-table",children:[m.jsx("thead",{className:"sticky top-0 bg-white z-10",children:m.jsxs("tr",{className:"text-gray-400 text-xs uppercase tracking-wider border-b border-gray-100",children:[m.jsx("th",{className:"p-4 font-medium pl-6",children:"Order"}),m.jsx("th",{className:"p-4 font-medium",children:"Customer"}),m.jsx("th",{className:"p-4 font-medium",children:"Date"}),m.jsx("th",{className:"p-4 font-medium",children:"Total"}),m.jsx("th",{className:"p-4 font-medium",children:"Status"}),m.jsx("th",{className:"p-4 font-medium text-right pr-6",children:"Action"})]})}),m.jsx("tbody",{className:"divide-y divide-gray-50",children:n?m.jsx("tr",{children:m.jsx("td",{colSpan:"6",className:"p-12 text-center text-gray-400",children:"Loading orders..."})}):g.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:"6",className:"p-12 text-center text-gray-400",children:"No orders found."})}):g.map(_=>{var S;return m.jsxs("tr",{onClick:()=>u(_),className:`hover:bg-gold/5 cursor-pointer transition-colors group border-b border-gray-50 last:border-0 ${(l==null?void 0:l.id)===_.id?"bg-gold/10":""}`,children:[m.jsxs("td",{className:"p-4 pl-6 font-mono text-sm text-gray-600 font-bold group-hover:text-gold transition-colors",children:["#",_.id.slice(0,6)]}),m.jsx("td",{className:"p-4",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-gray-500 font-bold text-xs",children:(S=_.user)==null?void 0:S.charAt(0).toUpperCase()}),m.jsx("span",{className:"text-sm font-medium text-gray-900",children:_.user})]})}),m.jsx("td",{className:"p-4 text-sm text-gray-500",children:_.date}),m.jsxs("td",{className:"p-4 text-sm font-medium text-gray-900",children:["$",Number(_.total).toFixed(2)]}),m.jsx("td",{className:"p-4",children:m.jsx("span",{className:`text-xs font-bold px-2.5 py-1 rounded-full ${_.fulfillmentStatus==="Delivered"?"bg-green-100 text-green-700":_.fulfillmentStatus==="Shipped"?"bg-purple-100 text-purple-700":_.fulfillmentStatus==="Processing"?"bg-blue-100 text-blue-700":"bg-yellow-100 text-yellow-700"}`,children:_.fulfillmentStatus})}),m.jsx("td",{className:"p-4 pr-6 text-right",children:m.jsx("div",{className:"text-gray-300 group-hover:text-gray-600",children:""})})]},_.id)})})]})})}),l&&m.jsxs("div",{className:"w-[400px] bg-white border border-gray-200 rounded-2xl shadow-xl flex flex-col overflow-hidden animate-slide-in-right",children:[m.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-start bg-gold/5",children:[m.jsxs("div",{children:[m.jsxs("h2",{className:"text-lg font-bold text-gray-900",children:["Order #",l.id.slice(0,6)]}),m.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[l.date," at ",new Date(((x=l.created_at)==null?void 0:x.seconds)*1e3).toLocaleTimeString()]})]}),m.jsx("button",{onClick:()=>u(null),className:"p-1 hover:bg-gray-200 rounded-full text-gray-400 hover:text-gray-600 transition-colors",children:m.jsx("span",{className:"text-xl leading-none",children:""})})]}),m.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full mx-auto flex items-center justify-center text-3xl text-gray-400 font-light mb-4",children:(v=l.user)==null?void 0:v.charAt(0).toUpperCase()}),m.jsxs("h3",{className:"font-bold text-gray-900 text-lg",children:[l.firstName," ",l.lastName]}),m.jsx("p",{className:"text-sm text-gray-500 mb-4",children:l.email}),m.jsx("div",{className:"flex justify-center gap-4",children:m.jsx("button",{className:"p-2 rounded-full border border-gray-200 hover:bg-gold hover:border-gold hover:text-white transition-colors text-gray-500",children:m.jsx(jf,{size:16})})})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"text-xs font-bold uppercase tracking-wider text-gray-400 mb-4",children:"Order Items"}),m.jsx("div",{className:"space-y-4",children:(w=l.cart)==null?void 0:w.map((_,S)=>m.jsxs("div",{className:"flex gap-4",children:[m.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex-shrink-0"}),m.jsxs("div",{className:"flex-1",children:[m.jsx("p",{className:"text-sm font-medium text-gray-900",children:_.name}),m.jsxs("p",{className:"text-xs text-gray-500",children:["Qty: ",_.quantity,"  $",_.price]})]}),m.jsxs("span",{className:"text-sm font-bold text-gray-900",children:["$",(_.price*_.quantity).toFixed(2)]})]},S))}),m.jsxs("div",{className:"border-t border-gray-100 mt-4 pt-4 flex justify-between items-center",children:[m.jsx("span",{className:"font-bold text-gray-900",children:"Total"}),m.jsxs("span",{className:"font-bold text-2xl text-gray-900",children:["$",l.total]})]})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"text-xs font-bold uppercase tracking-wider text-gray-400 mb-4",children:"Fulfillment"}),m.jsx("div",{className:"grid grid-cols-2 gap-2",children:["Pending","Processing","Shipped","Delivered"].map(_=>m.jsx("button",{onClick:()=>h(l.id,_),className:`px-3 py-2 text-xs font-medium rounded-lg border transition-all ${l.fulfillmentStatus===_?"bg-gold text-black border-gold shadow-sm":"border-gray-200 text-gray-500 hover:border-gray-300"}`,children:_},_))})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"text-xs font-bold uppercase tracking-wider text-gray-400 mb-4",children:"Tracking Info"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("input",{type:"text",value:c,onChange:_=>f(_.target.value),placeholder:"Tracking Number",className:"flex-1 text-sm border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:border-gold"}),m.jsx("button",{onClick:p,className:"bg-black text-white px-4 py-2 rounded-lg text-sm hover:bg-gray-800 transition-colors",children:"Save"})]})]})]})]})]})]})},phe=()=>{const[e,t]=b.useState([]),[n,r]=b.useState(!0),[i,a]=b.useState(!1),[s,o]=b.useState(null),[l,u]=b.useState(""),[c,f]=b.useState(!1),h=async O=>{const A=O.target.files[0];if(A){f(!0);try{const T=hW(bW,`products/${Date.now()}_${A.name}`),N=await fW(T,A),k=await dW(N.ref);g(j=>({...j,imageUrl:k})),g(j=>({...j,imageType:"custom"}))}catch(T){console.error("Upload failed",T),alert("Upload failed: "+T.message)}finally{f(!1)}}},[p,g]=b.useState({sku:"",name:"",category:"Powder",price:"",cost:"",stock:"",reorderPoint:10,imageType:"divine",imageUrl:""});b.useEffect(()=>{const O=Td(oa(mt,"products"),A=>{const T=A.docs.map(N=>({id:N.id,...N.data()}));t(T),r(!1)},A=>{console.error("Error fetching products:",A),r(!1)});return()=>O()},[]);const x=e.reduce((O,A)=>O+(Number(A.cost)||0)*(Number(A.stock)||0),0),v=e.filter(O=>(Number(O.stock)||0)<=(Number(O.reorderPoint)||0)).length,w=O=>{const A=Number(O.stock)||0,T=Number(O.reorderPoint)||0;return A===0?{label:"Out of Stock",color:"text-red-500 bg-red-500/10 border-red-500/20"}:A<=5?{label:"Critical",color:"text-red-400 bg-red-400/10 border-red-400/20"}:A<=T?{label:"Low Stock",color:"text-yellow-500 bg-yellow-500/10 border-yellow-500/20"}:{label:"In Stock",color:"text-green-500 bg-green-500/10 border-green-500/20"}},_=(O=null)=>{o(O),g(O?{sku:O.sku||"",name:O.name||"",category:O.category||"Powder",price:O.price||"",cost:O.cost||"",stock:O.stock||"",reorderPoint:O.reorderPoint||10,imageType:O.imageType||"divine",imageUrl:O.imageUrl||""}:{sku:"",name:"",category:"Powder",price:"",cost:"",stock:"",reorderPoint:10,imageType:"divine",imageUrl:""}),a(!0)},S=async O=>{O.preventDefault();const A={...p,price:Number(p.price),cost:Number(p.cost),stock:Number(p.stock),reorderPoint:Number(p.reorderPoint)};try{s?await Pf(Tr(mt,"products",s.id),A):await _1(oa(mt,"products"),A),a(!1)}catch(T){alert("Failed to save product: "+T.message)}},C=async O=>{window.confirm("Are you sure you want to delete this product?")&&await DM(Tr(mt,"products",O))},P=e.filter(O=>O.name.toLowerCase().includes(l.toLowerCase())||O.sku.toLowerCase().includes(l.toLowerCase()));return n?m.jsx("div",{className:"p-10 text-center text-gray-500 text-xs uppercase tracking-widest",children:"Loading Inventory..."}):m.jsxs("div",{className:"space-y-8",children:[m.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-end gap-4 pb-6 border-b border-gray-200",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Inventory"}),m.jsx("p",{className:"text-gray-500 mt-1 text-sm",children:"Manage product catalog, stock levels, and pricing."})]}),m.jsxs("div",{className:"flex gap-4 w-full md:w-auto",children:[m.jsxs("div",{className:"relative group",children:[m.jsx(C1,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-gold transition-colors",size:18}),m.jsx("input",{type:"text",placeholder:"Search Inventory...",value:l,onChange:O=>u(O.target.value),className:"pl-10 pr-4 py-2.5 bg-white border border-gray-200 rounded-lg text-sm w-full md:w-64 focus:outline-none focus:ring-2 focus:ring-gold/50 transition-all shadow-sm"})]}),m.jsxs("button",{onClick:()=>_(),className:"bg-gradient-to-r from-gold to-yellow-600 hover:from-yellow-400 hover:to-yellow-500 text-black text-xs uppercase tracking-widest px-6 py-2.5 font-bold transition-all rounded-lg flex items-center gap-2 shadow-lg hover:shadow-xl hover:-translate-y-0.5 shadow-gold/20",children:[m.jsx(tX,{size:16})," Add Product"]})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[m.jsxs("div",{className:"bg-white border border-gray-200 p-6 rounded-2xl shadow-sm flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-500 text-xs font-bold uppercase tracking-wider",children:"Total Asset Value"}),m.jsxs("h3",{className:"text-2xl text-gray-900 font-bold mt-1 tracking-tight",children:["$",x.toLocaleString()]})]}),m.jsx("div",{className:"p-3 bg-blue-50 rounded-xl text-blue-600",children:m.jsx(n4,{size:24})})]}),m.jsxs("div",{className:"bg-white border border-gray-200 p-6 rounded-2xl shadow-sm flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-500 text-xs font-bold uppercase tracking-wider",children:"Total Products"}),m.jsx("h3",{className:"text-2xl text-gray-900 font-bold mt-1 tracking-tight",children:e.length})]}),m.jsx("div",{className:"p-3 bg-purple-50 rounded-xl text-purple-600",children:m.jsx(r4,{size:24})})]}),m.jsxs("div",{className:"bg-white border border-gray-200 p-6 rounded-2xl shadow-sm flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-500 text-xs font-bold uppercase tracking-wider",children:"Low Stock Alerts"}),m.jsx("h3",{className:`text-2xl font-bold mt-1 tracking-tight ${v>0?"text-red-600":"text-green-600"}`,children:v})]}),m.jsx("div",{className:`p-3 rounded-xl ${v>0?"bg-red-50 text-red-600":"bg-green-50 text-green-600"}`,children:m.jsx(cX,{size:24})})]})]}),m.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl overflow-hidden shadow-sm",children:m.jsxs("table",{className:"w-full text-left admin-table",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"bg-gray-50 text-gray-400 text-xs font-bold uppercase tracking-wider border-b border-gray-100",children:[m.jsx("th",{className:"p-4 pl-6 font-medium w-20",children:"Image"}),m.jsx("th",{className:"p-4 font-medium",children:"Product Name"}),m.jsx("th",{className:"p-4 font-medium",children:"Category"}),m.jsx("th",{className:"p-4 font-medium text-right",children:"Price"}),m.jsx("th",{className:"p-4 font-medium text-center",children:"Stock"}),m.jsx("th",{className:"p-4 font-medium",children:"Status"}),m.jsx("th",{className:"p-4 font-medium text-right pr-6",children:"Actions"})]})}),m.jsx("tbody",{className:"divide-y divide-gray-50",children:P.map(O=>{const A=w(O);return m.jsxs("tr",{className:"hover:bg-gray-50 transition-colors group",children:[m.jsx("td",{className:"p-4 pl-6",children:m.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg overflow-hidden border border-gray-100",children:O.imageUrl?m.jsx("img",{src:O.imageUrl,alt:O.name,className:"w-full h-full object-cover"}):m.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:m.jsx(y_,{size:16})})})}),m.jsxs("td",{className:"p-4",children:[m.jsx("div",{className:"text-sm text-gray-900 font-bold",children:O.name}),m.jsx("div",{className:"text-xs text-gray-500 font-mono mt-0.5",children:O.sku})]}),m.jsx("td",{className:"p-4 text-sm text-gray-600",children:O.category}),m.jsxs("td",{className:"p-4 text-sm text-gray-900 font-mono text-right font-medium",children:["$",Number(O.price).toFixed(2)]}),m.jsx("td",{className:"p-4 text-sm text-gray-900 font-mono text-center",children:O.stock}),m.jsx("td",{className:"p-4",children:m.jsx("span",{className:`text-[10px] uppercase font-bold tracking-wider px-2.5 py-1 rounded-full border ${A.color.replace("bg-","bg-opacity-10 bg-").replace("text-","text-opacity-100 text-")}`,children:A.label})}),m.jsx("td",{className:"p-4 text-right pr-6",children:m.jsxs("div",{className:"flex gap-2 justify-end opacity-0 group-hover:opacity-100 transition-opacity",children:[m.jsx("button",{onClick:()=>_(O),className:"p-2 text-gray-400 hover:text-gold hover:bg-gold/10 rounded-lg transition-colors",children:m.jsx(QW,{size:16})}),m.jsx("button",{onClick:()=>C(O.id),className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",children:m.jsx(a4,{size:16})})]})})]},O.id)})})]})}),i&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-fade-in",children:m.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-2xl shadow-2xl overflow-hidden animate-scale-in",children:[m.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50/50",children:[m.jsx("h2",{className:"text-lg font-bold text-gray-900",children:s?"Edit Product":"Add New Product"}),m.jsx("button",{onClick:()=>a(!1),className:"text-gray-400 hover:text-gray-600 text-2xl leading-none",children:""})]}),m.jsxs("form",{onSubmit:S,className:"p-8 grid grid-cols-2 gap-6",children:[m.jsxs("div",{className:"col-span-1",children:[m.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-500 mb-2",children:"SKU"}),m.jsx("input",{type:"text",required:!0,className:"w-full bg-white border border-gray-200 rounded-lg p-3 text-gray-900 focus:border-gold focus:ring-1 focus:ring-gold outline-none text-sm transition-all",value:p.sku,onChange:O=>g({...p,sku:O.target.value})})]}),m.jsxs("div",{className:"col-span-1",children:[m.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-500 mb-2",children:"Category"}),m.jsxs("select",{className:"w-full bg-white border border-gray-200 rounded-lg p-3 text-gray-900 focus:border-gold focus:ring-1 focus:ring-gold outline-none text-sm transition-all",value:p.category,onChange:O=>g({...p,category:O.target.value}),children:[m.jsx("option",{children:"Powder"}),m.jsx("option",{children:"Sticks"}),m.jsx("option",{children:"Blends"}),m.jsx("option",{children:"Gift Sets"})]})]}),m.jsxs("div",{className:"col-span-2",children:[m.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-500 mb-2",children:"Product Name"}),m.jsx("input",{type:"text",required:!0,className:"w-full bg-white border border-gray-200 rounded-lg p-3 text-gray-900 focus:border-gold focus:ring-1 focus:ring-gold outline-none text-sm transition-all",value:p.name,onChange:O=>g({...p,name:O.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-500 mb-2",children:"Price ($)"}),m.jsx("input",{type:"number",step:"0.01",required:!0,className:"w-full bg-white border border-gray-200 rounded-lg p-3 text-gray-900 focus:border-gold focus:ring-1 focus:ring-gold outline-none text-sm transition-all",value:p.price,onChange:O=>g({...p,price:O.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-500 mb-2",children:"Cost ($)"}),m.jsx("input",{type:"number",step:"0.01",required:!0,className:"w-full bg-white border border-gray-200 rounded-lg p-3 text-gray-900 focus:border-gold focus:ring-1 focus:ring-gold outline-none text-sm transition-all",value:p.cost,onChange:O=>g({...p,cost:O.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-500 mb-2",children:"Stock"}),m.jsx("input",{type:"number",required:!0,className:"w-full bg-white border border-gray-200 rounded-lg p-3 text-gray-900 focus:border-gold focus:ring-1 focus:ring-gold outline-none text-sm transition-all",value:p.stock,onChange:O=>g({...p,stock:O.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-500 mb-2",children:"Low Stock Threshold"}),m.jsx("input",{type:"number",required:!0,className:"w-full bg-white border border-gray-200 rounded-lg p-3 text-gray-900 focus:border-gold focus:ring-1 focus:ring-gold outline-none text-sm transition-all",value:p.reorderPoint,onChange:O=>g({...p,reorderPoint:O.target.value})})]}),m.jsxs("div",{className:"col-span-2",children:[m.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-500 mb-2",children:"Product Image"}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("div",{className:"w-20 h-20 bg-gray-100 rounded-lg border border-gray-200 flex items-center justify-center overflow-hidden relative group",children:[p.imageUrl?m.jsx("img",{src:p.imageUrl,alt:"Preview",className:"w-full h-full object-cover"}):m.jsx(y_,{className:"text-gray-400"}),c&&m.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:m.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"})})]}),m.jsxs("div",{className:"flex-1",children:[m.jsx("input",{type:"file",onChange:h,disabled:c,accept:"image/*",className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-xs file:font-bold file:bg-black file:text-white hover:file:bg-gray-800 transition-all cursor-pointer"}),m.jsx("p",{className:"text-[10px] text-gray-400 mt-2",children:"Supported: JPG, PNG, WEBP. Max 5MB."})]})]})]}),m.jsxs("div",{className:"col-span-2 flex justify-end gap-4 mt-6 pt-6 border-t border-gray-100",children:[m.jsx("button",{type:"button",onClick:()=>a(!1),className:"px-4 py-2 text-xs font-bold uppercase tracking-widest text-gray-500 hover:text-gray-800 transition-colors",children:"Cancel"}),m.jsx("button",{type:"submit",className:"bg-black text-white px-8 py-3 rounded-lg text-xs uppercase tracking-widest font-bold hover:bg-gray-800 transition-colors shadow-lg shadow-black/20",children:"Save Product"})]})]})]})})]})},ghe=()=>{const[e,t]=b.useState([]),[n,r]=b.useState(!0),[i,a]=b.useState(null),[s,o]=b.useState(""),[l,u]=b.useState("all"),[c,f]=b.useState(""),[h,p]=b.useState(!1);b.useEffect(()=>{const _=m1(oa(mt,"messages"),RM("createdAt","desc")),S=Td(_,C=>{const P=C.docs.map(O=>{var A;return{id:O.id,...O.data(),createdAt:((A=O.data().createdAt)==null?void 0:A.toDate())||new Date}});t(P),r(!1)});return()=>S()},[]);const g=async _=>{a(_),_.status==="new"&&await Pf(Tr(mt,"messages",_.id),{status:"read"})},x=async(_,S)=>{S&&S.stopPropagation(),window.confirm("Delete this message?")&&(await DM(Tr(mt,"messages",_)),(i==null?void 0:i.id)===_&&a(null))},v=async()=>{if(!(!c.trim()||!i)){p(!0);try{const _="service_vnv2zdj",S="template_bny43aj",C="BsB9Xsr8nr5Yo-WuD",P={to_name:i.name,to_email:i.email,original_message:i.message,reply_message:c,subject:`Re: ${i.subject}`};await m4.send(_,S,P,C),await Pf(Tr(mt,"messages",i.id),{status:"replied",repliedAt:new Date}),alert(`Reply sent to ${i.email} successfully!`),f("")}catch(_){console.error("Failed to send reply:",_),alert(`Failed to send email. Error: ${_.text||_.message}
Please check the console for details.`)}finally{p(!1)}}},w=e.filter(_=>{const S=(_.name||"").toLowerCase().includes(s.toLowerCase())||(_.subject||"").toLowerCase().includes(s.toLowerCase())||(_.email||"").toLowerCase().includes(s.toLowerCase());return l==="unread"?S&&_.status==="new":S});return n?m.jsx("div",{className:"p-10 text-center text-gray-500 text-xs uppercase tracking-widest",children:"Loading Inbox..."}):m.jsxs("div",{className:"h-[calc(100vh-6rem)] flex flex-col",children:[m.jsxs("header",{className:"flex justify-between items-center mb-6",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Messages"}),m.jsx("p",{className:"text-gray-500 mt-1 text-sm",children:"Customer inquiries and support tickets."})]}),m.jsx("div",{className:"flex gap-4",children:m.jsxs("div",{className:"relative group",children:[m.jsx(C1,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-gold transition-colors",size:18}),m.jsx("input",{type:"text",placeholder:"Search inbox...",value:s,onChange:_=>o(_.target.value),className:"pl-10 pr-4 py-2.5 bg-white border border-gray-200 rounded-lg text-sm w-64 focus:outline-none focus:ring-2 focus:ring-gold/50 transition-all shadow-sm"})]})})]}),m.jsxs("div",{className:"flex gap-6 flex-1 min-h-0 bg-white border border-gray-200 rounded-2xl shadow-sm overflow-hidden",children:[m.jsxs("div",{className:"w-1/3 min-w-[320px] max-w-[400px] border-r border-gray-100 flex flex-col bg-gray-50/50",children:[m.jsxs("div",{className:"p-4 border-b border-gray-100 flex gap-2",children:[m.jsx("button",{onClick:()=>u("all"),className:`flex-1 py-2 text-[10px] uppercase tracking-widest font-bold rounded-lg transition-all ${l==="all"?"bg-white text-black shadow-sm border border-gray-200":"text-gray-500 hover:bg-gray-100"}`,children:"All"}),m.jsx("button",{onClick:()=>u("unread"),className:`flex-1 py-2 text-[10px] uppercase tracking-widest font-bold rounded-lg transition-all ${l==="unread"?"bg-gold text-black shadow-lg shadow-gold/20":"text-gray-500 hover:bg-gray-100"}`,children:"Unread"})]}),m.jsx("div",{className:"flex-1 overflow-y-auto",children:w.length===0?m.jsx("div",{className:"p-8 text-center text-gray-400 text-xs uppercase tracking-widest",children:"No messages"}):w.map(_=>m.jsxs("div",{onClick:()=>g(_),className:`p-5 border-b border-gray-100 cursor-pointer transition-all hover:bg-white group relative ${(i==null?void 0:i.id)===_.id?"bg-white shadow-md z-10":""}`,children:[m.jsxs("div",{className:"flex justify-between items-start mb-1",children:[m.jsx("h3",{className:`text-sm truncate pr-2 ${_.status==="new"?"text-gray-900 font-bold":"text-gray-600 font-medium"}`,children:_.name}),m.jsx("span",{className:"text-[10px] text-gray-400 font-mono whitespace-nowrap",children:_.createdAt.toLocaleDateString()})]}),m.jsx("p",{className:`text-xs mb-1.5 truncate ${_.status==="new"?"text-gold font-medium":"text-gray-500"}`,children:_.subject}),m.jsx("p",{className:"text-[11px] text-gray-400 truncate leading-relaxed",children:_.message}),_.status==="new"&&m.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-gold"})]},_.id))})]}),m.jsx("div",{className:"flex-1 flex flex-col bg-white relative",children:i?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"p-8 border-b border-gray-100 flex justify-between items-start",children:[m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-100 flex items-center justify-center text-gray-400 font-bold text-lg",children:i.name.charAt(0).toUpperCase()}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl text-gray-900 font-bold mb-1",children:i.subject}),m.jsxs("div",{className:"flex flex-col text-sm text-gray-500",children:[m.jsxs("span",{className:"flex items-center gap-2",children:["From: ",m.jsx("span",{className:"text-gray-900 font-medium",children:i.name}),m.jsxs("span",{className:"text-xs bg-gray-100 px-2 py-0.5 rounded text-gray-500",children:["<",i.email,">"]})]}),m.jsxs("span",{className:"text-[11px] text-gray-400 mt-1 uppercase tracking-wider flex items-center gap-1",children:[m.jsx(LW,{size:12})," ",i.createdAt.toLocaleString()]})]})]})]}),m.jsx("button",{onClick:_=>x(i.id,_),className:"p-2 text-gray-400 hover:text-red-500 transition-colors rounded-lg hover:bg-red-50",title:"Delete Message",children:m.jsx(a4,{size:18})})]}),m.jsx("div",{className:"flex-1 p-8 overflow-y-auto",children:m.jsx("div",{className:"prose max-w-none",children:m.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap text-sm md:text-base",children:i.message})})}),m.jsxs("div",{className:"p-6 bg-gray-50 border-t border-gray-100 m-4 rounded-xl",children:[m.jsxs("h3",{className:"text-xs font-bold uppercase tracking-wider text-gray-500 mb-4 flex items-center gap-2",children:[m.jsx(rX,{size:14})," Reply to Customer"]}),m.jsx("div",{className:"mb-4",children:m.jsx("textarea",{value:c,onChange:_=>f(_.target.value),placeholder:"Write your response here...",className:"w-full bg-white border border-gray-200 rounded-lg p-4 text-sm text-gray-900 focus:border-gold focus:ring-1 focus:ring-gold outline-none min-h-[120px] resize-none transition-all shadow-sm placeholder:text-gray-400"})}),m.jsx("div",{className:"flex justify-end",children:m.jsx("button",{onClick:v,disabled:!c.trim()||h,className:"bg-gradient-to-r from-gold to-yellow-600 hover:from-yellow-400 hover:to-yellow-500 text-black px-6 py-2.5 rounded-lg shadow-lg hover:shadow-xl hover:-translate-y-0.5 transition-all text-xs uppercase tracking-widest font-bold flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:h?"Sending...":m.jsxs(m.Fragment,{children:[m.jsx(sX,{size:14})," Send Reply"]})})})]})]}):m.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-400",children:[m.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-50 flex items-center justify-center mb-6",children:m.jsx(jf,{size:40,className:"text-gray-300"})}),m.jsx("p",{className:"text-sm font-medium uppercase tracking-widest text-gray-500",children:"Select a message to view"})]})})]})]})};function yhe(){return console.log("VERSION CHECK: STORE DEBUG FIX V2"),m.jsx(xW,{children:m.jsx($8,{children:m.jsx(j8,{basename:"/Ambrosia/",children:m.jsx("div",{className:"app",children:m.jsxs(UT,{children:[m.jsx(ct,{path:"/admin/login",element:m.jsx(YX,{})}),m.jsxs(ct,{path:"/admin",element:m.jsx(WX,{}),children:[m.jsx(ct,{index:!0,element:m.jsx(hhe,{})}),m.jsx(ct,{path:"orders",element:m.jsx(mhe,{})}),m.jsx(ct,{path:"products",element:m.jsx(phe,{})}),m.jsx(ct,{path:"messages",element:m.jsx(ghe,{})})]}),m.jsx(ct,{path:"/*",element:m.jsxs(m.Fragment,{children:[m.jsx(wW,{}),m.jsx("main",{children:m.jsxs(UT,{children:[m.jsx(ct,{path:"/",element:m.jsx(vX,{})}),m.jsx(ct,{path:"/about-us",element:m.jsx(bX,{})}),m.jsx(ct,{path:"/about-cinnamon",element:m.jsx(xX,{})}),m.jsx(ct,{path:"/shop",element:m.jsx(SX,{})}),m.jsx(ct,{path:"/recipes",element:m.jsx(TX,{})}),m.jsx(ct,{path:"/contact",element:m.jsx(CX,{})}),m.jsx(ct,{path:"/cart",element:m.jsx(IX,{})}),m.jsx(ct,{path:"/checkout",element:m.jsx(FX,{})}),m.jsx(ct,{path:"/track",element:m.jsx(qX,{})}),m.jsx(ct,{path:"/order-confirmation",element:m.jsx(HX,{})}),m.jsx(ct,{path:"/faq",element:m.jsx(OX,{})}),m.jsx(ct,{path:"/privacy",element:m.jsx(GX,{})}),m.jsx(ct,{path:"/terms",element:m.jsx(KX,{})})]})}),m.jsx(EW,{})]})})]})})})})})}cB.createRoot(document.getElementById("root")).render(m.jsx(b.StrictMode,{children:m.jsx(yhe,{})}));
