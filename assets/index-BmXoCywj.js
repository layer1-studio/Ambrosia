(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function sx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xE={exports:{}},Ic={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ax=Symbol.for("react.transitional.element"),ox=Symbol.for("react.fragment");function RE(t,e,n){var i=null;if(n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),"key"in e){n={};for(var r in e)r!=="key"&&(n[r]=e[r])}else n=e;return e=n.ref,{$$typeof:ax,type:t,key:i,ref:e!==void 0?e:null,props:n}}Ic.Fragment=ox;Ic.jsx=RE;Ic.jsxs=RE;xE.exports=Ic;var h=xE.exports,CE={exports:{}},J={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pm=Symbol.for("react.transitional.element"),lx=Symbol.for("react.portal"),ux=Symbol.for("react.fragment"),cx=Symbol.for("react.strict_mode"),hx=Symbol.for("react.profiler"),fx=Symbol.for("react.consumer"),dx=Symbol.for("react.context"),mx=Symbol.for("react.forward_ref"),px=Symbol.for("react.suspense"),gx=Symbol.for("react.memo"),NE=Symbol.for("react.lazy"),yx=Symbol.for("react.activity"),fy=Symbol.iterator;function _x(t){return t===null||typeof t!="object"?null:(t=fy&&t[fy]||t["@@iterator"],typeof t=="function"?t:null)}var IE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},DE=Object.assign,OE={};function ra(t,e,n){this.props=t,this.context=e,this.refs=OE,this.updater=n||IE}ra.prototype.isReactComponent={};ra.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ra.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ME(){}ME.prototype=ra.prototype;function gm(t,e,n){this.props=t,this.context=e,this.refs=OE,this.updater=n||IE}var ym=gm.prototype=new ME;ym.constructor=gm;DE(ym,ra.prototype);ym.isPureReactComponent=!0;var dy=Array.isArray;function Hf(){}var xe={H:null,A:null,T:null,S:null},VE=Object.prototype.hasOwnProperty;function _m(t,e,n){var i=n.ref;return{$$typeof:pm,type:t,key:e,ref:i!==void 0?i:null,props:n}}function vx(t,e){return _m(t.type,e,t.props)}function vm(t){return typeof t=="object"&&t!==null&&t.$$typeof===pm}function Ex(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var my=/\/+/g;function Hh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Ex(""+t.key):e.toString(36)}function Tx(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(Hf,Hf):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function rs(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"bigint":case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case pm:case lx:a=!0;break;case NE:return a=t._init,rs(a(t._payload),e,n,i,r)}}if(a)return r=r(t),a=i===""?"."+Hh(t,0):i,dy(r)?(n="",a!=null&&(n=a.replace(my,"$&/")+"/"),rs(r,e,n,"",function(c){return c})):r!=null&&(vm(r)&&(r=vx(r,n+(r.key==null||t&&t.key===r.key?"":(""+r.key).replace(my,"$&/")+"/")+a)),e.push(r)),1;a=0;var l=i===""?".":i+":";if(dy(t))for(var u=0;u<t.length;u++)i=t[u],s=l+Hh(i,u),a+=rs(i,e,n,s,r);else if(u=_x(t),typeof u=="function")for(t=u.call(t),u=0;!(i=t.next()).done;)i=i.value,s=l+Hh(i,u++),a+=rs(i,e,n,s,r);else if(s==="object"){if(typeof t.then=="function")return rs(Tx(t),e,n,i,r);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return a}function Ul(t,e,n){if(t==null)return t;var i=[],r=0;return rs(t,i,"","",function(s){return e.call(n,s,r++)}),i}function bx(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var py=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Sx={map:Ul,forEach:function(t,e,n){Ul(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ul(t,function(){e++}),e},toArray:function(t){return Ul(t,function(e){return e})||[]},only:function(t){if(!vm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};J.Activity=yx;J.Children=Sx;J.Component=ra;J.Fragment=ux;J.Profiler=hx;J.PureComponent=gm;J.StrictMode=cx;J.Suspense=px;J.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=xe;J.__COMPILER_RUNTIME={__proto__:null,c:function(t){return xe.H.useMemoCache(t)}};J.cache=function(t){return function(){return t.apply(null,arguments)}};J.cacheSignal=function(){return null};J.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var i=DE({},t.props),r=t.key;if(e!=null)for(s in e.key!==void 0&&(r=""+e.key),e)!VE.call(e,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&e.ref===void 0||(i[s]=e[s]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var a=Array(s),l=0;l<s;l++)a[l]=arguments[l+2];i.children=a}return _m(t.type,r,i)};J.createContext=function(t){return t={$$typeof:dx,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:fx,_context:t},t};J.createElement=function(t,e,n){var i,r={},s=null;if(e!=null)for(i in e.key!==void 0&&(s=""+e.key),e)VE.call(e,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return _m(t,s,r)};J.createRef=function(){return{current:null}};J.forwardRef=function(t){return{$$typeof:mx,render:t}};J.isValidElement=vm;J.lazy=function(t){return{$$typeof:NE,_payload:{_status:-1,_result:t},_init:bx}};J.memo=function(t,e){return{$$typeof:gx,type:t,compare:e===void 0?null:e}};J.startTransition=function(t){var e=xe.T,n={};xe.T=n;try{var i=t(),r=xe.S;r!==null&&r(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(Hf,py)}catch(s){py(s)}finally{e!==null&&n.types!==null&&(e.types=n.types),xe.T=e}};J.unstable_useCacheRefresh=function(){return xe.H.useCacheRefresh()};J.use=function(t){return xe.H.use(t)};J.useActionState=function(t,e,n){return xe.H.useActionState(t,e,n)};J.useCallback=function(t,e){return xe.H.useCallback(t,e)};J.useContext=function(t){return xe.H.useContext(t)};J.useDebugValue=function(){};J.useDeferredValue=function(t,e){return xe.H.useDeferredValue(t,e)};J.useEffect=function(t,e){return xe.H.useEffect(t,e)};J.useEffectEvent=function(t){return xe.H.useEffectEvent(t)};J.useId=function(){return xe.H.useId()};J.useImperativeHandle=function(t,e,n){return xe.H.useImperativeHandle(t,e,n)};J.useInsertionEffect=function(t,e){return xe.H.useInsertionEffect(t,e)};J.useLayoutEffect=function(t,e){return xe.H.useLayoutEffect(t,e)};J.useMemo=function(t,e){return xe.H.useMemo(t,e)};J.useOptimistic=function(t,e){return xe.H.useOptimistic(t,e)};J.useReducer=function(t,e,n){return xe.H.useReducer(t,e,n)};J.useRef=function(t){return xe.H.useRef(t)};J.useState=function(t){return xe.H.useState(t)};J.useSyncExternalStore=function(t,e,n){return xe.H.useSyncExternalStore(t,e,n)};J.useTransition=function(){return xe.H.useTransition()};J.version="19.2.3";CE.exports=J;var M=CE.exports;const Ax=sx(M);var jE={exports:{}},Dc={},kE={exports:{}},LE={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,te){var W=q.length;q.push(te);e:for(;0<W;){var Ee=W-1>>>1,Pe=q[Ee];if(0<r(Pe,te))q[Ee]=te,q[W]=Pe,W=Ee;else break e}}function n(q){return q.length===0?null:q[0]}function i(q){if(q.length===0)return null;var te=q[0],W=q.pop();if(W!==te){q[0]=W;e:for(var Ee=0,Pe=q.length,fr=Pe>>>1;Ee<fr;){var dr=2*(Ee+1)-1,Jr=q[dr],Ft=dr+1,li=q[Ft];if(0>r(Jr,W))Ft<Pe&&0>r(li,Jr)?(q[Ee]=li,q[Ft]=W,Ee=Ft):(q[Ee]=Jr,q[dr]=W,Ee=dr);else if(Ft<Pe&&0>r(li,W))q[Ee]=li,q[Ft]=W,Ee=Ft;else break e}}return te}function r(q,te){var W=q.sortIndex-te.sortIndex;return W!==0?W:q.id-te.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],c=[],d=1,g=null,p=3,y=!1,C=!1,D=!1,I=!1,T=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function V(q){for(var te=n(c);te!==null;){if(te.callback===null)i(c);else if(te.startTime<=q)i(c),te.sortIndex=te.expirationTime,e(u,te);else break;te=n(c)}}function U(q){if(D=!1,V(q),!C)if(n(u)!==null)C=!0,F||(F=!0,N());else{var te=n(c);te!==null&&rn(U,te.startTime-q)}}var F=!1,b=-1,E=5,S=-1;function x(){return I?!0:!(t.unstable_now()-S<E)}function R(){if(I=!1,F){var q=t.unstable_now();S=q;var te=!0;try{e:{C=!1,D&&(D=!1,v(b),b=-1),y=!0;var W=p;try{t:{for(V(q),g=n(u);g!==null&&!(g.expirationTime>q&&x());){var Ee=g.callback;if(typeof Ee=="function"){g.callback=null,p=g.priorityLevel;var Pe=Ee(g.expirationTime<=q);if(q=t.unstable_now(),typeof Pe=="function"){g.callback=Pe,V(q),te=!0;break t}g===n(u)&&i(u),V(q)}else i(u);g=n(u)}if(g!==null)te=!0;else{var fr=n(c);fr!==null&&rn(U,fr.startTime-q),te=!1}}break e}finally{g=null,p=W,y=!1}te=void 0}}finally{te?N():F=!1}}}var N;if(typeof A=="function")N=function(){A(R)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ft=w.port2;w.port1.onmessage=R,N=function(){ft.postMessage(null)}}else N=function(){T(R,0)};function rn(q,te){b=T(function(){q(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(q){switch(p){case 1:case 2:case 3:var te=3;break;default:te=p}var W=p;p=te;try{return q()}finally{p=W}},t.unstable_requestPaint=function(){I=!0},t.unstable_runWithPriority=function(q,te){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var W=p;p=q;try{return te()}finally{p=W}},t.unstable_scheduleCallback=function(q,te,W){var Ee=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?Ee+W:Ee):W=Ee,q){case 1:var Pe=-1;break;case 2:Pe=250;break;case 5:Pe=1073741823;break;case 4:Pe=1e4;break;default:Pe=5e3}return Pe=W+Pe,q={id:d++,callback:te,priorityLevel:q,startTime:W,expirationTime:Pe,sortIndex:-1},W>Ee?(q.sortIndex=W,e(c,q),n(u)===null&&q===n(c)&&(D?(v(b),b=-1):D=!0,rn(U,W-Ee))):(q.sortIndex=Pe,e(u,q),C||y||(C=!0,F||(F=!0,N()))),q},t.unstable_shouldYield=x,t.unstable_wrapCallback=function(q){var te=p;return function(){var W=p;p=te;try{return q.apply(this,arguments)}finally{p=W}}}})(LE);kE.exports=LE;var wx=kE.exports,PE={exports:{}},bt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xx=M;function UE(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function pi(){}var Tt={d:{f:pi,r:function(){throw Error(UE(522))},D:pi,C:pi,L:pi,m:pi,X:pi,S:pi,M:pi},p:0,findDOMNode:null},Rx=Symbol.for("react.portal");function Cx(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Rx,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}var so=xx.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Oc(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}bt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Tt;bt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(UE(299));return Cx(t,e,null,n)};bt.flushSync=function(t){var e=so.T,n=Tt.p;try{if(so.T=null,Tt.p=2,t)return t()}finally{so.T=e,Tt.p=n,Tt.d.f()}};bt.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Tt.d.C(t,e))};bt.prefetchDNS=function(t){typeof t=="string"&&Tt.d.D(t)};bt.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,i=Oc(n,e.crossOrigin),r=typeof e.integrity=="string"?e.integrity:void 0,s=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?Tt.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:i,integrity:r,fetchPriority:s}):n==="script"&&Tt.d.X(t,{crossOrigin:i,integrity:r,fetchPriority:s,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};bt.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=Oc(e.as,e.crossOrigin);Tt.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Tt.d.M(t)};bt.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,i=Oc(n,e.crossOrigin);Tt.d.L(t,n,{crossOrigin:i,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};bt.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=Oc(e.as,e.crossOrigin);Tt.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Tt.d.m(t)};bt.requestFormReset=function(t){Tt.d.r(t)};bt.unstable_batchedUpdates=function(t,e){return t(e)};bt.useFormState=function(t,e,n){return so.H.useFormState(t,e,n)};bt.useFormStatus=function(){return so.H.useHostTransitionStatus()};bt.version="19.2.3";function zE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zE)}catch(t){console.error(t)}}zE(),PE.exports=bt;var Nx=PE.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var We=wx,BE=M,Ix=Nx;function L(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function qE(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function el(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function HE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function FE(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function gy(t){if(el(t)!==t)throw Error(L(188))}function Dx(t){var e=t.alternate;if(!e){if(e=el(t),e===null)throw Error(L(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return gy(r),t;if(s===i)return gy(r),e;s=s.sibling}throw Error(L(188))}if(n.return!==i.return)n=r,i=s;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,i=s;break}if(l===i){a=!0,i=r,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,i=r;break}if(l===i){a=!0,i=s,n=r;break}l=l.sibling}if(!a)throw Error(L(189))}}if(n.alternate!==i)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?t:e}function GE(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=GE(t),e!==null)return e;t=t.sibling}return null}var Re=Object.assign,Ox=Symbol.for("react.element"),zl=Symbol.for("react.transitional.element"),Qa=Symbol.for("react.portal"),hs=Symbol.for("react.fragment"),KE=Symbol.for("react.strict_mode"),Ff=Symbol.for("react.profiler"),YE=Symbol.for("react.consumer"),zn=Symbol.for("react.context"),Em=Symbol.for("react.forward_ref"),Gf=Symbol.for("react.suspense"),Kf=Symbol.for("react.suspense_list"),Tm=Symbol.for("react.memo"),yi=Symbol.for("react.lazy"),Yf=Symbol.for("react.activity"),Mx=Symbol.for("react.memo_cache_sentinel"),yy=Symbol.iterator;function Ua(t){return t===null||typeof t!="object"?null:(t=yy&&t[yy]||t["@@iterator"],typeof t=="function"?t:null)}var Vx=Symbol.for("react.client.reference");function Qf(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Vx?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case hs:return"Fragment";case Ff:return"Profiler";case KE:return"StrictMode";case Gf:return"Suspense";case Kf:return"SuspenseList";case Yf:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Qa:return"Portal";case zn:return t.displayName||"Context";case YE:return(t._context.displayName||"Context")+".Consumer";case Em:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Tm:return e=t.displayName||null,e!==null?e:Qf(t.type)||"Memo";case yi:e=t._payload,t=t._init;try{return Qf(t(e))}catch{}}return null}var $a=Array.isArray,Q=BE.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=Ix.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xr={pending:!1,data:null,method:null,action:null},$f=[],fs=-1;function In(t){return{current:t}}function it(t){0>fs||(t.current=$f[fs],$f[fs]=null,fs--)}function be(t,e){fs++,$f[fs]=t.current,t.current=e}var Tn=In(null),xo=In(null),Mi=In(null),ju=In(null);function ku(t,e){switch(be(Mi,e),be(xo,t),be(Tn,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?S_(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=S_(e),t=db(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}it(Tn),be(Tn,t)}function Ls(){it(Tn),it(xo),it(Mi)}function Xf(t){t.memoizedState!==null&&be(ju,t);var e=Tn.current,n=db(e,t.type);e!==n&&(be(xo,t),be(Tn,n))}function Lu(t){xo.current===t&&(it(Tn),it(xo)),ju.current===t&&(it(ju),Lo._currentValue=xr)}var Fh,_y;function Er(t){if(Fh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Fh=e&&e[1]||"",_y=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fh+t+_y}var Gh=!1;function Kh(t,e){if(!t||Gh)return"";Gh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var g=function(){throw Error()};if(Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(y){var p=y}Reflect.construct(t,[],g)}else{try{g.call()}catch(y){p=y}t.call(g.prototype)}}else{try{throw Error()}catch(y){p=y}(g=t())&&typeof g.catch=="function"&&g.catch(function(){})}}catch(y){if(y&&p&&typeof y.stack=="string")return[y.stack,p.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=i.DetermineComponentFrameRoot(),a=s[0],l=s[1];if(a&&l){var u=a.split(`
`),c=l.split(`
`);for(r=i=0;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;for(;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;if(i===u.length||r===c.length)for(i=u.length-1,r=c.length-1;1<=i&&0<=r&&u[i]!==c[r];)r--;for(;1<=i&&0<=r;i--,r--)if(u[i]!==c[r]){if(i!==1||r!==1)do if(i--,r--,0>r||u[i]!==c[r]){var d=`
`+u[i].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=i&&0<=r);break}}}finally{Gh=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Er(n):""}function jx(t,e){switch(t.tag){case 26:case 27:case 5:return Er(t.type);case 16:return Er("Lazy");case 13:return t.child!==e&&e!==null?Er("Suspense Fallback"):Er("Suspense");case 19:return Er("SuspenseList");case 0:case 15:return Kh(t.type,!1);case 11:return Kh(t.type.render,!1);case 1:return Kh(t.type,!0);case 31:return Er("Activity");default:return""}}function vy(t){try{var e="",n=null;do e+=jx(t,n),n=t,t=t.return;while(t);return e}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var Wf=Object.prototype.hasOwnProperty,bm=We.unstable_scheduleCallback,Yh=We.unstable_cancelCallback,kx=We.unstable_shouldYield,Lx=We.unstable_requestPaint,Pt=We.unstable_now,Px=We.unstable_getCurrentPriorityLevel,QE=We.unstable_ImmediatePriority,$E=We.unstable_UserBlockingPriority,Pu=We.unstable_NormalPriority,Ux=We.unstable_LowPriority,XE=We.unstable_IdlePriority,zx=We.log,Bx=We.unstable_setDisableYieldValue,tl=null,Ut=null;function Ri(t){if(typeof zx=="function"&&Bx(t),Ut&&typeof Ut.setStrictMode=="function")try{Ut.setStrictMode(tl,t)}catch{}}var zt=Math.clz32?Math.clz32:Fx,qx=Math.log,Hx=Math.LN2;function Fx(t){return t>>>=0,t===0?32:31-(qx(t)/Hx|0)|0}var Bl=256,ql=262144,Hl=4194304;function Tr(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Mc(t,e,n){var i=t.pendingLanes;if(i===0)return 0;var r=0,s=t.suspendedLanes,a=t.pingedLanes;t=t.warmLanes;var l=i&134217727;return l!==0?(i=l&~s,i!==0?r=Tr(i):(a&=l,a!==0?r=Tr(a):n||(n=l&~t,n!==0&&(r=Tr(n))))):(l=i&~s,l!==0?r=Tr(l):a!==0?r=Tr(a):n||(n=i&~t,n!==0&&(r=Tr(n)))),r===0?0:e!==0&&e!==r&&!(e&s)&&(s=r&-r,n=e&-e,s>=n||s===32&&(n&4194048)!==0)?e:r}function nl(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function Gx(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function WE(){var t=Hl;return Hl<<=1,!(Hl&62914560)&&(Hl=4194304),t}function Qh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function il(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Kx(t,e,n,i,r,s){var a=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var l=t.entanglements,u=t.expirationTimes,c=t.hiddenUpdates;for(n=a&~n;0<n;){var d=31-zt(n),g=1<<d;l[d]=0,u[d]=-1;var p=c[d];if(p!==null)for(c[d]=null,d=0;d<p.length;d++){var y=p[d];y!==null&&(y.lane&=-536870913)}n&=~g}i!==0&&JE(t,i,0),s!==0&&r===0&&t.tag!==0&&(t.suspendedLanes|=s&~(a&~e))}function JE(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var i=31-zt(e);t.entangledLanes|=e,t.entanglements[i]=t.entanglements[i]|1073741824|n&261930}function ZE(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-zt(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}function e0(t,e){var n=e&-e;return n=n&42?1:Sm(n),n&(t.suspendedLanes|e)?0:n}function Sm(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Am(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function t0(){var t=he.p;return t!==0?t:(t=window.event,t===void 0?32:Ab(t.type))}function Ey(t,e){var n=he.p;try{return he.p=t,e()}finally{he.p=n}}var ar=Math.random().toString(36).slice(2),at="__reactFiber$"+ar,It="__reactProps$"+ar,sa="__reactContainer$"+ar,Jf="__reactEvents$"+ar,Yx="__reactListeners$"+ar,Qx="__reactHandles$"+ar,Ty="__reactResources$"+ar,rl="__reactMarker$"+ar;function wm(t){delete t[at],delete t[It],delete t[Jf],delete t[Yx],delete t[Qx]}function ds(t){var e=t[at];if(e)return e;for(var n=t.parentNode;n;){if(e=n[sa]||n[at]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=C_(t);t!==null;){if(n=t[at])return n;t=C_(t)}return e}t=n,n=t.parentNode}return null}function aa(t){if(t=t[at]||t[sa]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function Xa(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(L(33))}function As(t){var e=t[Ty];return e||(e=t[Ty]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function nt(t){t[rl]=!0}var n0=new Set,i0={};function Hr(t,e){Ps(t,e),Ps(t+"Capture",e)}function Ps(t,e){for(i0[t]=e,t=0;t<e.length;t++)n0.add(e[t])}var $x=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),by={},Sy={};function Xx(t){return Wf.call(Sy,t)?!0:Wf.call(by,t)?!1:$x.test(t)?Sy[t]=!0:(by[t]=!0,!1)}function lu(t,e,n){if(Xx(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var i=e.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Fl(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Mn(t,e,n,i){if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+i)}}function Kt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function r0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Wx(t,e,n){var i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var r=i.get,s=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Zf(t){if(!t._valueTracker){var e=r0(t)?"checked":"value";t._valueTracker=Wx(t,e,""+t[e])}}function s0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=r0(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Uu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Jx=/[\n"\\]/g;function $t(t){return t.replace(Jx,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function ed(t,e,n,i,r,s,a,l){t.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?t.type=a:t.removeAttribute("type"),e!=null?a==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Kt(e)):t.value!==""+Kt(e)&&(t.value=""+Kt(e)):a!=="submit"&&a!=="reset"||t.removeAttribute("value"),e!=null?td(t,a,Kt(e)):n!=null?td(t,a,Kt(n)):i!=null&&t.removeAttribute("value"),r==null&&s!=null&&(t.defaultChecked=!!s),r!=null&&(t.checked=r&&typeof r!="function"&&typeof r!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?t.name=""+Kt(l):t.removeAttribute("name")}function a0(t,e,n,i,r,s,a,l){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.type=s),e!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||e!=null)){Zf(t);return}n=n!=null?""+Kt(n):"",e=e!=null?""+Kt(e):n,l||e===t.value||(t.value=e),t.defaultValue=e}i=i??r,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=l?t.checked:!!i,t.defaultChecked=!!i,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.name=a),Zf(t)}function td(t,e,n){e==="number"&&Uu(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function ws(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Kt(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function o0(t,e,n){if(e!=null&&(e=""+Kt(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Kt(n):""}function l0(t,e,n,i){if(e==null){if(i!=null){if(n!=null)throw Error(L(92));if($a(i)){if(1<i.length)throw Error(L(93));i=i[0]}n=i}n==null&&(n=""),e=n}n=Kt(e),t.defaultValue=n,i=t.textContent,i===n&&i!==""&&i!==null&&(t.value=i),Zf(t)}function Us(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Zx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ay(t,e,n){var i=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":i?t.setProperty(e,n):typeof n!="number"||n===0||Zx.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function u0(t,e,n){if(e!=null&&typeof e!="object")throw Error(L(62));if(t=t.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||e!=null&&e.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var r in e)i=e[r],e.hasOwnProperty(r)&&n[r]!==i&&Ay(t,r,i)}else for(var s in e)e.hasOwnProperty(s)&&Ay(t,s,e[s])}function xm(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var e1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),t1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function uu(t){return t1.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Bn(){}var nd=null;function Rm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ms=null,xs=null;function wy(t){var e=aa(t);if(e&&(t=e.stateNode)){var n=t[It]||null;e:switch(t=e.stateNode,e.type){case"input":if(ed(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+$t(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=i[It]||null;if(!r)throw Error(L(90));ed(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(e=0;e<n.length;e++)i=n[e],i.form===t.form&&s0(i)}break e;case"textarea":o0(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&ws(t,!!n.multiple,e,!1)}}}var $h=!1;function c0(t,e,n){if($h)return t(e,n);$h=!0;try{var i=t(e);return i}finally{if($h=!1,(ms!==null||xs!==null)&&(Gc(),ms&&(e=ms,t=xs,xs=ms=null,wy(e),t)))for(e=0;e<t.length;e++)wy(t[e])}}function Ro(t,e){var n=t.stateNode;if(n===null)return null;var i=n[It]||null;if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(L(231,e,typeof n));return n}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),id=!1;if(Xn)try{var za={};Object.defineProperty(za,"passive",{get:function(){id=!0}}),window.addEventListener("test",za,za),window.removeEventListener("test",za,za)}catch{id=!1}var Ci=null,Cm=null,cu=null;function h0(){if(cu)return cu;var t,e=Cm,n=e.length,i,r="value"in Ci?Ci.value:Ci.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var a=n-t;for(i=1;i<=a&&e[n-i]===r[s-i];i++);return cu=r.slice(t,1<i?1-i:void 0)}function hu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Gl(){return!0}function xy(){return!1}function Dt(t){function e(n,i,r,s,a){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Gl:xy,this.isPropagationStopped=xy,this}return Re(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Gl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Gl)},persist:function(){},isPersistent:Gl}),e}var Fr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vc=Dt(Fr),sl=Re({},Fr,{view:0,detail:0}),n1=Dt(sl),Xh,Wh,Ba,jc=Re({},sl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ba&&(Ba&&t.type==="mousemove"?(Xh=t.screenX-Ba.screenX,Wh=t.screenY-Ba.screenY):Wh=Xh=0,Ba=t),Xh)},movementY:function(t){return"movementY"in t?t.movementY:Wh}}),Ry=Dt(jc),i1=Re({},jc,{dataTransfer:0}),r1=Dt(i1),s1=Re({},sl,{relatedTarget:0}),Jh=Dt(s1),a1=Re({},Fr,{animationName:0,elapsedTime:0,pseudoElement:0}),o1=Dt(a1),l1=Re({},Fr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),u1=Dt(l1),c1=Re({},Fr,{data:0}),Cy=Dt(c1),h1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},f1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},d1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function m1(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=d1[t])?!!e[t]:!1}function Nm(){return m1}var p1=Re({},sl,{key:function(t){if(t.key){var e=h1[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=hu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?f1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nm,charCode:function(t){return t.type==="keypress"?hu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?hu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),g1=Dt(p1),y1=Re({},jc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ny=Dt(y1),_1=Re({},sl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nm}),v1=Dt(_1),E1=Re({},Fr,{propertyName:0,elapsedTime:0,pseudoElement:0}),T1=Dt(E1),b1=Re({},jc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),S1=Dt(b1),A1=Re({},Fr,{newState:0,oldState:0}),w1=Dt(A1),x1=[9,13,27,32],Im=Xn&&"CompositionEvent"in window,ao=null;Xn&&"documentMode"in document&&(ao=document.documentMode);var R1=Xn&&"TextEvent"in window&&!ao,f0=Xn&&(!Im||ao&&8<ao&&11>=ao),Iy=" ",Dy=!1;function d0(t,e){switch(t){case"keyup":return x1.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function m0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ps=!1;function C1(t,e){switch(t){case"compositionend":return m0(e);case"keypress":return e.which!==32?null:(Dy=!0,Iy);case"textInput":return t=e.data,t===Iy&&Dy?null:t;default:return null}}function N1(t,e){if(ps)return t==="compositionend"||!Im&&d0(t,e)?(t=h0(),cu=Cm=Ci=null,ps=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return f0&&e.locale!=="ko"?null:e.data;default:return null}}var I1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Oy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!I1[t.type]:e==="textarea"}function p0(t,e,n,i){ms?xs?xs.push(i):xs=[i]:ms=i,e=ic(e,"onChange"),0<e.length&&(n=new Vc("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var oo=null,Co=null;function D1(t){cb(t,0)}function kc(t){var e=Xa(t);if(s0(e))return t}function My(t,e){if(t==="change")return e}var g0=!1;if(Xn){var Zh;if(Xn){var ef="oninput"in document;if(!ef){var Vy=document.createElement("div");Vy.setAttribute("oninput","return;"),ef=typeof Vy.oninput=="function"}Zh=ef}else Zh=!1;g0=Zh&&(!document.documentMode||9<document.documentMode)}function jy(){oo&&(oo.detachEvent("onpropertychange",y0),Co=oo=null)}function y0(t){if(t.propertyName==="value"&&kc(Co)){var e=[];p0(e,Co,t,Rm(t)),c0(D1,e)}}function O1(t,e,n){t==="focusin"?(jy(),oo=e,Co=n,oo.attachEvent("onpropertychange",y0)):t==="focusout"&&jy()}function M1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return kc(Co)}function V1(t,e){if(t==="click")return kc(e)}function j1(t,e){if(t==="input"||t==="change")return kc(e)}function k1(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var qt=typeof Object.is=="function"?Object.is:k1;function No(t,e){if(qt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!Wf.call(e,r)||!qt(t[r],e[r]))return!1}return!0}function ky(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ly(t,e){var n=ky(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ky(n)}}function _0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?_0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function v0(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Uu(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Uu(t.document)}return e}function Dm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var L1=Xn&&"documentMode"in document&&11>=document.documentMode,gs=null,rd=null,lo=null,sd=!1;function Py(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;sd||gs==null||gs!==Uu(i)||(i=gs,"selectionStart"in i&&Dm(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),lo&&No(lo,i)||(lo=i,i=ic(rd,"onSelect"),0<i.length&&(e=new Vc("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=gs)))}function vr(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ys={animationend:vr("Animation","AnimationEnd"),animationiteration:vr("Animation","AnimationIteration"),animationstart:vr("Animation","AnimationStart"),transitionrun:vr("Transition","TransitionRun"),transitionstart:vr("Transition","TransitionStart"),transitioncancel:vr("Transition","TransitionCancel"),transitionend:vr("Transition","TransitionEnd")},tf={},E0={};Xn&&(E0=document.createElement("div").style,"AnimationEvent"in window||(delete ys.animationend.animation,delete ys.animationiteration.animation,delete ys.animationstart.animation),"TransitionEvent"in window||delete ys.transitionend.transition);function Gr(t){if(tf[t])return tf[t];if(!ys[t])return t;var e=ys[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in E0)return tf[t]=e[n];return t}var T0=Gr("animationend"),b0=Gr("animationiteration"),S0=Gr("animationstart"),P1=Gr("transitionrun"),U1=Gr("transitionstart"),z1=Gr("transitioncancel"),A0=Gr("transitionend"),w0=new Map,ad="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ad.push("scrollEnd");function dn(t,e){w0.set(t,e),Hr(e,[t])}var zu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Gt=[],_s=0,Om=0;function Lc(){for(var t=_s,e=Om=_s=0;e<t;){var n=Gt[e];Gt[e++]=null;var i=Gt[e];Gt[e++]=null;var r=Gt[e];Gt[e++]=null;var s=Gt[e];if(Gt[e++]=null,i!==null&&r!==null){var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}s!==0&&x0(n,r,s)}}function Pc(t,e,n,i){Gt[_s++]=t,Gt[_s++]=e,Gt[_s++]=n,Gt[_s++]=i,Om|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function Mm(t,e,n,i){return Pc(t,e,n,i),Bu(t)}function Kr(t,e){return Pc(t,null,null,e),Bu(t)}function x0(t,e,n){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n);for(var r=!1,s=t.return;s!==null;)s.childLanes|=n,i=s.alternate,i!==null&&(i.childLanes|=n),s.tag===22&&(t=s.stateNode,t===null||t._visibility&1||(r=!0)),t=s,s=s.return;return t.tag===3?(s=t.stateNode,r&&e!==null&&(r=31-zt(n),t=s.hiddenUpdates,i=t[r],i===null?t[r]=[e]:i.push(e),e.lane=n|536870912),s):null}function Bu(t){if(50<_o)throw _o=0,Rd=null,Error(L(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var vs={};function B1(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jt(t,e,n,i){return new B1(t,e,n,i)}function Vm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Gn(t,e){var n=t.alternate;return n===null?(n=jt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function R0(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function fu(t,e,n,i,r,s){var a=0;if(i=t,typeof t=="function")Vm(t)&&(a=1);else if(typeof t=="string")a=KR(t,n,Tn.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Yf:return t=jt(31,n,e,r),t.elementType=Yf,t.lanes=s,t;case hs:return Rr(n.children,r,s,e);case KE:a=8,r|=24;break;case Ff:return t=jt(12,n,e,r|2),t.elementType=Ff,t.lanes=s,t;case Gf:return t=jt(13,n,e,r),t.elementType=Gf,t.lanes=s,t;case Kf:return t=jt(19,n,e,r),t.elementType=Kf,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case zn:a=10;break e;case YE:a=9;break e;case Em:a=11;break e;case Tm:a=14;break e;case yi:a=16,i=null;break e}a=29,n=Error(L(130,t===null?"null":typeof t,"")),i=null}return e=jt(a,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function Rr(t,e,n,i){return t=jt(7,t,i,e),t.lanes=n,t}function nf(t,e,n){return t=jt(6,t,null,e),t.lanes=n,t}function C0(t){var e=jt(18,null,null,0);return e.stateNode=t,e}function rf(t,e,n){return e=jt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var Uy=new WeakMap;function Xt(t,e){if(typeof t=="object"&&t!==null){var n=Uy.get(t);return n!==void 0?n:(e={value:t,source:e,stack:vy(e)},Uy.set(t,e),e)}return{value:t,source:e,stack:vy(e)}}var Es=[],Ts=0,qu=null,Io=0,Yt=[],Qt=0,Xi=null,_n=1,vn="";function Pn(t,e){Es[Ts++]=Io,Es[Ts++]=qu,qu=t,Io=e}function N0(t,e,n){Yt[Qt++]=_n,Yt[Qt++]=vn,Yt[Qt++]=Xi,Xi=t;var i=_n;t=vn;var r=32-zt(i)-1;i&=~(1<<r),n+=1;var s=32-zt(e)+r;if(30<s){var a=r-r%5;s=(i&(1<<a)-1).toString(32),i>>=a,r-=a,_n=1<<32-zt(e)+r|n<<r|i,vn=s+t}else _n=1<<s|n<<r|i,vn=t}function jm(t){t.return!==null&&(Pn(t,1),N0(t,1,0))}function km(t){for(;t===qu;)qu=Es[--Ts],Es[Ts]=null,Io=Es[--Ts],Es[Ts]=null;for(;t===Xi;)Xi=Yt[--Qt],Yt[Qt]=null,vn=Yt[--Qt],Yt[Qt]=null,_n=Yt[--Qt],Yt[Qt]=null}function I0(t,e){Yt[Qt++]=_n,Yt[Qt++]=vn,Yt[Qt++]=Xi,_n=e.id,vn=e.overflow,Xi=t}var ot=null,we=null,le=!1,Vi=null,Wt=!1,od=Error(L(519));function Wi(t){var e=Error(L(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Do(Xt(e,t)),od}function zy(t){var e=t.stateNode,n=t.type,i=t.memoizedProps;switch(e[at]=t,e[It]=i,n){case"dialog":ne("cancel",e),ne("close",e);break;case"iframe":case"object":case"embed":ne("load",e);break;case"video":case"audio":for(n=0;n<jo.length;n++)ne(jo[n],e);break;case"source":ne("error",e);break;case"img":case"image":case"link":ne("error",e),ne("load",e);break;case"details":ne("toggle",e);break;case"input":ne("invalid",e),a0(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":ne("invalid",e);break;case"textarea":ne("invalid",e),l0(e,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||i.suppressHydrationWarning===!0||fb(e.textContent,n)?(i.popover!=null&&(ne("beforetoggle",e),ne("toggle",e)),i.onScroll!=null&&ne("scroll",e),i.onScrollEnd!=null&&ne("scrollend",e),i.onClick!=null&&(e.onclick=Bn),e=!0):e=!1,e||Wi(t,!0)}function By(t){for(ot=t.return;ot;)switch(ot.tag){case 5:case 31:case 13:Wt=!1;return;case 27:case 3:Wt=!0;return;default:ot=ot.return}}function ns(t){if(t!==ot)return!1;if(!le)return By(t),le=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Od(t.type,t.memoizedProps)),n=!n),n&&we&&Wi(t),By(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(L(317));we=R_(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(L(317));we=R_(t)}else e===27?(e=we,or(t.type)?(t=kd,kd=null,we=t):we=e):we=ot?en(t.stateNode.nextSibling):null;return!0}function Or(){we=ot=null,le=!1}function sf(){var t=Vi;return t!==null&&(xt===null?xt=t:xt.push.apply(xt,t),Vi=null),t}function Do(t){Vi===null?Vi=[t]:Vi.push(t)}var ld=In(null),Yr=null,qn=null;function vi(t,e,n){be(ld,e._currentValue),e._currentValue=n}function Kn(t){t._currentValue=ld.current,it(ld)}function ud(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function cd(t,e,n,i){var r=t.child;for(r!==null&&(r.return=t);r!==null;){var s=r.dependencies;if(s!==null){var a=r.child;s=s.firstContext;e:for(;s!==null;){var l=s;s=r;for(var u=0;u<e.length;u++)if(l.context===e[u]){s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),ud(s.return,n,t),i||(a=null);break e}s=l.next}}else if(r.tag===18){if(a=r.return,a===null)throw Error(L(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),ud(a,n,t),a=null}else a=r.child;if(a!==null)a.return=r;else for(a=r;a!==null;){if(a===t){a=null;break}if(r=a.sibling,r!==null){r.return=a.return,a=r;break}a=a.return}r=a}}function oa(t,e,n,i){t=null;for(var r=e,s=!1;r!==null;){if(!s){if(r.flags&524288)s=!0;else if(r.flags&262144)break}if(r.tag===10){var a=r.alternate;if(a===null)throw Error(L(387));if(a=a.memoizedProps,a!==null){var l=r.type;qt(r.pendingProps.value,a.value)||(t!==null?t.push(l):t=[l])}}else if(r===ju.current){if(a=r.alternate,a===null)throw Error(L(387));a.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(t!==null?t.push(Lo):t=[Lo])}r=r.return}t!==null&&cd(e,t,n,i),e.flags|=262144}function Hu(t){for(t=t.firstContext;t!==null;){if(!qt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Mr(t){Yr=t,qn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ut(t){return D0(Yr,t)}function Kl(t,e){return Yr===null&&Mr(t),D0(t,e)}function D0(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},qn===null){if(t===null)throw Error(L(308));qn=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else qn=qn.next=e;return n}var q1=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,i){t.push(i)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},H1=We.unstable_scheduleCallback,F1=We.unstable_NormalPriority,He={$$typeof:zn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lm(){return{controller:new q1,data:new Map,refCount:0}}function al(t){t.refCount--,t.refCount===0&&H1(F1,function(){t.controller.abort()})}var uo=null,hd=0,zs=0,Rs=null;function G1(t,e){if(uo===null){var n=uo=[];hd=0,zs=lp(),Rs={status:"pending",value:void 0,then:function(i){n.push(i)}}}return hd++,e.then(qy,qy),e}function qy(){if(--hd===0&&uo!==null){Rs!==null&&(Rs.status="fulfilled");var t=uo;uo=null,zs=0,Rs=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function K1(t,e){var n=[],i={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return t.then(function(){i.status="fulfilled",i.value=e;for(var r=0;r<n.length;r++)(0,n[r])(e)},function(r){for(i.status="rejected",i.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),i}var Hy=Q.S;Q.S=function(t,e){GT=Pt(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&G1(t,e),Hy!==null&&Hy(t,e)};var Cr=In(null);function Pm(){var t=Cr.current;return t!==null?t:ve.pooledCache}function du(t,e){e===null?be(Cr,Cr.current):be(Cr,e.pool)}function O0(){var t=Pm();return t===null?null:{parent:He._currentValue,pool:t}}var la=Error(L(460)),Um=Error(L(474)),Uc=Error(L(542)),Fu={then:function(){}};function Fy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function M0(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(Bn,Bn),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Ky(t),t;default:if(typeof e.status=="string")e.then(Bn,Bn);else{if(t=ve,t!==null&&100<t.shellSuspendCounter)throw Error(L(482));t=e,t.status="pending",t.then(function(i){if(e.status==="pending"){var r=e;r.status="fulfilled",r.value=i}},function(i){if(e.status==="pending"){var r=e;r.status="rejected",r.reason=i}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Ky(t),t}throw Nr=e,la}}function br(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Nr=n,la):n}}var Nr=null;function Gy(){if(Nr===null)throw Error(L(459));var t=Nr;return Nr=null,t}function Ky(t){if(t===la||t===Uc)throw Error(L(483))}var Cs=null,Oo=0;function Yl(t){var e=Oo;return Oo+=1,Cs===null&&(Cs=[]),M0(Cs,t,e)}function qa(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Ql(t,e){throw e.$$typeof===Ox?Error(L(525)):(t=Object.prototype.toString.call(e),Error(L(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function V0(t){function e(T,v){if(t){var A=T.deletions;A===null?(T.deletions=[v],T.flags|=16):A.push(v)}}function n(T,v){if(!t)return null;for(;v!==null;)e(T,v),v=v.sibling;return null}function i(T){for(var v=new Map;T!==null;)T.key!==null?v.set(T.key,T):v.set(T.index,T),T=T.sibling;return v}function r(T,v){return T=Gn(T,v),T.index=0,T.sibling=null,T}function s(T,v,A){return T.index=A,t?(A=T.alternate,A!==null?(A=A.index,A<v?(T.flags|=67108866,v):A):(T.flags|=67108866,v)):(T.flags|=1048576,v)}function a(T){return t&&T.alternate===null&&(T.flags|=67108866),T}function l(T,v,A,V){return v===null||v.tag!==6?(v=nf(A,T.mode,V),v.return=T,v):(v=r(v,A),v.return=T,v)}function u(T,v,A,V){var U=A.type;return U===hs?d(T,v,A.props.children,V,A.key):v!==null&&(v.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===yi&&br(U)===v.type)?(v=r(v,A.props),qa(v,A),v.return=T,v):(v=fu(A.type,A.key,A.props,null,T.mode,V),qa(v,A),v.return=T,v)}function c(T,v,A,V){return v===null||v.tag!==4||v.stateNode.containerInfo!==A.containerInfo||v.stateNode.implementation!==A.implementation?(v=rf(A,T.mode,V),v.return=T,v):(v=r(v,A.children||[]),v.return=T,v)}function d(T,v,A,V,U){return v===null||v.tag!==7?(v=Rr(A,T.mode,V,U),v.return=T,v):(v=r(v,A),v.return=T,v)}function g(T,v,A){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return v=nf(""+v,T.mode,A),v.return=T,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case zl:return A=fu(v.type,v.key,v.props,null,T.mode,A),qa(A,v),A.return=T,A;case Qa:return v=rf(v,T.mode,A),v.return=T,v;case yi:return v=br(v),g(T,v,A)}if($a(v)||Ua(v))return v=Rr(v,T.mode,A,null),v.return=T,v;if(typeof v.then=="function")return g(T,Yl(v),A);if(v.$$typeof===zn)return g(T,Kl(T,v),A);Ql(T,v)}return null}function p(T,v,A,V){var U=v!==null?v.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return U!==null?null:l(T,v,""+A,V);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case zl:return A.key===U?u(T,v,A,V):null;case Qa:return A.key===U?c(T,v,A,V):null;case yi:return A=br(A),p(T,v,A,V)}if($a(A)||Ua(A))return U!==null?null:d(T,v,A,V,null);if(typeof A.then=="function")return p(T,v,Yl(A),V);if(A.$$typeof===zn)return p(T,v,Kl(T,A),V);Ql(T,A)}return null}function y(T,v,A,V,U){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return T=T.get(A)||null,l(v,T,""+V,U);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case zl:return T=T.get(V.key===null?A:V.key)||null,u(v,T,V,U);case Qa:return T=T.get(V.key===null?A:V.key)||null,c(v,T,V,U);case yi:return V=br(V),y(T,v,A,V,U)}if($a(V)||Ua(V))return T=T.get(A)||null,d(v,T,V,U,null);if(typeof V.then=="function")return y(T,v,A,Yl(V),U);if(V.$$typeof===zn)return y(T,v,A,Kl(v,V),U);Ql(v,V)}return null}function C(T,v,A,V){for(var U=null,F=null,b=v,E=v=0,S=null;b!==null&&E<A.length;E++){b.index>E?(S=b,b=null):S=b.sibling;var x=p(T,b,A[E],V);if(x===null){b===null&&(b=S);break}t&&b&&x.alternate===null&&e(T,b),v=s(x,v,E),F===null?U=x:F.sibling=x,F=x,b=S}if(E===A.length)return n(T,b),le&&Pn(T,E),U;if(b===null){for(;E<A.length;E++)b=g(T,A[E],V),b!==null&&(v=s(b,v,E),F===null?U=b:F.sibling=b,F=b);return le&&Pn(T,E),U}for(b=i(b);E<A.length;E++)S=y(b,T,E,A[E],V),S!==null&&(t&&S.alternate!==null&&b.delete(S.key===null?E:S.key),v=s(S,v,E),F===null?U=S:F.sibling=S,F=S);return t&&b.forEach(function(R){return e(T,R)}),le&&Pn(T,E),U}function D(T,v,A,V){if(A==null)throw Error(L(151));for(var U=null,F=null,b=v,E=v=0,S=null,x=A.next();b!==null&&!x.done;E++,x=A.next()){b.index>E?(S=b,b=null):S=b.sibling;var R=p(T,b,x.value,V);if(R===null){b===null&&(b=S);break}t&&b&&R.alternate===null&&e(T,b),v=s(R,v,E),F===null?U=R:F.sibling=R,F=R,b=S}if(x.done)return n(T,b),le&&Pn(T,E),U;if(b===null){for(;!x.done;E++,x=A.next())x=g(T,x.value,V),x!==null&&(v=s(x,v,E),F===null?U=x:F.sibling=x,F=x);return le&&Pn(T,E),U}for(b=i(b);!x.done;E++,x=A.next())x=y(b,T,E,x.value,V),x!==null&&(t&&x.alternate!==null&&b.delete(x.key===null?E:x.key),v=s(x,v,E),F===null?U=x:F.sibling=x,F=x);return t&&b.forEach(function(N){return e(T,N)}),le&&Pn(T,E),U}function I(T,v,A,V){if(typeof A=="object"&&A!==null&&A.type===hs&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case zl:e:{for(var U=A.key;v!==null;){if(v.key===U){if(U=A.type,U===hs){if(v.tag===7){n(T,v.sibling),V=r(v,A.props.children),V.return=T,T=V;break e}}else if(v.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===yi&&br(U)===v.type){n(T,v.sibling),V=r(v,A.props),qa(V,A),V.return=T,T=V;break e}n(T,v);break}else e(T,v);v=v.sibling}A.type===hs?(V=Rr(A.props.children,T.mode,V,A.key),V.return=T,T=V):(V=fu(A.type,A.key,A.props,null,T.mode,V),qa(V,A),V.return=T,T=V)}return a(T);case Qa:e:{for(U=A.key;v!==null;){if(v.key===U)if(v.tag===4&&v.stateNode.containerInfo===A.containerInfo&&v.stateNode.implementation===A.implementation){n(T,v.sibling),V=r(v,A.children||[]),V.return=T,T=V;break e}else{n(T,v);break}else e(T,v);v=v.sibling}V=rf(A,T.mode,V),V.return=T,T=V}return a(T);case yi:return A=br(A),I(T,v,A,V)}if($a(A))return C(T,v,A,V);if(Ua(A)){if(U=Ua(A),typeof U!="function")throw Error(L(150));return A=U.call(A),D(T,v,A,V)}if(typeof A.then=="function")return I(T,v,Yl(A),V);if(A.$$typeof===zn)return I(T,v,Kl(T,A),V);Ql(T,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,v!==null&&v.tag===6?(n(T,v.sibling),V=r(v,A),V.return=T,T=V):(n(T,v),V=nf(A,T.mode,V),V.return=T,T=V),a(T)):n(T,v)}return function(T,v,A,V){try{Oo=0;var U=I(T,v,A,V);return Cs=null,U}catch(b){if(b===la||b===Uc)throw b;var F=jt(29,b,null,T.mode);return F.lanes=V,F.return=T,F}finally{}}}var Vr=V0(!0),j0=V0(!1),_i=!1;function zm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fd(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ji(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ki(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,ce&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,e=Bu(t),x0(t,null,n),e}return Pc(t,i,e,n),Bu(t)}function co(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,ZE(t,n)}}function af(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?r=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,callbacks:i.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var dd=!1;function ho(){if(dd){var t=Rs;if(t!==null)throw t}}function fo(t,e,n,i){dd=!1;var r=t.updateQueue;_i=!1;var s=r.firstBaseUpdate,a=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var u=l,c=u.next;u.next=null,a===null?s=c:a.next=c,a=u;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(s!==null){var g=r.baseState;a=0,d=c=u=null,l=s;do{var p=l.lane&-536870913,y=p!==l.lane;if(y?(oe&p)===p:(i&p)===p){p!==0&&p===zs&&(dd=!0),d!==null&&(d=d.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var C=t,D=l;p=e;var I=n;switch(D.tag){case 1:if(C=D.payload,typeof C=="function"){g=C.call(I,g,p);break e}g=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=D.payload,p=typeof C=="function"?C.call(I,g,p):C,p==null)break e;g=Re({},g,p);break e;case 2:_i=!0}}p=l.callback,p!==null&&(t.flags|=64,y&&(t.flags|=8192),y=r.callbacks,y===null?r.callbacks=[p]:y.push(p))}else y={lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=y,u=g):d=d.next=y,a|=p;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;y=l,l=y.next,y.next=null,r.lastBaseUpdate=y,r.shared.pending=null}}while(!0);d===null&&(u=g),r.baseState=u,r.firstBaseUpdate=c,r.lastBaseUpdate=d,s===null&&(r.shared.lanes=0),Zi|=a,t.lanes=a,t.memoizedState=g}}function k0(t,e){if(typeof t!="function")throw Error(L(191,t));t.call(e)}function L0(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)k0(n[t],e)}var Bs=In(null),Gu=In(0);function Yy(t,e){t=ei,be(Gu,t),be(Bs,e),ei=t|e.baseLanes}function md(){be(Gu,ei),be(Bs,Bs.current)}function Bm(){ei=Gu.current,it(Bs),it(Gu)}var Ht=In(null),Zt=null;function Ei(t){var e=t.alternate;be(je,je.current&1),be(Ht,t),Zt===null&&(e===null||Bs.current!==null||e.memoizedState!==null)&&(Zt=t)}function pd(t){be(je,je.current),be(Ht,t),Zt===null&&(Zt=t)}function P0(t){t.tag===22?(be(je,je.current),be(Ht,t),Zt===null&&(Zt=t)):Ti()}function Ti(){be(je,je.current),be(Ht,Ht.current)}function Vt(t){it(Ht),Zt===t&&(Zt=null),it(je)}var je=In(0);function Ku(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Vd(n)||jd(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Wn=0,Z=null,ge=null,Be=null,Yu=!1,Ns=!1,jr=!1,Qu=0,Mo=0,Is=null,Y1=0;function Oe(){throw Error(L(321))}function qm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!qt(t[n],e[n]))return!1;return!0}function Hm(t,e,n,i,r,s){return Wn=s,Z=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Q.H=t===null||t.memoizedState===null?pT:ep,jr=!1,s=n(i,r),jr=!1,Ns&&(s=z0(e,n,i,r)),U0(t),s}function U0(t){Q.H=Vo;var e=ge!==null&&ge.next!==null;if(Wn=0,Be=ge=Z=null,Yu=!1,Mo=0,Is=null,e)throw Error(L(300));t===null||Ge||(t=t.dependencies,t!==null&&Hu(t)&&(Ge=!0))}function z0(t,e,n,i){Z=t;var r=0;do{if(Ns&&(Is=null),Mo=0,Ns=!1,25<=r)throw Error(L(301));if(r+=1,Be=ge=null,t.updateQueue!=null){var s=t.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}Q.H=gT,s=e(n,i)}while(Ns);return s}function Q1(){var t=Q.H,e=t.useState()[0];return e=typeof e.then=="function"?ol(e):e,t=t.useState()[0],(ge!==null?ge.memoizedState:null)!==t&&(Z.flags|=1024),e}function Fm(){var t=Qu!==0;return Qu=0,t}function Gm(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function Km(t){if(Yu){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Yu=!1}Wn=0,Be=ge=Z=null,Ns=!1,Mo=Qu=0,Is=null}function Et(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?Z.memoizedState=Be=t:Be=Be.next=t,Be}function Le(){if(ge===null){var t=Z.alternate;t=t!==null?t.memoizedState:null}else t=ge.next;var e=Be===null?Z.memoizedState:Be.next;if(e!==null)Be=e,ge=t;else{if(t===null)throw Z.alternate===null?Error(L(467)):Error(L(310));ge=t,t={memoizedState:ge.memoizedState,baseState:ge.baseState,baseQueue:ge.baseQueue,queue:ge.queue,next:null},Be===null?Z.memoizedState=Be=t:Be=Be.next=t}return Be}function zc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ol(t){var e=Mo;return Mo+=1,Is===null&&(Is=[]),t=M0(Is,t,e),e=Z,(Be===null?e.memoizedState:Be.next)===null&&(e=e.alternate,Q.H=e===null||e.memoizedState===null?pT:ep),t}function Bc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ol(t);if(t.$$typeof===zn)return ut(t)}throw Error(L(438,String(t)))}function Ym(t){var e=null,n=Z.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var i=Z.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(e={data:i.data.map(function(r){return r.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=zc(),Z.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),i=0;i<t;i++)n[i]=Mx;return e.index++,n}function Jn(t,e){return typeof e=="function"?e(t):e}function mu(t){var e=Le();return Qm(e,ge,t)}function Qm(t,e,n){var i=t.queue;if(i===null)throw Error(L(311));i.lastRenderedReducer=n;var r=t.baseQueue,s=i.pending;if(s!==null){if(r!==null){var a=r.next;r.next=s.next,s.next=a}e.baseQueue=r=s,i.pending=null}if(s=t.baseState,r===null)t.memoizedState=s;else{e=r.next;var l=a=null,u=null,c=e,d=!1;do{var g=c.lane&-536870913;if(g!==c.lane?(oe&g)===g:(Wn&g)===g){var p=c.revertLane;if(p===0)u!==null&&(u=u.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),g===zs&&(d=!0);else if((Wn&p)===p){c=c.next,p===zs&&(d=!0);continue}else g={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(l=u=g,a=s):u=u.next=g,Z.lanes|=p,Zi|=p;g=c.action,jr&&n(s,g),s=c.hasEagerState?c.eagerState:n(s,g)}else p={lane:g,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(l=u=p,a=s):u=u.next=p,Z.lanes|=g,Zi|=g;c=c.next}while(c!==null&&c!==e);if(u===null?a=s:u.next=l,!qt(s,t.memoizedState)&&(Ge=!0,d&&(n=Rs,n!==null)))throw n;t.memoizedState=s,t.baseState=a,t.baseQueue=u,i.lastRenderedState=s}return r===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function of(t){var e=Le(),n=e.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do s=t(s,a.action),a=a.next;while(a!==r);qt(s,e.memoizedState)||(Ge=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function B0(t,e,n){var i=Z,r=Le(),s=le;if(s){if(n===void 0)throw Error(L(407));n=n()}else n=e();var a=!qt((ge||r).memoizedState,n);if(a&&(r.memoizedState=n,Ge=!0),r=r.queue,$m(F0.bind(null,i,r,t),[t]),r.getSnapshot!==e||a||Be!==null&&Be.memoizedState.tag&1){if(i.flags|=2048,qs(9,{destroy:void 0},H0.bind(null,i,r,n,e),null),ve===null)throw Error(L(349));s||Wn&127||q0(i,e,n)}return n}function q0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Z.updateQueue,e===null?(e=zc(),Z.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function H0(t,e,n,i){e.value=n,e.getSnapshot=i,G0(e)&&K0(t)}function F0(t,e,n){return n(function(){G0(e)&&K0(t)})}function G0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!qt(t,n)}catch{return!0}}function K0(t){var e=Kr(t,2);e!==null&&Nt(e,t,2)}function gd(t){var e=Et();if(typeof t=="function"){var n=t;if(t=n(),jr){Ri(!0);try{n()}finally{Ri(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jn,lastRenderedState:t},e}function Y0(t,e,n,i){return t.baseState=n,Qm(t,ge,typeof i=="function"?i:Jn)}function $1(t,e,n,i,r){if(Hc(t))throw Error(L(485));if(t=e.action,t!==null){var s={payload:r,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){s.listeners.push(a)}};Q.T!==null?n(!0):s.isTransition=!1,i(s),n=e.pending,n===null?(s.next=e.pending=s,Q0(e,s)):(s.next=n.next,e.pending=n.next=s)}}function Q0(t,e){var n=e.action,i=e.payload,r=t.state;if(e.isTransition){var s=Q.T,a={};Q.T=a;try{var l=n(r,i),u=Q.S;u!==null&&u(a,l),Qy(t,e,l)}catch(c){yd(t,e,c)}finally{s!==null&&a.types!==null&&(s.types=a.types),Q.T=s}}else try{s=n(r,i),Qy(t,e,s)}catch(c){yd(t,e,c)}}function Qy(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){$y(t,e,i)},function(i){return yd(t,e,i)}):$y(t,e,n)}function $y(t,e,n){e.status="fulfilled",e.value=n,$0(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,Q0(t,n)))}function yd(t,e,n){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do e.status="rejected",e.reason=n,$0(e),e=e.next;while(e!==i)}t.action=null}function $0(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function X0(t,e){return e}function Xy(t,e){if(le){var n=ve.formState;if(n!==null){e:{var i=Z;if(le){if(we){t:{for(var r=we,s=Wt;r.nodeType!==8;){if(!s){r=null;break t}if(r=en(r.nextSibling),r===null){r=null;break t}}s=r.data,r=s==="F!"||s==="F"?r:null}if(r){we=en(r.nextSibling),i=r.data==="F!";break e}}Wi(i)}i=!1}i&&(e=n[0])}}return n=Et(),n.memoizedState=n.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:X0,lastRenderedState:e},n.queue=i,n=fT.bind(null,Z,i),i.dispatch=n,i=gd(!1),s=Zm.bind(null,Z,!1,i.queue),i=Et(),r={state:e,dispatch:null,action:t,pending:null},i.queue=r,n=$1.bind(null,Z,r,s,n),r.dispatch=n,i.memoizedState=t,[e,n,!1]}function Wy(t){var e=Le();return W0(e,ge,t)}function W0(t,e,n){if(e=Qm(t,e,X0)[0],t=mu(Jn)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var i=ol(e)}catch(a){throw a===la?Uc:a}else i=e;e=Le();var r=e.queue,s=r.dispatch;return n!==e.memoizedState&&(Z.flags|=2048,qs(9,{destroy:void 0},X1.bind(null,r,n),null)),[i,s,t]}function X1(t,e){t.action=e}function Jy(t){var e=Le(),n=ge;if(n!==null)return W0(e,n,t);Le(),e=e.memoizedState,n=Le();var i=n.queue.dispatch;return n.memoizedState=t,[e,i,!1]}function qs(t,e,n,i){return t={tag:t,create:n,deps:i,inst:e,next:null},e=Z.updateQueue,e===null&&(e=zc(),Z.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function J0(){return Le().memoizedState}function pu(t,e,n,i){var r=Et();Z.flags|=t,r.memoizedState=qs(1|e,{destroy:void 0},n,i===void 0?null:i)}function qc(t,e,n,i){var r=Le();i=i===void 0?null:i;var s=r.memoizedState.inst;ge!==null&&i!==null&&qm(i,ge.memoizedState.deps)?r.memoizedState=qs(e,s,n,i):(Z.flags|=t,r.memoizedState=qs(1|e,s,n,i))}function Zy(t,e){pu(8390656,8,t,e)}function $m(t,e){qc(2048,8,t,e)}function W1(t){Z.flags|=4;var e=Z.updateQueue;if(e===null)e=zc(),Z.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function Z0(t){var e=Le().memoizedState;return W1({ref:e,nextImpl:t}),function(){if(ce&2)throw Error(L(440));return e.impl.apply(void 0,arguments)}}function eT(t,e){return qc(4,2,t,e)}function tT(t,e){return qc(4,4,t,e)}function nT(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function iT(t,e,n){n=n!=null?n.concat([t]):null,qc(4,4,nT.bind(null,e,t),n)}function Xm(){}function rT(t,e){var n=Le();e=e===void 0?null:e;var i=n.memoizedState;return e!==null&&qm(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function sT(t,e){var n=Le();e=e===void 0?null:e;var i=n.memoizedState;if(e!==null&&qm(e,i[1]))return i[0];if(i=t(),jr){Ri(!0);try{t()}finally{Ri(!1)}}return n.memoizedState=[i,e],i}function Wm(t,e,n){return n===void 0||Wn&1073741824&&!(oe&261930)?t.memoizedState=e:(t.memoizedState=n,t=YT(),Z.lanes|=t,Zi|=t,n)}function aT(t,e,n,i){return qt(n,e)?n:Bs.current!==null?(t=Wm(t,n,i),qt(t,e)||(Ge=!0),t):!(Wn&42)||Wn&1073741824&&!(oe&261930)?(Ge=!0,t.memoizedState=n):(t=YT(),Z.lanes|=t,Zi|=t,e)}function oT(t,e,n,i,r){var s=he.p;he.p=s!==0&&8>s?s:8;var a=Q.T,l={};Q.T=l,Zm(t,!1,e,n);try{var u=r(),c=Q.S;if(c!==null&&c(l,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=K1(u,i);mo(t,e,d,Bt(t))}else mo(t,e,i,Bt(t))}catch(g){mo(t,e,{then:function(){},status:"rejected",reason:g},Bt())}finally{he.p=s,a!==null&&l.types!==null&&(a.types=l.types),Q.T=a}}function J1(){}function _d(t,e,n,i){if(t.tag!==5)throw Error(L(476));var r=lT(t).queue;oT(t,r,e,xr,n===null?J1:function(){return uT(t),n(i)})}function lT(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:xr,baseState:xr,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jn,lastRenderedState:xr},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jn,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function uT(t){var e=lT(t);e.next===null&&(e=t.alternate.memoizedState),mo(t,e.next.queue,{},Bt())}function Jm(){return ut(Lo)}function cT(){return Le().memoizedState}function hT(){return Le().memoizedState}function Z1(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=Bt();t=ji(n);var i=ki(e,t,n);i!==null&&(Nt(i,e,n),co(i,e,n)),e={cache:Lm()},t.payload=e;return}e=e.return}}function eR(t,e,n){var i=Bt();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Hc(t)?dT(e,n):(n=Mm(t,e,n,i),n!==null&&(Nt(n,t,i),mT(n,e,i)))}function fT(t,e,n){var i=Bt();mo(t,e,n,i)}function mo(t,e,n,i){var r={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Hc(t))dT(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,l=s(a,n);if(r.hasEagerState=!0,r.eagerState=l,qt(l,a))return Pc(t,e,r,0),ve===null&&Lc(),!1}catch{}finally{}if(n=Mm(t,e,r,i),n!==null)return Nt(n,t,i),mT(n,e,i),!0}return!1}function Zm(t,e,n,i){if(i={lane:2,revertLane:lp(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Hc(t)){if(e)throw Error(L(479))}else e=Mm(t,n,i,2),e!==null&&Nt(e,t,2)}function Hc(t){var e=t.alternate;return t===Z||e!==null&&e===Z}function dT(t,e){Ns=Yu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function mT(t,e,n){if(n&4194048){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,ZE(t,n)}}var Vo={readContext:ut,use:Bc,useCallback:Oe,useContext:Oe,useEffect:Oe,useImperativeHandle:Oe,useLayoutEffect:Oe,useInsertionEffect:Oe,useMemo:Oe,useReducer:Oe,useRef:Oe,useState:Oe,useDebugValue:Oe,useDeferredValue:Oe,useTransition:Oe,useSyncExternalStore:Oe,useId:Oe,useHostTransitionStatus:Oe,useFormState:Oe,useActionState:Oe,useOptimistic:Oe,useMemoCache:Oe,useCacheRefresh:Oe};Vo.useEffectEvent=Oe;var pT={readContext:ut,use:Bc,useCallback:function(t,e){return Et().memoizedState=[t,e===void 0?null:e],t},useContext:ut,useEffect:Zy,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,pu(4194308,4,nT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return pu(4194308,4,t,e)},useInsertionEffect:function(t,e){pu(4,2,t,e)},useMemo:function(t,e){var n=Et();e=e===void 0?null:e;var i=t();if(jr){Ri(!0);try{t()}finally{Ri(!1)}}return n.memoizedState=[i,e],i},useReducer:function(t,e,n){var i=Et();if(n!==void 0){var r=n(e);if(jr){Ri(!0);try{n(e)}finally{Ri(!1)}}}else r=e;return i.memoizedState=i.baseState=r,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},i.queue=t,t=t.dispatch=eR.bind(null,Z,t),[i.memoizedState,t]},useRef:function(t){var e=Et();return t={current:t},e.memoizedState=t},useState:function(t){t=gd(t);var e=t.queue,n=fT.bind(null,Z,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:Xm,useDeferredValue:function(t,e){var n=Et();return Wm(n,t,e)},useTransition:function(){var t=gd(!1);return t=oT.bind(null,Z,t.queue,!0,!1),Et().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var i=Z,r=Et();if(le){if(n===void 0)throw Error(L(407));n=n()}else{if(n=e(),ve===null)throw Error(L(349));oe&127||q0(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,Zy(F0.bind(null,i,s,t),[t]),i.flags|=2048,qs(9,{destroy:void 0},H0.bind(null,i,s,n,e),null),n},useId:function(){var t=Et(),e=ve.identifierPrefix;if(le){var n=vn,i=_n;n=(i&~(1<<32-zt(i)-1)).toString(32)+n,e="_"+e+"R_"+n,n=Qu++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=Y1++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:Jm,useFormState:Xy,useActionState:Xy,useOptimistic:function(t){var e=Et();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=Zm.bind(null,Z,!0,n),n.dispatch=e,[t,e]},useMemoCache:Ym,useCacheRefresh:function(){return Et().memoizedState=Z1.bind(null,Z)},useEffectEvent:function(t){var e=Et(),n={impl:t};return e.memoizedState=n,function(){if(ce&2)throw Error(L(440));return n.impl.apply(void 0,arguments)}}},ep={readContext:ut,use:Bc,useCallback:rT,useContext:ut,useEffect:$m,useImperativeHandle:iT,useInsertionEffect:eT,useLayoutEffect:tT,useMemo:sT,useReducer:mu,useRef:J0,useState:function(){return mu(Jn)},useDebugValue:Xm,useDeferredValue:function(t,e){var n=Le();return aT(n,ge.memoizedState,t,e)},useTransition:function(){var t=mu(Jn)[0],e=Le().memoizedState;return[typeof t=="boolean"?t:ol(t),e]},useSyncExternalStore:B0,useId:cT,useHostTransitionStatus:Jm,useFormState:Wy,useActionState:Wy,useOptimistic:function(t,e){var n=Le();return Y0(n,ge,t,e)},useMemoCache:Ym,useCacheRefresh:hT};ep.useEffectEvent=Z0;var gT={readContext:ut,use:Bc,useCallback:rT,useContext:ut,useEffect:$m,useImperativeHandle:iT,useInsertionEffect:eT,useLayoutEffect:tT,useMemo:sT,useReducer:of,useRef:J0,useState:function(){return of(Jn)},useDebugValue:Xm,useDeferredValue:function(t,e){var n=Le();return ge===null?Wm(n,t,e):aT(n,ge.memoizedState,t,e)},useTransition:function(){var t=of(Jn)[0],e=Le().memoizedState;return[typeof t=="boolean"?t:ol(t),e]},useSyncExternalStore:B0,useId:cT,useHostTransitionStatus:Jm,useFormState:Jy,useActionState:Jy,useOptimistic:function(t,e){var n=Le();return ge!==null?Y0(n,ge,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:Ym,useCacheRefresh:hT};gT.useEffectEvent=Z0;function lf(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Re({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var vd={enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Bt(),r=ji(i);r.payload=e,n!=null&&(r.callback=n),e=ki(t,r,i),e!==null&&(Nt(e,t,i),co(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Bt(),r=ji(i);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=ki(t,r,i),e!==null&&(Nt(e,t,i),co(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Bt(),i=ji(n);i.tag=2,e!=null&&(i.callback=e),e=ki(t,i,n),e!==null&&(Nt(e,t,n),co(e,t,n))}};function e_(t,e,n,i,r,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,a):e.prototype&&e.prototype.isPureReactComponent?!No(n,i)||!No(r,s):!0}function t_(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&vd.enqueueReplaceState(e,e.state,null)}function kr(t,e){var n=e;if("ref"in e){n={};for(var i in e)i!=="ref"&&(n[i]=e[i])}if(t=t.defaultProps){n===e&&(n=Re({},n));for(var r in t)n[r]===void 0&&(n[r]=t[r])}return n}function yT(t){zu(t)}function _T(t){console.error(t)}function vT(t){zu(t)}function $u(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(i){setTimeout(function(){throw i})}}function n_(t,e,n){try{var i=t.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Ed(t,e,n){return n=ji(n),n.tag=3,n.payload={element:null},n.callback=function(){$u(t,e)},n}function ET(t){return t=ji(t),t.tag=3,t}function TT(t,e,n,i){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var s=i.value;t.payload=function(){return r(s)},t.callback=function(){n_(e,n,i)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(t.callback=function(){n_(e,n,i),typeof r!="function"&&(Li===null?Li=new Set([this]):Li.add(this));var l=i.stack;this.componentDidCatch(i.value,{componentStack:l!==null?l:""})})}function tR(t,e,n,i,r){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(e=n.alternate,e!==null&&oa(e,n,r,!0),n=Ht.current,n!==null){switch(n.tag){case 31:case 13:return Zt===null?ec():n.alternate===null&&Me===0&&(Me=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===Fu?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([i]):e.add(i),vf(t,i,r)),!1;case 22:return n.flags|=65536,i===Fu?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([i]):n.add(i)),vf(t,i,r)),!1}throw Error(L(435,n.tag))}return vf(t,i,r),ec(),!1}if(le)return e=Ht.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=r,i!==od&&(t=Error(L(422),{cause:i}),Do(Xt(t,n)))):(i!==od&&(e=Error(L(423),{cause:i}),Do(Xt(e,n))),t=t.current.alternate,t.flags|=65536,r&=-r,t.lanes|=r,i=Xt(i,n),r=Ed(t.stateNode,i,r),af(t,r),Me!==4&&(Me=2)),!1;var s=Error(L(520),{cause:i});if(s=Xt(s,n),yo===null?yo=[s]:yo.push(s),Me!==4&&(Me=2),e===null)return!0;i=Xt(i,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=r&-r,n.lanes|=t,t=Ed(n.stateNode,i,t),af(n,t),!1;case 1:if(e=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Li===null||!Li.has(s))))return n.flags|=65536,r&=-r,n.lanes|=r,r=ET(r),TT(r,t,n,i),af(n,r),!1}n=n.return}while(n!==null);return!1}var tp=Error(L(461)),Ge=!1;function rt(t,e,n,i){e.child=t===null?j0(e,null,n,i):Vr(e,t.child,n,i)}function i_(t,e,n,i,r){n=n.render;var s=e.ref;if("ref"in i){var a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}else a=i;return Mr(e),i=Hm(t,e,n,a,s,r),l=Fm(),t!==null&&!Ge?(Gm(t,e,r),Zn(t,e,r)):(le&&l&&jm(e),e.flags|=1,rt(t,e,i,r),e.child)}function r_(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!Vm(s)&&s.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=s,bT(t,e,s,i,r)):(t=fu(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!np(t,r)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:No,n(a,i)&&t.ref===e.ref)return Zn(t,e,r)}return e.flags|=1,t=Gn(s,i),t.ref=e.ref,t.return=e,e.child=t}function bT(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(No(s,i)&&t.ref===e.ref)if(Ge=!1,e.pendingProps=i=s,np(t,r))t.flags&131072&&(Ge=!0);else return e.lanes=t.lanes,Zn(t,e,r)}return Td(t,e,n,i,r)}function ST(t,e,n,i){var r=i.children,s=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(e.flags&128){if(s=s!==null?s.baseLanes|n:n,t!==null){for(i=e.child=t.child,r=0;i!==null;)r=r|i.lanes|i.childLanes,i=i.sibling;i=r&~s}else i=0,e.child=null;return s_(t,e,s,n,i)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&du(e,s!==null?s.cachePool:null),s!==null?Yy(e,s):md(),P0(e);else return i=e.lanes=536870912,s_(t,e,s!==null?s.baseLanes|n:n,n,i)}else s!==null?(du(e,s.cachePool),Yy(e,s),Ti(),e.memoizedState=null):(t!==null&&du(e,null),md(),Ti());return rt(t,e,r,n),e.child}function Wa(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function s_(t,e,n,i,r){var s=Pm();return s=s===null?null:{parent:He._currentValue,pool:s},e.memoizedState={baseLanes:n,cachePool:s},t!==null&&du(e,null),md(),P0(e),t!==null&&oa(t,e,i,!0),e.childLanes=r,null}function gu(t,e){return e=Xu({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function a_(t,e,n){return Vr(e,t.child,null,n),t=gu(e,e.pendingProps),t.flags|=2,Vt(e),e.memoizedState=null,t}function nR(t,e,n){var i=e.pendingProps,r=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(le){if(i.mode==="hidden")return t=gu(e,i),e.lanes=536870912,Wa(null,t);if(pd(e),(t=we)?(t=pb(t,Wt),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Xi!==null?{id:_n,overflow:vn}:null,retryLane:536870912,hydrationErrors:null},n=C0(t),n.return=e,e.child=n,ot=e,we=null)):t=null,t===null)throw Wi(e);return e.lanes=536870912,null}return gu(e,i)}var s=t.memoizedState;if(s!==null){var a=s.dehydrated;if(pd(e),r)if(e.flags&256)e.flags&=-257,e=a_(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(L(558));else if(Ge||oa(t,e,n,!1),r=(n&t.childLanes)!==0,Ge||r){if(i=ve,i!==null&&(a=e0(i,n),a!==0&&a!==s.retryLane))throw s.retryLane=a,Kr(t,a),Nt(i,t,a),tp;ec(),e=a_(t,e,n)}else t=s.treeContext,we=en(a.nextSibling),ot=e,le=!0,Vi=null,Wt=!1,t!==null&&I0(e,t),e=gu(e,i),e.flags|=4096;return e}return t=Gn(t.child,{mode:i.mode,children:i.children}),t.ref=e.ref,e.child=t,t.return=e,t}function yu(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(L(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function Td(t,e,n,i,r){return Mr(e),n=Hm(t,e,n,i,void 0,r),i=Fm(),t!==null&&!Ge?(Gm(t,e,r),Zn(t,e,r)):(le&&i&&jm(e),e.flags|=1,rt(t,e,n,r),e.child)}function o_(t,e,n,i,r,s){return Mr(e),e.updateQueue=null,n=z0(e,i,n,r),U0(t),i=Fm(),t!==null&&!Ge?(Gm(t,e,s),Zn(t,e,s)):(le&&i&&jm(e),e.flags|=1,rt(t,e,n,s),e.child)}function l_(t,e,n,i,r){if(Mr(e),e.stateNode===null){var s=vs,a=n.contextType;typeof a=="object"&&a!==null&&(s=ut(a)),s=new n(i,s),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=vd,e.stateNode=s,s._reactInternals=e,s=e.stateNode,s.props=i,s.state=e.memoizedState,s.refs={},zm(e),a=n.contextType,s.context=typeof a=="object"&&a!==null?ut(a):vs,s.state=e.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(lf(e,n,a,i),s.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(a=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),a!==s.state&&vd.enqueueReplaceState(s,s.state,null),fo(e,i,s,r),ho(),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308),i=!0}else if(t===null){s=e.stateNode;var l=e.memoizedProps,u=kr(n,l);s.props=u;var c=s.context,d=n.contextType;a=vs,typeof d=="object"&&d!==null&&(a=ut(d));var g=n.getDerivedStateFromProps;d=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function",l=e.pendingProps!==l,d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l||c!==a)&&t_(e,s,i,a),_i=!1;var p=e.memoizedState;s.state=p,fo(e,i,s,r),ho(),c=e.memoizedState,l||p!==c||_i?(typeof g=="function"&&(lf(e,n,g,i),c=e.memoizedState),(u=_i||e_(e,n,u,i,p,c,a))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=c),s.props=i,s.state=c,s.context=a,i=u):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{s=e.stateNode,fd(t,e),a=e.memoizedProps,d=kr(n,a),s.props=d,g=e.pendingProps,p=s.context,c=n.contextType,u=vs,typeof c=="object"&&c!==null&&(u=ut(c)),l=n.getDerivedStateFromProps,(c=typeof l=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==g||p!==u)&&t_(e,s,i,u),_i=!1,p=e.memoizedState,s.state=p,fo(e,i,s,r),ho();var y=e.memoizedState;a!==g||p!==y||_i||t!==null&&t.dependencies!==null&&Hu(t.dependencies)?(typeof l=="function"&&(lf(e,n,l,i),y=e.memoizedState),(d=_i||e_(e,n,d,i,p,y,u)||t!==null&&t.dependencies!==null&&Hu(t.dependencies))?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,y,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,y,u)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=y),s.props=i,s.state=y,s.context=u,i=d):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),i=!1)}return s=i,yu(t,e),i=(e.flags&128)!==0,s||i?(s=e.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:s.render(),e.flags|=1,t!==null&&i?(e.child=Vr(e,t.child,null,r),e.child=Vr(e,null,n,r)):rt(t,e,n,r),e.memoizedState=s.state,t=e.child):t=Zn(t,e,r),t}function u_(t,e,n,i){return Or(),e.flags|=256,rt(t,e,n,i),e.child}var uf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cf(t){return{baseLanes:t,cachePool:O0()}}function hf(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=kt),t}function AT(t,e,n){var i=e.pendingProps,r=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(je.current&2)!==0),a&&(r=!0,e.flags&=-129),a=(e.flags&32)!==0,e.flags&=-33,t===null){if(le){if(r?Ei(e):Ti(),(t=we)?(t=pb(t,Wt),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Xi!==null?{id:_n,overflow:vn}:null,retryLane:536870912,hydrationErrors:null},n=C0(t),n.return=e,e.child=n,ot=e,we=null)):t=null,t===null)throw Wi(e);return jd(t)?e.lanes=32:e.lanes=536870912,null}var l=i.children;return i=i.fallback,r?(Ti(),r=e.mode,l=Xu({mode:"hidden",children:l},r),i=Rr(i,r,n,null),l.return=e,i.return=e,l.sibling=i,e.child=l,i=e.child,i.memoizedState=cf(n),i.childLanes=hf(t,a,n),e.memoizedState=uf,Wa(null,i)):(Ei(e),bd(e,l))}var u=t.memoizedState;if(u!==null&&(l=u.dehydrated,l!==null)){if(s)e.flags&256?(Ei(e),e.flags&=-257,e=ff(t,e,n)):e.memoizedState!==null?(Ti(),e.child=t.child,e.flags|=128,e=null):(Ti(),l=i.fallback,r=e.mode,i=Xu({mode:"visible",children:i.children},r),l=Rr(l,r,n,null),l.flags|=2,i.return=e,l.return=e,i.sibling=l,e.child=i,Vr(e,t.child,null,n),i=e.child,i.memoizedState=cf(n),i.childLanes=hf(t,a,n),e.memoizedState=uf,e=Wa(null,i));else if(Ei(e),jd(l)){if(a=l.nextSibling&&l.nextSibling.dataset,a)var c=a.dgst;a=c,i=Error(L(419)),i.stack="",i.digest=a,Do({value:i,source:null,stack:null}),e=ff(t,e,n)}else if(Ge||oa(t,e,n,!1),a=(n&t.childLanes)!==0,Ge||a){if(a=ve,a!==null&&(i=e0(a,n),i!==0&&i!==u.retryLane))throw u.retryLane=i,Kr(t,i),Nt(a,t,i),tp;Vd(l)||ec(),e=ff(t,e,n)}else Vd(l)?(e.flags|=192,e.child=t.child,e=null):(t=u.treeContext,we=en(l.nextSibling),ot=e,le=!0,Vi=null,Wt=!1,t!==null&&I0(e,t),e=bd(e,i.children),e.flags|=4096);return e}return r?(Ti(),l=i.fallback,r=e.mode,u=t.child,c=u.sibling,i=Gn(u,{mode:"hidden",children:i.children}),i.subtreeFlags=u.subtreeFlags&65011712,c!==null?l=Gn(c,l):(l=Rr(l,r,n,null),l.flags|=2),l.return=e,i.return=e,i.sibling=l,e.child=i,Wa(null,i),i=e.child,l=t.child.memoizedState,l===null?l=cf(n):(r=l.cachePool,r!==null?(u=He._currentValue,r=r.parent!==u?{parent:u,pool:u}:r):r=O0(),l={baseLanes:l.baseLanes|n,cachePool:r}),i.memoizedState=l,i.childLanes=hf(t,a,n),e.memoizedState=uf,Wa(t.child,i)):(Ei(e),n=t.child,t=n.sibling,n=Gn(n,{mode:"visible",children:i.children}),n.return=e,n.sibling=null,t!==null&&(a=e.deletions,a===null?(e.deletions=[t],e.flags|=16):a.push(t)),e.child=n,e.memoizedState=null,n)}function bd(t,e){return e=Xu({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Xu(t,e){return t=jt(22,t,null,e),t.lanes=0,t}function ff(t,e,n){return Vr(e,t.child,null,n),t=bd(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function c_(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),ud(t.return,e,n)}function df(t,e,n,i,r,s){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r,treeForkCount:s}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=r,a.treeForkCount=s)}function wT(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;i=i.children;var a=je.current,l=(a&2)!==0;if(l?(a=a&1|2,e.flags|=128):a&=1,be(je,a),rt(t,e,i,n),i=le?Io:0,!l&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&c_(t,n,e);else if(t.tag===19)c_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Ku(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),df(e,!1,r,n,s,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Ku(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}df(e,!0,n,null,s,i);break;case"together":df(e,!1,null,null,void 0,i);break;default:e.memoizedState=null}return e.child}function Zn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Zi|=e.lanes,!(n&e.childLanes))if(t!==null){if(oa(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(L(153));if(e.child!==null){for(t=e.child,n=Gn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Gn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function np(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&Hu(t)))}function iR(t,e,n){switch(e.tag){case 3:ku(e,e.stateNode.containerInfo),vi(e,He,t.memoizedState.cache),Or();break;case 27:case 5:Xf(e);break;case 4:ku(e,e.stateNode.containerInfo);break;case 10:vi(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,pd(e),null;break;case 13:var i=e.memoizedState;if(i!==null)return i.dehydrated!==null?(Ei(e),e.flags|=128,null):n&e.child.childLanes?AT(t,e,n):(Ei(e),t=Zn(t,e,n),t!==null?t.sibling:null);Ei(e);break;case 19:var r=(t.flags&128)!==0;if(i=(n&e.childLanes)!==0,i||(oa(t,e,n,!1),i=(n&e.childLanes)!==0),r){if(i)return wT(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),be(je,je.current),i)break;return null;case 22:return e.lanes=0,ST(t,e,n,e.pendingProps);case 24:vi(e,He,t.memoizedState.cache)}return Zn(t,e,n)}function xT(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)Ge=!0;else{if(!np(t,n)&&!(e.flags&128))return Ge=!1,iR(t,e,n);Ge=!!(t.flags&131072)}else Ge=!1,le&&e.flags&1048576&&N0(e,Io,e.index);switch(e.lanes=0,e.tag){case 16:e:{var i=e.pendingProps;if(t=br(e.elementType),e.type=t,typeof t=="function")Vm(t)?(i=kr(t,i),e.tag=1,e=l_(null,e,t,i,n)):(e.tag=0,e=Td(null,e,t,i,n));else{if(t!=null){var r=t.$$typeof;if(r===Em){e.tag=11,e=i_(null,e,t,i,n);break e}else if(r===Tm){e.tag=14,e=r_(null,e,t,i,n);break e}}throw e=Qf(t)||t,Error(L(306,e,""))}}return e;case 0:return Td(t,e,e.type,e.pendingProps,n);case 1:return i=e.type,r=kr(i,e.pendingProps),l_(t,e,i,r,n);case 3:e:{if(ku(e,e.stateNode.containerInfo),t===null)throw Error(L(387));i=e.pendingProps;var s=e.memoizedState;r=s.element,fd(t,e),fo(e,i,null,n);var a=e.memoizedState;if(i=a.cache,vi(e,He,i),i!==s.cache&&cd(e,[He],n,!0),ho(),i=a.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:a.cache},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){e=u_(t,e,i,n);break e}else if(i!==r){r=Xt(Error(L(424)),e),Do(r),e=u_(t,e,i,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(we=en(t.firstChild),ot=e,le=!0,Vi=null,Wt=!0,n=j0(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Or(),i===r){e=Zn(t,e,n);break e}rt(t,e,i,n)}e=e.child}return e;case 26:return yu(t,e),t===null?(n=I_(e.type,null,e.pendingProps,null))?e.memoizedState=n:le||(n=e.type,t=e.pendingProps,i=rc(Mi.current).createElement(n),i[at]=e,i[It]=t,ct(i,n,t),nt(i),e.stateNode=i):e.memoizedState=I_(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return Xf(e),t===null&&le&&(i=e.stateNode=gb(e.type,e.pendingProps,Mi.current),ot=e,Wt=!0,r=we,or(e.type)?(kd=r,we=en(i.firstChild)):we=r),rt(t,e,e.pendingProps.children,n),yu(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&le&&((r=i=we)&&(i=MR(i,e.type,e.pendingProps,Wt),i!==null?(e.stateNode=i,ot=e,we=en(i.firstChild),Wt=!1,r=!0):r=!1),r||Wi(e)),Xf(e),r=e.type,s=e.pendingProps,a=t!==null?t.memoizedProps:null,i=s.children,Od(r,s)?i=null:a!==null&&Od(r,a)&&(e.flags|=32),e.memoizedState!==null&&(r=Hm(t,e,Q1,null,null,n),Lo._currentValue=r),yu(t,e),rt(t,e,i,n),e.child;case 6:return t===null&&le&&((t=n=we)&&(n=VR(n,e.pendingProps,Wt),n!==null?(e.stateNode=n,ot=e,we=null,t=!0):t=!1),t||Wi(e)),null;case 13:return AT(t,e,n);case 4:return ku(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Vr(e,null,i,n):rt(t,e,i,n),e.child;case 11:return i_(t,e,e.type,e.pendingProps,n);case 7:return rt(t,e,e.pendingProps,n),e.child;case 8:return rt(t,e,e.pendingProps.children,n),e.child;case 12:return rt(t,e,e.pendingProps.children,n),e.child;case 10:return i=e.pendingProps,vi(e,e.type,i.value),rt(t,e,i.children,n),e.child;case 9:return r=e.type._context,i=e.pendingProps.children,Mr(e),r=ut(r),i=i(r),e.flags|=1,rt(t,e,i,n),e.child;case 14:return r_(t,e,e.type,e.pendingProps,n);case 15:return bT(t,e,e.type,e.pendingProps,n);case 19:return wT(t,e,n);case 31:return nR(t,e,n);case 22:return ST(t,e,n,e.pendingProps);case 24:return Mr(e),i=ut(He),t===null?(r=Pm(),r===null&&(r=ve,s=Lm(),r.pooledCache=s,s.refCount++,s!==null&&(r.pooledCacheLanes|=n),r=s),e.memoizedState={parent:i,cache:r},zm(e),vi(e,He,r)):(t.lanes&n&&(fd(t,e),fo(e,null,null,n),ho()),r=t.memoizedState,s=e.memoizedState,r.parent!==i?(r={parent:i,cache:i},e.memoizedState=r,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=r),vi(e,He,i)):(i=s.cache,vi(e,He,i),i!==r.cache&&cd(e,[He],n,!0))),rt(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(L(156,e.tag))}function Vn(t){t.flags|=4}function mf(t,e,n,i,r){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(r&335544128)===r)if(t.stateNode.complete)t.flags|=8192;else if(XT())t.flags|=8192;else throw Nr=Fu,Um}else t.flags&=-16777217}function h_(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!vb(e))if(XT())t.flags|=8192;else throw Nr=Fu,Um}function $l(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?WE():536870912,t.lanes|=e,Hs|=e)}function Ha(t,e){if(!le)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Ae(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&65011712,i|=r.flags&65011712,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function rR(t,e,n){var i=e.pendingProps;switch(km(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ae(e),null;case 1:return Ae(e),null;case 3:return n=e.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),Kn(He),Ls(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(ns(e)?Vn(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,sf())),Ae(e),null;case 26:var r=e.type,s=e.memoizedState;return t===null?(Vn(e),s!==null?(Ae(e),h_(e,s)):(Ae(e),mf(e,r,null,i,n))):s?s!==t.memoizedState?(Vn(e),Ae(e),h_(e,s)):(Ae(e),e.flags&=-16777217):(t=t.memoizedProps,t!==i&&Vn(e),Ae(e),mf(e,r,t,i,n)),null;case 27:if(Lu(e),n=Mi.current,r=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&Vn(e);else{if(!i){if(e.stateNode===null)throw Error(L(166));return Ae(e),null}t=Tn.current,ns(e)?zy(e):(t=gb(r,i,n),e.stateNode=t,Vn(e))}return Ae(e),null;case 5:if(Lu(e),r=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&Vn(e);else{if(!i){if(e.stateNode===null)throw Error(L(166));return Ae(e),null}if(s=Tn.current,ns(e))zy(e);else{var a=rc(Mi.current);switch(s){case 1:s=a.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:s=a.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":s=a.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":s=a.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":s=a.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof i.is=="string"?a.createElement("select",{is:i.is}):a.createElement("select"),i.multiple?s.multiple=!0:i.size&&(s.size=i.size);break;default:s=typeof i.is=="string"?a.createElement(r,{is:i.is}):a.createElement(r)}}s[at]=e,s[It]=i;e:for(a=e.child;a!==null;){if(a.tag===5||a.tag===6)s.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break e;for(;a.sibling===null;){if(a.return===null||a.return===e)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}e.stateNode=s;e:switch(ct(s,r,i),r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Vn(e)}}return Ae(e),mf(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==i&&Vn(e);else{if(typeof i!="string"&&e.stateNode===null)throw Error(L(166));if(t=Mi.current,ns(e)){if(t=e.stateNode,n=e.memoizedProps,i=null,r=ot,r!==null)switch(r.tag){case 27:case 5:i=r.memoizedProps}t[at]=e,t=!!(t.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||fb(t.nodeValue,n)),t||Wi(e,!0)}else t=rc(t).createTextNode(i),t[at]=e,e.stateNode=t}return Ae(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(i=ns(e),n!==null){if(t===null){if(!i)throw Error(L(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(L(557));t[at]=e}else Or(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ae(e),t=!1}else n=sf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(Vt(e),e):(Vt(e),null);if(e.flags&128)throw Error(L(558))}return Ae(e),null;case 13:if(i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(r=ns(e),i!==null&&i.dehydrated!==null){if(t===null){if(!r)throw Error(L(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(L(317));r[at]=e}else Or(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ae(e),r=!1}else r=sf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),r=!0;if(!r)return e.flags&256?(Vt(e),e):(Vt(e),null)}return Vt(e),e.flags&128?(e.lanes=n,e):(n=i!==null,t=t!==null&&t.memoizedState!==null,n&&(i=e.child,r=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(r=i.alternate.memoizedState.cachePool.pool),s=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==r&&(i.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),$l(e,e.updateQueue),Ae(e),null);case 4:return Ls(),t===null&&up(e.stateNode.containerInfo),Ae(e),null;case 10:return Kn(e.type),Ae(e),null;case 19:if(it(je),i=e.memoizedState,i===null)return Ae(e),null;if(r=(e.flags&128)!==0,s=i.rendering,s===null)if(r)Ha(i,!1);else{if(Me!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Ku(t),s!==null){for(e.flags|=128,Ha(i,!1),t=s.updateQueue,e.updateQueue=t,$l(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)R0(n,t),n=n.sibling;return be(je,je.current&1|2),le&&Pn(e,i.treeForkCount),e.child}t=t.sibling}i.tail!==null&&Pt()>Ju&&(e.flags|=128,r=!0,Ha(i,!1),e.lanes=4194304)}else{if(!r)if(t=Ku(s),t!==null){if(e.flags|=128,r=!0,t=t.updateQueue,e.updateQueue=t,$l(e,t),Ha(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!le)return Ae(e),null}else 2*Pt()-i.renderingStartTime>Ju&&n!==536870912&&(e.flags|=128,r=!0,Ha(i,!1),e.lanes=4194304);i.isBackwards?(s.sibling=e.child,e.child=s):(t=i.last,t!==null?t.sibling=s:e.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Pt(),t.sibling=null,n=je.current,be(je,r?n&1|2:n&1),le&&Pn(e,i.treeForkCount),t):(Ae(e),null);case 22:case 23:return Vt(e),Bm(),i=e.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?n&536870912&&!(e.flags&128)&&(Ae(e),e.subtreeFlags&6&&(e.flags|=8192)):Ae(e),n=e.updateQueue,n!==null&&$l(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),i=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),i!==n&&(e.flags|=2048),t!==null&&it(Cr),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Kn(He),Ae(e),null;case 25:return null;case 30:return null}throw Error(L(156,e.tag))}function sR(t,e){switch(km(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Kn(He),Ls(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Lu(e),null;case 31:if(e.memoizedState!==null){if(Vt(e),e.alternate===null)throw Error(L(340));Or()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(Vt(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(L(340));Or()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return it(je),null;case 4:return Ls(),null;case 10:return Kn(e.type),null;case 22:case 23:return Vt(e),Bm(),t!==null&&it(Cr),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Kn(He),null;case 25:return null;default:return null}}function RT(t,e){switch(km(e),e.tag){case 3:Kn(He),Ls();break;case 26:case 27:case 5:Lu(e);break;case 4:Ls();break;case 31:e.memoizedState!==null&&Vt(e);break;case 13:Vt(e);break;case 19:it(je);break;case 10:Kn(e.type);break;case 22:case 23:Vt(e),Bm(),t!==null&&it(Cr);break;case 24:Kn(He)}}function ll(t,e){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var r=i.next;n=r;do{if((n.tag&t)===t){i=void 0;var s=n.create,a=n.inst;i=s(),a.destroy=i}n=n.next}while(n!==r)}}catch(l){me(e,e.return,l)}}function Ji(t,e,n){try{var i=e.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var s=r.next;i=s;do{if((i.tag&t)===t){var a=i.inst,l=a.destroy;if(l!==void 0){a.destroy=void 0,r=e;var u=n,c=l;try{c()}catch(d){me(r,u,d)}}}i=i.next}while(i!==s)}}catch(d){me(e,e.return,d)}}function CT(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{L0(e,n)}catch(i){me(t,t.return,i)}}}function NT(t,e,n){n.props=kr(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(i){me(t,e,i)}}function po(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;case 30:i=t.stateNode;break;default:i=t.stateNode}typeof n=="function"?t.refCleanup=n(i):n.current=i}}catch(r){me(t,e,r)}}function En(t,e){var n=t.ref,i=t.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(r){me(t,e,r)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){me(t,e,r)}else n.current=null}function IT(t){var e=t.type,n=t.memoizedProps,i=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(r){me(t,t.return,r)}}function pf(t,e,n){try{var i=t.stateNode;RR(i,t.type,n,e),i[It]=e}catch(r){me(t,t.return,r)}}function DT(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&or(t.type)||t.tag===4}function gf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||DT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&or(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Sd(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Bn));else if(i!==4&&(i===27&&or(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(Sd(t,e,n),t=t.sibling;t!==null;)Sd(t,e,n),t=t.sibling}function Wu(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(i===27&&or(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(Wu(t,e,n),t=t.sibling;t!==null;)Wu(t,e,n),t=t.sibling}function OT(t){var e=t.stateNode,n=t.memoizedProps;try{for(var i=t.type,r=e.attributes;r.length;)e.removeAttributeNode(r[0]);ct(e,i,n),e[at]=t,e[It]=n}catch(s){me(t,t.return,s)}}var Un=!1,qe=!1,yf=!1,f_=typeof WeakSet=="function"?WeakSet:Set,tt=null;function aR(t,e){if(t=t.containerInfo,Id=lc,t=v0(t),Dm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,l=-1,u=-1,c=0,d=0,g=t,p=null;t:for(;;){for(var y;g!==n||r!==0&&g.nodeType!==3||(l=a+r),g!==s||i!==0&&g.nodeType!==3||(u=a+i),g.nodeType===3&&(a+=g.nodeValue.length),(y=g.firstChild)!==null;)p=g,g=y;for(;;){if(g===t)break t;if(p===n&&++c===r&&(l=a),p===s&&++d===i&&(u=a),(y=g.nextSibling)!==null)break;g=p,p=g.parentNode}g=y}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Dd={focusedElem:t,selectionRange:n},lc=!1,tt=e;tt!==null;)if(e=tt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,tt=t;else for(;tt!==null;){switch(e=tt,s=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)r=t[n],r.ref.impl=r.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&s!==null){t=void 0,n=e,r=s.memoizedProps,s=s.memoizedState,i=n.stateNode;try{var C=kr(n.type,r);t=i.getSnapshotBeforeUpdate(C,s),i.__reactInternalSnapshotBeforeUpdate=t}catch(D){me(n,n.return,D)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)Md(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Md(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(L(163))}if(t=e.sibling,t!==null){t.return=e.return,tt=t;break}tt=e.return}}function MT(t,e,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:kn(t,n),i&4&&ll(5,n);break;case 1:if(kn(t,n),i&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(a){me(n,n.return,a)}else{var r=kr(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(r,e,t.__reactInternalSnapshotBeforeUpdate)}catch(a){me(n,n.return,a)}}i&64&&CT(n),i&512&&po(n,n.return);break;case 3:if(kn(t,n),i&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{L0(t,e)}catch(a){me(n,n.return,a)}}break;case 27:e===null&&i&4&&OT(n);case 26:case 5:kn(t,n),e===null&&i&4&&IT(n),i&512&&po(n,n.return);break;case 12:kn(t,n);break;case 31:kn(t,n),i&4&&kT(t,n);break;case 13:kn(t,n),i&4&&LT(t,n),i&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=pR.bind(null,n),jR(t,n))));break;case 22:if(i=n.memoizedState!==null||Un,!i){e=e!==null&&e.memoizedState!==null||qe,r=Un;var s=qe;Un=i,(qe=e)&&!s?Ln(t,n,(n.subtreeFlags&8772)!==0):kn(t,n),Un=r,qe=s}break;case 30:break;default:kn(t,n)}}function VT(t){var e=t.alternate;e!==null&&(t.alternate=null,VT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&wm(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ce=null,wt=!1;function jn(t,e,n){for(n=n.child;n!==null;)jT(t,e,n),n=n.sibling}function jT(t,e,n){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(tl,n)}catch{}switch(n.tag){case 26:qe||En(n,e),jn(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:qe||En(n,e);var i=Ce,r=wt;or(n.type)&&(Ce=n.stateNode,wt=!1),jn(t,e,n),vo(n.stateNode),Ce=i,wt=r;break;case 5:qe||En(n,e);case 6:if(i=Ce,r=wt,Ce=null,jn(t,e,n),Ce=i,wt=r,Ce!==null)if(wt)try{(Ce.nodeType===9?Ce.body:Ce.nodeName==="HTML"?Ce.ownerDocument.body:Ce).removeChild(n.stateNode)}catch(s){me(n,e,s)}else try{Ce.removeChild(n.stateNode)}catch(s){me(n,e,s)}break;case 18:Ce!==null&&(wt?(t=Ce,w_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),Ys(t)):w_(Ce,n.stateNode));break;case 4:i=Ce,r=wt,Ce=n.stateNode.containerInfo,wt=!0,jn(t,e,n),Ce=i,wt=r;break;case 0:case 11:case 14:case 15:Ji(2,n,e),qe||Ji(4,n,e),jn(t,e,n);break;case 1:qe||(En(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"&&NT(n,e,i)),jn(t,e,n);break;case 21:jn(t,e,n);break;case 22:qe=(i=qe)||n.memoizedState!==null,jn(t,e,n),qe=i;break;default:jn(t,e,n)}}function kT(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ys(t)}catch(n){me(e,e.return,n)}}}function LT(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ys(t)}catch(n){me(e,e.return,n)}}function oR(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new f_),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new f_),e;default:throw Error(L(435,t.tag))}}function Xl(t,e){var n=oR(t);e.forEach(function(i){if(!n.has(i)){n.add(i);var r=gR.bind(null,t,i);i.then(r,r)}})}function St(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i],s=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 27:if(or(l.type)){Ce=l.stateNode,wt=!1;break e}break;case 5:Ce=l.stateNode,wt=!1;break e;case 3:case 4:Ce=l.stateNode.containerInfo,wt=!0;break e}l=l.return}if(Ce===null)throw Error(L(160));jT(s,a,r),Ce=null,wt=!1,s=r.alternate,s!==null&&(s.return=null),r.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)PT(e,t),e=e.sibling}var an=null;function PT(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:St(e,t),At(t),i&4&&(Ji(3,t,t.return),ll(3,t),Ji(5,t,t.return));break;case 1:St(e,t),At(t),i&512&&(qe||n===null||En(n,n.return)),i&64&&Un&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var r=an;if(St(e,t),At(t),i&512&&(qe||n===null||En(n,n.return)),i&4){var s=n!==null?n.memoizedState:null;if(i=t.memoizedState,n===null)if(i===null)if(t.stateNode===null){e:{i=t.type,n=t.memoizedProps,r=r.ownerDocument||r;t:switch(i){case"title":s=r.getElementsByTagName("title")[0],(!s||s[rl]||s[at]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=r.createElement(i),r.head.insertBefore(s,r.querySelector("head > title"))),ct(s,i,n),s[at]=t,nt(s),i=s;break e;case"link":var a=O_("link","href",r).get(i+(n.href||""));if(a){for(var l=0;l<a.length;l++)if(s=a[l],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(l,1);break t}}s=r.createElement(i),ct(s,i,n),r.head.appendChild(s);break;case"meta":if(a=O_("meta","content",r).get(i+(n.content||""))){for(l=0;l<a.length;l++)if(s=a[l],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(l,1);break t}}s=r.createElement(i),ct(s,i,n),r.head.appendChild(s);break;default:throw Error(L(468,i))}s[at]=t,nt(s),i=s}t.stateNode=i}else M_(r,t.type,t.stateNode);else t.stateNode=D_(r,i,t.memoizedProps);else s!==i?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,i===null?M_(r,t.type,t.stateNode):D_(r,i,t.memoizedProps)):i===null&&t.stateNode!==null&&pf(t,t.memoizedProps,n.memoizedProps)}break;case 27:St(e,t),At(t),i&512&&(qe||n===null||En(n,n.return)),n!==null&&i&4&&pf(t,t.memoizedProps,n.memoizedProps);break;case 5:if(St(e,t),At(t),i&512&&(qe||n===null||En(n,n.return)),t.flags&32){r=t.stateNode;try{Us(r,"")}catch(C){me(t,t.return,C)}}i&4&&t.stateNode!=null&&(r=t.memoizedProps,pf(t,r,n!==null?n.memoizedProps:r)),i&1024&&(yf=!0);break;case 6:if(St(e,t),At(t),i&4){if(t.stateNode===null)throw Error(L(162));i=t.memoizedProps,n=t.stateNode;try{n.nodeValue=i}catch(C){me(t,t.return,C)}}break;case 3:if(Eu=null,r=an,an=sc(e.containerInfo),St(e,t),an=r,At(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Ys(e.containerInfo)}catch(C){me(t,t.return,C)}yf&&(yf=!1,UT(t));break;case 4:i=an,an=sc(t.stateNode.containerInfo),St(e,t),At(t),an=i;break;case 12:St(e,t),At(t);break;case 31:St(e,t),At(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Xl(t,i)));break;case 13:St(e,t),At(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Fc=Pt()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Xl(t,i)));break;case 22:r=t.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,c=Un,d=qe;if(Un=c||r,qe=d||u,St(e,t),qe=d,Un=c,At(t),i&8192)e:for(e=t.stateNode,e._visibility=r?e._visibility&-2:e._visibility|1,r&&(n===null||u||Un||qe||Sr(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){u=n=e;try{if(s=u.stateNode,r)a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{l=u.stateNode;var g=u.memoizedProps.style,p=g!=null&&g.hasOwnProperty("display")?g.display:null;l.style.display=p==null||typeof p=="boolean"?"":(""+p).trim()}}catch(C){me(u,u.return,C)}}}else if(e.tag===6){if(n===null){u=e;try{u.stateNode.nodeValue=r?"":u.memoizedProps}catch(C){me(u,u.return,C)}}}else if(e.tag===18){if(n===null){u=e;try{var y=u.stateNode;r?x_(y,!0):x_(u.stateNode,!1)}catch(C){me(u,u.return,C)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}i&4&&(i=t.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Xl(t,n))));break;case 19:St(e,t),At(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Xl(t,i)));break;case 30:break;case 21:break;default:St(e,t),At(t)}}function At(t){var e=t.flags;if(e&2){try{for(var n,i=t.return;i!==null;){if(DT(i)){n=i;break}i=i.return}if(n==null)throw Error(L(160));switch(n.tag){case 27:var r=n.stateNode,s=gf(t);Wu(t,s,r);break;case 5:var a=n.stateNode;n.flags&32&&(Us(a,""),n.flags&=-33);var l=gf(t);Wu(t,l,a);break;case 3:case 4:var u=n.stateNode.containerInfo,c=gf(t);Sd(t,c,u);break;default:throw Error(L(161))}}catch(d){me(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function UT(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;UT(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function kn(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)MT(t,e.alternate,e),e=e.sibling}function Sr(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Ji(4,e,e.return),Sr(e);break;case 1:En(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&NT(e,e.return,n),Sr(e);break;case 27:vo(e.stateNode);case 26:case 5:En(e,e.return),Sr(e);break;case 22:e.memoizedState===null&&Sr(e);break;case 30:Sr(e);break;default:Sr(e)}t=t.sibling}}function Ln(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var i=e.alternate,r=t,s=e,a=s.flags;switch(s.tag){case 0:case 11:case 15:Ln(r,s,n),ll(4,s);break;case 1:if(Ln(r,s,n),i=s,r=i.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(c){me(i,i.return,c)}if(i=s,r=i.updateQueue,r!==null){var l=i.stateNode;try{var u=r.shared.hiddenCallbacks;if(u!==null)for(r.shared.hiddenCallbacks=null,r=0;r<u.length;r++)k0(u[r],l)}catch(c){me(i,i.return,c)}}n&&a&64&&CT(s),po(s,s.return);break;case 27:OT(s);case 26:case 5:Ln(r,s,n),n&&i===null&&a&4&&IT(s),po(s,s.return);break;case 12:Ln(r,s,n);break;case 31:Ln(r,s,n),n&&a&4&&kT(r,s);break;case 13:Ln(r,s,n),n&&a&4&&LT(r,s);break;case 22:s.memoizedState===null&&Ln(r,s,n),po(s,s.return);break;case 30:break;default:Ln(r,s,n)}e=e.sibling}}function ip(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&al(n))}function rp(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&al(t))}function sn(t,e,n,i){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)zT(t,e,n,i),e=e.sibling}function zT(t,e,n,i){var r=e.flags;switch(e.tag){case 0:case 11:case 15:sn(t,e,n,i),r&2048&&ll(9,e);break;case 1:sn(t,e,n,i);break;case 3:sn(t,e,n,i),r&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&al(t)));break;case 12:if(r&2048){sn(t,e,n,i),t=e.stateNode;try{var s=e.memoizedProps,a=s.id,l=s.onPostCommit;typeof l=="function"&&l(a,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(u){me(e,e.return,u)}}else sn(t,e,n,i);break;case 31:sn(t,e,n,i);break;case 13:sn(t,e,n,i);break;case 23:break;case 22:s=e.stateNode,a=e.alternate,e.memoizedState!==null?s._visibility&2?sn(t,e,n,i):go(t,e):s._visibility&2?sn(t,e,n,i):(s._visibility|=2,ss(t,e,n,i,(e.subtreeFlags&10256)!==0||!1)),r&2048&&ip(a,e);break;case 24:sn(t,e,n,i),r&2048&&rp(e.alternate,e);break;default:sn(t,e,n,i)}}function ss(t,e,n,i,r){for(r=r&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var s=t,a=e,l=n,u=i,c=a.flags;switch(a.tag){case 0:case 11:case 15:ss(s,a,l,u,r),ll(8,a);break;case 23:break;case 22:var d=a.stateNode;a.memoizedState!==null?d._visibility&2?ss(s,a,l,u,r):go(s,a):(d._visibility|=2,ss(s,a,l,u,r)),r&&c&2048&&ip(a.alternate,a);break;case 24:ss(s,a,l,u,r),r&&c&2048&&rp(a.alternate,a);break;default:ss(s,a,l,u,r)}e=e.sibling}}function go(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,i=e,r=i.flags;switch(i.tag){case 22:go(n,i),r&2048&&ip(i.alternate,i);break;case 24:go(n,i),r&2048&&rp(i.alternate,i);break;default:go(n,i)}e=e.sibling}}var Ja=8192;function is(t,e,n){if(t.subtreeFlags&Ja)for(t=t.child;t!==null;)BT(t,e,n),t=t.sibling}function BT(t,e,n){switch(t.tag){case 26:is(t,e,n),t.flags&Ja&&t.memoizedState!==null&&YR(n,an,t.memoizedState,t.memoizedProps);break;case 5:is(t,e,n);break;case 3:case 4:var i=an;an=sc(t.stateNode.containerInfo),is(t,e,n),an=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Ja,Ja=16777216,is(t,e,n),Ja=i):is(t,e,n));break;default:is(t,e,n)}}function qT(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Fa(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];tt=i,FT(i,t)}qT(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)HT(t),t=t.sibling}function HT(t){switch(t.tag){case 0:case 11:case 15:Fa(t),t.flags&2048&&Ji(9,t,t.return);break;case 3:Fa(t);break;case 12:Fa(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,_u(t)):Fa(t);break;default:Fa(t)}}function _u(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];tt=i,FT(i,t)}qT(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Ji(8,e,e.return),_u(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,_u(e));break;default:_u(e)}t=t.sibling}}function FT(t,e){for(;tt!==null;){var n=tt;switch(n.tag){case 0:case 11:case 15:Ji(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:al(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,tt=i;else e:for(n=t;tt!==null;){i=tt;var r=i.sibling,s=i.return;if(VT(i),i===n){tt=null;break e}if(r!==null){r.return=s,tt=r;break e}tt=s}}}var lR={getCacheForType:function(t){var e=ut(He),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return ut(He).controller.signal}},uR=typeof WeakMap=="function"?WeakMap:Map,ce=0,ve=null,ie=null,oe=0,de=0,Mt=null,Ni=!1,ua=!1,sp=!1,ei=0,Me=0,Zi=0,Ir=0,ap=0,kt=0,Hs=0,yo=null,xt=null,Ad=!1,Fc=0,GT=0,Ju=1/0,Zu=null,Li=null,$e=0,Pi=null,Fs=null,Yn=0,wd=0,xd=null,KT=null,_o=0,Rd=null;function Bt(){return ce&2&&oe!==0?oe&-oe:Q.T!==null?lp():t0()}function YT(){if(kt===0)if(!(oe&536870912)||le){var t=ql;ql<<=1,!(ql&3932160)&&(ql=262144),kt=t}else kt=536870912;return t=Ht.current,t!==null&&(t.flags|=32),kt}function Nt(t,e,n){(t===ve&&(de===2||de===9)||t.cancelPendingCommit!==null)&&(Gs(t,0),Ii(t,oe,kt,!1)),il(t,n),(!(ce&2)||t!==ve)&&(t===ve&&(!(ce&2)&&(Ir|=n),Me===4&&Ii(t,oe,kt,!1)),Dn(t))}function QT(t,e,n){if(ce&6)throw Error(L(327));var i=!n&&(e&127)===0&&(e&t.expiredLanes)===0||nl(t,e),r=i?fR(t,e):_f(t,e,!0),s=i;do{if(r===0){ua&&!i&&Ii(t,e,0,!1);break}else{if(n=t.current.alternate,s&&!cR(n)){r=_f(t,e,!1),s=!1;continue}if(r===2){if(s=e,t.errorRecoveryDisabledLanes&s)var a=0;else a=t.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){e=a;e:{var l=t;r=yo;var u=l.current.memoizedState.isDehydrated;if(u&&(Gs(l,a).flags|=256),a=_f(l,a,!1),a!==2){if(sp&&!u){l.errorRecoveryDisabledLanes|=s,Ir|=s,r=4;break e}s=xt,xt=r,s!==null&&(xt===null?xt=s:xt.push.apply(xt,s))}r=a}if(s=!1,r!==2)continue}}if(r===1){Gs(t,0),Ii(t,e,0,!0);break}e:{switch(i=t,s=r,s){case 0:case 1:throw Error(L(345));case 4:if((e&4194048)!==e)break;case 6:Ii(i,e,kt,!Ni);break e;case 2:xt=null;break;case 3:case 5:break;default:throw Error(L(329))}if((e&62914560)===e&&(r=Fc+300-Pt(),10<r)){if(Ii(i,e,kt,!Ni),Mc(i,0,!0)!==0)break e;Yn=e,i.timeoutHandle=mb(d_.bind(null,i,n,xt,Zu,Ad,e,kt,Ir,Hs,Ni,s,"Throttled",-0,0),r);break e}d_(i,n,xt,Zu,Ad,e,kt,Ir,Hs,Ni,s,null,-0,0)}}break}while(!0);Dn(t)}function d_(t,e,n,i,r,s,a,l,u,c,d,g,p,y){if(t.timeoutHandle=-1,g=e.subtreeFlags,g&8192||(g&16785408)===16785408){g={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bn},BT(e,s,g);var C=(s&62914560)===s?Fc-Pt():(s&4194048)===s?GT-Pt():0;if(C=QR(g,C),C!==null){Yn=s,t.cancelPendingCommit=C(p_.bind(null,t,e,s,n,i,r,a,l,u,d,g,null,p,y)),Ii(t,s,a,!c);return}}p_(t,e,s,n,i,r,a,l,u)}function cR(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!qt(s(),r))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ii(t,e,n,i){e&=~ap,e&=~Ir,t.suspendedLanes|=e,t.pingedLanes&=~e,i&&(t.warmLanes|=e),i=t.expirationTimes;for(var r=e;0<r;){var s=31-zt(r),a=1<<s;i[s]=-1,r&=~a}n!==0&&JE(t,n,e)}function Gc(){return ce&6?!0:(ul(0),!1)}function op(){if(ie!==null){if(de===0)var t=ie.return;else t=ie,qn=Yr=null,Km(t),Cs=null,Oo=0,t=ie;for(;t!==null;)RT(t.alternate,t),t=t.return;ie=null}}function Gs(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,IR(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Yn=0,op(),ve=t,ie=n=Gn(t.current,null),oe=e,de=0,Mt=null,Ni=!1,ua=nl(t,e),sp=!1,Hs=kt=ap=Ir=Zi=Me=0,xt=yo=null,Ad=!1,e&8&&(e|=e&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=e;0<i;){var r=31-zt(i),s=1<<r;e|=t[r],i&=~s}return ei=e,Lc(),n}function $T(t,e){Z=null,Q.H=Vo,e===la||e===Uc?(e=Gy(),de=3):e===Um?(e=Gy(),de=4):de=e===tp?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Mt=e,ie===null&&(Me=1,$u(t,Xt(e,t.current)))}function XT(){var t=Ht.current;return t===null?!0:(oe&4194048)===oe?Zt===null:(oe&62914560)===oe||oe&536870912?t===Zt:!1}function WT(){var t=Q.H;return Q.H=Vo,t===null?Vo:t}function JT(){var t=Q.A;return Q.A=lR,t}function ec(){Me=4,Ni||(oe&4194048)!==oe&&Ht.current!==null||(ua=!0),!(Zi&134217727)&&!(Ir&134217727)||ve===null||Ii(ve,oe,kt,!1)}function _f(t,e,n){var i=ce;ce|=2;var r=WT(),s=JT();(ve!==t||oe!==e)&&(Zu=null,Gs(t,e)),e=!1;var a=Me;e:do try{if(de!==0&&ie!==null){var l=ie,u=Mt;switch(de){case 8:op(),a=6;break e;case 3:case 2:case 9:case 6:Ht.current===null&&(e=!0);var c=de;if(de=0,Mt=null,bs(t,l,u,c),n&&ua){a=0;break e}break;default:c=de,de=0,Mt=null,bs(t,l,u,c)}}hR(),a=Me;break}catch(d){$T(t,d)}while(!0);return e&&t.shellSuspendCounter++,qn=Yr=null,ce=i,Q.H=r,Q.A=s,ie===null&&(ve=null,oe=0,Lc()),a}function hR(){for(;ie!==null;)ZT(ie)}function fR(t,e){var n=ce;ce|=2;var i=WT(),r=JT();ve!==t||oe!==e?(Zu=null,Ju=Pt()+500,Gs(t,e)):ua=nl(t,e);e:do try{if(de!==0&&ie!==null){e=ie;var s=Mt;t:switch(de){case 1:de=0,Mt=null,bs(t,e,s,1);break;case 2:case 9:if(Fy(s)){de=0,Mt=null,m_(e);break}e=function(){de!==2&&de!==9||ve!==t||(de=7),Dn(t)},s.then(e,e);break e;case 3:de=7;break e;case 4:de=5;break e;case 7:Fy(s)?(de=0,Mt=null,m_(e)):(de=0,Mt=null,bs(t,e,s,7));break;case 5:var a=null;switch(ie.tag){case 26:a=ie.memoizedState;case 5:case 27:var l=ie;if(a?vb(a):l.stateNode.complete){de=0,Mt=null;var u=l.sibling;if(u!==null)ie=u;else{var c=l.return;c!==null?(ie=c,Kc(c)):ie=null}break t}}de=0,Mt=null,bs(t,e,s,5);break;case 6:de=0,Mt=null,bs(t,e,s,6);break;case 8:op(),Me=6;break e;default:throw Error(L(462))}}dR();break}catch(d){$T(t,d)}while(!0);return qn=Yr=null,Q.H=i,Q.A=r,ce=n,ie!==null?0:(ve=null,oe=0,Lc(),Me)}function dR(){for(;ie!==null&&!kx();)ZT(ie)}function ZT(t){var e=xT(t.alternate,t,ei);t.memoizedProps=t.pendingProps,e===null?Kc(t):ie=e}function m_(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=o_(n,e,e.pendingProps,e.type,void 0,oe);break;case 11:e=o_(n,e,e.pendingProps,e.type.render,e.ref,oe);break;case 5:Km(e);default:RT(n,e),e=ie=R0(e,ei),e=xT(n,e,ei)}t.memoizedProps=t.pendingProps,e===null?Kc(t):ie=e}function bs(t,e,n,i){qn=Yr=null,Km(e),Cs=null,Oo=0;var r=e.return;try{if(tR(t,r,e,n,oe)){Me=1,$u(t,Xt(n,t.current)),ie=null;return}}catch(s){if(r!==null)throw ie=r,s;Me=1,$u(t,Xt(n,t.current)),ie=null;return}e.flags&32768?(le||i===1?t=!0:ua||oe&536870912?t=!1:(Ni=t=!0,(i===2||i===9||i===3||i===6)&&(i=Ht.current,i!==null&&i.tag===13&&(i.flags|=16384))),eb(e,t)):Kc(e)}function Kc(t){var e=t;do{if(e.flags&32768){eb(e,Ni);return}t=e.return;var n=rR(e.alternate,e,ei);if(n!==null){ie=n;return}if(e=e.sibling,e!==null){ie=e;return}ie=e=t}while(e!==null);Me===0&&(Me=5)}function eb(t,e){do{var n=sR(t.alternate,t);if(n!==null){n.flags&=32767,ie=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){ie=t;return}ie=t=n}while(t!==null);Me=6,ie=null}function p_(t,e,n,i,r,s,a,l,u){t.cancelPendingCommit=null;do Yc();while($e!==0);if(ce&6)throw Error(L(327));if(e!==null){if(e===t.current)throw Error(L(177));if(s=e.lanes|e.childLanes,s|=Om,Kx(t,n,s,a,l,u),t===ve&&(ie=ve=null,oe=0),Fs=e,Pi=t,Yn=n,wd=s,xd=r,KT=i,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,yR(Pu,function(){return sb(),null})):(t.callbackNode=null,t.callbackPriority=0),i=(e.flags&13878)!==0,e.subtreeFlags&13878||i){i=Q.T,Q.T=null,r=he.p,he.p=2,a=ce,ce|=4;try{aR(t,e,n)}finally{ce=a,he.p=r,Q.T=i}}$e=1,tb(),nb(),ib()}}function tb(){if($e===1){$e=0;var t=Pi,e=Fs,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=Q.T,Q.T=null;var i=he.p;he.p=2;var r=ce;ce|=4;try{PT(e,t);var s=Dd,a=v0(t.containerInfo),l=s.focusedElem,u=s.selectionRange;if(a!==l&&l&&l.ownerDocument&&_0(l.ownerDocument.documentElement,l)){if(u!==null&&Dm(l)){var c=u.start,d=u.end;if(d===void 0&&(d=c),"selectionStart"in l)l.selectionStart=c,l.selectionEnd=Math.min(d,l.value.length);else{var g=l.ownerDocument||document,p=g&&g.defaultView||window;if(p.getSelection){var y=p.getSelection(),C=l.textContent.length,D=Math.min(u.start,C),I=u.end===void 0?D:Math.min(u.end,C);!y.extend&&D>I&&(a=I,I=D,D=a);var T=Ly(l,D),v=Ly(l,I);if(T&&v&&(y.rangeCount!==1||y.anchorNode!==T.node||y.anchorOffset!==T.offset||y.focusNode!==v.node||y.focusOffset!==v.offset)){var A=g.createRange();A.setStart(T.node,T.offset),y.removeAllRanges(),D>I?(y.addRange(A),y.extend(v.node,v.offset)):(A.setEnd(v.node,v.offset),y.addRange(A))}}}}for(g=[],y=l;y=y.parentNode;)y.nodeType===1&&g.push({element:y,left:y.scrollLeft,top:y.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<g.length;l++){var V=g[l];V.element.scrollLeft=V.left,V.element.scrollTop=V.top}}lc=!!Id,Dd=Id=null}finally{ce=r,he.p=i,Q.T=n}}t.current=e,$e=2}}function nb(){if($e===2){$e=0;var t=Pi,e=Fs,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=Q.T,Q.T=null;var i=he.p;he.p=2;var r=ce;ce|=4;try{MT(t,e.alternate,e)}finally{ce=r,he.p=i,Q.T=n}}$e=3}}function ib(){if($e===4||$e===3){$e=0,Lx();var t=Pi,e=Fs,n=Yn,i=KT;e.subtreeFlags&10256||e.flags&10256?$e=5:($e=0,Fs=Pi=null,rb(t,t.pendingLanes));var r=t.pendingLanes;if(r===0&&(Li=null),Am(n),e=e.stateNode,Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(tl,e,void 0,(e.current.flags&128)===128)}catch{}if(i!==null){e=Q.T,r=he.p,he.p=2,Q.T=null;try{for(var s=t.onRecoverableError,a=0;a<i.length;a++){var l=i[a];s(l.value,{componentStack:l.stack})}}finally{Q.T=e,he.p=r}}Yn&3&&Yc(),Dn(t),r=t.pendingLanes,n&261930&&r&42?t===Rd?_o++:(_o=0,Rd=t):_o=0,ul(0)}}function rb(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,al(e)))}function Yc(){return tb(),nb(),ib(),sb()}function sb(){if($e!==5)return!1;var t=Pi,e=wd;wd=0;var n=Am(Yn),i=Q.T,r=he.p;try{he.p=32>n?32:n,Q.T=null,n=xd,xd=null;var s=Pi,a=Yn;if($e=0,Fs=Pi=null,Yn=0,ce&6)throw Error(L(331));var l=ce;if(ce|=4,HT(s.current),zT(s,s.current,a,n),ce=l,ul(0,!1),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(tl,s)}catch{}return!0}finally{he.p=r,Q.T=i,rb(t,e)}}function g_(t,e,n){e=Xt(n,e),e=Ed(t.stateNode,e,2),t=ki(t,e,2),t!==null&&(il(t,2),Dn(t))}function me(t,e,n){if(t.tag===3)g_(t,t,n);else for(;e!==null;){if(e.tag===3){g_(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Li===null||!Li.has(i))){t=Xt(n,t),n=ET(2),i=ki(e,n,2),i!==null&&(TT(n,i,e,t),il(i,2),Dn(i));break}}e=e.return}}function vf(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new uR;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(sp=!0,r.add(n),t=mR.bind(null,t,e,n),e.then(t,t))}function mR(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,ve===t&&(oe&n)===n&&(Me===4||Me===3&&(oe&62914560)===oe&&300>Pt()-Fc?!(ce&2)&&Gs(t,0):ap|=n,Hs===oe&&(Hs=0)),Dn(t)}function ab(t,e){e===0&&(e=WE()),t=Kr(t,e),t!==null&&(il(t,e),Dn(t))}function pR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ab(t,n)}function gR(t,e){var n=0;switch(t.tag){case 31:case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(L(314))}i!==null&&i.delete(e),ab(t,n)}function yR(t,e){return bm(t,e)}var tc=null,as=null,Cd=!1,nc=!1,Ef=!1,Di=0;function Dn(t){t!==as&&t.next===null&&(as===null?tc=as=t:as=as.next=t),nc=!0,Cd||(Cd=!0,vR())}function ul(t,e){if(!Ef&&nc){Ef=!0;do for(var n=!1,i=tc;i!==null;){if(t!==0){var r=i.pendingLanes;if(r===0)var s=0;else{var a=i.suspendedLanes,l=i.pingedLanes;s=(1<<31-zt(42|t)+1)-1,s&=r&~(a&~l),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,y_(i,s))}else s=oe,s=Mc(i,i===ve?s:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(s&3)||nl(i,s)||(n=!0,y_(i,s));i=i.next}while(n);Ef=!1}}function _R(){ob()}function ob(){nc=Cd=!1;var t=0;Di!==0&&NR()&&(t=Di);for(var e=Pt(),n=null,i=tc;i!==null;){var r=i.next,s=lb(i,e);s===0?(i.next=null,n===null?tc=r:n.next=r,r===null&&(as=n)):(n=i,(t!==0||s&3)&&(nc=!0)),i=r}$e!==0&&$e!==5||ul(t),Di!==0&&(Di=0)}function lb(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes&-62914561;0<s;){var a=31-zt(s),l=1<<a,u=r[a];u===-1?(!(l&n)||l&i)&&(r[a]=Gx(l,e)):u<=e&&(t.expiredLanes|=l),s&=~l}if(e=ve,n=oe,n=Mc(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i=t.callbackNode,n===0||t===e&&(de===2||de===9)||t.cancelPendingCommit!==null)return i!==null&&i!==null&&Yh(i),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||nl(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(i!==null&&Yh(i),Am(n)){case 2:case 8:n=$E;break;case 32:n=Pu;break;case 268435456:n=XE;break;default:n=Pu}return i=ub.bind(null,t),n=bm(n,i),t.callbackPriority=e,t.callbackNode=n,e}return i!==null&&i!==null&&Yh(i),t.callbackPriority=2,t.callbackNode=null,2}function ub(t,e){if($e!==0&&$e!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(Yc()&&t.callbackNode!==n)return null;var i=oe;return i=Mc(t,t===ve?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i===0?null:(QT(t,i,e),lb(t,Pt()),t.callbackNode!=null&&t.callbackNode===n?ub.bind(null,t):null)}function y_(t,e){if(Yc())return null;QT(t,e,!0)}function vR(){DR(function(){ce&6?bm(QE,_R):ob()})}function lp(){if(Di===0){var t=zs;t===0&&(t=Bl,Bl<<=1,!(Bl&261888)&&(Bl=256)),Di=t}return Di}function __(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:uu(""+t)}function v_(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function ER(t,e,n,i,r){if(e==="submit"&&n&&n.stateNode===r){var s=__((r[It]||null).action),a=i.submitter;a&&(e=(e=a[It]||null)?__(e.formAction):a.getAttribute("formAction"),e!==null&&(s=e,a=null));var l=new Vc("action","action",null,i,r);t.push({event:l,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Di!==0){var u=a?v_(r,a):new FormData(r);_d(n,{pending:!0,data:u,method:r.method,action:s},null,u)}}else typeof s=="function"&&(l.preventDefault(),u=a?v_(r,a):new FormData(r),_d(n,{pending:!0,data:u,method:r.method,action:s},s,u))},currentTarget:r}]})}}for(var Tf=0;Tf<ad.length;Tf++){var bf=ad[Tf],TR=bf.toLowerCase(),bR=bf[0].toUpperCase()+bf.slice(1);dn(TR,"on"+bR)}dn(T0,"onAnimationEnd");dn(b0,"onAnimationIteration");dn(S0,"onAnimationStart");dn("dblclick","onDoubleClick");dn("focusin","onFocus");dn("focusout","onBlur");dn(P1,"onTransitionRun");dn(U1,"onTransitionStart");dn(z1,"onTransitionCancel");dn(A0,"onTransitionEnd");Ps("onMouseEnter",["mouseout","mouseover"]);Ps("onMouseLeave",["mouseout","mouseover"]);Ps("onPointerEnter",["pointerout","pointerover"]);Ps("onPointerLeave",["pointerout","pointerover"]);Hr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jo));function cb(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var a=i.length-1;0<=a;a--){var l=i[a],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==s&&r.isPropagationStopped())break e;s=l,r.currentTarget=c;try{s(r)}catch(d){zu(d)}r.currentTarget=null,s=u}else for(a=0;a<i.length;a++){if(l=i[a],u=l.instance,c=l.currentTarget,l=l.listener,u!==s&&r.isPropagationStopped())break e;s=l,r.currentTarget=c;try{s(r)}catch(d){zu(d)}r.currentTarget=null,s=u}}}}function ne(t,e){var n=e[Jf];n===void 0&&(n=e[Jf]=new Set);var i=t+"__bubble";n.has(i)||(hb(e,t,2,!1),n.add(i))}function Sf(t,e,n){var i=0;e&&(i|=4),hb(n,t,i,e)}var Wl="_reactListening"+Math.random().toString(36).slice(2);function up(t){if(!t[Wl]){t[Wl]=!0,n0.forEach(function(n){n!=="selectionchange"&&(SR.has(n)||Sf(n,!1,t),Sf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Wl]||(e[Wl]=!0,Sf("selectionchange",!1,e))}}function hb(t,e,n,i){switch(Ab(e)){case 2:var r=WR;break;case 8:r=JR;break;default:r=dp}n=r.bind(null,e,n,t),r=void 0,!id||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Af(t,e,n,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var l=i.stateNode.containerInfo;if(l===r)break;if(a===4)for(a=i.return;a!==null;){var u=a.tag;if((u===3||u===4)&&a.stateNode.containerInfo===r)return;a=a.return}for(;l!==null;){if(a=ds(l),a===null)return;if(u=a.tag,u===5||u===6||u===26||u===27){i=s=a;continue e}l=l.parentNode}}i=i.return}c0(function(){var c=s,d=Rm(n),g=[];e:{var p=w0.get(t);if(p!==void 0){var y=Vc,C=t;switch(t){case"keypress":if(hu(n)===0)break e;case"keydown":case"keyup":y=g1;break;case"focusin":C="focus",y=Jh;break;case"focusout":C="blur",y=Jh;break;case"beforeblur":case"afterblur":y=Jh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Ry;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=r1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=v1;break;case T0:case b0:case S0:y=o1;break;case A0:y=T1;break;case"scroll":case"scrollend":y=n1;break;case"wheel":y=S1;break;case"copy":case"cut":case"paste":y=u1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Ny;break;case"toggle":case"beforetoggle":y=w1}var D=(e&4)!==0,I=!D&&(t==="scroll"||t==="scrollend"),T=D?p!==null?p+"Capture":null:p;D=[];for(var v=c,A;v!==null;){var V=v;if(A=V.stateNode,V=V.tag,V!==5&&V!==26&&V!==27||A===null||T===null||(V=Ro(v,T),V!=null&&D.push(ko(v,V,A))),I)break;v=v.return}0<D.length&&(p=new y(p,C,null,n,d),g.push({event:p,listeners:D}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",p&&n!==nd&&(C=n.relatedTarget||n.fromElement)&&(ds(C)||C[sa]))break e;if((y||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,y?(C=n.relatedTarget||n.toElement,y=c,C=C?ds(C):null,C!==null&&(I=el(C),D=C.tag,C!==I||D!==5&&D!==27&&D!==6)&&(C=null)):(y=null,C=c),y!==C)){if(D=Ry,V="onMouseLeave",T="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(D=Ny,V="onPointerLeave",T="onPointerEnter",v="pointer"),I=y==null?p:Xa(y),A=C==null?p:Xa(C),p=new D(V,v+"leave",y,n,d),p.target=I,p.relatedTarget=A,V=null,ds(d)===c&&(D=new D(T,v+"enter",C,n,d),D.target=A,D.relatedTarget=I,V=D),I=V,y&&C)t:{for(D=AR,T=y,v=C,A=0,V=T;V;V=D(V))A++;V=0;for(var U=v;U;U=D(U))V++;for(;0<A-V;)T=D(T),A--;for(;0<V-A;)v=D(v),V--;for(;A--;){if(T===v||v!==null&&T===v.alternate){D=T;break t}T=D(T),v=D(v)}D=null}else D=null;y!==null&&E_(g,p,y,D,!1),C!==null&&I!==null&&E_(g,I,C,D,!0)}}e:{if(p=c?Xa(c):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var F=My;else if(Oy(p))if(g0)F=j1;else{F=M1;var b=O1}else y=p.nodeName,!y||y.toLowerCase()!=="input"||p.type!=="checkbox"&&p.type!=="radio"?c&&xm(c.elementType)&&(F=My):F=V1;if(F&&(F=F(t,c))){p0(g,F,n,d);break e}b&&b(t,p,c),t==="focusout"&&c&&p.type==="number"&&c.memoizedProps.value!=null&&td(p,"number",p.value)}switch(b=c?Xa(c):window,t){case"focusin":(Oy(b)||b.contentEditable==="true")&&(gs=b,rd=c,lo=null);break;case"focusout":lo=rd=gs=null;break;case"mousedown":sd=!0;break;case"contextmenu":case"mouseup":case"dragend":sd=!1,Py(g,n,d);break;case"selectionchange":if(L1)break;case"keydown":case"keyup":Py(g,n,d)}var E;if(Im)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else ps?d0(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(f0&&n.locale!=="ko"&&(ps||S!=="onCompositionStart"?S==="onCompositionEnd"&&ps&&(E=h0()):(Ci=d,Cm="value"in Ci?Ci.value:Ci.textContent,ps=!0)),b=ic(c,S),0<b.length&&(S=new Cy(S,t,null,n,d),g.push({event:S,listeners:b}),E?S.data=E:(E=m0(n),E!==null&&(S.data=E)))),(E=R1?C1(t,n):N1(t,n))&&(S=ic(c,"onBeforeInput"),0<S.length&&(b=new Cy("onBeforeInput","beforeinput",null,n,d),g.push({event:b,listeners:S}),b.data=E)),ER(g,t,c,n,d)}cb(g,e)})}function ko(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ic(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||s===null||(r=Ro(t,n),r!=null&&i.unshift(ko(t,r,s)),r=Ro(t,e),r!=null&&i.push(ko(t,r,s))),t.tag===3)return i;t=t.return}return[]}function AR(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function E_(t,e,n,i,r){for(var s=e._reactName,a=[];n!==null&&n!==i;){var l=n,u=l.alternate,c=l.stateNode;if(l=l.tag,u!==null&&u===i)break;l!==5&&l!==26&&l!==27||c===null||(u=c,r?(c=Ro(n,s),c!=null&&a.unshift(ko(n,c,u))):r||(c=Ro(n,s),c!=null&&a.push(ko(n,c,u)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var wR=/\r\n?/g,xR=/\u0000|\uFFFD/g;function T_(t){return(typeof t=="string"?t:""+t).replace(wR,`
`).replace(xR,"")}function fb(t,e){return e=T_(e),T_(t)===e}function pe(t,e,n,i,r,s){switch(n){case"children":typeof i=="string"?e==="body"||e==="textarea"&&i===""||Us(t,i):(typeof i=="number"||typeof i=="bigint")&&e!=="body"&&Us(t,""+i);break;case"className":Fl(t,"class",i);break;case"tabIndex":Fl(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Fl(t,n,i);break;case"style":u0(t,i,s);break;case"data":if(e!=="object"){Fl(t,"data",i);break}case"src":case"href":if(i===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=uu(""+i),t.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(e!=="input"&&pe(t,e,"name",r.name,r,null),pe(t,e,"formEncType",r.formEncType,r,null),pe(t,e,"formMethod",r.formMethod,r,null),pe(t,e,"formTarget",r.formTarget,r,null)):(pe(t,e,"encType",r.encType,r,null),pe(t,e,"method",r.method,r,null),pe(t,e,"target",r.target,r,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=uu(""+i),t.setAttribute(n,i);break;case"onClick":i!=null&&(t.onclick=Bn);break;case"onScroll":i!=null&&ne("scroll",t);break;case"onScrollEnd":i!=null&&ne("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(L(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(L(60));t.innerHTML=n}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}n=uu(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""+i):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":i===!0?t.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,i):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(n,i):t.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(n):t.setAttribute(n,i);break;case"popover":ne("beforetoggle",t),ne("toggle",t),lu(t,"popover",i);break;case"xlinkActuate":Mn(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Mn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Mn(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Mn(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Mn(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Mn(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Mn(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Mn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Mn(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":lu(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=e1.get(n)||n,lu(t,n,i))}}function Nd(t,e,n,i,r,s){switch(n){case"style":u0(t,i,s);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(L(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(L(60));t.innerHTML=n}}break;case"children":typeof i=="string"?Us(t,i):(typeof i=="number"||typeof i=="bigint")&&Us(t,""+i);break;case"onScroll":i!=null&&ne("scroll",t);break;case"onScrollEnd":i!=null&&ne("scrollend",t);break;case"onClick":i!=null&&(t.onclick=Bn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!i0.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),e=n.slice(2,r?n.length-7:void 0),s=t[It]||null,s=s!=null?s[n]:null,typeof s=="function"&&t.removeEventListener(e,s,r),typeof i=="function")){typeof s!="function"&&s!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,i,r);break e}n in t?t[n]=i:i===!0?t.setAttribute(n,""):lu(t,n,i)}}}function ct(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ne("error",t),ne("load",t);var i=!1,r=!1,s;for(s in n)if(n.hasOwnProperty(s)){var a=n[s];if(a!=null)switch(s){case"src":i=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(L(137,e));default:pe(t,e,s,a,n,null)}}r&&pe(t,e,"srcSet",n.srcSet,n,null),i&&pe(t,e,"src",n.src,n,null);return;case"input":ne("invalid",t);var l=s=a=r=null,u=null,c=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(d!=null)switch(i){case"name":r=d;break;case"type":a=d;break;case"checked":u=d;break;case"defaultChecked":c=d;break;case"value":s=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(L(137,e));break;default:pe(t,e,i,d,n,null)}}a0(t,s,l,u,c,a,r,!1);return;case"select":ne("invalid",t),i=a=s=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":s=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:pe(t,e,r,l,n,null)}e=s,n=a,t.multiple=!!i,e!=null?ws(t,!!i,e,!1):n!=null&&ws(t,!!i,n,!0);return;case"textarea":ne("invalid",t),s=r=i=null;for(a in n)if(n.hasOwnProperty(a)&&(l=n[a],l!=null))switch(a){case"value":i=l;break;case"defaultValue":r=l;break;case"children":s=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(L(91));break;default:pe(t,e,a,l,n,null)}l0(t,i,r,s);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:pe(t,e,u,i,n,null)}return;case"dialog":ne("beforetoggle",t),ne("toggle",t),ne("cancel",t),ne("close",t);break;case"iframe":case"object":ne("load",t);break;case"video":case"audio":for(i=0;i<jo.length;i++)ne(jo[i],t);break;case"image":ne("error",t),ne("load",t);break;case"details":ne("toggle",t);break;case"embed":case"source":case"link":ne("error",t),ne("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(L(137,e));default:pe(t,e,c,i,n,null)}return;default:if(xm(e)){for(d in n)n.hasOwnProperty(d)&&(i=n[d],i!==void 0&&Nd(t,e,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(i=n[l],i!=null&&pe(t,e,l,i,n,null))}function RR(t,e,n,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,s=null,a=null,l=null,u=null,c=null,d=null;for(y in n){var g=n[y];if(n.hasOwnProperty(y)&&g!=null)switch(y){case"checked":break;case"value":break;case"defaultValue":u=g;default:i.hasOwnProperty(y)||pe(t,e,y,null,i,g)}}for(var p in i){var y=i[p];if(g=n[p],i.hasOwnProperty(p)&&(y!=null||g!=null))switch(p){case"type":s=y;break;case"name":r=y;break;case"checked":c=y;break;case"defaultChecked":d=y;break;case"value":a=y;break;case"defaultValue":l=y;break;case"children":case"dangerouslySetInnerHTML":if(y!=null)throw Error(L(137,e));break;default:y!==g&&pe(t,e,p,y,i,g)}}ed(t,a,l,u,c,d,s,r);return;case"select":y=a=l=p=null;for(s in n)if(u=n[s],n.hasOwnProperty(s)&&u!=null)switch(s){case"value":break;case"multiple":y=u;default:i.hasOwnProperty(s)||pe(t,e,s,null,i,u)}for(r in i)if(s=i[r],u=n[r],i.hasOwnProperty(r)&&(s!=null||u!=null))switch(r){case"value":p=s;break;case"defaultValue":l=s;break;case"multiple":a=s;default:s!==u&&pe(t,e,r,s,i,u)}e=l,n=a,i=y,p!=null?ws(t,!!n,p,!1):!!i!=!!n&&(e!=null?ws(t,!!n,e,!0):ws(t,!!n,n?[]:"",!1));return;case"textarea":y=p=null;for(l in n)if(r=n[l],n.hasOwnProperty(l)&&r!=null&&!i.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:pe(t,e,l,null,i,r)}for(a in i)if(r=i[a],s=n[a],i.hasOwnProperty(a)&&(r!=null||s!=null))switch(a){case"value":p=r;break;case"defaultValue":y=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(L(91));break;default:r!==s&&pe(t,e,a,r,i,s)}o0(t,p,y);return;case"option":for(var C in n)if(p=n[C],n.hasOwnProperty(C)&&p!=null&&!i.hasOwnProperty(C))switch(C){case"selected":t.selected=!1;break;default:pe(t,e,C,null,i,p)}for(u in i)if(p=i[u],y=n[u],i.hasOwnProperty(u)&&p!==y&&(p!=null||y!=null))switch(u){case"selected":t.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:pe(t,e,u,p,i,y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var D in n)p=n[D],n.hasOwnProperty(D)&&p!=null&&!i.hasOwnProperty(D)&&pe(t,e,D,null,i,p);for(c in i)if(p=i[c],y=n[c],i.hasOwnProperty(c)&&p!==y&&(p!=null||y!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(L(137,e));break;default:pe(t,e,c,p,i,y)}return;default:if(xm(e)){for(var I in n)p=n[I],n.hasOwnProperty(I)&&p!==void 0&&!i.hasOwnProperty(I)&&Nd(t,e,I,void 0,i,p);for(d in i)p=i[d],y=n[d],!i.hasOwnProperty(d)||p===y||p===void 0&&y===void 0||Nd(t,e,d,p,i,y);return}}for(var T in n)p=n[T],n.hasOwnProperty(T)&&p!=null&&!i.hasOwnProperty(T)&&pe(t,e,T,null,i,p);for(g in i)p=i[g],y=n[g],!i.hasOwnProperty(g)||p===y||p==null&&y==null||pe(t,e,g,p,i,y)}function b_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function CR(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var r=n[i],s=r.transferSize,a=r.initiatorType,l=r.duration;if(s&&l&&b_(a)){for(a=0,l=r.responseEnd,i+=1;i<n.length;i++){var u=n[i],c=u.startTime;if(c>l)break;var d=u.transferSize,g=u.initiatorType;d&&b_(g)&&(u=u.responseEnd,a+=d*(u<l?1:(l-c)/(u-c)))}if(--i,e+=8*(s+a)/(r.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Id=null,Dd=null;function rc(t){return t.nodeType===9?t:t.ownerDocument}function S_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function db(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Od(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var wf=null;function NR(){var t=window.event;return t&&t.type==="popstate"?t===wf?!1:(wf=t,!0):(wf=null,!1)}var mb=typeof setTimeout=="function"?setTimeout:void 0,IR=typeof clearTimeout=="function"?clearTimeout:void 0,A_=typeof Promise=="function"?Promise:void 0,DR=typeof queueMicrotask=="function"?queueMicrotask:typeof A_<"u"?function(t){return A_.resolve(null).then(t).catch(OR)}:mb;function OR(t){setTimeout(function(){throw t})}function or(t){return t==="head"}function w_(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"||n==="/&"){if(i===0){t.removeChild(r),Ys(e);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")vo(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,vo(n);for(var s=n.firstChild;s;){var a=s.nextSibling,l=s.nodeName;s[rl]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=a}}else n==="body"&&vo(t.ownerDocument.body);n=r}while(n);Ys(e)}function x_(t,e){var n=t;t=0;do{var i=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=i}while(n)}function Md(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Md(n),wm(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function MR(t,e,n,i){for(;t.nodeType===1;){var r=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[rl])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(s=t.getAttribute("rel"),s==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(s!==r.rel||t.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||t.getAttribute("title")!==(r.title==null?null:r.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(s=t.getAttribute("src"),(s!==(r.src==null?null:r.src)||t.getAttribute("type")!==(r.type==null?null:r.type)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&s&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var s=r.name==null?null:""+r.name;if(r.type==="hidden"&&t.getAttribute("name")===s)return t}else return t;if(t=en(t.nextSibling),t===null)break}return null}function VR(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=en(t.nextSibling),t===null))return null;return t}function pb(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=en(t.nextSibling),t===null))return null;return t}function Vd(t){return t.data==="$?"||t.data==="$~"}function jd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function jR(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var i=function(){e(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}function en(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var kd=null;function R_(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return en(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function C_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function gb(t,e,n){switch(e=rc(n),t){case"html":if(t=e.documentElement,!t)throw Error(L(452));return t;case"head":if(t=e.head,!t)throw Error(L(453));return t;case"body":if(t=e.body,!t)throw Error(L(454));return t;default:throw Error(L(451))}}function vo(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);wm(t)}var tn=new Map,N_=new Set;function sc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ai=he.d;he.d={f:kR,r:LR,D:PR,C:UR,L:zR,m:BR,X:HR,S:qR,M:FR};function kR(){var t=ai.f(),e=Gc();return t||e}function LR(t){var e=aa(t);e!==null&&e.tag===5&&e.type==="form"?uT(e):ai.r(t)}var ca=typeof document>"u"?null:document;function yb(t,e,n){var i=ca;if(i&&typeof e=="string"&&e){var r=$t(e);r='link[rel="'+t+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),N_.has(r)||(N_.add(r),t={rel:t,crossOrigin:n,href:e},i.querySelector(r)===null&&(e=i.createElement("link"),ct(e,"link",t),nt(e),i.head.appendChild(e)))}}function PR(t){ai.D(t),yb("dns-prefetch",t,null)}function UR(t,e){ai.C(t,e),yb("preconnect",t,e)}function zR(t,e,n){ai.L(t,e,n);var i=ca;if(i&&t&&e){var r='link[rel="preload"][as="'+$t(e)+'"]';e==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+$t(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+$t(n.imageSizes)+'"]')):r+='[href="'+$t(t)+'"]';var s=r;switch(e){case"style":s=Ks(t);break;case"script":s=ha(t)}tn.has(s)||(t=Re({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),tn.set(s,t),i.querySelector(r)!==null||e==="style"&&i.querySelector(cl(s))||e==="script"&&i.querySelector(hl(s))||(e=i.createElement("link"),ct(e,"link",t),nt(e),i.head.appendChild(e)))}}function BR(t,e){ai.m(t,e);var n=ca;if(n&&t){var i=e&&typeof e.as=="string"?e.as:"script",r='link[rel="modulepreload"][as="'+$t(i)+'"][href="'+$t(t)+'"]',s=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=ha(t)}if(!tn.has(s)&&(t=Re({rel:"modulepreload",href:t},e),tn.set(s,t),n.querySelector(r)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(hl(s)))return}i=n.createElement("link"),ct(i,"link",t),nt(i),n.head.appendChild(i)}}}function qR(t,e,n){ai.S(t,e,n);var i=ca;if(i&&t){var r=As(i).hoistableStyles,s=Ks(t);e=e||"default";var a=r.get(s);if(!a){var l={loading:0,preload:null};if(a=i.querySelector(cl(s)))l.loading=5;else{t=Re({rel:"stylesheet",href:t,"data-precedence":e},n),(n=tn.get(s))&&cp(t,n);var u=a=i.createElement("link");nt(u),ct(u,"link",t),u._p=new Promise(function(c,d){u.onload=c,u.onerror=d}),u.addEventListener("load",function(){l.loading|=1}),u.addEventListener("error",function(){l.loading|=2}),l.loading|=4,vu(a,e,i)}a={type:"stylesheet",instance:a,count:1,state:l},r.set(s,a)}}}function HR(t,e){ai.X(t,e);var n=ca;if(n&&t){var i=As(n).hoistableScripts,r=ha(t),s=i.get(r);s||(s=n.querySelector(hl(r)),s||(t=Re({src:t,async:!0},e),(e=tn.get(r))&&hp(t,e),s=n.createElement("script"),nt(s),ct(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function FR(t,e){ai.M(t,e);var n=ca;if(n&&t){var i=As(n).hoistableScripts,r=ha(t),s=i.get(r);s||(s=n.querySelector(hl(r)),s||(t=Re({src:t,async:!0,type:"module"},e),(e=tn.get(r))&&hp(t,e),s=n.createElement("script"),nt(s),ct(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function I_(t,e,n,i){var r=(r=Mi.current)?sc(r):null;if(!r)throw Error(L(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Ks(n.href),n=As(r).hoistableStyles,i=n.get(e),i||(i={type:"style",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Ks(n.href);var s=As(r).hoistableStyles,a=s.get(t);if(a||(r=r.ownerDocument||r,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(t,a),(s=r.querySelector(cl(t)))&&!s._p&&(a.instance=s,a.state.loading=5),tn.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},tn.set(t,n),s||GR(r,t,n,a.state))),e&&i===null)throw Error(L(528,""));return a}if(e&&i!==null)throw Error(L(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=ha(n),n=As(r).hoistableScripts,i=n.get(e),i||(i={type:"script",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(L(444,t))}}function Ks(t){return'href="'+$t(t)+'"'}function cl(t){return'link[rel="stylesheet"]['+t+"]"}function _b(t){return Re({},t,{"data-precedence":t.precedence,precedence:null})}function GR(t,e,n,i){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?i.loading=1:(e=t.createElement("link"),i.preload=e,e.addEventListener("load",function(){return i.loading|=1}),e.addEventListener("error",function(){return i.loading|=2}),ct(e,"link",n),nt(e),t.head.appendChild(e))}function ha(t){return'[src="'+$t(t)+'"]'}function hl(t){return"script[async]"+t}function D_(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var i=t.querySelector('style[data-href~="'+$t(n.href)+'"]');if(i)return e.instance=i,nt(i),i;var r=Re({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),nt(i),ct(i,"style",r),vu(i,n.precedence,t),e.instance=i;case"stylesheet":r=Ks(n.href);var s=t.querySelector(cl(r));if(s)return e.state.loading|=4,e.instance=s,nt(s),s;i=_b(n),(r=tn.get(r))&&cp(i,r),s=(t.ownerDocument||t).createElement("link"),nt(s);var a=s;return a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),ct(s,"link",i),e.state.loading|=4,vu(s,n.precedence,t),e.instance=s;case"script":return s=ha(n.src),(r=t.querySelector(hl(s)))?(e.instance=r,nt(r),r):(i=n,(r=tn.get(s))&&(i=Re({},n),hp(i,r)),t=t.ownerDocument||t,r=t.createElement("script"),nt(r),ct(r,"link",i),t.head.appendChild(r),e.instance=r);case"void":return null;default:throw Error(L(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(i=e.instance,e.state.loading|=4,vu(i,n.precedence,t));return e.instance}function vu(t,e,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,s=r,a=0;a<i.length;a++){var l=i[a];if(l.dataset.precedence===e)s=l;else if(s!==r)break}s?s.parentNode.insertBefore(t,s.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function cp(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function hp(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Eu=null;function O_(t,e,n){if(Eu===null){var i=new Map,r=Eu=new Map;r.set(n,i)}else r=Eu,i=r.get(n),i||(i=new Map,r.set(n,i));if(i.has(t))return i;for(i.set(t,null),n=n.getElementsByTagName(t),r=0;r<n.length;r++){var s=n[r];if(!(s[rl]||s[at]||t==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var a=s.getAttribute(e)||"";a=t+a;var l=i.get(a);l?l.push(s):i.set(a,[s])}}return i}function M_(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function KR(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function vb(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function YR(t,e,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var r=Ks(i.href),s=e.querySelector(cl(r));if(s){e=s._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=ac.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=s,nt(s);return}s=e.ownerDocument||e,i=_b(i),(r=tn.get(r))&&cp(i,r),s=s.createElement("link"),nt(s);var a=s;a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),ct(s,"link",i),n.instance=s}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=ac.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var xf=0;function QR(t,e){return t.stylesheets&&t.count===0&&Tu(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var i=setTimeout(function(){if(t.stylesheets&&Tu(t,t.stylesheets),t.unsuspend){var s=t.unsuspend;t.unsuspend=null,s()}},6e4+e);0<t.imgBytes&&xf===0&&(xf=62500*CR());var r=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Tu(t,t.stylesheets),t.unsuspend)){var s=t.unsuspend;t.unsuspend=null,s()}},(t.imgBytes>xf?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(i),clearTimeout(r)}}:null}function ac(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Tu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var oc=null;function Tu(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,oc=new Map,e.forEach($R,t),oc=null,ac.call(t))}function $R(t,e){if(!(e.state.loading&4)){var n=oc.get(t);if(n)var i=n.get(null);else{n=new Map,oc.set(t,n);for(var r=t.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<r.length;s++){var a=r[s];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}r=e.instance,a=r.getAttribute("data-precedence"),s=n.get(a)||i,s===i&&n.set(null,r),n.set(a,r),this.count++,i=ac.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),s?s.parentNode.insertBefore(r,s.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(r,t.firstChild)),e.state.loading|=4}}var Lo={$$typeof:zn,Provider:null,Consumer:null,_currentValue:xr,_currentValue2:xr,_threadCount:0};function XR(t,e,n,i,r,s,a,l,u){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qh(0),this.hiddenUpdates=Qh(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function Eb(t,e,n,i,r,s,a,l,u,c,d,g){return t=new XR(t,e,n,a,u,c,d,g,l),e=1,s===!0&&(e|=24),s=jt(3,null,null,e),t.current=s,s.stateNode=t,e=Lm(),e.refCount++,t.pooledCache=e,e.refCount++,s.memoizedState={element:i,isDehydrated:n,cache:e},zm(s),t}function Tb(t){return t?(t=vs,t):vs}function bb(t,e,n,i,r,s){r=Tb(r),i.context===null?i.context=r:i.pendingContext=r,i=ji(e),i.payload={element:n},s=s===void 0?null:s,s!==null&&(i.callback=s),n=ki(t,i,e),n!==null&&(Nt(n,t,e),co(n,t,e))}function V_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function fp(t,e){V_(t,e),(t=t.alternate)&&V_(t,e)}function Sb(t){if(t.tag===13||t.tag===31){var e=Kr(t,67108864);e!==null&&Nt(e,t,67108864),fp(t,67108864)}}function j_(t){if(t.tag===13||t.tag===31){var e=Bt();e=Sm(e);var n=Kr(t,e);n!==null&&Nt(n,t,e),fp(t,e)}}var lc=!0;function WR(t,e,n,i){var r=Q.T;Q.T=null;var s=he.p;try{he.p=2,dp(t,e,n,i)}finally{he.p=s,Q.T=r}}function JR(t,e,n,i){var r=Q.T;Q.T=null;var s=he.p;try{he.p=8,dp(t,e,n,i)}finally{he.p=s,Q.T=r}}function dp(t,e,n,i){if(lc){var r=Ld(i);if(r===null)Af(t,e,i,uc,n),k_(t,i);else if(eC(r,t,e,n,i))i.stopPropagation();else if(k_(t,i),e&4&&-1<ZR.indexOf(t)){for(;r!==null;){var s=aa(r);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var a=Tr(s.pendingLanes);if(a!==0){var l=s;for(l.pendingLanes|=2,l.entangledLanes|=2;a;){var u=1<<31-zt(a);l.entanglements[1]|=u,a&=~u}Dn(s),!(ce&6)&&(Ju=Pt()+500,ul(0))}}break;case 31:case 13:l=Kr(s,2),l!==null&&Nt(l,s,2),Gc(),fp(s,2)}if(s=Ld(i),s===null&&Af(t,e,i,uc,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else Af(t,e,i,null,n)}}function Ld(t){return t=Rm(t),mp(t)}var uc=null;function mp(t){if(uc=null,t=ds(t),t!==null){var e=el(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=HE(e),t!==null)return t;t=null}else if(n===31){if(t=FE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return uc=t,null}function Ab(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Px()){case QE:return 2;case $E:return 8;case Pu:case Ux:return 32;case XE:return 268435456;default:return 32}default:return 32}}var Pd=!1,Ui=null,zi=null,Bi=null,Po=new Map,Uo=new Map,bi=[],ZR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function k_(t,e){switch(t){case"focusin":case"focusout":Ui=null;break;case"dragenter":case"dragleave":zi=null;break;case"mouseover":case"mouseout":Bi=null;break;case"pointerover":case"pointerout":Po.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uo.delete(e.pointerId)}}function Ga(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=aa(e),e!==null&&Sb(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function eC(t,e,n,i,r){switch(e){case"focusin":return Ui=Ga(Ui,t,e,n,i,r),!0;case"dragenter":return zi=Ga(zi,t,e,n,i,r),!0;case"mouseover":return Bi=Ga(Bi,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return Po.set(s,Ga(Po.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Uo.set(s,Ga(Uo.get(s)||null,t,e,n,i,r)),!0}return!1}function wb(t){var e=ds(t.target);if(e!==null){var n=el(e);if(n!==null){if(e=n.tag,e===13){if(e=HE(n),e!==null){t.blockedOn=e,Ey(t.priority,function(){j_(n)});return}}else if(e===31){if(e=FE(n),e!==null){t.blockedOn=e,Ey(t.priority,function(){j_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function bu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ld(t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);nd=i,n.target.dispatchEvent(i),nd=null}else return e=aa(n),e!==null&&Sb(e),t.blockedOn=n,!1;e.shift()}return!0}function L_(t,e,n){bu(t)&&n.delete(e)}function tC(){Pd=!1,Ui!==null&&bu(Ui)&&(Ui=null),zi!==null&&bu(zi)&&(zi=null),Bi!==null&&bu(Bi)&&(Bi=null),Po.forEach(L_),Uo.forEach(L_)}function Jl(t,e){t.blockedOn===e&&(t.blockedOn=null,Pd||(Pd=!0,We.unstable_scheduleCallback(We.unstable_NormalPriority,tC)))}var Zl=null;function P_(t){Zl!==t&&(Zl=t,We.unstable_scheduleCallback(We.unstable_NormalPriority,function(){Zl===t&&(Zl=null);for(var e=0;e<t.length;e+=3){var n=t[e],i=t[e+1],r=t[e+2];if(typeof i!="function"){if(mp(i||n)===null)continue;break}var s=aa(n);s!==null&&(t.splice(e,3),e-=3,_d(s,{pending:!0,data:r,method:n.method,action:i},i,r))}}))}function Ys(t){function e(u){return Jl(u,t)}Ui!==null&&Jl(Ui,t),zi!==null&&Jl(zi,t),Bi!==null&&Jl(Bi,t),Po.forEach(e),Uo.forEach(e);for(var n=0;n<bi.length;n++){var i=bi[n];i.blockedOn===t&&(i.blockedOn=null)}for(;0<bi.length&&(n=bi[0],n.blockedOn===null);)wb(n),n.blockedOn===null&&bi.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var r=n[i],s=n[i+1],a=r[It]||null;if(typeof s=="function")a||P_(n);else if(a){var l=null;if(s&&s.hasAttribute("formAction")){if(r=s,a=s[It]||null)l=a.formAction;else if(mp(r)!==null)continue}else l=a.action;typeof l=="function"?n[i+1]=l:(n.splice(i,3),i-=3),P_(n)}}}function xb(){function t(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(a){return r=a})},focusReset:"manual",scroll:"manual"})}function e(){r!==null&&(r(),r=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,r=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),r!==null&&(r(),r=null)}}}function pp(t){this._internalRoot=t}Qc.prototype.render=pp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(L(409));var n=e.current,i=Bt();bb(n,i,t,e,null,null)};Qc.prototype.unmount=pp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;bb(t.current,2,null,t,null,null),Gc(),e[sa]=null}};function Qc(t){this._internalRoot=t}Qc.prototype.unstable_scheduleHydration=function(t){if(t){var e=t0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<bi.length&&e!==0&&e<bi[n].priority;n++);bi.splice(n,0,t),n===0&&wb(t)}};var U_=BE.version;if(U_!=="19.2.3")throw Error(L(527,U_,"19.2.3"));he.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(L(188)):(t=Object.keys(t).join(","),Error(L(268,t)));return t=Dx(e),t=t!==null?GE(t):null,t=t===null?null:t.stateNode,t};var nC={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eu.isDisabled&&eu.supportsFiber)try{tl=eu.inject(nC),Ut=eu}catch{}}Dc.createRoot=function(t,e){if(!qE(t))throw Error(L(299));var n=!1,i="",r=yT,s=_T,a=vT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onUncaughtError!==void 0&&(r=e.onUncaughtError),e.onCaughtError!==void 0&&(s=e.onCaughtError),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=Eb(t,1,!1,null,null,n,i,null,r,s,a,xb),t[sa]=e.current,up(t),new pp(e)};Dc.hydrateRoot=function(t,e,n){if(!qE(t))throw Error(L(299));var i=!1,r="",s=yT,a=_T,l=vT,u=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.formState!==void 0&&(u=n.formState)),e=Eb(t,1,!0,e,n??null,i,r,u,s,a,l,xb),e.context=Tb(null),n=e.current,i=Bt(),i=Sm(i),r=ji(i),r.callback=null,ki(n,r,i),n=i,e.current.lanes=n,il(e,n),Dn(e),t[sa]=e.current,up(t),new Qc(e)};Dc.version="19.2.3";function Rb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Rb)}catch(t){console.error(t)}}Rb(),jE.exports=Dc;var iC=jE.exports;/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var z_="popstate";function rC(t={}){function e(i,r){let{pathname:s,search:a,hash:l}=i.location;return Ud("",{pathname:s,search:a,hash:l},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:zo(r)}return aC(e,n,null,t)}function Ne(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Cn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sC(){return Math.random().toString(36).substring(2,10)}function B_(t,e){return{usr:t.state,key:t.key,idx:e}}function Ud(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?fa(e):e,state:n,key:e&&e.key||i||sC()}}function zo({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function fa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function aC(t,e,n,i={}){let{window:r=document.defaultView,v5Compat:s=!1}=i,a=r.history,l="POP",u=null,c=d();c==null&&(c=0,a.replaceState({...a.state,idx:c},""));function d(){return(a.state||{idx:null}).idx}function g(){l="POP";let I=d(),T=I==null?null:I-c;c=I,u&&u({action:l,location:D.location,delta:T})}function p(I,T){l="PUSH";let v=Ud(D.location,I,T);c=d()+1;let A=B_(v,c),V=D.createHref(v);try{a.pushState(A,"",V)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;r.location.assign(V)}s&&u&&u({action:l,location:D.location,delta:1})}function y(I,T){l="REPLACE";let v=Ud(D.location,I,T);c=d();let A=B_(v,c),V=D.createHref(v);a.replaceState(A,"",V),s&&u&&u({action:l,location:D.location,delta:0})}function C(I){return oC(I)}let D={get action(){return l},get location(){return t(r,a)},listen(I){if(u)throw new Error("A history only accepts one active listener");return r.addEventListener(z_,g),u=I,()=>{r.removeEventListener(z_,g),u=null}},createHref(I){return e(r,I)},createURL:C,encodeLocation(I){let T=C(I);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:p,replace:y,go(I){return a.go(I)}};return D}function oC(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ne(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:zo(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function Cb(t,e,n="/"){return lC(t,e,n,!1)}function lC(t,e,n,i){let r=typeof e=="string"?fa(e):e,s=ti(r.pathname||"/",n);if(s==null)return null;let a=Nb(t);uC(a);let l=null;for(let u=0;l==null&&u<a.length;++u){let c=EC(s);l=_C(a[u],c,i)}return l}function Nb(t,e=[],n=[],i="",r=!1){let s=(a,l,u=r,c)=>{let d={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(i)&&u)return;Ne(d.relativePath.startsWith(i),`Absolute route path "${d.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(i.length)}let g=Qn([i,d.relativePath]),p=n.concat(d);a.children&&a.children.length>0&&(Ne(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Nb(a.children,e,p,g,u)),!(a.path==null&&!a.index)&&e.push({path:g,score:gC(g,a.index),routesMeta:p})};return t.forEach((a,l)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))s(a,l);else for(let c of Ib(a.path))s(a,l,!0,c)}),e}function Ib(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let a=Ib(i.join("/")),l=[];return l.push(...a.map(u=>u===""?s:[s,u].join("/"))),r&&l.push(...a),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function uC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:yC(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var cC=/^:[\w-]+$/,hC=3,fC=2,dC=1,mC=10,pC=-2,q_=t=>t==="*";function gC(t,e){let n=t.split("/"),i=n.length;return n.some(q_)&&(i+=pC),e&&(i+=fC),n.filter(r=>!q_(r)).reduce((r,s)=>r+(cC.test(s)?hC:s===""?dC:mC),i)}function yC(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function _C(t,e,n=!1){let{routesMeta:i}=t,r={},s="/",a=[];for(let l=0;l<i.length;++l){let u=i[l],c=l===i.length-1,d=s==="/"?e:e.slice(s.length)||"/",g=cc({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),p=u.route;if(!g&&c&&n&&!i[i.length-1].route.index&&(g=cc({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!g)return null;Object.assign(r,g.params),a.push({params:r,pathname:Qn([s,g.pathname]),pathnameBase:AC(Qn([s,g.pathnameBase])),route:p}),g.pathnameBase!=="/"&&(s=Qn([s,g.pathnameBase]))}return a}function cc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=vC(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],a=s.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:i.reduce((c,{paramName:d,isOptional:g},p)=>{if(d==="*"){let C=l[p]||"";a=s.slice(0,s.length-C.length).replace(/(.)\/+$/,"$1")}const y=l[p];return g&&!y?c[d]=void 0:c[d]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:t}}function vC(t,e=!1,n=!0){Cn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,u)=>(i.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function EC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Cn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ti(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}var TC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function bC(t,e="/"){let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?fa(t):t,s;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?s=H_(n.substring(1),"/"):s=H_(n,e)):s=e,{pathname:s,search:wC(i),hash:xC(r)}}function H_(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Rf(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function SC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Db(t){let e=SC(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function Ob(t,e,n,i=!1){let r;typeof t=="string"?r=fa(t):(r={...t},Ne(!r.pathname||!r.pathname.includes("?"),Rf("?","pathname","search",r)),Ne(!r.pathname||!r.pathname.includes("#"),Rf("#","pathname","hash",r)),Ne(!r.search||!r.search.includes("#"),Rf("#","search","hash",r)));let s=t===""||r.pathname==="",a=s?"/":r.pathname,l;if(a==null)l=n;else{let g=e.length-1;if(!i&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),g-=1;r.pathname=p.join("/")}l=g>=0?e[g]:"/"}let u=bC(r,l),c=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}var Qn=t=>t.join("/").replace(/\/\/+/g,"/"),AC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),wC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,xC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,RC=class{constructor(t,e,n,i=!1){this.status=t,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function CC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function NC(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Mb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Vb(t,e){let n=t;if(typeof n!="string"||!TC.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,r=!1;if(Mb)try{let s=new URL(window.location.href),a=n.startsWith("//")?new URL(s.protocol+n):new URL(n),l=ti(a.pathname,e);a.origin===s.origin&&l!=null?n=l+a.search+a.hash:r=!0}catch{Cn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:r,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var jb=["POST","PUT","PATCH","DELETE"];new Set(jb);var IC=["GET",...jb];new Set(IC);var da=M.createContext(null);da.displayName="DataRouter";var $c=M.createContext(null);$c.displayName="DataRouterState";var DC=M.createContext(!1),kb=M.createContext({isTransitioning:!1});kb.displayName="ViewTransition";var OC=M.createContext(new Map);OC.displayName="Fetchers";var MC=M.createContext(null);MC.displayName="Await";var nn=M.createContext(null);nn.displayName="Navigation";var fl=M.createContext(null);fl.displayName="Location";var On=M.createContext({outlet:null,matches:[],isDataRoute:!1});On.displayName="Route";var gp=M.createContext(null);gp.displayName="RouteError";var Lb="REACT_ROUTER_ERROR",VC="REDIRECT",jC="ROUTE_ERROR_RESPONSE";function kC(t){if(t.startsWith(`${Lb}:${VC}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function LC(t){if(t.startsWith(`${Lb}:${jC}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new RC(e.status,e.statusText,e.data)}catch{}}function PC(t,{relative:e}={}){Ne(dl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=M.useContext(nn),{hash:r,pathname:s,search:a}=ml(t,{relative:e}),l=s;return n!=="/"&&(l=s==="/"?n:Qn([n,s])),i.createHref({pathname:l,search:a,hash:r})}function dl(){return M.useContext(fl)!=null}function lr(){return Ne(dl(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(fl).location}var Pb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ub(t){M.useContext(nn).static||M.useLayoutEffect(t)}function Xc(){let{isDataRoute:t}=M.useContext(On);return t?ZC():UC()}function UC(){Ne(dl(),"useNavigate() may be used only in the context of a <Router> component.");let t=M.useContext(da),{basename:e,navigator:n}=M.useContext(nn),{matches:i}=M.useContext(On),{pathname:r}=lr(),s=JSON.stringify(Db(i)),a=M.useRef(!1);return Ub(()=>{a.current=!0}),M.useCallback((u,c={})=>{if(Cn(a.current,Pb),!a.current)return;if(typeof u=="number"){n.go(u);return}let d=Ob(u,JSON.parse(s),r,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Qn([e,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[e,n,s,r,t])}var zC=M.createContext(null);function BC(t){let e=M.useContext(On).outlet;return M.useMemo(()=>e&&M.createElement(zC.Provider,{value:t},e),[e,t])}function ml(t,{relative:e}={}){let{matches:n}=M.useContext(On),{pathname:i}=lr(),r=JSON.stringify(Db(n));return M.useMemo(()=>Ob(t,JSON.parse(r),i,e==="path"),[t,r,i,e])}function qC(t,e){return zb(t,e)}function zb(t,e,n,i,r){var v;Ne(dl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=M.useContext(nn),{matches:a}=M.useContext(On),l=a[a.length-1],u=l?l.params:{},c=l?l.pathname:"/",d=l?l.pathnameBase:"/",g=l&&l.route;{let A=g&&g.path||"";qb(c,!g||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let p=lr(),y;if(e){let A=typeof e=="string"?fa(e):e;Ne(d==="/"||((v=A.pathname)==null?void 0:v.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${A.pathname}" was given in the \`location\` prop.`),y=A}else y=p;let C=y.pathname||"/",D=C;if(d!=="/"){let A=d.replace(/^\//,"").split("/");D="/"+C.replace(/^\//,"").split("/").slice(A.length).join("/")}let I=Cb(t,{pathname:D});Cn(g||I!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Cn(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=YC(I&&I.map(A=>Object.assign({},A,{params:Object.assign({},u,A.params),pathname:Qn([d,s.encodeLocation?s.encodeLocation(A.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?d:Qn([d,s.encodeLocation?s.encodeLocation(A.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathnameBase])})),a,n,i,r);return e&&T?M.createElement(fl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},T):T}function HC(){let t=JC(),e=CC(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:s},"ErrorBoundary")," or"," ",M.createElement("code",{style:s},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:r},n):null,a)}var FC=M.createElement(HC,null),Bb=class extends M.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=LC(t.digest);n&&(t=n)}let e=t!==void 0?M.createElement(On.Provider,{value:this.props.routeContext},M.createElement(gp.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?M.createElement(GC,{error:t},e):e}};Bb.contextType=DC;var Cf=new WeakMap;function GC({children:t,error:e}){let{basename:n}=M.useContext(nn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=kC(e.digest);if(i){let r=Cf.get(e);if(r)throw r;let s=Vb(i.location,n);if(Mb&&!Cf.get(e))if(s.isExternal||i.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const a=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:i.replace}));throw Cf.set(e,a),a}return M.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return t}function KC({routeContext:t,match:e,children:n}){let i=M.useContext(da);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(On.Provider,{value:t},n)}function YC(t,e=[],n=null,i=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=n==null?void 0:n.errors;if(a!=null){let d=s.findIndex(g=>g.route.id&&(a==null?void 0:a[g.route.id])!==void 0);Ne(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,u=-1;if(n)for(let d=0;d<s.length;d++){let g=s[d];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(u=d),g.route.id){let{loaderData:p,errors:y}=n,C=g.route.loader&&!p.hasOwnProperty(g.route.id)&&(!y||y[g.route.id]===void 0);if(g.route.lazy||C){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}let c=n&&i?(d,g)=>{var p,y;i(d,{location:n.location,params:((y=(p=n.matches)==null?void 0:p[0])==null?void 0:y.params)??{},unstable_pattern:NC(n.matches),errorInfo:g})}:void 0;return s.reduceRight((d,g,p)=>{let y,C=!1,D=null,I=null;n&&(y=a&&g.route.id?a[g.route.id]:void 0,D=g.route.errorElement||FC,l&&(u<0&&p===0?(qb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,I=null):u===p&&(C=!0,I=g.route.hydrateFallbackElement||null)));let T=e.concat(s.slice(0,p+1)),v=()=>{let A;return y?A=D:C?A=I:g.route.Component?A=M.createElement(g.route.Component,null):g.route.element?A=g.route.element:A=d,M.createElement(KC,{match:g,routeContext:{outlet:d,matches:T,isDataRoute:n!=null},children:A})};return n&&(g.route.ErrorBoundary||g.route.errorElement||p===0)?M.createElement(Bb,{location:n.location,revalidation:n.revalidation,component:D,error:y,children:v(),routeContext:{outlet:null,matches:T,isDataRoute:!0},onError:c}):v()},null)}function yp(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QC(t){let e=M.useContext(da);return Ne(e,yp(t)),e}function $C(t){let e=M.useContext($c);return Ne(e,yp(t)),e}function XC(t){let e=M.useContext(On);return Ne(e,yp(t)),e}function _p(t){let e=XC(t),n=e.matches[e.matches.length-1];return Ne(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function WC(){return _p("useRouteId")}function JC(){var i;let t=M.useContext(gp),e=$C("useRouteError"),n=_p("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function ZC(){let{router:t}=QC("useNavigate"),e=_p("useNavigate"),n=M.useRef(!1);return Ub(()=>{n.current=!0}),M.useCallback(async(r,s={})=>{Cn(n.current,Pb),n.current&&(typeof r=="number"?await t.navigate(r):await t.navigate(r,{fromRouteId:e,...s}))},[t,e])}var F_={};function qb(t,e,n){!e&&!F_[t]&&(F_[t]=!0,Cn(!1,n))}M.memo(eN);function eN({routes:t,future:e,state:n,onError:i}){return zb(t,void 0,n,i,e)}function tN(t){return BC(t.context)}function Ue(t){Ne(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function nN({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:r,static:s=!1,unstable_useTransitions:a}){Ne(!dl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),u=M.useMemo(()=>({basename:l,navigator:r,static:s,unstable_useTransitions:a,future:{}}),[l,r,s,a]);typeof n=="string"&&(n=fa(n));let{pathname:c="/",search:d="",hash:g="",state:p=null,key:y="default"}=n,C=M.useMemo(()=>{let D=ti(c,l);return D==null?null:{location:{pathname:D,search:d,hash:g,state:p,key:y},navigationType:i}},[l,c,d,g,p,y,i]);return Cn(C!=null,`<Router basename="${l}"> is not able to match the URL "${c}${d}${g}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:M.createElement(nn.Provider,{value:u},M.createElement(fl.Provider,{children:e,value:C}))}function G_({children:t,location:e}){return qC(zd(t),e)}function zd(t,e=[]){let n=[];return M.Children.forEach(t,(i,r)=>{if(!M.isValidElement(i))return;let s=[...e,r];if(i.type===M.Fragment){n.push.apply(n,zd(i.props.children,s));return}Ne(i.type===Ue,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ne(!i.props.index||!i.props.children,"An index route cannot have child routes.");let a={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=zd(i.props.children,s)),n.push(a)}),n}var Su="get",Au="application/x-www-form-urlencoded";function Wc(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function iN(t){return Wc(t)&&t.tagName.toLowerCase()==="button"}function rN(t){return Wc(t)&&t.tagName.toLowerCase()==="form"}function sN(t){return Wc(t)&&t.tagName.toLowerCase()==="input"}function aN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function oN(t,e){return t.button===0&&(!e||e==="_self")&&!aN(t)}var tu=null;function lN(){if(tu===null)try{new FormData(document.createElement("form"),0),tu=!1}catch{tu=!0}return tu}var uN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Nf(t){return t!=null&&!uN.has(t)?(Cn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Au}"`),null):t}function cN(t,e){let n,i,r,s,a;if(rN(t)){let l=t.getAttribute("action");i=l?ti(l,e):null,n=t.getAttribute("method")||Su,r=Nf(t.getAttribute("enctype"))||Au,s=new FormData(t)}else if(iN(t)||sN(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||l.getAttribute("action");if(i=u?ti(u,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||Su,r=Nf(t.getAttribute("formenctype"))||Nf(l.getAttribute("enctype"))||Au,s=new FormData(l,t),!lN()){let{name:c,type:d,value:g}=t;if(d==="image"){let p=c?`${c}.`:"";s.append(`${p}x`,"0"),s.append(`${p}y`,"0")}else c&&s.append(c,g)}}else{if(Wc(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Su,i=null,r=Au,a=t}return s&&r==="text/plain"&&(a=s,s=void 0),{action:i,method:n.toLowerCase(),encType:r,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function vp(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function hN(t,e,n,i){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?r.pathname.endsWith("/")?r.pathname=`${r.pathname}_.${i}`:r.pathname=`${r.pathname}.${i}`:r.pathname==="/"?r.pathname=`_root.${i}`:e&&ti(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${i}`,r}async function fN(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function dN(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function mN(t,e,n){let i=await Promise.all(t.map(async r=>{let s=e.routes[r.route.id];if(s){let a=await fN(s,n);return a.links?a.links():[]}return[]}));return _N(i.flat(1).filter(dN).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function K_(t,e,n,i,r,s){let a=(u,c)=>n[c]?u.route.id!==n[c].route.id:!0,l=(u,c)=>{var d;return n[c].pathname!==u.pathname||((d=n[c].route.path)==null?void 0:d.endsWith("*"))&&n[c].params["*"]!==u.params["*"]};return s==="assets"?e.filter((u,c)=>a(u,c)||l(u,c)):s==="data"?e.filter((u,c)=>{var g;let d=i.routes[u.route.id];if(!d||!d.hasLoader)return!1;if(a(u,c)||l(u,c))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function pN(t,e,{includeHydrateFallback:n}={}){return gN(t.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function gN(t){return[...new Set(t)]}function yN(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function _N(t,e){let n=new Set;return new Set(e),t.reduce((i,r)=>{let s=JSON.stringify(yN(r));return n.has(s)||(n.add(s),i.push({key:s,link:r})),i},[])}function Hb(){let t=M.useContext(da);return vp(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function vN(){let t=M.useContext($c);return vp(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Ep=M.createContext(void 0);Ep.displayName="FrameworkContext";function Fb(){let t=M.useContext(Ep);return vp(t,"You must render this element inside a <HydratedRouter> element"),t}function EN(t,e){let n=M.useContext(Ep),[i,r]=M.useState(!1),[s,a]=M.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:c,onMouseLeave:d,onTouchStart:g}=e,p=M.useRef(null);M.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let D=T=>{T.forEach(v=>{a(v.isIntersecting)})},I=new IntersectionObserver(D,{threshold:.5});return p.current&&I.observe(p.current),()=>{I.disconnect()}}},[t]),M.useEffect(()=>{if(i){let D=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(D)}}},[i]);let y=()=>{r(!0)},C=()=>{r(!1),a(!1)};return n?t!=="intent"?[s,p,{}]:[s,p,{onFocus:Ka(l,y),onBlur:Ka(u,C),onMouseEnter:Ka(c,y),onMouseLeave:Ka(d,C),onTouchStart:Ka(g,y)}]:[!1,p,{}]}function Ka(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function TN({page:t,...e}){let{router:n}=Hb(),i=M.useMemo(()=>Cb(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?M.createElement(SN,{page:t,matches:i,...e}):null}function bN(t){let{manifest:e,routeModules:n}=Fb(),[i,r]=M.useState([]);return M.useEffect(()=>{let s=!1;return mN(t,e,n).then(a=>{s||r(a)}),()=>{s=!0}},[t,e,n]),i}function SN({page:t,matches:e,...n}){let i=lr(),{future:r,manifest:s,routeModules:a}=Fb(),{basename:l}=Hb(),{loaderData:u,matches:c}=vN(),d=M.useMemo(()=>K_(t,e,c,s,i,"data"),[t,e,c,s,i]),g=M.useMemo(()=>K_(t,e,c,s,i,"assets"),[t,e,c,s,i]),p=M.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let D=new Set,I=!1;if(e.forEach(v=>{var V;let A=s.routes[v.route.id];!A||!A.hasLoader||(!d.some(U=>U.route.id===v.route.id)&&v.route.id in u&&((V=a[v.route.id])!=null&&V.shouldRevalidate)||A.hasClientLoader?I=!0:D.add(v.route.id))}),D.size===0)return[];let T=hN(t,l,r.unstable_trailingSlashAwareDataRequests,"data");return I&&D.size>0&&T.searchParams.set("_routes",e.filter(v=>D.has(v.route.id)).map(v=>v.route.id).join(",")),[T.pathname+T.search]},[l,r.unstable_trailingSlashAwareDataRequests,u,i,s,d,e,t,a]),y=M.useMemo(()=>pN(g,s),[g,s]),C=bN(g);return M.createElement(M.Fragment,null,p.map(D=>M.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...n})),y.map(D=>M.createElement("link",{key:D,rel:"modulepreload",href:D,...n})),C.map(({key:D,link:I})=>M.createElement("link",{key:D,nonce:n.nonce,...I,crossOrigin:I.crossOrigin??n.crossOrigin})))}function AN(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var wN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{wN&&(window.__reactRouterVersion="7.13.0")}catch{}function xN({basename:t,children:e,unstable_useTransitions:n,window:i}){let r=M.useRef();r.current==null&&(r.current=rC({window:i,v5Compat:!0}));let s=r.current,[a,l]=M.useState({action:s.action,location:s.location}),u=M.useCallback(c=>{n===!1?l(c):M.startTransition(()=>l(c))},[n]);return M.useLayoutEffect(()=>s.listen(u),[s,u]),M.createElement(nN,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:s,unstable_useTransitions:n})}var Gb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qe=M.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:r,reloadDocument:s,replace:a,state:l,target:u,to:c,preventScrollReset:d,viewTransition:g,unstable_defaultShouldRevalidate:p,...y},C){let{basename:D,unstable_useTransitions:I}=M.useContext(nn),T=typeof c=="string"&&Gb.test(c),v=Vb(c,D);c=v.to;let A=PC(c,{relative:r}),[V,U,F]=EN(i,y),b=NN(c,{replace:a,state:l,target:u,preventScrollReset:d,relative:r,viewTransition:g,unstable_defaultShouldRevalidate:p,unstable_useTransitions:I});function E(x){e&&e(x),x.defaultPrevented||b(x)}let S=M.createElement("a",{...y,...F,href:v.absoluteURL||A,onClick:v.isExternal||s?e:E,ref:AN(C,U),target:u,"data-discover":!T&&n==="render"?"true":void 0});return V&&!T?M.createElement(M.Fragment,null,S,M.createElement(TN,{page:A})):S});Qe.displayName="Link";var yn=M.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:r=!1,style:s,to:a,viewTransition:l,children:u,...c},d){let g=ml(a,{relative:c.relative}),p=lr(),y=M.useContext($c),{navigator:C,basename:D}=M.useContext(nn),I=y!=null&&VN(g)&&l===!0,T=C.encodeLocation?C.encodeLocation(g).pathname:g.pathname,v=p.pathname,A=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(v=v.toLowerCase(),A=A?A.toLowerCase():null,T=T.toLowerCase()),A&&D&&(A=ti(A,D)||A);const V=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let U=v===T||!r&&v.startsWith(T)&&v.charAt(V)==="/",F=A!=null&&(A===T||!r&&A.startsWith(T)&&A.charAt(T.length)==="/"),b={isActive:U,isPending:F,isTransitioning:I},E=U?e:void 0,S;typeof i=="function"?S=i(b):S=[i,U?"active":null,F?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let x=typeof s=="function"?s(b):s;return M.createElement(Qe,{...c,"aria-current":E,className:S,ref:d,style:x,to:a,viewTransition:l},typeof u=="function"?u(b):u)});yn.displayName="NavLink";var RN=M.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:r,state:s,method:a=Su,action:l,onSubmit:u,relative:c,preventScrollReset:d,viewTransition:g,unstable_defaultShouldRevalidate:p,...y},C)=>{let{unstable_useTransitions:D}=M.useContext(nn),I=ON(),T=MN(l,{relative:c}),v=a.toLowerCase()==="get"?"get":"post",A=typeof l=="string"&&Gb.test(l),V=U=>{if(u&&u(U),U.defaultPrevented)return;U.preventDefault();let F=U.nativeEvent.submitter,b=(F==null?void 0:F.getAttribute("formmethod"))||a,E=()=>I(F||U.currentTarget,{fetcherKey:e,method:b,navigate:n,replace:r,state:s,relative:c,preventScrollReset:d,viewTransition:g,unstable_defaultShouldRevalidate:p});D&&n!==!1?M.startTransition(()=>E()):E()};return M.createElement("form",{ref:C,method:v,action:T,onSubmit:i?u:V,...y,"data-discover":!A&&t==="render"?"true":void 0})});RN.displayName="Form";function CN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Kb(t){let e=M.useContext(da);return Ne(e,CN(t)),e}function NN(t,{target:e,replace:n,state:i,preventScrollReset:r,relative:s,viewTransition:a,unstable_defaultShouldRevalidate:l,unstable_useTransitions:u}={}){let c=Xc(),d=lr(),g=ml(t,{relative:s});return M.useCallback(p=>{if(oN(p,e)){p.preventDefault();let y=n!==void 0?n:zo(d)===zo(g),C=()=>c(t,{replace:y,state:i,preventScrollReset:r,relative:s,viewTransition:a,unstable_defaultShouldRevalidate:l});u?M.startTransition(()=>C()):C()}},[d,c,g,n,i,e,t,r,s,a,l,u])}var IN=0,DN=()=>`__${String(++IN)}__`;function ON(){let{router:t}=Kb("useSubmit"),{basename:e}=M.useContext(nn),n=WC(),i=t.fetch,r=t.navigate;return M.useCallback(async(s,a={})=>{let{action:l,method:u,encType:c,formData:d,body:g}=cN(s,e);if(a.navigate===!1){let p=a.fetcherKey||DN();await i(p,n,a.action||l,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:d,body:g,formMethod:a.method||u,formEncType:a.encType||c,flushSync:a.flushSync})}else await r(a.action||l,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:d,body:g,formMethod:a.method||u,formEncType:a.encType||c,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[i,r,e,n])}function MN(t,{relative:e}={}){let{basename:n}=M.useContext(nn),i=M.useContext(On);Ne(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),s={...ml(t||".",{relative:e})},a=lr();if(t==null){s.search=a.search;let l=new URLSearchParams(s.search),u=l.getAll("index");if(u.some(d=>d==="")){l.delete("index"),u.filter(g=>g).forEach(g=>l.append("index",g));let d=l.toString();s.search=d?`?${d}`:""}}return(!t||t===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Qn([n,s.pathname])),zo(s)}function VN(t,{relative:e}={}){let n=M.useContext(kb);Ne(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Kb("useViewTransitionState"),r=ml(t,{relative:e});if(!n.isTransitioning)return!1;let s=ti(n.currentLocation.pathname,i)||n.currentLocation.pathname,a=ti(n.nextLocation.pathname,i)||n.nextLocation.pathname;return cc(r.pathname,a)!=null||cc(r.pathname,s)!=null}const Yb=M.createContext(),pl=()=>M.useContext(Yb),jN=({children:t})=>{const[e,n]=M.useState(()=>{try{const c=localStorage.getItem("ambrosia_cart");return c?JSON.parse(c):[]}catch(c){return console.error("Failed to parse cart data:",c),[]}});M.useEffect(()=>{localStorage.setItem("ambrosia_cart",JSON.stringify(e))},[e]);const i=c=>{n(d=>{const g=d.find(p=>p.id===c.id);return g?g.quantity>=50?d:d.map(p=>p.id===c.id?{...p,quantity:p.quantity+1}:p):[...d,{...c,quantity:1}]})},r=c=>{n(d=>d.filter(g=>g.id!==c))},s=(c,d)=>{if(d<1){r(c);return}d>50||n(g=>g.map(p=>p.id===c?{...p,quantity:d}:p))},a=()=>n([]),l=e.reduce((c,d)=>c+d.price*d.quantity,0),u=e.reduce((c,d)=>c+d.quantity,0);return h.jsx(Yb.Provider,{value:{cartItems:e,addToCart:i,removeFromCart:r,updateQuantity:s,clearCart:a,cartTotal:l,cartCount:u},children:t})},kN=()=>{};var Y_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},LN=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=t[n++],a=t[n++],l=t[n++],u=((r&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(u>>10)),e[i++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],a=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|a&63)}}return e.join("")},$b={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const s=t[r],a=r+1<t.length,l=a?t[r+1]:0,u=r+2<t.length,c=u?t[r+2]:0,d=s>>2,g=(s&3)<<4|l>>4;let p=(l&15)<<2|c>>6,y=c&63;u||(y=64,a||(p=64)),i.push(n[d],n[g],n[p],n[y])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Qb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):LN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const s=n[t.charAt(r++)],l=r<t.length?n[t.charAt(r)]:0;++r;const c=r<t.length?n[t.charAt(r)]:64;++r;const g=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||l==null||c==null||g==null)throw new PN;const p=s<<2|l>>4;if(i.push(p),c!==64){const y=l<<4&240|c>>2;if(i.push(y),g!==64){const C=c<<6&192|g;i.push(C)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class PN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const UN=function(t){const e=Qb(t);return $b.encodeByteArray(e,!0)},hc=function(t){return UN(t).replace(/\./g,"")},Xb=function(t){try{return $b.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN=()=>zN().__FIREBASE_DEFAULTS__,qN=()=>{if(typeof process>"u"||typeof Y_>"u")return;const t=Y_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},HN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Xb(t[1]);return e&&JSON.parse(e)},Jc=()=>{try{return kN()||BN()||qN()||HN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Wb=t=>{var e,n;return(n=(e=Jc())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},FN=t=>{const e=Wb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Jb=()=>{var t;return(t=Jc())==null?void 0:t.config},Zb=t=>{var e;return(e=Jc())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ma(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function eS(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[hc(JSON.stringify(n)),hc(JSON.stringify(a)),""].join(".")}const Eo={};function YN(){const t={prod:[],emulator:[]};for(const e of Object.keys(Eo))Eo[e]?t.emulator.push(e):t.prod.push(e);return t}function QN(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Q_=!1;function tS(t,e){if(typeof window>"u"||typeof document>"u"||!ma(window.location.host)||Eo[t]===e||Eo[t]||Q_)return;Eo[t]=e;function n(p){return`__firebase__banner__${p}`}const i="__firebase__banner",s=YN().prod.length>0;function a(){const p=document.getElementById(i);p&&p.remove()}function l(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function u(p,y){p.setAttribute("width","24"),p.setAttribute("id",y),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function c(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{Q_=!0,a()},p}function d(p,y){p.setAttribute("id",y),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function g(){const p=QN(i),y=n("text"),C=document.getElementById(y)||document.createElement("span"),D=n("learnmore"),I=document.getElementById(D)||document.createElement("a"),T=n("preprendIcon"),v=document.getElementById(T)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const A=p.element;l(A),d(I,D);const V=c();u(v,T),A.append(v,C,I,V),document.body.appendChild(A)}s?(C.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $N(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yt())}function XN(){var e;const t=(e=Jc())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function WN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function JN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ZN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function e2(){const t=yt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function t2(){return!XN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function n2(){try{return typeof indexedDB=="object"}catch{return!1}}function i2(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2="FirebaseError";class oi extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=r2,Object.setPrototypeOf(this,oi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gl.prototype.create)}}class gl{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],a=s?s2(s,i):"Error",l=`${this.serviceName}: ${a} (${r}).`;return new oi(r,l,i)}}function s2(t,e){return t.replace(a2,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const a2=/\{\$([^}]+)}/g;function o2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Lr(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const s=t[r],a=e[r];if($_(s)&&$_(a)){if(!Lr(s,a))return!1}else if(s!==a)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function $_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yl(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Za(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function eo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function l2(t,e){const n=new u2(t,e);return n.subscribe.bind(n)}class u2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");c2(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=If),r.error===void 0&&(r.error=If),r.complete===void 0&&(r.complete=If);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function c2(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function If(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Je(t){return t&&t._delegate?t._delegate:t}class Pr{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new GN;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(d2(e))try{this.getOrInitializeService({instanceIdentifier:Ar})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=Ar){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ar){return this.instances.has(e)}getOptions(e=Ar){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);i===l&&a.resolve(r)}return r}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),r=this.onInitCallbacks.get(i)??new Set;r.add(e),this.onInitCallbacks.set(i,r);const s=this.instances.get(i);return s&&e(s,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:f2(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ar){return this.component?this.component.multipleInstances?e:Ar:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function f2(t){return t===Ar?void 0:t}function d2(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new h2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var re;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(re||(re={}));const p2={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},g2=re.INFO,y2={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},_2=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=y2[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Tp{constructor(e){this.name=e,this._logLevel=g2,this._logHandler=_2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?p2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...e),this._logHandler(this,re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...e),this._logHandler(this,re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,re.INFO,...e),this._logHandler(this,re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,re.WARN,...e),this._logHandler(this,re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...e),this._logHandler(this,re.ERROR,...e)}}const v2=(t,e)=>e.some(n=>t instanceof n);let X_,W_;function E2(){return X_||(X_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function T2(){return W_||(W_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nS=new WeakMap,Bd=new WeakMap,iS=new WeakMap,Df=new WeakMap,bp=new WeakMap;function b2(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(qi(t.result)),r()},a=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&nS.set(n,t)}).catch(()=>{}),bp.set(e,t),e}function S2(t){if(Bd.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),r()},a=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});Bd.set(t,e)}let qd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Bd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||iS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function A2(t){qd=t(qd)}function w2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Of(this),e,...n);return iS.set(i,e.sort?e.sort():[e]),qi(i)}:T2().includes(t)?function(...e){return t.apply(Of(this),e),qi(nS.get(this))}:function(...e){return qi(t.apply(Of(this),e))}}function x2(t){return typeof t=="function"?w2(t):(t instanceof IDBTransaction&&S2(t),v2(t,E2())?new Proxy(t,qd):t)}function qi(t){if(t instanceof IDBRequest)return b2(t);if(Df.has(t))return Df.get(t);const e=x2(t);return e!==t&&(Df.set(t,e),bp.set(e,t)),e}const Of=t=>bp.get(t);function R2(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const a=indexedDB.open(t,e),l=qi(a);return i&&a.addEventListener("upgradeneeded",u=>{i(qi(a.result),u.oldVersion,u.newVersion,qi(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),r&&u.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const C2=["get","getKey","getAll","getAllKeys","count"],N2=["put","add","delete","clear"],Mf=new Map;function J_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Mf.get(e))return Mf.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=N2.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||C2.includes(n)))return;const s=async function(a,...l){const u=this.transaction(a,r?"readwrite":"readonly");let c=u.store;return i&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),r&&u.done]))[0]};return Mf.set(e,s),s}A2(t=>({...t,get:(e,n,i)=>J_(e,n)||t.get(e,n,i),has:(e,n)=>!!J_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(D2(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function D2(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Hd="@firebase/app",Z_="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ni=new Tp("@firebase/app"),O2="@firebase/app-compat",M2="@firebase/analytics-compat",V2="@firebase/analytics",j2="@firebase/app-check-compat",k2="@firebase/app-check",L2="@firebase/auth",P2="@firebase/auth-compat",U2="@firebase/database",z2="@firebase/data-connect",B2="@firebase/database-compat",q2="@firebase/functions",H2="@firebase/functions-compat",F2="@firebase/installations",G2="@firebase/installations-compat",K2="@firebase/messaging",Y2="@firebase/messaging-compat",Q2="@firebase/performance",$2="@firebase/performance-compat",X2="@firebase/remote-config",W2="@firebase/remote-config-compat",J2="@firebase/storage",Z2="@firebase/storage-compat",eI="@firebase/firestore",tI="@firebase/ai",nI="@firebase/firestore-compat",iI="firebase",rI="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd="[DEFAULT]",sI={[Hd]:"fire-core",[O2]:"fire-core-compat",[V2]:"fire-analytics",[M2]:"fire-analytics-compat",[k2]:"fire-app-check",[j2]:"fire-app-check-compat",[L2]:"fire-auth",[P2]:"fire-auth-compat",[U2]:"fire-rtdb",[z2]:"fire-data-connect",[B2]:"fire-rtdb-compat",[q2]:"fire-fn",[H2]:"fire-fn-compat",[F2]:"fire-iid",[G2]:"fire-iid-compat",[K2]:"fire-fcm",[Y2]:"fire-fcm-compat",[Q2]:"fire-perf",[$2]:"fire-perf-compat",[X2]:"fire-rc",[W2]:"fire-rc-compat",[J2]:"fire-gcs",[Z2]:"fire-gcs-compat",[eI]:"fire-fst",[nI]:"fire-fst-compat",[tI]:"fire-vertex","fire-js":"fire-js",[iI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc=new Map,aI=new Map,Gd=new Map;function ev(t,e){try{t.container.addComponent(e)}catch(n){ni.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Qs(t){const e=t.name;if(Gd.has(e))return ni.debug(`There were multiple attempts to register component ${e}.`),!1;Gd.set(e,t);for(const n of fc.values())ev(n,t);for(const n of aI.values())ev(n,t);return!0}function Sp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function on(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hi=new gl("app","Firebase",oI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Pr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa=rI;function rS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:Fd,automaticDataCollectionEnabled:!0,...e},r=i.name;if(typeof r!="string"||!r)throw Hi.create("bad-app-name",{appName:String(r)});if(n||(n=Jb()),!n)throw Hi.create("no-options");const s=fc.get(r);if(s){if(Lr(n,s.options)&&Lr(i,s.config))return s;throw Hi.create("duplicate-app",{appName:r})}const a=new m2(r);for(const u of Gd.values())a.addComponent(u);const l=new lI(n,i,a);return fc.set(r,l),l}function sS(t=Fd){const e=fc.get(t);if(!e&&t===Fd&&Jb())return rS();if(!e)throw Hi.create("no-app",{appName:t});return e}function Fi(t,e,n){let i=sI[t]??t;n&&(i+=`-${n}`);const r=i.match(/\s|\//),s=e.match(/\s|\//);if(r||s){const a=[`Unable to register library "${i}" with version "${e}":`];r&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ni.warn(a.join(" "));return}Qs(new Pr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI="firebase-heartbeat-database",cI=1,Bo="firebase-heartbeat-store";let Vf=null;function aS(){return Vf||(Vf=R2(uI,cI,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Bo)}catch(n){console.warn(n)}}}}).catch(t=>{throw Hi.create("idb-open",{originalErrorMessage:t.message})})),Vf}async function hI(t){try{const n=(await aS()).transaction(Bo),i=await n.objectStore(Bo).get(oS(t));return await n.done,i}catch(e){if(e instanceof oi)ni.warn(e.message);else{const n=Hi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ni.warn(n.message)}}}async function tv(t,e){try{const i=(await aS()).transaction(Bo,"readwrite");await i.objectStore(Bo).put(e,oS(t)),await i.done}catch(n){if(n instanceof oi)ni.warn(n.message);else{const i=Hi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ni.warn(i.message)}}}function oS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI=1024,dI=30;class mI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new gI(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=nv();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>dI){const a=yI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){ni.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=nv(),{heartbeatsToSend:i,unsentEntries:r}=pI(this._heartbeatsCache.heartbeats),s=hc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return ni.warn(n),""}}}function nv(){return new Date().toISOString().substring(0,10)}function pI(t,e=fI){const n=[];let i=t.slice();for(const r of t){const s=n.find(a=>a.agent===r.agent);if(s){if(s.dates.push(r.date),iv(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),iv(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class gI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return n2()?i2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await hI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return tv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return tv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function iv(t){return hc(JSON.stringify({version:2,heartbeats:t})).length}function yI(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(t){Qs(new Pr("platform-logger",e=>new I2(e),"PRIVATE")),Qs(new Pr("heartbeat",e=>new mI(e),"PRIVATE")),Fi(Hd,Z_,t),Fi(Hd,Z_,"esm2020"),Fi("fire-js","")}_I("");var vI="firebase",EI="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fi(vI,EI,"app");function lS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const TI=lS,uS=new gl("auth","Firebase",lS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dc=new Tp("@firebase/auth");function bI(t,...e){dc.logLevel<=re.WARN&&dc.warn(`Auth (${pa}): ${t}`,...e)}function wu(t,...e){dc.logLevel<=re.ERROR&&dc.error(`Auth (${pa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(t,...e){throw Ap(t,...e)}function bn(t,...e){return Ap(t,...e)}function cS(t,e,n){const i={...TI(),[e]:n};return new gl("auth","Firebase",i).create(e,{appName:t.name})}function Gi(t){return cS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ap(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return uS.create(t,...e)}function K(t,e,...n){if(!t)throw Ap(e,...n)}function Hn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw wu(e),new Error(e)}function ii(t,e){t||Hn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kd(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function SI(){return rv()==="http:"||rv()==="https:"}function rv(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(SI()||JN()||"connection"in navigator)?navigator.onLine:!0}function wI(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e,n){this.shortDelay=e,this.longDelay=n,ii(n>e,"Short delay should be less than long delay!"),this.isMobile=$N()||ZN()}get(){return AI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(t,e){ii(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],CI=new _l(3e4,6e4);function Qr(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ur(t,e,n,i,r={}){return fS(t,r,async()=>{let s={},a={};i&&(e==="GET"?a=i:s={body:JSON.stringify(i)});const l=yl({key:t.config.apiKey,...a}).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:u,...s};return WN()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&ma(t.emulatorConfig.host)&&(c.credentials="include"),hS.fetch()(await dS(t,t.config.apiHost,n,l),c)})}async function fS(t,e,n){t._canInitEmulator=!1;const i={...xI,...e};try{const r=new II(t),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw nu(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const l=s.ok?a.errorMessage:a.error.message,[u,c]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw nu(t,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw nu(t,"email-already-in-use",a);if(u==="USER_DISABLED")throw nu(t,"user-disabled",a);const d=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw cS(t,d,c);hn(t,d)}}catch(r){if(r instanceof oi)throw r;hn(t,"network-request-failed",{message:String(r)})}}async function Zc(t,e,n,i,r={}){const s=await ur(t,e,n,i,r);return"mfaPendingCredential"in s&&hn(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function dS(t,e,n,i){const r=`${e}${n}?${i}`,s=t,a=s.config.emulator?wp(t.config,r):`${t.config.apiScheme}://${r}`;return RI.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function NI(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class II{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(bn(this.auth,"network-request-failed")),CI.get())})}}function nu(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=bn(t,e,i);return r.customData._tokenResponse=n,r}function sv(t){return t!==void 0&&t.enterprise!==void 0}class DI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return NI(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function OI(t,e){return ur(t,"GET","/v2/recaptchaConfig",Qr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MI(t,e){return ur(t,"POST","/v1/accounts:delete",e)}async function mc(t,e){return ur(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function To(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function VI(t,e=!1){const n=Je(t),i=await n.getIdToken(e),r=xp(i);K(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:To(jf(r.auth_time)),issuedAtTime:To(jf(r.iat)),expirationTime:To(jf(r.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function jf(t){return Number(t)*1e3}function xp(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return wu("JWT malformed, contained fewer than 3 sections"),null;try{const r=Xb(n);return r?JSON.parse(r):(wu("Failed to decode base64 JWT payload"),null)}catch(r){return wu("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function av(t){const e=xp(t);return K(e,"internal-error"),K(typeof e.exp<"u","internal-error"),K(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qo(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof oi&&jI(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function jI({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=To(this.lastLoginAt),this.creationTime=To(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pc(t){var g;const e=t.auth,n=await t.getIdToken(),i=await qo(t,mc(e,{idToken:n}));K(i==null?void 0:i.users.length,e,"internal-error");const r=i.users[0];t._notifyReloadListener(r);const s=(g=r.providerUserInfo)!=null&&g.length?mS(r.providerUserInfo):[],a=PI(t.providerData,s),l=t.isAnonymous,u=!(t.email&&r.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new Yd(r.createdAt,r.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function LI(t){const e=Je(t);await pc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function PI(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function mS(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UI(t,e){const n=await fS(t,{},async()=>{const i=yl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,a=await dS(t,r,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:i};return t.emulatorConfig&&ma(t.emulatorConfig.host)&&(u.credentials="include"),hS.fetch()(a,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function zI(t,e){return ur(t,"POST","/v2/accounts:revokeToken",Qr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){K(e.idToken,"internal-error"),K(typeof e.idToken<"u","internal-error"),K(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):av(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){K(e.length!==0,"internal-error");const n=av(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(K(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await UI(e,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,a=new Ds;return i&&(K(typeof i=="string","internal-error",{appName:e}),a.refreshToken=i),r&&(K(typeof r=="string","internal-error",{appName:e}),a.accessToken=r),s&&(K(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ds,this.toJSON())}_performRefresh(){return Hn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(t,e){K(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ln{constructor({uid:e,auth:n,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new kI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Yd(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await qo(this,this.stsTokenManager.getToken(this.auth,e));return K(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return VI(this,e)}reload(){return LI(this)}_assign(e){this!==e&&(K(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ln({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await pc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(on(this.auth.app))return Promise.reject(Gi(this.auth));const e=await this.getIdToken();return await qo(this,MI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,r=n.email??void 0,s=n.phoneNumber??void 0,a=n.photoURL??void 0,l=n.tenantId??void 0,u=n._redirectEventId??void 0,c=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:g,emailVerified:p,isAnonymous:y,providerData:C,stsTokenManager:D}=n;K(g&&D,e,"internal-error");const I=Ds.fromJSON(this.name,D);K(typeof g=="string",e,"internal-error"),gi(i,e.name),gi(r,e.name),K(typeof p=="boolean",e,"internal-error"),K(typeof y=="boolean",e,"internal-error"),gi(s,e.name),gi(a,e.name),gi(l,e.name),gi(u,e.name),gi(c,e.name),gi(d,e.name);const T=new ln({uid:g,auth:e,email:r,emailVerified:p,displayName:i,isAnonymous:y,photoURL:a,phoneNumber:s,tenantId:l,stsTokenManager:I,createdAt:c,lastLoginAt:d});return C&&Array.isArray(C)&&(T.providerData=C.map(v=>({...v}))),u&&(T._redirectEventId=u),T}static async _fromIdTokenResponse(e,n,i=!1){const r=new Ds;r.updateFromServerResponse(n);const s=new ln({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await pc(s),s}static async _fromGetAccountInfoResponse(e,n,i){const r=n.users[0];K(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?mS(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),l=new Ds;l.updateFromIdToken(i);const u=new ln({uid:r.localId,auth:e,stsTokenManager:l,isAnonymous:a}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new Yd(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov=new Map;function Fn(t){ii(t instanceof Function,"Expected a class definition");let e=ov.get(t);return e?(ii(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ov.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}pS.type="NONE";const lv=pS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xu(t,e,n){return`firebase:${t}:${e}:${n}`}class Os{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=xu(this.userKey,r.apiKey,s),this.fullPersistenceKey=xu("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await mc(this.auth,{idToken:e}).catch(()=>{});return n?ln._fromGetAccountInfoResponse(this.auth,n,e):null}return ln._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Os(Fn(lv),e,i);const r=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=r[0]||Fn(lv);const a=xu(i,e.config.apiKey,e.name);let l=null;for(const c of n)try{const d=await c._get(a);if(d){let g;if(typeof d=="string"){const p=await mc(e,{idToken:d}).catch(()=>{});if(!p)break;g=await ln._fromGetAccountInfoResponse(e,p,d)}else g=ln._fromJSON(e,d);c!==s&&(l=g),s=c;break}}catch{}const u=r.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Os(s,e,i):(s=u[0],l&&await s._set(a,l.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(a)}catch{}})),new Os(s,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uv(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(gS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(TS(e))return"Blackberry";if(bS(e))return"Webos";if(yS(e))return"Safari";if((e.includes("chrome/")||_S(e))&&!e.includes("edge/"))return"Chrome";if(ES(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function gS(t=yt()){return/firefox\//i.test(t)}function yS(t=yt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _S(t=yt()){return/crios\//i.test(t)}function vS(t=yt()){return/iemobile/i.test(t)}function ES(t=yt()){return/android/i.test(t)}function TS(t=yt()){return/blackberry/i.test(t)}function bS(t=yt()){return/webos/i.test(t)}function Rp(t=yt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function BI(t=yt()){var e;return Rp(t)&&!!((e=window.navigator)!=null&&e.standalone)}function qI(){return e2()&&document.documentMode===10}function SS(t=yt()){return Rp(t)||ES(t)||bS(t)||TS(t)||/windows phone/i.test(t)||vS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AS(t,e=[]){let n;switch(t){case"Browser":n=uv(yt());break;case"Worker":n=`${uv(yt())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${pa}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=s=>new Promise((a,l)=>{try{const u=e(s);a(u)}catch(u){l(u)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FI(t,e={}){return ur(t,"GET","/v2/passwordPolicy",Qr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI=6;class KI{constructor(e){var i;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??GI,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cv(this),this.idTokenSubscription=new cv(this),this.beforeStateQueue=new HI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Fn(n)),this._initializationPromise=this.queue(async()=>{var i,r,s;if(!this._deleted&&(this.persistenceManager=await Os.create(this,e),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((r=this._popupRedirectResolver)!=null&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await mc(this,{idToken:e}),i=await ln._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(on(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(s=this.redirectUser)==null?void 0:s._redirectEventId,l=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===l)&&(u!=null&&u.user)&&(i=u.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return K(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await pc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=wI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(on(this.app))return Promise.reject(Gi(this));const n=e?Je(e):null;return n&&K(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&K(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return on(this.app)?Promise.reject(Gi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return on(this.app)?Promise.reject(Gi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await FI(this),n=new KI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new gl("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await zI(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Fn(e)||this._popupRedirectResolver;K(n,this,"argument-error"),this.redirectPersistenceManager=await Os.create(this,[Fn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(K(l,this,"internal-error"),l.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,i,r);return()=>{a=!0,u()}}else{const u=e.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=AS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var r;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((r=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var n;if(on(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&bI(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function ga(t){return Je(t)}class cv{constructor(e){this.auth=e,this.observer=null,this.addObserver=l2(n=>this.observer=n)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function QI(t){eh=t}function wS(t){return eh.loadJS(t)}function $I(){return eh.recaptchaEnterpriseScript}function XI(){return eh.gapiScript}function WI(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class JI{constructor(){this.enterprise=new ZI}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class ZI{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const eD="recaptcha-enterprise",xS="NO_RECAPTCHA";class tD{constructor(e){this.type=eD,this.auth=ga(e)}async verify(e="verify",n=!1){async function i(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,l)=>{OI(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const c=new DI(u);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,a(c.siteKey)}}).catch(u=>{l(u)})})}function r(s,a,l){const u=window.grecaptcha;sv(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(c=>{a(c)}).catch(()=>{a(xS)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new JI().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{i(this.auth).then(l=>{if(!n&&sv(window.grecaptcha))r(l,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let u=$I();u.length!==0&&(u+=l),wS(u).then(()=>{r(l,s,a)}).catch(c=>{a(c)})}}).catch(l=>{a(l)})})}}async function hv(t,e,n,i=!1,r=!1){const s=new tD(t);let a;if(r)a=xS;else try{a=await s.verify(n)}catch{a=await s.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const u=l.phoneEnrollmentInfo.phoneNumber,c=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const u=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return i?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function fv(t,e,n,i,r){var s;if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await hv(t,e,n,n==="getOobCode");return i(t,a)}else return i(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await hv(t,e,n,n==="getOobCode");return i(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(t,e){const n=Sp(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(Lr(s,e??{}))return r;hn(r,"already-initialized")}return n.initialize({options:e})}function iD(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Fn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function rD(t,e,n){const i=ga(t);K(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,s=RS(e),{host:a,port:l}=sD(e),u=l===null?"":`:${l}`,c={url:`${s}//${a}${u}/`},d=Object.freeze({host:a,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){K(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),K(Lr(c,i.config.emulator)&&Lr(d,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=c,i.emulatorConfig=d,i.settings.appVerificationDisabledForTesting=!0,ma(a)?(eS(`${s}//${a}${u}`),tS("Auth",!0)):aD()}function RS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function sD(t){const e=RS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:dv(i.substr(s.length+1))}}else{const[s,a]=i.split(":");return{host:s,port:dv(a)}}}function dv(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function aD(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Hn("not implemented")}_getIdTokenResponse(e){return Hn("not implemented")}_linkToIdToken(e,n){return Hn("not implemented")}_getReauthenticationResolver(e){return Hn("not implemented")}}async function oD(t,e){return ur(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lD(t,e){return Zc(t,"POST","/v1/accounts:signInWithPassword",Qr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uD(t,e){return Zc(t,"POST","/v1/accounts:signInWithEmailLink",Qr(t,e))}async function cD(t,e){return Zc(t,"POST","/v1/accounts:signInWithEmailLink",Qr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho extends Cp{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new Ho(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Ho(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fv(e,n,"signInWithPassword",lD);case"emailLink":return uD(e,{email:this._email,oobCode:this._password});default:hn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fv(e,i,"signUpPassword",oD);case"emailLink":return cD(e,{idToken:n,email:this._email,oobCode:this._password});default:hn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ms(t,e){return Zc(t,"POST","/v1/accounts:signInWithIdp",Qr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD="http://localhost";class Ur extends Cp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ur(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):hn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r,...s}=n;if(!i||!r)return null;const a=new Ur(i,r);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Ms(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Ms(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ms(e,n)}buildRequest(){const e={requestUri:hD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=yl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fD(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function dD(t){const e=Za(eo(t)).link,n=e?Za(eo(e)).deep_link_id:null,i=Za(eo(t)).deep_link_id;return(i?Za(eo(i)).link:null)||i||n||e||t}class Np{constructor(e){const n=Za(eo(e)),i=n.apiKey??null,r=n.oobCode??null,s=fD(n.mode??null);K(i&&r&&s,"argument-error"),this.apiKey=i,this.operation=s,this.code=r,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=dD(e);try{return new Np(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(){this.providerId=ya.PROVIDER_ID}static credential(e,n){return Ho._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Np.parseLink(n);return K(i,"argument-error"),Ho._fromEmailAndCode(e,i.code,i.tenantId)}}ya.PROVIDER_ID="password";ya.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ya.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl extends CS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si extends vl{constructor(){super("facebook.com")}static credential(e){return Ur._fromParams({providerId:Si.PROVIDER_ID,signInMethod:Si.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Si.credentialFromTaggedObject(e)}static credentialFromError(e){return Si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Si.credential(e.oauthAccessToken)}catch{return null}}}Si.FACEBOOK_SIGN_IN_METHOD="facebook.com";Si.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends vl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ur._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ai.credentialFromTaggedObject(e)}static credentialFromError(e){return Ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Ai.credential(n,i)}catch{return null}}}Ai.GOOGLE_SIGN_IN_METHOD="google.com";Ai.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi extends vl{constructor(){super("github.com")}static credential(e){return Ur._fromParams({providerId:wi.PROVIDER_ID,signInMethod:wi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wi.credentialFromTaggedObject(e)}static credentialFromError(e){return wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wi.credential(e.oauthAccessToken)}catch{return null}}}wi.GITHUB_SIGN_IN_METHOD="github.com";wi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends vl{constructor(){super("twitter.com")}static credential(e,n){return Ur._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return xi.credential(n,i)}catch{return null}}}xi.TWITTER_SIGN_IN_METHOD="twitter.com";xi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const s=await ln._fromIdTokenResponse(e,i,r),a=mv(i);return new $s({user:s,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=mv(i);return new $s({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function mv(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc extends oi{constructor(e,n,i,r){super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,gc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new gc(e,n,i,r)}}function NS(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?gc._fromErrorAndOperation(t,s,e,i):s})}async function mD(t,e,n=!1){const i=await qo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return $s._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pD(t,e,n=!1){const{auth:i}=t;if(on(i.app))return Promise.reject(Gi(i));const r="reauthenticate";try{const s=await qo(t,NS(i,r,e,t),n);K(s.idToken,i,"internal-error");const a=xp(s.idToken);K(a,i,"internal-error");const{sub:l}=a;return K(t.uid===l,i,"user-mismatch"),$s._forOperation(t,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&hn(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IS(t,e,n=!1){if(on(t.app))return Promise.reject(Gi(t));const i="signIn",r=await NS(t,i,e),s=await $s._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(s.user),s}async function gD(t,e){return IS(ga(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yD(t){const e=ga(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function _D(t,e,n){return on(t.app)?Promise.reject(Gi(t)):gD(Je(t),ya.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&yD(t),i})}function vD(t,e,n,i){return Je(t).onIdTokenChanged(e,n,i)}function ED(t,e,n){return Je(t).beforeAuthStateChanged(e,n)}function TD(t,e,n,i){return Je(t).onAuthStateChanged(e,n,i)}function Qd(t){return Je(t).signOut()}const yc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(yc,"1"),this.storage.removeItem(yc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD=1e3,SD=10;class OS extends DS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=SS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});return}const i=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);qI()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,SD):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},bD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}OS.type="LOCAL";const AD=OS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS extends DS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}MS.type="SESSION";const VS=MS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new th(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:s}=n.data,a=this.handlersMap[r];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const l=Array.from(a).map(async c=>c(n.origin,s)),u=await wD(l);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}th.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,a;return new Promise((l,u)=>{const c=Ip("",20);r.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},i);a={messageChannel:r,onMessage(g){const p=g;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(p.data.response);break;default:clearTimeout(d),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(){return window}function RD(t){Sn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(){return typeof Sn().WorkerGlobalScope<"u"&&typeof Sn().importScripts=="function"}async function CD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ND(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function ID(){return jS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS="firebaseLocalStorageDb",DD=1,_c="firebaseLocalStorage",LS="fbase_key";class El{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function nh(t,e){return t.transaction([_c],e?"readwrite":"readonly").objectStore(_c)}function OD(){const t=indexedDB.deleteDatabase(kS);return new El(t).toPromise()}function $d(){const t=indexedDB.open(kS,DD);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(_c,{keyPath:LS})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(_c)?e(i):(i.close(),await OD(),e(await $d()))})})}async function pv(t,e,n){const i=nh(t,!0).put({[LS]:e,value:n});return new El(i).toPromise()}async function MD(t,e){const n=nh(t,!1).get(e),i=await new El(n).toPromise();return i===void 0?null:i.value}function gv(t,e){const n=nh(t,!0).delete(e);return new El(n).toPromise()}const VD=800,jD=3;class PS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $d(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>jD)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return jS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=th._getInstance(ID()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,i;if(this.activeServiceWorker=await CD(),!this.activeServiceWorker)return;this.sender=new xD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(i=e[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ND()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await $d();return await pv(e,yc,"1"),await gv(e,yc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>pv(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>MD(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>gv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=nh(r,!1).getAll();return new El(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:s}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),VD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}PS.type="LOCAL";const kD=PS;new _l(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LD(t,e){return e?Fn(e):(K(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp extends Cp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ms(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ms(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ms(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function PD(t){return IS(t.auth,new Dp(t),t.bypassAuthState)}function UD(t){const{auth:e,user:n}=t;return K(n,e,"internal-error"),pD(n,new Dp(t),t.bypassAuthState)}async function zD(t){const{auth:e,user:n}=t;return K(n,e,"internal-error"),mD(n,new Dp(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e,n,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:a,type:l}=e;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return PD;case"linkViaPopup":case"linkViaRedirect":return zD;case"reauthViaPopup":case"reauthViaRedirect":return UD;default:hn(this.auth,"internal-error")}}resolve(e){ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD=new _l(2e3,1e4);class Ss extends US{constructor(e,n,i,r,s){super(e,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,Ss.currentPopupAction&&Ss.currentPopupAction.cancel(),Ss.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return K(e,this.auth,"internal-error"),e}async onExecution(){ii(this.filter.length===1,"Popup operations only handle one event");const e=Ip();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(bn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(bn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ss.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if((i=(n=this.authWindow)==null?void 0:n.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,BD.get())};e()}}Ss.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD="pendingRedirect",Ru=new Map;class HD extends US{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Ru.get(this.auth._key());if(!e){try{const i=await FD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Ru.set(this.auth._key(),e)}return this.bypassAuthState||Ru.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function FD(t,e){const n=YD(e),i=KD(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function GD(t,e){Ru.set(t._key(),e)}function KD(t){return Fn(t._redirectPersistence)}function YD(t){return xu(qD,t.config.apiKey,t.name)}async function QD(t,e,n=!1){if(on(t.app))return Promise.reject(Gi(t));const i=ga(t),r=LD(i,e),a=await new HD(i,r,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D=10*60*1e3;class XD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!WD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!zS(e)){const r=((i=e.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";n.onError(bn(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$D&&this.cachedEventUids.clear(),this.cachedEventUids.has(yv(e))}saveEventToCache(e){this.cachedEventUids.add(yv(e)),this.lastProcessedEventTime=Date.now()}}function yv(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function zS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function WD(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JD(t,e={}){return ur(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eO=/^https?/;async function tO(t){if(t.config.emulator)return;const{authorizedDomains:e}=await JD(t);for(const n of e)try{if(nO(n))return}catch{}hn(t,"unauthorized-domain")}function nO(t){const e=Kd(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!eO.test(n))return!1;if(ZD.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO=new _l(3e4,6e4);function _v(){const t=Sn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function rO(t){return new Promise((e,n)=>{var r,s,a;function i(){_v(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_v(),n(bn(t,"network-request-failed"))},timeout:iO.get()})}if((s=(r=Sn().gapi)==null?void 0:r.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((a=Sn().gapi)!=null&&a.load)i();else{const l=WI("iframefcb");return Sn()[l]=()=>{gapi.load?i():n(bn(t,"network-request-failed"))},wS(`${XI()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw Cu=null,e})}let Cu=null;function sO(t){return Cu=Cu||rO(t),Cu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO=new _l(5e3,15e3),oO="__/auth/iframe",lO="emulator/auth/iframe",uO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hO(t){const e=t.config;K(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?wp(e,lO):`https://${t.config.authDomain}/${oO}`,i={apiKey:e.apiKey,appName:t.name,v:pa},r=cO.get(t.config.apiHost);r&&(i.eid=r);const s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${yl(i).slice(1)}`}async function fO(t){const e=await sO(t),n=Sn().gapi;return K(n,t,"internal-error"),e.open({where:document.body,url:hO(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uO,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const a=bn(t,"network-request-failed"),l=Sn().setTimeout(()=>{s(a)},aO.get());function u(){Sn().clearTimeout(l),r(i)}i.ping(u).then(u,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mO=500,pO=600,gO="_blank",yO="http://localhost";class vv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _O(t,e,n,i=mO,r=pO){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const u={...dO,width:i.toString(),height:r.toString(),top:s,left:a},c=yt().toLowerCase();n&&(l=_S(c)?gO:n),gS(c)&&(e=e||yO,u.scrollbars="yes");const d=Object.entries(u).reduce((p,[y,C])=>`${p}${y}=${C},`,"");if(BI(c)&&l!=="_self")return vO(e||"",l),new vv(null);const g=window.open(e||"",l,d);K(g,t,"popup-blocked");try{g.focus()}catch{}return new vv(g)}function vO(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO="__/auth/handler",TO="emulator/auth/handler",bO=encodeURIComponent("fac");async function Ev(t,e,n,i,r,s){K(t.config.authDomain,t,"auth-domain-config-required"),K(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:pa,eventId:r};if(e instanceof CS){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",o2(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,g]of Object.entries({}))a[d]=g}if(e instanceof vl){const d=e.getScopes().filter(g=>g!=="");d.length>0&&(a.scopes=d.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const u=await t._getAppCheckToken(),c=u?`#${bO}=${encodeURIComponent(u)}`:"";return`${SO(t)}?${yl(l).slice(1)}${c}`}function SO({config:t}){return t.emulator?wp(t,TO):`https://${t.authDomain}/${EO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kf="webStorageSupport";class AO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=VS,this._completeRedirectFn=QD,this._overrideRedirectResult=GD}async _openPopup(e,n,i,r){var a;ii((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await Ev(e,n,i,Kd(),r);return _O(e,s,Ip())}async _openRedirect(e,n,i,r){await this._originValidation(e);const s=await Ev(e,n,i,Kd(),r);return RD(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(ii(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await fO(e),i=new XD(e);return n.register("authEvent",r=>(K(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(kf,{type:kf},r=>{var a;const s=(a=r==null?void 0:r[0])==null?void 0:a[kf];s!==void 0&&n(!!s),hn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=tO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return SS()||yS()||Rp()}}const wO=AO;var Tv="@firebase/auth",bv="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function CO(t){Qs(new Pr("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=i.options;K(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:AS(t)},c=new YI(i,r,s,u);return iD(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Qs(new Pr("auth-internal",e=>{const n=ga(e.getProvider("auth").getImmediate());return(i=>new xO(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fi(Tv,bv,RO(t)),Fi(Tv,bv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO=5*60,IO=Zb("authIdTokenMaxAge")||NO;let Sv=null;const DO=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>IO)return;const r=n==null?void 0:n.token;Sv!==r&&(Sv=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function OO(t=sS()){const e=Sp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=nD(t,{popupRedirectResolver:wO,persistence:[kD,AD,VS]}),i=Zb("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const a=DO(s.toString());ED(n,a,()=>a(n.currentUser)),vD(n,l=>a(l))}}const r=Wb("auth");return r&&rD(n,`http://${r}`),n}function MO(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}QI({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const s=bn("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",MO().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});CO("Browser");var Av=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ki,BS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,E){function S(){}S.prototype=E.prototype,b.F=E.prototype,b.prototype=new S,b.prototype.constructor=b,b.D=function(x,R,N){for(var w=Array(arguments.length-2),ft=2;ft<arguments.length;ft++)w[ft-2]=arguments[ft];return E.prototype[R].apply(x,w)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(b,E,S){S||(S=0);const x=Array(16);if(typeof E=="string")for(var R=0;R<16;++R)x[R]=E.charCodeAt(S++)|E.charCodeAt(S++)<<8|E.charCodeAt(S++)<<16|E.charCodeAt(S++)<<24;else for(R=0;R<16;++R)x[R]=E[S++]|E[S++]<<8|E[S++]<<16|E[S++]<<24;E=b.g[0],S=b.g[1],R=b.g[2];let N=b.g[3],w;w=E+(N^S&(R^N))+x[0]+3614090360&4294967295,E=S+(w<<7&4294967295|w>>>25),w=N+(R^E&(S^R))+x[1]+3905402710&4294967295,N=E+(w<<12&4294967295|w>>>20),w=R+(S^N&(E^S))+x[2]+606105819&4294967295,R=N+(w<<17&4294967295|w>>>15),w=S+(E^R&(N^E))+x[3]+3250441966&4294967295,S=R+(w<<22&4294967295|w>>>10),w=E+(N^S&(R^N))+x[4]+4118548399&4294967295,E=S+(w<<7&4294967295|w>>>25),w=N+(R^E&(S^R))+x[5]+1200080426&4294967295,N=E+(w<<12&4294967295|w>>>20),w=R+(S^N&(E^S))+x[6]+2821735955&4294967295,R=N+(w<<17&4294967295|w>>>15),w=S+(E^R&(N^E))+x[7]+4249261313&4294967295,S=R+(w<<22&4294967295|w>>>10),w=E+(N^S&(R^N))+x[8]+1770035416&4294967295,E=S+(w<<7&4294967295|w>>>25),w=N+(R^E&(S^R))+x[9]+2336552879&4294967295,N=E+(w<<12&4294967295|w>>>20),w=R+(S^N&(E^S))+x[10]+4294925233&4294967295,R=N+(w<<17&4294967295|w>>>15),w=S+(E^R&(N^E))+x[11]+2304563134&4294967295,S=R+(w<<22&4294967295|w>>>10),w=E+(N^S&(R^N))+x[12]+1804603682&4294967295,E=S+(w<<7&4294967295|w>>>25),w=N+(R^E&(S^R))+x[13]+4254626195&4294967295,N=E+(w<<12&4294967295|w>>>20),w=R+(S^N&(E^S))+x[14]+2792965006&4294967295,R=N+(w<<17&4294967295|w>>>15),w=S+(E^R&(N^E))+x[15]+1236535329&4294967295,S=R+(w<<22&4294967295|w>>>10),w=E+(R^N&(S^R))+x[1]+4129170786&4294967295,E=S+(w<<5&4294967295|w>>>27),w=N+(S^R&(E^S))+x[6]+3225465664&4294967295,N=E+(w<<9&4294967295|w>>>23),w=R+(E^S&(N^E))+x[11]+643717713&4294967295,R=N+(w<<14&4294967295|w>>>18),w=S+(N^E&(R^N))+x[0]+3921069994&4294967295,S=R+(w<<20&4294967295|w>>>12),w=E+(R^N&(S^R))+x[5]+3593408605&4294967295,E=S+(w<<5&4294967295|w>>>27),w=N+(S^R&(E^S))+x[10]+38016083&4294967295,N=E+(w<<9&4294967295|w>>>23),w=R+(E^S&(N^E))+x[15]+3634488961&4294967295,R=N+(w<<14&4294967295|w>>>18),w=S+(N^E&(R^N))+x[4]+3889429448&4294967295,S=R+(w<<20&4294967295|w>>>12),w=E+(R^N&(S^R))+x[9]+568446438&4294967295,E=S+(w<<5&4294967295|w>>>27),w=N+(S^R&(E^S))+x[14]+3275163606&4294967295,N=E+(w<<9&4294967295|w>>>23),w=R+(E^S&(N^E))+x[3]+4107603335&4294967295,R=N+(w<<14&4294967295|w>>>18),w=S+(N^E&(R^N))+x[8]+1163531501&4294967295,S=R+(w<<20&4294967295|w>>>12),w=E+(R^N&(S^R))+x[13]+2850285829&4294967295,E=S+(w<<5&4294967295|w>>>27),w=N+(S^R&(E^S))+x[2]+4243563512&4294967295,N=E+(w<<9&4294967295|w>>>23),w=R+(E^S&(N^E))+x[7]+1735328473&4294967295,R=N+(w<<14&4294967295|w>>>18),w=S+(N^E&(R^N))+x[12]+2368359562&4294967295,S=R+(w<<20&4294967295|w>>>12),w=E+(S^R^N)+x[5]+4294588738&4294967295,E=S+(w<<4&4294967295|w>>>28),w=N+(E^S^R)+x[8]+2272392833&4294967295,N=E+(w<<11&4294967295|w>>>21),w=R+(N^E^S)+x[11]+1839030562&4294967295,R=N+(w<<16&4294967295|w>>>16),w=S+(R^N^E)+x[14]+4259657740&4294967295,S=R+(w<<23&4294967295|w>>>9),w=E+(S^R^N)+x[1]+2763975236&4294967295,E=S+(w<<4&4294967295|w>>>28),w=N+(E^S^R)+x[4]+1272893353&4294967295,N=E+(w<<11&4294967295|w>>>21),w=R+(N^E^S)+x[7]+4139469664&4294967295,R=N+(w<<16&4294967295|w>>>16),w=S+(R^N^E)+x[10]+3200236656&4294967295,S=R+(w<<23&4294967295|w>>>9),w=E+(S^R^N)+x[13]+681279174&4294967295,E=S+(w<<4&4294967295|w>>>28),w=N+(E^S^R)+x[0]+3936430074&4294967295,N=E+(w<<11&4294967295|w>>>21),w=R+(N^E^S)+x[3]+3572445317&4294967295,R=N+(w<<16&4294967295|w>>>16),w=S+(R^N^E)+x[6]+76029189&4294967295,S=R+(w<<23&4294967295|w>>>9),w=E+(S^R^N)+x[9]+3654602809&4294967295,E=S+(w<<4&4294967295|w>>>28),w=N+(E^S^R)+x[12]+3873151461&4294967295,N=E+(w<<11&4294967295|w>>>21),w=R+(N^E^S)+x[15]+530742520&4294967295,R=N+(w<<16&4294967295|w>>>16),w=S+(R^N^E)+x[2]+3299628645&4294967295,S=R+(w<<23&4294967295|w>>>9),w=E+(R^(S|~N))+x[0]+4096336452&4294967295,E=S+(w<<6&4294967295|w>>>26),w=N+(S^(E|~R))+x[7]+1126891415&4294967295,N=E+(w<<10&4294967295|w>>>22),w=R+(E^(N|~S))+x[14]+2878612391&4294967295,R=N+(w<<15&4294967295|w>>>17),w=S+(N^(R|~E))+x[5]+4237533241&4294967295,S=R+(w<<21&4294967295|w>>>11),w=E+(R^(S|~N))+x[12]+1700485571&4294967295,E=S+(w<<6&4294967295|w>>>26),w=N+(S^(E|~R))+x[3]+2399980690&4294967295,N=E+(w<<10&4294967295|w>>>22),w=R+(E^(N|~S))+x[10]+4293915773&4294967295,R=N+(w<<15&4294967295|w>>>17),w=S+(N^(R|~E))+x[1]+2240044497&4294967295,S=R+(w<<21&4294967295|w>>>11),w=E+(R^(S|~N))+x[8]+1873313359&4294967295,E=S+(w<<6&4294967295|w>>>26),w=N+(S^(E|~R))+x[15]+4264355552&4294967295,N=E+(w<<10&4294967295|w>>>22),w=R+(E^(N|~S))+x[6]+2734768916&4294967295,R=N+(w<<15&4294967295|w>>>17),w=S+(N^(R|~E))+x[13]+1309151649&4294967295,S=R+(w<<21&4294967295|w>>>11),w=E+(R^(S|~N))+x[4]+4149444226&4294967295,E=S+(w<<6&4294967295|w>>>26),w=N+(S^(E|~R))+x[11]+3174756917&4294967295,N=E+(w<<10&4294967295|w>>>22),w=R+(E^(N|~S))+x[2]+718787259&4294967295,R=N+(w<<15&4294967295|w>>>17),w=S+(N^(R|~E))+x[9]+3951481745&4294967295,b.g[0]=b.g[0]+E&4294967295,b.g[1]=b.g[1]+(R+(w<<21&4294967295|w>>>11))&4294967295,b.g[2]=b.g[2]+R&4294967295,b.g[3]=b.g[3]+N&4294967295}i.prototype.v=function(b,E){E===void 0&&(E=b.length);const S=E-this.blockSize,x=this.C;let R=this.h,N=0;for(;N<E;){if(R==0)for(;N<=S;)r(this,b,N),N+=this.blockSize;if(typeof b=="string"){for(;N<E;)if(x[R++]=b.charCodeAt(N++),R==this.blockSize){r(this,x),R=0;break}}else for(;N<E;)if(x[R++]=b[N++],R==this.blockSize){r(this,x),R=0;break}}this.h=R,this.o+=E},i.prototype.A=function(){var b=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);b[0]=128;for(var E=1;E<b.length-8;++E)b[E]=0;E=this.o*8;for(var S=b.length-8;S<b.length;++S)b[S]=E&255,E/=256;for(this.v(b),b=Array(16),E=0,S=0;S<4;++S)for(let x=0;x<32;x+=8)b[E++]=this.g[S]>>>x&255;return b};function s(b,E){var S=l;return Object.prototype.hasOwnProperty.call(S,b)?S[b]:S[b]=E(b)}function a(b,E){this.h=E;const S=[];let x=!0;for(let R=b.length-1;R>=0;R--){const N=b[R]|0;x&&N==E||(S[R]=N,x=!1)}this.g=S}var l={};function u(b){return-128<=b&&b<128?s(b,function(E){return new a([E|0],E<0?-1:0)}):new a([b|0],b<0?-1:0)}function c(b){if(isNaN(b)||!isFinite(b))return g;if(b<0)return I(c(-b));const E=[];let S=1;for(let x=0;b>=S;x++)E[x]=b/S|0,S*=4294967296;return new a(E,0)}function d(b,E){if(b.length==0)throw Error("number format error: empty string");if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(b.charAt(0)=="-")return I(d(b.substring(1),E));if(b.indexOf("-")>=0)throw Error('number format error: interior "-" character');const S=c(Math.pow(E,8));let x=g;for(let N=0;N<b.length;N+=8){var R=Math.min(8,b.length-N);const w=parseInt(b.substring(N,N+R),E);R<8?(R=c(Math.pow(E,R)),x=x.j(R).add(c(w))):(x=x.j(S),x=x.add(c(w)))}return x}var g=u(0),p=u(1),y=u(16777216);t=a.prototype,t.m=function(){if(D(this))return-I(this).m();let b=0,E=1;for(let S=0;S<this.g.length;S++){const x=this.i(S);b+=(x>=0?x:4294967296+x)*E,E*=4294967296}return b},t.toString=function(b){if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(C(this))return"0";if(D(this))return"-"+I(this).toString(b);const E=c(Math.pow(b,6));var S=this;let x="";for(;;){const R=V(S,E).g;S=T(S,R.j(E));let N=((S.g.length>0?S.g[0]:S.h)>>>0).toString(b);if(S=R,C(S))return N+x;for(;N.length<6;)N="0"+N;x=N+x}},t.i=function(b){return b<0?0:b<this.g.length?this.g[b]:this.h};function C(b){if(b.h!=0)return!1;for(let E=0;E<b.g.length;E++)if(b.g[E]!=0)return!1;return!0}function D(b){return b.h==-1}t.l=function(b){return b=T(this,b),D(b)?-1:C(b)?0:1};function I(b){const E=b.g.length,S=[];for(let x=0;x<E;x++)S[x]=~b.g[x];return new a(S,~b.h).add(p)}t.abs=function(){return D(this)?I(this):this},t.add=function(b){const E=Math.max(this.g.length,b.g.length),S=[];let x=0;for(let R=0;R<=E;R++){let N=x+(this.i(R)&65535)+(b.i(R)&65535),w=(N>>>16)+(this.i(R)>>>16)+(b.i(R)>>>16);x=w>>>16,N&=65535,w&=65535,S[R]=w<<16|N}return new a(S,S[S.length-1]&-2147483648?-1:0)};function T(b,E){return b.add(I(E))}t.j=function(b){if(C(this)||C(b))return g;if(D(this))return D(b)?I(this).j(I(b)):I(I(this).j(b));if(D(b))return I(this.j(I(b)));if(this.l(y)<0&&b.l(y)<0)return c(this.m()*b.m());const E=this.g.length+b.g.length,S=[];for(var x=0;x<2*E;x++)S[x]=0;for(x=0;x<this.g.length;x++)for(let R=0;R<b.g.length;R++){const N=this.i(x)>>>16,w=this.i(x)&65535,ft=b.i(R)>>>16,rn=b.i(R)&65535;S[2*x+2*R]+=w*rn,v(S,2*x+2*R),S[2*x+2*R+1]+=N*rn,v(S,2*x+2*R+1),S[2*x+2*R+1]+=w*ft,v(S,2*x+2*R+1),S[2*x+2*R+2]+=N*ft,v(S,2*x+2*R+2)}for(b=0;b<E;b++)S[b]=S[2*b+1]<<16|S[2*b];for(b=E;b<2*E;b++)S[b]=0;return new a(S,0)};function v(b,E){for(;(b[E]&65535)!=b[E];)b[E+1]+=b[E]>>>16,b[E]&=65535,E++}function A(b,E){this.g=b,this.h=E}function V(b,E){if(C(E))throw Error("division by zero");if(C(b))return new A(g,g);if(D(b))return E=V(I(b),E),new A(I(E.g),I(E.h));if(D(E))return E=V(b,I(E)),new A(I(E.g),E.h);if(b.g.length>30){if(D(b)||D(E))throw Error("slowDivide_ only works with positive integers.");for(var S=p,x=E;x.l(b)<=0;)S=U(S),x=U(x);var R=F(S,1),N=F(x,1);for(x=F(x,2),S=F(S,2);!C(x);){var w=N.add(x);w.l(b)<=0&&(R=R.add(S),N=w),x=F(x,1),S=F(S,1)}return E=T(b,R.j(E)),new A(R,E)}for(R=g;b.l(E)>=0;){for(S=Math.max(1,Math.floor(b.m()/E.m())),x=Math.ceil(Math.log(S)/Math.LN2),x=x<=48?1:Math.pow(2,x-48),N=c(S),w=N.j(E);D(w)||w.l(b)>0;)S-=x,N=c(S),w=N.j(E);C(N)&&(N=p),R=R.add(N),b=T(b,w)}return new A(R,b)}t.B=function(b){return V(this,b).h},t.and=function(b){const E=Math.max(this.g.length,b.g.length),S=[];for(let x=0;x<E;x++)S[x]=this.i(x)&b.i(x);return new a(S,this.h&b.h)},t.or=function(b){const E=Math.max(this.g.length,b.g.length),S=[];for(let x=0;x<E;x++)S[x]=this.i(x)|b.i(x);return new a(S,this.h|b.h)},t.xor=function(b){const E=Math.max(this.g.length,b.g.length),S=[];for(let x=0;x<E;x++)S[x]=this.i(x)^b.i(x);return new a(S,this.h^b.h)};function U(b){const E=b.g.length+1,S=[];for(let x=0;x<E;x++)S[x]=b.i(x)<<1|b.i(x-1)>>>31;return new a(S,b.h)}function F(b,E){const S=E>>5;E%=32;const x=b.g.length-S,R=[];for(let N=0;N<x;N++)R[N]=E>0?b.i(N+S)>>>E|b.i(N+S+1)<<32-E:b.i(N+S);return new a(R,b.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,BS=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=d,Ki=a}).apply(typeof Av<"u"?Av:typeof self<"u"?self:typeof window<"u"?window:{});var iu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qS,to,HS,Nu,Xd,FS,GS,KS;(function(){var t,e=Object.defineProperty;function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof iu=="object"&&iu];for(var f=0;f<o.length;++f){var m=o[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var i=n(this);function r(o,f){if(f)e:{var m=i;o=o.split(".");for(var _=0;_<o.length-1;_++){var O=o[_];if(!(O in m))break e;m=m[O]}o=o[o.length-1],_=m[o],f=f(_),f!=_&&f!=null&&e(m,o,{configurable:!0,writable:!0,value:f})}}r("Symbol.dispose",function(o){return o||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(o){return o||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(o){return o||function(f){var m=[],_;for(_ in f)Object.prototype.hasOwnProperty.call(f,_)&&m.push([_,f[_]]);return m}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(o){var f=typeof o;return f=="object"&&o!=null||f=="function"}function u(o,f,m){return o.call.apply(o.bind,arguments)}function c(o,f,m){return c=u,c.apply(null,arguments)}function d(o,f){var m=Array.prototype.slice.call(arguments,1);return function(){var _=m.slice();return _.push.apply(_,arguments),o.apply(this,_)}}function g(o,f){function m(){}m.prototype=f.prototype,o.Z=f.prototype,o.prototype=new m,o.prototype.constructor=o,o.Ob=function(_,O,j){for(var z=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)z[ee-2]=arguments[ee];return f.prototype[O].apply(_,z)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?o=>o&&AsyncContext.Snapshot.wrap(o):o=>o;function y(o){const f=o.length;if(f>0){const m=Array(f);for(let _=0;_<f;_++)m[_]=o[_];return m}return[]}function C(o,f){for(let _=1;_<arguments.length;_++){const O=arguments[_];var m=typeof O;if(m=m!="object"?m:O?Array.isArray(O)?"array":m:"null",m=="array"||m=="object"&&typeof O.length=="number"){m=o.length||0;const j=O.length||0;o.length=m+j;for(let z=0;z<j;z++)o[m+z]=O[z]}else o.push(O)}}class D{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return this.h>0?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function I(o){a.setTimeout(()=>{throw o},0)}function T(){var o=b;let f=null;return o.g&&(f=o.g,o.g=o.g.next,o.g||(o.h=null),f.next=null),f}class v{constructor(){this.h=this.g=null}add(f,m){const _=A.get();_.set(f,m),this.h?this.h.next=_:this.g=_,this.h=_}}var A=new D(()=>new V,o=>o.reset());class V{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let U,F=!1,b=new v,E=()=>{const o=Promise.resolve(void 0);U=()=>{o.then(S)}};function S(){for(var o;o=T();){try{o.h.call(o.g)}catch(m){I(m)}var f=A;f.j(o),f.h<100&&(f.h++,o.next=f.g,f.g=o)}F=!1}function x(){this.u=this.u,this.C=this.C}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(o,f){this.type=o,this.g=this.target=f,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var N=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var o=!1,f=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const m=()=>{};a.addEventListener("test",m,f),a.removeEventListener("test",m,f)}catch{}return o}();function w(o){return/^[\s\xa0]*$/.test(o)}function ft(o,f){R.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o&&this.init(o,f)}g(ft,R),ft.prototype.init=function(o,f){const m=this.type=o.type,_=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;this.target=o.target||o.srcElement,this.g=f,f=o.relatedTarget,f||(m=="mouseover"?f=o.fromElement:m=="mouseout"&&(f=o.toElement)),this.relatedTarget=f,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=o.pointerType,this.state=o.state,this.i=o,o.defaultPrevented&&ft.Z.h.call(this)},ft.prototype.h=function(){ft.Z.h.call(this);const o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var rn="closure_listenable_"+(Math.random()*1e6|0),q=0;function te(o,f,m,_,O){this.listener=o,this.proxy=null,this.src=f,this.type=m,this.capture=!!_,this.ha=O,this.key=++q,this.da=this.fa=!1}function W(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function Ee(o,f,m){for(const _ in o)f.call(m,o[_],_,o)}function Pe(o,f){for(const m in o)f.call(void 0,o[m],m,o)}function fr(o){const f={};for(const m in o)f[m]=o[m];return f}const dr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Jr(o,f){let m,_;for(let O=1;O<arguments.length;O++){_=arguments[O];for(m in _)o[m]=_[m];for(let j=0;j<dr.length;j++)m=dr[j],Object.prototype.hasOwnProperty.call(_,m)&&(o[m]=_[m])}}function Ft(o){this.src=o,this.g={},this.h=0}Ft.prototype.add=function(o,f,m,_,O){const j=o.toString();o=this.g[j],o||(o=this.g[j]=[],this.h++);const z=Eh(o,f,_,O);return z>-1?(f=o[z],m||(f.fa=!1)):(f=new te(f,this.src,j,!!_,O),f.fa=m,o.push(f)),f};function li(o,f){const m=f.type;if(m in o.g){var _=o.g[m],O=Array.prototype.indexOf.call(_,f,void 0),j;(j=O>=0)&&Array.prototype.splice.call(_,O,1),j&&(W(f),o.g[m].length==0&&(delete o.g[m],o.h--))}}function Eh(o,f,m,_){for(let O=0;O<o.length;++O){const j=o[O];if(!j.da&&j.listener==f&&j.capture==!!m&&j.ha==_)return O}return-1}var Th="closure_lm_"+(Math.random()*1e6|0),bh={};function mg(o,f,m,_,O){if(Array.isArray(f)){for(let j=0;j<f.length;j++)mg(o,f[j],m,_,O);return null}return m=yg(m),o&&o[rn]?o.J(f,m,l(_)?!!_.capture:!1,O):Iw(o,f,m,!1,_,O)}function Iw(o,f,m,_,O,j){if(!f)throw Error("Invalid event type");const z=l(O)?!!O.capture:!!O;let ee=Ah(o);if(ee||(o[Th]=ee=new Ft(o)),m=ee.add(f,m,_,z,j),m.proxy)return m;if(_=Dw(),m.proxy=_,_.src=o,_.listener=m,o.addEventListener)N||(O=z),O===void 0&&(O=!1),o.addEventListener(f.toString(),_,O);else if(o.attachEvent)o.attachEvent(gg(f.toString()),_);else if(o.addListener&&o.removeListener)o.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return m}function Dw(){function o(m){return f.call(o.src,o.listener,m)}const f=Ow;return o}function pg(o,f,m,_,O){if(Array.isArray(f))for(var j=0;j<f.length;j++)pg(o,f[j],m,_,O);else _=l(_)?!!_.capture:!!_,m=yg(m),o&&o[rn]?(o=o.i,j=String(f).toString(),j in o.g&&(f=o.g[j],m=Eh(f,m,_,O),m>-1&&(W(f[m]),Array.prototype.splice.call(f,m,1),f.length==0&&(delete o.g[j],o.h--)))):o&&(o=Ah(o))&&(f=o.g[f.toString()],o=-1,f&&(o=Eh(f,m,_,O)),(m=o>-1?f[o]:null)&&Sh(m))}function Sh(o){if(typeof o!="number"&&o&&!o.da){var f=o.src;if(f&&f[rn])li(f.i,o);else{var m=o.type,_=o.proxy;f.removeEventListener?f.removeEventListener(m,_,o.capture):f.detachEvent?f.detachEvent(gg(m),_):f.addListener&&f.removeListener&&f.removeListener(_),(m=Ah(f))?(li(m,o),m.h==0&&(m.src=null,f[Th]=null)):W(o)}}}function gg(o){return o in bh?bh[o]:bh[o]="on"+o}function Ow(o,f){if(o.da)o=!0;else{f=new ft(f,this);const m=o.listener,_=o.ha||o.src;o.fa&&Sh(o),o=m.call(_,f)}return o}function Ah(o){return o=o[Th],o instanceof Ft?o:null}var wh="__closure_events_fn_"+(Math.random()*1e9>>>0);function yg(o){return typeof o=="function"?o:(o[wh]||(o[wh]=function(f){return o.handleEvent(f)}),o[wh])}function dt(){x.call(this),this.i=new Ft(this),this.M=this,this.G=null}g(dt,x),dt.prototype[rn]=!0,dt.prototype.removeEventListener=function(o,f,m,_){pg(this,o,f,m,_)};function _t(o,f){var m,_=o.G;if(_)for(m=[];_;_=_.G)m.push(_);if(o=o.M,_=f.type||f,typeof f=="string")f=new R(f,o);else if(f instanceof R)f.target=f.target||o;else{var O=f;f=new R(_,o),Jr(f,O)}O=!0;let j,z;if(m)for(z=m.length-1;z>=0;z--)j=f.g=m[z],O=Rl(j,_,!0,f)&&O;if(j=f.g=o,O=Rl(j,_,!0,f)&&O,O=Rl(j,_,!1,f)&&O,m)for(z=0;z<m.length;z++)j=f.g=m[z],O=Rl(j,_,!1,f)&&O}dt.prototype.N=function(){if(dt.Z.N.call(this),this.i){var o=this.i;for(const f in o.g){const m=o.g[f];for(let _=0;_<m.length;_++)W(m[_]);delete o.g[f],o.h--}}this.G=null},dt.prototype.J=function(o,f,m,_){return this.i.add(String(o),f,!1,m,_)},dt.prototype.K=function(o,f,m,_){return this.i.add(String(o),f,!0,m,_)};function Rl(o,f,m,_){if(f=o.i.g[String(f)],!f)return!0;f=f.concat();let O=!0;for(let j=0;j<f.length;++j){const z=f[j];if(z&&!z.da&&z.capture==m){const ee=z.listener,Ye=z.ha||z.src;z.fa&&li(o.i,z),O=ee.call(Ye,_)!==!1&&O}}return O&&!_.defaultPrevented}function Mw(o,f){if(typeof o!="function")if(o&&typeof o.handleEvent=="function")o=c(o.handleEvent,o);else throw Error("Invalid listener argument");return Number(f)>2147483647?-1:a.setTimeout(o,f||0)}function _g(o){o.g=Mw(()=>{o.g=null,o.i&&(o.i=!1,_g(o))},o.l);const f=o.h;o.h=null,o.m.apply(null,f)}class Vw extends x{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:_g(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sa(o){x.call(this),this.h=o,this.g={}}g(Sa,x);var vg=[];function Eg(o){Ee(o.g,function(f,m){this.g.hasOwnProperty(m)&&Sh(f)},o),o.g={}}Sa.prototype.N=function(){Sa.Z.N.call(this),Eg(this)},Sa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xh=a.JSON.stringify,jw=a.JSON.parse,kw=class{stringify(o){return a.JSON.stringify(o,void 0)}parse(o){return a.JSON.parse(o,void 0)}};function Tg(){}function bg(){}var Aa={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Rh(){R.call(this,"d")}g(Rh,R);function Ch(){R.call(this,"c")}g(Ch,R);var mr={},Sg=null;function Cl(){return Sg=Sg||new dt}mr.Ia="serverreachability";function Ag(o){R.call(this,mr.Ia,o)}g(Ag,R);function wa(o){const f=Cl();_t(f,new Ag(f))}mr.STAT_EVENT="statevent";function wg(o,f){R.call(this,mr.STAT_EVENT,o),this.stat=f}g(wg,R);function vt(o){const f=Cl();_t(f,new wg(f,o))}mr.Ja="timingevent";function xg(o,f){R.call(this,mr.Ja,o),this.size=f}g(xg,R);function xa(o,f){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){o()},f)}function Ra(){this.g=!0}Ra.prototype.ua=function(){this.g=!1};function Lw(o,f,m,_,O,j){o.info(function(){if(o.g)if(j){var z="",ee=j.split("&");for(let _e=0;_e<ee.length;_e++){var Ye=ee[_e].split("=");if(Ye.length>1){const Ze=Ye[0];Ye=Ye[1];const pn=Ze.split("_");z=pn.length>=2&&pn[1]=="type"?z+(Ze+"="+Ye+"&"):z+(Ze+"=redacted&")}}}else z=null;else z=j;return"XMLHTTP REQ ("+_+") [attempt "+O+"]: "+f+`
`+m+`
`+z})}function Pw(o,f,m,_,O,j,z){o.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+O+"]: "+f+`
`+m+`
`+j+" "+z})}function Zr(o,f,m,_){o.info(function(){return"XMLHTTP TEXT ("+f+"): "+zw(o,m)+(_?" "+_:"")})}function Uw(o,f){o.info(function(){return"TIMEOUT: "+f})}Ra.prototype.info=function(){};function zw(o,f){if(!o.g)return f;if(!f)return null;try{const j=JSON.parse(f);if(j){for(o=0;o<j.length;o++)if(Array.isArray(j[o])){var m=j[o];if(!(m.length<2)){var _=m[1];if(Array.isArray(_)&&!(_.length<1)){var O=_[0];if(O!="noop"&&O!="stop"&&O!="close")for(let z=1;z<_.length;z++)_[z]=""}}}}return xh(j)}catch{return f}}var Nl={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Rg={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Cg;function Nh(){}g(Nh,Tg),Nh.prototype.g=function(){return new XMLHttpRequest},Cg=new Nh;function Ca(o){return encodeURIComponent(String(o))}function Bw(o){var f=1;o=o.split(":");const m=[];for(;f>0&&o.length;)m.push(o.shift()),f--;return o.length&&m.push(o.join(":")),m}function ui(o,f,m,_){this.j=o,this.i=f,this.l=m,this.S=_||1,this.V=new Sa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ng}function Ng(){this.i=null,this.g="",this.h=!1}var Ig={},Ih={};function Dh(o,f,m){o.M=1,o.A=Dl(mn(f)),o.u=m,o.R=!0,Dg(o,null)}function Dg(o,f){o.F=Date.now(),Il(o),o.B=mn(o.A);var m=o.B,_=o.S;Array.isArray(_)||(_=[String(_)]),Fg(m.i,"t",_),o.C=0,m=o.j.L,o.h=new Ng,o.g=ly(o.j,m?f:null,!o.u),o.P>0&&(o.O=new Vw(c(o.Y,o,o.g),o.P)),f=o.V,m=o.g,_=o.ba;var O="readystatechange";Array.isArray(O)||(O&&(vg[0]=O.toString()),O=vg);for(let j=0;j<O.length;j++){const z=mg(m,O[j],_||f.handleEvent,!1,f.h||f);if(!z)break;f.g[z.key]=z}f=o.J?fr(o.J):{},o.u?(o.v||(o.v="POST"),f["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.B,o.v,o.u,f)):(o.v="GET",o.g.ea(o.B,o.v,null,f)),wa(),Lw(o.i,o.v,o.B,o.l,o.S,o.u)}ui.prototype.ba=function(o){o=o.target;const f=this.O;f&&fi(o)==3?f.j():this.Y(o)},ui.prototype.Y=function(o){try{if(o==this.g)e:{const ee=fi(this.g),Ye=this.g.ya(),_e=this.g.ca();if(!(ee<3)&&(ee!=3||this.g&&(this.h.h||this.g.la()||Wg(this.g)))){this.K||ee!=4||Ye==7||(Ye==8||_e<=0?wa(3):wa(2)),Oh(this);var f=this.g.ca();this.X=f;var m=qw(this);if(this.o=f==200,Pw(this.i,this.v,this.B,this.l,this.S,ee,f),this.o){if(this.U&&!this.L){t:{if(this.g){var _,O=this.g;if((_=O.g?O.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(_)){var j=_;break t}}j=null}if(o=j)Zr(this.i,this.l,o,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Mh(this,o);else{this.o=!1,this.m=3,vt(12),pr(this),Na(this);break e}}if(this.R){o=!0;let Ze;for(;!this.K&&this.C<m.length;)if(Ze=Hw(this,m),Ze==Ih){ee==4&&(this.m=4,vt(14),o=!1),Zr(this.i,this.l,null,"[Incomplete Response]");break}else if(Ze==Ig){this.m=4,vt(15),Zr(this.i,this.l,m,"[Invalid Chunk]"),o=!1;break}else Zr(this.i,this.l,Ze,null),Mh(this,Ze);if(Og(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ee!=4||m.length!=0||this.h.h||(this.m=1,vt(16),o=!1),this.o=this.o&&o,!o)Zr(this.i,this.l,m,"[Invalid Chunked Response]"),pr(this),Na(this);else if(m.length>0&&!this.W){this.W=!0;var z=this.j;z.g==this&&z.aa&&!z.P&&(z.j.info("Great, no buffering proxy detected. Bytes received: "+m.length),Bh(z),z.P=!0,vt(11))}}else Zr(this.i,this.l,m,null),Mh(this,m);ee==4&&pr(this),this.o&&!this.K&&(ee==4?ry(this.j,this):(this.o=!1,Il(this)))}else ix(this.g),f==400&&m.indexOf("Unknown SID")>0?(this.m=3,vt(12)):(this.m=0,vt(13)),pr(this),Na(this)}}}catch{}finally{}};function qw(o){if(!Og(o))return o.g.la();const f=Wg(o.g);if(f==="")return"";let m="";const _=f.length,O=fi(o.g)==4;if(!o.h.i){if(typeof TextDecoder>"u")return pr(o),Na(o),"";o.h.i=new a.TextDecoder}for(let j=0;j<_;j++)o.h.h=!0,m+=o.h.i.decode(f[j],{stream:!(O&&j==_-1)});return f.length=0,o.h.g+=m,o.C=0,o.h.g}function Og(o){return o.g?o.v=="GET"&&o.M!=2&&o.j.Aa:!1}function Hw(o,f){var m=o.C,_=f.indexOf(`
`,m);return _==-1?Ih:(m=Number(f.substring(m,_)),isNaN(m)?Ig:(_+=1,_+m>f.length?Ih:(f=f.slice(_,_+m),o.C=_+m,f)))}ui.prototype.cancel=function(){this.K=!0,pr(this)};function Il(o){o.T=Date.now()+o.H,Mg(o,o.H)}function Mg(o,f){if(o.D!=null)throw Error("WatchDog timer not null");o.D=xa(c(o.aa,o),f)}function Oh(o){o.D&&(a.clearTimeout(o.D),o.D=null)}ui.prototype.aa=function(){this.D=null;const o=Date.now();o-this.T>=0?(Uw(this.i,this.B),this.M!=2&&(wa(),vt(17)),pr(this),this.m=2,Na(this)):Mg(this,this.T-o)};function Na(o){o.j.I==0||o.K||ry(o.j,o)}function pr(o){Oh(o);var f=o.O;f&&typeof f.dispose=="function"&&f.dispose(),o.O=null,Eg(o.V),o.g&&(f=o.g,o.g=null,f.abort(),f.dispose())}function Mh(o,f){try{var m=o.j;if(m.I!=0&&(m.g==o||Vh(m.h,o))){if(!o.L&&Vh(m.h,o)&&m.I==3){try{var _=m.Ba.g.parse(f)}catch{_=null}if(Array.isArray(_)&&_.length==3){var O=_;if(O[0]==0){e:if(!m.v){if(m.g)if(m.g.F+3e3<o.F)kl(m),Vl(m);else break e;zh(m),vt(18)}}else m.xa=O[1],0<m.xa-m.K&&O[2]<37500&&m.F&&m.A==0&&!m.C&&(m.C=xa(c(m.Va,m),6e3));kg(m.h)<=1&&m.ta&&(m.ta=void 0)}else yr(m,11)}else if((o.L||m.g==o)&&kl(m),!w(f))for(O=m.Ba.g.parse(f),f=0;f<O.length;f++){let _e=O[f];const Ze=_e[0];if(!(Ze<=m.K))if(m.K=Ze,_e=_e[1],m.I==2)if(_e[0]=="c"){m.M=_e[1],m.ba=_e[2];const pn=_e[3];pn!=null&&(m.ka=pn,m.j.info("VER="+m.ka));const _r=_e[4];_r!=null&&(m.za=_r,m.j.info("SVER="+m.za));const di=_e[5];di!=null&&typeof di=="number"&&di>0&&(_=1.5*di,m.O=_,m.j.info("backChannelRequestTimeoutMs_="+_)),_=m;const mi=o.g;if(mi){const Pl=mi.g?mi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pl){var j=_.h;j.g||Pl.indexOf("spdy")==-1&&Pl.indexOf("quic")==-1&&Pl.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(jh(j,j.h),j.h=null))}if(_.G){const qh=mi.g?mi.g.getResponseHeader("X-HTTP-Session-Id"):null;qh&&(_.wa=qh,Se(_.J,_.G,qh))}}m.I=3,m.l&&m.l.ra(),m.aa&&(m.T=Date.now()-o.F,m.j.info("Handshake RTT: "+m.T+"ms")),_=m;var z=o;if(_.na=oy(_,_.L?_.ba:null,_.W),z.L){Lg(_.h,z);var ee=z,Ye=_.O;Ye&&(ee.H=Ye),ee.D&&(Oh(ee),Il(ee)),_.g=z}else ny(_);m.i.length>0&&jl(m)}else _e[0]!="stop"&&_e[0]!="close"||yr(m,7);else m.I==3&&(_e[0]=="stop"||_e[0]=="close"?_e[0]=="stop"?yr(m,7):Uh(m):_e[0]!="noop"&&m.l&&m.l.qa(_e),m.A=0)}}wa(4)}catch{}}var Fw=class{constructor(o,f){this.g=o,this.map=f}};function Vg(o){this.l=o||10,a.PerformanceNavigationTiming?(o=a.performance.getEntriesByType("navigation"),o=o.length>0&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function jg(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function kg(o){return o.h?1:o.g?o.g.size:0}function Vh(o,f){return o.h?o.h==f:o.g?o.g.has(f):!1}function jh(o,f){o.g?o.g.add(f):o.h=f}function Lg(o,f){o.h&&o.h==f?o.h=null:o.g&&o.g.has(f)&&o.g.delete(f)}Vg.prototype.cancel=function(){if(this.i=Pg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Pg(o){if(o.h!=null)return o.i.concat(o.h.G);if(o.g!=null&&o.g.size!==0){let f=o.i;for(const m of o.g.values())f=f.concat(m.G);return f}return y(o.i)}var Ug=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gw(o,f){if(o){o=o.split("&");for(let m=0;m<o.length;m++){const _=o[m].indexOf("=");let O,j=null;_>=0?(O=o[m].substring(0,_),j=o[m].substring(_+1)):O=o[m],f(O,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function ci(o){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let f;o instanceof ci?(this.l=o.l,Ia(this,o.j),this.o=o.o,this.g=o.g,Da(this,o.u),this.h=o.h,kh(this,Gg(o.i)),this.m=o.m):o&&(f=String(o).match(Ug))?(this.l=!1,Ia(this,f[1]||"",!0),this.o=Oa(f[2]||""),this.g=Oa(f[3]||"",!0),Da(this,f[4]),this.h=Oa(f[5]||"",!0),kh(this,f[6]||"",!0),this.m=Oa(f[7]||"")):(this.l=!1,this.i=new Va(null,this.l))}ci.prototype.toString=function(){const o=[];var f=this.j;f&&o.push(Ma(f,zg,!0),":");var m=this.g;return(m||f=="file")&&(o.push("//"),(f=this.o)&&o.push(Ma(f,zg,!0),"@"),o.push(Ca(m).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.u,m!=null&&o.push(":",String(m))),(m=this.h)&&(this.g&&m.charAt(0)!="/"&&o.push("/"),o.push(Ma(m,m.charAt(0)=="/"?Qw:Yw,!0))),(m=this.i.toString())&&o.push("?",m),(m=this.m)&&o.push("#",Ma(m,Xw)),o.join("")},ci.prototype.resolve=function(o){const f=mn(this);let m=!!o.j;m?Ia(f,o.j):m=!!o.o,m?f.o=o.o:m=!!o.g,m?f.g=o.g:m=o.u!=null;var _=o.h;if(m)Da(f,o.u);else if(m=!!o.h){if(_.charAt(0)!="/")if(this.g&&!this.h)_="/"+_;else{var O=f.h.lastIndexOf("/");O!=-1&&(_=f.h.slice(0,O+1)+_)}if(O=_,O==".."||O==".")_="";else if(O.indexOf("./")!=-1||O.indexOf("/.")!=-1){_=O.lastIndexOf("/",0)==0,O=O.split("/");const j=[];for(let z=0;z<O.length;){const ee=O[z++];ee=="."?_&&z==O.length&&j.push(""):ee==".."?((j.length>1||j.length==1&&j[0]!="")&&j.pop(),_&&z==O.length&&j.push("")):(j.push(ee),_=!0)}_=j.join("/")}else _=O}return m?f.h=_:m=o.i.toString()!=="",m?kh(f,Gg(o.i)):m=!!o.m,m&&(f.m=o.m),f};function mn(o){return new ci(o)}function Ia(o,f,m){o.j=m?Oa(f,!0):f,o.j&&(o.j=o.j.replace(/:$/,""))}function Da(o,f){if(f){if(f=Number(f),isNaN(f)||f<0)throw Error("Bad port number "+f);o.u=f}else o.u=null}function kh(o,f,m){f instanceof Va?(o.i=f,Ww(o.i,o.l)):(m||(f=Ma(f,$w)),o.i=new Va(f,o.l))}function Se(o,f,m){o.i.set(f,m)}function Dl(o){return Se(o,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),o}function Oa(o,f){return o?f?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Ma(o,f,m){return typeof o=="string"?(o=encodeURI(o).replace(f,Kw),m&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function Kw(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var zg=/[#\/\?@]/g,Yw=/[#\?:]/g,Qw=/[#\?]/g,$w=/[#\?@]/g,Xw=/#/g;function Va(o,f){this.h=this.g=null,this.i=o||null,this.j=!!f}function gr(o){o.g||(o.g=new Map,o.h=0,o.i&&Gw(o.i,function(f,m){o.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}t=Va.prototype,t.add=function(o,f){gr(this),this.i=null,o=es(this,o);let m=this.g.get(o);return m||this.g.set(o,m=[]),m.push(f),this.h+=1,this};function Bg(o,f){gr(o),f=es(o,f),o.g.has(f)&&(o.i=null,o.h-=o.g.get(f).length,o.g.delete(f))}function qg(o,f){return gr(o),f=es(o,f),o.g.has(f)}t.forEach=function(o,f){gr(this),this.g.forEach(function(m,_){m.forEach(function(O){o.call(f,O,_,this)},this)},this)};function Hg(o,f){gr(o);let m=[];if(typeof f=="string")qg(o,f)&&(m=m.concat(o.g.get(es(o,f))));else for(o=Array.from(o.g.values()),f=0;f<o.length;f++)m=m.concat(o[f]);return m}t.set=function(o,f){return gr(this),this.i=null,o=es(this,o),qg(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[f]),this.h+=1,this},t.get=function(o,f){return o?(o=Hg(this,o),o.length>0?String(o[0]):f):f};function Fg(o,f,m){Bg(o,f),m.length>0&&(o.i=null,o.g.set(es(o,f),y(m)),o.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],f=Array.from(this.g.keys());for(let _=0;_<f.length;_++){var m=f[_];const O=Ca(m);m=Hg(this,m);for(let j=0;j<m.length;j++){let z=O;m[j]!==""&&(z+="="+Ca(m[j])),o.push(z)}}return this.i=o.join("&")};function Gg(o){const f=new Va;return f.i=o.i,o.g&&(f.g=new Map(o.g),f.h=o.h),f}function es(o,f){return f=String(f),o.j&&(f=f.toLowerCase()),f}function Ww(o,f){f&&!o.j&&(gr(o),o.i=null,o.g.forEach(function(m,_){const O=_.toLowerCase();_!=O&&(Bg(this,_),Fg(this,O,m))},o)),o.j=f}function Jw(o,f){const m=new Ra;if(a.Image){const _=new Image;_.onload=d(hi,m,"TestLoadImage: loaded",!0,f,_),_.onerror=d(hi,m,"TestLoadImage: error",!1,f,_),_.onabort=d(hi,m,"TestLoadImage: abort",!1,f,_),_.ontimeout=d(hi,m,"TestLoadImage: timeout",!1,f,_),a.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=o}else f(!1)}function Zw(o,f){const m=new Ra,_=new AbortController,O=setTimeout(()=>{_.abort(),hi(m,"TestPingServer: timeout",!1,f)},1e4);fetch(o,{signal:_.signal}).then(j=>{clearTimeout(O),j.ok?hi(m,"TestPingServer: ok",!0,f):hi(m,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(O),hi(m,"TestPingServer: error",!1,f)})}function hi(o,f,m,_,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),_(m)}catch{}}function ex(){this.g=new kw}function Lh(o){this.i=o.Sb||null,this.h=o.ab||!1}g(Lh,Tg),Lh.prototype.g=function(){return new Ol(this.i,this.h)};function Ol(o,f){dt.call(this),this.H=o,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(Ol,dt),t=Ol.prototype,t.open=function(o,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=o,this.D=f,this.readyState=1,ka(this)},t.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const f={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};o&&(f.body=o),(this.H||a).fetch(new Request(this.D,f)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ja(this)),this.readyState=0},t.Pa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,ka(this)),this.g&&(this.readyState=3,ka(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Kg(this)}else o.text().then(this.Oa.bind(this),this.ga.bind(this))};function Kg(o){o.j.read().then(o.Ma.bind(o)).catch(o.ga.bind(o))}t.Ma=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var f=o.value?o.value:new Uint8Array(0);(f=this.B.decode(f,{stream:!o.done}))&&(this.response=this.responseText+=f)}o.done?ja(this):ka(this),this.readyState==3&&Kg(this)}},t.Oa=function(o){this.g&&(this.response=this.responseText=o,ja(this))},t.Na=function(o){this.g&&(this.response=o,ja(this))},t.ga=function(){this.g&&ja(this)};function ja(o){o.readyState=4,o.l=null,o.j=null,o.B=null,ka(o)}t.setRequestHeader=function(o,f){this.A.append(o,f)},t.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],f=this.h.entries();for(var m=f.next();!m.done;)m=m.value,o.push(m[0]+": "+m[1]),m=f.next();return o.join(`\r
`)};function ka(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Ol.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Yg(o){let f="";return Ee(o,function(m,_){f+=_,f+=":",f+=m,f+=`\r
`}),f}function Ph(o,f,m){e:{for(_ in m){var _=!1;break e}_=!0}_||(m=Yg(m),typeof o=="string"?m!=null&&Ca(m):Se(o,f,m))}function De(o){dt.call(this),this.headers=new Map,this.L=o||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(De,dt);var tx=/^https?$/i,nx=["POST","PUT"];t=De.prototype,t.Fa=function(o){this.H=o},t.ea=function(o,f,m,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);f=f?f.toUpperCase():"GET",this.D=o,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Cg.g(),this.g.onreadystatechange=p(c(this.Ca,this));try{this.B=!0,this.g.open(f,String(o),!0),this.B=!1}catch(j){Qg(this,j);return}if(o=m||"",m=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var O in _)m.set(O,_[O]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(const j of _.keys())m.set(j,_.get(j));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(m.keys()).find(j=>j.toLowerCase()=="content-type"),O=a.FormData&&o instanceof a.FormData,!(Array.prototype.indexOf.call(nx,f,void 0)>=0)||_||O||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,z]of m)this.g.setRequestHeader(j,z);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(o),this.v=!1}catch(j){Qg(this,j)}};function Qg(o,f){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=f,o.o=5,$g(o),Ml(o)}function $g(o){o.A||(o.A=!0,_t(o,"complete"),_t(o,"error"))}t.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=o||7,_t(this,"complete"),_t(this,"abort"),Ml(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ml(this,!0)),De.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Xg(this):this.Xa())},t.Xa=function(){Xg(this)};function Xg(o){if(o.h&&typeof s<"u"){if(o.v&&fi(o)==4)setTimeout(o.Ca.bind(o),0);else if(_t(o,"readystatechange"),fi(o)==4){o.h=!1;try{const j=o.ca();e:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var _;if(_=j===0){let z=String(o.D).match(Ug)[1]||null;!z&&a.self&&a.self.location&&(z=a.self.location.protocol.slice(0,-1)),_=!tx.test(z?z.toLowerCase():"")}m=_}if(m)_t(o,"complete"),_t(o,"success");else{o.o=6;try{var O=fi(o)>2?o.g.statusText:""}catch{O=""}o.l=O+" ["+o.ca()+"]",$g(o)}}finally{Ml(o)}}}}function Ml(o,f){if(o.g){o.m&&(clearTimeout(o.m),o.m=null);const m=o.g;o.g=null,f||_t(o,"ready");try{m.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function fi(o){return o.g?o.g.readyState:0}t.ca=function(){try{return fi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(o){if(this.g){var f=this.g.responseText;return o&&f.indexOf(o)==0&&(f=f.substring(o.length)),jw(f)}};function Wg(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.F){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function ix(o){const f={};o=(o.g&&fi(o)>=2&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<o.length;_++){if(w(o[_]))continue;var m=Bw(o[_]);const O=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const j=f[O]||[];f[O]=j,j.push(m)}Pe(f,function(_){return _.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function La(o,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[o]||f}function Jg(o){this.za=0,this.i=[],this.j=new Ra,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=La("failFast",!1,o),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=La("baseRetryDelayMs",5e3,o),this.Za=La("retryDelaySeedMs",1e4,o),this.Ta=La("forwardChannelMaxRetries",2,o),this.va=La("forwardChannelRequestTimeoutMs",2e4,o),this.ma=o&&o.xmlHttpFactory||void 0,this.Ua=o&&o.Rb||void 0,this.Aa=o&&o.useFetchStreams||!1,this.O=void 0,this.L=o&&o.supportsCrossDomainXhr||!1,this.M="",this.h=new Vg(o&&o.concurrentRequestLimit),this.Ba=new ex,this.S=o&&o.fastHandshake||!1,this.R=o&&o.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=o&&o.Pb||!1,o&&o.ua&&this.j.ua(),o&&o.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&o&&o.detectBufferingProxy||!1,this.ia=void 0,o&&o.longPollingTimeout&&o.longPollingTimeout>0&&(this.ia=o.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Jg.prototype,t.ka=8,t.I=1,t.connect=function(o,f,m,_){vt(0),this.W=o,this.H=f||{},m&&_!==void 0&&(this.H.OSID=m,this.H.OAID=_),this.F=this.X,this.J=oy(this,null,this.W),jl(this)};function Uh(o){if(Zg(o),o.I==3){var f=o.V++,m=mn(o.J);if(Se(m,"SID",o.M),Se(m,"RID",f),Se(m,"TYPE","terminate"),Pa(o,m),f=new ui(o,o.j,f),f.M=2,f.A=Dl(mn(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(f.A.toString(),"")}catch{}!m&&a.Image&&(new Image().src=f.A,m=!0),m||(f.g=ly(f.j,null),f.g.ea(f.A)),f.F=Date.now(),Il(f)}ay(o)}function Vl(o){o.g&&(Bh(o),o.g.cancel(),o.g=null)}function Zg(o){Vl(o),o.v&&(a.clearTimeout(o.v),o.v=null),kl(o),o.h.cancel(),o.m&&(typeof o.m=="number"&&a.clearTimeout(o.m),o.m=null)}function jl(o){if(!jg(o.h)&&!o.m){o.m=!0;var f=o.Ea;U||E(),F||(U(),F=!0),b.add(f,o),o.D=0}}function rx(o,f){return kg(o.h)>=o.h.j-(o.m?1:0)?!1:o.m?(o.i=f.G.concat(o.i),!0):o.I==1||o.I==2||o.D>=(o.Sa?0:o.Ta)?!1:(o.m=xa(c(o.Ea,o,f),sy(o,o.D)),o.D++,!0)}t.Ea=function(o){if(this.m)if(this.m=null,this.I==1){if(!o){this.V=Math.floor(Math.random()*1e5),o=this.V++;const O=new ui(this,this.j,o);let j=this.o;if(this.U&&(j?(j=fr(j),Jr(j,this.U)):j=this.U),this.u!==null||this.R||(O.J=j,j=null),this.S)e:{for(var f=0,m=0;m<this.i.length;m++){t:{var _=this.i[m];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(f+=_,f>4096){f=m;break e}if(f===4096||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=ty(this,O,f),m=mn(this.J),Se(m,"RID",o),Se(m,"CVER",22),this.G&&Se(m,"X-HTTP-Session-Id",this.G),Pa(this,m),j&&(this.R?f="headers="+Ca(Yg(j))+"&"+f:this.u&&Ph(m,this.u,j)),jh(this.h,O),this.Ra&&Se(m,"TYPE","init"),this.S?(Se(m,"$req",f),Se(m,"SID","null"),O.U=!0,Dh(O,m,null)):Dh(O,m,f),this.I=2}}else this.I==3&&(o?ey(this,o):this.i.length==0||jg(this.h)||ey(this))};function ey(o,f){var m;f?m=f.l:m=o.V++;const _=mn(o.J);Se(_,"SID",o.M),Se(_,"RID",m),Se(_,"AID",o.K),Pa(o,_),o.u&&o.o&&Ph(_,o.u,o.o),m=new ui(o,o.j,m,o.D+1),o.u===null&&(m.J=o.o),f&&(o.i=f.G.concat(o.i)),f=ty(o,m,1e3),m.H=Math.round(o.va*.5)+Math.round(o.va*.5*Math.random()),jh(o.h,m),Dh(m,_,f)}function Pa(o,f){o.H&&Ee(o.H,function(m,_){Se(f,_,m)}),o.l&&Ee({},function(m,_){Se(f,_,m)})}function ty(o,f,m){m=Math.min(o.i.length,m);const _=o.l?c(o.l.Ka,o.l,o):null;e:{var O=o.i;let ee=-1;for(;;){const Ye=["count="+m];ee==-1?m>0?(ee=O[0].g,Ye.push("ofs="+ee)):ee=0:Ye.push("ofs="+ee);let _e=!0;for(let Ze=0;Ze<m;Ze++){var j=O[Ze].g;const pn=O[Ze].map;if(j-=ee,j<0)ee=Math.max(0,O[Ze].g-100),_e=!1;else try{j="req"+j+"_"||"";try{var z=pn instanceof Map?pn:Object.entries(pn);for(const[_r,di]of z){let mi=di;l(di)&&(mi=xh(di)),Ye.push(j+_r+"="+encodeURIComponent(mi))}}catch(_r){throw Ye.push(j+"type="+encodeURIComponent("_badmap")),_r}}catch{_&&_(pn)}}if(_e){z=Ye.join("&");break e}}z=void 0}return o=o.i.splice(0,m),f.G=o,z}function ny(o){if(!o.g&&!o.v){o.Y=1;var f=o.Da;U||E(),F||(U(),F=!0),b.add(f,o),o.A=0}}function zh(o){return o.g||o.v||o.A>=3?!1:(o.Y++,o.v=xa(c(o.Da,o),sy(o,o.A)),o.A++,!0)}t.Da=function(){if(this.v=null,iy(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var o=4*this.T;this.j.info("BP detection timer enabled: "+o),this.B=xa(c(this.Wa,this),o)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,vt(10),Vl(this),iy(this))};function Bh(o){o.B!=null&&(a.clearTimeout(o.B),o.B=null)}function iy(o){o.g=new ui(o,o.j,"rpc",o.Y),o.u===null&&(o.g.J=o.o),o.g.P=0;var f=mn(o.na);Se(f,"RID","rpc"),Se(f,"SID",o.M),Se(f,"AID",o.K),Se(f,"CI",o.F?"0":"1"),!o.F&&o.ia&&Se(f,"TO",o.ia),Se(f,"TYPE","xmlhttp"),Pa(o,f),o.u&&o.o&&Ph(f,o.u,o.o),o.O&&(o.g.H=o.O);var m=o.g;o=o.ba,m.M=1,m.A=Dl(mn(f)),m.u=null,m.R=!0,Dg(m,o)}t.Va=function(){this.C!=null&&(this.C=null,Vl(this),zh(this),vt(19))};function kl(o){o.C!=null&&(a.clearTimeout(o.C),o.C=null)}function ry(o,f){var m=null;if(o.g==f){kl(o),Bh(o),o.g=null;var _=2}else if(Vh(o.h,f))m=f.G,Lg(o.h,f),_=1;else return;if(o.I!=0){if(f.o)if(_==1){m=f.u?f.u.length:0,f=Date.now()-f.F;var O=o.D;_=Cl(),_t(_,new xg(_,m)),jl(o)}else ny(o);else if(O=f.m,O==3||O==0&&f.X>0||!(_==1&&rx(o,f)||_==2&&zh(o)))switch(m&&m.length>0&&(f=o.h,f.i=f.i.concat(m)),O){case 1:yr(o,5);break;case 4:yr(o,10);break;case 3:yr(o,6);break;default:yr(o,2)}}}function sy(o,f){let m=o.Qa+Math.floor(Math.random()*o.Za);return o.isActive()||(m*=2),m*f}function yr(o,f){if(o.j.info("Error code "+f),f==2){var m=c(o.bb,o),_=o.Ua;const O=!_;_=new ci(_||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ia(_,"https"),Dl(_),O?Jw(_.toString(),m):Zw(_.toString(),m)}else vt(2);o.I=0,o.l&&o.l.pa(f),ay(o),Zg(o)}t.bb=function(o){o?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function ay(o){if(o.I=0,o.ja=[],o.l){const f=Pg(o.h);(f.length!=0||o.i.length!=0)&&(C(o.ja,f),C(o.ja,o.i),o.h.i.length=0,y(o.i),o.i.length=0),o.l.oa()}}function oy(o,f,m){var _=m instanceof ci?mn(m):new ci(m);if(_.g!="")f&&(_.g=f+"."+_.g),Da(_,_.u);else{var O=a.location;_=O.protocol,f=f?f+"."+O.hostname:O.hostname,O=+O.port;const j=new ci(null);_&&Ia(j,_),f&&(j.g=f),O&&Da(j,O),m&&(j.h=m),_=j}return m=o.G,f=o.wa,m&&f&&Se(_,m,f),Se(_,"VER",o.ka),Pa(o,_),_}function ly(o,f,m){if(f&&!o.L)throw Error("Can't create secondary domain capable XhrIo object.");return f=o.Aa&&!o.ma?new De(new Lh({ab:m})):new De(o.ma),f.Fa(o.L),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function uy(){}t=uy.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Ll(){}Ll.prototype.g=function(o,f){return new Ot(o,f)};function Ot(o,f){dt.call(this),this.g=new Jg(f),this.l=o,this.h=f&&f.messageUrlParams||null,o=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(o?o["X-WebChannel-Content-Type"]=f.messageContentType:o={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.sa&&(o?o["X-WebChannel-Client-Profile"]=f.sa:o={"X-WebChannel-Client-Profile":f.sa}),this.g.U=o,(o=f&&f.Qb)&&!w(o)&&(this.g.u=o),this.A=f&&f.supportsCrossDomainXhr||!1,this.v=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!w(f)&&(this.g.G=f,o=this.h,o!==null&&f in o&&(o=this.h,f in o&&delete o[f])),this.j=new ts(this)}g(Ot,dt),Ot.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ot.prototype.close=function(){Uh(this.g)},Ot.prototype.o=function(o){var f=this.g;if(typeof o=="string"){var m={};m.__data__=o,o=m}else this.v&&(m={},m.__data__=xh(o),o=m);f.i.push(new Fw(f.Ya++,o)),f.I==3&&jl(f)},Ot.prototype.N=function(){this.g.l=null,delete this.j,Uh(this.g),delete this.g,Ot.Z.N.call(this)};function cy(o){Rh.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var f=o.__sm__;if(f){e:{for(const m in f){o=m;break e}o=void 0}(this.i=o)&&(o=this.i,f=f!==null&&o in f?f[o]:void 0),this.data=f}else this.data=o}g(cy,Rh);function hy(){Ch.call(this),this.status=1}g(hy,Ch);function ts(o){this.g=o}g(ts,uy),ts.prototype.ra=function(){_t(this.g,"a")},ts.prototype.qa=function(o){_t(this.g,new cy(o))},ts.prototype.pa=function(o){_t(this.g,new hy)},ts.prototype.oa=function(){_t(this.g,"b")},Ll.prototype.createWebChannel=Ll.prototype.g,Ot.prototype.send=Ot.prototype.o,Ot.prototype.open=Ot.prototype.m,Ot.prototype.close=Ot.prototype.close,KS=function(){return new Ll},GS=function(){return Cl()},FS=mr,Xd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Nl.NO_ERROR=0,Nl.TIMEOUT=8,Nl.HTTP_ERROR=6,Nu=Nl,Rg.COMPLETE="complete",HS=Rg,bg.EventType=Aa,Aa.OPEN="a",Aa.CLOSE="b",Aa.ERROR="c",Aa.MESSAGE="d",dt.prototype.listen=dt.prototype.J,to=bg,De.prototype.listenOnce=De.prototype.K,De.prototype.getLastError=De.prototype.Ha,De.prototype.getLastErrorCode=De.prototype.ya,De.prototype.getStatus=De.prototype.ca,De.prototype.getResponseJson=De.prototype.La,De.prototype.getResponseText=De.prototype.la,De.prototype.send=De.prototype.ea,De.prototype.setWithCredentials=De.prototype.Fa,qS=De}).apply(typeof iu<"u"?iu:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pt.UNAUTHENTICATED=new pt(null),pt.GOOGLE_CREDENTIALS=new pt("google-credentials-uid"),pt.FIRST_PARTY=new pt("first-party-uid"),pt.MOCK_USER=new pt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _a="12.8.0";function VO(t){_a=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zr=new Tp("@firebase/firestore");function os(){return zr.logLevel}function H(t,...e){if(zr.logLevel<=re.DEBUG){const n=e.map(Op);zr.debug(`Firestore (${_a}): ${t}`,...n)}}function ri(t,...e){if(zr.logLevel<=re.ERROR){const n=e.map(Op);zr.error(`Firestore (${_a}): ${t}`,...n)}}function Xs(t,...e){if(zr.logLevel<=re.WARN){const n=e.map(Op);zr.warn(`Firestore (${_a}): ${t}`,...n)}}function Op(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,YS(t,i,n)}function YS(t,e,n){let i=`FIRESTORE (${_a}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw ri(i),new Error(i)}function fe(t,e,n,i){let r="Unexpected state";typeof n=="string"?r=n:i=n,t||YS(e,r,i)}function X(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class B extends oi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class jO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(pt.UNAUTHENTICATED))}shutdown(){}}class kO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class LO{constructor(e){this.t=e,this.currentUser=pt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){fe(this.o===void 0,42304);let i=this.i;const r=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let s=new Yi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Yi,e.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await r(this.currentUser)})},l=u=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Yi)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(fe(typeof i.accessToken=="string",31837,{l:i}),new QS(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return fe(e===null||typeof e=="string",2055,{h:e}),new pt(e)}}class PO{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=pt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class UO{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new PO(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(pt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zO{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,on(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){fe(this.o===void 0,3512);const i=s=>{s.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,H("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?r(s):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new wv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(fe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new wv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=BO(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=e.charAt(r[s]%62))}return i}}function se(t,e){return t<e?-1:t>e?1:0}function Wd(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const r=t.charAt(i),s=e.charAt(i);if(r!==s)return Lf(r)===Lf(s)?se(r,s):Lf(r)?1:-1}return se(t.length,e.length)}const qO=55296,HO=57343;function Lf(t){const e=t.charCodeAt(0);return e>=qO&&e<=HO}function Ws(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv="__name__";class gn{constructor(e,n,i){n===void 0?n=0:n>e.length&&Y(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Y(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return gn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof gn?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const s=gn.compareSegments(e.get(r),n.get(r));if(s!==0)return s}return se(e.length,n.length)}static compareSegments(e,n){const i=gn.isNumericId(e),r=gn.isNumericId(n);return i&&!r?-1:!i&&r?1:i&&r?gn.extractNumericId(e).compare(gn.extractNumericId(n)):Wd(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ki.fromString(e.substring(4,e.length-2))}}class Te extends gn{construct(e,n,i){return new Te(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new B(k.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new Te(n)}static emptyPath(){return new Te([])}}const FO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class lt extends gn{construct(e,n,i){return new lt(e,n,i)}static isValidIdentifier(e){return FO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),lt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===xv}static keyField(){return new lt([xv])}static fromServerFormat(e){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new B(k.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;r<e.length;){const l=e[r];if(l==="\\"){if(r+1===e.length)throw new B(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new B(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=u,r+=2}else l==="`"?(a=!a,r++):l!=="."||a?(i+=l,r++):(s(),r++)}if(s(),a)throw new B(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new lt(n)}static emptyPath(){return new lt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.path=e}static fromPath(e){return new G(Te.fromString(e))}static fromName(e){return new G(Te.fromString(e).popFirst(5))}static empty(){return new G(Te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Te.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Te.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new G(new Te(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $S(t,e,n){if(!n)throw new B(k.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function GO(t,e,n,i){if(e===!0&&i===!0)throw new B(k.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Rv(t){if(!G.isDocumentKey(t))throw new B(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Cv(t){if(G.isDocumentKey(t))throw new B(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function XS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function ih(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Y(12329,{type:typeof t})}function An(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new B(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ih(t);throw new B(k.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(t,e){const n={typeString:t};return e&&(n.value=e),n}function Tl(t,e){if(!XS(t))throw new B(k.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const r=e[i].typeString,s="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const a=t[i];if(r&&typeof a!==r){n=`JSON field '${i}' must be a ${r}.`;break}if(s!==void 0&&a!==s.value){n=`Expected '${i}' field to equal '${s.value}'`;break}}if(n)throw new B(k.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv=-62135596800,Iv=1e6;class ye{static now(){return ye.fromMillis(Date.now())}static fromDate(e){return ye.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*Iv);return new ye(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new B(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new B(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Nv)throw new B(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new B(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Iv}_compareTo(e){return this.seconds===e.seconds?se(this.nanoseconds,e.nanoseconds):se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ye._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Tl(e,ye._jsonSchema))return new ye(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Nv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ye._jsonSchemaVersion="firestore/timestamp/1.0",ye._jsonSchema={type:Ke("string",ye._jsonSchemaVersion),seconds:Ke("number"),nanoseconds:Ke("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${static fromTimestamp(e){return new $(e)}static min(){return new $(new ye(0,0))}static max(){return new $(new ye(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo=-1;function KO(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=$.fromTimestamp(i===1e9?new ye(n+1,0):new ye(n,i));return new er(r,G.empty(),e)}function YO(t){return new er(t.readTime,t.key,Fo)}class er{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new er($.min(),G.empty(),Fo)}static max(){return new er($.max(),G.empty(),Fo)}}function QO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=G.comparator(t.documentKey,e.documentKey),n!==0?n:se(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class XO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function va(t){if(t.code!==k.FAILED_PRECONDITION||t.message!==$O)throw t;H("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Y(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new P((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof P?n:P.resolve(n)}catch(n){return P.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):P.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):P.reject(n)}static resolve(e){return new P((n,i)=>{n(e)})}static reject(e){return new P((n,i)=>{i(e)})}static waitFor(e){return new P((n,i)=>{let r=0,s=0,a=!1;e.forEach(l=>{++r,l.next(()=>{++s,a&&s===r&&n()},u=>i(u))}),a=!0,s===r&&n()})}static or(e){let n=P.resolve(!1);for(const i of e)n=n.next(r=>r?P.resolve(r):i());return n}static forEach(e,n){const i=[];return e.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(e,n){return new P((i,r)=>{const s=e.length,a=new Array(s);let l=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(d=>{a[c]=d,++l,l===s&&i(a)},d=>r(d))}})}static doWhile(e,n){return new P((i,r)=>{const s=()=>{e()===!0?n().next(()=>{s()},r):i()};s()})}}function WO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ea(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}rh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp=-1;function sh(t){return t==null}function vc(t){return t===0&&1/t==-1/0}function JO(t){return typeof t=="number"&&Number.isInteger(t)&&!vc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS="";function ZO(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Dv(e)),e=e4(t.get(n),e);return Dv(e)}function e4(t,e){let n=e;const i=t.length;for(let r=0;r<i;r++){const s=t.charAt(r);switch(s){case"\0":n+="";break;case WS:n+="";break;default:n+=s}}return n}function Dv(t){return t+WS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function cr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function JS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e,n){this.comparator=e,this.root=n||st.EMPTY}insert(e,n){return new Ie(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,st.BLACK,null,null))}remove(e){return new Ie(this.comparator,this.root.remove(e,this.comparator).copy(null,null,st.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ru(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ru(this.root,e,this.comparator,!1)}getReverseIterator(){return new ru(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ru(this.root,e,this.comparator,!0)}}class ru{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?i(e.key,n):1,n&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class st{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??st.RED,this.left=r??st.EMPTY,this.right=s??st.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,s){return new st(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return st.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return st.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,st.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,st.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Y(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Y(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Y(27949);return e+(this.isRed()?0:1)}}st.EMPTY=null,st.RED=!0,st.BLACK=!1;st.EMPTY=new class{constructor(){this.size=0}get key(){throw Y(57766)}get value(){throw Y(16141)}get color(){throw Y(16727)}get left(){throw Y(29726)}get right(){throw Y(36894)}copy(e,n,i,r,s){return this}insert(e,n,i){return new st(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.comparator=e,this.data=new Ie(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Mv(this.data.getIterator())}getIteratorFrom(e){return new Mv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Xe)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Xe(this.comparator);return n.data=e,n}}class Mv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.fields=e,e.sort(lt.comparator)}static empty(){return new Lt([])}unionWith(e){let n=new Xe(lt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Lt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ws(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new ZS("Invalid base64 string: "+s):s}}(e);return new ht(n)}static fromUint8Array(e){const n=function(r){let s="";for(let a=0;a<r.length;++a)s+=String.fromCharCode(r[a]);return s}(e);return new ht(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ht.EMPTY_BYTE_STRING=new ht("");const t4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function tr(t){if(fe(!!t,39018),typeof t=="string"){let e=0;const n=t4.exec(t);if(fe(!!n,46558,{timestamp:t}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ve(t.seconds),nanos:Ve(t.nanos)}}function Ve(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function nr(t){return typeof t=="string"?ht.fromBase64String(t):ht.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA="server_timestamp",tA="__type__",nA="__previous_value__",iA="__local_write_time__";function jp(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[tA])==null?void 0:i.stringValue)===eA}function ah(t){const e=t.mapValue.fields[nA];return jp(e)?ah(e):e}function Go(t){const e=tr(t.mapValue.fields[iA].timestampValue);return new ye(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(e,n,i,r,s,a,l,u,c,d,g){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=c,this.isUsingEmulator=d,this.apiKey=g}}const Ec="(default)";class Ko{constructor(e,n){this.projectId=e,this.database=n||Ec}static empty(){return new Ko("","")}get isDefaultDatabase(){return this.database===Ec}isEqual(e){return e instanceof Ko&&e.projectId===this.projectId&&e.database===this.database}}function i4(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new B(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ko(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA="__type__",r4="__max__",su={mapValue:{}},sA="__vector__",Tc="value";function ir(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?jp(t)?4:a4(t)?9007199254740991:s4(t)?10:11:Y(28295,{value:t})}function Nn(t,e){if(t===e)return!0;const n=ir(t);if(n!==ir(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Go(t).isEqual(Go(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const a=tr(r.timestampValue),l=tr(s.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return nr(r.bytesValue).isEqual(nr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return Ve(r.geoPointValue.latitude)===Ve(s.geoPointValue.latitude)&&Ve(r.geoPointValue.longitude)===Ve(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Ve(r.integerValue)===Ve(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const a=Ve(r.doubleValue),l=Ve(s.doubleValue);return a===l?vc(a)===vc(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return Ws(t.arrayValue.values||[],e.arrayValue.values||[],Nn);case 10:case 11:return function(r,s){const a=r.mapValue.fields||{},l=s.mapValue.fields||{};if(Ov(a)!==Ov(l))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(l[u]===void 0||!Nn(a[u],l[u])))return!1;return!0}(t,e);default:return Y(52216,{left:t})}}function Yo(t,e){return(t.values||[]).find(n=>Nn(n,e))!==void 0}function Js(t,e){if(t===e)return 0;const n=ir(t),i=ir(e);if(n!==i)return se(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return se(t.booleanValue,e.booleanValue);case 2:return function(s,a){const l=Ve(s.integerValue||s.doubleValue),u=Ve(a.integerValue||a.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return Vv(t.timestampValue,e.timestampValue);case 4:return Vv(Go(t),Go(e));case 5:return Wd(t.stringValue,e.stringValue);case 6:return function(s,a){const l=nr(s),u=nr(a);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const l=s.split("/"),u=a.split("/");for(let c=0;c<l.length&&c<u.length;c++){const d=se(l[c],u[c]);if(d!==0)return d}return se(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const l=se(Ve(s.latitude),Ve(a.latitude));return l!==0?l:se(Ve(s.longitude),Ve(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return jv(t.arrayValue,e.arrayValue);case 10:return function(s,a){var p,y,C,D;const l=s.fields||{},u=a.fields||{},c=(p=l[Tc])==null?void 0:p.arrayValue,d=(y=u[Tc])==null?void 0:y.arrayValue,g=se(((C=c==null?void 0:c.values)==null?void 0:C.length)||0,((D=d==null?void 0:d.values)==null?void 0:D.length)||0);return g!==0?g:jv(c,d)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===su.mapValue&&a===su.mapValue)return 0;if(s===su.mapValue)return 1;if(a===su.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),c=a.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let g=0;g<u.length&&g<d.length;++g){const p=Wd(u[g],d[g]);if(p!==0)return p;const y=Js(l[u[g]],c[d[g]]);if(y!==0)return y}return se(u.length,d.length)}(t.mapValue,e.mapValue);default:throw Y(23264,{he:n})}}function Vv(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return se(t,e);const n=tr(t),i=tr(e),r=se(n.seconds,i.seconds);return r!==0?r:se(n.nanos,i.nanos)}function jv(t,e){const n=t.values||[],i=e.values||[];for(let r=0;r<n.length&&r<i.length;++r){const s=Js(n[r],i[r]);if(s)return s}return se(n.length,i.length)}function Zs(t){return Jd(t)}function Jd(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=tr(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return nr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return G.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(const s of n.values||[])r?r=!1:i+=",",i+=Jd(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",s=!0;for(const a of i)s?s=!1:r+=",",r+=`${a}:${Jd(n.fields[a])}`;return r+"}"}(t.mapValue):Y(61005,{value:t})}function Iu(t){switch(ir(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ah(t);return e?16+Iu(e):16;case 5:return 2*t.stringValue.length;case 6:return nr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,s)=>r+Iu(s),0)}(t.arrayValue);case 10:case 11:return function(i){let r=0;return cr(i.fields,(s,a)=>{r+=s.length+Iu(a)}),r}(t.mapValue);default:throw Y(13486,{value:t})}}function kv(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Zd(t){return!!t&&"integerValue"in t}function kp(t){return!!t&&"arrayValue"in t}function Lv(t){return!!t&&"nullValue"in t}function Pv(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Du(t){return!!t&&"mapValue"in t}function s4(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[rA])==null?void 0:i.stringValue)===sA}function bo(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return cr(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=bo(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=bo(t.arrayValue.values[n]);return e}return{...t}}function a4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===r4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.value=e}static empty(){return new Ct({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Du(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=bo(n)}setAll(e){let n=lt.emptyPath(),i={},r=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,i,r),i={},r=[],n=l.popLast()}a?i[l.lastSegment()]=bo(a):r.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(e){const n=this.field(e.popLast());Du(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Nn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];Du(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){cr(n,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new Ct(bo(this.value))}}function aA(t){const e=[];return cr(t.fields,(n,i)=>{const r=new lt([n]);if(Du(i)){const s=aA(i.mapValue).fields;if(s.length===0)e.push(r);else for(const a of s)e.push(r.child(a))}else e.push(r)}),new Lt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,n,i,r,s,a,l){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=a,this.documentState=l}static newInvalidDocument(e){return new gt(e,0,$.min(),$.min(),$.min(),Ct.empty(),0)}static newFoundDocument(e,n,i,r){return new gt(e,1,n,$.min(),i,r,0)}static newNoDocument(e,n){return new gt(e,2,n,$.min(),$.min(),Ct.empty(),0)}static newUnknownDocument(e,n){return new gt(e,3,n,$.min(),$.min(),Ct.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual($.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ct.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ct.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,n){this.position=e,this.inclusive=n}}function Uv(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const s=e[r],a=t.position[r];if(s.field.isKeyField()?i=G.comparator(G.fromName(a.referenceValue),n.key):i=Js(a,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function zv(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Nn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e,n="asc"){this.field=e,this.dir=n}}function o4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{}class Fe extends oA{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new u4(e,n,i):n==="array-contains"?new f4(e,i):n==="in"?new d4(e,i):n==="not-in"?new m4(e,i):n==="array-contains-any"?new p4(e,i):new Fe(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new c4(e,i):new h4(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Js(n,this.value)):n!==null&&ir(this.value)===ir(n)&&this.matchesComparison(Js(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Y(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fn extends oA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new fn(e,n)}matches(e){return lA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function lA(t){return t.op==="and"}function uA(t){return l4(t)&&lA(t)}function l4(t){for(const e of t.filters)if(e instanceof fn)return!1;return!0}function em(t){if(t instanceof Fe)return t.field.canonicalString()+t.op.toString()+Zs(t.value);if(uA(t))return t.filters.map(e=>em(e)).join(",");{const e=t.filters.map(n=>em(n)).join(",");return`${t.op}(${e})`}}function cA(t,e){return t instanceof Fe?function(i,r){return r instanceof Fe&&i.op===r.op&&i.field.isEqual(r.field)&&Nn(i.value,r.value)}(t,e):t instanceof fn?function(i,r){return r instanceof fn&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,a,l)=>s&&cA(a,r.filters[l]),!0):!1}(t,e):void Y(19439)}function hA(t){return t instanceof Fe?function(n){return`${n.field.canonicalString()} ${n.op} ${Zs(n.value)}`}(t):t instanceof fn?function(n){return n.op.toString()+" {"+n.getFilters().map(hA).join(" ,")+"}"}(t):"Filter"}class u4 extends Fe{constructor(e,n,i){super(e,n,i),this.key=G.fromName(i.referenceValue)}matches(e){const n=G.comparator(e.key,this.key);return this.matchesComparison(n)}}class c4 extends Fe{constructor(e,n){super(e,"in",n),this.keys=fA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class h4 extends Fe{constructor(e,n){super(e,"not-in",n),this.keys=fA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function fA(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(i=>G.fromName(i.referenceValue))}class f4 extends Fe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return kp(n)&&Yo(n.arrayValue,this.value)}}class d4 extends Fe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Yo(this.value.arrayValue,n)}}class m4 extends Fe{constructor(e,n){super(e,"not-in",n)}matches(e){if(Yo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Yo(this.value.arrayValue,n)}}class p4 extends Fe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!kp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Yo(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e,n=null,i=[],r=[],s=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=a,this.endAt=l,this.Te=null}}function Bv(t,e=null,n=[],i=[],r=null,s=null,a=null){return new g4(t,e,n,i,r,s,a)}function Lp(t){const e=X(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>em(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),sh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Zs(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Zs(i)).join(",")),e.Te=n}return e.Te}function Pp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!o4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!cA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!zv(t.startAt,e.startAt)&&zv(t.endAt,e.endAt)}function tm(t){return G.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e,n=null,i=[],r=[],s=null,a="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=a,this.startAt=l,this.endAt=u,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function y4(t,e,n,i,r,s,a,l){return new Ta(t,e,n,i,r,s,a,l)}function oh(t){return new Ta(t)}function qv(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function _4(t){return G.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function dA(t){return t.collectionGroup!==null}function So(t){const e=X(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new Xe(lt.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(l=l.add(c.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Qo(s,i))}),n.has(lt.keyField().canonicalString())||e.Ie.push(new Qo(lt.keyField(),i))}return e.Ie}function wn(t){const e=X(t);return e.Ee||(e.Ee=v4(e,So(t))),e.Ee}function v4(t,e){if(t.limitType==="F")return Bv(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new Qo(r.field,s)});const n=t.endAt?new bc(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new bc(t.startAt.position,t.startAt.inclusive):null;return Bv(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function nm(t,e){const n=t.filters.concat([e]);return new Ta(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function E4(t,e){const n=t.explicitOrderBy.concat([e]);return new Ta(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function im(t,e,n){return new Ta(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function lh(t,e){return Pp(wn(t),wn(e))&&t.limitType===e.limitType}function mA(t){return`${Lp(wn(t))}|lt:${t.limitType}`}function ls(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>hA(r)).join(", ")}]`),sh(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>Zs(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>Zs(r)).join(",")),`Target(${i})`}(wn(t))}; limitType=${t.limitType})`}function uh(t,e){return e.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):G.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(t,e)&&function(i,r){for(const s of So(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(a,l,u){const c=Uv(a,l,u);return a.inclusive?c<=0:c<0}(i.startAt,So(i),r)||i.endAt&&!function(a,l,u){const c=Uv(a,l,u);return a.inclusive?c>=0:c>0}(i.endAt,So(i),r))}(t,e)}function T4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function pA(t){return(e,n)=>{let i=!1;for(const r of So(t)){const s=b4(r,e,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function b4(t,e,n){const i=t.field.isKeyField()?G.comparator(e.key,n.key):function(s,a,l){const u=a.data.field(s),c=l.data.field(s);return u!==null&&c!==null?Js(u,c):Y(42886)}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Y(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){cr(this.inner,(n,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return JS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4=new Ie(G.comparator);function si(){return S4}const gA=new Ie(G.comparator);function no(...t){let e=gA;for(const n of t)e=e.insert(n.key,n);return e}function yA(t){let e=gA;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function wr(){return Ao()}function _A(){return Ao()}function Ao(){return new $r(t=>t.toString(),(t,e)=>t.isEqual(e))}const A4=new Ie(G.comparator),w4=new Xe(G.comparator);function ae(...t){let e=w4;for(const n of t)e=e.add(n);return e}const x4=new Xe(se);function R4(){return x4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Up(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vc(e)?"-0":e}}function vA(t){return{integerValue:""+t}}function C4(t,e){return JO(e)?vA(e):Up(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(){this._=void 0}}function N4(t,e,n){return t instanceof $o?function(r,s){const a={fields:{[tA]:{stringValue:eA},[iA]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&jp(s)&&(s=ah(s)),s&&(a.fields[nA]=s),{mapValue:a}}(n,e):t instanceof Xo?TA(t,e):t instanceof Wo?bA(t,e):function(r,s){const a=EA(r,s),l=Hv(a)+Hv(r.Ae);return Zd(a)&&Zd(r.Ae)?vA(l):Up(r.serializer,l)}(t,e)}function I4(t,e,n){return t instanceof Xo?TA(t,e):t instanceof Wo?bA(t,e):n}function EA(t,e){return t instanceof Sc?function(i){return Zd(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}class $o extends ch{}class Xo extends ch{constructor(e){super(),this.elements=e}}function TA(t,e){const n=SA(e);for(const i of t.elements)n.some(r=>Nn(r,i))||n.push(i);return{arrayValue:{values:n}}}class Wo extends ch{constructor(e){super(),this.elements=e}}function bA(t,e){let n=SA(e);for(const i of t.elements)n=n.filter(r=>!Nn(r,i));return{arrayValue:{values:n}}}class Sc extends ch{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Hv(t){return Ve(t.integerValue||t.doubleValue)}function SA(t){return kp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e,n){this.field=e,this.transform=n}}function O4(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof Xo&&r instanceof Xo||i instanceof Wo&&r instanceof Wo?Ws(i.elements,r.elements,Nn):i instanceof Sc&&r instanceof Sc?Nn(i.Ae,r.Ae):i instanceof $o&&r instanceof $o}(t.transform,e.transform)}class M4{constructor(e,n){this.version=e,this.transformResults=n}}class un{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new un}static exists(e){return new un(void 0,e)}static updateTime(e){return new un(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ou(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class hh{}function AA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new zp(t.key,un.none()):new bl(t.key,t.data,un.none());{const n=t.data,i=Ct.empty();let r=new Xe(lt.comparator);for(let s of e.fields)if(!r.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?i.delete(s):i.set(s,a),r=r.add(s)}return new hr(t.key,i,new Lt(r.toArray()),un.none())}}function V4(t,e,n){t instanceof bl?function(r,s,a){const l=r.value.clone(),u=Gv(r.fieldTransforms,s,a.transformResults);l.setAll(u),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof hr?function(r,s,a){if(!Ou(r.precondition,s))return void s.convertToUnknownDocument(a.version);const l=Gv(r.fieldTransforms,s,a.transformResults),u=s.data;u.setAll(wA(r)),u.setAll(l),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(t,e,n):function(r,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function wo(t,e,n,i){return t instanceof bl?function(s,a,l,u){if(!Ou(s.precondition,a))return l;const c=s.value.clone(),d=Kv(s.fieldTransforms,u,a);return c.setAll(d),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),null}(t,e,n,i):t instanceof hr?function(s,a,l,u){if(!Ou(s.precondition,a))return l;const c=Kv(s.fieldTransforms,u,a),d=a.data;return d.setAll(wA(s)),d.setAll(c),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(t,e,n,i):function(s,a,l){return Ou(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function j4(t,e){let n=null;for(const i of t.fieldTransforms){const r=e.data.field(i.field),s=EA(i.transform,r||null);s!=null&&(n===null&&(n=Ct.empty()),n.set(i.field,s))}return n||null}function Fv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Ws(i,r,(s,a)=>O4(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class bl extends hh{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class hr extends hh{constructor(e,n,i,r,s=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function wA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function Gv(t,e,n){const i=new Map;fe(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let r=0;r<n.length;r++){const s=t[r],a=s.transform,l=e.data.field(s.field);i.set(s.field,I4(a,l,n[r]))}return i}function Kv(t,e,n){const i=new Map;for(const r of t){const s=r.transform,a=n.data.field(r.field);i.set(r.field,N4(s,a,e))}return i}class zp extends hh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class k4 extends hh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&V4(s,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=wo(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=wo(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=_A();return this.mutations.forEach(r=>{const s=e.get(r.key),a=s.overlayedDocument;let l=this.applyToLocalView(a,s.mutatedFields);l=n.has(r.key)?null:l;const u=AA(a,l);u!==null&&i.set(r.key,u),a.isValidDocument()||a.convertToNoDocument($.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ae())}isEqual(e){return this.batchId===e.batchId&&Ws(this.mutations,e.mutations,(n,i)=>Fv(n,i))&&Ws(this.baseMutations,e.baseMutations,(n,i)=>Fv(n,i))}}class Bp{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){fe(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let r=function(){return A4}();const s=e.mutations;for(let a=0;a<s.length;a++)r=r.insert(s[a].key,i[a].version);return new Bp(e,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze,ue;function z4(t){switch(t){case k.OK:return Y(64938);case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0;default:return Y(15467,{code:t})}}function xA(t){if(t===void 0)return ri("GRPC error has no .code"),k.UNKNOWN;switch(t){case ze.OK:return k.OK;case ze.CANCELLED:return k.CANCELLED;case ze.UNKNOWN:return k.UNKNOWN;case ze.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case ze.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case ze.INTERNAL:return k.INTERNAL;case ze.UNAVAILABLE:return k.UNAVAILABLE;case ze.UNAUTHENTICATED:return k.UNAUTHENTICATED;case ze.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case ze.NOT_FOUND:return k.NOT_FOUND;case ze.ALREADY_EXISTS:return k.ALREADY_EXISTS;case ze.PERMISSION_DENIED:return k.PERMISSION_DENIED;case ze.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case ze.ABORTED:return k.ABORTED;case ze.OUT_OF_RANGE:return k.OUT_OF_RANGE;case ze.UNIMPLEMENTED:return k.UNIMPLEMENTED;case ze.DATA_LOSS:return k.DATA_LOSS;default:return Y(39323,{code:t})}}(ue=ze||(ze={}))[ue.OK=0]="OK",ue[ue.CANCELLED=1]="CANCELLED",ue[ue.UNKNOWN=2]="UNKNOWN",ue[ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ue[ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ue[ue.NOT_FOUND=5]="NOT_FOUND",ue[ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",ue[ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",ue[ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",ue[ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ue[ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ue[ue.ABORTED=10]="ABORTED",ue[ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",ue[ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",ue[ue.INTERNAL=13]="INTERNAL",ue[ue.UNAVAILABLE=14]="UNAVAILABLE",ue[ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4=new Ki([4294967295,4294967295],0);function Yv(t){const e=B4().encode(t),n=new BS;return n.update(e),new Uint8Array(n.digest())}function Qv(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ki([n,i],0),new Ki([r,s],0)]}class qp{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new io(`Invalid padding: ${n}`);if(i<0)throw new io(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new io(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new io(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ki.fromNumber(this.ge)}ye(e,n,i){let r=e.add(n.multiply(Ki.fromNumber(i)));return r.compare(q4)===1&&(r=new Ki([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Yv(e),[i,r]=Qv(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(i,r,s);if(!this.we(a))return!1}return!0}static create(e,n,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new qp(s,r,n);return i.forEach(l=>a.insert(l)),a}insert(e){if(this.ge===0)return;const n=Yv(e),[i,r]=Qv(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(i,r,s);this.be(a)}}be(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class io extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,n,i,r,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const r=new Map;return r.set(e,Sl.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new fh($.min(),r,new Ie(se),si(),ae())}}class Sl{constructor(e,n,i,r,s){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Sl(i,n,ae(),ae(),ae())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,n,i,r){this.Se=e,this.removedTargetIds=n,this.key=i,this.De=r}}class RA{constructor(e,n){this.targetId=e,this.Ce=n}}class CA{constructor(e,n,i=ht.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}}class $v{constructor(){this.ve=0,this.Fe=Xv(),this.Me=ht.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ae(),n=ae(),i=ae();return this.Fe.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:Y(38017,{changeType:s})}}),new Sl(this.Me,this.xe,e,n,i)}Ke(){this.Oe=!1,this.Fe=Xv()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,fe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class H4{constructor(e){this.Ge=e,this.ze=new Map,this.je=si(),this.He=au(),this.Je=au(),this.Ze=new Ie(se)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Y(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((i,r)=>{this.rt(r)&&n(r)})}st(e){const n=e.targetId,i=e.Ce.count,r=this.ot(n);if(r){const s=r.target;if(tm(s))if(i===0){const a=new G(s.path);this.et(n,a,gt.newNoDocument(a,$.min()))}else fe(i===1,20013,{expectedCount:i});else{const a=this._t(n);if(a!==i){const l=this.ut(e),u=l?this.ct(l,e,a):1;if(u!==0){this.it(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n;let a,l;try{a=nr(i).toUint8Array()}catch(u){if(u instanceof ZS)return Xs("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new qp(a,r,s)}catch(u){return Xs(u instanceof io?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.ge===0?null:l}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let r=0;return i.forEach(s=>{const a=this.Ge.ht(),l=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.et(n,s,null),r++)}),r}Tt(e){const n=new Map;this.ze.forEach((s,a)=>{const l=this.ot(a);if(l){if(s.current&&tm(l.target)){const u=new G(l.target.path);this.It(u).has(a)||this.Et(a,u)||this.et(a,u,gt.newNoDocument(u,e))}s.Be&&(n.set(a,s.ke()),s.Ke())}});let i=ae();this.Je.forEach((s,a)=>{let l=!0;a.forEachWhile(u=>{const c=this.ot(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(i=i.add(s))}),this.je.forEach((s,a)=>a.setReadTime(e));const r=new fh(e,n,this.Ze,this.je,i);return this.je=si(),this.He=au(),this.Je=au(),this.Ze=new Ie(se),r}Ye(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,i),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,n)?r.qe(n,1):r.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new $v,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Xe(se),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Xe(se),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||H("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new $v),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function au(){return new Ie(G.comparator)}function Xv(){return new Ie(G.comparator)}const F4={asc:"ASCENDING",desc:"DESCENDING"},G4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},K4={and:"AND",or:"OR"};class Y4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function rm(t,e){return t.useProto3Json||sh(e)?e:{value:e}}function Ac(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function NA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Q4(t,e){return Ac(t,e.toTimestamp())}function xn(t){return fe(!!t,49232),$.fromTimestamp(function(n){const i=tr(n);return new ye(i.seconds,i.nanos)}(t))}function Hp(t,e){return sm(t,e).canonicalString()}function sm(t,e){const n=function(r){return new Te(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function IA(t){const e=Te.fromString(t);return fe(jA(e),10190,{key:e.toString()}),e}function am(t,e){return Hp(t.databaseId,e.path)}function Pf(t,e){const n=IA(e);if(n.get(1)!==t.databaseId.projectId)throw new B(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new B(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new G(OA(n))}function DA(t,e){return Hp(t.databaseId,e)}function $4(t){const e=IA(t);return e.length===4?Te.emptyPath():OA(e)}function om(t){return new Te(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function OA(t){return fe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Wv(t,e,n){return{name:am(t,e),fields:n.value.mapValue.fields}}function X4(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Y(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(fe(d===void 0||typeof d=="string",58123),ht.fromBase64String(d||"")):(fe(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),ht.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(c){const d=c.code===void 0?k.UNKNOWN:xA(c.code);return new B(d,c.message||"")}(a);n=new CA(i,r,s,l||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=Pf(t,i.document.name),s=xn(i.document.updateTime),a=i.document.createTime?xn(i.document.createTime):$.min(),l=new Ct({mapValue:{fields:i.document.fields}}),u=gt.newFoundDocument(r,s,a,l),c=i.targetIds||[],d=i.removedTargetIds||[];n=new Mu(c,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=Pf(t,i.document),s=i.readTime?xn(i.readTime):$.min(),a=gt.newNoDocument(r,s),l=i.removedTargetIds||[];n=new Mu([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=Pf(t,i.document),s=i.removedTargetIds||[];n=new Mu([],s,r,null)}else{if(!("filter"in e))return Y(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,a=new U4(r,s),l=i.targetId;n=new RA(l,a)}}return n}function W4(t,e){let n;if(e instanceof bl)n={update:Wv(t,e.key,e.value)};else if(e instanceof zp)n={delete:am(t,e.key)};else if(e instanceof hr)n={update:Wv(t,e.key,e.data),updateMask:aM(e.fieldMask)};else{if(!(e instanceof k4))return Y(16599,{dt:e.type});n={verify:am(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(s,a){const l=a.transform;if(l instanceof $o)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Xo)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Wo)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Sc)return{fieldPath:a.field.canonicalString(),increment:l.Ae};throw Y(20930,{transform:a.transform})}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:Q4(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Y(27497)}(t,e.precondition)),n}function J4(t,e){return t&&t.length>0?(fe(e!==void 0,14353),t.map(n=>function(r,s){let a=r.updateTime?xn(r.updateTime):xn(s);return a.isEqual($.min())&&(a=xn(s)),new M4(a,r.transformResults||[])}(n,e))):[]}function Z4(t,e){return{documents:[DA(t,e.path)]}}function eM(t,e){const n={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=DA(t,r);const s=function(c){if(c.length!==0)return VA(fn.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(c){if(c.length!==0)return c.map(d=>function(p){return{field:us(p.field),direction:iM(p.dir)}}(d))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=rm(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:r}}function tM(t){let e=$4(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){fe(i===1,65062);const d=n.from[0];d.allDescendants?r=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(g){const p=MA(g);return p instanceof fn&&uA(p)?p.getFilters():[p]}(n.where));let a=[];n.orderBy&&(a=function(g){return g.map(p=>function(C){return new Qo(cs(C.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(p))}(n.orderBy));let l=null;n.limit&&(l=function(g){let p;return p=typeof g=="object"?g.value:g,sh(p)?null:p}(n.limit));let u=null;n.startAt&&(u=function(g){const p=!!g.before,y=g.values||[];return new bc(y,p)}(n.startAt));let c=null;return n.endAt&&(c=function(g){const p=!g.before,y=g.values||[];return new bc(y,p)}(n.endAt)),y4(e,r,a,s,l,"F",u,c)}function nM(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Y(28987,{purpose:r})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function MA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=cs(n.unaryFilter.field);return Fe.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=cs(n.unaryFilter.field);return Fe.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=cs(n.unaryFilter.field);return Fe.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=cs(n.unaryFilter.field);return Fe.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Y(61313);default:return Y(60726)}}(t):t.fieldFilter!==void 0?function(n){return Fe.create(cs(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Y(58110);default:return Y(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return fn.create(n.compositeFilter.filters.map(i=>MA(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Y(1026)}}(n.compositeFilter.op))}(t):Y(30097,{filter:t})}function iM(t){return F4[t]}function rM(t){return G4[t]}function sM(t){return K4[t]}function us(t){return{fieldPath:t.canonicalString()}}function cs(t){return lt.fromServerFormat(t.fieldPath)}function VA(t){return t instanceof Fe?function(n){if(n.op==="=="){if(Pv(n.value))return{unaryFilter:{field:us(n.field),op:"IS_NAN"}};if(Lv(n.value))return{unaryFilter:{field:us(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Pv(n.value))return{unaryFilter:{field:us(n.field),op:"IS_NOT_NAN"}};if(Lv(n.value))return{unaryFilter:{field:us(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:us(n.field),op:rM(n.op),value:n.value}}}(t):t instanceof fn?function(n){const i=n.getFilters().map(r=>VA(r));return i.length===1?i[0]:{compositeFilter:{op:sM(n.op),filters:i}}}(t):Y(54877,{filter:t})}function aM(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function jA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function kA(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e,n,i,r,s=$.min(),a=$.min(),l=ht.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new Oi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Oi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e){this.yt=e}}function lM(t){const e=tM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?im(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(){this.Sn=new cM}addToCollectionParentIndex(e,n){return this.Sn.add(n),P.resolve()}getCollectionParents(e,n){return P.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return P.resolve()}deleteFieldIndex(e,n){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,n){return P.resolve()}getDocumentsMatchingTarget(e,n){return P.resolve(null)}getIndexType(e,n){return P.resolve(0)}getFieldIndexes(e,n){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,n){return P.resolve(er.min())}getMinOffsetFromCollectionGroup(e,n){return P.resolve(er.min())}updateCollectionGroup(e,n,i){return P.resolve()}updateIndexEntries(e,n){return P.resolve()}}class cM{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new Xe(Te.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Xe(Te.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},LA=41943040;class Rt{static withCacheSize(e){return new Rt(e,Rt.DEFAULT_COLLECTION_PERCENTILE,Rt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rt.DEFAULT_COLLECTION_PERCENTILE=10,Rt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rt.DEFAULT=new Rt(LA,Rt.DEFAULT_COLLECTION_PERCENTILE,Rt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rt.DISABLED=new Rt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new ea(0)}static ar(){return new ea(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv="LruGarbageCollector",hM=1048576;function eE([t,e],[n,i]){const r=se(t,n);return r===0?se(e,i):r}class fM{constructor(e){this.Pr=e,this.buffer=new Xe(eE),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();eE(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class dM{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){H(Zv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ea(n)?H(Zv,"Ignoring IndexedDB error during garbage collection: ",n):await va(n)}await this.Ar(3e5)})}}class mM{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return P.resolve(rh.ce);const i=new fM(n);return this.Vr.forEachTarget(e,r=>i.Er(r.sequenceNumber)).next(()=>this.Vr.mr(e,r=>i.Er(r))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.Vr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(H("LruGarbageCollector","Garbage collection skipped; disabled"),P.resolve(Jv)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(H("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Jv):this.gr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let i,r,s,a,l,u,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(H("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),r=this.params.maximumSequenceNumbersToCollect):r=g,a=Date.now(),this.nthSequenceNumber(e,r))).next(g=>(i=g,l=Date.now(),this.removeTargets(e,i,n))).next(g=>(s=g,u=Date.now(),this.removeOrphanedDocuments(e,i))).next(g=>(c=Date.now(),os()<=re.DEBUG&&H("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${r} in `+(l-a)+`ms
	Removed ${s} targets in `+(u-l)+`ms
	Removed ${g} documents in `+(c-u)+`ms
Total Duration: ${c-d}ms`),P.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:g})))}}function pM(t,e){return new mM(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(){this.changes=new $r(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,gt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?P.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&wo(i.mutation,r,Lt.empty(),ye.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,ae()).next(()=>i))}getLocalViewOfDocuments(e,n,i=ae()){const r=wr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(s=>{let a=no();return s.forEach((l,u)=>{a=a.insert(l,u.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const i=wr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,ae()))}populateOverlays(e,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,i,r){let s=si();const a=Ao(),l=function(){return Ao()}();return n.forEach((u,c)=>{const d=i.get(c.key);r.has(c.key)&&(d===void 0||d.mutation instanceof hr)?s=s.insert(c.key,c):d!==void 0?(a.set(c.key,d.mutation.getFieldMask()),wo(d.mutation,c,d.mutation.getFieldMask(),ye.now())):a.set(c.key,Lt.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,d)=>a.set(c,d)),n.forEach((c,d)=>l.set(c,new yM(d,a.get(c)??null))),l))}recalculateAndSaveOverlays(e,n){const i=Ao();let r=new Ie((a,l)=>a-l),s=ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let d=i.get(u)||Lt.empty();d=l.applyToLocalView(c,d),i.set(u,d);const g=(r.get(l.batchId)||ae()).add(u);r=r.insert(l.batchId,g)})}).next(()=>{const a=[],l=r.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),c=u.key,d=u.value,g=_A();d.forEach(p=>{if(!s.has(p)){const y=AA(n.get(p),i.get(p));y!==null&&g.set(p,y),s=s.add(p)}}),a.push(this.documentOverlayCache.saveOverlays(e,c,g))}return P.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return _4(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):dA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(s=>{const a=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-s.size):P.resolve(wr());let l=Fo,u=s;return a.next(c=>P.forEach(c,(d,g)=>(l<g.largestBatchId&&(l=g.largestBatchId),s.get(d)?P.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{u=u.insert(d,p)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,ae())).next(d=>({batchId:l,changes:yA(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new G(n)).next(i=>{let r=no();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){const s=n.collectionGroup;let a=no();return this.indexManager.getCollectionParents(e,s).next(l=>P.forEach(l,u=>{const c=function(g,p){return new Ta(p,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,i,r).next(d=>{d.forEach((g,p)=>{a=a.insert(g,p)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,s,r))).next(a=>{s.forEach((u,c)=>{const d=c.getKey();a.get(d)===null&&(a=a.insert(d,gt.newInvalidDocument(d)))});let l=no();return a.forEach((u,c)=>{const d=s.get(u);d!==void 0&&wo(d.mutation,c,Lt.empty(),ye.now()),uh(n,c)&&(l=l.insert(u,c))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return P.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:xn(r.createTime)}}(n)),P.resolve()}getNamedQuery(e,n){return P.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,function(r){return{name:r.name,query:lM(r.bundledQuery),readTime:xn(r.readTime)}}(n)),P.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(){this.overlays=new Ie(G.comparator),this.Lr=new Map}getOverlay(e,n){return P.resolve(this.overlays.get(n))}getOverlays(e,n){const i=wr();return P.forEach(n,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,s)=>{this.bt(e,n,s)}),P.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.Lr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Lr.delete(i)),P.resolve()}getOverlaysForCollection(e,n,i){const r=wr(),s=n.length+1,a=new G(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const u=l.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>i&&r.set(u.getKey(),u)}return P.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let s=new Ie((c,d)=>c-d);const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>i){let d=s.get(c.largestBatchId);d===null&&(d=wr(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const l=wr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>l.set(c,d)),!(l.size()>=r)););return P.resolve(l)}bt(e,n,i){const r=this.overlays.get(i.key);if(r!==null){const a=this.Lr.get(r.largestBatchId).delete(i.key);this.Lr.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new P4(n,i));let s=this.Lr.get(n);s===void 0&&(s=ae(),this.Lr.set(n,s)),this.Lr.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(){this.sessionToken=ht.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,P.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(){this.kr=new Xe(et.Kr),this.qr=new Xe(et.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const i=new et(e,n);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Wr(new et(e,n))}Qr(e,n){e.forEach(i=>this.removeReference(i,n))}Gr(e){const n=new G(new Te([])),i=new et(n,e),r=new et(n,e+1),s=[];return this.qr.forEachInRange([i,r],a=>{this.Wr(a),s.push(a.key)}),s}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new G(new Te([])),i=new et(n,e),r=new et(n,e+1);let s=ae();return this.qr.forEachInRange([i,r],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new et(e,0),i=this.kr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class et{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return G.comparator(e.key,n.key)||se(e.Hr,n.Hr)}static Ur(e,n){return se(e.Hr,n.Hr)||G.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Xe(et.Kr)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){const s=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new L4(s,n,i,r);this.mutationQueue.push(a);for(const l of r)this.Jr=this.Jr.add(new et(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return P.resolve(a)}lookupMutationBatch(e,n){return P.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=this.Xr(i),s=r<0?0:r;return P.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?Vp:this.Yn-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new et(n,0),r=new et(n,Number.POSITIVE_INFINITY),s=[];return this.Jr.forEachInRange([i,r],a=>{const l=this.Zr(a.Hr);s.push(l)}),P.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Xe(se);return n.forEach(r=>{const s=new et(r,0),a=new et(r,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([s,a],l=>{i=i.add(l.Hr)})}),P.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let s=i;G.isDocumentKey(s)||(s=s.child(""));const a=new et(new G(s),0);let l=new Xe(se);return this.Jr.forEachWhile(u=>{const c=u.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(l=l.add(u.Hr)),!0)},a),P.resolve(this.Yr(l))}Yr(e){const n=[];return e.forEach(i=>{const r=this.Zr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){fe(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return P.forEach(n.mutations,r=>{const s=new et(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Jr=i})}nr(e){}containsKey(e,n){const i=new et(n,0),r=this.Jr.firstAfterOrEqual(i);return P.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(e){this.ti=e,this.docs=function(){return new Ie(G.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,a=this.ti(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return P.resolve(i?i.document.mutableCopy():gt.newInvalidDocument(n))}getEntries(e,n){let i=si();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():gt.newInvalidDocument(r))}),P.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let s=si();const a=n.path,l=new G(a.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||QO(YO(d),i)<=0||(r.has(d.key)||uh(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return P.resolve(s)}getAllFromCollectionGroup(e,n,i,r){Y(9500)}ni(e,n){return P.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new AM(this)}getSize(e){return P.resolve(this.size)}}class AM extends gM{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.Mr.addEntry(e,r)):this.Mr.removeEntry(i)}),P.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(e){this.persistence=e,this.ri=new $r(n=>Lp(n),Pp),this.lastRemoteSnapshotVersion=$.min(),this.highestTargetId=0,this.ii=0,this.si=new Fp,this.targetCount=0,this.oi=ea._r()}forEachTarget(e,n){return this.ri.forEach((i,r)=>n(r)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ii&&(this.ii=n),P.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new ea(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,P.resolve()}updateTargetData(e,n){return this.lr(n),P.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,n,i){let r=0;const s=[];return this.ri.forEach((a,l)=>{l.sequenceNumber<=n&&i.get(l.targetId)===null&&(this.ri.delete(a),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),r++)}),P.waitFor(s).next(()=>r)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,n){const i=this.ri.get(n)||null;return P.resolve(i)}addMatchingKeys(e,n,i){return this.si.$r(n,i),P.resolve()}removeMatchingKeys(e,n,i){this.si.Qr(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(a=>{s.push(r.markPotentiallyOrphaned(e,a))}),P.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),P.resolve()}getMatchingKeysForTargetId(e,n){const i=this.si.jr(n);return P.resolve(i)}containsKey(e,n){return P.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e,n){this._i={},this.overlays={},this.ai=new rh(0),this.ui=!1,this.ui=!0,this.ci=new TM,this.referenceDelegate=e(this),this.li=new wM(this),this.indexManager=new uM,this.remoteDocumentCache=function(r){return new SM(r)}(i=>this.referenceDelegate.hi(i)),this.serializer=new oM(n),this.Pi=new vM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new EM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this._i[e.toKey()];return i||(i=new bM(n,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,i){H("MemoryPersistence","Starting transaction:",e);const r=new xM(this.ai.next());return this.referenceDelegate.Ti(),i(r).next(s=>this.referenceDelegate.Ii(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ei(e,n){return P.or(Object.values(this._i).map(i=>()=>i.containsKey(e,n)))}}class xM extends XO{constructor(e){super(),this.currentSequenceNumber=e}}class Gp{constructor(e){this.persistence=e,this.Ri=new Fp,this.Ai=null}static Vi(e){return new Gp(e)}get di(){if(this.Ai)return this.Ai;throw Y(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.di.delete(i.toString()),P.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.di.add(i.toString()),P.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),P.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach(r=>this.di.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(s=>this.di.add(s.toString()))}).next(()=>i.removeTargetData(e,n))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.di,i=>{const r=G.fromPath(i);return this.mi(e,r).next(s=>{s||n.removeEntry(r,$.min())})}).next(()=>(this.Ai=null,n.apply(e)))}updateLimboDocument(e,n){return this.mi(e,n).next(i=>{i?this.di.delete(n.toString()):this.di.add(n.toString())})}hi(e){return 0}mi(e,n){return P.or([()=>P.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class wc{constructor(e,n){this.persistence=e,this.fi=new $r(i=>ZO(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=pM(this,n)}static Vi(e,n){return new wc(e,n)}Ti(){}Ii(e){return P.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(r=>i+r))}pr(e){let n=0;return this.mr(e,i=>{n++}).next(()=>n)}mr(e,n){return P.forEach(this.fi,(i,r)=>this.wr(e,i,r).next(s=>s?P.resolve():n(r)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.ni(e,a=>this.wr(e,a,n).next(l=>{l||(i++,s.removeEntry(a,$.min()))})).next(()=>s.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),P.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),P.resolve()}removeReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),P.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),P.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Iu(e.data.value)),n}wr(e,n,i){return P.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const r=this.fi.get(n);return P.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.Ts=i,this.Is=r}static Es(e,n){let i=ae(),r=ae();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new Kp(e,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return t2()?8:WO(yt())>0?6:4}()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,r){const s={result:null};return this.gs(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.ps(e,n,r,i).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new RM;return this.ys(e,n,a).next(l=>{if(s.result=l,this.As)return this.ws(e,n,a,l.size)})}).next(()=>s.result)}ws(e,n,i,r){return i.documentReadCount<this.Vs?(os()<=re.DEBUG&&H("QueryEngine","SDK will not create cache indexes for query:",ls(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),P.resolve()):(os()<=re.DEBUG&&H("QueryEngine","Query:",ls(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ds*r?(os()<=re.DEBUG&&H("QueryEngine","The SDK decides to create cache indexes for query:",ls(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wn(n))):P.resolve())}gs(e,n){if(qv(n))return P.resolve(null);let i=wn(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=im(n,null,"F"),i=wn(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const a=ae(...s);return this.fs.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,i).next(u=>{const c=this.bs(n,l);return this.Ss(n,c,a,u.readTime)?this.gs(e,im(n,null,"F")):this.Ds(e,c,n,u)}))})))}ps(e,n,i,r){return qv(n)||r.isEqual($.min())?P.resolve(null):this.fs.getDocuments(e,i).next(s=>{const a=this.bs(n,s);return this.Ss(n,a,i,r)?P.resolve(null):(os()<=re.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ls(n)),this.Ds(e,a,n,KO(r,Fo)).next(l=>l))})}bs(e,n){let i=new Xe(pA(e));return n.forEach((r,s)=>{uh(e,s)&&(i=i.add(s))}),i}Ss(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}ys(e,n,i){return os()<=re.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",ls(n)),this.fs.getDocumentsMatchingQuery(e,n,er.min(),i)}Ds(e,n,i,r){return this.fs.getDocumentsMatchingQuery(e,i,r).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yp="LocalStore",NM=3e8;class IM{constructor(e,n,i,r){this.persistence=e,this.Cs=n,this.serializer=r,this.vs=new Ie(se),this.Fs=new $r(s=>Lp(s),Pp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _M(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.vs))}}function DM(t,e,n,i){return new IM(t,e,n,i)}async function UA(t,e){const n=X(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.Os(e),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const a=[],l=[];let u=ae();for(const c of r){a.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of s){l.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(i,u).next(c=>({Ns:c,removedBatchIds:a,addedBatchIds:l}))})})}function OM(t,e){const n=X(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=n.xs.newChangeBuffer({trackRemovals:!0});return function(l,u,c,d){const g=c.batch,p=g.keys();let y=P.resolve();return p.forEach(C=>{y=y.next(()=>d.getEntry(u,C)).next(D=>{const I=c.docVersions.get(C);fe(I!==null,48541),D.version.compareTo(I)<0&&(g.applyToRemoteDocument(D,c),D.isValidDocument()&&(D.setReadTime(c.commitVersion),d.addEntry(D)))})}),y.next(()=>l.mutationQueue.removeMutationBatch(u,g))}(n,i,e,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let u=ae();for(let c=0;c<l.mutationResults.length;++c)l.mutationResults[c].transformResults.length>0&&(u=u.add(l.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function zA(t){const e=X(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.li.getLastRemoteSnapshotVersion(n))}function MM(t,e){const n=X(t),i=e.snapshotVersion;let r=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.xs.newChangeBuffer({trackRemovals:!0});r=n.vs;const l=[];e.targetChanges.forEach((d,g)=>{const p=r.get(g);if(!p)return;l.push(n.li.removeMatchingKeys(s,d.removedDocuments,g).next(()=>n.li.addMatchingKeys(s,d.addedDocuments,g)));let y=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?y=y.withResumeToken(ht.EMPTY_BYTE_STRING,$.min()).withLastLimboFreeSnapshotVersion($.min()):d.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(d.resumeToken,i)),r=r.insert(g,y),function(D,I,T){return D.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=NM?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(p,y,d)&&l.push(n.li.updateTargetData(s,y))});let u=si(),c=ae();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),l.push(VM(s,a,e.documentUpdates).next(d=>{u=d.Bs,c=d.Ls})),!i.isEqual($.min())){const d=n.li.getLastRemoteSnapshotVersion(s).next(g=>n.li.setTargetsMetadata(s,s.currentSequenceNumber,i));l.push(d)}return P.waitFor(l).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.vs=r,s))}function VM(t,e,n){let i=ae(),r=ae();return n.forEach(s=>i=i.add(s)),e.getEntries(t,i).next(s=>{let a=si();return n.forEach((l,u)=>{const c=s.get(l);u.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(l)),u.isNoDocument()&&u.version.isEqual($.min())?(e.removeEntry(l,u.readTime),a=a.insert(l,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),a=a.insert(l,u)):H(Yp,"Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",u.version)}),{Bs:a,Ls:r}})}function jM(t,e){const n=X(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Vp),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function kM(t,e){const n=X(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.li.getTargetData(i,e).next(s=>s?(r=s,P.resolve(r)):n.li.allocateTargetId(i).next(a=>(r=new Oi(e,a,"TargetPurposeListen",i.currentSequenceNumber),n.li.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.vs.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.vs=n.vs.insert(i.targetId,i),n.Fs.set(e,i.targetId)),i})}async function lm(t,e,n){const i=X(t),r=i.vs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,a=>i.persistence.referenceDelegate.removeTarget(a,r))}catch(a){if(!Ea(a))throw a;H(Yp,`Failed to update sequence numbers for target ${e}: ${a}`)}i.vs=i.vs.remove(e),i.Fs.delete(r.target)}function tE(t,e,n){const i=X(t);let r=$.min(),s=ae();return i.persistence.runTransaction("Execute query","readwrite",a=>function(u,c,d){const g=X(u),p=g.Fs.get(d);return p!==void 0?P.resolve(g.vs.get(p)):g.li.getTargetData(c,d)}(i,a,wn(e)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(a,l.targetId).next(u=>{s=u})}).next(()=>i.Cs.getDocumentsMatchingQuery(a,e,n?r:$.min(),n?s:ae())).next(l=>(LM(i,T4(e),l),{documents:l,ks:s})))}function LM(t,e,n){let i=t.Ms.get(e)||$.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),t.Ms.set(e,i)}class nE{constructor(){this.activeTargetIds=R4()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class PM{constructor(){this.vo=new nE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,i){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new nE,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE="ConnectivityMonitor";class rE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){H(iE,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){H(iE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ou=null;function um(){return ou===null?ou=function(){return 268435456+Math.round(2147483648*Math.random())}():ou++,"0x"+ou.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uf="RestConnection",zM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class BM{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${i}/databases/${r}`,this.$o=this.databaseId.database===Ec?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Wo(e,n,i,r,s){const a=um(),l=this.Qo(e,n.toUriEncodedString());H(Uf,`Sending RPC '${e}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(u,r,s);const{host:c}=new URL(l),d=ma(c);return this.zo(e,l,u,i,d).then(g=>(H(Uf,`Received RPC '${e}' ${a}: `,g),g),g=>{throw Xs(Uf,`RPC '${e}' ${a} failed with error: `,g,"url: ",l,"request:",i),g})}jo(e,n,i,r,s,a){return this.Wo(e,n,i,r,s)}Go(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+_a}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}Qo(e,n){const i=zM[e];let r=`${this.qo}/v1/${n}:${i}`;return this.databaseInfo.apiKey&&(r=`${r}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),r}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mt="WebChannelConnection",Ya=(t,e,n)=>{t.listen(e,i=>{try{n(i)}catch(r){setTimeout(()=>{throw r},0)}})};class Vs extends BM{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Vs.c_){const e=GS();Ya(e,FS.STAT_EVENT,n=>{n.stat===Xd.PROXY?H(mt,"STAT_EVENT: detected buffering proxy"):n.stat===Xd.NOPROXY&&H(mt,"STAT_EVENT: detected no buffering proxy")}),Vs.c_=!0}}zo(e,n,i,r,s){const a=um();return new Promise((l,u)=>{const c=new qS;c.setWithCredentials(!0),c.listenOnce(HS.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Nu.NO_ERROR:const g=c.getResponseJson();H(mt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(g)),l(g);break;case Nu.TIMEOUT:H(mt,`RPC '${e}' ${a} timed out`),u(new B(k.DEADLINE_EXCEEDED,"Request time out"));break;case Nu.HTTP_ERROR:const p=c.getStatus();if(H(mt,`RPC '${e}' ${a} failed with status:`,p,"response text:",c.getResponseText()),p>0){let y=c.getResponseJson();Array.isArray(y)&&(y=y[0]);const C=y==null?void 0:y.error;if(C&&C.status&&C.message){const D=function(T){const v=T.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(v)>=0?v:k.UNKNOWN}(C.status);u(new B(D,C.message))}else u(new B(k.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new B(k.UNAVAILABLE,"Connection failed."));break;default:Y(9055,{l_:e,streamId:a,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{H(mt,`RPC '${e}' ${a} completed.`)}});const d=JSON.stringify(r);H(mt,`RPC '${e}' ${a} sending request:`,r),c.send(n,"POST",d,i,15)})}T_(e,n,i){const r=um(),s=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=this.createWebChannelTransport(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Go(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;const c=s.join("");H(mt,`Creating RPC '${e}' stream ${r}: ${c}`,l);const d=a.createWebChannel(c,l);this.I_(d);let g=!1,p=!1;const y=new qM({Ho:C=>{p?H(mt,`Not sending because RPC '${e}' stream ${r} is closed:`,C):(g||(H(mt,`Opening RPC '${e}' stream ${r} transport.`),d.open(),g=!0),H(mt,`RPC '${e}' stream ${r} sending:`,C),d.send(C))},Jo:()=>d.close()});return Ya(d,to.EventType.OPEN,()=>{p||(H(mt,`RPC '${e}' stream ${r} transport opened.`),y.i_())}),Ya(d,to.EventType.CLOSE,()=>{p||(p=!0,H(mt,`RPC '${e}' stream ${r} transport closed`),y.o_(),this.E_(d))}),Ya(d,to.EventType.ERROR,C=>{p||(p=!0,Xs(mt,`RPC '${e}' stream ${r} transport errored. Name:`,C.name,"Message:",C.message),y.o_(new B(k.UNAVAILABLE,"The operation could not be completed")))}),Ya(d,to.EventType.MESSAGE,C=>{var D;if(!p){const I=C.data[0];fe(!!I,16349);const T=I,v=(T==null?void 0:T.error)||((D=T[0])==null?void 0:D.error);if(v){H(mt,`RPC '${e}' stream ${r} received error:`,v);const A=v.status;let V=function(b){const E=ze[b];if(E!==void 0)return xA(E)}(A),U=v.message;V===void 0&&(V=k.INTERNAL,U="Unknown error status: "+A+" with message "+v.message),p=!0,y.o_(new B(V,U)),d.close()}else H(mt,`RPC '${e}' stream ${r} received:`,I),y.__(I)}}),Vs.u_(),setTimeout(()=>{y.s_()},0),y}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(n=>n===e)}Go(e,n,i){super.Go(e,n,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return KS()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HM(t){return new Vs(t)}function zf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dh(t){return new Y4(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vs.c_=!1;class BA{constructor(e,n,i=1e3,r=1.5,s=6e4){this.Ci=e,this.timerId=n,this.R_=i,this.A_=r,this.V_=s,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,n-i);r>0&&H("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="PersistentStream";class qA{constructor(e,n,i,r,s,a,l,u){this.Ci=e,this.b_=i,this.S_=r,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new BA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===k.RESOURCE_EXHAUSTED?(ri(n.toString()),ri("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.D_===n&&this.G_(i,r)},i=>{e(()=>{const r=new B(k.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(r)})})}G_(e,n){const i=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo(()=>{i(()=>this.listener.Zo())}),this.stream.Yo(()=>{i(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(r=>{i(()=>this.z_(r))}),this.stream.onMessage(r=>{i(()=>++this.F_==1?this.H_(r):this.onNext(r))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return H(sE,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget(()=>this.D_===e?n():(H(sE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class FM extends qA{constructor(e,n,i,r,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,a),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=X4(this.serializer,e),i=function(s){if(!("targetChange"in s))return $.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?$.min():a.readTime?xn(a.readTime):$.min()}(e);return this.listener.J_(n,i)}Z_(e){const n={};n.database=om(this.serializer),n.addTarget=function(s,a){let l;const u=a.target;if(l=tm(u)?{documents:Z4(s,u)}:{query:eM(s,u).ft},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=NA(s,a.resumeToken);const c=rm(s,a.expectedCount);c!==null&&(l.expectedCount=c)}else if(a.snapshotVersion.compareTo($.min())>0){l.readTime=Ac(s,a.snapshotVersion.toTimestamp());const c=rm(s,a.expectedCount);c!==null&&(l.expectedCount=c)}return l}(this.serializer,e);const i=nM(this.serializer,e);i&&(n.labels=i),this.K_(n)}X_(e){const n={};n.database=om(this.serializer),n.removeTarget=e,this.K_(n)}}class GM extends qA{constructor(e,n,i,r,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,a),this.serializer=s}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=J4(e.writeResults,e.commitTime),i=xn(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=om(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>W4(this.serializer,i))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{}class YM extends KM{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new B(k.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Wo(e,sm(n,i),r,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new B(k.UNKNOWN,s.toString())})}jo(e,n,i,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.jo(e,sm(n,i),r,a,l,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new B(k.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function QM(t,e,n,i){return new YM(t,e,n,i)}class $M{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ri(n),this.aa=!1):H("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br="RemoteStore";class XM{constructor(e,n,i,r,s){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=s,this.Aa.Mo(a=>{i.enqueueAndForget(async()=>{Xr(this)&&(H(Br,"Restarting streams for network reachability change."),await async function(u){const c=X(u);c.Ea.add(4),await Al(c),c.Va.set("Unknown"),c.Ea.delete(4),await mh(c)}(this))})}),this.Va=new $M(i,r)}}async function mh(t){if(Xr(t))for(const e of t.Ra)await e(!0)}async function Al(t){for(const e of t.Ra)await e(!1)}function HA(t,e){const n=X(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Wp(n)?Xp(n):ba(n).O_()&&$p(n,e))}function Qp(t,e){const n=X(t),i=ba(n);n.Ia.delete(e),i.O_()&&FA(n,e),n.Ia.size===0&&(i.O_()?i.L_():Xr(n)&&n.Va.set("Unknown"))}function $p(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo($.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ba(t).Z_(e)}function FA(t,e){t.da.$e(e),ba(t).X_(e)}function Xp(t){t.da=new H4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ba(t).start(),t.Va.ua()}function Wp(t){return Xr(t)&&!ba(t).x_()&&t.Ia.size>0}function Xr(t){return X(t).Ea.size===0}function GA(t){t.da=void 0}async function WM(t){t.Va.set("Online")}async function JM(t){t.Ia.forEach((e,n)=>{$p(t,e)})}async function ZM(t,e){GA(t),Wp(t)?(t.Va.ha(e),Xp(t)):t.Va.set("Unknown")}async function eV(t,e,n){if(t.Va.set("Online"),e instanceof CA&&e.state===2&&e.cause)try{await async function(r,s){const a=s.cause;for(const l of s.targetIds)r.Ia.has(l)&&(await r.remoteSyncer.rejectListen(l,a),r.Ia.delete(l),r.da.removeTarget(l))}(t,e)}catch(i){H(Br,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await xc(t,i)}else if(e instanceof Mu?t.da.Xe(e):e instanceof RA?t.da.st(e):t.da.tt(e),!n.isEqual($.min()))try{const i=await zA(t.localStore);n.compareTo(i)>=0&&await function(s,a){const l=s.da.Tt(a);return l.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=s.Ia.get(c);d&&s.Ia.set(c,d.withResumeToken(u.resumeToken,a))}}),l.targetMismatches.forEach((u,c)=>{const d=s.Ia.get(u);if(!d)return;s.Ia.set(u,d.withResumeToken(ht.EMPTY_BYTE_STRING,d.snapshotVersion)),FA(s,u);const g=new Oi(d.target,u,c,d.sequenceNumber);$p(s,g)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(i){H(Br,"Failed to raise snapshot:",i),await xc(t,i)}}async function xc(t,e,n){if(!Ea(e))throw e;t.Ea.add(1),await Al(t),t.Va.set("Offline"),n||(n=()=>zA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{H(Br,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await mh(t)})}function KA(t,e){return e().catch(n=>xc(t,n,e))}async function ph(t){const e=X(t),n=rr(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Vp;for(;tV(e);)try{const r=await jM(e.localStore,i);if(r===null){e.Ta.length===0&&n.L_();break}i=r.batchId,nV(e,r)}catch(r){await xc(e,r)}YA(e)&&QA(e)}function tV(t){return Xr(t)&&t.Ta.length<10}function nV(t,e){t.Ta.push(e);const n=rr(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function YA(t){return Xr(t)&&!rr(t).x_()&&t.Ta.length>0}function QA(t){rr(t).start()}async function iV(t){rr(t).ra()}async function rV(t){const e=rr(t);for(const n of t.Ta)e.ea(n.mutations)}async function sV(t,e,n){const i=t.Ta.shift(),r=Bp.from(i,e,n);await KA(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await ph(t)}async function aV(t,e){e&&rr(t).Y_&&await async function(i,r){if(function(a){return z4(a)&&a!==k.ABORTED}(r.code)){const s=i.Ta.shift();rr(i).B_(),await KA(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await ph(i)}}(t,e),YA(t)&&QA(t)}async function aE(t,e){const n=X(t);n.asyncQueue.verifyOperationInProgress(),H(Br,"RemoteStore received new credentials");const i=Xr(n);n.Ea.add(3),await Al(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await mh(n)}async function oV(t,e){const n=X(t);e?(n.Ea.delete(2),await mh(n)):e||(n.Ea.add(2),await Al(n),n.Va.set("Unknown"))}function ba(t){return t.ma||(t.ma=function(n,i,r){const s=X(n);return s.sa(),new FM(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Zo:WM.bind(null,t),Yo:JM.bind(null,t),t_:ZM.bind(null,t),J_:eV.bind(null,t)}),t.Ra.push(async e=>{e?(t.ma.B_(),Wp(t)?Xp(t):t.Va.set("Unknown")):(await t.ma.stop(),GA(t))})),t.ma}function rr(t){return t.fa||(t.fa=function(n,i,r){const s=X(n);return s.sa(),new GM(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:iV.bind(null,t),t_:aV.bind(null,t),ta:rV.bind(null,t),na:sV.bind(null,t)}),t.Ra.push(async e=>{e?(t.fa.B_(),await ph(t)):(await t.fa.stop(),t.Ta.length>0&&(H(Br,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e,n,i,r,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Yi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,s){const a=Date.now()+i,l=new Jp(e,n,a,r,s);return l.start(i),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new B(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zp(t,e){if(ri("AsyncQueue",`${e}: ${t}`),Ea(t))return new B(k.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{static emptySet(e){return new js(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||G.comparator(n.key,i.key):(n,i)=>G.comparator(n.key,i.key),this.keyedMap=no(),this.sortedSet=new Ie(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof js)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new js;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(){this.ga=new Ie(G.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Y(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,i)=>{e.push(i)}),e}}class ta{constructor(e,n,i,r,s,a,l,u,c){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,i,r,s){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new ta(e,n,js.emptySet(n),a,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}}class uV{constructor(){this.queries=lE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const r=X(n),s=r.queries;r.queries=lE(),s.forEach((a,l)=>{for(const u of l.ba)u.onError(i)})})(this,new B(k.ABORTED,"Firestore shutting down"))}}function lE(){return new $r(t=>mA(t),lh)}async function $A(t,e){const n=X(t);let i=3;const r=e.query;let s=n.queries.get(r);s?!s.Sa()&&e.Da()&&(i=2):(s=new lV,i=e.Da()?0:1);try{switch(i){case 0:s.wa=await n.onListen(r,!0);break;case 1:s.wa=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(a){const l=Zp(a,`Initialization of query '${ls(e.query)}' failed`);return void e.onError(l)}n.queries.set(r,s),s.ba.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&eg(n)}async function XA(t,e){const n=X(t),i=e.query;let r=3;const s=n.queries.get(i);if(s){const a=s.ba.indexOf(e);a>=0&&(s.ba.splice(a,1),s.ba.length===0?r=e.Da()?0:1:!s.Sa()&&e.Da()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function cV(t,e){const n=X(t);let i=!1;for(const r of e){const s=r.query,a=n.queries.get(s);if(a){for(const l of a.ba)l.Fa(r)&&(i=!0);a.wa=r}}i&&eg(n)}function hV(t,e,n){const i=X(t),r=i.queries.get(e);if(r)for(const s of r.ba)s.onError(n);i.queries.delete(e)}function eg(t){t.Ca.forEach(e=>{e.next()})}var cm,uE;(uE=cm||(cm={})).Ma="default",uE.Cache="cache";class WA{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new ta(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ta.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==cm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e){this.key=e}}class ZA{constructor(e){this.key=e}}class fV{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ae(),this.mutatedKeys=ae(),this.eu=pA(e),this.tu=new js(this.eu)}get nu(){return this.Za}ru(e,n){const i=n?n.iu:new oE,r=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,a=r,l=!1;const u=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((d,g)=>{const p=r.get(d),y=uh(this.query,g)?g:null,C=!!p&&this.mutatedKeys.has(p.key),D=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let I=!1;p&&y?p.data.isEqual(y.data)?C!==D&&(i.track({type:3,doc:y}),I=!0):this.su(p,y)||(i.track({type:2,doc:y}),I=!0,(u&&this.eu(y,u)>0||c&&this.eu(y,c)<0)&&(l=!0)):!p&&y?(i.track({type:0,doc:y}),I=!0):p&&!y&&(i.track({type:1,doc:p}),I=!0,(u||c)&&(l=!0)),I&&(y?(a=a.add(y),s=D?s.add(d):s.delete(d)):(a=a.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),s=s.delete(d.key),i.track({type:1,doc:d})}return{tu:a,iu:i,Ss:l,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((d,g)=>function(y,C){const D=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y(20277,{Vt:I})}};return D(y)-D(C)}(d.type,g.type)||this.eu(d.doc,g.doc)),this.ou(i),r=r??!1;const l=n&&!r?this._u():[],u=this.Ya.size===0&&this.current&&!r?1:0,c=u!==this.Xa;return this.Xa=u,a.length!==0||c?{snapshot:new ta(this.query,e.tu,s,a,e.mutatedKeys,u===0,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new oE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Za=this.Za.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Za=this.Za.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=ae(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))});const n=[];return e.forEach(i=>{this.Ya.has(i)||n.push(new ZA(i))}),this.Ya.forEach(i=>{e.has(i)||n.push(new JA(i))}),n}cu(e){this.Za=e.ks,this.Ya=ae();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ta.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const tg="SyncEngine";class dV{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class mV{constructor(e){this.key=e,this.hu=!1}}class pV{constructor(e,n,i,r,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new $r(l=>mA(l),lh),this.Iu=new Map,this.Eu=new Set,this.Ru=new Ie(G.comparator),this.Au=new Map,this.Vu=new Fp,this.du={},this.mu=new Map,this.fu=ea.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function gV(t,e,n=!0){const i=sw(t);let r;const s=i.Tu.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.lu()):r=await ew(i,e,n,!0),r}async function yV(t,e){const n=sw(t);await ew(n,e,!0,!1)}async function ew(t,e,n,i){const r=await kM(t.localStore,wn(e)),s=r.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let l;return i&&(l=await _V(t,e,s,a==="current",r.resumeToken)),t.isPrimaryClient&&n&&HA(t.remoteStore,r),l}async function _V(t,e,n,i,r){t.pu=(g,p,y)=>async function(D,I,T,v){let A=I.view.ru(T);A.Ss&&(A=await tE(D.localStore,I.query,!1).then(({documents:b})=>I.view.ru(b,A)));const V=v&&v.targetChanges.get(I.targetId),U=v&&v.targetMismatches.get(I.targetId)!=null,F=I.view.applyChanges(A,D.isPrimaryClient,V,U);return hE(D,I.targetId,F.au),F.snapshot}(t,g,p,y);const s=await tE(t.localStore,e,!0),a=new fV(e,s.ks),l=a.ru(s.documents),u=Sl.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),c=a.applyChanges(l,t.isPrimaryClient,u);hE(t,n,c.au);const d=new dV(e,n,a);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function vV(t,e,n){const i=X(t),r=i.Tu.get(e),s=i.Iu.get(r.targetId);if(s.length>1)return i.Iu.set(r.targetId,s.filter(a=>!lh(a,e))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await lm(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&Qp(i.remoteStore,r.targetId),hm(i,r.targetId)}).catch(va)):(hm(i,r.targetId),await lm(i.localStore,r.targetId,!0))}async function EV(t,e){const n=X(t),i=n.Tu.get(e),r=n.Iu.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Qp(n.remoteStore,i.targetId))}async function TV(t,e,n){const i=CV(t);try{const r=await function(a,l){const u=X(a),c=ye.now(),d=l.reduce((y,C)=>y.add(C.key),ae());let g,p;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let C=si(),D=ae();return u.xs.getEntries(y,d).next(I=>{C=I,C.forEach((T,v)=>{v.isValidDocument()||(D=D.add(T))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,C)).next(I=>{g=I;const T=[];for(const v of l){const A=j4(v,g.get(v.key).overlayedDocument);A!=null&&T.push(new hr(v.key,A,aA(A.value.mapValue),un.exists(!0)))}return u.mutationQueue.addMutationBatch(y,c,T,l)}).next(I=>{p=I;const T=I.applyToLocalDocumentSet(g,D);return u.documentOverlayCache.saveOverlays(y,I.batchId,T)})}).then(()=>({batchId:p.batchId,changes:yA(g)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(a,l,u){let c=a.du[a.currentUser.toKey()];c||(c=new Ie(se)),c=c.insert(l,u),a.du[a.currentUser.toKey()]=c}(i,r.batchId,n),await wl(i,r.changes),await ph(i.remoteStore)}catch(r){const s=Zp(r,"Failed to persist write");n.reject(s)}}async function tw(t,e){const n=X(t);try{const i=await MM(n.localStore,e);e.targetChanges.forEach((r,s)=>{const a=n.Au.get(s);a&&(fe(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?a.hu=!0:r.modifiedDocuments.size>0?fe(a.hu,14607):r.removedDocuments.size>0&&(fe(a.hu,42227),a.hu=!1))}),await wl(n,i,e)}catch(i){await va(i)}}function cE(t,e,n){const i=X(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.Tu.forEach((s,a)=>{const l=a.view.va(e);l.snapshot&&r.push(l.snapshot)}),function(a,l){const u=X(a);u.onlineState=l;let c=!1;u.queries.forEach((d,g)=>{for(const p of g.ba)p.va(l)&&(c=!0)}),c&&eg(u)}(i.eventManager,e),r.length&&i.Pu.J_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function bV(t,e,n){const i=X(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.Au.get(e),s=r&&r.key;if(s){let a=new Ie(G.comparator);a=a.insert(s,gt.newNoDocument(s,$.min()));const l=ae().add(s),u=new fh($.min(),new Map,new Ie(se),a,l);await tw(i,u),i.Ru=i.Ru.remove(s),i.Au.delete(e),ng(i)}else await lm(i.localStore,e,!1).then(()=>hm(i,e,n)).catch(va)}async function SV(t,e){const n=X(t),i=e.batch.batchId;try{const r=await OM(n.localStore,e);iw(n,i,null),nw(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await wl(n,r)}catch(r){await va(r)}}async function AV(t,e,n){const i=X(t);try{const r=await function(a,l){const u=X(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return u.mutationQueue.lookupMutationBatch(c,l).next(g=>(fe(g!==null,37113),d=g.keys(),u.mutationQueue.removeMutationBatch(c,g))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>u.localDocuments.getDocuments(c,d))})}(i.localStore,e);iw(i,e,n),nw(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await wl(i,r)}catch(r){await va(r)}}function nw(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function iw(t,e,n){const i=X(t);let r=i.du[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.du[i.currentUser.toKey()]=r}}function hm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach(i=>{t.Vu.containsKey(i)||rw(t,i)})}function rw(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(Qp(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),ng(t))}function hE(t,e,n){for(const i of n)i instanceof JA?(t.Vu.addReference(i.key,e),wV(t,i)):i instanceof ZA?(H(tg,"Document no longer in limbo: "+i.key),t.Vu.removeReference(i.key,e),t.Vu.containsKey(i.key)||rw(t,i.key)):Y(19791,{wu:i})}function wV(t,e){const n=e.key,i=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(i)||(H(tg,"New document in limbo: "+n),t.Eu.add(i),ng(t))}function ng(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new G(Te.fromString(e)),i=t.fu.next();t.Au.set(i,new mV(n)),t.Ru=t.Ru.insert(n,i),HA(t.remoteStore,new Oi(wn(oh(n.path)),i,"TargetPurposeLimboResolution",rh.ce))}}async function wl(t,e,n){const i=X(t),r=[],s=[],a=[];i.Tu.isEmpty()||(i.Tu.forEach((l,u)=>{a.push(i.pu(u,e,n).then(c=>{var d;if((c||n)&&i.isPrimaryClient){const g=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:d.current;i.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(c){r.push(c);const g=Kp.Es(u.targetId,c);s.push(g)}}))}),await Promise.all(a),i.Pu.J_(r),await async function(u,c){const d=X(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>P.forEach(c,p=>P.forEach(p.Ts,y=>d.persistence.referenceDelegate.addReference(g,p.targetId,y)).next(()=>P.forEach(p.Is,y=>d.persistence.referenceDelegate.removeReference(g,p.targetId,y)))))}catch(g){if(!Ea(g))throw g;H(Yp,"Failed to update sequence numbers: "+g)}for(const g of c){const p=g.targetId;if(!g.fromCache){const y=d.vs.get(p),C=y.snapshotVersion,D=y.withLastLimboFreeSnapshotVersion(C);d.vs=d.vs.insert(p,D)}}}(i.localStore,s))}async function xV(t,e){const n=X(t);if(!n.currentUser.isEqual(e)){H(tg,"User change. New user:",e.toKey());const i=await UA(n.localStore,e);n.currentUser=e,function(s,a){s.mu.forEach(l=>{l.forEach(u=>{u.reject(new B(k.CANCELLED,a))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await wl(n,i.Ns)}}function RV(t,e){const n=X(t),i=n.Au.get(e);if(i&&i.hu)return ae().add(i.key);{let r=ae();const s=n.Iu.get(e);if(!s)return r;for(const a of s){const l=n.Tu.get(a);r=r.unionWith(l.view.nu)}return r}}function sw(t){const e=X(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=tw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=RV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bV.bind(null,e),e.Pu.J_=cV.bind(null,e.eventManager),e.Pu.yu=hV.bind(null,e.eventManager),e}function CV(t){const e=X(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=SV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=AV.bind(null,e),e}class Rc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=dh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return DM(this.persistence,new CM,e.initialUser,this.serializer)}Cu(e){return new PA(Gp.Vi,this.serializer)}Du(e){return new PM}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rc.provider={build:()=>new Rc};class NV extends Rc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){fe(this.persistence.referenceDelegate instanceof wc,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new dM(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Rt.withCacheSize(this.cacheSizeBytes):Rt.DEFAULT;return new PA(i=>wc.Vi(i,n),this.serializer)}}class fm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>cE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=xV.bind(null,this.syncEngine),await oV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new uV}()}createDatastore(e){const n=dh(e.databaseInfo.databaseId),i=HM(e.databaseInfo);return QM(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,s,a,l){return new XM(i,r,s,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>cE(this.syncEngine,n,0),function(){return rE.v()?new rE:new UM}())}createSyncEngine(e,n){return function(r,s,a,l,u,c,d){const g=new pV(r,s,a,l,u,c);return d&&(g.gu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(r){const s=X(r);H(Br,"RemoteStore shutting down."),s.Ea.add(5),await Al(s),s.Aa.shutdown(),s.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}fm.provider={build:()=>new fm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ri("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr="FirestoreClient";class IV{constructor(e,n,i,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this._databaseInfo=r,this.user=pt.UNAUTHENTICATED,this.clientId=Mp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,async a=>{H(sr,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(i,a=>(H(sr,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Yi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Zp(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Bf(t,e){t.asyncQueue.verifyOperationInProgress(),H(sr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async r=>{i.isEqual(r)||(await UA(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function fE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await DV(t);H(sr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>aE(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>aE(e.remoteStore,r)),t._onlineComponents=e}async function DV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){H(sr,"Using user provided OfflineComponentProvider");try{await Bf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(r){return r.name==="FirebaseError"?r.code===k.FAILED_PRECONDITION||r.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;Xs("Error using user provided cache. Falling back to memory cache: "+n),await Bf(t,new Rc)}}else H(sr,"Using default OfflineComponentProvider"),await Bf(t,new NV(void 0));return t._offlineComponents}async function ow(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(H(sr,"Using user provided OnlineComponentProvider"),await fE(t,t._uninitializedComponentsProvider._online)):(H(sr,"Using default OnlineComponentProvider"),await fE(t,new fm))),t._onlineComponents}function OV(t){return ow(t).then(e=>e.syncEngine)}async function dm(t){const e=await ow(t),n=e.eventManager;return n.onListen=gV.bind(null,e.syncEngine),n.onUnlisten=vV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=yV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=EV.bind(null,e.syncEngine),n}function MV(t,e,n,i){const r=new aw(i),s=new WA(e,r,n);return t.asyncQueue.enqueueAndForget(async()=>$A(await dm(t),s)),()=>{r.Nu(),t.asyncQueue.enqueueAndForget(async()=>XA(await dm(t),s))}}function VV(t,e,n={}){const i=new Yi;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,l,u,c){const d=new aw({next:p=>{d.Nu(),a.enqueueAndForget(()=>XA(s,g));const y=p.docs.has(l);!y&&p.fromCache?c.reject(new B(k.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&p.fromCache&&u&&u.source==="server"?c.reject(new B(k.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),g=new WA(oh(l.path),d,{includeMetadataChanges:!0,Ka:!0});return $A(s,g)}(await dm(t),t.asyncQueue,e,n,i)),i.promise}function jV(t,e){const n=new Yi;return t.asyncQueue.enqueueAndForget(async()=>TV(await OV(t),e,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kV="ComponentProvider",dE=new Map;function LV(t,e,n,i,r){return new n4(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,lw(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw="firestore.googleapis.com",mE=!0;class pE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new B(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=uw,this.ssl=mE}else this.host=e.host,this.ssl=e.ssl??mE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=LA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<hM)throw new B(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}GO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lw(e.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new B(k.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new B(k.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new B(k.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gh{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new B(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new B(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new jO;switch(i.type){case"firstParty":return new UO(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new B(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=dE.get(n);i&&(H(kV,"Removing Datastore"),dE.delete(n),i.terminate())}(this),Promise.resolve()}}function PV(t,e,n,i={}){var c;t=An(t,gh);const r=ma(e),s=t._getSettings(),a={...s,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;r&&(eS(`https://${l}`),tS("Firestore",!0)),s.host!==uw&&s.host!==l&&Xs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...s,host:l,ssl:r,emulatorOptions:i};if(!Lr(u,a)&&(t._setSettings(u),i.mockUserToken)){let d,g;if(typeof i.mockUserToken=="string")d=i.mockUserToken,g=pt.MOCK_USER;else{d=KN(i.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new B(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new pt(p)}t._authCredentials=new kO(new QS(d,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Wr(this.firestore,e,this._query)}}class ke{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ke(this.firestore,e,this._key)}toJSON(){return{type:ke._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Tl(n,ke._jsonSchema))return new ke(e,i||null,new G(Te.fromString(n.referencePath)))}}ke._jsonSchemaVersion="firestore/documentReference/1.0",ke._jsonSchema={type:Ke("string",ke._jsonSchemaVersion),referencePath:Ke("string")};class Qi extends Wr{constructor(e,n,i){super(e,n,oh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ke(this.firestore,null,new G(e))}withConverter(e){return new Qi(this.firestore,e,this._path)}}function Cc(t,e,...n){if(t=Je(t),$S("collection","path",e),t instanceof gh){const i=Te.fromString(e,...n);return Cv(i),new Qi(t,null,i)}{if(!(t instanceof ke||t instanceof Qi))throw new B(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Te.fromString(e,...n));return Cv(i),new Qi(t.firestore,null,i)}}function na(t,e,...n){if(t=Je(t),arguments.length===1&&(e=Mp.newId()),$S("doc","path",e),t instanceof gh){const i=Te.fromString(e,...n);return Rv(i),new ke(t,null,new G(i))}{if(!(t instanceof ke||t instanceof Qi))throw new B(k.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Te.fromString(e,...n));return Rv(i),new ke(t.firestore,t instanceof Qi?t.converter:null,new G(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE="AsyncQueue";class yE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new BA(this,"async_queue_retry"),this._c=()=>{const i=zf();i&&H(gE,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=zf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=zf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Yi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Ea(e))throw e;H(gE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(i=>{throw this.nc=i,this.rc=!1,ri("INTERNAL UNHANDLED ERROR: ",_E(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const r=Jp.createAndSchedule(this,e,n,i,s=>this.hc(s));return this.tc.push(r),r}uc(){this.nc&&Y(47125,{Pc:_E(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function _E(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class qr extends gh{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=new yE,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new yE(e),this._firestoreClient=void 0,await e}}}function UV(t,e){const n=typeof t=="object"?t:sS(),i=typeof t=="string"?t:Ec,r=Sp(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=FN("firestore");s&&PV(r,...s)}return r}function ig(t){if(t._terminated)throw new B(k.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||zV(t),t._firestoreClient}function zV(t){var i,r,s,a;const e=t._freezeSettings(),n=LV(t._databaseId,((i=t._app)==null?void 0:i.options.appId)||"",t._persistenceKey,(r=t._app)==null?void 0:r.options.apiKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new IV(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(u){const c=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jt(ht.fromBase64String(e))}catch(n){throw new B(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Jt(ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Jt._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Tl(e,Jt._jsonSchema))return Jt.fromBase64String(e.bytes)}}Jt._jsonSchemaVersion="firestore/bytes/1.0",Jt._jsonSchema={type:Ke("string",Jt._jsonSchemaVersion),bytes:Ke("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new B(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new lt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new B(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new B(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return se(this._lat,e._lat)||se(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Rn._jsonSchemaVersion}}static fromJSON(e){if(Tl(e,Rn._jsonSchema))return new Rn(e.latitude,e.longitude)}}Rn._jsonSchemaVersion="firestore/geoPoint/1.0",Rn._jsonSchema={type:Ke("string",Rn._jsonSchemaVersion),latitude:Ke("number"),longitude:Ke("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:cn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Tl(e,cn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new cn(e.vectorValues);throw new B(k.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}cn._jsonSchemaVersion="firestore/vectorValue/1.0",cn._jsonSchema={type:Ke("string",cn._jsonSchemaVersion),vectorValues:Ke("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BV=/^__.*__$/;class qV{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new hr(e,this.data,this.fieldMask,n,this.fieldTransforms):new bl(e,this.data,n,this.fieldTransforms)}}class cw{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new hr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function hw(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y(40011,{dataSource:t})}}class sg{constructor(e,n,i,r,s,a){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.validatePath(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new sg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var r;const n=(r=this.path)==null?void 0:r.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){var r;const n=(r=this.path)==null?void 0:r.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Nc(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(hw(this.dataSource)&&BV.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class HV{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||dh(e)}createContext(e,n,i,r=!1){return new sg({dataSource:e,methodName:n,targetDoc:i,path:lt.emptyPath(),arrayElement:!1,hasConverter:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ag(t){const e=t._freezeSettings(),n=dh(t._databaseId);return new HV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function FV(t,e,n,i,r,s={}){const a=t.createContext(s.merge||s.mergeFields?2:0,e,n,r);lg("Data must be an object, but it was:",a,i);const l=fw(i,a);let u,c;if(s.merge)u=new Lt(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const d=[];for(const g of s.mergeFields){const p=ia(e,g,n);if(!a.contains(p))throw new B(k.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);pw(d,p)||d.push(p)}u=new Lt(d),c=a.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,c=a.fieldTransforms;return new qV(new Ct(l),u,c)}class _h extends yh{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _h}}class og extends yh{_toFieldTransform(e){return new D4(e.path,new $o)}isEqual(e){return e instanceof og}}function GV(t,e,n,i){const r=t.createContext(1,e,n);lg("Data must be an object, but it was:",r,i);const s=[],a=Ct.empty();cr(i,(u,c)=>{const d=mw(e,u,n);c=Je(c);const g=r.childContextForFieldPath(d);if(c instanceof _h)s.push(d);else{const p=xl(c,g);p!=null&&(s.push(d),a.set(d,p))}});const l=new Lt(s);return new cw(a,l,r.fieldTransforms)}function KV(t,e,n,i,r,s){const a=t.createContext(1,e,n),l=[ia(e,i,n)],u=[r];if(s.length%2!=0)throw new B(k.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)l.push(ia(e,s[p])),u.push(s[p+1]);const c=[],d=Ct.empty();for(let p=l.length-1;p>=0;--p)if(!pw(c,l[p])){const y=l[p];let C=u[p];C=Je(C);const D=a.childContextForFieldPath(y);if(C instanceof _h)c.push(y);else{const I=xl(C,D);I!=null&&(c.push(y),d.set(y,I))}}const g=new Lt(c);return new cw(d,g,a.fieldTransforms)}function YV(t,e,n,i=!1){return xl(n,t.createContext(i?4:3,e))}function xl(t,e){if(dw(t=Je(t)))return lg("Unsupported field value:",e,t),fw(t,e);if(t instanceof yh)return function(i,r){if(!hw(r.dataSource))throw r.createError(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.createError(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return function(i,r){const s=[];let a=0;for(const l of i){let u=xl(l,r.childContextForArray(a));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),a++}return{arrayValue:{values:s}}}(t,e)}return function(i,r){if((i=Je(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return C4(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=ye.fromDate(i);return{timestampValue:Ac(r.serializer,s)}}if(i instanceof ye){const s=new ye(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Ac(r.serializer,s)}}if(i instanceof Rn)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Jt)return{bytesValue:NA(r.serializer,i._byteString)};if(i instanceof ke){const s=r.databaseId,a=i.firestore._databaseId;if(!a.isEqual(s))throw r.createError(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Hp(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof cn)return function(a,l){const u=a instanceof cn?a.toArray():a;return{mapValue:{fields:{[rA]:{stringValue:sA},[Tc]:{arrayValue:{values:u.map(d=>{if(typeof d!="number")throw l.createError("VectorValues must only contain numeric values.");return Up(l.serializer,d)})}}}}}}(i,r);if(kA(i))return i._toProto(r.serializer);throw r.createError(`Unsupported field value: ${ih(i)}`)}(t,e)}function fw(t,e){const n={};return JS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):cr(t,(i,r)=>{const s=xl(r,e.childContextForField(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function dw(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ye||t instanceof Rn||t instanceof Jt||t instanceof ke||t instanceof yh||t instanceof cn||kA(t))}function lg(t,e,n){if(!dw(n)||!XS(n)){const i=ih(n);throw i==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+i)}}function ia(t,e,n){if((e=Je(e))instanceof rg)return e._internalPath;if(typeof e=="string")return mw(t,e);throw Nc("Field path arguments must be of type string or ",t,!1,void 0,n)}const QV=new RegExp("[~\\*/\\[\\]]");function mw(t,e,n){if(e.search(QV)>=0)throw Nc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new rg(...e.split("."))._internalPath}catch{throw Nc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Nc(t,e,n,i,r){const s=i&&!i.isEmpty(),a=r!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||a)&&(u+=" (found",s&&(u+=` in field ${i}`),a&&(u+=` in document ${r}`),u+=")"),new B(k.INVALID_ARGUMENT,l+t+u)}function pw(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{convertValue(e,n="none"){switch(ir(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ve(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(nr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Y(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return cr(e,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertVectorValue(e){var i,r,s;const n=(s=(r=(i=e.fields)==null?void 0:i[Tc].arrayValue)==null?void 0:r.values)==null?void 0:s.map(a=>Ve(a.doubleValue));return new cn(n)}convertGeoPoint(e){return new Rn(Ve(e.latitude),Ve(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=ah(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Go(e));default:return null}}convertTimestamp(e){const n=tr(e);return new ye(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Te.fromString(e);fe(jA(i),9688,{name:e});const r=new Ko(i.get(1),i.get(3)),s=new G(i.popFirst(5));return r.isEqual(n)||ri(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw extends $V{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jt(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ke(this.firestore,null,n)}}function XV(){return new og("serverTimestamp")}const vE="@firebase/firestore",EE="4.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(t){return function(n,i){if(typeof n!="object"||n===null)return!1;const r=n;for(const s of i)if(s in r&&typeof r[s]=="function")return!0;return!1}(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e,n,i,r,s){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ke(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new WV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(ia("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class WV extends yw{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JV(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new B(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ug{}class _w extends ug{}function ZV(t,e,...n){let i=[];e instanceof ug&&i.push(e),i=i.concat(n),function(s){const a=s.filter(u=>u instanceof hg).length,l=s.filter(u=>u instanceof cg).length;if(a>1||a>0&&l>0)throw new B(k.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)t=r._apply(t);return t}class cg extends _w{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new cg(e,n,i)}_apply(e){const n=this._parse(e);return vw(e._query,n),new Wr(e.firestore,e.converter,nm(e._query,n))}_parse(e){const n=ag(e.firestore);return function(s,a,l,u,c,d,g){let p;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new B(k.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){SE(g,d);const C=[];for(const D of g)C.push(bE(u,s,D));p={arrayValue:{values:C}}}else p=bE(u,s,g)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||SE(g,d),p=YV(l,a,g,d==="in"||d==="not-in");return Fe.create(c,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class hg extends ug{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new hg(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:fn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,s){let a=r;const l=s.getFlattenedFilters();for(const u of l)vw(a,u),a=nm(a,u)}(e._query,n),new Wr(e.firestore,e.converter,nm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class fg extends _w{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new fg(e,n)}_apply(e){const n=function(r,s,a){if(r.startAt!==null)throw new B(k.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new B(k.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Qo(s,a)}(e._query,this._field,this._direction);return new Wr(e.firestore,e.converter,E4(e._query,n))}}function ej(t,e="asc"){const n=e,i=ia("orderBy",t);return fg._create(i,n)}function bE(t,e,n){if(typeof(n=Je(n))=="string"){if(n==="")throw new B(k.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dA(e)&&n.indexOf("/")!==-1)throw new B(k.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Te.fromString(n));if(!G.isDocumentKey(i))throw new B(k.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return kv(t,new G(i))}if(n instanceof ke)return kv(t,n._key);throw new B(k.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ih(n)}.`)}function SE(t,e){if(!Array.isArray(t)||t.length===0)throw new B(k.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function vw(t,e){const n=function(r,s){for(const a of r)for(const l of a.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new B(k.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new B(k.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function tj(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class ro{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Dr extends yw{constructor(e,n,i,r,s,a){super(e,n,i,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Vu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(ia("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new B(k.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Dr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Dr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Dr._jsonSchema={type:Ke("string",Dr._jsonSchemaVersion),bundleSource:Ke("string","DocumentSnapshot"),bundleName:Ke("string"),bundle:Ke("string")};class Vu extends Dr{data(e={}){return super.data(e)}}class ks{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new ro(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Vu(this._firestore,this._userDataWriter,i.key,i,new ro(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new B(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>{const u=new Vu(r._firestore,r._userDataWriter,l.doc.key,l.doc,new ro(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const u=new Vu(r._firestore,r._userDataWriter,l.doc.key,l.doc,new ro(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,d=-1;return l.type!==0&&(c=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),d=a.indexOf(l.doc.key)),{type:nj(l.type),doc:u,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new B(k.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ks._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Mp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],r=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),i.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),r.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function nj(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ks._jsonSchemaVersion="firestore/querySnapshot/1.0",ks._jsonSchema={type:Ke("string",ks._jsonSchemaVersion),bundleSource:Ke("string","QuerySnapshot"),bundleName:Ke("string"),bundle:Ke("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(t){t=An(t,ke);const e=An(t.firestore,qr),n=ig(e);return VV(n,t._key).then(i=>Aw(e,t,i))}function Tw(t,e,n,...i){t=An(t,ke);const r=An(t.firestore,qr),s=ag(r);let a;return a=typeof(e=Je(e))=="string"||e instanceof rg?KV(s,"updateDoc",t._key,e,n,i):GV(s,"updateDoc",t._key,e),dg(r,[a.toMutation(t._key,un.exists(!0))])}function ij(t){return dg(An(t.firestore,qr),[new zp(t._key,un.none())])}function bw(t,e){const n=An(t.firestore,qr),i=na(t),r=tj(t.converter,e),s=ag(t.firestore);return dg(n,[FV(s,"addDoc",i._key,r,t.converter!==null,{}).toMutation(i._key,un.exists(!1))]).then(()=>i)}function Sw(t,...e){var c,d,g;t=Je(t);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||TE(e[i])||(n=e[i++]);const r={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(TE(e[i])){const p=e[i];e[i]=(c=p.next)==null?void 0:c.bind(p),e[i+1]=(d=p.error)==null?void 0:d.bind(p),e[i+2]=(g=p.complete)==null?void 0:g.bind(p)}let s,a,l;if(t instanceof ke)a=An(t.firestore,qr),l=oh(t._key.path),s={next:p=>{e[i]&&e[i](Aw(a,t,p))},error:e[i+1],complete:e[i+2]};else{const p=An(t,Wr);a=An(p.firestore,qr),l=p._query;const y=new gw(a);s={next:C=>{e[i]&&e[i](new ks(a,y,p,C))},error:e[i+1],complete:e[i+2]},JV(t._query)}const u=ig(a);return MV(u,l,r,s)}function dg(t,e){const n=ig(t);return jV(n,e)}function Aw(t,e,n){const i=n.docs.get(e._key),r=new gw(t);return new Dr(t,r,e._key,i,new ro(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){VO(pa),Qs(new Pr("firestore",(i,{instanceIdentifier:r,options:s})=>{const a=i.getProvider("app").getImmediate(),l=new qr(new LO(i.getProvider("auth-internal")),new zO(a,i.getProvider("app-check-internal")),i4(a,r),a);return s={useFetchStreams:n,...s},l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Fi(vE,EE,e),Fi(vE,EE,"esm2020")})();const rj={apiKey:"AIzaSyCIPE6DWpsUhDwRz9r5WMnsLGV4f8y-X2s",authDomain:"ambrosia-web-bc4f9.firebaseapp.com",projectId:"ambrosia-web-bc4f9",storageBucket:"ambrosia-web-bc4f9.firebasestorage.app",messagingSenderId:"768539470516",appId:"1:768539470516:web:d9f3705b1c79d35147c5e1",measurementId:"G-08Y4G38JM3"},ww=rS(rj),Jo=OO(ww),$n=UV(ww),xw=M.createContext(),sj=()=>M.useContext(xw),aj=({children:t})=>{const[e,n]=M.useState(null),[i,r]=M.useState(null),[s,a]=M.useState(!0);M.useEffect(()=>TD(Jo,async c=>{if(c){try{const d=await Ew(na($n,"users",c.uid));d.exists()?r(d.data().role):r("customer")}catch(d){console.error("AuthProvider: Error fetching role",d)}n(c)}else n(null),r(null);a(!1)}),[]);const l={currentUser:e,userRole:i,loading:s,isAdmin:i==="admin"};return h.jsx(xw.Provider,{value:l,children:!s&&t})},oj=()=>{const[t,e]=M.useState(!1),{cartCount:n}=pl();return M.useEffect(()=>{const i=()=>{e(window.scrollY>50)};return window.addEventListener("scroll",i),()=>window.removeEventListener("scroll",i)},[]),h.jsx("nav",{className:`navbar ${t?"scrolled":""}`,children:h.jsxs("div",{className:"nav-container",children:[h.jsx(Qe,{to:"/",className:"nav-logo",children:"Ambrosia"}),h.jsxs("div",{className:"nav-links",children:[h.jsx(yn,{to:"/",className:({isActive:i})=>`nav-link ${i?"active":""}`,end:!0,children:"Home"}),h.jsx(yn,{to:"/shop",className:({isActive:i})=>`nav-link ${i?"active":""}`,children:"Shop"}),h.jsx(yn,{to:"/about-cinnamon",className:({isActive:i})=>`nav-link ${i?"active":""}`,children:"Cinnamon"}),h.jsx(yn,{to:"/recipes",className:({isActive:i})=>`nav-link ${i?"active":""}`,children:"Recipes"}),h.jsx(yn,{to:"/contact",className:({isActive:i})=>`nav-link ${i?"active":""}`,children:"Contact"})]}),h.jsxs("div",{className:"nav-actions flex items-center gap-6",children:[h.jsxs(Qe,{to:"/cart",className:"cart-link relative text-white hover:text-gold transition-colors",children:[h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("circle",{cx:"9",cy:"21",r:"1"}),h.jsx("circle",{cx:"20",cy:"21",r:"1"}),h.jsx("path",{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"})]}),n>0&&h.jsx("span",{className:"cart-badge absolute -top-2 -right-2 bg-gold text-black text-[10px] font-bold w-5 h-5 rounded-full flex items-center justify-center",children:n})]}),h.jsx(Qe,{to:"/shop",className:"btn-outline nav-btn",children:"Shop Now"})]}),h.jsx("div",{className:"nav-toggle",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),h.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),h.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})})]})})},lj=()=>h.jsx("footer",{className:"footer",children:h.jsxs("div",{className:"container",children:[h.jsxs("div",{className:"footer-content",children:[h.jsxs("div",{className:"footer-column",children:[h.jsx("h4",{className:"font-heading",children:"Ambrosia"}),h.jsx("p",{className:"text-gray-500 text-sm leading-7",children:"Delivering the 100% authentic essence of Sri Lankan Ceylon Cinnamon to the world. A commitment to purity, heritage, and health."})]}),h.jsxs("div",{className:"footer-column",children:[h.jsx("h4",{children:"Quick Links"}),h.jsxs("ul",{children:[h.jsx("li",{children:h.jsx(Qe,{to:"/shop",children:"Online Store"})}),h.jsx("li",{children:h.jsx(Qe,{to:"/about-cinnamon",children:"About Cinnamon"})}),h.jsx("li",{children:h.jsx(Qe,{to:"/recipes",children:"Recipes & Blog"})}),h.jsx("li",{children:h.jsx(Qe,{to:"/faq",children:"FAQs"})})]})]}),h.jsxs("div",{className:"footer-column",children:[h.jsx("h4",{children:"Support"}),h.jsxs("ul",{children:[h.jsx("li",{children:h.jsx(Qe,{to:"/contact",children:"Contact Us"})}),h.jsx("li",{children:h.jsx(Qe,{to:"/privacy",children:"Privacy Policy"})}),h.jsx("li",{children:h.jsx(Qe,{to:"/terms",children:"Terms & Conditions"})})]})]}),h.jsxs("div",{className:"footer-column",children:[h.jsx("h4",{children:"Newsletter"}),h.jsxs("div",{className:"newsletter-form mt-4",children:[h.jsx("input",{type:"email",placeholder:"Your email address",className:"bg-[#1a1a1a] border border-white/10 p-2 text-sm w-full mb-2"}),h.jsx("button",{className:"btn-outline w-full py-2 text-xs",children:"Subscribe"})]})]})]}),h.jsx("div",{className:"footer-bottom",children:h.jsx("p",{children:" 2026 Ambrosia 100% Sri Lankan Cinnamon. All rights reserved."})})]})}),uj="/Ambrosia/assets/hero_bg-Cd28FfOR.png",cj=()=>h.jsxs("section",{id:"home",className:"hero",children:[h.jsxs("div",{className:"hero-bg",children:[h.jsx("img",{src:uj,alt:"Cinnamon Background"}),h.jsx("div",{className:"hero-overlay"})]}),h.jsxs("div",{className:"hero-content",children:[h.jsx("span",{className:"hero-eyebrow",children:"Ambrosia  Pure, Premium 100% Sri Lankan Cinnamon"}),h.jsx("h1",{className:"hero-title",children:"Divine Essence"}),h.jsx("p",{className:"hero-desc",children:"Experience the gold standard of spices. 100% authentic, hand-harvested Ceylon cinnamon from the heart of Sri Lanka."}),h.jsxs("div",{className:"hero-actions",children:[h.jsx("a",{href:"#products",className:"btn",children:"Shop Now"}),h.jsx("a",{href:"#heritage",className:"btn btn-outline",style:{marginLeft:"1rem"},children:"Learn More"})]})]})]}),hj=()=>h.jsx("section",{id:"heritage",className:"brand-intro-section",children:h.jsx("div",{className:"container",children:h.jsxs("div",{className:"intro-grid",children:[h.jsxs("div",{className:"intro-text",children:[h.jsx("span",{className:"gold-label",children:"Our Mission"}),h.jsx("h2",{className:"text-4xl font-heading mb-6 text-white",children:"Ambrosia  Pure, Premium 100% Sri Lankan Cinnamon"}),h.jsx("p",{className:"intro-p",children:"Born from the sun-drenched coastal gardens of Sri Lanka, Ambrosia is a tribute to the legendary 'Gold of the East'. We specialize exclusively in true Ceylon Cinnamon (Cinnamomum Verum)  the only 100% authentic, low-coumarin variety that offers genuine health benefits and a sophisticated sweetness."}),h.jsx("p",{className:"intro-p",children:"Our mission is simple: To bring the finest grade cinnamon, usually reserved for the royal houses of the world, directly to your kitchen."})]}),h.jsxs("div",{className:"quick-links",children:[h.jsx("h3",{className:"text-xl font-heading mb-6 text-gold",children:"Explore Ambrosia"}),h.jsxs("div",{className:"links-stack",children:[h.jsxs("a",{href:"#products",className:"quick-link-item",children:[h.jsx("span",{className:"link-icon",children:""}),h.jsxs("div",{className:"link-content",children:[h.jsx("h4",{children:"Online Shop"}),h.jsx("p",{children:"Browse our sticks, powders, and blends."})]})]}),h.jsxs("a",{href:"#about-cinnamon",className:"quick-link-item",children:[h.jsx("span",{className:"link-icon",children:""}),h.jsxs("div",{className:"link-content",children:[h.jsx("h4",{children:"About Cinnamon"}),h.jsx("p",{children:"Learn the difference between Ceylon and Cassia."})]})]}),h.jsxs("a",{href:"#recipes",className:"quick-link-item",children:[h.jsx("span",{className:"link-icon",children:""}),h.jsxs("div",{className:"link-content",children:[h.jsx("h4",{children:"Recipes & Blog"}),h.jsx("p",{children:"Discover healthy ways to use cinnamon."})]})]})]})]})]})})}),$i="/Ambrosia/assets/divine-CAd-ezJ-.png",mm="/Ambrosia/assets/kuveni-CIhBCFC7.png",Rw="/Ambrosia/assets/ravana-UNXb9jZj.png",fj=[{id:1,name:"Divine Essence Powder",price:45,image:$i,description:"Finely milled 100% Sri Lankan cinnamon powder for effortless blending."},{id:2,name:"Kuveni's Reserve Sticks",price:60,image:mm,description:"Hand-rolled Alba grade Ceylon cinnamon sticks, the gold standard."},{id:3,name:"Ravana's Signature Blend",price:55,image:Rw,description:"A specialized infusion of spices anchored by our premium cinnamon."}],dj=()=>{const{addToCart:t}=pl();return h.jsx("section",{id:"products",className:"products-section",children:h.jsxs("div",{className:"container",children:[h.jsxs("div",{className:"section-header",children:[h.jsx("h2",{className:"section-title",children:"Royal Collections"}),h.jsx("p",{className:"section-subtitle",children:"Curated from the ancient gardens of Ceylon."})]}),h.jsx("div",{className:"products-grid",children:fj.map(e=>h.jsxs("div",{className:"product-card",children:[h.jsx("div",{className:"product-image-wrapper",children:h.jsx("img",{src:e.image,alt:e.name,className:"product-image"})}),h.jsxs("div",{className:"product-info",children:[h.jsx("h3",{className:"product-name",children:e.name}),h.jsx("p",{className:"product-desc",children:e.description}),h.jsxs("span",{className:"product-price",children:["$",e.price.toFixed(2)]}),h.jsx("button",{onClick:()=>t(e),className:"product-btn uppercase",children:"Add to Cart"})]})]},e.id))})]})})},Zo="/Ambrosia/assets/garden-0ov3Dsbc.png",mj=[{id:1,title:"Golden Cinnamon Latte",category:"Beverages",image:$i,time:"5 mins",desc:"A warm, soul-soothing latte infused with Ambrosia Divine Essence."},{id:2,title:"Authentic Sri Lankan Chai",category:"Beverages",image:Zo,time:"15 mins",desc:"A spiced tea tradition using whole Kuveni sticks."},{id:3,title:"Cinnamon Glazed Apple Tart",category:"Desserts",image:$i,time:"45 mins",desc:"A classic dessert elevated by the floral notes of Ceylon cinnamon."},{id:4,title:"Health Benefits of Daily Cinnamon",category:"Wellness",image:Zo,time:"4 min read",desc:"How a pinch of Ambrosia every morning can change your metabolism."}],pj=()=>h.jsx("section",{className:"recipes-home-section",children:h.jsxs("div",{className:"container",children:[h.jsxs("div",{className:"section-header",children:[h.jsx("h2",{className:"section-title",children:"Recipes & Rituals"}),h.jsx("p",{className:"section-subtitle",children:"Discover the endless possibilities of true cinnamon."})]}),h.jsx("div",{className:"recipes-home-scroll",children:mj.map(t=>h.jsxs("div",{className:"recipe-home-card",children:[h.jsxs("div",{className:"recipe-home-image",children:[h.jsx("img",{src:t.image,alt:t.title}),h.jsx("span",{className:"recipe-home-cat",children:t.category})]}),h.jsxs("div",{className:"recipe-home-info",children:[h.jsx("span",{className:"recipe-home-time",children:t.time}),h.jsx("h3",{className:"recipe-home-title",children:t.title}),h.jsx("p",{className:"recipe-home-desc",children:t.desc}),h.jsx(Qe,{to:"/recipes",className:"recipe-home-link",children:"Read More"})]})]},t.id))})]})}),gj=[{id:1,name:"Sarah Johnson",role:"Professional Baker",content:"The aroma of Ambrosia's Divine Essence is incomparable. It transformed my signature cinnamon rolls into something truly legendary.",rating:5},{id:2,name:"Dr. Aris Fernando",role:"Wellness Consultant",content:"I recommend Ambrosia to all my clients. Knowing it's 100% authentic Sri Lankan cinnamon gives me peace of mind regarding its health benefits.",rating:5},{id:3,name:"Michael Chen",role:"Home Enthusiast",content:"I never knew there was such a difference between regular cinnamon and Ceylon cinnamon until I tried the Ravana's Blend. Incredible depth!",rating:5}],yj=()=>h.jsx("section",{className:"testimonials-section",children:h.jsxs("div",{className:"container",children:[h.jsxs("div",{className:"section-header",children:[h.jsx("h2",{className:"section-title",children:"What Our Patrons Say"}),h.jsx("p",{className:"section-subtitle",children:"Join the community of those who appreciate the finer things in life."})]}),h.jsx("div",{className:"testimonials-grid",children:gj.map(t=>h.jsxs("div",{className:"testimonial-card",children:[h.jsx("div",{className:"stars",children:[...Array(t.rating)].map((e,n)=>h.jsx("span",{className:"star",children:""},n))}),h.jsxs("p",{className:"testimonial-content",children:['"',t.content,'"']}),h.jsx("div",{className:"testimonial-author",children:h.jsxs("div",{className:"author-info",children:[h.jsx("h4",{className:"author-name",children:t.name}),h.jsx("p",{className:"author-role",children:t.role})]})})]},t.id))})]})}),_j=()=>h.jsxs("div",{className:"home-page",children:[h.jsx(cj,{}),h.jsx(hj,{}),h.jsx(dj,{}),h.jsx(pj,{}),h.jsx(yj,{})]}),vj=()=>h.jsxs("div",{className:"about-page",children:[h.jsx("section",{className:"about-hero",children:h.jsxs("div",{className:"container",children:[h.jsx("h1",{className:"text-6xl font-heading text-gold mb-4",children:"Our Heritage"}),h.jsx("p",{className:"text-xl text-gray-300 max-w-2xl",children:"Preserving the 100% authentic legacy of Ceylon Cinnamon."})]})}),h.jsx("section",{className:"mission-section py-20",children:h.jsxs("div",{className:"container intro-grid",children:[h.jsxs("div",{className:"mission-text",children:[h.jsx("h2",{className:"text-4xl font-heading text-white mb-8",children:"A Legacy of Excellence"}),h.jsx("p",{className:"text-gray-400 mb-6 leading-relaxed",children:"Ambrosia was founded on a singular realization: the true essence of Sri Lankan cinnamon was being lost to the world. In an era dominated by mass-market Cassia, the legendary 'Cinnamomum Verum' of Ceylononce more valuable than goldhad become a rare luxury."}),h.jsx("p",{className:"text-gray-400 mb-6 leading-relaxed",children:"Our journey began in the southern coastal stretches of Sri Lanka, where the humid air and salty breeze create the perfect cradle for the world's finest cinnamon. We don't just sell a spice; we protect a thousand-year-old tradition of hand-peeling and air-drying that has been passed down through generations of 'Salagama' harvesters."})]}),h.jsx("div",{className:"mission-image",children:h.jsx("img",{src:Zo,alt:"Cinnamon Garden",className:"rounded-lg shadow-2xl"})})]})}),h.jsx("section",{className:"sourcing-section py-20 bg-gold/5",children:h.jsxs("div",{className:"container",children:[h.jsxs("div",{className:"text-center mb-16",children:[h.jsx("h2",{className:"text-4xl font-heading text-gold mb-4",children:"Sustainable Sourcing"}),h.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"We believe in a cycle of respectfor the soil, the farmer, and the consumer."})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-16 items-center",children:[h.jsxs("div",{className:"sourcing-content",children:[h.jsx("h3",{className:"text-2xl text-white mb-6",children:"Direct from the Wild Gardens"}),h.jsx("p",{className:"text-gray-500 mb-6",children:"Unlike industrial plantations, our cinnamon is sourced from 'wild gardens' where biodiversity is encouraged. This natural ecosystem allows the trees to develop higher concentrations of essential oils, resulting in the signature floral aroma unique to Ambrosia."}),h.jsx("p",{className:"text-gray-500",children:"Every harvest is traceable to its village of origin, ensuring that the local communities that have guarded this heritage for centuries are fairly compensated and supported."})]}),h.jsxs("div",{className:"sourcing-stats grid grid-cols-2 gap-8",children:[h.jsxs("div",{className:"stat-box",children:[h.jsx("span",{className:"text-4xl text-gold font-bold",children:"100%"}),h.jsx("p",{className:"text-gray-400",children:"Natural & Organic"})]}),h.jsxs("div",{className:"stat-box",children:[h.jsx("span",{className:"text-4xl text-gold font-bold",children:"500+"}),h.jsx("p",{className:"text-gray-400",children:"Local Farmers"})]}),h.jsxs("div",{className:"stat-box",children:[h.jsx("span",{className:"text-4xl text-gold font-bold",children:"0%"}),h.jsx("p",{className:"text-gray-400",children:"Chemical Additives"})]}),h.jsxs("div",{className:"stat-box",children:[h.jsx("span",{className:"text-4xl text-gold font-bold",children:"True"}),h.jsx("p",{className:"text-gray-400",children:"Alba Grade Only"})]})]})]})]})})]}),Ej="/Ambrosia/assets/comparison-D2ywGGNU.png",qf=["Cinnamon bark is harvested after two years of growth during the rainy season.","True Ceylon Cinnamon quills are filled like a cigar with small, fine chips.","In the 1st century AD, 350 grams of cinnamon was worth 5 kilograms of silver.","The word 'Cinnamon' is derived from the Greek 'kinnamon'."],Tj=()=>{const[t,e]=M.useState(0);return M.useEffect(()=>{const n=setInterval(()=>{e(i=>(i+1)%qf.length)},5e3);return()=>clearInterval(n)},[]),h.jsxs("div",{className:"cinnamon-education-page",children:[h.jsx("section",{className:"edu-hero",children:h.jsxs("div",{className:"container text-center",children:[h.jsx("span",{className:"gold-label font-bold tracking-widest uppercase mb-4 block",children:"Educational Guide"}),h.jsx("h1",{className:"text-7xl font-heading text-gold mb-6",children:"The Gold of the East"}),h.jsx("p",{className:"text-xl text-gray-200 max-w-3xl mx-auto leading-relaxed mb-10",children:"Deep within the soul of Sri Lanka lies a secret that shaped world history. Worshiped by Emperors and sought by explorers, Ceylon Cinnamon remains nature's most sophisticated spice."}),h.jsxs("div",{className:"flex justify-center gap-6",children:[h.jsx("a",{href:"#production-video",className:"btn btn-outline",children:"Watch Production"}),h.jsx(Qe,{to:"/shop",className:"btn",children:"Shop Collection"})]})]})}),h.jsx("section",{className:"history-section py-24 bg-[#050505]",children:h.jsx("div",{className:"container",children:h.jsxs("div",{className:"history-grid grid grid-cols-2 gap-20 items-center",children:[h.jsxs("div",{className:"history-content",children:[h.jsx("h2",{className:"text-4xl font-heading text-white mb-8",children:"A Journey Through Time"}),h.jsx("p",{className:"text-gray-400 mb-6 leading-relaxed",children:"The documented history of Sri Lankan cinnamon dates back over 3,000 years. Mentioned in the Old Testament and sought by Ancient Egyptians for embalming, it was the most prized possession in the ancient world."}),h.jsx("p",{className:"text-gray-400 mb-6 leading-relaxed",children:"In the 15th century, the 'Cinnamon Quest' launched the Age of Discovery. Columbus, Vasco da Gama, and Magellan sailed into the unknown partially driven by the intoxicating scent of Ceylons 'true' cinnamon. For centuries, nations fought wars for the exclusive rights to our island's shores."}),h.jsxs("blockquote",{className:"border-l-4 border-gold pl-6 py-2 italic text-gray-300 text-lg",children:['"The cinnamon of Ceylon is the best in all the world, and many-a-man hath lost his life for its sake."',h.jsx("span",{className:"block text-sm text-gold mt-2",children:" 17th Century Dutch Explorer"})]})]}),h.jsx("div",{className:"history-visual relative",children:h.jsxs("div",{className:"history-box p-12 bg-gold/5 border border-gold/20 rounded-lg",children:[h.jsx("h3",{className:"text-2xl text-gold mb-6 font-heading",children:"Key Historical Milestones"}),h.jsxs("ul",{className:"space-y-6",children:[h.jsxs("li",{className:"flex gap-4",children:[h.jsx("span",{className:"text-gold font-bold",children:"1400 BC:"}),h.jsx("p",{className:"text-gray-400 text-sm",children:"Used in Ancient Egypt as a sacred medicinal ingredient."})]}),h.jsxs("li",{className:"flex gap-4",children:[h.jsx("span",{className:"text-gold font-bold",children:"1505 AD:"}),h.jsx("p",{className:"text-gray-400 text-sm",children:"Portuguese explorers land in Sri Lanka, seeking the source of 'True Cinnamon'."})]}),h.jsxs("li",{className:"flex gap-4",children:[h.jsx("span",{className:"text-gold font-bold",children:"18th Century:"}),h.jsx("p",{className:"text-gray-400 text-sm",children:"Dutch East India Company establishes the first systematic plantations."})]})]})]})})]})})}),h.jsx("section",{id:"production-video",className:"video-section py-24 bg-black",children:h.jsxs("div",{className:"container",children:[h.jsxs("div",{className:"text-center mb-16",children:[h.jsx("h2",{className:"text-4xl font-heading text-gold mb-4",children:"Life of Cinnamon"}),h.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"Witness the meticulous craft behind every Ambrosia quill."})]}),h.jsx("div",{className:"video-container aspect-video max-w-5xl mx-auto rounded-2xl overflow-hidden border border-gold/10 shadow-2xl",children:h.jsx("iframe",{width:"100%",height:"100%",src:"https://www.youtube.com/embed/j_8c8XwK6-o",title:"Life of Ceylon Cinnamon",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),h.jsx("p",{className:"text-center text-gray-500 mt-8 italic",children:"Courtesy: A cinematic look at the traditional peeling process in Southern Sri Lanka."})]})}),h.jsx("section",{className:"types-section py-24 bg-[#0a0a0a]",children:h.jsxs("div",{className:"container grid grid-cols-2 gap-20 items-center",children:[h.jsx("div",{className:"order-2 lg:order-1",children:h.jsx("img",{src:Ej,alt:"Cinnamon Comparison",className:"rounded-xl border border-gold/20 shadow-2xl"})}),h.jsxs("div",{className:"order-1 lg:order-2",children:[h.jsx("h2",{className:"text-4xl font-heading text-white mb-8",children:"Ceylon vs Cassia"}),h.jsxs("div",{className:"comparison-bullets space-y-8",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"text-gold mb-2 font-bold tracking-wide",children:"THE TRUTH"}),h.jsxs("p",{className:"text-gray-400",children:["Mass-market ",h.jsx("strong",{children:"Cassia"})," contains high levels of ",h.jsx("em",{children:"coumarin"}),", a compound that can be toxic if consumed regularly. It's thick, hard bark with a spicy, hot bite."]})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"text-gold mb-2 font-bold tracking-wide",children:"THE ESSENCE"}),h.jsxs("p",{className:"text-gray-400",children:[h.jsx("strong",{children:"Ambrosia Ceylon Cinnamon"})," is thin, flaky, and delicate. It has virtually 0% coumarin and offers a complex, floral sweetness that's safe for daily health rituals."]})]})]})]})]})}),h.jsx("section",{className:"uses-section py-24 bg-[#050505]",children:h.jsxs("div",{className:"container",children:[h.jsx("h2",{className:"text-4xl font-heading text-gold text-center mb-16",children:"Rituals & Remedies"}),h.jsxs("div",{className:"grid grid-cols-3 gap-12",children:[h.jsxs("div",{className:"use-card p-10 bg-[#111] rounded-lg border border-white/5",children:[h.jsx("h3",{className:"text-xl text-white mb-4",children:"Culinary Mastery"}),h.jsx("p",{className:"text-gray-500 text-sm leading-relaxed",children:"Used in both sweet and savory dishes. From a pinch in your morning coffee to a quill in a slow-cooked Lankan curry, its versatility is unmatched."})]}),h.jsxs("div",{className:"use-card p-10 bg-[#111] rounded-lg border border-white/5 text-center transform scale-110 border-gold/20",children:[h.jsx("h3",{className:"text-xl text-white mb-4",children:"Wellness Elixir"}),h.jsx("p",{className:"text-gray-500 text-sm leading-relaxed",children:"Mixed with warm water and honey for a natural immunity boost. A powerful tool for blood sugar regulation and metabolic health."})]}),h.jsxs("div",{className:"use-card p-10 bg-[#111] rounded-lg border border-white/5",children:[h.jsx("h3",{className:"text-xl text-white mb-4",children:"Pure Aromatherapy"}),h.jsx("p",{className:"text-gray-500 text-sm leading-relaxed",children:"Its scent alone can improve memory and mood. Use the natural quills as an elegant, aromatic centerpiece in your living space."})]})]})]})}),h.jsx("section",{className:"fun-facts py-24 bg-gold/5 overflow-hidden",children:h.jsxs("div",{className:"container text-center",children:[h.jsx("span",{className:"gold-label text-xs tracking-widest uppercase mb-6 block",children:"Did You Know?"}),h.jsx("div",{className:"fact-slider",children:h.jsx("p",{className:"text-white font-heading text-3xl max-w-4xl mx-auto animate-fade-in",children:qf[t]},t)}),h.jsx("div",{className:"flex justify-center gap-2 mt-8",children:qf.map((n,i)=>h.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${i===t?"bg-gold w-8":"bg-gray-700"}`},i))})]})}),h.jsx("section",{className:"cta-section py-24 text-center",children:h.jsxs("div",{className:"container",children:[h.jsx("h2",{className:"text-5xl font-heading text-white mb-10",children:"Experience the Pure Essence"}),h.jsx(Qe,{to:"/shop",className:"btn btn-lg px-12 py-5 text-lg",children:"Shop Ambrosia Cinnamon"})]})})]})},AE=[{id:1,name:"Divine Essence Powder",category:"Powder",price:45,image:$i,origin:"100% Sri Lankan"},{id:2,name:"Kuveni's Reserve Sticks",category:"Sticks",price:60,image:mm,origin:"100% Sri Lankan"},{id:3,name:"Ravana's Signature Blend",category:"Blends",price:55,image:Rw,origin:"100% Sri Lankan"},{id:4,name:"Ambrosia Collection Box",category:"Gift Sets",price:120,image:$i,origin:"100% Sri Lankan"},{id:5,name:"Alba Grade Premium Sticks",category:"Sticks",price:75,image:mm,origin:"100% Sri Lankan"},{id:6,name:"Culinary Grade Powder",category:"Powder",price:30,image:$i,origin:"100% Sri Lankan"}],bj=()=>{const{addToCart:t}=pl(),[e,n]=M.useState("All"),i=["All","Sticks","Powder","Blends","Gift Sets"],r=e==="All"?AE:AE.filter(s=>s.category===e);return h.jsxs("div",{className:"store-page",children:[h.jsx("section",{className:"store-header",children:h.jsxs("div",{className:"container",children:[h.jsx("h1",{className:"text-5xl font-heading text-gold mb-4",children:"The Collections"}),h.jsx("p",{className:"text-gray-400",children:"Authentic Ceylon cinnamon for every occasion."})]})}),h.jsx("section",{className:"store-content py-12",children:h.jsxs("div",{className:"container",children:[h.jsx("div",{className:"filters-bar mb-12",children:i.map(s=>h.jsx("button",{onClick:()=>n(s),className:`filter-btn ${e===s?"active":""}`,children:s},s))}),h.jsx("div",{className:"store-grid",children:r.map(s=>h.jsxs("div",{className:"store-item-card",children:[h.jsxs("div",{className:"item-image",children:[h.jsx("img",{src:s.image,alt:s.name}),h.jsx("span",{className:"origin-badge",children:s.origin})]}),h.jsxs("div",{className:"item-info",children:[h.jsx("span",{className:"item-cat",children:s.category}),h.jsx("h3",{className:"item-name",children:s.name}),h.jsxs("p",{className:"item-price",children:["$",s.price.toFixed(2)]}),h.jsx("button",{onClick:()=>t(s),className:"add-cart-btn uppercase",children:"Add to Cart"})]})]},s.id))})]})})]})},Sj=[{id:1,title:"Golden Cinnamon Latte",category:"Beverages",image:$i,time:"5 mins",desc:"A warm, soul-soothing latte infused with Ambrosia Divine Essence."},{id:2,title:"Authentic Sri Lankan Chai",category:"Beverages",image:Zo,time:"15 mins",desc:"A spiced tea tradition using whole Kuveni sticks."},{id:3,title:"Cinnamon Glazed Apple Tart",category:"Desserts",image:$i,time:"45 mins",desc:"A classic dessert elevated by the floral notes of Ceylon cinnamon."},{id:4,title:"Health Benefits of Daily Cinnamon",category:"Wellness",image:Zo,time:"4 min read",desc:"How a pinch of Ambrosia every morning can change your metabolism."}],Aj=()=>h.jsxs("div",{className:"recipes-page",children:[h.jsx("section",{className:"recipes-hero",children:h.jsxs("div",{className:"container",children:[h.jsx("h1",{className:"text-6xl font-heading text-gold mb-4",children:"Recipes & Rituals"}),h.jsx("p",{className:"text-xl text-gray-400",children:"Discover the endless possibilities of true cinnamon."})]})}),h.jsx("section",{className:"recipes-grid-section py-20",children:h.jsx("div",{className:"container",children:h.jsx("div",{className:"recipes-grid",children:Sj.map(t=>h.jsxs("div",{className:"recipe-card",children:[h.jsxs("div",{className:"recipe-image",children:[h.jsx("img",{src:t.image,alt:t.title}),h.jsx("span",{className:"recipe-cat",children:t.category})]}),h.jsxs("div",{className:"recipe-info",children:[h.jsx("span",{className:"recipe-time",children:t.time}),h.jsx("h3",{className:"recipe-title",children:t.title}),h.jsx("p",{className:"recipe-desc",children:t.desc}),h.jsx("button",{className:"read-more",children:"Read More"})]})]},t.id))})})})]}),wj=()=>{const[t,e]=M.useState({name:"",email:"",subject:"General Inquiry",message:""}),[n,i]=M.useState(!1),r=a=>{e({...t,[a.target.name]:a.target.value})},s=async a=>{a.preventDefault(),i(!0);try{await bw(Cc($n,"messages"),{...t,createdAt:XV(),status:"new"}),alert("Message sent successfully! We will get back to you soon."),e({name:"",email:"",subject:"General Inquiry",message:""})}catch(l){console.error("Error sending message:",l),alert("Failed to send message. Please try again.")}i(!1)};return h.jsxs("div",{className:"contact-page",children:[h.jsx("section",{className:"contact-hero",children:h.jsxs("div",{className:"container text-center",children:[h.jsx("h1",{className:"text-6xl font-heading text-gold mb-4",children:"Connect with Ambrosia"}),h.jsx("p",{className:"text-xl text-gray-400",children:"Questions about our cinnamon? We're here to help."})]})}),h.jsx("section",{className:"contact-content py-20",children:h.jsxs("div",{className:"container grid grid-cols-2 gap-20",children:[h.jsxs("div",{className:"contact-info",children:[h.jsx("h2",{className:"text-4xl font-heading text-white mb-8",children:"Get in Touch"}),h.jsxs("div",{className:"info-item mb-8",children:[h.jsx("h4",{className:"text-gold uppercase tracking-widest text-xs mb-2",children:"Email"}),h.jsx("p",{className:"text-xl text-gray-300",children:"essence@ambrosiaspice.com"})]}),h.jsxs("div",{className:"info-item mb-8",children:[h.jsx("h4",{className:"text-gold uppercase tracking-widest text-xs mb-2",children:"Phone"}),h.jsx("p",{className:"text-xl text-gray-300",children:"+94 11 234 5678"})]}),h.jsxs("div",{className:"info-item mb-8",children:[h.jsx("h4",{className:"text-gold uppercase tracking-widest text-xs mb-2",children:"Headquarters"}),h.jsx("p",{className:"text-xl text-gray-300",children:"Galle Road, Colombo 03, Sri Lanka"})]}),h.jsxs("div",{className:"social-links mt-12",children:[h.jsx("h4",{className:"text-gray-500 uppercase tracking-widest text-xs mb-4",children:"Follow Our Journey"}),h.jsxs("div",{className:"flex gap-6",children:[h.jsx("a",{href:"#",className:"text-gold hover:text-white transition-colors mr-4",children:"Instagram"}),h.jsx("a",{href:"#",className:"text-gold hover:text-white transition-colors mr-4",children:"Facebook"}),h.jsx("a",{href:"#",className:"text-gold hover:text-white transition-colors",children:"LinkedIn"})]})]})]}),h.jsx("div",{className:"contact-form-container",children:h.jsxs("form",{className:"contact-form",onSubmit:s,children:[h.jsx("div",{className:"form-group mb-6",children:h.jsx("input",{type:"text",name:"name",placeholder:"Your Name",className:"form-input",value:t.name,onChange:r,required:!0})}),h.jsx("div",{className:"form-group mb-6",children:h.jsx("input",{type:"email",name:"email",placeholder:"Email Address",className:"form-input",value:t.email,onChange:r,required:!0})}),h.jsx("div",{className:"form-group mb-6",children:h.jsxs("select",{name:"subject",className:"form-input",value:t.subject,onChange:r,children:[h.jsx("option",{children:"General Inquiry"}),h.jsx("option",{children:"Wholesale/B2B"}),h.jsx("option",{children:"Order Support"}),h.jsx("option",{children:"Press"})]})}),h.jsx("div",{className:"form-group mb-8",children:h.jsx("textarea",{name:"message",placeholder:"How can we help?",className:"form-input h-32",value:t.message,onChange:r,required:!0})}),h.jsx("button",{type:"submit",className:"btn w-full",disabled:n,children:n?"Sending...":"Send Message"})]})})]})})]})},xj=[{q:"Why is Sri Lankan cinnamon better?",a:"Sri Lankan (Ceylon) cinnamon has a much lower coumarin content compared to Cassia. It's also known for its delicate, sweet flavor and floral aroma that Cassia lacks."},{q:"How should I store my Ambrosia cinnamon?",a:"Store in a cool, dark place in an airtight container. Our premium jars are designed to protect the essential oils from light and moisture."},{q:"Do you ship internationally?",a:"Yes, Ambrosia ships to most countries worldwide. Shipping times vary depending on the location, typically 5-10 business days."},{q:"Is your cinnamon organic?",a:"We work with farms that follow sustainable, natural farming practices. While not all are certified 'Organic' yet, we ensure no synthetic pesticides or fertilizers are used."}],Rj=()=>h.jsxs("div",{className:"faq-page",children:[h.jsx("section",{className:"faq-hero py-20",children:h.jsxs("div",{className:"container text-center",children:[h.jsx("h1",{className:"text-5xl font-heading text-gold mb-4",children:"Frequently Asked Questions"}),h.jsx("p",{className:"text-gray-400",children:"Everything you need to know about Ambrosia."})]})}),h.jsx("section",{className:"faq-list-section py-12",children:h.jsx("div",{className:"container max-w-3xl",children:h.jsx("div",{className:"faq-list",children:xj.map((t,e)=>h.jsxs("div",{className:"faq-item mb-8",children:[h.jsx("h3",{className:"text-xl text-white mb-3 font-heading",children:t.q}),h.jsx("p",{className:"text-gray-400 leading-relaxed",children:t.a})]},e))})})})]}),Cj=()=>{const{cartItems:t,removeFromCart:e,updateQuantity:n,cartTotal:i}=pl();return t.length===0?h.jsx("div",{className:"cart-page py-32",children:h.jsxs("div",{className:"container text-center",children:[h.jsx("h1",{className:"text-4xl font-heading text-gold mb-8",children:"Your Cart is Empty"}),h.jsx("p",{className:"text-gray-400 mb-12",children:"Looks like you haven't added the essence of Ceylon to your collection yet."}),h.jsx(Qe,{to:"/shop",className:"btn",children:"Browse Shop"})]})}):h.jsx("div",{className:"cart-page py-32",children:h.jsxs("div",{className:"container",children:[h.jsx("h1",{className:"text-5xl font-heading text-gold mb-12",children:"Your Selection"}),h.jsxs("div",{className:"cart-grid",children:[h.jsxs("div",{className:"cart-items",children:[h.jsxs("div",{className:"cart-header grid grid-cols-4 gap-4 text-xs uppercase tracking-widest text-gray-500 pb-4 border-bottom border-white/5 mb-8",children:[h.jsx("div",{className:"col-span-2",children:"Product"}),h.jsx("div",{className:"text-center",children:"Quantity"}),h.jsx("div",{className:"text-right",children:"Total"})]}),t.map(r=>h.jsxs("div",{className:"cart-item-row grid grid-cols-4 gap-4 items-center py-6 border-bottom border-white/5",children:[h.jsxs("div",{className:"col-span-2 flex gap-6 items-center",children:[h.jsx("div",{className:"item-thumbnail w-24 h-24 bg-[#111] overflow-hidden rounded",children:h.jsx("img",{src:r.image,alt:r.name,className:"w-full h-full object-cover"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-white font-heading text-xl mb-1",children:r.name}),h.jsxs("p",{className:"text-gold text-sm",children:["$",r.price.toFixed(2)]}),h.jsx("button",{onClick:()=>e(r.id),className:"text-gray-600 text-xs mt-2 hover:text-red-500 transition-colors uppercase",children:"Remove"})]})]}),h.jsxs("div",{className:"flex justify-center items-center gap-4",children:[h.jsx("button",{onClick:()=>n(r.id,r.quantity-1),className:"qty-btn",children:"-"}),h.jsx("span",{className:"text-white",children:r.quantity}),h.jsx("button",{onClick:()=>n(r.id,r.quantity+1),className:"qty-btn",children:"+"})]}),h.jsxs("div",{className:"text-right text-white font-bold",children:["$",(r.price*r.quantity).toFixed(2)]})]},r.id))]}),h.jsxs("div",{className:"cart-summary bg-[#111] p-8 rounded-lg border border-white/5 h-fit",children:[h.jsx("h2",{className:"text-2xl font-heading text-white mb-8",children:"Summary"}),h.jsxs("div",{className:"summary-row flex justify-between mb-4",children:[h.jsx("span",{className:"text-gray-400",children:"Subtotal"}),h.jsxs("span",{className:"text-white",children:["$",i.toFixed(2)]})]}),h.jsxs("div",{className:"summary-row flex justify-between mb-8 pb-8 border-bottom border-white/5",children:[h.jsx("span",{className:"text-gray-400",children:"Shipping"}),h.jsx("span",{className:"text-gold",children:"Calculated at checkout"})]}),h.jsxs("div",{className:"summary-row flex justify-between mb-12",children:[h.jsx("span",{className:"text-xl text-white font-heading",children:"Total"}),h.jsxs("span",{className:"text-xl text-gold font-bold",children:["$",i.toFixed(2)]})]}),h.jsx(Qe,{to:"/checkout",className:"btn w-full text-center",children:"Proceed to Checkout"})]})]})]})})},Nj=()=>{const{cartItems:t,cartTotal:e,clearCart:n}=pl(),i=Xc(),[r,s]=M.useState(!1),[a,l]=M.useState("card"),[u,c]=M.useState({firstName:"",lastName:"",email:"",address:"",city:"",country:"",shippingMethod:"standard"}),[d,g]=M.useState(10),p=I=>{const{name:T,value:v}=I.target;c(A=>({...A,[T]:v}))},y=(I,T)=>{c(v=>({...v,shippingMethod:I})),g(T)},C=async I=>{if(I.preventDefault(),s(!0),!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u.email)){alert("Please enter a valid email address."),s(!1);return}if(!u.firstName||!u.lastName||!u.address||!u.city||!u.country){alert("Please fill in all required fields."),s(!1);return}setTimeout(()=>{s(!1),n(),i("/order-confirmation",{state:{orderId:Math.floor(Math.random()*1e4)}})},2e3)};if(t.length===0)return setTimeout(()=>i("/cart"),0),null;const D=e+d;return h.jsx("div",{className:"checkout-page py-32",children:h.jsxs("div",{className:"container",children:[h.jsx("h1",{className:"text-5xl font-heading text-gold mb-12",children:"Checkout"}),h.jsxs("form",{onSubmit:C,className:"checkout-grid grid grid-cols-2 gap-20",children:[h.jsxs("div",{className:"checkout-form",children:[h.jsxs("section",{className:"checkout-section mb-12",children:[h.jsx("h2",{className:"text-2xl font-heading text-white mb-8 border-bottom border-white/5 pb-4",children:"Shipping Information"}),h.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[h.jsx("input",{type:"text",name:"firstName",placeholder:"First Name",className:"form-input",required:!0,value:u.firstName,onChange:p}),h.jsx("input",{type:"text",name:"lastName",placeholder:"Last Name",className:"form-input",required:!0,value:u.lastName,onChange:p})]}),h.jsx("input",{type:"email",name:"email",placeholder:"Email Address",className:"form-input mb-6",required:!0,value:u.email,onChange:p}),h.jsx("input",{type:"text",name:"address",placeholder:"Address",className:"form-input mb-6",required:!0,value:u.address,onChange:p}),h.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[h.jsx("input",{type:"text",name:"city",placeholder:"City",className:"form-input",required:!0,value:u.city,onChange:p}),h.jsx("input",{type:"text",name:"country",placeholder:"Country",className:"form-input",required:!0,value:u.country,onChange:p})]})]}),h.jsxs("section",{className:"checkout-section mb-12",children:[h.jsx("h2",{className:"text-2xl font-heading text-white mb-8 border-bottom border-white/5 pb-4",children:"Shipping Method"}),h.jsxs("div",{className:"shipping-options space-y-4",children:[h.jsxs("label",{className:`shipping-option flex items-center justify-between p-4 bg-[#111] border rounded cursor-pointer ${u.shippingMethod==="standard"?"border-gold":"border-white/5"}`,children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("input",{type:"radio",name:"shipping",checked:u.shippingMethod==="standard",onChange:()=>y("standard",10)}),h.jsx("span",{children:"Standard (5-10 Days)"})]}),h.jsx("span",{className:"text-gold",children:"$10.00"})]}),h.jsxs("label",{className:`shipping-option flex items-center justify-between p-4 bg-[#111] border rounded cursor-pointer ${u.shippingMethod==="express"?"border-gold":"border-white/5"}`,children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("input",{type:"radio",name:"shipping",checked:u.shippingMethod==="express",onChange:()=>y("express",25)}),h.jsx("span",{children:"Express (2-3 Days)"})]}),h.jsx("span",{className:"text-gold",children:"$25.00"})]})]})]}),h.jsxs("section",{className:"checkout-section mb-12",children:[h.jsx("h2",{className:"text-2xl font-heading text-white mb-8 border-bottom border-white/5 pb-4",children:"Payment Method"}),h.jsxs("div",{className:"payment-tabs flex gap-4 mb-8",children:[h.jsx("button",{type:"button",className:`payment-tab flex-1 p-4 rounded border ${a==="card"?"border-gold text-gold bg-gold/5":"border-white/5 text-gray-400"}`,onClick:()=>l("card"),children:"Credit Card"}),h.jsx("button",{type:"button",className:`payment-tab flex-1 p-4 rounded border ${a==="paypal"?"border-gold text-gold bg-gold/5":"border-white/5 text-gray-400"}`,onClick:()=>l("paypal"),children:"PayPal"})]}),a==="card"?h.jsxs("div",{className:"card-details space-y-6",children:[h.jsx("div",{className:"p-4 bg-yellow-500/10 border border-yellow-500/20 text-yellow-200 text-sm rounded",children:"Note: This is a secure checkout demonstration. No real charge will be made yet."}),h.jsx("input",{type:"text",placeholder:"Card Number",className:"form-input"}),h.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[h.jsx("input",{type:"text",placeholder:"MM / YY",className:"form-input"}),h.jsx("input",{type:"text",placeholder:"CVV",className:"form-input"})]})]}):h.jsx("div",{className:"paypal-notice p-8 bg-blue-600/5 border border-blue-600/20 rounded text-center",children:h.jsx("p",{className:"text-gray-300",children:"Proceed to complete your purchase securely with PayPal."})})]}),h.jsx("button",{type:"submit",disabled:r,className:`btn w-full py-5 text-lg uppercase tracking-widest mt-8 ${r?"opacity-50 cursor-not-allowed":""}`,children:r?"Processing...":"Place Order"})]}),h.jsx("div",{className:"checkout-sidebar",children:h.jsxs("div",{className:"order-summary bg-[#111] p-10 rounded-lg border border-white/5 sticky top-32",children:[h.jsx("h2",{className:"text-2xl font-heading text-white mb-8 border-bottom border-white/5 pb-4",children:"Order Summary"}),h.jsx("div",{className:"order-items space-y-6 mb-10 max-h-96 overflow-y-auto pr-2",children:t.map(I=>h.jsxs("div",{className:"flex justify-between items-center bg-black/20 p-3 rounded border border-white/5",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"item-thumbnail-mini w-12 h-12 overflow-hidden rounded bg-gray-800",children:h.jsx("img",{src:I.image,alt:I.name,className:"w-full h-full object-cover"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-white text-xs font-heading leading-tight mb-1",children:I.name}),h.jsxs("p",{className:"text-gray-500 text-[10px] uppercase tracking-widest",children:["Qty: ",I.quantity]})]})]}),h.jsxs("span",{className:"text-gold text-sm font-bold",children:["$",(I.price*I.quantity).toFixed(2)]})]},I.id))}),h.jsxs("div",{className:"summary-details pt-8 border-top border-white/10 space-y-4",children:[h.jsxs("div",{className:"flex justify-between text-gray-400",children:[h.jsx("span",{children:"Subtotal"}),h.jsxs("span",{children:["$",e.toFixed(2)]})]}),h.jsxs("div",{className:"flex justify-between text-gray-400",children:[h.jsx("span",{children:"Shipping"}),h.jsxs("span",{children:["$",d.toFixed(2)]})]}),h.jsxs("div",{className:"flex justify-between text-xl text-white font-heading font-bold pt-4 border-top border-white/5",children:[h.jsx("span",{children:"Total"}),h.jsxs("span",{className:"text-gold",children:["$",D.toFixed(2)]})]})]})]})})]})]})})},Ij=()=>{var n;const e=((n=lr().state)==null?void 0:n.orderId)||"AMB-"+Math.floor(1e5+Math.random()*9e5);return h.jsx("div",{className:"confirmation-page py-48",children:h.jsxs("div",{className:"container text-center",children:[h.jsx("div",{className:"success-icon text-gold text-7xl mb-8",children:""}),h.jsx("h1",{className:"text-6xl font-heading text-gold mb-6",children:"Order Confirmed"}),h.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto leading-relaxed mb-12",children:"Thank you for choosing Ambrosia. We've received your order and are currently preparing your selection of prime cinnamon for its journey to your doorstep."}),h.jsxs("div",{className:"order-details-summary bg-[#111] p-10 rounded max-w-lg mx-auto border border-white/5 mb-16",children:[h.jsxs("p",{className:"text-gray-500 text-sm mb-4",children:["Order #",e]}),h.jsx("p",{className:"text-white",children:"A confirmation email has been sent. You can track your 100% Sri Lankan delivery once the quills are dispatched."})]}),h.jsxs("div",{className:"flex justify-center gap-8",children:[h.jsx(Qe,{to:"/shop",className:"btn btn-outline",children:"Continue Shopping"}),h.jsx(Qe,{to:"/",className:"btn",children:"Back to Home"})]})]})})},Cw=({title:t})=>h.jsx("div",{className:"section",style:{paddingTop:"150px",minHeight:"80vh"},children:h.jsxs("div",{className:"container text-center",children:[h.jsx("h1",{className:"text-6xl text-gold mb-8",children:t}),h.jsx("p",{className:"text-xl text-gray-500",children:"This section is coming soon as part of the Ambrosia mission."})]})}),Dj=()=>h.jsx(Cw,{title:"Privacy Policy"}),Oj=()=>h.jsx(Cw,{title:"Terms & Conditions"}),Mj=()=>{const[t,e]=M.useState(""),[n,i]=M.useState(""),[r,s]=M.useState(""),[a,l]=M.useState(!1),u=Xc(),c=async d=>{d.preventDefault(),s(""),l(!0);try{const p=(await _D(Jo,t,n)).user,y=await Ew(na($n,"users",p.uid));if(y.exists()&&y.data().role==="admin")u("/admin");else throw await Qd(Jo),new Error("Access Denied: You do not have administrator privileges.")}catch(g){console.error("Login Error:",g),console.error("Login Error:",g);const p=g.message.includes("Access Denied")?g.message:"Invalid credentials. Please try again.";s(p)}finally{l(!1)}};return h.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center p-4",children:h.jsxs("div",{className:"w-full max-w-md bg-[#111] p-8 rounded-lg border border-white/10",children:[h.jsxs("div",{className:"text-center mb-10",children:[h.jsx("h1",{className:"text-3xl font-heading text-gold mb-2",children:"Ambrosia Admin"}),h.jsx("p",{className:"text-gray-500 uppercase text-xs tracking-widest",children:"Restricted Access"})]}),r&&h.jsx("div",{className:"bg-red-500/10 border border-red-500/20 text-red-400 p-3 rounded mb-6 text-sm text-center",children:r}),h.jsxs("form",{onSubmit:c,className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Email"}),h.jsx("input",{type:"email",value:t,onChange:d=>e(d.target.value),className:"w-full bg-[#1a1a1a] border border-white/10 rounded p-3 text-white focus:outline-none focus:border-gold transition-colors",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Password"}),h.jsx("input",{type:"password",value:n,onChange:d=>i(d.target.value),className:"w-full bg-[#1a1a1a] border border-white/10 rounded p-3 text-white focus:outline-none focus:border-gold transition-colors",required:!0})]}),h.jsx("button",{type:"submit",disabled:a,className:`w-full bg-gold text-black font-bold py-3 rounded uppercase tracking-widest transition-all hover:bg-white ${a?"opacity-50 cursor-not-allowed":""}`,children:a?"Authenticating...":"Login"})]})]})})};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nw=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jj=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=t=>{const e=jj(t);return e.charAt(0).toUpperCase()+e.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var kj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lj=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pj=M.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:r="",children:s,iconNode:a,...l},u)=>M.createElement("svg",{ref:u,...kj,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:Nw("lucide",r),...!s&&!Lj(l)&&{"aria-hidden":"true"},...l},[...a.map(([c,d])=>M.createElement(c,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vh=(t,e)=>{const n=M.forwardRef(({className:i,...r},s)=>M.createElement(Pj,{ref:s,iconNode:e,className:Nw(`lucide-${Vj(wE(t))}`,`lucide-${t}`,i),...r}));return n.displayName=wE(t),n};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uj=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],zj=vh("clock",Uj);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bj=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],qj=vh("mail",Bj);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=[["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}],["path",{d:"m9 17-5-5 5-5",key:"nvlc11"}]],Fj=vh("reply",Hj);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Kj=vh("trash-2",Gj),Yj=()=>{const t=Xc(),{currentUser:e,isAdmin:n,loading:i}=sj();if(console.log("AdminLayout Render:",{currentUser:e==null?void 0:e.email,isAdmin:n,loading:i}),Ax.useEffect(()=>{!i&&(!e||!n)&&t("/admin/login")},[e,n,i,t]),i)return h.jsx("div",{className:"min-h-screen bg-black text-gold flex items-center justify-center",children:"Loading Admin..."});if(!n)return h.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col items-center justify-center gap-4",children:[h.jsx("h1",{className:"text-2xl text-red-500 font-bold",children:"Access Denied"}),h.jsx("p",{className:"text-gray-400",children:"You do not have administrator privileges."}),h.jsxs("div",{className:"text-sm text-gray-600",children:["Current Role: ",e==null?void 0:e.email]}),h.jsx("button",{onClick:()=>{Qd(Jo),t("/admin/login")},className:"px-4 py-2 bg-gold text-black rounded hover:bg-white transition-colors",children:"Back to Login"})]});const r=async()=>{try{await Qd(Jo),t("/admin/login")}catch(s){console.error("Logout failed:",s)}};return h.jsxs("div",{className:"min-h-screen bg-black flex",children:[h.jsxs("aside",{className:"w-64 bg-[#111] border-r border-white/5 flex flex-col fixed h-full z-10",children:[h.jsxs("div",{className:"p-8 border-b border-white/5",children:[h.jsx("h1",{className:"text-2xl font-heading text-gold",children:"Ambrosia"}),h.jsx("span",{className:"text-gray-600 text-[10px] uppercase tracking-[0.2em] block mt-1",children:"Admin Console"})]}),h.jsxs("nav",{className:"flex-1 p-4 space-y-2 mt-4",children:[h.jsx(yn,{to:"/admin",end:!0,className:({isActive:s})=>`flex items-center gap-3 p-3 rounded text-sm uppercase tracking-wider transition-colors ${s?"bg-gold/10 text-gold":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:"Dashboard"}),h.jsx(yn,{to:"/admin/orders",className:({isActive:s})=>`flex items-center gap-3 p-3 rounded text-sm uppercase tracking-wider transition-colors ${s?"bg-gold/10 text-gold":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:"Orders"}),h.jsx(yn,{to:"/admin/products",className:({isActive:s})=>`flex items-center gap-3 p-3 rounded text-sm uppercase tracking-wider transition-colors ${s?"bg-gold/10 text-gold":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:"Products"}),h.jsx(yn,{to:"/admin/inventory",className:({isActive:s})=>`flex items-center gap-3 p-3 rounded text-sm uppercase tracking-wider transition-colors ${s?"bg-gold/10 text-gold":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:"Inventory"})]}),h.jsx("div",{className:"p-4 border-t border-white/5",children:h.jsx("button",{onClick:r,className:"w-full flex items-center justify-center gap-2 p-3 text-red-400 hover:bg-red-500/10 rounded transition-colors text-sm uppercase tracking-wider",children:"Logout"})})]}),h.jsx("main",{className:"flex-1 ml-64 p-8",children:h.jsx("div",{className:"max-w-7xl mx-auto",children:h.jsx(tN,{})})})]})},Qj=()=>h.jsxs("div",{children:[h.jsxs("header",{className:"mb-10",children:[h.jsx("h1",{className:"text-3xl font-heading text-white",children:"Dashboard Overview"}),h.jsx("p",{className:"text-gray-500 mt-2",children:"Welcome back to the command center."})]}),h.jsxs("div",{className:"grid grid-cols-3 gap-6 mb-12",children:[h.jsxs("div",{className:"bg-[#111] p-6 rounded-lg border border-white/5",children:[h.jsx("h3",{className:"text-gray-500 text-sm uppercase tracking-widest mb-2",children:"Total Revenue"}),h.jsx("p",{className:"text-3xl font-heading text-gold",children:"$12,450.00"}),h.jsx("span",{className:"text-green-500 text-xs mt-2 block",children:" 12% from last month"})]}),h.jsxs("div",{className:"bg-[#111] p-6 rounded-lg border border-white/5",children:[h.jsx("h3",{className:"text-gray-500 text-sm uppercase tracking-widest mb-2",children:"Pending Orders"}),h.jsx("p",{className:"text-3xl font-heading text-white",children:"8"}),h.jsx("span",{className:"text-yellow-500 text-xs mt-2 block",children:"Requires attention"})]}),h.jsxs("div",{className:"bg-[#111] p-6 rounded-lg border border-white/5",children:[h.jsx("h3",{className:"text-gray-500 text-sm uppercase tracking-widest mb-2",children:"Total Products"}),h.jsx("p",{className:"text-3xl font-heading text-white",children:"24"}),h.jsx("span",{className:"text-gray-500 text-xs mt-2 block",children:"In stock"})]})]}),h.jsxs("div",{className:"bg-[#111] rounded-lg border border-white/5 overflow-hidden",children:[h.jsxs("div",{className:"p-6 border-b border-white/5 flex justify-between items-center",children:[h.jsx("h2",{className:"text-xl font-heading text-white",children:"Recent Orders"}),h.jsx("button",{className:"text-gold text-xs uppercase tracking-widest hover:text-white transition-colors",children:"View All"})]}),h.jsx("div",{className:"p-6",children:h.jsx("p",{className:"text-gray-500 text-center py-10",children:"Data syncing with Firestore..."})})]})]}),$j=()=>{const[t,e]=M.useState([]),[n,i]=M.useState(!0);M.useEffect(()=>{const l=Sw(Cc($n,"orders"),u=>{const c=u.docs.map(d=>{var g;return{id:d.id,...d.data(),date:((g=d.data().created_at)==null?void 0:g.toDate().toLocaleDateString())||"N/A"}});e(c),i(!1)});return()=>l()},[]);const r=async(l,u)=>{try{await Tw(na($n,"orders",l),{status:u})}catch(c){console.error("Error updating status:",c),alert("Failed to update status")}},s=async()=>{[{user:"alex@example.com",items:3,total:145,status:"Pending",created_at:ye.now()},{user:"sarah@example.com",items:1,total:45,status:"Processing",created_at:ye.now()},{user:"mike@example.com",items:5,total:230.5,status:"Shipped",created_at:ye.now()}].forEach(async u=>{await bw(Cc($n,"orders"),u)})},a=l=>{switch(l){case"Pending":return"text-yellow-500 bg-yellow-500/10 border-yellow-500/20";case"Processing":return"text-blue-400 bg-blue-500/10 border-blue-500/20";case"Shipped":return"text-purple-400 bg-purple-500/10 border-purple-500/20";case"Delivered":return"text-green-500 bg-green-500/10 border-green-500/20";default:return"text-gray-400 bg-gray-500/10 border-gray-500/20"}};return h.jsxs("div",{children:[h.jsxs("header",{className:"mb-10 flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-heading text-white",children:"Orders Management"}),h.jsx("p",{className:"text-gray-500 mt-2",children:"Track and manage customer orders."})]}),h.jsxs("div",{className:"flex gap-4",children:[h.jsx("button",{onClick:s,className:"bg-white/5 hover:bg-white/10 text-white px-4 py-2 rounded text-xs uppercase tracking-widest border border-white/10",children:"Seed Test Data"}),h.jsx("input",{type:"text",placeholder:"Search orders...",className:"bg-[#1a1a1a] border border-white/10 rounded-full px-4 py-2 text-sm text-white focus:outline-none focus:border-gold w-64"})]})]}),h.jsx("div",{className:"bg-[#111] rounded-lg border border-white/5 overflow-hidden",children:n?h.jsx("div",{className:"p-10 text-center text-gray-500",children:"Loading live orders..."}):h.jsxs("table",{className:"w-full text-left border-collapse",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"border-b border-white/5 text-gray-500 text-xs uppercase tracking-widest",children:[h.jsx("th",{className:"p-6 font-normal",children:"Order ID"}),h.jsx("th",{className:"p-6 font-normal",children:"Customer"}),h.jsx("th",{className:"p-6 font-normal",children:"Date"}),h.jsx("th",{className:"p-6 font-normal text-center",children:"Items"}),h.jsx("th",{className:"p-6 font-normal text-right",children:"Total"}),h.jsx("th",{className:"p-6 font-normal",children:"Status"}),h.jsx("th",{className:"p-6 font-normal",children:"Actions"})]})}),h.jsx("tbody",{className:"divide-y divide-white/5",children:t.length===0?h.jsx("tr",{children:h.jsx("td",{colSpan:"7",className:"p-10 text-center text-gray-500",children:'No orders found in database. Click "Seed Test Data" to populate.'})}):t.map(l=>h.jsxs("tr",{className:"hover:bg-white/5 transition-colors",children:[h.jsx("td",{className:"p-6 text-white font-medium text-xs font-mono opacity-70",children:l.id}),h.jsx("td",{className:"p-6 text-gray-400",children:l.user}),h.jsx("td",{className:"p-6 text-gray-400",children:l.date}),h.jsx("td",{className:"p-6 text-gray-400 text-center",children:l.items}),h.jsxs("td",{className:"p-6 text-gold font-bold text-right",children:["$",l.total?l.total.toFixed(2):"0.00"]}),h.jsx("td",{className:"p-6",children:h.jsx("span",{className:`px-3 py-1 rounded-full text-xs uppercase tracking-wider border ${a(l.status)}`,children:l.status})}),h.jsx("td",{className:"p-6",children:h.jsxs("select",{className:"bg-black border border-white/10 rounded px-2 py-1 text-xs text-gray-300 focus:border-gold outline-none cursor-pointer",value:l.status,onChange:u=>r(l.id,u.target.value),children:[h.jsx("option",{value:"Pending",children:"Pending"}),h.jsx("option",{value:"Processing",children:"Processing"}),h.jsx("option",{value:"Packed",children:"Packed"}),h.jsx("option",{value:"Shipped",children:"Shipped"}),h.jsx("option",{value:"Delivered",children:"Delivered"}),h.jsx("option",{value:"Cancelled",children:"Cancelled"})]})})]},l.id))})]})})]})},Xj=()=>h.jsxs("div",{className:"admin-container p-6",children:[h.jsx("h1",{className:"text-3xl font-heading text-gold mb-8",children:"Product Management"}),h.jsxs("div",{className:"bg-[#111] p-8 rounded border border-white/5 text-center",children:[h.jsx("p",{className:"text-gray-400",children:"Product inventory management features coming soon."}),h.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-3 gap-6",children:[h.jsxs("div",{className:"p-6 bg-black/40 border border-gold/20 rounded",children:[h.jsx("h3",{className:"text-xl text-white font-heading mb-2",children:"Alba Grade"}),h.jsx("p",{className:"text-gold",children:"$45.00 / tin"}),h.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Stock: 150 units"})]}),h.jsxs("div",{className:"p-6 bg-black/40 border border-gold/20 rounded",children:[h.jsx("h3",{className:"text-xl text-white font-heading mb-2",children:"C5 Special"}),h.jsx("p",{className:"text-gold",children:"$38.00 / tin"}),h.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Stock: 85 units"})]}),h.jsxs("div",{className:"p-6 bg-black/40 border border-gold/20 rounded",children:[h.jsx("h3",{className:"text-xl text-white font-heading mb-2",children:"Ground Cinnamon"}),h.jsx("p",{className:"text-gold",children:"$12.00 / pack"}),h.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Stock: 500 units"})]})]})]})]}),Wj=()=>{const[t,e]=M.useState([]),[n,i]=M.useState(!0);M.useEffect(()=>{const a=ZV(Cc($n,"messages"),ej("createdAt","desc")),l=Sw(a,u=>{e(u.docs.map(c=>({id:c.id,...c.data()}))),i(!1)});return()=>l()},[]);const r=async(a,l)=>{l==="new"&&await Tw(na($n,"messages",a),{status:"read"})},s=async a=>{window.confirm("Are you sure you want to delete this message?")&&await ij(na($n,"messages",a))};return n?h.jsx("div",{className:"p-8 text-gold",children:"Loading messages..."}):h.jsxs("div",{className:"admin-container p-6",children:[h.jsxs("h1",{className:"text-3xl font-heading text-gold mb-8 flex items-center gap-3",children:[h.jsx(qj,{})," Messages & Inquiries"]}),h.jsx("div",{className:"grid gap-4",children:t.length===0?h.jsx("div",{className:"text-gray-400",children:"No messages found."}):t.map(a=>{var l,u;return h.jsxs("div",{className:`p-6 rounded-lg border border-gold/10 transition-all ${a.status==="new"?"bg-gold/5 border-gold/30":"bg-black/40"}`,onClick:()=>r(a.id,a.status),children:[h.jsxs("div",{className:"flex justify-between items-start mb-4",children:[h.jsxs("div",{children:[h.jsxs("h3",{className:"text-xl text-white font-semibold flex items-center gap-2",children:[a.subject,a.status==="new"&&h.jsx("span",{className:"text-xs bg-gold text-black px-2 py-0.5 rounded-full font-bold",children:"NEW"})]}),h.jsxs("p",{className:"text-gold/80 text-sm mt-1",children:["From: ",a.name," (",a.email,")"]})]}),h.jsxs("div",{className:"text-right",children:[h.jsxs("p",{className:"text-gray-500 text-sm flex items-center gap-1 justify-end",children:[h.jsx(zj,{size:14}),(l=a.createdAt)==null?void 0:l.toDate().toLocaleDateString()," ",(u=a.createdAt)==null?void 0:u.toDate().toLocaleTimeString()]}),h.jsxs("div",{className:"flex gap-2 mt-3 justify-end",children:[h.jsx("a",{href:`mailto:${a.email}?subject=Re: ${a.subject}`,className:"p-2 bg-gold/10 text-gold rounded hover:bg-gold hover:text-black transition-colors",title:"Reply via Email",children:h.jsx(Fj,{size:16})}),h.jsx("button",{onClick:c=>{c.stopPropagation(),s(a.id)},className:"p-2 bg-red-500/10 text-red-500 rounded hover:bg-red-500 hover:text-white transition-colors",title:"Delete Message",children:h.jsx(Kj,{size:16})})]})]})]}),h.jsx("p",{className:"text-gray-300 whitespace-pre-wrap",children:a.message})]},a.id)})})]})};function Jj(){return h.jsx(aj,{children:h.jsx(jN,{children:h.jsx(xN,{basename:"/Ambrosia/",children:h.jsx("div",{className:"app",children:h.jsxs(G_,{children:[h.jsx(Ue,{path:"/admin/login",element:h.jsx(Mj,{})}),h.jsxs(Ue,{path:"/admin",element:h.jsx(Yj,{}),children:[h.jsx(Ue,{index:!0,element:h.jsx(Qj,{})}),h.jsx(Ue,{path:"orders",element:h.jsx($j,{})}),h.jsx(Ue,{path:"products",element:h.jsx(Xj,{})}),h.jsx(Ue,{path:"messages",element:h.jsx(Wj,{})})]}),h.jsx(Ue,{path:"/*",element:h.jsxs(h.Fragment,{children:[h.jsx(oj,{}),h.jsx("main",{children:h.jsxs(G_,{children:[h.jsx(Ue,{path:"/",element:h.jsx(_j,{})}),h.jsx(Ue,{path:"/about-us",element:h.jsx(vj,{})}),h.jsx(Ue,{path:"/about-cinnamon",element:h.jsx(Tj,{})}),h.jsx(Ue,{path:"/shop",element:h.jsx(bj,{})}),h.jsx(Ue,{path:"/recipes",element:h.jsx(Aj,{})}),h.jsx(Ue,{path:"/contact",element:h.jsx(wj,{})}),h.jsx(Ue,{path:"/cart",element:h.jsx(Cj,{})}),h.jsx(Ue,{path:"/checkout",element:h.jsx(Nj,{})}),h.jsx(Ue,{path:"/order-confirmation",element:h.jsx(Ij,{})}),h.jsx(Ue,{path:"/faq",element:h.jsx(Rj,{})}),h.jsx(Ue,{path:"/privacy",element:h.jsx(Dj,{})}),h.jsx(Ue,{path:"/terms",element:h.jsx(Oj,{})})]})}),h.jsx(lj,{})]})})]})})})})})}iC.createRoot(document.getElementById("root")).render(h.jsx(M.StrictMode,{children:h.jsx(Jj,{})}));
