(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();var Lv={exports:{}},rc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M1=Symbol.for("react.transitional.element"),V1=Symbol.for("react.fragment");function Uv(e,t,n){var i=null;if(n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),"key"in t){n={};for(var r in t)r!=="key"&&(n[r]=t[r])}else n=t;return t=n.ref,{$$typeof:M1,type:e,key:i,ref:t!==void 0?t:null,props:n}}rc.Fragment=V1;rc.jsx=Uv;rc.jsxs=Uv;Lv.exports=rc;var P=Lv.exports,kv={exports:{}},J={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ud=Symbol.for("react.transitional.element"),x1=Symbol.for("react.portal"),L1=Symbol.for("react.fragment"),U1=Symbol.for("react.strict_mode"),k1=Symbol.for("react.profiler"),P1=Symbol.for("react.consumer"),z1=Symbol.for("react.context"),B1=Symbol.for("react.forward_ref"),j1=Symbol.for("react.suspense"),H1=Symbol.for("react.memo"),Pv=Symbol.for("react.lazy"),q1=Symbol.for("react.activity"),Rg=Symbol.iterator;function F1(e){return e===null||typeof e!="object"?null:(e=Rg&&e[Rg]||e["@@iterator"],typeof e=="function"?e:null)}var zv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Bv=Object.assign,jv={};function $s(e,t,n){this.props=e,this.context=t,this.refs=jv,this.updater=n||zv}$s.prototype.isReactComponent={};$s.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};$s.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Hv(){}Hv.prototype=$s.prototype;function kd(e,t,n){this.props=e,this.context=t,this.refs=jv,this.updater=n||zv}var Pd=kd.prototype=new Hv;Pd.constructor=kd;Bv(Pd,$s.prototype);Pd.isPureReactComponent=!0;var wg=Array.isArray;function cf(){}var At={H:null,A:null,T:null,S:null},qv=Object.prototype.hasOwnProperty;function zd(e,t,n){var i=n.ref;return{$$typeof:Ud,type:e,key:t,ref:i!==void 0?i:null,props:n}}function G1(e,t){return zd(e.type,t,e.props)}function Bd(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ud}function K1(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Cg=/\/+/g;function uh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?K1(""+e.key):t.toString(36)}function Y1(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(cf,cf):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Xr(e,t,n,i,r){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"bigint":case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Ud:case x1:a=!0;break;case Pv:return a=e._init,Xr(a(e._payload),t,n,i,r)}}if(a)return r=r(e),a=i===""?"."+uh(e,0):i,wg(r)?(n="",a!=null&&(n=a.replace(Cg,"$&/")+"/"),Xr(r,t,n,"",function(c){return c})):r!=null&&(Bd(r)&&(r=G1(r,n+(r.key==null||e&&e.key===r.key?"":(""+r.key).replace(Cg,"$&/")+"/")+a)),t.push(r)),1;a=0;var l=i===""?".":i+":";if(wg(e))for(var u=0;u<e.length;u++)i=e[u],s=l+uh(i,u),a+=Xr(i,t,n,s,r);else if(u=F1(e),typeof u=="function")for(e=u.call(e),u=0;!(i=e.next()).done;)i=i.value,s=l+uh(i,u++),a+=Xr(i,t,n,s,r);else if(s==="object"){if(typeof e.then=="function")return Xr(Y1(e),t,n,i,r);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return a}function pl(e,t,n){if(e==null)return e;var i=[],r=0;return Xr(e,i,"","",function(s){return t.call(n,s,r++)}),i}function Q1(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ig=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},$1={map:pl,forEach:function(e,t,n){pl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return pl(e,function(){t++}),t},toArray:function(e){return pl(e,function(t){return t})||[]},only:function(e){if(!Bd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};J.Activity=q1;J.Children=$1;J.Component=$s;J.Fragment=L1;J.Profiler=k1;J.PureComponent=kd;J.StrictMode=U1;J.Suspense=j1;J.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=At;J.__COMPILER_RUNTIME={__proto__:null,c:function(e){return At.H.useMemoCache(e)}};J.cache=function(e){return function(){return e.apply(null,arguments)}};J.cacheSignal=function(){return null};J.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var i=Bv({},e.props),r=e.key;if(t!=null)for(s in t.key!==void 0&&(r=""+t.key),t)!qv.call(t,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&t.ref===void 0||(i[s]=t[s]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var a=Array(s),l=0;l<s;l++)a[l]=arguments[l+2];i.children=a}return zd(e.type,r,i)};J.createContext=function(e){return e={$$typeof:z1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:P1,_context:e},e};J.createElement=function(e,t,n){var i,r={},s=null;if(t!=null)for(i in t.key!==void 0&&(s=""+t.key),t)qv.call(t,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(r[i]=t[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(e&&e.defaultProps)for(i in a=e.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return zd(e,s,r)};J.createRef=function(){return{current:null}};J.forwardRef=function(e){return{$$typeof:B1,render:e}};J.isValidElement=Bd;J.lazy=function(e){return{$$typeof:Pv,_payload:{_status:-1,_result:e},_init:Q1}};J.memo=function(e,t){return{$$typeof:H1,type:e,compare:t===void 0?null:t}};J.startTransition=function(e){var t=At.T,n={};At.T=n;try{var i=e(),r=At.S;r!==null&&r(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(cf,Ig)}catch(s){Ig(s)}finally{t!==null&&n.types!==null&&(t.types=n.types),At.T=t}};J.unstable_useCacheRefresh=function(){return At.H.useCacheRefresh()};J.use=function(e){return At.H.use(e)};J.useActionState=function(e,t,n){return At.H.useActionState(e,t,n)};J.useCallback=function(e,t){return At.H.useCallback(e,t)};J.useContext=function(e){return At.H.useContext(e)};J.useDebugValue=function(){};J.useDeferredValue=function(e,t){return At.H.useDeferredValue(e,t)};J.useEffect=function(e,t){return At.H.useEffect(e,t)};J.useEffectEvent=function(e){return At.H.useEffectEvent(e)};J.useId=function(){return At.H.useId()};J.useImperativeHandle=function(e,t,n){return At.H.useImperativeHandle(e,t,n)};J.useInsertionEffect=function(e,t){return At.H.useInsertionEffect(e,t)};J.useLayoutEffect=function(e,t){return At.H.useLayoutEffect(e,t)};J.useMemo=function(e,t){return At.H.useMemo(e,t)};J.useOptimistic=function(e,t){return At.H.useOptimistic(e,t)};J.useReducer=function(e,t,n){return At.H.useReducer(e,t,n)};J.useRef=function(e){return At.H.useRef(e)};J.useState=function(e){return At.H.useState(e)};J.useSyncExternalStore=function(e,t,n){return At.H.useSyncExternalStore(e,t,n)};J.useTransition=function(){return At.H.useTransition()};J.version="19.2.3";kv.exports=J;var x=kv.exports,Fv={exports:{}},sc={},Gv={exports:{}},Kv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(H,tt){var $=H.length;H.push(tt);t:for(;0<$;){var _t=$-1>>>1,kt=H[_t];if(0<r(kt,tt))H[_t]=tt,H[$]=kt,$=_t;else break t}}function n(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var tt=H[0],$=H.pop();if($!==tt){H[0]=$;t:for(var _t=0,kt=H.length,nr=kt>>>1;_t<nr;){var ir=2*(_t+1)-1,Fr=H[ir],Be=ir+1,ii=H[Be];if(0>r(Fr,$))Be<kt&&0>r(ii,Fr)?(H[_t]=ii,H[Be]=$,_t=Be):(H[_t]=Fr,H[ir]=$,_t=ir);else if(Be<kt&&0>r(ii,$))H[_t]=ii,H[Be]=$,_t=Be;else break t}}return tt}function r(H,tt){var $=H.sortIndex-tt.sortIndex;return $!==0?$:H.id-tt.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var u=[],c=[],f=1,m=null,p=3,y=!1,C=!1,N=!1,M=!1,S=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function I(H){for(var tt=n(c);tt!==null;){if(tt.callback===null)i(c);else if(tt.startTime<=H)i(c),tt.sortIndex=tt.expirationTime,t(u,tt);else break;tt=n(c)}}function k(H){if(N=!1,I(H),!C)if(n(u)!==null)C=!0,j||(j=!0,D());else{var tt=n(c);tt!==null&&Ze(k,tt.startTime-H)}}var j=!1,E=-1,_=5,T=-1;function R(){return M?!0:!(e.unstable_now()-T<_)}function w(){if(M=!1,j){var H=e.unstable_now();T=H;var tt=!0;try{t:{C=!1,N&&(N=!1,v(E),E=-1),y=!0;var $=p;try{e:{for(I(H),m=n(u);m!==null&&!(m.expirationTime>H&&R());){var _t=m.callback;if(typeof _t=="function"){m.callback=null,p=m.priorityLevel;var kt=_t(m.expirationTime<=H);if(H=e.unstable_now(),typeof kt=="function"){m.callback=kt,I(H),tt=!0;break e}m===n(u)&&i(u),I(H)}else i(u);m=n(u)}if(m!==null)tt=!0;else{var nr=n(c);nr!==null&&Ze(k,nr.startTime-H),tt=!1}}break t}finally{m=null,p=$,y=!1}tt=void 0}}finally{tt?D():j=!1}}}var D;if(typeof A=="function")D=function(){A(w)};else if(typeof MessageChannel<"u"){var b=new MessageChannel,le=b.port2;b.port1.onmessage=w,D=function(){le.postMessage(null)}}else D=function(){S(w,0)};function Ze(H,tt){E=S(function(){H(e.unstable_now())},tt)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_next=function(H){switch(p){case 1:case 2:case 3:var tt=3;break;default:tt=p}var $=p;p=tt;try{return H()}finally{p=$}},e.unstable_requestPaint=function(){M=!0},e.unstable_runWithPriority=function(H,tt){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var $=p;p=H;try{return tt()}finally{p=$}},e.unstable_scheduleCallback=function(H,tt,$){var _t=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?_t+$:_t):$=_t,H){case 1:var kt=-1;break;case 2:kt=250;break;case 5:kt=1073741823;break;case 4:kt=1e4;break;default:kt=5e3}return kt=$+kt,H={id:f++,callback:tt,priorityLevel:H,startTime:$,expirationTime:kt,sortIndex:-1},$>_t?(H.sortIndex=$,t(c,H),n(u)===null&&H===n(c)&&(N?(v(E),E=-1):N=!0,Ze(k,$-_t))):(H.sortIndex=kt,t(u,H),C||y||(C=!0,j||(j=!0,D()))),H},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(H){var tt=p;return function(){var $=p;p=tt;try{return H.apply(this,arguments)}finally{p=$}}}})(Kv);Gv.exports=Kv;var X1=Gv.exports,Yv={exports:{}},Ee={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J1=x;function Qv(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ci(){}var _e={d:{f:ci,r:function(){throw Error(Qv(522))},D:ci,C:ci,L:ci,m:ci,X:ci,S:ci,M:ci},p:0,findDOMNode:null},Z1=Symbol.for("react.portal");function W1(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Z1,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}var Ha=J1.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function ac(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Ee.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_e;Ee.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(Qv(299));return W1(e,t,null,n)};Ee.flushSync=function(e){var t=Ha.T,n=_e.p;try{if(Ha.T=null,_e.p=2,e)return e()}finally{Ha.T=t,_e.p=n,_e.d.f()}};Ee.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,_e.d.C(e,t))};Ee.prefetchDNS=function(e){typeof e=="string"&&_e.d.D(e)};Ee.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,i=ac(n,t.crossOrigin),r=typeof t.integrity=="string"?t.integrity:void 0,s=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?_e.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:i,integrity:r,fetchPriority:s}):n==="script"&&_e.d.X(e,{crossOrigin:i,integrity:r,fetchPriority:s,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Ee.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=ac(t.as,t.crossOrigin);_e.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&_e.d.M(e)};Ee.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,i=ac(n,t.crossOrigin);_e.d.L(e,n,{crossOrigin:i,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Ee.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=ac(t.as,t.crossOrigin);_e.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else _e.d.m(e)};Ee.requestFormReset=function(e){_e.d.r(e)};Ee.unstable_batchedUpdates=function(e,t){return e(t)};Ee.useFormState=function(e,t,n){return Ha.H.useFormState(e,t,n)};Ee.useFormStatus=function(){return Ha.H.useHostTransitionStatus()};Ee.version="19.2.3";function $v(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($v)}catch(e){console.error(e)}}$v(),Yv.exports=Ee;var tb=Yv.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $t=X1,Xv=x,eb=tb;function L(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Jv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Mo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Zv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Wv(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Dg(e){if(Mo(e)!==e)throw Error(L(188))}function nb(e){var t=e.alternate;if(!t){if(t=Mo(e),t===null)throw Error(L(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return Dg(r),e;if(s===i)return Dg(r),t;s=s.sibling}throw Error(L(188))}if(n.return!==i.return)n=r,i=s;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,i=s;break}if(l===i){a=!0,i=r,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,i=r;break}if(l===i){a=!0,i=s,n=r;break}l=l.sibling}if(!a)throw Error(L(189))}}if(n.alternate!==i)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?e:t}function tE(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=tE(e),t!==null)return t;e=e.sibling}return null}var bt=Object.assign,ib=Symbol.for("react.element"),gl=Symbol.for("react.transitional.element"),Va=Symbol.for("react.portal"),is=Symbol.for("react.fragment"),eE=Symbol.for("react.strict_mode"),hf=Symbol.for("react.profiler"),nE=Symbol.for("react.consumer"),Un=Symbol.for("react.context"),jd=Symbol.for("react.forward_ref"),ff=Symbol.for("react.suspense"),df=Symbol.for("react.suspense_list"),Hd=Symbol.for("react.memo"),fi=Symbol.for("react.lazy"),mf=Symbol.for("react.activity"),rb=Symbol.for("react.memo_cache_sentinel"),Og=Symbol.iterator;function ba(e){return e===null||typeof e!="object"?null:(e=Og&&e[Og]||e["@@iterator"],typeof e=="function"?e:null)}var sb=Symbol.for("react.client.reference");function pf(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===sb?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case is:return"Fragment";case hf:return"Profiler";case eE:return"StrictMode";case ff:return"Suspense";case df:return"SuspenseList";case mf:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Va:return"Portal";case Un:return e.displayName||"Context";case nE:return(e._context.displayName||"Context")+".Consumer";case jd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Hd:return t=e.displayName||null,t!==null?t:pf(e.type)||"Memo";case fi:t=e._payload,e=e._init;try{return pf(e(t))}catch{}}return null}var xa=Array.isArray,K=Xv.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht=eb.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,gr={pending:!1,data:null,method:null,action:null},gf=[],rs=-1;function bn(e){return{current:e}}function te(e){0>rs||(e.current=gf[rs],gf[rs]=null,rs--)}function vt(e,t){rs++,gf[rs]=e.current,e.current=t}var gn=bn(null),uo=bn(null),Di=bn(null),hu=bn(null);function fu(e,t){switch(vt(Di,t),vt(uo,e),vt(gn,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Uy(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Uy(t),e=S0(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}te(gn),vt(gn,e)}function Os(){te(gn),te(uo),te(Di)}function yf(e){e.memoizedState!==null&&vt(hu,e);var t=gn.current,n=S0(t,e.type);t!==n&&(vt(uo,e),vt(gn,n))}function du(e){uo.current===e&&(te(gn),te(uo)),hu.current===e&&(te(hu),To._currentValue=gr)}var ch,Ng;function cr(e){if(ch===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ch=t&&t[1]||"",Ng=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ch+e+Ng}var hh=!1;function fh(e,t){if(!e||hh)return"";hh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var m=function(){throw Error()};if(Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(y){var p=y}Reflect.construct(e,[],m)}else{try{m.call()}catch(y){p=y}e.call(m.prototype)}}else{try{throw Error()}catch(y){p=y}(m=e())&&typeof m.catch=="function"&&m.catch(function(){})}}catch(y){if(y&&p&&typeof y.stack=="string")return[y.stack,p.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=i.DetermineComponentFrameRoot(),a=s[0],l=s[1];if(a&&l){var u=a.split(`
`),c=l.split(`
`);for(r=i=0;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;for(;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;if(i===u.length||r===c.length)for(i=u.length-1,r=c.length-1;1<=i&&0<=r&&u[i]!==c[r];)r--;for(;1<=i&&0<=r;i--,r--)if(u[i]!==c[r]){if(i!==1||r!==1)do if(i--,r--,0>r||u[i]!==c[r]){var f=`
`+u[i].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=i&&0<=r);break}}}finally{hh=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?cr(n):""}function ab(e,t){switch(e.tag){case 26:case 27:case 5:return cr(e.type);case 16:return cr("Lazy");case 13:return e.child!==t&&t!==null?cr("Suspense Fallback"):cr("Suspense");case 19:return cr("SuspenseList");case 0:case 15:return fh(e.type,!1);case 11:return fh(e.type.render,!1);case 1:return fh(e.type,!0);case 31:return cr("Activity");default:return""}}function Mg(e){try{var t="",n=null;do t+=ab(e,n),n=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var _f=Object.prototype.hasOwnProperty,qd=$t.unstable_scheduleCallback,dh=$t.unstable_cancelCallback,ob=$t.unstable_shouldYield,lb=$t.unstable_requestPaint,xe=$t.unstable_now,ub=$t.unstable_getCurrentPriorityLevel,iE=$t.unstable_ImmediatePriority,rE=$t.unstable_UserBlockingPriority,mu=$t.unstable_NormalPriority,cb=$t.unstable_LowPriority,sE=$t.unstable_IdlePriority,hb=$t.log,fb=$t.unstable_setDisableYieldValue,Vo=null,Le=null;function Si(e){if(typeof hb=="function"&&fb(e),Le&&typeof Le.setStrictMode=="function")try{Le.setStrictMode(Vo,e)}catch{}}var Ue=Math.clz32?Math.clz32:pb,db=Math.log,mb=Math.LN2;function pb(e){return e>>>=0,e===0?32:31-(db(e)/mb|0)|0}var yl=256,_l=262144,vl=4194304;function hr(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function oc(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var l=i&134217727;return l!==0?(i=l&~s,i!==0?r=hr(i):(a&=l,a!==0?r=hr(a):n||(n=l&~e,n!==0&&(r=hr(n))))):(l=i&~s,l!==0?r=hr(l):a!==0?r=hr(a):n||(n=i&~e,n!==0&&(r=hr(n)))),r===0?0:t!==0&&t!==r&&!(t&s)&&(s=r&-r,n=t&-t,s>=n||s===32&&(n&4194048)!==0)?t:r}function xo(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function gb(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function aE(){var e=vl;return vl<<=1,!(vl&62914560)&&(vl=4194304),e}function mh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Lo(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function yb(e,t,n,i,r,s){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var l=e.entanglements,u=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var f=31-Ue(n),m=1<<f;l[f]=0,u[f]=-1;var p=c[f];if(p!==null)for(c[f]=null,f=0;f<p.length;f++){var y=p[f];y!==null&&(y.lane&=-536870913)}n&=~m}i!==0&&oE(e,i,0),s!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=s&~(a&~t))}function oE(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-Ue(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&261930}function lE(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-Ue(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}function uE(e,t){var n=t&-t;return n=n&42?1:Fd(n),n&(e.suspendedLanes|t)?0:n}function Fd(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Gd(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function cE(){var e=ht.p;return e!==0?e:(e=window.event,e===void 0?32:V0(e.type))}function Vg(e,t){var n=ht.p;try{return ht.p=e,t()}finally{ht.p=n}}var tr=Math.random().toString(36).slice(2),ie="__reactFiber$"+tr,Ce="__reactProps$"+tr,Xs="__reactContainer$"+tr,vf="__reactEvents$"+tr,_b="__reactListeners$"+tr,vb="__reactHandles$"+tr,xg="__reactResources$"+tr,Uo="__reactMarker$"+tr;function Kd(e){delete e[ie],delete e[Ce],delete e[vf],delete e[_b],delete e[vb]}function ss(e){var t=e[ie];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Xs]||n[ie]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=jy(e);e!==null;){if(n=e[ie])return n;e=jy(e)}return t}e=n,n=e.parentNode}return null}function Js(e){if(e=e[ie]||e[Xs]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function La(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(L(33))}function ys(e){var t=e[xg];return t||(t=e[xg]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Wt(e){e[Uo]=!0}var hE=new Set,fE={};function xr(e,t){Ns(e,t),Ns(e+"Capture",t)}function Ns(e,t){for(fE[e]=t,e=0;e<t.length;e++)hE.add(t[e])}var Eb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lg={},Ug={};function Tb(e){return _f.call(Ug,e)?!0:_f.call(Lg,e)?!1:Eb.test(e)?Ug[e]=!0:(Lg[e]=!0,!1)}function zl(e,t,n){if(Tb(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function El(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Dn(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}function He(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function dE(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Sb(e,t,n){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var r=i.get,s=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ef(e){if(!e._valueTracker){var t=dE(e)?"checked":"value";e._valueTracker=Sb(e,t,""+e[t])}}function mE(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=dE(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function pu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ab=/[\n"\\]/g;function Ge(e){return e.replace(Ab,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Tf(e,t,n,i,r,s,a,l){e.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?e.type=a:e.removeAttribute("type"),t!=null?a==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+He(t)):e.value!==""+He(t)&&(e.value=""+He(t)):a!=="submit"&&a!=="reset"||e.removeAttribute("value"),t!=null?Sf(e,a,He(t)):n!=null?Sf(e,a,He(n)):i!=null&&e.removeAttribute("value"),r==null&&s!=null&&(e.defaultChecked=!!s),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.name=""+He(l):e.removeAttribute("name")}function pE(e,t,n,i,r,s,a,l){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||t!=null)){Ef(e);return}n=n!=null?""+He(n):"",t=t!=null?""+He(t):n,l||t===e.value||(e.value=t),e.defaultValue=t}i=i??r,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=l?e.checked:!!i,e.defaultChecked=!!i,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.name=a),Ef(e)}function Sf(e,t,n){t==="number"&&pu(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function _s(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+He(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,i&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function gE(e,t,n){if(t!=null&&(t=""+He(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+He(n):""}function yE(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(L(92));if(xa(i)){if(1<i.length)throw Error(L(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=He(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i),Ef(e)}function Ms(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var bb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kg(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||bb.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function _E(e,t,n){if(t!=null&&typeof t!="object")throw Error(L(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var r in t)i=t[r],t.hasOwnProperty(r)&&n[r]!==i&&kg(e,r,i)}else for(var s in t)t.hasOwnProperty(s)&&kg(e,s,t[s])}function Yd(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Bl(e){return wb.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function kn(){}var Af=null;function Qd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var as=null,vs=null;function Pg(e){var t=Js(e);if(t&&(e=t.stateNode)){var n=e[Ce]||null;t:switch(e=t.stateNode,t.type){case"input":if(Tf(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Ge(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=i[Ce]||null;if(!r)throw Error(L(90));Tf(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&mE(i)}break t;case"textarea":gE(e,n.value,n.defaultValue);break t;case"select":t=n.value,t!=null&&_s(e,!!n.multiple,t,!1)}}}var ph=!1;function vE(e,t,n){if(ph)return e(t,n);ph=!0;try{var i=e(t);return i}finally{if(ph=!1,(as!==null||vs!==null)&&(vc(),as&&(t=as,e=vs,vs=as=null,Pg(t),e)))for(t=0;t<e.length;t++)Pg(e[t])}}function co(e,t){var n=e.stateNode;if(n===null)return null;var i=n[Ce]||null;if(i===null)return null;n=i[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break t;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(L(231,t,typeof n));return n}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bf=!1;if(Gn)try{var Ra={};Object.defineProperty(Ra,"passive",{get:function(){bf=!0}}),window.addEventListener("test",Ra,Ra),window.removeEventListener("test",Ra,Ra)}catch{bf=!1}var Ai=null,$d=null,jl=null;function EE(){if(jl)return jl;var e,t=$d,n=t.length,i,r="value"in Ai?Ai.value:Ai.textContent,s=r.length;for(e=0;e<n&&t[e]===r[e];e++);var a=n-e;for(i=1;i<=a&&t[n-i]===r[s-i];i++);return jl=r.slice(e,1<i?1-i:void 0)}function Hl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Tl(){return!0}function zg(){return!1}function Ie(e){function t(n,i,r,s,a){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Tl:zg,this.isPropagationStopped=zg,this}return bt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Tl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Tl)},persist:function(){},isPersistent:Tl}),t}var Lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lc=Ie(Lr),ko=bt({},Lr,{view:0,detail:0}),Cb=Ie(ko),gh,yh,wa,uc=bt({},ko,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==wa&&(wa&&e.type==="mousemove"?(gh=e.screenX-wa.screenX,yh=e.screenY-wa.screenY):yh=gh=0,wa=e),gh)},movementY:function(e){return"movementY"in e?e.movementY:yh}}),Bg=Ie(uc),Ib=bt({},uc,{dataTransfer:0}),Db=Ie(Ib),Ob=bt({},ko,{relatedTarget:0}),_h=Ie(Ob),Nb=bt({},Lr,{animationName:0,elapsedTime:0,pseudoElement:0}),Mb=Ie(Nb),Vb=bt({},Lr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xb=Ie(Vb),Lb=bt({},Lr,{data:0}),jg=Ie(Lb),Ub={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zb(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Pb[e])?!!t[e]:!1}function Xd(){return zb}var Bb=bt({},ko,{key:function(e){if(e.key){var t=Ub[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Hl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?kb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xd,charCode:function(e){return e.type==="keypress"?Hl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Hl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),jb=Ie(Bb),Hb=bt({},uc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hg=Ie(Hb),qb=bt({},ko,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xd}),Fb=Ie(qb),Gb=bt({},Lr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kb=Ie(Gb),Yb=bt({},uc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Qb=Ie(Yb),$b=bt({},Lr,{newState:0,oldState:0}),Xb=Ie($b),Jb=[9,13,27,32],Jd=Gn&&"CompositionEvent"in window,qa=null;Gn&&"documentMode"in document&&(qa=document.documentMode);var Zb=Gn&&"TextEvent"in window&&!qa,TE=Gn&&(!Jd||qa&&8<qa&&11>=qa),qg=" ",Fg=!1;function SE(e,t){switch(e){case"keyup":return Jb.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function AE(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var os=!1;function Wb(e,t){switch(e){case"compositionend":return AE(t);case"keypress":return t.which!==32?null:(Fg=!0,qg);case"textInput":return e=t.data,e===qg&&Fg?null:e;default:return null}}function tR(e,t){if(os)return e==="compositionend"||!Jd&&SE(e,t)?(e=EE(),jl=$d=Ai=null,os=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return TE&&t.locale!=="ko"?null:t.data;default:return null}}var eR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!eR[e.type]:t==="textarea"}function bE(e,t,n,i){as?vs?vs.push(i):vs=[i]:as=i,t=Vu(t,"onChange"),0<t.length&&(n=new lc("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Fa=null,ho=null;function nR(e){v0(e,0)}function cc(e){var t=La(e);if(mE(t))return e}function Kg(e,t){if(e==="change")return t}var RE=!1;if(Gn){var vh;if(Gn){var Eh="oninput"in document;if(!Eh){var Yg=document.createElement("div");Yg.setAttribute("oninput","return;"),Eh=typeof Yg.oninput=="function"}vh=Eh}else vh=!1;RE=vh&&(!document.documentMode||9<document.documentMode)}function Qg(){Fa&&(Fa.detachEvent("onpropertychange",wE),ho=Fa=null)}function wE(e){if(e.propertyName==="value"&&cc(ho)){var t=[];bE(t,ho,e,Qd(e)),vE(nR,t)}}function iR(e,t,n){e==="focusin"?(Qg(),Fa=t,ho=n,Fa.attachEvent("onpropertychange",wE)):e==="focusout"&&Qg()}function rR(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return cc(ho)}function sR(e,t){if(e==="click")return cc(t)}function aR(e,t){if(e==="input"||e==="change")return cc(t)}function oR(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Pe=typeof Object.is=="function"?Object.is:oR;function fo(e,t){if(Pe(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!_f.call(t,r)||!Pe(e[r],t[r]))return!1}return!0}function $g(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xg(e,t){var n=$g(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=$g(n)}}function CE(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?CE(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function IE(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=pu(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=pu(e.document)}return t}function Zd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var lR=Gn&&"documentMode"in document&&11>=document.documentMode,ls=null,Rf=null,Ga=null,wf=!1;function Jg(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;wf||ls==null||ls!==pu(i)||(i=ls,"selectionStart"in i&&Zd(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ga&&fo(Ga,i)||(Ga=i,i=Vu(Rf,"onSelect"),0<i.length&&(t=new lc("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=ls)))}function ur(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var us={animationend:ur("Animation","AnimationEnd"),animationiteration:ur("Animation","AnimationIteration"),animationstart:ur("Animation","AnimationStart"),transitionrun:ur("Transition","TransitionRun"),transitionstart:ur("Transition","TransitionStart"),transitioncancel:ur("Transition","TransitionCancel"),transitionend:ur("Transition","TransitionEnd")},Th={},DE={};Gn&&(DE=document.createElement("div").style,"AnimationEvent"in window||(delete us.animationend.animation,delete us.animationiteration.animation,delete us.animationstart.animation),"TransitionEvent"in window||delete us.transitionend.transition);function Ur(e){if(Th[e])return Th[e];if(!us[e])return e;var t=us[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in DE)return Th[e]=t[n];return e}var OE=Ur("animationend"),NE=Ur("animationiteration"),ME=Ur("animationstart"),uR=Ur("transitionrun"),cR=Ur("transitionstart"),hR=Ur("transitioncancel"),VE=Ur("transitionend"),xE=new Map,Cf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Cf.push("scrollEnd");function on(e,t){xE.set(e,t),xr(t,[e])}var gu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},je=[],cs=0,Wd=0;function hc(){for(var e=cs,t=Wd=cs=0;t<e;){var n=je[t];je[t++]=null;var i=je[t];je[t++]=null;var r=je[t];je[t++]=null;var s=je[t];if(je[t++]=null,i!==null&&r!==null){var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}s!==0&&LE(n,r,s)}}function fc(e,t,n,i){je[cs++]=e,je[cs++]=t,je[cs++]=n,je[cs++]=i,Wd|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function tm(e,t,n,i){return fc(e,t,n,i),yu(e)}function kr(e,t){return fc(e,null,null,t),yu(e)}function LE(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var r=!1,s=e.return;s!==null;)s.childLanes|=n,i=s.alternate,i!==null&&(i.childLanes|=n),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(r=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,r&&t!==null&&(r=31-Ue(n),e=s.hiddenUpdates,i=e[r],i===null?e[r]=[t]:i.push(t),t.lane=n|536870912),s):null}function yu(e){if(50<to)throw to=0,Qf=null,Error(L(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var hs={};function fR(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Me(e,t,n,i){return new fR(e,t,n,i)}function em(e){return e=e.prototype,!(!e||!e.isReactComponent)}function jn(e,t){var n=e.alternate;return n===null?(n=Me(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function UE(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ql(e,t,n,i,r,s){var a=0;if(i=e,typeof e=="function")em(e)&&(a=1);else if(typeof e=="string")a=yw(e,n,gn.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case mf:return e=Me(31,n,t,r),e.elementType=mf,e.lanes=s,e;case is:return yr(n.children,r,s,t);case eE:a=8,r|=24;break;case hf:return e=Me(12,n,t,r|2),e.elementType=hf,e.lanes=s,e;case ff:return e=Me(13,n,t,r),e.elementType=ff,e.lanes=s,e;case df:return e=Me(19,n,t,r),e.elementType=df,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Un:a=10;break t;case nE:a=9;break t;case jd:a=11;break t;case Hd:a=14;break t;case fi:a=16,i=null;break t}a=29,n=Error(L(130,e===null?"null":typeof e,"")),i=null}return t=Me(a,n,t,r),t.elementType=e,t.type=i,t.lanes=s,t}function yr(e,t,n,i){return e=Me(7,e,i,t),e.lanes=n,e}function Sh(e,t,n){return e=Me(6,e,null,t),e.lanes=n,e}function kE(e){var t=Me(18,null,null,0);return t.stateNode=e,t}function Ah(e,t,n){return t=Me(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Zg=new WeakMap;function Ke(e,t){if(typeof e=="object"&&e!==null){var n=Zg.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Mg(t)},Zg.set(e,t),t)}return{value:e,source:t,stack:Mg(t)}}var fs=[],ds=0,_u=null,mo=0,qe=[],Fe=0,qi=null,dn=1,mn="";function xn(e,t){fs[ds++]=mo,fs[ds++]=_u,_u=e,mo=t}function PE(e,t,n){qe[Fe++]=dn,qe[Fe++]=mn,qe[Fe++]=qi,qi=e;var i=dn;e=mn;var r=32-Ue(i)-1;i&=~(1<<r),n+=1;var s=32-Ue(t)+r;if(30<s){var a=r-r%5;s=(i&(1<<a)-1).toString(32),i>>=a,r-=a,dn=1<<32-Ue(t)+r|n<<r|i,mn=s+e}else dn=1<<s|n<<r|i,mn=e}function nm(e){e.return!==null&&(xn(e,1),PE(e,1,0))}function im(e){for(;e===_u;)_u=fs[--ds],fs[ds]=null,mo=fs[--ds],fs[ds]=null;for(;e===qi;)qi=qe[--Fe],qe[Fe]=null,mn=qe[--Fe],qe[Fe]=null,dn=qe[--Fe],qe[Fe]=null}function zE(e,t){qe[Fe++]=dn,qe[Fe++]=mn,qe[Fe++]=qi,dn=t.id,mn=t.overflow,qi=e}var re=null,St=null,at=!1,Oi=null,Ye=!1,If=Error(L(519));function Fi(e){var t=Error(L(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw po(Ke(t,e)),If}function Wg(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[ie]=e,t[Ce]=i,n){case"dialog":et("cancel",t),et("close",t);break;case"iframe":case"object":case"embed":et("load",t);break;case"video":case"audio":for(n=0;n<vo.length;n++)et(vo[n],t);break;case"source":et("error",t);break;case"img":case"image":case"link":et("error",t),et("load",t);break;case"details":et("toggle",t);break;case"input":et("invalid",t),pE(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":et("invalid",t);break;case"textarea":et("invalid",t),yE(t,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||T0(t.textContent,n)?(i.popover!=null&&(et("beforetoggle",t),et("toggle",t)),i.onScroll!=null&&et("scroll",t),i.onScrollEnd!=null&&et("scrollend",t),i.onClick!=null&&(t.onclick=kn),t=!0):t=!1,t||Fi(e,!0)}function ty(e){for(re=e.return;re;)switch(re.tag){case 5:case 31:case 13:Ye=!1;return;case 27:case 3:Ye=!0;return;default:re=re.return}}function Qr(e){if(e!==re)return!1;if(!at)return ty(e),at=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Wf(e.type,e.memoizedProps)),n=!n),n&&St&&Fi(e),ty(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));St=By(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));St=By(e)}else t===27?(t=St,er(e.type)?(e=id,id=null,St=e):St=t):St=re?$e(e.stateNode.nextSibling):null;return!0}function Rr(){St=re=null,at=!1}function bh(){var e=Oi;return e!==null&&(be===null?be=e:be.push.apply(be,e),Oi=null),e}function po(e){Oi===null?Oi=[e]:Oi.push(e)}var Df=bn(null),Pr=null,Pn=null;function mi(e,t,n){vt(Df,t._currentValue),t._currentValue=n}function Hn(e){e._currentValue=Df.current,te(Df)}function Of(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Nf(e,t,n,i){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var s=r.dependencies;if(s!==null){var a=r.child;s=s.firstContext;t:for(;s!==null;){var l=s;s=r;for(var u=0;u<t.length;u++)if(l.context===t[u]){s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Of(s.return,n,e),i||(a=null);break t}s=l.next}}else if(r.tag===18){if(a=r.return,a===null)throw Error(L(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Of(a,n,e),a=null}else a=r.child;if(a!==null)a.return=r;else for(a=r;a!==null;){if(a===e){a=null;break}if(r=a.sibling,r!==null){r.return=a.return,a=r;break}a=a.return}r=a}}function Zs(e,t,n,i){e=null;for(var r=t,s=!1;r!==null;){if(!s){if(r.flags&524288)s=!0;else if(r.flags&262144)break}if(r.tag===10){var a=r.alternate;if(a===null)throw Error(L(387));if(a=a.memoizedProps,a!==null){var l=r.type;Pe(r.pendingProps.value,a.value)||(e!==null?e.push(l):e=[l])}}else if(r===hu.current){if(a=r.alternate,a===null)throw Error(L(387));a.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(To):e=[To])}r=r.return}e!==null&&Nf(t,e,n,i),t.flags|=262144}function vu(e){for(e=e.firstContext;e!==null;){if(!Pe(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function wr(e){Pr=e,Pn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function se(e){return BE(Pr,e)}function Sl(e,t){return Pr===null&&wr(e),BE(e,t)}function BE(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Pn===null){if(e===null)throw Error(L(308));Pn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Pn=Pn.next=t;return n}var dR=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},mR=$t.unstable_scheduleCallback,pR=$t.unstable_NormalPriority,jt={$$typeof:Un,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rm(){return{controller:new dR,data:new Map,refCount:0}}function Po(e){e.refCount--,e.refCount===0&&mR(pR,function(){e.controller.abort()})}var Ka=null,Mf=0,Vs=0,Es=null;function gR(e,t){if(Ka===null){var n=Ka=[];Mf=0,Vs=Dm(),Es={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Mf++,t.then(ey,ey),t}function ey(){if(--Mf===0&&Ka!==null){Es!==null&&(Es.status="fulfilled");var e=Ka;Ka=null,Vs=0,Es=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function yR(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var r=0;r<n.length;r++)(0,n[r])(t)},function(r){for(i.status="rejected",i.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),i}var ny=K.S;K.S=function(e,t){t0=xe(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&gR(e,t),ny!==null&&ny(e,t)};var _r=bn(null);function sm(){var e=_r.current;return e!==null?e:yt.pooledCache}function Fl(e,t){t===null?vt(_r,_r.current):vt(_r,t.pool)}function jE(){var e=sm();return e===null?null:{parent:jt._currentValue,pool:e}}var Ws=Error(L(460)),am=Error(L(474)),dc=Error(L(542)),Eu={then:function(){}};function iy(e){return e=e.status,e==="fulfilled"||e==="rejected"}function HE(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(kn,kn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,sy(e),e;default:if(typeof t.status=="string")t.then(kn,kn);else{if(e=yt,e!==null&&100<e.shellSuspendCounter)throw Error(L(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=i}},function(i){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,sy(e),e}throw vr=t,Ws}}function fr(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(vr=n,Ws):n}}var vr=null;function ry(){if(vr===null)throw Error(L(459));var e=vr;return vr=null,e}function sy(e){if(e===Ws||e===dc)throw Error(L(483))}var Ts=null,go=0;function Al(e){var t=go;return go+=1,Ts===null&&(Ts=[]),HE(Ts,e,t)}function Ca(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function bl(e,t){throw t.$$typeof===ib?Error(L(525)):(e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function qE(e){function t(S,v){if(e){var A=S.deletions;A===null?(S.deletions=[v],S.flags|=16):A.push(v)}}function n(S,v){if(!e)return null;for(;v!==null;)t(S,v),v=v.sibling;return null}function i(S){for(var v=new Map;S!==null;)S.key!==null?v.set(S.key,S):v.set(S.index,S),S=S.sibling;return v}function r(S,v){return S=jn(S,v),S.index=0,S.sibling=null,S}function s(S,v,A){return S.index=A,e?(A=S.alternate,A!==null?(A=A.index,A<v?(S.flags|=67108866,v):A):(S.flags|=67108866,v)):(S.flags|=1048576,v)}function a(S){return e&&S.alternate===null&&(S.flags|=67108866),S}function l(S,v,A,I){return v===null||v.tag!==6?(v=Sh(A,S.mode,I),v.return=S,v):(v=r(v,A),v.return=S,v)}function u(S,v,A,I){var k=A.type;return k===is?f(S,v,A.props.children,I,A.key):v!==null&&(v.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===fi&&fr(k)===v.type)?(v=r(v,A.props),Ca(v,A),v.return=S,v):(v=ql(A.type,A.key,A.props,null,S.mode,I),Ca(v,A),v.return=S,v)}function c(S,v,A,I){return v===null||v.tag!==4||v.stateNode.containerInfo!==A.containerInfo||v.stateNode.implementation!==A.implementation?(v=Ah(A,S.mode,I),v.return=S,v):(v=r(v,A.children||[]),v.return=S,v)}function f(S,v,A,I,k){return v===null||v.tag!==7?(v=yr(A,S.mode,I,k),v.return=S,v):(v=r(v,A),v.return=S,v)}function m(S,v,A){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return v=Sh(""+v,S.mode,A),v.return=S,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case gl:return A=ql(v.type,v.key,v.props,null,S.mode,A),Ca(A,v),A.return=S,A;case Va:return v=Ah(v,S.mode,A),v.return=S,v;case fi:return v=fr(v),m(S,v,A)}if(xa(v)||ba(v))return v=yr(v,S.mode,A,null),v.return=S,v;if(typeof v.then=="function")return m(S,Al(v),A);if(v.$$typeof===Un)return m(S,Sl(S,v),A);bl(S,v)}return null}function p(S,v,A,I){var k=v!==null?v.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return k!==null?null:l(S,v,""+A,I);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case gl:return A.key===k?u(S,v,A,I):null;case Va:return A.key===k?c(S,v,A,I):null;case fi:return A=fr(A),p(S,v,A,I)}if(xa(A)||ba(A))return k!==null?null:f(S,v,A,I,null);if(typeof A.then=="function")return p(S,v,Al(A),I);if(A.$$typeof===Un)return p(S,v,Sl(S,A),I);bl(S,A)}return null}function y(S,v,A,I,k){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return S=S.get(A)||null,l(v,S,""+I,k);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case gl:return S=S.get(I.key===null?A:I.key)||null,u(v,S,I,k);case Va:return S=S.get(I.key===null?A:I.key)||null,c(v,S,I,k);case fi:return I=fr(I),y(S,v,A,I,k)}if(xa(I)||ba(I))return S=S.get(A)||null,f(v,S,I,k,null);if(typeof I.then=="function")return y(S,v,A,Al(I),k);if(I.$$typeof===Un)return y(S,v,A,Sl(v,I),k);bl(v,I)}return null}function C(S,v,A,I){for(var k=null,j=null,E=v,_=v=0,T=null;E!==null&&_<A.length;_++){E.index>_?(T=E,E=null):T=E.sibling;var R=p(S,E,A[_],I);if(R===null){E===null&&(E=T);break}e&&E&&R.alternate===null&&t(S,E),v=s(R,v,_),j===null?k=R:j.sibling=R,j=R,E=T}if(_===A.length)return n(S,E),at&&xn(S,_),k;if(E===null){for(;_<A.length;_++)E=m(S,A[_],I),E!==null&&(v=s(E,v,_),j===null?k=E:j.sibling=E,j=E);return at&&xn(S,_),k}for(E=i(E);_<A.length;_++)T=y(E,S,_,A[_],I),T!==null&&(e&&T.alternate!==null&&E.delete(T.key===null?_:T.key),v=s(T,v,_),j===null?k=T:j.sibling=T,j=T);return e&&E.forEach(function(w){return t(S,w)}),at&&xn(S,_),k}function N(S,v,A,I){if(A==null)throw Error(L(151));for(var k=null,j=null,E=v,_=v=0,T=null,R=A.next();E!==null&&!R.done;_++,R=A.next()){E.index>_?(T=E,E=null):T=E.sibling;var w=p(S,E,R.value,I);if(w===null){E===null&&(E=T);break}e&&E&&w.alternate===null&&t(S,E),v=s(w,v,_),j===null?k=w:j.sibling=w,j=w,E=T}if(R.done)return n(S,E),at&&xn(S,_),k;if(E===null){for(;!R.done;_++,R=A.next())R=m(S,R.value,I),R!==null&&(v=s(R,v,_),j===null?k=R:j.sibling=R,j=R);return at&&xn(S,_),k}for(E=i(E);!R.done;_++,R=A.next())R=y(E,S,_,R.value,I),R!==null&&(e&&R.alternate!==null&&E.delete(R.key===null?_:R.key),v=s(R,v,_),j===null?k=R:j.sibling=R,j=R);return e&&E.forEach(function(D){return t(S,D)}),at&&xn(S,_),k}function M(S,v,A,I){if(typeof A=="object"&&A!==null&&A.type===is&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case gl:t:{for(var k=A.key;v!==null;){if(v.key===k){if(k=A.type,k===is){if(v.tag===7){n(S,v.sibling),I=r(v,A.props.children),I.return=S,S=I;break t}}else if(v.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===fi&&fr(k)===v.type){n(S,v.sibling),I=r(v,A.props),Ca(I,A),I.return=S,S=I;break t}n(S,v);break}else t(S,v);v=v.sibling}A.type===is?(I=yr(A.props.children,S.mode,I,A.key),I.return=S,S=I):(I=ql(A.type,A.key,A.props,null,S.mode,I),Ca(I,A),I.return=S,S=I)}return a(S);case Va:t:{for(k=A.key;v!==null;){if(v.key===k)if(v.tag===4&&v.stateNode.containerInfo===A.containerInfo&&v.stateNode.implementation===A.implementation){n(S,v.sibling),I=r(v,A.children||[]),I.return=S,S=I;break t}else{n(S,v);break}else t(S,v);v=v.sibling}I=Ah(A,S.mode,I),I.return=S,S=I}return a(S);case fi:return A=fr(A),M(S,v,A,I)}if(xa(A))return C(S,v,A,I);if(ba(A)){if(k=ba(A),typeof k!="function")throw Error(L(150));return A=k.call(A),N(S,v,A,I)}if(typeof A.then=="function")return M(S,v,Al(A),I);if(A.$$typeof===Un)return M(S,v,Sl(S,A),I);bl(S,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,v!==null&&v.tag===6?(n(S,v.sibling),I=r(v,A),I.return=S,S=I):(n(S,v),I=Sh(A,S.mode,I),I.return=S,S=I),a(S)):n(S,v)}return function(S,v,A,I){try{go=0;var k=M(S,v,A,I);return Ts=null,k}catch(E){if(E===Ws||E===dc)throw E;var j=Me(29,E,null,S.mode);return j.lanes=I,j.return=S,j}finally{}}}var Cr=qE(!0),FE=qE(!1),di=!1;function om(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ni(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Mi(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,ct&2){var r=i.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),i.pending=t,t=yu(e),LE(e,null,n),t}return fc(e,i,t,n),yu(e)}function Ya(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,lE(e,n)}}function Rh(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?r=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?r=s=t:s=s.next=t}else r=s=t;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var xf=!1;function Qa(){if(xf){var e=Es;if(e!==null)throw e}}function $a(e,t,n,i){xf=!1;var r=e.updateQueue;di=!1;var s=r.firstBaseUpdate,a=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var u=l,c=u.next;u.next=null,a===null?s=c:a.next=c,a=u;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==a&&(l===null?f.firstBaseUpdate=c:l.next=c,f.lastBaseUpdate=u))}if(s!==null){var m=r.baseState;a=0,f=c=u=null,l=s;do{var p=l.lane&-536870913,y=p!==l.lane;if(y?(rt&p)===p:(i&p)===p){p!==0&&p===Vs&&(xf=!0),f!==null&&(f=f.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});t:{var C=e,N=l;p=t;var M=n;switch(N.tag){case 1:if(C=N.payload,typeof C=="function"){m=C.call(M,m,p);break t}m=C;break t;case 3:C.flags=C.flags&-65537|128;case 0:if(C=N.payload,p=typeof C=="function"?C.call(M,m,p):C,p==null)break t;m=bt({},m,p);break t;case 2:di=!0}}p=l.callback,p!==null&&(e.flags|=64,y&&(e.flags|=8192),y=r.callbacks,y===null?r.callbacks=[p]:y.push(p))}else y={lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(c=f=y,u=m):f=f.next=y,a|=p;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;y=l,l=y.next,y.next=null,r.lastBaseUpdate=y,r.shared.pending=null}}while(!0);f===null&&(u=m),r.baseState=u,r.firstBaseUpdate=c,r.lastBaseUpdate=f,s===null&&(r.shared.lanes=0),Ki|=a,e.lanes=a,e.memoizedState=m}}function GE(e,t){if(typeof e!="function")throw Error(L(191,e));e.call(t)}function KE(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)GE(n[e],t)}var xs=bn(null),Tu=bn(0);function ay(e,t){e=$n,vt(Tu,e),vt(xs,t),$n=e|t.baseLanes}function Lf(){vt(Tu,$n),vt(xs,xs.current)}function lm(){$n=Tu.current,te(xs),te(Tu)}var ze=bn(null),Qe=null;function pi(e){var t=e.alternate;vt(xt,xt.current&1),vt(ze,e),Qe===null&&(t===null||xs.current!==null||t.memoizedState!==null)&&(Qe=e)}function Uf(e){vt(xt,xt.current),vt(ze,e),Qe===null&&(Qe=e)}function YE(e){e.tag===22?(vt(xt,xt.current),vt(ze,e),Qe===null&&(Qe=e)):gi()}function gi(){vt(xt,xt.current),vt(ze,ze.current)}function Ne(e){te(ze),Qe===e&&(Qe=null),te(xt)}var xt=bn(0);function Su(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||ed(n)||nd(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Kn=0,Z=null,pt=null,zt=null,Au=!1,Ss=!1,Ir=!1,bu=0,yo=0,As=null,_R=0;function Ot(){throw Error(L(321))}function um(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Pe(e[n],t[n]))return!1;return!0}function cm(e,t,n,i,r,s){return Kn=s,Z=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,K.H=e===null||e.memoizedState===null?bT:Tm,Ir=!1,s=n(i,r),Ir=!1,Ss&&(s=$E(t,n,i,r)),QE(e),s}function QE(e){K.H=_o;var t=pt!==null&&pt.next!==null;if(Kn=0,zt=pt=Z=null,Au=!1,yo=0,As=null,t)throw Error(L(300));e===null||qt||(e=e.dependencies,e!==null&&vu(e)&&(qt=!0))}function $E(e,t,n,i){Z=e;var r=0;do{if(Ss&&(As=null),yo=0,Ss=!1,25<=r)throw Error(L(301));if(r+=1,zt=pt=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}K.H=RT,s=t(n,i)}while(Ss);return s}function vR(){var e=K.H,t=e.useState()[0];return t=typeof t.then=="function"?zo(t):t,e=e.useState()[0],(pt!==null?pt.memoizedState:null)!==e&&(Z.flags|=1024),t}function hm(){var e=bu!==0;return bu=0,e}function fm(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function dm(e){if(Au){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Au=!1}Kn=0,zt=pt=Z=null,Ss=!1,yo=bu=0,As=null}function ge(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?Z.memoizedState=zt=e:zt=zt.next=e,zt}function Lt(){if(pt===null){var e=Z.alternate;e=e!==null?e.memoizedState:null}else e=pt.next;var t=zt===null?Z.memoizedState:zt.next;if(t!==null)zt=t,pt=e;else{if(e===null)throw Z.alternate===null?Error(L(467)):Error(L(310));pt=e,e={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},zt===null?Z.memoizedState=zt=e:zt=zt.next=e}return zt}function mc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zo(e){var t=yo;return yo+=1,As===null&&(As=[]),e=HE(As,e,t),t=Z,(zt===null?t.memoizedState:zt.next)===null&&(t=t.alternate,K.H=t===null||t.memoizedState===null?bT:Tm),e}function pc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return zo(e);if(e.$$typeof===Un)return se(e)}throw Error(L(438,String(e)))}function mm(e){var t=null,n=Z.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=Z.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=mc(),Z.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=rb;return t.index++,n}function Yn(e,t){return typeof t=="function"?t(e):t}function Gl(e){var t=Lt();return pm(t,pt,e)}function pm(e,t,n){var i=e.queue;if(i===null)throw Error(L(311));i.lastRenderedReducer=n;var r=e.baseQueue,s=i.pending;if(s!==null){if(r!==null){var a=r.next;r.next=s.next,s.next=a}t.baseQueue=r=s,i.pending=null}if(s=e.baseState,r===null)e.memoizedState=s;else{t=r.next;var l=a=null,u=null,c=t,f=!1;do{var m=c.lane&-536870913;if(m!==c.lane?(rt&m)===m:(Kn&m)===m){var p=c.revertLane;if(p===0)u!==null&&(u=u.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),m===Vs&&(f=!0);else if((Kn&p)===p){c=c.next,p===Vs&&(f=!0);continue}else m={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(l=u=m,a=s):u=u.next=m,Z.lanes|=p,Ki|=p;m=c.action,Ir&&n(s,m),s=c.hasEagerState?c.eagerState:n(s,m)}else p={lane:m,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(l=u=p,a=s):u=u.next=p,Z.lanes|=m,Ki|=m;c=c.next}while(c!==null&&c!==t);if(u===null?a=s:u.next=l,!Pe(s,e.memoizedState)&&(qt=!0,f&&(n=Es,n!==null)))throw n;e.memoizedState=s,e.baseState=a,e.baseQueue=u,i.lastRenderedState=s}return r===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function wh(e){var t=Lt(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,s=t.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do s=e(s,a.action),a=a.next;while(a!==r);Pe(s,t.memoizedState)||(qt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,i]}function XE(e,t,n){var i=Z,r=Lt(),s=at;if(s){if(n===void 0)throw Error(L(407));n=n()}else n=t();var a=!Pe((pt||r).memoizedState,n);if(a&&(r.memoizedState=n,qt=!0),r=r.queue,gm(WE.bind(null,i,r,e),[e]),r.getSnapshot!==t||a||zt!==null&&zt.memoizedState.tag&1){if(i.flags|=2048,Ls(9,{destroy:void 0},ZE.bind(null,i,r,n,t),null),yt===null)throw Error(L(349));s||Kn&127||JE(i,t,n)}return n}function JE(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Z.updateQueue,t===null?(t=mc(),Z.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ZE(e,t,n,i){t.value=n,t.getSnapshot=i,tT(t)&&eT(e)}function WE(e,t,n){return n(function(){tT(t)&&eT(e)})}function tT(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Pe(e,n)}catch{return!0}}function eT(e){var t=kr(e,2);t!==null&&we(t,e,2)}function kf(e){var t=ge();if(typeof e=="function"){var n=e;if(e=n(),Ir){Si(!0);try{n()}finally{Si(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yn,lastRenderedState:e},t}function nT(e,t,n,i){return e.baseState=n,pm(e,pt,typeof i=="function"?i:Yn)}function ER(e,t,n,i,r){if(yc(e))throw Error(L(485));if(e=t.action,e!==null){var s={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){s.listeners.push(a)}};K.T!==null?n(!0):s.isTransition=!1,i(s),n=t.pending,n===null?(s.next=t.pending=s,iT(t,s)):(s.next=n.next,t.pending=n.next=s)}}function iT(e,t){var n=t.action,i=t.payload,r=e.state;if(t.isTransition){var s=K.T,a={};K.T=a;try{var l=n(r,i),u=K.S;u!==null&&u(a,l),oy(e,t,l)}catch(c){Pf(e,t,c)}finally{s!==null&&a.types!==null&&(s.types=a.types),K.T=s}}else try{s=n(r,i),oy(e,t,s)}catch(c){Pf(e,t,c)}}function oy(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){ly(e,t,i)},function(i){return Pf(e,t,i)}):ly(e,t,n)}function ly(e,t,n){t.status="fulfilled",t.value=n,rT(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,iT(e,n)))}function Pf(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,rT(t),t=t.next;while(t!==i)}e.action=null}function rT(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function sT(e,t){return t}function uy(e,t){if(at){var n=yt.formState;if(n!==null){t:{var i=Z;if(at){if(St){e:{for(var r=St,s=Ye;r.nodeType!==8;){if(!s){r=null;break e}if(r=$e(r.nextSibling),r===null){r=null;break e}}s=r.data,r=s==="F!"||s==="F"?r:null}if(r){St=$e(r.nextSibling),i=r.data==="F!";break t}}Fi(i)}i=!1}i&&(t=n[0])}}return n=ge(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sT,lastRenderedState:t},n.queue=i,n=TT.bind(null,Z,i),i.dispatch=n,i=kf(!1),s=Em.bind(null,Z,!1,i.queue),i=ge(),r={state:t,dispatch:null,action:e,pending:null},i.queue=r,n=ER.bind(null,Z,r,s,n),r.dispatch=n,i.memoizedState=e,[t,n,!1]}function cy(e){var t=Lt();return aT(t,pt,e)}function aT(e,t,n){if(t=pm(e,t,sT)[0],e=Gl(Yn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=zo(t)}catch(a){throw a===Ws?dc:a}else i=t;t=Lt();var r=t.queue,s=r.dispatch;return n!==t.memoizedState&&(Z.flags|=2048,Ls(9,{destroy:void 0},TR.bind(null,r,n),null)),[i,s,e]}function TR(e,t){e.action=t}function hy(e){var t=Lt(),n=pt;if(n!==null)return aT(t,n,e);Lt(),t=t.memoizedState,n=Lt();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function Ls(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=Z.updateQueue,t===null&&(t=mc(),Z.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function oT(){return Lt().memoizedState}function Kl(e,t,n,i){var r=ge();Z.flags|=e,r.memoizedState=Ls(1|t,{destroy:void 0},n,i===void 0?null:i)}function gc(e,t,n,i){var r=Lt();i=i===void 0?null:i;var s=r.memoizedState.inst;pt!==null&&i!==null&&um(i,pt.memoizedState.deps)?r.memoizedState=Ls(t,s,n,i):(Z.flags|=e,r.memoizedState=Ls(1|t,s,n,i))}function fy(e,t){Kl(8390656,8,e,t)}function gm(e,t){gc(2048,8,e,t)}function SR(e){Z.flags|=4;var t=Z.updateQueue;if(t===null)t=mc(),Z.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function lT(e){var t=Lt().memoizedState;return SR({ref:t,nextImpl:e}),function(){if(ct&2)throw Error(L(440));return t.impl.apply(void 0,arguments)}}function uT(e,t){return gc(4,2,e,t)}function cT(e,t){return gc(4,4,e,t)}function hT(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function fT(e,t,n){n=n!=null?n.concat([e]):null,gc(4,4,hT.bind(null,t,e),n)}function ym(){}function dT(e,t){var n=Lt();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&um(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function mT(e,t){var n=Lt();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&um(t,i[1]))return i[0];if(i=e(),Ir){Si(!0);try{e()}finally{Si(!1)}}return n.memoizedState=[i,t],i}function _m(e,t,n){return n===void 0||Kn&1073741824&&!(rt&261930)?e.memoizedState=t:(e.memoizedState=n,e=n0(),Z.lanes|=e,Ki|=e,n)}function pT(e,t,n,i){return Pe(n,t)?n:xs.current!==null?(e=_m(e,n,i),Pe(e,t)||(qt=!0),e):!(Kn&42)||Kn&1073741824&&!(rt&261930)?(qt=!0,e.memoizedState=n):(e=n0(),Z.lanes|=e,Ki|=e,t)}function gT(e,t,n,i,r){var s=ht.p;ht.p=s!==0&&8>s?s:8;var a=K.T,l={};K.T=l,Em(e,!1,t,n);try{var u=r(),c=K.S;if(c!==null&&c(l,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var f=yR(u,i);Xa(e,t,f,ke(e))}else Xa(e,t,i,ke(e))}catch(m){Xa(e,t,{then:function(){},status:"rejected",reason:m},ke())}finally{ht.p=s,a!==null&&l.types!==null&&(a.types=l.types),K.T=a}}function AR(){}function zf(e,t,n,i){if(e.tag!==5)throw Error(L(476));var r=yT(e).queue;gT(e,r,t,gr,n===null?AR:function(){return _T(e),n(i)})}function yT(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:gr,baseState:gr,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yn,lastRenderedState:gr},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function _T(e){var t=yT(e);t.next===null&&(t=e.alternate.memoizedState),Xa(e,t.next.queue,{},ke())}function vm(){return se(To)}function vT(){return Lt().memoizedState}function ET(){return Lt().memoizedState}function bR(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=ke();e=Ni(n);var i=Mi(t,e,n);i!==null&&(we(i,t,n),Ya(i,t,n)),t={cache:rm()},e.payload=t;return}t=t.return}}function RR(e,t,n){var i=ke();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},yc(e)?ST(t,n):(n=tm(e,t,n,i),n!==null&&(we(n,e,i),AT(n,t,i)))}function TT(e,t,n){var i=ke();Xa(e,t,n,i)}function Xa(e,t,n,i){var r={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(yc(e))ST(t,r);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,l=s(a,n);if(r.hasEagerState=!0,r.eagerState=l,Pe(l,a))return fc(e,t,r,0),yt===null&&hc(),!1}catch{}finally{}if(n=tm(e,t,r,i),n!==null)return we(n,e,i),AT(n,t,i),!0}return!1}function Em(e,t,n,i){if(i={lane:2,revertLane:Dm(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},yc(e)){if(t)throw Error(L(479))}else t=tm(e,n,i,2),t!==null&&we(t,e,2)}function yc(e){var t=e.alternate;return e===Z||t!==null&&t===Z}function ST(e,t){Ss=Au=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function AT(e,t,n){if(n&4194048){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,lE(e,n)}}var _o={readContext:se,use:pc,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useLayoutEffect:Ot,useInsertionEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useSyncExternalStore:Ot,useId:Ot,useHostTransitionStatus:Ot,useFormState:Ot,useActionState:Ot,useOptimistic:Ot,useMemoCache:Ot,useCacheRefresh:Ot};_o.useEffectEvent=Ot;var bT={readContext:se,use:pc,useCallback:function(e,t){return ge().memoizedState=[e,t===void 0?null:t],e},useContext:se,useEffect:fy,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Kl(4194308,4,hT.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Kl(4194308,4,e,t)},useInsertionEffect:function(e,t){Kl(4,2,e,t)},useMemo:function(e,t){var n=ge();t=t===void 0?null:t;var i=e();if(Ir){Si(!0);try{e()}finally{Si(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=ge();if(n!==void 0){var r=n(t);if(Ir){Si(!0);try{n(t)}finally{Si(!1)}}}else r=t;return i.memoizedState=i.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},i.queue=e,e=e.dispatch=RR.bind(null,Z,e),[i.memoizedState,e]},useRef:function(e){var t=ge();return e={current:e},t.memoizedState=e},useState:function(e){e=kf(e);var t=e.queue,n=TT.bind(null,Z,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:ym,useDeferredValue:function(e,t){var n=ge();return _m(n,e,t)},useTransition:function(){var e=kf(!1);return e=gT.bind(null,Z,e.queue,!0,!1),ge().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=Z,r=ge();if(at){if(n===void 0)throw Error(L(407));n=n()}else{if(n=t(),yt===null)throw Error(L(349));rt&127||JE(i,t,n)}r.memoizedState=n;var s={value:n,getSnapshot:t};return r.queue=s,fy(WE.bind(null,i,s,e),[e]),i.flags|=2048,Ls(9,{destroy:void 0},ZE.bind(null,i,s,n,t),null),n},useId:function(){var e=ge(),t=yt.identifierPrefix;if(at){var n=mn,i=dn;n=(i&~(1<<32-Ue(i)-1)).toString(32)+n,t="_"+t+"R_"+n,n=bu++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=_R++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:vm,useFormState:uy,useActionState:uy,useOptimistic:function(e){var t=ge();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Em.bind(null,Z,!0,n),n.dispatch=t,[e,t]},useMemoCache:mm,useCacheRefresh:function(){return ge().memoizedState=bR.bind(null,Z)},useEffectEvent:function(e){var t=ge(),n={impl:e};return t.memoizedState=n,function(){if(ct&2)throw Error(L(440));return n.impl.apply(void 0,arguments)}}},Tm={readContext:se,use:pc,useCallback:dT,useContext:se,useEffect:gm,useImperativeHandle:fT,useInsertionEffect:uT,useLayoutEffect:cT,useMemo:mT,useReducer:Gl,useRef:oT,useState:function(){return Gl(Yn)},useDebugValue:ym,useDeferredValue:function(e,t){var n=Lt();return pT(n,pt.memoizedState,e,t)},useTransition:function(){var e=Gl(Yn)[0],t=Lt().memoizedState;return[typeof e=="boolean"?e:zo(e),t]},useSyncExternalStore:XE,useId:vT,useHostTransitionStatus:vm,useFormState:cy,useActionState:cy,useOptimistic:function(e,t){var n=Lt();return nT(n,pt,e,t)},useMemoCache:mm,useCacheRefresh:ET};Tm.useEffectEvent=lT;var RT={readContext:se,use:pc,useCallback:dT,useContext:se,useEffect:gm,useImperativeHandle:fT,useInsertionEffect:uT,useLayoutEffect:cT,useMemo:mT,useReducer:wh,useRef:oT,useState:function(){return wh(Yn)},useDebugValue:ym,useDeferredValue:function(e,t){var n=Lt();return pt===null?_m(n,e,t):pT(n,pt.memoizedState,e,t)},useTransition:function(){var e=wh(Yn)[0],t=Lt().memoizedState;return[typeof e=="boolean"?e:zo(e),t]},useSyncExternalStore:XE,useId:vT,useHostTransitionStatus:vm,useFormState:hy,useActionState:hy,useOptimistic:function(e,t){var n=Lt();return pt!==null?nT(n,pt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:mm,useCacheRefresh:ET};RT.useEffectEvent=lT;function Ch(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:bt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Bf={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=ke(),r=Ni(i);r.payload=t,n!=null&&(r.callback=n),t=Mi(e,r,i),t!==null&&(we(t,e,i),Ya(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=ke(),r=Ni(i);r.tag=1,r.payload=t,n!=null&&(r.callback=n),t=Mi(e,r,i),t!==null&&(we(t,e,i),Ya(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ke(),i=Ni(n);i.tag=2,t!=null&&(i.callback=t),t=Mi(e,i,n),t!==null&&(we(t,e,n),Ya(t,e,n))}};function dy(e,t,n,i,r,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,s,a):t.prototype&&t.prototype.isPureReactComponent?!fo(n,i)||!fo(r,s):!0}function my(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Bf.enqueueReplaceState(t,t.state,null)}function Dr(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=bt({},n));for(var r in e)n[r]===void 0&&(n[r]=e[r])}return n}function wT(e){gu(e)}function CT(e){console.error(e)}function IT(e){gu(e)}function Ru(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function py(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function jf(e,t,n){return n=Ni(n),n.tag=3,n.payload={element:null},n.callback=function(){Ru(e,t)},n}function DT(e){return e=Ni(e),e.tag=3,e}function OT(e,t,n,i){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var s=i.value;e.payload=function(){return r(s)},e.callback=function(){py(t,n,i)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(e.callback=function(){py(t,n,i),typeof r!="function"&&(Vi===null?Vi=new Set([this]):Vi.add(this));var l=i.stack;this.componentDidCatch(i.value,{componentStack:l!==null?l:""})})}function wR(e,t,n,i,r){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&Zs(t,n,r,!0),n=ze.current,n!==null){switch(n.tag){case 31:case 13:return Qe===null?Ou():n.alternate===null&&Nt===0&&(Nt=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===Eu?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),Ph(e,i,r)),!1;case 22:return n.flags|=65536,i===Eu?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),Ph(e,i,r)),!1}throw Error(L(435,n.tag))}return Ph(e,i,r),Ou(),!1}if(at)return t=ze.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=r,i!==If&&(e=Error(L(422),{cause:i}),po(Ke(e,n)))):(i!==If&&(t=Error(L(423),{cause:i}),po(Ke(t,n))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,i=Ke(i,n),r=jf(e.stateNode,i,r),Rh(e,r),Nt!==4&&(Nt=2)),!1;var s=Error(L(520),{cause:i});if(s=Ke(s,n),Wa===null?Wa=[s]:Wa.push(s),Nt!==4&&(Nt=2),t===null)return!0;i=Ke(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,e=jf(n.stateNode,i,e),Rh(n,e),!1;case 1:if(t=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Vi===null||!Vi.has(s))))return n.flags|=65536,r&=-r,n.lanes|=r,r=DT(r),OT(r,e,n,i),Rh(n,r),!1}n=n.return}while(n!==null);return!1}var Sm=Error(L(461)),qt=!1;function ee(e,t,n,i){t.child=e===null?FE(t,null,n,i):Cr(t,e.child,n,i)}function gy(e,t,n,i,r){n=n.render;var s=t.ref;if("ref"in i){var a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}else a=i;return wr(t),i=cm(e,t,n,a,s,r),l=hm(),e!==null&&!qt?(fm(e,t,r),Qn(e,t,r)):(at&&l&&nm(t),t.flags|=1,ee(e,t,i,r),t.child)}function yy(e,t,n,i,r){if(e===null){var s=n.type;return typeof s=="function"&&!em(s)&&s.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=s,NT(e,t,s,i,r)):(e=ql(n.type,null,i,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!Am(e,r)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:fo,n(a,i)&&e.ref===t.ref)return Qn(e,t,r)}return t.flags|=1,e=jn(s,i),e.ref=t.ref,e.return=t,t.child=e}function NT(e,t,n,i,r){if(e!==null){var s=e.memoizedProps;if(fo(s,i)&&e.ref===t.ref)if(qt=!1,t.pendingProps=i=s,Am(e,r))e.flags&131072&&(qt=!0);else return t.lanes=e.lanes,Qn(e,t,r)}return Hf(e,t,n,i,r)}function MT(e,t,n,i){var r=i.children,s=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(t.flags&128){if(s=s!==null?s.baseLanes|n:n,e!==null){for(i=t.child=e.child,r=0;i!==null;)r=r|i.lanes|i.childLanes,i=i.sibling;i=r&~s}else i=0,t.child=null;return _y(e,t,s,n,i)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Fl(t,s!==null?s.cachePool:null),s!==null?ay(t,s):Lf(),YE(t);else return i=t.lanes=536870912,_y(e,t,s!==null?s.baseLanes|n:n,n,i)}else s!==null?(Fl(t,s.cachePool),ay(t,s),gi(),t.memoizedState=null):(e!==null&&Fl(t,null),Lf(),gi());return ee(e,t,r,n),t.child}function Ua(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function _y(e,t,n,i,r){var s=sm();return s=s===null?null:{parent:jt._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},e!==null&&Fl(t,null),Lf(),YE(t),e!==null&&Zs(e,t,i,!0),t.childLanes=r,null}function Yl(e,t){return t=wu({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function vy(e,t,n){return Cr(t,e.child,null,n),e=Yl(t,t.pendingProps),e.flags|=2,Ne(t),t.memoizedState=null,e}function CR(e,t,n){var i=t.pendingProps,r=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(at){if(i.mode==="hidden")return e=Yl(t,i),t.lanes=536870912,Ua(null,e);if(Uf(t),(e=St)?(e=b0(e,Ye),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:qi!==null?{id:dn,overflow:mn}:null,retryLane:536870912,hydrationErrors:null},n=kE(e),n.return=t,t.child=n,re=t,St=null)):e=null,e===null)throw Fi(t);return t.lanes=536870912,null}return Yl(t,i)}var s=e.memoizedState;if(s!==null){var a=s.dehydrated;if(Uf(t),r)if(t.flags&256)t.flags&=-257,t=vy(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(L(558));else if(qt||Zs(e,t,n,!1),r=(n&e.childLanes)!==0,qt||r){if(i=yt,i!==null&&(a=uE(i,n),a!==0&&a!==s.retryLane))throw s.retryLane=a,kr(e,a),we(i,e,a),Sm;Ou(),t=vy(e,t,n)}else e=s.treeContext,St=$e(a.nextSibling),re=t,at=!0,Oi=null,Ye=!1,e!==null&&zE(t,e),t=Yl(t,i),t.flags|=4096;return t}return e=jn(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Ql(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(L(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Hf(e,t,n,i,r){return wr(t),n=cm(e,t,n,i,void 0,r),i=hm(),e!==null&&!qt?(fm(e,t,r),Qn(e,t,r)):(at&&i&&nm(t),t.flags|=1,ee(e,t,n,r),t.child)}function Ey(e,t,n,i,r,s){return wr(t),t.updateQueue=null,n=$E(t,i,n,r),QE(e),i=hm(),e!==null&&!qt?(fm(e,t,s),Qn(e,t,s)):(at&&i&&nm(t),t.flags|=1,ee(e,t,n,s),t.child)}function Ty(e,t,n,i,r){if(wr(t),t.stateNode===null){var s=hs,a=n.contextType;typeof a=="object"&&a!==null&&(s=se(a)),s=new n(i,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Bf,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=i,s.state=t.memoizedState,s.refs={},om(t),a=n.contextType,s.context=typeof a=="object"&&a!==null?se(a):hs,s.state=t.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(Ch(t,n,a,i),s.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(a=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),a!==s.state&&Bf.enqueueReplaceState(s,s.state,null),$a(t,i,s,r),Qa(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){s=t.stateNode;var l=t.memoizedProps,u=Dr(n,l);s.props=u;var c=s.context,f=n.contextType;a=hs,typeof f=="object"&&f!==null&&(a=se(f));var m=n.getDerivedStateFromProps;f=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function",l=t.pendingProps!==l,f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l||c!==a)&&my(t,s,i,a),di=!1;var p=t.memoizedState;s.state=p,$a(t,i,s,r),Qa(),c=t.memoizedState,l||p!==c||di?(typeof m=="function"&&(Ch(t,n,m,i),c=t.memoizedState),(u=di||dy(t,n,u,i,p,c,a))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=c),s.props=i,s.state=c,s.context=a,i=u):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{s=t.stateNode,Vf(e,t),a=t.memoizedProps,f=Dr(n,a),s.props=f,m=t.pendingProps,p=s.context,c=n.contextType,u=hs,typeof c=="object"&&c!==null&&(u=se(c)),l=n.getDerivedStateFromProps,(c=typeof l=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==m||p!==u)&&my(t,s,i,u),di=!1,p=t.memoizedState,s.state=p,$a(t,i,s,r),Qa();var y=t.memoizedState;a!==m||p!==y||di||e!==null&&e.dependencies!==null&&vu(e.dependencies)?(typeof l=="function"&&(Ch(t,n,l,i),y=t.memoizedState),(f=di||dy(t,n,f,i,p,y,u)||e!==null&&e.dependencies!==null&&vu(e.dependencies))?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,y,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,y,u)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=y),s.props=i,s.state=y,s.context=u,i=f):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),i=!1)}return s=i,Ql(e,t),i=(t.flags&128)!==0,s||i?(s=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&i?(t.child=Cr(t,e.child,null,r),t.child=Cr(t,null,n,r)):ee(e,t,n,r),t.memoizedState=s.state,e=t.child):e=Qn(e,t,r),e}function Sy(e,t,n,i){return Rr(),t.flags|=256,ee(e,t,n,i),t.child}var Ih={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Dh(e){return{baseLanes:e,cachePool:jE()}}function Oh(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Ve),e}function VT(e,t,n){var i=t.pendingProps,r=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(xt.current&2)!==0),a&&(r=!0,t.flags&=-129),a=(t.flags&32)!==0,t.flags&=-33,e===null){if(at){if(r?pi(t):gi(),(e=St)?(e=b0(e,Ye),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:qi!==null?{id:dn,overflow:mn}:null,retryLane:536870912,hydrationErrors:null},n=kE(e),n.return=t,t.child=n,re=t,St=null)):e=null,e===null)throw Fi(t);return nd(e)?t.lanes=32:t.lanes=536870912,null}var l=i.children;return i=i.fallback,r?(gi(),r=t.mode,l=wu({mode:"hidden",children:l},r),i=yr(i,r,n,null),l.return=t,i.return=t,l.sibling=i,t.child=l,i=t.child,i.memoizedState=Dh(n),i.childLanes=Oh(e,a,n),t.memoizedState=Ih,Ua(null,i)):(pi(t),qf(t,l))}var u=e.memoizedState;if(u!==null&&(l=u.dehydrated,l!==null)){if(s)t.flags&256?(pi(t),t.flags&=-257,t=Nh(e,t,n)):t.memoizedState!==null?(gi(),t.child=e.child,t.flags|=128,t=null):(gi(),l=i.fallback,r=t.mode,i=wu({mode:"visible",children:i.children},r),l=yr(l,r,n,null),l.flags|=2,i.return=t,l.return=t,i.sibling=l,t.child=i,Cr(t,e.child,null,n),i=t.child,i.memoizedState=Dh(n),i.childLanes=Oh(e,a,n),t.memoizedState=Ih,t=Ua(null,i));else if(pi(t),nd(l)){if(a=l.nextSibling&&l.nextSibling.dataset,a)var c=a.dgst;a=c,i=Error(L(419)),i.stack="",i.digest=a,po({value:i,source:null,stack:null}),t=Nh(e,t,n)}else if(qt||Zs(e,t,n,!1),a=(n&e.childLanes)!==0,qt||a){if(a=yt,a!==null&&(i=uE(a,n),i!==0&&i!==u.retryLane))throw u.retryLane=i,kr(e,i),we(a,e,i),Sm;ed(l)||Ou(),t=Nh(e,t,n)}else ed(l)?(t.flags|=192,t.child=e.child,t=null):(e=u.treeContext,St=$e(l.nextSibling),re=t,at=!0,Oi=null,Ye=!1,e!==null&&zE(t,e),t=qf(t,i.children),t.flags|=4096);return t}return r?(gi(),l=i.fallback,r=t.mode,u=e.child,c=u.sibling,i=jn(u,{mode:"hidden",children:i.children}),i.subtreeFlags=u.subtreeFlags&65011712,c!==null?l=jn(c,l):(l=yr(l,r,n,null),l.flags|=2),l.return=t,i.return=t,i.sibling=l,t.child=i,Ua(null,i),i=t.child,l=e.child.memoizedState,l===null?l=Dh(n):(r=l.cachePool,r!==null?(u=jt._currentValue,r=r.parent!==u?{parent:u,pool:u}:r):r=jE(),l={baseLanes:l.baseLanes|n,cachePool:r}),i.memoizedState=l,i.childLanes=Oh(e,a,n),t.memoizedState=Ih,Ua(e.child,i)):(pi(t),n=e.child,e=n.sibling,n=jn(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(a=t.deletions,a===null?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=n,t.memoizedState=null,n)}function qf(e,t){return t=wu({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function wu(e,t){return e=Me(22,e,null,t),e.lanes=0,e}function Nh(e,t,n){return Cr(t,e.child,null,n),e=qf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ay(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Of(e.return,t,n)}function Mh(e,t,n,i,r,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r,treeForkCount:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=r,a.treeForkCount=s)}function xT(e,t,n){var i=t.pendingProps,r=i.revealOrder,s=i.tail;i=i.children;var a=xt.current,l=(a&2)!==0;if(l?(a=a&1|2,t.flags|=128):a&=1,vt(xt,a),ee(e,t,i,n),i=at?mo:0,!l&&e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ay(e,n,t);else if(e.tag===19)Ay(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&Su(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Mh(t,!1,r,n,s,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&Su(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Mh(t,!0,n,null,s,i);break;case"together":Mh(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function Qn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ki|=t.lanes,!(n&t.childLanes))if(e!==null){if(Zs(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,n=jn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=jn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Am(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&vu(e)))}function IR(e,t,n){switch(t.tag){case 3:fu(t,t.stateNode.containerInfo),mi(t,jt,e.memoizedState.cache),Rr();break;case 27:case 5:yf(t);break;case 4:fu(t,t.stateNode.containerInfo);break;case 10:mi(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Uf(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(pi(t),t.flags|=128,null):n&t.child.childLanes?VT(e,t,n):(pi(t),e=Qn(e,t,n),e!==null?e.sibling:null);pi(t);break;case 19:var r=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(Zs(e,t,n,!1),i=(n&t.childLanes)!==0),r){if(i)return xT(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),vt(xt,xt.current),i)break;return null;case 22:return t.lanes=0,MT(e,t,n,t.pendingProps);case 24:mi(t,jt,e.memoizedState.cache)}return Qn(e,t,n)}function LT(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)qt=!0;else{if(!Am(e,n)&&!(t.flags&128))return qt=!1,IR(e,t,n);qt=!!(e.flags&131072)}else qt=!1,at&&t.flags&1048576&&PE(t,mo,t.index);switch(t.lanes=0,t.tag){case 16:t:{var i=t.pendingProps;if(e=fr(t.elementType),t.type=e,typeof e=="function")em(e)?(i=Dr(e,i),t.tag=1,t=Ty(null,t,e,i,n)):(t.tag=0,t=Hf(null,t,e,i,n));else{if(e!=null){var r=e.$$typeof;if(r===jd){t.tag=11,t=gy(null,t,e,i,n);break t}else if(r===Hd){t.tag=14,t=yy(null,t,e,i,n);break t}}throw t=pf(e)||e,Error(L(306,t,""))}}return t;case 0:return Hf(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,r=Dr(i,t.pendingProps),Ty(e,t,i,r,n);case 3:t:{if(fu(t,t.stateNode.containerInfo),e===null)throw Error(L(387));i=t.pendingProps;var s=t.memoizedState;r=s.element,Vf(e,t),$a(t,i,null,n);var a=t.memoizedState;if(i=a.cache,mi(t,jt,i),i!==s.cache&&Nf(t,[jt],n,!0),Qa(),i=a.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=Sy(e,t,i,n);break t}else if(i!==r){r=Ke(Error(L(424)),t),po(r),t=Sy(e,t,i,n);break t}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(St=$e(e.firstChild),re=t,at=!0,Oi=null,Ye=!0,n=FE(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Rr(),i===r){t=Qn(e,t,n);break t}ee(e,t,i,n)}t=t.child}return t;case 26:return Ql(e,t),e===null?(n=qy(t.type,null,t.pendingProps,null))?t.memoizedState=n:at||(n=t.type,e=t.pendingProps,i=xu(Di.current).createElement(n),i[ie]=t,i[Ce]=e,ae(i,n,e),Wt(i),t.stateNode=i):t.memoizedState=qy(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return yf(t),e===null&&at&&(i=t.stateNode=R0(t.type,t.pendingProps,Di.current),re=t,Ye=!0,r=St,er(t.type)?(id=r,St=$e(i.firstChild)):St=r),ee(e,t,t.pendingProps.children,n),Ql(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&at&&((r=i=St)&&(i=rw(i,t.type,t.pendingProps,Ye),i!==null?(t.stateNode=i,re=t,St=$e(i.firstChild),Ye=!1,r=!0):r=!1),r||Fi(t)),yf(t),r=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,i=s.children,Wf(r,s)?i=null:a!==null&&Wf(r,a)&&(t.flags|=32),t.memoizedState!==null&&(r=cm(e,t,vR,null,null,n),To._currentValue=r),Ql(e,t),ee(e,t,i,n),t.child;case 6:return e===null&&at&&((e=n=St)&&(n=sw(n,t.pendingProps,Ye),n!==null?(t.stateNode=n,re=t,St=null,e=!0):e=!1),e||Fi(t)),null;case 13:return VT(e,t,n);case 4:return fu(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Cr(t,null,i,n):ee(e,t,i,n),t.child;case 11:return gy(e,t,t.type,t.pendingProps,n);case 7:return ee(e,t,t.pendingProps,n),t.child;case 8:return ee(e,t,t.pendingProps.children,n),t.child;case 12:return ee(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,mi(t,t.type,i.value),ee(e,t,i.children,n),t.child;case 9:return r=t.type._context,i=t.pendingProps.children,wr(t),r=se(r),i=i(r),t.flags|=1,ee(e,t,i,n),t.child;case 14:return yy(e,t,t.type,t.pendingProps,n);case 15:return NT(e,t,t.type,t.pendingProps,n);case 19:return xT(e,t,n);case 31:return CR(e,t,n);case 22:return MT(e,t,n,t.pendingProps);case 24:return wr(t),i=se(jt),e===null?(r=sm(),r===null&&(r=yt,s=rm(),r.pooledCache=s,s.refCount++,s!==null&&(r.pooledCacheLanes|=n),r=s),t.memoizedState={parent:i,cache:r},om(t),mi(t,jt,r)):(e.lanes&n&&(Vf(e,t),$a(t,null,null,n),Qa()),r=e.memoizedState,s=t.memoizedState,r.parent!==i?(r={parent:i,cache:i},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),mi(t,jt,i)):(i=s.cache,mi(t,jt,i),i!==r.cache&&Nf(t,[jt],n,!0))),ee(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(L(156,t.tag))}function On(e){e.flags|=4}function Vh(e,t,n,i,r){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(r&335544128)===r)if(e.stateNode.complete)e.flags|=8192;else if(s0())e.flags|=8192;else throw vr=Eu,am}else e.flags&=-16777217}function by(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!I0(t))if(s0())e.flags|=8192;else throw vr=Eu,am}function Rl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?aE():536870912,e.lanes|=t,Us|=t)}function Ia(e,t){if(!at)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Tt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&65011712,i|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function DR(e,t,n){var i=t.pendingProps;switch(im(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(t),null;case 1:return Tt(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Hn(jt),Os(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Qr(t)?On(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,bh())),Tt(t),null;case 26:var r=t.type,s=t.memoizedState;return e===null?(On(t),s!==null?(Tt(t),by(t,s)):(Tt(t),Vh(t,r,null,i,n))):s?s!==e.memoizedState?(On(t),Tt(t),by(t,s)):(Tt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&On(t),Tt(t),Vh(t,r,e,i,n)),null;case 27:if(du(t),n=Di.current,r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&On(t);else{if(!i){if(t.stateNode===null)throw Error(L(166));return Tt(t),null}e=gn.current,Qr(t)?Wg(t):(e=R0(r,i,n),t.stateNode=e,On(t))}return Tt(t),null;case 5:if(du(t),r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&On(t);else{if(!i){if(t.stateNode===null)throw Error(L(166));return Tt(t),null}if(s=gn.current,Qr(t))Wg(t);else{var a=xu(Di.current);switch(s){case 1:s=a.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:s=a.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":s=a.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":s=a.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":s=a.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof i.is=="string"?a.createElement("select",{is:i.is}):a.createElement("select"),i.multiple?s.multiple=!0:i.size&&(s.size=i.size);break;default:s=typeof i.is=="string"?a.createElement(r,{is:i.is}):a.createElement(r)}}s[ie]=t,s[Ce]=i;t:for(a=t.child;a!==null;){if(a.tag===5||a.tag===6)s.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break t;for(;a.sibling===null;){if(a.return===null||a.return===t)break t;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=s;t:switch(ae(s,r,i),r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&On(t)}}return Tt(t),Vh(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&On(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(L(166));if(e=Di.current,Qr(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,r=re,r!==null)switch(r.tag){case 27:case 5:i=r.memoizedProps}e[ie]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||T0(e.nodeValue,n)),e||Fi(t,!0)}else e=xu(e).createTextNode(i),e[ie]=t,t.stateNode=e}return Tt(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(i=Qr(t),n!==null){if(e===null){if(!i)throw Error(L(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(557));e[ie]=t}else Rr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Tt(t),e=!1}else n=bh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Ne(t),t):(Ne(t),null);if(t.flags&128)throw Error(L(558))}return Tt(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=Qr(t),i!==null&&i.dehydrated!==null){if(e===null){if(!r)throw Error(L(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(L(317));r[ie]=t}else Rr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Tt(t),r=!1}else r=bh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(Ne(t),t):(Ne(t),null)}return Ne(t),t.flags&128?(t.lanes=n,t):(n=i!==null,e=e!==null&&e.memoizedState!==null,n&&(i=t.child,r=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(r=i.alternate.memoizedState.cachePool.pool),s=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==r&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Rl(t,t.updateQueue),Tt(t),null);case 4:return Os(),e===null&&Om(t.stateNode.containerInfo),Tt(t),null;case 10:return Hn(t.type),Tt(t),null;case 19:if(te(xt),i=t.memoizedState,i===null)return Tt(t),null;if(r=(t.flags&128)!==0,s=i.rendering,s===null)if(r)Ia(i,!1);else{if(Nt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Su(e),s!==null){for(t.flags|=128,Ia(i,!1),e=s.updateQueue,t.updateQueue=e,Rl(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)UE(n,e),n=n.sibling;return vt(xt,xt.current&1|2),at&&xn(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&xe()>Iu&&(t.flags|=128,r=!0,Ia(i,!1),t.lanes=4194304)}else{if(!r)if(e=Su(s),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,Rl(t,e),Ia(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!at)return Tt(t),null}else 2*xe()-i.renderingStartTime>Iu&&n!==536870912&&(t.flags|=128,r=!0,Ia(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(e=i.last,e!==null?e.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=xe(),e.sibling=null,n=xt.current,vt(xt,r?n&1|2:n&1),at&&xn(t,i.treeForkCount),e):(Tt(t),null);case 22:case 23:return Ne(t),lm(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?n&536870912&&!(t.flags&128)&&(Tt(t),t.subtreeFlags&6&&(t.flags|=8192)):Tt(t),n=t.updateQueue,n!==null&&Rl(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&te(_r),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Hn(jt),Tt(t),null;case 25:return null;case 30:return null}throw Error(L(156,t.tag))}function OR(e,t){switch(im(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Hn(jt),Os(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return du(t),null;case 31:if(t.memoizedState!==null){if(Ne(t),t.alternate===null)throw Error(L(340));Rr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Ne(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));Rr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return te(xt),null;case 4:return Os(),null;case 10:return Hn(t.type),null;case 22:case 23:return Ne(t),lm(),e!==null&&te(_r),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Hn(jt),null;case 25:return null;default:return null}}function UT(e,t){switch(im(t),t.tag){case 3:Hn(jt),Os();break;case 26:case 27:case 5:du(t);break;case 4:Os();break;case 31:t.memoizedState!==null&&Ne(t);break;case 13:Ne(t);break;case 19:te(xt);break;case 10:Hn(t.type);break;case 22:case 23:Ne(t),lm(),e!==null&&te(_r);break;case 24:Hn(jt)}}function Bo(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var r=i.next;n=r;do{if((n.tag&e)===e){i=void 0;var s=n.create,a=n.inst;i=s(),a.destroy=i}n=n.next}while(n!==r)}}catch(l){dt(t,t.return,l)}}function Gi(e,t,n){try{var i=t.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var s=r.next;i=s;do{if((i.tag&e)===e){var a=i.inst,l=a.destroy;if(l!==void 0){a.destroy=void 0,r=t;var u=n,c=l;try{c()}catch(f){dt(r,u,f)}}}i=i.next}while(i!==s)}}catch(f){dt(t,t.return,f)}}function kT(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{KE(t,n)}catch(i){dt(e,e.return,i)}}}function PT(e,t,n){n.props=Dr(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){dt(e,t,i)}}function Ja(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(r){dt(e,t,r)}}function pn(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(r){dt(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){dt(e,t,r)}else n.current=null}function zT(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{t:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break t;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(r){dt(e,e.return,r)}}function xh(e,t,n){try{var i=e.stateNode;ZR(i,e.type,n,t),i[Ce]=t}catch(r){dt(e,e.return,r)}}function BT(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&er(e.type)||e.tag===4}function Lh(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||BT(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&er(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ff(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=kn));else if(i!==4&&(i===27&&er(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Ff(e,t,n),e=e.sibling;e!==null;)Ff(e,t,n),e=e.sibling}function Cu(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&er(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Cu(e,t,n),e=e.sibling;e!==null;)Cu(e,t,n),e=e.sibling}function jT(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);ae(t,i,n),t[ie]=e,t[Ce]=n}catch(s){dt(e,e.return,s)}}var Ln=!1,Bt=!1,Uh=!1,Ry=typeof WeakSet=="function"?WeakSet:Set,Zt=null;function NR(e,t){if(e=e.containerInfo,Jf=Pu,e=IE(e),Zd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else t:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break t}var a=0,l=-1,u=-1,c=0,f=0,m=e,p=null;e:for(;;){for(var y;m!==n||r!==0&&m.nodeType!==3||(l=a+r),m!==s||i!==0&&m.nodeType!==3||(u=a+i),m.nodeType===3&&(a+=m.nodeValue.length),(y=m.firstChild)!==null;)p=m,m=y;for(;;){if(m===e)break e;if(p===n&&++c===r&&(l=a),p===s&&++f===i&&(u=a),(y=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=y}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Zf={focusedElem:e,selectionRange:n},Pu=!1,Zt=t;Zt!==null;)if(t=Zt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Zt=e;else for(;Zt!==null;){switch(t=Zt,s=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)r=e[n],r.ref.impl=r.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&s!==null){e=void 0,n=t,r=s.memoizedProps,s=s.memoizedState,i=n.stateNode;try{var C=Dr(n.type,r);e=i.getSnapshotBeforeUpdate(C,s),i.__reactInternalSnapshotBeforeUpdate=e}catch(N){dt(n,n.return,N)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)td(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":td(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(L(163))}if(e=t.sibling,e!==null){e.return=t.return,Zt=e;break}Zt=t.return}}function HT(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Mn(e,n),i&4&&Bo(5,n);break;case 1:if(Mn(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(a){dt(n,n.return,a)}else{var r=Dr(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){dt(n,n.return,a)}}i&64&&kT(n),i&512&&Ja(n,n.return);break;case 3:if(Mn(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{KE(e,t)}catch(a){dt(n,n.return,a)}}break;case 27:t===null&&i&4&&jT(n);case 26:case 5:Mn(e,n),t===null&&i&4&&zT(n),i&512&&Ja(n,n.return);break;case 12:Mn(e,n);break;case 31:Mn(e,n),i&4&&GT(e,n);break;case 13:Mn(e,n),i&4&&KT(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=BR.bind(null,n),aw(e,n))));break;case 22:if(i=n.memoizedState!==null||Ln,!i){t=t!==null&&t.memoizedState!==null||Bt,r=Ln;var s=Bt;Ln=i,(Bt=t)&&!s?Vn(e,n,(n.subtreeFlags&8772)!==0):Mn(e,n),Ln=r,Bt=s}break;case 30:break;default:Mn(e,n)}}function qT(e){var t=e.alternate;t!==null&&(e.alternate=null,qT(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Kd(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Rt=null,Ae=!1;function Nn(e,t,n){for(n=n.child;n!==null;)FT(e,t,n),n=n.sibling}function FT(e,t,n){if(Le&&typeof Le.onCommitFiberUnmount=="function")try{Le.onCommitFiberUnmount(Vo,n)}catch{}switch(n.tag){case 26:Bt||pn(n,t),Nn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Bt||pn(n,t);var i=Rt,r=Ae;er(n.type)&&(Rt=n.stateNode,Ae=!1),Nn(e,t,n),eo(n.stateNode),Rt=i,Ae=r;break;case 5:Bt||pn(n,t);case 6:if(i=Rt,r=Ae,Rt=null,Nn(e,t,n),Rt=i,Ae=r,Rt!==null)if(Ae)try{(Rt.nodeType===9?Rt.body:Rt.nodeName==="HTML"?Rt.ownerDocument.body:Rt).removeChild(n.stateNode)}catch(s){dt(n,t,s)}else try{Rt.removeChild(n.stateNode)}catch(s){dt(n,t,s)}break;case 18:Rt!==null&&(Ae?(e=Rt,Py(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Bs(e)):Py(Rt,n.stateNode));break;case 4:i=Rt,r=Ae,Rt=n.stateNode.containerInfo,Ae=!0,Nn(e,t,n),Rt=i,Ae=r;break;case 0:case 11:case 14:case 15:Gi(2,n,t),Bt||Gi(4,n,t),Nn(e,t,n);break;case 1:Bt||(pn(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&PT(n,t,i)),Nn(e,t,n);break;case 21:Nn(e,t,n);break;case 22:Bt=(i=Bt)||n.memoizedState!==null,Nn(e,t,n),Bt=i;break;default:Nn(e,t,n)}}function GT(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Bs(e)}catch(n){dt(t,t.return,n)}}}function KT(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Bs(e)}catch(n){dt(t,t.return,n)}}function MR(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Ry),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Ry),t;default:throw Error(L(435,e.tag))}}function wl(e,t){var n=MR(e);t.forEach(function(i){if(!n.has(i)){n.add(i);var r=jR.bind(null,e,i);i.then(r,r)}})}function Te(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i],s=e,a=t,l=a;t:for(;l!==null;){switch(l.tag){case 27:if(er(l.type)){Rt=l.stateNode,Ae=!1;break t}break;case 5:Rt=l.stateNode,Ae=!1;break t;case 3:case 4:Rt=l.stateNode.containerInfo,Ae=!0;break t}l=l.return}if(Rt===null)throw Error(L(160));FT(s,a,r),Rt=null,Ae=!1,s=r.alternate,s!==null&&(s.return=null),r.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)YT(t,e),t=t.sibling}var en=null;function YT(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Te(t,e),Se(e),i&4&&(Gi(3,e,e.return),Bo(3,e),Gi(5,e,e.return));break;case 1:Te(t,e),Se(e),i&512&&(Bt||n===null||pn(n,n.return)),i&64&&Ln&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var r=en;if(Te(t,e),Se(e),i&512&&(Bt||n===null||pn(n,n.return)),i&4){var s=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){t:{i=e.type,n=e.memoizedProps,r=r.ownerDocument||r;e:switch(i){case"title":s=r.getElementsByTagName("title")[0],(!s||s[Uo]||s[ie]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=r.createElement(i),r.head.insertBefore(s,r.querySelector("head > title"))),ae(s,i,n),s[ie]=e,Wt(s),i=s;break t;case"link":var a=Gy("link","href",r).get(i+(n.href||""));if(a){for(var l=0;l<a.length;l++)if(s=a[l],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(l,1);break e}}s=r.createElement(i),ae(s,i,n),r.head.appendChild(s);break;case"meta":if(a=Gy("meta","content",r).get(i+(n.content||""))){for(l=0;l<a.length;l++)if(s=a[l],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(l,1);break e}}s=r.createElement(i),ae(s,i,n),r.head.appendChild(s);break;default:throw Error(L(468,i))}s[ie]=e,Wt(s),i=s}e.stateNode=i}else Ky(r,e.type,e.stateNode);else e.stateNode=Fy(r,i,e.memoizedProps);else s!==i?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,i===null?Ky(r,e.type,e.stateNode):Fy(r,i,e.memoizedProps)):i===null&&e.stateNode!==null&&xh(e,e.memoizedProps,n.memoizedProps)}break;case 27:Te(t,e),Se(e),i&512&&(Bt||n===null||pn(n,n.return)),n!==null&&i&4&&xh(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Te(t,e),Se(e),i&512&&(Bt||n===null||pn(n,n.return)),e.flags&32){r=e.stateNode;try{Ms(r,"")}catch(C){dt(e,e.return,C)}}i&4&&e.stateNode!=null&&(r=e.memoizedProps,xh(e,r,n!==null?n.memoizedProps:r)),i&1024&&(Uh=!0);break;case 6:if(Te(t,e),Se(e),i&4){if(e.stateNode===null)throw Error(L(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(C){dt(e,e.return,C)}}break;case 3:if(Jl=null,r=en,en=Lu(t.containerInfo),Te(t,e),en=r,Se(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Bs(t.containerInfo)}catch(C){dt(e,e.return,C)}Uh&&(Uh=!1,QT(e));break;case 4:i=en,en=Lu(e.stateNode.containerInfo),Te(t,e),Se(e),en=i;break;case 12:Te(t,e),Se(e);break;case 31:Te(t,e),Se(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,wl(e,i)));break;case 13:Te(t,e),Se(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(_c=xe()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,wl(e,i)));break;case 22:r=e.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,c=Ln,f=Bt;if(Ln=c||r,Bt=f||u,Te(t,e),Bt=f,Ln=c,Se(e),i&8192)t:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(n===null||u||Ln||Bt||dr(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){u=n=t;try{if(s=u.stateNode,r)a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{l=u.stateNode;var m=u.memoizedProps.style,p=m!=null&&m.hasOwnProperty("display")?m.display:null;l.style.display=p==null||typeof p=="boolean"?"":(""+p).trim()}}catch(C){dt(u,u.return,C)}}}else if(t.tag===6){if(n===null){u=t;try{u.stateNode.nodeValue=r?"":u.memoizedProps}catch(C){dt(u,u.return,C)}}}else if(t.tag===18){if(n===null){u=t;try{var y=u.stateNode;r?zy(y,!0):zy(u.stateNode,!1)}catch(C){dt(u,u.return,C)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,wl(e,n))));break;case 19:Te(t,e),Se(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,wl(e,i)));break;case 30:break;case 21:break;default:Te(t,e),Se(e)}}function Se(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(BT(i)){n=i;break}i=i.return}if(n==null)throw Error(L(160));switch(n.tag){case 27:var r=n.stateNode,s=Lh(e);Cu(e,s,r);break;case 5:var a=n.stateNode;n.flags&32&&(Ms(a,""),n.flags&=-33);var l=Lh(e);Cu(e,l,a);break;case 3:case 4:var u=n.stateNode.containerInfo,c=Lh(e);Ff(e,c,u);break;default:throw Error(L(161))}}catch(f){dt(e,e.return,f)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function QT(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;QT(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Mn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)HT(e,t.alternate,t),t=t.sibling}function dr(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Gi(4,t,t.return),dr(t);break;case 1:pn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&PT(t,t.return,n),dr(t);break;case 27:eo(t.stateNode);case 26:case 5:pn(t,t.return),dr(t);break;case 22:t.memoizedState===null&&dr(t);break;case 30:dr(t);break;default:dr(t)}e=e.sibling}}function Vn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,r=e,s=t,a=s.flags;switch(s.tag){case 0:case 11:case 15:Vn(r,s,n),Bo(4,s);break;case 1:if(Vn(r,s,n),i=s,r=i.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(c){dt(i,i.return,c)}if(i=s,r=i.updateQueue,r!==null){var l=i.stateNode;try{var u=r.shared.hiddenCallbacks;if(u!==null)for(r.shared.hiddenCallbacks=null,r=0;r<u.length;r++)GE(u[r],l)}catch(c){dt(i,i.return,c)}}n&&a&64&&kT(s),Ja(s,s.return);break;case 27:jT(s);case 26:case 5:Vn(r,s,n),n&&i===null&&a&4&&zT(s),Ja(s,s.return);break;case 12:Vn(r,s,n);break;case 31:Vn(r,s,n),n&&a&4&&GT(r,s);break;case 13:Vn(r,s,n),n&&a&4&&KT(r,s);break;case 22:s.memoizedState===null&&Vn(r,s,n),Ja(s,s.return);break;case 30:break;default:Vn(r,s,n)}t=t.sibling}}function bm(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Po(n))}function Rm(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Po(e))}function We(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)$T(e,t,n,i),t=t.sibling}function $T(e,t,n,i){var r=t.flags;switch(t.tag){case 0:case 11:case 15:We(e,t,n,i),r&2048&&Bo(9,t);break;case 1:We(e,t,n,i);break;case 3:We(e,t,n,i),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Po(e)));break;case 12:if(r&2048){We(e,t,n,i),e=t.stateNode;try{var s=t.memoizedProps,a=s.id,l=s.onPostCommit;typeof l=="function"&&l(a,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(u){dt(t,t.return,u)}}else We(e,t,n,i);break;case 31:We(e,t,n,i);break;case 13:We(e,t,n,i);break;case 23:break;case 22:s=t.stateNode,a=t.alternate,t.memoizedState!==null?s._visibility&2?We(e,t,n,i):Za(e,t):s._visibility&2?We(e,t,n,i):(s._visibility|=2,Jr(e,t,n,i,(t.subtreeFlags&10256)!==0||!1)),r&2048&&bm(a,t);break;case 24:We(e,t,n,i),r&2048&&Rm(t.alternate,t);break;default:We(e,t,n,i)}}function Jr(e,t,n,i,r){for(r=r&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var s=e,a=t,l=n,u=i,c=a.flags;switch(a.tag){case 0:case 11:case 15:Jr(s,a,l,u,r),Bo(8,a);break;case 23:break;case 22:var f=a.stateNode;a.memoizedState!==null?f._visibility&2?Jr(s,a,l,u,r):Za(s,a):(f._visibility|=2,Jr(s,a,l,u,r)),r&&c&2048&&bm(a.alternate,a);break;case 24:Jr(s,a,l,u,r),r&&c&2048&&Rm(a.alternate,a);break;default:Jr(s,a,l,u,r)}t=t.sibling}}function Za(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,r=i.flags;switch(i.tag){case 22:Za(n,i),r&2048&&bm(i.alternate,i);break;case 24:Za(n,i),r&2048&&Rm(i.alternate,i);break;default:Za(n,i)}t=t.sibling}}var ka=8192;function $r(e,t,n){if(e.subtreeFlags&ka)for(e=e.child;e!==null;)XT(e,t,n),e=e.sibling}function XT(e,t,n){switch(e.tag){case 26:$r(e,t,n),e.flags&ka&&e.memoizedState!==null&&_w(n,en,e.memoizedState,e.memoizedProps);break;case 5:$r(e,t,n);break;case 3:case 4:var i=en;en=Lu(e.stateNode.containerInfo),$r(e,t,n),en=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=ka,ka=16777216,$r(e,t,n),ka=i):$r(e,t,n));break;default:$r(e,t,n)}}function JT(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Da(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Zt=i,WT(i,e)}JT(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ZT(e),e=e.sibling}function ZT(e){switch(e.tag){case 0:case 11:case 15:Da(e),e.flags&2048&&Gi(9,e,e.return);break;case 3:Da(e);break;case 12:Da(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,$l(e)):Da(e);break;default:Da(e)}}function $l(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Zt=i,WT(i,e)}JT(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Gi(8,t,t.return),$l(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,$l(t));break;default:$l(t)}e=e.sibling}}function WT(e,t){for(;Zt!==null;){var n=Zt;switch(n.tag){case 0:case 11:case 15:Gi(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Po(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Zt=i;else t:for(n=e;Zt!==null;){i=Zt;var r=i.sibling,s=i.return;if(qT(i),i===n){Zt=null;break t}if(r!==null){r.return=s,Zt=r;break t}Zt=s}}}var VR={getCacheForType:function(e){var t=se(jt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return se(jt).controller.signal}},xR=typeof WeakMap=="function"?WeakMap:Map,ct=0,yt=null,nt=null,rt=0,ft=0,Oe=null,bi=!1,ta=!1,wm=!1,$n=0,Nt=0,Ki=0,Er=0,Cm=0,Ve=0,Us=0,Wa=null,be=null,Gf=!1,_c=0,t0=0,Iu=1/0,Du=null,Vi=null,Kt=0,xi=null,ks=null,qn=0,Kf=0,Yf=null,e0=null,to=0,Qf=null;function ke(){return ct&2&&rt!==0?rt&-rt:K.T!==null?Dm():cE()}function n0(){if(Ve===0)if(!(rt&536870912)||at){var e=_l;_l<<=1,!(_l&3932160)&&(_l=262144),Ve=e}else Ve=536870912;return e=ze.current,e!==null&&(e.flags|=32),Ve}function we(e,t,n){(e===yt&&(ft===2||ft===9)||e.cancelPendingCommit!==null)&&(Ps(e,0),Ri(e,rt,Ve,!1)),Lo(e,n),(!(ct&2)||e!==yt)&&(e===yt&&(!(ct&2)&&(Er|=n),Nt===4&&Ri(e,rt,Ve,!1)),Rn(e))}function i0(e,t,n){if(ct&6)throw Error(L(327));var i=!n&&(t&127)===0&&(t&e.expiredLanes)===0||xo(e,t),r=i?kR(e,t):kh(e,t,!0),s=i;do{if(r===0){ta&&!i&&Ri(e,t,0,!1);break}else{if(n=e.current.alternate,s&&!LR(n)){r=kh(e,t,!1),s=!1;continue}if(r===2){if(s=t,e.errorRecoveryDisabledLanes&s)var a=0;else a=e.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){t=a;t:{var l=e;r=Wa;var u=l.current.memoizedState.isDehydrated;if(u&&(Ps(l,a).flags|=256),a=kh(l,a,!1),a!==2){if(wm&&!u){l.errorRecoveryDisabledLanes|=s,Er|=s,r=4;break t}s=be,be=r,s!==null&&(be===null?be=s:be.push.apply(be,s))}r=a}if(s=!1,r!==2)continue}}if(r===1){Ps(e,0),Ri(e,t,0,!0);break}t:{switch(i=e,s=r,s){case 0:case 1:throw Error(L(345));case 4:if((t&4194048)!==t)break;case 6:Ri(i,t,Ve,!bi);break t;case 2:be=null;break;case 3:case 5:break;default:throw Error(L(329))}if((t&62914560)===t&&(r=_c+300-xe(),10<r)){if(Ri(i,t,Ve,!bi),oc(i,0,!0)!==0)break t;qn=t,i.timeoutHandle=A0(wy.bind(null,i,n,be,Du,Gf,t,Ve,Er,Us,bi,s,"Throttled",-0,0),r);break t}wy(i,n,be,Du,Gf,t,Ve,Er,Us,bi,s,null,-0,0)}}break}while(!0);Rn(e)}function wy(e,t,n,i,r,s,a,l,u,c,f,m,p,y){if(e.timeoutHandle=-1,m=t.subtreeFlags,m&8192||(m&16785408)===16785408){m={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:kn},XT(t,s,m);var C=(s&62914560)===s?_c-xe():(s&4194048)===s?t0-xe():0;if(C=vw(m,C),C!==null){qn=s,e.cancelPendingCommit=C(Iy.bind(null,e,t,s,n,i,r,a,l,u,f,m,null,p,y)),Ri(e,s,a,!c);return}}Iy(e,t,s,n,i,r,a,l,u)}function LR(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!Pe(s(),r))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ri(e,t,n,i){t&=~Cm,t&=~Er,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var r=t;0<r;){var s=31-Ue(r),a=1<<s;i[s]=-1,r&=~a}n!==0&&oE(e,n,t)}function vc(){return ct&6?!0:(jo(0),!1)}function Im(){if(nt!==null){if(ft===0)var e=nt.return;else e=nt,Pn=Pr=null,dm(e),Ts=null,go=0,e=nt;for(;e!==null;)UT(e.alternate,e),e=e.return;nt=null}}function Ps(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,ew(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),qn=0,Im(),yt=e,nt=n=jn(e.current,null),rt=t,ft=0,Oe=null,bi=!1,ta=xo(e,t),wm=!1,Us=Ve=Cm=Er=Ki=Nt=0,be=Wa=null,Gf=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var r=31-Ue(i),s=1<<r;t|=e[r],i&=~s}return $n=t,hc(),n}function r0(e,t){Z=null,K.H=_o,t===Ws||t===dc?(t=ry(),ft=3):t===am?(t=ry(),ft=4):ft=t===Sm?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Oe=t,nt===null&&(Nt=1,Ru(e,Ke(t,e.current)))}function s0(){var e=ze.current;return e===null?!0:(rt&4194048)===rt?Qe===null:(rt&62914560)===rt||rt&536870912?e===Qe:!1}function a0(){var e=K.H;return K.H=_o,e===null?_o:e}function o0(){var e=K.A;return K.A=VR,e}function Ou(){Nt=4,bi||(rt&4194048)!==rt&&ze.current!==null||(ta=!0),!(Ki&134217727)&&!(Er&134217727)||yt===null||Ri(yt,rt,Ve,!1)}function kh(e,t,n){var i=ct;ct|=2;var r=a0(),s=o0();(yt!==e||rt!==t)&&(Du=null,Ps(e,t)),t=!1;var a=Nt;t:do try{if(ft!==0&&nt!==null){var l=nt,u=Oe;switch(ft){case 8:Im(),a=6;break t;case 3:case 2:case 9:case 6:ze.current===null&&(t=!0);var c=ft;if(ft=0,Oe=null,ms(e,l,u,c),n&&ta){a=0;break t}break;default:c=ft,ft=0,Oe=null,ms(e,l,u,c)}}UR(),a=Nt;break}catch(f){r0(e,f)}while(!0);return t&&e.shellSuspendCounter++,Pn=Pr=null,ct=i,K.H=r,K.A=s,nt===null&&(yt=null,rt=0,hc()),a}function UR(){for(;nt!==null;)l0(nt)}function kR(e,t){var n=ct;ct|=2;var i=a0(),r=o0();yt!==e||rt!==t?(Du=null,Iu=xe()+500,Ps(e,t)):ta=xo(e,t);t:do try{if(ft!==0&&nt!==null){t=nt;var s=Oe;e:switch(ft){case 1:ft=0,Oe=null,ms(e,t,s,1);break;case 2:case 9:if(iy(s)){ft=0,Oe=null,Cy(t);break}t=function(){ft!==2&&ft!==9||yt!==e||(ft=7),Rn(e)},s.then(t,t);break t;case 3:ft=7;break t;case 4:ft=5;break t;case 7:iy(s)?(ft=0,Oe=null,Cy(t)):(ft=0,Oe=null,ms(e,t,s,7));break;case 5:var a=null;switch(nt.tag){case 26:a=nt.memoizedState;case 5:case 27:var l=nt;if(a?I0(a):l.stateNode.complete){ft=0,Oe=null;var u=l.sibling;if(u!==null)nt=u;else{var c=l.return;c!==null?(nt=c,Ec(c)):nt=null}break e}}ft=0,Oe=null,ms(e,t,s,5);break;case 6:ft=0,Oe=null,ms(e,t,s,6);break;case 8:Im(),Nt=6;break t;default:throw Error(L(462))}}PR();break}catch(f){r0(e,f)}while(!0);return Pn=Pr=null,K.H=i,K.A=r,ct=n,nt!==null?0:(yt=null,rt=0,hc(),Nt)}function PR(){for(;nt!==null&&!ob();)l0(nt)}function l0(e){var t=LT(e.alternate,e,$n);e.memoizedProps=e.pendingProps,t===null?Ec(e):nt=t}function Cy(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ey(n,t,t.pendingProps,t.type,void 0,rt);break;case 11:t=Ey(n,t,t.pendingProps,t.type.render,t.ref,rt);break;case 5:dm(t);default:UT(n,t),t=nt=UE(t,$n),t=LT(n,t,$n)}e.memoizedProps=e.pendingProps,t===null?Ec(e):nt=t}function ms(e,t,n,i){Pn=Pr=null,dm(t),Ts=null,go=0;var r=t.return;try{if(wR(e,r,t,n,rt)){Nt=1,Ru(e,Ke(n,e.current)),nt=null;return}}catch(s){if(r!==null)throw nt=r,s;Nt=1,Ru(e,Ke(n,e.current)),nt=null;return}t.flags&32768?(at||i===1?e=!0:ta||rt&536870912?e=!1:(bi=e=!0,(i===2||i===9||i===3||i===6)&&(i=ze.current,i!==null&&i.tag===13&&(i.flags|=16384))),u0(t,e)):Ec(t)}function Ec(e){var t=e;do{if(t.flags&32768){u0(t,bi);return}e=t.return;var n=DR(t.alternate,t,$n);if(n!==null){nt=n;return}if(t=t.sibling,t!==null){nt=t;return}nt=t=e}while(t!==null);Nt===0&&(Nt=5)}function u0(e,t){do{var n=OR(e.alternate,e);if(n!==null){n.flags&=32767,nt=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){nt=e;return}nt=e=n}while(e!==null);Nt=6,nt=null}function Iy(e,t,n,i,r,s,a,l,u){e.cancelPendingCommit=null;do Tc();while(Kt!==0);if(ct&6)throw Error(L(327));if(t!==null){if(t===e.current)throw Error(L(177));if(s=t.lanes|t.childLanes,s|=Wd,yb(e,n,s,a,l,u),e===yt&&(nt=yt=null,rt=0),ks=t,xi=e,qn=n,Kf=s,Yf=r,e0=i,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,HR(mu,function(){return m0(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=K.T,K.T=null,r=ht.p,ht.p=2,a=ct,ct|=4;try{NR(e,t,n)}finally{ct=a,ht.p=r,K.T=i}}Kt=1,c0(),h0(),f0()}}function c0(){if(Kt===1){Kt=0;var e=xi,t=ks,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=K.T,K.T=null;var i=ht.p;ht.p=2;var r=ct;ct|=4;try{YT(t,e);var s=Zf,a=IE(e.containerInfo),l=s.focusedElem,u=s.selectionRange;if(a!==l&&l&&l.ownerDocument&&CE(l.ownerDocument.documentElement,l)){if(u!==null&&Zd(l)){var c=u.start,f=u.end;if(f===void 0&&(f=c),"selectionStart"in l)l.selectionStart=c,l.selectionEnd=Math.min(f,l.value.length);else{var m=l.ownerDocument||document,p=m&&m.defaultView||window;if(p.getSelection){var y=p.getSelection(),C=l.textContent.length,N=Math.min(u.start,C),M=u.end===void 0?N:Math.min(u.end,C);!y.extend&&N>M&&(a=M,M=N,N=a);var S=Xg(l,N),v=Xg(l,M);if(S&&v&&(y.rangeCount!==1||y.anchorNode!==S.node||y.anchorOffset!==S.offset||y.focusNode!==v.node||y.focusOffset!==v.offset)){var A=m.createRange();A.setStart(S.node,S.offset),y.removeAllRanges(),N>M?(y.addRange(A),y.extend(v.node,v.offset)):(A.setEnd(v.node,v.offset),y.addRange(A))}}}}for(m=[],y=l;y=y.parentNode;)y.nodeType===1&&m.push({element:y,left:y.scrollLeft,top:y.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<m.length;l++){var I=m[l];I.element.scrollLeft=I.left,I.element.scrollTop=I.top}}Pu=!!Jf,Zf=Jf=null}finally{ct=r,ht.p=i,K.T=n}}e.current=t,Kt=2}}function h0(){if(Kt===2){Kt=0;var e=xi,t=ks,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=K.T,K.T=null;var i=ht.p;ht.p=2;var r=ct;ct|=4;try{HT(e,t.alternate,t)}finally{ct=r,ht.p=i,K.T=n}}Kt=3}}function f0(){if(Kt===4||Kt===3){Kt=0,lb();var e=xi,t=ks,n=qn,i=e0;t.subtreeFlags&10256||t.flags&10256?Kt=5:(Kt=0,ks=xi=null,d0(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(Vi=null),Gd(n),t=t.stateNode,Le&&typeof Le.onCommitFiberRoot=="function")try{Le.onCommitFiberRoot(Vo,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=K.T,r=ht.p,ht.p=2,K.T=null;try{for(var s=e.onRecoverableError,a=0;a<i.length;a++){var l=i[a];s(l.value,{componentStack:l.stack})}}finally{K.T=t,ht.p=r}}qn&3&&Tc(),Rn(e),r=e.pendingLanes,n&261930&&r&42?e===Qf?to++:(to=0,Qf=e):to=0,jo(0)}}function d0(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Po(t)))}function Tc(){return c0(),h0(),f0(),m0()}function m0(){if(Kt!==5)return!1;var e=xi,t=Kf;Kf=0;var n=Gd(qn),i=K.T,r=ht.p;try{ht.p=32>n?32:n,K.T=null,n=Yf,Yf=null;var s=xi,a=qn;if(Kt=0,ks=xi=null,qn=0,ct&6)throw Error(L(331));var l=ct;if(ct|=4,ZT(s.current),$T(s,s.current,a,n),ct=l,jo(0,!1),Le&&typeof Le.onPostCommitFiberRoot=="function")try{Le.onPostCommitFiberRoot(Vo,s)}catch{}return!0}finally{ht.p=r,K.T=i,d0(e,t)}}function Dy(e,t,n){t=Ke(n,t),t=jf(e.stateNode,t,2),e=Mi(e,t,2),e!==null&&(Lo(e,2),Rn(e))}function dt(e,t,n){if(e.tag===3)Dy(e,e,n);else for(;t!==null;){if(t.tag===3){Dy(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Vi===null||!Vi.has(i))){e=Ke(n,e),n=DT(2),i=Mi(t,n,2),i!==null&&(OT(n,i,t,e),Lo(i,2),Rn(i));break}}t=t.return}}function Ph(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new xR;var r=new Set;i.set(t,r)}else r=i.get(t),r===void 0&&(r=new Set,i.set(t,r));r.has(n)||(wm=!0,r.add(n),e=zR.bind(null,e,t,n),t.then(e,e))}function zR(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,yt===e&&(rt&n)===n&&(Nt===4||Nt===3&&(rt&62914560)===rt&&300>xe()-_c?!(ct&2)&&Ps(e,0):Cm|=n,Us===rt&&(Us=0)),Rn(e)}function p0(e,t){t===0&&(t=aE()),e=kr(e,t),e!==null&&(Lo(e,t),Rn(e))}function BR(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),p0(e,n)}function jR(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(L(314))}i!==null&&i.delete(t),p0(e,n)}function HR(e,t){return qd(e,t)}var Nu=null,Zr=null,$f=!1,Mu=!1,zh=!1,wi=0;function Rn(e){e!==Zr&&e.next===null&&(Zr===null?Nu=Zr=e:Zr=Zr.next=e),Mu=!0,$f||($f=!0,FR())}function jo(e,t){if(!zh&&Mu){zh=!0;do for(var n=!1,i=Nu;i!==null;){if(e!==0){var r=i.pendingLanes;if(r===0)var s=0;else{var a=i.suspendedLanes,l=i.pingedLanes;s=(1<<31-Ue(42|e)+1)-1,s&=r&~(a&~l),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,Oy(i,s))}else s=rt,s=oc(i,i===yt?s:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(s&3)||xo(i,s)||(n=!0,Oy(i,s));i=i.next}while(n);zh=!1}}function qR(){g0()}function g0(){Mu=$f=!1;var e=0;wi!==0&&tw()&&(e=wi);for(var t=xe(),n=null,i=Nu;i!==null;){var r=i.next,s=y0(i,t);s===0?(i.next=null,n===null?Nu=r:n.next=r,r===null&&(Zr=n)):(n=i,(e!==0||s&3)&&(Mu=!0)),i=r}Kt!==0&&Kt!==5||jo(e),wi!==0&&(wi=0)}function y0(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var a=31-Ue(s),l=1<<a,u=r[a];u===-1?(!(l&n)||l&i)&&(r[a]=gb(l,t)):u<=t&&(e.expiredLanes|=l),s&=~l}if(t=yt,n=rt,n=oc(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(ft===2||ft===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&dh(i),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||xo(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&dh(i),Gd(n)){case 2:case 8:n=rE;break;case 32:n=mu;break;case 268435456:n=sE;break;default:n=mu}return i=_0.bind(null,e),n=qd(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&dh(i),e.callbackPriority=2,e.callbackNode=null,2}function _0(e,t){if(Kt!==0&&Kt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Tc()&&e.callbackNode!==n)return null;var i=rt;return i=oc(e,e===yt?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(i0(e,i,t),y0(e,xe()),e.callbackNode!=null&&e.callbackNode===n?_0.bind(null,e):null)}function Oy(e,t){if(Tc())return null;i0(e,t,!0)}function FR(){nw(function(){ct&6?qd(iE,qR):g0()})}function Dm(){if(wi===0){var e=Vs;e===0&&(e=yl,yl<<=1,!(yl&261888)&&(yl=256)),wi=e}return wi}function Ny(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Bl(""+e)}function My(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function GR(e,t,n,i,r){if(t==="submit"&&n&&n.stateNode===r){var s=Ny((r[Ce]||null).action),a=i.submitter;a&&(t=(t=a[Ce]||null)?Ny(t.formAction):a.getAttribute("formAction"),t!==null&&(s=t,a=null));var l=new lc("action","action",null,i,r);e.push({event:l,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(wi!==0){var u=a?My(r,a):new FormData(r);zf(n,{pending:!0,data:u,method:r.method,action:s},null,u)}}else typeof s=="function"&&(l.preventDefault(),u=a?My(r,a):new FormData(r),zf(n,{pending:!0,data:u,method:r.method,action:s},s,u))},currentTarget:r}]})}}for(var Bh=0;Bh<Cf.length;Bh++){var jh=Cf[Bh],KR=jh.toLowerCase(),YR=jh[0].toUpperCase()+jh.slice(1);on(KR,"on"+YR)}on(OE,"onAnimationEnd");on(NE,"onAnimationIteration");on(ME,"onAnimationStart");on("dblclick","onDoubleClick");on("focusin","onFocus");on("focusout","onBlur");on(uR,"onTransitionRun");on(cR,"onTransitionStart");on(hR,"onTransitionCancel");on(VE,"onTransitionEnd");Ns("onMouseEnter",["mouseout","mouseover"]);Ns("onMouseLeave",["mouseout","mouseover"]);Ns("onPointerEnter",["pointerout","pointerover"]);Ns("onPointerLeave",["pointerout","pointerover"]);xr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xr("onBeforeInput",["compositionend","keypress","textInput","paste"]);xr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vo));function v0(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;t:{var s=void 0;if(t)for(var a=i.length-1;0<=a;a--){var l=i[a],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==s&&r.isPropagationStopped())break t;s=l,r.currentTarget=c;try{s(r)}catch(f){gu(f)}r.currentTarget=null,s=u}else for(a=0;a<i.length;a++){if(l=i[a],u=l.instance,c=l.currentTarget,l=l.listener,u!==s&&r.isPropagationStopped())break t;s=l,r.currentTarget=c;try{s(r)}catch(f){gu(f)}r.currentTarget=null,s=u}}}}function et(e,t){var n=t[vf];n===void 0&&(n=t[vf]=new Set);var i=e+"__bubble";n.has(i)||(E0(t,e,2,!1),n.add(i))}function Hh(e,t,n){var i=0;t&&(i|=4),E0(n,e,i,t)}var Cl="_reactListening"+Math.random().toString(36).slice(2);function Om(e){if(!e[Cl]){e[Cl]=!0,hE.forEach(function(n){n!=="selectionchange"&&(QR.has(n)||Hh(n,!1,e),Hh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Cl]||(t[Cl]=!0,Hh("selectionchange",!1,t))}}function E0(e,t,n,i){switch(V0(t)){case 2:var r=Sw;break;case 8:r=Aw;break;default:r=xm}n=r.bind(null,t,n,e),r=void 0,!bf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),i?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function qh(e,t,n,i,r){var s=i;if(!(t&1)&&!(t&2)&&i!==null)t:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var l=i.stateNode.containerInfo;if(l===r)break;if(a===4)for(a=i.return;a!==null;){var u=a.tag;if((u===3||u===4)&&a.stateNode.containerInfo===r)return;a=a.return}for(;l!==null;){if(a=ss(l),a===null)return;if(u=a.tag,u===5||u===6||u===26||u===27){i=s=a;continue t}l=l.parentNode}}i=i.return}vE(function(){var c=s,f=Qd(n),m=[];t:{var p=xE.get(e);if(p!==void 0){var y=lc,C=e;switch(e){case"keypress":if(Hl(n)===0)break t;case"keydown":case"keyup":y=jb;break;case"focusin":C="focus",y=_h;break;case"focusout":C="blur",y=_h;break;case"beforeblur":case"afterblur":y=_h;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Bg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Db;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Fb;break;case OE:case NE:case ME:y=Mb;break;case VE:y=Kb;break;case"scroll":case"scrollend":y=Cb;break;case"wheel":y=Qb;break;case"copy":case"cut":case"paste":y=xb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Hg;break;case"toggle":case"beforetoggle":y=Xb}var N=(t&4)!==0,M=!N&&(e==="scroll"||e==="scrollend"),S=N?p!==null?p+"Capture":null:p;N=[];for(var v=c,A;v!==null;){var I=v;if(A=I.stateNode,I=I.tag,I!==5&&I!==26&&I!==27||A===null||S===null||(I=co(v,S),I!=null&&N.push(Eo(v,I,A))),M)break;v=v.return}0<N.length&&(p=new y(p,C,null,n,f),m.push({event:p,listeners:N}))}}if(!(t&7)){t:{if(p=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",p&&n!==Af&&(C=n.relatedTarget||n.fromElement)&&(ss(C)||C[Xs]))break t;if((y||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,y?(C=n.relatedTarget||n.toElement,y=c,C=C?ss(C):null,C!==null&&(M=Mo(C),N=C.tag,C!==M||N!==5&&N!==27&&N!==6)&&(C=null)):(y=null,C=c),y!==C)){if(N=Bg,I="onMouseLeave",S="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(N=Hg,I="onPointerLeave",S="onPointerEnter",v="pointer"),M=y==null?p:La(y),A=C==null?p:La(C),p=new N(I,v+"leave",y,n,f),p.target=M,p.relatedTarget=A,I=null,ss(f)===c&&(N=new N(S,v+"enter",C,n,f),N.target=A,N.relatedTarget=M,I=N),M=I,y&&C)e:{for(N=$R,S=y,v=C,A=0,I=S;I;I=N(I))A++;I=0;for(var k=v;k;k=N(k))I++;for(;0<A-I;)S=N(S),A--;for(;0<I-A;)v=N(v),I--;for(;A--;){if(S===v||v!==null&&S===v.alternate){N=S;break e}S=N(S),v=N(v)}N=null}else N=null;y!==null&&Vy(m,p,y,N,!1),C!==null&&M!==null&&Vy(m,M,C,N,!0)}}t:{if(p=c?La(c):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var j=Kg;else if(Gg(p))if(RE)j=aR;else{j=rR;var E=iR}else y=p.nodeName,!y||y.toLowerCase()!=="input"||p.type!=="checkbox"&&p.type!=="radio"?c&&Yd(c.elementType)&&(j=Kg):j=sR;if(j&&(j=j(e,c))){bE(m,j,n,f);break t}E&&E(e,p,c),e==="focusout"&&c&&p.type==="number"&&c.memoizedProps.value!=null&&Sf(p,"number",p.value)}switch(E=c?La(c):window,e){case"focusin":(Gg(E)||E.contentEditable==="true")&&(ls=E,Rf=c,Ga=null);break;case"focusout":Ga=Rf=ls=null;break;case"mousedown":wf=!0;break;case"contextmenu":case"mouseup":case"dragend":wf=!1,Jg(m,n,f);break;case"selectionchange":if(lR)break;case"keydown":case"keyup":Jg(m,n,f)}var _;if(Jd)t:{switch(e){case"compositionstart":var T="onCompositionStart";break t;case"compositionend":T="onCompositionEnd";break t;case"compositionupdate":T="onCompositionUpdate";break t}T=void 0}else os?SE(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(TE&&n.locale!=="ko"&&(os||T!=="onCompositionStart"?T==="onCompositionEnd"&&os&&(_=EE()):(Ai=f,$d="value"in Ai?Ai.value:Ai.textContent,os=!0)),E=Vu(c,T),0<E.length&&(T=new jg(T,e,null,n,f),m.push({event:T,listeners:E}),_?T.data=_:(_=AE(n),_!==null&&(T.data=_)))),(_=Zb?Wb(e,n):tR(e,n))&&(T=Vu(c,"onBeforeInput"),0<T.length&&(E=new jg("onBeforeInput","beforeinput",null,n,f),m.push({event:E,listeners:T}),E.data=_)),GR(m,e,c,n,f)}v0(m,t)})}function Eo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vu(e,t){for(var n=t+"Capture",i=[];e!==null;){var r=e,s=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||s===null||(r=co(e,n),r!=null&&i.unshift(Eo(e,r,s)),r=co(e,t),r!=null&&i.push(Eo(e,r,s))),e.tag===3)return i;e=e.return}return[]}function $R(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Vy(e,t,n,i,r){for(var s=t._reactName,a=[];n!==null&&n!==i;){var l=n,u=l.alternate,c=l.stateNode;if(l=l.tag,u!==null&&u===i)break;l!==5&&l!==26&&l!==27||c===null||(u=c,r?(c=co(n,s),c!=null&&a.unshift(Eo(n,c,u))):r||(c=co(n,s),c!=null&&a.push(Eo(n,c,u)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var XR=/\r\n?/g,JR=/\u0000|\uFFFD/g;function xy(e){return(typeof e=="string"?e:""+e).replace(XR,`
`).replace(JR,"")}function T0(e,t){return t=xy(t),xy(e)===t}function mt(e,t,n,i,r,s){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||Ms(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&Ms(e,""+i);break;case"className":El(e,"class",i);break;case"tabIndex":El(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":El(e,n,i);break;case"style":_E(e,i,s);break;case"data":if(t!=="object"){El(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Bl(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(t!=="input"&&mt(e,t,"name",r.name,r,null),mt(e,t,"formEncType",r.formEncType,r,null),mt(e,t,"formMethod",r.formMethod,r,null),mt(e,t,"formTarget",r.formTarget,r,null)):(mt(e,t,"encType",r.encType,r,null),mt(e,t,"method",r.method,r,null),mt(e,t,"target",r.target,r,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Bl(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=kn);break;case"onScroll":i!=null&&et("scroll",e);break;case"onScrollEnd":i!=null&&et("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(L(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(L(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=Bl(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":et("beforetoggle",e),et("toggle",e),zl(e,"popover",i);break;case"xlinkActuate":Dn(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Dn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Dn(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Dn(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Dn(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Dn(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Dn(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Dn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Dn(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":zl(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Rb.get(n)||n,zl(e,n,i))}}function Xf(e,t,n,i,r,s){switch(n){case"style":_E(e,i,s);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(L(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(L(60));e.innerHTML=n}}break;case"children":typeof i=="string"?Ms(e,i):(typeof i=="number"||typeof i=="bigint")&&Ms(e,""+i);break;case"onScroll":i!=null&&et("scroll",e);break;case"onScrollEnd":i!=null&&et("scrollend",e);break;case"onClick":i!=null&&(e.onclick=kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fE.hasOwnProperty(n))t:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),s=e[Ce]||null,s=s!=null?s[n]:null,typeof s=="function"&&e.removeEventListener(t,s,r),typeof i=="function")){typeof s!="function"&&s!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,r);break t}n in e?e[n]=i:i===!0?e.setAttribute(n,""):zl(e,n,i)}}}function ae(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":et("error",e),et("load",e);var i=!1,r=!1,s;for(s in n)if(n.hasOwnProperty(s)){var a=n[s];if(a!=null)switch(s){case"src":i=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(L(137,t));default:mt(e,t,s,a,n,null)}}r&&mt(e,t,"srcSet",n.srcSet,n,null),i&&mt(e,t,"src",n.src,n,null);return;case"input":et("invalid",e);var l=s=a=r=null,u=null,c=null;for(i in n)if(n.hasOwnProperty(i)){var f=n[i];if(f!=null)switch(i){case"name":r=f;break;case"type":a=f;break;case"checked":u=f;break;case"defaultChecked":c=f;break;case"value":s=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(L(137,t));break;default:mt(e,t,i,f,n,null)}}pE(e,s,l,u,c,a,r,!1);return;case"select":et("invalid",e),i=a=s=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":s=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:mt(e,t,r,l,n,null)}t=s,n=a,e.multiple=!!i,t!=null?_s(e,!!i,t,!1):n!=null&&_s(e,!!i,n,!0);return;case"textarea":et("invalid",e),s=r=i=null;for(a in n)if(n.hasOwnProperty(a)&&(l=n[a],l!=null))switch(a){case"value":i=l;break;case"defaultValue":r=l;break;case"children":s=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(L(91));break;default:mt(e,t,a,l,n,null)}yE(e,i,r,s);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:mt(e,t,u,i,n,null)}return;case"dialog":et("beforetoggle",e),et("toggle",e),et("cancel",e),et("close",e);break;case"iframe":case"object":et("load",e);break;case"video":case"audio":for(i=0;i<vo.length;i++)et(vo[i],e);break;case"image":et("error",e),et("load",e);break;case"details":et("toggle",e);break;case"embed":case"source":case"link":et("error",e),et("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(L(137,t));default:mt(e,t,c,i,n,null)}return;default:if(Yd(t)){for(f in n)n.hasOwnProperty(f)&&(i=n[f],i!==void 0&&Xf(e,t,f,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(i=n[l],i!=null&&mt(e,t,l,i,n,null))}function ZR(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,s=null,a=null,l=null,u=null,c=null,f=null;for(y in n){var m=n[y];if(n.hasOwnProperty(y)&&m!=null)switch(y){case"checked":break;case"value":break;case"defaultValue":u=m;default:i.hasOwnProperty(y)||mt(e,t,y,null,i,m)}}for(var p in i){var y=i[p];if(m=n[p],i.hasOwnProperty(p)&&(y!=null||m!=null))switch(p){case"type":s=y;break;case"name":r=y;break;case"checked":c=y;break;case"defaultChecked":f=y;break;case"value":a=y;break;case"defaultValue":l=y;break;case"children":case"dangerouslySetInnerHTML":if(y!=null)throw Error(L(137,t));break;default:y!==m&&mt(e,t,p,y,i,m)}}Tf(e,a,l,u,c,f,s,r);return;case"select":y=a=l=p=null;for(s in n)if(u=n[s],n.hasOwnProperty(s)&&u!=null)switch(s){case"value":break;case"multiple":y=u;default:i.hasOwnProperty(s)||mt(e,t,s,null,i,u)}for(r in i)if(s=i[r],u=n[r],i.hasOwnProperty(r)&&(s!=null||u!=null))switch(r){case"value":p=s;break;case"defaultValue":l=s;break;case"multiple":a=s;default:s!==u&&mt(e,t,r,s,i,u)}t=l,n=a,i=y,p!=null?_s(e,!!n,p,!1):!!i!=!!n&&(t!=null?_s(e,!!n,t,!0):_s(e,!!n,n?[]:"",!1));return;case"textarea":y=p=null;for(l in n)if(r=n[l],n.hasOwnProperty(l)&&r!=null&&!i.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:mt(e,t,l,null,i,r)}for(a in i)if(r=i[a],s=n[a],i.hasOwnProperty(a)&&(r!=null||s!=null))switch(a){case"value":p=r;break;case"defaultValue":y=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(L(91));break;default:r!==s&&mt(e,t,a,r,i,s)}gE(e,p,y);return;case"option":for(var C in n)if(p=n[C],n.hasOwnProperty(C)&&p!=null&&!i.hasOwnProperty(C))switch(C){case"selected":e.selected=!1;break;default:mt(e,t,C,null,i,p)}for(u in i)if(p=i[u],y=n[u],i.hasOwnProperty(u)&&p!==y&&(p!=null||y!=null))switch(u){case"selected":e.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:mt(e,t,u,p,i,y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var N in n)p=n[N],n.hasOwnProperty(N)&&p!=null&&!i.hasOwnProperty(N)&&mt(e,t,N,null,i,p);for(c in i)if(p=i[c],y=n[c],i.hasOwnProperty(c)&&p!==y&&(p!=null||y!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(L(137,t));break;default:mt(e,t,c,p,i,y)}return;default:if(Yd(t)){for(var M in n)p=n[M],n.hasOwnProperty(M)&&p!==void 0&&!i.hasOwnProperty(M)&&Xf(e,t,M,void 0,i,p);for(f in i)p=i[f],y=n[f],!i.hasOwnProperty(f)||p===y||p===void 0&&y===void 0||Xf(e,t,f,p,i,y);return}}for(var S in n)p=n[S],n.hasOwnProperty(S)&&p!=null&&!i.hasOwnProperty(S)&&mt(e,t,S,null,i,p);for(m in i)p=i[m],y=n[m],!i.hasOwnProperty(m)||p===y||p==null&&y==null||mt(e,t,m,p,i,y)}function Ly(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function WR(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var r=n[i],s=r.transferSize,a=r.initiatorType,l=r.duration;if(s&&l&&Ly(a)){for(a=0,l=r.responseEnd,i+=1;i<n.length;i++){var u=n[i],c=u.startTime;if(c>l)break;var f=u.transferSize,m=u.initiatorType;f&&Ly(m)&&(u=u.responseEnd,a+=f*(u<l?1:(l-c)/(u-c)))}if(--i,t+=8*(s+a)/(r.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Jf=null,Zf=null;function xu(e){return e.nodeType===9?e:e.ownerDocument}function Uy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function S0(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Wf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Fh=null;function tw(){var e=window.event;return e&&e.type==="popstate"?e===Fh?!1:(Fh=e,!0):(Fh=null,!1)}var A0=typeof setTimeout=="function"?setTimeout:void 0,ew=typeof clearTimeout=="function"?clearTimeout:void 0,ky=typeof Promise=="function"?Promise:void 0,nw=typeof queueMicrotask=="function"?queueMicrotask:typeof ky<"u"?function(e){return ky.resolve(null).then(e).catch(iw)}:A0;function iw(e){setTimeout(function(){throw e})}function er(e){return e==="head"}function Py(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"||n==="/&"){if(i===0){e.removeChild(r),Bs(t);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")eo(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,eo(n);for(var s=n.firstChild;s;){var a=s.nextSibling,l=s.nodeName;s[Uo]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=a}}else n==="body"&&eo(e.ownerDocument.body);n=r}while(n);Bs(t)}function zy(e,t){var n=e;e=0;do{var i=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=i}while(n)}function td(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":td(n),Kd(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function rw(e,t,n,i){for(;e.nodeType===1;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[Uo])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=$e(e.nextSibling),e===null)break}return null}function sw(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=$e(e.nextSibling),e===null))return null;return e}function b0(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=$e(e.nextSibling),e===null))return null;return e}function ed(e){return e.data==="$?"||e.data==="$~"}function nd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function aw(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function $e(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var id=null;function By(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return $e(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function jy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function R0(e,t,n){switch(t=xu(n),e){case"html":if(e=t.documentElement,!e)throw Error(L(452));return e;case"head":if(e=t.head,!e)throw Error(L(453));return e;case"body":if(e=t.body,!e)throw Error(L(454));return e;default:throw Error(L(451))}}function eo(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Kd(e)}var Xe=new Map,Hy=new Set;function Lu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ei=ht.d;ht.d={f:ow,r:lw,D:uw,C:cw,L:hw,m:fw,X:mw,S:dw,M:pw};function ow(){var e=ei.f(),t=vc();return e||t}function lw(e){var t=Js(e);t!==null&&t.tag===5&&t.type==="form"?_T(t):ei.r(e)}var ea=typeof document>"u"?null:document;function w0(e,t,n){var i=ea;if(i&&typeof t=="string"&&t){var r=Ge(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),Hy.has(r)||(Hy.add(r),e={rel:e,crossOrigin:n,href:t},i.querySelector(r)===null&&(t=i.createElement("link"),ae(t,"link",e),Wt(t),i.head.appendChild(t)))}}function uw(e){ei.D(e),w0("dns-prefetch",e,null)}function cw(e,t){ei.C(e,t),w0("preconnect",e,t)}function hw(e,t,n){ei.L(e,t,n);var i=ea;if(i&&e&&t){var r='link[rel="preload"][as="'+Ge(t)+'"]';t==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+Ge(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+Ge(n.imageSizes)+'"]')):r+='[href="'+Ge(e)+'"]';var s=r;switch(t){case"style":s=zs(e);break;case"script":s=na(e)}Xe.has(s)||(e=bt({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Xe.set(s,e),i.querySelector(r)!==null||t==="style"&&i.querySelector(Ho(s))||t==="script"&&i.querySelector(qo(s))||(t=i.createElement("link"),ae(t,"link",e),Wt(t),i.head.appendChild(t)))}}function fw(e,t){ei.m(e,t);var n=ea;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+Ge(i)+'"][href="'+Ge(e)+'"]',s=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=na(e)}if(!Xe.has(s)&&(e=bt({rel:"modulepreload",href:e},t),Xe.set(s,e),n.querySelector(r)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(qo(s)))return}i=n.createElement("link"),ae(i,"link",e),Wt(i),n.head.appendChild(i)}}}function dw(e,t,n){ei.S(e,t,n);var i=ea;if(i&&e){var r=ys(i).hoistableStyles,s=zs(e);t=t||"default";var a=r.get(s);if(!a){var l={loading:0,preload:null};if(a=i.querySelector(Ho(s)))l.loading=5;else{e=bt({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Xe.get(s))&&Nm(e,n);var u=a=i.createElement("link");Wt(u),ae(u,"link",e),u._p=new Promise(function(c,f){u.onload=c,u.onerror=f}),u.addEventListener("load",function(){l.loading|=1}),u.addEventListener("error",function(){l.loading|=2}),l.loading|=4,Xl(a,t,i)}a={type:"stylesheet",instance:a,count:1,state:l},r.set(s,a)}}}function mw(e,t){ei.X(e,t);var n=ea;if(n&&e){var i=ys(n).hoistableScripts,r=na(e),s=i.get(r);s||(s=n.querySelector(qo(r)),s||(e=bt({src:e,async:!0},t),(t=Xe.get(r))&&Mm(e,t),s=n.createElement("script"),Wt(s),ae(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function pw(e,t){ei.M(e,t);var n=ea;if(n&&e){var i=ys(n).hoistableScripts,r=na(e),s=i.get(r);s||(s=n.querySelector(qo(r)),s||(e=bt({src:e,async:!0,type:"module"},t),(t=Xe.get(r))&&Mm(e,t),s=n.createElement("script"),Wt(s),ae(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function qy(e,t,n,i){var r=(r=Di.current)?Lu(r):null;if(!r)throw Error(L(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=zs(n.href),n=ys(r).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=zs(n.href);var s=ys(r).hoistableStyles,a=s.get(e);if(a||(r=r.ownerDocument||r,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,a),(s=r.querySelector(Ho(e)))&&!s._p&&(a.instance=s,a.state.loading=5),Xe.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Xe.set(e,n),s||gw(r,e,n,a.state))),t&&i===null)throw Error(L(528,""));return a}if(t&&i!==null)throw Error(L(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=na(n),n=ys(r).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(L(444,e))}}function zs(e){return'href="'+Ge(e)+'"'}function Ho(e){return'link[rel="stylesheet"]['+e+"]"}function C0(e){return bt({},e,{"data-precedence":e.precedence,precedence:null})}function gw(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),ae(t,"link",n),Wt(t),e.head.appendChild(t))}function na(e){return'[src="'+Ge(e)+'"]'}function qo(e){return"script[async]"+e}function Fy(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Ge(n.href)+'"]');if(i)return t.instance=i,Wt(i),i;var r=bt({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),Wt(i),ae(i,"style",r),Xl(i,n.precedence,e),t.instance=i;case"stylesheet":r=zs(n.href);var s=e.querySelector(Ho(r));if(s)return t.state.loading|=4,t.instance=s,Wt(s),s;i=C0(n),(r=Xe.get(r))&&Nm(i,r),s=(e.ownerDocument||e).createElement("link"),Wt(s);var a=s;return a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),ae(s,"link",i),t.state.loading|=4,Xl(s,n.precedence,e),t.instance=s;case"script":return s=na(n.src),(r=e.querySelector(qo(s)))?(t.instance=r,Wt(r),r):(i=n,(r=Xe.get(s))&&(i=bt({},n),Mm(i,r)),e=e.ownerDocument||e,r=e.createElement("script"),Wt(r),ae(r,"link",i),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(L(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,Xl(i,n.precedence,e));return t.instance}function Xl(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,s=r,a=0;a<i.length;a++){var l=i[a];if(l.dataset.precedence===t)s=l;else if(s!==r)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Nm(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Mm(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Jl=null;function Gy(e,t,n){if(Jl===null){var i=new Map,r=Jl=new Map;r.set(n,i)}else r=Jl,i=r.get(n),i||(i=new Map,r.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var s=n[r];if(!(s[Uo]||s[ie]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var a=s.getAttribute(t)||"";a=e+a;var l=i.get(a);l?l.push(s):i.set(a,[s])}}return i}function Ky(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function yw(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function I0(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function _w(e,t,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var r=zs(i.href),s=t.querySelector(Ho(r));if(s){t=s._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Uu.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=s,Wt(s);return}s=t.ownerDocument||t,i=C0(i),(r=Xe.get(r))&&Nm(i,r),s=s.createElement("link"),Wt(s);var a=s;a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),ae(s,"link",i),n.instance=s}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=Uu.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Gh=0;function vw(e,t){return e.stylesheets&&e.count===0&&Zl(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var i=setTimeout(function(){if(e.stylesheets&&Zl(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4+t);0<e.imgBytes&&Gh===0&&(Gh=62500*WR());var r=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Zl(e,e.stylesheets),e.unsuspend)){var s=e.unsuspend;e.unsuspend=null,s()}},(e.imgBytes>Gh?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(r)}}:null}function Uu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ku=null;function Zl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ku=new Map,t.forEach(Ew,e),ku=null,Uu.call(e))}function Ew(e,t){if(!(t.state.loading&4)){var n=ku.get(e);if(n)var i=n.get(null);else{n=new Map,ku.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<r.length;s++){var a=r[s];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}r=t.instance,a=r.getAttribute("data-precedence"),s=n.get(a)||i,s===i&&n.set(null,r),n.set(a,r),this.count++,i=Uu.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),s?s.parentNode.insertBefore(r,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var To={$$typeof:Un,Provider:null,Consumer:null,_currentValue:gr,_currentValue2:gr,_threadCount:0};function Tw(e,t,n,i,r,s,a,l,u){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mh(0),this.hiddenUpdates=mh(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function D0(e,t,n,i,r,s,a,l,u,c,f,m){return e=new Tw(e,t,n,a,u,c,f,m,l),t=1,s===!0&&(t|=24),s=Me(3,null,null,t),e.current=s,s.stateNode=e,t=rm(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:i,isDehydrated:n,cache:t},om(s),e}function O0(e){return e?(e=hs,e):hs}function N0(e,t,n,i,r,s){r=O0(r),i.context===null?i.context=r:i.pendingContext=r,i=Ni(t),i.payload={element:n},s=s===void 0?null:s,s!==null&&(i.callback=s),n=Mi(e,i,t),n!==null&&(we(n,e,t),Ya(n,e,t))}function Yy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Vm(e,t){Yy(e,t),(e=e.alternate)&&Yy(e,t)}function M0(e){if(e.tag===13||e.tag===31){var t=kr(e,67108864);t!==null&&we(t,e,67108864),Vm(e,67108864)}}function Qy(e){if(e.tag===13||e.tag===31){var t=ke();t=Fd(t);var n=kr(e,t);n!==null&&we(n,e,t),Vm(e,t)}}var Pu=!0;function Sw(e,t,n,i){var r=K.T;K.T=null;var s=ht.p;try{ht.p=2,xm(e,t,n,i)}finally{ht.p=s,K.T=r}}function Aw(e,t,n,i){var r=K.T;K.T=null;var s=ht.p;try{ht.p=8,xm(e,t,n,i)}finally{ht.p=s,K.T=r}}function xm(e,t,n,i){if(Pu){var r=rd(i);if(r===null)qh(e,t,i,zu,n),$y(e,i);else if(Rw(r,e,t,n,i))i.stopPropagation();else if($y(e,i),t&4&&-1<bw.indexOf(e)){for(;r!==null;){var s=Js(r);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var a=hr(s.pendingLanes);if(a!==0){var l=s;for(l.pendingLanes|=2,l.entangledLanes|=2;a;){var u=1<<31-Ue(a);l.entanglements[1]|=u,a&=~u}Rn(s),!(ct&6)&&(Iu=xe()+500,jo(0))}}break;case 31:case 13:l=kr(s,2),l!==null&&we(l,s,2),vc(),Vm(s,2)}if(s=rd(i),s===null&&qh(e,t,i,zu,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else qh(e,t,i,null,n)}}function rd(e){return e=Qd(e),Lm(e)}var zu=null;function Lm(e){if(zu=null,e=ss(e),e!==null){var t=Mo(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=Zv(t),e!==null)return e;e=null}else if(n===31){if(e=Wv(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return zu=e,null}function V0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ub()){case iE:return 2;case rE:return 8;case mu:case cb:return 32;case sE:return 268435456;default:return 32}default:return 32}}var sd=!1,Li=null,Ui=null,ki=null,So=new Map,Ao=new Map,yi=[],bw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $y(e,t){switch(e){case"focusin":case"focusout":Li=null;break;case"dragenter":case"dragleave":Ui=null;break;case"mouseover":case"mouseout":ki=null;break;case"pointerover":case"pointerout":So.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ao.delete(t.pointerId)}}function Oa(e,t,n,i,r,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},t!==null&&(t=Js(t),t!==null&&M0(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function Rw(e,t,n,i,r){switch(t){case"focusin":return Li=Oa(Li,e,t,n,i,r),!0;case"dragenter":return Ui=Oa(Ui,e,t,n,i,r),!0;case"mouseover":return ki=Oa(ki,e,t,n,i,r),!0;case"pointerover":var s=r.pointerId;return So.set(s,Oa(So.get(s)||null,e,t,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Ao.set(s,Oa(Ao.get(s)||null,e,t,n,i,r)),!0}return!1}function x0(e){var t=ss(e.target);if(t!==null){var n=Mo(t);if(n!==null){if(t=n.tag,t===13){if(t=Zv(n),t!==null){e.blockedOn=t,Vg(e.priority,function(){Qy(n)});return}}else if(t===31){if(t=Wv(n),t!==null){e.blockedOn=t,Vg(e.priority,function(){Qy(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=rd(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);Af=i,n.target.dispatchEvent(i),Af=null}else return t=Js(n),t!==null&&M0(t),e.blockedOn=n,!1;t.shift()}return!0}function Xy(e,t,n){Wl(e)&&n.delete(t)}function ww(){sd=!1,Li!==null&&Wl(Li)&&(Li=null),Ui!==null&&Wl(Ui)&&(Ui=null),ki!==null&&Wl(ki)&&(ki=null),So.forEach(Xy),Ao.forEach(Xy)}function Il(e,t){e.blockedOn===t&&(e.blockedOn=null,sd||(sd=!0,$t.unstable_scheduleCallback($t.unstable_NormalPriority,ww)))}var Dl=null;function Jy(e){Dl!==e&&(Dl=e,$t.unstable_scheduleCallback($t.unstable_NormalPriority,function(){Dl===e&&(Dl=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],r=e[t+2];if(typeof i!="function"){if(Lm(i||n)===null)continue;break}var s=Js(n);s!==null&&(e.splice(t,3),t-=3,zf(s,{pending:!0,data:r,method:n.method,action:i},i,r))}}))}function Bs(e){function t(u){return Il(u,e)}Li!==null&&Il(Li,e),Ui!==null&&Il(Ui,e),ki!==null&&Il(ki,e),So.forEach(t),Ao.forEach(t);for(var n=0;n<yi.length;n++){var i=yi[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<yi.length&&(n=yi[0],n.blockedOn===null);)x0(n),n.blockedOn===null&&yi.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var r=n[i],s=n[i+1],a=r[Ce]||null;if(typeof s=="function")a||Jy(n);else if(a){var l=null;if(s&&s.hasAttribute("formAction")){if(r=s,a=s[Ce]||null)l=a.formAction;else if(Lm(r)!==null)continue}else l=a.action;typeof l=="function"?n[i+1]=l:(n.splice(i,3),i-=3),Jy(n)}}}function L0(){function e(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(a){return r=a})},focusReset:"manual",scroll:"manual"})}function t(){r!==null&&(r(),r=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,r=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),r!==null&&(r(),r=null)}}}function Um(e){this._internalRoot=e}Sc.prototype.render=Um.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));var n=t.current,i=ke();N0(n,i,e,t,null,null)};Sc.prototype.unmount=Um.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;N0(e.current,2,null,e,null,null),vc(),t[Xs]=null}};function Sc(e){this._internalRoot=e}Sc.prototype.unstable_scheduleHydration=function(e){if(e){var t=cE();e={blockedOn:null,target:e,priority:t};for(var n=0;n<yi.length&&t!==0&&t<yi[n].priority;n++);yi.splice(n,0,e),n===0&&x0(e)}};var Zy=Xv.version;if(Zy!=="19.2.3")throw Error(L(527,Zy,"19.2.3"));ht.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=nb(t),e=e!==null?tE(e):null,e=e===null?null:e.stateNode,e};var Cw={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ol=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ol.isDisabled&&Ol.supportsFiber)try{Vo=Ol.inject(Cw),Le=Ol}catch{}}sc.createRoot=function(e,t){if(!Jv(e))throw Error(L(299));var n=!1,i="",r=wT,s=CT,a=IT;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=D0(e,1,!1,null,null,n,i,null,r,s,a,L0),e[Xs]=t.current,Om(e),new Um(t)};sc.hydrateRoot=function(e,t,n){if(!Jv(e))throw Error(L(299));var i=!1,r="",s=wT,a=CT,l=IT,u=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.formState!==void 0&&(u=n.formState)),t=D0(e,1,!0,t,n??null,i,r,u,s,a,l,L0),t.context=O0(null),n=t.current,i=ke(),i=Fd(i),r=Ni(i),r.callback=null,Mi(n,r,i),n=i,t.current.lanes=n,Lo(t,n),Rn(t),e[Xs]=t.current,Om(e),new Sc(t)};sc.version="19.2.3";function U0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(U0)}catch(e){console.error(e)}}U0(),Fv.exports=sc;var Iw=Fv.exports;/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Wy="popstate";function Dw(e={}){function t(r,s){let{pathname:a="/",search:l="",hash:u=""}=zr(r.location.hash.substring(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),ad("",{pathname:a,search:l,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){let a=r.document.querySelector("base"),l="";if(a&&a.getAttribute("href")){let u=r.location.href,c=u.indexOf("#");l=c===-1?u:u.slice(0,c)}return l+"#"+(typeof s=="string"?s:bo(s))}function i(r,s){an(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return Nw(t,n,i,e)}function Ct(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function an(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Ow(){return Math.random().toString(36).substring(2,10)}function t_(e,t){return{usr:e.state,key:e.key,idx:t}}function ad(e,t,n=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?zr(t):t,state:n,key:t&&t.key||i||Ow()}}function bo({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function zr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function Nw(e,t,n,i={}){let{window:r=document.defaultView,v5Compat:s=!1}=i,a=r.history,l="POP",u=null,c=f();c==null&&(c=0,a.replaceState({...a.state,idx:c},""));function f(){return(a.state||{idx:null}).idx}function m(){l="POP";let M=f(),S=M==null?null:M-c;c=M,u&&u({action:l,location:N.location,delta:S})}function p(M,S){l="PUSH";let v=ad(N.location,M,S);n&&n(v,M),c=f()+1;let A=t_(v,c),I=N.createHref(v);try{a.pushState(A,"",I)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;r.location.assign(I)}s&&u&&u({action:l,location:N.location,delta:1})}function y(M,S){l="REPLACE";let v=ad(N.location,M,S);n&&n(v,M),c=f();let A=t_(v,c),I=N.createHref(v);a.replaceState(A,"",I),s&&u&&u({action:l,location:N.location,delta:0})}function C(M){return Mw(M)}let N={get action(){return l},get location(){return e(r,a)},listen(M){if(u)throw new Error("A history only accepts one active listener");return r.addEventListener(Wy,m),u=M,()=>{r.removeEventListener(Wy,m),u=null}},createHref(M){return t(r,M)},createURL:C,encodeLocation(M){let S=C(M);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:p,replace:y,go(M){return a.go(M)}};return N}function Mw(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ct(n,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:bo(e);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function k0(e,t,n="/"){return Vw(e,t,n,!1)}function Vw(e,t,n,i){let r=typeof t=="string"?zr(t):t,s=Xn(r.pathname||"/",n);if(s==null)return null;let a=P0(e);xw(a);let l=null;for(let u=0;l==null&&u<a.length;++u){let c=Gw(s);l=qw(a[u],c,i)}return l}function P0(e,t=[],n=[],i="",r=!1){let s=(a,l,u=r,c)=>{let f={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(i)&&u)return;Ct(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length)}let m=Fn([i,f.relativePath]),p=n.concat(f);a.children&&a.children.length>0&&(Ct(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),P0(a.children,t,p,m,u)),!(a.path==null&&!a.index)&&t.push({path:m,score:jw(m,a.index),routesMeta:p})};return e.forEach((a,l)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))s(a,l);else for(let c of z0(a.path))s(a,l,!0,c)}),t}function z0(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let a=z0(i.join("/")),l=[];return l.push(...a.map(u=>u===""?s:[s,u].join("/"))),r&&l.push(...a),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function xw(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Hw(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var Lw=/^:[\w-]+$/,Uw=3,kw=2,Pw=1,zw=10,Bw=-2,e_=e=>e==="*";function jw(e,t){let n=e.split("/"),i=n.length;return n.some(e_)&&(i+=Bw),t&&(i+=kw),n.filter(r=>!e_(r)).reduce((r,s)=>r+(Lw.test(s)?Uw:s===""?Pw:zw),i)}function Hw(e,t){return e.length===t.length&&e.slice(0,-1).every((i,r)=>i===t[r])?e[e.length-1]-t[t.length-1]:0}function qw(e,t,n=!1){let{routesMeta:i}=e,r={},s="/",a=[];for(let l=0;l<i.length;++l){let u=i[l],c=l===i.length-1,f=s==="/"?t:t.slice(s.length)||"/",m=Bu({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},f),p=u.route;if(!m&&c&&n&&!i[i.length-1].route.index&&(m=Bu({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!m)return null;Object.assign(r,m.params),a.push({params:r,pathname:Fn([s,m.pathname]),pathnameBase:$w(Fn([s,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(s=Fn([s,m.pathnameBase]))}return a}function Bu(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=Fw(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let s=r[0],a=s.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:i.reduce((c,{paramName:f,isOptional:m},p)=>{if(f==="*"){let C=l[p]||"";a=s.slice(0,s.length-C.length).replace(/(.)\/+$/,"$1")}const y=l[p];return m&&!y?c[f]=void 0:c[f]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:e}}function Fw(e,t=!1,n=!0){an(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,u)=>(i.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(i.push({paramName:"*"}),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function Gw(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return an(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Xn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}var Kw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Yw(e,t="/"){let{pathname:n,search:i="",hash:r=""}=typeof e=="string"?zr(e):e,s;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?s=n_(n.substring(1),"/"):s=n_(n,t)):s=t,{pathname:s,search:Xw(i),hash:Jw(r)}}function n_(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Kh(e,t,n,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Qw(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function B0(e){let t=Qw(e);return t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase)}function j0(e,t,n,i=!1){let r;typeof e=="string"?r=zr(e):(r={...e},Ct(!r.pathname||!r.pathname.includes("?"),Kh("?","pathname","search",r)),Ct(!r.pathname||!r.pathname.includes("#"),Kh("#","pathname","hash",r)),Ct(!r.search||!r.search.includes("#"),Kh("#","search","hash",r)));let s=e===""||r.pathname==="",a=s?"/":r.pathname,l;if(a==null)l=n;else{let m=t.length-1;if(!i&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),m-=1;r.pathname=p.join("/")}l=m>=0?t[m]:"/"}let u=Yw(r,l),c=a&&a!=="/"&&a.endsWith("/"),f=(s||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||f)&&(u.pathname+="/"),u}var Fn=e=>e.join("/").replace(/\/\/+/g,"/"),$w=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Xw=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Jw=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,Zw=class{constructor(e,t,n,i=!1){this.status=e,this.statusText=t||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Ww(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function tC(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var H0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function q0(e,t){let n=e;if(typeof n!="string"||!Kw.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,r=!1;if(H0)try{let s=new URL(window.location.href),a=n.startsWith("//")?new URL(s.protocol+n):new URL(n),l=Xn(a.pathname,t);a.origin===s.origin&&l!=null?n=l+a.search+a.hash:r=!0}catch{an(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:r,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var F0=["POST","PUT","PATCH","DELETE"];new Set(F0);var eC=["GET",...F0];new Set(eC);var ia=x.createContext(null);ia.displayName="DataRouter";var Ac=x.createContext(null);Ac.displayName="DataRouterState";var nC=x.createContext(!1),G0=x.createContext({isTransitioning:!1});G0.displayName="ViewTransition";var iC=x.createContext(new Map);iC.displayName="Fetchers";var rC=x.createContext(null);rC.displayName="Await";var Je=x.createContext(null);Je.displayName="Navigation";var Fo=x.createContext(null);Fo.displayName="Location";var ni=x.createContext({outlet:null,matches:[],isDataRoute:!1});ni.displayName="Route";var km=x.createContext(null);km.displayName="RouteError";var K0="REACT_ROUTER_ERROR",sC="REDIRECT",aC="ROUTE_ERROR_RESPONSE";function oC(e){if(e.startsWith(`${K0}:${sC}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function lC(e){if(e.startsWith(`${K0}:${aC}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new Zw(t.status,t.statusText,t.data)}catch{}}function uC(e,{relative:t}={}){Ct(Go(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=x.useContext(Je),{hash:r,pathname:s,search:a}=Ko(e,{relative:t}),l=s;return n!=="/"&&(l=s==="/"?n:Fn([n,s])),i.createHref({pathname:l,search:a,hash:r})}function Go(){return x.useContext(Fo)!=null}function Br(){return Ct(Go(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(Fo).location}var Y0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Q0(e){x.useContext(Je).static||x.useLayoutEffect(e)}function cC(){let{isDataRoute:e}=x.useContext(ni);return e?AC():hC()}function hC(){Ct(Go(),"useNavigate() may be used only in the context of a <Router> component.");let e=x.useContext(ia),{basename:t,navigator:n}=x.useContext(Je),{matches:i}=x.useContext(ni),{pathname:r}=Br(),s=JSON.stringify(B0(i)),a=x.useRef(!1);return Q0(()=>{a.current=!0}),x.useCallback((u,c={})=>{if(an(a.current,Y0),!a.current)return;if(typeof u=="number"){n.go(u);return}let f=j0(u,JSON.parse(s),r,c.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Fn([t,f.pathname])),(c.replace?n.replace:n.push)(f,c.state,c)},[t,n,s,r,e])}x.createContext(null);function Ko(e,{relative:t}={}){let{matches:n}=x.useContext(ni),{pathname:i}=Br(),r=JSON.stringify(B0(n));return x.useMemo(()=>j0(e,JSON.parse(r),i,t==="path"),[e,r,i,t])}function fC(e,t){return $0(e,t)}function $0(e,t,n,i,r){var v;Ct(Go(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=x.useContext(Je),{matches:a}=x.useContext(ni),l=a[a.length-1],u=l?l.params:{},c=l?l.pathname:"/",f=l?l.pathnameBase:"/",m=l&&l.route;{let A=m&&m.path||"";J0(c,!m||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let p=Br(),y;if(t){let A=typeof t=="string"?zr(t):t;Ct(f==="/"||((v=A.pathname)==null?void 0:v.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${A.pathname}" was given in the \`location\` prop.`),y=A}else y=p;let C=y.pathname||"/",N=C;if(f!=="/"){let A=f.replace(/^\//,"").split("/");N="/"+C.replace(/^\//,"").split("/").slice(A.length).join("/")}let M=k0(e,{pathname:N});an(m||M!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),an(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=yC(M&&M.map(A=>Object.assign({},A,{params:Object.assign({},u,A.params),pathname:Fn([f,s.encodeLocation?s.encodeLocation(A.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?f:Fn([f,s.encodeLocation?s.encodeLocation(A.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathnameBase])})),a,n,i,r);return t&&S?x.createElement(Fo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},S):S}function dC(){let e=SC(),t=Ww(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:s},"ErrorBoundary")," or"," ",x.createElement("code",{style:s},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),n?x.createElement("pre",{style:r},n):null,a)}var mC=x.createElement(dC,null),X0=class extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=lC(e.digest);n&&(e=n)}let t=e!==void 0?x.createElement(ni.Provider,{value:this.props.routeContext},x.createElement(km.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?x.createElement(pC,{error:e},t):t}};X0.contextType=nC;var Yh=new WeakMap;function pC({children:e,error:t}){let{basename:n}=x.useContext(Je);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let i=oC(t.digest);if(i){let r=Yh.get(t);if(r)throw r;let s=q0(i.location,n);if(H0&&!Yh.get(t))if(s.isExternal||i.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const a=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:i.replace}));throw Yh.set(t,a),a}return x.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return e}function gC({routeContext:e,match:t,children:n}){let i=x.useContext(ia);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),x.createElement(ni.Provider,{value:e},n)}function yC(e,t=[],n=null,i=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,a=n==null?void 0:n.errors;if(a!=null){let f=s.findIndex(m=>m.route.id&&(a==null?void 0:a[m.route.id])!==void 0);Ct(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let l=!1,u=-1;if(n)for(let f=0;f<s.length;f++){let m=s[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=f),m.route.id){let{loaderData:p,errors:y}=n,C=m.route.loader&&!p.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||C){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}let c=n&&i?(f,m)=>{var p,y;i(f,{location:n.location,params:((y=(p=n.matches)==null?void 0:p[0])==null?void 0:y.params)??{},unstable_pattern:tC(n.matches),errorInfo:m})}:void 0;return s.reduceRight((f,m,p)=>{let y,C=!1,N=null,M=null;n&&(y=a&&m.route.id?a[m.route.id]:void 0,N=m.route.errorElement||mC,l&&(u<0&&p===0?(J0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,M=null):u===p&&(C=!0,M=m.route.hydrateFallbackElement||null)));let S=t.concat(s.slice(0,p+1)),v=()=>{let A;return y?A=N:C?A=M:m.route.Component?A=x.createElement(m.route.Component,null):m.route.element?A=m.route.element:A=f,x.createElement(gC,{match:m,routeContext:{outlet:f,matches:S,isDataRoute:n!=null},children:A})};return n&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?x.createElement(X0,{location:n.location,revalidation:n.revalidation,component:N,error:y,children:v(),routeContext:{outlet:null,matches:S,isDataRoute:!0},onError:c}):v()},null)}function Pm(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _C(e){let t=x.useContext(ia);return Ct(t,Pm(e)),t}function vC(e){let t=x.useContext(Ac);return Ct(t,Pm(e)),t}function EC(e){let t=x.useContext(ni);return Ct(t,Pm(e)),t}function zm(e){let t=EC(e),n=t.matches[t.matches.length-1];return Ct(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function TC(){return zm("useRouteId")}function SC(){var i;let e=x.useContext(km),t=vC("useRouteError"),n=zm("useRouteError");return e!==void 0?e:(i=t.errors)==null?void 0:i[n]}function AC(){let{router:e}=_C("useNavigate"),t=zm("useNavigate"),n=x.useRef(!1);return Q0(()=>{n.current=!0}),x.useCallback(async(r,s={})=>{an(n.current,Y0),n.current&&(typeof r=="number"?await e.navigate(r):await e.navigate(r,{fromRouteId:t,...s}))},[e,t])}var i_={};function J0(e,t,n){!t&&!i_[e]&&(i_[e]=!0,an(!1,n))}x.memo(bC);function bC({routes:e,future:t,state:n,onError:i}){return $0(e,void 0,n,i,t)}function Mt(e){Ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function RC({basename:e="/",children:t=null,location:n,navigationType:i="POP",navigator:r,static:s=!1,unstable_useTransitions:a}){Ct(!Go(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:l,navigator:r,static:s,unstable_useTransitions:a,future:{}}),[l,r,s,a]);typeof n=="string"&&(n=zr(n));let{pathname:c="/",search:f="",hash:m="",state:p=null,key:y="default"}=n,C=x.useMemo(()=>{let N=Xn(c,l);return N==null?null:{location:{pathname:N,search:f,hash:m,state:p,key:y},navigationType:i}},[l,c,f,m,p,y,i]);return an(C!=null,`<Router basename="${l}"> is not able to match the URL "${c}${f}${m}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:x.createElement(Je.Provider,{value:u},x.createElement(Fo.Provider,{children:t,value:C}))}function r_({children:e,location:t}){return fC(od(e),t)}function od(e,t=[]){let n=[];return x.Children.forEach(e,(i,r)=>{if(!x.isValidElement(i))return;let s=[...t,r];if(i.type===x.Fragment){n.push.apply(n,od(i.props.children,s));return}Ct(i.type===Mt,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ct(!i.props.index||!i.props.children,"An index route cannot have child routes.");let a={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=od(i.props.children,s)),n.push(a)}),n}var tu="get",eu="application/x-www-form-urlencoded";function bc(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function wC(e){return bc(e)&&e.tagName.toLowerCase()==="button"}function CC(e){return bc(e)&&e.tagName.toLowerCase()==="form"}function IC(e){return bc(e)&&e.tagName.toLowerCase()==="input"}function DC(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function OC(e,t){return e.button===0&&(!t||t==="_self")&&!DC(e)}var Nl=null;function NC(){if(Nl===null)try{new FormData(document.createElement("form"),0),Nl=!1}catch{Nl=!0}return Nl}var MC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Qh(e){return e!=null&&!MC.has(e)?(an(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${eu}"`),null):e}function VC(e,t){let n,i,r,s,a;if(CC(e)){let l=e.getAttribute("action");i=l?Xn(l,t):null,n=e.getAttribute("method")||tu,r=Qh(e.getAttribute("enctype"))||eu,s=new FormData(e)}else if(wC(e)||IC(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||l.getAttribute("action");if(i=u?Xn(u,t):null,n=e.getAttribute("formmethod")||l.getAttribute("method")||tu,r=Qh(e.getAttribute("formenctype"))||Qh(l.getAttribute("enctype"))||eu,s=new FormData(l,e),!NC()){let{name:c,type:f,value:m}=e;if(f==="image"){let p=c?`${c}.`:"";s.append(`${p}x`,"0"),s.append(`${p}y`,"0")}else c&&s.append(c,m)}}else{if(bc(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=tu,i=null,r=eu,a=e}return s&&r==="text/plain"&&(a=s,s=void 0),{action:i,method:n.toLowerCase(),encType:r,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Bm(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function xC(e,t,n,i){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n?r.pathname.endsWith("/")?r.pathname=`${r.pathname}_.${i}`:r.pathname=`${r.pathname}.${i}`:r.pathname==="/"?r.pathname=`_root.${i}`:t&&Xn(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${i}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${i}`,r}async function LC(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function UC(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function kC(e,t,n){let i=await Promise.all(e.map(async r=>{let s=t.routes[r.route.id];if(s){let a=await LC(s,n);return a.links?a.links():[]}return[]}));return jC(i.flat(1).filter(UC).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function s_(e,t,n,i,r,s){let a=(u,c)=>n[c]?u.route.id!==n[c].route.id:!0,l=(u,c)=>{var f;return n[c].pathname!==u.pathname||((f=n[c].route.path)==null?void 0:f.endsWith("*"))&&n[c].params["*"]!==u.params["*"]};return s==="assets"?t.filter((u,c)=>a(u,c)||l(u,c)):s==="data"?t.filter((u,c)=>{var m;let f=i.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(a(u,c)||l(u,c))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function PC(e,t,{includeHydrateFallback:n}={}){return zC(e.map(i=>{let r=t.routes[i.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function zC(e){return[...new Set(e)]}function BC(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}function jC(e,t){let n=new Set;return new Set(t),e.reduce((i,r)=>{let s=JSON.stringify(BC(r));return n.has(s)||(n.add(s),i.push({key:s,link:r})),i},[])}function Z0(){let e=x.useContext(ia);return Bm(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function HC(){let e=x.useContext(Ac);return Bm(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var jm=x.createContext(void 0);jm.displayName="FrameworkContext";function W0(){let e=x.useContext(jm);return Bm(e,"You must render this element inside a <HydratedRouter> element"),e}function qC(e,t){let n=x.useContext(jm),[i,r]=x.useState(!1),[s,a]=x.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:c,onMouseLeave:f,onTouchStart:m}=t,p=x.useRef(null);x.useEffect(()=>{if(e==="render"&&a(!0),e==="viewport"){let N=S=>{S.forEach(v=>{a(v.isIntersecting)})},M=new IntersectionObserver(N,{threshold:.5});return p.current&&M.observe(p.current),()=>{M.disconnect()}}},[e]),x.useEffect(()=>{if(i){let N=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(N)}}},[i]);let y=()=>{r(!0)},C=()=>{r(!1),a(!1)};return n?e!=="intent"?[s,p,{}]:[s,p,{onFocus:Na(l,y),onBlur:Na(u,C),onMouseEnter:Na(c,y),onMouseLeave:Na(f,C),onTouchStart:Na(m,y)}]:[!1,p,{}]}function Na(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function FC({page:e,...t}){let{router:n}=Z0(),i=x.useMemo(()=>k0(n.routes,e,n.basename),[n.routes,e,n.basename]);return i?x.createElement(KC,{page:e,matches:i,...t}):null}function GC(e){let{manifest:t,routeModules:n}=W0(),[i,r]=x.useState([]);return x.useEffect(()=>{let s=!1;return kC(e,t,n).then(a=>{s||r(a)}),()=>{s=!0}},[e,t,n]),i}function KC({page:e,matches:t,...n}){let i=Br(),{future:r,manifest:s,routeModules:a}=W0(),{basename:l}=Z0(),{loaderData:u,matches:c}=HC(),f=x.useMemo(()=>s_(e,t,c,s,i,"data"),[e,t,c,s,i]),m=x.useMemo(()=>s_(e,t,c,s,i,"assets"),[e,t,c,s,i]),p=x.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let N=new Set,M=!1;if(t.forEach(v=>{var I;let A=s.routes[v.route.id];!A||!A.hasLoader||(!f.some(k=>k.route.id===v.route.id)&&v.route.id in u&&((I=a[v.route.id])!=null&&I.shouldRevalidate)||A.hasClientLoader?M=!0:N.add(v.route.id))}),N.size===0)return[];let S=xC(e,l,r.unstable_trailingSlashAwareDataRequests,"data");return M&&N.size>0&&S.searchParams.set("_routes",t.filter(v=>N.has(v.route.id)).map(v=>v.route.id).join(",")),[S.pathname+S.search]},[l,r.unstable_trailingSlashAwareDataRequests,u,i,s,f,t,e,a]),y=x.useMemo(()=>PC(m,s),[m,s]),C=GC(m);return x.createElement(x.Fragment,null,p.map(N=>x.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...n})),y.map(N=>x.createElement("link",{key:N,rel:"modulepreload",href:N,...n})),C.map(({key:N,link:M})=>x.createElement("link",{key:N,nonce:n.nonce,...M,crossOrigin:M.crossOrigin??n.crossOrigin})))}function YC(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var QC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{QC&&(window.__reactRouterVersion="7.13.0")}catch{}function $C({basename:e,children:t,unstable_useTransitions:n,window:i}){let r=x.useRef();r.current==null&&(r.current=Dw({window:i,v5Compat:!0}));let s=r.current,[a,l]=x.useState({action:s.action,location:s.location}),u=x.useCallback(c=>{n===!1?l(c):x.startTransition(()=>l(c))},[n]);return x.useLayoutEffect(()=>s.listen(u),[s,u]),x.createElement(RC,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:s,unstable_useTransitions:n})}var tS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ps=x.forwardRef(function({onClick:t,discover:n="render",prefetch:i="none",relative:r,reloadDocument:s,replace:a,state:l,target:u,to:c,preventScrollReset:f,viewTransition:m,unstable_defaultShouldRevalidate:p,...y},C){let{basename:N,unstable_useTransitions:M}=x.useContext(Je),S=typeof c=="string"&&tS.test(c),v=q0(c,N);c=v.to;let A=uC(c,{relative:r}),[I,k,j]=qC(i,y),E=ZC(c,{replace:a,state:l,target:u,preventScrollReset:f,relative:r,viewTransition:m,unstable_defaultShouldRevalidate:p,unstable_useTransitions:M});function _(R){t&&t(R),R.defaultPrevented||E(R)}let T=x.createElement("a",{...y,...j,href:v.absoluteURL||A,onClick:v.isExternal||s?t:_,ref:YC(C,k),target:u,"data-discover":!S&&n==="render"?"true":void 0});return I&&!S?x.createElement(x.Fragment,null,T,x.createElement(FC,{page:A})):T});ps.displayName="Link";var tn=x.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:i="",end:r=!1,style:s,to:a,viewTransition:l,children:u,...c},f){let m=Ko(a,{relative:c.relative}),p=Br(),y=x.useContext(Ac),{navigator:C,basename:N}=x.useContext(Je),M=y!=null&&i2(m)&&l===!0,S=C.encodeLocation?C.encodeLocation(m).pathname:m.pathname,v=p.pathname,A=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(v=v.toLowerCase(),A=A?A.toLowerCase():null,S=S.toLowerCase()),A&&N&&(A=Xn(A,N)||A);const I=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let k=v===S||!r&&v.startsWith(S)&&v.charAt(I)==="/",j=A!=null&&(A===S||!r&&A.startsWith(S)&&A.charAt(S.length)==="/"),E={isActive:k,isPending:j,isTransitioning:M},_=k?t:void 0,T;typeof i=="function"?T=i(E):T=[i,k?"active":null,j?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let R=typeof s=="function"?s(E):s;return x.createElement(ps,{...c,"aria-current":_,className:T,ref:f,style:R,to:a,viewTransition:l},typeof u=="function"?u(E):u)});tn.displayName="NavLink";var XC=x.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:i,replace:r,state:s,method:a=tu,action:l,onSubmit:u,relative:c,preventScrollReset:f,viewTransition:m,unstable_defaultShouldRevalidate:p,...y},C)=>{let{unstable_useTransitions:N}=x.useContext(Je),M=e2(),S=n2(l,{relative:c}),v=a.toLowerCase()==="get"?"get":"post",A=typeof l=="string"&&tS.test(l),I=k=>{if(u&&u(k),k.defaultPrevented)return;k.preventDefault();let j=k.nativeEvent.submitter,E=(j==null?void 0:j.getAttribute("formmethod"))||a,_=()=>M(j||k.currentTarget,{fetcherKey:t,method:E,navigate:n,replace:r,state:s,relative:c,preventScrollReset:f,viewTransition:m,unstable_defaultShouldRevalidate:p});N&&n!==!1?x.startTransition(()=>_()):_()};return x.createElement("form",{ref:C,method:v,action:S,onSubmit:i?u:I,...y,"data-discover":!A&&e==="render"?"true":void 0})});XC.displayName="Form";function JC(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eS(e){let t=x.useContext(ia);return Ct(t,JC(e)),t}function ZC(e,{target:t,replace:n,state:i,preventScrollReset:r,relative:s,viewTransition:a,unstable_defaultShouldRevalidate:l,unstable_useTransitions:u}={}){let c=cC(),f=Br(),m=Ko(e,{relative:s});return x.useCallback(p=>{if(OC(p,t)){p.preventDefault();let y=n!==void 0?n:bo(f)===bo(m),C=()=>c(e,{replace:y,state:i,preventScrollReset:r,relative:s,viewTransition:a,unstable_defaultShouldRevalidate:l});u?x.startTransition(()=>C()):C()}},[f,c,m,n,i,t,e,r,s,a,l,u])}var WC=0,t2=()=>`__${String(++WC)}__`;function e2(){let{router:e}=eS("useSubmit"),{basename:t}=x.useContext(Je),n=TC(),i=e.fetch,r=e.navigate;return x.useCallback(async(s,a={})=>{let{action:l,method:u,encType:c,formData:f,body:m}=VC(s,t);if(a.navigate===!1){let p=a.fetcherKey||t2();await i(p,n,a.action||l,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:f,body:m,formMethod:a.method||u,formEncType:a.encType||c,flushSync:a.flushSync})}else await r(a.action||l,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:f,body:m,formMethod:a.method||u,formEncType:a.encType||c,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[i,r,t,n])}function n2(e,{relative:t}={}){let{basename:n}=x.useContext(Je),i=x.useContext(ni);Ct(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),s={...Ko(e||".",{relative:t})},a=Br();if(e==null){s.search=a.search;let l=new URLSearchParams(s.search),u=l.getAll("index");if(u.some(f=>f==="")){l.delete("index"),u.filter(m=>m).forEach(m=>l.append("index",m));let f=l.toString();s.search=f?`?${f}`:""}}return(!e||e===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Fn([n,s.pathname])),bo(s)}function i2(e,{relative:t}={}){let n=x.useContext(G0);Ct(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=eS("useViewTransitionState"),r=Ko(e,{relative:t});if(!n.isTransitioning)return!1;let s=Xn(n.currentLocation.pathname,i)||n.currentLocation.pathname,a=Xn(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Bu(r.pathname,a)!=null||Bu(r.pathname,s)!=null}const nS=x.createContext(),r2=()=>x.useContext(nS),s2=({children:e})=>{const[t,n]=x.useState(()=>{try{const c=localStorage.getItem("ambrosia_cart");return c?JSON.parse(c):[]}catch(c){return console.error("Failed to parse cart data:",c),[]}});x.useEffect(()=>{localStorage.setItem("ambrosia_cart",JSON.stringify(t))},[t]);const i=c=>{n(f=>{const m=f.find(p=>p.id===c.id);return m?m.quantity>=50?f:f.map(p=>p.id===c.id?{...p,quantity:p.quantity+1}:p):[...f,{...c,quantity:1}]})},r=c=>{n(f=>f.filter(m=>m.id!==c))},s=(c,f)=>{if(f<1){r(c);return}f>50||n(m=>m.map(p=>p.id===c?{...p,quantity:f}:p))},a=()=>n([]),l=t.reduce((c,f)=>c+f.price*f.quantity,0),u=t.reduce((c,f)=>c+f.quantity,0);return P.jsx(nS.Provider,{value:{cartItems:t,addToCart:i,removeFromCart:r,updateQuantity:s,clearCart:a,cartTotal:l,cartCount:u},children:e})},a2=()=>{};var a_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):(r&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},o2=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=e[n++];t[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=e[n++],a=e[n++],l=e[n++],u=((r&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;t[i++]=String.fromCharCode(55296+(u>>10)),t[i++]=String.fromCharCode(56320+(u&1023))}else{const s=e[n++],a=e[n++];t[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|a&63)}}return t.join("")},rS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){const s=e[r],a=r+1<e.length,l=a?e[r+1]:0,u=r+2<e.length,c=u?e[r+2]:0,f=s>>2,m=(s&3)<<4|l>>4;let p=(l&15)<<2|c>>6,y=c&63;u||(y=64,a||(p=64)),i.push(n[f],n[m],n[p],n[y])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(iS(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):o2(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){const s=n[e.charAt(r++)],l=r<e.length?n[e.charAt(r)]:0;++r;const c=r<e.length?n[e.charAt(r)]:64;++r;const m=r<e.length?n[e.charAt(r)]:64;if(++r,s==null||l==null||c==null||m==null)throw new l2;const p=s<<2|l>>4;if(i.push(p),c!==64){const y=l<<4&240|c>>2;if(i.push(y),m!==64){const C=c<<6&192|m;i.push(C)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class l2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const u2=function(e){const t=iS(e);return rS.encodeByteArray(t,!0)},ju=function(e){return u2(e).replace(/\./g,"")},sS=function(e){try{return rS.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2=()=>c2().__FIREBASE_DEFAULTS__,f2=()=>{if(typeof process>"u"||typeof a_>"u")return;const e=a_.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},d2=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&sS(e[1]);return t&&JSON.parse(t)},Rc=()=>{try{return a2()||h2()||f2()||d2()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},aS=e=>{var t,n;return(n=(t=Rc())==null?void 0:t.emulatorHosts)==null?void 0:n[e]},oS=e=>{const t=aS(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},lS=()=>{var e;return(e=Rc())==null?void 0:e.config},uS=e=>{var t;return(t=Rc())==null?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Hm(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",r=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...e};return[ju(JSON.stringify(n)),ju(JSON.stringify(a)),""].join(".")}const no={};function p2(){const e={prod:[],emulator:[]};for(const t of Object.keys(no))no[t]?e.emulator.push(t):e.prod.push(t);return e}function g2(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let o_=!1;function qm(e,t){if(typeof window>"u"||typeof document>"u"||!jr(window.location.host)||no[e]===t||no[e]||o_)return;no[e]=t;function n(p){return`__firebase__banner__${p}`}const i="__firebase__banner",s=p2().prod.length>0;function a(){const p=document.getElementById(i);p&&p.remove()}function l(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function u(p,y){p.setAttribute("width","24"),p.setAttribute("id",y),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function c(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{o_=!0,a()},p}function f(p,y){p.setAttribute("id",y),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function m(){const p=g2(i),y=n("text"),C=document.getElementById(y)||document.createElement("span"),N=n("learnmore"),M=document.getElementById(N)||document.createElement("a"),S=n("preprendIcon"),v=document.getElementById(S)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const A=p.element;l(A),f(M,N);const I=c();u(v,S),A.append(v,C,M,I),document.body.appendChild(A)}s?(C.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function y2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(de())}function _2(){var t;const e=(t=Rc())==null?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function v2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function E2(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function T2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function S2(){const e=de();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function A2(){return!_2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function b2(){try{return typeof indexedDB=="object"}catch{return!1}}function R2(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;t(((s=r.error)==null?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2="FirebaseError";class wn extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=w2,Object.setPrototypeOf(this,wn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yo.prototype.create)}}class Yo{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},r=`${this.service}/${t}`,s=this.errors[t],a=s?C2(s,i):"Error",l=`${this.serviceName}: ${a} (${r}).`;return new wn(r,l,i)}}function C2(e,t){return e.replace(I2,(n,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const I2=/\{\$([^}]+)}/g;function D2(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Or(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const s=e[r],a=t[r];if(l_(s)&&l_(a)){if(!Or(s,a))return!1}else if(s!==a)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function l_(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qo(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function O2(e,t){const n=new N2(e,t);return n.subscribe.bind(n)}class N2{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let r;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");M2(t,["next","error","complete"])?r=t:r={next:t,error:n,complete:i},r.next===void 0&&(r.next=$h),r.error===void 0&&(r.error=$h),r.complete===void 0&&(r.complete=$h);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function M2(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function $h(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(e){return e&&e._delegate?e._delegate:e}class Yi{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new m2;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(L2(t))try{this.getOrInitializeService({instanceIdentifier:mr})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(t=mr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=mr){return this.instances.has(t)}getOptions(t=mr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);i===l&&a.resolve(r)}return r}onInit(t,n){const i=this.normalizeInstanceIdentifier(n),r=this.onInitCallbacks.get(i)??new Set;r.add(t),this.onInitCallbacks.set(i,r);const s=this.instances.get(i);return s&&t(s,i),()=>{r.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:x2(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=mr){return this.component?this.component.multipleInstances?t:mr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function x2(e){return e===mr?void 0:e}function L2(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new V2(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(it||(it={}));const k2={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},P2=it.INFO,z2={[it.DEBUG]:"log",[it.VERBOSE]:"log",[it.INFO]:"info",[it.WARN]:"warn",[it.ERROR]:"error"},B2=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),r=z2[t];if(r)console[r](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Fm{constructor(t){this.name=t,this._logLevel=P2,this._logHandler=B2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in it))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?k2[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,it.DEBUG,...t),this._logHandler(this,it.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,it.VERBOSE,...t),this._logHandler(this,it.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,it.INFO,...t),this._logHandler(this,it.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,it.WARN,...t),this._logHandler(this,it.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,it.ERROR,...t),this._logHandler(this,it.ERROR,...t)}}const j2=(e,t)=>t.some(n=>e instanceof n);let u_,c_;function H2(){return u_||(u_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function q2(){return c_||(c_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hS=new WeakMap,ld=new WeakMap,fS=new WeakMap,Xh=new WeakMap,Gm=new WeakMap;function F2(e){const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",a)},s=()=>{n(Pi(e.result)),r()},a=()=>{i(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&hS.set(n,e)}).catch(()=>{}),Gm.set(t,e),t}function G2(e){if(ld.has(e))return;const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",a),e.removeEventListener("abort",a)},s=()=>{n(),r()},a=()=>{i(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",a),e.addEventListener("abort",a)});ld.set(e,t)}let ud={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return ld.get(e);if(t==="objectStoreNames")return e.objectStoreNames||fS.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pi(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function K2(e){ud=e(ud)}function Y2(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(Jh(this),t,...n);return fS.set(i,t.sort?t.sort():[t]),Pi(i)}:q2().includes(e)?function(...t){return e.apply(Jh(this),t),Pi(hS.get(this))}:function(...t){return Pi(e.apply(Jh(this),t))}}function Q2(e){return typeof e=="function"?Y2(e):(e instanceof IDBTransaction&&G2(e),j2(e,H2())?new Proxy(e,ud):e)}function Pi(e){if(e instanceof IDBRequest)return F2(e);if(Xh.has(e))return Xh.get(e);const t=Q2(e);return t!==e&&(Xh.set(e,t),Gm.set(t,e)),t}const Jh=e=>Gm.get(e);function $2(e,t,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const a=indexedDB.open(e,t),l=Pi(a);return i&&a.addEventListener("upgradeneeded",u=>{i(Pi(a.result),u.oldVersion,u.newVersion,Pi(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),r&&u.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const X2=["get","getKey","getAll","getAllKeys","count"],J2=["put","add","delete","clear"],Zh=new Map;function h_(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Zh.get(t))return Zh.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,r=J2.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||X2.includes(n)))return;const s=async function(a,...l){const u=this.transaction(a,r?"readwrite":"readonly");let c=u.store;return i&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),r&&u.done]))[0]};return Zh.set(t,s),s}K2(e=>({...e,get:(t,n,i)=>h_(t,n)||e.get(t,n,i),has:(t,n)=>!!h_(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(W2(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function W2(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const cd="@firebase/app",f_="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jn=new Fm("@firebase/app"),tI="@firebase/app-compat",eI="@firebase/analytics-compat",nI="@firebase/analytics",iI="@firebase/app-check-compat",rI="@firebase/app-check",sI="@firebase/auth",aI="@firebase/auth-compat",oI="@firebase/database",lI="@firebase/data-connect",uI="@firebase/database-compat",cI="@firebase/functions",hI="@firebase/functions-compat",fI="@firebase/installations",dI="@firebase/installations-compat",mI="@firebase/messaging",pI="@firebase/messaging-compat",gI="@firebase/performance",yI="@firebase/performance-compat",_I="@firebase/remote-config",vI="@firebase/remote-config-compat",EI="@firebase/storage",TI="@firebase/storage-compat",SI="@firebase/firestore",AI="@firebase/ai",bI="@firebase/firestore-compat",RI="firebase",wI="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hd="[DEFAULT]",CI={[cd]:"fire-core",[tI]:"fire-core-compat",[nI]:"fire-analytics",[eI]:"fire-analytics-compat",[rI]:"fire-app-check",[iI]:"fire-app-check-compat",[sI]:"fire-auth",[aI]:"fire-auth-compat",[oI]:"fire-rtdb",[lI]:"fire-data-connect",[uI]:"fire-rtdb-compat",[cI]:"fire-fn",[hI]:"fire-fn-compat",[fI]:"fire-iid",[dI]:"fire-iid-compat",[mI]:"fire-fcm",[pI]:"fire-fcm-compat",[gI]:"fire-perf",[yI]:"fire-perf-compat",[_I]:"fire-rc",[vI]:"fire-rc-compat",[EI]:"fire-gcs",[TI]:"fire-gcs-compat",[SI]:"fire-fst",[bI]:"fire-fst-compat",[AI]:"fire-vertex","fire-js":"fire-js",[RI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hu=new Map,II=new Map,fd=new Map;function d_(e,t){try{e.container.addComponent(t)}catch(n){Jn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Nr(e){const t=e.name;if(fd.has(t))return Jn.debug(`There were multiple attempts to register component ${t}.`),!1;fd.set(t,e);for(const n of Hu.values())d_(n,e);for(const n of II.values())d_(n,e);return!0}function wc(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function nn(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zi=new Yo("app","Firebase",DI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(t,n,i){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Yi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw zi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hr=wI;function dS(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i={name:hd,automaticDataCollectionEnabled:!0,...t},r=i.name;if(typeof r!="string"||!r)throw zi.create("bad-app-name",{appName:String(r)});if(n||(n=lS()),!n)throw zi.create("no-options");const s=Hu.get(r);if(s){if(Or(n,s.options)&&Or(i,s.config))return s;throw zi.create("duplicate-app",{appName:r})}const a=new U2(r);for(const u of fd.values())a.addComponent(u);const l=new OI(n,i,a);return Hu.set(r,l),l}function Km(e=hd){const t=Hu.get(e);if(!t&&e===hd&&lS())return dS();if(!t)throw zi.create("no-app",{appName:e});return t}function yn(e,t,n){let i=CI[e]??e;n&&(i+=`-${n}`);const r=i.match(/\s|\//),s=t.match(/\s|\//);if(r||s){const a=[`Unable to register library "${i}" with version "${t}":`];r&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Jn.warn(a.join(" "));return}Nr(new Yi(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI="firebase-heartbeat-database",MI=1,Ro="firebase-heartbeat-store";let Wh=null;function mS(){return Wh||(Wh=$2(NI,MI,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Ro)}catch(n){console.warn(n)}}}}).catch(e=>{throw zi.create("idb-open",{originalErrorMessage:e.message})})),Wh}async function VI(e){try{const n=(await mS()).transaction(Ro),i=await n.objectStore(Ro).get(pS(e));return await n.done,i}catch(t){if(t instanceof wn)Jn.warn(t.message);else{const n=zi.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Jn.warn(n.message)}}}async function m_(e,t){try{const i=(await mS()).transaction(Ro,"readwrite");await i.objectStore(Ro).put(t,pS(e)),await i.done}catch(n){if(n instanceof wn)Jn.warn(n.message);else{const i=zi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Jn.warn(i.message)}}}function pS(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI=1024,LI=30;class UI{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new PI(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=p_();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>LI){const a=zI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Jn.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=p_(),{heartbeatsToSend:i,unsentEntries:r}=kI(this._heartbeatsCache.heartbeats),s=ju(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Jn.warn(n),""}}}function p_(){return new Date().toISOString().substring(0,10)}function kI(e,t=xI){const n=[];let i=e.slice();for(const r of e){const s=n.find(a=>a.agent===r.agent);if(s){if(s.dates.push(r.date),g_(n)>t){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),g_(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class PI{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return b2()?R2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await VI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return m_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return m_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function g_(e){return ju(JSON.stringify({version:2,heartbeats:e})).length}function zI(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(e){Nr(new Yi("platform-logger",t=>new Z2(t),"PRIVATE")),Nr(new Yi("heartbeat",t=>new UI(t),"PRIVATE")),yn(cd,f_,e),yn(cd,f_,"esm2020"),yn("fire-js","")}BI("");var jI="firebase",HI="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yn(jI,HI,"app");function gS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qI=gS,yS=new Yo("auth","Firebase",gS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qu=new Fm("@firebase/auth");function FI(e,...t){qu.logLevel<=it.WARN&&qu.warn(`Auth (${Hr}): ${e}`,...t)}function nu(e,...t){qu.logLevel<=it.ERROR&&qu.error(`Auth (${Hr}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(e,...t){throw Ym(e,...t)}function _n(e,...t){return Ym(e,...t)}function _S(e,t,n){const i={...qI(),[t]:n};return new Yo("auth","Firebase",i).create(t,{appName:e.name})}function Tr(e){return _S(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ym(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return yS.create(e,...t)}function Y(e,t,...n){if(!e)throw Ym(t,...n)}function zn(e){const t="INTERNAL ASSERTION FAILED: "+e;throw nu(t),new Error(t)}function Wn(e,t){e||zn(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.href)||""}function GI(){return y_()==="http:"||y_()==="https:"}function y_(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(GI()||E2()||"connection"in navigator)?navigator.onLine:!0}function YI(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(t,n){this.shortDelay=t,this.longDelay=n,Wn(n>t,"Short delay should be less than long delay!"),this.isMobile=y2()||T2()}get(){return KI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(e,t){Wn(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],XI=new $o(3e4,6e4);function $m(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function ra(e,t,n,i,r={}){return ES(e,r,async()=>{let s={},a={};i&&(t==="GET"?a=i:s={body:JSON.stringify(i)});const l=Qo({key:e.config.apiKey,...a}).slice(1),u=await e._getAdditionalHeaders();u["Content-Type"]="application/json",e.languageCode&&(u["X-Firebase-Locale"]=e.languageCode);const c={method:t,headers:u,...s};return v2()||(c.referrerPolicy="no-referrer"),e.emulatorConfig&&jr(e.emulatorConfig.host)&&(c.credentials="include"),vS.fetch()(await TS(e,e.config.apiHost,n,l),c)})}async function ES(e,t,n){e._canInitEmulator=!1;const i={...QI,...t};try{const r=new ZI(e),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Ml(e,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const l=s.ok?a.errorMessage:a.error.message,[u,c]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ml(e,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw Ml(e,"email-already-in-use",a);if(u==="USER_DISABLED")throw Ml(e,"user-disabled",a);const f=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw _S(e,f,c);Zn(e,f)}}catch(r){if(r instanceof wn)throw r;Zn(e,"network-request-failed",{message:String(r)})}}async function JI(e,t,n,i,r={}){const s=await ra(e,t,n,i,r);return"mfaPendingCredential"in s&&Zn(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function TS(e,t,n,i){const r=`${t}${n}?${i}`,s=e,a=s.config.emulator?Qm(e.config,r):`${e.config.apiScheme}://${r}`;return $I.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}class ZI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(_n(this.auth,"network-request-failed")),XI.get())})}}function Ml(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=_n(e,t,i);return r.customData._tokenResponse=n,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WI(e,t){return ra(e,"POST","/v1/accounts:delete",t)}async function Fu(e,t){return ra(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function io(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function tD(e,t=!1){const n=Cn(e),i=await n.getIdToken(t),r=Xm(i);Y(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:io(tf(r.auth_time)),issuedAtTime:io(tf(r.iat)),expirationTime:io(tf(r.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function tf(e){return Number(e)*1e3}function Xm(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return nu("JWT malformed, contained fewer than 3 sections"),null;try{const r=sS(n);return r?JSON.parse(r):(nu("Failed to decode base64 JWT payload"),null)}catch(r){return nu("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function __(e){const t=Xm(e);return Y(t,"internal-error"),Y(typeof t.exp<"u","internal-error"),Y(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wo(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof wn&&eD(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function eD({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=io(this.lastLoginAt),this.creationTime=io(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gu(e){var m;const t=e.auth,n=await e.getIdToken(),i=await wo(e,Fu(t,{idToken:n}));Y(i==null?void 0:i.users.length,t,"internal-error");const r=i.users[0];e._notifyReloadListener(r);const s=(m=r.providerUserInfo)!=null&&m.length?SS(r.providerUserInfo):[],a=rD(e.providerData,s),l=e.isAnonymous,u=!(e.email&&r.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new md(r.createdAt,r.lastLoginAt),isAnonymous:c};Object.assign(e,f)}async function iD(e){const t=Cn(e);await Gu(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function rD(e,t){return[...e.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function SS(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sD(e,t){const n=await ES(e,{},async()=>{const i=Qo({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=e.config,a=await TS(e,r,"/v1/token",`key=${s}`),l=await e._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:i};return e.emulatorConfig&&jr(e.emulatorConfig.host)&&(u.credentials="include"),vS.fetch()(a,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function aD(e,t){return ra(e,"POST","/v2/accounts:revokeToken",$m(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Y(t.idToken,"internal-error"),Y(typeof t.idToken<"u","internal-error"),Y(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):__(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Y(t.length!==0,"internal-error");const n=__(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Y(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await sD(t,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,a=new bs;return i&&(Y(typeof i=="string","internal-error",{appName:t}),a.refreshToken=i),r&&(Y(typeof r=="string","internal-error",{appName:t}),a.accessToken=r),s&&(Y(typeof s=="number","internal-error",{appName:t}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new bs,this.toJSON())}_performRefresh(){return zn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(e,t){Y(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class rn{constructor({uid:t,auth:n,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new nD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new md(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const n=await wo(this,this.stsTokenManager.getToken(this.auth,t));return Y(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return tD(this,t)}reload(){return iD(this)}_assign(t){this!==t&&(Y(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new rn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await Gu(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(nn(this.auth.app))return Promise.reject(Tr(this.auth));const t=await this.getIdToken();return await wo(this,WI(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const i=n.displayName??void 0,r=n.email??void 0,s=n.phoneNumber??void 0,a=n.photoURL??void 0,l=n.tenantId??void 0,u=n._redirectEventId??void 0,c=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:m,emailVerified:p,isAnonymous:y,providerData:C,stsTokenManager:N}=n;Y(m&&N,t,"internal-error");const M=bs.fromJSON(this.name,N);Y(typeof m=="string",t,"internal-error"),hi(i,t.name),hi(r,t.name),Y(typeof p=="boolean",t,"internal-error"),Y(typeof y=="boolean",t,"internal-error"),hi(s,t.name),hi(a,t.name),hi(l,t.name),hi(u,t.name),hi(c,t.name),hi(f,t.name);const S=new rn({uid:m,auth:t,email:r,emailVerified:p,displayName:i,isAnonymous:y,photoURL:a,phoneNumber:s,tenantId:l,stsTokenManager:M,createdAt:c,lastLoginAt:f});return C&&Array.isArray(C)&&(S.providerData=C.map(v=>({...v}))),u&&(S._redirectEventId=u),S}static async _fromIdTokenResponse(t,n,i=!1){const r=new bs;r.updateFromServerResponse(n);const s=new rn({uid:n.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await Gu(s),s}static async _fromGetAccountInfoResponse(t,n,i){const r=n.users[0];Y(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?SS(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),l=new bs;l.updateFromIdToken(i);const u=new rn({uid:r.localId,auth:t,stsTokenManager:l,isAnonymous:a}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new md(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_=new Map;function Bn(e){Wn(e instanceof Function,"Expected a class definition");let t=v_.get(e);return t?(Wn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,v_.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}AS.type="NONE";const E_=AS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iu(e,t,n){return`firebase:${e}:${t}:${n}`}class Rs{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=iu(this.userKey,r.apiKey,s),this.fullPersistenceKey=iu("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Fu(this.auth,{idToken:t}).catch(()=>{});return n?rn._fromGetAccountInfoResponse(this.auth,n,t):null}return rn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new Rs(Bn(E_),t,i);const r=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=r[0]||Bn(E_);const a=iu(i,t.config.apiKey,t.name);let l=null;for(const c of n)try{const f=await c._get(a);if(f){let m;if(typeof f=="string"){const p=await Fu(t,{idToken:f}).catch(()=>{});if(!p)break;m=await rn._fromGetAccountInfoResponse(t,p,f)}else m=rn._fromJSON(t,f);c!==s&&(l=m),s=c;break}}catch{}const u=r.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Rs(s,t,i):(s=u[0],l&&await s._set(a,l.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(a)}catch{}})),new Rs(s,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T_(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(CS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(bS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(DS(t))return"Blackberry";if(OS(t))return"Webos";if(RS(t))return"Safari";if((t.includes("chrome/")||wS(t))&&!t.includes("edge/"))return"Chrome";if(IS(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function bS(e=de()){return/firefox\//i.test(e)}function RS(e=de()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function wS(e=de()){return/crios\//i.test(e)}function CS(e=de()){return/iemobile/i.test(e)}function IS(e=de()){return/android/i.test(e)}function DS(e=de()){return/blackberry/i.test(e)}function OS(e=de()){return/webos/i.test(e)}function Jm(e=de()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function oD(e=de()){var t;return Jm(e)&&!!((t=window.navigator)!=null&&t.standalone)}function lD(){return S2()&&document.documentMode===10}function NS(e=de()){return Jm(e)||IS(e)||OS(e)||DS(e)||/windows phone/i.test(e)||CS(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MS(e,t=[]){let n;switch(e){case"Browser":n=T_(de());break;case"Worker":n=`${T_(de())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Hr}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=s=>new Promise((a,l)=>{try{const u=t(s);a(u)}catch(u){l(u)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cD(e,t={}){return ra(e,"GET","/v2/passwordPolicy",$m(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD=6;class fD{constructor(t){var i;const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??hD,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=t.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),r&&(n.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(t,n,i,r){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new S_(this),this.idTokenSubscription=new S_(this),this.beforeStateQueue=new uD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Bn(n)),this._initializationPromise=this.queue(async()=>{var i,r,s;if(!this._deleted&&(this.persistenceManager=await Rs.create(this,t),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((r=this._popupRedirectResolver)!=null&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Fu(this,{idToken:t}),i=await rn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var s;if(nn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,r=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(s=this.redirectUser)==null?void 0:s._redirectEventId,l=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(t);(!a||a===l)&&(u!=null&&u.user)&&(i=u.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Y(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Gu(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=YI()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(nn(this.app))return Promise.reject(Tr(this));const n=t?Cn(t):null;return n&&Y(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Y(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return nn(this.app)?Promise.reject(Tr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return nn(this.app)?Promise.reject(Tr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bn(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await cD(this),n=new fD(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Yo("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await aD(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Bn(t)||this._popupRedirectResolver;Y(n,this,"argument-error"),this.redirectPersistenceManager=await Rs.create(this,[Bn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Y(l,this,"internal-error"),l.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const u=t.addObserver(n,i,r);return()=>{a=!0,u()}}else{const u=t.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=MS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var r;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((r=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var n;if(nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return t!=null&&t.error&&FI(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Zm(e){return Cn(e)}class S_{constructor(t){this.auth=t,this.observer=null,this.addObserver=O2(n=>this.observer=n)}get next(){return Y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mD(e){Wm=e}function pD(e){return Wm.loadJS(e)}function gD(){return Wm.gapiScript}function yD(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _D(e,t){const n=wc(e,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(Or(s,t??{}))return r;Zn(r,"already-initialized")}return n.initialize({options:t})}function vD(e,t){const n=(t==null?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Bn);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function ED(e,t,n){const i=Zm(e);Y(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,s=VS(t),{host:a,port:l}=TD(t),u=l===null?"":`:${l}`,c={url:`${s}//${a}${u}/`},f=Object.freeze({host:a,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){Y(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Y(Or(c,i.config.emulator)&&Or(f,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=c,i.emulatorConfig=f,i.settings.appVerificationDisabledForTesting=!0,jr(a)?(Hm(`${s}//${a}${u}`),qm("Auth",!0)):SD()}function VS(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function TD(e){const t=VS(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:A_(i.substr(s.length+1))}}else{const[s,a]=i.split(":");return{host:s,port:A_(a)}}}function A_(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function SD(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return zn("not implemented")}_getIdTokenResponse(t){return zn("not implemented")}_linkToIdToken(t,n){return zn("not implemented")}_getReauthenticationResolver(t){return zn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ws(e,t){return JI(e,"POST","/v1/accounts:signInWithIdp",$m(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD="http://localhost";class Mr extends xS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Mr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Zn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r,...s}=n;if(!i||!r)return null;const a=new Mr(i,r);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(t){const n=this.buildRequest();return ws(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,ws(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,ws(t,n)}buildRequest(){const t={requestUri:AD,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Qo(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo extends LS{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends Xo{constructor(){super("facebook.com")}static credential(t){return Mr._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return _i.credentialFromTaggedObject(t)}static credentialFromError(t){return _i.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return _i.credential(t.oauthAccessToken)}catch{return null}}}_i.FACEBOOK_SIGN_IN_METHOD="facebook.com";_i.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi extends Xo{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Mr._fromParams({providerId:vi.PROVIDER_ID,signInMethod:vi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return vi.credentialFromTaggedObject(t)}static credentialFromError(t){return vi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return vi.credential(n,i)}catch{return null}}}vi.GOOGLE_SIGN_IN_METHOD="google.com";vi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei extends Xo{constructor(){super("github.com")}static credential(t){return Mr._fromParams({providerId:Ei.PROVIDER_ID,signInMethod:Ei.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ei.credentialFromTaggedObject(t)}static credentialFromError(t){return Ei.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ei.credential(t.oauthAccessToken)}catch{return null}}}Ei.GITHUB_SIGN_IN_METHOD="github.com";Ei.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends Xo{constructor(){super("twitter.com")}static credential(t,n){return Mr._fromParams({providerId:Ti.PROVIDER_ID,signInMethod:Ti.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Ti.credentialFromTaggedObject(t)}static credentialFromError(t){return Ti.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return Ti.credential(n,i)}catch{return null}}}Ti.TWITTER_SIGN_IN_METHOD="twitter.com";Ti.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,r=!1){const s=await rn._fromIdTokenResponse(t,i,r),a=b_(i);return new js({user:s,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const r=b_(i);return new js({user:t,providerId:r,_tokenResponse:i,operationType:n})}}function b_(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku extends wn{constructor(t,n,i,r){super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Ku.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,r){return new Ku(t,n,i,r)}}function US(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Ku._fromErrorAndOperation(e,s,t,i):s})}async function bD(e,t,n=!1){const i=await wo(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return js._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RD(e,t,n=!1){const{auth:i}=e;if(nn(i.app))return Promise.reject(Tr(i));const r="reauthenticate";try{const s=await wo(e,US(i,r,t,e),n);Y(s.idToken,i,"internal-error");const a=Xm(s.idToken);Y(a,i,"internal-error");const{sub:l}=a;return Y(e.uid===l,i,"user-mismatch"),js._forOperation(e,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Zn(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wD(e,t,n=!1){if(nn(e.app))return Promise.reject(Tr(e));const i="signIn",r=await US(e,i,t),s=await js._fromIdTokenResponse(e,i,r);return n||await e._updateCurrentUser(s.user),s}function CD(e,t,n,i){return Cn(e).onIdTokenChanged(t,n,i)}function ID(e,t,n){return Cn(e).beforeAuthStateChanged(t,n)}function DD(e,t,n,i){return Cn(e).onAuthStateChanged(t,n,i)}const Yu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Yu,"1"),this.storage.removeItem(Yu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD=1e3,ND=10;class PS extends kS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=NS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&t(n,r,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});return}const i=t.key;n?this.detachListener():this.stopPolling();const r=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);lD()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,ND):r()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},OD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}PS.type="LOCAL";const MD=PS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS extends kS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}zS.type="SESSION";const BS=zS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VD(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(r=>r.isListeningto(t));if(n)return n;const i=new Cc(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:r,data:s}=n.data,a=this.handlersMap[r];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const l=Array.from(a).map(async c=>c(n.origin,s)),u=await VD(l);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:u})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Cc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,a;return new Promise((l,u)=>{const c=tp("",20);r.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},i);a={messageChannel:r,onMessage(m){const p=m;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(p.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:t,eventId:c,data:n},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(){return window}function LD(e){vn().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(){return typeof vn().WorkerGlobalScope<"u"&&typeof vn().importScripts=="function"}async function UD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function kD(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)==null?void 0:e.controller)||null}function PD(){return jS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS="firebaseLocalStorageDb",zD=1,Qu="firebaseLocalStorage",qS="fbase_key";class Jo{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ic(e,t){return e.transaction([Qu],t?"readwrite":"readonly").objectStore(Qu)}function BD(){const e=indexedDB.deleteDatabase(HS);return new Jo(e).toPromise()}function pd(){const e=indexedDB.open(HS,zD);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(Qu,{keyPath:qS})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(Qu)?t(i):(i.close(),await BD(),t(await pd()))})})}async function R_(e,t,n){const i=Ic(e,!0).put({[qS]:t,value:n});return new Jo(i).toPromise()}async function jD(e,t){const n=Ic(e,!1).get(t),i=await new Jo(n).toPromise();return i===void 0?null:i.value}function w_(e,t){const n=Ic(e,!0).delete(t);return new Jo(n).toPromise()}const HD=800,qD=3;class FS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await pd(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>qD)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return jS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Cc._getInstance(PD()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var n,i;if(this.activeServiceWorker=await UD(),!this.activeServiceWorker)return;this.sender=new xD(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(n=t[0])!=null&&n.fulfilled&&(i=t[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||kD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await pd();return await R_(t,Yu,"1"),await w_(t,Yu),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>R_(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>jD(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>w_(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const s=Ic(r,!1).getAll();return new Jo(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:s}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),HD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}FS.type="LOCAL";const FD=FS;new $o(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GD(e,t){return t?Bn(t):(Y(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep extends xS{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ws(t,this._buildIdpRequest())}_linkToIdToken(t,n){return ws(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return ws(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function KD(e){return wD(e.auth,new ep(e),e.bypassAuthState)}function YD(e){const{auth:t,user:n}=e;return Y(n,t,"internal-error"),RD(n,new ep(e),e.bypassAuthState)}async function QD(e){const{auth:t,user:n}=e;return Y(n,t,"internal-error"),bD(n,new ep(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(t,n,i,r,s=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:a,type:l}=t;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(c){this.reject(c)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return KD;case"linkViaPopup":case"linkViaRedirect":return QD;case"reauthViaPopup":case"reauthViaRedirect":return YD;default:Zn(this.auth,"internal-error")}}resolve(t){Wn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Wn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D=new $o(2e3,1e4);class gs extends GS{constructor(t,n,i,r,s){super(t,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,gs.currentPopupAction&&gs.currentPopupAction.cancel(),gs.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Y(t,this.auth,"internal-error"),t}async onExecution(){Wn(this.filter.length===1,"Popup operations only handle one event");const t=tp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(_n(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(_n(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,gs.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,i;if((i=(n=this.authWindow)==null?void 0:n.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_n(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,$D.get())};t()}}gs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD="pendingRedirect",ru=new Map;class JD extends GS{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=ru.get(this.auth._key());if(!t){try{const i=await ZD(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}ru.set(this.auth._key(),t)}return this.bypassAuthState||ru.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ZD(e,t){const n=eO(t),i=tO(e);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function WD(e,t){ru.set(e._key(),t)}function tO(e){return Bn(e._redirectPersistence)}function eO(e){return iu(XD,e.config.apiKey,e.name)}async function nO(e,t,n=!1){if(nn(e.app))return Promise.reject(Tr(e));const i=Zm(e),r=GD(i,t),a=await new JD(i,r,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,t)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO=10*60*1e3;class rO{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!sO(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!KS(t)){const r=((i=t.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";n.onError(_n(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=iO&&this.cachedEventUids.clear(),this.cachedEventUids.has(C_(t))}saveEventToCache(t){this.cachedEventUids.add(C_(t)),this.lastProcessedEventTime=Date.now()}}function C_(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function KS({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function sO(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return KS(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aO(e,t={}){return ra(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lO=/^https?/;async function uO(e){if(e.config.emulator)return;const{authorizedDomains:t}=await aO(e);for(const n of t)try{if(cO(n))return}catch{}Zn(e,"unauthorized-domain")}function cO(e){const t=dd(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return a.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!lO.test(n))return!1;if(oO.test(e))return i===e;const r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO=new $o(3e4,6e4);function I_(){const e=vn().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function fO(e){return new Promise((t,n)=>{var r,s,a;function i(){I_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{I_(),n(_n(e,"network-request-failed"))},timeout:hO.get()})}if((s=(r=vn().gapi)==null?void 0:r.iframes)!=null&&s.Iframe)t(gapi.iframes.getContext());else if((a=vn().gapi)!=null&&a.load)i();else{const l=yD("iframefcb");return vn()[l]=()=>{gapi.load?i():n(_n(e,"network-request-failed"))},pD(`${gD()}?onload=${l}`).catch(u=>n(u))}}).catch(t=>{throw su=null,t})}let su=null;function dO(e){return su=su||fO(e),su}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO=new $o(5e3,15e3),pO="__/auth/iframe",gO="emulator/auth/iframe",yO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_O=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vO(e){const t=e.config;Y(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Qm(t,gO):`https://${e.config.authDomain}/${pO}`,i={apiKey:t.apiKey,appName:e.name,v:Hr},r=_O.get(e.config.apiHost);r&&(i.eid=r);const s=e._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${Qo(i).slice(1)}`}async function EO(e){const t=await dO(e),n=vn().gapi;return Y(n,e,"internal-error"),t.open({where:document.body,url:vO(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yO,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const a=_n(e,"network-request-failed"),l=vn().setTimeout(()=>{s(a)},mO.get());function u(){vn().clearTimeout(l),r(i)}i.ping(u).then(u,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},SO=500,AO=600,bO="_blank",RO="http://localhost";class D_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function wO(e,t,n,i=SO,r=AO){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const u={...TO,width:i.toString(),height:r.toString(),top:s,left:a},c=de().toLowerCase();n&&(l=wS(c)?bO:n),bS(c)&&(t=t||RO,u.scrollbars="yes");const f=Object.entries(u).reduce((p,[y,C])=>`${p}${y}=${C},`,"");if(oD(c)&&l!=="_self")return CO(t||"",l),new D_(null);const m=window.open(t||"",l,f);Y(m,e,"popup-blocked");try{m.focus()}catch{}return new D_(m)}function CO(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO="__/auth/handler",DO="emulator/auth/handler",OO=encodeURIComponent("fac");async function O_(e,t,n,i,r,s){Y(e.config.authDomain,e,"auth-domain-config-required"),Y(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:Hr,eventId:r};if(t instanceof LS){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",D2(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[f,m]of Object.entries({}))a[f]=m}if(t instanceof Xo){const f=t.getScopes().filter(m=>m!=="");f.length>0&&(a.scopes=f.join(","))}e.tenantId&&(a.tid=e.tenantId);const l=a;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const u=await e._getAppCheckToken(),c=u?`#${OO}=${encodeURIComponent(u)}`:"";return`${NO(e)}?${Qo(l).slice(1)}${c}`}function NO({config:e}){return e.emulator?Qm(e,DO):`https://${e.authDomain}/${IO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ef="webStorageSupport";class MO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=BS,this._completeRedirectFn=nO,this._overrideRedirectResult=WD}async _openPopup(t,n,i,r){var a;Wn((a=this.eventManagers[t._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await O_(t,n,i,dd(),r);return wO(t,s,tp())}async _openRedirect(t,n,i,r){await this._originValidation(t);const s=await O_(t,n,i,dd(),r);return LD(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(Wn(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await EO(t),i=new rO(t);return n.register("authEvent",r=>(Y(r==null?void 0:r.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(ef,{type:ef},r=>{var a;const s=(a=r==null?void 0:r[0])==null?void 0:a[ef];s!==void 0&&n(!!s),Zn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=uO(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return NS()||RS()||Jm()}}const VO=MO;var N_="@firebase/auth",M_="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function UO(e){Nr(new Yi("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=i.options;Y(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:a,authDomain:l,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:MS(e)},c=new dD(i,r,s,u);return vD(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),Nr(new Yi("auth-internal",t=>{const n=Zm(t.getProvider("auth").getImmediate());return(i=>new xO(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),yn(N_,M_,LO(e)),yn(N_,M_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO=5*60,PO=uS("authIdTokenMaxAge")||kO;let V_=null;const zO=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>PO)return;const r=n==null?void 0:n.token;V_!==r&&(V_=r,await fetch(e,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function BO(e=Km()){const t=wc(e,"auth");if(t.isInitialized())return t.getImmediate();const n=_D(e,{popupRedirectResolver:VO,persistence:[FD,MD,BS]}),i=uS("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const a=zO(s.toString());ID(n,a,()=>a(n.currentUser)),CD(n,l=>a(l))}}const r=aS("auth");return r&&ED(n,`http://${r}`),n}function jO(){var e;return((e=document.getElementsByTagName("head"))==null?void 0:e[0])??document}mD({loadJS(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=r=>{const s=_n("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",jO().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});UO("Browser");var x_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Bi,YS;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(E,_){function T(){}T.prototype=_.prototype,E.F=_.prototype,E.prototype=new T,E.prototype.constructor=E,E.D=function(R,w,D){for(var b=Array(arguments.length-2),le=2;le<arguments.length;le++)b[le-2]=arguments[le];return _.prototype[w].apply(R,b)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(E,_,T){T||(T=0);const R=Array(16);if(typeof _=="string")for(var w=0;w<16;++w)R[w]=_.charCodeAt(T++)|_.charCodeAt(T++)<<8|_.charCodeAt(T++)<<16|_.charCodeAt(T++)<<24;else for(w=0;w<16;++w)R[w]=_[T++]|_[T++]<<8|_[T++]<<16|_[T++]<<24;_=E.g[0],T=E.g[1],w=E.g[2];let D=E.g[3],b;b=_+(D^T&(w^D))+R[0]+3614090360&4294967295,_=T+(b<<7&4294967295|b>>>25),b=D+(w^_&(T^w))+R[1]+3905402710&4294967295,D=_+(b<<12&4294967295|b>>>20),b=w+(T^D&(_^T))+R[2]+606105819&4294967295,w=D+(b<<17&4294967295|b>>>15),b=T+(_^w&(D^_))+R[3]+3250441966&4294967295,T=w+(b<<22&4294967295|b>>>10),b=_+(D^T&(w^D))+R[4]+4118548399&4294967295,_=T+(b<<7&4294967295|b>>>25),b=D+(w^_&(T^w))+R[5]+1200080426&4294967295,D=_+(b<<12&4294967295|b>>>20),b=w+(T^D&(_^T))+R[6]+2821735955&4294967295,w=D+(b<<17&4294967295|b>>>15),b=T+(_^w&(D^_))+R[7]+4249261313&4294967295,T=w+(b<<22&4294967295|b>>>10),b=_+(D^T&(w^D))+R[8]+1770035416&4294967295,_=T+(b<<7&4294967295|b>>>25),b=D+(w^_&(T^w))+R[9]+2336552879&4294967295,D=_+(b<<12&4294967295|b>>>20),b=w+(T^D&(_^T))+R[10]+4294925233&4294967295,w=D+(b<<17&4294967295|b>>>15),b=T+(_^w&(D^_))+R[11]+2304563134&4294967295,T=w+(b<<22&4294967295|b>>>10),b=_+(D^T&(w^D))+R[12]+1804603682&4294967295,_=T+(b<<7&4294967295|b>>>25),b=D+(w^_&(T^w))+R[13]+4254626195&4294967295,D=_+(b<<12&4294967295|b>>>20),b=w+(T^D&(_^T))+R[14]+2792965006&4294967295,w=D+(b<<17&4294967295|b>>>15),b=T+(_^w&(D^_))+R[15]+1236535329&4294967295,T=w+(b<<22&4294967295|b>>>10),b=_+(w^D&(T^w))+R[1]+4129170786&4294967295,_=T+(b<<5&4294967295|b>>>27),b=D+(T^w&(_^T))+R[6]+3225465664&4294967295,D=_+(b<<9&4294967295|b>>>23),b=w+(_^T&(D^_))+R[11]+643717713&4294967295,w=D+(b<<14&4294967295|b>>>18),b=T+(D^_&(w^D))+R[0]+3921069994&4294967295,T=w+(b<<20&4294967295|b>>>12),b=_+(w^D&(T^w))+R[5]+3593408605&4294967295,_=T+(b<<5&4294967295|b>>>27),b=D+(T^w&(_^T))+R[10]+38016083&4294967295,D=_+(b<<9&4294967295|b>>>23),b=w+(_^T&(D^_))+R[15]+3634488961&4294967295,w=D+(b<<14&4294967295|b>>>18),b=T+(D^_&(w^D))+R[4]+3889429448&4294967295,T=w+(b<<20&4294967295|b>>>12),b=_+(w^D&(T^w))+R[9]+568446438&4294967295,_=T+(b<<5&4294967295|b>>>27),b=D+(T^w&(_^T))+R[14]+3275163606&4294967295,D=_+(b<<9&4294967295|b>>>23),b=w+(_^T&(D^_))+R[3]+4107603335&4294967295,w=D+(b<<14&4294967295|b>>>18),b=T+(D^_&(w^D))+R[8]+1163531501&4294967295,T=w+(b<<20&4294967295|b>>>12),b=_+(w^D&(T^w))+R[13]+2850285829&4294967295,_=T+(b<<5&4294967295|b>>>27),b=D+(T^w&(_^T))+R[2]+4243563512&4294967295,D=_+(b<<9&4294967295|b>>>23),b=w+(_^T&(D^_))+R[7]+1735328473&4294967295,w=D+(b<<14&4294967295|b>>>18),b=T+(D^_&(w^D))+R[12]+2368359562&4294967295,T=w+(b<<20&4294967295|b>>>12),b=_+(T^w^D)+R[5]+4294588738&4294967295,_=T+(b<<4&4294967295|b>>>28),b=D+(_^T^w)+R[8]+2272392833&4294967295,D=_+(b<<11&4294967295|b>>>21),b=w+(D^_^T)+R[11]+1839030562&4294967295,w=D+(b<<16&4294967295|b>>>16),b=T+(w^D^_)+R[14]+4259657740&4294967295,T=w+(b<<23&4294967295|b>>>9),b=_+(T^w^D)+R[1]+2763975236&4294967295,_=T+(b<<4&4294967295|b>>>28),b=D+(_^T^w)+R[4]+1272893353&4294967295,D=_+(b<<11&4294967295|b>>>21),b=w+(D^_^T)+R[7]+4139469664&4294967295,w=D+(b<<16&4294967295|b>>>16),b=T+(w^D^_)+R[10]+3200236656&4294967295,T=w+(b<<23&4294967295|b>>>9),b=_+(T^w^D)+R[13]+681279174&4294967295,_=T+(b<<4&4294967295|b>>>28),b=D+(_^T^w)+R[0]+3936430074&4294967295,D=_+(b<<11&4294967295|b>>>21),b=w+(D^_^T)+R[3]+3572445317&4294967295,w=D+(b<<16&4294967295|b>>>16),b=T+(w^D^_)+R[6]+76029189&4294967295,T=w+(b<<23&4294967295|b>>>9),b=_+(T^w^D)+R[9]+3654602809&4294967295,_=T+(b<<4&4294967295|b>>>28),b=D+(_^T^w)+R[12]+3873151461&4294967295,D=_+(b<<11&4294967295|b>>>21),b=w+(D^_^T)+R[15]+530742520&4294967295,w=D+(b<<16&4294967295|b>>>16),b=T+(w^D^_)+R[2]+3299628645&4294967295,T=w+(b<<23&4294967295|b>>>9),b=_+(w^(T|~D))+R[0]+4096336452&4294967295,_=T+(b<<6&4294967295|b>>>26),b=D+(T^(_|~w))+R[7]+1126891415&4294967295,D=_+(b<<10&4294967295|b>>>22),b=w+(_^(D|~T))+R[14]+2878612391&4294967295,w=D+(b<<15&4294967295|b>>>17),b=T+(D^(w|~_))+R[5]+4237533241&4294967295,T=w+(b<<21&4294967295|b>>>11),b=_+(w^(T|~D))+R[12]+1700485571&4294967295,_=T+(b<<6&4294967295|b>>>26),b=D+(T^(_|~w))+R[3]+2399980690&4294967295,D=_+(b<<10&4294967295|b>>>22),b=w+(_^(D|~T))+R[10]+4293915773&4294967295,w=D+(b<<15&4294967295|b>>>17),b=T+(D^(w|~_))+R[1]+2240044497&4294967295,T=w+(b<<21&4294967295|b>>>11),b=_+(w^(T|~D))+R[8]+1873313359&4294967295,_=T+(b<<6&4294967295|b>>>26),b=D+(T^(_|~w))+R[15]+4264355552&4294967295,D=_+(b<<10&4294967295|b>>>22),b=w+(_^(D|~T))+R[6]+2734768916&4294967295,w=D+(b<<15&4294967295|b>>>17),b=T+(D^(w|~_))+R[13]+1309151649&4294967295,T=w+(b<<21&4294967295|b>>>11),b=_+(w^(T|~D))+R[4]+4149444226&4294967295,_=T+(b<<6&4294967295|b>>>26),b=D+(T^(_|~w))+R[11]+3174756917&4294967295,D=_+(b<<10&4294967295|b>>>22),b=w+(_^(D|~T))+R[2]+718787259&4294967295,w=D+(b<<15&4294967295|b>>>17),b=T+(D^(w|~_))+R[9]+3951481745&4294967295,E.g[0]=E.g[0]+_&4294967295,E.g[1]=E.g[1]+(w+(b<<21&4294967295|b>>>11))&4294967295,E.g[2]=E.g[2]+w&4294967295,E.g[3]=E.g[3]+D&4294967295}i.prototype.v=function(E,_){_===void 0&&(_=E.length);const T=_-this.blockSize,R=this.C;let w=this.h,D=0;for(;D<_;){if(w==0)for(;D<=T;)r(this,E,D),D+=this.blockSize;if(typeof E=="string"){for(;D<_;)if(R[w++]=E.charCodeAt(D++),w==this.blockSize){r(this,R),w=0;break}}else for(;D<_;)if(R[w++]=E[D++],w==this.blockSize){r(this,R),w=0;break}}this.h=w,this.o+=_},i.prototype.A=function(){var E=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);E[0]=128;for(var _=1;_<E.length-8;++_)E[_]=0;_=this.o*8;for(var T=E.length-8;T<E.length;++T)E[T]=_&255,_/=256;for(this.v(E),E=Array(16),_=0,T=0;T<4;++T)for(let R=0;R<32;R+=8)E[_++]=this.g[T]>>>R&255;return E};function s(E,_){var T=l;return Object.prototype.hasOwnProperty.call(T,E)?T[E]:T[E]=_(E)}function a(E,_){this.h=_;const T=[];let R=!0;for(let w=E.length-1;w>=0;w--){const D=E[w]|0;R&&D==_||(T[w]=D,R=!1)}this.g=T}var l={};function u(E){return-128<=E&&E<128?s(E,function(_){return new a([_|0],_<0?-1:0)}):new a([E|0],E<0?-1:0)}function c(E){if(isNaN(E)||!isFinite(E))return m;if(E<0)return M(c(-E));const _=[];let T=1;for(let R=0;E>=T;R++)_[R]=E/T|0,T*=4294967296;return new a(_,0)}function f(E,_){if(E.length==0)throw Error("number format error: empty string");if(_=_||10,_<2||36<_)throw Error("radix out of range: "+_);if(E.charAt(0)=="-")return M(f(E.substring(1),_));if(E.indexOf("-")>=0)throw Error('number format error: interior "-" character');const T=c(Math.pow(_,8));let R=m;for(let D=0;D<E.length;D+=8){var w=Math.min(8,E.length-D);const b=parseInt(E.substring(D,D+w),_);w<8?(w=c(Math.pow(_,w)),R=R.j(w).add(c(b))):(R=R.j(T),R=R.add(c(b)))}return R}var m=u(0),p=u(1),y=u(16777216);e=a.prototype,e.m=function(){if(N(this))return-M(this).m();let E=0,_=1;for(let T=0;T<this.g.length;T++){const R=this.i(T);E+=(R>=0?R:4294967296+R)*_,_*=4294967296}return E},e.toString=function(E){if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(C(this))return"0";if(N(this))return"-"+M(this).toString(E);const _=c(Math.pow(E,6));var T=this;let R="";for(;;){const w=I(T,_).g;T=S(T,w.j(_));let D=((T.g.length>0?T.g[0]:T.h)>>>0).toString(E);if(T=w,C(T))return D+R;for(;D.length<6;)D="0"+D;R=D+R}},e.i=function(E){return E<0?0:E<this.g.length?this.g[E]:this.h};function C(E){if(E.h!=0)return!1;for(let _=0;_<E.g.length;_++)if(E.g[_]!=0)return!1;return!0}function N(E){return E.h==-1}e.l=function(E){return E=S(this,E),N(E)?-1:C(E)?0:1};function M(E){const _=E.g.length,T=[];for(let R=0;R<_;R++)T[R]=~E.g[R];return new a(T,~E.h).add(p)}e.abs=function(){return N(this)?M(this):this},e.add=function(E){const _=Math.max(this.g.length,E.g.length),T=[];let R=0;for(let w=0;w<=_;w++){let D=R+(this.i(w)&65535)+(E.i(w)&65535),b=(D>>>16)+(this.i(w)>>>16)+(E.i(w)>>>16);R=b>>>16,D&=65535,b&=65535,T[w]=b<<16|D}return new a(T,T[T.length-1]&-2147483648?-1:0)};function S(E,_){return E.add(M(_))}e.j=function(E){if(C(this)||C(E))return m;if(N(this))return N(E)?M(this).j(M(E)):M(M(this).j(E));if(N(E))return M(this.j(M(E)));if(this.l(y)<0&&E.l(y)<0)return c(this.m()*E.m());const _=this.g.length+E.g.length,T=[];for(var R=0;R<2*_;R++)T[R]=0;for(R=0;R<this.g.length;R++)for(let w=0;w<E.g.length;w++){const D=this.i(R)>>>16,b=this.i(R)&65535,le=E.i(w)>>>16,Ze=E.i(w)&65535;T[2*R+2*w]+=b*Ze,v(T,2*R+2*w),T[2*R+2*w+1]+=D*Ze,v(T,2*R+2*w+1),T[2*R+2*w+1]+=b*le,v(T,2*R+2*w+1),T[2*R+2*w+2]+=D*le,v(T,2*R+2*w+2)}for(E=0;E<_;E++)T[E]=T[2*E+1]<<16|T[2*E];for(E=_;E<2*_;E++)T[E]=0;return new a(T,0)};function v(E,_){for(;(E[_]&65535)!=E[_];)E[_+1]+=E[_]>>>16,E[_]&=65535,_++}function A(E,_){this.g=E,this.h=_}function I(E,_){if(C(_))throw Error("division by zero");if(C(E))return new A(m,m);if(N(E))return _=I(M(E),_),new A(M(_.g),M(_.h));if(N(_))return _=I(E,M(_)),new A(M(_.g),_.h);if(E.g.length>30){if(N(E)||N(_))throw Error("slowDivide_ only works with positive integers.");for(var T=p,R=_;R.l(E)<=0;)T=k(T),R=k(R);var w=j(T,1),D=j(R,1);for(R=j(R,2),T=j(T,2);!C(R);){var b=D.add(R);b.l(E)<=0&&(w=w.add(T),D=b),R=j(R,1),T=j(T,1)}return _=S(E,w.j(_)),new A(w,_)}for(w=m;E.l(_)>=0;){for(T=Math.max(1,Math.floor(E.m()/_.m())),R=Math.ceil(Math.log(T)/Math.LN2),R=R<=48?1:Math.pow(2,R-48),D=c(T),b=D.j(_);N(b)||b.l(E)>0;)T-=R,D=c(T),b=D.j(_);C(D)&&(D=p),w=w.add(D),E=S(E,b)}return new A(w,E)}e.B=function(E){return I(this,E).h},e.and=function(E){const _=Math.max(this.g.length,E.g.length),T=[];for(let R=0;R<_;R++)T[R]=this.i(R)&E.i(R);return new a(T,this.h&E.h)},e.or=function(E){const _=Math.max(this.g.length,E.g.length),T=[];for(let R=0;R<_;R++)T[R]=this.i(R)|E.i(R);return new a(T,this.h|E.h)},e.xor=function(E){const _=Math.max(this.g.length,E.g.length),T=[];for(let R=0;R<_;R++)T[R]=this.i(R)^E.i(R);return new a(T,this.h^E.h)};function k(E){const _=E.g.length+1,T=[];for(let R=0;R<_;R++)T[R]=E.i(R)<<1|E.i(R-1)>>>31;return new a(T,E.h)}function j(E,_){const T=_>>5;_%=32;const R=E.g.length-T,w=[];for(let D=0;D<R;D++)w[D]=_>0?E.i(D+T)>>>_|E.i(D+T+1)<<32-_:E.i(D+T);return new a(w,E.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,YS=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=f,Bi=a}).apply(typeof x_<"u"?x_:typeof self<"u"?self:typeof window<"u"?window:{});var Vl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var QS,Pa,$S,au,gd,XS,JS,ZS;(function(){var e,t=Object.defineProperty;function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vl=="object"&&Vl];for(var h=0;h<o.length;++h){var d=o[h];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var i=n(this);function r(o,h){if(h)t:{var d=i;o=o.split(".");for(var g=0;g<o.length-1;g++){var O=o[g];if(!(O in d))break t;d=d[O]}o=o[o.length-1],g=d[o],h=h(g),h!=g&&h!=null&&t(d,o,{configurable:!0,writable:!0,value:h})}}r("Symbol.dispose",function(o){return o||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(o){return o||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(o){return o||function(h){var d=[],g;for(g in h)Object.prototype.hasOwnProperty.call(h,g)&&d.push([g,h[g]]);return d}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(o){var h=typeof o;return h=="object"&&o!=null||h=="function"}function u(o,h,d){return o.call.apply(o.bind,arguments)}function c(o,h,d){return c=u,c.apply(null,arguments)}function f(o,h){var d=Array.prototype.slice.call(arguments,1);return function(){var g=d.slice();return g.push.apply(g,arguments),o.apply(this,g)}}function m(o,h){function d(){}d.prototype=h.prototype,o.Z=h.prototype,o.prototype=new d,o.prototype.constructor=o,o.Ob=function(g,O,V){for(var B=Array(arguments.length-2),W=2;W<arguments.length;W++)B[W-2]=arguments[W];return h.prototype[O].apply(g,B)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?o=>o&&AsyncContext.Snapshot.wrap(o):o=>o;function y(o){const h=o.length;if(h>0){const d=Array(h);for(let g=0;g<h;g++)d[g]=o[g];return d}return[]}function C(o,h){for(let g=1;g<arguments.length;g++){const O=arguments[g];var d=typeof O;if(d=d!="object"?d:O?Array.isArray(O)?"array":d:"null",d=="array"||d=="object"&&typeof O.length=="number"){d=o.length||0;const V=O.length||0;o.length=d+V;for(let B=0;B<V;B++)o[d+B]=O[B]}else o.push(O)}}class N{constructor(h,d){this.i=h,this.j=d,this.h=0,this.g=null}get(){let h;return this.h>0?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function M(o){a.setTimeout(()=>{throw o},0)}function S(){var o=E;let h=null;return o.g&&(h=o.g,o.g=o.g.next,o.g||(o.h=null),h.next=null),h}class v{constructor(){this.h=this.g=null}add(h,d){const g=A.get();g.set(h,d),this.h?this.h.next=g:this.g=g,this.h=g}}var A=new N(()=>new I,o=>o.reset());class I{constructor(){this.next=this.g=this.h=null}set(h,d){this.h=h,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}let k,j=!1,E=new v,_=()=>{const o=Promise.resolve(void 0);k=()=>{o.then(T)}};function T(){for(var o;o=S();){try{o.h.call(o.g)}catch(d){M(d)}var h=A;h.j(o),h.h<100&&(h.h++,o.next=h.g,h.g=o)}j=!1}function R(){this.u=this.u,this.C=this.C}R.prototype.u=!1,R.prototype.dispose=function(){this.u||(this.u=!0,this.N())},R.prototype[Symbol.dispose]=function(){this.dispose()},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function w(o,h){this.type=o,this.g=this.target=h,this.defaultPrevented=!1}w.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var o=!1,h=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const d=()=>{};a.addEventListener("test",d,h),a.removeEventListener("test",d,h)}catch{}return o}();function b(o){return/^[\s\xa0]*$/.test(o)}function le(o,h){w.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o&&this.init(o,h)}m(le,w),le.prototype.init=function(o,h){const d=this.type=o.type,g=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;this.target=o.target||o.srcElement,this.g=h,h=o.relatedTarget,h||(d=="mouseover"?h=o.fromElement:d=="mouseout"&&(h=o.toElement)),this.relatedTarget=h,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=o.pointerType,this.state=o.state,this.i=o,o.defaultPrevented&&le.Z.h.call(this)},le.prototype.h=function(){le.Z.h.call(this);const o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var Ze="closure_listenable_"+(Math.random()*1e6|0),H=0;function tt(o,h,d,g,O){this.listener=o,this.proxy=null,this.src=h,this.type=d,this.capture=!!g,this.ha=O,this.key=++H,this.da=this.fa=!1}function $(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function _t(o,h,d){for(const g in o)h.call(d,o[g],g,o)}function kt(o,h){for(const d in o)h.call(void 0,o[d],d,o)}function nr(o){const h={};for(const d in o)h[d]=o[d];return h}const ir="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Fr(o,h){let d,g;for(let O=1;O<arguments.length;O++){g=arguments[O];for(d in g)o[d]=g[d];for(let V=0;V<ir.length;V++)d=ir[V],Object.prototype.hasOwnProperty.call(g,d)&&(o[d]=g[d])}}function Be(o){this.src=o,this.g={},this.h=0}Be.prototype.add=function(o,h,d,g,O){const V=o.toString();o=this.g[V],o||(o=this.g[V]=[],this.h++);const B=Bc(o,h,g,O);return B>-1?(h=o[B],d||(h.fa=!1)):(h=new tt(h,this.src,V,!!g,O),h.fa=d,o.push(h)),h};function ii(o,h){const d=h.type;if(d in o.g){var g=o.g[d],O=Array.prototype.indexOf.call(g,h,void 0),V;(V=O>=0)&&Array.prototype.splice.call(g,O,1),V&&($(h),o.g[d].length==0&&(delete o.g[d],o.h--))}}function Bc(o,h,d,g){for(let O=0;O<o.length;++O){const V=o[O];if(!V.da&&V.listener==h&&V.capture==!!d&&V.ha==g)return O}return-1}var jc="closure_lm_"+(Math.random()*1e6|0),Hc={};function Cp(o,h,d,g,O){if(Array.isArray(h)){for(let V=0;V<h.length;V++)Cp(o,h[V],d,g,O);return null}return d=Op(d),o&&o[Ze]?o.J(h,d,l(g)?!!g.capture:!1,O):i1(o,h,d,!1,g,O)}function i1(o,h,d,g,O,V){if(!h)throw Error("Invalid event type");const B=l(O)?!!O.capture:!!O;let W=Fc(o);if(W||(o[jc]=W=new Be(o)),d=W.add(h,d,g,B,V),d.proxy)return d;if(g=r1(),d.proxy=g,g.src=o,g.listener=d,o.addEventListener)D||(O=B),O===void 0&&(O=!1),o.addEventListener(h.toString(),g,O);else if(o.attachEvent)o.attachEvent(Dp(h.toString()),g);else if(o.addListener&&o.removeListener)o.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return d}function r1(){function o(d){return h.call(o.src,o.listener,d)}const h=s1;return o}function Ip(o,h,d,g,O){if(Array.isArray(h))for(var V=0;V<h.length;V++)Ip(o,h[V],d,g,O);else g=l(g)?!!g.capture:!!g,d=Op(d),o&&o[Ze]?(o=o.i,V=String(h).toString(),V in o.g&&(h=o.g[V],d=Bc(h,d,g,O),d>-1&&($(h[d]),Array.prototype.splice.call(h,d,1),h.length==0&&(delete o.g[V],o.h--)))):o&&(o=Fc(o))&&(h=o.g[h.toString()],o=-1,h&&(o=Bc(h,d,g,O)),(d=o>-1?h[o]:null)&&qc(d))}function qc(o){if(typeof o!="number"&&o&&!o.da){var h=o.src;if(h&&h[Ze])ii(h.i,o);else{var d=o.type,g=o.proxy;h.removeEventListener?h.removeEventListener(d,g,o.capture):h.detachEvent?h.detachEvent(Dp(d),g):h.addListener&&h.removeListener&&h.removeListener(g),(d=Fc(h))?(ii(d,o),d.h==0&&(d.src=null,h[jc]=null)):$(o)}}}function Dp(o){return o in Hc?Hc[o]:Hc[o]="on"+o}function s1(o,h){if(o.da)o=!0;else{h=new le(h,this);const d=o.listener,g=o.ha||o.src;o.fa&&qc(o),o=d.call(g,h)}return o}function Fc(o){return o=o[jc],o instanceof Be?o:null}var Gc="__closure_events_fn_"+(Math.random()*1e9>>>0);function Op(o){return typeof o=="function"?o:(o[Gc]||(o[Gc]=function(h){return o.handleEvent(h)}),o[Gc])}function ue(){R.call(this),this.i=new Be(this),this.M=this,this.G=null}m(ue,R),ue.prototype[Ze]=!0,ue.prototype.removeEventListener=function(o,h,d,g){Ip(this,o,h,d,g)};function me(o,h){var d,g=o.G;if(g)for(d=[];g;g=g.G)d.push(g);if(o=o.M,g=h.type||h,typeof h=="string")h=new w(h,o);else if(h instanceof w)h.target=h.target||o;else{var O=h;h=new w(g,o),Fr(h,O)}O=!0;let V,B;if(d)for(B=d.length-1;B>=0;B--)V=h.g=d[B],O=il(V,g,!0,h)&&O;if(V=h.g=o,O=il(V,g,!0,h)&&O,O=il(V,g,!1,h)&&O,d)for(B=0;B<d.length;B++)V=h.g=d[B],O=il(V,g,!1,h)&&O}ue.prototype.N=function(){if(ue.Z.N.call(this),this.i){var o=this.i;for(const h in o.g){const d=o.g[h];for(let g=0;g<d.length;g++)$(d[g]);delete o.g[h],o.h--}}this.G=null},ue.prototype.J=function(o,h,d,g){return this.i.add(String(o),h,!1,d,g)},ue.prototype.K=function(o,h,d,g){return this.i.add(String(o),h,!0,d,g)};function il(o,h,d,g){if(h=o.i.g[String(h)],!h)return!0;h=h.concat();let O=!0;for(let V=0;V<h.length;++V){const B=h[V];if(B&&!B.da&&B.capture==d){const W=B.listener,Gt=B.ha||B.src;B.fa&&ii(o.i,B),O=W.call(Gt,g)!==!1&&O}}return O&&!g.defaultPrevented}function a1(o,h){if(typeof o!="function")if(o&&typeof o.handleEvent=="function")o=c(o.handleEvent,o);else throw Error("Invalid listener argument");return Number(h)>2147483647?-1:a.setTimeout(o,h||0)}function Np(o){o.g=a1(()=>{o.g=null,o.i&&(o.i=!1,Np(o))},o.l);const h=o.h;o.h=null,o.m.apply(null,h)}class o1 extends R{constructor(h,d){super(),this.m=h,this.l=d,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:Np(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function la(o){R.call(this),this.h=o,this.g={}}m(la,R);var Mp=[];function Vp(o){_t(o.g,function(h,d){this.g.hasOwnProperty(d)&&qc(h)},o),o.g={}}la.prototype.N=function(){la.Z.N.call(this),Vp(this)},la.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Kc=a.JSON.stringify,l1=a.JSON.parse,u1=class{stringify(o){return a.JSON.stringify(o,void 0)}parse(o){return a.JSON.parse(o,void 0)}};function xp(){}function Lp(){}var ua={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Yc(){w.call(this,"d")}m(Yc,w);function Qc(){w.call(this,"c")}m(Qc,w);var rr={},Up=null;function rl(){return Up=Up||new ue}rr.Ia="serverreachability";function kp(o){w.call(this,rr.Ia,o)}m(kp,w);function ca(o){const h=rl();me(h,new kp(h))}rr.STAT_EVENT="statevent";function Pp(o,h){w.call(this,rr.STAT_EVENT,o),this.stat=h}m(Pp,w);function pe(o){const h=rl();me(h,new Pp(h,o))}rr.Ja="timingevent";function zp(o,h){w.call(this,rr.Ja,o),this.size=h}m(zp,w);function ha(o,h){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){o()},h)}function fa(){this.g=!0}fa.prototype.ua=function(){this.g=!1};function c1(o,h,d,g,O,V){o.info(function(){if(o.g)if(V){var B="",W=V.split("&");for(let gt=0;gt<W.length;gt++){var Gt=W[gt].split("=");if(Gt.length>1){const Xt=Gt[0];Gt=Gt[1];const un=Xt.split("_");B=un.length>=2&&un[1]=="type"?B+(Xt+"="+Gt+"&"):B+(Xt+"=redacted&")}}}else B=null;else B=V;return"XMLHTTP REQ ("+g+") [attempt "+O+"]: "+h+`
`+d+`
`+B})}function h1(o,h,d,g,O,V,B){o.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+O+"]: "+h+`
`+d+`
`+V+" "+B})}function Gr(o,h,d,g){o.info(function(){return"XMLHTTP TEXT ("+h+"): "+d1(o,d)+(g?" "+g:"")})}function f1(o,h){o.info(function(){return"TIMEOUT: "+h})}fa.prototype.info=function(){};function d1(o,h){if(!o.g)return h;if(!h)return null;try{const V=JSON.parse(h);if(V){for(o=0;o<V.length;o++)if(Array.isArray(V[o])){var d=V[o];if(!(d.length<2)){var g=d[1];if(Array.isArray(g)&&!(g.length<1)){var O=g[0];if(O!="noop"&&O!="stop"&&O!="close")for(let B=1;B<g.length;B++)g[B]=""}}}}return Kc(V)}catch{return h}}var sl={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Bp={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},jp;function $c(){}m($c,xp),$c.prototype.g=function(){return new XMLHttpRequest},jp=new $c;function da(o){return encodeURIComponent(String(o))}function m1(o){var h=1;o=o.split(":");const d=[];for(;h>0&&o.length;)d.push(o.shift()),h--;return o.length&&d.push(o.join(":")),d}function ri(o,h,d,g){this.j=o,this.i=h,this.l=d,this.S=g||1,this.V=new la(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Hp}function Hp(){this.i=null,this.g="",this.h=!1}var qp={},Xc={};function Jc(o,h,d){o.M=1,o.A=ol(ln(h)),o.u=d,o.R=!0,Fp(o,null)}function Fp(o,h){o.F=Date.now(),al(o),o.B=ln(o.A);var d=o.B,g=o.S;Array.isArray(g)||(g=[String(g)]),ig(d.i,"t",g),o.C=0,d=o.j.L,o.h=new Hp,o.g=Tg(o.j,d?h:null,!o.u),o.P>0&&(o.O=new o1(c(o.Y,o,o.g),o.P)),h=o.V,d=o.g,g=o.ba;var O="readystatechange";Array.isArray(O)||(O&&(Mp[0]=O.toString()),O=Mp);for(let V=0;V<O.length;V++){const B=Cp(d,O[V],g||h.handleEvent,!1,h.h||h);if(!B)break;h.g[B.key]=B}h=o.J?nr(o.J):{},o.u?(o.v||(o.v="POST"),h["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.B,o.v,o.u,h)):(o.v="GET",o.g.ea(o.B,o.v,null,h)),ca(),c1(o.i,o.v,o.B,o.l,o.S,o.u)}ri.prototype.ba=function(o){o=o.target;const h=this.O;h&&oi(o)==3?h.j():this.Y(o)},ri.prototype.Y=function(o){try{if(o==this.g)t:{const W=oi(this.g),Gt=this.g.ya(),gt=this.g.ca();if(!(W<3)&&(W!=3||this.g&&(this.h.h||this.g.la()||cg(this.g)))){this.K||W!=4||Gt==7||(Gt==8||gt<=0?ca(3):ca(2)),Zc(this);var h=this.g.ca();this.X=h;var d=p1(this);if(this.o=h==200,h1(this.i,this.v,this.B,this.l,this.S,W,h),this.o){if(this.U&&!this.L){e:{if(this.g){var g,O=this.g;if((g=O.g?O.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(g)){var V=g;break e}}V=null}if(o=V)Gr(this.i,this.l,o,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Wc(this,o);else{this.o=!1,this.m=3,pe(12),sr(this),ma(this);break t}}if(this.R){o=!0;let Xt;for(;!this.K&&this.C<d.length;)if(Xt=g1(this,d),Xt==Xc){W==4&&(this.m=4,pe(14),o=!1),Gr(this.i,this.l,null,"[Incomplete Response]");break}else if(Xt==qp){this.m=4,pe(15),Gr(this.i,this.l,d,"[Invalid Chunk]"),o=!1;break}else Gr(this.i,this.l,Xt,null),Wc(this,Xt);if(Gp(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),W!=4||d.length!=0||this.h.h||(this.m=1,pe(16),o=!1),this.o=this.o&&o,!o)Gr(this.i,this.l,d,"[Invalid Chunked Response]"),sr(this),ma(this);else if(d.length>0&&!this.W){this.W=!0;var B=this.j;B.g==this&&B.aa&&!B.P&&(B.j.info("Great, no buffering proxy detected. Bytes received: "+d.length),oh(B),B.P=!0,pe(11))}}else Gr(this.i,this.l,d,null),Wc(this,d);W==4&&sr(this),this.o&&!this.K&&(W==4?yg(this.j,this):(this.o=!1,al(this)))}else O1(this.g),h==400&&d.indexOf("Unknown SID")>0?(this.m=3,pe(12)):(this.m=0,pe(13)),sr(this),ma(this)}}}catch{}finally{}};function p1(o){if(!Gp(o))return o.g.la();const h=cg(o.g);if(h==="")return"";let d="";const g=h.length,O=oi(o.g)==4;if(!o.h.i){if(typeof TextDecoder>"u")return sr(o),ma(o),"";o.h.i=new a.TextDecoder}for(let V=0;V<g;V++)o.h.h=!0,d+=o.h.i.decode(h[V],{stream:!(O&&V==g-1)});return h.length=0,o.h.g+=d,o.C=0,o.h.g}function Gp(o){return o.g?o.v=="GET"&&o.M!=2&&o.j.Aa:!1}function g1(o,h){var d=o.C,g=h.indexOf(`
`,d);return g==-1?Xc:(d=Number(h.substring(d,g)),isNaN(d)?qp:(g+=1,g+d>h.length?Xc:(h=h.slice(g,g+d),o.C=g+d,h)))}ri.prototype.cancel=function(){this.K=!0,sr(this)};function al(o){o.T=Date.now()+o.H,Kp(o,o.H)}function Kp(o,h){if(o.D!=null)throw Error("WatchDog timer not null");o.D=ha(c(o.aa,o),h)}function Zc(o){o.D&&(a.clearTimeout(o.D),o.D=null)}ri.prototype.aa=function(){this.D=null;const o=Date.now();o-this.T>=0?(f1(this.i,this.B),this.M!=2&&(ca(),pe(17)),sr(this),this.m=2,ma(this)):Kp(this,this.T-o)};function ma(o){o.j.I==0||o.K||yg(o.j,o)}function sr(o){Zc(o);var h=o.O;h&&typeof h.dispose=="function"&&h.dispose(),o.O=null,Vp(o.V),o.g&&(h=o.g,o.g=null,h.abort(),h.dispose())}function Wc(o,h){try{var d=o.j;if(d.I!=0&&(d.g==o||th(d.h,o))){if(!o.L&&th(d.h,o)&&d.I==3){try{var g=d.Ba.g.parse(h)}catch{g=null}if(Array.isArray(g)&&g.length==3){var O=g;if(O[0]==0){t:if(!d.v){if(d.g)if(d.g.F+3e3<o.F)fl(d),cl(d);else break t;ah(d),pe(18)}}else d.xa=O[1],0<d.xa-d.K&&O[2]<37500&&d.F&&d.A==0&&!d.C&&(d.C=ha(c(d.Va,d),6e3));$p(d.h)<=1&&d.ta&&(d.ta=void 0)}else or(d,11)}else if((o.L||d.g==o)&&fl(d),!b(h))for(O=d.Ba.g.parse(h),h=0;h<O.length;h++){let gt=O[h];const Xt=gt[0];if(!(Xt<=d.K))if(d.K=Xt,gt=gt[1],d.I==2)if(gt[0]=="c"){d.M=gt[1],d.ba=gt[2];const un=gt[3];un!=null&&(d.ka=un,d.j.info("VER="+d.ka));const lr=gt[4];lr!=null&&(d.za=lr,d.j.info("SVER="+d.za));const li=gt[5];li!=null&&typeof li=="number"&&li>0&&(g=1.5*li,d.O=g,d.j.info("backChannelRequestTimeoutMs_="+g)),g=d;const ui=o.g;if(ui){const ml=ui.g?ui.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ml){var V=g.h;V.g||ml.indexOf("spdy")==-1&&ml.indexOf("quic")==-1&&ml.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(eh(V,V.h),V.h=null))}if(g.G){const lh=ui.g?ui.g.getResponseHeader("X-HTTP-Session-Id"):null;lh&&(g.wa=lh,Et(g.J,g.G,lh))}}d.I=3,d.l&&d.l.ra(),d.aa&&(d.T=Date.now()-o.F,d.j.info("Handshake RTT: "+d.T+"ms")),g=d;var B=o;if(g.na=Eg(g,g.L?g.ba:null,g.W),B.L){Xp(g.h,B);var W=B,Gt=g.O;Gt&&(W.H=Gt),W.D&&(Zc(W),al(W)),g.g=B}else pg(g);d.i.length>0&&hl(d)}else gt[0]!="stop"&&gt[0]!="close"||or(d,7);else d.I==3&&(gt[0]=="stop"||gt[0]=="close"?gt[0]=="stop"?or(d,7):sh(d):gt[0]!="noop"&&d.l&&d.l.qa(gt),d.A=0)}}ca(4)}catch{}}var y1=class{constructor(o,h){this.g=o,this.map=h}};function Yp(o){this.l=o||10,a.PerformanceNavigationTiming?(o=a.performance.getEntriesByType("navigation"),o=o.length>0&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Qp(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function $p(o){return o.h?1:o.g?o.g.size:0}function th(o,h){return o.h?o.h==h:o.g?o.g.has(h):!1}function eh(o,h){o.g?o.g.add(h):o.h=h}function Xp(o,h){o.h&&o.h==h?o.h=null:o.g&&o.g.has(h)&&o.g.delete(h)}Yp.prototype.cancel=function(){if(this.i=Jp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Jp(o){if(o.h!=null)return o.i.concat(o.h.G);if(o.g!=null&&o.g.size!==0){let h=o.i;for(const d of o.g.values())h=h.concat(d.G);return h}return y(o.i)}var Zp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _1(o,h){if(o){o=o.split("&");for(let d=0;d<o.length;d++){const g=o[d].indexOf("=");let O,V=null;g>=0?(O=o[d].substring(0,g),V=o[d].substring(g+1)):O=o[d],h(O,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function si(o){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let h;o instanceof si?(this.l=o.l,pa(this,o.j),this.o=o.o,this.g=o.g,ga(this,o.u),this.h=o.h,nh(this,rg(o.i)),this.m=o.m):o&&(h=String(o).match(Zp))?(this.l=!1,pa(this,h[1]||"",!0),this.o=ya(h[2]||""),this.g=ya(h[3]||"",!0),ga(this,h[4]),this.h=ya(h[5]||"",!0),nh(this,h[6]||"",!0),this.m=ya(h[7]||"")):(this.l=!1,this.i=new va(null,this.l))}si.prototype.toString=function(){const o=[];var h=this.j;h&&o.push(_a(h,Wp,!0),":");var d=this.g;return(d||h=="file")&&(o.push("//"),(h=this.o)&&o.push(_a(h,Wp,!0),"@"),o.push(da(d).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.u,d!=null&&o.push(":",String(d))),(d=this.h)&&(this.g&&d.charAt(0)!="/"&&o.push("/"),o.push(_a(d,d.charAt(0)=="/"?T1:E1,!0))),(d=this.i.toString())&&o.push("?",d),(d=this.m)&&o.push("#",_a(d,A1)),o.join("")},si.prototype.resolve=function(o){const h=ln(this);let d=!!o.j;d?pa(h,o.j):d=!!o.o,d?h.o=o.o:d=!!o.g,d?h.g=o.g:d=o.u!=null;var g=o.h;if(d)ga(h,o.u);else if(d=!!o.h){if(g.charAt(0)!="/")if(this.g&&!this.h)g="/"+g;else{var O=h.h.lastIndexOf("/");O!=-1&&(g=h.h.slice(0,O+1)+g)}if(O=g,O==".."||O==".")g="";else if(O.indexOf("./")!=-1||O.indexOf("/.")!=-1){g=O.lastIndexOf("/",0)==0,O=O.split("/");const V=[];for(let B=0;B<O.length;){const W=O[B++];W=="."?g&&B==O.length&&V.push(""):W==".."?((V.length>1||V.length==1&&V[0]!="")&&V.pop(),g&&B==O.length&&V.push("")):(V.push(W),g=!0)}g=V.join("/")}else g=O}return d?h.h=g:d=o.i.toString()!=="",d?nh(h,rg(o.i)):d=!!o.m,d&&(h.m=o.m),h};function ln(o){return new si(o)}function pa(o,h,d){o.j=d?ya(h,!0):h,o.j&&(o.j=o.j.replace(/:$/,""))}function ga(o,h){if(h){if(h=Number(h),isNaN(h)||h<0)throw Error("Bad port number "+h);o.u=h}else o.u=null}function nh(o,h,d){h instanceof va?(o.i=h,b1(o.i,o.l)):(d||(h=_a(h,S1)),o.i=new va(h,o.l))}function Et(o,h,d){o.i.set(h,d)}function ol(o){return Et(o,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),o}function ya(o,h){return o?h?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function _a(o,h,d){return typeof o=="string"?(o=encodeURI(o).replace(h,v1),d&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function v1(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Wp=/[#\/\?@]/g,E1=/[#\?:]/g,T1=/[#\?]/g,S1=/[#\?@]/g,A1=/#/g;function va(o,h){this.h=this.g=null,this.i=o||null,this.j=!!h}function ar(o){o.g||(o.g=new Map,o.h=0,o.i&&_1(o.i,function(h,d){o.add(decodeURIComponent(h.replace(/\+/g," ")),d)}))}e=va.prototype,e.add=function(o,h){ar(this),this.i=null,o=Kr(this,o);let d=this.g.get(o);return d||this.g.set(o,d=[]),d.push(h),this.h+=1,this};function tg(o,h){ar(o),h=Kr(o,h),o.g.has(h)&&(o.i=null,o.h-=o.g.get(h).length,o.g.delete(h))}function eg(o,h){return ar(o),h=Kr(o,h),o.g.has(h)}e.forEach=function(o,h){ar(this),this.g.forEach(function(d,g){d.forEach(function(O){o.call(h,O,g,this)},this)},this)};function ng(o,h){ar(o);let d=[];if(typeof h=="string")eg(o,h)&&(d=d.concat(o.g.get(Kr(o,h))));else for(o=Array.from(o.g.values()),h=0;h<o.length;h++)d=d.concat(o[h]);return d}e.set=function(o,h){return ar(this),this.i=null,o=Kr(this,o),eg(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[h]),this.h+=1,this},e.get=function(o,h){return o?(o=ng(this,o),o.length>0?String(o[0]):h):h};function ig(o,h,d){tg(o,h),d.length>0&&(o.i=null,o.g.set(Kr(o,h),y(d)),o.h+=d.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],h=Array.from(this.g.keys());for(let g=0;g<h.length;g++){var d=h[g];const O=da(d);d=ng(this,d);for(let V=0;V<d.length;V++){let B=O;d[V]!==""&&(B+="="+da(d[V])),o.push(B)}}return this.i=o.join("&")};function rg(o){const h=new va;return h.i=o.i,o.g&&(h.g=new Map(o.g),h.h=o.h),h}function Kr(o,h){return h=String(h),o.j&&(h=h.toLowerCase()),h}function b1(o,h){h&&!o.j&&(ar(o),o.i=null,o.g.forEach(function(d,g){const O=g.toLowerCase();g!=O&&(tg(this,g),ig(this,O,d))},o)),o.j=h}function R1(o,h){const d=new fa;if(a.Image){const g=new Image;g.onload=f(ai,d,"TestLoadImage: loaded",!0,h,g),g.onerror=f(ai,d,"TestLoadImage: error",!1,h,g),g.onabort=f(ai,d,"TestLoadImage: abort",!1,h,g),g.ontimeout=f(ai,d,"TestLoadImage: timeout",!1,h,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=o}else h(!1)}function w1(o,h){const d=new fa,g=new AbortController,O=setTimeout(()=>{g.abort(),ai(d,"TestPingServer: timeout",!1,h)},1e4);fetch(o,{signal:g.signal}).then(V=>{clearTimeout(O),V.ok?ai(d,"TestPingServer: ok",!0,h):ai(d,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(O),ai(d,"TestPingServer: error",!1,h)})}function ai(o,h,d,g,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),g(d)}catch{}}function C1(){this.g=new u1}function ih(o){this.i=o.Sb||null,this.h=o.ab||!1}m(ih,xp),ih.prototype.g=function(){return new ll(this.i,this.h)};function ll(o,h){ue.call(this),this.H=o,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(ll,ue),e=ll.prototype,e.open=function(o,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=o,this.D=h,this.readyState=1,Ta(this)},e.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const h={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};o&&(h.body=o),(this.H||a).fetch(new Request(this.D,h)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ea(this)),this.readyState=0},e.Pa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Ta(this)),this.g&&(this.readyState=3,Ta(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;sg(this)}else o.text().then(this.Oa.bind(this),this.ga.bind(this))};function sg(o){o.j.read().then(o.Ma.bind(o)).catch(o.ga.bind(o))}e.Ma=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var h=o.value?o.value:new Uint8Array(0);(h=this.B.decode(h,{stream:!o.done}))&&(this.response=this.responseText+=h)}o.done?Ea(this):Ta(this),this.readyState==3&&sg(this)}},e.Oa=function(o){this.g&&(this.response=this.responseText=o,Ea(this))},e.Na=function(o){this.g&&(this.response=o,Ea(this))},e.ga=function(){this.g&&Ea(this)};function Ea(o){o.readyState=4,o.l=null,o.j=null,o.B=null,Ta(o)}e.setRequestHeader=function(o,h){this.A.append(o,h)},e.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],h=this.h.entries();for(var d=h.next();!d.done;)d=d.value,o.push(d[0]+": "+d[1]),d=h.next();return o.join(`\r
`)};function Ta(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(ll.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function ag(o){let h="";return _t(o,function(d,g){h+=g,h+=":",h+=d,h+=`\r
`}),h}function rh(o,h,d){t:{for(g in d){var g=!1;break t}g=!0}g||(d=ag(d),typeof o=="string"?d!=null&&da(d):Et(o,h,d))}function Dt(o){ue.call(this),this.headers=new Map,this.L=o||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(Dt,ue);var I1=/^https?$/i,D1=["POST","PUT"];e=Dt.prototype,e.Fa=function(o){this.H=o},e.ea=function(o,h,d,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);h=h?h.toUpperCase():"GET",this.D=o,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():jp.g(),this.g.onreadystatechange=p(c(this.Ca,this));try{this.B=!0,this.g.open(h,String(o),!0),this.B=!1}catch(V){og(this,V);return}if(o=d||"",d=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var O in g)d.set(O,g[O]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(const V of g.keys())d.set(V,g.get(V));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(d.keys()).find(V=>V.toLowerCase()=="content-type"),O=a.FormData&&o instanceof a.FormData,!(Array.prototype.indexOf.call(D1,h,void 0)>=0)||g||O||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,B]of d)this.g.setRequestHeader(V,B);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(o),this.v=!1}catch(V){og(this,V)}};function og(o,h){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=h,o.o=5,lg(o),ul(o)}function lg(o){o.A||(o.A=!0,me(o,"complete"),me(o,"error"))}e.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=o||7,me(this,"complete"),me(this,"abort"),ul(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ul(this,!0)),Dt.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?ug(this):this.Xa())},e.Xa=function(){ug(this)};function ug(o){if(o.h&&typeof s<"u"){if(o.v&&oi(o)==4)setTimeout(o.Ca.bind(o),0);else if(me(o,"readystatechange"),oi(o)==4){o.h=!1;try{const V=o.ca();t:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break t;default:h=!1}var d;if(!(d=h)){var g;if(g=V===0){let B=String(o.D).match(Zp)[1]||null;!B&&a.self&&a.self.location&&(B=a.self.location.protocol.slice(0,-1)),g=!I1.test(B?B.toLowerCase():"")}d=g}if(d)me(o,"complete"),me(o,"success");else{o.o=6;try{var O=oi(o)>2?o.g.statusText:""}catch{O=""}o.l=O+" ["+o.ca()+"]",lg(o)}}finally{ul(o)}}}}function ul(o,h){if(o.g){o.m&&(clearTimeout(o.m),o.m=null);const d=o.g;o.g=null,h||me(o,"ready");try{d.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function oi(o){return o.g?o.g.readyState:0}e.ca=function(){try{return oi(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(o){if(this.g){var h=this.g.responseText;return o&&h.indexOf(o)==0&&(h=h.substring(o.length)),l1(h)}};function cg(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.F){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function O1(o){const h={};o=(o.g&&oi(o)>=2&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<o.length;g++){if(b(o[g]))continue;var d=m1(o[g]);const O=d[0];if(d=d[1],typeof d!="string")continue;d=d.trim();const V=h[O]||[];h[O]=V,V.push(d)}kt(h,function(g){return g.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Sa(o,h,d){return d&&d.internalChannelParams&&d.internalChannelParams[o]||h}function hg(o){this.za=0,this.i=[],this.j=new fa,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Sa("failFast",!1,o),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Sa("baseRetryDelayMs",5e3,o),this.Za=Sa("retryDelaySeedMs",1e4,o),this.Ta=Sa("forwardChannelMaxRetries",2,o),this.va=Sa("forwardChannelRequestTimeoutMs",2e4,o),this.ma=o&&o.xmlHttpFactory||void 0,this.Ua=o&&o.Rb||void 0,this.Aa=o&&o.useFetchStreams||!1,this.O=void 0,this.L=o&&o.supportsCrossDomainXhr||!1,this.M="",this.h=new Yp(o&&o.concurrentRequestLimit),this.Ba=new C1,this.S=o&&o.fastHandshake||!1,this.R=o&&o.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=o&&o.Pb||!1,o&&o.ua&&this.j.ua(),o&&o.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&o&&o.detectBufferingProxy||!1,this.ia=void 0,o&&o.longPollingTimeout&&o.longPollingTimeout>0&&(this.ia=o.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=hg.prototype,e.ka=8,e.I=1,e.connect=function(o,h,d,g){pe(0),this.W=o,this.H=h||{},d&&g!==void 0&&(this.H.OSID=d,this.H.OAID=g),this.F=this.X,this.J=Eg(this,null,this.W),hl(this)};function sh(o){if(fg(o),o.I==3){var h=o.V++,d=ln(o.J);if(Et(d,"SID",o.M),Et(d,"RID",h),Et(d,"TYPE","terminate"),Aa(o,d),h=new ri(o,o.j,h),h.M=2,h.A=ol(ln(d)),d=!1,a.navigator&&a.navigator.sendBeacon)try{d=a.navigator.sendBeacon(h.A.toString(),"")}catch{}!d&&a.Image&&(new Image().src=h.A,d=!0),d||(h.g=Tg(h.j,null),h.g.ea(h.A)),h.F=Date.now(),al(h)}vg(o)}function cl(o){o.g&&(oh(o),o.g.cancel(),o.g=null)}function fg(o){cl(o),o.v&&(a.clearTimeout(o.v),o.v=null),fl(o),o.h.cancel(),o.m&&(typeof o.m=="number"&&a.clearTimeout(o.m),o.m=null)}function hl(o){if(!Qp(o.h)&&!o.m){o.m=!0;var h=o.Ea;k||_(),j||(k(),j=!0),E.add(h,o),o.D=0}}function N1(o,h){return $p(o.h)>=o.h.j-(o.m?1:0)?!1:o.m?(o.i=h.G.concat(o.i),!0):o.I==1||o.I==2||o.D>=(o.Sa?0:o.Ta)?!1:(o.m=ha(c(o.Ea,o,h),_g(o,o.D)),o.D++,!0)}e.Ea=function(o){if(this.m)if(this.m=null,this.I==1){if(!o){this.V=Math.floor(Math.random()*1e5),o=this.V++;const O=new ri(this,this.j,o);let V=this.o;if(this.U&&(V?(V=nr(V),Fr(V,this.U)):V=this.U),this.u!==null||this.R||(O.J=V,V=null),this.S)t:{for(var h=0,d=0;d<this.i.length;d++){e:{var g=this.i[d];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break e}g=void 0}if(g===void 0)break;if(h+=g,h>4096){h=d;break t}if(h===4096||d===this.i.length-1){h=d+1;break t}}h=1e3}else h=1e3;h=mg(this,O,h),d=ln(this.J),Et(d,"RID",o),Et(d,"CVER",22),this.G&&Et(d,"X-HTTP-Session-Id",this.G),Aa(this,d),V&&(this.R?h="headers="+da(ag(V))+"&"+h:this.u&&rh(d,this.u,V)),eh(this.h,O),this.Ra&&Et(d,"TYPE","init"),this.S?(Et(d,"$req",h),Et(d,"SID","null"),O.U=!0,Jc(O,d,null)):Jc(O,d,h),this.I=2}}else this.I==3&&(o?dg(this,o):this.i.length==0||Qp(this.h)||dg(this))};function dg(o,h){var d;h?d=h.l:d=o.V++;const g=ln(o.J);Et(g,"SID",o.M),Et(g,"RID",d),Et(g,"AID",o.K),Aa(o,g),o.u&&o.o&&rh(g,o.u,o.o),d=new ri(o,o.j,d,o.D+1),o.u===null&&(d.J=o.o),h&&(o.i=h.G.concat(o.i)),h=mg(o,d,1e3),d.H=Math.round(o.va*.5)+Math.round(o.va*.5*Math.random()),eh(o.h,d),Jc(d,g,h)}function Aa(o,h){o.H&&_t(o.H,function(d,g){Et(h,g,d)}),o.l&&_t({},function(d,g){Et(h,g,d)})}function mg(o,h,d){d=Math.min(o.i.length,d);const g=o.l?c(o.l.Ka,o.l,o):null;t:{var O=o.i;let W=-1;for(;;){const Gt=["count="+d];W==-1?d>0?(W=O[0].g,Gt.push("ofs="+W)):W=0:Gt.push("ofs="+W);let gt=!0;for(let Xt=0;Xt<d;Xt++){var V=O[Xt].g;const un=O[Xt].map;if(V-=W,V<0)W=Math.max(0,O[Xt].g-100),gt=!1;else try{V="req"+V+"_"||"";try{var B=un instanceof Map?un:Object.entries(un);for(const[lr,li]of B){let ui=li;l(li)&&(ui=Kc(li)),Gt.push(V+lr+"="+encodeURIComponent(ui))}}catch(lr){throw Gt.push(V+"type="+encodeURIComponent("_badmap")),lr}}catch{g&&g(un)}}if(gt){B=Gt.join("&");break t}}B=void 0}return o=o.i.splice(0,d),h.G=o,B}function pg(o){if(!o.g&&!o.v){o.Y=1;var h=o.Da;k||_(),j||(k(),j=!0),E.add(h,o),o.A=0}}function ah(o){return o.g||o.v||o.A>=3?!1:(o.Y++,o.v=ha(c(o.Da,o),_g(o,o.A)),o.A++,!0)}e.Da=function(){if(this.v=null,gg(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var o=4*this.T;this.j.info("BP detection timer enabled: "+o),this.B=ha(c(this.Wa,this),o)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,pe(10),cl(this),gg(this))};function oh(o){o.B!=null&&(a.clearTimeout(o.B),o.B=null)}function gg(o){o.g=new ri(o,o.j,"rpc",o.Y),o.u===null&&(o.g.J=o.o),o.g.P=0;var h=ln(o.na);Et(h,"RID","rpc"),Et(h,"SID",o.M),Et(h,"AID",o.K),Et(h,"CI",o.F?"0":"1"),!o.F&&o.ia&&Et(h,"TO",o.ia),Et(h,"TYPE","xmlhttp"),Aa(o,h),o.u&&o.o&&rh(h,o.u,o.o),o.O&&(o.g.H=o.O);var d=o.g;o=o.ba,d.M=1,d.A=ol(ln(h)),d.u=null,d.R=!0,Fp(d,o)}e.Va=function(){this.C!=null&&(this.C=null,cl(this),ah(this),pe(19))};function fl(o){o.C!=null&&(a.clearTimeout(o.C),o.C=null)}function yg(o,h){var d=null;if(o.g==h){fl(o),oh(o),o.g=null;var g=2}else if(th(o.h,h))d=h.G,Xp(o.h,h),g=1;else return;if(o.I!=0){if(h.o)if(g==1){d=h.u?h.u.length:0,h=Date.now()-h.F;var O=o.D;g=rl(),me(g,new zp(g,d)),hl(o)}else pg(o);else if(O=h.m,O==3||O==0&&h.X>0||!(g==1&&N1(o,h)||g==2&&ah(o)))switch(d&&d.length>0&&(h=o.h,h.i=h.i.concat(d)),O){case 1:or(o,5);break;case 4:or(o,10);break;case 3:or(o,6);break;default:or(o,2)}}}function _g(o,h){let d=o.Qa+Math.floor(Math.random()*o.Za);return o.isActive()||(d*=2),d*h}function or(o,h){if(o.j.info("Error code "+h),h==2){var d=c(o.bb,o),g=o.Ua;const O=!g;g=new si(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||pa(g,"https"),ol(g),O?R1(g.toString(),d):w1(g.toString(),d)}else pe(2);o.I=0,o.l&&o.l.pa(h),vg(o),fg(o)}e.bb=function(o){o?(this.j.info("Successfully pinged google.com"),pe(2)):(this.j.info("Failed to ping google.com"),pe(1))};function vg(o){if(o.I=0,o.ja=[],o.l){const h=Jp(o.h);(h.length!=0||o.i.length!=0)&&(C(o.ja,h),C(o.ja,o.i),o.h.i.length=0,y(o.i),o.i.length=0),o.l.oa()}}function Eg(o,h,d){var g=d instanceof si?ln(d):new si(d);if(g.g!="")h&&(g.g=h+"."+g.g),ga(g,g.u);else{var O=a.location;g=O.protocol,h=h?h+"."+O.hostname:O.hostname,O=+O.port;const V=new si(null);g&&pa(V,g),h&&(V.g=h),O&&ga(V,O),d&&(V.h=d),g=V}return d=o.G,h=o.wa,d&&h&&Et(g,d,h),Et(g,"VER",o.ka),Aa(o,g),g}function Tg(o,h,d){if(h&&!o.L)throw Error("Can't create secondary domain capable XhrIo object.");return h=o.Aa&&!o.ma?new Dt(new ih({ab:d})):new Dt(o.ma),h.Fa(o.L),h}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Sg(){}e=Sg.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function dl(){}dl.prototype.g=function(o,h){return new De(o,h)};function De(o,h){ue.call(this),this.g=new hg(h),this.l=o,this.h=h&&h.messageUrlParams||null,o=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(o?o["X-WebChannel-Content-Type"]=h.messageContentType:o={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.sa&&(o?o["X-WebChannel-Client-Profile"]=h.sa:o={"X-WebChannel-Client-Profile":h.sa}),this.g.U=o,(o=h&&h.Qb)&&!b(o)&&(this.g.u=o),this.A=h&&h.supportsCrossDomainXhr||!1,this.v=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!b(h)&&(this.g.G=h,o=this.h,o!==null&&h in o&&(o=this.h,h in o&&delete o[h])),this.j=new Yr(this)}m(De,ue),De.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},De.prototype.close=function(){sh(this.g)},De.prototype.o=function(o){var h=this.g;if(typeof o=="string"){var d={};d.__data__=o,o=d}else this.v&&(d={},d.__data__=Kc(o),o=d);h.i.push(new y1(h.Ya++,o)),h.I==3&&hl(h)},De.prototype.N=function(){this.g.l=null,delete this.j,sh(this.g),delete this.g,De.Z.N.call(this)};function Ag(o){Yc.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var h=o.__sm__;if(h){t:{for(const d in h){o=d;break t}o=void 0}(this.i=o)&&(o=this.i,h=h!==null&&o in h?h[o]:void 0),this.data=h}else this.data=o}m(Ag,Yc);function bg(){Qc.call(this),this.status=1}m(bg,Qc);function Yr(o){this.g=o}m(Yr,Sg),Yr.prototype.ra=function(){me(this.g,"a")},Yr.prototype.qa=function(o){me(this.g,new Ag(o))},Yr.prototype.pa=function(o){me(this.g,new bg)},Yr.prototype.oa=function(){me(this.g,"b")},dl.prototype.createWebChannel=dl.prototype.g,De.prototype.send=De.prototype.o,De.prototype.open=De.prototype.m,De.prototype.close=De.prototype.close,ZS=function(){return new dl},JS=function(){return rl()},XS=rr,gd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},sl.NO_ERROR=0,sl.TIMEOUT=8,sl.HTTP_ERROR=6,au=sl,Bp.COMPLETE="complete",$S=Bp,Lp.EventType=ua,ua.OPEN="a",ua.CLOSE="b",ua.ERROR="c",ua.MESSAGE="d",ue.prototype.listen=ue.prototype.J,Pa=Lp,Dt.prototype.listenOnce=Dt.prototype.K,Dt.prototype.getLastError=Dt.prototype.Ha,Dt.prototype.getLastErrorCode=Dt.prototype.ya,Dt.prototype.getStatus=Dt.prototype.ca,Dt.prototype.getResponseJson=Dt.prototype.La,Dt.prototype.getResponseText=Dt.prototype.la,Dt.prototype.send=Dt.prototype.ea,Dt.prototype.setWithCredentials=Dt.prototype.Fa,QS=Dt}).apply(typeof Vl<"u"?Vl:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}he.UNAUTHENTICATED=new he(null),he.GOOGLE_CREDENTIALS=new he("google-credentials-uid"),he.FIRST_PARTY=new he("first-party-uid"),he.MOCK_USER=new he("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sa="12.8.0";function HO(e){sa=e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vr=new Fm("@firebase/firestore");function Wr(){return Vr.logLevel}function q(e,...t){if(Vr.logLevel<=it.DEBUG){const n=t.map(np);Vr.debug(`Firestore (${sa}): ${e}`,...n)}}function ti(e,...t){if(Vr.logLevel<=it.ERROR){const n=t.map(np);Vr.error(`Firestore (${sa}): ${e}`,...n)}}function Hs(e,...t){if(Vr.logLevel<=it.WARN){const n=t.map(np);Vr.warn(`Firestore (${sa}): ${e}`,...n)}}function np(e){if(typeof e=="string")return e;try{return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X(e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,WS(e,i,n)}function WS(e,t,n){let i=`FIRESTORE (${sa}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw ti(i),new Error(i)}function It(e,t,n,i){let r="Unexpected state";typeof n=="string"?r=n:i=n,e||WS(t,r,i)}function lt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class F extends wn{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class qO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(he.UNAUTHENTICATED))}shutdown(){}}class FO{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class GO{constructor(t){this.t=t,this.currentUser=he.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){It(this.o===void 0,42304);let i=this.i;const r=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let s=new Sr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Sr,t.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const u=s;t.enqueueRetryable(async()=>{await u.promise,await r(this.currentUser)})},l=u=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Sr)}},0),a()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(It(typeof i.accessToken=="string",31837,{l:i}),new tA(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return It(t===null||typeof t=="string",2055,{h:t}),new he(t)}}class KO{constructor(t,n,i){this.P=t,this.T=n,this.I=i,this.type="FirstParty",this.user=he.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class YO{constructor(t,n,i){this.P=t,this.T=n,this.I=i}getToken(){return Promise.resolve(new KO(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(he.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class L_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class QO{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,nn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){It(this.o===void 0,3512);const i=s=>{s.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,q("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?r(s):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new L_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(It(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new L_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $O(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=$O(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=t.charAt(r[s]%62))}return i}}function st(e,t){return e<t?-1:e>t?1:0}function yd(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const r=e.charAt(i),s=t.charAt(i);if(r!==s)return nf(r)===nf(s)?st(r,s):nf(r)?1:-1}return st(e.length,t.length)}const XO=55296,JO=57343;function nf(e){const t=e.charCodeAt(0);return t>=XO&&t<=JO}function qs(e,t,n){return e.length===t.length&&e.every((i,r)=>n(i,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_="__name__";class cn{constructor(t,n,i){n===void 0?n=0:n>t.length&&X(637,{offset:n,range:t.length}),i===void 0?i=t.length-n:i>t.length-n&&X(1746,{length:i,range:t.length-n}),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return cn.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof cn?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let r=0;r<i;r++){const s=cn.compareSegments(t.get(r),n.get(r));if(s!==0)return s}return st(t.length,n.length)}static compareSegments(t,n){const i=cn.isNumericId(t),r=cn.isNumericId(n);return i&&!r?-1:!i&&r?1:i&&r?cn.extractNumericId(t).compare(cn.extractNumericId(n)):yd(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Bi.fromString(t.substring(4,t.length-2))}}class wt extends cn{construct(t,n,i){return new wt(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new F(z.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new wt(n)}static emptyPath(){return new wt([])}}const ZO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ye extends cn{construct(t,n,i){return new ye(t,n,i)}static isValidIdentifier(t){return ZO.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ye.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===U_}static keyField(){return new ye([U_])}static fromServerFormat(t){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new F(z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;r<t.length;){const l=t[r];if(l==="\\"){if(r+1===t.length)throw new F(z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new F(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=u,r+=2}else l==="`"?(a=!a,r++):l!=="."||a?(i+=l,r++):(s(),r++)}if(s(),a)throw new F(z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ye(n)}static emptyPath(){return new ye([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(t){this.path=t}static fromPath(t){return new G(wt.fromString(t))}static fromName(t){return new G(wt.fromString(t).popFirst(5))}static empty(){return new G(wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&wt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return wt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new G(new wt(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WO(e,t,n){if(!n)throw new F(z.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function tN(e,t,n,i){if(t===!0&&i===!0)throw new F(z.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function k_(e){if(!G.isDocumentKey(e))throw new F(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function eN(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function nN(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":X(12329,{type:typeof e})}function _d(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new F(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=nN(e);throw new F(z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(e,t){const n={typeString:e};return t&&(n.value=t),n}function Zo(e,t){if(!eN(e))throw new F(z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in t)if(t[i]){const r=t[i].typeString,s="value"in t[i]?{value:t[i].value}:void 0;if(!(i in e)){n=`JSON missing required field: '${i}'`;break}const a=e[i];if(r&&typeof a!==r){n=`JSON field '${i}' must be a ${r}.`;break}if(s!==void 0&&a!==s.value){n=`Expected '${i}' field to equal '${s.value}'`;break}}if(n)throw new F(z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_=-62135596800,z_=1e6;class Ht{static now(){return Ht.fromMillis(Date.now())}static fromDate(t){return Ht.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor((t-1e3*n)*z_);return new Ht(n,i)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new F(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new F(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<P_)throw new F(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new F(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/z_}_compareTo(t){return this.seconds===t.seconds?st(this.nanoseconds,t.nanoseconds):st(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ht._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Zo(t,Ht._jsonSchema))return new Ht(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-P_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ht._jsonSchemaVersion="firestore/timestamp/1.0",Ht._jsonSchema={type:Ft("string",Ht._jsonSchemaVersion),seconds:Ft("number"),nanoseconds:Ft("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{static fromTimestamp(t){return new Q(t)}static min(){return new Q(new Ht(0,0))}static max(){return new Q(new Ht(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co=-1;function iN(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,r=Q.fromTimestamp(i===1e9?new Ht(n+1,0):new Ht(n,i));return new Qi(r,G.empty(),t)}function rN(e){return new Qi(e.readTime,e.key,Co)}class Qi{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new Qi(Q.min(),G.empty(),Co)}static max(){return new Qi(Q.max(),G.empty(),Co)}}function sN(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=G.comparator(e.documentKey,t.documentKey),n!==0?n:st(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dc(e){if(e.code!==z.FAILED_PRECONDITION||e.message!==aN)throw e;q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&X(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new U((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):U.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):U.reject(n)}static resolve(t){return new U((n,i)=>{n(t)})}static reject(t){return new U((n,i)=>{i(t)})}static waitFor(t){return new U((n,i)=>{let r=0,s=0,a=!1;t.forEach(l=>{++r,l.next(()=>{++s,a&&s===r&&n()},u=>i(u))}),a=!0,s===r&&n()})}static or(t){let n=U.resolve(!1);for(const i of t)n=n.next(r=>r?U.resolve(r):i());return n}static forEach(t,n){const i=[];return t.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(t,n){return new U((i,r)=>{const s=t.length,a=new Array(s);let l=0;for(let u=0;u<s;u++){const c=u;n(t[c]).next(f=>{a[c]=f,++l,l===s&&i(a)},f=>r(f))}})}static doWhile(t,n){return new U((i,r)=>{const s=()=>{t()===!0?n().next(()=>{s()},r):i()};s()})}}function lN(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function aa(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Oc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN=-1;function Nc(e){return e==null}function vd(e){return e===0&&1/e==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA="";function cN(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=B_(t)),t=hN(e.get(n),t);return B_(t)}function hN(e,t){let n=t;const i=e.length;for(let r=0;r<i;r++){const s=e.charAt(r);switch(s){case"\0":n+="";break;case eA:n+="";break;default:n+=s}}return n}function B_(e){return e+eA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Wo(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function fN(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(t,n){this.comparator=t,this.root=n||ne.EMPTY}insert(t,n){return new Ut(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ne.BLACK,null,null))}remove(t){return new Ut(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ne.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new xl(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new xl(this.root,t,this.comparator,!1)}getReverseIterator(){return new xl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new xl(this.root,t,this.comparator,!0)}}class xl{constructor(t,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?i(t.key,n):1,n&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ne{constructor(t,n,i,r,s){this.key=t,this.value=n,this.color=i??ne.RED,this.left=r??ne.EMPTY,this.right=s??ne.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,r,s){return new ne(t??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(t,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ne.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,r=this;if(n(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(t,r.key)===0){if(r.right.isEmpty())return ne.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ne.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ne.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw X(43730,{key:this.key,value:this.value});if(this.right.isRed())throw X(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw X(27949);return t+(this.isRed()?0:1)}}ne.EMPTY=null,ne.RED=!0,ne.BLACK=!1;ne.EMPTY=new class{constructor(){this.size=0}get key(){throw X(57766)}get value(){throw X(16141)}get color(){throw X(16727)}get left(){throw X(29726)}get right(){throw X(36894)}copy(t,n,i,r,s){return this}insert(t,n,i){return new ne(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(t){this.comparator=t,this.data=new Ut(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;n(r.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new H_(this.data.getIterator())}getIteratorFrom(t){return new H_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof Qt)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Qt(this.comparator);return n.data=t,n}}class H_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(t){this.fields=t,t.sort(ye.comparator)}static empty(){return new Ci([])}unionWith(t){let n=new Qt(ye.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new Ci(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return qs(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new nA("Invalid base64 string: "+s):s}}(t);return new oe(n)}static fromUint8Array(t){const n=function(r){let s="";for(let a=0;a<r.length;++a)s+=String.fromCharCode(r[a]);return s}(t);return new oe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return st(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}oe.EMPTY_BYTE_STRING=new oe("");const dN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $i(e){if(It(!!e,39018),typeof e=="string"){let t=0;const n=dN.exec(e);if(It(!!n,46558,{timestamp:e}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Vt(e.seconds),nanos:Vt(e.nanos)}}function Vt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Xi(e){return typeof e=="string"?oe.fromBase64String(e):oe.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA="server_timestamp",rA="__type__",sA="__previous_value__",aA="__local_write_time__";function rp(e){var n,i;return((i=(((n=e==null?void 0:e.mapValue)==null?void 0:n.fields)||{})[rA])==null?void 0:i.stringValue)===iA}function Mc(e){const t=e.mapValue.fields[sA];return rp(t)?Mc(t):t}function Io(e){const t=$i(e.mapValue.fields[aA].timestampValue);return new Ht(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(t,n,i,r,s,a,l,u,c,f,m){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=c,this.isUsingEmulator=f,this.apiKey=m}}const $u="(default)";class Do{constructor(t,n){this.projectId=t,this.database=n||$u}static empty(){return new Do("","")}get isDefaultDatabase(){return this.database===$u}isEqual(t){return t instanceof Do&&t.projectId===this.projectId&&t.database===this.database}}function pN(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new F(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Do(e.options.projectId,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN="__type__",yN="__max__",Ll={mapValue:{}},_N="__vector__",Ed="value";function Ji(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?rp(e)?4:EN(e)?9007199254740991:vN(e)?10:11:X(28295,{value:e})}function Tn(e,t){if(e===t)return!0;const n=Ji(e);if(n!==Ji(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Io(e).isEqual(Io(t));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const a=$i(r.timestampValue),l=$i(s.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,s){return Xi(r.bytesValue).isEqual(Xi(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,s){return Vt(r.geoPointValue.latitude)===Vt(s.geoPointValue.latitude)&&Vt(r.geoPointValue.longitude)===Vt(s.geoPointValue.longitude)}(e,t);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Vt(r.integerValue)===Vt(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const a=Vt(r.doubleValue),l=Vt(s.doubleValue);return a===l?vd(a)===vd(l):isNaN(a)&&isNaN(l)}return!1}(e,t);case 9:return qs(e.arrayValue.values||[],t.arrayValue.values||[],Tn);case 10:case 11:return function(r,s){const a=r.mapValue.fields||{},l=s.mapValue.fields||{};if(j_(a)!==j_(l))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(l[u]===void 0||!Tn(a[u],l[u])))return!1;return!0}(e,t);default:return X(52216,{left:e})}}function Oo(e,t){return(e.values||[]).find(n=>Tn(n,t))!==void 0}function Fs(e,t){if(e===t)return 0;const n=Ji(e),i=Ji(t);if(n!==i)return st(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return st(e.booleanValue,t.booleanValue);case 2:return function(s,a){const l=Vt(s.integerValue||s.doubleValue),u=Vt(a.integerValue||a.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(e,t);case 3:return q_(e.timestampValue,t.timestampValue);case 4:return q_(Io(e),Io(t));case 5:return yd(e.stringValue,t.stringValue);case 6:return function(s,a){const l=Xi(s),u=Xi(a);return l.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(s,a){const l=s.split("/"),u=a.split("/");for(let c=0;c<l.length&&c<u.length;c++){const f=st(l[c],u[c]);if(f!==0)return f}return st(l.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,a){const l=st(Vt(s.latitude),Vt(a.latitude));return l!==0?l:st(Vt(s.longitude),Vt(a.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return F_(e.arrayValue,t.arrayValue);case 10:return function(s,a){var p,y,C,N;const l=s.fields||{},u=a.fields||{},c=(p=l[Ed])==null?void 0:p.arrayValue,f=(y=u[Ed])==null?void 0:y.arrayValue,m=st(((C=c==null?void 0:c.values)==null?void 0:C.length)||0,((N=f==null?void 0:f.values)==null?void 0:N.length)||0);return m!==0?m:F_(c,f)}(e.mapValue,t.mapValue);case 11:return function(s,a){if(s===Ll.mapValue&&a===Ll.mapValue)return 0;if(s===Ll.mapValue)return 1;if(a===Ll.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),c=a.fields||{},f=Object.keys(c);u.sort(),f.sort();for(let m=0;m<u.length&&m<f.length;++m){const p=yd(u[m],f[m]);if(p!==0)return p;const y=Fs(l[u[m]],c[f[m]]);if(y!==0)return y}return st(u.length,f.length)}(e.mapValue,t.mapValue);default:throw X(23264,{he:n})}}function q_(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return st(e,t);const n=$i(e),i=$i(t),r=st(n.seconds,i.seconds);return r!==0?r:st(n.nanos,i.nanos)}function F_(e,t){const n=e.values||[],i=t.values||[];for(let r=0;r<n.length&&r<i.length;++r){const s=Fs(n[r],i[r]);if(s)return s}return st(n.length,i.length)}function Gs(e){return Td(e)}function Td(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=$i(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Xi(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return G.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",r=!0;for(const s of n.values||[])r?r=!1:i+=",",i+=Td(s);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",s=!0;for(const a of i)s?s=!1:r+=",",r+=`${a}:${Td(n.fields[a])}`;return r+"}"}(e.mapValue):X(61005,{value:e})}function ou(e){switch(Ji(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Mc(e);return t?16+ou(t):16;case 5:return 2*e.stringValue.length;case 6:return Xi(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,s)=>r+ou(s),0)}(e.arrayValue);case 10:case 11:return function(i){let r=0;return Wo(i.fields,(s,a)=>{r+=s.length+ou(a)}),r}(e.mapValue);default:throw X(13486,{value:e})}}function Sd(e){return!!e&&"integerValue"in e}function sp(e){return!!e&&"arrayValue"in e}function G_(e){return!!e&&"nullValue"in e}function K_(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function rf(e){return!!e&&"mapValue"in e}function vN(e){var n,i;return((i=(((n=e==null?void 0:e.mapValue)==null?void 0:n.fields)||{})[gN])==null?void 0:i.stringValue)===_N}function ro(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return Wo(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=ro(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ro(e.arrayValue.values[n]);return t}return{...e}}function EN(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===yN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(t){this.value=t}static empty(){return new hn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!rf(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=ro(n)}setAll(t){let n=ye.emptyPath(),i={},r=[];t.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,i,r),i={},r=[],n=l.popLast()}a?i[l.lastSegment()]=ro(a):r.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(t){const n=this.field(t.popLast());rf(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Tn(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=n.mapValue.fields[t.get(i)];rf(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(t,n,i){Wo(n,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new hn(ro(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(t,n,i,r,s,a,l){this.key=t,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=a,this.documentState=l}static newInvalidDocument(t){return new fe(t,0,Q.min(),Q.min(),Q.min(),hn.empty(),0)}static newFoundDocument(t,n,i,r){return new fe(t,1,n,Q.min(),i,r,0)}static newNoDocument(t,n){return new fe(t,2,n,Q.min(),Q.min(),hn.empty(),0)}static newUnknownDocument(t,n){return new fe(t,3,n,Q.min(),Q.min(),hn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Q.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Q.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof fe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new fe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(t,n){this.position=t,this.inclusive=n}}function Y_(e,t,n){let i=0;for(let r=0;r<e.position.length;r++){const s=t[r],a=e.position[r];if(s.field.isKeyField()?i=G.comparator(G.fromName(a.referenceValue),n.key):i=Fs(a,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function Q_(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Tn(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(t,n="asc"){this.field=t,this.dir=n}}function TN(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{}class Yt extends oA{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new AN(t,n,i):n==="array-contains"?new wN(t,i):n==="in"?new CN(t,i):n==="not-in"?new IN(t,i):n==="array-contains-any"?new DN(t,i):new Yt(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new bN(t,i):new RN(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Fs(n,this.value)):n!==null&&Ji(this.value)===Ji(n)&&this.matchesComparison(Fs(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return X(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Sn extends oA{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Sn(t,n)}matches(t){return lA(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function lA(e){return e.op==="and"}function uA(e){return SN(e)&&lA(e)}function SN(e){for(const t of e.filters)if(t instanceof Sn)return!1;return!0}function Ad(e){if(e instanceof Yt)return e.field.canonicalString()+e.op.toString()+Gs(e.value);if(uA(e))return e.filters.map(t=>Ad(t)).join(",");{const t=e.filters.map(n=>Ad(n)).join(",");return`${e.op}(${t})`}}function cA(e,t){return e instanceof Yt?function(i,r){return r instanceof Yt&&i.op===r.op&&i.field.isEqual(r.field)&&Tn(i.value,r.value)}(e,t):e instanceof Sn?function(i,r){return r instanceof Sn&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,a,l)=>s&&cA(a,r.filters[l]),!0):!1}(e,t):void X(19439)}function hA(e){return e instanceof Yt?function(n){return`${n.field.canonicalString()} ${n.op} ${Gs(n.value)}`}(e):e instanceof Sn?function(n){return n.op.toString()+" {"+n.getFilters().map(hA).join(" ,")+"}"}(e):"Filter"}class AN extends Yt{constructor(t,n,i){super(t,n,i),this.key=G.fromName(i.referenceValue)}matches(t){const n=G.comparator(t.key,this.key);return this.matchesComparison(n)}}class bN extends Yt{constructor(t,n){super(t,"in",n),this.keys=fA("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class RN extends Yt{constructor(t,n){super(t,"not-in",n),this.keys=fA("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function fA(e,t){var n;return(((n=t.arrayValue)==null?void 0:n.values)||[]).map(i=>G.fromName(i.referenceValue))}class wN extends Yt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return sp(n)&&Oo(n.arrayValue,this.value)}}class CN extends Yt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Oo(this.value.arrayValue,n)}}class IN extends Yt{constructor(t,n){super(t,"not-in",n)}matches(t){if(Oo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Oo(this.value.arrayValue,n)}}class DN extends Yt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!sp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Oo(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(t,n=null,i=[],r=[],s=null,a=null,l=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=a,this.endAt=l,this.Te=null}}function $_(e,t=null,n=[],i=[],r=null,s=null,a=null){return new ON(e,t,n,i,r,s,a)}function ap(e){const t=lt(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>Ad(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),Nc(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>Gs(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>Gs(i)).join(",")),t.Te=n}return t.Te}function op(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!TN(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!cA(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Q_(e.startAt,t.startAt)&&Q_(e.endAt,t.endAt)}function bd(e){return G.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(t,n=null,i=[],r=[],s=null,a="F",l=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=a,this.startAt=l,this.endAt=u,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function NN(e,t,n,i,r,s,a,l){return new Vc(e,t,n,i,r,s,a,l)}function lp(e){return new Vc(e)}function X_(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function MN(e){return G.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}function VN(e){return e.collectionGroup!==null}function so(e){const t=lt(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const s of t.explicitOrderBy)t.Ie.push(s),n.add(s.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new Qt(ye.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(l=l.add(c.field))})}),l})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.Ie.push(new Ju(s,i))}),n.has(ye.keyField().canonicalString())||t.Ie.push(new Ju(ye.keyField(),i))}return t.Ie}function En(e){const t=lt(e);return t.Ee||(t.Ee=xN(t,so(e))),t.Ee}function xN(e,t){if(e.limitType==="F")return $_(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new Ju(r.field,s)});const n=e.endAt?new Xu(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Xu(e.startAt.position,e.startAt.inclusive):null;return $_(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function Rd(e,t,n){return new Vc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function xc(e,t){return op(En(e),En(t))&&e.limitType===t.limitType}function dA(e){return`${ap(En(e))}|lt:${e.limitType}`}function ts(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>hA(r)).join(", ")}]`),Nc(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>Gs(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>Gs(r)).join(",")),`Target(${i})`}(En(e))}; limitType=${e.limitType})`}function Lc(e,t){return t.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):G.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(e,t)&&function(i,r){for(const s of so(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(e,t)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(e,t)&&function(i,r){return!(i.startAt&&!function(a,l,u){const c=Y_(a,l,u);return a.inclusive?c<=0:c<0}(i.startAt,so(i),r)||i.endAt&&!function(a,l,u){const c=Y_(a,l,u);return a.inclusive?c>=0:c>0}(i.endAt,so(i),r))}(e,t)}function LN(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function mA(e){return(t,n)=>{let i=!1;for(const r of so(e)){const s=UN(r,t,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function UN(e,t,n){const i=e.field.isKeyField()?G.comparator(t.key,n.key):function(s,a,l){const u=a.data.field(s),c=l.data.field(s);return u!==null&&c!==null?Fs(u,c):X(42886)}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return X(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,n]);r.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Wo(this.inner,(n,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return fN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN=new Ut(G.comparator);function Zi(){return kN}const pA=new Ut(G.comparator);function za(...e){let t=pA;for(const n of e)t=t.insert(n.key,n);return t}function PN(e){let t=pA;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function pr(){return ao()}function gA(){return ao()}function ao(){return new qr(e=>e.toString(),(e,t)=>e.isEqual(t))}const zN=new Qt(G.comparator);function ut(...e){let t=zN;for(const n of e)t=t.add(n);return t}const BN=new Qt(st);function jN(){return BN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vd(t)?"-0":t}}function qN(e){return{integerValue:""+e}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(){this._=void 0}}function FN(e,t,n){return e instanceof wd?function(r,s){const a={fields:{[rA]:{stringValue:iA},[aA]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&rp(s)&&(s=Mc(s)),s&&(a.fields[sA]=s),{mapValue:a}}(n,t):e instanceof Zu?yA(e,t):e instanceof Wu?_A(e,t):function(r,s){const a=KN(r,s),l=J_(a)+J_(r.Ae);return Sd(a)&&Sd(r.Ae)?qN(l):HN(r.serializer,l)}(e,t)}function GN(e,t,n){return e instanceof Zu?yA(e,t):e instanceof Wu?_A(e,t):n}function KN(e,t){return e instanceof Cd?function(i){return Sd(i)||function(s){return!!s&&"doubleValue"in s}(i)}(t)?t:{integerValue:0}:null}class wd extends Uc{}class Zu extends Uc{constructor(t){super(),this.elements=t}}function yA(e,t){const n=vA(t);for(const i of e.elements)n.some(r=>Tn(r,i))||n.push(i);return{arrayValue:{values:n}}}class Wu extends Uc{constructor(t){super(),this.elements=t}}function _A(e,t){let n=vA(t);for(const i of e.elements)n=n.filter(r=>!Tn(r,i));return{arrayValue:{values:n}}}class Cd extends Uc{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function J_(e){return Vt(e.integerValue||e.doubleValue)}function vA(e){return sp(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function YN(e,t){return e.field.isEqual(t.field)&&function(i,r){return i instanceof Zu&&r instanceof Zu||i instanceof Wu&&r instanceof Wu?qs(i.elements,r.elements,Tn):i instanceof Cd&&r instanceof Cd?Tn(i.Ae,r.Ae):i instanceof wd&&r instanceof wd}(e.transform,t.transform)}class Ar{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Ar}static exists(t){return new Ar(void 0,t)}static updateTime(t){return new Ar(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function lu(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class up{}function EA(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new $N(e.key,Ar.none()):new cp(e.key,e.data,Ar.none());{const n=e.data,i=hn.empty();let r=new Qt(ye.comparator);for(let s of t.fields)if(!r.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?i.delete(s):i.set(s,a),r=r.add(s)}return new kc(e.key,i,new Ci(r.toArray()),Ar.none())}}function QN(e,t,n){e instanceof cp?function(r,s,a){const l=r.value.clone(),u=W_(r.fieldTransforms,s,a.transformResults);l.setAll(u),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(e,t,n):e instanceof kc?function(r,s,a){if(!lu(r.precondition,s))return void s.convertToUnknownDocument(a.version);const l=W_(r.fieldTransforms,s,a.transformResults),u=s.data;u.setAll(TA(r)),u.setAll(l),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(e,t,n):function(r,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,t,n)}function oo(e,t,n,i){return e instanceof cp?function(s,a,l,u){if(!lu(s.precondition,a))return l;const c=s.value.clone(),f=tv(s.fieldTransforms,u,a);return c.setAll(f),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),null}(e,t,n,i):e instanceof kc?function(s,a,l,u){if(!lu(s.precondition,a))return l;const c=tv(s.fieldTransforms,u,a),f=a.data;return f.setAll(TA(s)),f.setAll(c),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(e,t,n,i):function(s,a,l){return lu(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(e,t,n)}function Z_(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&qs(i,r,(s,a)=>YN(s,a))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class cp extends up{constructor(t,n,i,r=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class kc extends up{constructor(t,n,i,r,s=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function TA(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function W_(e,t,n){const i=new Map;It(e.length===n.length,32656,{Ve:n.length,de:e.length});for(let r=0;r<n.length;r++){const s=e[r],a=s.transform,l=t.data.field(s.field);i.set(s.field,GN(a,l,n[r]))}return i}function tv(e,t,n){const i=new Map;for(const r of e){const s=r.transform,a=n.data.field(r.field);i.set(r.field,FN(s,a,t))}return i}class $N extends up{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(t,n,i,r){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&QN(s,t,i[r])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=oo(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=oo(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=gA();return this.mutations.forEach(r=>{const s=t.get(r.key),a=s.overlayedDocument;let l=this.applyToLocalView(a,s.mutatedFields);l=n.has(r.key)?null:l;const u=EA(a,l);u!==null&&i.set(r.key,u),a.isValidDocument()||a.convertToNoDocument(Q.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),ut())}isEqual(t){return this.batchId===t.batchId&&qs(this.mutations,t.mutations,(n,i)=>Z_(n,i))&&qs(this.baseMutations,t.baseMutations,(n,i)=>Z_(n,i))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt,ot;function SA(e){if(e===void 0)return ti("GRPC error has no .code"),z.UNKNOWN;switch(e){case Pt.OK:return z.OK;case Pt.CANCELLED:return z.CANCELLED;case Pt.UNKNOWN:return z.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return z.INTERNAL;case Pt.UNAVAILABLE:return z.UNAVAILABLE;case Pt.UNAUTHENTICATED:return z.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case Pt.NOT_FOUND:return z.NOT_FOUND;case Pt.ALREADY_EXISTS:return z.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return z.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case Pt.ABORTED:return z.ABORTED;case Pt.OUT_OF_RANGE:return z.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return z.UNIMPLEMENTED;case Pt.DATA_LOSS:return z.DATA_LOSS;default:return X(39323,{code:e})}}(ot=Pt||(Pt={}))[ot.OK=0]="OK",ot[ot.CANCELLED=1]="CANCELLED",ot[ot.UNKNOWN=2]="UNKNOWN",ot[ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ot[ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ot[ot.NOT_FOUND=5]="NOT_FOUND",ot[ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",ot[ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",ot[ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",ot[ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ot[ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ot[ot.ABORTED=10]="ABORTED",ot[ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",ot[ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",ot[ot.INTERNAL=13]="INTERNAL",ot[ot.UNAVAILABLE=14]="UNAVAILABLE",ot[ot.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4=new Bi([4294967295,4294967295],0);function ev(e){const t=WN().encode(e),n=new YS;return n.update(t),new Uint8Array(n.digest())}function nv(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Bi([n,i],0),new Bi([r,s],0)]}class hp{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Ba(`Invalid padding: ${n}`);if(i<0)throw new Ba(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Ba(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new Ba(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Bi.fromNumber(this.ge)}ye(t,n,i){let r=t.add(n.multiply(Bi.fromNumber(i)));return r.compare(t4)===1&&(r=new Bi([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=ev(t),[i,r]=nv(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(i,r,s);if(!this.we(a))return!1}return!0}static create(t,n,i){const r=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),a=new hp(s,r,n);return i.forEach(l=>a.insert(l)),a}insert(t){if(this.ge===0)return;const n=ev(t),[i,r]=nv(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(i,r,s);this.be(a)}}be(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class Ba extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(t,n,i,r,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const r=new Map;return r.set(t,tl.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new Pc(Q.min(),r,new Ut(st),Zi(),ut())}}class tl{constructor(t,n,i,r,s){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new tl(i,n,ut(),ut(),ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(t,n,i,r){this.Se=t,this.removedTargetIds=n,this.key=i,this.De=r}}class AA{constructor(t,n){this.targetId=t,this.Ce=n}}class bA{constructor(t,n,i=oe.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=r}}class iv{constructor(){this.ve=0,this.Fe=rv(),this.Me=oe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=ut(),n=ut(),i=ut();return this.Fe.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:X(38017,{changeType:s})}}),new tl(this.Me,this.xe,t,n,i)}Ke(){this.Oe=!1,this.Fe=rv()}qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,It(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class e4{constructor(t){this.Ge=t,this.ze=new Map,this.je=Zi(),this.He=Ul(),this.Je=Ul(),this.Ze=new Ut(st)}Xe(t){for(const n of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,n=>{const i=this.nt(n);switch(t.state){case 0:this.rt(n)&&i.Le(t.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(t.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.Qe(),i.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(t.resumeToken));break;default:X(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach((i,r)=>{this.rt(r)&&n(r)})}st(t){const n=t.targetId,i=t.Ce.count,r=this.ot(n);if(r){const s=r.target;if(bd(s))if(i===0){const a=new G(s.path);this.et(n,a,fe.newNoDocument(a,Q.min()))}else It(i===1,20013,{expectedCount:i});else{const a=this._t(n);if(a!==i){const l=this.ut(t),u=l?this.ct(l,t,a):1;if(u!==0){this.it(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,c)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n;let a,l;try{a=Xi(i).toUint8Array()}catch(u){if(u instanceof nA)return Hs("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new hp(a,r,s)}catch(u){return Hs(u instanceof Ba?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.ge===0?null:l}ct(t,n,i){return n.Ce.count===i-this.Pt(t,n.targetId)?0:2}Pt(t,n){const i=this.Ge.getRemoteKeysForTarget(n);let r=0;return i.forEach(s=>{const a=this.Ge.ht(),l=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;t.mightContain(l)||(this.et(n,s,null),r++)}),r}Tt(t){const n=new Map;this.ze.forEach((s,a)=>{const l=this.ot(a);if(l){if(s.current&&bd(l.target)){const u=new G(l.target.path);this.It(u).has(a)||this.Et(a,u)||this.et(a,u,fe.newNoDocument(u,t))}s.Be&&(n.set(a,s.ke()),s.Ke())}});let i=ut();this.Je.forEach((s,a)=>{let l=!0;a.forEachWhile(u=>{const c=this.ot(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(i=i.add(s))}),this.je.forEach((s,a)=>a.setReadTime(t));const r=new Pc(t,n,this.Ze,this.je,i);return this.je=Zi(),this.He=Ul(),this.Je=Ul(),this.Ze=new Ut(st),r}Ye(t,n){if(!this.rt(t))return;const i=this.Et(t,n.key)?2:0;this.nt(t).qe(n.key,i),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(t)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(t))}et(t,n,i){if(!this.rt(t))return;const r=this.nt(t);this.Et(t,n)?r.qe(n,1):r.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(t)),this.Je=this.Je.insert(n,this.Rt(n).add(t)),i&&(this.je=this.je.insert(n,i))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let n=this.ze.get(t);return n||(n=new iv,this.ze.set(t,n)),n}Rt(t){let n=this.Je.get(t);return n||(n=new Qt(st),this.Je=this.Je.insert(t,n)),n}It(t){let n=this.He.get(t);return n||(n=new Qt(st),this.He=this.He.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||q("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new iv),this.Ge.getRemoteKeysForTarget(t).forEach(n=>{this.et(t,n,null)})}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Ul(){return new Ut(G.comparator)}function rv(){return new Ut(G.comparator)}const n4={asc:"ASCENDING",desc:"DESCENDING"},i4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},r4={and:"AND",or:"OR"};class s4{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Id(e,t){return e.useProto3Json||Nc(t)?t:{value:t}}function a4(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function o4(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Cs(e){return It(!!e,49232),Q.fromTimestamp(function(n){const i=$i(n);return new Ht(i.seconds,i.nanos)}(e))}function l4(e,t){return Dd(e,t).canonicalString()}function Dd(e,t){const n=function(r){return new wt(["projects",r.projectId,"databases",r.database])}(e).child("documents");return t===void 0?n:n.child(t)}function RA(e){const t=wt.fromString(e);return It(OA(t),10190,{key:t.toString()}),t}function sf(e,t){const n=RA(t);if(n.get(1)!==e.databaseId.projectId)throw new F(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new F(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new G(CA(n))}function wA(e,t){return l4(e.databaseId,t)}function u4(e){const t=RA(e);return t.length===4?wt.emptyPath():CA(t)}function sv(e){return new wt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function CA(e){return It(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function c4(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:X(39313,{state:c})}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],s=function(c,f){return c.useProto3Json?(It(f===void 0||typeof f=="string",58123),oe.fromBase64String(f||"")):(It(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),oe.fromUint8Array(f||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,l=a&&function(c){const f=c.code===void 0?z.UNKNOWN:SA(c.code);return new F(f,c.message||"")}(a);n=new bA(i,r,s,l||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=sf(e,i.document.name),s=Cs(i.document.updateTime),a=i.document.createTime?Cs(i.document.createTime):Q.min(),l=new hn({mapValue:{fields:i.document.fields}}),u=fe.newFoundDocument(r,s,a,l),c=i.targetIds||[],f=i.removedTargetIds||[];n=new uu(c,f,u.key,u)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=sf(e,i.document),s=i.readTime?Cs(i.readTime):Q.min(),a=fe.newNoDocument(r,s),l=i.removedTargetIds||[];n=new uu([],l,a.key,a)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=sf(e,i.document),s=i.removedTargetIds||[];n=new uu([],s,r,null)}else{if(!("filter"in t))return X(11601,{Vt:t});{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,a=new ZN(r,s),l=i.targetId;n=new AA(l,a)}}return n}function h4(e,t){return{documents:[wA(e,t.path)]}}function f4(e,t){const n={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=wA(e,r);const s=function(c){if(c.length!==0)return DA(Sn.create(c,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(c){if(c.length!==0)return c.map(f=>function(p){return{field:es(p.field),direction:p4(p.dir)}}(f))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const l=Id(e,t.limit);return l!==null&&(n.structuredQuery.limit=l),t.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(t.endAt)),{ft:n,parent:r}}function d4(e){let t=u4(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){It(i===1,65062);const f=n.from[0];f.allDescendants?r=f.collectionId:t=t.child(f.collectionId)}let s=[];n.where&&(s=function(m){const p=IA(m);return p instanceof Sn&&uA(p)?p.getFilters():[p]}(n.where));let a=[];n.orderBy&&(a=function(m){return m.map(p=>function(C){return new Ju(ns(C.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(p))}(n.orderBy));let l=null;n.limit&&(l=function(m){let p;return p=typeof m=="object"?m.value:m,Nc(p)?null:p}(n.limit));let u=null;n.startAt&&(u=function(m){const p=!!m.before,y=m.values||[];return new Xu(y,p)}(n.startAt));let c=null;return n.endAt&&(c=function(m){const p=!m.before,y=m.values||[];return new Xu(y,p)}(n.endAt)),NN(t,r,a,s,l,"F",u,c)}function m4(e,t){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return X(28987,{purpose:r})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function IA(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=ns(n.unaryFilter.field);return Yt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=ns(n.unaryFilter.field);return Yt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ns(n.unaryFilter.field);return Yt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=ns(n.unaryFilter.field);return Yt.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return X(61313);default:return X(60726)}}(e):e.fieldFilter!==void 0?function(n){return Yt.create(ns(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return X(58110);default:return X(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Sn.create(n.compositeFilter.filters.map(i=>IA(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return X(1026)}}(n.compositeFilter.op))}(e):X(30097,{filter:e})}function p4(e){return n4[e]}function g4(e){return i4[e]}function y4(e){return r4[e]}function es(e){return{fieldPath:e.canonicalString()}}function ns(e){return ye.fromServerFormat(e.fieldPath)}function DA(e){return e instanceof Yt?function(n){if(n.op==="=="){if(K_(n.value))return{unaryFilter:{field:es(n.field),op:"IS_NAN"}};if(G_(n.value))return{unaryFilter:{field:es(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(K_(n.value))return{unaryFilter:{field:es(n.field),op:"IS_NOT_NAN"}};if(G_(n.value))return{unaryFilter:{field:es(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:es(n.field),op:g4(n.op),value:n.value}}}(e):e instanceof Sn?function(n){const i=n.getFilters().map(r=>DA(r));return i.length===1?i[0]:{compositeFilter:{op:y4(n.op),filters:i}}}(e):X(54877,{filter:e})}function OA(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(t,n,i,r,s=Q.min(),a=Q.min(),l=oe.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(t){return new Ii(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Ii(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ii(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ii(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(t){this.yt=t}}function v4(e){const t=d4({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Rd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(){this.Sn=new T4}addToCollectionParentIndex(t,n){return this.Sn.add(n),U.resolve()}getCollectionParents(t,n){return U.resolve(this.Sn.getEntries(n))}addFieldIndex(t,n){return U.resolve()}deleteFieldIndex(t,n){return U.resolve()}deleteAllFieldIndexes(t){return U.resolve()}createTargetIndexes(t,n){return U.resolve()}getDocumentsMatchingTarget(t,n){return U.resolve(null)}getIndexType(t,n){return U.resolve(0)}getFieldIndexes(t,n){return U.resolve([])}getNextCollectionGroupToUpdate(t){return U.resolve(null)}getMinOffset(t,n){return U.resolve(Qi.min())}getMinOffsetFromCollectionGroup(t,n){return U.resolve(Qi.min())}updateCollectionGroup(t,n,i){return U.resolve()}updateIndexEntries(t,n){return U.resolve()}}class T4{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n]||new Qt(wt.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Qt(wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},NA=41943040;class Re{static withCacheSize(t){return new Re(t,Re.DEFAULT_COLLECTION_PERCENTILE,Re.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Re.DEFAULT_COLLECTION_PERCENTILE=10,Re.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Re.DEFAULT=new Re(NA,Re.DEFAULT_COLLECTION_PERCENTILE,Re.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Re.DISABLED=new Re(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new Ks(0)}static ar(){return new Ks(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov="LruGarbageCollector",S4=1048576;function lv([e,t],[n,i]){const r=st(e,n);return r===0?st(t,i):r}class A4{constructor(t){this.Pr=t,this.buffer=new Qt(lv),this.Tr=0}Ir(){return++this.Tr}Er(t){const n=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();lv(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class b4{constructor(t,n,i){this.garbageCollector=t,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){q(ov,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){aa(n)?q(ov,"Ignoring IndexedDB error during garbage collection: ",n):await Dc(n)}await this.Ar(3e5)})}}class R4{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.dr(t).next(i=>Math.floor(n/100*i))}nthSequenceNumber(t,n){if(n===0)return U.resolve(Oc.ce);const i=new A4(n);return this.Vr.forEachTarget(t,r=>i.Er(r.sequenceNumber)).next(()=>this.Vr.mr(t,r=>i.Er(r))).next(()=>i.maxValue)}removeTargets(t,n,i){return this.Vr.removeTargets(t,n,i)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(q("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(av)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(q("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),av):this.gr(t,n))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,n){let i,r,s,a,l,u,c;const f=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),r=this.params.maximumSequenceNumbersToCollect):r=m,a=Date.now(),this.nthSequenceNumber(t,r))).next(m=>(i=m,l=Date.now(),this.removeTargets(t,i,n))).next(m=>(s=m,u=Date.now(),this.removeOrphanedDocuments(t,i))).next(m=>(c=Date.now(),Wr()<=it.DEBUG&&q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-f}ms
	Determined least recently used ${r} in `+(l-a)+`ms
	Removed ${s} targets in `+(u-l)+`ms
	Removed ${m} documents in `+(c-u)+`ms
Total Duration: ${c-f}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:m})))}}function w4(e,t){return new R4(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(){this.changes=new qr(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,fe.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?U.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(t,n,i,r){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,n))).next(r=>(i!==null&&oo(i.mutation,r,Ci.empty(),Ht.now()),r))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,ut()).next(()=>i))}getLocalViewOfDocuments(t,n,i=ut()){const r=pr();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,i).next(s=>{let a=za();return s.forEach((l,u)=>{a=a.insert(l,u.overlayedDocument)}),a}))}getOverlayedDocuments(t,n){const i=pr();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,ut()))}populateOverlays(t,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((a,l)=>{n.set(a,l)})})}computeViews(t,n,i,r){let s=Zi();const a=ao(),l=function(){return ao()}();return n.forEach((u,c)=>{const f=i.get(c.key);r.has(c.key)&&(f===void 0||f.mutation instanceof kc)?s=s.insert(c.key,c):f!==void 0?(a.set(c.key,f.mutation.getFieldMask()),oo(f.mutation,c,f.mutation.getFieldMask(),Ht.now())):a.set(c.key,Ci.empty())}),this.recalculateAndSaveOverlays(t,s).next(u=>(u.forEach((c,f)=>a.set(c,f)),n.forEach((c,f)=>l.set(c,new I4(f,a.get(c)??null))),l))}recalculateAndSaveOverlays(t,n){const i=ao();let r=new Ut((a,l)=>a-l),s=ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(a=>{for(const l of a)l.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let f=i.get(u)||Ci.empty();f=l.applyToLocalView(c,f),i.set(u,f);const m=(r.get(l.batchId)||ut()).add(u);r=r.insert(l.batchId,m)})}).next(()=>{const a=[],l=r.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),c=u.key,f=u.value,m=gA();f.forEach(p=>{if(!s.has(p)){const y=EA(n.get(p),i.get(p));y!==null&&m.set(p,y),s=s.add(p)}}),a.push(this.documentOverlayCache.saveOverlays(t,c,m))}return U.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,r){return MN(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):VN(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,r):this.getDocumentsMatchingCollectionQuery(t,n,i,r)}getNextDocuments(t,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,r).next(s=>{const a=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,r-s.size):U.resolve(pr());let l=Co,u=s;return a.next(c=>U.forEach(c,(f,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),s.get(f)?U.resolve():this.remoteDocumentCache.getEntry(t,f).next(p=>{u=u.insert(f,p)}))).next(()=>this.populateOverlays(t,c,s)).next(()=>this.computeViews(t,u,c,ut())).next(f=>({batchId:l,changes:PN(f)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new G(n)).next(i=>{let r=za();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,n,i,r){const s=n.collectionGroup;let a=za();return this.indexManager.getCollectionParents(t,s).next(l=>U.forEach(l,u=>{const c=function(m,p){return new Vc(p,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(t,c,i,r).next(f=>{f.forEach((m,p)=>{a=a.insert(m,p)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(t,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,s,r))).next(a=>{s.forEach((u,c)=>{const f=c.getKey();a.get(f)===null&&(a=a.insert(f,fe.newInvalidDocument(f)))});let l=za();return a.forEach((u,c)=>{const f=s.get(u);f!==void 0&&oo(f.mutation,c,Ci.empty(),Ht.now()),Lc(n,c)&&(l=l.insert(u,c))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,n){return U.resolve(this.Nr.get(n))}saveBundleMetadata(t,n){return this.Nr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Cs(r.createTime)}}(n)),U.resolve()}getNamedQuery(t,n){return U.resolve(this.Br.get(n))}saveNamedQuery(t,n){return this.Br.set(n.name,function(r){return{name:r.name,query:v4(r.bundledQuery),readTime:Cs(r.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(){this.overlays=new Ut(G.comparator),this.Lr=new Map}getOverlay(t,n){return U.resolve(this.overlays.get(n))}getOverlays(t,n){const i=pr();return U.forEach(n,r=>this.getOverlay(t,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((r,s)=>{this.bt(t,n,s)}),U.resolve()}removeOverlaysForBatchId(t,n,i){const r=this.Lr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Lr.delete(i)),U.resolve()}getOverlaysForCollection(t,n,i){const r=pr(),s=n.length+1,a=new G(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const u=l.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>i&&r.set(u.getKey(),u)}return U.resolve(r)}getOverlaysForCollectionGroup(t,n,i,r){let s=new Ut((c,f)=>c-f);const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>i){let f=s.get(c.largestBatchId);f===null&&(f=pr(),s=s.insert(c.largestBatchId,f)),f.set(c.getKey(),c)}}const l=pr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,f)=>l.set(c,f)),!(l.size()>=r)););return U.resolve(l)}bt(t,n,i){const r=this.overlays.get(i.key);if(r!==null){const a=this.Lr.get(r.largestBatchId).delete(i.key);this.Lr.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new JN(n,i));let s=this.Lr.get(n);s===void 0&&(s=ut(),this.Lr.set(n,s)),this.Lr.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(){this.sessionToken=oe.EMPTY_BYTE_STRING}getSessionToken(t){return U.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(){this.kr=new Qt(Jt.Kr),this.qr=new Qt(Jt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,n){const i=new Jt(t,n);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.Wr(new Jt(t,n))}Qr(t,n){t.forEach(i=>this.removeReference(i,n))}Gr(t){const n=new G(new wt([])),i=new Jt(n,t),r=new Jt(n,t+1),s=[];return this.qr.forEachInRange([i,r],a=>{this.Wr(a),s.push(a.key)}),s}zr(){this.kr.forEach(t=>this.Wr(t))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const n=new G(new wt([])),i=new Jt(n,t),r=new Jt(n,t+1);let s=ut();return this.qr.forEachInRange([i,r],a=>{s=s.add(a.key)}),s}containsKey(t){const n=new Jt(t,0),i=this.kr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class Jt{constructor(t,n){this.key=t,this.Hr=n}static Kr(t,n){return G.comparator(t.key,n.key)||st(t.Hr,n.Hr)}static Ur(t,n){return st(t.Hr,n.Hr)||G.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Qt(Jt.Kr)}checkEmpty(t){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,r){const s=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new XN(s,n,i,r);this.mutationQueue.push(a);for(const l of r)this.Jr=this.Jr.add(new Jt(l.key,s)),this.indexManager.addToCollectionParentIndex(t,l.key.path.popLast());return U.resolve(a)}lookupMutationBatch(t,n){return U.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,r=this.Xr(i),s=r<0?0:r;return U.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?uN:this.Yn-1)}getAllMutationBatches(t){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new Jt(n,0),r=new Jt(n,Number.POSITIVE_INFINITY),s=[];return this.Jr.forEachInRange([i,r],a=>{const l=this.Zr(a.Hr);s.push(l)}),U.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new Qt(st);return n.forEach(r=>{const s=new Jt(r,0),a=new Jt(r,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([s,a],l=>{i=i.add(l.Hr)})}),U.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,r=i.length+1;let s=i;G.isDocumentKey(s)||(s=s.child(""));const a=new Jt(new G(s),0);let l=new Qt(st);return this.Jr.forEachWhile(u=>{const c=u.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(l=l.add(u.Hr)),!0)},a),U.resolve(this.Yr(l))}Yr(t){const n=[];return t.forEach(i=>{const r=this.Zr(i);r!==null&&n.push(r)}),n}removeMutationBatch(t,n){It(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return U.forEach(n.mutations,r=>{const s=new Jt(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Jr=i})}nr(t){}containsKey(t,n){const i=new Jt(n,0),r=this.Jr.firstAfterOrEqual(i);return U.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,U.resolve()}ei(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(t){this.ti=t,this.docs=function(){return new Ut(G.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,a=this.ti(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return U.resolve(i?i.document.mutableCopy():fe.newInvalidDocument(n))}getEntries(t,n){let i=Zi();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():fe.newInvalidDocument(r))}),U.resolve(i)}getDocumentsMatchingQuery(t,n,i,r){let s=Zi();const a=n.path,l=new G(a.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:c,value:{document:f}}=u.getNext();if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||sN(rN(f),i)<=0||(r.has(f.key)||Lc(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return U.resolve(s)}getAllFromCollectionGroup(t,n,i,r){X(9500)}ni(t,n){return U.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new L4(this)}getSize(t){return U.resolve(this.size)}}class L4 extends C4{constructor(t){super(),this.Mr=t}applyChanges(t){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.Mr.addEntry(t,r)):this.Mr.removeEntry(i)}),U.waitFor(n)}getFromCache(t,n){return this.Mr.getEntry(t,n)}getAllFromCache(t,n){return this.Mr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(t){this.persistence=t,this.ri=new qr(n=>ap(n),op),this.lastRemoteSnapshotVersion=Q.min(),this.highestTargetId=0,this.ii=0,this.si=new fp,this.targetCount=0,this.oi=Ks._r()}forEachTarget(t,n){return this.ri.forEach((i,r)=>n(r)),U.resolve()}getLastRemoteSnapshotVersion(t){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return U.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ii&&(this.ii=n),U.resolve()}lr(t){this.ri.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.oi=new Ks(n),this.highestTargetId=n),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,n){return this.lr(n),this.targetCount+=1,U.resolve()}updateTargetData(t,n){return this.lr(n),U.resolve()}removeTargetData(t,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(t,n,i){let r=0;const s=[];return this.ri.forEach((a,l)=>{l.sequenceNumber<=n&&i.get(l.targetId)===null&&(this.ri.delete(a),s.push(this.removeMatchingKeysForTargetId(t,l.targetId)),r++)}),U.waitFor(s).next(()=>r)}getTargetCount(t){return U.resolve(this.targetCount)}getTargetData(t,n){const i=this.ri.get(n)||null;return U.resolve(i)}addMatchingKeys(t,n,i){return this.si.$r(n,i),U.resolve()}removeMatchingKeys(t,n,i){this.si.Qr(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(a=>{s.push(r.markPotentiallyOrphaned(t,a))}),U.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.si.Gr(n),U.resolve()}getMatchingKeysForTargetId(t,n){const i=this.si.jr(n);return U.resolve(i)}containsKey(t,n){return U.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(t,n){this._i={},this.overlays={},this.ai=new Oc(0),this.ui=!1,this.ui=!0,this.ci=new M4,this.referenceDelegate=t(this),this.li=new U4(this),this.indexManager=new E4,this.remoteDocumentCache=function(r){return new x4(r)}(i=>this.referenceDelegate.hi(i)),this.serializer=new _4(n),this.Pi=new O4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new N4,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this._i[t.toKey()];return i||(i=new V4(n,this.referenceDelegate),this._i[t.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,n,i){q("MemoryPersistence","Starting transaction:",t);const r=new k4(this.ai.next());return this.referenceDelegate.Ti(),i(r).next(s=>this.referenceDelegate.Ii(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ei(t,n){return U.or(Object.values(this._i).map(i=>()=>i.containsKey(t,n)))}}class k4 extends oN{constructor(t){super(),this.currentSequenceNumber=t}}class dp{constructor(t){this.persistence=t,this.Ri=new fp,this.Ai=null}static Vi(t){return new dp(t)}get di(){if(this.Ai)return this.Ai;throw X(60996)}addReference(t,n,i){return this.Ri.addReference(i,n),this.di.delete(i.toString()),U.resolve()}removeReference(t,n,i){return this.Ri.removeReference(i,n),this.di.add(i.toString()),U.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),U.resolve()}removeTarget(t,n){this.Ri.Gr(n.targetId).forEach(r=>this.di.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(r=>{r.forEach(s=>this.di.add(s.toString()))}).next(()=>i.removeTargetData(t,n))}Ti(){this.Ai=new Set}Ii(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.di,i=>{const r=G.fromPath(i);return this.mi(t,r).next(s=>{s||n.removeEntry(r,Q.min())})}).next(()=>(this.Ai=null,n.apply(t)))}updateLimboDocument(t,n){return this.mi(t,n).next(i=>{i?this.di.delete(n.toString()):this.di.add(n.toString())})}hi(t){return 0}mi(t,n){return U.or([()=>U.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class tc{constructor(t,n){this.persistence=t,this.fi=new qr(i=>cN(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=w4(this,n)}static Vi(t,n){return new tc(t,n)}Ti(){}Ii(t){return U.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>n.next(r=>i+r))}pr(t){let n=0;return this.mr(t,i=>{n++}).next(()=>n)}mr(t,n){return U.forEach(this.fi,(i,r)=>this.wr(t,i,r).next(s=>s?U.resolve():n(r)))}removeTargets(t,n,i){return this.persistence.getTargetCache().removeTargets(t,n,i)}removeOrphanedDocuments(t,n){let i=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.ni(t,a=>this.wr(t,a,n).next(l=>{l||(i++,s.removeEntry(a,Q.min()))})).next(()=>s.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,n){return this.fi.set(n,t.currentSequenceNumber),U.resolve()}removeTarget(t,n){const i=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,n,i){return this.fi.set(i,t.currentSequenceNumber),U.resolve()}removeReference(t,n,i){return this.fi.set(i,t.currentSequenceNumber),U.resolve()}updateLimboDocument(t,n){return this.fi.set(n,t.currentSequenceNumber),U.resolve()}hi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=ou(t.data.value)),n}wr(t,n,i){return U.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const r=this.fi.get(n);return U.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(t,n,i,r){this.targetId=t,this.fromCache=n,this.Ts=i,this.Is=r}static Es(t,n){let i=ut(),r=ut();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new mp(t,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return A2()?8:lN(de())>0?6:4}()}initialize(t,n){this.fs=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,i,r){const s={result:null};return this.gs(t,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.ps(t,n,r,i).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new P4;return this.ys(t,n,a).next(l=>{if(s.result=l,this.As)return this.ws(t,n,a,l.size)})}).next(()=>s.result)}ws(t,n,i,r){return i.documentReadCount<this.Vs?(Wr()<=it.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",ts(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),U.resolve()):(Wr()<=it.DEBUG&&q("QueryEngine","Query:",ts(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ds*r?(Wr()<=it.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",ts(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,En(n))):U.resolve())}gs(t,n){if(X_(n))return U.resolve(null);let i=En(n);return this.indexManager.getIndexType(t,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Rd(n,null,"F"),i=En(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const a=ut(...s);return this.fs.getDocuments(t,a).next(l=>this.indexManager.getMinOffset(t,i).next(u=>{const c=this.bs(n,l);return this.Ss(n,c,a,u.readTime)?this.gs(t,Rd(n,null,"F")):this.Ds(t,c,n,u)}))})))}ps(t,n,i,r){return X_(n)||r.isEqual(Q.min())?U.resolve(null):this.fs.getDocuments(t,i).next(s=>{const a=this.bs(n,s);return this.Ss(n,a,i,r)?U.resolve(null):(Wr()<=it.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ts(n)),this.Ds(t,a,n,iN(r,Co)).next(l=>l))})}bs(t,n){let i=new Qt(mA(t));return n.forEach((r,s)=>{Lc(t,s)&&(i=i.add(s))}),i}Ss(t,n,i,r){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}ys(t,n,i){return Wr()<=it.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",ts(n)),this.fs.getDocumentsMatchingQuery(t,n,Qi.min(),i)}Ds(t,n,i,r){return this.fs.getDocumentsMatchingQuery(t,i,r).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pp="LocalStore",B4=3e8;class j4{constructor(t,n,i,r){this.persistence=t,this.Cs=n,this.serializer=r,this.vs=new Ut(st),this.Fs=new qr(s=>ap(s),op),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(i)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new D4(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.vs))}}function H4(e,t,n,i){return new j4(e,t,n,i)}async function VA(e,t){const n=lt(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.Os(t),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const a=[],l=[];let u=ut();for(const c of r){a.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}for(const c of s){l.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(i,u).next(c=>({Ns:c,removedBatchIds:a,addedBatchIds:l}))})})}function xA(e){const t=lt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.li.getLastRemoteSnapshotVersion(n))}function q4(e,t){const n=lt(e),i=t.snapshotVersion;let r=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.xs.newChangeBuffer({trackRemovals:!0});r=n.vs;const l=[];t.targetChanges.forEach((f,m)=>{const p=r.get(m);if(!p)return;l.push(n.li.removeMatchingKeys(s,f.removedDocuments,m).next(()=>n.li.addMatchingKeys(s,f.addedDocuments,m)));let y=p.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(m)!==null?y=y.withResumeToken(oe.EMPTY_BYTE_STRING,Q.min()).withLastLimboFreeSnapshotVersion(Q.min()):f.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(f.resumeToken,i)),r=r.insert(m,y),function(N,M,S){return N.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=B4?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(p,y,f)&&l.push(n.li.updateTargetData(s,y))});let u=Zi(),c=ut();if(t.documentUpdates.forEach(f=>{t.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),l.push(F4(s,a,t.documentUpdates).next(f=>{u=f.Bs,c=f.Ls})),!i.isEqual(Q.min())){const f=n.li.getLastRemoteSnapshotVersion(s).next(m=>n.li.setTargetsMetadata(s,s.currentSequenceNumber,i));l.push(f)}return U.waitFor(l).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.vs=r,s))}function F4(e,t,n){let i=ut(),r=ut();return n.forEach(s=>i=i.add(s)),t.getEntries(e,i).next(s=>{let a=Zi();return n.forEach((l,u)=>{const c=s.get(l);u.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(l)),u.isNoDocument()&&u.version.isEqual(Q.min())?(t.removeEntry(l,u.readTime),a=a.insert(l,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(u),a=a.insert(l,u)):q(pp,"Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",u.version)}),{Bs:a,Ls:r}})}function G4(e,t){const n=lt(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.li.getTargetData(i,t).next(s=>s?(r=s,U.resolve(r)):n.li.allocateTargetId(i).next(a=>(r=new Ii(t,a,"TargetPurposeListen",i.currentSequenceNumber),n.li.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.vs.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.vs=n.vs.insert(i.targetId,i),n.Fs.set(t,i.targetId)),i})}async function Od(e,t,n){const i=lt(e),r=i.vs.get(t),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,a=>i.persistence.referenceDelegate.removeTarget(a,r))}catch(a){if(!aa(a))throw a;q(pp,`Failed to update sequence numbers for target ${t}: ${a}`)}i.vs=i.vs.remove(t),i.Fs.delete(r.target)}function uv(e,t,n){const i=lt(e);let r=Q.min(),s=ut();return i.persistence.runTransaction("Execute query","readwrite",a=>function(u,c,f){const m=lt(u),p=m.Fs.get(f);return p!==void 0?U.resolve(m.vs.get(p)):m.li.getTargetData(c,f)}(i,a,En(t)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(a,l.targetId).next(u=>{s=u})}).next(()=>i.Cs.getDocumentsMatchingQuery(a,t,n?r:Q.min(),n?s:ut())).next(l=>(K4(i,LN(t),l),{documents:l,ks:s})))}function K4(e,t,n){let i=e.Ms.get(t)||Q.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),e.Ms.set(t,i)}class cv{constructor(){this.activeTargetIds=jN()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Y4{constructor(){this.vo=new cv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,n,i){this.Fo[t]=n}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new cv,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{Mo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv="ConnectivityMonitor";class fv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){q(hv,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){q(hv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kl=null;function Nd(){return kl===null?kl=function(){return 268435456+Math.round(2147483648*Math.random())}():kl++,"0x"+kl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const af="RestConnection",$4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class X4{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+t.host,this.Uo=`projects/${i}/databases/${r}`,this.$o=this.databaseId.database===$u?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Wo(t,n,i,r,s){const a=Nd(),l=this.Qo(t,n.toUriEncodedString());q(af,`Sending RPC '${t}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(u,r,s);const{host:c}=new URL(l),f=jr(c);return this.zo(t,l,u,i,f).then(m=>(q(af,`Received RPC '${t}' ${a}: `,m),m),m=>{throw Hs(af,`RPC '${t}' ${a} failed with error: `,m,"url: ",l,"request:",i),m})}jo(t,n,i,r,s,a){return this.Wo(t,n,i,r,s)}Go(t,n,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+sa}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,s)=>t[s]=r),i&&i.headers.forEach((r,s)=>t[s]=r)}Qo(t,n){const i=$4[t];let r=`${this.qo}/v1/${n}:${i}`;return this.databaseInfo.apiKey&&(r=`${r}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),r}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce="WebChannelConnection",Ma=(e,t,n)=>{e.listen(t,i=>{try{n(i)}catch(r){setTimeout(()=>{throw r},0)}})};class Is extends X4{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Is.c_){const t=JS();Ma(t,XS.STAT_EVENT,n=>{n.stat===gd.PROXY?q(ce,"STAT_EVENT: detected buffering proxy"):n.stat===gd.NOPROXY&&q(ce,"STAT_EVENT: detected no buffering proxy")}),Is.c_=!0}}zo(t,n,i,r,s){const a=Nd();return new Promise((l,u)=>{const c=new QS;c.setWithCredentials(!0),c.listenOnce($S.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case au.NO_ERROR:const m=c.getResponseJson();q(ce,`XHR for RPC '${t}' ${a} received:`,JSON.stringify(m)),l(m);break;case au.TIMEOUT:q(ce,`RPC '${t}' ${a} timed out`),u(new F(z.DEADLINE_EXCEEDED,"Request time out"));break;case au.HTTP_ERROR:const p=c.getStatus();if(q(ce,`RPC '${t}' ${a} failed with status:`,p,"response text:",c.getResponseText()),p>0){let y=c.getResponseJson();Array.isArray(y)&&(y=y[0]);const C=y==null?void 0:y.error;if(C&&C.status&&C.message){const N=function(S){const v=S.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(v)>=0?v:z.UNKNOWN}(C.status);u(new F(N,C.message))}else u(new F(z.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new F(z.UNAVAILABLE,"Connection failed."));break;default:X(9055,{l_:t,streamId:a,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{q(ce,`RPC '${t}' ${a} completed.`)}});const f=JSON.stringify(r);q(ce,`RPC '${t}' ${a} sending request:`,r),c.send(n,"POST",f,i,15)})}T_(t,n,i){const r=Nd(),s=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=this.createWebChannelTransport(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Go(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;const c=s.join("");q(ce,`Creating RPC '${t}' stream ${r}: ${c}`,l);const f=a.createWebChannel(c,l);this.I_(f);let m=!1,p=!1;const y=new J4({Ho:C=>{p?q(ce,`Not sending because RPC '${t}' stream ${r} is closed:`,C):(m||(q(ce,`Opening RPC '${t}' stream ${r} transport.`),f.open(),m=!0),q(ce,`RPC '${t}' stream ${r} sending:`,C),f.send(C))},Jo:()=>f.close()});return Ma(f,Pa.EventType.OPEN,()=>{p||(q(ce,`RPC '${t}' stream ${r} transport opened.`),y.i_())}),Ma(f,Pa.EventType.CLOSE,()=>{p||(p=!0,q(ce,`RPC '${t}' stream ${r} transport closed`),y.o_(),this.E_(f))}),Ma(f,Pa.EventType.ERROR,C=>{p||(p=!0,Hs(ce,`RPC '${t}' stream ${r} transport errored. Name:`,C.name,"Message:",C.message),y.o_(new F(z.UNAVAILABLE,"The operation could not be completed")))}),Ma(f,Pa.EventType.MESSAGE,C=>{var N;if(!p){const M=C.data[0];It(!!M,16349);const S=M,v=(S==null?void 0:S.error)||((N=S[0])==null?void 0:N.error);if(v){q(ce,`RPC '${t}' stream ${r} received error:`,v);const A=v.status;let I=function(E){const _=Pt[E];if(_!==void 0)return SA(_)}(A),k=v.message;I===void 0&&(I=z.INTERNAL,k="Unknown error status: "+A+" with message "+v.message),p=!0,y.o_(new F(I,k)),f.close()}else q(ce,`RPC '${t}' stream ${r} received:`,M),y.__(M)}}),Is.u_(),setTimeout(()=>{y.s_()},0),y}terminate(){this.a_.forEach(t=>t.close()),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter(n=>n===t)}Go(t,n,i){super.Go(t,n,i),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return ZS()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z4(e){return new Is(e)}function of(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(e){return new s4(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Is.c_=!1;class UA{constructor(t,n,i=1e3,r=1.5,s=6e4){this.Ci=t,this.timerId=n,this.R_=i,this.A_=r,this.V_=s,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,n-i);r>0&&q("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),t())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv="PersistentStream";class W4{constructor(t,n,i,r,s,a,l,u){this.Ci=t,this.b_=i,this.S_=r,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new UA(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(ti(n.toString()),ti("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(n)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.D_===n&&this.G_(i,r)},i=>{t(()=>{const r=new F(z.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(r)})})}G_(t,n){const i=this.Q_(this.D_);this.stream=this.j_(t,n),this.stream.Zo(()=>{i(()=>this.listener.Zo())}),this.stream.Yo(()=>{i(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(r=>{i(()=>this.z_(r))}),this.stream.onMessage(r=>{i(()=>++this.F_==1?this.H_(r):this.onNext(r))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return q(dv,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return n=>{this.Ci.enqueueAndForget(()=>this.D_===t?n():(q(dv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class tM extends W4{constructor(t,n,i,r,s,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,a),this.serializer=s}j_(t,n){return this.connection.T_("Listen",t,n)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=c4(this.serializer,t),i=function(s){if(!("targetChange"in s))return Q.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Q.min():a.readTime?Cs(a.readTime):Q.min()}(t);return this.listener.J_(n,i)}Z_(t){const n={};n.database=sv(this.serializer),n.addTarget=function(s,a){let l;const u=a.target;if(l=bd(u)?{documents:h4(s,u)}:{query:f4(s,u).ft},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=o4(s,a.resumeToken);const c=Id(s,a.expectedCount);c!==null&&(l.expectedCount=c)}else if(a.snapshotVersion.compareTo(Q.min())>0){l.readTime=a4(s,a.snapshotVersion.toTimestamp());const c=Id(s,a.expectedCount);c!==null&&(l.expectedCount=c)}return l}(this.serializer,t);const i=m4(this.serializer,t);i&&(n.labels=i),this.K_(n)}X_(t){const n={};n.database=sv(this.serializer),n.removeTarget=t,this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{}class nM extends eM{constructor(t,n,i,r){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new F(z.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Wo(t,Dd(n,i),r,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new F(z.UNKNOWN,s.toString())})}jo(t,n,i,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.jo(t,Dd(n,i),r,a,l,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new F(z.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function iM(e,t,n,i){return new nM(e,t,n,i)}class rM{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ti(n),this.aa=!1):q("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys="RemoteStore";class sM{constructor(t,n,i,r,s){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=s,this.Aa.Mo(a=>{i.enqueueAndForget(async()=>{nl(this)&&(q(Ys,"Restarting streams for network reachability change."),await async function(u){const c=lt(u);c.Ea.add(4),await el(c),c.Va.set("Unknown"),c.Ea.delete(4),await zc(c)}(this))})}),this.Va=new rM(i,r)}}async function zc(e){if(nl(e))for(const t of e.Ra)await t(!0)}async function el(e){for(const t of e.Ra)await t(!1)}function kA(e,t){const n=lt(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),vp(n)?_p(n):oa(n).O_()&&yp(n,t))}function gp(e,t){const n=lt(e),i=oa(n);n.Ia.delete(t),i.O_()&&PA(n,t),n.Ia.size===0&&(i.O_()?i.L_():nl(n)&&n.Va.set("Unknown"))}function yp(e,t){if(e.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Q.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}oa(e).Z_(t)}function PA(e,t){e.da.$e(t),oa(e).X_(t)}function _p(e){e.da=new e4({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),oa(e).start(),e.Va.ua()}function vp(e){return nl(e)&&!oa(e).x_()&&e.Ia.size>0}function nl(e){return lt(e).Ea.size===0}function zA(e){e.da=void 0}async function aM(e){e.Va.set("Online")}async function oM(e){e.Ia.forEach((t,n)=>{yp(e,t)})}async function lM(e,t){zA(e),vp(e)?(e.Va.ha(t),_p(e)):e.Va.set("Unknown")}async function uM(e,t,n){if(e.Va.set("Online"),t instanceof bA&&t.state===2&&t.cause)try{await async function(r,s){const a=s.cause;for(const l of s.targetIds)r.Ia.has(l)&&(await r.remoteSyncer.rejectListen(l,a),r.Ia.delete(l),r.da.removeTarget(l))}(e,t)}catch(i){q(Ys,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await mv(e,i)}else if(t instanceof uu?e.da.Xe(t):t instanceof AA?e.da.st(t):e.da.tt(t),!n.isEqual(Q.min()))try{const i=await xA(e.localStore);n.compareTo(i)>=0&&await function(s,a){const l=s.da.Tt(a);return l.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const f=s.Ia.get(c);f&&s.Ia.set(c,f.withResumeToken(u.resumeToken,a))}}),l.targetMismatches.forEach((u,c)=>{const f=s.Ia.get(u);if(!f)return;s.Ia.set(u,f.withResumeToken(oe.EMPTY_BYTE_STRING,f.snapshotVersion)),PA(s,u);const m=new Ii(f.target,u,c,f.sequenceNumber);yp(s,m)}),s.remoteSyncer.applyRemoteEvent(l)}(e,n)}catch(i){q(Ys,"Failed to raise snapshot:",i),await mv(e,i)}}async function mv(e,t,n){if(!aa(t))throw t;e.Ea.add(1),await el(e),e.Va.set("Offline"),n||(n=()=>xA(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{q(Ys,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await zc(e)})}async function pv(e,t){const n=lt(e);n.asyncQueue.verifyOperationInProgress(),q(Ys,"RemoteStore received new credentials");const i=nl(n);n.Ea.add(3),await el(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await zc(n)}async function cM(e,t){const n=lt(e);t?(n.Ea.delete(2),await zc(n)):t||(n.Ea.add(2),await el(n),n.Va.set("Unknown"))}function oa(e){return e.ma||(e.ma=function(n,i,r){const s=lt(n);return s.sa(),new tM(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(e.datastore,e.asyncQueue,{Zo:aM.bind(null,e),Yo:oM.bind(null,e),t_:lM.bind(null,e),J_:uM.bind(null,e)}),e.Ra.push(async t=>{t?(e.ma.B_(),vp(e)?_p(e):e.Va.set("Unknown")):(await e.ma.stop(),zA(e))})),e.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(t,n,i,r,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Sr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,r,s){const a=Date.now()+i,l=new Ep(t,n,a,r,s);return l.start(i),l}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new F(z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function BA(e,t){if(ti("AsyncQueue",`${t}: ${e}`),aa(e))return new F(z.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{static emptySet(t){return new Ds(t.comparator)}constructor(t){this.comparator=t?(n,i)=>t(n,i)||G.comparator(n.key,i.key):(n,i)=>G.comparator(n.key,i.key),this.keyedMap=za(),this.sortedSet=new Ut(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Ds)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new Ds;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(){this.ga=new Ut(G.comparator)}track(t){const n=t.doc.key,i=this.ga.get(n);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(n,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(n):t.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):X(63341,{Vt:t,pa:i}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal((n,i)=>{t.push(i)}),t}}class Qs{constructor(t,n,i,r,s,a,l,u,c){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(t,n,i,r,s){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new Qs(t,n,Ds.emptySet(n),a,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&xc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(t=>t.Da())}}class fM{constructor(){this.queries=yv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const r=lt(n),s=r.queries;r.queries=yv(),s.forEach((a,l)=>{for(const u of l.ba)u.onError(i)})})(this,new F(z.ABORTED,"Firestore shutting down"))}}function yv(){return new qr(e=>dA(e),xc)}async function dM(e,t){const n=lt(e);let i=3;const r=t.query;let s=n.queries.get(r);s?!s.Sa()&&t.Da()&&(i=2):(s=new hM,i=t.Da()?0:1);try{switch(i){case 0:s.wa=await n.onListen(r,!0);break;case 1:s.wa=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(a){const l=BA(a,`Initialization of query '${ts(t.query)}' failed`);return void t.onError(l)}n.queries.set(r,s),s.ba.push(t),t.va(n.onlineState),s.wa&&t.Fa(s.wa)&&Tp(n)}async function mM(e,t){const n=lt(e),i=t.query;let r=3;const s=n.queries.get(i);if(s){const a=s.ba.indexOf(t);a>=0&&(s.ba.splice(a,1),s.ba.length===0?r=t.Da()?0:1:!s.Sa()&&t.Da()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function pM(e,t){const n=lt(e);let i=!1;for(const r of t){const s=r.query,a=n.queries.get(s);if(a){for(const l of a.ba)l.Fa(r)&&(i=!0);a.wa=r}}i&&Tp(n)}function gM(e,t,n){const i=lt(e),r=i.queries.get(t);if(r)for(const s of r.ba)s.onError(n);i.queries.delete(t)}function Tp(e){e.Ca.forEach(t=>{t.next()})}var Md,_v;(_v=Md||(Md={})).Ma="default",_v.Cache="cache";class yM{constructor(t,n,i){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new Qs(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.Ka||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=Qs.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Md.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(t){this.key=t}}class HA{constructor(t){this.key=t}}class _M{constructor(t,n){this.query=t,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ut(),this.mutatedKeys=ut(),this.eu=mA(t),this.tu=new Ds(this.eu)}get nu(){return this.Za}ru(t,n){const i=n?n.iu:new gv,r=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,a=r,l=!1;const u=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((f,m)=>{const p=r.get(f),y=Lc(this.query,m)?m:null,C=!!p&&this.mutatedKeys.has(p.key),N=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let M=!1;p&&y?p.data.isEqual(y.data)?C!==N&&(i.track({type:3,doc:y}),M=!0):this.su(p,y)||(i.track({type:2,doc:y}),M=!0,(u&&this.eu(y,u)>0||c&&this.eu(y,c)<0)&&(l=!0)):!p&&y?(i.track({type:0,doc:y}),M=!0):p&&!y&&(i.track({type:1,doc:p}),M=!0,(u||c)&&(l=!0)),M&&(y?(a=a.add(y),s=N?s.add(f):s.delete(f)):(a=a.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const f=this.query.limitType==="F"?a.last():a.first();a=a.delete(f.key),s=s.delete(f.key),i.track({type:1,doc:f})}return{tu:a,iu:i,Ss:l,mutatedKeys:s}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,r){const s=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const a=t.iu.ya();a.sort((f,m)=>function(y,C){const N=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return X(20277,{Vt:M})}};return N(y)-N(C)}(f.type,m.type)||this.eu(f.doc,m.doc)),this.ou(i),r=r??!1;const l=n&&!r?this._u():[],u=this.Ya.size===0&&this.current&&!r?1:0,c=u!==this.Xa;return this.Xa=u,a.length!==0||c?{snapshot:new Qs(this.query,t.tu,s,a,t.mutatedKeys,u===0,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new gv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(n=>this.Za=this.Za.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Za=this.Za.delete(n)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=ut(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))});const n=[];return t.forEach(i=>{this.Ya.has(i)||n.push(new HA(i))}),this.Ya.forEach(i=>{t.has(i)||n.push(new jA(i))}),n}cu(t){this.Za=t.ks,this.Ya=ut();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return Qs.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Sp="SyncEngine";class vM{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class EM{constructor(t){this.key=t,this.hu=!1}}class TM{constructor(t,n,i,r,s,a){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new qr(l=>dA(l),xc),this.Iu=new Map,this.Eu=new Set,this.Ru=new Ut(G.comparator),this.Au=new Map,this.Vu=new fp,this.du={},this.mu=new Map,this.fu=Ks.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function SM(e,t,n=!0){const i=YA(e);let r;const s=i.Tu.get(t);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.lu()):r=await qA(i,t,n,!0),r}async function AM(e,t){const n=YA(e);await qA(n,t,!0,!1)}async function qA(e,t,n,i){const r=await G4(e.localStore,En(t)),s=r.targetId,a=e.sharedClientState.addLocalQueryTarget(s,n);let l;return i&&(l=await bM(e,t,s,a==="current",r.resumeToken)),e.isPrimaryClient&&n&&kA(e.remoteStore,r),l}async function bM(e,t,n,i,r){e.pu=(m,p,y)=>async function(N,M,S,v){let A=M.view.ru(S);A.Ss&&(A=await uv(N.localStore,M.query,!1).then(({documents:E})=>M.view.ru(E,A)));const I=v&&v.targetChanges.get(M.targetId),k=v&&v.targetMismatches.get(M.targetId)!=null,j=M.view.applyChanges(A,N.isPrimaryClient,I,k);return Ev(N,M.targetId,j.au),j.snapshot}(e,m,p,y);const s=await uv(e.localStore,t,!0),a=new _M(t,s.ks),l=a.ru(s.documents),u=tl.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",r),c=a.applyChanges(l,e.isPrimaryClient,u);Ev(e,n,c.au);const f=new vM(t,n,a);return e.Tu.set(t,f),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}async function RM(e,t,n){const i=lt(e),r=i.Tu.get(t),s=i.Iu.get(r.targetId);if(s.length>1)return i.Iu.set(r.targetId,s.filter(a=>!xc(a,t))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await Od(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&gp(i.remoteStore,r.targetId),Vd(i,r.targetId)}).catch(Dc)):(Vd(i,r.targetId),await Od(i.localStore,r.targetId,!0))}async function wM(e,t){const n=lt(e),i=n.Tu.get(t),r=n.Iu.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),gp(n.remoteStore,i.targetId))}async function FA(e,t){const n=lt(e);try{const i=await q4(n.localStore,t);t.targetChanges.forEach((r,s)=>{const a=n.Au.get(s);a&&(It(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?a.hu=!0:r.modifiedDocuments.size>0?It(a.hu,14607):r.removedDocuments.size>0&&(It(a.hu,42227),a.hu=!1))}),await KA(n,i,t)}catch(i){await Dc(i)}}function vv(e,t,n){const i=lt(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.Tu.forEach((s,a)=>{const l=a.view.va(t);l.snapshot&&r.push(l.snapshot)}),function(a,l){const u=lt(a);u.onlineState=l;let c=!1;u.queries.forEach((f,m)=>{for(const p of m.ba)p.va(l)&&(c=!0)}),c&&Tp(u)}(i.eventManager,t),r.length&&i.Pu.J_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function CM(e,t,n){const i=lt(e);i.sharedClientState.updateQueryState(t,"rejected",n);const r=i.Au.get(t),s=r&&r.key;if(s){let a=new Ut(G.comparator);a=a.insert(s,fe.newNoDocument(s,Q.min()));const l=ut().add(s),u=new Pc(Q.min(),new Map,new Ut(st),a,l);await FA(i,u),i.Ru=i.Ru.remove(s),i.Au.delete(t),Ap(i)}else await Od(i.localStore,t,!1).then(()=>Vd(i,t,n)).catch(Dc)}function Vd(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Iu.get(t))e.Tu.delete(i),n&&e.Pu.yu(i,n);e.Iu.delete(t),e.isPrimaryClient&&e.Vu.Gr(t).forEach(i=>{e.Vu.containsKey(i)||GA(e,i)})}function GA(e,t){e.Eu.delete(t.path.canonicalString());const n=e.Ru.get(t);n!==null&&(gp(e.remoteStore,n),e.Ru=e.Ru.remove(t),e.Au.delete(n),Ap(e))}function Ev(e,t,n){for(const i of n)i instanceof jA?(e.Vu.addReference(i.key,t),IM(e,i)):i instanceof HA?(q(Sp,"Document no longer in limbo: "+i.key),e.Vu.removeReference(i.key,t),e.Vu.containsKey(i.key)||GA(e,i.key)):X(19791,{wu:i})}function IM(e,t){const n=t.key,i=n.path.canonicalString();e.Ru.get(n)||e.Eu.has(i)||(q(Sp,"New document in limbo: "+n),e.Eu.add(i),Ap(e))}function Ap(e){for(;e.Eu.size>0&&e.Ru.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new G(wt.fromString(t)),i=e.fu.next();e.Au.set(i,new EM(n)),e.Ru=e.Ru.insert(n,i),kA(e.remoteStore,new Ii(En(lp(n.path)),i,"TargetPurposeLimboResolution",Oc.ce))}}async function KA(e,t,n){const i=lt(e),r=[],s=[],a=[];i.Tu.isEmpty()||(i.Tu.forEach((l,u)=>{a.push(i.pu(u,t,n).then(c=>{var f;if((c||n)&&i.isPrimaryClient){const m=c?!c.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:f.current;i.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(c){r.push(c);const m=mp.Es(u.targetId,c);s.push(m)}}))}),await Promise.all(a),i.Pu.J_(r),await async function(u,c){const f=lt(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>U.forEach(c,p=>U.forEach(p.Ts,y=>f.persistence.referenceDelegate.addReference(m,p.targetId,y)).next(()=>U.forEach(p.Is,y=>f.persistence.referenceDelegate.removeReference(m,p.targetId,y)))))}catch(m){if(!aa(m))throw m;q(pp,"Failed to update sequence numbers: "+m)}for(const m of c){const p=m.targetId;if(!m.fromCache){const y=f.vs.get(p),C=y.snapshotVersion,N=y.withLastLimboFreeSnapshotVersion(C);f.vs=f.vs.insert(p,N)}}}(i.localStore,s))}async function DM(e,t){const n=lt(e);if(!n.currentUser.isEqual(t)){q(Sp,"User change. New user:",t.toKey());const i=await VA(n.localStore,t);n.currentUser=t,function(s,a){s.mu.forEach(l=>{l.forEach(u=>{u.reject(new F(z.CANCELLED,a))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await KA(n,i.Ns)}}function OM(e,t){const n=lt(e),i=n.Au.get(t);if(i&&i.hu)return ut().add(i.key);{let r=ut();const s=n.Iu.get(t);if(!s)return r;for(const a of s){const l=n.Tu.get(a);r=r.unionWith(l.view.nu)}return r}}function YA(e){const t=lt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=FA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=OM.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=CM.bind(null,t),t.Pu.J_=pM.bind(null,t.eventManager),t.Pu.yu=gM.bind(null,t.eventManager),t}class ec{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=LA(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return H4(this.persistence,new z4,t.initialUser,this.serializer)}Cu(t){return new MA(dp.Vi,this.serializer)}Du(t){return new Y4}async terminate(){var t,n;(t=this.gcScheduler)==null||t.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ec.provider={build:()=>new ec};class NM extends ec{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){It(this.persistence.referenceDelegate instanceof tc,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new b4(i,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?Re.withCacheSize(this.cacheSizeBytes):Re.DEFAULT;return new MA(i=>tc.Vi(i,n),this.serializer)}}class xd{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>vv(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=DM.bind(null,this.syncEngine),await cM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new fM}()}createDatastore(t){const n=LA(t.databaseInfo.databaseId),i=Z4(t.databaseInfo);return iM(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,r,s,a,l){return new sM(i,r,s,a,l)}(this.localStore,this.datastore,t.asyncQueue,n=>vv(this.syncEngine,n,0),function(){return fv.v()?new fv:new Q4}())}createSyncEngine(t,n){return function(r,s,a,l,u,c,f){const m=new TM(r,s,a,l,u,c);return f&&(m.gu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(r){const s=lt(r);q(Ys,"RemoteStore shutting down."),s.Ea.add(5),await el(s),s.Aa.shutdown(),s.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)==null||t.terminate(),(n=this.eventManager)==null||n.terminate()}}xd.provider={build:()=>new xd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ti("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi="FirestoreClient";class VM{constructor(t,n,i,r,s){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this._databaseInfo=r,this.user=he.UNAUTHENTICATED,this.clientId=ip.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,async a=>{q(Wi,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(i,a=>(q(Wi,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Sr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=BA(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function lf(e,t){e.asyncQueue.verifyOperationInProgress(),q(Wi,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async r=>{i.isEqual(r)||(await VA(t.localStore,r),i=r)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Tv(e,t){e.asyncQueue.verifyOperationInProgress();const n=await xM(e);q(Wi,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(i=>pv(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,r)=>pv(t.remoteStore,r)),e._onlineComponents=t}async function xM(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){q(Wi,"Using user provided OfflineComponentProvider");try{await lf(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(r){return r.name==="FirebaseError"?r.code===z.FAILED_PRECONDITION||r.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;Hs("Error using user provided cache. Falling back to memory cache: "+n),await lf(e,new ec)}}else q(Wi,"Using default OfflineComponentProvider"),await lf(e,new NM(void 0));return e._offlineComponents}async function LM(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(q(Wi,"Using user provided OnlineComponentProvider"),await Tv(e,e._uninitializedComponentsProvider._online)):(q(Wi,"Using default OnlineComponentProvider"),await Tv(e,new xd))),e._onlineComponents}async function UM(e){const t=await LM(e),n=t.eventManager;return n.onListen=SM.bind(null,t.syncEngine),n.onUnlisten=RM.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=AM.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=wM.bind(null,t.syncEngine),n}function kM(e,t,n={}){const i=new Sr;return e.asyncQueue.enqueueAndForget(async()=>function(s,a,l,u,c){const f=new MM({next:p=>{f.Nu(),a.enqueueAndForget(()=>mM(s,m));const y=p.docs.has(l);!y&&p.fromCache?c.reject(new F(z.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&p.fromCache&&u&&u.source==="server"?c.reject(new F(z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),m=new yM(lp(l.path),f,{includeMetadataChanges:!0,Ka:!0});return dM(s,m)}(await UM(e),e.asyncQueue,t,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QA(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM="ComponentProvider",Sv=new Map;function zM(e,t,n,i,r){return new mN(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,QA(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A="firestore.googleapis.com",Av=!0;class bv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new F(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$A,this.ssl=Av}else this.host=t.host,this.ssl=t.ssl??Av;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=NA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<S4)throw new F(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}tN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=QA(t.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new F(z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new F(z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new F(z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class bp{constructor(t,n,i,r){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new F(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new F(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new qO;switch(i.type){case"firstParty":return new YO(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new F(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=Sv.get(n);i&&(q(PM,"Removing Datastore"),Sv.delete(n),i.terminate())}(this),Promise.resolve()}}function BM(e,t,n,i={}){var c;e=_d(e,bp);const r=jr(t),s=e._getSettings(),a={...s,emulatorOptions:e._getEmulatorOptions()},l=`${t}:${n}`;r&&(Hm(`https://${l}`),qm("Firestore",!0)),s.host!==$A&&s.host!==l&&Hs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...s,host:l,ssl:r,emulatorOptions:i};if(!Or(u,a)&&(e._setSettings(u),i.mockUserToken)){let f,m;if(typeof i.mockUserToken=="string")f=i.mockUserToken,m=he.MOCK_USER;else{f=cS(i.mockUserToken,(c=e._app)==null?void 0:c.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new F(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new he(p)}e._authCredentials=new FO(new tA(f,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Rp(this.firestore,t,this._query)}}class ve{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new No(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ve(this.firestore,t,this._key)}toJSON(){return{type:ve._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,i){if(Zo(n,ve._jsonSchema))return new ve(t,i||null,new G(wt.fromString(n.referencePath)))}}ve._jsonSchemaVersion="firestore/documentReference/1.0",ve._jsonSchema={type:Ft("string",ve._jsonSchemaVersion),referencePath:Ft("string")};class No extends Rp{constructor(t,n,i){super(t,n,lp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ve(this.firestore,null,new G(t))}withConverter(t){return new No(this.firestore,t,this._path)}}function jM(e,t,...n){if(e=Cn(e),arguments.length===1&&(t=ip.newId()),WO("doc","path",t),e instanceof bp){const i=wt.fromString(t,...n);return k_(i),new ve(e,null,new G(i))}{if(!(e instanceof ve||e instanceof No))throw new F(z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(wt.fromString(t,...n));return k_(i),new ve(e.firestore,e instanceof No?e.converter:null,new G(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv="AsyncQueue";class wv{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new UA(this,"async_queue_retry"),this._c=()=>{const i=of();i&&q(Rv,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const n=of();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=of();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Sr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Yu.push(t),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!aa(t))throw t;q(Rv,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(i=>{throw this.nc=i,this.rc=!1,ti("INTERNAL UNHANDLED ERROR: ",Cv(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=n,n}enqueueAfterDelay(t,n,i){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const r=Ep.createAndSchedule(this,t,n,i,s=>this.hc(s));return this.tc.push(r),r}uc(){this.nc&&X(47125,{Pc:Cv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function Cv(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class XA extends bp{constructor(t,n,i,r){super(t,n,i,r),this.type="firestore",this._queue=new wv,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new wv(t),this._firestoreClient=void 0,await t}}}function HM(e,t){const n=typeof e=="object"?e:Km(),i=typeof e=="string"?e:$u,r=wc(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=oS("firestore");s&&BM(r,...s)}return r}function qM(e){if(e._terminated)throw new F(z.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||FM(e),e._firestoreClient}function FM(e){var i,r,s,a;const t=e._freezeSettings(),n=zM(e._databaseId,((i=e._app)==null?void 0:i.options.appId)||"",e._persistenceKey,(r=e._app)==null?void 0:r.options.apiKey,t);e._componentsProvider||(s=t.localCache)!=null&&s._offlineComponentProvider&&((a=t.localCache)!=null&&a._onlineComponentProvider)&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new VM(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(u){const c=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(c),_online:c}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new fn(oe.fromBase64String(t))}catch(n){throw new F(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new fn(oe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:fn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Zo(t,fn._jsonSchema))return fn.fromBase64String(t.bytes)}}fn._jsonSchemaVersion="firestore/bytes/1.0",fn._jsonSchema={type:Ft("string",fn._jsonSchemaVersion),bytes:Ft("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new F(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ye(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new F(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new F(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return st(this._lat,t._lat)||st(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ji._jsonSchemaVersion}}static fromJSON(t){if(Zo(t,ji._jsonSchema))return new ji(t.latitude,t.longitude)}}ji._jsonSchemaVersion="firestore/geoPoint/1.0",ji._jsonSchema={type:Ft("string",ji._jsonSchemaVersion),latitude:Ft("number"),longitude:Ft("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,t._values)}toJSON(){return{type:Hi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Zo(t,Hi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new Hi(t.vectorValues);throw new F(z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Hi._jsonSchemaVersion="firestore/vectorValue/1.0",Hi._jsonSchema={type:Ft("string",Hi._jsonSchemaVersion),vectorValues:Ft("object")};function ZA(e,t,n){if((t=Cn(t))instanceof JA)return t._internalPath;if(typeof t=="string")return KM(e,t);throw Ld("Field path arguments must be of type string or ",e)}const GM=new RegExp("[~\\*/\\[\\]]");function KM(e,t,n){if(t.search(GM)>=0)throw Ld(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e);try{return new JA(...t.split("."))._internalPath}catch{throw Ld(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e)}}function Ld(e,t,n,i,r){let s=`Function ${t}() called with invalid data`;s+=". ";let a="";return new F(z.INVALID_ARGUMENT,s+e+a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{convertValue(t,n="none"){switch(Ji(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Vt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Xi(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw X(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return Wo(t,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertVectorValue(t){var i,r,s;const n=(s=(r=(i=t.fields)==null?void 0:i[Ed].arrayValue)==null?void 0:r.values)==null?void 0:s.map(a=>Vt(a.doubleValue));return new Hi(n)}convertGeoPoint(t){return new ji(Vt(t.latitude),Vt(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=Mc(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Io(t));default:return null}}convertTimestamp(t){const n=$i(t);return new Ht(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=wt.fromString(t);It(OA(i),9688,{name:t});const r=new Do(i.get(1),i.get(3)),s=new G(i.popFirst(5));return r.isEqual(n)||ti(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM extends YM{constructor(t){super(),this.firestore=t}convertBytes(t){return new fn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new ve(this.firestore,null,n)}}const Iv="@firebase/firestore",Dv="4.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(t,n,i,r,s){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ve(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new $M(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var t;return((t=this._document)==null?void 0:t.data.clone().value.mapValue.fields)??void 0}get(t){if(this._document){const n=this._document.data.field(ZA("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class $M extends WA{data(){return super.data()}}class ja{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class br extends WA{constructor(t,n,i,r,s,a){super(t,n,i,r,a),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new cu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(ZA("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new F(z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=br._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}br._jsonSchemaVersion="firestore/documentSnapshot/1.0",br._jsonSchema={type:Ft("string",br._jsonSchemaVersion),bundleSource:Ft("string","DocumentSnapshot"),bundleName:Ft("string"),bundle:Ft("string")};class cu extends br{data(t={}){return super.data(t)}}class lo{constructor(t,n,i,r){this._firestore=t,this._userDataWriter=n,this._snapshot=r,this.metadata=new ja(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new cu(this._firestore,this._userDataWriter,i.key,i,new ja(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new F(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>{const u=new cu(r._firestore,r._userDataWriter,l.doc.key,l.doc,new ja(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const u=new cu(r._firestore,r._userDataWriter,l.doc.key,l.doc,new ja(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,f=-1;return l.type!==0&&(c=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),f=a.indexOf(l.doc.key)),{type:XM(l.type),doc:u,oldIndex:c,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new F(z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=lo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=ip.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],r=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),i.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),r.push(s.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function XM(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return X(61501,{type:e})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */lo._jsonSchemaVersion="firestore/querySnapshot/1.0",lo._jsonSchema={type:Ft("string",lo._jsonSchemaVersion),bundleSource:Ft("string","QuerySnapshot"),bundleName:Ft("string"),bundle:Ft("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JM(e){e=_d(e,ve);const t=_d(e.firestore,XA),n=qM(t);return kM(n,e._key).then(i=>ZM(t,e,i))}function ZM(e,t,n){const i=n.docs.get(t._key),r=new QM(e);return new br(e,r,t._key,i,new ja(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){HO(Hr),Nr(new Yi("firestore",(i,{instanceIdentifier:r,options:s})=>{const a=i.getProvider("app").getImmediate(),l=new XA(new GO(i.getProvider("auth-internal")),new QO(a,i.getProvider("app-check-internal")),pN(a,r),a);return s={useFetchStreams:n,...s},l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),yn(Iv,Dv,t),yn(Iv,Dv,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1="firebasestorage.googleapis.com",WM="storageBucket",tV=2*60*1e3,eV=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In extends wn{constructor(t,n,i=0){super(uf(t),`Firebase Storage: ${n} (${uf(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,In.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return uf(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var An;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(An||(An={}));function uf(e){return"storage/"+e}function nV(){const e="An unknown error occurred, please check the error payload for server response.";return new In(An.UNKNOWN,e)}function iV(){return new In(An.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function rV(){return new In(An.CANCELED,"User canceled the upload/download.")}function sV(e){return new In(An.INVALID_URL,"Invalid URL '"+e+"'.")}function aV(e){return new In(An.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function Ov(e){return new In(An.INVALID_ARGUMENT,e)}function e1(){return new In(An.APP_DELETED,"The Firebase app was deleted.")}function oV(e){return new In(An.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let i;try{i=sn.makeFromUrl(t,n)}catch{return new sn(t,"")}if(i.path==="")return i;throw aV(t)}static makeFromUrl(t,n){let i=null;const r="([A-Za-z0-9.\\-_]+)";function s(I){I.path.charAt(I.path.length-1)==="/"&&(I.path_=I.path_.slice(0,-1))}const a="(/(.*))?$",l=new RegExp("^gs://"+r+a,"i"),u={bucket:1,path:3};function c(I){I.path_=decodeURIComponent(I.path)}const f="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",y=new RegExp(`^https?://${m}/${f}/b/${r}/o${p}`,"i"),C={bucket:1,path:3},N=n===t1?"(?:storage.googleapis.com|storage.cloud.google.com)":n,M="([^?#]*)",S=new RegExp(`^https?://${N}/${r}/${M}`,"i"),A=[{regex:l,indices:u,postModify:s},{regex:y,indices:C,postModify:c},{regex:S,indices:{bucket:1,path:2},postModify:c}];for(let I=0;I<A.length;I++){const k=A[I],j=k.regex.exec(t);if(j){const E=j[k.indices.bucket];let _=j[k.indices.path];_||(_=""),i=new sn(E,_),k.postModify(i);break}}if(i==null)throw sV(t);return i}}class lV{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uV(e,t,n){let i=1,r=null,s=null,a=!1,l=0;function u(){return l===2}let c=!1;function f(...M){c||(c=!0,t.apply(null,M))}function m(M){r=setTimeout(()=>{r=null,e(y,u())},M)}function p(){s&&clearTimeout(s)}function y(M,...S){if(c){p();return}if(M){p(),f.call(null,M,...S);return}if(u()||a){p(),f.call(null,M,...S);return}i<64&&(i*=2);let A;l===1?(l=2,A=0):A=(i+Math.random())*1e3,m(A)}let C=!1;function N(M){C||(C=!0,p(),!c&&(r!==null?(M||(l=2),clearTimeout(r),m(0)):M||(l=1)))}return m(0),s=setTimeout(()=>{a=!0,N(!0)},n),N}function cV(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hV(e){return e!==void 0}function Nv(e,t,n,i){if(i<t)throw Ov(`Invalid value for '${e}'. Expected ${t} or greater.`);if(i>n)throw Ov(`Invalid value for '${e}'. Expected ${n} or less.`)}function fV(e){const t=encodeURIComponent;let n="?";for(const i in e)if(e.hasOwnProperty(i)){const r=t(i)+"="+t(e[i]);n=n+r+"&"}return n=n.slice(0,-1),n}var nc;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(nc||(nc={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dV(e,t){const n=e>=500&&e<600,r=[408,429].indexOf(e)!==-1,s=t.indexOf(e)!==-1;return n||r||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(t,n,i,r,s,a,l,u,c,f,m,p=!0,y=!1){this.url_=t,this.method_=n,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=l,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=f,this.connectionFactory_=m,this.retry=p,this.isUsingEmulator=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,N)=>{this.resolve_=C,this.reject_=N,this.start_()})}start_(){const t=(i,r)=>{if(r){i(!1,new Pl(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const a=l=>{const u=l.loaded,c=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,c)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const l=s.getErrorCode()===nc.NO_ERROR,u=s.getStatus();if(!l||dV(u,this.additionalRetryCodes_)&&this.retry){const f=s.getErrorCode()===nc.ABORT;i(!1,new Pl(!1,null,f));return}const c=this.successCodes_.indexOf(u)!==-1;i(!0,new Pl(c,s))})},n=(i,r)=>{const s=this.resolve_,a=this.reject_,l=r.connection;if(r.wasSuccessCode)try{const u=this.callback_(l,l.getResponse());hV(u)?s(u):s()}catch(u){a(u)}else if(l!==null){const u=nV();u.serverResponse=l.getErrorText(),this.errorCallback_?a(this.errorCallback_(l,u)):a(u)}else if(r.canceled){const u=this.appDelete_?e1():rV();a(u)}else{const u=iV();a(u)}};this.canceled_?n(!1,new Pl(!1,null,!0)):this.backoffId_=uV(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&cV(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Pl{constructor(t,n,i){this.wasSuccessCode=t,this.connection=n,this.canceled=!!i}}function pV(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function gV(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function yV(e,t){t&&(e["X-Firebase-GMPID"]=t)}function _V(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function vV(e,t,n,i,r,s,a=!0,l=!1){const u=fV(e.urlParams),c=e.url+u,f=Object.assign({},e.headers);return yV(f,t),pV(f,n),gV(f,s),_V(f,i),new mV(c,e.method,f,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,r,a,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EV(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function TV(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(t,n){this._service=t,n instanceof sn?this._location=n:this._location=sn.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new ic(t,n)}get root(){const t=new sn(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return TV(this._location.path)}get storage(){return this._service}get parent(){const t=EV(this._location.path);if(t===null)return null;const n=new sn(this._location.bucket,t);return new ic(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw oV(t)}}function Mv(e,t){const n=t==null?void 0:t[WM];return n==null?null:sn.makeFromBucketSpec(n,e)}function SV(e,t,n,i={}){e.host=`${t}:${n}`;const r=jr(t);r&&(Hm(`https://${e.host}/b`),qm("Storage",!0)),e._isUsingEmulator=!0,e._protocol=r?"https":"http";const{mockUserToken:s}=i;s&&(e._overrideAuthToken=typeof s=="string"?s:cS(s,e.app.options.projectId))}class AV{constructor(t,n,i,r,s,a=!1){this.app=t,this._authProvider=n,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._isUsingEmulator=a,this._bucket=null,this._host=t1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=tV,this._maxUploadRetryTime=eV,this._requests=new Set,r!=null?this._bucket=sn.makeFromBucketSpec(r,this._host):this._bucket=Mv(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=sn.makeFromBucketSpec(this._url,t):this._bucket=Mv(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Nv("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Nv("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new ic(this,t)}_makeRequest(t,n,i,r,s=!0){if(this._deleted)return new lV(e1());{const a=vV(t,this._appId,i,r,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(t,n){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,i,r).getPromise()}}const Vv="@firebase/storage",xv="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1="storage";function bV(e=Km(),t){e=Cn(e);const i=wc(e,n1).getImmediate({identifier:t}),r=oS("storage");return r&&RV(i,...r),i}function RV(e,t,n,i={}){SV(e,t,n,i)}function wV(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return new AV(n,i,r,t,Hr)}function CV(){Nr(new Yi(n1,wV,"PUBLIC").setMultipleInstances(!0)),yn(Vv,xv,""),yn(Vv,xv,"esm2020")}CV();const IV={apiKey:"AIzaSyCIPE6DWpsUhDwRz9r5WMnsLGV4f8y-X2s",authDomain:"ambrosia-web-bc4f9.firebaseapp.com",projectId:"ambrosia-web-bc4f9",storageBucket:"ambrosia-web-bc4f9.firebasestorage.app",messagingSenderId:"768539470516",appId:"1:768539470516:web:d9f3705b1c79d35147c5e1",measurementId:"G-08Y4G38JM3"},wp=dS(IV),DV=BO(wp),OV=HM(wp);bV(wp);const NV=x.createContext(),MV=({children:e})=>{const[t,n]=x.useState(null),[i,r]=x.useState(null),[s,a]=x.useState(!0);x.useEffect(()=>DD(DV,async c=>{if(c){try{const f=await JM(jM(OV,"users",c.uid));f.exists()?r(f.data().role):r("customer")}catch(f){console.error("AuthProvider: Error fetching role",f)}n(c)}else n(null),r(null);a(!1)}),[]);const l={currentUser:t,userRole:i,loading:s,isAdmin:i==="admin"};return P.jsx(NV.Provider,{value:l,children:!s&&e})},VV=()=>{const[e,t]=x.useState(!1),{cartCount:n}=r2();x.useEffect(()=>{const a=()=>{t(window.scrollY>50)};return window.addEventListener("scroll",a),()=>window.removeEventListener("scroll",a)},[]);const[i,r]=x.useState(!1),s=()=>{r(!i)};return P.jsx("nav",{className:`navbar ${e?"scrolled":""}`,children:P.jsxs("div",{className:"nav-container",children:[P.jsx(ps,{to:"/",className:"nav-logo",children:"Ambrosia"}),P.jsxs("div",{className:"nav-links",children:[P.jsx(tn,{to:"/",className:({isActive:a})=>`nav-link ${a?"active":""}`,end:!0,children:"Home"}),P.jsx(tn,{to:"/shop",className:({isActive:a})=>`nav-link ${a?"active":""}`,children:"Shop"}),P.jsx(tn,{to:"/about-cinnamon",className:({isActive:a})=>`nav-link ${a?"active":""}`,children:"Cinnamon"}),P.jsx(tn,{to:"/recipes",className:({isActive:a})=>`nav-link ${a?"active":""}`,children:"Recipes"}),P.jsx(tn,{to:"/contact",className:({isActive:a})=>`nav-link ${a?"active":""}`,children:"Contact"})]}),P.jsxs("div",{className:"nav-actions flex items-center gap-6",children:[P.jsxs(ps,{to:"/cart",className:"cart-link relative text-white hover:text-gold transition-colors",children:[P.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[P.jsx("circle",{cx:"9",cy:"21",r:"1"}),P.jsx("circle",{cx:"20",cy:"21",r:"1"}),P.jsx("path",{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"})]}),n>0&&P.jsx("span",{className:"cart-badge absolute -top-2 -right-2 bg-gold text-black text-[10px] font-bold w-5 h-5 rounded-full flex items-center justify-center",children:n})]}),P.jsx(ps,{to:"/shop",className:"btn-outline nav-btn",children:"Shop Now"}),P.jsx("div",{className:"nav-toggle",onClick:s,children:i?P.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[P.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),P.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}):P.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[P.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),P.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),P.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})})]}),P.jsx("div",{className:`mobile-menu ${i?"active":""}`,children:P.jsxs("div",{className:"mobile-nav-links",children:[P.jsx(tn,{to:"/",onClick:s,className:({isActive:a})=>`mobile-link ${a?"active":""}`,end:!0,children:"Home"}),P.jsx(tn,{to:"/shop",onClick:s,className:({isActive:a})=>`mobile-link ${a?"active":""}`,children:"Shop"}),P.jsx(tn,{to:"/about-cinnamon",onClick:s,className:({isActive:a})=>`mobile-link ${a?"active":""}`,children:"Cinnamon"}),P.jsx(tn,{to:"/recipes",onClick:s,className:({isActive:a})=>`mobile-link ${a?"active":""}`,children:"Recipes"}),P.jsx(tn,{to:"/contact",onClick:s,className:({isActive:a})=>`mobile-link ${a?"active":""}`,children:"Contact"}),P.jsx(ps,{to:"/shop",onClick:s,className:"btn-primary mt-8 inline-block text-center",children:"Shop Now"})]})})]})})};function xV(){return console.log("VERSION CHECK: HASH ROUTER FIX V1"),P.jsx(MV,{children:P.jsx(s2,{children:P.jsx($C,{children:P.jsx("div",{className:"app",children:P.jsxs(r_,{children:[P.jsx(Mt,{path:"/admin/login",element:P.jsx(AdminLogin,{})}),P.jsxs(Mt,{path:"/admin",element:P.jsx(AdminLayout,{}),children:[P.jsx(Mt,{index:!0,element:P.jsx(Dashboard,{})}),P.jsx(Mt,{path:"orders",element:P.jsx(Orders,{})}),P.jsx(Mt,{path:"products",element:P.jsx(Products,{})}),P.jsx(Mt,{path:"messages",element:P.jsx(Messages,{})})]}),P.jsx(Mt,{path:"/*",element:P.jsxs(P.Fragment,{children:[P.jsx(VV,{}),P.jsx("main",{children:P.jsxs(r_,{children:[P.jsx(Mt,{path:"/",element:P.jsx(Home,{})}),P.jsx(Mt,{path:"/about-us",element:P.jsx(AboutUs,{})}),P.jsx(Mt,{path:"/about-cinnamon",element:P.jsx(AboutCinnamon,{})}),P.jsx(Mt,{path:"/shop",element:P.jsx(Store,{})}),P.jsx(Mt,{path:"/recipes",element:P.jsx(Recipes,{})}),P.jsx(Mt,{path:"/contact",element:P.jsx(Contact,{})}),P.jsx(Mt,{path:"/cart",element:P.jsx(Cart,{})}),P.jsx(Mt,{path:"/checkout",element:P.jsx(Checkout,{})}),P.jsx(Mt,{path:"/track",element:P.jsx(TrackOrder,{})}),P.jsx(Mt,{path:"/order-confirmation",element:P.jsx(OrderConfirmation,{})}),P.jsx(Mt,{path:"/faq",element:P.jsx(FAQ,{})}),P.jsx(Mt,{path:"/privacy",element:P.jsx(PrivacyPolicy,{})}),P.jsx(Mt,{path:"/terms",element:P.jsx(Terms,{})})]})}),P.jsx(Footer,{})]})})]})})})})})}Iw.createRoot(document.getElementById("root")).render(P.jsx(x.StrictMode,{children:P.jsx(xV,{})}));
