(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function sS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var A0={exports:{}},Du={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aS=Symbol.for("react.transitional.element"),oS=Symbol.for("react.fragment");function R0(t,e,n){var i=null;if(n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),"key"in e){n={};for(var r in e)r!=="key"&&(n[r]=e[r])}else n=e;return e=n.ref,{$$typeof:aS,type:t,key:i,ref:e!==void 0?e:null,props:n}}Du.Fragment=oS;Du.jsx=R0;Du.jsxs=R0;A0.exports=Du;var u=A0.exports,N0={exports:{}},J={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pm=Symbol.for("react.transitional.element"),lS=Symbol.for("react.portal"),cS=Symbol.for("react.fragment"),uS=Symbol.for("react.strict_mode"),hS=Symbol.for("react.profiler"),dS=Symbol.for("react.consumer"),fS=Symbol.for("react.context"),mS=Symbol.for("react.forward_ref"),pS=Symbol.for("react.suspense"),gS=Symbol.for("react.memo"),C0=Symbol.for("react.lazy"),yS=Symbol.for("react.activity"),dy=Symbol.iterator;function _S(t){return t===null||typeof t!="object"?null:(t=dy&&t[dy]||t["@@iterator"],typeof t=="function"?t:null)}var I0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D0=Object.assign,O0={};function sa(t,e,n){this.props=t,this.context=e,this.refs=O0,this.updater=n||I0}sa.prototype.isReactComponent={};sa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};sa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function j0(){}j0.prototype=sa.prototype;function gm(t,e,n){this.props=t,this.context=e,this.refs=O0,this.updater=n||I0}var ym=gm.prototype=new j0;ym.constructor=gm;D0(ym,sa.prototype);ym.isPureReactComponent=!0;var fy=Array.isArray;function qd(){}var Ae={H:null,A:null,T:null,S:null},M0=Object.prototype.hasOwnProperty;function _m(t,e,n){var i=n.ref;return{$$typeof:pm,type:t,key:e,ref:i!==void 0?i:null,props:n}}function vS(t,e){return _m(t.type,e,t.props)}function vm(t){return typeof t=="object"&&t!==null&&t.$$typeof===pm}function ES(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var my=/\/+/g;function Hh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ES(""+t.key):e.toString(36)}function bS(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(qd,qd):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function ss(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"bigint":case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case pm:case lS:a=!0;break;case C0:return a=t._init,ss(a(t._payload),e,n,i,r)}}if(a)return r=r(t),a=i===""?"."+Hh(t,0):i,fy(r)?(n="",a!=null&&(n=a.replace(my,"$&/")+"/"),ss(r,e,n,"",function(h){return h})):r!=null&&(vm(r)&&(r=vS(r,n+(r.key==null||t&&t.key===r.key?"":(""+r.key).replace(my,"$&/")+"/")+a)),e.push(r)),1;a=0;var l=i===""?".":i+":";if(fy(t))for(var c=0;c<t.length;c++)i=t[c],s=l+Hh(i,c),a+=ss(i,e,n,s,r);else if(c=_S(t),typeof c=="function")for(t=c.call(t),c=0;!(i=t.next()).done;)i=i.value,s=l+Hh(i,c++),a+=ss(i,e,n,s,r);else if(s==="object"){if(typeof t.then=="function")return ss(bS(t),e,n,i,r);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return a}function zl(t,e,n){if(t==null)return t;var i=[],r=0;return ss(t,i,"","",function(s){return e.call(n,s,r++)}),i}function TS(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var py=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},xS={map:zl,forEach:function(t,e,n){zl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return zl(t,function(){e++}),e},toArray:function(t){return zl(t,function(e){return e})||[]},only:function(t){if(!vm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};J.Activity=yS;J.Children=xS;J.Component=sa;J.Fragment=cS;J.Profiler=hS;J.PureComponent=gm;J.StrictMode=uS;J.Suspense=pS;J.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ae;J.__COMPILER_RUNTIME={__proto__:null,c:function(t){return Ae.H.useMemoCache(t)}};J.cache=function(t){return function(){return t.apply(null,arguments)}};J.cacheSignal=function(){return null};J.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var i=D0({},t.props),r=t.key;if(e!=null)for(s in e.key!==void 0&&(r=""+e.key),e)!M0.call(e,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&e.ref===void 0||(i[s]=e[s]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var a=Array(s),l=0;l<s;l++)a[l]=arguments[l+2];i.children=a}return _m(t.type,r,i)};J.createContext=function(t){return t={$$typeof:fS,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:dS,_context:t},t};J.createElement=function(t,e,n){var i,r={},s=null;if(e!=null)for(i in e.key!==void 0&&(s=""+e.key),e)M0.call(e,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return _m(t,s,r)};J.createRef=function(){return{current:null}};J.forwardRef=function(t){return{$$typeof:mS,render:t}};J.isValidElement=vm;J.lazy=function(t){return{$$typeof:C0,_payload:{_status:-1,_result:t},_init:TS}};J.memo=function(t,e){return{$$typeof:gS,type:t,compare:e===void 0?null:e}};J.startTransition=function(t){var e=Ae.T,n={};Ae.T=n;try{var i=t(),r=Ae.S;r!==null&&r(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(qd,py)}catch(s){py(s)}finally{e!==null&&n.types!==null&&(e.types=n.types),Ae.T=e}};J.unstable_useCacheRefresh=function(){return Ae.H.useCacheRefresh()};J.use=function(t){return Ae.H.use(t)};J.useActionState=function(t,e,n){return Ae.H.useActionState(t,e,n)};J.useCallback=function(t,e){return Ae.H.useCallback(t,e)};J.useContext=function(t){return Ae.H.useContext(t)};J.useDebugValue=function(){};J.useDeferredValue=function(t,e){return Ae.H.useDeferredValue(t,e)};J.useEffect=function(t,e){return Ae.H.useEffect(t,e)};J.useEffectEvent=function(t){return Ae.H.useEffectEvent(t)};J.useId=function(){return Ae.H.useId()};J.useImperativeHandle=function(t,e,n){return Ae.H.useImperativeHandle(t,e,n)};J.useInsertionEffect=function(t,e){return Ae.H.useInsertionEffect(t,e)};J.useLayoutEffect=function(t,e){return Ae.H.useLayoutEffect(t,e)};J.useMemo=function(t,e){return Ae.H.useMemo(t,e)};J.useOptimistic=function(t,e){return Ae.H.useOptimistic(t,e)};J.useReducer=function(t,e,n){return Ae.H.useReducer(t,e,n)};J.useRef=function(t){return Ae.H.useRef(t)};J.useState=function(t){return Ae.H.useState(t)};J.useSyncExternalStore=function(t,e,n){return Ae.H.useSyncExternalStore(t,e,n)};J.useTransition=function(){return Ae.H.useTransition()};J.version="19.2.3";N0.exports=J;var j=N0.exports;const wS=sS(j);var V0={exports:{}},Ou={},k0={exports:{}},L0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,te){var W=q.length;q.push(te);e:for(;0<W;){var Ee=W-1>>>1,Pe=q[Ee];if(0<r(Pe,te))q[Ee]=te,q[W]=Pe,W=Ee;else break e}}function n(q){return q.length===0?null:q[0]}function i(q){if(q.length===0)return null;var te=q[0],W=q.pop();if(W!==te){q[0]=W;e:for(var Ee=0,Pe=q.length,fr=Pe>>>1;Ee<fr;){var mr=2*(Ee+1)-1,Zr=q[mr],Ft=mr+1,li=q[Ft];if(0>r(Zr,W))Ft<Pe&&0>r(li,Zr)?(q[Ee]=li,q[Ft]=W,Ee=Ft):(q[Ee]=Zr,q[mr]=W,Ee=mr);else if(Ft<Pe&&0>r(li,W))q[Ee]=li,q[Ft]=W,Ee=Ft;else break e}}return te}function r(q,te){var W=q.sortIndex-te.sortIndex;return W!==0?W:q.id-te.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],h=[],f=1,g=null,p=3,y=!1,N=!1,D=!1,I=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function M(q){for(var te=n(h);te!==null;){if(te.callback===null)i(h);else if(te.startTime<=q)i(h),te.sortIndex=te.expirationTime,e(c,te);else break;te=n(h)}}function U(q){if(D=!1,M(q),!N)if(n(c)!==null)N=!0,F||(F=!0,C());else{var te=n(h);te!==null&&rn(U,te.startTime-q)}}var F=!1,T=-1,E=5,x=-1;function A(){return I?!0:!(t.unstable_now()-x<E)}function R(){if(I=!1,F){var q=t.unstable_now();x=q;var te=!0;try{e:{N=!1,D&&(D=!1,v(T),T=-1),y=!0;var W=p;try{t:{for(M(q),g=n(c);g!==null&&!(g.expirationTime>q&&A());){var Ee=g.callback;if(typeof Ee=="function"){g.callback=null,p=g.priorityLevel;var Pe=Ee(g.expirationTime<=q);if(q=t.unstable_now(),typeof Pe=="function"){g.callback=Pe,M(q),te=!0;break t}g===n(c)&&i(c),M(q)}else i(c);g=n(c)}if(g!==null)te=!0;else{var fr=n(h);fr!==null&&rn(U,fr.startTime-q),te=!1}}break e}finally{g=null,p=W,y=!1}te=void 0}}finally{te?C():F=!1}}}var C;if(typeof w=="function")C=function(){w(R)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,dt=S.port2;S.port1.onmessage=R,C=function(){dt.postMessage(null)}}else C=function(){b(R,0)};function rn(q,te){T=b(function(){q(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(q){switch(p){case 1:case 2:case 3:var te=3;break;default:te=p}var W=p;p=te;try{return q()}finally{p=W}},t.unstable_requestPaint=function(){I=!0},t.unstable_runWithPriority=function(q,te){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var W=p;p=q;try{return te()}finally{p=W}},t.unstable_scheduleCallback=function(q,te,W){var Ee=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?Ee+W:Ee):W=Ee,q){case 1:var Pe=-1;break;case 2:Pe=250;break;case 5:Pe=1073741823;break;case 4:Pe=1e4;break;default:Pe=5e3}return Pe=W+Pe,q={id:f++,callback:te,priorityLevel:q,startTime:W,expirationTime:Pe,sortIndex:-1},W>Ee?(q.sortIndex=W,e(h,q),n(c)===null&&q===n(h)&&(D?(v(T),T=-1):D=!0,rn(U,W-Ee))):(q.sortIndex=Pe,e(c,q),N||y||(N=!0,F||(F=!0,C()))),q},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(q){var te=p;return function(){var W=p;p=te;try{return q.apply(this,arguments)}finally{p=W}}}})(L0);k0.exports=L0;var SS=k0.exports,P0={exports:{}},Tt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AS=j;function U0(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function pi(){}var bt={d:{f:pi,r:function(){throw Error(U0(522))},D:pi,C:pi,L:pi,m:pi,X:pi,S:pi,M:pi},p:0,findDOMNode:null},RS=Symbol.for("react.portal");function NS(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:RS,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}var ao=AS.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function ju(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Tt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=bt;Tt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(U0(299));return NS(t,e,null,n)};Tt.flushSync=function(t){var e=ao.T,n=bt.p;try{if(ao.T=null,bt.p=2,t)return t()}finally{ao.T=e,bt.p=n,bt.d.f()}};Tt.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,bt.d.C(t,e))};Tt.prefetchDNS=function(t){typeof t=="string"&&bt.d.D(t)};Tt.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,i=ju(n,e.crossOrigin),r=typeof e.integrity=="string"?e.integrity:void 0,s=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?bt.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:i,integrity:r,fetchPriority:s}):n==="script"&&bt.d.X(t,{crossOrigin:i,integrity:r,fetchPriority:s,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Tt.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=ju(e.as,e.crossOrigin);bt.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&bt.d.M(t)};Tt.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,i=ju(n,e.crossOrigin);bt.d.L(t,n,{crossOrigin:i,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Tt.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=ju(e.as,e.crossOrigin);bt.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else bt.d.m(t)};Tt.requestFormReset=function(t){bt.d.r(t)};Tt.unstable_batchedUpdates=function(t,e){return t(e)};Tt.useFormState=function(t,e,n){return ao.H.useFormState(t,e,n)};Tt.useFormStatus=function(){return ao.H.useHostTransitionStatus()};Tt.version="19.2.3";function z0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(z0)}catch(t){console.error(t)}}z0(),P0.exports=Tt;var CS=P0.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var We=SS,B0=j,IS=CS;function L(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function q0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function tl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function H0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function F0(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function gy(t){if(tl(t)!==t)throw Error(L(188))}function DS(t){var e=t.alternate;if(!e){if(e=tl(t),e===null)throw Error(L(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return gy(r),t;if(s===i)return gy(r),e;s=s.sibling}throw Error(L(188))}if(n.return!==i.return)n=r,i=s;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,i=s;break}if(l===i){a=!0,i=r,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,i=r;break}if(l===i){a=!0,i=s,n=r;break}l=l.sibling}if(!a)throw Error(L(189))}}if(n.alternate!==i)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?t:e}function G0(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=G0(t),e!==null)return e;t=t.sibling}return null}var Re=Object.assign,OS=Symbol.for("react.element"),Bl=Symbol.for("react.transitional.element"),$a=Symbol.for("react.portal"),ds=Symbol.for("react.fragment"),K0=Symbol.for("react.strict_mode"),Hd=Symbol.for("react.profiler"),Y0=Symbol.for("react.consumer"),zn=Symbol.for("react.context"),Em=Symbol.for("react.forward_ref"),Fd=Symbol.for("react.suspense"),Gd=Symbol.for("react.suspense_list"),bm=Symbol.for("react.memo"),yi=Symbol.for("react.lazy"),Kd=Symbol.for("react.activity"),jS=Symbol.for("react.memo_cache_sentinel"),yy=Symbol.iterator;function za(t){return t===null||typeof t!="object"?null:(t=yy&&t[yy]||t["@@iterator"],typeof t=="function"?t:null)}var MS=Symbol.for("react.client.reference");function Yd(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===MS?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ds:return"Fragment";case Hd:return"Profiler";case K0:return"StrictMode";case Fd:return"Suspense";case Gd:return"SuspenseList";case Kd:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case $a:return"Portal";case zn:return t.displayName||"Context";case Y0:return(t._context.displayName||"Context")+".Consumer";case Em:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case bm:return e=t.displayName||null,e!==null?e:Yd(t.type)||"Memo";case yi:e=t._payload,t=t._init;try{return Yd(t(e))}catch{}}return null}var Xa=Array.isArray,Q=B0.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=IS.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Rr={pending:!1,data:null,method:null,action:null},Qd=[],fs=-1;function Cn(t){return{current:t}}function it(t){0>fs||(t.current=Qd[fs],Qd[fs]=null,fs--)}function Te(t,e){fs++,Qd[fs]=t.current,t.current=e}var En=Cn(null),Ro=Cn(null),ji=Cn(null),kc=Cn(null);function Lc(t,e){switch(Te(ji,e),Te(Ro,t),Te(En,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?x_(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=x_(e),t=fT(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}it(En),Te(En,t)}function Ps(){it(En),it(Ro),it(ji)}function $d(t){t.memoizedState!==null&&Te(kc,t);var e=En.current,n=fT(e,t.type);e!==n&&(Te(Ro,t),Te(En,n))}function Pc(t){Ro.current===t&&(it(En),it(Ro)),kc.current===t&&(it(kc),Po._currentValue=Rr)}var Fh,_y;function br(t){if(Fh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Fh=e&&e[1]||"",_y=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fh+t+_y}var Gh=!1;function Kh(t,e){if(!t||Gh)return"";Gh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var g=function(){throw Error()};if(Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(y){var p=y}Reflect.construct(t,[],g)}else{try{g.call()}catch(y){p=y}t.call(g.prototype)}}else{try{throw Error()}catch(y){p=y}(g=t())&&typeof g.catch=="function"&&g.catch(function(){})}}catch(y){if(y&&p&&typeof y.stack=="string")return[y.stack,p.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=i.DetermineComponentFrameRoot(),a=s[0],l=s[1];if(a&&l){var c=a.split(`
`),h=l.split(`
`);for(r=i=0;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;for(;r<h.length&&!h[r].includes("DetermineComponentFrameRoot");)r++;if(i===c.length||r===h.length)for(i=c.length-1,r=h.length-1;1<=i&&0<=r&&c[i]!==h[r];)r--;for(;1<=i&&0<=r;i--,r--)if(c[i]!==h[r]){if(i!==1||r!==1)do if(i--,r--,0>r||c[i]!==h[r]){var f=`
`+c[i].replace(" at new "," at ");return t.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",t.displayName)),f}while(1<=i&&0<=r);break}}}finally{Gh=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?br(n):""}function VS(t,e){switch(t.tag){case 26:case 27:case 5:return br(t.type);case 16:return br("Lazy");case 13:return t.child!==e&&e!==null?br("Suspense Fallback"):br("Suspense");case 19:return br("SuspenseList");case 0:case 15:return Kh(t.type,!1);case 11:return Kh(t.type.render,!1);case 1:return Kh(t.type,!0);case 31:return br("Activity");default:return""}}function vy(t){try{var e="",n=null;do e+=VS(t,n),n=t,t=t.return;while(t);return e}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var Xd=Object.prototype.hasOwnProperty,Tm=We.unstable_scheduleCallback,Yh=We.unstable_cancelCallback,kS=We.unstable_shouldYield,LS=We.unstable_requestPaint,Pt=We.unstable_now,PS=We.unstable_getCurrentPriorityLevel,Q0=We.unstable_ImmediatePriority,$0=We.unstable_UserBlockingPriority,Uc=We.unstable_NormalPriority,US=We.unstable_LowPriority,X0=We.unstable_IdlePriority,zS=We.log,BS=We.unstable_setDisableYieldValue,nl=null,Ut=null;function Ri(t){if(typeof zS=="function"&&BS(t),Ut&&typeof Ut.setStrictMode=="function")try{Ut.setStrictMode(nl,t)}catch{}}var zt=Math.clz32?Math.clz32:FS,qS=Math.log,HS=Math.LN2;function FS(t){return t>>>=0,t===0?32:31-(qS(t)/HS|0)|0}var ql=256,Hl=262144,Fl=4194304;function Tr(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Mu(t,e,n){var i=t.pendingLanes;if(i===0)return 0;var r=0,s=t.suspendedLanes,a=t.pingedLanes;t=t.warmLanes;var l=i&134217727;return l!==0?(i=l&~s,i!==0?r=Tr(i):(a&=l,a!==0?r=Tr(a):n||(n=l&~t,n!==0&&(r=Tr(n))))):(l=i&~s,l!==0?r=Tr(l):a!==0?r=Tr(a):n||(n=i&~t,n!==0&&(r=Tr(n)))),r===0?0:e!==0&&e!==r&&!(e&s)&&(s=r&-r,n=e&-e,s>=n||s===32&&(n&4194048)!==0)?e:r}function il(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function GS(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function W0(){var t=Fl;return Fl<<=1,!(Fl&62914560)&&(Fl=4194304),t}function Qh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function rl(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function KS(t,e,n,i,r,s){var a=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var l=t.entanglements,c=t.expirationTimes,h=t.hiddenUpdates;for(n=a&~n;0<n;){var f=31-zt(n),g=1<<f;l[f]=0,c[f]=-1;var p=h[f];if(p!==null)for(h[f]=null,f=0;f<p.length;f++){var y=p[f];y!==null&&(y.lane&=-536870913)}n&=~g}i!==0&&J0(t,i,0),s!==0&&r===0&&t.tag!==0&&(t.suspendedLanes|=s&~(a&~e))}function J0(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var i=31-zt(e);t.entangledLanes|=e,t.entanglements[i]=t.entanglements[i]|1073741824|n&261930}function Z0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-zt(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}function eE(t,e){var n=e&-e;return n=n&42?1:xm(n),n&(t.suspendedLanes|e)?0:n}function xm(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function wm(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function tE(){var t=he.p;return t!==0?t:(t=window.event,t===void 0?32:wT(t.type))}function Ey(t,e){var n=he.p;try{return he.p=t,e()}finally{he.p=n}}var ar=Math.random().toString(36).slice(2),at="__reactFiber$"+ar,It="__reactProps$"+ar,aa="__reactContainer$"+ar,Wd="__reactEvents$"+ar,YS="__reactListeners$"+ar,QS="__reactHandles$"+ar,by="__reactResources$"+ar,sl="__reactMarker$"+ar;function Sm(t){delete t[at],delete t[It],delete t[Wd],delete t[YS],delete t[QS]}function ms(t){var e=t[at];if(e)return e;for(var n=t.parentNode;n;){if(e=n[aa]||n[at]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=N_(t);t!==null;){if(n=t[at])return n;t=N_(t)}return e}t=n,n=t.parentNode}return null}function oa(t){if(t=t[at]||t[aa]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function Wa(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(L(33))}function Ss(t){var e=t[by];return e||(e=t[by]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function nt(t){t[sl]=!0}var nE=new Set,iE={};function Fr(t,e){Us(t,e),Us(t+"Capture",e)}function Us(t,e){for(iE[t]=e,t=0;t<e.length;t++)nE.add(e[t])}var $S=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ty={},xy={};function XS(t){return Xd.call(xy,t)?!0:Xd.call(Ty,t)?!1:$S.test(t)?xy[t]=!0:(Ty[t]=!0,!1)}function cc(t,e,n){if(XS(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var i=e.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Gl(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function On(t,e,n,i){if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+i)}}function Kt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function rE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function WS(t,e,n){var i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var r=i.get,s=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Jd(t){if(!t._valueTracker){var e=rE(t)?"checked":"value";t._valueTracker=WS(t,e,""+t[e])}}function sE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=rE(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function zc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var JS=/[\n"\\]/g;function $t(t){return t.replace(JS,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Zd(t,e,n,i,r,s,a,l){t.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?t.type=a:t.removeAttribute("type"),e!=null?a==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Kt(e)):t.value!==""+Kt(e)&&(t.value=""+Kt(e)):a!=="submit"&&a!=="reset"||t.removeAttribute("value"),e!=null?ef(t,a,Kt(e)):n!=null?ef(t,a,Kt(n)):i!=null&&t.removeAttribute("value"),r==null&&s!=null&&(t.defaultChecked=!!s),r!=null&&(t.checked=r&&typeof r!="function"&&typeof r!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?t.name=""+Kt(l):t.removeAttribute("name")}function aE(t,e,n,i,r,s,a,l){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.type=s),e!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||e!=null)){Jd(t);return}n=n!=null?""+Kt(n):"",e=e!=null?""+Kt(e):n,l||e===t.value||(t.value=e),t.defaultValue=e}i=i??r,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=l?t.checked:!!i,t.defaultChecked=!!i,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.name=a),Jd(t)}function ef(t,e,n){e==="number"&&zc(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function As(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Kt(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function oE(t,e,n){if(e!=null&&(e=""+Kt(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Kt(n):""}function lE(t,e,n,i){if(e==null){if(i!=null){if(n!=null)throw Error(L(92));if(Xa(i)){if(1<i.length)throw Error(L(93));i=i[0]}n=i}n==null&&(n=""),e=n}n=Kt(e),t.defaultValue=n,i=t.textContent,i===n&&i!==""&&i!==null&&(t.value=i),Jd(t)}function zs(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ZS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wy(t,e,n){var i=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":i?t.setProperty(e,n):typeof n!="number"||n===0||ZS.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function cE(t,e,n){if(e!=null&&typeof e!="object")throw Error(L(62));if(t=t.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||e!=null&&e.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var r in e)i=e[r],e.hasOwnProperty(r)&&n[r]!==i&&wy(t,r,i)}else for(var s in e)e.hasOwnProperty(s)&&wy(t,s,e[s])}function Am(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eA=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),tA=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function uc(t){return tA.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Bn(){}var tf=null;function Rm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ps=null,Rs=null;function Sy(t){var e=oa(t);if(e&&(t=e.stateNode)){var n=t[It]||null;e:switch(t=e.stateNode,e.type){case"input":if(Zd(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+$t(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=i[It]||null;if(!r)throw Error(L(90));Zd(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(e=0;e<n.length;e++)i=n[e],i.form===t.form&&sE(i)}break e;case"textarea":oE(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&As(t,!!n.multiple,e,!1)}}}var $h=!1;function uE(t,e,n){if($h)return t(e,n);$h=!0;try{var i=t(e);return i}finally{if($h=!1,(ps!==null||Rs!==null)&&(Ku(),ps&&(e=ps,t=Rs,Rs=ps=null,Sy(e),t)))for(e=0;e<t.length;e++)Sy(t[e])}}function No(t,e){var n=t.stateNode;if(n===null)return null;var i=n[It]||null;if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(L(231,e,typeof n));return n}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nf=!1;if(Xn)try{var Ba={};Object.defineProperty(Ba,"passive",{get:function(){nf=!0}}),window.addEventListener("test",Ba,Ba),window.removeEventListener("test",Ba,Ba)}catch{nf=!1}var Ni=null,Nm=null,hc=null;function hE(){if(hc)return hc;var t,e=Nm,n=e.length,i,r="value"in Ni?Ni.value:Ni.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var a=n-t;for(i=1;i<=a&&e[n-i]===r[s-i];i++);return hc=r.slice(t,1<i?1-i:void 0)}function dc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Kl(){return!0}function Ay(){return!1}function Dt(t){function e(n,i,r,s,a){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Kl:Ay,this.isPropagationStopped=Ay,this}return Re(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Kl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Kl)},persist:function(){},isPersistent:Kl}),e}var Gr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vu=Dt(Gr),al=Re({},Gr,{view:0,detail:0}),nA=Dt(al),Xh,Wh,qa,ku=Re({},al,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==qa&&(qa&&t.type==="mousemove"?(Xh=t.screenX-qa.screenX,Wh=t.screenY-qa.screenY):Wh=Xh=0,qa=t),Xh)},movementY:function(t){return"movementY"in t?t.movementY:Wh}}),Ry=Dt(ku),iA=Re({},ku,{dataTransfer:0}),rA=Dt(iA),sA=Re({},al,{relatedTarget:0}),Jh=Dt(sA),aA=Re({},Gr,{animationName:0,elapsedTime:0,pseudoElement:0}),oA=Dt(aA),lA=Re({},Gr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),cA=Dt(lA),uA=Re({},Gr,{data:0}),Ny=Dt(uA),hA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=fA[t])?!!e[t]:!1}function Cm(){return mA}var pA=Re({},al,{key:function(t){if(t.key){var e=hA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=dc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?dA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cm,charCode:function(t){return t.type==="keypress"?dc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?dc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),gA=Dt(pA),yA=Re({},ku,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cy=Dt(yA),_A=Re({},al,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cm}),vA=Dt(_A),EA=Re({},Gr,{propertyName:0,elapsedTime:0,pseudoElement:0}),bA=Dt(EA),TA=Re({},ku,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),xA=Dt(TA),wA=Re({},Gr,{newState:0,oldState:0}),SA=Dt(wA),AA=[9,13,27,32],Im=Xn&&"CompositionEvent"in window,oo=null;Xn&&"documentMode"in document&&(oo=document.documentMode);var RA=Xn&&"TextEvent"in window&&!oo,dE=Xn&&(!Im||oo&&8<oo&&11>=oo),Iy=" ",Dy=!1;function fE(t,e){switch(t){case"keyup":return AA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var gs=!1;function NA(t,e){switch(t){case"compositionend":return mE(e);case"keypress":return e.which!==32?null:(Dy=!0,Iy);case"textInput":return t=e.data,t===Iy&&Dy?null:t;default:return null}}function CA(t,e){if(gs)return t==="compositionend"||!Im&&fE(t,e)?(t=hE(),hc=Nm=Ni=null,gs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return dE&&e.locale!=="ko"?null:e.data;default:return null}}var IA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Oy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!IA[t.type]:e==="textarea"}function pE(t,e,n,i){ps?Rs?Rs.push(i):Rs=[i]:ps=i,e=ru(e,"onChange"),0<e.length&&(n=new Vu("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var lo=null,Co=null;function DA(t){uT(t,0)}function Lu(t){var e=Wa(t);if(sE(e))return t}function jy(t,e){if(t==="change")return e}var gE=!1;if(Xn){var Zh;if(Xn){var ed="oninput"in document;if(!ed){var My=document.createElement("div");My.setAttribute("oninput","return;"),ed=typeof My.oninput=="function"}Zh=ed}else Zh=!1;gE=Zh&&(!document.documentMode||9<document.documentMode)}function Vy(){lo&&(lo.detachEvent("onpropertychange",yE),Co=lo=null)}function yE(t){if(t.propertyName==="value"&&Lu(Co)){var e=[];pE(e,Co,t,Rm(t)),uE(DA,e)}}function OA(t,e,n){t==="focusin"?(Vy(),lo=e,Co=n,lo.attachEvent("onpropertychange",yE)):t==="focusout"&&Vy()}function jA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Lu(Co)}function MA(t,e){if(t==="click")return Lu(e)}function VA(t,e){if(t==="input"||t==="change")return Lu(e)}function kA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var qt=typeof Object.is=="function"?Object.is:kA;function Io(t,e){if(qt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!Xd.call(e,r)||!qt(t[r],e[r]))return!1}return!0}function ky(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ly(t,e){var n=ky(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ky(n)}}function _E(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?_E(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function vE(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=zc(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=zc(t.document)}return e}function Dm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var LA=Xn&&"documentMode"in document&&11>=document.documentMode,ys=null,rf=null,co=null,sf=!1;function Py(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;sf||ys==null||ys!==zc(i)||(i=ys,"selectionStart"in i&&Dm(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),co&&Io(co,i)||(co=i,i=ru(rf,"onSelect"),0<i.length&&(e=new Vu("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=ys)))}function Er(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var _s={animationend:Er("Animation","AnimationEnd"),animationiteration:Er("Animation","AnimationIteration"),animationstart:Er("Animation","AnimationStart"),transitionrun:Er("Transition","TransitionRun"),transitionstart:Er("Transition","TransitionStart"),transitioncancel:Er("Transition","TransitionCancel"),transitionend:Er("Transition","TransitionEnd")},td={},EE={};Xn&&(EE=document.createElement("div").style,"AnimationEvent"in window||(delete _s.animationend.animation,delete _s.animationiteration.animation,delete _s.animationstart.animation),"TransitionEvent"in window||delete _s.transitionend.transition);function Kr(t){if(td[t])return td[t];if(!_s[t])return t;var e=_s[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in EE)return td[t]=e[n];return t}var bE=Kr("animationend"),TE=Kr("animationiteration"),xE=Kr("animationstart"),PA=Kr("transitionrun"),UA=Kr("transitionstart"),zA=Kr("transitioncancel"),wE=Kr("transitionend"),SE=new Map,af="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");af.push("scrollEnd");function fn(t,e){SE.set(t,e),Fr(e,[t])}var Bc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Gt=[],vs=0,Om=0;function Pu(){for(var t=vs,e=Om=vs=0;e<t;){var n=Gt[e];Gt[e++]=null;var i=Gt[e];Gt[e++]=null;var r=Gt[e];Gt[e++]=null;var s=Gt[e];if(Gt[e++]=null,i!==null&&r!==null){var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}s!==0&&AE(n,r,s)}}function Uu(t,e,n,i){Gt[vs++]=t,Gt[vs++]=e,Gt[vs++]=n,Gt[vs++]=i,Om|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function jm(t,e,n,i){return Uu(t,e,n,i),qc(t)}function Yr(t,e){return Uu(t,null,null,e),qc(t)}function AE(t,e,n){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n);for(var r=!1,s=t.return;s!==null;)s.childLanes|=n,i=s.alternate,i!==null&&(i.childLanes|=n),s.tag===22&&(t=s.stateNode,t===null||t._visibility&1||(r=!0)),t=s,s=s.return;return t.tag===3?(s=t.stateNode,r&&e!==null&&(r=31-zt(n),t=s.hiddenUpdates,i=t[r],i===null?t[r]=[e]:i.push(e),e.lane=n|536870912),s):null}function qc(t){if(50<vo)throw vo=0,Rf=null,Error(L(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Es={};function BA(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vt(t,e,n,i){return new BA(t,e,n,i)}function Mm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Gn(t,e){var n=t.alternate;return n===null?(n=Vt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function RE(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function fc(t,e,n,i,r,s){var a=0;if(i=t,typeof t=="function")Mm(t)&&(a=1);else if(typeof t=="string")a=KR(t,n,En.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Kd:return t=Vt(31,n,e,r),t.elementType=Kd,t.lanes=s,t;case ds:return Nr(n.children,r,s,e);case K0:a=8,r|=24;break;case Hd:return t=Vt(12,n,e,r|2),t.elementType=Hd,t.lanes=s,t;case Fd:return t=Vt(13,n,e,r),t.elementType=Fd,t.lanes=s,t;case Gd:return t=Vt(19,n,e,r),t.elementType=Gd,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case zn:a=10;break e;case Y0:a=9;break e;case Em:a=11;break e;case bm:a=14;break e;case yi:a=16,i=null;break e}a=29,n=Error(L(130,t===null?"null":typeof t,"")),i=null}return e=Vt(a,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function Nr(t,e,n,i){return t=Vt(7,t,i,e),t.lanes=n,t}function nd(t,e,n){return t=Vt(6,t,null,e),t.lanes=n,t}function NE(t){var e=Vt(18,null,null,0);return e.stateNode=t,e}function id(t,e,n){return e=Vt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var Uy=new WeakMap;function Xt(t,e){if(typeof t=="object"&&t!==null){var n=Uy.get(t);return n!==void 0?n:(e={value:t,source:e,stack:vy(e)},Uy.set(t,e),e)}return{value:t,source:e,stack:vy(e)}}var bs=[],Ts=0,Hc=null,Do=0,Yt=[],Qt=0,Xi=null,yn=1,_n="";function Ln(t,e){bs[Ts++]=Do,bs[Ts++]=Hc,Hc=t,Do=e}function CE(t,e,n){Yt[Qt++]=yn,Yt[Qt++]=_n,Yt[Qt++]=Xi,Xi=t;var i=yn;t=_n;var r=32-zt(i)-1;i&=~(1<<r),n+=1;var s=32-zt(e)+r;if(30<s){var a=r-r%5;s=(i&(1<<a)-1).toString(32),i>>=a,r-=a,yn=1<<32-zt(e)+r|n<<r|i,_n=s+t}else yn=1<<s|n<<r|i,_n=t}function Vm(t){t.return!==null&&(Ln(t,1),CE(t,1,0))}function km(t){for(;t===Hc;)Hc=bs[--Ts],bs[Ts]=null,Do=bs[--Ts],bs[Ts]=null;for(;t===Xi;)Xi=Yt[--Qt],Yt[Qt]=null,_n=Yt[--Qt],Yt[Qt]=null,yn=Yt[--Qt],Yt[Qt]=null}function IE(t,e){Yt[Qt++]=yn,Yt[Qt++]=_n,Yt[Qt++]=Xi,yn=e.id,_n=e.overflow,Xi=t}var ot=null,Se=null,le=!1,Mi=null,Wt=!1,of=Error(L(519));function Wi(t){var e=Error(L(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Oo(Xt(e,t)),of}function zy(t){var e=t.stateNode,n=t.type,i=t.memoizedProps;switch(e[at]=t,e[It]=i,n){case"dialog":ne("cancel",e),ne("close",e);break;case"iframe":case"object":case"embed":ne("load",e);break;case"video":case"audio":for(n=0;n<ko.length;n++)ne(ko[n],e);break;case"source":ne("error",e);break;case"img":case"image":case"link":ne("error",e),ne("load",e);break;case"details":ne("toggle",e);break;case"input":ne("invalid",e),aE(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":ne("invalid",e);break;case"textarea":ne("invalid",e),lE(e,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||i.suppressHydrationWarning===!0||dT(e.textContent,n)?(i.popover!=null&&(ne("beforetoggle",e),ne("toggle",e)),i.onScroll!=null&&ne("scroll",e),i.onScrollEnd!=null&&ne("scrollend",e),i.onClick!=null&&(e.onclick=Bn),e=!0):e=!1,e||Wi(t,!0)}function By(t){for(ot=t.return;ot;)switch(ot.tag){case 5:case 31:case 13:Wt=!1;return;case 27:case 3:Wt=!0;return;default:ot=ot.return}}function is(t){if(t!==ot)return!1;if(!le)return By(t),le=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Of(t.type,t.memoizedProps)),n=!n),n&&Se&&Wi(t),By(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(L(317));Se=R_(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(L(317));Se=R_(t)}else e===27?(e=Se,or(t.type)?(t=kf,kf=null,Se=t):Se=e):Se=ot?en(t.stateNode.nextSibling):null;return!0}function jr(){Se=ot=null,le=!1}function rd(){var t=Mi;return t!==null&&(At===null?At=t:At.push.apply(At,t),Mi=null),t}function Oo(t){Mi===null?Mi=[t]:Mi.push(t)}var lf=Cn(null),Qr=null,qn=null;function vi(t,e,n){Te(lf,e._currentValue),e._currentValue=n}function Kn(t){t._currentValue=lf.current,it(lf)}function cf(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function uf(t,e,n,i){var r=t.child;for(r!==null&&(r.return=t);r!==null;){var s=r.dependencies;if(s!==null){var a=r.child;s=s.firstContext;e:for(;s!==null;){var l=s;s=r;for(var c=0;c<e.length;c++)if(l.context===e[c]){s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),cf(s.return,n,t),i||(a=null);break e}s=l.next}}else if(r.tag===18){if(a=r.return,a===null)throw Error(L(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),cf(a,n,t),a=null}else a=r.child;if(a!==null)a.return=r;else for(a=r;a!==null;){if(a===t){a=null;break}if(r=a.sibling,r!==null){r.return=a.return,a=r;break}a=a.return}r=a}}function la(t,e,n,i){t=null;for(var r=e,s=!1;r!==null;){if(!s){if(r.flags&524288)s=!0;else if(r.flags&262144)break}if(r.tag===10){var a=r.alternate;if(a===null)throw Error(L(387));if(a=a.memoizedProps,a!==null){var l=r.type;qt(r.pendingProps.value,a.value)||(t!==null?t.push(l):t=[l])}}else if(r===kc.current){if(a=r.alternate,a===null)throw Error(L(387));a.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(t!==null?t.push(Po):t=[Po])}r=r.return}t!==null&&uf(e,t,n,i),e.flags|=262144}function Fc(t){for(t=t.firstContext;t!==null;){if(!qt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Mr(t){Qr=t,qn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ct(t){return DE(Qr,t)}function Yl(t,e){return Qr===null&&Mr(t),DE(t,e)}function DE(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},qn===null){if(t===null)throw Error(L(308));qn=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else qn=qn.next=e;return n}var qA=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,i){t.push(i)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},HA=We.unstable_scheduleCallback,FA=We.unstable_NormalPriority,He={$$typeof:zn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lm(){return{controller:new qA,data:new Map,refCount:0}}function ol(t){t.refCount--,t.refCount===0&&HA(FA,function(){t.controller.abort()})}var uo=null,hf=0,Bs=0,Ns=null;function GA(t,e){if(uo===null){var n=uo=[];hf=0,Bs=lp(),Ns={status:"pending",value:void 0,then:function(i){n.push(i)}}}return hf++,e.then(qy,qy),e}function qy(){if(--hf===0&&uo!==null){Ns!==null&&(Ns.status="fulfilled");var t=uo;uo=null,Bs=0,Ns=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function KA(t,e){var n=[],i={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return t.then(function(){i.status="fulfilled",i.value=e;for(var r=0;r<n.length;r++)(0,n[r])(e)},function(r){for(i.status="rejected",i.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),i}var Hy=Q.S;Q.S=function(t,e){Gb=Pt(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&GA(t,e),Hy!==null&&Hy(t,e)};var Cr=Cn(null);function Pm(){var t=Cr.current;return t!==null?t:ve.pooledCache}function mc(t,e){e===null?Te(Cr,Cr.current):Te(Cr,e.pool)}function OE(){var t=Pm();return t===null?null:{parent:He._currentValue,pool:t}}var ca=Error(L(460)),Um=Error(L(474)),zu=Error(L(542)),Gc={then:function(){}};function Fy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function jE(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(Bn,Bn),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Ky(t),t;default:if(typeof e.status=="string")e.then(Bn,Bn);else{if(t=ve,t!==null&&100<t.shellSuspendCounter)throw Error(L(482));t=e,t.status="pending",t.then(function(i){if(e.status==="pending"){var r=e;r.status="fulfilled",r.value=i}},function(i){if(e.status==="pending"){var r=e;r.status="rejected",r.reason=i}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Ky(t),t}throw Ir=e,ca}}function xr(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Ir=n,ca):n}}var Ir=null;function Gy(){if(Ir===null)throw Error(L(459));var t=Ir;return Ir=null,t}function Ky(t){if(t===ca||t===zu)throw Error(L(483))}var Cs=null,jo=0;function Ql(t){var e=jo;return jo+=1,Cs===null&&(Cs=[]),jE(Cs,t,e)}function Ha(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function $l(t,e){throw e.$$typeof===OS?Error(L(525)):(t=Object.prototype.toString.call(e),Error(L(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function ME(t){function e(b,v){if(t){var w=b.deletions;w===null?(b.deletions=[v],b.flags|=16):w.push(v)}}function n(b,v){if(!t)return null;for(;v!==null;)e(b,v),v=v.sibling;return null}function i(b){for(var v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function r(b,v){return b=Gn(b,v),b.index=0,b.sibling=null,b}function s(b,v,w){return b.index=w,t?(w=b.alternate,w!==null?(w=w.index,w<v?(b.flags|=67108866,v):w):(b.flags|=67108866,v)):(b.flags|=1048576,v)}function a(b){return t&&b.alternate===null&&(b.flags|=67108866),b}function l(b,v,w,M){return v===null||v.tag!==6?(v=nd(w,b.mode,M),v.return=b,v):(v=r(v,w),v.return=b,v)}function c(b,v,w,M){var U=w.type;return U===ds?f(b,v,w.props.children,M,w.key):v!==null&&(v.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===yi&&xr(U)===v.type)?(v=r(v,w.props),Ha(v,w),v.return=b,v):(v=fc(w.type,w.key,w.props,null,b.mode,M),Ha(v,w),v.return=b,v)}function h(b,v,w,M){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=id(w,b.mode,M),v.return=b,v):(v=r(v,w.children||[]),v.return=b,v)}function f(b,v,w,M,U){return v===null||v.tag!==7?(v=Nr(w,b.mode,M,U),v.return=b,v):(v=r(v,w),v.return=b,v)}function g(b,v,w){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return v=nd(""+v,b.mode,w),v.return=b,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Bl:return w=fc(v.type,v.key,v.props,null,b.mode,w),Ha(w,v),w.return=b,w;case $a:return v=id(v,b.mode,w),v.return=b,v;case yi:return v=xr(v),g(b,v,w)}if(Xa(v)||za(v))return v=Nr(v,b.mode,w,null),v.return=b,v;if(typeof v.then=="function")return g(b,Ql(v),w);if(v.$$typeof===zn)return g(b,Yl(b,v),w);$l(b,v)}return null}function p(b,v,w,M){var U=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return U!==null?null:l(b,v,""+w,M);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Bl:return w.key===U?c(b,v,w,M):null;case $a:return w.key===U?h(b,v,w,M):null;case yi:return w=xr(w),p(b,v,w,M)}if(Xa(w)||za(w))return U!==null?null:f(b,v,w,M,null);if(typeof w.then=="function")return p(b,v,Ql(w),M);if(w.$$typeof===zn)return p(b,v,Yl(b,w),M);$l(b,w)}return null}function y(b,v,w,M,U){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return b=b.get(w)||null,l(v,b,""+M,U);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Bl:return b=b.get(M.key===null?w:M.key)||null,c(v,b,M,U);case $a:return b=b.get(M.key===null?w:M.key)||null,h(v,b,M,U);case yi:return M=xr(M),y(b,v,w,M,U)}if(Xa(M)||za(M))return b=b.get(w)||null,f(v,b,M,U,null);if(typeof M.then=="function")return y(b,v,w,Ql(M),U);if(M.$$typeof===zn)return y(b,v,w,Yl(v,M),U);$l(v,M)}return null}function N(b,v,w,M){for(var U=null,F=null,T=v,E=v=0,x=null;T!==null&&E<w.length;E++){T.index>E?(x=T,T=null):x=T.sibling;var A=p(b,T,w[E],M);if(A===null){T===null&&(T=x);break}t&&T&&A.alternate===null&&e(b,T),v=s(A,v,E),F===null?U=A:F.sibling=A,F=A,T=x}if(E===w.length)return n(b,T),le&&Ln(b,E),U;if(T===null){for(;E<w.length;E++)T=g(b,w[E],M),T!==null&&(v=s(T,v,E),F===null?U=T:F.sibling=T,F=T);return le&&Ln(b,E),U}for(T=i(T);E<w.length;E++)x=y(T,b,E,w[E],M),x!==null&&(t&&x.alternate!==null&&T.delete(x.key===null?E:x.key),v=s(x,v,E),F===null?U=x:F.sibling=x,F=x);return t&&T.forEach(function(R){return e(b,R)}),le&&Ln(b,E),U}function D(b,v,w,M){if(w==null)throw Error(L(151));for(var U=null,F=null,T=v,E=v=0,x=null,A=w.next();T!==null&&!A.done;E++,A=w.next()){T.index>E?(x=T,T=null):x=T.sibling;var R=p(b,T,A.value,M);if(R===null){T===null&&(T=x);break}t&&T&&R.alternate===null&&e(b,T),v=s(R,v,E),F===null?U=R:F.sibling=R,F=R,T=x}if(A.done)return n(b,T),le&&Ln(b,E),U;if(T===null){for(;!A.done;E++,A=w.next())A=g(b,A.value,M),A!==null&&(v=s(A,v,E),F===null?U=A:F.sibling=A,F=A);return le&&Ln(b,E),U}for(T=i(T);!A.done;E++,A=w.next())A=y(T,b,E,A.value,M),A!==null&&(t&&A.alternate!==null&&T.delete(A.key===null?E:A.key),v=s(A,v,E),F===null?U=A:F.sibling=A,F=A);return t&&T.forEach(function(C){return e(b,C)}),le&&Ln(b,E),U}function I(b,v,w,M){if(typeof w=="object"&&w!==null&&w.type===ds&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Bl:e:{for(var U=w.key;v!==null;){if(v.key===U){if(U=w.type,U===ds){if(v.tag===7){n(b,v.sibling),M=r(v,w.props.children),M.return=b,b=M;break e}}else if(v.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===yi&&xr(U)===v.type){n(b,v.sibling),M=r(v,w.props),Ha(M,w),M.return=b,b=M;break e}n(b,v);break}else e(b,v);v=v.sibling}w.type===ds?(M=Nr(w.props.children,b.mode,M,w.key),M.return=b,b=M):(M=fc(w.type,w.key,w.props,null,b.mode,M),Ha(M,w),M.return=b,b=M)}return a(b);case $a:e:{for(U=w.key;v!==null;){if(v.key===U)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){n(b,v.sibling),M=r(v,w.children||[]),M.return=b,b=M;break e}else{n(b,v);break}else e(b,v);v=v.sibling}M=id(w,b.mode,M),M.return=b,b=M}return a(b);case yi:return w=xr(w),I(b,v,w,M)}if(Xa(w))return N(b,v,w,M);if(za(w)){if(U=za(w),typeof U!="function")throw Error(L(150));return w=U.call(w),D(b,v,w,M)}if(typeof w.then=="function")return I(b,v,Ql(w),M);if(w.$$typeof===zn)return I(b,v,Yl(b,w),M);$l(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,v!==null&&v.tag===6?(n(b,v.sibling),M=r(v,w),M.return=b,b=M):(n(b,v),M=nd(w,b.mode,M),M.return=b,b=M),a(b)):n(b,v)}return function(b,v,w,M){try{jo=0;var U=I(b,v,w,M);return Cs=null,U}catch(T){if(T===ca||T===zu)throw T;var F=Vt(29,T,null,b.mode);return F.lanes=M,F.return=b,F}finally{}}}var Vr=ME(!0),VE=ME(!1),_i=!1;function zm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function df(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Vi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ki(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,ue&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,e=qc(t),AE(t,null,n),e}return Uu(t,i,e,n),qc(t)}function ho(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Z0(t,n)}}function sd(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?r=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,callbacks:i.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var ff=!1;function fo(){if(ff){var t=Ns;if(t!==null)throw t}}function mo(t,e,n,i){ff=!1;var r=t.updateQueue;_i=!1;var s=r.firstBaseUpdate,a=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var c=l,h=c.next;c.next=null,a===null?s=h:a.next=h,a=c;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==a&&(l===null?f.firstBaseUpdate=h:l.next=h,f.lastBaseUpdate=c))}if(s!==null){var g=r.baseState;a=0,f=h=c=null,l=s;do{var p=l.lane&-536870913,y=p!==l.lane;if(y?(oe&p)===p:(i&p)===p){p!==0&&p===Bs&&(ff=!0),f!==null&&(f=f.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var N=t,D=l;p=e;var I=n;switch(D.tag){case 1:if(N=D.payload,typeof N=="function"){g=N.call(I,g,p);break e}g=N;break e;case 3:N.flags=N.flags&-65537|128;case 0:if(N=D.payload,p=typeof N=="function"?N.call(I,g,p):N,p==null)break e;g=Re({},g,p);break e;case 2:_i=!0}}p=l.callback,p!==null&&(t.flags|=64,y&&(t.flags|=8192),y=r.callbacks,y===null?r.callbacks=[p]:y.push(p))}else y={lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(h=f=y,c=g):f=f.next=y,a|=p;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;y=l,l=y.next,y.next=null,r.lastBaseUpdate=y,r.shared.pending=null}}while(!0);f===null&&(c=g),r.baseState=c,r.firstBaseUpdate=h,r.lastBaseUpdate=f,s===null&&(r.shared.lanes=0),Zi|=a,t.lanes=a,t.memoizedState=g}}function kE(t,e){if(typeof t!="function")throw Error(L(191,t));t.call(e)}function LE(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)kE(n[t],e)}var qs=Cn(null),Kc=Cn(0);function Yy(t,e){t=ei,Te(Kc,t),Te(qs,e),ei=t|e.baseLanes}function mf(){Te(Kc,ei),Te(qs,qs.current)}function Bm(){ei=Kc.current,it(qs),it(Kc)}var Ht=Cn(null),Zt=null;function Ei(t){var e=t.alternate;Te(Ve,Ve.current&1),Te(Ht,t),Zt===null&&(e===null||qs.current!==null||e.memoizedState!==null)&&(Zt=t)}function pf(t){Te(Ve,Ve.current),Te(Ht,t),Zt===null&&(Zt=t)}function PE(t){t.tag===22?(Te(Ve,Ve.current),Te(Ht,t),Zt===null&&(Zt=t)):bi()}function bi(){Te(Ve,Ve.current),Te(Ht,Ht.current)}function Mt(t){it(Ht),Zt===t&&(Zt=null),it(Ve)}var Ve=Cn(0);function Yc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Mf(n)||Vf(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Wn=0,Z=null,ge=null,Be=null,Qc=!1,Is=!1,kr=!1,$c=0,Mo=0,Ds=null,YA=0;function Oe(){throw Error(L(321))}function qm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!qt(t[n],e[n]))return!1;return!0}function Hm(t,e,n,i,r,s){return Wn=s,Z=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Q.H=t===null||t.memoizedState===null?pb:ep,kr=!1,s=n(i,r),kr=!1,Is&&(s=zE(e,n,i,r)),UE(t),s}function UE(t){Q.H=Vo;var e=ge!==null&&ge.next!==null;if(Wn=0,Be=ge=Z=null,Qc=!1,Mo=0,Ds=null,e)throw Error(L(300));t===null||Ge||(t=t.dependencies,t!==null&&Fc(t)&&(Ge=!0))}function zE(t,e,n,i){Z=t;var r=0;do{if(Is&&(Ds=null),Mo=0,Is=!1,25<=r)throw Error(L(301));if(r+=1,Be=ge=null,t.updateQueue!=null){var s=t.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}Q.H=gb,s=e(n,i)}while(Is);return s}function QA(){var t=Q.H,e=t.useState()[0];return e=typeof e.then=="function"?ll(e):e,t=t.useState()[0],(ge!==null?ge.memoizedState:null)!==t&&(Z.flags|=1024),e}function Fm(){var t=$c!==0;return $c=0,t}function Gm(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function Km(t){if(Qc){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Qc=!1}Wn=0,Be=ge=Z=null,Is=!1,Mo=$c=0,Ds=null}function Et(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?Z.memoizedState=Be=t:Be=Be.next=t,Be}function Le(){if(ge===null){var t=Z.alternate;t=t!==null?t.memoizedState:null}else t=ge.next;var e=Be===null?Z.memoizedState:Be.next;if(e!==null)Be=e,ge=t;else{if(t===null)throw Z.alternate===null?Error(L(467)):Error(L(310));ge=t,t={memoizedState:ge.memoizedState,baseState:ge.baseState,baseQueue:ge.baseQueue,queue:ge.queue,next:null},Be===null?Z.memoizedState=Be=t:Be=Be.next=t}return Be}function Bu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ll(t){var e=Mo;return Mo+=1,Ds===null&&(Ds=[]),t=jE(Ds,t,e),e=Z,(Be===null?e.memoizedState:Be.next)===null&&(e=e.alternate,Q.H=e===null||e.memoizedState===null?pb:ep),t}function qu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ll(t);if(t.$$typeof===zn)return ct(t)}throw Error(L(438,String(t)))}function Ym(t){var e=null,n=Z.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var i=Z.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(e={data:i.data.map(function(r){return r.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Bu(),Z.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),i=0;i<t;i++)n[i]=jS;return e.index++,n}function Jn(t,e){return typeof e=="function"?e(t):e}function pc(t){var e=Le();return Qm(e,ge,t)}function Qm(t,e,n){var i=t.queue;if(i===null)throw Error(L(311));i.lastRenderedReducer=n;var r=t.baseQueue,s=i.pending;if(s!==null){if(r!==null){var a=r.next;r.next=s.next,s.next=a}e.baseQueue=r=s,i.pending=null}if(s=t.baseState,r===null)t.memoizedState=s;else{e=r.next;var l=a=null,c=null,h=e,f=!1;do{var g=h.lane&-536870913;if(g!==h.lane?(oe&g)===g:(Wn&g)===g){var p=h.revertLane;if(p===0)c!==null&&(c=c.next={lane:0,revertLane:0,gesture:null,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),g===Bs&&(f=!0);else if((Wn&p)===p){h=h.next,p===Bs&&(f=!0);continue}else g={lane:0,revertLane:h.revertLane,gesture:null,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},c===null?(l=c=g,a=s):c=c.next=g,Z.lanes|=p,Zi|=p;g=h.action,kr&&n(s,g),s=h.hasEagerState?h.eagerState:n(s,g)}else p={lane:g,revertLane:h.revertLane,gesture:h.gesture,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},c===null?(l=c=p,a=s):c=c.next=p,Z.lanes|=g,Zi|=g;h=h.next}while(h!==null&&h!==e);if(c===null?a=s:c.next=l,!qt(s,t.memoizedState)&&(Ge=!0,f&&(n=Ns,n!==null)))throw n;t.memoizedState=s,t.baseState=a,t.baseQueue=c,i.lastRenderedState=s}return r===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function ad(t){var e=Le(),n=e.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do s=t(s,a.action),a=a.next;while(a!==r);qt(s,e.memoizedState)||(Ge=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function BE(t,e,n){var i=Z,r=Le(),s=le;if(s){if(n===void 0)throw Error(L(407));n=n()}else n=e();var a=!qt((ge||r).memoizedState,n);if(a&&(r.memoizedState=n,Ge=!0),r=r.queue,$m(FE.bind(null,i,r,t),[t]),r.getSnapshot!==e||a||Be!==null&&Be.memoizedState.tag&1){if(i.flags|=2048,Hs(9,{destroy:void 0},HE.bind(null,i,r,n,e),null),ve===null)throw Error(L(349));s||Wn&127||qE(i,e,n)}return n}function qE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Z.updateQueue,e===null?(e=Bu(),Z.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function HE(t,e,n,i){e.value=n,e.getSnapshot=i,GE(e)&&KE(t)}function FE(t,e,n){return n(function(){GE(e)&&KE(t)})}function GE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!qt(t,n)}catch{return!0}}function KE(t){var e=Yr(t,2);e!==null&&Ct(e,t,2)}function gf(t){var e=Et();if(typeof t=="function"){var n=t;if(t=n(),kr){Ri(!0);try{n()}finally{Ri(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jn,lastRenderedState:t},e}function YE(t,e,n,i){return t.baseState=n,Qm(t,ge,typeof i=="function"?i:Jn)}function $A(t,e,n,i,r){if(Fu(t))throw Error(L(485));if(t=e.action,t!==null){var s={payload:r,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){s.listeners.push(a)}};Q.T!==null?n(!0):s.isTransition=!1,i(s),n=e.pending,n===null?(s.next=e.pending=s,QE(e,s)):(s.next=n.next,e.pending=n.next=s)}}function QE(t,e){var n=e.action,i=e.payload,r=t.state;if(e.isTransition){var s=Q.T,a={};Q.T=a;try{var l=n(r,i),c=Q.S;c!==null&&c(a,l),Qy(t,e,l)}catch(h){yf(t,e,h)}finally{s!==null&&a.types!==null&&(s.types=a.types),Q.T=s}}else try{s=n(r,i),Qy(t,e,s)}catch(h){yf(t,e,h)}}function Qy(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){$y(t,e,i)},function(i){return yf(t,e,i)}):$y(t,e,n)}function $y(t,e,n){e.status="fulfilled",e.value=n,$E(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,QE(t,n)))}function yf(t,e,n){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do e.status="rejected",e.reason=n,$E(e),e=e.next;while(e!==i)}t.action=null}function $E(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function XE(t,e){return e}function Xy(t,e){if(le){var n=ve.formState;if(n!==null){e:{var i=Z;if(le){if(Se){t:{for(var r=Se,s=Wt;r.nodeType!==8;){if(!s){r=null;break t}if(r=en(r.nextSibling),r===null){r=null;break t}}s=r.data,r=s==="F!"||s==="F"?r:null}if(r){Se=en(r.nextSibling),i=r.data==="F!";break e}}Wi(i)}i=!1}i&&(e=n[0])}}return n=Et(),n.memoizedState=n.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:XE,lastRenderedState:e},n.queue=i,n=db.bind(null,Z,i),i.dispatch=n,i=gf(!1),s=Zm.bind(null,Z,!1,i.queue),i=Et(),r={state:e,dispatch:null,action:t,pending:null},i.queue=r,n=$A.bind(null,Z,r,s,n),r.dispatch=n,i.memoizedState=t,[e,n,!1]}function Wy(t){var e=Le();return WE(e,ge,t)}function WE(t,e,n){if(e=Qm(t,e,XE)[0],t=pc(Jn)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var i=ll(e)}catch(a){throw a===ca?zu:a}else i=e;e=Le();var r=e.queue,s=r.dispatch;return n!==e.memoizedState&&(Z.flags|=2048,Hs(9,{destroy:void 0},XA.bind(null,r,n),null)),[i,s,t]}function XA(t,e){t.action=e}function Jy(t){var e=Le(),n=ge;if(n!==null)return WE(e,n,t);Le(),e=e.memoizedState,n=Le();var i=n.queue.dispatch;return n.memoizedState=t,[e,i,!1]}function Hs(t,e,n,i){return t={tag:t,create:n,deps:i,inst:e,next:null},e=Z.updateQueue,e===null&&(e=Bu(),Z.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function JE(){return Le().memoizedState}function gc(t,e,n,i){var r=Et();Z.flags|=t,r.memoizedState=Hs(1|e,{destroy:void 0},n,i===void 0?null:i)}function Hu(t,e,n,i){var r=Le();i=i===void 0?null:i;var s=r.memoizedState.inst;ge!==null&&i!==null&&qm(i,ge.memoizedState.deps)?r.memoizedState=Hs(e,s,n,i):(Z.flags|=t,r.memoizedState=Hs(1|e,s,n,i))}function Zy(t,e){gc(8390656,8,t,e)}function $m(t,e){Hu(2048,8,t,e)}function WA(t){Z.flags|=4;var e=Z.updateQueue;if(e===null)e=Bu(),Z.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function ZE(t){var e=Le().memoizedState;return WA({ref:e,nextImpl:t}),function(){if(ue&2)throw Error(L(440));return e.impl.apply(void 0,arguments)}}function eb(t,e){return Hu(4,2,t,e)}function tb(t,e){return Hu(4,4,t,e)}function nb(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ib(t,e,n){n=n!=null?n.concat([t]):null,Hu(4,4,nb.bind(null,e,t),n)}function Xm(){}function rb(t,e){var n=Le();e=e===void 0?null:e;var i=n.memoizedState;return e!==null&&qm(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function sb(t,e){var n=Le();e=e===void 0?null:e;var i=n.memoizedState;if(e!==null&&qm(e,i[1]))return i[0];if(i=t(),kr){Ri(!0);try{t()}finally{Ri(!1)}}return n.memoizedState=[i,e],i}function Wm(t,e,n){return n===void 0||Wn&1073741824&&!(oe&261930)?t.memoizedState=e:(t.memoizedState=n,t=Yb(),Z.lanes|=t,Zi|=t,n)}function ab(t,e,n,i){return qt(n,e)?n:qs.current!==null?(t=Wm(t,n,i),qt(t,e)||(Ge=!0),t):!(Wn&42)||Wn&1073741824&&!(oe&261930)?(Ge=!0,t.memoizedState=n):(t=Yb(),Z.lanes|=t,Zi|=t,e)}function ob(t,e,n,i,r){var s=he.p;he.p=s!==0&&8>s?s:8;var a=Q.T,l={};Q.T=l,Zm(t,!1,e,n);try{var c=r(),h=Q.S;if(h!==null&&h(l,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var f=KA(c,i);po(t,e,f,Bt(t))}else po(t,e,i,Bt(t))}catch(g){po(t,e,{then:function(){},status:"rejected",reason:g},Bt())}finally{he.p=s,a!==null&&l.types!==null&&(a.types=l.types),Q.T=a}}function JA(){}function _f(t,e,n,i){if(t.tag!==5)throw Error(L(476));var r=lb(t).queue;ob(t,r,e,Rr,n===null?JA:function(){return cb(t),n(i)})}function lb(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Rr,baseState:Rr,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jn,lastRenderedState:Rr},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jn,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function cb(t){var e=lb(t);e.next===null&&(e=t.alternate.memoizedState),po(t,e.next.queue,{},Bt())}function Jm(){return ct(Po)}function ub(){return Le().memoizedState}function hb(){return Le().memoizedState}function ZA(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=Bt();t=Vi(n);var i=ki(e,t,n);i!==null&&(Ct(i,e,n),ho(i,e,n)),e={cache:Lm()},t.payload=e;return}e=e.return}}function eR(t,e,n){var i=Bt();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Fu(t)?fb(e,n):(n=jm(t,e,n,i),n!==null&&(Ct(n,t,i),mb(n,e,i)))}function db(t,e,n){var i=Bt();po(t,e,n,i)}function po(t,e,n,i){var r={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Fu(t))fb(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,l=s(a,n);if(r.hasEagerState=!0,r.eagerState=l,qt(l,a))return Uu(t,e,r,0),ve===null&&Pu(),!1}catch{}finally{}if(n=jm(t,e,r,i),n!==null)return Ct(n,t,i),mb(n,e,i),!0}return!1}function Zm(t,e,n,i){if(i={lane:2,revertLane:lp(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Fu(t)){if(e)throw Error(L(479))}else e=jm(t,n,i,2),e!==null&&Ct(e,t,2)}function Fu(t){var e=t.alternate;return t===Z||e!==null&&e===Z}function fb(t,e){Is=Qc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function mb(t,e,n){if(n&4194048){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Z0(t,n)}}var Vo={readContext:ct,use:qu,useCallback:Oe,useContext:Oe,useEffect:Oe,useImperativeHandle:Oe,useLayoutEffect:Oe,useInsertionEffect:Oe,useMemo:Oe,useReducer:Oe,useRef:Oe,useState:Oe,useDebugValue:Oe,useDeferredValue:Oe,useTransition:Oe,useSyncExternalStore:Oe,useId:Oe,useHostTransitionStatus:Oe,useFormState:Oe,useActionState:Oe,useOptimistic:Oe,useMemoCache:Oe,useCacheRefresh:Oe};Vo.useEffectEvent=Oe;var pb={readContext:ct,use:qu,useCallback:function(t,e){return Et().memoizedState=[t,e===void 0?null:e],t},useContext:ct,useEffect:Zy,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,gc(4194308,4,nb.bind(null,e,t),n)},useLayoutEffect:function(t,e){return gc(4194308,4,t,e)},useInsertionEffect:function(t,e){gc(4,2,t,e)},useMemo:function(t,e){var n=Et();e=e===void 0?null:e;var i=t();if(kr){Ri(!0);try{t()}finally{Ri(!1)}}return n.memoizedState=[i,e],i},useReducer:function(t,e,n){var i=Et();if(n!==void 0){var r=n(e);if(kr){Ri(!0);try{n(e)}finally{Ri(!1)}}}else r=e;return i.memoizedState=i.baseState=r,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},i.queue=t,t=t.dispatch=eR.bind(null,Z,t),[i.memoizedState,t]},useRef:function(t){var e=Et();return t={current:t},e.memoizedState=t},useState:function(t){t=gf(t);var e=t.queue,n=db.bind(null,Z,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:Xm,useDeferredValue:function(t,e){var n=Et();return Wm(n,t,e)},useTransition:function(){var t=gf(!1);return t=ob.bind(null,Z,t.queue,!0,!1),Et().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var i=Z,r=Et();if(le){if(n===void 0)throw Error(L(407));n=n()}else{if(n=e(),ve===null)throw Error(L(349));oe&127||qE(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,Zy(FE.bind(null,i,s,t),[t]),i.flags|=2048,Hs(9,{destroy:void 0},HE.bind(null,i,s,n,e),null),n},useId:function(){var t=Et(),e=ve.identifierPrefix;if(le){var n=_n,i=yn;n=(i&~(1<<32-zt(i)-1)).toString(32)+n,e="_"+e+"R_"+n,n=$c++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=YA++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:Jm,useFormState:Xy,useActionState:Xy,useOptimistic:function(t){var e=Et();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=Zm.bind(null,Z,!0,n),n.dispatch=e,[t,e]},useMemoCache:Ym,useCacheRefresh:function(){return Et().memoizedState=ZA.bind(null,Z)},useEffectEvent:function(t){var e=Et(),n={impl:t};return e.memoizedState=n,function(){if(ue&2)throw Error(L(440));return n.impl.apply(void 0,arguments)}}},ep={readContext:ct,use:qu,useCallback:rb,useContext:ct,useEffect:$m,useImperativeHandle:ib,useInsertionEffect:eb,useLayoutEffect:tb,useMemo:sb,useReducer:pc,useRef:JE,useState:function(){return pc(Jn)},useDebugValue:Xm,useDeferredValue:function(t,e){var n=Le();return ab(n,ge.memoizedState,t,e)},useTransition:function(){var t=pc(Jn)[0],e=Le().memoizedState;return[typeof t=="boolean"?t:ll(t),e]},useSyncExternalStore:BE,useId:ub,useHostTransitionStatus:Jm,useFormState:Wy,useActionState:Wy,useOptimistic:function(t,e){var n=Le();return YE(n,ge,t,e)},useMemoCache:Ym,useCacheRefresh:hb};ep.useEffectEvent=ZE;var gb={readContext:ct,use:qu,useCallback:rb,useContext:ct,useEffect:$m,useImperativeHandle:ib,useInsertionEffect:eb,useLayoutEffect:tb,useMemo:sb,useReducer:ad,useRef:JE,useState:function(){return ad(Jn)},useDebugValue:Xm,useDeferredValue:function(t,e){var n=Le();return ge===null?Wm(n,t,e):ab(n,ge.memoizedState,t,e)},useTransition:function(){var t=ad(Jn)[0],e=Le().memoizedState;return[typeof t=="boolean"?t:ll(t),e]},useSyncExternalStore:BE,useId:ub,useHostTransitionStatus:Jm,useFormState:Jy,useActionState:Jy,useOptimistic:function(t,e){var n=Le();return ge!==null?YE(n,ge,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:Ym,useCacheRefresh:hb};gb.useEffectEvent=ZE;function od(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Re({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var vf={enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Bt(),r=Vi(i);r.payload=e,n!=null&&(r.callback=n),e=ki(t,r,i),e!==null&&(Ct(e,t,i),ho(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Bt(),r=Vi(i);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=ki(t,r,i),e!==null&&(Ct(e,t,i),ho(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Bt(),i=Vi(n);i.tag=2,e!=null&&(i.callback=e),e=ki(t,i,n),e!==null&&(Ct(e,t,n),ho(e,t,n))}};function e_(t,e,n,i,r,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,a):e.prototype&&e.prototype.isPureReactComponent?!Io(n,i)||!Io(r,s):!0}function t_(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&vf.enqueueReplaceState(e,e.state,null)}function Lr(t,e){var n=e;if("ref"in e){n={};for(var i in e)i!=="ref"&&(n[i]=e[i])}if(t=t.defaultProps){n===e&&(n=Re({},n));for(var r in t)n[r]===void 0&&(n[r]=t[r])}return n}function yb(t){Bc(t)}function _b(t){console.error(t)}function vb(t){Bc(t)}function Xc(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(i){setTimeout(function(){throw i})}}function n_(t,e,n){try{var i=t.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Ef(t,e,n){return n=Vi(n),n.tag=3,n.payload={element:null},n.callback=function(){Xc(t,e)},n}function Eb(t){return t=Vi(t),t.tag=3,t}function bb(t,e,n,i){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var s=i.value;t.payload=function(){return r(s)},t.callback=function(){n_(e,n,i)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(t.callback=function(){n_(e,n,i),typeof r!="function"&&(Li===null?Li=new Set([this]):Li.add(this));var l=i.stack;this.componentDidCatch(i.value,{componentStack:l!==null?l:""})})}function tR(t,e,n,i,r){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(e=n.alternate,e!==null&&la(e,n,r,!0),n=Ht.current,n!==null){switch(n.tag){case 31:case 13:return Zt===null?tu():n.alternate===null&&je===0&&(je=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===Gc?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([i]):e.add(i),_d(t,i,r)),!1;case 22:return n.flags|=65536,i===Gc?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([i]):n.add(i)),_d(t,i,r)),!1}throw Error(L(435,n.tag))}return _d(t,i,r),tu(),!1}if(le)return e=Ht.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=r,i!==of&&(t=Error(L(422),{cause:i}),Oo(Xt(t,n)))):(i!==of&&(e=Error(L(423),{cause:i}),Oo(Xt(e,n))),t=t.current.alternate,t.flags|=65536,r&=-r,t.lanes|=r,i=Xt(i,n),r=Ef(t.stateNode,i,r),sd(t,r),je!==4&&(je=2)),!1;var s=Error(L(520),{cause:i});if(s=Xt(s,n),_o===null?_o=[s]:_o.push(s),je!==4&&(je=2),e===null)return!0;i=Xt(i,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=r&-r,n.lanes|=t,t=Ef(n.stateNode,i,t),sd(n,t),!1;case 1:if(e=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Li===null||!Li.has(s))))return n.flags|=65536,r&=-r,n.lanes|=r,r=Eb(r),bb(r,t,n,i),sd(n,r),!1}n=n.return}while(n!==null);return!1}var tp=Error(L(461)),Ge=!1;function rt(t,e,n,i){e.child=t===null?VE(e,null,n,i):Vr(e,t.child,n,i)}function i_(t,e,n,i,r){n=n.render;var s=e.ref;if("ref"in i){var a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}else a=i;return Mr(e),i=Hm(t,e,n,a,s,r),l=Fm(),t!==null&&!Ge?(Gm(t,e,r),Zn(t,e,r)):(le&&l&&Vm(e),e.flags|=1,rt(t,e,i,r),e.child)}function r_(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!Mm(s)&&s.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=s,Tb(t,e,s,i,r)):(t=fc(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!np(t,r)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Io,n(a,i)&&t.ref===e.ref)return Zn(t,e,r)}return e.flags|=1,t=Gn(s,i),t.ref=e.ref,t.return=e,e.child=t}function Tb(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(Io(s,i)&&t.ref===e.ref)if(Ge=!1,e.pendingProps=i=s,np(t,r))t.flags&131072&&(Ge=!0);else return e.lanes=t.lanes,Zn(t,e,r)}return bf(t,e,n,i,r)}function xb(t,e,n,i){var r=i.children,s=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(e.flags&128){if(s=s!==null?s.baseLanes|n:n,t!==null){for(i=e.child=t.child,r=0;i!==null;)r=r|i.lanes|i.childLanes,i=i.sibling;i=r&~s}else i=0,e.child=null;return s_(t,e,s,n,i)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&mc(e,s!==null?s.cachePool:null),s!==null?Yy(e,s):mf(),PE(e);else return i=e.lanes=536870912,s_(t,e,s!==null?s.baseLanes|n:n,n,i)}else s!==null?(mc(e,s.cachePool),Yy(e,s),bi(),e.memoizedState=null):(t!==null&&mc(e,null),mf(),bi());return rt(t,e,r,n),e.child}function Ja(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function s_(t,e,n,i,r){var s=Pm();return s=s===null?null:{parent:He._currentValue,pool:s},e.memoizedState={baseLanes:n,cachePool:s},t!==null&&mc(e,null),mf(),PE(e),t!==null&&la(t,e,i,!0),e.childLanes=r,null}function yc(t,e){return e=Wc({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function a_(t,e,n){return Vr(e,t.child,null,n),t=yc(e,e.pendingProps),t.flags|=2,Mt(e),e.memoizedState=null,t}function nR(t,e,n){var i=e.pendingProps,r=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(le){if(i.mode==="hidden")return t=yc(e,i),e.lanes=536870912,Ja(null,t);if(pf(e),(t=Se)?(t=pT(t,Wt),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Xi!==null?{id:yn,overflow:_n}:null,retryLane:536870912,hydrationErrors:null},n=NE(t),n.return=e,e.child=n,ot=e,Se=null)):t=null,t===null)throw Wi(e);return e.lanes=536870912,null}return yc(e,i)}var s=t.memoizedState;if(s!==null){var a=s.dehydrated;if(pf(e),r)if(e.flags&256)e.flags&=-257,e=a_(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(L(558));else if(Ge||la(t,e,n,!1),r=(n&t.childLanes)!==0,Ge||r){if(i=ve,i!==null&&(a=eE(i,n),a!==0&&a!==s.retryLane))throw s.retryLane=a,Yr(t,a),Ct(i,t,a),tp;tu(),e=a_(t,e,n)}else t=s.treeContext,Se=en(a.nextSibling),ot=e,le=!0,Mi=null,Wt=!1,t!==null&&IE(e,t),e=yc(e,i),e.flags|=4096;return e}return t=Gn(t.child,{mode:i.mode,children:i.children}),t.ref=e.ref,e.child=t,t.return=e,t}function _c(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(L(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function bf(t,e,n,i,r){return Mr(e),n=Hm(t,e,n,i,void 0,r),i=Fm(),t!==null&&!Ge?(Gm(t,e,r),Zn(t,e,r)):(le&&i&&Vm(e),e.flags|=1,rt(t,e,n,r),e.child)}function o_(t,e,n,i,r,s){return Mr(e),e.updateQueue=null,n=zE(e,i,n,r),UE(t),i=Fm(),t!==null&&!Ge?(Gm(t,e,s),Zn(t,e,s)):(le&&i&&Vm(e),e.flags|=1,rt(t,e,n,s),e.child)}function l_(t,e,n,i,r){if(Mr(e),e.stateNode===null){var s=Es,a=n.contextType;typeof a=="object"&&a!==null&&(s=ct(a)),s=new n(i,s),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=vf,e.stateNode=s,s._reactInternals=e,s=e.stateNode,s.props=i,s.state=e.memoizedState,s.refs={},zm(e),a=n.contextType,s.context=typeof a=="object"&&a!==null?ct(a):Es,s.state=e.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(od(e,n,a,i),s.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(a=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),a!==s.state&&vf.enqueueReplaceState(s,s.state,null),mo(e,i,s,r),fo(),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308),i=!0}else if(t===null){s=e.stateNode;var l=e.memoizedProps,c=Lr(n,l);s.props=c;var h=s.context,f=n.contextType;a=Es,typeof f=="object"&&f!==null&&(a=ct(f));var g=n.getDerivedStateFromProps;f=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function",l=e.pendingProps!==l,f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l||h!==a)&&t_(e,s,i,a),_i=!1;var p=e.memoizedState;s.state=p,mo(e,i,s,r),fo(),h=e.memoizedState,l||p!==h||_i?(typeof g=="function"&&(od(e,n,g,i),h=e.memoizedState),(c=_i||e_(e,n,c,i,p,h,a))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=h),s.props=i,s.state=h,s.context=a,i=c):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{s=e.stateNode,df(t,e),a=e.memoizedProps,f=Lr(n,a),s.props=f,g=e.pendingProps,p=s.context,h=n.contextType,c=Es,typeof h=="object"&&h!==null&&(c=ct(h)),l=n.getDerivedStateFromProps,(h=typeof l=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==g||p!==c)&&t_(e,s,i,c),_i=!1,p=e.memoizedState,s.state=p,mo(e,i,s,r),fo();var y=e.memoizedState;a!==g||p!==y||_i||t!==null&&t.dependencies!==null&&Fc(t.dependencies)?(typeof l=="function"&&(od(e,n,l,i),y=e.memoizedState),(f=_i||e_(e,n,f,i,p,y,c)||t!==null&&t.dependencies!==null&&Fc(t.dependencies))?(h||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,y,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,y,c)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=y),s.props=i,s.state=y,s.context=c,i=f):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),i=!1)}return s=i,_c(t,e),i=(e.flags&128)!==0,s||i?(s=e.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:s.render(),e.flags|=1,t!==null&&i?(e.child=Vr(e,t.child,null,r),e.child=Vr(e,null,n,r)):rt(t,e,n,r),e.memoizedState=s.state,t=e.child):t=Zn(t,e,r),t}function c_(t,e,n,i){return jr(),e.flags|=256,rt(t,e,n,i),e.child}var ld={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cd(t){return{baseLanes:t,cachePool:OE()}}function ud(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=kt),t}function wb(t,e,n){var i=e.pendingProps,r=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(Ve.current&2)!==0),a&&(r=!0,e.flags&=-129),a=(e.flags&32)!==0,e.flags&=-33,t===null){if(le){if(r?Ei(e):bi(),(t=Se)?(t=pT(t,Wt),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Xi!==null?{id:yn,overflow:_n}:null,retryLane:536870912,hydrationErrors:null},n=NE(t),n.return=e,e.child=n,ot=e,Se=null)):t=null,t===null)throw Wi(e);return Vf(t)?e.lanes=32:e.lanes=536870912,null}var l=i.children;return i=i.fallback,r?(bi(),r=e.mode,l=Wc({mode:"hidden",children:l},r),i=Nr(i,r,n,null),l.return=e,i.return=e,l.sibling=i,e.child=l,i=e.child,i.memoizedState=cd(n),i.childLanes=ud(t,a,n),e.memoizedState=ld,Ja(null,i)):(Ei(e),Tf(e,l))}var c=t.memoizedState;if(c!==null&&(l=c.dehydrated,l!==null)){if(s)e.flags&256?(Ei(e),e.flags&=-257,e=hd(t,e,n)):e.memoizedState!==null?(bi(),e.child=t.child,e.flags|=128,e=null):(bi(),l=i.fallback,r=e.mode,i=Wc({mode:"visible",children:i.children},r),l=Nr(l,r,n,null),l.flags|=2,i.return=e,l.return=e,i.sibling=l,e.child=i,Vr(e,t.child,null,n),i=e.child,i.memoizedState=cd(n),i.childLanes=ud(t,a,n),e.memoizedState=ld,e=Ja(null,i));else if(Ei(e),Vf(l)){if(a=l.nextSibling&&l.nextSibling.dataset,a)var h=a.dgst;a=h,i=Error(L(419)),i.stack="",i.digest=a,Oo({value:i,source:null,stack:null}),e=hd(t,e,n)}else if(Ge||la(t,e,n,!1),a=(n&t.childLanes)!==0,Ge||a){if(a=ve,a!==null&&(i=eE(a,n),i!==0&&i!==c.retryLane))throw c.retryLane=i,Yr(t,i),Ct(a,t,i),tp;Mf(l)||tu(),e=hd(t,e,n)}else Mf(l)?(e.flags|=192,e.child=t.child,e=null):(t=c.treeContext,Se=en(l.nextSibling),ot=e,le=!0,Mi=null,Wt=!1,t!==null&&IE(e,t),e=Tf(e,i.children),e.flags|=4096);return e}return r?(bi(),l=i.fallback,r=e.mode,c=t.child,h=c.sibling,i=Gn(c,{mode:"hidden",children:i.children}),i.subtreeFlags=c.subtreeFlags&65011712,h!==null?l=Gn(h,l):(l=Nr(l,r,n,null),l.flags|=2),l.return=e,i.return=e,i.sibling=l,e.child=i,Ja(null,i),i=e.child,l=t.child.memoizedState,l===null?l=cd(n):(r=l.cachePool,r!==null?(c=He._currentValue,r=r.parent!==c?{parent:c,pool:c}:r):r=OE(),l={baseLanes:l.baseLanes|n,cachePool:r}),i.memoizedState=l,i.childLanes=ud(t,a,n),e.memoizedState=ld,Ja(t.child,i)):(Ei(e),n=t.child,t=n.sibling,n=Gn(n,{mode:"visible",children:i.children}),n.return=e,n.sibling=null,t!==null&&(a=e.deletions,a===null?(e.deletions=[t],e.flags|=16):a.push(t)),e.child=n,e.memoizedState=null,n)}function Tf(t,e){return e=Wc({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Wc(t,e){return t=Vt(22,t,null,e),t.lanes=0,t}function hd(t,e,n){return Vr(e,t.child,null,n),t=Tf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function u_(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),cf(t.return,e,n)}function dd(t,e,n,i,r,s){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r,treeForkCount:s}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=r,a.treeForkCount=s)}function Sb(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;i=i.children;var a=Ve.current,l=(a&2)!==0;if(l?(a=a&1|2,e.flags|=128):a&=1,Te(Ve,a),rt(t,e,i,n),i=le?Do:0,!l&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&u_(t,n,e);else if(t.tag===19)u_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Yc(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),dd(e,!1,r,n,s,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Yc(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}dd(e,!0,n,null,s,i);break;case"together":dd(e,!1,null,null,void 0,i);break;default:e.memoizedState=null}return e.child}function Zn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Zi|=e.lanes,!(n&e.childLanes))if(t!==null){if(la(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(L(153));if(e.child!==null){for(t=e.child,n=Gn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Gn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function np(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&Fc(t)))}function iR(t,e,n){switch(e.tag){case 3:Lc(e,e.stateNode.containerInfo),vi(e,He,t.memoizedState.cache),jr();break;case 27:case 5:$d(e);break;case 4:Lc(e,e.stateNode.containerInfo);break;case 10:vi(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,pf(e),null;break;case 13:var i=e.memoizedState;if(i!==null)return i.dehydrated!==null?(Ei(e),e.flags|=128,null):n&e.child.childLanes?wb(t,e,n):(Ei(e),t=Zn(t,e,n),t!==null?t.sibling:null);Ei(e);break;case 19:var r=(t.flags&128)!==0;if(i=(n&e.childLanes)!==0,i||(la(t,e,n,!1),i=(n&e.childLanes)!==0),r){if(i)return Sb(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Te(Ve,Ve.current),i)break;return null;case 22:return e.lanes=0,xb(t,e,n,e.pendingProps);case 24:vi(e,He,t.memoizedState.cache)}return Zn(t,e,n)}function Ab(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)Ge=!0;else{if(!np(t,n)&&!(e.flags&128))return Ge=!1,iR(t,e,n);Ge=!!(t.flags&131072)}else Ge=!1,le&&e.flags&1048576&&CE(e,Do,e.index);switch(e.lanes=0,e.tag){case 16:e:{var i=e.pendingProps;if(t=xr(e.elementType),e.type=t,typeof t=="function")Mm(t)?(i=Lr(t,i),e.tag=1,e=l_(null,e,t,i,n)):(e.tag=0,e=bf(null,e,t,i,n));else{if(t!=null){var r=t.$$typeof;if(r===Em){e.tag=11,e=i_(null,e,t,i,n);break e}else if(r===bm){e.tag=14,e=r_(null,e,t,i,n);break e}}throw e=Yd(t)||t,Error(L(306,e,""))}}return e;case 0:return bf(t,e,e.type,e.pendingProps,n);case 1:return i=e.type,r=Lr(i,e.pendingProps),l_(t,e,i,r,n);case 3:e:{if(Lc(e,e.stateNode.containerInfo),t===null)throw Error(L(387));i=e.pendingProps;var s=e.memoizedState;r=s.element,df(t,e),mo(e,i,null,n);var a=e.memoizedState;if(i=a.cache,vi(e,He,i),i!==s.cache&&uf(e,[He],n,!0),fo(),i=a.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:a.cache},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){e=c_(t,e,i,n);break e}else if(i!==r){r=Xt(Error(L(424)),e),Oo(r),e=c_(t,e,i,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Se=en(t.firstChild),ot=e,le=!0,Mi=null,Wt=!0,n=VE(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(jr(),i===r){e=Zn(t,e,n);break e}rt(t,e,i,n)}e=e.child}return e;case 26:return _c(t,e),t===null?(n=I_(e.type,null,e.pendingProps,null))?e.memoizedState=n:le||(n=e.type,t=e.pendingProps,i=su(ji.current).createElement(n),i[at]=e,i[It]=t,ut(i,n,t),nt(i),e.stateNode=i):e.memoizedState=I_(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return $d(e),t===null&&le&&(i=e.stateNode=gT(e.type,e.pendingProps,ji.current),ot=e,Wt=!0,r=Se,or(e.type)?(kf=r,Se=en(i.firstChild)):Se=r),rt(t,e,e.pendingProps.children,n),_c(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&le&&((r=i=Se)&&(i=jR(i,e.type,e.pendingProps,Wt),i!==null?(e.stateNode=i,ot=e,Se=en(i.firstChild),Wt=!1,r=!0):r=!1),r||Wi(e)),$d(e),r=e.type,s=e.pendingProps,a=t!==null?t.memoizedProps:null,i=s.children,Of(r,s)?i=null:a!==null&&Of(r,a)&&(e.flags|=32),e.memoizedState!==null&&(r=Hm(t,e,QA,null,null,n),Po._currentValue=r),_c(t,e),rt(t,e,i,n),e.child;case 6:return t===null&&le&&((t=n=Se)&&(n=MR(n,e.pendingProps,Wt),n!==null?(e.stateNode=n,ot=e,Se=null,t=!0):t=!1),t||Wi(e)),null;case 13:return wb(t,e,n);case 4:return Lc(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Vr(e,null,i,n):rt(t,e,i,n),e.child;case 11:return i_(t,e,e.type,e.pendingProps,n);case 7:return rt(t,e,e.pendingProps,n),e.child;case 8:return rt(t,e,e.pendingProps.children,n),e.child;case 12:return rt(t,e,e.pendingProps.children,n),e.child;case 10:return i=e.pendingProps,vi(e,e.type,i.value),rt(t,e,i.children,n),e.child;case 9:return r=e.type._context,i=e.pendingProps.children,Mr(e),r=ct(r),i=i(r),e.flags|=1,rt(t,e,i,n),e.child;case 14:return r_(t,e,e.type,e.pendingProps,n);case 15:return Tb(t,e,e.type,e.pendingProps,n);case 19:return Sb(t,e,n);case 31:return nR(t,e,n);case 22:return xb(t,e,n,e.pendingProps);case 24:return Mr(e),i=ct(He),t===null?(r=Pm(),r===null&&(r=ve,s=Lm(),r.pooledCache=s,s.refCount++,s!==null&&(r.pooledCacheLanes|=n),r=s),e.memoizedState={parent:i,cache:r},zm(e),vi(e,He,r)):(t.lanes&n&&(df(t,e),mo(e,null,null,n),fo()),r=t.memoizedState,s=e.memoizedState,r.parent!==i?(r={parent:i,cache:i},e.memoizedState=r,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=r),vi(e,He,i)):(i=s.cache,vi(e,He,i),i!==r.cache&&uf(e,[He],n,!0))),rt(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(L(156,e.tag))}function jn(t){t.flags|=4}function fd(t,e,n,i,r){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(r&335544128)===r)if(t.stateNode.complete)t.flags|=8192;else if(Xb())t.flags|=8192;else throw Ir=Gc,Um}else t.flags&=-16777217}function h_(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!vT(e))if(Xb())t.flags|=8192;else throw Ir=Gc,Um}function Xl(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?W0():536870912,t.lanes|=e,Fs|=e)}function Fa(t,e){if(!le)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function we(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&65011712,i|=r.flags&65011712,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function rR(t,e,n){var i=e.pendingProps;switch(km(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return we(e),null;case 1:return we(e),null;case 3:return n=e.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),Kn(He),Ps(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(is(e)?jn(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,rd())),we(e),null;case 26:var r=e.type,s=e.memoizedState;return t===null?(jn(e),s!==null?(we(e),h_(e,s)):(we(e),fd(e,r,null,i,n))):s?s!==t.memoizedState?(jn(e),we(e),h_(e,s)):(we(e),e.flags&=-16777217):(t=t.memoizedProps,t!==i&&jn(e),we(e),fd(e,r,t,i,n)),null;case 27:if(Pc(e),n=ji.current,r=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&jn(e);else{if(!i){if(e.stateNode===null)throw Error(L(166));return we(e),null}t=En.current,is(e)?zy(e):(t=gT(r,i,n),e.stateNode=t,jn(e))}return we(e),null;case 5:if(Pc(e),r=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&jn(e);else{if(!i){if(e.stateNode===null)throw Error(L(166));return we(e),null}if(s=En.current,is(e))zy(e);else{var a=su(ji.current);switch(s){case 1:s=a.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:s=a.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":s=a.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":s=a.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":s=a.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof i.is=="string"?a.createElement("select",{is:i.is}):a.createElement("select"),i.multiple?s.multiple=!0:i.size&&(s.size=i.size);break;default:s=typeof i.is=="string"?a.createElement(r,{is:i.is}):a.createElement(r)}}s[at]=e,s[It]=i;e:for(a=e.child;a!==null;){if(a.tag===5||a.tag===6)s.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break e;for(;a.sibling===null;){if(a.return===null||a.return===e)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}e.stateNode=s;e:switch(ut(s,r,i),r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&jn(e)}}return we(e),fd(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==i&&jn(e);else{if(typeof i!="string"&&e.stateNode===null)throw Error(L(166));if(t=ji.current,is(e)){if(t=e.stateNode,n=e.memoizedProps,i=null,r=ot,r!==null)switch(r.tag){case 27:case 5:i=r.memoizedProps}t[at]=e,t=!!(t.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||dT(t.nodeValue,n)),t||Wi(e,!0)}else t=su(t).createTextNode(i),t[at]=e,e.stateNode=t}return we(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(i=is(e),n!==null){if(t===null){if(!i)throw Error(L(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(L(557));t[at]=e}else jr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;we(e),t=!1}else n=rd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(Mt(e),e):(Mt(e),null);if(e.flags&128)throw Error(L(558))}return we(e),null;case 13:if(i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(r=is(e),i!==null&&i.dehydrated!==null){if(t===null){if(!r)throw Error(L(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(L(317));r[at]=e}else jr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;we(e),r=!1}else r=rd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),r=!0;if(!r)return e.flags&256?(Mt(e),e):(Mt(e),null)}return Mt(e),e.flags&128?(e.lanes=n,e):(n=i!==null,t=t!==null&&t.memoizedState!==null,n&&(i=e.child,r=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(r=i.alternate.memoizedState.cachePool.pool),s=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==r&&(i.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),Xl(e,e.updateQueue),we(e),null);case 4:return Ps(),t===null&&cp(e.stateNode.containerInfo),we(e),null;case 10:return Kn(e.type),we(e),null;case 19:if(it(Ve),i=e.memoizedState,i===null)return we(e),null;if(r=(e.flags&128)!==0,s=i.rendering,s===null)if(r)Fa(i,!1);else{if(je!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Yc(t),s!==null){for(e.flags|=128,Fa(i,!1),t=s.updateQueue,e.updateQueue=t,Xl(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)RE(n,t),n=n.sibling;return Te(Ve,Ve.current&1|2),le&&Ln(e,i.treeForkCount),e.child}t=t.sibling}i.tail!==null&&Pt()>Zc&&(e.flags|=128,r=!0,Fa(i,!1),e.lanes=4194304)}else{if(!r)if(t=Yc(s),t!==null){if(e.flags|=128,r=!0,t=t.updateQueue,e.updateQueue=t,Xl(e,t),Fa(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!le)return we(e),null}else 2*Pt()-i.renderingStartTime>Zc&&n!==536870912&&(e.flags|=128,r=!0,Fa(i,!1),e.lanes=4194304);i.isBackwards?(s.sibling=e.child,e.child=s):(t=i.last,t!==null?t.sibling=s:e.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Pt(),t.sibling=null,n=Ve.current,Te(Ve,r?n&1|2:n&1),le&&Ln(e,i.treeForkCount),t):(we(e),null);case 22:case 23:return Mt(e),Bm(),i=e.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?n&536870912&&!(e.flags&128)&&(we(e),e.subtreeFlags&6&&(e.flags|=8192)):we(e),n=e.updateQueue,n!==null&&Xl(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),i=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),i!==n&&(e.flags|=2048),t!==null&&it(Cr),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Kn(He),we(e),null;case 25:return null;case 30:return null}throw Error(L(156,e.tag))}function sR(t,e){switch(km(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Kn(He),Ps(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Pc(e),null;case 31:if(e.memoizedState!==null){if(Mt(e),e.alternate===null)throw Error(L(340));jr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(Mt(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(L(340));jr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return it(Ve),null;case 4:return Ps(),null;case 10:return Kn(e.type),null;case 22:case 23:return Mt(e),Bm(),t!==null&&it(Cr),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Kn(He),null;case 25:return null;default:return null}}function Rb(t,e){switch(km(e),e.tag){case 3:Kn(He),Ps();break;case 26:case 27:case 5:Pc(e);break;case 4:Ps();break;case 31:e.memoizedState!==null&&Mt(e);break;case 13:Mt(e);break;case 19:it(Ve);break;case 10:Kn(e.type);break;case 22:case 23:Mt(e),Bm(),t!==null&&it(Cr);break;case 24:Kn(He)}}function cl(t,e){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var r=i.next;n=r;do{if((n.tag&t)===t){i=void 0;var s=n.create,a=n.inst;i=s(),a.destroy=i}n=n.next}while(n!==r)}}catch(l){me(e,e.return,l)}}function Ji(t,e,n){try{var i=e.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var s=r.next;i=s;do{if((i.tag&t)===t){var a=i.inst,l=a.destroy;if(l!==void 0){a.destroy=void 0,r=e;var c=n,h=l;try{h()}catch(f){me(r,c,f)}}}i=i.next}while(i!==s)}}catch(f){me(e,e.return,f)}}function Nb(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{LE(e,n)}catch(i){me(t,t.return,i)}}}function Cb(t,e,n){n.props=Lr(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(i){me(t,e,i)}}function go(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;case 30:i=t.stateNode;break;default:i=t.stateNode}typeof n=="function"?t.refCleanup=n(i):n.current=i}}catch(r){me(t,e,r)}}function vn(t,e){var n=t.ref,i=t.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(r){me(t,e,r)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){me(t,e,r)}else n.current=null}function Ib(t){var e=t.type,n=t.memoizedProps,i=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(r){me(t,t.return,r)}}function md(t,e,n){try{var i=t.stateNode;RR(i,t.type,n,e),i[It]=e}catch(r){me(t,t.return,r)}}function Db(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&or(t.type)||t.tag===4}function pd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Db(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&or(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xf(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Bn));else if(i!==4&&(i===27&&or(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(xf(t,e,n),t=t.sibling;t!==null;)xf(t,e,n),t=t.sibling}function Jc(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(i===27&&or(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(Jc(t,e,n),t=t.sibling;t!==null;)Jc(t,e,n),t=t.sibling}function Ob(t){var e=t.stateNode,n=t.memoizedProps;try{for(var i=t.type,r=e.attributes;r.length;)e.removeAttributeNode(r[0]);ut(e,i,n),e[at]=t,e[It]=n}catch(s){me(t,t.return,s)}}var Pn=!1,qe=!1,gd=!1,d_=typeof WeakSet=="function"?WeakSet:Set,tt=null;function aR(t,e){if(t=t.containerInfo,If=cu,t=vE(t),Dm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,h=0,f=0,g=t,p=null;t:for(;;){for(var y;g!==n||r!==0&&g.nodeType!==3||(l=a+r),g!==s||i!==0&&g.nodeType!==3||(c=a+i),g.nodeType===3&&(a+=g.nodeValue.length),(y=g.firstChild)!==null;)p=g,g=y;for(;;){if(g===t)break t;if(p===n&&++h===r&&(l=a),p===s&&++f===i&&(c=a),(y=g.nextSibling)!==null)break;g=p,p=g.parentNode}g=y}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Df={focusedElem:t,selectionRange:n},cu=!1,tt=e;tt!==null;)if(e=tt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,tt=t;else for(;tt!==null;){switch(e=tt,s=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)r=t[n],r.ref.impl=r.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&s!==null){t=void 0,n=e,r=s.memoizedProps,s=s.memoizedState,i=n.stateNode;try{var N=Lr(n.type,r);t=i.getSnapshotBeforeUpdate(N,s),i.__reactInternalSnapshotBeforeUpdate=t}catch(D){me(n,n.return,D)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)jf(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":jf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(L(163))}if(t=e.sibling,t!==null){t.return=e.return,tt=t;break}tt=e.return}}function jb(t,e,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Vn(t,n),i&4&&cl(5,n);break;case 1:if(Vn(t,n),i&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(a){me(n,n.return,a)}else{var r=Lr(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(r,e,t.__reactInternalSnapshotBeforeUpdate)}catch(a){me(n,n.return,a)}}i&64&&Nb(n),i&512&&go(n,n.return);break;case 3:if(Vn(t,n),i&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{LE(t,e)}catch(a){me(n,n.return,a)}}break;case 27:e===null&&i&4&&Ob(n);case 26:case 5:Vn(t,n),e===null&&i&4&&Ib(n),i&512&&go(n,n.return);break;case 12:Vn(t,n);break;case 31:Vn(t,n),i&4&&kb(t,n);break;case 13:Vn(t,n),i&4&&Lb(t,n),i&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=pR.bind(null,n),VR(t,n))));break;case 22:if(i=n.memoizedState!==null||Pn,!i){e=e!==null&&e.memoizedState!==null||qe,r=Pn;var s=qe;Pn=i,(qe=e)&&!s?kn(t,n,(n.subtreeFlags&8772)!==0):Vn(t,n),Pn=r,qe=s}break;case 30:break;default:Vn(t,n)}}function Mb(t){var e=t.alternate;e!==null&&(t.alternate=null,Mb(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Sm(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ne=null,St=!1;function Mn(t,e,n){for(n=n.child;n!==null;)Vb(t,e,n),n=n.sibling}function Vb(t,e,n){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(nl,n)}catch{}switch(n.tag){case 26:qe||vn(n,e),Mn(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:qe||vn(n,e);var i=Ne,r=St;or(n.type)&&(Ne=n.stateNode,St=!1),Mn(t,e,n),Eo(n.stateNode),Ne=i,St=r;break;case 5:qe||vn(n,e);case 6:if(i=Ne,r=St,Ne=null,Mn(t,e,n),Ne=i,St=r,Ne!==null)if(St)try{(Ne.nodeType===9?Ne.body:Ne.nodeName==="HTML"?Ne.ownerDocument.body:Ne).removeChild(n.stateNode)}catch(s){me(n,e,s)}else try{Ne.removeChild(n.stateNode)}catch(s){me(n,e,s)}break;case 18:Ne!==null&&(St?(t=Ne,S_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),Qs(t)):S_(Ne,n.stateNode));break;case 4:i=Ne,r=St,Ne=n.stateNode.containerInfo,St=!0,Mn(t,e,n),Ne=i,St=r;break;case 0:case 11:case 14:case 15:Ji(2,n,e),qe||Ji(4,n,e),Mn(t,e,n);break;case 1:qe||(vn(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"&&Cb(n,e,i)),Mn(t,e,n);break;case 21:Mn(t,e,n);break;case 22:qe=(i=qe)||n.memoizedState!==null,Mn(t,e,n),qe=i;break;default:Mn(t,e,n)}}function kb(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Qs(t)}catch(n){me(e,e.return,n)}}}function Lb(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Qs(t)}catch(n){me(e,e.return,n)}}function oR(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new d_),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new d_),e;default:throw Error(L(435,t.tag))}}function Wl(t,e){var n=oR(t);e.forEach(function(i){if(!n.has(i)){n.add(i);var r=gR.bind(null,t,i);i.then(r,r)}})}function xt(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i],s=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 27:if(or(l.type)){Ne=l.stateNode,St=!1;break e}break;case 5:Ne=l.stateNode,St=!1;break e;case 3:case 4:Ne=l.stateNode.containerInfo,St=!0;break e}l=l.return}if(Ne===null)throw Error(L(160));Vb(s,a,r),Ne=null,St=!1,s=r.alternate,s!==null&&(s.return=null),r.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)Pb(e,t),e=e.sibling}var an=null;function Pb(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:xt(e,t),wt(t),i&4&&(Ji(3,t,t.return),cl(3,t),Ji(5,t,t.return));break;case 1:xt(e,t),wt(t),i&512&&(qe||n===null||vn(n,n.return)),i&64&&Pn&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var r=an;if(xt(e,t),wt(t),i&512&&(qe||n===null||vn(n,n.return)),i&4){var s=n!==null?n.memoizedState:null;if(i=t.memoizedState,n===null)if(i===null)if(t.stateNode===null){e:{i=t.type,n=t.memoizedProps,r=r.ownerDocument||r;t:switch(i){case"title":s=r.getElementsByTagName("title")[0],(!s||s[sl]||s[at]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=r.createElement(i),r.head.insertBefore(s,r.querySelector("head > title"))),ut(s,i,n),s[at]=t,nt(s),i=s;break e;case"link":var a=O_("link","href",r).get(i+(n.href||""));if(a){for(var l=0;l<a.length;l++)if(s=a[l],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(l,1);break t}}s=r.createElement(i),ut(s,i,n),r.head.appendChild(s);break;case"meta":if(a=O_("meta","content",r).get(i+(n.content||""))){for(l=0;l<a.length;l++)if(s=a[l],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(l,1);break t}}s=r.createElement(i),ut(s,i,n),r.head.appendChild(s);break;default:throw Error(L(468,i))}s[at]=t,nt(s),i=s}t.stateNode=i}else j_(r,t.type,t.stateNode);else t.stateNode=D_(r,i,t.memoizedProps);else s!==i?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,i===null?j_(r,t.type,t.stateNode):D_(r,i,t.memoizedProps)):i===null&&t.stateNode!==null&&md(t,t.memoizedProps,n.memoizedProps)}break;case 27:xt(e,t),wt(t),i&512&&(qe||n===null||vn(n,n.return)),n!==null&&i&4&&md(t,t.memoizedProps,n.memoizedProps);break;case 5:if(xt(e,t),wt(t),i&512&&(qe||n===null||vn(n,n.return)),t.flags&32){r=t.stateNode;try{zs(r,"")}catch(N){me(t,t.return,N)}}i&4&&t.stateNode!=null&&(r=t.memoizedProps,md(t,r,n!==null?n.memoizedProps:r)),i&1024&&(gd=!0);break;case 6:if(xt(e,t),wt(t),i&4){if(t.stateNode===null)throw Error(L(162));i=t.memoizedProps,n=t.stateNode;try{n.nodeValue=i}catch(N){me(t,t.return,N)}}break;case 3:if(bc=null,r=an,an=au(e.containerInfo),xt(e,t),an=r,wt(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Qs(e.containerInfo)}catch(N){me(t,t.return,N)}gd&&(gd=!1,Ub(t));break;case 4:i=an,an=au(t.stateNode.containerInfo),xt(e,t),wt(t),an=i;break;case 12:xt(e,t),wt(t);break;case 31:xt(e,t),wt(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Wl(t,i)));break;case 13:xt(e,t),wt(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Gu=Pt()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Wl(t,i)));break;case 22:r=t.memoizedState!==null;var c=n!==null&&n.memoizedState!==null,h=Pn,f=qe;if(Pn=h||r,qe=f||c,xt(e,t),qe=f,Pn=h,wt(t),i&8192)e:for(e=t.stateNode,e._visibility=r?e._visibility&-2:e._visibility|1,r&&(n===null||c||Pn||qe||wr(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){c=n=e;try{if(s=c.stateNode,r)a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{l=c.stateNode;var g=c.memoizedProps.style,p=g!=null&&g.hasOwnProperty("display")?g.display:null;l.style.display=p==null||typeof p=="boolean"?"":(""+p).trim()}}catch(N){me(c,c.return,N)}}}else if(e.tag===6){if(n===null){c=e;try{c.stateNode.nodeValue=r?"":c.memoizedProps}catch(N){me(c,c.return,N)}}}else if(e.tag===18){if(n===null){c=e;try{var y=c.stateNode;r?A_(y,!0):A_(c.stateNode,!1)}catch(N){me(c,c.return,N)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}i&4&&(i=t.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Wl(t,n))));break;case 19:xt(e,t),wt(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Wl(t,i)));break;case 30:break;case 21:break;default:xt(e,t),wt(t)}}function wt(t){var e=t.flags;if(e&2){try{for(var n,i=t.return;i!==null;){if(Db(i)){n=i;break}i=i.return}if(n==null)throw Error(L(160));switch(n.tag){case 27:var r=n.stateNode,s=pd(t);Jc(t,s,r);break;case 5:var a=n.stateNode;n.flags&32&&(zs(a,""),n.flags&=-33);var l=pd(t);Jc(t,l,a);break;case 3:case 4:var c=n.stateNode.containerInfo,h=pd(t);xf(t,h,c);break;default:throw Error(L(161))}}catch(f){me(t,t.return,f)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Ub(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Ub(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Vn(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)jb(t,e.alternate,e),e=e.sibling}function wr(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Ji(4,e,e.return),wr(e);break;case 1:vn(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&Cb(e,e.return,n),wr(e);break;case 27:Eo(e.stateNode);case 26:case 5:vn(e,e.return),wr(e);break;case 22:e.memoizedState===null&&wr(e);break;case 30:wr(e);break;default:wr(e)}t=t.sibling}}function kn(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var i=e.alternate,r=t,s=e,a=s.flags;switch(s.tag){case 0:case 11:case 15:kn(r,s,n),cl(4,s);break;case 1:if(kn(r,s,n),i=s,r=i.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(h){me(i,i.return,h)}if(i=s,r=i.updateQueue,r!==null){var l=i.stateNode;try{var c=r.shared.hiddenCallbacks;if(c!==null)for(r.shared.hiddenCallbacks=null,r=0;r<c.length;r++)kE(c[r],l)}catch(h){me(i,i.return,h)}}n&&a&64&&Nb(s),go(s,s.return);break;case 27:Ob(s);case 26:case 5:kn(r,s,n),n&&i===null&&a&4&&Ib(s),go(s,s.return);break;case 12:kn(r,s,n);break;case 31:kn(r,s,n),n&&a&4&&kb(r,s);break;case 13:kn(r,s,n),n&&a&4&&Lb(r,s);break;case 22:s.memoizedState===null&&kn(r,s,n),go(s,s.return);break;case 30:break;default:kn(r,s,n)}e=e.sibling}}function ip(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&ol(n))}function rp(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&ol(t))}function sn(t,e,n,i){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)zb(t,e,n,i),e=e.sibling}function zb(t,e,n,i){var r=e.flags;switch(e.tag){case 0:case 11:case 15:sn(t,e,n,i),r&2048&&cl(9,e);break;case 1:sn(t,e,n,i);break;case 3:sn(t,e,n,i),r&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&ol(t)));break;case 12:if(r&2048){sn(t,e,n,i),t=e.stateNode;try{var s=e.memoizedProps,a=s.id,l=s.onPostCommit;typeof l=="function"&&l(a,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(c){me(e,e.return,c)}}else sn(t,e,n,i);break;case 31:sn(t,e,n,i);break;case 13:sn(t,e,n,i);break;case 23:break;case 22:s=e.stateNode,a=e.alternate,e.memoizedState!==null?s._visibility&2?sn(t,e,n,i):yo(t,e):s._visibility&2?sn(t,e,n,i):(s._visibility|=2,as(t,e,n,i,(e.subtreeFlags&10256)!==0||!1)),r&2048&&ip(a,e);break;case 24:sn(t,e,n,i),r&2048&&rp(e.alternate,e);break;default:sn(t,e,n,i)}}function as(t,e,n,i,r){for(r=r&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var s=t,a=e,l=n,c=i,h=a.flags;switch(a.tag){case 0:case 11:case 15:as(s,a,l,c,r),cl(8,a);break;case 23:break;case 22:var f=a.stateNode;a.memoizedState!==null?f._visibility&2?as(s,a,l,c,r):yo(s,a):(f._visibility|=2,as(s,a,l,c,r)),r&&h&2048&&ip(a.alternate,a);break;case 24:as(s,a,l,c,r),r&&h&2048&&rp(a.alternate,a);break;default:as(s,a,l,c,r)}e=e.sibling}}function yo(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,i=e,r=i.flags;switch(i.tag){case 22:yo(n,i),r&2048&&ip(i.alternate,i);break;case 24:yo(n,i),r&2048&&rp(i.alternate,i);break;default:yo(n,i)}e=e.sibling}}var Za=8192;function rs(t,e,n){if(t.subtreeFlags&Za)for(t=t.child;t!==null;)Bb(t,e,n),t=t.sibling}function Bb(t,e,n){switch(t.tag){case 26:rs(t,e,n),t.flags&Za&&t.memoizedState!==null&&YR(n,an,t.memoizedState,t.memoizedProps);break;case 5:rs(t,e,n);break;case 3:case 4:var i=an;an=au(t.stateNode.containerInfo),rs(t,e,n),an=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Za,Za=16777216,rs(t,e,n),Za=i):rs(t,e,n));break;default:rs(t,e,n)}}function qb(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Ga(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];tt=i,Fb(i,t)}qb(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Hb(t),t=t.sibling}function Hb(t){switch(t.tag){case 0:case 11:case 15:Ga(t),t.flags&2048&&Ji(9,t,t.return);break;case 3:Ga(t);break;case 12:Ga(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,vc(t)):Ga(t);break;default:Ga(t)}}function vc(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];tt=i,Fb(i,t)}qb(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Ji(8,e,e.return),vc(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,vc(e));break;default:vc(e)}t=t.sibling}}function Fb(t,e){for(;tt!==null;){var n=tt;switch(n.tag){case 0:case 11:case 15:Ji(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:ol(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,tt=i;else e:for(n=t;tt!==null;){i=tt;var r=i.sibling,s=i.return;if(Mb(i),i===n){tt=null;break e}if(r!==null){r.return=s,tt=r;break e}tt=s}}}var lR={getCacheForType:function(t){var e=ct(He),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return ct(He).controller.signal}},cR=typeof WeakMap=="function"?WeakMap:Map,ue=0,ve=null,ie=null,oe=0,fe=0,jt=null,Ci=!1,ua=!1,sp=!1,ei=0,je=0,Zi=0,Dr=0,ap=0,kt=0,Fs=0,_o=null,At=null,wf=!1,Gu=0,Gb=0,Zc=1/0,eu=null,Li=null,$e=0,Pi=null,Gs=null,Yn=0,Sf=0,Af=null,Kb=null,vo=0,Rf=null;function Bt(){return ue&2&&oe!==0?oe&-oe:Q.T!==null?lp():tE()}function Yb(){if(kt===0)if(!(oe&536870912)||le){var t=Hl;Hl<<=1,!(Hl&3932160)&&(Hl=262144),kt=t}else kt=536870912;return t=Ht.current,t!==null&&(t.flags|=32),kt}function Ct(t,e,n){(t===ve&&(fe===2||fe===9)||t.cancelPendingCommit!==null)&&(Ks(t,0),Ii(t,oe,kt,!1)),rl(t,n),(!(ue&2)||t!==ve)&&(t===ve&&(!(ue&2)&&(Dr|=n),je===4&&Ii(t,oe,kt,!1)),In(t))}function Qb(t,e,n){if(ue&6)throw Error(L(327));var i=!n&&(e&127)===0&&(e&t.expiredLanes)===0||il(t,e),r=i?dR(t,e):yd(t,e,!0),s=i;do{if(r===0){ua&&!i&&Ii(t,e,0,!1);break}else{if(n=t.current.alternate,s&&!uR(n)){r=yd(t,e,!1),s=!1;continue}if(r===2){if(s=e,t.errorRecoveryDisabledLanes&s)var a=0;else a=t.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){e=a;e:{var l=t;r=_o;var c=l.current.memoizedState.isDehydrated;if(c&&(Ks(l,a).flags|=256),a=yd(l,a,!1),a!==2){if(sp&&!c){l.errorRecoveryDisabledLanes|=s,Dr|=s,r=4;break e}s=At,At=r,s!==null&&(At===null?At=s:At.push.apply(At,s))}r=a}if(s=!1,r!==2)continue}}if(r===1){Ks(t,0),Ii(t,e,0,!0);break}e:{switch(i=t,s=r,s){case 0:case 1:throw Error(L(345));case 4:if((e&4194048)!==e)break;case 6:Ii(i,e,kt,!Ci);break e;case 2:At=null;break;case 3:case 5:break;default:throw Error(L(329))}if((e&62914560)===e&&(r=Gu+300-Pt(),10<r)){if(Ii(i,e,kt,!Ci),Mu(i,0,!0)!==0)break e;Yn=e,i.timeoutHandle=mT(f_.bind(null,i,n,At,eu,wf,e,kt,Dr,Fs,Ci,s,"Throttled",-0,0),r);break e}f_(i,n,At,eu,wf,e,kt,Dr,Fs,Ci,s,null,-0,0)}}break}while(!0);In(t)}function f_(t,e,n,i,r,s,a,l,c,h,f,g,p,y){if(t.timeoutHandle=-1,g=e.subtreeFlags,g&8192||(g&16785408)===16785408){g={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bn},Bb(e,s,g);var N=(s&62914560)===s?Gu-Pt():(s&4194048)===s?Gb-Pt():0;if(N=QR(g,N),N!==null){Yn=s,t.cancelPendingCommit=N(p_.bind(null,t,e,s,n,i,r,a,l,c,f,g,null,p,y)),Ii(t,s,a,!h);return}}p_(t,e,s,n,i,r,a,l,c)}function uR(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!qt(s(),r))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ii(t,e,n,i){e&=~ap,e&=~Dr,t.suspendedLanes|=e,t.pingedLanes&=~e,i&&(t.warmLanes|=e),i=t.expirationTimes;for(var r=e;0<r;){var s=31-zt(r),a=1<<s;i[s]=-1,r&=~a}n!==0&&J0(t,n,e)}function Ku(){return ue&6?!0:(ul(0),!1)}function op(){if(ie!==null){if(fe===0)var t=ie.return;else t=ie,qn=Qr=null,Km(t),Cs=null,jo=0,t=ie;for(;t!==null;)Rb(t.alternate,t),t=t.return;ie=null}}function Ks(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,IR(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Yn=0,op(),ve=t,ie=n=Gn(t.current,null),oe=e,fe=0,jt=null,Ci=!1,ua=il(t,e),sp=!1,Fs=kt=ap=Dr=Zi=je=0,At=_o=null,wf=!1,e&8&&(e|=e&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=e;0<i;){var r=31-zt(i),s=1<<r;e|=t[r],i&=~s}return ei=e,Pu(),n}function $b(t,e){Z=null,Q.H=Vo,e===ca||e===zu?(e=Gy(),fe=3):e===Um?(e=Gy(),fe=4):fe=e===tp?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,jt=e,ie===null&&(je=1,Xc(t,Xt(e,t.current)))}function Xb(){var t=Ht.current;return t===null?!0:(oe&4194048)===oe?Zt===null:(oe&62914560)===oe||oe&536870912?t===Zt:!1}function Wb(){var t=Q.H;return Q.H=Vo,t===null?Vo:t}function Jb(){var t=Q.A;return Q.A=lR,t}function tu(){je=4,Ci||(oe&4194048)!==oe&&Ht.current!==null||(ua=!0),!(Zi&134217727)&&!(Dr&134217727)||ve===null||Ii(ve,oe,kt,!1)}function yd(t,e,n){var i=ue;ue|=2;var r=Wb(),s=Jb();(ve!==t||oe!==e)&&(eu=null,Ks(t,e)),e=!1;var a=je;e:do try{if(fe!==0&&ie!==null){var l=ie,c=jt;switch(fe){case 8:op(),a=6;break e;case 3:case 2:case 9:case 6:Ht.current===null&&(e=!0);var h=fe;if(fe=0,jt=null,xs(t,l,c,h),n&&ua){a=0;break e}break;default:h=fe,fe=0,jt=null,xs(t,l,c,h)}}hR(),a=je;break}catch(f){$b(t,f)}while(!0);return e&&t.shellSuspendCounter++,qn=Qr=null,ue=i,Q.H=r,Q.A=s,ie===null&&(ve=null,oe=0,Pu()),a}function hR(){for(;ie!==null;)Zb(ie)}function dR(t,e){var n=ue;ue|=2;var i=Wb(),r=Jb();ve!==t||oe!==e?(eu=null,Zc=Pt()+500,Ks(t,e)):ua=il(t,e);e:do try{if(fe!==0&&ie!==null){e=ie;var s=jt;t:switch(fe){case 1:fe=0,jt=null,xs(t,e,s,1);break;case 2:case 9:if(Fy(s)){fe=0,jt=null,m_(e);break}e=function(){fe!==2&&fe!==9||ve!==t||(fe=7),In(t)},s.then(e,e);break e;case 3:fe=7;break e;case 4:fe=5;break e;case 7:Fy(s)?(fe=0,jt=null,m_(e)):(fe=0,jt=null,xs(t,e,s,7));break;case 5:var a=null;switch(ie.tag){case 26:a=ie.memoizedState;case 5:case 27:var l=ie;if(a?vT(a):l.stateNode.complete){fe=0,jt=null;var c=l.sibling;if(c!==null)ie=c;else{var h=l.return;h!==null?(ie=h,Yu(h)):ie=null}break t}}fe=0,jt=null,xs(t,e,s,5);break;case 6:fe=0,jt=null,xs(t,e,s,6);break;case 8:op(),je=6;break e;default:throw Error(L(462))}}fR();break}catch(f){$b(t,f)}while(!0);return qn=Qr=null,Q.H=i,Q.A=r,ue=n,ie!==null?0:(ve=null,oe=0,Pu(),je)}function fR(){for(;ie!==null&&!kS();)Zb(ie)}function Zb(t){var e=Ab(t.alternate,t,ei);t.memoizedProps=t.pendingProps,e===null?Yu(t):ie=e}function m_(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=o_(n,e,e.pendingProps,e.type,void 0,oe);break;case 11:e=o_(n,e,e.pendingProps,e.type.render,e.ref,oe);break;case 5:Km(e);default:Rb(n,e),e=ie=RE(e,ei),e=Ab(n,e,ei)}t.memoizedProps=t.pendingProps,e===null?Yu(t):ie=e}function xs(t,e,n,i){qn=Qr=null,Km(e),Cs=null,jo=0;var r=e.return;try{if(tR(t,r,e,n,oe)){je=1,Xc(t,Xt(n,t.current)),ie=null;return}}catch(s){if(r!==null)throw ie=r,s;je=1,Xc(t,Xt(n,t.current)),ie=null;return}e.flags&32768?(le||i===1?t=!0:ua||oe&536870912?t=!1:(Ci=t=!0,(i===2||i===9||i===3||i===6)&&(i=Ht.current,i!==null&&i.tag===13&&(i.flags|=16384))),eT(e,t)):Yu(e)}function Yu(t){var e=t;do{if(e.flags&32768){eT(e,Ci);return}t=e.return;var n=rR(e.alternate,e,ei);if(n!==null){ie=n;return}if(e=e.sibling,e!==null){ie=e;return}ie=e=t}while(e!==null);je===0&&(je=5)}function eT(t,e){do{var n=sR(t.alternate,t);if(n!==null){n.flags&=32767,ie=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){ie=t;return}ie=t=n}while(t!==null);je=6,ie=null}function p_(t,e,n,i,r,s,a,l,c){t.cancelPendingCommit=null;do Qu();while($e!==0);if(ue&6)throw Error(L(327));if(e!==null){if(e===t.current)throw Error(L(177));if(s=e.lanes|e.childLanes,s|=Om,KS(t,n,s,a,l,c),t===ve&&(ie=ve=null,oe=0),Gs=e,Pi=t,Yn=n,Sf=s,Af=r,Kb=i,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,yR(Uc,function(){return sT(),null})):(t.callbackNode=null,t.callbackPriority=0),i=(e.flags&13878)!==0,e.subtreeFlags&13878||i){i=Q.T,Q.T=null,r=he.p,he.p=2,a=ue,ue|=4;try{aR(t,e,n)}finally{ue=a,he.p=r,Q.T=i}}$e=1,tT(),nT(),iT()}}function tT(){if($e===1){$e=0;var t=Pi,e=Gs,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=Q.T,Q.T=null;var i=he.p;he.p=2;var r=ue;ue|=4;try{Pb(e,t);var s=Df,a=vE(t.containerInfo),l=s.focusedElem,c=s.selectionRange;if(a!==l&&l&&l.ownerDocument&&_E(l.ownerDocument.documentElement,l)){if(c!==null&&Dm(l)){var h=c.start,f=c.end;if(f===void 0&&(f=h),"selectionStart"in l)l.selectionStart=h,l.selectionEnd=Math.min(f,l.value.length);else{var g=l.ownerDocument||document,p=g&&g.defaultView||window;if(p.getSelection){var y=p.getSelection(),N=l.textContent.length,D=Math.min(c.start,N),I=c.end===void 0?D:Math.min(c.end,N);!y.extend&&D>I&&(a=I,I=D,D=a);var b=Ly(l,D),v=Ly(l,I);if(b&&v&&(y.rangeCount!==1||y.anchorNode!==b.node||y.anchorOffset!==b.offset||y.focusNode!==v.node||y.focusOffset!==v.offset)){var w=g.createRange();w.setStart(b.node,b.offset),y.removeAllRanges(),D>I?(y.addRange(w),y.extend(v.node,v.offset)):(w.setEnd(v.node,v.offset),y.addRange(w))}}}}for(g=[],y=l;y=y.parentNode;)y.nodeType===1&&g.push({element:y,left:y.scrollLeft,top:y.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<g.length;l++){var M=g[l];M.element.scrollLeft=M.left,M.element.scrollTop=M.top}}cu=!!If,Df=If=null}finally{ue=r,he.p=i,Q.T=n}}t.current=e,$e=2}}function nT(){if($e===2){$e=0;var t=Pi,e=Gs,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=Q.T,Q.T=null;var i=he.p;he.p=2;var r=ue;ue|=4;try{jb(t,e.alternate,e)}finally{ue=r,he.p=i,Q.T=n}}$e=3}}function iT(){if($e===4||$e===3){$e=0,LS();var t=Pi,e=Gs,n=Yn,i=Kb;e.subtreeFlags&10256||e.flags&10256?$e=5:($e=0,Gs=Pi=null,rT(t,t.pendingLanes));var r=t.pendingLanes;if(r===0&&(Li=null),wm(n),e=e.stateNode,Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(nl,e,void 0,(e.current.flags&128)===128)}catch{}if(i!==null){e=Q.T,r=he.p,he.p=2,Q.T=null;try{for(var s=t.onRecoverableError,a=0;a<i.length;a++){var l=i[a];s(l.value,{componentStack:l.stack})}}finally{Q.T=e,he.p=r}}Yn&3&&Qu(),In(t),r=t.pendingLanes,n&261930&&r&42?t===Rf?vo++:(vo=0,Rf=t):vo=0,ul(0)}}function rT(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,ol(e)))}function Qu(){return tT(),nT(),iT(),sT()}function sT(){if($e!==5)return!1;var t=Pi,e=Sf;Sf=0;var n=wm(Yn),i=Q.T,r=he.p;try{he.p=32>n?32:n,Q.T=null,n=Af,Af=null;var s=Pi,a=Yn;if($e=0,Gs=Pi=null,Yn=0,ue&6)throw Error(L(331));var l=ue;if(ue|=4,Hb(s.current),zb(s,s.current,a,n),ue=l,ul(0,!1),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(nl,s)}catch{}return!0}finally{he.p=r,Q.T=i,rT(t,e)}}function g_(t,e,n){e=Xt(n,e),e=Ef(t.stateNode,e,2),t=ki(t,e,2),t!==null&&(rl(t,2),In(t))}function me(t,e,n){if(t.tag===3)g_(t,t,n);else for(;e!==null;){if(e.tag===3){g_(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Li===null||!Li.has(i))){t=Xt(n,t),n=Eb(2),i=ki(e,n,2),i!==null&&(bb(n,i,e,t),rl(i,2),In(i));break}}e=e.return}}function _d(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new cR;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(sp=!0,r.add(n),t=mR.bind(null,t,e,n),e.then(t,t))}function mR(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,ve===t&&(oe&n)===n&&(je===4||je===3&&(oe&62914560)===oe&&300>Pt()-Gu?!(ue&2)&&Ks(t,0):ap|=n,Fs===oe&&(Fs=0)),In(t)}function aT(t,e){e===0&&(e=W0()),t=Yr(t,e),t!==null&&(rl(t,e),In(t))}function pR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),aT(t,n)}function gR(t,e){var n=0;switch(t.tag){case 31:case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(L(314))}i!==null&&i.delete(e),aT(t,n)}function yR(t,e){return Tm(t,e)}var nu=null,os=null,Nf=!1,iu=!1,vd=!1,Di=0;function In(t){t!==os&&t.next===null&&(os===null?nu=os=t:os=os.next=t),iu=!0,Nf||(Nf=!0,vR())}function ul(t,e){if(!vd&&iu){vd=!0;do for(var n=!1,i=nu;i!==null;){if(t!==0){var r=i.pendingLanes;if(r===0)var s=0;else{var a=i.suspendedLanes,l=i.pingedLanes;s=(1<<31-zt(42|t)+1)-1,s&=r&~(a&~l),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,y_(i,s))}else s=oe,s=Mu(i,i===ve?s:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(s&3)||il(i,s)||(n=!0,y_(i,s));i=i.next}while(n);vd=!1}}function _R(){oT()}function oT(){iu=Nf=!1;var t=0;Di!==0&&CR()&&(t=Di);for(var e=Pt(),n=null,i=nu;i!==null;){var r=i.next,s=lT(i,e);s===0?(i.next=null,n===null?nu=r:n.next=r,r===null&&(os=n)):(n=i,(t!==0||s&3)&&(iu=!0)),i=r}$e!==0&&$e!==5||ul(t),Di!==0&&(Di=0)}function lT(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes&-62914561;0<s;){var a=31-zt(s),l=1<<a,c=r[a];c===-1?(!(l&n)||l&i)&&(r[a]=GS(l,e)):c<=e&&(t.expiredLanes|=l),s&=~l}if(e=ve,n=oe,n=Mu(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i=t.callbackNode,n===0||t===e&&(fe===2||fe===9)||t.cancelPendingCommit!==null)return i!==null&&i!==null&&Yh(i),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||il(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(i!==null&&Yh(i),wm(n)){case 2:case 8:n=$0;break;case 32:n=Uc;break;case 268435456:n=X0;break;default:n=Uc}return i=cT.bind(null,t),n=Tm(n,i),t.callbackPriority=e,t.callbackNode=n,e}return i!==null&&i!==null&&Yh(i),t.callbackPriority=2,t.callbackNode=null,2}function cT(t,e){if($e!==0&&$e!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(Qu()&&t.callbackNode!==n)return null;var i=oe;return i=Mu(t,t===ve?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i===0?null:(Qb(t,i,e),lT(t,Pt()),t.callbackNode!=null&&t.callbackNode===n?cT.bind(null,t):null)}function y_(t,e){if(Qu())return null;Qb(t,e,!0)}function vR(){DR(function(){ue&6?Tm(Q0,_R):oT()})}function lp(){if(Di===0){var t=Bs;t===0&&(t=ql,ql<<=1,!(ql&261888)&&(ql=256)),Di=t}return Di}function __(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:uc(""+t)}function v_(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function ER(t,e,n,i,r){if(e==="submit"&&n&&n.stateNode===r){var s=__((r[It]||null).action),a=i.submitter;a&&(e=(e=a[It]||null)?__(e.formAction):a.getAttribute("formAction"),e!==null&&(s=e,a=null));var l=new Vu("action","action",null,i,r);t.push({event:l,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Di!==0){var c=a?v_(r,a):new FormData(r);_f(n,{pending:!0,data:c,method:r.method,action:s},null,c)}}else typeof s=="function"&&(l.preventDefault(),c=a?v_(r,a):new FormData(r),_f(n,{pending:!0,data:c,method:r.method,action:s},s,c))},currentTarget:r}]})}}for(var Ed=0;Ed<af.length;Ed++){var bd=af[Ed],bR=bd.toLowerCase(),TR=bd[0].toUpperCase()+bd.slice(1);fn(bR,"on"+TR)}fn(bE,"onAnimationEnd");fn(TE,"onAnimationIteration");fn(xE,"onAnimationStart");fn("dblclick","onDoubleClick");fn("focusin","onFocus");fn("focusout","onBlur");fn(PA,"onTransitionRun");fn(UA,"onTransitionStart");fn(zA,"onTransitionCancel");fn(wE,"onTransitionEnd");Us("onMouseEnter",["mouseout","mouseover"]);Us("onMouseLeave",["mouseout","mouseover"]);Us("onPointerEnter",["pointerout","pointerover"]);Us("onPointerLeave",["pointerout","pointerover"]);Fr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ko="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ko));function uT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var a=i.length-1;0<=a;a--){var l=i[a],c=l.instance,h=l.currentTarget;if(l=l.listener,c!==s&&r.isPropagationStopped())break e;s=l,r.currentTarget=h;try{s(r)}catch(f){Bc(f)}r.currentTarget=null,s=c}else for(a=0;a<i.length;a++){if(l=i[a],c=l.instance,h=l.currentTarget,l=l.listener,c!==s&&r.isPropagationStopped())break e;s=l,r.currentTarget=h;try{s(r)}catch(f){Bc(f)}r.currentTarget=null,s=c}}}}function ne(t,e){var n=e[Wd];n===void 0&&(n=e[Wd]=new Set);var i=t+"__bubble";n.has(i)||(hT(e,t,2,!1),n.add(i))}function Td(t,e,n){var i=0;e&&(i|=4),hT(n,t,i,e)}var Jl="_reactListening"+Math.random().toString(36).slice(2);function cp(t){if(!t[Jl]){t[Jl]=!0,nE.forEach(function(n){n!=="selectionchange"&&(xR.has(n)||Td(n,!1,t),Td(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Jl]||(e[Jl]=!0,Td("selectionchange",!1,e))}}function hT(t,e,n,i){switch(wT(e)){case 2:var r=WR;break;case 8:r=JR;break;default:r=fp}n=r.bind(null,e,n,t),r=void 0,!nf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function xd(t,e,n,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var l=i.stateNode.containerInfo;if(l===r)break;if(a===4)for(a=i.return;a!==null;){var c=a.tag;if((c===3||c===4)&&a.stateNode.containerInfo===r)return;a=a.return}for(;l!==null;){if(a=ms(l),a===null)return;if(c=a.tag,c===5||c===6||c===26||c===27){i=s=a;continue e}l=l.parentNode}}i=i.return}uE(function(){var h=s,f=Rm(n),g=[];e:{var p=SE.get(t);if(p!==void 0){var y=Vu,N=t;switch(t){case"keypress":if(dc(n)===0)break e;case"keydown":case"keyup":y=gA;break;case"focusin":N="focus",y=Jh;break;case"focusout":N="blur",y=Jh;break;case"beforeblur":case"afterblur":y=Jh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Ry;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=rA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=vA;break;case bE:case TE:case xE:y=oA;break;case wE:y=bA;break;case"scroll":case"scrollend":y=nA;break;case"wheel":y=xA;break;case"copy":case"cut":case"paste":y=cA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Cy;break;case"toggle":case"beforetoggle":y=SA}var D=(e&4)!==0,I=!D&&(t==="scroll"||t==="scrollend"),b=D?p!==null?p+"Capture":null:p;D=[];for(var v=h,w;v!==null;){var M=v;if(w=M.stateNode,M=M.tag,M!==5&&M!==26&&M!==27||w===null||b===null||(M=No(v,b),M!=null&&D.push(Lo(v,M,w))),I)break;v=v.return}0<D.length&&(p=new y(p,N,null,n,f),g.push({event:p,listeners:D}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",p&&n!==tf&&(N=n.relatedTarget||n.fromElement)&&(ms(N)||N[aa]))break e;if((y||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,y?(N=n.relatedTarget||n.toElement,y=h,N=N?ms(N):null,N!==null&&(I=tl(N),D=N.tag,N!==I||D!==5&&D!==27&&D!==6)&&(N=null)):(y=null,N=h),y!==N)){if(D=Ry,M="onMouseLeave",b="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(D=Cy,M="onPointerLeave",b="onPointerEnter",v="pointer"),I=y==null?p:Wa(y),w=N==null?p:Wa(N),p=new D(M,v+"leave",y,n,f),p.target=I,p.relatedTarget=w,M=null,ms(f)===h&&(D=new D(b,v+"enter",N,n,f),D.target=w,D.relatedTarget=I,M=D),I=M,y&&N)t:{for(D=wR,b=y,v=N,w=0,M=b;M;M=D(M))w++;M=0;for(var U=v;U;U=D(U))M++;for(;0<w-M;)b=D(b),w--;for(;0<M-w;)v=D(v),M--;for(;w--;){if(b===v||v!==null&&b===v.alternate){D=b;break t}b=D(b),v=D(v)}D=null}else D=null;y!==null&&E_(g,p,y,D,!1),N!==null&&I!==null&&E_(g,I,N,D,!0)}}e:{if(p=h?Wa(h):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var F=jy;else if(Oy(p))if(gE)F=VA;else{F=jA;var T=OA}else y=p.nodeName,!y||y.toLowerCase()!=="input"||p.type!=="checkbox"&&p.type!=="radio"?h&&Am(h.elementType)&&(F=jy):F=MA;if(F&&(F=F(t,h))){pE(g,F,n,f);break e}T&&T(t,p,h),t==="focusout"&&h&&p.type==="number"&&h.memoizedProps.value!=null&&ef(p,"number",p.value)}switch(T=h?Wa(h):window,t){case"focusin":(Oy(T)||T.contentEditable==="true")&&(ys=T,rf=h,co=null);break;case"focusout":co=rf=ys=null;break;case"mousedown":sf=!0;break;case"contextmenu":case"mouseup":case"dragend":sf=!1,Py(g,n,f);break;case"selectionchange":if(LA)break;case"keydown":case"keyup":Py(g,n,f)}var E;if(Im)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else gs?fE(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(dE&&n.locale!=="ko"&&(gs||x!=="onCompositionStart"?x==="onCompositionEnd"&&gs&&(E=hE()):(Ni=f,Nm="value"in Ni?Ni.value:Ni.textContent,gs=!0)),T=ru(h,x),0<T.length&&(x=new Ny(x,t,null,n,f),g.push({event:x,listeners:T}),E?x.data=E:(E=mE(n),E!==null&&(x.data=E)))),(E=RA?NA(t,n):CA(t,n))&&(x=ru(h,"onBeforeInput"),0<x.length&&(T=new Ny("onBeforeInput","beforeinput",null,n,f),g.push({event:T,listeners:x}),T.data=E)),ER(g,t,h,n,f)}uT(g,e)})}function Lo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ru(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||s===null||(r=No(t,n),r!=null&&i.unshift(Lo(t,r,s)),r=No(t,e),r!=null&&i.push(Lo(t,r,s))),t.tag===3)return i;t=t.return}return[]}function wR(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function E_(t,e,n,i,r){for(var s=e._reactName,a=[];n!==null&&n!==i;){var l=n,c=l.alternate,h=l.stateNode;if(l=l.tag,c!==null&&c===i)break;l!==5&&l!==26&&l!==27||h===null||(c=h,r?(h=No(n,s),h!=null&&a.unshift(Lo(n,h,c))):r||(h=No(n,s),h!=null&&a.push(Lo(n,h,c)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var SR=/\r\n?/g,AR=/\u0000|\uFFFD/g;function b_(t){return(typeof t=="string"?t:""+t).replace(SR,`
`).replace(AR,"")}function dT(t,e){return e=b_(e),b_(t)===e}function pe(t,e,n,i,r,s){switch(n){case"children":typeof i=="string"?e==="body"||e==="textarea"&&i===""||zs(t,i):(typeof i=="number"||typeof i=="bigint")&&e!=="body"&&zs(t,""+i);break;case"className":Gl(t,"class",i);break;case"tabIndex":Gl(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Gl(t,n,i);break;case"style":cE(t,i,s);break;case"data":if(e!=="object"){Gl(t,"data",i);break}case"src":case"href":if(i===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=uc(""+i),t.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(e!=="input"&&pe(t,e,"name",r.name,r,null),pe(t,e,"formEncType",r.formEncType,r,null),pe(t,e,"formMethod",r.formMethod,r,null),pe(t,e,"formTarget",r.formTarget,r,null)):(pe(t,e,"encType",r.encType,r,null),pe(t,e,"method",r.method,r,null),pe(t,e,"target",r.target,r,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=uc(""+i),t.setAttribute(n,i);break;case"onClick":i!=null&&(t.onclick=Bn);break;case"onScroll":i!=null&&ne("scroll",t);break;case"onScrollEnd":i!=null&&ne("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(L(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(L(60));t.innerHTML=n}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}n=uc(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""+i):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":i===!0?t.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,i):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(n,i):t.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(n):t.setAttribute(n,i);break;case"popover":ne("beforetoggle",t),ne("toggle",t),cc(t,"popover",i);break;case"xlinkActuate":On(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":On(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":On(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":On(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":On(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":On(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":On(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":On(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":On(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":cc(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=eA.get(n)||n,cc(t,n,i))}}function Cf(t,e,n,i,r,s){switch(n){case"style":cE(t,i,s);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(L(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(L(60));t.innerHTML=n}}break;case"children":typeof i=="string"?zs(t,i):(typeof i=="number"||typeof i=="bigint")&&zs(t,""+i);break;case"onScroll":i!=null&&ne("scroll",t);break;case"onScrollEnd":i!=null&&ne("scrollend",t);break;case"onClick":i!=null&&(t.onclick=Bn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!iE.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),e=n.slice(2,r?n.length-7:void 0),s=t[It]||null,s=s!=null?s[n]:null,typeof s=="function"&&t.removeEventListener(e,s,r),typeof i=="function")){typeof s!="function"&&s!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,i,r);break e}n in t?t[n]=i:i===!0?t.setAttribute(n,""):cc(t,n,i)}}}function ut(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ne("error",t),ne("load",t);var i=!1,r=!1,s;for(s in n)if(n.hasOwnProperty(s)){var a=n[s];if(a!=null)switch(s){case"src":i=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(L(137,e));default:pe(t,e,s,a,n,null)}}r&&pe(t,e,"srcSet",n.srcSet,n,null),i&&pe(t,e,"src",n.src,n,null);return;case"input":ne("invalid",t);var l=s=a=r=null,c=null,h=null;for(i in n)if(n.hasOwnProperty(i)){var f=n[i];if(f!=null)switch(i){case"name":r=f;break;case"type":a=f;break;case"checked":c=f;break;case"defaultChecked":h=f;break;case"value":s=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(L(137,e));break;default:pe(t,e,i,f,n,null)}}aE(t,s,l,c,h,a,r,!1);return;case"select":ne("invalid",t),i=a=s=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":s=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:pe(t,e,r,l,n,null)}e=s,n=a,t.multiple=!!i,e!=null?As(t,!!i,e,!1):n!=null&&As(t,!!i,n,!0);return;case"textarea":ne("invalid",t),s=r=i=null;for(a in n)if(n.hasOwnProperty(a)&&(l=n[a],l!=null))switch(a){case"value":i=l;break;case"defaultValue":r=l;break;case"children":s=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(L(91));break;default:pe(t,e,a,l,n,null)}lE(t,i,r,s);return;case"option":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:pe(t,e,c,i,n,null)}return;case"dialog":ne("beforetoggle",t),ne("toggle",t),ne("cancel",t),ne("close",t);break;case"iframe":case"object":ne("load",t);break;case"video":case"audio":for(i=0;i<ko.length;i++)ne(ko[i],t);break;case"image":ne("error",t),ne("load",t);break;case"details":ne("toggle",t);break;case"embed":case"source":case"link":ne("error",t),ne("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(h in n)if(n.hasOwnProperty(h)&&(i=n[h],i!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(L(137,e));default:pe(t,e,h,i,n,null)}return;default:if(Am(e)){for(f in n)n.hasOwnProperty(f)&&(i=n[f],i!==void 0&&Cf(t,e,f,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(i=n[l],i!=null&&pe(t,e,l,i,n,null))}function RR(t,e,n,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,s=null,a=null,l=null,c=null,h=null,f=null;for(y in n){var g=n[y];if(n.hasOwnProperty(y)&&g!=null)switch(y){case"checked":break;case"value":break;case"defaultValue":c=g;default:i.hasOwnProperty(y)||pe(t,e,y,null,i,g)}}for(var p in i){var y=i[p];if(g=n[p],i.hasOwnProperty(p)&&(y!=null||g!=null))switch(p){case"type":s=y;break;case"name":r=y;break;case"checked":h=y;break;case"defaultChecked":f=y;break;case"value":a=y;break;case"defaultValue":l=y;break;case"children":case"dangerouslySetInnerHTML":if(y!=null)throw Error(L(137,e));break;default:y!==g&&pe(t,e,p,y,i,g)}}Zd(t,a,l,c,h,f,s,r);return;case"select":y=a=l=p=null;for(s in n)if(c=n[s],n.hasOwnProperty(s)&&c!=null)switch(s){case"value":break;case"multiple":y=c;default:i.hasOwnProperty(s)||pe(t,e,s,null,i,c)}for(r in i)if(s=i[r],c=n[r],i.hasOwnProperty(r)&&(s!=null||c!=null))switch(r){case"value":p=s;break;case"defaultValue":l=s;break;case"multiple":a=s;default:s!==c&&pe(t,e,r,s,i,c)}e=l,n=a,i=y,p!=null?As(t,!!n,p,!1):!!i!=!!n&&(e!=null?As(t,!!n,e,!0):As(t,!!n,n?[]:"",!1));return;case"textarea":y=p=null;for(l in n)if(r=n[l],n.hasOwnProperty(l)&&r!=null&&!i.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:pe(t,e,l,null,i,r)}for(a in i)if(r=i[a],s=n[a],i.hasOwnProperty(a)&&(r!=null||s!=null))switch(a){case"value":p=r;break;case"defaultValue":y=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(L(91));break;default:r!==s&&pe(t,e,a,r,i,s)}oE(t,p,y);return;case"option":for(var N in n)if(p=n[N],n.hasOwnProperty(N)&&p!=null&&!i.hasOwnProperty(N))switch(N){case"selected":t.selected=!1;break;default:pe(t,e,N,null,i,p)}for(c in i)if(p=i[c],y=n[c],i.hasOwnProperty(c)&&p!==y&&(p!=null||y!=null))switch(c){case"selected":t.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:pe(t,e,c,p,i,y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var D in n)p=n[D],n.hasOwnProperty(D)&&p!=null&&!i.hasOwnProperty(D)&&pe(t,e,D,null,i,p);for(h in i)if(p=i[h],y=n[h],i.hasOwnProperty(h)&&p!==y&&(p!=null||y!=null))switch(h){case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(L(137,e));break;default:pe(t,e,h,p,i,y)}return;default:if(Am(e)){for(var I in n)p=n[I],n.hasOwnProperty(I)&&p!==void 0&&!i.hasOwnProperty(I)&&Cf(t,e,I,void 0,i,p);for(f in i)p=i[f],y=n[f],!i.hasOwnProperty(f)||p===y||p===void 0&&y===void 0||Cf(t,e,f,p,i,y);return}}for(var b in n)p=n[b],n.hasOwnProperty(b)&&p!=null&&!i.hasOwnProperty(b)&&pe(t,e,b,null,i,p);for(g in i)p=i[g],y=n[g],!i.hasOwnProperty(g)||p===y||p==null&&y==null||pe(t,e,g,p,i,y)}function T_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function NR(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var r=n[i],s=r.transferSize,a=r.initiatorType,l=r.duration;if(s&&l&&T_(a)){for(a=0,l=r.responseEnd,i+=1;i<n.length;i++){var c=n[i],h=c.startTime;if(h>l)break;var f=c.transferSize,g=c.initiatorType;f&&T_(g)&&(c=c.responseEnd,a+=f*(c<l?1:(l-h)/(c-h)))}if(--i,e+=8*(s+a)/(r.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var If=null,Df=null;function su(t){return t.nodeType===9?t:t.ownerDocument}function x_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fT(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Of(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var wd=null;function CR(){var t=window.event;return t&&t.type==="popstate"?t===wd?!1:(wd=t,!0):(wd=null,!1)}var mT=typeof setTimeout=="function"?setTimeout:void 0,IR=typeof clearTimeout=="function"?clearTimeout:void 0,w_=typeof Promise=="function"?Promise:void 0,DR=typeof queueMicrotask=="function"?queueMicrotask:typeof w_<"u"?function(t){return w_.resolve(null).then(t).catch(OR)}:mT;function OR(t){setTimeout(function(){throw t})}function or(t){return t==="head"}function S_(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"||n==="/&"){if(i===0){t.removeChild(r),Qs(e);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")Eo(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,Eo(n);for(var s=n.firstChild;s;){var a=s.nextSibling,l=s.nodeName;s[sl]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=a}}else n==="body"&&Eo(t.ownerDocument.body);n=r}while(n);Qs(e)}function A_(t,e){var n=t;t=0;do{var i=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=i}while(n)}function jf(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":jf(n),Sm(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function jR(t,e,n,i){for(;t.nodeType===1;){var r=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[sl])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(s=t.getAttribute("rel"),s==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(s!==r.rel||t.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||t.getAttribute("title")!==(r.title==null?null:r.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(s=t.getAttribute("src"),(s!==(r.src==null?null:r.src)||t.getAttribute("type")!==(r.type==null?null:r.type)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&s&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var s=r.name==null?null:""+r.name;if(r.type==="hidden"&&t.getAttribute("name")===s)return t}else return t;if(t=en(t.nextSibling),t===null)break}return null}function MR(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=en(t.nextSibling),t===null))return null;return t}function pT(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=en(t.nextSibling),t===null))return null;return t}function Mf(t){return t.data==="$?"||t.data==="$~"}function Vf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function VR(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var i=function(){e(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}function en(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var kf=null;function R_(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return en(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function N_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function gT(t,e,n){switch(e=su(n),t){case"html":if(t=e.documentElement,!t)throw Error(L(452));return t;case"head":if(t=e.head,!t)throw Error(L(453));return t;case"body":if(t=e.body,!t)throw Error(L(454));return t;default:throw Error(L(451))}}function Eo(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Sm(t)}var tn=new Map,C_=new Set;function au(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ai=he.d;he.d={f:kR,r:LR,D:PR,C:UR,L:zR,m:BR,X:HR,S:qR,M:FR};function kR(){var t=ai.f(),e=Ku();return t||e}function LR(t){var e=oa(t);e!==null&&e.tag===5&&e.type==="form"?cb(e):ai.r(t)}var ha=typeof document>"u"?null:document;function yT(t,e,n){var i=ha;if(i&&typeof e=="string"&&e){var r=$t(e);r='link[rel="'+t+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),C_.has(r)||(C_.add(r),t={rel:t,crossOrigin:n,href:e},i.querySelector(r)===null&&(e=i.createElement("link"),ut(e,"link",t),nt(e),i.head.appendChild(e)))}}function PR(t){ai.D(t),yT("dns-prefetch",t,null)}function UR(t,e){ai.C(t,e),yT("preconnect",t,e)}function zR(t,e,n){ai.L(t,e,n);var i=ha;if(i&&t&&e){var r='link[rel="preload"][as="'+$t(e)+'"]';e==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+$t(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+$t(n.imageSizes)+'"]')):r+='[href="'+$t(t)+'"]';var s=r;switch(e){case"style":s=Ys(t);break;case"script":s=da(t)}tn.has(s)||(t=Re({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),tn.set(s,t),i.querySelector(r)!==null||e==="style"&&i.querySelector(hl(s))||e==="script"&&i.querySelector(dl(s))||(e=i.createElement("link"),ut(e,"link",t),nt(e),i.head.appendChild(e)))}}function BR(t,e){ai.m(t,e);var n=ha;if(n&&t){var i=e&&typeof e.as=="string"?e.as:"script",r='link[rel="modulepreload"][as="'+$t(i)+'"][href="'+$t(t)+'"]',s=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=da(t)}if(!tn.has(s)&&(t=Re({rel:"modulepreload",href:t},e),tn.set(s,t),n.querySelector(r)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(dl(s)))return}i=n.createElement("link"),ut(i,"link",t),nt(i),n.head.appendChild(i)}}}function qR(t,e,n){ai.S(t,e,n);var i=ha;if(i&&t){var r=Ss(i).hoistableStyles,s=Ys(t);e=e||"default";var a=r.get(s);if(!a){var l={loading:0,preload:null};if(a=i.querySelector(hl(s)))l.loading=5;else{t=Re({rel:"stylesheet",href:t,"data-precedence":e},n),(n=tn.get(s))&&up(t,n);var c=a=i.createElement("link");nt(c),ut(c,"link",t),c._p=new Promise(function(h,f){c.onload=h,c.onerror=f}),c.addEventListener("load",function(){l.loading|=1}),c.addEventListener("error",function(){l.loading|=2}),l.loading|=4,Ec(a,e,i)}a={type:"stylesheet",instance:a,count:1,state:l},r.set(s,a)}}}function HR(t,e){ai.X(t,e);var n=ha;if(n&&t){var i=Ss(n).hoistableScripts,r=da(t),s=i.get(r);s||(s=n.querySelector(dl(r)),s||(t=Re({src:t,async:!0},e),(e=tn.get(r))&&hp(t,e),s=n.createElement("script"),nt(s),ut(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function FR(t,e){ai.M(t,e);var n=ha;if(n&&t){var i=Ss(n).hoistableScripts,r=da(t),s=i.get(r);s||(s=n.querySelector(dl(r)),s||(t=Re({src:t,async:!0,type:"module"},e),(e=tn.get(r))&&hp(t,e),s=n.createElement("script"),nt(s),ut(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function I_(t,e,n,i){var r=(r=ji.current)?au(r):null;if(!r)throw Error(L(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Ys(n.href),n=Ss(r).hoistableStyles,i=n.get(e),i||(i={type:"style",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Ys(n.href);var s=Ss(r).hoistableStyles,a=s.get(t);if(a||(r=r.ownerDocument||r,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(t,a),(s=r.querySelector(hl(t)))&&!s._p&&(a.instance=s,a.state.loading=5),tn.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},tn.set(t,n),s||GR(r,t,n,a.state))),e&&i===null)throw Error(L(528,""));return a}if(e&&i!==null)throw Error(L(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=da(n),n=Ss(r).hoistableScripts,i=n.get(e),i||(i={type:"script",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(L(444,t))}}function Ys(t){return'href="'+$t(t)+'"'}function hl(t){return'link[rel="stylesheet"]['+t+"]"}function _T(t){return Re({},t,{"data-precedence":t.precedence,precedence:null})}function GR(t,e,n,i){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?i.loading=1:(e=t.createElement("link"),i.preload=e,e.addEventListener("load",function(){return i.loading|=1}),e.addEventListener("error",function(){return i.loading|=2}),ut(e,"link",n),nt(e),t.head.appendChild(e))}function da(t){return'[src="'+$t(t)+'"]'}function dl(t){return"script[async]"+t}function D_(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var i=t.querySelector('style[data-href~="'+$t(n.href)+'"]');if(i)return e.instance=i,nt(i),i;var r=Re({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),nt(i),ut(i,"style",r),Ec(i,n.precedence,t),e.instance=i;case"stylesheet":r=Ys(n.href);var s=t.querySelector(hl(r));if(s)return e.state.loading|=4,e.instance=s,nt(s),s;i=_T(n),(r=tn.get(r))&&up(i,r),s=(t.ownerDocument||t).createElement("link"),nt(s);var a=s;return a._p=new Promise(function(l,c){a.onload=l,a.onerror=c}),ut(s,"link",i),e.state.loading|=4,Ec(s,n.precedence,t),e.instance=s;case"script":return s=da(n.src),(r=t.querySelector(dl(s)))?(e.instance=r,nt(r),r):(i=n,(r=tn.get(s))&&(i=Re({},n),hp(i,r)),t=t.ownerDocument||t,r=t.createElement("script"),nt(r),ut(r,"link",i),t.head.appendChild(r),e.instance=r);case"void":return null;default:throw Error(L(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(i=e.instance,e.state.loading|=4,Ec(i,n.precedence,t));return e.instance}function Ec(t,e,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,s=r,a=0;a<i.length;a++){var l=i[a];if(l.dataset.precedence===e)s=l;else if(s!==r)break}s?s.parentNode.insertBefore(t,s.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function up(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function hp(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var bc=null;function O_(t,e,n){if(bc===null){var i=new Map,r=bc=new Map;r.set(n,i)}else r=bc,i=r.get(n),i||(i=new Map,r.set(n,i));if(i.has(t))return i;for(i.set(t,null),n=n.getElementsByTagName(t),r=0;r<n.length;r++){var s=n[r];if(!(s[sl]||s[at]||t==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var a=s.getAttribute(e)||"";a=t+a;var l=i.get(a);l?l.push(s):i.set(a,[s])}}return i}function j_(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function KR(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function vT(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function YR(t,e,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var r=Ys(i.href),s=e.querySelector(hl(r));if(s){e=s._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=ou.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=s,nt(s);return}s=e.ownerDocument||e,i=_T(i),(r=tn.get(r))&&up(i,r),s=s.createElement("link"),nt(s);var a=s;a._p=new Promise(function(l,c){a.onload=l,a.onerror=c}),ut(s,"link",i),n.instance=s}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=ou.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var Sd=0;function QR(t,e){return t.stylesheets&&t.count===0&&Tc(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var i=setTimeout(function(){if(t.stylesheets&&Tc(t,t.stylesheets),t.unsuspend){var s=t.unsuspend;t.unsuspend=null,s()}},6e4+e);0<t.imgBytes&&Sd===0&&(Sd=62500*NR());var r=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Tc(t,t.stylesheets),t.unsuspend)){var s=t.unsuspend;t.unsuspend=null,s()}},(t.imgBytes>Sd?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(i),clearTimeout(r)}}:null}function ou(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Tc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var lu=null;function Tc(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,lu=new Map,e.forEach($R,t),lu=null,ou.call(t))}function $R(t,e){if(!(e.state.loading&4)){var n=lu.get(t);if(n)var i=n.get(null);else{n=new Map,lu.set(t,n);for(var r=t.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<r.length;s++){var a=r[s];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}r=e.instance,a=r.getAttribute("data-precedence"),s=n.get(a)||i,s===i&&n.set(null,r),n.set(a,r),this.count++,i=ou.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),s?s.parentNode.insertBefore(r,s.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(r,t.firstChild)),e.state.loading|=4}}var Po={$$typeof:zn,Provider:null,Consumer:null,_currentValue:Rr,_currentValue2:Rr,_threadCount:0};function XR(t,e,n,i,r,s,a,l,c){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qh(0),this.hiddenUpdates=Qh(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function ET(t,e,n,i,r,s,a,l,c,h,f,g){return t=new XR(t,e,n,a,c,h,f,g,l),e=1,s===!0&&(e|=24),s=Vt(3,null,null,e),t.current=s,s.stateNode=t,e=Lm(),e.refCount++,t.pooledCache=e,e.refCount++,s.memoizedState={element:i,isDehydrated:n,cache:e},zm(s),t}function bT(t){return t?(t=Es,t):Es}function TT(t,e,n,i,r,s){r=bT(r),i.context===null?i.context=r:i.pendingContext=r,i=Vi(e),i.payload={element:n},s=s===void 0?null:s,s!==null&&(i.callback=s),n=ki(t,i,e),n!==null&&(Ct(n,t,e),ho(n,t,e))}function M_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function dp(t,e){M_(t,e),(t=t.alternate)&&M_(t,e)}function xT(t){if(t.tag===13||t.tag===31){var e=Yr(t,67108864);e!==null&&Ct(e,t,67108864),dp(t,67108864)}}function V_(t){if(t.tag===13||t.tag===31){var e=Bt();e=xm(e);var n=Yr(t,e);n!==null&&Ct(n,t,e),dp(t,e)}}var cu=!0;function WR(t,e,n,i){var r=Q.T;Q.T=null;var s=he.p;try{he.p=2,fp(t,e,n,i)}finally{he.p=s,Q.T=r}}function JR(t,e,n,i){var r=Q.T;Q.T=null;var s=he.p;try{he.p=8,fp(t,e,n,i)}finally{he.p=s,Q.T=r}}function fp(t,e,n,i){if(cu){var r=Lf(i);if(r===null)xd(t,e,i,uu,n),k_(t,i);else if(eN(r,t,e,n,i))i.stopPropagation();else if(k_(t,i),e&4&&-1<ZR.indexOf(t)){for(;r!==null;){var s=oa(r);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var a=Tr(s.pendingLanes);if(a!==0){var l=s;for(l.pendingLanes|=2,l.entangledLanes|=2;a;){var c=1<<31-zt(a);l.entanglements[1]|=c,a&=~c}In(s),!(ue&6)&&(Zc=Pt()+500,ul(0))}}break;case 31:case 13:l=Yr(s,2),l!==null&&Ct(l,s,2),Ku(),dp(s,2)}if(s=Lf(i),s===null&&xd(t,e,i,uu,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else xd(t,e,i,null,n)}}function Lf(t){return t=Rm(t),mp(t)}var uu=null;function mp(t){if(uu=null,t=ms(t),t!==null){var e=tl(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=H0(e),t!==null)return t;t=null}else if(n===31){if(t=F0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return uu=t,null}function wT(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(PS()){case Q0:return 2;case $0:return 8;case Uc:case US:return 32;case X0:return 268435456;default:return 32}default:return 32}}var Pf=!1,Ui=null,zi=null,Bi=null,Uo=new Map,zo=new Map,Ti=[],ZR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function k_(t,e){switch(t){case"focusin":case"focusout":Ui=null;break;case"dragenter":case"dragleave":zi=null;break;case"mouseover":case"mouseout":Bi=null;break;case"pointerover":case"pointerout":Uo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":zo.delete(e.pointerId)}}function Ka(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=oa(e),e!==null&&xT(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function eN(t,e,n,i,r){switch(e){case"focusin":return Ui=Ka(Ui,t,e,n,i,r),!0;case"dragenter":return zi=Ka(zi,t,e,n,i,r),!0;case"mouseover":return Bi=Ka(Bi,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return Uo.set(s,Ka(Uo.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,zo.set(s,Ka(zo.get(s)||null,t,e,n,i,r)),!0}return!1}function ST(t){var e=ms(t.target);if(e!==null){var n=tl(e);if(n!==null){if(e=n.tag,e===13){if(e=H0(n),e!==null){t.blockedOn=e,Ey(t.priority,function(){V_(n)});return}}else if(e===31){if(e=F0(n),e!==null){t.blockedOn=e,Ey(t.priority,function(){V_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Lf(t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);tf=i,n.target.dispatchEvent(i),tf=null}else return e=oa(n),e!==null&&xT(e),t.blockedOn=n,!1;e.shift()}return!0}function L_(t,e,n){xc(t)&&n.delete(e)}function tN(){Pf=!1,Ui!==null&&xc(Ui)&&(Ui=null),zi!==null&&xc(zi)&&(zi=null),Bi!==null&&xc(Bi)&&(Bi=null),Uo.forEach(L_),zo.forEach(L_)}function Zl(t,e){t.blockedOn===e&&(t.blockedOn=null,Pf||(Pf=!0,We.unstable_scheduleCallback(We.unstable_NormalPriority,tN)))}var ec=null;function P_(t){ec!==t&&(ec=t,We.unstable_scheduleCallback(We.unstable_NormalPriority,function(){ec===t&&(ec=null);for(var e=0;e<t.length;e+=3){var n=t[e],i=t[e+1],r=t[e+2];if(typeof i!="function"){if(mp(i||n)===null)continue;break}var s=oa(n);s!==null&&(t.splice(e,3),e-=3,_f(s,{pending:!0,data:r,method:n.method,action:i},i,r))}}))}function Qs(t){function e(c){return Zl(c,t)}Ui!==null&&Zl(Ui,t),zi!==null&&Zl(zi,t),Bi!==null&&Zl(Bi,t),Uo.forEach(e),zo.forEach(e);for(var n=0;n<Ti.length;n++){var i=Ti[n];i.blockedOn===t&&(i.blockedOn=null)}for(;0<Ti.length&&(n=Ti[0],n.blockedOn===null);)ST(n),n.blockedOn===null&&Ti.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var r=n[i],s=n[i+1],a=r[It]||null;if(typeof s=="function")a||P_(n);else if(a){var l=null;if(s&&s.hasAttribute("formAction")){if(r=s,a=s[It]||null)l=a.formAction;else if(mp(r)!==null)continue}else l=a.action;typeof l=="function"?n[i+1]=l:(n.splice(i,3),i-=3),P_(n)}}}function AT(){function t(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(a){return r=a})},focusReset:"manual",scroll:"manual"})}function e(){r!==null&&(r(),r=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,r=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),r!==null&&(r(),r=null)}}}function pp(t){this._internalRoot=t}$u.prototype.render=pp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(L(409));var n=e.current,i=Bt();TT(n,i,t,e,null,null)};$u.prototype.unmount=pp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;TT(t.current,2,null,t,null,null),Ku(),e[aa]=null}};function $u(t){this._internalRoot=t}$u.prototype.unstable_scheduleHydration=function(t){if(t){var e=tE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ti.length&&e!==0&&e<Ti[n].priority;n++);Ti.splice(n,0,t),n===0&&ST(t)}};var U_=B0.version;if(U_!=="19.2.3")throw Error(L(527,U_,"19.2.3"));he.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(L(188)):(t=Object.keys(t).join(","),Error(L(268,t)));return t=DS(e),t=t!==null?G0(t):null,t=t===null?null:t.stateNode,t};var nN={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tc.isDisabled&&tc.supportsFiber)try{nl=tc.inject(nN),Ut=tc}catch{}}Ou.createRoot=function(t,e){if(!q0(t))throw Error(L(299));var n=!1,i="",r=yb,s=_b,a=vb;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onUncaughtError!==void 0&&(r=e.onUncaughtError),e.onCaughtError!==void 0&&(s=e.onCaughtError),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=ET(t,1,!1,null,null,n,i,null,r,s,a,AT),t[aa]=e.current,cp(t),new pp(e)};Ou.hydrateRoot=function(t,e,n){if(!q0(t))throw Error(L(299));var i=!1,r="",s=yb,a=_b,l=vb,c=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.formState!==void 0&&(c=n.formState)),e=ET(t,1,!0,e,n??null,i,r,c,s,a,l,AT),e.context=bT(null),n=e.current,i=Bt(),i=xm(i),r=Vi(i),r.callback=null,ki(n,r,i),n=i,e.current.lanes=n,rl(e,n),In(e),t[aa]=e.current,cp(t),new $u(e)};Ou.version="19.2.3";function RT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(RT)}catch(t){console.error(t)}}RT(),V0.exports=Ou;var iN=V0.exports;/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var z_="popstate";function rN(t={}){function e(i,r){let{pathname:s,search:a,hash:l}=i.location;return Uf("",{pathname:s,search:a,hash:l},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:Bo(r)}return aN(e,n,null,t)}function Ce(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Rn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sN(){return Math.random().toString(36).substring(2,10)}function B_(t,e){return{usr:t.state,key:t.key,idx:e}}function Uf(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?fa(e):e,state:n,key:e&&e.key||i||sN()}}function Bo({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function fa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function aN(t,e,n,i={}){let{window:r=document.defaultView,v5Compat:s=!1}=i,a=r.history,l="POP",c=null,h=f();h==null&&(h=0,a.replaceState({...a.state,idx:h},""));function f(){return(a.state||{idx:null}).idx}function g(){l="POP";let I=f(),b=I==null?null:I-h;h=I,c&&c({action:l,location:D.location,delta:b})}function p(I,b){l="PUSH";let v=Uf(D.location,I,b);h=f()+1;let w=B_(v,h),M=D.createHref(v);try{a.pushState(w,"",M)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;r.location.assign(M)}s&&c&&c({action:l,location:D.location,delta:1})}function y(I,b){l="REPLACE";let v=Uf(D.location,I,b);h=f();let w=B_(v,h),M=D.createHref(v);a.replaceState(w,"",M),s&&c&&c({action:l,location:D.location,delta:0})}function N(I){return oN(I)}let D={get action(){return l},get location(){return t(r,a)},listen(I){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(z_,g),c=I,()=>{r.removeEventListener(z_,g),c=null}},createHref(I){return e(r,I)},createURL:N,encodeLocation(I){let b=N(I);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:p,replace:y,go(I){return a.go(I)}};return D}function oN(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ce(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Bo(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function NT(t,e,n="/"){return lN(t,e,n,!1)}function lN(t,e,n,i){let r=typeof e=="string"?fa(e):e,s=ti(r.pathname||"/",n);if(s==null)return null;let a=CT(t);cN(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let h=EN(s);l=_N(a[c],h,i)}return l}function CT(t,e=[],n=[],i="",r=!1){let s=(a,l,c=r,h)=>{let f={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(i)&&c)return;Ce(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length)}let g=Qn([i,f.relativePath]),p=n.concat(f);a.children&&a.children.length>0&&(Ce(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),CT(a.children,e,p,g,c)),!(a.path==null&&!a.index)&&e.push({path:g,score:gN(g,a.index),routesMeta:p})};return t.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))s(a,l);else for(let h of IT(a.path))s(a,l,!0,h)}),e}function IT(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let a=IT(i.join("/")),l=[];return l.push(...a.map(c=>c===""?s:[s,c].join("/"))),r&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function cN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:yN(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var uN=/^:[\w-]+$/,hN=3,dN=2,fN=1,mN=10,pN=-2,q_=t=>t==="*";function gN(t,e){let n=t.split("/"),i=n.length;return n.some(q_)&&(i+=pN),e&&(i+=dN),n.filter(r=>!q_(r)).reduce((r,s)=>r+(uN.test(s)?hN:s===""?fN:mN),i)}function yN(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function _N(t,e,n=!1){let{routesMeta:i}=t,r={},s="/",a=[];for(let l=0;l<i.length;++l){let c=i[l],h=l===i.length-1,f=s==="/"?e:e.slice(s.length)||"/",g=hu({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},f),p=c.route;if(!g&&h&&n&&!i[i.length-1].route.index&&(g=hu({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!g)return null;Object.assign(r,g.params),a.push({params:r,pathname:Qn([s,g.pathname]),pathnameBase:wN(Qn([s,g.pathnameBase])),route:p}),g.pathnameBase!=="/"&&(s=Qn([s,g.pathnameBase]))}return a}function hu(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=vN(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],a=s.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:i.reduce((h,{paramName:f,isOptional:g},p)=>{if(f==="*"){let N=l[p]||"";a=s.slice(0,s.length-N.length).replace(/(.)\/+$/,"$1")}const y=l[p];return g&&!y?h[f]=void 0:h[f]=(y||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:a,pattern:t}}function vN(t,e=!1,n=!0){Rn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(i.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function EN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Rn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ti(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}var bN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function TN(t,e="/"){let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?fa(t):t,s;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?s=H_(n.substring(1),"/"):s=H_(n,e)):s=e,{pathname:s,search:SN(i),hash:AN(r)}}function H_(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Ad(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function xN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function DT(t){let e=xN(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function OT(t,e,n,i=!1){let r;typeof t=="string"?r=fa(t):(r={...t},Ce(!r.pathname||!r.pathname.includes("?"),Ad("?","pathname","search",r)),Ce(!r.pathname||!r.pathname.includes("#"),Ad("#","pathname","hash",r)),Ce(!r.search||!r.search.includes("#"),Ad("#","search","hash",r)));let s=t===""||r.pathname==="",a=s?"/":r.pathname,l;if(a==null)l=n;else{let g=e.length-1;if(!i&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),g-=1;r.pathname=p.join("/")}l=g>=0?e[g]:"/"}let c=TN(r,l),h=a&&a!=="/"&&a.endsWith("/"),f=(s||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(h||f)&&(c.pathname+="/"),c}var Qn=t=>t.join("/").replace(/\/\/+/g,"/"),wN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),SN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,AN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,RN=class{constructor(t,e,n,i=!1){this.status=t,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function NN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function CN(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var jT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function MT(t,e){let n=t;if(typeof n!="string"||!bN.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,r=!1;if(jT)try{let s=new URL(window.location.href),a=n.startsWith("//")?new URL(s.protocol+n):new URL(n),l=ti(a.pathname,e);a.origin===s.origin&&l!=null?n=l+a.search+a.hash:r=!0}catch{Rn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:r,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var VT=["POST","PUT","PATCH","DELETE"];new Set(VT);var IN=["GET",...VT];new Set(IN);var ma=j.createContext(null);ma.displayName="DataRouter";var Xu=j.createContext(null);Xu.displayName="DataRouterState";var DN=j.createContext(!1),kT=j.createContext({isTransitioning:!1});kT.displayName="ViewTransition";var ON=j.createContext(new Map);ON.displayName="Fetchers";var jN=j.createContext(null);jN.displayName="Await";var nn=j.createContext(null);nn.displayName="Navigation";var fl=j.createContext(null);fl.displayName="Location";var Dn=j.createContext({outlet:null,matches:[],isDataRoute:!1});Dn.displayName="Route";var gp=j.createContext(null);gp.displayName="RouteError";var LT="REACT_ROUTER_ERROR",MN="REDIRECT",VN="ROUTE_ERROR_RESPONSE";function kN(t){if(t.startsWith(`${LT}:${MN}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function LN(t){if(t.startsWith(`${LT}:${VN}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new RN(e.status,e.statusText,e.data)}catch{}}function PN(t,{relative:e}={}){Ce(ml(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=j.useContext(nn),{hash:r,pathname:s,search:a}=pl(t,{relative:e}),l=s;return n!=="/"&&(l=s==="/"?n:Qn([n,s])),i.createHref({pathname:l,search:a,hash:r})}function ml(){return j.useContext(fl)!=null}function lr(){return Ce(ml(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(fl).location}var PT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function UT(t){j.useContext(nn).static||j.useLayoutEffect(t)}function Wu(){let{isDataRoute:t}=j.useContext(Dn);return t?ZN():UN()}function UN(){Ce(ml(),"useNavigate() may be used only in the context of a <Router> component.");let t=j.useContext(ma),{basename:e,navigator:n}=j.useContext(nn),{matches:i}=j.useContext(Dn),{pathname:r}=lr(),s=JSON.stringify(DT(i)),a=j.useRef(!1);return UT(()=>{a.current=!0}),j.useCallback((c,h={})=>{if(Rn(a.current,PT),!a.current)return;if(typeof c=="number"){n.go(c);return}let f=OT(c,JSON.parse(s),r,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Qn([e,f.pathname])),(h.replace?n.replace:n.push)(f,h.state,h)},[e,n,s,r,t])}var zN=j.createContext(null);function BN(t){let e=j.useContext(Dn).outlet;return j.useMemo(()=>e&&j.createElement(zN.Provider,{value:t},e),[e,t])}function pl(t,{relative:e}={}){let{matches:n}=j.useContext(Dn),{pathname:i}=lr(),r=JSON.stringify(DT(n));return j.useMemo(()=>OT(t,JSON.parse(r),i,e==="path"),[t,r,i,e])}function qN(t,e){return zT(t,e)}function zT(t,e,n,i,r){var v;Ce(ml(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=j.useContext(nn),{matches:a}=j.useContext(Dn),l=a[a.length-1],c=l?l.params:{},h=l?l.pathname:"/",f=l?l.pathnameBase:"/",g=l&&l.route;{let w=g&&g.path||"";qT(h,!g||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let p=lr(),y;if(e){let w=typeof e=="string"?fa(e):e;Ce(f==="/"||((v=w.pathname)==null?void 0:v.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${w.pathname}" was given in the \`location\` prop.`),y=w}else y=p;let N=y.pathname||"/",D=N;if(f!=="/"){let w=f.replace(/^\//,"").split("/");D="/"+N.replace(/^\//,"").split("/").slice(w.length).join("/")}let I=NT(t,{pathname:D});Rn(g||I!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Rn(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=YN(I&&I.map(w=>Object.assign({},w,{params:Object.assign({},c,w.params),pathname:Qn([f,s.encodeLocation?s.encodeLocation(w.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?f:Qn([f,s.encodeLocation?s.encodeLocation(w.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathnameBase])})),a,n,i,r);return e&&b?j.createElement(fl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},b):b}function HN(){let t=JN(),e=NN(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:s},"ErrorBoundary")," or"," ",j.createElement("code",{style:s},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:r},n):null,a)}var FN=j.createElement(HN,null),BT=class extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=LN(t.digest);n&&(t=n)}let e=t!==void 0?j.createElement(Dn.Provider,{value:this.props.routeContext},j.createElement(gp.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?j.createElement(GN,{error:t},e):e}};BT.contextType=DN;var Rd=new WeakMap;function GN({children:t,error:e}){let{basename:n}=j.useContext(nn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=kN(e.digest);if(i){let r=Rd.get(e);if(r)throw r;let s=MT(i.location,n);if(jT&&!Rd.get(e))if(s.isExternal||i.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const a=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:i.replace}));throw Rd.set(e,a),a}return j.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return t}function KN({routeContext:t,match:e,children:n}){let i=j.useContext(ma);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(Dn.Provider,{value:t},n)}function YN(t,e=[],n=null,i=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=n==null?void 0:n.errors;if(a!=null){let f=s.findIndex(g=>g.route.id&&(a==null?void 0:a[g.route.id])!==void 0);Ce(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let l=!1,c=-1;if(n)for(let f=0;f<s.length;f++){let g=s[f];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(c=f),g.route.id){let{loaderData:p,errors:y}=n,N=g.route.loader&&!p.hasOwnProperty(g.route.id)&&(!y||y[g.route.id]===void 0);if(g.route.lazy||N){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}let h=n&&i?(f,g)=>{var p,y;i(f,{location:n.location,params:((y=(p=n.matches)==null?void 0:p[0])==null?void 0:y.params)??{},unstable_pattern:CN(n.matches),errorInfo:g})}:void 0;return s.reduceRight((f,g,p)=>{let y,N=!1,D=null,I=null;n&&(y=a&&g.route.id?a[g.route.id]:void 0,D=g.route.errorElement||FN,l&&(c<0&&p===0?(qT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,I=null):c===p&&(N=!0,I=g.route.hydrateFallbackElement||null)));let b=e.concat(s.slice(0,p+1)),v=()=>{let w;return y?w=D:N?w=I:g.route.Component?w=j.createElement(g.route.Component,null):g.route.element?w=g.route.element:w=f,j.createElement(KN,{match:g,routeContext:{outlet:f,matches:b,isDataRoute:n!=null},children:w})};return n&&(g.route.ErrorBoundary||g.route.errorElement||p===0)?j.createElement(BT,{location:n.location,revalidation:n.revalidation,component:D,error:y,children:v(),routeContext:{outlet:null,matches:b,isDataRoute:!0},onError:h}):v()},null)}function yp(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QN(t){let e=j.useContext(ma);return Ce(e,yp(t)),e}function $N(t){let e=j.useContext(Xu);return Ce(e,yp(t)),e}function XN(t){let e=j.useContext(Dn);return Ce(e,yp(t)),e}function _p(t){let e=XN(t),n=e.matches[e.matches.length-1];return Ce(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function WN(){return _p("useRouteId")}function JN(){var i;let t=j.useContext(gp),e=$N("useRouteError"),n=_p("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function ZN(){let{router:t}=QN("useNavigate"),e=_p("useNavigate"),n=j.useRef(!1);return UT(()=>{n.current=!0}),j.useCallback(async(r,s={})=>{Rn(n.current,PT),n.current&&(typeof r=="number"?await t.navigate(r):await t.navigate(r,{fromRouteId:e,...s}))},[t,e])}var F_={};function qT(t,e,n){!e&&!F_[t]&&(F_[t]=!0,Rn(!1,n))}j.memo(eC);function eC({routes:t,future:e,state:n,onError:i}){return zT(t,void 0,n,i,e)}function tC(t){return BN(t.context)}function Ue(t){Ce(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function nC({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:r,static:s=!1,unstable_useTransitions:a}){Ce(!ml(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=j.useMemo(()=>({basename:l,navigator:r,static:s,unstable_useTransitions:a,future:{}}),[l,r,s,a]);typeof n=="string"&&(n=fa(n));let{pathname:h="/",search:f="",hash:g="",state:p=null,key:y="default"}=n,N=j.useMemo(()=>{let D=ti(h,l);return D==null?null:{location:{pathname:D,search:f,hash:g,state:p,key:y},navigationType:i}},[l,h,f,g,p,y,i]);return Rn(N!=null,`<Router basename="${l}"> is not able to match the URL "${h}${f}${g}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:j.createElement(nn.Provider,{value:c},j.createElement(fl.Provider,{children:e,value:N}))}function G_({children:t,location:e}){return qN(zf(t),e)}function zf(t,e=[]){let n=[];return j.Children.forEach(t,(i,r)=>{if(!j.isValidElement(i))return;let s=[...e,r];if(i.type===j.Fragment){n.push.apply(n,zf(i.props.children,s));return}Ce(i.type===Ue,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ce(!i.props.index||!i.props.children,"An index route cannot have child routes.");let a={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=zf(i.props.children,s)),n.push(a)}),n}var wc="get",Sc="application/x-www-form-urlencoded";function Ju(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function iC(t){return Ju(t)&&t.tagName.toLowerCase()==="button"}function rC(t){return Ju(t)&&t.tagName.toLowerCase()==="form"}function sC(t){return Ju(t)&&t.tagName.toLowerCase()==="input"}function aC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function oC(t,e){return t.button===0&&(!e||e==="_self")&&!aC(t)}var nc=null;function lC(){if(nc===null)try{new FormData(document.createElement("form"),0),nc=!1}catch{nc=!0}return nc}var cC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Nd(t){return t!=null&&!cC.has(t)?(Rn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Sc}"`),null):t}function uC(t,e){let n,i,r,s,a;if(rC(t)){let l=t.getAttribute("action");i=l?ti(l,e):null,n=t.getAttribute("method")||wc,r=Nd(t.getAttribute("enctype"))||Sc,s=new FormData(t)}else if(iC(t)||sC(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(i=c?ti(c,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||wc,r=Nd(t.getAttribute("formenctype"))||Nd(l.getAttribute("enctype"))||Sc,s=new FormData(l,t),!lC()){let{name:h,type:f,value:g}=t;if(f==="image"){let p=h?`${h}.`:"";s.append(`${p}x`,"0"),s.append(`${p}y`,"0")}else h&&s.append(h,g)}}else{if(Ju(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=wc,i=null,r=Sc,a=t}return s&&r==="text/plain"&&(a=s,s=void 0),{action:i,method:n.toLowerCase(),encType:r,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function vp(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function hC(t,e,n,i){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?r.pathname.endsWith("/")?r.pathname=`${r.pathname}_.${i}`:r.pathname=`${r.pathname}.${i}`:r.pathname==="/"?r.pathname=`_root.${i}`:e&&ti(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${i}`,r}async function dC(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function fC(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function mC(t,e,n){let i=await Promise.all(t.map(async r=>{let s=e.routes[r.route.id];if(s){let a=await dC(s,n);return a.links?a.links():[]}return[]}));return _C(i.flat(1).filter(fC).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function K_(t,e,n,i,r,s){let a=(c,h)=>n[h]?c.route.id!==n[h].route.id:!0,l=(c,h)=>{var f;return n[h].pathname!==c.pathname||((f=n[h].route.path)==null?void 0:f.endsWith("*"))&&n[h].params["*"]!==c.params["*"]};return s==="assets"?e.filter((c,h)=>a(c,h)||l(c,h)):s==="data"?e.filter((c,h)=>{var g;let f=i.routes[c.route.id];if(!f||!f.hasLoader)return!1;if(a(c,h)||l(c,h))return!0;if(c.route.shouldRevalidate){let p=c.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function pC(t,e,{includeHydrateFallback:n}={}){return gC(t.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function gC(t){return[...new Set(t)]}function yC(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function _C(t,e){let n=new Set;return new Set(e),t.reduce((i,r)=>{let s=JSON.stringify(yC(r));return n.has(s)||(n.add(s),i.push({key:s,link:r})),i},[])}function HT(){let t=j.useContext(ma);return vp(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function vC(){let t=j.useContext(Xu);return vp(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Ep=j.createContext(void 0);Ep.displayName="FrameworkContext";function FT(){let t=j.useContext(Ep);return vp(t,"You must render this element inside a <HydratedRouter> element"),t}function EC(t,e){let n=j.useContext(Ep),[i,r]=j.useState(!1),[s,a]=j.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:h,onMouseLeave:f,onTouchStart:g}=e,p=j.useRef(null);j.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let D=b=>{b.forEach(v=>{a(v.isIntersecting)})},I=new IntersectionObserver(D,{threshold:.5});return p.current&&I.observe(p.current),()=>{I.disconnect()}}},[t]),j.useEffect(()=>{if(i){let D=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(D)}}},[i]);let y=()=>{r(!0)},N=()=>{r(!1),a(!1)};return n?t!=="intent"?[s,p,{}]:[s,p,{onFocus:Ya(l,y),onBlur:Ya(c,N),onMouseEnter:Ya(h,y),onMouseLeave:Ya(f,N),onTouchStart:Ya(g,y)}]:[!1,p,{}]}function Ya(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function bC({page:t,...e}){let{router:n}=HT(),i=j.useMemo(()=>NT(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?j.createElement(xC,{page:t,matches:i,...e}):null}function TC(t){let{manifest:e,routeModules:n}=FT(),[i,r]=j.useState([]);return j.useEffect(()=>{let s=!1;return mC(t,e,n).then(a=>{s||r(a)}),()=>{s=!0}},[t,e,n]),i}function xC({page:t,matches:e,...n}){let i=lr(),{future:r,manifest:s,routeModules:a}=FT(),{basename:l}=HT(),{loaderData:c,matches:h}=vC(),f=j.useMemo(()=>K_(t,e,h,s,i,"data"),[t,e,h,s,i]),g=j.useMemo(()=>K_(t,e,h,s,i,"assets"),[t,e,h,s,i]),p=j.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let D=new Set,I=!1;if(e.forEach(v=>{var M;let w=s.routes[v.route.id];!w||!w.hasLoader||(!f.some(U=>U.route.id===v.route.id)&&v.route.id in c&&((M=a[v.route.id])!=null&&M.shouldRevalidate)||w.hasClientLoader?I=!0:D.add(v.route.id))}),D.size===0)return[];let b=hC(t,l,r.unstable_trailingSlashAwareDataRequests,"data");return I&&D.size>0&&b.searchParams.set("_routes",e.filter(v=>D.has(v.route.id)).map(v=>v.route.id).join(",")),[b.pathname+b.search]},[l,r.unstable_trailingSlashAwareDataRequests,c,i,s,f,e,t,a]),y=j.useMemo(()=>pC(g,s),[g,s]),N=TC(g);return j.createElement(j.Fragment,null,p.map(D=>j.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...n})),y.map(D=>j.createElement("link",{key:D,rel:"modulepreload",href:D,...n})),N.map(({key:D,link:I})=>j.createElement("link",{key:D,nonce:n.nonce,...I,crossOrigin:I.crossOrigin??n.crossOrigin})))}function wC(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var SC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{SC&&(window.__reactRouterVersion="7.13.0")}catch{}function AC({basename:t,children:e,unstable_useTransitions:n,window:i}){let r=j.useRef();r.current==null&&(r.current=rN({window:i,v5Compat:!0}));let s=r.current,[a,l]=j.useState({action:s.action,location:s.location}),c=j.useCallback(h=>{n===!1?l(h):j.startTransition(()=>l(h))},[n]);return j.useLayoutEffect(()=>s.listen(c),[s,c]),j.createElement(nC,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:s,unstable_useTransitions:n})}var GT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qe=j.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:r,reloadDocument:s,replace:a,state:l,target:c,to:h,preventScrollReset:f,viewTransition:g,unstable_defaultShouldRevalidate:p,...y},N){let{basename:D,unstable_useTransitions:I}=j.useContext(nn),b=typeof h=="string"&&GT.test(h),v=MT(h,D);h=v.to;let w=PN(h,{relative:r}),[M,U,F]=EC(i,y),T=CC(h,{replace:a,state:l,target:c,preventScrollReset:f,relative:r,viewTransition:g,unstable_defaultShouldRevalidate:p,unstable_useTransitions:I});function E(A){e&&e(A),A.defaultPrevented||T(A)}let x=j.createElement("a",{...y,...F,href:v.absoluteURL||w,onClick:v.isExternal||s?e:E,ref:wC(N,U),target:c,"data-discover":!b&&n==="render"?"true":void 0});return M&&!b?j.createElement(j.Fragment,null,x,j.createElement(bC,{page:w})):x});Qe.displayName="Link";var Un=j.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:r=!1,style:s,to:a,viewTransition:l,children:c,...h},f){let g=pl(a,{relative:h.relative}),p=lr(),y=j.useContext(Xu),{navigator:N,basename:D}=j.useContext(nn),I=y!=null&&MC(g)&&l===!0,b=N.encodeLocation?N.encodeLocation(g).pathname:g.pathname,v=p.pathname,w=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(v=v.toLowerCase(),w=w?w.toLowerCase():null,b=b.toLowerCase()),w&&D&&(w=ti(w,D)||w);const M=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let U=v===b||!r&&v.startsWith(b)&&v.charAt(M)==="/",F=w!=null&&(w===b||!r&&w.startsWith(b)&&w.charAt(b.length)==="/"),T={isActive:U,isPending:F,isTransitioning:I},E=U?e:void 0,x;typeof i=="function"?x=i(T):x=[i,U?"active":null,F?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let A=typeof s=="function"?s(T):s;return j.createElement(Qe,{...h,"aria-current":E,className:x,ref:f,style:A,to:a,viewTransition:l},typeof c=="function"?c(T):c)});Un.displayName="NavLink";var RC=j.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:r,state:s,method:a=wc,action:l,onSubmit:c,relative:h,preventScrollReset:f,viewTransition:g,unstable_defaultShouldRevalidate:p,...y},N)=>{let{unstable_useTransitions:D}=j.useContext(nn),I=OC(),b=jC(l,{relative:h}),v=a.toLowerCase()==="get"?"get":"post",w=typeof l=="string"&&GT.test(l),M=U=>{if(c&&c(U),U.defaultPrevented)return;U.preventDefault();let F=U.nativeEvent.submitter,T=(F==null?void 0:F.getAttribute("formmethod"))||a,E=()=>I(F||U.currentTarget,{fetcherKey:e,method:T,navigate:n,replace:r,state:s,relative:h,preventScrollReset:f,viewTransition:g,unstable_defaultShouldRevalidate:p});D&&n!==!1?j.startTransition(()=>E()):E()};return j.createElement("form",{ref:N,method:v,action:b,onSubmit:i?c:M,...y,"data-discover":!w&&t==="render"?"true":void 0})});RC.displayName="Form";function NC(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KT(t){let e=j.useContext(ma);return Ce(e,NC(t)),e}function CC(t,{target:e,replace:n,state:i,preventScrollReset:r,relative:s,viewTransition:a,unstable_defaultShouldRevalidate:l,unstable_useTransitions:c}={}){let h=Wu(),f=lr(),g=pl(t,{relative:s});return j.useCallback(p=>{if(oC(p,e)){p.preventDefault();let y=n!==void 0?n:Bo(f)===Bo(g),N=()=>h(t,{replace:y,state:i,preventScrollReset:r,relative:s,viewTransition:a,unstable_defaultShouldRevalidate:l});c?j.startTransition(()=>N()):N()}},[f,h,g,n,i,e,t,r,s,a,l,c])}var IC=0,DC=()=>`__${String(++IC)}__`;function OC(){let{router:t}=KT("useSubmit"),{basename:e}=j.useContext(nn),n=WN(),i=t.fetch,r=t.navigate;return j.useCallback(async(s,a={})=>{let{action:l,method:c,encType:h,formData:f,body:g}=uC(s,e);if(a.navigate===!1){let p=a.fetcherKey||DC();await i(p,n,a.action||l,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:f,body:g,formMethod:a.method||c,formEncType:a.encType||h,flushSync:a.flushSync})}else await r(a.action||l,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:f,body:g,formMethod:a.method||c,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[i,r,e,n])}function jC(t,{relative:e}={}){let{basename:n}=j.useContext(nn),i=j.useContext(Dn);Ce(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),s={...pl(t||".",{relative:e})},a=lr();if(t==null){s.search=a.search;let l=new URLSearchParams(s.search),c=l.getAll("index");if(c.some(f=>f==="")){l.delete("index"),c.filter(g=>g).forEach(g=>l.append("index",g));let f=l.toString();s.search=f?`?${f}`:""}}return(!t||t===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Qn([n,s.pathname])),Bo(s)}function MC(t,{relative:e}={}){let n=j.useContext(kT);Ce(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=KT("useViewTransitionState"),r=pl(t,{relative:e});if(!n.isTransitioning)return!1;let s=ti(n.currentLocation.pathname,i)||n.currentLocation.pathname,a=ti(n.nextLocation.pathname,i)||n.nextLocation.pathname;return hu(r.pathname,a)!=null||hu(r.pathname,s)!=null}const YT=j.createContext(),gl=()=>j.useContext(YT),VC=({children:t})=>{const[e,n]=j.useState(()=>{try{const h=localStorage.getItem("ambrosia_cart");return h?JSON.parse(h):[]}catch(h){return console.error("Failed to parse cart data:",h),[]}});j.useEffect(()=>{localStorage.setItem("ambrosia_cart",JSON.stringify(e))},[e]);const i=h=>{n(f=>{const g=f.find(p=>p.id===h.id);return g?g.quantity>=50?f:f.map(p=>p.id===h.id?{...p,quantity:p.quantity+1}:p):[...f,{...h,quantity:1}]})},r=h=>{n(f=>f.filter(g=>g.id!==h))},s=(h,f)=>{if(f<1){r(h);return}f>50||n(g=>g.map(p=>p.id===h?{...p,quantity:f}:p))},a=()=>n([]),l=e.reduce((h,f)=>h+f.price*f.quantity,0),c=e.reduce((h,f)=>h+f.quantity,0);return u.jsx(YT.Provider,{value:{cartItems:e,addToCart:i,removeFromCart:r,updateQuantity:s,clearCart:a,cartTotal:l,cartCount:c},children:t})},kC=()=>{};var Y_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},LC=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=t[n++],a=t[n++],l=t[n++],c=((r&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],a=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|a&63)}}return e.join("")},$T={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const s=t[r],a=r+1<t.length,l=a?t[r+1]:0,c=r+2<t.length,h=c?t[r+2]:0,f=s>>2,g=(s&3)<<4|l>>4;let p=(l&15)<<2|h>>6,y=h&63;c||(y=64,a||(p=64)),i.push(n[f],n[g],n[p],n[y])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(QT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):LC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const s=n[t.charAt(r++)],l=r<t.length?n[t.charAt(r)]:0;++r;const h=r<t.length?n[t.charAt(r)]:64;++r;const g=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||l==null||h==null||g==null)throw new PC;const p=s<<2|l>>4;if(i.push(p),h!==64){const y=l<<4&240|h>>2;if(i.push(y),g!==64){const N=h<<6&192|g;i.push(N)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class PC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const UC=function(t){const e=QT(t);return $T.encodeByteArray(e,!0)},du=function(t){return UC(t).replace(/\./g,"")},XT=function(t){try{return $T.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC=()=>zC().__FIREBASE_DEFAULTS__,qC=()=>{if(typeof process>"u"||typeof Y_>"u")return;const t=Y_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},HC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&XT(t[1]);return e&&JSON.parse(e)},Zu=()=>{try{return kC()||BC()||qC()||HC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},WT=t=>{var e,n;return(n=(e=Zu())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},FC=t=>{const e=WT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},JT=()=>{var t;return(t=Zu())==null?void 0:t.config},ZT=t=>{var e;return(e=Zu())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pa(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ex(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[du(JSON.stringify(n)),du(JSON.stringify(a)),""].join(".")}const bo={};function YC(){const t={prod:[],emulator:[]};for(const e of Object.keys(bo))bo[e]?t.emulator.push(e):t.prod.push(e);return t}function QC(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Q_=!1;function tx(t,e){if(typeof window>"u"||typeof document>"u"||!pa(window.location.host)||bo[t]===e||bo[t]||Q_)return;bo[t]=e;function n(p){return`__firebase__banner__${p}`}const i="__firebase__banner",s=YC().prod.length>0;function a(){const p=document.getElementById(i);p&&p.remove()}function l(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function c(p,y){p.setAttribute("width","24"),p.setAttribute("id",y),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function h(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{Q_=!0,a()},p}function f(p,y){p.setAttribute("id",y),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function g(){const p=QC(i),y=n("text"),N=document.getElementById(y)||document.createElement("span"),D=n("learnmore"),I=document.getElementById(D)||document.createElement("a"),b=n("preprendIcon"),v=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const w=p.element;l(w),f(I,D);const M=h();c(v,b),w.append(v,N,I,M),document.body.appendChild(w)}s?(N.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $C(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yt())}function XC(){var e;const t=(e=Zu())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function WC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function JC(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ZC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function e2(){const t=yt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function t2(){return!XC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function n2(){try{return typeof indexedDB=="object"}catch{return!1}}function i2(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2="FirebaseError";class oi extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=r2,Object.setPrototypeOf(this,oi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yl.prototype.create)}}class yl{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],a=s?s2(s,i):"Error",l=`${this.serviceName}: ${a} (${r}).`;return new oi(r,l,i)}}function s2(t,e){return t.replace(a2,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const a2=/\{\$([^}]+)}/g;function o2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Pr(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const s=t[r],a=e[r];if($_(s)&&$_(a)){if(!Pr(s,a))return!1}else if(s!==a)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function $_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _l(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function eo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function to(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function l2(t,e){const n=new c2(t,e);return n.subscribe.bind(n)}class c2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");u2(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=Cd),r.error===void 0&&(r.error=Cd),r.complete===void 0&&(r.complete=Cd);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function u2(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Cd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Je(t){return t&&t._delegate?t._delegate:t}class Ur{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new GC;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(f2(e))try{this.getOrInitializeService({instanceIdentifier:Sr})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=Sr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Sr){return this.instances.has(e)}getOptions(e=Sr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);i===l&&a.resolve(r)}return r}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),r=this.onInitCallbacks.get(i)??new Set;r.add(e),this.onInitCallbacks.set(i,r);const s=this.instances.get(i);return s&&e(s,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:d2(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Sr){return this.component?this.component.multipleInstances?e:Sr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function d2(t){return t===Sr?void 0:t}function f2(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new h2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var re;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(re||(re={}));const p2={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},g2=re.INFO,y2={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},_2=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=y2[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class bp{constructor(e){this.name=e,this._logLevel=g2,this._logHandler=_2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?p2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...e),this._logHandler(this,re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...e),this._logHandler(this,re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,re.INFO,...e),this._logHandler(this,re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,re.WARN,...e),this._logHandler(this,re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...e),this._logHandler(this,re.ERROR,...e)}}const v2=(t,e)=>e.some(n=>t instanceof n);let X_,W_;function E2(){return X_||(X_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function b2(){return W_||(W_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nx=new WeakMap,Bf=new WeakMap,ix=new WeakMap,Id=new WeakMap,Tp=new WeakMap;function T2(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(qi(t.result)),r()},a=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&nx.set(n,t)}).catch(()=>{}),Tp.set(e,t),e}function x2(t){if(Bf.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),r()},a=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});Bf.set(t,e)}let qf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Bf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ix.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function w2(t){qf=t(qf)}function S2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Dd(this),e,...n);return ix.set(i,e.sort?e.sort():[e]),qi(i)}:b2().includes(t)?function(...e){return t.apply(Dd(this),e),qi(nx.get(this))}:function(...e){return qi(t.apply(Dd(this),e))}}function A2(t){return typeof t=="function"?S2(t):(t instanceof IDBTransaction&&x2(t),v2(t,E2())?new Proxy(t,qf):t)}function qi(t){if(t instanceof IDBRequest)return T2(t);if(Id.has(t))return Id.get(t);const e=A2(t);return e!==t&&(Id.set(t,e),Tp.set(e,t)),e}const Dd=t=>Tp.get(t);function R2(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const a=indexedDB.open(t,e),l=qi(a);return i&&a.addEventListener("upgradeneeded",c=>{i(qi(a.result),c.oldVersion,c.newVersion,qi(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{s&&c.addEventListener("close",()=>s()),r&&c.addEventListener("versionchange",h=>r(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const N2=["get","getKey","getAll","getAllKeys","count"],C2=["put","add","delete","clear"],Od=new Map;function J_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Od.get(e))return Od.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=C2.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||N2.includes(n)))return;const s=async function(a,...l){const c=this.transaction(a,r?"readwrite":"readonly");let h=c.store;return i&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),r&&c.done]))[0]};return Od.set(e,s),s}w2(t=>({...t,get:(e,n,i)=>J_(e,n)||t.get(e,n,i),has:(e,n)=>!!J_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(D2(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function D2(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Hf="@firebase/app",Z_="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ni=new bp("@firebase/app"),O2="@firebase/app-compat",j2="@firebase/analytics-compat",M2="@firebase/analytics",V2="@firebase/app-check-compat",k2="@firebase/app-check",L2="@firebase/auth",P2="@firebase/auth-compat",U2="@firebase/database",z2="@firebase/data-connect",B2="@firebase/database-compat",q2="@firebase/functions",H2="@firebase/functions-compat",F2="@firebase/installations",G2="@firebase/installations-compat",K2="@firebase/messaging",Y2="@firebase/messaging-compat",Q2="@firebase/performance",$2="@firebase/performance-compat",X2="@firebase/remote-config",W2="@firebase/remote-config-compat",J2="@firebase/storage",Z2="@firebase/storage-compat",eI="@firebase/firestore",tI="@firebase/ai",nI="@firebase/firestore-compat",iI="firebase",rI="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ff="[DEFAULT]",sI={[Hf]:"fire-core",[O2]:"fire-core-compat",[M2]:"fire-analytics",[j2]:"fire-analytics-compat",[k2]:"fire-app-check",[V2]:"fire-app-check-compat",[L2]:"fire-auth",[P2]:"fire-auth-compat",[U2]:"fire-rtdb",[z2]:"fire-data-connect",[B2]:"fire-rtdb-compat",[q2]:"fire-fn",[H2]:"fire-fn-compat",[F2]:"fire-iid",[G2]:"fire-iid-compat",[K2]:"fire-fcm",[Y2]:"fire-fcm-compat",[Q2]:"fire-perf",[$2]:"fire-perf-compat",[X2]:"fire-rc",[W2]:"fire-rc-compat",[J2]:"fire-gcs",[Z2]:"fire-gcs-compat",[eI]:"fire-fst",[nI]:"fire-fst-compat",[tI]:"fire-vertex","fire-js":"fire-js",[iI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fu=new Map,aI=new Map,Gf=new Map;function ev(t,e){try{t.container.addComponent(e)}catch(n){ni.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function $s(t){const e=t.name;if(Gf.has(e))return ni.debug(`There were multiple attempts to register component ${e}.`),!1;Gf.set(e,t);for(const n of fu.values())ev(n,t);for(const n of aI.values())ev(n,t);return!0}function xp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function on(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hi=new yl("app","Firebase",oI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ur("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga=rI;function rx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:Ff,automaticDataCollectionEnabled:!0,...e},r=i.name;if(typeof r!="string"||!r)throw Hi.create("bad-app-name",{appName:String(r)});if(n||(n=JT()),!n)throw Hi.create("no-options");const s=fu.get(r);if(s){if(Pr(n,s.options)&&Pr(i,s.config))return s;throw Hi.create("duplicate-app",{appName:r})}const a=new m2(r);for(const c of Gf.values())a.addComponent(c);const l=new lI(n,i,a);return fu.set(r,l),l}function sx(t=Ff){const e=fu.get(t);if(!e&&t===Ff&&JT())return rx();if(!e)throw Hi.create("no-app",{appName:t});return e}function Fi(t,e,n){let i=sI[t]??t;n&&(i+=`-${n}`);const r=i.match(/\s|\//),s=e.match(/\s|\//);if(r||s){const a=[`Unable to register library "${i}" with version "${e}":`];r&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ni.warn(a.join(" "));return}$s(new Ur(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI="firebase-heartbeat-database",uI=1,qo="firebase-heartbeat-store";let jd=null;function ax(){return jd||(jd=R2(cI,uI,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(qo)}catch(n){console.warn(n)}}}}).catch(t=>{throw Hi.create("idb-open",{originalErrorMessage:t.message})})),jd}async function hI(t){try{const n=(await ax()).transaction(qo),i=await n.objectStore(qo).get(ox(t));return await n.done,i}catch(e){if(e instanceof oi)ni.warn(e.message);else{const n=Hi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ni.warn(n.message)}}}async function tv(t,e){try{const i=(await ax()).transaction(qo,"readwrite");await i.objectStore(qo).put(e,ox(t)),await i.done}catch(n){if(n instanceof oi)ni.warn(n.message);else{const i=Hi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ni.warn(i.message)}}}function ox(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI=1024,fI=30;class mI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new gI(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=nv();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>fI){const a=yI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){ni.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=nv(),{heartbeatsToSend:i,unsentEntries:r}=pI(this._heartbeatsCache.heartbeats),s=du(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return ni.warn(n),""}}}function nv(){return new Date().toISOString().substring(0,10)}function pI(t,e=dI){const n=[];let i=t.slice();for(const r of t){const s=n.find(a=>a.agent===r.agent);if(s){if(s.dates.push(r.date),iv(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),iv(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class gI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return n2()?i2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await hI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return tv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return tv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function iv(t){return du(JSON.stringify({version:2,heartbeats:t})).length}function yI(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(t){$s(new Ur("platform-logger",e=>new I2(e),"PRIVATE")),$s(new Ur("heartbeat",e=>new mI(e),"PRIVATE")),Fi(Hf,Z_,t),Fi(Hf,Z_,"esm2020"),Fi("fire-js","")}_I("");var vI="firebase",EI="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fi(vI,EI,"app");function lx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const bI=lx,cx=new yl("auth","Firebase",lx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mu=new bp("@firebase/auth");function TI(t,...e){mu.logLevel<=re.WARN&&mu.warn(`Auth (${ga}): ${t}`,...e)}function Ac(t,...e){mu.logLevel<=re.ERROR&&mu.error(`Auth (${ga}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(t,...e){throw wp(t,...e)}function bn(t,...e){return wp(t,...e)}function ux(t,e,n){const i={...bI(),[e]:n};return new yl("auth","Firebase",i).create(e,{appName:t.name})}function Gi(t){return ux(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wp(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return cx.create(t,...e)}function K(t,e,...n){if(!t)throw wp(e,...n)}function Hn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ac(e),new Error(e)}function ii(t,e){t||Hn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kf(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function xI(){return rv()==="http:"||rv()==="https:"}function rv(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xI()||JC()||"connection"in navigator)?navigator.onLine:!0}function SI(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e,n){this.shortDelay=e,this.longDelay=n,ii(n>e,"Short delay should be less than long delay!"),this.isMobile=$C()||ZC()}get(){return wI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sp(t,e){ii(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],NI=new vl(3e4,6e4);function $r(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function cr(t,e,n,i,r={}){return dx(t,r,async()=>{let s={},a={};i&&(e==="GET"?a=i:s={body:JSON.stringify(i)});const l=_l({key:t.config.apiKey,...a}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:c,...s};return WC()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&pa(t.emulatorConfig.host)&&(h.credentials="include"),hx.fetch()(await fx(t,t.config.apiHost,n,l),h)})}async function dx(t,e,n){t._canInitEmulator=!1;const i={...AI,...e};try{const r=new II(t),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw ic(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const l=s.ok?a.errorMessage:a.error.message,[c,h]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw ic(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw ic(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw ic(t,"user-disabled",a);const f=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw ux(t,f,h);hn(t,f)}}catch(r){if(r instanceof oi)throw r;hn(t,"network-request-failed",{message:String(r)})}}async function eh(t,e,n,i,r={}){const s=await cr(t,e,n,i,r);return"mfaPendingCredential"in s&&hn(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function fx(t,e,n,i){const r=`${e}${n}?${i}`,s=t,a=s.config.emulator?Sp(t.config,r):`${t.config.apiScheme}://${r}`;return RI.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function CI(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class II{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(bn(this.auth,"network-request-failed")),NI.get())})}}function ic(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=bn(t,e,i);return r.customData._tokenResponse=n,r}function sv(t){return t!==void 0&&t.enterprise!==void 0}class DI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return CI(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function OI(t,e){return cr(t,"GET","/v2/recaptchaConfig",$r(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jI(t,e){return cr(t,"POST","/v1/accounts:delete",e)}async function pu(t,e){return cr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function To(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function MI(t,e=!1){const n=Je(t),i=await n.getIdToken(e),r=Ap(i);K(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:To(Md(r.auth_time)),issuedAtTime:To(Md(r.iat)),expirationTime:To(Md(r.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Md(t){return Number(t)*1e3}function Ap(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Ac("JWT malformed, contained fewer than 3 sections"),null;try{const r=XT(n);return r?JSON.parse(r):(Ac("Failed to decode base64 JWT payload"),null)}catch(r){return Ac("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function av(t){const e=Ap(t);return K(e,"internal-error"),K(typeof e.exp<"u","internal-error"),K(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ho(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof oi&&VI(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function VI({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=To(this.lastLoginAt),this.creationTime=To(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gu(t){var g;const e=t.auth,n=await t.getIdToken(),i=await Ho(t,pu(e,{idToken:n}));K(i==null?void 0:i.users.length,e,"internal-error");const r=i.users[0];t._notifyReloadListener(r);const s=(g=r.providerUserInfo)!=null&&g.length?mx(r.providerUserInfo):[],a=PI(t.providerData,s),l=t.isAnonymous,c=!(t.email&&r.passwordHash)&&!(a!=null&&a.length),h=l?c:!1,f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new Yf(r.createdAt,r.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function LI(t){const e=Je(t);await gu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function PI(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function mx(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UI(t,e){const n=await dx(t,{},async()=>{const i=_l({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,a=await fx(t,r,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:i};return t.emulatorConfig&&pa(t.emulatorConfig.host)&&(c.credentials="include"),hx.fetch()(a,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function zI(t,e){return cr(t,"POST","/v2/accounts:revokeToken",$r(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){K(e.idToken,"internal-error"),K(typeof e.idToken<"u","internal-error"),K(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):av(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){K(e.length!==0,"internal-error");const n=av(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(K(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await UI(e,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,a=new Os;return i&&(K(typeof i=="string","internal-error",{appName:e}),a.refreshToken=i),r&&(K(typeof r=="string","internal-error",{appName:e}),a.accessToken=r),s&&(K(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Os,this.toJSON())}_performRefresh(){return Hn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(t,e){K(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ln{constructor({uid:e,auth:n,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new kI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Yf(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await Ho(this,this.stsTokenManager.getToken(this.auth,e));return K(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return MI(this,e)}reload(){return LI(this)}_assign(e){this!==e&&(K(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ln({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await gu(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(on(this.auth.app))return Promise.reject(Gi(this.auth));const e=await this.getIdToken();return await Ho(this,jI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,r=n.email??void 0,s=n.phoneNumber??void 0,a=n.photoURL??void 0,l=n.tenantId??void 0,c=n._redirectEventId??void 0,h=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:g,emailVerified:p,isAnonymous:y,providerData:N,stsTokenManager:D}=n;K(g&&D,e,"internal-error");const I=Os.fromJSON(this.name,D);K(typeof g=="string",e,"internal-error"),gi(i,e.name),gi(r,e.name),K(typeof p=="boolean",e,"internal-error"),K(typeof y=="boolean",e,"internal-error"),gi(s,e.name),gi(a,e.name),gi(l,e.name),gi(c,e.name),gi(h,e.name),gi(f,e.name);const b=new ln({uid:g,auth:e,email:r,emailVerified:p,displayName:i,isAnonymous:y,photoURL:a,phoneNumber:s,tenantId:l,stsTokenManager:I,createdAt:h,lastLoginAt:f});return N&&Array.isArray(N)&&(b.providerData=N.map(v=>({...v}))),c&&(b._redirectEventId=c),b}static async _fromIdTokenResponse(e,n,i=!1){const r=new Os;r.updateFromServerResponse(n);const s=new ln({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await gu(s),s}static async _fromGetAccountInfoResponse(e,n,i){const r=n.users[0];K(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?mx(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),l=new Os;l.updateFromIdToken(i);const c=new ln({uid:r.localId,auth:e,stsTokenManager:l,isAnonymous:a}),h={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new Yf(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,h),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov=new Map;function Fn(t){ii(t instanceof Function,"Expected a class definition");let e=ov.get(t);return e?(ii(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ov.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}px.type="NONE";const lv=px;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rc(t,e,n){return`firebase:${t}:${e}:${n}`}class js{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=Rc(this.userKey,r.apiKey,s),this.fullPersistenceKey=Rc("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await pu(this.auth,{idToken:e}).catch(()=>{});return n?ln._fromGetAccountInfoResponse(this.auth,n,e):null}return ln._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new js(Fn(lv),e,i);const r=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=r[0]||Fn(lv);const a=Rc(i,e.config.apiKey,e.name);let l=null;for(const h of n)try{const f=await h._get(a);if(f){let g;if(typeof f=="string"){const p=await pu(e,{idToken:f}).catch(()=>{});if(!p)break;g=await ln._fromGetAccountInfoResponse(e,p,f)}else g=ln._fromJSON(e,f);h!==s&&(l=g),s=h;break}}catch{}const c=r.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new js(s,e,i):(s=c[0],l&&await s._set(a,l.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(a)}catch{}})),new js(s,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(gx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(bx(e))return"Blackberry";if(Tx(e))return"Webos";if(yx(e))return"Safari";if((e.includes("chrome/")||_x(e))&&!e.includes("edge/"))return"Chrome";if(Ex(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function gx(t=yt()){return/firefox\//i.test(t)}function yx(t=yt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _x(t=yt()){return/crios\//i.test(t)}function vx(t=yt()){return/iemobile/i.test(t)}function Ex(t=yt()){return/android/i.test(t)}function bx(t=yt()){return/blackberry/i.test(t)}function Tx(t=yt()){return/webos/i.test(t)}function Rp(t=yt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function BI(t=yt()){var e;return Rp(t)&&!!((e=window.navigator)!=null&&e.standalone)}function qI(){return e2()&&document.documentMode===10}function xx(t=yt()){return Rp(t)||Ex(t)||Tx(t)||bx(t)||/windows phone/i.test(t)||vx(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wx(t,e=[]){let n;switch(t){case"Browser":n=cv(yt());break;case"Worker":n=`${cv(yt())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ga}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=s=>new Promise((a,l)=>{try{const c=e(s);a(c)}catch(c){l(c)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FI(t,e={}){return cr(t,"GET","/v2/passwordPolicy",$r(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI=6;class KI{constructor(e){var i;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??GI,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uv(this),this.idTokenSubscription=new uv(this),this.beforeStateQueue=new HI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Fn(n)),this._initializationPromise=this.queue(async()=>{var i,r,s;if(!this._deleted&&(this.persistenceManager=await js.create(this,e),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((r=this._popupRedirectResolver)!=null&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await pu(this,{idToken:e}),i=await ln._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(on(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(s=this.redirectUser)==null?void 0:s._redirectEventId,l=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===l)&&(c!=null&&c.user)&&(i=c.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return K(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await gu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=SI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(on(this.app))return Promise.reject(Gi(this));const n=e?Je(e):null;return n&&K(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&K(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return on(this.app)?Promise.reject(Gi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return on(this.app)?Promise.reject(Gi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await FI(this),n=new KI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new yl("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await zI(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Fn(e)||this._popupRedirectResolver;K(n,this,"argument-error"),this.redirectPersistenceManager=await js.create(this,[Fn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(K(l,this,"internal-error"),l.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,i,r);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var r;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((r=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var n;if(on(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&TI(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function ya(t){return Je(t)}class uv{constructor(e){this.auth=e,this.observer=null,this.addObserver=l2(n=>this.observer=n)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let th={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function QI(t){th=t}function Sx(t){return th.loadJS(t)}function $I(){return th.recaptchaEnterpriseScript}function XI(){return th.gapiScript}function WI(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class JI{constructor(){this.enterprise=new ZI}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class ZI{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const eD="recaptcha-enterprise",Ax="NO_RECAPTCHA";class tD{constructor(e){this.type=eD,this.auth=ya(e)}async verify(e="verify",n=!1){async function i(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,l)=>{OI(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const h=new DI(c);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,a(h.siteKey)}}).catch(c=>{l(c)})})}function r(s,a,l){const c=window.grecaptcha;sv(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(h=>{a(h)}).catch(()=>{a(Ax)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new JI().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{i(this.auth).then(l=>{if(!n&&sv(window.grecaptcha))r(l,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=$I();c.length!==0&&(c+=l),Sx(c).then(()=>{r(l,s,a)}).catch(h=>{a(h)})}}).catch(l=>{a(l)})})}}async function hv(t,e,n,i=!1,r=!1){const s=new tD(t);let a;if(r)a=Ax;else try{a=await s.verify(n)}catch{a=await s.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,h=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:h,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return i?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function dv(t,e,n,i,r){var s;if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await hv(t,e,n,n==="getOobCode");return i(t,a)}else return i(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await hv(t,e,n,n==="getOobCode");return i(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(t,e){const n=xp(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(Pr(s,e??{}))return r;hn(r,"already-initialized")}return n.initialize({options:e})}function iD(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Fn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function rD(t,e,n){const i=ya(t);K(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,s=Rx(e),{host:a,port:l}=sD(e),c=l===null?"":`:${l}`,h={url:`${s}//${a}${c}/`},f=Object.freeze({host:a,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){K(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),K(Pr(h,i.config.emulator)&&Pr(f,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=h,i.emulatorConfig=f,i.settings.appVerificationDisabledForTesting=!0,pa(a)?(ex(`${s}//${a}${c}`),tx("Auth",!0)):aD()}function Rx(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function sD(t){const e=Rx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:fv(i.substr(s.length+1))}}else{const[s,a]=i.split(":");return{host:s,port:fv(a)}}}function fv(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function aD(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Hn("not implemented")}_getIdTokenResponse(e){return Hn("not implemented")}_linkToIdToken(e,n){return Hn("not implemented")}_getReauthenticationResolver(e){return Hn("not implemented")}}async function oD(t,e){return cr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lD(t,e){return eh(t,"POST","/v1/accounts:signInWithPassword",$r(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cD(t,e){return eh(t,"POST","/v1/accounts:signInWithEmailLink",$r(t,e))}async function uD(t,e){return eh(t,"POST","/v1/accounts:signInWithEmailLink",$r(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo extends Np{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new Fo(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Fo(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dv(e,n,"signInWithPassword",lD);case"emailLink":return cD(e,{email:this._email,oobCode:this._password});default:hn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dv(e,i,"signUpPassword",oD);case"emailLink":return uD(e,{idToken:n,email:this._email,oobCode:this._password});default:hn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ms(t,e){return eh(t,"POST","/v1/accounts:signInWithIdp",$r(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD="http://localhost";class zr extends Np{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new zr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):hn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r,...s}=n;if(!i||!r)return null;const a=new zr(i,r);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Ms(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Ms(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ms(e,n)}buildRequest(){const e={requestUri:hD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=_l(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dD(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function fD(t){const e=eo(to(t)).link,n=e?eo(to(e)).deep_link_id:null,i=eo(to(t)).deep_link_id;return(i?eo(to(i)).link:null)||i||n||e||t}class Cp{constructor(e){const n=eo(to(e)),i=n.apiKey??null,r=n.oobCode??null,s=dD(n.mode??null);K(i&&r&&s,"argument-error"),this.apiKey=i,this.operation=s,this.code=r,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=fD(e);try{return new Cp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(){this.providerId=_a.PROVIDER_ID}static credential(e,n){return Fo._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Cp.parseLink(n);return K(i,"argument-error"),Fo._fromEmailAndCode(e,i.code,i.tenantId)}}_a.PROVIDER_ID="password";_a.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_a.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El extends Nx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends El{constructor(){super("facebook.com")}static credential(e){return zr._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xi.credential(e.oauthAccessToken)}catch{return null}}}xi.FACEBOOK_SIGN_IN_METHOD="facebook.com";xi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi extends El{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return zr._fromParams({providerId:wi.PROVIDER_ID,signInMethod:wi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return wi.credentialFromTaggedObject(e)}static credentialFromError(e){return wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return wi.credential(n,i)}catch{return null}}}wi.GOOGLE_SIGN_IN_METHOD="google.com";wi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si extends El{constructor(){super("github.com")}static credential(e){return zr._fromParams({providerId:Si.PROVIDER_ID,signInMethod:Si.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Si.credentialFromTaggedObject(e)}static credentialFromError(e){return Si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Si.credential(e.oauthAccessToken)}catch{return null}}}Si.GITHUB_SIGN_IN_METHOD="github.com";Si.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends El{constructor(){super("twitter.com")}static credential(e,n){return zr._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ai.credentialFromTaggedObject(e)}static credentialFromError(e){return Ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Ai.credential(n,i)}catch{return null}}}Ai.TWITTER_SIGN_IN_METHOD="twitter.com";Ai.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const s=await ln._fromIdTokenResponse(e,i,r),a=mv(i);return new Xs({user:s,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=mv(i);return new Xs({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function mv(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu extends oi{constructor(e,n,i,r){super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,yu.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new yu(e,n,i,r)}}function Cx(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?yu._fromErrorAndOperation(t,s,e,i):s})}async function mD(t,e,n=!1){const i=await Ho(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Xs._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pD(t,e,n=!1){const{auth:i}=t;if(on(i.app))return Promise.reject(Gi(i));const r="reauthenticate";try{const s=await Ho(t,Cx(i,r,e,t),n);K(s.idToken,i,"internal-error");const a=Ap(s.idToken);K(a,i,"internal-error");const{sub:l}=a;return K(t.uid===l,i,"user-mismatch"),Xs._forOperation(t,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&hn(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ix(t,e,n=!1){if(on(t.app))return Promise.reject(Gi(t));const i="signIn",r=await Cx(t,i,e),s=await Xs._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(s.user),s}async function gD(t,e){return Ix(ya(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yD(t){const e=ya(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function _D(t,e,n){return on(t.app)?Promise.reject(Gi(t)):gD(Je(t),_a.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&yD(t),i})}function vD(t,e,n,i){return Je(t).onIdTokenChanged(e,n,i)}function ED(t,e,n){return Je(t).beforeAuthStateChanged(e,n)}function bD(t,e,n,i){return Je(t).onAuthStateChanged(e,n,i)}function Qf(t){return Je(t).signOut()}const _u="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(_u,"1"),this.storage.removeItem(_u),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD=1e3,xD=10;class Ox extends Dx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=xx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}const i=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);qI()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,xD):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},TD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ox.type="LOCAL";const wD=Ox;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx extends Dx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}jx.type="SESSION";const Mx=jx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new nh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:s}=n.data,a=this.handlersMap[r];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const l=Array.from(a).map(async h=>h(n.origin,s)),c=await SD(l);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,a;return new Promise((l,c)=>{const h=Ip("",20);r.port1.start();const f=setTimeout(()=>{c(new Error("unsupported_event"))},i);a={messageChannel:r,onMessage(g){const p=g;if(p.data.eventId===h)switch(p.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(p.data.response);break;default:clearTimeout(f),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(){return window}function RD(t){Tn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(){return typeof Tn().WorkerGlobalScope<"u"&&typeof Tn().importScripts=="function"}async function ND(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function CD(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function ID(){return Vx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx="firebaseLocalStorageDb",DD=1,vu="firebaseLocalStorage",Lx="fbase_key";class bl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ih(t,e){return t.transaction([vu],e?"readwrite":"readonly").objectStore(vu)}function OD(){const t=indexedDB.deleteDatabase(kx);return new bl(t).toPromise()}function $f(){const t=indexedDB.open(kx,DD);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(vu,{keyPath:Lx})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(vu)?e(i):(i.close(),await OD(),e(await $f()))})})}async function pv(t,e,n){const i=ih(t,!0).put({[Lx]:e,value:n});return new bl(i).toPromise()}async function jD(t,e){const n=ih(t,!1).get(e),i=await new bl(n).toPromise();return i===void 0?null:i.value}function gv(t,e){const n=ih(t,!0).delete(e);return new bl(n).toPromise()}const MD=800,VD=3;class Px{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $f(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>VD)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Vx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nh._getInstance(ID()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,i;if(this.activeServiceWorker=await ND(),!this.activeServiceWorker)return;this.sender=new AD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(i=e[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||CD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await $f();return await pv(e,_u,"1"),await gv(e,_u),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>pv(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>jD(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>gv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=ih(r,!1).getAll();return new bl(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:s}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),MD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Px.type="LOCAL";const kD=Px;new vl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LD(t,e){return e?Fn(e):(K(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp extends Np{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ms(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ms(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ms(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function PD(t){return Ix(t.auth,new Dp(t),t.bypassAuthState)}function UD(t){const{auth:e,user:n}=t;return K(n,e,"internal-error"),pD(n,new Dp(t),t.bypassAuthState)}async function zD(t){const{auth:e,user:n}=t;return K(n,e,"internal-error"),mD(n,new Dp(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e,n,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:a,type:l}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return PD;case"linkViaPopup":case"linkViaRedirect":return zD;case"reauthViaPopup":case"reauthViaRedirect":return UD;default:hn(this.auth,"internal-error")}}resolve(e){ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD=new vl(2e3,1e4);class ws extends Ux{constructor(e,n,i,r,s){super(e,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,ws.currentPopupAction&&ws.currentPopupAction.cancel(),ws.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return K(e,this.auth,"internal-error"),e}async onExecution(){ii(this.filter.length===1,"Popup operations only handle one event");const e=Ip();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(bn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(bn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ws.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if((i=(n=this.authWindow)==null?void 0:n.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,BD.get())};e()}}ws.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD="pendingRedirect",Nc=new Map;class HD extends Ux{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Nc.get(this.auth._key());if(!e){try{const i=await FD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Nc.set(this.auth._key(),e)}return this.bypassAuthState||Nc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function FD(t,e){const n=YD(e),i=KD(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function GD(t,e){Nc.set(t._key(),e)}function KD(t){return Fn(t._redirectPersistence)}function YD(t){return Rc(qD,t.config.apiKey,t.name)}async function QD(t,e,n=!1){if(on(t.app))return Promise.reject(Gi(t));const i=ya(t),r=LD(i,e),a=await new HD(i,r,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D=10*60*1e3;class XD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!WD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!zx(e)){const r=((i=e.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";n.onError(bn(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$D&&this.cachedEventUids.clear(),this.cachedEventUids.has(yv(e))}saveEventToCache(e){this.cachedEventUids.add(yv(e)),this.lastProcessedEventTime=Date.now()}}function yv(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function zx({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function WD(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zx(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JD(t,e={}){return cr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,e4=/^https?/;async function t4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await JD(t);for(const n of e)try{if(n4(n))return}catch{}hn(t,"unauthorized-domain")}function n4(t){const e=Kf(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!e4.test(n))return!1;if(ZD.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4=new vl(3e4,6e4);function _v(){const t=Tn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function r4(t){return new Promise((e,n)=>{var r,s,a;function i(){_v(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_v(),n(bn(t,"network-request-failed"))},timeout:i4.get()})}if((s=(r=Tn().gapi)==null?void 0:r.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((a=Tn().gapi)!=null&&a.load)i();else{const l=WI("iframefcb");return Tn()[l]=()=>{gapi.load?i():n(bn(t,"network-request-failed"))},Sx(`${XI()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Cc=null,e})}let Cc=null;function s4(t){return Cc=Cc||r4(t),Cc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4=new vl(5e3,15e3),o4="__/auth/iframe",l4="emulator/auth/iframe",c4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},u4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function h4(t){const e=t.config;K(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Sp(e,l4):`https://${t.config.authDomain}/${o4}`,i={apiKey:e.apiKey,appName:t.name,v:ga},r=u4.get(t.config.apiHost);r&&(i.eid=r);const s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${_l(i).slice(1)}`}async function d4(t){const e=await s4(t),n=Tn().gapi;return K(n,t,"internal-error"),e.open({where:document.body,url:h4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:c4,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const a=bn(t,"network-request-failed"),l=Tn().setTimeout(()=>{s(a)},a4.get());function c(){Tn().clearTimeout(l),r(i)}i.ping(c).then(c,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},m4=500,p4=600,g4="_blank",y4="http://localhost";class vv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _4(t,e,n,i=m4,r=p4){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const c={...f4,width:i.toString(),height:r.toString(),top:s,left:a},h=yt().toLowerCase();n&&(l=_x(h)?g4:n),gx(h)&&(e=e||y4,c.scrollbars="yes");const f=Object.entries(c).reduce((p,[y,N])=>`${p}${y}=${N},`,"");if(BI(h)&&l!=="_self")return v4(e||"",l),new vv(null);const g=window.open(e||"",l,f);K(g,t,"popup-blocked");try{g.focus()}catch{}return new vv(g)}function v4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4="__/auth/handler",b4="emulator/auth/handler",T4=encodeURIComponent("fac");async function Ev(t,e,n,i,r,s){K(t.config.authDomain,t,"auth-domain-config-required"),K(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:ga,eventId:r};if(e instanceof Nx){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",o2(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,g]of Object.entries({}))a[f]=g}if(e instanceof El){const f=e.getScopes().filter(g=>g!=="");f.length>0&&(a.scopes=f.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const c=await t._getAppCheckToken(),h=c?`#${T4}=${encodeURIComponent(c)}`:"";return`${x4(t)}?${_l(l).slice(1)}${h}`}function x4({config:t}){return t.emulator?Sp(t,b4):`https://${t.authDomain}/${E4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd="webStorageSupport";class w4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Mx,this._completeRedirectFn=QD,this._overrideRedirectResult=GD}async _openPopup(e,n,i,r){var a;ii((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await Ev(e,n,i,Kf(),r);return _4(e,s,Ip())}async _openRedirect(e,n,i,r){await this._originValidation(e);const s=await Ev(e,n,i,Kf(),r);return RD(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(ii(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await d4(e),i=new XD(e);return n.register("authEvent",r=>(K(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Vd,{type:Vd},r=>{var a;const s=(a=r==null?void 0:r[0])==null?void 0:a[Vd];s!==void 0&&n(!!s),hn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=t4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return xx()||yx()||Rp()}}const S4=w4;var bv="@firebase/auth",Tv="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function N4(t){$s(new Ur("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=i.options;K(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const c={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wx(t)},h=new YI(i,r,s,c);return iD(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),$s(new Ur("auth-internal",e=>{const n=ya(e.getProvider("auth").getImmediate());return(i=>new A4(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fi(bv,Tv,R4(t)),Fi(bv,Tv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C4=5*60,I4=ZT("authIdTokenMaxAge")||C4;let xv=null;const D4=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>I4)return;const r=n==null?void 0:n.token;xv!==r&&(xv=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function O4(t=sx()){const e=xp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=nD(t,{popupRedirectResolver:S4,persistence:[kD,wD,Mx]}),i=ZT("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const a=D4(s.toString());ED(n,a,()=>a(n.currentUser)),vD(n,l=>a(l))}}const r=WT("auth");return r&&rD(n,`http://${r}`),n}function j4(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}QI({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const s=bn("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",j4().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});N4("Browser");var wv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ki,Bx;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,E){function x(){}x.prototype=E.prototype,T.F=E.prototype,T.prototype=new x,T.prototype.constructor=T,T.D=function(A,R,C){for(var S=Array(arguments.length-2),dt=2;dt<arguments.length;dt++)S[dt-2]=arguments[dt];return E.prototype[R].apply(A,S)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(T,E,x){x||(x=0);const A=Array(16);if(typeof E=="string")for(var R=0;R<16;++R)A[R]=E.charCodeAt(x++)|E.charCodeAt(x++)<<8|E.charCodeAt(x++)<<16|E.charCodeAt(x++)<<24;else for(R=0;R<16;++R)A[R]=E[x++]|E[x++]<<8|E[x++]<<16|E[x++]<<24;E=T.g[0],x=T.g[1],R=T.g[2];let C=T.g[3],S;S=E+(C^x&(R^C))+A[0]+3614090360&4294967295,E=x+(S<<7&4294967295|S>>>25),S=C+(R^E&(x^R))+A[1]+3905402710&4294967295,C=E+(S<<12&4294967295|S>>>20),S=R+(x^C&(E^x))+A[2]+606105819&4294967295,R=C+(S<<17&4294967295|S>>>15),S=x+(E^R&(C^E))+A[3]+3250441966&4294967295,x=R+(S<<22&4294967295|S>>>10),S=E+(C^x&(R^C))+A[4]+4118548399&4294967295,E=x+(S<<7&4294967295|S>>>25),S=C+(R^E&(x^R))+A[5]+1200080426&4294967295,C=E+(S<<12&4294967295|S>>>20),S=R+(x^C&(E^x))+A[6]+2821735955&4294967295,R=C+(S<<17&4294967295|S>>>15),S=x+(E^R&(C^E))+A[7]+4249261313&4294967295,x=R+(S<<22&4294967295|S>>>10),S=E+(C^x&(R^C))+A[8]+1770035416&4294967295,E=x+(S<<7&4294967295|S>>>25),S=C+(R^E&(x^R))+A[9]+2336552879&4294967295,C=E+(S<<12&4294967295|S>>>20),S=R+(x^C&(E^x))+A[10]+4294925233&4294967295,R=C+(S<<17&4294967295|S>>>15),S=x+(E^R&(C^E))+A[11]+2304563134&4294967295,x=R+(S<<22&4294967295|S>>>10),S=E+(C^x&(R^C))+A[12]+1804603682&4294967295,E=x+(S<<7&4294967295|S>>>25),S=C+(R^E&(x^R))+A[13]+4254626195&4294967295,C=E+(S<<12&4294967295|S>>>20),S=R+(x^C&(E^x))+A[14]+2792965006&4294967295,R=C+(S<<17&4294967295|S>>>15),S=x+(E^R&(C^E))+A[15]+1236535329&4294967295,x=R+(S<<22&4294967295|S>>>10),S=E+(R^C&(x^R))+A[1]+4129170786&4294967295,E=x+(S<<5&4294967295|S>>>27),S=C+(x^R&(E^x))+A[6]+3225465664&4294967295,C=E+(S<<9&4294967295|S>>>23),S=R+(E^x&(C^E))+A[11]+643717713&4294967295,R=C+(S<<14&4294967295|S>>>18),S=x+(C^E&(R^C))+A[0]+3921069994&4294967295,x=R+(S<<20&4294967295|S>>>12),S=E+(R^C&(x^R))+A[5]+3593408605&4294967295,E=x+(S<<5&4294967295|S>>>27),S=C+(x^R&(E^x))+A[10]+38016083&4294967295,C=E+(S<<9&4294967295|S>>>23),S=R+(E^x&(C^E))+A[15]+3634488961&4294967295,R=C+(S<<14&4294967295|S>>>18),S=x+(C^E&(R^C))+A[4]+3889429448&4294967295,x=R+(S<<20&4294967295|S>>>12),S=E+(R^C&(x^R))+A[9]+568446438&4294967295,E=x+(S<<5&4294967295|S>>>27),S=C+(x^R&(E^x))+A[14]+3275163606&4294967295,C=E+(S<<9&4294967295|S>>>23),S=R+(E^x&(C^E))+A[3]+4107603335&4294967295,R=C+(S<<14&4294967295|S>>>18),S=x+(C^E&(R^C))+A[8]+1163531501&4294967295,x=R+(S<<20&4294967295|S>>>12),S=E+(R^C&(x^R))+A[13]+2850285829&4294967295,E=x+(S<<5&4294967295|S>>>27),S=C+(x^R&(E^x))+A[2]+4243563512&4294967295,C=E+(S<<9&4294967295|S>>>23),S=R+(E^x&(C^E))+A[7]+1735328473&4294967295,R=C+(S<<14&4294967295|S>>>18),S=x+(C^E&(R^C))+A[12]+2368359562&4294967295,x=R+(S<<20&4294967295|S>>>12),S=E+(x^R^C)+A[5]+4294588738&4294967295,E=x+(S<<4&4294967295|S>>>28),S=C+(E^x^R)+A[8]+2272392833&4294967295,C=E+(S<<11&4294967295|S>>>21),S=R+(C^E^x)+A[11]+1839030562&4294967295,R=C+(S<<16&4294967295|S>>>16),S=x+(R^C^E)+A[14]+4259657740&4294967295,x=R+(S<<23&4294967295|S>>>9),S=E+(x^R^C)+A[1]+2763975236&4294967295,E=x+(S<<4&4294967295|S>>>28),S=C+(E^x^R)+A[4]+1272893353&4294967295,C=E+(S<<11&4294967295|S>>>21),S=R+(C^E^x)+A[7]+4139469664&4294967295,R=C+(S<<16&4294967295|S>>>16),S=x+(R^C^E)+A[10]+3200236656&4294967295,x=R+(S<<23&4294967295|S>>>9),S=E+(x^R^C)+A[13]+681279174&4294967295,E=x+(S<<4&4294967295|S>>>28),S=C+(E^x^R)+A[0]+3936430074&4294967295,C=E+(S<<11&4294967295|S>>>21),S=R+(C^E^x)+A[3]+3572445317&4294967295,R=C+(S<<16&4294967295|S>>>16),S=x+(R^C^E)+A[6]+76029189&4294967295,x=R+(S<<23&4294967295|S>>>9),S=E+(x^R^C)+A[9]+3654602809&4294967295,E=x+(S<<4&4294967295|S>>>28),S=C+(E^x^R)+A[12]+3873151461&4294967295,C=E+(S<<11&4294967295|S>>>21),S=R+(C^E^x)+A[15]+530742520&4294967295,R=C+(S<<16&4294967295|S>>>16),S=x+(R^C^E)+A[2]+3299628645&4294967295,x=R+(S<<23&4294967295|S>>>9),S=E+(R^(x|~C))+A[0]+4096336452&4294967295,E=x+(S<<6&4294967295|S>>>26),S=C+(x^(E|~R))+A[7]+1126891415&4294967295,C=E+(S<<10&4294967295|S>>>22),S=R+(E^(C|~x))+A[14]+2878612391&4294967295,R=C+(S<<15&4294967295|S>>>17),S=x+(C^(R|~E))+A[5]+4237533241&4294967295,x=R+(S<<21&4294967295|S>>>11),S=E+(R^(x|~C))+A[12]+1700485571&4294967295,E=x+(S<<6&4294967295|S>>>26),S=C+(x^(E|~R))+A[3]+2399980690&4294967295,C=E+(S<<10&4294967295|S>>>22),S=R+(E^(C|~x))+A[10]+4293915773&4294967295,R=C+(S<<15&4294967295|S>>>17),S=x+(C^(R|~E))+A[1]+2240044497&4294967295,x=R+(S<<21&4294967295|S>>>11),S=E+(R^(x|~C))+A[8]+1873313359&4294967295,E=x+(S<<6&4294967295|S>>>26),S=C+(x^(E|~R))+A[15]+4264355552&4294967295,C=E+(S<<10&4294967295|S>>>22),S=R+(E^(C|~x))+A[6]+2734768916&4294967295,R=C+(S<<15&4294967295|S>>>17),S=x+(C^(R|~E))+A[13]+1309151649&4294967295,x=R+(S<<21&4294967295|S>>>11),S=E+(R^(x|~C))+A[4]+4149444226&4294967295,E=x+(S<<6&4294967295|S>>>26),S=C+(x^(E|~R))+A[11]+3174756917&4294967295,C=E+(S<<10&4294967295|S>>>22),S=R+(E^(C|~x))+A[2]+718787259&4294967295,R=C+(S<<15&4294967295|S>>>17),S=x+(C^(R|~E))+A[9]+3951481745&4294967295,T.g[0]=T.g[0]+E&4294967295,T.g[1]=T.g[1]+(R+(S<<21&4294967295|S>>>11))&4294967295,T.g[2]=T.g[2]+R&4294967295,T.g[3]=T.g[3]+C&4294967295}i.prototype.v=function(T,E){E===void 0&&(E=T.length);const x=E-this.blockSize,A=this.C;let R=this.h,C=0;for(;C<E;){if(R==0)for(;C<=x;)r(this,T,C),C+=this.blockSize;if(typeof T=="string"){for(;C<E;)if(A[R++]=T.charCodeAt(C++),R==this.blockSize){r(this,A),R=0;break}}else for(;C<E;)if(A[R++]=T[C++],R==this.blockSize){r(this,A),R=0;break}}this.h=R,this.o+=E},i.prototype.A=function(){var T=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);T[0]=128;for(var E=1;E<T.length-8;++E)T[E]=0;E=this.o*8;for(var x=T.length-8;x<T.length;++x)T[x]=E&255,E/=256;for(this.v(T),T=Array(16),E=0,x=0;x<4;++x)for(let A=0;A<32;A+=8)T[E++]=this.g[x]>>>A&255;return T};function s(T,E){var x=l;return Object.prototype.hasOwnProperty.call(x,T)?x[T]:x[T]=E(T)}function a(T,E){this.h=E;const x=[];let A=!0;for(let R=T.length-1;R>=0;R--){const C=T[R]|0;A&&C==E||(x[R]=C,A=!1)}this.g=x}var l={};function c(T){return-128<=T&&T<128?s(T,function(E){return new a([E|0],E<0?-1:0)}):new a([T|0],T<0?-1:0)}function h(T){if(isNaN(T)||!isFinite(T))return g;if(T<0)return I(h(-T));const E=[];let x=1;for(let A=0;T>=x;A++)E[A]=T/x|0,x*=4294967296;return new a(E,0)}function f(T,E){if(T.length==0)throw Error("number format error: empty string");if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(T.charAt(0)=="-")return I(f(T.substring(1),E));if(T.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=h(Math.pow(E,8));let A=g;for(let C=0;C<T.length;C+=8){var R=Math.min(8,T.length-C);const S=parseInt(T.substring(C,C+R),E);R<8?(R=h(Math.pow(E,R)),A=A.j(R).add(h(S))):(A=A.j(x),A=A.add(h(S)))}return A}var g=c(0),p=c(1),y=c(16777216);t=a.prototype,t.m=function(){if(D(this))return-I(this).m();let T=0,E=1;for(let x=0;x<this.g.length;x++){const A=this.i(x);T+=(A>=0?A:4294967296+A)*E,E*=4294967296}return T},t.toString=function(T){if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(N(this))return"0";if(D(this))return"-"+I(this).toString(T);const E=h(Math.pow(T,6));var x=this;let A="";for(;;){const R=M(x,E).g;x=b(x,R.j(E));let C=((x.g.length>0?x.g[0]:x.h)>>>0).toString(T);if(x=R,N(x))return C+A;for(;C.length<6;)C="0"+C;A=C+A}},t.i=function(T){return T<0?0:T<this.g.length?this.g[T]:this.h};function N(T){if(T.h!=0)return!1;for(let E=0;E<T.g.length;E++)if(T.g[E]!=0)return!1;return!0}function D(T){return T.h==-1}t.l=function(T){return T=b(this,T),D(T)?-1:N(T)?0:1};function I(T){const E=T.g.length,x=[];for(let A=0;A<E;A++)x[A]=~T.g[A];return new a(x,~T.h).add(p)}t.abs=function(){return D(this)?I(this):this},t.add=function(T){const E=Math.max(this.g.length,T.g.length),x=[];let A=0;for(let R=0;R<=E;R++){let C=A+(this.i(R)&65535)+(T.i(R)&65535),S=(C>>>16)+(this.i(R)>>>16)+(T.i(R)>>>16);A=S>>>16,C&=65535,S&=65535,x[R]=S<<16|C}return new a(x,x[x.length-1]&-2147483648?-1:0)};function b(T,E){return T.add(I(E))}t.j=function(T){if(N(this)||N(T))return g;if(D(this))return D(T)?I(this).j(I(T)):I(I(this).j(T));if(D(T))return I(this.j(I(T)));if(this.l(y)<0&&T.l(y)<0)return h(this.m()*T.m());const E=this.g.length+T.g.length,x=[];for(var A=0;A<2*E;A++)x[A]=0;for(A=0;A<this.g.length;A++)for(let R=0;R<T.g.length;R++){const C=this.i(A)>>>16,S=this.i(A)&65535,dt=T.i(R)>>>16,rn=T.i(R)&65535;x[2*A+2*R]+=S*rn,v(x,2*A+2*R),x[2*A+2*R+1]+=C*rn,v(x,2*A+2*R+1),x[2*A+2*R+1]+=S*dt,v(x,2*A+2*R+1),x[2*A+2*R+2]+=C*dt,v(x,2*A+2*R+2)}for(T=0;T<E;T++)x[T]=x[2*T+1]<<16|x[2*T];for(T=E;T<2*E;T++)x[T]=0;return new a(x,0)};function v(T,E){for(;(T[E]&65535)!=T[E];)T[E+1]+=T[E]>>>16,T[E]&=65535,E++}function w(T,E){this.g=T,this.h=E}function M(T,E){if(N(E))throw Error("division by zero");if(N(T))return new w(g,g);if(D(T))return E=M(I(T),E),new w(I(E.g),I(E.h));if(D(E))return E=M(T,I(E)),new w(I(E.g),E.h);if(T.g.length>30){if(D(T)||D(E))throw Error("slowDivide_ only works with positive integers.");for(var x=p,A=E;A.l(T)<=0;)x=U(x),A=U(A);var R=F(x,1),C=F(A,1);for(A=F(A,2),x=F(x,2);!N(A);){var S=C.add(A);S.l(T)<=0&&(R=R.add(x),C=S),A=F(A,1),x=F(x,1)}return E=b(T,R.j(E)),new w(R,E)}for(R=g;T.l(E)>=0;){for(x=Math.max(1,Math.floor(T.m()/E.m())),A=Math.ceil(Math.log(x)/Math.LN2),A=A<=48?1:Math.pow(2,A-48),C=h(x),S=C.j(E);D(S)||S.l(T)>0;)x-=A,C=h(x),S=C.j(E);N(C)&&(C=p),R=R.add(C),T=b(T,S)}return new w(R,T)}t.B=function(T){return M(this,T).h},t.and=function(T){const E=Math.max(this.g.length,T.g.length),x=[];for(let A=0;A<E;A++)x[A]=this.i(A)&T.i(A);return new a(x,this.h&T.h)},t.or=function(T){const E=Math.max(this.g.length,T.g.length),x=[];for(let A=0;A<E;A++)x[A]=this.i(A)|T.i(A);return new a(x,this.h|T.h)},t.xor=function(T){const E=Math.max(this.g.length,T.g.length),x=[];for(let A=0;A<E;A++)x[A]=this.i(A)^T.i(A);return new a(x,this.h^T.h)};function U(T){const E=T.g.length+1,x=[];for(let A=0;A<E;A++)x[A]=T.i(A)<<1|T.i(A-1)>>>31;return new a(x,T.h)}function F(T,E){const x=E>>5;E%=32;const A=T.g.length-x,R=[];for(let C=0;C<A;C++)R[C]=E>0?T.i(C+x)>>>E|T.i(C+x+1)<<32-E:T.i(C+x);return new a(R,T.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,Bx=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=f,Ki=a}).apply(typeof wv<"u"?wv:typeof self<"u"?self:typeof window<"u"?window:{});var rc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qx,no,Hx,Ic,Xf,Fx,Gx,Kx;(function(){var t,e=Object.defineProperty;function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof rc=="object"&&rc];for(var d=0;d<o.length;++d){var m=o[d];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var i=n(this);function r(o,d){if(d)e:{var m=i;o=o.split(".");for(var _=0;_<o.length-1;_++){var O=o[_];if(!(O in m))break e;m=m[O]}o=o[o.length-1],_=m[o],d=d(_),d!=_&&d!=null&&e(m,o,{configurable:!0,writable:!0,value:d})}}r("Symbol.dispose",function(o){return o||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(o){return o||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(o){return o||function(d){var m=[],_;for(_ in d)Object.prototype.hasOwnProperty.call(d,_)&&m.push([_,d[_]]);return m}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(o){var d=typeof o;return d=="object"&&o!=null||d=="function"}function c(o,d,m){return o.call.apply(o.bind,arguments)}function h(o,d,m){return h=c,h.apply(null,arguments)}function f(o,d){var m=Array.prototype.slice.call(arguments,1);return function(){var _=m.slice();return _.push.apply(_,arguments),o.apply(this,_)}}function g(o,d){function m(){}m.prototype=d.prototype,o.Z=d.prototype,o.prototype=new m,o.prototype.constructor=o,o.Ob=function(_,O,V){for(var z=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)z[ee-2]=arguments[ee];return d.prototype[O].apply(_,z)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?o=>o&&AsyncContext.Snapshot.wrap(o):o=>o;function y(o){const d=o.length;if(d>0){const m=Array(d);for(let _=0;_<d;_++)m[_]=o[_];return m}return[]}function N(o,d){for(let _=1;_<arguments.length;_++){const O=arguments[_];var m=typeof O;if(m=m!="object"?m:O?Array.isArray(O)?"array":m:"null",m=="array"||m=="object"&&typeof O.length=="number"){m=o.length||0;const V=O.length||0;o.length=m+V;for(let z=0;z<V;z++)o[m+z]=O[z]}else o.push(O)}}class D{constructor(d,m){this.i=d,this.j=m,this.h=0,this.g=null}get(){let d;return this.h>0?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function I(o){a.setTimeout(()=>{throw o},0)}function b(){var o=T;let d=null;return o.g&&(d=o.g,o.g=o.g.next,o.g||(o.h=null),d.next=null),d}class v{constructor(){this.h=this.g=null}add(d,m){const _=w.get();_.set(d,m),this.h?this.h.next=_:this.g=_,this.h=_}}var w=new D(()=>new M,o=>o.reset());class M{constructor(){this.next=this.g=this.h=null}set(d,m){this.h=d,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let U,F=!1,T=new v,E=()=>{const o=Promise.resolve(void 0);U=()=>{o.then(x)}};function x(){for(var o;o=b();){try{o.h.call(o.g)}catch(m){I(m)}var d=w;d.j(o),d.h<100&&(d.h++,o.next=d.g,d.g=o)}F=!1}function A(){this.u=this.u,this.C=this.C}A.prototype.u=!1,A.prototype.dispose=function(){this.u||(this.u=!0,this.N())},A.prototype[Symbol.dispose]=function(){this.dispose()},A.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(o,d){this.type=o,this.g=this.target=d,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var C=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var o=!1,d=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const m=()=>{};a.addEventListener("test",m,d),a.removeEventListener("test",m,d)}catch{}return o}();function S(o){return/^[\s\xa0]*$/.test(o)}function dt(o,d){R.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o&&this.init(o,d)}g(dt,R),dt.prototype.init=function(o,d){const m=this.type=o.type,_=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;this.target=o.target||o.srcElement,this.g=d,d=o.relatedTarget,d||(m=="mouseover"?d=o.fromElement:m=="mouseout"&&(d=o.toElement)),this.relatedTarget=d,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=o.pointerType,this.state=o.state,this.i=o,o.defaultPrevented&&dt.Z.h.call(this)},dt.prototype.h=function(){dt.Z.h.call(this);const o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var rn="closure_listenable_"+(Math.random()*1e6|0),q=0;function te(o,d,m,_,O){this.listener=o,this.proxy=null,this.src=d,this.type=m,this.capture=!!_,this.ha=O,this.key=++q,this.da=this.fa=!1}function W(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function Ee(o,d,m){for(const _ in o)d.call(m,o[_],_,o)}function Pe(o,d){for(const m in o)d.call(void 0,o[m],m,o)}function fr(o){const d={};for(const m in o)d[m]=o[m];return d}const mr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Zr(o,d){let m,_;for(let O=1;O<arguments.length;O++){_=arguments[O];for(m in _)o[m]=_[m];for(let V=0;V<mr.length;V++)m=mr[V],Object.prototype.hasOwnProperty.call(_,m)&&(o[m]=_[m])}}function Ft(o){this.src=o,this.g={},this.h=0}Ft.prototype.add=function(o,d,m,_,O){const V=o.toString();o=this.g[V],o||(o=this.g[V]=[],this.h++);const z=Eh(o,d,_,O);return z>-1?(d=o[z],m||(d.fa=!1)):(d=new te(d,this.src,V,!!_,O),d.fa=m,o.push(d)),d};function li(o,d){const m=d.type;if(m in o.g){var _=o.g[m],O=Array.prototype.indexOf.call(_,d,void 0),V;(V=O>=0)&&Array.prototype.splice.call(_,O,1),V&&(W(d),o.g[m].length==0&&(delete o.g[m],o.h--))}}function Eh(o,d,m,_){for(let O=0;O<o.length;++O){const V=o[O];if(!V.da&&V.listener==d&&V.capture==!!m&&V.ha==_)return O}return-1}var bh="closure_lm_"+(Math.random()*1e6|0),Th={};function mg(o,d,m,_,O){if(Array.isArray(d)){for(let V=0;V<d.length;V++)mg(o,d[V],m,_,O);return null}return m=yg(m),o&&o[rn]?o.J(d,m,l(_)?!!_.capture:!1,O):Iw(o,d,m,!1,_,O)}function Iw(o,d,m,_,O,V){if(!d)throw Error("Invalid event type");const z=l(O)?!!O.capture:!!O;let ee=wh(o);if(ee||(o[bh]=ee=new Ft(o)),m=ee.add(d,m,_,z,V),m.proxy)return m;if(_=Dw(),m.proxy=_,_.src=o,_.listener=m,o.addEventListener)C||(O=z),O===void 0&&(O=!1),o.addEventListener(d.toString(),_,O);else if(o.attachEvent)o.attachEvent(gg(d.toString()),_);else if(o.addListener&&o.removeListener)o.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return m}function Dw(){function o(m){return d.call(o.src,o.listener,m)}const d=Ow;return o}function pg(o,d,m,_,O){if(Array.isArray(d))for(var V=0;V<d.length;V++)pg(o,d[V],m,_,O);else _=l(_)?!!_.capture:!!_,m=yg(m),o&&o[rn]?(o=o.i,V=String(d).toString(),V in o.g&&(d=o.g[V],m=Eh(d,m,_,O),m>-1&&(W(d[m]),Array.prototype.splice.call(d,m,1),d.length==0&&(delete o.g[V],o.h--)))):o&&(o=wh(o))&&(d=o.g[d.toString()],o=-1,d&&(o=Eh(d,m,_,O)),(m=o>-1?d[o]:null)&&xh(m))}function xh(o){if(typeof o!="number"&&o&&!o.da){var d=o.src;if(d&&d[rn])li(d.i,o);else{var m=o.type,_=o.proxy;d.removeEventListener?d.removeEventListener(m,_,o.capture):d.detachEvent?d.detachEvent(gg(m),_):d.addListener&&d.removeListener&&d.removeListener(_),(m=wh(d))?(li(m,o),m.h==0&&(m.src=null,d[bh]=null)):W(o)}}}function gg(o){return o in Th?Th[o]:Th[o]="on"+o}function Ow(o,d){if(o.da)o=!0;else{d=new dt(d,this);const m=o.listener,_=o.ha||o.src;o.fa&&xh(o),o=m.call(_,d)}return o}function wh(o){return o=o[bh],o instanceof Ft?o:null}var Sh="__closure_events_fn_"+(Math.random()*1e9>>>0);function yg(o){return typeof o=="function"?o:(o[Sh]||(o[Sh]=function(d){return o.handleEvent(d)}),o[Sh])}function ft(){A.call(this),this.i=new Ft(this),this.M=this,this.G=null}g(ft,A),ft.prototype[rn]=!0,ft.prototype.removeEventListener=function(o,d,m,_){pg(this,o,d,m,_)};function _t(o,d){var m,_=o.G;if(_)for(m=[];_;_=_.G)m.push(_);if(o=o.M,_=d.type||d,typeof d=="string")d=new R(d,o);else if(d instanceof R)d.target=d.target||o;else{var O=d;d=new R(_,o),Zr(d,O)}O=!0;let V,z;if(m)for(z=m.length-1;z>=0;z--)V=d.g=m[z],O=Nl(V,_,!0,d)&&O;if(V=d.g=o,O=Nl(V,_,!0,d)&&O,O=Nl(V,_,!1,d)&&O,m)for(z=0;z<m.length;z++)V=d.g=m[z],O=Nl(V,_,!1,d)&&O}ft.prototype.N=function(){if(ft.Z.N.call(this),this.i){var o=this.i;for(const d in o.g){const m=o.g[d];for(let _=0;_<m.length;_++)W(m[_]);delete o.g[d],o.h--}}this.G=null},ft.prototype.J=function(o,d,m,_){return this.i.add(String(o),d,!1,m,_)},ft.prototype.K=function(o,d,m,_){return this.i.add(String(o),d,!0,m,_)};function Nl(o,d,m,_){if(d=o.i.g[String(d)],!d)return!0;d=d.concat();let O=!0;for(let V=0;V<d.length;++V){const z=d[V];if(z&&!z.da&&z.capture==m){const ee=z.listener,Ye=z.ha||z.src;z.fa&&li(o.i,z),O=ee.call(Ye,_)!==!1&&O}}return O&&!_.defaultPrevented}function jw(o,d){if(typeof o!="function")if(o&&typeof o.handleEvent=="function")o=h(o.handleEvent,o);else throw Error("Invalid listener argument");return Number(d)>2147483647?-1:a.setTimeout(o,d||0)}function _g(o){o.g=jw(()=>{o.g=null,o.i&&(o.i=!1,_g(o))},o.l);const d=o.h;o.h=null,o.m.apply(null,d)}class Mw extends A{constructor(d,m){super(),this.m=d,this.l=m,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:_g(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wa(o){A.call(this),this.h=o,this.g={}}g(wa,A);var vg=[];function Eg(o){Ee(o.g,function(d,m){this.g.hasOwnProperty(m)&&xh(d)},o),o.g={}}wa.prototype.N=function(){wa.Z.N.call(this),Eg(this)},wa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ah=a.JSON.stringify,Vw=a.JSON.parse,kw=class{stringify(o){return a.JSON.stringify(o,void 0)}parse(o){return a.JSON.parse(o,void 0)}};function bg(){}function Tg(){}var Sa={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Rh(){R.call(this,"d")}g(Rh,R);function Nh(){R.call(this,"c")}g(Nh,R);var pr={},xg=null;function Cl(){return xg=xg||new ft}pr.Ia="serverreachability";function wg(o){R.call(this,pr.Ia,o)}g(wg,R);function Aa(o){const d=Cl();_t(d,new wg(d))}pr.STAT_EVENT="statevent";function Sg(o,d){R.call(this,pr.STAT_EVENT,o),this.stat=d}g(Sg,R);function vt(o){const d=Cl();_t(d,new Sg(d,o))}pr.Ja="timingevent";function Ag(o,d){R.call(this,pr.Ja,o),this.size=d}g(Ag,R);function Ra(o,d){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){o()},d)}function Na(){this.g=!0}Na.prototype.ua=function(){this.g=!1};function Lw(o,d,m,_,O,V){o.info(function(){if(o.g)if(V){var z="",ee=V.split("&");for(let _e=0;_e<ee.length;_e++){var Ye=ee[_e].split("=");if(Ye.length>1){const Ze=Ye[0];Ye=Ye[1];const pn=Ze.split("_");z=pn.length>=2&&pn[1]=="type"?z+(Ze+"="+Ye+"&"):z+(Ze+"=redacted&")}}}else z=null;else z=V;return"XMLHTTP REQ ("+_+") [attempt "+O+"]: "+d+`
`+m+`
`+z})}function Pw(o,d,m,_,O,V,z){o.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+O+"]: "+d+`
`+m+`
`+V+" "+z})}function es(o,d,m,_){o.info(function(){return"XMLHTTP TEXT ("+d+"): "+zw(o,m)+(_?" "+_:"")})}function Uw(o,d){o.info(function(){return"TIMEOUT: "+d})}Na.prototype.info=function(){};function zw(o,d){if(!o.g)return d;if(!d)return null;try{const V=JSON.parse(d);if(V){for(o=0;o<V.length;o++)if(Array.isArray(V[o])){var m=V[o];if(!(m.length<2)){var _=m[1];if(Array.isArray(_)&&!(_.length<1)){var O=_[0];if(O!="noop"&&O!="stop"&&O!="close")for(let z=1;z<_.length;z++)_[z]=""}}}}return Ah(V)}catch{return d}}var Il={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Rg={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ng;function Ch(){}g(Ch,bg),Ch.prototype.g=function(){return new XMLHttpRequest},Ng=new Ch;function Ca(o){return encodeURIComponent(String(o))}function Bw(o){var d=1;o=o.split(":");const m=[];for(;d>0&&o.length;)m.push(o.shift()),d--;return o.length&&m.push(o.join(":")),m}function ci(o,d,m,_){this.j=o,this.i=d,this.l=m,this.S=_||1,this.V=new wa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Cg}function Cg(){this.i=null,this.g="",this.h=!1}var Ig={},Ih={};function Dh(o,d,m){o.M=1,o.A=Ol(mn(d)),o.u=m,o.R=!0,Dg(o,null)}function Dg(o,d){o.F=Date.now(),Dl(o),o.B=mn(o.A);var m=o.B,_=o.S;Array.isArray(_)||(_=[String(_)]),Fg(m.i,"t",_),o.C=0,m=o.j.L,o.h=new Cg,o.g=ly(o.j,m?d:null,!o.u),o.P>0&&(o.O=new Mw(h(o.Y,o,o.g),o.P)),d=o.V,m=o.g,_=o.ba;var O="readystatechange";Array.isArray(O)||(O&&(vg[0]=O.toString()),O=vg);for(let V=0;V<O.length;V++){const z=mg(m,O[V],_||d.handleEvent,!1,d.h||d);if(!z)break;d.g[z.key]=z}d=o.J?fr(o.J):{},o.u?(o.v||(o.v="POST"),d["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.B,o.v,o.u,d)):(o.v="GET",o.g.ea(o.B,o.v,null,d)),Aa(),Lw(o.i,o.v,o.B,o.l,o.S,o.u)}ci.prototype.ba=function(o){o=o.target;const d=this.O;d&&di(o)==3?d.j():this.Y(o)},ci.prototype.Y=function(o){try{if(o==this.g)e:{const ee=di(this.g),Ye=this.g.ya(),_e=this.g.ca();if(!(ee<3)&&(ee!=3||this.g&&(this.h.h||this.g.la()||Wg(this.g)))){this.K||ee!=4||Ye==7||(Ye==8||_e<=0?Aa(3):Aa(2)),Oh(this);var d=this.g.ca();this.X=d;var m=qw(this);if(this.o=d==200,Pw(this.i,this.v,this.B,this.l,this.S,ee,d),this.o){if(this.U&&!this.L){t:{if(this.g){var _,O=this.g;if((_=O.g?O.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(_)){var V=_;break t}}V=null}if(o=V)es(this.i,this.l,o,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,jh(this,o);else{this.o=!1,this.m=3,vt(12),gr(this),Ia(this);break e}}if(this.R){o=!0;let Ze;for(;!this.K&&this.C<m.length;)if(Ze=Hw(this,m),Ze==Ih){ee==4&&(this.m=4,vt(14),o=!1),es(this.i,this.l,null,"[Incomplete Response]");break}else if(Ze==Ig){this.m=4,vt(15),es(this.i,this.l,m,"[Invalid Chunk]"),o=!1;break}else es(this.i,this.l,Ze,null),jh(this,Ze);if(Og(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ee!=4||m.length!=0||this.h.h||(this.m=1,vt(16),o=!1),this.o=this.o&&o,!o)es(this.i,this.l,m,"[Invalid Chunked Response]"),gr(this),Ia(this);else if(m.length>0&&!this.W){this.W=!0;var z=this.j;z.g==this&&z.aa&&!z.P&&(z.j.info("Great, no buffering proxy detected. Bytes received: "+m.length),Bh(z),z.P=!0,vt(11))}}else es(this.i,this.l,m,null),jh(this,m);ee==4&&gr(this),this.o&&!this.K&&(ee==4?ry(this.j,this):(this.o=!1,Dl(this)))}else iS(this.g),d==400&&m.indexOf("Unknown SID")>0?(this.m=3,vt(12)):(this.m=0,vt(13)),gr(this),Ia(this)}}}catch{}finally{}};function qw(o){if(!Og(o))return o.g.la();const d=Wg(o.g);if(d==="")return"";let m="";const _=d.length,O=di(o.g)==4;if(!o.h.i){if(typeof TextDecoder>"u")return gr(o),Ia(o),"";o.h.i=new a.TextDecoder}for(let V=0;V<_;V++)o.h.h=!0,m+=o.h.i.decode(d[V],{stream:!(O&&V==_-1)});return d.length=0,o.h.g+=m,o.C=0,o.h.g}function Og(o){return o.g?o.v=="GET"&&o.M!=2&&o.j.Aa:!1}function Hw(o,d){var m=o.C,_=d.indexOf(`
`,m);return _==-1?Ih:(m=Number(d.substring(m,_)),isNaN(m)?Ig:(_+=1,_+m>d.length?Ih:(d=d.slice(_,_+m),o.C=_+m,d)))}ci.prototype.cancel=function(){this.K=!0,gr(this)};function Dl(o){o.T=Date.now()+o.H,jg(o,o.H)}function jg(o,d){if(o.D!=null)throw Error("WatchDog timer not null");o.D=Ra(h(o.aa,o),d)}function Oh(o){o.D&&(a.clearTimeout(o.D),o.D=null)}ci.prototype.aa=function(){this.D=null;const o=Date.now();o-this.T>=0?(Uw(this.i,this.B),this.M!=2&&(Aa(),vt(17)),gr(this),this.m=2,Ia(this)):jg(this,this.T-o)};function Ia(o){o.j.I==0||o.K||ry(o.j,o)}function gr(o){Oh(o);var d=o.O;d&&typeof d.dispose=="function"&&d.dispose(),o.O=null,Eg(o.V),o.g&&(d=o.g,o.g=null,d.abort(),d.dispose())}function jh(o,d){try{var m=o.j;if(m.I!=0&&(m.g==o||Mh(m.h,o))){if(!o.L&&Mh(m.h,o)&&m.I==3){try{var _=m.Ba.g.parse(d)}catch{_=null}if(Array.isArray(_)&&_.length==3){var O=_;if(O[0]==0){e:if(!m.v){if(m.g)if(m.g.F+3e3<o.F)Ll(m),Vl(m);else break e;zh(m),vt(18)}}else m.xa=O[1],0<m.xa-m.K&&O[2]<37500&&m.F&&m.A==0&&!m.C&&(m.C=Ra(h(m.Va,m),6e3));kg(m.h)<=1&&m.ta&&(m.ta=void 0)}else _r(m,11)}else if((o.L||m.g==o)&&Ll(m),!S(d))for(O=m.Ba.g.parse(d),d=0;d<O.length;d++){let _e=O[d];const Ze=_e[0];if(!(Ze<=m.K))if(m.K=Ze,_e=_e[1],m.I==2)if(_e[0]=="c"){m.M=_e[1],m.ba=_e[2];const pn=_e[3];pn!=null&&(m.ka=pn,m.j.info("VER="+m.ka));const vr=_e[4];vr!=null&&(m.za=vr,m.j.info("SVER="+m.za));const fi=_e[5];fi!=null&&typeof fi=="number"&&fi>0&&(_=1.5*fi,m.O=_,m.j.info("backChannelRequestTimeoutMs_="+_)),_=m;const mi=o.g;if(mi){const Ul=mi.g?mi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ul){var V=_.h;V.g||Ul.indexOf("spdy")==-1&&Ul.indexOf("quic")==-1&&Ul.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(Vh(V,V.h),V.h=null))}if(_.G){const qh=mi.g?mi.g.getResponseHeader("X-HTTP-Session-Id"):null;qh&&(_.wa=qh,xe(_.J,_.G,qh))}}m.I=3,m.l&&m.l.ra(),m.aa&&(m.T=Date.now()-o.F,m.j.info("Handshake RTT: "+m.T+"ms")),_=m;var z=o;if(_.na=oy(_,_.L?_.ba:null,_.W),z.L){Lg(_.h,z);var ee=z,Ye=_.O;Ye&&(ee.H=Ye),ee.D&&(Oh(ee),Dl(ee)),_.g=z}else ny(_);m.i.length>0&&kl(m)}else _e[0]!="stop"&&_e[0]!="close"||_r(m,7);else m.I==3&&(_e[0]=="stop"||_e[0]=="close"?_e[0]=="stop"?_r(m,7):Uh(m):_e[0]!="noop"&&m.l&&m.l.qa(_e),m.A=0)}}Aa(4)}catch{}}var Fw=class{constructor(o,d){this.g=o,this.map=d}};function Mg(o){this.l=o||10,a.PerformanceNavigationTiming?(o=a.performance.getEntriesByType("navigation"),o=o.length>0&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Vg(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function kg(o){return o.h?1:o.g?o.g.size:0}function Mh(o,d){return o.h?o.h==d:o.g?o.g.has(d):!1}function Vh(o,d){o.g?o.g.add(d):o.h=d}function Lg(o,d){o.h&&o.h==d?o.h=null:o.g&&o.g.has(d)&&o.g.delete(d)}Mg.prototype.cancel=function(){if(this.i=Pg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Pg(o){if(o.h!=null)return o.i.concat(o.h.G);if(o.g!=null&&o.g.size!==0){let d=o.i;for(const m of o.g.values())d=d.concat(m.G);return d}return y(o.i)}var Ug=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gw(o,d){if(o){o=o.split("&");for(let m=0;m<o.length;m++){const _=o[m].indexOf("=");let O,V=null;_>=0?(O=o[m].substring(0,_),V=o[m].substring(_+1)):O=o[m],d(O,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function ui(o){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let d;o instanceof ui?(this.l=o.l,Da(this,o.j),this.o=o.o,this.g=o.g,Oa(this,o.u),this.h=o.h,kh(this,Gg(o.i)),this.m=o.m):o&&(d=String(o).match(Ug))?(this.l=!1,Da(this,d[1]||"",!0),this.o=ja(d[2]||""),this.g=ja(d[3]||"",!0),Oa(this,d[4]),this.h=ja(d[5]||"",!0),kh(this,d[6]||"",!0),this.m=ja(d[7]||"")):(this.l=!1,this.i=new Va(null,this.l))}ui.prototype.toString=function(){const o=[];var d=this.j;d&&o.push(Ma(d,zg,!0),":");var m=this.g;return(m||d=="file")&&(o.push("//"),(d=this.o)&&o.push(Ma(d,zg,!0),"@"),o.push(Ca(m).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.u,m!=null&&o.push(":",String(m))),(m=this.h)&&(this.g&&m.charAt(0)!="/"&&o.push("/"),o.push(Ma(m,m.charAt(0)=="/"?Qw:Yw,!0))),(m=this.i.toString())&&o.push("?",m),(m=this.m)&&o.push("#",Ma(m,Xw)),o.join("")},ui.prototype.resolve=function(o){const d=mn(this);let m=!!o.j;m?Da(d,o.j):m=!!o.o,m?d.o=o.o:m=!!o.g,m?d.g=o.g:m=o.u!=null;var _=o.h;if(m)Oa(d,o.u);else if(m=!!o.h){if(_.charAt(0)!="/")if(this.g&&!this.h)_="/"+_;else{var O=d.h.lastIndexOf("/");O!=-1&&(_=d.h.slice(0,O+1)+_)}if(O=_,O==".."||O==".")_="";else if(O.indexOf("./")!=-1||O.indexOf("/.")!=-1){_=O.lastIndexOf("/",0)==0,O=O.split("/");const V=[];for(let z=0;z<O.length;){const ee=O[z++];ee=="."?_&&z==O.length&&V.push(""):ee==".."?((V.length>1||V.length==1&&V[0]!="")&&V.pop(),_&&z==O.length&&V.push("")):(V.push(ee),_=!0)}_=V.join("/")}else _=O}return m?d.h=_:m=o.i.toString()!=="",m?kh(d,Gg(o.i)):m=!!o.m,m&&(d.m=o.m),d};function mn(o){return new ui(o)}function Da(o,d,m){o.j=m?ja(d,!0):d,o.j&&(o.j=o.j.replace(/:$/,""))}function Oa(o,d){if(d){if(d=Number(d),isNaN(d)||d<0)throw Error("Bad port number "+d);o.u=d}else o.u=null}function kh(o,d,m){d instanceof Va?(o.i=d,Ww(o.i,o.l)):(m||(d=Ma(d,$w)),o.i=new Va(d,o.l))}function xe(o,d,m){o.i.set(d,m)}function Ol(o){return xe(o,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),o}function ja(o,d){return o?d?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Ma(o,d,m){return typeof o=="string"?(o=encodeURI(o).replace(d,Kw),m&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function Kw(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var zg=/[#\/\?@]/g,Yw=/[#\?:]/g,Qw=/[#\?]/g,$w=/[#\?@]/g,Xw=/#/g;function Va(o,d){this.h=this.g=null,this.i=o||null,this.j=!!d}function yr(o){o.g||(o.g=new Map,o.h=0,o.i&&Gw(o.i,function(d,m){o.add(decodeURIComponent(d.replace(/\+/g," ")),m)}))}t=Va.prototype,t.add=function(o,d){yr(this),this.i=null,o=ts(this,o);let m=this.g.get(o);return m||this.g.set(o,m=[]),m.push(d),this.h+=1,this};function Bg(o,d){yr(o),d=ts(o,d),o.g.has(d)&&(o.i=null,o.h-=o.g.get(d).length,o.g.delete(d))}function qg(o,d){return yr(o),d=ts(o,d),o.g.has(d)}t.forEach=function(o,d){yr(this),this.g.forEach(function(m,_){m.forEach(function(O){o.call(d,O,_,this)},this)},this)};function Hg(o,d){yr(o);let m=[];if(typeof d=="string")qg(o,d)&&(m=m.concat(o.g.get(ts(o,d))));else for(o=Array.from(o.g.values()),d=0;d<o.length;d++)m=m.concat(o[d]);return m}t.set=function(o,d){return yr(this),this.i=null,o=ts(this,o),qg(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[d]),this.h+=1,this},t.get=function(o,d){return o?(o=Hg(this,o),o.length>0?String(o[0]):d):d};function Fg(o,d,m){Bg(o,d),m.length>0&&(o.i=null,o.g.set(ts(o,d),y(m)),o.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],d=Array.from(this.g.keys());for(let _=0;_<d.length;_++){var m=d[_];const O=Ca(m);m=Hg(this,m);for(let V=0;V<m.length;V++){let z=O;m[V]!==""&&(z+="="+Ca(m[V])),o.push(z)}}return this.i=o.join("&")};function Gg(o){const d=new Va;return d.i=o.i,o.g&&(d.g=new Map(o.g),d.h=o.h),d}function ts(o,d){return d=String(d),o.j&&(d=d.toLowerCase()),d}function Ww(o,d){d&&!o.j&&(yr(o),o.i=null,o.g.forEach(function(m,_){const O=_.toLowerCase();_!=O&&(Bg(this,_),Fg(this,O,m))},o)),o.j=d}function Jw(o,d){const m=new Na;if(a.Image){const _=new Image;_.onload=f(hi,m,"TestLoadImage: loaded",!0,d,_),_.onerror=f(hi,m,"TestLoadImage: error",!1,d,_),_.onabort=f(hi,m,"TestLoadImage: abort",!1,d,_),_.ontimeout=f(hi,m,"TestLoadImage: timeout",!1,d,_),a.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=o}else d(!1)}function Zw(o,d){const m=new Na,_=new AbortController,O=setTimeout(()=>{_.abort(),hi(m,"TestPingServer: timeout",!1,d)},1e4);fetch(o,{signal:_.signal}).then(V=>{clearTimeout(O),V.ok?hi(m,"TestPingServer: ok",!0,d):hi(m,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(O),hi(m,"TestPingServer: error",!1,d)})}function hi(o,d,m,_,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),_(m)}catch{}}function eS(){this.g=new kw}function Lh(o){this.i=o.Sb||null,this.h=o.ab||!1}g(Lh,bg),Lh.prototype.g=function(){return new jl(this.i,this.h)};function jl(o,d){ft.call(this),this.H=o,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(jl,ft),t=jl.prototype,t.open=function(o,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=o,this.D=d,this.readyState=1,La(this)},t.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const d={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};o&&(d.body=o),(this.H||a).fetch(new Request(this.D,d)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ka(this)),this.readyState=0},t.Pa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,La(this)),this.g&&(this.readyState=3,La(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Kg(this)}else o.text().then(this.Oa.bind(this),this.ga.bind(this))};function Kg(o){o.j.read().then(o.Ma.bind(o)).catch(o.ga.bind(o))}t.Ma=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var d=o.value?o.value:new Uint8Array(0);(d=this.B.decode(d,{stream:!o.done}))&&(this.response=this.responseText+=d)}o.done?ka(this):La(this),this.readyState==3&&Kg(this)}},t.Oa=function(o){this.g&&(this.response=this.responseText=o,ka(this))},t.Na=function(o){this.g&&(this.response=o,ka(this))},t.ga=function(){this.g&&ka(this)};function ka(o){o.readyState=4,o.l=null,o.j=null,o.B=null,La(o)}t.setRequestHeader=function(o,d){this.A.append(o,d)},t.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],d=this.h.entries();for(var m=d.next();!m.done;)m=m.value,o.push(m[0]+": "+m[1]),m=d.next();return o.join(`\r
`)};function La(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(jl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Yg(o){let d="";return Ee(o,function(m,_){d+=_,d+=":",d+=m,d+=`\r
`}),d}function Ph(o,d,m){e:{for(_ in m){var _=!1;break e}_=!0}_||(m=Yg(m),typeof o=="string"?m!=null&&Ca(m):xe(o,d,m))}function De(o){ft.call(this),this.headers=new Map,this.L=o||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(De,ft);var tS=/^https?$/i,nS=["POST","PUT"];t=De.prototype,t.Fa=function(o){this.H=o},t.ea=function(o,d,m,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);d=d?d.toUpperCase():"GET",this.D=o,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ng.g(),this.g.onreadystatechange=p(h(this.Ca,this));try{this.B=!0,this.g.open(d,String(o),!0),this.B=!1}catch(V){Qg(this,V);return}if(o=m||"",m=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var O in _)m.set(O,_[O]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(const V of _.keys())m.set(V,_.get(V));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(m.keys()).find(V=>V.toLowerCase()=="content-type"),O=a.FormData&&o instanceof a.FormData,!(Array.prototype.indexOf.call(nS,d,void 0)>=0)||_||O||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,z]of m)this.g.setRequestHeader(V,z);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(o),this.v=!1}catch(V){Qg(this,V)}};function Qg(o,d){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=d,o.o=5,$g(o),Ml(o)}function $g(o){o.A||(o.A=!0,_t(o,"complete"),_t(o,"error"))}t.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=o||7,_t(this,"complete"),_t(this,"abort"),Ml(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ml(this,!0)),De.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Xg(this):this.Xa())},t.Xa=function(){Xg(this)};function Xg(o){if(o.h&&typeof s<"u"){if(o.v&&di(o)==4)setTimeout(o.Ca.bind(o),0);else if(_t(o,"readystatechange"),di(o)==4){o.h=!1;try{const V=o.ca();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var m;if(!(m=d)){var _;if(_=V===0){let z=String(o.D).match(Ug)[1]||null;!z&&a.self&&a.self.location&&(z=a.self.location.protocol.slice(0,-1)),_=!tS.test(z?z.toLowerCase():"")}m=_}if(m)_t(o,"complete"),_t(o,"success");else{o.o=6;try{var O=di(o)>2?o.g.statusText:""}catch{O=""}o.l=O+" ["+o.ca()+"]",$g(o)}}finally{Ml(o)}}}}function Ml(o,d){if(o.g){o.m&&(clearTimeout(o.m),o.m=null);const m=o.g;o.g=null,d||_t(o,"ready");try{m.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function di(o){return o.g?o.g.readyState:0}t.ca=function(){try{return di(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(o){if(this.g){var d=this.g.responseText;return o&&d.indexOf(o)==0&&(d=d.substring(o.length)),Vw(d)}};function Wg(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.F){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function iS(o){const d={};o=(o.g&&di(o)>=2&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<o.length;_++){if(S(o[_]))continue;var m=Bw(o[_]);const O=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const V=d[O]||[];d[O]=V,V.push(m)}Pe(d,function(_){return _.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Pa(o,d,m){return m&&m.internalChannelParams&&m.internalChannelParams[o]||d}function Jg(o){this.za=0,this.i=[],this.j=new Na,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Pa("failFast",!1,o),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Pa("baseRetryDelayMs",5e3,o),this.Za=Pa("retryDelaySeedMs",1e4,o),this.Ta=Pa("forwardChannelMaxRetries",2,o),this.va=Pa("forwardChannelRequestTimeoutMs",2e4,o),this.ma=o&&o.xmlHttpFactory||void 0,this.Ua=o&&o.Rb||void 0,this.Aa=o&&o.useFetchStreams||!1,this.O=void 0,this.L=o&&o.supportsCrossDomainXhr||!1,this.M="",this.h=new Mg(o&&o.concurrentRequestLimit),this.Ba=new eS,this.S=o&&o.fastHandshake||!1,this.R=o&&o.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=o&&o.Pb||!1,o&&o.ua&&this.j.ua(),o&&o.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&o&&o.detectBufferingProxy||!1,this.ia=void 0,o&&o.longPollingTimeout&&o.longPollingTimeout>0&&(this.ia=o.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Jg.prototype,t.ka=8,t.I=1,t.connect=function(o,d,m,_){vt(0),this.W=o,this.H=d||{},m&&_!==void 0&&(this.H.OSID=m,this.H.OAID=_),this.F=this.X,this.J=oy(this,null,this.W),kl(this)};function Uh(o){if(Zg(o),o.I==3){var d=o.V++,m=mn(o.J);if(xe(m,"SID",o.M),xe(m,"RID",d),xe(m,"TYPE","terminate"),Ua(o,m),d=new ci(o,o.j,d),d.M=2,d.A=Ol(mn(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(d.A.toString(),"")}catch{}!m&&a.Image&&(new Image().src=d.A,m=!0),m||(d.g=ly(d.j,null),d.g.ea(d.A)),d.F=Date.now(),Dl(d)}ay(o)}function Vl(o){o.g&&(Bh(o),o.g.cancel(),o.g=null)}function Zg(o){Vl(o),o.v&&(a.clearTimeout(o.v),o.v=null),Ll(o),o.h.cancel(),o.m&&(typeof o.m=="number"&&a.clearTimeout(o.m),o.m=null)}function kl(o){if(!Vg(o.h)&&!o.m){o.m=!0;var d=o.Ea;U||E(),F||(U(),F=!0),T.add(d,o),o.D=0}}function rS(o,d){return kg(o.h)>=o.h.j-(o.m?1:0)?!1:o.m?(o.i=d.G.concat(o.i),!0):o.I==1||o.I==2||o.D>=(o.Sa?0:o.Ta)?!1:(o.m=Ra(h(o.Ea,o,d),sy(o,o.D)),o.D++,!0)}t.Ea=function(o){if(this.m)if(this.m=null,this.I==1){if(!o){this.V=Math.floor(Math.random()*1e5),o=this.V++;const O=new ci(this,this.j,o);let V=this.o;if(this.U&&(V?(V=fr(V),Zr(V,this.U)):V=this.U),this.u!==null||this.R||(O.J=V,V=null),this.S)e:{for(var d=0,m=0;m<this.i.length;m++){t:{var _=this.i[m];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(d+=_,d>4096){d=m;break e}if(d===4096||m===this.i.length-1){d=m+1;break e}}d=1e3}else d=1e3;d=ty(this,O,d),m=mn(this.J),xe(m,"RID",o),xe(m,"CVER",22),this.G&&xe(m,"X-HTTP-Session-Id",this.G),Ua(this,m),V&&(this.R?d="headers="+Ca(Yg(V))+"&"+d:this.u&&Ph(m,this.u,V)),Vh(this.h,O),this.Ra&&xe(m,"TYPE","init"),this.S?(xe(m,"$req",d),xe(m,"SID","null"),O.U=!0,Dh(O,m,null)):Dh(O,m,d),this.I=2}}else this.I==3&&(o?ey(this,o):this.i.length==0||Vg(this.h)||ey(this))};function ey(o,d){var m;d?m=d.l:m=o.V++;const _=mn(o.J);xe(_,"SID",o.M),xe(_,"RID",m),xe(_,"AID",o.K),Ua(o,_),o.u&&o.o&&Ph(_,o.u,o.o),m=new ci(o,o.j,m,o.D+1),o.u===null&&(m.J=o.o),d&&(o.i=d.G.concat(o.i)),d=ty(o,m,1e3),m.H=Math.round(o.va*.5)+Math.round(o.va*.5*Math.random()),Vh(o.h,m),Dh(m,_,d)}function Ua(o,d){o.H&&Ee(o.H,function(m,_){xe(d,_,m)}),o.l&&Ee({},function(m,_){xe(d,_,m)})}function ty(o,d,m){m=Math.min(o.i.length,m);const _=o.l?h(o.l.Ka,o.l,o):null;e:{var O=o.i;let ee=-1;for(;;){const Ye=["count="+m];ee==-1?m>0?(ee=O[0].g,Ye.push("ofs="+ee)):ee=0:Ye.push("ofs="+ee);let _e=!0;for(let Ze=0;Ze<m;Ze++){var V=O[Ze].g;const pn=O[Ze].map;if(V-=ee,V<0)ee=Math.max(0,O[Ze].g-100),_e=!1;else try{V="req"+V+"_"||"";try{var z=pn instanceof Map?pn:Object.entries(pn);for(const[vr,fi]of z){let mi=fi;l(fi)&&(mi=Ah(fi)),Ye.push(V+vr+"="+encodeURIComponent(mi))}}catch(vr){throw Ye.push(V+"type="+encodeURIComponent("_badmap")),vr}}catch{_&&_(pn)}}if(_e){z=Ye.join("&");break e}}z=void 0}return o=o.i.splice(0,m),d.G=o,z}function ny(o){if(!o.g&&!o.v){o.Y=1;var d=o.Da;U||E(),F||(U(),F=!0),T.add(d,o),o.A=0}}function zh(o){return o.g||o.v||o.A>=3?!1:(o.Y++,o.v=Ra(h(o.Da,o),sy(o,o.A)),o.A++,!0)}t.Da=function(){if(this.v=null,iy(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var o=4*this.T;this.j.info("BP detection timer enabled: "+o),this.B=Ra(h(this.Wa,this),o)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,vt(10),Vl(this),iy(this))};function Bh(o){o.B!=null&&(a.clearTimeout(o.B),o.B=null)}function iy(o){o.g=new ci(o,o.j,"rpc",o.Y),o.u===null&&(o.g.J=o.o),o.g.P=0;var d=mn(o.na);xe(d,"RID","rpc"),xe(d,"SID",o.M),xe(d,"AID",o.K),xe(d,"CI",o.F?"0":"1"),!o.F&&o.ia&&xe(d,"TO",o.ia),xe(d,"TYPE","xmlhttp"),Ua(o,d),o.u&&o.o&&Ph(d,o.u,o.o),o.O&&(o.g.H=o.O);var m=o.g;o=o.ba,m.M=1,m.A=Ol(mn(d)),m.u=null,m.R=!0,Dg(m,o)}t.Va=function(){this.C!=null&&(this.C=null,Vl(this),zh(this),vt(19))};function Ll(o){o.C!=null&&(a.clearTimeout(o.C),o.C=null)}function ry(o,d){var m=null;if(o.g==d){Ll(o),Bh(o),o.g=null;var _=2}else if(Mh(o.h,d))m=d.G,Lg(o.h,d),_=1;else return;if(o.I!=0){if(d.o)if(_==1){m=d.u?d.u.length:0,d=Date.now()-d.F;var O=o.D;_=Cl(),_t(_,new Ag(_,m)),kl(o)}else ny(o);else if(O=d.m,O==3||O==0&&d.X>0||!(_==1&&rS(o,d)||_==2&&zh(o)))switch(m&&m.length>0&&(d=o.h,d.i=d.i.concat(m)),O){case 1:_r(o,5);break;case 4:_r(o,10);break;case 3:_r(o,6);break;default:_r(o,2)}}}function sy(o,d){let m=o.Qa+Math.floor(Math.random()*o.Za);return o.isActive()||(m*=2),m*d}function _r(o,d){if(o.j.info("Error code "+d),d==2){var m=h(o.bb,o),_=o.Ua;const O=!_;_=new ui(_||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Da(_,"https"),Ol(_),O?Jw(_.toString(),m):Zw(_.toString(),m)}else vt(2);o.I=0,o.l&&o.l.pa(d),ay(o),Zg(o)}t.bb=function(o){o?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function ay(o){if(o.I=0,o.ja=[],o.l){const d=Pg(o.h);(d.length!=0||o.i.length!=0)&&(N(o.ja,d),N(o.ja,o.i),o.h.i.length=0,y(o.i),o.i.length=0),o.l.oa()}}function oy(o,d,m){var _=m instanceof ui?mn(m):new ui(m);if(_.g!="")d&&(_.g=d+"."+_.g),Oa(_,_.u);else{var O=a.location;_=O.protocol,d=d?d+"."+O.hostname:O.hostname,O=+O.port;const V=new ui(null);_&&Da(V,_),d&&(V.g=d),O&&Oa(V,O),m&&(V.h=m),_=V}return m=o.G,d=o.wa,m&&d&&xe(_,m,d),xe(_,"VER",o.ka),Ua(o,_),_}function ly(o,d,m){if(d&&!o.L)throw Error("Can't create secondary domain capable XhrIo object.");return d=o.Aa&&!o.ma?new De(new Lh({ab:m})):new De(o.ma),d.Fa(o.L),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function cy(){}t=cy.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Pl(){}Pl.prototype.g=function(o,d){return new Ot(o,d)};function Ot(o,d){ft.call(this),this.g=new Jg(d),this.l=o,this.h=d&&d.messageUrlParams||null,o=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(o?o["X-WebChannel-Content-Type"]=d.messageContentType:o={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.sa&&(o?o["X-WebChannel-Client-Profile"]=d.sa:o={"X-WebChannel-Client-Profile":d.sa}),this.g.U=o,(o=d&&d.Qb)&&!S(o)&&(this.g.u=o),this.A=d&&d.supportsCrossDomainXhr||!1,this.v=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!S(d)&&(this.g.G=d,o=this.h,o!==null&&d in o&&(o=this.h,d in o&&delete o[d])),this.j=new ns(this)}g(Ot,ft),Ot.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ot.prototype.close=function(){Uh(this.g)},Ot.prototype.o=function(o){var d=this.g;if(typeof o=="string"){var m={};m.__data__=o,o=m}else this.v&&(m={},m.__data__=Ah(o),o=m);d.i.push(new Fw(d.Ya++,o)),d.I==3&&kl(d)},Ot.prototype.N=function(){this.g.l=null,delete this.j,Uh(this.g),delete this.g,Ot.Z.N.call(this)};function uy(o){Rh.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var d=o.__sm__;if(d){e:{for(const m in d){o=m;break e}o=void 0}(this.i=o)&&(o=this.i,d=d!==null&&o in d?d[o]:void 0),this.data=d}else this.data=o}g(uy,Rh);function hy(){Nh.call(this),this.status=1}g(hy,Nh);function ns(o){this.g=o}g(ns,cy),ns.prototype.ra=function(){_t(this.g,"a")},ns.prototype.qa=function(o){_t(this.g,new uy(o))},ns.prototype.pa=function(o){_t(this.g,new hy)},ns.prototype.oa=function(){_t(this.g,"b")},Pl.prototype.createWebChannel=Pl.prototype.g,Ot.prototype.send=Ot.prototype.o,Ot.prototype.open=Ot.prototype.m,Ot.prototype.close=Ot.prototype.close,Kx=function(){return new Pl},Gx=function(){return Cl()},Fx=pr,Xf={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Il.NO_ERROR=0,Il.TIMEOUT=8,Il.HTTP_ERROR=6,Ic=Il,Rg.COMPLETE="complete",Hx=Rg,Tg.EventType=Sa,Sa.OPEN="a",Sa.CLOSE="b",Sa.ERROR="c",Sa.MESSAGE="d",ft.prototype.listen=ft.prototype.J,no=Tg,De.prototype.listenOnce=De.prototype.K,De.prototype.getLastError=De.prototype.Ha,De.prototype.getLastErrorCode=De.prototype.ya,De.prototype.getStatus=De.prototype.ca,De.prototype.getResponseJson=De.prototype.La,De.prototype.getResponseText=De.prototype.la,De.prototype.send=De.prototype.ea,De.prototype.setWithCredentials=De.prototype.Fa,qx=De}).apply(typeof rc<"u"?rc:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pt.UNAUTHENTICATED=new pt(null),pt.GOOGLE_CREDENTIALS=new pt("google-credentials-uid"),pt.FIRST_PARTY=new pt("first-party-uid"),pt.MOCK_USER=new pt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let va="12.8.0";function M4(t){va=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br=new bp("@firebase/firestore");function ls(){return Br.logLevel}function H(t,...e){if(Br.logLevel<=re.DEBUG){const n=e.map(Op);Br.debug(`Firestore (${va}): ${t}`,...n)}}function ri(t,...e){if(Br.logLevel<=re.ERROR){const n=e.map(Op);Br.error(`Firestore (${va}): ${t}`,...n)}}function Ws(t,...e){if(Br.logLevel<=re.WARN){const n=e.map(Op);Br.warn(`Firestore (${va}): ${t}`,...n)}}function Op(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,Yx(t,i,n)}function Yx(t,e,n){let i=`FIRESTORE (${va}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw ri(i),new Error(i)}function de(t,e,n,i){let r="Unexpected state";typeof n=="string"?r=n:i=n,t||Yx(e,r,i)}function X(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class B extends oi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class V4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(pt.UNAUTHENTICATED))}shutdown(){}}class k4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class L4{constructor(e){this.t=e,this.currentUser=pt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){de(this.o===void 0,42304);let i=this.i;const r=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let s=new Yi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Yi,e.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await r(this.currentUser)})},l=c=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Yi)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(de(typeof i.accessToken=="string",31837,{l:i}),new Qx(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return de(e===null||typeof e=="string",2055,{h:e}),new pt(e)}}class P4{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=pt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class U4{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new P4(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(pt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Sv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class z4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,on(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){de(this.o===void 0,3512);const i=s=>{s.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,H("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?r(s):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Sv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(de(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Sv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=B4(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=e.charAt(r[s]%62))}return i}}function se(t,e){return t<e?-1:t>e?1:0}function Wf(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const r=t.charAt(i),s=e.charAt(i);if(r!==s)return kd(r)===kd(s)?se(r,s):kd(r)?1:-1}return se(t.length,e.length)}const q4=55296,H4=57343;function kd(t){const e=t.charCodeAt(0);return e>=q4&&e<=H4}function Js(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av="__name__";class gn{constructor(e,n,i){n===void 0?n=0:n>e.length&&Y(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Y(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return gn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof gn?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const s=gn.compareSegments(e.get(r),n.get(r));if(s!==0)return s}return se(e.length,n.length)}static compareSegments(e,n){const i=gn.isNumericId(e),r=gn.isNumericId(n);return i&&!r?-1:!i&&r?1:i&&r?gn.extractNumericId(e).compare(gn.extractNumericId(n)):Wf(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ki.fromString(e.substring(4,e.length-2))}}class be extends gn{construct(e,n,i){return new be(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new B(k.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new be(n)}static emptyPath(){return new be([])}}const F4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class lt extends gn{construct(e,n,i){return new lt(e,n,i)}static isValidIdentifier(e){return F4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),lt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Av}static keyField(){return new lt([Av])}static fromServerFormat(e){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new B(k.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;r<e.length;){const l=e[r];if(l==="\\"){if(r+1===e.length)throw new B(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new B(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,r+=2}else l==="`"?(a=!a,r++):l!=="."||a?(i+=l,r++):(s(),r++)}if(s(),a)throw new B(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new lt(n)}static emptyPath(){return new lt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.path=e}static fromPath(e){return new G(be.fromString(e))}static fromName(e){return new G(be.fromString(e).popFirst(5))}static empty(){return new G(be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&be.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return be.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new G(new be(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $x(t,e,n){if(!n)throw new B(k.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function G4(t,e,n,i){if(e===!0&&i===!0)throw new B(k.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Rv(t){if(!G.isDocumentKey(t))throw new B(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Nv(t){if(G.isDocumentKey(t))throw new B(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Xx(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function rh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Y(12329,{type:typeof t})}function xn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new B(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=rh(t);throw new B(k.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(t,e){const n={typeString:t};return e&&(n.value=e),n}function Tl(t,e){if(!Xx(t))throw new B(k.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const r=e[i].typeString,s="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const a=t[i];if(r&&typeof a!==r){n=`JSON field '${i}' must be a ${r}.`;break}if(s!==void 0&&a!==s.value){n=`Expected '${i}' field to equal '${s.value}'`;break}}if(n)throw new B(k.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv=-62135596800,Iv=1e6;class ye{static now(){return ye.fromMillis(Date.now())}static fromDate(e){return ye.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*Iv);return new ye(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new B(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new B(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Cv)throw new B(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new B(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Iv}_compareTo(e){return this.seconds===e.seconds?se(this.nanoseconds,e.nanoseconds):se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ye._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Tl(e,ye._jsonSchema))return new ye(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Cv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ye._jsonSchemaVersion="firestore/timestamp/1.0",ye._jsonSchema={type:Ke("string",ye._jsonSchemaVersion),seconds:Ke("number"),nanoseconds:Ke("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${static fromTimestamp(e){return new $(e)}static min(){return new $(new ye(0,0))}static max(){return new $(new ye(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go=-1;function K4(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=$.fromTimestamp(i===1e9?new ye(n+1,0):new ye(n,i));return new er(r,G.empty(),e)}function Y4(t){return new er(t.readTime,t.key,Go)}class er{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new er($.min(),G.empty(),Go)}static max(){return new er($.max(),G.empty(),Go)}}function Q4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=G.comparator(t.documentKey,e.documentKey),n!==0?n:se(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class X4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ea(t){if(t.code!==k.FAILED_PRECONDITION||t.message!==$4)throw t;H("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Y(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new P((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof P?n:P.resolve(n)}catch(n){return P.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):P.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):P.reject(n)}static resolve(e){return new P((n,i)=>{n(e)})}static reject(e){return new P((n,i)=>{i(e)})}static waitFor(e){return new P((n,i)=>{let r=0,s=0,a=!1;e.forEach(l=>{++r,l.next(()=>{++s,a&&s===r&&n()},c=>i(c))}),a=!0,s===r&&n()})}static or(e){let n=P.resolve(!1);for(const i of e)n=n.next(r=>r?P.resolve(r):i());return n}static forEach(e,n){const i=[];return e.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(e,n){return new P((i,r)=>{const s=e.length,a=new Array(s);let l=0;for(let c=0;c<s;c++){const h=c;n(e[h]).next(f=>{a[h]=f,++l,l===s&&i(a)},f=>r(f))}})}static doWhile(e,n){return new P((i,r)=>{const s=()=>{e()===!0?n().next(()=>{s()},r):i()};s()})}}function W4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ba(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}sh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mp=-1;function ah(t){return t==null}function Eu(t){return t===0&&1/t==-1/0}function J4(t){return typeof t=="number"&&Number.isInteger(t)&&!Eu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx="";function Z4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Dv(e)),e=eO(t.get(n),e);return Dv(e)}function eO(t,e){let n=e;const i=t.length;for(let r=0;r<i;r++){const s=t.charAt(r);switch(s){case"\0":n+="";break;case Wx:n+="";break;default:n+=s}}return n}function Dv(t){return t+Wx+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ur(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Jx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e,n){this.comparator=e,this.root=n||st.EMPTY}insert(e,n){return new Ie(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,st.BLACK,null,null))}remove(e){return new Ie(this.comparator,this.root.remove(e,this.comparator).copy(null,null,st.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sc(this.root,e,this.comparator,!1)}getReverseIterator(){return new sc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sc(this.root,e,this.comparator,!0)}}class sc{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?i(e.key,n):1,n&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class st{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??st.RED,this.left=r??st.EMPTY,this.right=s??st.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,s){return new st(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return st.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return st.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,st.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,st.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Y(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Y(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Y(27949);return e+(this.isRed()?0:1)}}st.EMPTY=null,st.RED=!0,st.BLACK=!1;st.EMPTY=new class{constructor(){this.size=0}get key(){throw Y(57766)}get value(){throw Y(16141)}get color(){throw Y(16727)}get left(){throw Y(29726)}get right(){throw Y(36894)}copy(e,n,i,r,s){return this}insert(e,n,i){return new st(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.comparator=e,this.data=new Ie(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new jv(this.data.getIterator())}getIteratorFrom(e){return new jv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Xe)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Xe(this.comparator);return n.data=e,n}}class jv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.fields=e,e.sort(lt.comparator)}static empty(){return new Lt([])}unionWith(e){let n=new Xe(lt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Lt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Js(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Zx("Invalid base64 string: "+s):s}}(e);return new ht(n)}static fromUint8Array(e){const n=function(r){let s="";for(let a=0;a<r.length;++a)s+=String.fromCharCode(r[a]);return s}(e);return new ht(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ht.EMPTY_BYTE_STRING=new ht("");const tO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function tr(t){if(de(!!t,39018),typeof t=="string"){let e=0;const n=tO.exec(t);if(de(!!n,46558,{timestamp:t}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Me(t.seconds),nanos:Me(t.nanos)}}function Me(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function nr(t){return typeof t=="string"?ht.fromBase64String(t):ht.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1="server_timestamp",t1="__type__",n1="__previous_value__",i1="__local_write_time__";function Vp(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[t1])==null?void 0:i.stringValue)===e1}function oh(t){const e=t.mapValue.fields[n1];return Vp(e)?oh(e):e}function Ko(t){const e=tr(t.mapValue.fields[i1].timestampValue);return new ye(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e,n,i,r,s,a,l,c,h,f,g){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=h,this.isUsingEmulator=f,this.apiKey=g}}const bu="(default)";class Yo{constructor(e,n){this.projectId=e,this.database=n||bu}static empty(){return new Yo("","")}get isDefaultDatabase(){return this.database===bu}isEqual(e){return e instanceof Yo&&e.projectId===this.projectId&&e.database===this.database}}function iO(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new B(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yo(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1="__type__",rO="__max__",ac={mapValue:{}},s1="__vector__",Tu="value";function ir(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Vp(t)?4:aO(t)?9007199254740991:sO(t)?10:11:Y(28295,{value:t})}function Nn(t,e){if(t===e)return!0;const n=ir(t);if(n!==ir(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ko(t).isEqual(Ko(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const a=tr(r.timestampValue),l=tr(s.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return nr(r.bytesValue).isEqual(nr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return Me(r.geoPointValue.latitude)===Me(s.geoPointValue.latitude)&&Me(r.geoPointValue.longitude)===Me(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Me(r.integerValue)===Me(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const a=Me(r.doubleValue),l=Me(s.doubleValue);return a===l?Eu(a)===Eu(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return Js(t.arrayValue.values||[],e.arrayValue.values||[],Nn);case 10:case 11:return function(r,s){const a=r.mapValue.fields||{},l=s.mapValue.fields||{};if(Ov(a)!==Ov(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!Nn(a[c],l[c])))return!1;return!0}(t,e);default:return Y(52216,{left:t})}}function Qo(t,e){return(t.values||[]).find(n=>Nn(n,e))!==void 0}function Zs(t,e){if(t===e)return 0;const n=ir(t),i=ir(e);if(n!==i)return se(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return se(t.booleanValue,e.booleanValue);case 2:return function(s,a){const l=Me(s.integerValue||s.doubleValue),c=Me(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return Mv(t.timestampValue,e.timestampValue);case 4:return Mv(Ko(t),Ko(e));case 5:return Wf(t.stringValue,e.stringValue);case 6:return function(s,a){const l=nr(s),c=nr(a);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const l=s.split("/"),c=a.split("/");for(let h=0;h<l.length&&h<c.length;h++){const f=se(l[h],c[h]);if(f!==0)return f}return se(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const l=se(Me(s.latitude),Me(a.latitude));return l!==0?l:se(Me(s.longitude),Me(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Vv(t.arrayValue,e.arrayValue);case 10:return function(s,a){var p,y,N,D;const l=s.fields||{},c=a.fields||{},h=(p=l[Tu])==null?void 0:p.arrayValue,f=(y=c[Tu])==null?void 0:y.arrayValue,g=se(((N=h==null?void 0:h.values)==null?void 0:N.length)||0,((D=f==null?void 0:f.values)==null?void 0:D.length)||0);return g!==0?g:Vv(h,f)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===ac.mapValue&&a===ac.mapValue)return 0;if(s===ac.mapValue)return 1;if(a===ac.mapValue)return-1;const l=s.fields||{},c=Object.keys(l),h=a.fields||{},f=Object.keys(h);c.sort(),f.sort();for(let g=0;g<c.length&&g<f.length;++g){const p=Wf(c[g],f[g]);if(p!==0)return p;const y=Zs(l[c[g]],h[f[g]]);if(y!==0)return y}return se(c.length,f.length)}(t.mapValue,e.mapValue);default:throw Y(23264,{he:n})}}function Mv(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return se(t,e);const n=tr(t),i=tr(e),r=se(n.seconds,i.seconds);return r!==0?r:se(n.nanos,i.nanos)}function Vv(t,e){const n=t.values||[],i=e.values||[];for(let r=0;r<n.length&&r<i.length;++r){const s=Zs(n[r],i[r]);if(s)return s}return se(n.length,i.length)}function ea(t){return Jf(t)}function Jf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=tr(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return nr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return G.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(const s of n.values||[])r?r=!1:i+=",",i+=Jf(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",s=!0;for(const a of i)s?s=!1:r+=",",r+=`${a}:${Jf(n.fields[a])}`;return r+"}"}(t.mapValue):Y(61005,{value:t})}function Dc(t){switch(ir(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=oh(t);return e?16+Dc(e):16;case 5:return 2*t.stringValue.length;case 6:return nr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,s)=>r+Dc(s),0)}(t.arrayValue);case 10:case 11:return function(i){let r=0;return ur(i.fields,(s,a)=>{r+=s.length+Dc(a)}),r}(t.mapValue);default:throw Y(13486,{value:t})}}function kv(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Zf(t){return!!t&&"integerValue"in t}function kp(t){return!!t&&"arrayValue"in t}function Lv(t){return!!t&&"nullValue"in t}function Pv(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Oc(t){return!!t&&"mapValue"in t}function sO(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[r1])==null?void 0:i.stringValue)===s1}function xo(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ur(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=xo(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=xo(t.arrayValue.values[n]);return e}return{...t}}function aO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===rO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.value=e}static empty(){return new Nt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Oc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=xo(n)}setAll(e){let n=lt.emptyPath(),i={},r=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,i,r),i={},r=[],n=l.popLast()}a?i[l.lastSegment()]=xo(a):r.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(e){const n=this.field(e.popLast());Oc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Nn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];Oc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){ur(n,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new Nt(xo(this.value))}}function a1(t){const e=[];return ur(t.fields,(n,i)=>{const r=new lt([n]);if(Oc(i)){const s=a1(i.mapValue).fields;if(s.length===0)e.push(r);else for(const a of s)e.push(r.child(a))}else e.push(r)}),new Lt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,n,i,r,s,a,l){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=a,this.documentState=l}static newInvalidDocument(e){return new gt(e,0,$.min(),$.min(),$.min(),Nt.empty(),0)}static newFoundDocument(e,n,i,r){return new gt(e,1,n,$.min(),i,r,0)}static newNoDocument(e,n){return new gt(e,2,n,$.min(),$.min(),Nt.empty(),0)}static newUnknownDocument(e,n){return new gt(e,3,n,$.min(),$.min(),Nt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual($.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e,n){this.position=e,this.inclusive=n}}function Uv(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const s=e[r],a=t.position[r];if(s.field.isKeyField()?i=G.comparator(G.fromName(a.referenceValue),n.key):i=Zs(a,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function zv(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Nn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e,n="asc"){this.field=e,this.dir=n}}function oO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{}class Fe extends o1{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new cO(e,n,i):n==="array-contains"?new dO(e,i):n==="in"?new fO(e,i):n==="not-in"?new mO(e,i):n==="array-contains-any"?new pO(e,i):new Fe(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new uO(e,i):new hO(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Zs(n,this.value)):n!==null&&ir(this.value)===ir(n)&&this.matchesComparison(Zs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Y(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class dn extends o1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new dn(e,n)}matches(e){return l1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function l1(t){return t.op==="and"}function c1(t){return lO(t)&&l1(t)}function lO(t){for(const e of t.filters)if(e instanceof dn)return!1;return!0}function em(t){if(t instanceof Fe)return t.field.canonicalString()+t.op.toString()+ea(t.value);if(c1(t))return t.filters.map(e=>em(e)).join(",");{const e=t.filters.map(n=>em(n)).join(",");return`${t.op}(${e})`}}function u1(t,e){return t instanceof Fe?function(i,r){return r instanceof Fe&&i.op===r.op&&i.field.isEqual(r.field)&&Nn(i.value,r.value)}(t,e):t instanceof dn?function(i,r){return r instanceof dn&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,a,l)=>s&&u1(a,r.filters[l]),!0):!1}(t,e):void Y(19439)}function h1(t){return t instanceof Fe?function(n){return`${n.field.canonicalString()} ${n.op} ${ea(n.value)}`}(t):t instanceof dn?function(n){return n.op.toString()+" {"+n.getFilters().map(h1).join(" ,")+"}"}(t):"Filter"}class cO extends Fe{constructor(e,n,i){super(e,n,i),this.key=G.fromName(i.referenceValue)}matches(e){const n=G.comparator(e.key,this.key);return this.matchesComparison(n)}}class uO extends Fe{constructor(e,n){super(e,"in",n),this.keys=d1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class hO extends Fe{constructor(e,n){super(e,"not-in",n),this.keys=d1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function d1(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(i=>G.fromName(i.referenceValue))}class dO extends Fe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return kp(n)&&Qo(n.arrayValue,this.value)}}class fO extends Fe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Qo(this.value.arrayValue,n)}}class mO extends Fe{constructor(e,n){super(e,"not-in",n)}matches(e){if(Qo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Qo(this.value.arrayValue,n)}}class pO extends Fe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!kp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Qo(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e,n=null,i=[],r=[],s=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=a,this.endAt=l,this.Te=null}}function Bv(t,e=null,n=[],i=[],r=null,s=null,a=null){return new gO(t,e,n,i,r,s,a)}function Lp(t){const e=X(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>em(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),ah(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>ea(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>ea(i)).join(",")),e.Te=n}return e.Te}function Pp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!oO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!u1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!zv(t.startAt,e.startAt)&&zv(t.endAt,e.endAt)}function tm(t){return G.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e,n=null,i=[],r=[],s=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=a,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function yO(t,e,n,i,r,s,a,l){return new Ta(t,e,n,i,r,s,a,l)}function lh(t){return new Ta(t)}function qv(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function _O(t){return G.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function f1(t){return t.collectionGroup!==null}function wo(t){const e=X(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new Xe(lt.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new $o(s,i))}),n.has(lt.keyField().canonicalString())||e.Ie.push(new $o(lt.keyField(),i))}return e.Ie}function wn(t){const e=X(t);return e.Ee||(e.Ee=vO(e,wo(t))),e.Ee}function vO(t,e){if(t.limitType==="F")return Bv(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new $o(r.field,s)});const n=t.endAt?new xu(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new xu(t.startAt.position,t.startAt.inclusive):null;return Bv(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function nm(t,e){const n=t.filters.concat([e]);return new Ta(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function EO(t,e){const n=t.explicitOrderBy.concat([e]);return new Ta(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function im(t,e,n){return new Ta(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ch(t,e){return Pp(wn(t),wn(e))&&t.limitType===e.limitType}function m1(t){return`${Lp(wn(t))}|lt:${t.limitType}`}function cs(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>h1(r)).join(", ")}]`),ah(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>ea(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>ea(r)).join(",")),`Target(${i})`}(wn(t))}; limitType=${t.limitType})`}function uh(t,e){return e.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):G.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(t,e)&&function(i,r){for(const s of wo(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(a,l,c){const h=Uv(a,l,c);return a.inclusive?h<=0:h<0}(i.startAt,wo(i),r)||i.endAt&&!function(a,l,c){const h=Uv(a,l,c);return a.inclusive?h>=0:h>0}(i.endAt,wo(i),r))}(t,e)}function bO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function p1(t){return(e,n)=>{let i=!1;for(const r of wo(t)){const s=TO(r,e,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function TO(t,e,n){const i=t.field.isKeyField()?G.comparator(e.key,n.key):function(s,a,l){const c=a.data.field(s),h=l.data.field(s);return c!==null&&h!==null?Zs(c,h):Y(42886)}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Y(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){ur(this.inner,(n,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return Jx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO=new Ie(G.comparator);function si(){return xO}const g1=new Ie(G.comparator);function io(...t){let e=g1;for(const n of t)e=e.insert(n.key,n);return e}function y1(t){let e=g1;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Ar(){return So()}function _1(){return So()}function So(){return new Xr(t=>t.toString(),(t,e)=>t.isEqual(e))}const wO=new Ie(G.comparator),SO=new Xe(G.comparator);function ae(...t){let e=SO;for(const n of t)e=e.add(n);return e}const AO=new Xe(se);function RO(){return AO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Up(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Eu(e)?"-0":e}}function v1(t){return{integerValue:""+t}}function NO(t,e){return J4(e)?v1(e):Up(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(){this._=void 0}}function CO(t,e,n){return t instanceof Xo?function(r,s){const a={fields:{[t1]:{stringValue:e1},[i1]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Vp(s)&&(s=oh(s)),s&&(a.fields[n1]=s),{mapValue:a}}(n,e):t instanceof Wo?b1(t,e):t instanceof Jo?T1(t,e):function(r,s){const a=E1(r,s),l=Hv(a)+Hv(r.Ae);return Zf(a)&&Zf(r.Ae)?v1(l):Up(r.serializer,l)}(t,e)}function IO(t,e,n){return t instanceof Wo?b1(t,e):t instanceof Jo?T1(t,e):n}function E1(t,e){return t instanceof wu?function(i){return Zf(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}class Xo extends hh{}class Wo extends hh{constructor(e){super(),this.elements=e}}function b1(t,e){const n=x1(e);for(const i of t.elements)n.some(r=>Nn(r,i))||n.push(i);return{arrayValue:{values:n}}}class Jo extends hh{constructor(e){super(),this.elements=e}}function T1(t,e){let n=x1(e);for(const i of t.elements)n=n.filter(r=>!Nn(r,i));return{arrayValue:{values:n}}}class wu extends hh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Hv(t){return Me(t.integerValue||t.doubleValue)}function x1(t){return kp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e,n){this.field=e,this.transform=n}}function OO(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof Wo&&r instanceof Wo||i instanceof Jo&&r instanceof Jo?Js(i.elements,r.elements,Nn):i instanceof wu&&r instanceof wu?Nn(i.Ae,r.Ae):i instanceof Xo&&r instanceof Xo}(t.transform,e.transform)}class jO{constructor(e,n){this.version=e,this.transformResults=n}}class cn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new cn}static exists(e){return new cn(void 0,e)}static updateTime(e){return new cn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class dh{}function w1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new zp(t.key,cn.none()):new xl(t.key,t.data,cn.none());{const n=t.data,i=Nt.empty();let r=new Xe(lt.comparator);for(let s of e.fields)if(!r.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?i.delete(s):i.set(s,a),r=r.add(s)}return new hr(t.key,i,new Lt(r.toArray()),cn.none())}}function MO(t,e,n){t instanceof xl?function(r,s,a){const l=r.value.clone(),c=Gv(r.fieldTransforms,s,a.transformResults);l.setAll(c),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof hr?function(r,s,a){if(!jc(r.precondition,s))return void s.convertToUnknownDocument(a.version);const l=Gv(r.fieldTransforms,s,a.transformResults),c=s.data;c.setAll(S1(r)),c.setAll(l),s.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):function(r,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Ao(t,e,n,i){return t instanceof xl?function(s,a,l,c){if(!jc(s.precondition,a))return l;const h=s.value.clone(),f=Kv(s.fieldTransforms,c,a);return h.setAll(f),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null}(t,e,n,i):t instanceof hr?function(s,a,l,c){if(!jc(s.precondition,a))return l;const h=Kv(s.fieldTransforms,c,a),f=a.data;return f.setAll(S1(s)),f.setAll(h),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(t,e,n,i):function(s,a,l){return jc(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function VO(t,e){let n=null;for(const i of t.fieldTransforms){const r=e.data.field(i.field),s=E1(i.transform,r||null);s!=null&&(n===null&&(n=Nt.empty()),n.set(i.field,s))}return n||null}function Fv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Js(i,r,(s,a)=>OO(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class xl extends dh{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class hr extends dh{constructor(e,n,i,r,s=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function S1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function Gv(t,e,n){const i=new Map;de(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let r=0;r<n.length;r++){const s=t[r],a=s.transform,l=e.data.field(s.field);i.set(s.field,IO(a,l,n[r]))}return i}function Kv(t,e,n){const i=new Map;for(const r of t){const s=r.transform,a=n.data.field(r.field);i.set(r.field,CO(s,a,e))}return i}class zp extends dh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kO extends dh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&MO(s,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Ao(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Ao(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=_1();return this.mutations.forEach(r=>{const s=e.get(r.key),a=s.overlayedDocument;let l=this.applyToLocalView(a,s.mutatedFields);l=n.has(r.key)?null:l;const c=w1(a,l);c!==null&&i.set(r.key,c),a.isValidDocument()||a.convertToNoDocument($.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ae())}isEqual(e){return this.batchId===e.batchId&&Js(this.mutations,e.mutations,(n,i)=>Fv(n,i))&&Js(this.baseMutations,e.baseMutations,(n,i)=>Fv(n,i))}}class Bp{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){de(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let r=function(){return wO}();const s=e.mutations;for(let a=0;a<s.length;a++)r=r.insert(s[a].key,i[a].version);return new Bp(e,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze,ce;function zO(t){switch(t){case k.OK:return Y(64938);case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0;default:return Y(15467,{code:t})}}function A1(t){if(t===void 0)return ri("GRPC error has no .code"),k.UNKNOWN;switch(t){case ze.OK:return k.OK;case ze.CANCELLED:return k.CANCELLED;case ze.UNKNOWN:return k.UNKNOWN;case ze.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case ze.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case ze.INTERNAL:return k.INTERNAL;case ze.UNAVAILABLE:return k.UNAVAILABLE;case ze.UNAUTHENTICATED:return k.UNAUTHENTICATED;case ze.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case ze.NOT_FOUND:return k.NOT_FOUND;case ze.ALREADY_EXISTS:return k.ALREADY_EXISTS;case ze.PERMISSION_DENIED:return k.PERMISSION_DENIED;case ze.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case ze.ABORTED:return k.ABORTED;case ze.OUT_OF_RANGE:return k.OUT_OF_RANGE;case ze.UNIMPLEMENTED:return k.UNIMPLEMENTED;case ze.DATA_LOSS:return k.DATA_LOSS;default:return Y(39323,{code:t})}}(ce=ze||(ze={}))[ce.OK=0]="OK",ce[ce.CANCELLED=1]="CANCELLED",ce[ce.UNKNOWN=2]="UNKNOWN",ce[ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ce[ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ce[ce.NOT_FOUND=5]="NOT_FOUND",ce[ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",ce[ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",ce[ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",ce[ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ce[ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ce[ce.ABORTED=10]="ABORTED",ce[ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",ce[ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",ce[ce.INTERNAL=13]="INTERNAL",ce[ce.UNAVAILABLE=14]="UNAVAILABLE",ce[ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO=new Ki([4294967295,4294967295],0);function Yv(t){const e=BO().encode(t),n=new Bx;return n.update(e),new Uint8Array(n.digest())}function Qv(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ki([n,i],0),new Ki([r,s],0)]}class qp{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new ro(`Invalid padding: ${n}`);if(i<0)throw new ro(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new ro(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new ro(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ki.fromNumber(this.ge)}ye(e,n,i){let r=e.add(n.multiply(Ki.fromNumber(i)));return r.compare(qO)===1&&(r=new Ki([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Yv(e),[i,r]=Qv(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(i,r,s);if(!this.we(a))return!1}return!0}static create(e,n,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new qp(s,r,n);return i.forEach(l=>a.insert(l)),a}insert(e){if(this.ge===0)return;const n=Yv(e),[i,r]=Qv(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(i,r,s);this.be(a)}}be(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class ro extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,n,i,r,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const r=new Map;return r.set(e,wl.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new fh($.min(),r,new Ie(se),si(),ae())}}class wl{constructor(e,n,i,r,s){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new wl(i,n,ae(),ae(),ae())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,n,i,r){this.Se=e,this.removedTargetIds=n,this.key=i,this.De=r}}class R1{constructor(e,n){this.targetId=e,this.Ce=n}}class N1{constructor(e,n,i=ht.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}}class $v{constructor(){this.ve=0,this.Fe=Xv(),this.Me=ht.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ae(),n=ae(),i=ae();return this.Fe.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:Y(38017,{changeType:s})}}),new wl(this.Me,this.xe,e,n,i)}Ke(){this.Oe=!1,this.Fe=Xv()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,de(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class HO{constructor(e){this.Ge=e,this.ze=new Map,this.je=si(),this.He=oc(),this.Je=oc(),this.Ze=new Ie(se)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Y(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((i,r)=>{this.rt(r)&&n(r)})}st(e){const n=e.targetId,i=e.Ce.count,r=this.ot(n);if(r){const s=r.target;if(tm(s))if(i===0){const a=new G(s.path);this.et(n,a,gt.newNoDocument(a,$.min()))}else de(i===1,20013,{expectedCount:i});else{const a=this._t(n);if(a!==i){const l=this.ut(e),c=l?this.ct(l,e,a):1;if(c!==0){this.it(n);const h=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n;let a,l;try{a=nr(i).toUint8Array()}catch(c){if(c instanceof Zx)return Ws("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new qp(a,r,s)}catch(c){return Ws(c instanceof ro?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let r=0;return i.forEach(s=>{const a=this.Ge.ht(),l=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.et(n,s,null),r++)}),r}Tt(e){const n=new Map;this.ze.forEach((s,a)=>{const l=this.ot(a);if(l){if(s.current&&tm(l.target)){const c=new G(l.target.path);this.It(c).has(a)||this.Et(a,c)||this.et(a,c,gt.newNoDocument(c,e))}s.Be&&(n.set(a,s.ke()),s.Ke())}});let i=ae();this.Je.forEach((s,a)=>{let l=!0;a.forEachWhile(c=>{const h=this.ot(c);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(i=i.add(s))}),this.je.forEach((s,a)=>a.setReadTime(e));const r=new fh(e,n,this.Ze,this.je,i);return this.je=si(),this.He=oc(),this.Je=oc(),this.Ze=new Ie(se),r}Ye(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,i),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,n)?r.qe(n,1):r.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new $v,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Xe(se),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Xe(se),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||H("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new $v),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function oc(){return new Ie(G.comparator)}function Xv(){return new Ie(G.comparator)}const FO={asc:"ASCENDING",desc:"DESCENDING"},GO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},KO={and:"AND",or:"OR"};class YO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function rm(t,e){return t.useProto3Json||ah(e)?e:{value:e}}function Su(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function C1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function QO(t,e){return Su(t,e.toTimestamp())}function Sn(t){return de(!!t,49232),$.fromTimestamp(function(n){const i=tr(n);return new ye(i.seconds,i.nanos)}(t))}function Hp(t,e){return sm(t,e).canonicalString()}function sm(t,e){const n=function(r){return new be(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function I1(t){const e=be.fromString(t);return de(V1(e),10190,{key:e.toString()}),e}function am(t,e){return Hp(t.databaseId,e.path)}function Ld(t,e){const n=I1(e);if(n.get(1)!==t.databaseId.projectId)throw new B(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new B(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new G(O1(n))}function D1(t,e){return Hp(t.databaseId,e)}function $O(t){const e=I1(t);return e.length===4?be.emptyPath():O1(e)}function om(t){return new be(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function O1(t){return de(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Wv(t,e,n){return{name:am(t,e),fields:n.value.mapValue.fields}}function XO(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Y(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(h,f){return h.useProto3Json?(de(f===void 0||typeof f=="string",58123),ht.fromBase64String(f||"")):(de(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),ht.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(h){const f=h.code===void 0?k.UNKNOWN:A1(h.code);return new B(f,h.message||"")}(a);n=new N1(i,r,s,l||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=Ld(t,i.document.name),s=Sn(i.document.updateTime),a=i.document.createTime?Sn(i.document.createTime):$.min(),l=new Nt({mapValue:{fields:i.document.fields}}),c=gt.newFoundDocument(r,s,a,l),h=i.targetIds||[],f=i.removedTargetIds||[];n=new Mc(h,f,c.key,c)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=Ld(t,i.document),s=i.readTime?Sn(i.readTime):$.min(),a=gt.newNoDocument(r,s),l=i.removedTargetIds||[];n=new Mc([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=Ld(t,i.document),s=i.removedTargetIds||[];n=new Mc([],s,r,null)}else{if(!("filter"in e))return Y(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,a=new UO(r,s),l=i.targetId;n=new R1(l,a)}}return n}function WO(t,e){let n;if(e instanceof xl)n={update:Wv(t,e.key,e.value)};else if(e instanceof zp)n={delete:am(t,e.key)};else if(e instanceof hr)n={update:Wv(t,e.key,e.data),updateMask:aj(e.fieldMask)};else{if(!(e instanceof kO))return Y(16599,{dt:e.type});n={verify:am(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(s,a){const l=a.transform;if(l instanceof Xo)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Wo)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Jo)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof wu)return{fieldPath:a.field.canonicalString(),increment:l.Ae};throw Y(20930,{transform:a.transform})}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:QO(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Y(27497)}(t,e.precondition)),n}function JO(t,e){return t&&t.length>0?(de(e!==void 0,14353),t.map(n=>function(r,s){let a=r.updateTime?Sn(r.updateTime):Sn(s);return a.isEqual($.min())&&(a=Sn(s)),new jO(a,r.transformResults||[])}(n,e))):[]}function ZO(t,e){return{documents:[D1(t,e.path)]}}function ej(t,e){const n={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=D1(t,r);const s=function(h){if(h.length!==0)return M1(dn.create(h,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(h){if(h.length!==0)return h.map(f=>function(p){return{field:us(p.field),direction:ij(p.dir)}}(f))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=rm(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ft:n,parent:r}}function tj(t){let e=$O(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){de(i===1,65062);const f=n.from[0];f.allDescendants?r=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(g){const p=j1(g);return p instanceof dn&&c1(p)?p.getFilters():[p]}(n.where));let a=[];n.orderBy&&(a=function(g){return g.map(p=>function(N){return new $o(hs(N.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(p))}(n.orderBy));let l=null;n.limit&&(l=function(g){let p;return p=typeof g=="object"?g.value:g,ah(p)?null:p}(n.limit));let c=null;n.startAt&&(c=function(g){const p=!!g.before,y=g.values||[];return new xu(y,p)}(n.startAt));let h=null;return n.endAt&&(h=function(g){const p=!g.before,y=g.values||[];return new xu(y,p)}(n.endAt)),yO(e,r,a,s,l,"F",c,h)}function nj(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Y(28987,{purpose:r})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function j1(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=hs(n.unaryFilter.field);return Fe.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=hs(n.unaryFilter.field);return Fe.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=hs(n.unaryFilter.field);return Fe.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=hs(n.unaryFilter.field);return Fe.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Y(61313);default:return Y(60726)}}(t):t.fieldFilter!==void 0?function(n){return Fe.create(hs(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Y(58110);default:return Y(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return dn.create(n.compositeFilter.filters.map(i=>j1(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Y(1026)}}(n.compositeFilter.op))}(t):Y(30097,{filter:t})}function ij(t){return FO[t]}function rj(t){return GO[t]}function sj(t){return KO[t]}function us(t){return{fieldPath:t.canonicalString()}}function hs(t){return lt.fromServerFormat(t.fieldPath)}function M1(t){return t instanceof Fe?function(n){if(n.op==="=="){if(Pv(n.value))return{unaryFilter:{field:us(n.field),op:"IS_NAN"}};if(Lv(n.value))return{unaryFilter:{field:us(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Pv(n.value))return{unaryFilter:{field:us(n.field),op:"IS_NOT_NAN"}};if(Lv(n.value))return{unaryFilter:{field:us(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:us(n.field),op:rj(n.op),value:n.value}}}(t):t instanceof dn?function(n){const i=n.getFilters().map(r=>M1(r));return i.length===1?i[0]:{compositeFilter:{op:sj(n.op),filters:i}}}(t):Y(54877,{filter:t})}function aj(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function V1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function k1(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e,n,i,r,s=$.min(),a=$.min(),l=ht.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Oi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Oi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(e){this.yt=e}}function lj(t){const e=tj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?im(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(){this.Sn=new uj}addToCollectionParentIndex(e,n){return this.Sn.add(n),P.resolve()}getCollectionParents(e,n){return P.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return P.resolve()}deleteFieldIndex(e,n){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,n){return P.resolve()}getDocumentsMatchingTarget(e,n){return P.resolve(null)}getIndexType(e,n){return P.resolve(0)}getFieldIndexes(e,n){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,n){return P.resolve(er.min())}getMinOffsetFromCollectionGroup(e,n){return P.resolve(er.min())}updateCollectionGroup(e,n,i){return P.resolve()}updateIndexEntries(e,n){return P.resolve()}}class uj{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new Xe(be.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Xe(be.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},L1=41943040;class Rt{static withCacheSize(e){return new Rt(e,Rt.DEFAULT_COLLECTION_PERCENTILE,Rt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rt.DEFAULT_COLLECTION_PERCENTILE=10,Rt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rt.DEFAULT=new Rt(L1,Rt.DEFAULT_COLLECTION_PERCENTILE,Rt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rt.DISABLED=new Rt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new ta(0)}static ar(){return new ta(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv="LruGarbageCollector",hj=1048576;function e0([t,e],[n,i]){const r=se(t,n);return r===0?se(e,i):r}class dj{constructor(e){this.Pr=e,this.buffer=new Xe(e0),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();e0(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class fj{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){H(Zv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ba(n)?H(Zv,"Ignoring IndexedDB error during garbage collection: ",n):await Ea(n)}await this.Ar(3e5)})}}class mj{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return P.resolve(sh.ce);const i=new dj(n);return this.Vr.forEachTarget(e,r=>i.Er(r.sequenceNumber)).next(()=>this.Vr.mr(e,r=>i.Er(r))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.Vr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(H("LruGarbageCollector","Garbage collection skipped; disabled"),P.resolve(Jv)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(H("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Jv):this.gr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let i,r,s,a,l,c,h;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(H("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),r=this.params.maximumSequenceNumbersToCollect):r=g,a=Date.now(),this.nthSequenceNumber(e,r))).next(g=>(i=g,l=Date.now(),this.removeTargets(e,i,n))).next(g=>(s=g,c=Date.now(),this.removeOrphanedDocuments(e,i))).next(g=>(h=Date.now(),ls()<=re.DEBUG&&H("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-f}ms
	Determined least recently used ${r} in `+(l-a)+`ms
	Removed ${s} targets in `+(c-l)+`ms
	Removed ${g} documents in `+(h-c)+`ms
Total Duration: ${h-f}ms`),P.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:g})))}}function pj(t,e){return new mj(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(){this.changes=new Xr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,gt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?P.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&Ao(i.mutation,r,Lt.empty(),ye.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,ae()).next(()=>i))}getLocalViewOfDocuments(e,n,i=ae()){const r=Ar();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(s=>{let a=io();return s.forEach((l,c)=>{a=a.insert(l,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const i=Ar();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,ae()))}populateOverlays(e,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,i,r){let s=si();const a=So(),l=function(){return So()}();return n.forEach((c,h)=>{const f=i.get(h.key);r.has(h.key)&&(f===void 0||f.mutation instanceof hr)?s=s.insert(h.key,h):f!==void 0?(a.set(h.key,f.mutation.getFieldMask()),Ao(f.mutation,h,f.mutation.getFieldMask(),ye.now())):a.set(h.key,Lt.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((h,f)=>a.set(h,f)),n.forEach((h,f)=>l.set(h,new yj(f,a.get(h)??null))),l))}recalculateAndSaveOverlays(e,n){const i=So();let r=new Ie((a,l)=>a-l),s=ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(c=>{const h=n.get(c);if(h===null)return;let f=i.get(c)||Lt.empty();f=l.applyToLocalView(h,f),i.set(c,f);const g=(r.get(l.batchId)||ae()).add(c);r=r.insert(l.batchId,g)})}).next(()=>{const a=[],l=r.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),h=c.key,f=c.value,g=_1();f.forEach(p=>{if(!s.has(p)){const y=w1(n.get(p),i.get(p));y!==null&&g.set(p,y),s=s.add(p)}}),a.push(this.documentOverlayCache.saveOverlays(e,h,g))}return P.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return _O(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):f1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(s=>{const a=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-s.size):P.resolve(Ar());let l=Go,c=s;return a.next(h=>P.forEach(h,(f,g)=>(l<g.largestBatchId&&(l=g.largestBatchId),s.get(f)?P.resolve():this.remoteDocumentCache.getEntry(e,f).next(p=>{c=c.insert(f,p)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,c,h,ae())).next(f=>({batchId:l,changes:y1(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new G(n)).next(i=>{let r=io();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){const s=n.collectionGroup;let a=io();return this.indexManager.getCollectionParents(e,s).next(l=>P.forEach(l,c=>{const h=function(g,p){return new Ta(p,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,i,r).next(f=>{f.forEach((g,p)=>{a=a.insert(g,p)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,s,r))).next(a=>{s.forEach((c,h)=>{const f=h.getKey();a.get(f)===null&&(a=a.insert(f,gt.newInvalidDocument(f)))});let l=io();return a.forEach((c,h)=>{const f=s.get(c);f!==void 0&&Ao(f.mutation,h,Lt.empty(),ye.now()),uh(n,h)&&(l=l.insert(c,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return P.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Sn(r.createTime)}}(n)),P.resolve()}getNamedQuery(e,n){return P.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,function(r){return{name:r.name,query:lj(r.bundledQuery),readTime:Sn(r.readTime)}}(n)),P.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{constructor(){this.overlays=new Ie(G.comparator),this.Lr=new Map}getOverlay(e,n){return P.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Ar();return P.forEach(n,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,s)=>{this.bt(e,n,s)}),P.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.Lr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Lr.delete(i)),P.resolve()}getOverlaysForCollection(e,n,i){const r=Ar(),s=n.length+1,a=new G(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,h=c.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&c.largestBatchId>i&&r.set(c.getKey(),c)}return P.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let s=new Ie((h,f)=>h-f);const a=this.overlays.getIterator();for(;a.hasNext();){const h=a.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>i){let f=s.get(h.largestBatchId);f===null&&(f=Ar(),s=s.insert(h.largestBatchId,f)),f.set(h.getKey(),h)}}const l=Ar(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((h,f)=>l.set(h,f)),!(l.size()>=r)););return P.resolve(l)}bt(e,n,i){const r=this.overlays.get(i.key);if(r!==null){const a=this.Lr.get(r.largestBatchId).delete(i.key);this.Lr.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new PO(n,i));let s=this.Lr.get(n);s===void 0&&(s=ae(),this.Lr.set(n,s)),this.Lr.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(){this.sessionToken=ht.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,P.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(){this.kr=new Xe(et.Kr),this.qr=new Xe(et.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const i=new et(e,n);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Wr(new et(e,n))}Qr(e,n){e.forEach(i=>this.removeReference(i,n))}Gr(e){const n=new G(new be([])),i=new et(n,e),r=new et(n,e+1),s=[];return this.qr.forEachInRange([i,r],a=>{this.Wr(a),s.push(a.key)}),s}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new G(new be([])),i=new et(n,e),r=new et(n,e+1);let s=ae();return this.qr.forEachInRange([i,r],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new et(e,0),i=this.kr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class et{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return G.comparator(e.key,n.key)||se(e.Hr,n.Hr)}static Ur(e,n){return se(e.Hr,n.Hr)||G.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Xe(et.Kr)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){const s=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new LO(s,n,i,r);this.mutationQueue.push(a);for(const l of r)this.Jr=this.Jr.add(new et(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return P.resolve(a)}lookupMutationBatch(e,n){return P.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=this.Xr(i),s=r<0?0:r;return P.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?Mp:this.Yn-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new et(n,0),r=new et(n,Number.POSITIVE_INFINITY),s=[];return this.Jr.forEachInRange([i,r],a=>{const l=this.Zr(a.Hr);s.push(l)}),P.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Xe(se);return n.forEach(r=>{const s=new et(r,0),a=new et(r,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([s,a],l=>{i=i.add(l.Hr)})}),P.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let s=i;G.isDocumentKey(s)||(s=s.child(""));const a=new et(new G(s),0);let l=new Xe(se);return this.Jr.forEachWhile(c=>{const h=c.key.path;return!!i.isPrefixOf(h)&&(h.length===r&&(l=l.add(c.Hr)),!0)},a),P.resolve(this.Yr(l))}Yr(e){const n=[];return e.forEach(i=>{const r=this.Zr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){de(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return P.forEach(n.mutations,r=>{const s=new et(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Jr=i})}nr(e){}containsKey(e,n){const i=new et(n,0),r=this.Jr.firstAfterOrEqual(i);return P.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(e){this.ti=e,this.docs=function(){return new Ie(G.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,a=this.ti(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return P.resolve(i?i.document.mutableCopy():gt.newInvalidDocument(n))}getEntries(e,n){let i=si();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():gt.newInvalidDocument(r))}),P.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let s=si();const a=n.path,l=new G(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:h,value:{document:f}}=c.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||Q4(Y4(f),i)<=0||(r.has(f.key)||uh(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return P.resolve(s)}getAllFromCollectionGroup(e,n,i,r){Y(9500)}ni(e,n){return P.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new wj(this)}getSize(e){return P.resolve(this.size)}}class wj extends gj{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.Mr.addEntry(e,r)):this.Mr.removeEntry(i)}),P.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(e){this.persistence=e,this.ri=new Xr(n=>Lp(n),Pp),this.lastRemoteSnapshotVersion=$.min(),this.highestTargetId=0,this.ii=0,this.si=new Fp,this.targetCount=0,this.oi=ta._r()}forEachTarget(e,n){return this.ri.forEach((i,r)=>n(r)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ii&&(this.ii=n),P.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new ta(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,P.resolve()}updateTargetData(e,n){return this.lr(n),P.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,n,i){let r=0;const s=[];return this.ri.forEach((a,l)=>{l.sequenceNumber<=n&&i.get(l.targetId)===null&&(this.ri.delete(a),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),r++)}),P.waitFor(s).next(()=>r)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,n){const i=this.ri.get(n)||null;return P.resolve(i)}addMatchingKeys(e,n,i){return this.si.$r(n,i),P.resolve()}removeMatchingKeys(e,n,i){this.si.Qr(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(a=>{s.push(r.markPotentiallyOrphaned(e,a))}),P.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),P.resolve()}getMatchingKeysForTargetId(e,n){const i=this.si.jr(n);return P.resolve(i)}containsKey(e,n){return P.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e,n){this._i={},this.overlays={},this.ai=new sh(0),this.ui=!1,this.ui=!0,this.ci=new bj,this.referenceDelegate=e(this),this.li=new Sj(this),this.indexManager=new cj,this.remoteDocumentCache=function(r){return new xj(r)}(i=>this.referenceDelegate.hi(i)),this.serializer=new oj(n),this.Pi=new vj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Ej,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this._i[e.toKey()];return i||(i=new Tj(n,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,i){H("MemoryPersistence","Starting transaction:",e);const r=new Aj(this.ai.next());return this.referenceDelegate.Ti(),i(r).next(s=>this.referenceDelegate.Ii(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ei(e,n){return P.or(Object.values(this._i).map(i=>()=>i.containsKey(e,n)))}}class Aj extends X4{constructor(e){super(),this.currentSequenceNumber=e}}class Gp{constructor(e){this.persistence=e,this.Ri=new Fp,this.Ai=null}static Vi(e){return new Gp(e)}get di(){if(this.Ai)return this.Ai;throw Y(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.di.delete(i.toString()),P.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.di.add(i.toString()),P.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),P.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach(r=>this.di.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(s=>this.di.add(s.toString()))}).next(()=>i.removeTargetData(e,n))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.di,i=>{const r=G.fromPath(i);return this.mi(e,r).next(s=>{s||n.removeEntry(r,$.min())})}).next(()=>(this.Ai=null,n.apply(e)))}updateLimboDocument(e,n){return this.mi(e,n).next(i=>{i?this.di.delete(n.toString()):this.di.add(n.toString())})}hi(e){return 0}mi(e,n){return P.or([()=>P.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Au{constructor(e,n){this.persistence=e,this.fi=new Xr(i=>Z4(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=pj(this,n)}static Vi(e,n){return new Au(e,n)}Ti(){}Ii(e){return P.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(r=>i+r))}pr(e){let n=0;return this.mr(e,i=>{n++}).next(()=>n)}mr(e,n){return P.forEach(this.fi,(i,r)=>this.wr(e,i,r).next(s=>s?P.resolve():n(r)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.ni(e,a=>this.wr(e,a,n).next(l=>{l||(i++,s.removeEntry(a,$.min()))})).next(()=>s.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),P.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),P.resolve()}removeReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),P.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),P.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Dc(e.data.value)),n}wr(e,n,i){return P.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const r=this.fi.get(n);return P.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.Ts=i,this.Is=r}static Es(e,n){let i=ae(),r=ae();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new Kp(e,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return t2()?8:W4(yt())>0?6:4}()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,r){const s={result:null};return this.gs(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.ps(e,n,r,i).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new Rj;return this.ys(e,n,a).next(l=>{if(s.result=l,this.As)return this.ws(e,n,a,l.size)})}).next(()=>s.result)}ws(e,n,i,r){return i.documentReadCount<this.Vs?(ls()<=re.DEBUG&&H("QueryEngine","SDK will not create cache indexes for query:",cs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),P.resolve()):(ls()<=re.DEBUG&&H("QueryEngine","Query:",cs(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ds*r?(ls()<=re.DEBUG&&H("QueryEngine","The SDK decides to create cache indexes for query:",cs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wn(n))):P.resolve())}gs(e,n){if(qv(n))return P.resolve(null);let i=wn(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=im(n,null,"F"),i=wn(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const a=ae(...s);return this.fs.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,i).next(c=>{const h=this.bs(n,l);return this.Ss(n,h,a,c.readTime)?this.gs(e,im(n,null,"F")):this.Ds(e,h,n,c)}))})))}ps(e,n,i,r){return qv(n)||r.isEqual($.min())?P.resolve(null):this.fs.getDocuments(e,i).next(s=>{const a=this.bs(n,s);return this.Ss(n,a,i,r)?P.resolve(null):(ls()<=re.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),cs(n)),this.Ds(e,a,n,K4(r,Go)).next(l=>l))})}bs(e,n){let i=new Xe(p1(e));return n.forEach((r,s)=>{uh(e,s)&&(i=i.add(s))}),i}Ss(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}ys(e,n,i){return ls()<=re.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",cs(n)),this.fs.getDocumentsMatchingQuery(e,n,er.min(),i)}Ds(e,n,i,r){return this.fs.getDocumentsMatchingQuery(e,i,r).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yp="LocalStore",Cj=3e8;class Ij{constructor(e,n,i,r){this.persistence=e,this.Cs=n,this.serializer=r,this.vs=new Ie(se),this.Fs=new Xr(s=>Lp(s),Pp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _j(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.vs))}}function Dj(t,e,n,i){return new Ij(t,e,n,i)}async function U1(t,e){const n=X(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.Os(e),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const a=[],l=[];let c=ae();for(const h of r){a.push(h.batchId);for(const f of h.mutations)c=c.add(f.key)}for(const h of s){l.push(h.batchId);for(const f of h.mutations)c=c.add(f.key)}return n.localDocuments.getDocuments(i,c).next(h=>({Ns:h,removedBatchIds:a,addedBatchIds:l}))})})}function Oj(t,e){const n=X(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=n.xs.newChangeBuffer({trackRemovals:!0});return function(l,c,h,f){const g=h.batch,p=g.keys();let y=P.resolve();return p.forEach(N=>{y=y.next(()=>f.getEntry(c,N)).next(D=>{const I=h.docVersions.get(N);de(I!==null,48541),D.version.compareTo(I)<0&&(g.applyToRemoteDocument(D,h),D.isValidDocument()&&(D.setReadTime(h.commitVersion),f.addEntry(D)))})}),y.next(()=>l.mutationQueue.removeMutationBatch(c,g))}(n,i,e,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let c=ae();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(c=c.add(l.batch.mutations[h].key));return c}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function z1(t){const e=X(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.li.getLastRemoteSnapshotVersion(n))}function jj(t,e){const n=X(t),i=e.snapshotVersion;let r=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.xs.newChangeBuffer({trackRemovals:!0});r=n.vs;const l=[];e.targetChanges.forEach((f,g)=>{const p=r.get(g);if(!p)return;l.push(n.li.removeMatchingKeys(s,f.removedDocuments,g).next(()=>n.li.addMatchingKeys(s,f.addedDocuments,g)));let y=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?y=y.withResumeToken(ht.EMPTY_BYTE_STRING,$.min()).withLastLimboFreeSnapshotVersion($.min()):f.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(f.resumeToken,i)),r=r.insert(g,y),function(D,I,b){return D.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=Cj?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(p,y,f)&&l.push(n.li.updateTargetData(s,y))});let c=si(),h=ae();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),l.push(Mj(s,a,e.documentUpdates).next(f=>{c=f.Bs,h=f.Ls})),!i.isEqual($.min())){const f=n.li.getLastRemoteSnapshotVersion(s).next(g=>n.li.setTargetsMetadata(s,s.currentSequenceNumber,i));l.push(f)}return P.waitFor(l).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,h)).next(()=>c)}).then(s=>(n.vs=r,s))}function Mj(t,e,n){let i=ae(),r=ae();return n.forEach(s=>i=i.add(s)),e.getEntries(t,i).next(s=>{let a=si();return n.forEach((l,c)=>{const h=s.get(l);c.isFoundDocument()!==h.isFoundDocument()&&(r=r.add(l)),c.isNoDocument()&&c.version.isEqual($.min())?(e.removeEntry(l,c.readTime),a=a.insert(l,c)):!h.isValidDocument()||c.version.compareTo(h.version)>0||c.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(c),a=a.insert(l,c)):H(Yp,"Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",c.version)}),{Bs:a,Ls:r}})}function Vj(t,e){const n=X(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Mp),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function kj(t,e){const n=X(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.li.getTargetData(i,e).next(s=>s?(r=s,P.resolve(r)):n.li.allocateTargetId(i).next(a=>(r=new Oi(e,a,"TargetPurposeListen",i.currentSequenceNumber),n.li.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.vs.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.vs=n.vs.insert(i.targetId,i),n.Fs.set(e,i.targetId)),i})}async function lm(t,e,n){const i=X(t),r=i.vs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,a=>i.persistence.referenceDelegate.removeTarget(a,r))}catch(a){if(!ba(a))throw a;H(Yp,`Failed to update sequence numbers for target ${e}: ${a}`)}i.vs=i.vs.remove(e),i.Fs.delete(r.target)}function t0(t,e,n){const i=X(t);let r=$.min(),s=ae();return i.persistence.runTransaction("Execute query","readwrite",a=>function(c,h,f){const g=X(c),p=g.Fs.get(f);return p!==void 0?P.resolve(g.vs.get(p)):g.li.getTargetData(h,f)}(i,a,wn(e)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(a,l.targetId).next(c=>{s=c})}).next(()=>i.Cs.getDocumentsMatchingQuery(a,e,n?r:$.min(),n?s:ae())).next(l=>(Lj(i,bO(e),l),{documents:l,ks:s})))}function Lj(t,e,n){let i=t.Ms.get(e)||$.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),t.Ms.set(e,i)}class n0{constructor(){this.activeTargetIds=RO()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Pj{constructor(){this.vo=new n0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,i){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new n0,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0="ConnectivityMonitor";class r0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){H(i0,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){H(i0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lc=null;function cm(){return lc===null?lc=function(){return 268435456+Math.round(2147483648*Math.random())}():lc++,"0x"+lc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pd="RestConnection",zj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class Bj{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${i}/databases/${r}`,this.$o=this.databaseId.database===bu?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Wo(e,n,i,r,s){const a=cm(),l=this.Qo(e,n.toUriEncodedString());H(Pd,`Sending RPC '${e}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(c,r,s);const{host:h}=new URL(l),f=pa(h);return this.zo(e,l,c,i,f).then(g=>(H(Pd,`Received RPC '${e}' ${a}: `,g),g),g=>{throw Ws(Pd,`RPC '${e}' ${a} failed with error: `,g,"url: ",l,"request:",i),g})}jo(e,n,i,r,s,a){return this.Wo(e,n,i,r,s)}Go(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+va}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}Qo(e,n){const i=zj[e];let r=`${this.qo}/v1/${n}:${i}`;return this.databaseInfo.apiKey&&(r=`${r}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),r}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mt="WebChannelConnection",Qa=(t,e,n)=>{t.listen(e,i=>{try{n(i)}catch(r){setTimeout(()=>{throw r},0)}})};class Vs extends Bj{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Vs.c_){const e=Gx();Qa(e,Fx.STAT_EVENT,n=>{n.stat===Xf.PROXY?H(mt,"STAT_EVENT: detected buffering proxy"):n.stat===Xf.NOPROXY&&H(mt,"STAT_EVENT: detected no buffering proxy")}),Vs.c_=!0}}zo(e,n,i,r,s){const a=cm();return new Promise((l,c)=>{const h=new qx;h.setWithCredentials(!0),h.listenOnce(Hx.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Ic.NO_ERROR:const g=h.getResponseJson();H(mt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(g)),l(g);break;case Ic.TIMEOUT:H(mt,`RPC '${e}' ${a} timed out`),c(new B(k.DEADLINE_EXCEEDED,"Request time out"));break;case Ic.HTTP_ERROR:const p=h.getStatus();if(H(mt,`RPC '${e}' ${a} failed with status:`,p,"response text:",h.getResponseText()),p>0){let y=h.getResponseJson();Array.isArray(y)&&(y=y[0]);const N=y==null?void 0:y.error;if(N&&N.status&&N.message){const D=function(b){const v=b.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(v)>=0?v:k.UNKNOWN}(N.status);c(new B(D,N.message))}else c(new B(k.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new B(k.UNAVAILABLE,"Connection failed."));break;default:Y(9055,{l_:e,streamId:a,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{H(mt,`RPC '${e}' ${a} completed.`)}});const f=JSON.stringify(r);H(mt,`RPC '${e}' ${a} sending request:`,r),h.send(n,"POST",f,i,15)})}T_(e,n,i){const r=cm(),s=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=this.createWebChannelTransport(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Go(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;const h=s.join("");H(mt,`Creating RPC '${e}' stream ${r}: ${h}`,l);const f=a.createWebChannel(h,l);this.I_(f);let g=!1,p=!1;const y=new qj({Ho:N=>{p?H(mt,`Not sending because RPC '${e}' stream ${r} is closed:`,N):(g||(H(mt,`Opening RPC '${e}' stream ${r} transport.`),f.open(),g=!0),H(mt,`RPC '${e}' stream ${r} sending:`,N),f.send(N))},Jo:()=>f.close()});return Qa(f,no.EventType.OPEN,()=>{p||(H(mt,`RPC '${e}' stream ${r} transport opened.`),y.i_())}),Qa(f,no.EventType.CLOSE,()=>{p||(p=!0,H(mt,`RPC '${e}' stream ${r} transport closed`),y.o_(),this.E_(f))}),Qa(f,no.EventType.ERROR,N=>{p||(p=!0,Ws(mt,`RPC '${e}' stream ${r} transport errored. Name:`,N.name,"Message:",N.message),y.o_(new B(k.UNAVAILABLE,"The operation could not be completed")))}),Qa(f,no.EventType.MESSAGE,N=>{var D;if(!p){const I=N.data[0];de(!!I,16349);const b=I,v=(b==null?void 0:b.error)||((D=b[0])==null?void 0:D.error);if(v){H(mt,`RPC '${e}' stream ${r} received error:`,v);const w=v.status;let M=function(T){const E=ze[T];if(E!==void 0)return A1(E)}(w),U=v.message;M===void 0&&(M=k.INTERNAL,U="Unknown error status: "+w+" with message "+v.message),p=!0,y.o_(new B(M,U)),f.close()}else H(mt,`RPC '${e}' stream ${r} received:`,I),y.__(I)}}),Vs.u_(),setTimeout(()=>{y.s_()},0),y}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(n=>n===e)}Go(e,n,i){super.Go(e,n,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Kx()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hj(t){return new Vs(t)}function Ud(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mh(t){return new YO(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vs.c_=!1;class B1{constructor(e,n,i=1e3,r=1.5,s=6e4){this.Ci=e,this.timerId=n,this.R_=i,this.A_=r,this.V_=s,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,n-i);r>0&&H("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0="PersistentStream";class q1{constructor(e,n,i,r,s,a,l,c){this.Ci=e,this.b_=i,this.S_=r,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new B1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===k.RESOURCE_EXHAUSTED?(ri(n.toString()),ri("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.D_===n&&this.G_(i,r)},i=>{e(()=>{const r=new B(k.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(r)})})}G_(e,n){const i=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo(()=>{i(()=>this.listener.Zo())}),this.stream.Yo(()=>{i(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(r=>{i(()=>this.z_(r))}),this.stream.onMessage(r=>{i(()=>++this.F_==1?this.H_(r):this.onNext(r))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return H(s0,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget(()=>this.D_===e?n():(H(s0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Fj extends q1{constructor(e,n,i,r,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,a),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=XO(this.serializer,e),i=function(s){if(!("targetChange"in s))return $.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?$.min():a.readTime?Sn(a.readTime):$.min()}(e);return this.listener.J_(n,i)}Z_(e){const n={};n.database=om(this.serializer),n.addTarget=function(s,a){let l;const c=a.target;if(l=tm(c)?{documents:ZO(s,c)}:{query:ej(s,c).ft},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=C1(s,a.resumeToken);const h=rm(s,a.expectedCount);h!==null&&(l.expectedCount=h)}else if(a.snapshotVersion.compareTo($.min())>0){l.readTime=Su(s,a.snapshotVersion.toTimestamp());const h=rm(s,a.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,e);const i=nj(this.serializer,e);i&&(n.labels=i),this.K_(n)}X_(e){const n={};n.database=om(this.serializer),n.removeTarget=e,this.K_(n)}}class Gj extends q1{constructor(e,n,i,r,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,a),this.serializer=s}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return de(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,de(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){de(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=JO(e.writeResults,e.commitTime),i=Sn(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=om(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>WO(this.serializer,i))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{}class Yj extends Kj{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new B(k.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Wo(e,sm(n,i),r,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new B(k.UNKNOWN,s.toString())})}jo(e,n,i,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.jo(e,sm(n,i),r,a,l,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new B(k.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function Qj(t,e,n,i){return new Yj(t,e,n,i)}class $j{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ri(n),this.aa=!1):H("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qr="RemoteStore";class Xj{constructor(e,n,i,r,s){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=s,this.Aa.Mo(a=>{i.enqueueAndForget(async()=>{Wr(this)&&(H(qr,"Restarting streams for network reachability change."),await async function(c){const h=X(c);h.Ea.add(4),await Sl(h),h.Va.set("Unknown"),h.Ea.delete(4),await ph(h)}(this))})}),this.Va=new $j(i,r)}}async function ph(t){if(Wr(t))for(const e of t.Ra)await e(!0)}async function Sl(t){for(const e of t.Ra)await e(!1)}function H1(t,e){const n=X(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Wp(n)?Xp(n):xa(n).O_()&&$p(n,e))}function Qp(t,e){const n=X(t),i=xa(n);n.Ia.delete(e),i.O_()&&F1(n,e),n.Ia.size===0&&(i.O_()?i.L_():Wr(n)&&n.Va.set("Unknown"))}function $p(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo($.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}xa(t).Z_(e)}function F1(t,e){t.da.$e(e),xa(t).X_(e)}function Xp(t){t.da=new HO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),xa(t).start(),t.Va.ua()}function Wp(t){return Wr(t)&&!xa(t).x_()&&t.Ia.size>0}function Wr(t){return X(t).Ea.size===0}function G1(t){t.da=void 0}async function Wj(t){t.Va.set("Online")}async function Jj(t){t.Ia.forEach((e,n)=>{$p(t,e)})}async function Zj(t,e){G1(t),Wp(t)?(t.Va.ha(e),Xp(t)):t.Va.set("Unknown")}async function eM(t,e,n){if(t.Va.set("Online"),e instanceof N1&&e.state===2&&e.cause)try{await async function(r,s){const a=s.cause;for(const l of s.targetIds)r.Ia.has(l)&&(await r.remoteSyncer.rejectListen(l,a),r.Ia.delete(l),r.da.removeTarget(l))}(t,e)}catch(i){H(qr,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Ru(t,i)}else if(e instanceof Mc?t.da.Xe(e):e instanceof R1?t.da.st(e):t.da.tt(e),!n.isEqual($.min()))try{const i=await z1(t.localStore);n.compareTo(i)>=0&&await function(s,a){const l=s.da.Tt(a);return l.targetChanges.forEach((c,h)=>{if(c.resumeToken.approximateByteSize()>0){const f=s.Ia.get(h);f&&s.Ia.set(h,f.withResumeToken(c.resumeToken,a))}}),l.targetMismatches.forEach((c,h)=>{const f=s.Ia.get(c);if(!f)return;s.Ia.set(c,f.withResumeToken(ht.EMPTY_BYTE_STRING,f.snapshotVersion)),F1(s,c);const g=new Oi(f.target,c,h,f.sequenceNumber);$p(s,g)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(i){H(qr,"Failed to raise snapshot:",i),await Ru(t,i)}}async function Ru(t,e,n){if(!ba(e))throw e;t.Ea.add(1),await Sl(t),t.Va.set("Offline"),n||(n=()=>z1(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{H(qr,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await ph(t)})}function K1(t,e){return e().catch(n=>Ru(t,n,e))}async function gh(t){const e=X(t),n=rr(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Mp;for(;tM(e);)try{const r=await Vj(e.localStore,i);if(r===null){e.Ta.length===0&&n.L_();break}i=r.batchId,nM(e,r)}catch(r){await Ru(e,r)}Y1(e)&&Q1(e)}function tM(t){return Wr(t)&&t.Ta.length<10}function nM(t,e){t.Ta.push(e);const n=rr(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function Y1(t){return Wr(t)&&!rr(t).x_()&&t.Ta.length>0}function Q1(t){rr(t).start()}async function iM(t){rr(t).ra()}async function rM(t){const e=rr(t);for(const n of t.Ta)e.ea(n.mutations)}async function sM(t,e,n){const i=t.Ta.shift(),r=Bp.from(i,e,n);await K1(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await gh(t)}async function aM(t,e){e&&rr(t).Y_&&await async function(i,r){if(function(a){return zO(a)&&a!==k.ABORTED}(r.code)){const s=i.Ta.shift();rr(i).B_(),await K1(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await gh(i)}}(t,e),Y1(t)&&Q1(t)}async function a0(t,e){const n=X(t);n.asyncQueue.verifyOperationInProgress(),H(qr,"RemoteStore received new credentials");const i=Wr(n);n.Ea.add(3),await Sl(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await ph(n)}async function oM(t,e){const n=X(t);e?(n.Ea.delete(2),await ph(n)):e||(n.Ea.add(2),await Sl(n),n.Va.set("Unknown"))}function xa(t){return t.ma||(t.ma=function(n,i,r){const s=X(n);return s.sa(),new Fj(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Zo:Wj.bind(null,t),Yo:Jj.bind(null,t),t_:Zj.bind(null,t),J_:eM.bind(null,t)}),t.Ra.push(async e=>{e?(t.ma.B_(),Wp(t)?Xp(t):t.Va.set("Unknown")):(await t.ma.stop(),G1(t))})),t.ma}function rr(t){return t.fa||(t.fa=function(n,i,r){const s=X(n);return s.sa(),new Gj(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:iM.bind(null,t),t_:aM.bind(null,t),ta:rM.bind(null,t),na:sM.bind(null,t)}),t.Ra.push(async e=>{e?(t.fa.B_(),await gh(t)):(await t.fa.stop(),t.Ta.length>0&&(H(qr,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e,n,i,r,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Yi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,s){const a=Date.now()+i,l=new Jp(e,n,a,r,s);return l.start(i),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new B(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zp(t,e){if(ri("AsyncQueue",`${e}: ${t}`),ba(t))return new B(k.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{static emptySet(e){return new ks(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||G.comparator(n.key,i.key):(n,i)=>G.comparator(n.key,i.key),this.keyedMap=io(),this.sortedSet=new Ie(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ks)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new ks;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(){this.ga=new Ie(G.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Y(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,i)=>{e.push(i)}),e}}class na{constructor(e,n,i,r,s,a,l,c,h){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=h}static fromInitialDocuments(e,n,i,r,s){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new na(e,n,ks.emptySet(n),a,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ch(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}}class cM{constructor(){this.queries=l0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const r=X(n),s=r.queries;r.queries=l0(),s.forEach((a,l)=>{for(const c of l.ba)c.onError(i)})})(this,new B(k.ABORTED,"Firestore shutting down"))}}function l0(){return new Xr(t=>m1(t),ch)}async function $1(t,e){const n=X(t);let i=3;const r=e.query;let s=n.queries.get(r);s?!s.Sa()&&e.Da()&&(i=2):(s=new lM,i=e.Da()?0:1);try{switch(i){case 0:s.wa=await n.onListen(r,!0);break;case 1:s.wa=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(a){const l=Zp(a,`Initialization of query '${cs(e.query)}' failed`);return void e.onError(l)}n.queries.set(r,s),s.ba.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&eg(n)}async function X1(t,e){const n=X(t),i=e.query;let r=3;const s=n.queries.get(i);if(s){const a=s.ba.indexOf(e);a>=0&&(s.ba.splice(a,1),s.ba.length===0?r=e.Da()?0:1:!s.Sa()&&e.Da()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function uM(t,e){const n=X(t);let i=!1;for(const r of e){const s=r.query,a=n.queries.get(s);if(a){for(const l of a.ba)l.Fa(r)&&(i=!0);a.wa=r}}i&&eg(n)}function hM(t,e,n){const i=X(t),r=i.queries.get(e);if(r)for(const s of r.ba)s.onError(n);i.queries.delete(e)}function eg(t){t.Ca.forEach(e=>{e.next()})}var um,c0;(c0=um||(um={})).Ma="default",c0.Cache="cache";class W1{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new na(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=na.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==um.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e){this.key=e}}class Z1{constructor(e){this.key=e}}class dM{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ae(),this.mutatedKeys=ae(),this.eu=p1(e),this.tu=new ks(this.eu)}get nu(){return this.Za}ru(e,n){const i=n?n.iu:new o0,r=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,a=r,l=!1;const c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,h=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((f,g)=>{const p=r.get(f),y=uh(this.query,g)?g:null,N=!!p&&this.mutatedKeys.has(p.key),D=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let I=!1;p&&y?p.data.isEqual(y.data)?N!==D&&(i.track({type:3,doc:y}),I=!0):this.su(p,y)||(i.track({type:2,doc:y}),I=!0,(c&&this.eu(y,c)>0||h&&this.eu(y,h)<0)&&(l=!0)):!p&&y?(i.track({type:0,doc:y}),I=!0):p&&!y&&(i.track({type:1,doc:p}),I=!0,(c||h)&&(l=!0)),I&&(y?(a=a.add(y),s=D?s.add(f):s.delete(f)):(a=a.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const f=this.query.limitType==="F"?a.last():a.first();a=a.delete(f.key),s=s.delete(f.key),i.track({type:1,doc:f})}return{tu:a,iu:i,Ss:l,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((f,g)=>function(y,N){const D=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y(20277,{Vt:I})}};return D(y)-D(N)}(f.type,g.type)||this.eu(f.doc,g.doc)),this.ou(i),r=r??!1;const l=n&&!r?this._u():[],c=this.Ya.size===0&&this.current&&!r?1:0,h=c!==this.Xa;return this.Xa=c,a.length!==0||h?{snapshot:new na(this.query,e.tu,s,a,e.mutatedKeys,c===0,h,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new o0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Za=this.Za.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Za=this.Za.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=ae(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))});const n=[];return e.forEach(i=>{this.Ya.has(i)||n.push(new Z1(i))}),this.Ya.forEach(i=>{e.has(i)||n.push(new J1(i))}),n}cu(e){this.Za=e.ks,this.Ya=ae();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return na.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const tg="SyncEngine";class fM{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class mM{constructor(e){this.key=e,this.hu=!1}}class pM{constructor(e,n,i,r,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Xr(l=>m1(l),ch),this.Iu=new Map,this.Eu=new Set,this.Ru=new Ie(G.comparator),this.Au=new Map,this.Vu=new Fp,this.du={},this.mu=new Map,this.fu=ta.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function gM(t,e,n=!0){const i=sw(t);let r;const s=i.Tu.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.lu()):r=await ew(i,e,n,!0),r}async function yM(t,e){const n=sw(t);await ew(n,e,!0,!1)}async function ew(t,e,n,i){const r=await kj(t.localStore,wn(e)),s=r.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let l;return i&&(l=await _M(t,e,s,a==="current",r.resumeToken)),t.isPrimaryClient&&n&&H1(t.remoteStore,r),l}async function _M(t,e,n,i,r){t.pu=(g,p,y)=>async function(D,I,b,v){let w=I.view.ru(b);w.Ss&&(w=await t0(D.localStore,I.query,!1).then(({documents:T})=>I.view.ru(T,w)));const M=v&&v.targetChanges.get(I.targetId),U=v&&v.targetMismatches.get(I.targetId)!=null,F=I.view.applyChanges(w,D.isPrimaryClient,M,U);return h0(D,I.targetId,F.au),F.snapshot}(t,g,p,y);const s=await t0(t.localStore,e,!0),a=new dM(e,s.ks),l=a.ru(s.documents),c=wl.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),h=a.applyChanges(l,t.isPrimaryClient,c);h0(t,n,h.au);const f=new fM(e,n,a);return t.Tu.set(e,f),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function vM(t,e,n){const i=X(t),r=i.Tu.get(e),s=i.Iu.get(r.targetId);if(s.length>1)return i.Iu.set(r.targetId,s.filter(a=>!ch(a,e))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await lm(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&Qp(i.remoteStore,r.targetId),hm(i,r.targetId)}).catch(Ea)):(hm(i,r.targetId),await lm(i.localStore,r.targetId,!0))}async function EM(t,e){const n=X(t),i=n.Tu.get(e),r=n.Iu.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Qp(n.remoteStore,i.targetId))}async function bM(t,e,n){const i=NM(t);try{const r=await function(a,l){const c=X(a),h=ye.now(),f=l.reduce((y,N)=>y.add(N.key),ae());let g,p;return c.persistence.runTransaction("Locally write mutations","readwrite",y=>{let N=si(),D=ae();return c.xs.getEntries(y,f).next(I=>{N=I,N.forEach((b,v)=>{v.isValidDocument()||(D=D.add(b))})}).next(()=>c.localDocuments.getOverlayedDocuments(y,N)).next(I=>{g=I;const b=[];for(const v of l){const w=VO(v,g.get(v.key).overlayedDocument);w!=null&&b.push(new hr(v.key,w,a1(w.value.mapValue),cn.exists(!0)))}return c.mutationQueue.addMutationBatch(y,h,b,l)}).next(I=>{p=I;const b=I.applyToLocalDocumentSet(g,D);return c.documentOverlayCache.saveOverlays(y,I.batchId,b)})}).then(()=>({batchId:p.batchId,changes:y1(g)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(a,l,c){let h=a.du[a.currentUser.toKey()];h||(h=new Ie(se)),h=h.insert(l,c),a.du[a.currentUser.toKey()]=h}(i,r.batchId,n),await Al(i,r.changes),await gh(i.remoteStore)}catch(r){const s=Zp(r,"Failed to persist write");n.reject(s)}}async function tw(t,e){const n=X(t);try{const i=await jj(n.localStore,e);e.targetChanges.forEach((r,s)=>{const a=n.Au.get(s);a&&(de(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?a.hu=!0:r.modifiedDocuments.size>0?de(a.hu,14607):r.removedDocuments.size>0&&(de(a.hu,42227),a.hu=!1))}),await Al(n,i,e)}catch(i){await Ea(i)}}function u0(t,e,n){const i=X(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.Tu.forEach((s,a)=>{const l=a.view.va(e);l.snapshot&&r.push(l.snapshot)}),function(a,l){const c=X(a);c.onlineState=l;let h=!1;c.queries.forEach((f,g)=>{for(const p of g.ba)p.va(l)&&(h=!0)}),h&&eg(c)}(i.eventManager,e),r.length&&i.Pu.J_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function TM(t,e,n){const i=X(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.Au.get(e),s=r&&r.key;if(s){let a=new Ie(G.comparator);a=a.insert(s,gt.newNoDocument(s,$.min()));const l=ae().add(s),c=new fh($.min(),new Map,new Ie(se),a,l);await tw(i,c),i.Ru=i.Ru.remove(s),i.Au.delete(e),ng(i)}else await lm(i.localStore,e,!1).then(()=>hm(i,e,n)).catch(Ea)}async function xM(t,e){const n=X(t),i=e.batch.batchId;try{const r=await Oj(n.localStore,e);iw(n,i,null),nw(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Al(n,r)}catch(r){await Ea(r)}}async function wM(t,e,n){const i=X(t);try{const r=await function(a,l){const c=X(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let f;return c.mutationQueue.lookupMutationBatch(h,l).next(g=>(de(g!==null,37113),f=g.keys(),c.mutationQueue.removeMutationBatch(h,g))).next(()=>c.mutationQueue.performConsistencyCheck(h)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(h,f,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,f)).next(()=>c.localDocuments.getDocuments(h,f))})}(i.localStore,e);iw(i,e,n),nw(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Al(i,r)}catch(r){await Ea(r)}}function nw(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function iw(t,e,n){const i=X(t);let r=i.du[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.du[i.currentUser.toKey()]=r}}function hm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach(i=>{t.Vu.containsKey(i)||rw(t,i)})}function rw(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(Qp(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),ng(t))}function h0(t,e,n){for(const i of n)i instanceof J1?(t.Vu.addReference(i.key,e),SM(t,i)):i instanceof Z1?(H(tg,"Document no longer in limbo: "+i.key),t.Vu.removeReference(i.key,e),t.Vu.containsKey(i.key)||rw(t,i.key)):Y(19791,{wu:i})}function SM(t,e){const n=e.key,i=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(i)||(H(tg,"New document in limbo: "+n),t.Eu.add(i),ng(t))}function ng(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new G(be.fromString(e)),i=t.fu.next();t.Au.set(i,new mM(n)),t.Ru=t.Ru.insert(n,i),H1(t.remoteStore,new Oi(wn(lh(n.path)),i,"TargetPurposeLimboResolution",sh.ce))}}async function Al(t,e,n){const i=X(t),r=[],s=[],a=[];i.Tu.isEmpty()||(i.Tu.forEach((l,c)=>{a.push(i.pu(c,e,n).then(h=>{var f;if((h||n)&&i.isPrimaryClient){const g=h?!h.fromCache:(f=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:f.current;i.sharedClientState.updateQueryState(c.targetId,g?"current":"not-current")}if(h){r.push(h);const g=Kp.Es(c.targetId,h);s.push(g)}}))}),await Promise.all(a),i.Pu.J_(r),await async function(c,h){const f=X(c);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>P.forEach(h,p=>P.forEach(p.Ts,y=>f.persistence.referenceDelegate.addReference(g,p.targetId,y)).next(()=>P.forEach(p.Is,y=>f.persistence.referenceDelegate.removeReference(g,p.targetId,y)))))}catch(g){if(!ba(g))throw g;H(Yp,"Failed to update sequence numbers: "+g)}for(const g of h){const p=g.targetId;if(!g.fromCache){const y=f.vs.get(p),N=y.snapshotVersion,D=y.withLastLimboFreeSnapshotVersion(N);f.vs=f.vs.insert(p,D)}}}(i.localStore,s))}async function AM(t,e){const n=X(t);if(!n.currentUser.isEqual(e)){H(tg,"User change. New user:",e.toKey());const i=await U1(n.localStore,e);n.currentUser=e,function(s,a){s.mu.forEach(l=>{l.forEach(c=>{c.reject(new B(k.CANCELLED,a))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Al(n,i.Ns)}}function RM(t,e){const n=X(t),i=n.Au.get(e);if(i&&i.hu)return ae().add(i.key);{let r=ae();const s=n.Iu.get(e);if(!s)return r;for(const a of s){const l=n.Tu.get(a);r=r.unionWith(l.view.nu)}return r}}function sw(t){const e=X(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=tw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=RM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=TM.bind(null,e),e.Pu.J_=uM.bind(null,e.eventManager),e.Pu.yu=hM.bind(null,e.eventManager),e}function NM(t){const e=X(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wM.bind(null,e),e}class Nu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=mh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Dj(this.persistence,new Nj,e.initialUser,this.serializer)}Cu(e){return new P1(Gp.Vi,this.serializer)}Du(e){return new Pj}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Nu.provider={build:()=>new Nu};class CM extends Nu{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){de(this.persistence.referenceDelegate instanceof Au,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new fj(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Rt.withCacheSize(this.cacheSizeBytes):Rt.DEFAULT;return new P1(i=>Au.Vi(i,n),this.serializer)}}class dm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>u0(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=AM.bind(null,this.syncEngine),await oM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new cM}()}createDatastore(e){const n=mh(e.databaseInfo.databaseId),i=Hj(e.databaseInfo);return Qj(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,s,a,l){return new Xj(i,r,s,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>u0(this.syncEngine,n,0),function(){return r0.v()?new r0:new Uj}())}createSyncEngine(e,n){return function(r,s,a,l,c,h,f){const g=new pM(r,s,a,l,c,h);return f&&(g.gu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(r){const s=X(r);H(qr,"RemoteStore shutting down."),s.Ea.add(5),await Sl(s),s.Aa.shutdown(),s.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}dm.provider={build:()=>new dm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ri("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr="FirestoreClient";class IM{constructor(e,n,i,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this._databaseInfo=r,this.user=pt.UNAUTHENTICATED,this.clientId=jp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,async a=>{H(sr,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(i,a=>(H(sr,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Yi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Zp(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function zd(t,e){t.asyncQueue.verifyOperationInProgress(),H(sr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async r=>{i.isEqual(r)||(await U1(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function d0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await DM(t);H(sr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>a0(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>a0(e.remoteStore,r)),t._onlineComponents=e}async function DM(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){H(sr,"Using user provided OfflineComponentProvider");try{await zd(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(r){return r.name==="FirebaseError"?r.code===k.FAILED_PRECONDITION||r.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;Ws("Error using user provided cache. Falling back to memory cache: "+n),await zd(t,new Nu)}}else H(sr,"Using default OfflineComponentProvider"),await zd(t,new CM(void 0));return t._offlineComponents}async function ow(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(H(sr,"Using user provided OnlineComponentProvider"),await d0(t,t._uninitializedComponentsProvider._online)):(H(sr,"Using default OnlineComponentProvider"),await d0(t,new dm))),t._onlineComponents}function OM(t){return ow(t).then(e=>e.syncEngine)}async function fm(t){const e=await ow(t),n=e.eventManager;return n.onListen=gM.bind(null,e.syncEngine),n.onUnlisten=vM.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=yM.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=EM.bind(null,e.syncEngine),n}function jM(t,e,n,i){const r=new aw(i),s=new W1(e,r,n);return t.asyncQueue.enqueueAndForget(async()=>$1(await fm(t),s)),()=>{r.Nu(),t.asyncQueue.enqueueAndForget(async()=>X1(await fm(t),s))}}function MM(t,e,n={}){const i=new Yi;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,l,c,h){const f=new aw({next:p=>{f.Nu(),a.enqueueAndForget(()=>X1(s,g));const y=p.docs.has(l);!y&&p.fromCache?h.reject(new B(k.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&p.fromCache&&c&&c.source==="server"?h.reject(new B(k.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(p)},error:p=>h.reject(p)}),g=new W1(lh(l.path),f,{includeMetadataChanges:!0,Ka:!0});return $1(s,g)}(await fm(t),t.asyncQueue,e,n,i)),i.promise}function VM(t,e){const n=new Yi;return t.asyncQueue.enqueueAndForget(async()=>bM(await OM(t),e,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM="ComponentProvider",f0=new Map;function LM(t,e,n,i,r){return new nO(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,lw(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw="firestore.googleapis.com",m0=!0;class p0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new B(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cw,this.ssl=m0}else this.host=e.host,this.ssl=e.ssl??m0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=L1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<hj)throw new B(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}G4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lw(e.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new B(k.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new B(k.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new B(k.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yh{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new p0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new B(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new B(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new p0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new V4;switch(i.type){case"firstParty":return new U4(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new B(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=f0.get(n);i&&(H(kM,"Removing Datastore"),f0.delete(n),i.terminate())}(this),Promise.resolve()}}function PM(t,e,n,i={}){var h;t=xn(t,yh);const r=pa(e),s=t._getSettings(),a={...s,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;r&&(ex(`https://${l}`),tx("Firestore",!0)),s.host!==cw&&s.host!==l&&Ws("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...s,host:l,ssl:r,emulatorOptions:i};if(!Pr(c,a)&&(t._setSettings(c),i.mockUserToken)){let f,g;if(typeof i.mockUserToken=="string")f=i.mockUserToken,g=pt.MOCK_USER;else{f=KC(i.mockUserToken,(h=t._app)==null?void 0:h.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new B(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new pt(p)}t._authCredentials=new k4(new Qx(f,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Jr(this.firestore,e,this._query)}}class ke{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ke(this.firestore,e,this._key)}toJSON(){return{type:ke._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Tl(n,ke._jsonSchema))return new ke(e,i||null,new G(be.fromString(n.referencePath)))}}ke._jsonSchemaVersion="firestore/documentReference/1.0",ke._jsonSchema={type:Ke("string",ke._jsonSchemaVersion),referencePath:Ke("string")};class Qi extends Jr{constructor(e,n,i){super(e,n,lh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ke(this.firestore,null,new G(e))}withConverter(e){return new Qi(this.firestore,e,this._path)}}function Cu(t,e,...n){if(t=Je(t),$x("collection","path",e),t instanceof yh){const i=be.fromString(e,...n);return Nv(i),new Qi(t,null,i)}{if(!(t instanceof ke||t instanceof Qi))throw new B(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(be.fromString(e,...n));return Nv(i),new Qi(t.firestore,null,i)}}function ia(t,e,...n){if(t=Je(t),arguments.length===1&&(e=jp.newId()),$x("doc","path",e),t instanceof yh){const i=be.fromString(e,...n);return Rv(i),new ke(t,null,new G(i))}{if(!(t instanceof ke||t instanceof Qi))throw new B(k.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(be.fromString(e,...n));return Rv(i),new ke(t.firestore,t instanceof Qi?t.converter:null,new G(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0="AsyncQueue";class y0{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new B1(this,"async_queue_retry"),this._c=()=>{const i=Ud();i&&H(g0,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=Ud();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Ud();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Yi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!ba(e))throw e;H(g0,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(i=>{throw this.nc=i,this.rc=!1,ri("INTERNAL UNHANDLED ERROR: ",_0(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const r=Jp.createAndSchedule(this,e,n,i,s=>this.hc(s));return this.tc.push(r),r}uc(){this.nc&&Y(47125,{Pc:_0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function _0(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Hr extends yh{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=new y0,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new y0(e),this._firestoreClient=void 0,await e}}}function UM(t,e){const n=typeof t=="object"?t:sx(),i=typeof t=="string"?t:bu,r=xp(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=FC("firestore");s&&PM(r,...s)}return r}function ig(t){if(t._terminated)throw new B(k.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||zM(t),t._firestoreClient}function zM(t){var i,r,s,a;const e=t._freezeSettings(),n=LM(t._databaseId,((i=t._app)==null?void 0:i.options.appId)||"",t._persistenceKey,(r=t._app)==null?void 0:r.options.apiKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new IM(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(c){const h=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(h),_online:h}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jt(ht.fromBase64String(e))}catch(n){throw new B(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Jt(ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Jt._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Tl(e,Jt._jsonSchema))return Jt.fromBase64String(e.bytes)}}Jt._jsonSchemaVersion="firestore/bytes/1.0",Jt._jsonSchema={type:Ke("string",Jt._jsonSchemaVersion),bytes:Ke("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new B(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new lt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new B(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new B(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return se(this._lat,e._lat)||se(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:An._jsonSchemaVersion}}static fromJSON(e){if(Tl(e,An._jsonSchema))return new An(e.latitude,e.longitude)}}An._jsonSchemaVersion="firestore/geoPoint/1.0",An._jsonSchema={type:Ke("string",An._jsonSchemaVersion),latitude:Ke("number"),longitude:Ke("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:un._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Tl(e,un._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new un(e.vectorValues);throw new B(k.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}un._jsonSchemaVersion="firestore/vectorValue/1.0",un._jsonSchema={type:Ke("string",un._jsonSchemaVersion),vectorValues:Ke("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM=/^__.*__$/;class qM{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new hr(e,this.data,this.fieldMask,n,this.fieldTransforms):new xl(e,this.data,n,this.fieldTransforms)}}class uw{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new hr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function hw(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y(40011,{dataSource:t})}}class sg{constructor(e,n,i,r,s,a){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.validatePath(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new sg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var r;const n=(r=this.path)==null?void 0:r.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){var r;const n=(r=this.path)==null?void 0:r.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Iu(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(hw(this.dataSource)&&BM.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class HM{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||mh(e)}createContext(e,n,i,r=!1){return new sg({dataSource:e,methodName:n,targetDoc:i,path:lt.emptyPath(),arrayElement:!1,hasConverter:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ag(t){const e=t._freezeSettings(),n=mh(t._databaseId);return new HM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function FM(t,e,n,i,r,s={}){const a=t.createContext(s.merge||s.mergeFields?2:0,e,n,r);lg("Data must be an object, but it was:",a,i);const l=dw(i,a);let c,h;if(s.merge)c=new Lt(a.fieldMask),h=a.fieldTransforms;else if(s.mergeFields){const f=[];for(const g of s.mergeFields){const p=ra(e,g,n);if(!a.contains(p))throw new B(k.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);pw(f,p)||f.push(p)}c=new Lt(f),h=a.fieldTransforms.filter(g=>c.covers(g.field))}else c=null,h=a.fieldTransforms;return new qM(new Nt(l),c,h)}class vh extends _h{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vh}}class og extends _h{_toFieldTransform(e){return new DO(e.path,new Xo)}isEqual(e){return e instanceof og}}function GM(t,e,n,i){const r=t.createContext(1,e,n);lg("Data must be an object, but it was:",r,i);const s=[],a=Nt.empty();ur(i,(c,h)=>{const f=mw(e,c,n);h=Je(h);const g=r.childContextForFieldPath(f);if(h instanceof vh)s.push(f);else{const p=Rl(h,g);p!=null&&(s.push(f),a.set(f,p))}});const l=new Lt(s);return new uw(a,l,r.fieldTransforms)}function KM(t,e,n,i,r,s){const a=t.createContext(1,e,n),l=[ra(e,i,n)],c=[r];if(s.length%2!=0)throw new B(k.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)l.push(ra(e,s[p])),c.push(s[p+1]);const h=[],f=Nt.empty();for(let p=l.length-1;p>=0;--p)if(!pw(h,l[p])){const y=l[p];let N=c[p];N=Je(N);const D=a.childContextForFieldPath(y);if(N instanceof vh)h.push(y);else{const I=Rl(N,D);I!=null&&(h.push(y),f.set(y,I))}}const g=new Lt(h);return new uw(f,g,a.fieldTransforms)}function YM(t,e,n,i=!1){return Rl(n,t.createContext(i?4:3,e))}function Rl(t,e){if(fw(t=Je(t)))return lg("Unsupported field value:",e,t),dw(t,e);if(t instanceof _h)return function(i,r){if(!hw(r.dataSource))throw r.createError(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.createError(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return function(i,r){const s=[];let a=0;for(const l of i){let c=Rl(l,r.childContextForArray(a));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),a++}return{arrayValue:{values:s}}}(t,e)}return function(i,r){if((i=Je(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return NO(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=ye.fromDate(i);return{timestampValue:Su(r.serializer,s)}}if(i instanceof ye){const s=new ye(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Su(r.serializer,s)}}if(i instanceof An)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Jt)return{bytesValue:C1(r.serializer,i._byteString)};if(i instanceof ke){const s=r.databaseId,a=i.firestore._databaseId;if(!a.isEqual(s))throw r.createError(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Hp(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof un)return function(a,l){const c=a instanceof un?a.toArray():a;return{mapValue:{fields:{[r1]:{stringValue:s1},[Tu]:{arrayValue:{values:c.map(f=>{if(typeof f!="number")throw l.createError("VectorValues must only contain numeric values.");return Up(l.serializer,f)})}}}}}}(i,r);if(k1(i))return i._toProto(r.serializer);throw r.createError(`Unsupported field value: ${rh(i)}`)}(t,e)}function dw(t,e){const n={};return Jx(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ur(t,(i,r)=>{const s=Rl(r,e.childContextForField(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function fw(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ye||t instanceof An||t instanceof Jt||t instanceof ke||t instanceof _h||t instanceof un||k1(t))}function lg(t,e,n){if(!fw(n)||!Xx(n)){const i=rh(n);throw i==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+i)}}function ra(t,e,n){if((e=Je(e))instanceof rg)return e._internalPath;if(typeof e=="string")return mw(t,e);throw Iu("Field path arguments must be of type string or ",t,!1,void 0,n)}const QM=new RegExp("[~\\*/\\[\\]]");function mw(t,e,n){if(e.search(QM)>=0)throw Iu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new rg(...e.split("."))._internalPath}catch{throw Iu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Iu(t,e,n,i,r){const s=i&&!i.isEmpty(),a=r!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(s||a)&&(c+=" (found",s&&(c+=` in field ${i}`),a&&(c+=` in document ${r}`),c+=")"),new B(k.INVALID_ARGUMENT,l+t+c)}function pw(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{convertValue(e,n="none"){switch(ir(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Me(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(nr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Y(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return ur(e,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertVectorValue(e){var i,r,s;const n=(s=(r=(i=e.fields)==null?void 0:i[Tu].arrayValue)==null?void 0:r.values)==null?void 0:s.map(a=>Me(a.doubleValue));return new un(n)}convertGeoPoint(e){return new An(Me(e.latitude),Me(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=oh(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Ko(e));default:return null}}convertTimestamp(e){const n=tr(e);return new ye(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=be.fromString(e);de(V1(i),9688,{name:e});const r=new Yo(i.get(1),i.get(3)),s=new G(i.popFirst(5));return r.isEqual(n)||ri(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw extends $M{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jt(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ke(this.firestore,null,n)}}function XM(){return new og("serverTimestamp")}const v0="@firebase/firestore",E0="4.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b0(t){return function(n,i){if(typeof n!="object"||n===null)return!1;const r=n;for(const s of i)if(s in r&&typeof r[s]=="function")return!0;return!1}(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e,n,i,r,s){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ke(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new WM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(ra("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class WM extends yw{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new B(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cg{}class _w extends cg{}function ZM(t,e,...n){let i=[];e instanceof cg&&i.push(e),i=i.concat(n),function(s){const a=s.filter(c=>c instanceof hg).length,l=s.filter(c=>c instanceof ug).length;if(a>1||a>0&&l>0)throw new B(k.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)t=r._apply(t);return t}class ug extends _w{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new ug(e,n,i)}_apply(e){const n=this._parse(e);return vw(e._query,n),new Jr(e.firestore,e.converter,nm(e._query,n))}_parse(e){const n=ag(e.firestore);return function(s,a,l,c,h,f,g){let p;if(h.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new B(k.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){x0(g,f);const N=[];for(const D of g)N.push(T0(c,s,D));p={arrayValue:{values:N}}}else p=T0(c,s,g)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||x0(g,f),p=YM(l,a,g,f==="in"||f==="not-in");return Fe.create(h,f,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class hg extends cg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new hg(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:dn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,s){let a=r;const l=s.getFlattenedFilters();for(const c of l)vw(a,c),a=nm(a,c)}(e._query,n),new Jr(e.firestore,e.converter,nm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class dg extends _w{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new dg(e,n)}_apply(e){const n=function(r,s,a){if(r.startAt!==null)throw new B(k.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new B(k.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new $o(s,a)}(e._query,this._field,this._direction);return new Jr(e.firestore,e.converter,EO(e._query,n))}}function eV(t,e="asc"){const n=e,i=ra("orderBy",t);return dg._create(i,n)}function T0(t,e,n){if(typeof(n=Je(n))=="string"){if(n==="")throw new B(k.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!f1(e)&&n.indexOf("/")!==-1)throw new B(k.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(be.fromString(n));if(!G.isDocumentKey(i))throw new B(k.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return kv(t,new G(i))}if(n instanceof ke)return kv(t,n._key);throw new B(k.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rh(n)}.`)}function x0(t,e){if(!Array.isArray(t)||t.length===0)throw new B(k.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function vw(t,e){const n=function(r,s){for(const a of r)for(const l of a.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new B(k.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new B(k.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function tV(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class so{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Or extends yw{constructor(e,n,i,r,s,a){super(e,n,i,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Vc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(ra("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new B(k.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Or._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Or._jsonSchemaVersion="firestore/documentSnapshot/1.0",Or._jsonSchema={type:Ke("string",Or._jsonSchemaVersion),bundleSource:Ke("string","DocumentSnapshot"),bundleName:Ke("string"),bundle:Ke("string")};class Vc extends Or{data(e={}){return super.data(e)}}class Ls{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new so(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Vc(this._firestore,this._userDataWriter,i.key,i,new so(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new B(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>{const c=new Vc(r._firestore,r._userDataWriter,l.doc.key,l.doc,new so(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const c=new Vc(r._firestore,r._userDataWriter,l.doc.key,l.doc,new so(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let h=-1,f=-1;return l.type!==0&&(h=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),f=a.indexOf(l.doc.key)),{type:nV(l.type),doc:c,oldIndex:h,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new B(k.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ls._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=jp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],r=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),i.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),r.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function nV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ls._jsonSchemaVersion="firestore/querySnapshot/1.0",Ls._jsonSchema={type:Ke("string",Ls._jsonSchemaVersion),bundleSource:Ke("string","QuerySnapshot"),bundleName:Ke("string"),bundle:Ke("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(t){t=xn(t,ke);const e=xn(t.firestore,Hr),n=ig(e);return MM(n,t._key).then(i=>ww(e,t,i))}function bw(t,e,n,...i){t=xn(t,ke);const r=xn(t.firestore,Hr),s=ag(r);let a;return a=typeof(e=Je(e))=="string"||e instanceof rg?KM(s,"updateDoc",t._key,e,n,i):GM(s,"updateDoc",t._key,e),fg(r,[a.toMutation(t._key,cn.exists(!0))])}function iV(t){return fg(xn(t.firestore,Hr),[new zp(t._key,cn.none())])}function Tw(t,e){const n=xn(t.firestore,Hr),i=ia(t),r=tV(t.converter,e),s=ag(t.firestore);return fg(n,[FM(s,"addDoc",i._key,r,t.converter!==null,{}).toMutation(i._key,cn.exists(!1))]).then(()=>i)}function xw(t,...e){var h,f,g;t=Je(t);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||b0(e[i])||(n=e[i++]);const r={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(b0(e[i])){const p=e[i];e[i]=(h=p.next)==null?void 0:h.bind(p),e[i+1]=(f=p.error)==null?void 0:f.bind(p),e[i+2]=(g=p.complete)==null?void 0:g.bind(p)}let s,a,l;if(t instanceof ke)a=xn(t.firestore,Hr),l=lh(t._key.path),s={next:p=>{e[i]&&e[i](ww(a,t,p))},error:e[i+1],complete:e[i+2]};else{const p=xn(t,Jr);a=xn(p.firestore,Hr),l=p._query;const y=new gw(a);s={next:N=>{e[i]&&e[i](new Ls(a,y,p,N))},error:e[i+1],complete:e[i+2]},JM(t._query)}const c=ig(a);return jM(c,l,r,s)}function fg(t,e){const n=ig(t);return VM(n,e)}function ww(t,e,n){const i=n.docs.get(e._key),r=new gw(t);return new Or(t,r,e._key,i,new so(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){M4(ga),$s(new Ur("firestore",(i,{instanceIdentifier:r,options:s})=>{const a=i.getProvider("app").getImmediate(),l=new Hr(new L4(i.getProvider("auth-internal")),new z4(a,i.getProvider("app-check-internal")),iO(a,r),a);return s={useFetchStreams:n,...s},l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Fi(v0,E0,e),Fi(v0,E0,"esm2020")})();const rV={apiKey:"AIzaSyCIPE6DWpsUhDwRz9r5WMnsLGV4f8y-X2s",authDomain:"ambrosia-web-bc4f9.firebaseapp.com",projectId:"ambrosia-web-bc4f9",storageBucket:"ambrosia-web-bc4f9.firebasestorage.app",messagingSenderId:"768539470516",appId:"1:768539470516:web:d9f3705b1c79d35147c5e1",measurementId:"G-08Y4G38JM3"},Sw=rx(rV),Zo=O4(Sw),$n=UM(Sw),Aw=j.createContext(),sV=()=>j.useContext(Aw),aV=({children:t})=>{const[e,n]=j.useState(null),[i,r]=j.useState(null),[s,a]=j.useState(!0);j.useEffect(()=>bD(Zo,async h=>{if(h){try{const f=await Ew(ia($n,"users",h.uid));f.exists()?r(f.data().role):r("customer")}catch(f){console.error("AuthProvider: Error fetching role",f)}n(h)}else n(null),r(null);a(!1)}),[]);const l={currentUser:e,userRole:i,loading:s,isAdmin:i==="admin"};return u.jsx(Aw.Provider,{value:l,children:!s&&t})},oV=()=>{const[t,e]=j.useState(!1),{cartCount:n}=gl();return j.useEffect(()=>{const i=()=>{e(window.scrollY>50)};return window.addEventListener("scroll",i),()=>window.removeEventListener("scroll",i)},[]),u.jsx("nav",{className:`navbar ${t?"scrolled":""}`,children:u.jsxs("div",{className:"nav-container",children:[u.jsx(Qe,{to:"/",className:"nav-logo",children:"Ambrosia"}),u.jsxs("div",{className:"nav-links",children:[u.jsx(Un,{to:"/",className:({isActive:i})=>`nav-link ${i?"active":""}`,end:!0,children:"Home"}),u.jsx(Un,{to:"/shop",className:({isActive:i})=>`nav-link ${i?"active":""}`,children:"Shop"}),u.jsx(Un,{to:"/about-cinnamon",className:({isActive:i})=>`nav-link ${i?"active":""}`,children:"Cinnamon"}),u.jsx(Un,{to:"/recipes",className:({isActive:i})=>`nav-link ${i?"active":""}`,children:"Recipes"}),u.jsx(Un,{to:"/contact",className:({isActive:i})=>`nav-link ${i?"active":""}`,children:"Contact"})]}),u.jsxs("div",{className:"nav-actions flex items-center gap-6",children:[u.jsxs(Qe,{to:"/cart",className:"cart-link relative text-white hover:text-gold transition-colors",children:[u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("circle",{cx:"9",cy:"21",r:"1"}),u.jsx("circle",{cx:"20",cy:"21",r:"1"}),u.jsx("path",{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"})]}),n>0&&u.jsx("span",{className:"cart-badge absolute -top-2 -right-2 bg-gold text-black text-[10px] font-bold w-5 h-5 rounded-full flex items-center justify-center",children:n})]}),u.jsx(Qe,{to:"/shop",className:"btn-outline nav-btn",children:"Shop Now"})]}),u.jsx("div",{className:"nav-toggle",children:u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),u.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),u.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})})]})})},lV=()=>u.jsx("footer",{className:"footer",children:u.jsxs("div",{className:"container",children:[u.jsxs("div",{className:"footer-content",children:[u.jsxs("div",{className:"footer-column",children:[u.jsx("h4",{className:"font-heading",children:"Ambrosia"}),u.jsx("p",{className:"text-gray-500 text-sm leading-7",children:"Delivering the 100% authentic essence of Sri Lankan Ceylon Cinnamon to the world. A commitment to purity, heritage, and health."})]}),u.jsxs("div",{className:"footer-column",children:[u.jsx("h4",{children:"Quick Links"}),u.jsxs("ul",{children:[u.jsx("li",{children:u.jsx(Qe,{to:"/shop",children:"Online Store"})}),u.jsx("li",{children:u.jsx(Qe,{to:"/about-cinnamon",children:"About Cinnamon"})}),u.jsx("li",{children:u.jsx(Qe,{to:"/recipes",children:"Recipes & Blog"})}),u.jsx("li",{children:u.jsx(Qe,{to:"/faq",children:"FAQs"})})]})]}),u.jsxs("div",{className:"footer-column",children:[u.jsx("h4",{children:"Support"}),u.jsxs("ul",{children:[u.jsx("li",{children:u.jsx(Qe,{to:"/contact",children:"Contact Us"})}),u.jsx("li",{children:u.jsx(Qe,{to:"/privacy",children:"Privacy Policy"})}),u.jsx("li",{children:u.jsx(Qe,{to:"/terms",children:"Terms & Conditions"})})]})]}),u.jsxs("div",{className:"footer-column",children:[u.jsx("h4",{children:"Newsletter"}),u.jsxs("div",{className:"newsletter-form mt-4",children:[u.jsx("input",{type:"email",placeholder:"Your email address",className:"bg-[#1a1a1a] border border-white/10 p-2 text-sm w-full mb-2"}),u.jsx("button",{className:"btn-outline w-full py-2 text-xs",children:"Subscribe"})]})]})]}),u.jsx("div",{className:"footer-bottom",children:u.jsx("p",{children:" 2026 Ambrosia 100% Sri Lankan Cinnamon. All rights reserved."})})]})}),cV="/Ambrosia/assets/hero_bg-Cd28FfOR.png",uV=()=>u.jsxs("section",{id:"home",className:"hero",children:[u.jsxs("div",{className:"hero-bg",children:[u.jsx("img",{src:cV,alt:"Cinnamon Background"}),u.jsx("div",{className:"hero-overlay"})]}),u.jsxs("div",{className:"hero-content",children:[u.jsx("span",{className:"hero-eyebrow",children:"Ambrosia  Pure, Premium 100% Sri Lankan Cinnamon"}),u.jsx("h1",{className:"hero-title",children:"Divine Essence"}),u.jsx("p",{className:"hero-desc",children:"Experience the gold standard of spices. 100% authentic, hand-harvested Ceylon cinnamon from the heart of Sri Lanka."}),u.jsxs("div",{className:"hero-actions",children:[u.jsx("a",{href:"#products",className:"btn",children:"Shop Now"}),u.jsx("a",{href:"#heritage",className:"btn btn-outline",style:{marginLeft:"1rem"},children:"Learn More"})]})]})]}),hV=()=>u.jsx("section",{id:"heritage",className:"brand-intro-section",children:u.jsx("div",{className:"container",children:u.jsxs("div",{className:"intro-grid",children:[u.jsxs("div",{className:"intro-text",children:[u.jsx("span",{className:"gold-label",children:"Our Mission"}),u.jsx("h2",{className:"text-4xl font-heading mb-6 text-white",children:"Ambrosia  Pure, Premium 100% Sri Lankan Cinnamon"}),u.jsx("p",{className:"intro-p",children:"Born from the sun-drenched coastal gardens of Sri Lanka, Ambrosia is a tribute to the legendary 'Gold of the East'. We specialize exclusively in true Ceylon Cinnamon (Cinnamomum Verum)  the only 100% authentic, low-coumarin variety that offers genuine health benefits and a sophisticated sweetness."}),u.jsx("p",{className:"intro-p",children:"Our mission is simple: To bring the finest grade cinnamon, usually reserved for the royal houses of the world, directly to your kitchen."})]}),u.jsxs("div",{className:"quick-links",children:[u.jsx("h3",{className:"text-xl font-heading mb-6 text-gold",children:"Explore Ambrosia"}),u.jsxs("div",{className:"links-stack",children:[u.jsxs("a",{href:"#products",className:"quick-link-item",children:[u.jsx("span",{className:"link-icon",children:""}),u.jsxs("div",{className:"link-content",children:[u.jsx("h4",{children:"Online Shop"}),u.jsx("p",{children:"Browse our sticks, powders, and blends."})]})]}),u.jsxs("a",{href:"#about-cinnamon",className:"quick-link-item",children:[u.jsx("span",{className:"link-icon",children:""}),u.jsxs("div",{className:"link-content",children:[u.jsx("h4",{children:"About Cinnamon"}),u.jsx("p",{children:"Learn the difference between Ceylon and Cassia."})]})]}),u.jsxs("a",{href:"#recipes",className:"quick-link-item",children:[u.jsx("span",{className:"link-icon",children:""}),u.jsxs("div",{className:"link-content",children:[u.jsx("h4",{children:"Recipes & Blog"}),u.jsx("p",{children:"Discover healthy ways to use cinnamon."})]})]})]})]})]})})}),$i="/Ambrosia/assets/divine-CAd-ezJ-.png",mm="/Ambrosia/assets/kuveni-CIhBCFC7.png",Rw="/Ambrosia/assets/ravana-UNXb9jZj.png",dV=[{id:1,name:"Divine Essence Powder",price:45,image:$i,description:"Finely milled 100% Sri Lankan cinnamon powder for effortless blending."},{id:2,name:"Kuveni's Reserve Sticks",price:60,image:mm,description:"Hand-rolled Alba grade Ceylon cinnamon sticks, the gold standard."},{id:3,name:"Ravana's Signature Blend",price:55,image:Rw,description:"A specialized infusion of spices anchored by our premium cinnamon."}],fV=()=>{const{addToCart:t}=gl();return u.jsx("section",{id:"products",className:"products-section",children:u.jsxs("div",{className:"container",children:[u.jsxs("div",{className:"section-header",children:[u.jsx("h2",{className:"section-title",children:"Royal Collections"}),u.jsx("p",{className:"section-subtitle",children:"Curated from the ancient gardens of Ceylon."})]}),u.jsx("div",{className:"products-grid",children:dV.map(e=>u.jsxs("div",{className:"product-card",children:[u.jsx("div",{className:"product-image-wrapper",children:u.jsx("img",{src:e.image,alt:e.name,className:"product-image"})}),u.jsxs("div",{className:"product-info",children:[u.jsx("h3",{className:"product-name",children:e.name}),u.jsx("p",{className:"product-desc",children:e.description}),u.jsxs("span",{className:"product-price",children:["$",e.price.toFixed(2)]}),u.jsx("button",{onClick:()=>t(e),className:"product-btn uppercase",children:"Add to Cart"})]})]},e.id))})]})})},el="/Ambrosia/assets/garden-0ov3Dsbc.png",mV=[{id:1,title:"Golden Cinnamon Latte",category:"Beverages",image:$i,time:"5 mins",desc:"A warm, soul-soothing latte infused with Ambrosia Divine Essence."},{id:2,title:"Authentic Sri Lankan Chai",category:"Beverages",image:el,time:"15 mins",desc:"A spiced tea tradition using whole Kuveni sticks."},{id:3,title:"Cinnamon Glazed Apple Tart",category:"Desserts",image:$i,time:"45 mins",desc:"A classic dessert elevated by the floral notes of Ceylon cinnamon."},{id:4,title:"Health Benefits of Daily Cinnamon",category:"Wellness",image:el,time:"4 min read",desc:"How a pinch of Ambrosia every morning can change your metabolism."}],pV=()=>u.jsx("section",{className:"recipes-home-section",children:u.jsxs("div",{className:"container",children:[u.jsxs("div",{className:"section-header",children:[u.jsx("h2",{className:"section-title",children:"Recipes & Rituals"}),u.jsx("p",{className:"section-subtitle",children:"Discover the endless possibilities of true cinnamon."})]}),u.jsx("div",{className:"recipes-home-scroll",children:mV.map(t=>u.jsxs("div",{className:"recipe-home-card",children:[u.jsxs("div",{className:"recipe-home-image",children:[u.jsx("img",{src:t.image,alt:t.title}),u.jsx("span",{className:"recipe-home-cat",children:t.category})]}),u.jsxs("div",{className:"recipe-home-info",children:[u.jsx("span",{className:"recipe-home-time",children:t.time}),u.jsx("h3",{className:"recipe-home-title",children:t.title}),u.jsx("p",{className:"recipe-home-desc",children:t.desc}),u.jsx(Qe,{to:"/recipes",className:"recipe-home-link",children:"Read More"})]})]},t.id))})]})}),gV=[{id:1,name:"Sarah Johnson",role:"Professional Baker",content:"The aroma of Ambrosia's Divine Essence is incomparable. It transformed my signature cinnamon rolls into something truly legendary.",rating:5},{id:2,name:"Dr. Aris Fernando",role:"Wellness Consultant",content:"I recommend Ambrosia to all my clients. Knowing it's 100% authentic Sri Lankan cinnamon gives me peace of mind regarding its health benefits.",rating:5},{id:3,name:"Michael Chen",role:"Home Enthusiast",content:"I never knew there was such a difference between regular cinnamon and Ceylon cinnamon until I tried the Ravana's Blend. Incredible depth!",rating:5}],yV=()=>u.jsx("section",{className:"testimonials-section",children:u.jsxs("div",{className:"container",children:[u.jsxs("div",{className:"section-header",children:[u.jsx("h2",{className:"section-title",children:"What Our Patrons Say"}),u.jsx("p",{className:"section-subtitle",children:"Join the community of those who appreciate the finer things in life."})]}),u.jsx("div",{className:"testimonials-grid",children:gV.map(t=>u.jsxs("div",{className:"testimonial-card",children:[u.jsx("div",{className:"stars",children:[...Array(t.rating)].map((e,n)=>u.jsx("span",{className:"star",children:""},n))}),u.jsxs("p",{className:"testimonial-content",children:['"',t.content,'"']}),u.jsx("div",{className:"testimonial-author",children:u.jsxs("div",{className:"author-info",children:[u.jsx("h4",{className:"author-name",children:t.name}),u.jsx("p",{className:"author-role",children:t.role})]})})]},t.id))})]})}),_V=()=>u.jsxs("div",{className:"home-page",children:[u.jsx(uV,{}),u.jsx(hV,{}),u.jsx(fV,{}),u.jsx(pV,{}),u.jsx(yV,{})]}),vV=()=>u.jsxs("div",{className:"about-page",children:[u.jsx("section",{className:"about-hero",children:u.jsxs("div",{className:"container",children:[u.jsx("h1",{className:"text-6xl font-heading text-gold mb-4",children:"Our Heritage"}),u.jsx("p",{className:"text-xl text-gray-300 max-w-2xl",children:"Preserving the 100% authentic legacy of Ceylon Cinnamon."})]})}),u.jsx("section",{className:"mission-section py-20",children:u.jsxs("div",{className:"container intro-grid",children:[u.jsxs("div",{className:"mission-text",children:[u.jsx("h2",{className:"text-4xl font-heading text-white mb-8",children:"A Legacy of Excellence"}),u.jsx("p",{className:"text-gray-400 mb-6 leading-relaxed",children:"Ambrosia was founded on a singular realization: the true essence of Sri Lankan cinnamon was being lost to the world. In an era dominated by mass-market Cassia, the legendary 'Cinnamomum Verum' of Ceylononce more valuable than goldhad become a rare luxury."}),u.jsx("p",{className:"text-gray-400 mb-6 leading-relaxed",children:"Our journey began in the southern coastal stretches of Sri Lanka, where the humid air and salty breeze create the perfect cradle for the world's finest cinnamon. We don't just sell a spice; we protect a thousand-year-old tradition of hand-peeling and air-drying that has been passed down through generations of 'Salagama' harvesters."})]}),u.jsx("div",{className:"mission-image",children:u.jsx("img",{src:el,alt:"Cinnamon Garden",className:"rounded-lg shadow-2xl"})})]})}),u.jsx("section",{className:"sourcing-section py-20 bg-gold/5",children:u.jsxs("div",{className:"container",children:[u.jsxs("div",{className:"text-center mb-16",children:[u.jsx("h2",{className:"text-4xl font-heading text-gold mb-4",children:"Sustainable Sourcing"}),u.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"We believe in a cycle of respectfor the soil, the farmer, and the consumer."})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-16 items-center",children:[u.jsxs("div",{className:"sourcing-content",children:[u.jsx("h3",{className:"text-2xl text-white mb-6",children:"Direct from the Wild Gardens"}),u.jsx("p",{className:"text-gray-500 mb-6",children:"Unlike industrial plantations, our cinnamon is sourced from 'wild gardens' where biodiversity is encouraged. This natural ecosystem allows the trees to develop higher concentrations of essential oils, resulting in the signature floral aroma unique to Ambrosia."}),u.jsx("p",{className:"text-gray-500",children:"Every harvest is traceable to its village of origin, ensuring that the local communities that have guarded this heritage for centuries are fairly compensated and supported."})]}),u.jsxs("div",{className:"sourcing-stats grid grid-cols-2 gap-8",children:[u.jsxs("div",{className:"stat-box",children:[u.jsx("span",{className:"text-4xl text-gold font-bold",children:"100%"}),u.jsx("p",{className:"text-gray-400",children:"Natural & Organic"})]}),u.jsxs("div",{className:"stat-box",children:[u.jsx("span",{className:"text-4xl text-gold font-bold",children:"500+"}),u.jsx("p",{className:"text-gray-400",children:"Local Farmers"})]}),u.jsxs("div",{className:"stat-box",children:[u.jsx("span",{className:"text-4xl text-gold font-bold",children:"0%"}),u.jsx("p",{className:"text-gray-400",children:"Chemical Additives"})]}),u.jsxs("div",{className:"stat-box",children:[u.jsx("span",{className:"text-4xl text-gold font-bold",children:"True"}),u.jsx("p",{className:"text-gray-400",children:"Alba Grade Only"})]})]})]})]})})]}),EV="/Ambrosia/assets/comparison-D2ywGGNU.png",Bd=["Cinnamon bark is harvested after two years of growth during the rainy season.","True Ceylon Cinnamon quills are filled like a cigar with small, fine chips.","In the 1st century AD, 350 grams of cinnamon was worth 5 kilograms of silver.","The word 'Cinnamon' is derived from the Greek 'kinnamon'."],bV=()=>{const[t,e]=j.useState(0);return j.useEffect(()=>{const n=setInterval(()=>{e(i=>(i+1)%Bd.length)},5e3);return()=>clearInterval(n)},[]),u.jsxs("div",{className:"cinnamon-education-page",children:[u.jsx("section",{className:"edu-hero",children:u.jsxs("div",{className:"container text-center",children:[u.jsx("span",{className:"gold-label font-bold tracking-widest uppercase mb-4 block",children:"Educational Guide"}),u.jsx("h1",{className:"text-7xl font-heading text-gold mb-6",children:"The Gold of the East"}),u.jsx("p",{className:"text-xl text-gray-200 max-w-3xl mx-auto leading-relaxed mb-10",children:"Deep within the soul of Sri Lanka lies a secret that shaped world history. Worshiped by Emperors and sought by explorers, Ceylon Cinnamon remains nature's most sophisticated spice."}),u.jsxs("div",{className:"flex justify-center gap-6",children:[u.jsx("a",{href:"#production-video",className:"btn btn-outline",children:"Watch Production"}),u.jsx(Qe,{to:"/shop",className:"btn",children:"Shop Collection"})]})]})}),u.jsx("section",{className:"history-section py-24 bg-[#050505]",children:u.jsx("div",{className:"container",children:u.jsxs("div",{className:"history-grid grid grid-cols-2 gap-20 items-center",children:[u.jsxs("div",{className:"history-content",children:[u.jsx("h2",{className:"text-4xl font-heading text-white mb-8",children:"A Journey Through Time"}),u.jsx("p",{className:"text-gray-400 mb-6 leading-relaxed",children:"The documented history of Sri Lankan cinnamon dates back over 3,000 years. Mentioned in the Old Testament and sought by Ancient Egyptians for embalming, it was the most prized possession in the ancient world."}),u.jsx("p",{className:"text-gray-400 mb-6 leading-relaxed",children:"In the 15th century, the 'Cinnamon Quest' launched the Age of Discovery. Columbus, Vasco da Gama, and Magellan sailed into the unknown partially driven by the intoxicating scent of Ceylons 'true' cinnamon. For centuries, nations fought wars for the exclusive rights to our island's shores."}),u.jsxs("blockquote",{className:"border-l-4 border-gold pl-6 py-2 italic text-gray-300 text-lg",children:['"The cinnamon of Ceylon is the best in all the world, and many-a-man hath lost his life for its sake."',u.jsx("span",{className:"block text-sm text-gold mt-2",children:" 17th Century Dutch Explorer"})]})]}),u.jsx("div",{className:"history-visual relative",children:u.jsxs("div",{className:"history-box p-12 bg-gold/5 border border-gold/20 rounded-lg",children:[u.jsx("h3",{className:"text-2xl text-gold mb-6 font-heading",children:"Key Historical Milestones"}),u.jsxs("ul",{className:"space-y-6",children:[u.jsxs("li",{className:"flex gap-4",children:[u.jsx("span",{className:"text-gold font-bold",children:"1400 BC:"}),u.jsx("p",{className:"text-gray-400 text-sm",children:"Used in Ancient Egypt as a sacred medicinal ingredient."})]}),u.jsxs("li",{className:"flex gap-4",children:[u.jsx("span",{className:"text-gold font-bold",children:"1505 AD:"}),u.jsx("p",{className:"text-gray-400 text-sm",children:"Portuguese explorers land in Sri Lanka, seeking the source of 'True Cinnamon'."})]}),u.jsxs("li",{className:"flex gap-4",children:[u.jsx("span",{className:"text-gold font-bold",children:"18th Century:"}),u.jsx("p",{className:"text-gray-400 text-sm",children:"Dutch East India Company establishes the first systematic plantations."})]})]})]})})]})})}),u.jsx("section",{id:"production-video",className:"video-section py-24 bg-black",children:u.jsxs("div",{className:"container",children:[u.jsxs("div",{className:"text-center mb-16",children:[u.jsx("h2",{className:"text-4xl font-heading text-gold mb-4",children:"Life of Cinnamon"}),u.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"Witness the meticulous craft behind every Ambrosia quill."})]}),u.jsx("div",{className:"video-container aspect-video max-w-5xl mx-auto rounded-2xl overflow-hidden border border-gold/10 shadow-2xl",children:u.jsx("iframe",{width:"100%",height:"100%",src:"https://www.youtube.com/embed/j_8c8XwK6-o",title:"Life of Ceylon Cinnamon",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),u.jsx("p",{className:"text-center text-gray-500 mt-8 italic",children:"Courtesy: A cinematic look at the traditional peeling process in Southern Sri Lanka."})]})}),u.jsx("section",{className:"types-section py-24 bg-[#0a0a0a]",children:u.jsxs("div",{className:"container grid grid-cols-2 gap-20 items-center",children:[u.jsx("div",{className:"order-2 lg:order-1",children:u.jsx("img",{src:EV,alt:"Cinnamon Comparison",className:"rounded-xl border border-gold/20 shadow-2xl"})}),u.jsxs("div",{className:"order-1 lg:order-2",children:[u.jsx("h2",{className:"text-4xl font-heading text-white mb-8",children:"Ceylon vs Cassia"}),u.jsxs("div",{className:"comparison-bullets space-y-8",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"text-gold mb-2 font-bold tracking-wide",children:"THE TRUTH"}),u.jsxs("p",{className:"text-gray-400",children:["Mass-market ",u.jsx("strong",{children:"Cassia"})," contains high levels of ",u.jsx("em",{children:"coumarin"}),", a compound that can be toxic if consumed regularly. It's thick, hard bark with a spicy, hot bite."]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-gold mb-2 font-bold tracking-wide",children:"THE ESSENCE"}),u.jsxs("p",{className:"text-gray-400",children:[u.jsx("strong",{children:"Ambrosia Ceylon Cinnamon"})," is thin, flaky, and delicate. It has virtually 0% coumarin and offers a complex, floral sweetness that's safe for daily health rituals."]})]})]})]})]})}),u.jsx("section",{className:"uses-section py-24 bg-[#050505]",children:u.jsxs("div",{className:"container",children:[u.jsx("h2",{className:"text-4xl font-heading text-gold text-center mb-16",children:"Rituals & Remedies"}),u.jsxs("div",{className:"grid grid-cols-3 gap-12",children:[u.jsxs("div",{className:"use-card p-10 bg-[#111] rounded-lg border border-white/5",children:[u.jsx("h3",{className:"text-xl text-white mb-4",children:"Culinary Mastery"}),u.jsx("p",{className:"text-gray-500 text-sm leading-relaxed",children:"Used in both sweet and savory dishes. From a pinch in your morning coffee to a quill in a slow-cooked Lankan curry, its versatility is unmatched."})]}),u.jsxs("div",{className:"use-card p-10 bg-[#111] rounded-lg border border-white/5 text-center transform scale-110 border-gold/20",children:[u.jsx("h3",{className:"text-xl text-white mb-4",children:"Wellness Elixir"}),u.jsx("p",{className:"text-gray-500 text-sm leading-relaxed",children:"Mixed with warm water and honey for a natural immunity boost. A powerful tool for blood sugar regulation and metabolic health."})]}),u.jsxs("div",{className:"use-card p-10 bg-[#111] rounded-lg border border-white/5",children:[u.jsx("h3",{className:"text-xl text-white mb-4",children:"Pure Aromatherapy"}),u.jsx("p",{className:"text-gray-500 text-sm leading-relaxed",children:"Its scent alone can improve memory and mood. Use the natural quills as an elegant, aromatic centerpiece in your living space."})]})]})]})}),u.jsx("section",{className:"fun-facts py-24 bg-gold/5 overflow-hidden",children:u.jsxs("div",{className:"container text-center",children:[u.jsx("span",{className:"gold-label text-xs tracking-widest uppercase mb-6 block",children:"Did You Know?"}),u.jsx("div",{className:"fact-slider",children:u.jsx("p",{className:"text-white font-heading text-3xl max-w-4xl mx-auto animate-fade-in",children:Bd[t]},t)}),u.jsx("div",{className:"flex justify-center gap-2 mt-8",children:Bd.map((n,i)=>u.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${i===t?"bg-gold w-8":"bg-gray-700"}`},i))})]})}),u.jsx("section",{className:"cta-section py-24 text-center",children:u.jsxs("div",{className:"container",children:[u.jsx("h2",{className:"text-5xl font-heading text-white mb-10",children:"Experience the Pure Essence"}),u.jsx(Qe,{to:"/shop",className:"btn btn-lg px-12 py-5 text-lg",children:"Shop Ambrosia Cinnamon"})]})})]})},w0=[{id:1,name:"Divine Essence Powder",category:"Powder",price:45,image:$i,origin:"100% Sri Lankan"},{id:2,name:"Kuveni's Reserve Sticks",category:"Sticks",price:60,image:mm,origin:"100% Sri Lankan"},{id:3,name:"Ravana's Signature Blend",category:"Blends",price:55,image:Rw,origin:"100% Sri Lankan"},{id:4,name:"Ambrosia Collection Box",category:"Gift Sets",price:120,image:$i,origin:"100% Sri Lankan"},{id:5,name:"Alba Grade Premium Sticks",category:"Sticks",price:75,image:mm,origin:"100% Sri Lankan"},{id:6,name:"Culinary Grade Powder",category:"Powder",price:30,image:$i,origin:"100% Sri Lankan"}],TV=()=>{const{addToCart:t}=gl(),[e,n]=j.useState("All"),i=["All","Sticks","Powder","Blends","Gift Sets"],r=e==="All"?w0:w0.filter(s=>s.category===e);return u.jsxs("div",{className:"store-page",children:[u.jsx("section",{className:"store-header",children:u.jsxs("div",{className:"container",children:[u.jsx("h1",{className:"text-5xl font-heading text-gold mb-4",children:"The Collections"}),u.jsx("p",{className:"text-gray-400",children:"Authentic Ceylon cinnamon for every occasion."})]})}),u.jsx("section",{className:"store-content py-12",children:u.jsxs("div",{className:"container",children:[u.jsx("div",{className:"filters-bar mb-12",children:i.map(s=>u.jsx("button",{onClick:()=>n(s),className:`filter-btn ${e===s?"active":""}`,children:s},s))}),u.jsx("div",{className:"store-grid",children:r.map(s=>u.jsxs("div",{className:"store-item-card",children:[u.jsxs("div",{className:"item-image",children:[u.jsx("img",{src:s.image,alt:s.name}),u.jsx("span",{className:"origin-badge",children:s.origin})]}),u.jsxs("div",{className:"item-info",children:[u.jsx("span",{className:"item-cat",children:s.category}),u.jsx("h3",{className:"item-name",children:s.name}),u.jsxs("p",{className:"item-price",children:["$",s.price.toFixed(2)]}),u.jsx("button",{onClick:()=>t(s),className:"add-cart-btn uppercase",children:"Add to Cart"})]})]},s.id))})]})})]})},xV=[{id:1,title:"Golden Cinnamon Latte",category:"Beverages",image:$i,time:"5 mins",desc:"A warm, soul-soothing latte infused with Ambrosia Divine Essence."},{id:2,title:"Authentic Sri Lankan Chai",category:"Beverages",image:el,time:"15 mins",desc:"A spiced tea tradition using whole Kuveni sticks."},{id:3,title:"Cinnamon Glazed Apple Tart",category:"Desserts",image:$i,time:"45 mins",desc:"A classic dessert elevated by the floral notes of Ceylon cinnamon."},{id:4,title:"Health Benefits of Daily Cinnamon",category:"Wellness",image:el,time:"4 min read",desc:"How a pinch of Ambrosia every morning can change your metabolism."}],wV=()=>u.jsxs("div",{className:"recipes-page",children:[u.jsx("section",{className:"recipes-hero",children:u.jsxs("div",{className:"container",children:[u.jsx("h1",{className:"text-6xl font-heading text-gold mb-4",children:"Recipes & Rituals"}),u.jsx("p",{className:"text-xl text-gray-400",children:"Discover the endless possibilities of true cinnamon."})]})}),u.jsx("section",{className:"recipes-grid-section py-20",children:u.jsx("div",{className:"container",children:u.jsx("div",{className:"recipes-grid",children:xV.map(t=>u.jsxs("div",{className:"recipe-card",children:[u.jsxs("div",{className:"recipe-image",children:[u.jsx("img",{src:t.image,alt:t.title}),u.jsx("span",{className:"recipe-cat",children:t.category})]}),u.jsxs("div",{className:"recipe-info",children:[u.jsx("span",{className:"recipe-time",children:t.time}),u.jsx("h3",{className:"recipe-title",children:t.title}),u.jsx("p",{className:"recipe-desc",children:t.desc}),u.jsx("button",{className:"read-more",children:"Read More"})]})]},t.id))})})})]}),SV=()=>{const[t,e]=j.useState({name:"",email:"",subject:"General Inquiry",message:""}),[n,i]=j.useState(!1),r=a=>{e({...t,[a.target.name]:a.target.value})},s=async a=>{a.preventDefault(),i(!0);try{await Tw(Cu($n,"messages"),{...t,createdAt:XM(),status:"new"}),alert("Message sent successfully! We will get back to you soon."),e({name:"",email:"",subject:"General Inquiry",message:""})}catch(l){console.error("Error sending message:",l),alert("Failed to send message. Please try again.")}i(!1)};return u.jsxs("div",{className:"contact-page",children:[u.jsx("section",{className:"contact-hero",children:u.jsxs("div",{className:"container text-center",children:[u.jsx("h1",{className:"text-6xl font-heading text-gold mb-4",children:"Connect with Ambrosia"}),u.jsx("p",{className:"text-xl text-gray-400",children:"Questions about our cinnamon? We're here to help."})]})}),u.jsx("section",{className:"contact-content py-20",children:u.jsxs("div",{className:"container grid grid-cols-2 gap-20",children:[u.jsxs("div",{className:"contact-info",children:[u.jsx("h2",{className:"text-4xl font-heading text-white mb-8",children:"Get in Touch"}),u.jsxs("div",{className:"info-item mb-8",children:[u.jsx("h4",{className:"text-gold uppercase tracking-widest text-xs mb-2",children:"Email"}),u.jsx("p",{className:"text-xl text-gray-300",children:"essence@ambrosiaspice.com"})]}),u.jsxs("div",{className:"info-item mb-8",children:[u.jsx("h4",{className:"text-gold uppercase tracking-widest text-xs mb-2",children:"Phone"}),u.jsx("p",{className:"text-xl text-gray-300",children:"+94 11 234 5678"})]}),u.jsxs("div",{className:"info-item mb-8",children:[u.jsx("h4",{className:"text-gold uppercase tracking-widest text-xs mb-2",children:"Headquarters"}),u.jsx("p",{className:"text-xl text-gray-300",children:"Galle Road, Colombo 03, Sri Lanka"})]}),u.jsxs("div",{className:"social-links mt-12",children:[u.jsx("h4",{className:"text-gray-500 uppercase tracking-widest text-xs mb-4",children:"Follow Our Journey"}),u.jsxs("div",{className:"flex gap-6",children:[u.jsx("a",{href:"#",className:"text-gold hover:text-white transition-colors mr-4",children:"Instagram"}),u.jsx("a",{href:"#",className:"text-gold hover:text-white transition-colors mr-4",children:"Facebook"}),u.jsx("a",{href:"#",className:"text-gold hover:text-white transition-colors",children:"LinkedIn"})]})]})]}),u.jsx("div",{className:"contact-form-container",children:u.jsxs("form",{className:"contact-form",onSubmit:s,children:[u.jsx("div",{className:"form-group mb-6",children:u.jsx("input",{type:"text",name:"name",placeholder:"Your Name",className:"form-input",value:t.name,onChange:r,required:!0})}),u.jsx("div",{className:"form-group mb-6",children:u.jsx("input",{type:"email",name:"email",placeholder:"Email Address",className:"form-input",value:t.email,onChange:r,required:!0})}),u.jsx("div",{className:"form-group mb-6",children:u.jsxs("select",{name:"subject",className:"form-input",value:t.subject,onChange:r,children:[u.jsx("option",{children:"General Inquiry"}),u.jsx("option",{children:"Wholesale/B2B"}),u.jsx("option",{children:"Order Support"}),u.jsx("option",{children:"Press"})]})}),u.jsx("div",{className:"form-group mb-8",children:u.jsx("textarea",{name:"message",placeholder:"How can we help?",className:"form-input h-32",value:t.message,onChange:r,required:!0})}),u.jsx("button",{type:"submit",className:"btn w-full",disabled:n,children:n?"Sending...":"Send Message"})]})})]})})]})},AV=[{q:"Why is Sri Lankan cinnamon better?",a:"Sri Lankan (Ceylon) cinnamon has a much lower coumarin content compared to Cassia. It's also known for its delicate, sweet flavor and floral aroma that Cassia lacks."},{q:"How should I store my Ambrosia cinnamon?",a:"Store in a cool, dark place in an airtight container. Our premium jars are designed to protect the essential oils from light and moisture."},{q:"Do you ship internationally?",a:"Yes, Ambrosia ships to most countries worldwide. Shipping times vary depending on the location, typically 5-10 business days."},{q:"Is your cinnamon organic?",a:"We work with farms that follow sustainable, natural farming practices. While not all are certified 'Organic' yet, we ensure no synthetic pesticides or fertilizers are used."}],RV=()=>u.jsxs("div",{className:"faq-page",children:[u.jsx("section",{className:"faq-hero py-20",children:u.jsxs("div",{className:"container text-center",children:[u.jsx("h1",{className:"text-5xl font-heading text-gold mb-4",children:"Frequently Asked Questions"}),u.jsx("p",{className:"text-gray-400",children:"Everything you need to know about Ambrosia."})]})}),u.jsx("section",{className:"faq-list-section py-12",children:u.jsx("div",{className:"container max-w-3xl",children:u.jsx("div",{className:"faq-list",children:AV.map((t,e)=>u.jsxs("div",{className:"faq-item mb-8",children:[u.jsx("h3",{className:"text-xl text-white mb-3 font-heading",children:t.q}),u.jsx("p",{className:"text-gray-400 leading-relaxed",children:t.a})]},e))})})})]}),NV=()=>{const{cartItems:t,removeFromCart:e,updateQuantity:n,cartTotal:i}=gl();return t.length===0?u.jsx("div",{className:"cart-page py-32",children:u.jsxs("div",{className:"container text-center",children:[u.jsx("h1",{className:"text-4xl font-heading text-gold mb-8",children:"Your Cart is Empty"}),u.jsx("p",{className:"text-gray-400 mb-12",children:"Looks like you haven't added the essence of Ceylon to your collection yet."}),u.jsx(Qe,{to:"/shop",className:"btn",children:"Browse Shop"})]})}):u.jsx("div",{className:"cart-page py-32",children:u.jsxs("div",{className:"container",children:[u.jsx("h1",{className:"text-5xl font-heading text-gold mb-12",children:"Your Selection"}),u.jsxs("div",{className:"cart-grid",children:[u.jsxs("div",{className:"cart-items",children:[u.jsxs("div",{className:"cart-header grid grid-cols-4 gap-4 text-xs uppercase tracking-widest text-gray-500 pb-4 border-bottom border-white/5 mb-8",children:[u.jsx("div",{className:"col-span-2",children:"Product"}),u.jsx("div",{className:"text-center",children:"Quantity"}),u.jsx("div",{className:"text-right",children:"Total"})]}),t.map(r=>u.jsxs("div",{className:"cart-item-row grid grid-cols-4 gap-4 items-center py-6 border-bottom border-white/5",children:[u.jsxs("div",{className:"col-span-2 flex gap-6 items-center",children:[u.jsx("div",{className:"item-thumbnail w-24 h-24 bg-[#111] overflow-hidden rounded",children:u.jsx("img",{src:r.image,alt:r.name,className:"w-full h-full object-cover"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-white font-heading text-xl mb-1",children:r.name}),u.jsxs("p",{className:"text-gold text-sm",children:["$",r.price.toFixed(2)]}),u.jsx("button",{onClick:()=>e(r.id),className:"text-gray-600 text-xs mt-2 hover:text-red-500 transition-colors uppercase",children:"Remove"})]})]}),u.jsxs("div",{className:"flex justify-center items-center gap-4",children:[u.jsx("button",{onClick:()=>n(r.id,r.quantity-1),className:"qty-btn",children:"-"}),u.jsx("span",{className:"text-white",children:r.quantity}),u.jsx("button",{onClick:()=>n(r.id,r.quantity+1),className:"qty-btn",children:"+"})]}),u.jsxs("div",{className:"text-right text-white font-bold",children:["$",(r.price*r.quantity).toFixed(2)]})]},r.id))]}),u.jsxs("div",{className:"cart-summary bg-[#111] p-8 rounded-lg border border-white/5 h-fit",children:[u.jsx("h2",{className:"text-2xl font-heading text-white mb-8",children:"Summary"}),u.jsxs("div",{className:"summary-row flex justify-between mb-4",children:[u.jsx("span",{className:"text-gray-400",children:"Subtotal"}),u.jsxs("span",{className:"text-white",children:["$",i.toFixed(2)]})]}),u.jsxs("div",{className:"summary-row flex justify-between mb-8 pb-8 border-bottom border-white/5",children:[u.jsx("span",{className:"text-gray-400",children:"Shipping"}),u.jsx("span",{className:"text-gold",children:"Calculated at checkout"})]}),u.jsxs("div",{className:"summary-row flex justify-between mb-12",children:[u.jsx("span",{className:"text-xl text-white font-heading",children:"Total"}),u.jsxs("span",{className:"text-xl text-gold font-bold",children:["$",i.toFixed(2)]})]}),u.jsx(Qe,{to:"/checkout",className:"btn w-full text-center",children:"Proceed to Checkout"})]})]})]})})},CV=()=>{const{cartItems:t,cartTotal:e,clearCart:n}=gl(),i=Wu(),[r,s]=j.useState(!1),[a,l]=j.useState("card"),[c,h]=j.useState({firstName:"",lastName:"",email:"",address:"",city:"",country:"",shippingMethod:"standard"}),[f,g]=j.useState(10),p=I=>{const{name:b,value:v}=I.target;h(w=>({...w,[b]:v}))},y=(I,b)=>{h(v=>({...v,shippingMethod:I})),g(b)},N=async I=>{if(I.preventDefault(),s(!0),!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c.email)){alert("Please enter a valid email address."),s(!1);return}if(!c.firstName||!c.lastName||!c.address||!c.city||!c.country){alert("Please fill in all required fields."),s(!1);return}setTimeout(()=>{s(!1),n(),i("/order-confirmation",{state:{orderId:Math.floor(Math.random()*1e4)}})},2e3)};if(t.length===0)return setTimeout(()=>i("/cart"),0),null;const D=e+f;return u.jsx("div",{className:"checkout-page py-32",children:u.jsxs("div",{className:"container",children:[u.jsx("h1",{className:"text-5xl font-heading text-gold mb-12",children:"Checkout"}),u.jsxs("form",{onSubmit:N,className:"checkout-grid grid grid-cols-2 gap-20",children:[u.jsxs("div",{className:"checkout-form",children:[u.jsxs("section",{className:"checkout-section mb-12",children:[u.jsx("h2",{className:"text-2xl font-heading text-white mb-8 border-bottom border-white/5 pb-4",children:"Shipping Information"}),u.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[u.jsx("input",{type:"text",name:"firstName",placeholder:"First Name",className:"form-input",required:!0,value:c.firstName,onChange:p}),u.jsx("input",{type:"text",name:"lastName",placeholder:"Last Name",className:"form-input",required:!0,value:c.lastName,onChange:p})]}),u.jsx("input",{type:"email",name:"email",placeholder:"Email Address",className:"form-input mb-6",required:!0,value:c.email,onChange:p}),u.jsx("input",{type:"text",name:"address",placeholder:"Address",className:"form-input mb-6",required:!0,value:c.address,onChange:p}),u.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[u.jsx("input",{type:"text",name:"city",placeholder:"City",className:"form-input",required:!0,value:c.city,onChange:p}),u.jsx("input",{type:"text",name:"country",placeholder:"Country",className:"form-input",required:!0,value:c.country,onChange:p})]})]}),u.jsxs("section",{className:"checkout-section mb-12",children:[u.jsx("h2",{className:"text-2xl font-heading text-white mb-8 border-bottom border-white/5 pb-4",children:"Shipping Method"}),u.jsxs("div",{className:"shipping-options space-y-4",children:[u.jsxs("label",{className:`shipping-option flex items-center justify-between p-4 bg-[#111] border rounded cursor-pointer ${c.shippingMethod==="standard"?"border-gold":"border-white/5"}`,children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("input",{type:"radio",name:"shipping",checked:c.shippingMethod==="standard",onChange:()=>y("standard",10)}),u.jsx("span",{children:"Standard (5-10 Days)"})]}),u.jsx("span",{className:"text-gold",children:"$10.00"})]}),u.jsxs("label",{className:`shipping-option flex items-center justify-between p-4 bg-[#111] border rounded cursor-pointer ${c.shippingMethod==="express"?"border-gold":"border-white/5"}`,children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("input",{type:"radio",name:"shipping",checked:c.shippingMethod==="express",onChange:()=>y("express",25)}),u.jsx("span",{children:"Express (2-3 Days)"})]}),u.jsx("span",{className:"text-gold",children:"$25.00"})]})]})]}),u.jsxs("section",{className:"checkout-section mb-12",children:[u.jsx("h2",{className:"text-2xl font-heading text-white mb-8 border-bottom border-white/5 pb-4",children:"Payment Method"}),u.jsxs("div",{className:"payment-tabs flex gap-4 mb-8",children:[u.jsx("button",{type:"button",className:`payment-tab flex-1 p-4 rounded border ${a==="card"?"border-gold text-gold bg-gold/5":"border-white/5 text-gray-400"}`,onClick:()=>l("card"),children:"Credit Card"}),u.jsx("button",{type:"button",className:`payment-tab flex-1 p-4 rounded border ${a==="paypal"?"border-gold text-gold bg-gold/5":"border-white/5 text-gray-400"}`,onClick:()=>l("paypal"),children:"PayPal"})]}),a==="card"?u.jsxs("div",{className:"card-details space-y-6",children:[u.jsx("div",{className:"p-4 bg-yellow-500/10 border border-yellow-500/20 text-yellow-200 text-sm rounded",children:"Note: This is a secure checkout demonstration. No real charge will be made yet."}),u.jsx("input",{type:"text",placeholder:"Card Number",className:"form-input"}),u.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[u.jsx("input",{type:"text",placeholder:"MM / YY",className:"form-input"}),u.jsx("input",{type:"text",placeholder:"CVV",className:"form-input"})]})]}):u.jsx("div",{className:"paypal-notice p-8 bg-blue-600/5 border border-blue-600/20 rounded text-center",children:u.jsx("p",{className:"text-gray-300",children:"Proceed to complete your purchase securely with PayPal."})})]}),u.jsx("button",{type:"submit",disabled:r,className:`btn w-full py-5 text-lg uppercase tracking-widest mt-8 ${r?"opacity-50 cursor-not-allowed":""}`,children:r?"Processing...":"Place Order"})]}),u.jsx("div",{className:"checkout-sidebar",children:u.jsxs("div",{className:"order-summary bg-[#111] p-10 rounded-lg border border-white/5 sticky top-32",children:[u.jsx("h2",{className:"text-2xl font-heading text-white mb-8 border-bottom border-white/5 pb-4",children:"Order Summary"}),u.jsx("div",{className:"order-items space-y-6 mb-10 max-h-96 overflow-y-auto pr-2",children:t.map(I=>u.jsxs("div",{className:"flex justify-between items-center bg-black/20 p-3 rounded border border-white/5",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"item-thumbnail-mini w-12 h-12 overflow-hidden rounded bg-gray-800",children:u.jsx("img",{src:I.image,alt:I.name,className:"w-full h-full object-cover"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-white text-xs font-heading leading-tight mb-1",children:I.name}),u.jsxs("p",{className:"text-gray-500 text-[10px] uppercase tracking-widest",children:["Qty: ",I.quantity]})]})]}),u.jsxs("span",{className:"text-gold text-sm font-bold",children:["$",(I.price*I.quantity).toFixed(2)]})]},I.id))}),u.jsxs("div",{className:"summary-details pt-8 border-top border-white/10 space-y-4",children:[u.jsxs("div",{className:"flex justify-between text-gray-400",children:[u.jsx("span",{children:"Subtotal"}),u.jsxs("span",{children:["$",e.toFixed(2)]})]}),u.jsxs("div",{className:"flex justify-between text-gray-400",children:[u.jsx("span",{children:"Shipping"}),u.jsxs("span",{children:["$",f.toFixed(2)]})]}),u.jsxs("div",{className:"flex justify-between text-xl text-white font-heading font-bold pt-4 border-top border-white/5",children:[u.jsx("span",{children:"Total"}),u.jsxs("span",{className:"text-gold",children:["$",D.toFixed(2)]})]})]})]})})]})]})})},IV=()=>{var n;const e=((n=lr().state)==null?void 0:n.orderId)||"AMB-"+Math.floor(1e5+Math.random()*9e5);return u.jsx("div",{className:"confirmation-page py-48",children:u.jsxs("div",{className:"container text-center",children:[u.jsx("div",{className:"success-icon text-gold text-7xl mb-8",children:""}),u.jsx("h1",{className:"text-6xl font-heading text-gold mb-6",children:"Order Confirmed"}),u.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto leading-relaxed mb-12",children:"Thank you for choosing Ambrosia. We've received your order and are currently preparing your selection of prime cinnamon for its journey to your doorstep."}),u.jsxs("div",{className:"order-details-summary bg-[#111] p-10 rounded max-w-lg mx-auto border border-white/5 mb-16",children:[u.jsxs("p",{className:"text-gray-500 text-sm mb-4",children:["Order #",e]}),u.jsx("p",{className:"text-white",children:"A confirmation email has been sent. You can track your 100% Sri Lankan delivery once the quills are dispatched."})]}),u.jsxs("div",{className:"flex justify-center gap-8",children:[u.jsx(Qe,{to:"/shop",className:"btn btn-outline",children:"Continue Shopping"}),u.jsx(Qe,{to:"/",className:"btn",children:"Back to Home"})]})]})})},Nw=({title:t})=>u.jsx("div",{className:"section",style:{paddingTop:"150px",minHeight:"80vh"},children:u.jsxs("div",{className:"container text-center",children:[u.jsx("h1",{className:"text-6xl text-gold mb-8",children:t}),u.jsx("p",{className:"text-xl text-gray-500",children:"This section is coming soon as part of the Ambrosia mission."})]})}),DV=()=>u.jsx(Nw,{title:"Privacy Policy"}),OV=()=>u.jsx(Nw,{title:"Terms & Conditions"}),jV=()=>{const[t,e]=j.useState(""),[n,i]=j.useState(""),[r,s]=j.useState(""),[a,l]=j.useState(!1),c=Wu(),h=async f=>{f.preventDefault(),s(""),l(!0);try{const p=(await _D(Zo,t,n)).user,y=await Ew(ia($n,"users",p.uid));if(y.exists()&&y.data().role==="admin")c("/admin");else throw await Qf(Zo),new Error("Access Denied: You do not have administrator privileges.")}catch(g){console.error("Login Error:",g),console.error("Login Error:",g);const p=g.message.includes("Access Denied")?g.message:"Invalid credentials. Please try again.";s(p)}finally{l(!1)}};return u.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center p-4",children:u.jsxs("div",{className:"w-full max-w-md bg-[#111] p-8 rounded-lg border border-white/10",children:[u.jsxs("div",{className:"text-center mb-10",children:[u.jsx("h1",{className:"text-3xl font-heading text-gold mb-2",children:"Ambrosia Admin"}),u.jsx("p",{className:"text-gray-500 uppercase text-xs tracking-widest",children:"Restricted Access"})]}),r&&u.jsx("div",{className:"bg-red-500/10 border border-red-500/20 text-red-400 p-3 rounded mb-6 text-sm text-center",children:r}),u.jsxs("form",{onSubmit:h,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Email"}),u.jsx("input",{type:"email",value:t,onChange:f=>e(f.target.value),className:"w-full bg-[#1a1a1a] border border-white/10 rounded p-3 text-white focus:outline-none focus:border-gold transition-colors",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Password"}),u.jsx("input",{type:"password",value:n,onChange:f=>i(f.target.value),className:"w-full bg-[#1a1a1a] border border-white/10 rounded p-3 text-white focus:outline-none focus:border-gold transition-colors",required:!0})]}),u.jsx("button",{type:"submit",disabled:a,className:`w-full bg-gold text-black font-bold py-3 rounded uppercase tracking-widest transition-all hover:bg-white ${a?"opacity-50 cursor-not-allowed":""}`,children:a?"Authenticating...":"Login"})]})]})})};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cw=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MV=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VV=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0=t=>{const e=VV(t);return e.charAt(0).toUpperCase()+e.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var kV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LV=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PV=j.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:r="",children:s,iconNode:a,...l},c)=>j.createElement("svg",{ref:c,...kV,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:Cw("lucide",r),...!s&&!LV(l)&&{"aria-hidden":"true"},...l},[...a.map(([h,f])=>j.createElement(h,f)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=(t,e)=>{const n=j.forwardRef(({className:i,...r},s)=>j.createElement(PV,{ref:s,iconNode:e,className:Cw(`lucide-${MV(S0(t))}`,`lucide-${t}`,i),...r}));return n.displayName=S0(t),n};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UV=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],zV=dr("clock",UV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BV=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],qV=dr("layout-dashboard",BV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HV=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],FV=dr("log-out",HV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GV=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],KV=dr("mail",GV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YV=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],QV=dr("package",YV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $V=[["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}],["path",{d:"m9 17-5-5 5-5",key:"nvlc11"}]],XV=dr("reply",$V);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WV=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],JV=dr("shopping-bag",WV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZV=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ek=dr("trash-2",ZV),tk=()=>{const t=Wu(),{currentUser:e,isAdmin:n,loading:i}=sV();if(wS.useEffect(()=>{!i&&(!e||!n)&&t("/admin/login")},[e,n,i,t]),i)return u.jsx("div",{className:"min-h-screen bg-black text-gold flex items-center justify-center",children:"Loading Admin..."});if(!n)return u.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col items-center justify-center gap-4",children:[u.jsx("h1",{className:"text-2xl text-red-500 font-bold",children:"Access Denied"}),u.jsx("p",{className:"text-gray-400",children:"You do not have administrator privileges."}),u.jsxs("div",{className:"text-sm text-gray-600",children:["Current Role: ",e==null?void 0:e.email]}),u.jsx("button",{onClick:()=>{Qf(Zo),t("/admin/login")},className:"px-4 py-2 bg-gold text-black rounded hover:bg-white transition-colors",children:"Back to Login"})]});const r=async()=>{try{await Qf(Zo),t("/admin/login")}catch(s){console.error("Logout failed:",s)}};return u.jsxs("div",{className:"min-h-screen bg-[#050505] flex text-gray-100 font-sans selection:bg-gold selection:text-black",children:[u.jsxs("aside",{className:"w-72 bg-gradient-to-b from-[#0f0f0f] to-[#050505] border-r border-white/5 flex flex-col fixed h-full z-20 shadow-2xl",children:[u.jsxs("div",{className:"p-10 border-b border-white/5",children:[u.jsx("h1",{className:"text-3xl font-heading text-gold tracking-tight",children:"Ambrosia"}),u.jsx("span",{className:"text-gray-500 text-[10px] uppercase tracking-[0.3em] block mt-2 font-medium",children:"Admin Console"})]}),u.jsxs("nav",{className:"flex-1 px-4 py-8 space-y-2",children:[u.jsx("p",{className:"px-4 text-[10px] uppercase tracking-widest text-gray-600 mb-4 font-bold",children:"Main Menu"}),u.jsxs(Un,{to:"/admin",end:!0,className:({isActive:s})=>`flex items-center gap-4 p-3 rounded-lg text-sm transition-all duration-300 group ${s?"bg-white/5 text-gold border-l-2 border-gold shadow-[0_0_20px_rgba(212,175,55,0.1)]":"text-gray-400 hover:text-white hover:bg-white/5 hover:translate-x-1"}`,children:[u.jsx(qV,{size:18}),u.jsx("span",{className:"tracking-wide",children:"Dashboard"})]}),u.jsxs(Un,{to:"/admin/orders",className:({isActive:s})=>`flex items-center gap-4 p-3 rounded-lg text-sm transition-all duration-300 group ${s?"bg-white/5 text-gold border-l-2 border-gold shadow-[0_0_20px_rgba(212,175,55,0.1)]":"text-gray-400 hover:text-white hover:bg-white/5 hover:translate-x-1"}`,children:[u.jsx(JV,{size:18}),u.jsx("span",{className:"tracking-wide",children:"Orders"})]}),u.jsxs(Un,{to:"/admin/products",className:({isActive:s})=>`flex items-center gap-4 p-3 rounded-lg text-sm transition-all duration-300 group ${s?"bg-white/5 text-gold border-l-2 border-gold shadow-[0_0_20px_rgba(212,175,55,0.1)]":"text-gray-400 hover:text-white hover:bg-white/5 hover:translate-x-1"}`,children:[u.jsx(QV,{size:18}),u.jsx("span",{className:"tracking-wide",children:"Inventory"})]})]}),u.jsxs("div",{className:"p-6 border-t border-white/5 bg-black/20",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6 px-2",children:[u.jsx("div",{className:"w-8 h-8 rounded-full bg-gold/20 flex items-center justify-center text-gold font-heading text-lg",children:"A"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-white font-medium",children:"Admin User"}),u.jsx("p",{className:"text-[10px] text-gray-500",children:"studio.layer1@gmail.com"})]})]}),u.jsxs("button",{onClick:r,className:"w-full flex items-center justify-center gap-2 p-3 text-red-400 hover:bg-red-500/10 hover:text-red-300 rounded-lg transition-colors text-xs uppercase tracking-widest border border-white/5 hover:border-red-500/30",children:[u.jsx(FV,{size:14}),"Logout"]})]})]}),u.jsxs("main",{className:"flex-1 ml-72 relative",children:[u.jsx("div",{className:"fixed top-0 left-0 w-full h-96 bg-gold/5 blur-[120px] pointer-events-none -z-10"}),u.jsx("div",{className:"max-w-[1600px] mx-auto p-12",children:u.jsx(tC,{})})]})]})},nk=()=>{const t=[{name:"Divine Essence Powder",units:142,revenue:6390,growth:"+12%"},{name:"Kuveni's Reserve Sticks",units:98,revenue:5880,growth:"+5%"},{name:"Ambrosia Collection Box",units:45,revenue:5400,growth:"+22%"}],e=[{id:"ORD-7752",user:"Sarah J.",date:"Today, 10:23 AM",amount:145,status:"Completed"},{id:"ORD-7751",user:"Mike T.",date:"Today, 09:15 AM",amount:60,status:"Completed"},{id:"ORD-7750",user:"Enterprise Corp",date:"Yesterday",amount:1250,status:"Processing"},{id:"ORD-7749",user:"Linda W.",date:"Yesterday",amount:45,status:"Completed"}];return u.jsxs("div",{className:"space-y-8",children:[u.jsxs("header",{className:"flex items-end justify-between border-b border-white/5 pb-6",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-heading text-white",children:"Sales Overview"}),u.jsx("p",{className:"text-gray-400 mt-1 text-sm",children:"Financial performance and market insights."})]}),u.jsxs("div",{className:"flex gap-4",children:[u.jsxs("select",{className:"bg-[#1a1a1a] border border-white/10 text-white text-xs px-4 py-2 rounded focus:outline-none",children:[u.jsx("option",{children:"This Month"}),u.jsx("option",{children:"Last Quarter"}),u.jsx("option",{children:"Year to Date"})]}),u.jsx("button",{className:"bg-gold/10 text-gold border border-gold/20 px-4 py-2 rounded text-xs font-bold uppercase tracking-wider hover:bg-gold hover:text-black transition-colors",children:"Download Report"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[u.jsxs("div",{className:"bg-white/5 backdrop-blur-md p-6 rounded-2xl border border-white/10 hover:border-gold/30 transition-all duration-300 group",children:[u.jsx("h3",{className:"text-gray-400 text-[10px] uppercase tracking-[0.2em] mb-3 group-hover:text-gold transition-colors",children:"Total Revenue"}),u.jsx("p",{className:"text-4xl font-heading text-transparent bg-clip-text bg-gradient-to-r from-white to-gray-400 mb-2",children:"$24,590.00"}),u.jsxs("div",{className:"flex items-center text-xs text-green-400 bg-green-500/10 w-fit px-2 py-1 rounded-full border border-green-500/20",children:[u.jsx("span",{children:" 18.2%"}),u.jsx("span",{className:"text-gray-500 ml-2",children:"vs last month"})]})]}),u.jsxs("div",{className:"bg-white/5 backdrop-blur-md p-6 rounded-2xl border border-white/10 hover:border-gold/30 transition-all duration-300 group",children:[u.jsx("h3",{className:"text-gray-400 text-[10px] uppercase tracking-[0.2em] mb-3 group-hover:text-gold transition-colors",children:"Avg Order Value"}),u.jsx("p",{className:"text-4xl font-heading text-transparent bg-clip-text bg-gradient-to-r from-white to-gray-400 mb-2",children:"$85.40"}),u.jsxs("div",{className:"flex items-center text-xs text-green-400 bg-green-500/10 w-fit px-2 py-1 rounded-full border border-green-500/20",children:[u.jsx("span",{children:" 4.1%"}),u.jsx("span",{className:"text-gray-500 ml-2",children:"upsell efficiency"})]})]}),u.jsxs("div",{className:"bg-white/5 backdrop-blur-md p-6 rounded-2xl border border-white/10 hover:border-gold/30 transition-all duration-300 group",children:[u.jsx("h3",{className:"text-gray-400 text-[10px] uppercase tracking-[0.2em] mb-3 group-hover:text-gold transition-colors",children:"Conversion Rate"}),u.jsx("p",{className:"text-4xl font-heading text-transparent bg-clip-text bg-gradient-to-r from-white to-gray-400 mb-2",children:"3.2%"}),u.jsxs("div",{className:"flex items-center text-xs text-yellow-500 bg-yellow-500/10 w-fit px-2 py-1 rounded-full border border-yellow-500/20",children:[u.jsx("span",{children:" 0.0%"}),u.jsx("span",{className:"text-gray-500 ml-2",children:"stable"})]})]}),u.jsxs("div",{className:"bg-gradient-to-br from-gold/10 to-black/50 backdrop-blur-md p-6 rounded-2xl border border-gold/20 hover:border-gold/50 transition-all duration-300 group relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-gold/10 blur-[50px] rounded-full -mr-10 -mt-10"}),u.jsx("h3",{className:"text-gold text-[10px] uppercase tracking-[0.2em] mb-3 font-bold",children:"Net Profit (Est)"}),u.jsx("p",{className:"text-4xl font-heading text-gold mb-2",children:"$8,120.00"}),u.jsx("div",{className:"flex items-center text-xs text-gold/80",children:u.jsx("span",{children:"33% Margin"})})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[u.jsxs("div",{className:"lg:col-span-2 bg-white/5 backdrop-blur-md rounded-2xl border border-white/10 overflow-hidden hover:border-white/20 transition-colors",children:[u.jsx("div",{className:"p-8 border-b border-white/5 flex justify-between items-center bg-black/20",children:u.jsx("h2",{className:"text-lg font-heading text-white tracking-wide",children:"Top Performing Products"})}),u.jsxs("table",{className:"w-full text-left",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-gray-500 text-[10px] uppercase tracking-[0.2em] border-b border-white/5",children:[u.jsx("th",{className:"p-6 font-medium",children:"Product Name"}),u.jsx("th",{className:"p-6 font-medium text-center",children:"Units Sold"}),u.jsx("th",{className:"p-6 font-medium text-right",children:"Revenue"}),u.jsx("th",{className:"p-6 font-medium text-right",children:"Growth"})]})}),u.jsx("tbody",{className:"divide-y divide-white/5",children:t.map((n,i)=>u.jsxs("tr",{className:"hover:bg-white/5 transition-colors group",children:[u.jsx("td",{className:"p-6 text-white font-medium group-hover:text-gold transition-colors",children:n.name}),u.jsx("td",{className:"p-6 text-gray-400 text-center",children:n.units}),u.jsxs("td",{className:"p-6 text-white text-right font-mono opacity-80",children:["$",n.revenue.toFixed(2)]}),u.jsx("td",{className:"p-6 text-green-400 text-right font-medium bg-green-500/5",children:n.growth})]},i))})]})]}),u.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl border border-white/10 overflow-hidden hover:border-white/20 transition-colors flex flex-col",children:[u.jsx("div",{className:"p-8 border-b border-white/5 bg-black/20",children:u.jsx("h2",{className:"text-lg font-heading text-white tracking-wide",children:"Live Feed"})}),u.jsx("div",{className:"flex-1 overflow-y-auto divide-y divide-white/5",children:e.map((n,i)=>u.jsxs("div",{className:"p-6 flex justify-between items-center hover:bg-white/5 transition-colors group cursor-default",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-white text-sm font-medium group-hover:text-gold transition-colors",children:n.user}),u.jsxs("p",{className:"text-gray-600 text-[10px] uppercase tracking-wider mt-1",children:[n.id,"  ",n.date]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("p",{className:"text-white font-mono text-sm",children:["$",n.amount.toFixed(2)]}),u.jsx("p",{className:`text-[10px] uppercase tracking-wider mt-1 ${n.status==="Completed"?"text-green-500":"text-yellow-500"}`,children:n.status})]})]},i))})]})]})]})},ik=()=>{const[t,e]=j.useState([]),[n,i]=j.useState(!0);j.useEffect(()=>{const l=xw(Cu($n,"orders"),c=>{const h=c.docs.map(f=>{var g;return{id:f.id,...f.data(),date:((g=f.data().created_at)==null?void 0:g.toDate().toLocaleDateString())||"N/A"}});e(h),i(!1)});return()=>l()},[]);const r=async(l,c)=>{try{await bw(ia($n,"orders",l),{status:c})}catch(h){console.error("Error updating status:",h),alert("Failed to update status")}},s=async()=>{[{user:"alex@example.com",items:3,total:145,status:"Pending",created_at:ye.now()},{user:"sarah@example.com",items:1,total:45,status:"Processing",created_at:ye.now()},{user:"mike@example.com",items:5,total:230.5,status:"Shipped",created_at:ye.now()}].forEach(async c=>{await Tw(Cu($n,"orders"),c)})},a=l=>{switch(l){case"Pending":return"text-yellow-500 bg-yellow-500/10 border-yellow-500/20";case"Processing":return"text-blue-400 bg-blue-500/10 border-blue-500/20";case"Shipped":return"text-purple-400 bg-purple-500/10 border-purple-500/20";case"Delivered":return"text-green-500 bg-green-500/10 border-green-500/20";default:return"text-gray-400 bg-gray-500/10 border-gray-500/20"}};return u.jsxs("div",{children:[u.jsxs("header",{className:"mb-10 flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-4xl font-heading text-white",children:"Orders Management"}),u.jsx("p",{className:"text-gray-400 mt-2",children:"Track and manage customer orders."})]}),u.jsxs("div",{className:"flex gap-4",children:[u.jsx("button",{onClick:s,className:"bg-white/5 hover:bg-white/10 text-white px-4 py-2 rounded text-xs uppercase tracking-widest border border-white/10",children:"Seed Test Data"}),u.jsx("input",{type:"text",placeholder:"Search orders...",className:"bg-[#1a1a1a] border border-white/10 rounded-full px-4 py-2 text-sm text-white focus:outline-none focus:border-gold w-64"})]})]}),u.jsx("div",{className:"bg-[#111] rounded-lg border border-white/5 overflow-hidden",children:n?u.jsx("div",{className:"p-10 text-center text-gray-500",children:"Loading live orders..."}):u.jsxs("table",{className:"w-full text-left border-collapse",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-white/5 bg-white/[0.02] text-gray-500 text-[10px] uppercase tracking-[0.2em]",children:[u.jsx("th",{className:"p-6 font-medium",children:"Order ID"}),u.jsx("th",{className:"p-6 font-medium",children:"Customer"}),u.jsx("th",{className:"p-6 font-medium",children:"Date"}),u.jsx("th",{className:"p-6 font-medium text-center",children:"Items"}),u.jsx("th",{className:"p-6 font-medium text-right",children:"Total"}),u.jsx("th",{className:"p-6 font-medium",children:"Status"}),u.jsx("th",{className:"p-6 font-medium",children:"Actions"})]})}),u.jsx("tbody",{className:"divide-y divide-white/5",children:t.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:"7",className:"p-10 text-center text-gray-500",children:'No orders found in database. Click "Seed Test Data" to populate.'})}):t.map(l=>u.jsxs("tr",{className:"hover:bg-white/5 transition-colors",children:[u.jsx("td",{className:"p-6 text-white font-medium text-xs font-mono opacity-70",children:l.id}),u.jsx("td",{className:"p-6 text-gray-400",children:l.user}),u.jsx("td",{className:"p-6 text-gray-400",children:l.date}),u.jsx("td",{className:"p-6 text-gray-400 text-center",children:l.items}),u.jsxs("td",{className:"p-6 text-gold font-bold text-right",children:["$",l.total?l.total.toFixed(2):"0.00"]}),u.jsx("td",{className:"p-6",children:u.jsx("span",{className:`px-3 py-1 rounded-full text-xs uppercase tracking-wider border ${a(l.status)}`,children:l.status})}),u.jsx("td",{className:"p-6",children:u.jsxs("select",{className:"bg-black border border-white/10 rounded px-2 py-1 text-xs text-gray-300 focus:border-gold outline-none cursor-pointer",value:l.status,onChange:c=>r(l.id,c.target.value),children:[u.jsx("option",{value:"Pending",children:"Pending"}),u.jsx("option",{value:"Processing",children:"Processing"}),u.jsx("option",{value:"Packed",children:"Packed"}),u.jsx("option",{value:"Shipped",children:"Shipped"}),u.jsx("option",{value:"Delivered",children:"Delivered"}),u.jsx("option",{value:"Cancelled",children:"Cancelled"})]})})]},l.id))})]})})]})},rk=()=>{const[t,e]=j.useState([{id:1,sku:"AMB-P-001",name:"Divine Essence Powder",category:"Powder",price:45,cost:12.5,stock:150,reorderPoint:50},{id:2,sku:"AMB-S-002",name:"Kuveni's Reserve Sticks",category:"Sticks",price:60,cost:18,stock:85,reorderPoint:30},{id:3,sku:"AMB-B-003",name:"Ravana's Signature Blend",category:"Blends",price:55,cost:15,stock:12,reorderPoint:25},{id:4,sku:"AMB-G-004",name:"Ambrosia Collection Box",category:"Gift Sets",price:120,cost:45,stock:3,reorderPoint:10},{id:5,sku:"AMB-S-005",name:"Alba Grade Premium",category:"Sticks",price:75,cost:22,stock:200,reorderPoint:40}]),n=t.reduce((a,l)=>a+l.cost*l.stock,0),i=t.reduce((a,l)=>a+l.price*l.stock,0),r=t.filter(a=>a.stock<=a.reorderPoint).length,s=a=>a.stock===0?{label:"Out of Stock",color:"text-red-500 bg-red-500/10 border-red-500/20"}:a.stock<=5?{label:"Critical",color:"text-red-400 bg-red-500/10 border-red-500/20"}:a.stock<=a.reorderPoint?{label:"Reorder",color:"text-yellow-500 bg-yellow-500/10 border-yellow-500/20"}:{label:"Good",color:"text-green-500 bg-green-500/10 border-green-500/20"};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("header",{className:"flex justify-between items-end border-b border-white/5 pb-6",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-heading text-white",children:"Inventory Management"}),u.jsx("p",{className:"text-gray-400 mt-1 text-sm",children:"Stock levels, tracking, and asset valuation."})]}),u.jsx("button",{className:"bg-gold text-black px-6 py-2 rounded uppercase tracking-widest text-xs font-bold hover:bg-white transition-colors",children:"+ Add Product"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"bg-[#111] p-6 rounded-xl border border-white/5",children:[u.jsx("h3",{className:"text-gray-500 text-[10px] uppercase tracking-widest mb-2",children:"Total Asset Value (Cost)"}),u.jsxs("p",{className:"text-2xl font-mono text-white",children:["$",n.toLocaleString()]}),u.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Capital tied up in stock"})]}),u.jsxs("div",{className:"bg-[#111] p-6 rounded-xl border border-white/5",children:[u.jsx("h3",{className:"text-gray-500 text-[10px] uppercase tracking-widest mb-2",children:"Total Retail Value"}),u.jsxs("p",{className:"text-2xl font-mono text-white",children:["$",i.toLocaleString()]}),u.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Potential revenue"})]}),u.jsxs("div",{className:"bg-[#111] p-6 rounded-xl border border-white/5",children:[u.jsx("h3",{className:"text-gray-500 text-[10px] uppercase tracking-widest mb-2",children:"Restock Alerts"}),u.jsxs("p",{className:`text-2xl font-heading ${r>0?"text-yellow-500":"text-green-500"}`,children:[r," Items"]})]})]}),u.jsx("div",{className:"bg-[#111] rounded-xl border border-white/5 overflow-hidden",children:u.jsxs("table",{className:"w-full text-left border-collapse",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-white/[0.02] text-gray-500 text-[10px] uppercase tracking-widest border-b border-white/5",children:[u.jsx("th",{className:"p-4 font-medium",children:"Product / SKU"}),u.jsx("th",{className:"p-4 font-medium",children:"Category"}),u.jsx("th",{className:"p-4 font-medium text-right",children:"Unit Details"}),u.jsx("th",{className:"p-4 font-medium w-64 text-center",children:"Stock Level"}),u.jsx("th",{className:"p-4 font-medium",children:"Status"}),u.jsx("th",{className:"p-4 font-medium text-right",children:"Actions"})]})}),u.jsx("tbody",{className:"divide-y divide-white/5",children:t.map(a=>{const l=s(a),c=Math.min(a.stock/(a.reorderPoint*3)*100,100);return u.jsxs("tr",{className:"hover:bg-white/5 transition-colors group",children:[u.jsxs("td",{className:"p-4",children:[u.jsx("div",{className:"text-white font-medium",children:a.name}),u.jsx("div",{className:"text-xs text-gray-500 font-mono",children:a.sku})]}),u.jsx("td",{className:"p-4 text-sm text-gray-400",children:a.category}),u.jsxs("td",{className:"p-4 text-right",children:[u.jsxs("div",{className:"text-gold font-mono text-sm",children:["$",a.price.toFixed(2)]}),u.jsxs("div",{className:"text-[10px] text-gray-600",children:["Cost: $",a.cost.toFixed(2)]})]}),u.jsx("td",{className:"p-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"flex-1 bg-white/10 h-1.5 rounded-full overflow-hidden",children:u.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${l.label==="Good"?"bg-green-500":"bg-yellow-500"}`,style:{width:`${c}%`}})}),u.jsx("span",{className:"text-xs font-mono w-12 text-right",children:a.stock})]})}),u.jsx("td",{className:"p-4",children:u.jsx("span",{className:`px-2 py-1 rounded border text-[10px] uppercase font-bold tracking-wider ${l.color}`,children:l.label})}),u.jsxs("td",{className:"p-4 text-right opacity-50 group-hover:opacity-100",children:[u.jsx("button",{className:"text-xs text-gray-400 hover:text-white mr-3",children:"History"}),u.jsx("button",{className:"text-xs text-gold hover:underline",children:"Restock"})]})]},a.id)})})]})})]})},sk=()=>{const[t,e]=j.useState([]),[n,i]=j.useState(!0);j.useEffect(()=>{const a=ZM(Cu($n,"messages"),eV("createdAt","desc")),l=xw(a,c=>{e(c.docs.map(h=>({id:h.id,...h.data()}))),i(!1)});return()=>l()},[]);const r=async(a,l)=>{l==="new"&&await bw(ia($n,"messages",a),{status:"read"})},s=async a=>{window.confirm("Are you sure you want to delete this message?")&&await iV(ia($n,"messages",a))};return n?u.jsx("div",{className:"p-8 text-gold",children:"Loading messages..."}):u.jsxs("div",{className:"admin-container p-6",children:[u.jsxs("h1",{className:"text-3xl font-heading text-gold mb-8 flex items-center gap-3",children:[u.jsx(KV,{})," Messages & Inquiries"]}),u.jsx("div",{className:"grid gap-4",children:t.length===0?u.jsx("div",{className:"text-gray-400",children:"No messages found."}):t.map(a=>{var l,c;return u.jsxs("div",{className:`p-6 rounded-lg border border-gold/10 transition-all ${a.status==="new"?"bg-gold/5 border-gold/30":"bg-black/40"}`,onClick:()=>r(a.id,a.status),children:[u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"text-xl text-white font-semibold flex items-center gap-2",children:[a.subject,a.status==="new"&&u.jsx("span",{className:"text-xs bg-gold text-black px-2 py-0.5 rounded-full font-bold",children:"NEW"})]}),u.jsxs("p",{className:"text-gold/80 text-sm mt-1",children:["From: ",a.name," (",a.email,")"]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("p",{className:"text-gray-500 text-sm flex items-center gap-1 justify-end",children:[u.jsx(zV,{size:14}),(l=a.createdAt)==null?void 0:l.toDate().toLocaleDateString()," ",(c=a.createdAt)==null?void 0:c.toDate().toLocaleTimeString()]}),u.jsxs("div",{className:"flex gap-2 mt-3 justify-end",children:[u.jsx("a",{href:`mailto:${a.email}?subject=Re: ${a.subject}`,className:"p-2 bg-gold/10 text-gold rounded hover:bg-gold hover:text-black transition-colors",title:"Reply via Email",children:u.jsx(XV,{size:16})}),u.jsx("button",{onClick:h=>{h.stopPropagation(),s(a.id)},className:"p-2 bg-red-500/10 text-red-500 rounded hover:bg-red-500 hover:text-white transition-colors",title:"Delete Message",children:u.jsx(ek,{size:16})})]})]})]}),u.jsx("p",{className:"text-gray-300 whitespace-pre-wrap",children:a.message})]},a.id)})})]})};function ak(){return u.jsx(aV,{children:u.jsx(VC,{children:u.jsx(AC,{basename:"/Ambrosia/",children:u.jsx("div",{className:"app",children:u.jsxs(G_,{children:[u.jsx(Ue,{path:"/admin/login",element:u.jsx(jV,{})}),u.jsxs(Ue,{path:"/admin",element:u.jsx(tk,{}),children:[u.jsx(Ue,{index:!0,element:u.jsx(nk,{})}),u.jsx(Ue,{path:"orders",element:u.jsx(ik,{})}),u.jsx(Ue,{path:"products",element:u.jsx(rk,{})}),u.jsx(Ue,{path:"messages",element:u.jsx(sk,{})})]}),u.jsx(Ue,{path:"/*",element:u.jsxs(u.Fragment,{children:[u.jsx(oV,{}),u.jsx("main",{children:u.jsxs(G_,{children:[u.jsx(Ue,{path:"/",element:u.jsx(_V,{})}),u.jsx(Ue,{path:"/about-us",element:u.jsx(vV,{})}),u.jsx(Ue,{path:"/about-cinnamon",element:u.jsx(bV,{})}),u.jsx(Ue,{path:"/shop",element:u.jsx(TV,{})}),u.jsx(Ue,{path:"/recipes",element:u.jsx(wV,{})}),u.jsx(Ue,{path:"/contact",element:u.jsx(SV,{})}),u.jsx(Ue,{path:"/cart",element:u.jsx(NV,{})}),u.jsx(Ue,{path:"/checkout",element:u.jsx(CV,{})}),u.jsx(Ue,{path:"/order-confirmation",element:u.jsx(IV,{})}),u.jsx(Ue,{path:"/faq",element:u.jsx(RV,{})}),u.jsx(Ue,{path:"/privacy",element:u.jsx(DV,{})}),u.jsx(Ue,{path:"/terms",element:u.jsx(OV,{})})]})}),u.jsx(lV,{})]})})]})})})})})}iN.createRoot(document.getElementById("root")).render(u.jsx(j.StrictMode,{children:u.jsx(ak,{})}));
