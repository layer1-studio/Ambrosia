var cU=Object.defineProperty;var fU=(e,t,n)=>t in e?cU(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ev=(e,t,n)=>fU(e,typeof t!="symbol"?t+"":t,n);function dU(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function Cs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var UI={exports:{}},bg={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hU=Symbol.for("react.transitional.element"),mU=Symbol.for("react.fragment");function zI(e,t,n){var r=null;if(n!==void 0&&(r=""+n),t.key!==void 0&&(r=""+t.key),"key"in t){n={};for(var i in t)i!=="key"&&(n[i]=t[i])}else n=t;return t=n.ref,{$$typeof:hU,type:e,key:r,ref:t!==void 0?t:null,props:n}}bg.Fragment=mU;bg.jsx=zI;bg.jsxs=zI;UI.exports=bg;var h=UI.exports,BI={exports:{}},ue={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h_=Symbol.for("react.transitional.element"),pU=Symbol.for("react.portal"),gU=Symbol.for("react.fragment"),yU=Symbol.for("react.strict_mode"),vU=Symbol.for("react.profiler"),bU=Symbol.for("react.consumer"),xU=Symbol.for("react.context"),_U=Symbol.for("react.forward_ref"),wU=Symbol.for("react.suspense"),EU=Symbol.for("react.memo"),$I=Symbol.for("react.lazy"),SU=Symbol.for("react.activity"),aA=Symbol.iterator;function AU(e){return e===null||typeof e!="object"?null:(e=aA&&e[aA]||e["@@iterator"],typeof e=="function"?e:null)}var FI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qI=Object.assign,HI={};function hu(e,t,n){this.props=e,this.context=t,this.refs=HI,this.updater=n||FI}hu.prototype.isReactComponent={};hu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};hu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function GI(){}GI.prototype=hu.prototype;function m_(e,t,n){this.props=e,this.context=t,this.refs=HI,this.updater=n||FI}var p_=m_.prototype=new GI;p_.constructor=m_;qI(p_,hu.prototype);p_.isPureReactComponent=!0;var sA=Array.isArray;function Y0(){}var He={H:null,A:null,T:null,S:null},KI=Object.prototype.hasOwnProperty;function g_(e,t,n){var r=n.ref;return{$$typeof:h_,type:e,key:t,ref:r!==void 0?r:null,props:n}}function TU(e,t){return g_(e.type,t,e.props)}function y_(e){return typeof e=="object"&&e!==null&&e.$$typeof===h_}function NU(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var oA=/\/+/g;function Sv(e,t){return typeof e=="object"&&e!==null&&e.key!=null?NU(""+e.key):t.toString(36)}function CU(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Y0,Y0):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function rl(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"bigint":case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case h_:case pU:s=!0;break;case $I:return s=e._init,rl(s(e._payload),t,n,r,i)}}if(s)return i=i(e),s=r===""?"."+Sv(e,0):r,sA(i)?(n="",s!=null&&(n=s.replace(oA,"$&/")+"/"),rl(i,t,n,"",function(u){return u})):i!=null&&(y_(i)&&(i=TU(i,n+(i.key==null||e&&e.key===i.key?"":(""+i.key).replace(oA,"$&/")+"/")+s)),t.push(i)),1;s=0;var o=r===""?".":r+":";if(sA(e))for(var l=0;l<e.length;l++)r=e[l],a=o+Sv(r,l),s+=rl(r,t,n,a,i);else if(l=AU(e),typeof l=="function")for(e=l.call(e),l=0;!(r=e.next()).done;)r=r.value,a=o+Sv(r,l++),s+=rl(r,t,n,a,i);else if(a==="object"){if(typeof e.then=="function")return rl(CU(e),t,n,r,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return s}function hh(e,t,n){if(e==null)return e;var r=[],i=0;return rl(e,r,"","",function(a){return t.call(n,a,i++)}),r}function OU(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var lA=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},IU={map:hh,forEach:function(e,t,n){hh(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return hh(e,function(){t++}),t},toArray:function(e){return hh(e,function(t){return t})||[]},only:function(e){if(!y_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ue.Activity=SU;ue.Children=IU;ue.Component=hu;ue.Fragment=gU;ue.Profiler=vU;ue.PureComponent=m_;ue.StrictMode=yU;ue.Suspense=wU;ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=He;ue.__COMPILER_RUNTIME={__proto__:null,c:function(e){return He.H.useMemoCache(e)}};ue.cache=function(e){return function(){return e.apply(null,arguments)}};ue.cacheSignal=function(){return null};ue.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var r=qI({},e.props),i=e.key;if(t!=null)for(a in t.key!==void 0&&(i=""+t.key),t)!KI.call(t,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&t.ref===void 0||(r[a]=t[a]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var s=Array(a),o=0;o<a;o++)s[o]=arguments[o+2];r.children=s}return g_(e.type,i,r)};ue.createContext=function(e){return e={$$typeof:xU,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:bU,_context:e},e};ue.createElement=function(e,t,n){var r,i={},a=null;if(t!=null)for(r in t.key!==void 0&&(a=""+t.key),t)KI.call(t,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];i.children=o}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return g_(e,a,i)};ue.createRef=function(){return{current:null}};ue.forwardRef=function(e){return{$$typeof:_U,render:e}};ue.isValidElement=y_;ue.lazy=function(e){return{$$typeof:$I,_payload:{_status:-1,_result:e},_init:OU}};ue.memo=function(e,t){return{$$typeof:EU,type:e,compare:t===void 0?null:t}};ue.startTransition=function(e){var t=He.T,n={};He.T=n;try{var r=e(),i=He.S;i!==null&&i(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(Y0,lA)}catch(a){lA(a)}finally{t!==null&&n.types!==null&&(t.types=n.types),He.T=t}};ue.unstable_useCacheRefresh=function(){return He.H.useCacheRefresh()};ue.use=function(e){return He.H.use(e)};ue.useActionState=function(e,t,n){return He.H.useActionState(e,t,n)};ue.useCallback=function(e,t){return He.H.useCallback(e,t)};ue.useContext=function(e){return He.H.useContext(e)};ue.useDebugValue=function(){};ue.useDeferredValue=function(e,t){return He.H.useDeferredValue(e,t)};ue.useEffect=function(e,t){return He.H.useEffect(e,t)};ue.useEffectEvent=function(e){return He.H.useEffectEvent(e)};ue.useId=function(){return He.H.useId()};ue.useImperativeHandle=function(e,t,n){return He.H.useImperativeHandle(e,t,n)};ue.useInsertionEffect=function(e,t){return He.H.useInsertionEffect(e,t)};ue.useLayoutEffect=function(e,t){return He.H.useLayoutEffect(e,t)};ue.useMemo=function(e,t){return He.H.useMemo(e,t)};ue.useOptimistic=function(e,t){return He.H.useOptimistic(e,t)};ue.useReducer=function(e,t,n){return He.H.useReducer(e,t,n)};ue.useRef=function(e){return He.H.useRef(e)};ue.useState=function(e){return He.H.useState(e)};ue.useSyncExternalStore=function(e,t,n){return He.H.useSyncExternalStore(e,t,n)};ue.useTransition=function(){return He.H.useTransition()};ue.version="19.2.3";BI.exports=ue;var b=BI.exports;const Qf=Cs(b),PU=dU({__proto__:null,default:Qf},[b]);var YI={exports:{}},xg={},WI={exports:{}},XI={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(q,K){var W=q.length;q.push(K);e:for(;0<W;){var te=W-1>>>1,le=q[te];if(0<i(le,K))q[te]=K,q[W]=le,W=te;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var K=q[0],W=q.pop();if(W!==K){q[0]=W;e:for(var te=0,le=q.length,We=le>>>1;te<We;){var ft=2*(te+1)-1,jt=q[ft],je=ft+1,dn=q[je];if(0>i(jt,W))je<le&&0>i(dn,jt)?(q[te]=dn,q[je]=W,te=je):(q[te]=jt,q[ft]=W,te=ft);else if(je<le&&0>i(dn,W))q[te]=dn,q[je]=W,te=je;else break e}}return K}function i(q,K){var W=q.sortIndex-K.sortIndex;return W!==0?W:q.id-K.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],u=[],c=1,f=null,m=3,p=!1,g=!1,_=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function N(q){for(var K=n(u);K!==null;){if(K.callback===null)r(u);else if(K.startTime<=q)r(u),K.sortIndex=K.expirationTime,t(l,K);else break;K=n(u)}}function P(q){if(_=!1,N(q),!g)if(n(l)!==null)g=!0,O||(O=!0,R());else{var K=n(u);K!==null&&oe(P,K.startTime-q)}}var O=!1,A=-1,T=5,C=-1;function k(){return y?!0:!(e.unstable_now()-C<T)}function j(){if(y=!1,O){var q=e.unstable_now();C=q;var K=!0;try{e:{g=!1,_&&(_=!1,x(A),A=-1),p=!0;var W=m;try{t:{for(N(q),f=n(l);f!==null&&!(f.expirationTime>q&&k());){var te=f.callback;if(typeof te=="function"){f.callback=null,m=f.priorityLevel;var le=te(f.expirationTime<=q);if(q=e.unstable_now(),typeof le=="function"){f.callback=le,N(q),K=!0;break t}f===n(l)&&r(l),N(q)}else r(l);f=n(l)}if(f!==null)K=!0;else{var We=n(u);We!==null&&oe(P,We.startTime-q),K=!1}}break e}finally{f=null,m=W,p=!1}K=void 0}}finally{K?R():O=!1}}}var R;if(typeof S=="function")R=function(){S(j)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Z=D.port2;D.port1.onmessage=j,R=function(){Z.postMessage(null)}}else R=function(){w(j,0)};function oe(q,K){A=w(function(){q(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(q){switch(m){case 1:case 2:case 3:var K=3;break;default:K=m}var W=m;m=K;try{return q()}finally{m=W}},e.unstable_requestPaint=function(){y=!0},e.unstable_runWithPriority=function(q,K){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var W=m;m=q;try{return K()}finally{m=W}},e.unstable_scheduleCallback=function(q,K,W){var te=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?te+W:te):W=te,q){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=W+le,q={id:c++,callback:K,priorityLevel:q,startTime:W,expirationTime:le,sortIndex:-1},W>te?(q.sortIndex=W,t(u,q),n(l)===null&&q===n(u)&&(_?(x(A),A=-1):_=!0,oe(P,W-te))):(q.sortIndex=le,t(l,q),g||p||(g=!0,O||(O=!0,R()))),q},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(q){var K=m;return function(){var W=m;m=K;try{return q.apply(this,arguments)}finally{m=W}}}})(XI);WI.exports=XI;var RU=WI.exports,QI={exports:{}},Pn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jU=b;function ZI(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Pa(){}var Nn={d:{f:Pa,r:function(){throw Error(ZI(522))},D:Pa,C:Pa,L:Pa,m:Pa,X:Pa,S:Pa,M:Pa},p:0,findDOMNode:null},kU=Symbol.for("react.portal");function DU(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:kU,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}var Dc=jU.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function _g(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Nn;Pn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(ZI(299));return DU(e,t,null,n)};Pn.flushSync=function(e){var t=Dc.T,n=Nn.p;try{if(Dc.T=null,Nn.p=2,e)return e()}finally{Dc.T=t,Nn.p=n,Nn.d.f()}};Pn.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Nn.d.C(e,t))};Pn.prefetchDNS=function(e){typeof e=="string"&&Nn.d.D(e)};Pn.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,r=_g(n,t.crossOrigin),i=typeof t.integrity=="string"?t.integrity:void 0,a=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?Nn.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:a}):n==="script"&&Nn.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:a,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Pn.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=_g(t.as,t.crossOrigin);Nn.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Nn.d.M(e)};Pn.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,r=_g(n,t.crossOrigin);Nn.d.L(e,n,{crossOrigin:r,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Pn.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=_g(t.as,t.crossOrigin);Nn.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Nn.d.m(e)};Pn.requestFormReset=function(e){Nn.d.r(e)};Pn.unstable_batchedUpdates=function(e,t){return e(t)};Pn.useFormState=function(e,t,n){return Dc.H.useFormState(e,t,n)};Pn.useFormStatus=function(){return Dc.H.useHostTransitionStatus()};Pn.version="19.2.3";function JI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(JI)}catch(e){console.error(e)}}JI(),QI.exports=Pn;var v_=QI.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var It=RU,eP=b,MU=v_;function z(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function tP(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Zf(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function nP(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function rP(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function uA(e){if(Zf(e)!==e)throw Error(z(188))}function LU(e){var t=e.alternate;if(!t){if(t=Zf(e),t===null)throw Error(z(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return uA(i),e;if(a===r)return uA(i),t;a=a.sibling}throw Error(z(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?e:t}function iP(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=iP(e),t!==null)return t;e=e.sibling}return null}var Ge=Object.assign,VU=Symbol.for("react.element"),mh=Symbol.for("react.transitional.element"),_c=Symbol.for("react.portal"),fl=Symbol.for("react.fragment"),aP=Symbol.for("react.strict_mode"),W0=Symbol.for("react.profiler"),sP=Symbol.for("react.consumer"),Vi=Symbol.for("react.context"),b_=Symbol.for("react.forward_ref"),X0=Symbol.for("react.suspense"),Q0=Symbol.for("react.suspense_list"),x_=Symbol.for("react.memo"),ja=Symbol.for("react.lazy"),Z0=Symbol.for("react.activity"),UU=Symbol.for("react.memo_cache_sentinel"),cA=Symbol.iterator;function rc(e){return e===null||typeof e!="object"?null:(e=cA&&e[cA]||e["@@iterator"],typeof e=="function"?e:null)}var zU=Symbol.for("react.client.reference");function J0(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===zU?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case fl:return"Fragment";case W0:return"Profiler";case aP:return"StrictMode";case X0:return"Suspense";case Q0:return"SuspenseList";case Z0:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case _c:return"Portal";case Vi:return e.displayName||"Context";case sP:return(e._context.displayName||"Context")+".Consumer";case b_:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case x_:return t=e.displayName||null,t!==null?t:J0(e.type)||"Memo";case ja:t=e._payload,e=e._init;try{return J0(e(t))}catch{}}return null}var wc=Array.isArray,ie=eP.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ae=MU.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ao={pending:!1,data:null,method:null,action:null},eb=[],dl=-1;function Ei(e){return{current:e}}function Ft(e){0>dl||(e.current=eb[dl],eb[dl]=null,dl--)}function Ve(e,t){dl++,eb[dl]=e.current,e.current=t}var li=Ei(null),rf=Ei(null),es=Ei(null),km=Ei(null);function Dm(e,t){switch(Ve(es,t),Ve(rf,e),Ve(li,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?gT(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=gT(t),e=Tj(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Ft(li),Ve(li,e)}function Bl(){Ft(li),Ft(rf),Ft(es)}function tb(e){e.memoizedState!==null&&Ve(km,e);var t=li.current,n=Tj(t,e.type);t!==n&&(Ve(rf,e),Ve(li,n))}function Mm(e){rf.current===e&&(Ft(li),Ft(rf)),km.current===e&&(Ft(km),pf._currentValue=ao)}var Av,fA;function Gs(e){if(Av===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Av=t&&t[1]||"",fA=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Av+e+fA}var Tv=!1;function Nv(e,t){if(!e||Tv)return"";Tv=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(p){var m=p}Reflect.construct(e,[],f)}else{try{f.call()}catch(p){m=p}e.call(f.prototype)}}else{try{throw Error()}catch(p){m=p}(f=e())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(p){if(p&&m&&typeof p.stack=="string")return[p.stack,m.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),s=a[0],o=a[1];if(s&&o){var l=s.split(`
`),u=o.split(`
`);for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===u.length)for(r=l.length-1,i=u.length-1;1<=r&&0<=i&&l[r]!==u[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==u[i]){if(r!==1||i!==1)do if(r--,i--,0>i||l[r]!==u[i]){var c=`
`+l[r].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=r&&0<=i);break}}}finally{Tv=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Gs(n):""}function BU(e,t){switch(e.tag){case 26:case 27:case 5:return Gs(e.type);case 16:return Gs("Lazy");case 13:return e.child!==t&&t!==null?Gs("Suspense Fallback"):Gs("Suspense");case 19:return Gs("SuspenseList");case 0:case 15:return Nv(e.type,!1);case 11:return Nv(e.type.render,!1);case 1:return Nv(e.type,!0);case 31:return Gs("Activity");default:return""}}function dA(e){try{var t="",n=null;do t+=BU(e,n),n=e,e=e.return;while(e);return t}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var nb=Object.prototype.hasOwnProperty,__=It.unstable_scheduleCallback,Cv=It.unstable_cancelCallback,$U=It.unstable_shouldYield,FU=It.unstable_requestPaint,nr=It.unstable_now,qU=It.unstable_getCurrentPriorityLevel,oP=It.unstable_ImmediatePriority,lP=It.unstable_UserBlockingPriority,Lm=It.unstable_NormalPriority,HU=It.unstable_LowPriority,uP=It.unstable_IdlePriority,GU=It.log,KU=It.unstable_setDisableYieldValue,Jf=null,rr=null;function Ka(e){if(typeof GU=="function"&&KU(e),rr&&typeof rr.setStrictMode=="function")try{rr.setStrictMode(Jf,e)}catch{}}var ir=Math.clz32?Math.clz32:XU,YU=Math.log,WU=Math.LN2;function XU(e){return e>>>=0,e===0?32:31-(YU(e)/WU|0)|0}var ph=256,gh=262144,yh=4194304;function Ks(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function wg(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var i=0,a=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var o=r&134217727;return o!==0?(r=o&~a,r!==0?i=Ks(r):(s&=o,s!==0?i=Ks(s):n||(n=o&~e,n!==0&&(i=Ks(n))))):(o=r&~a,o!==0?i=Ks(o):s!==0?i=Ks(s):n||(n=r&~e,n!==0&&(i=Ks(n)))),i===0?0:t!==0&&t!==i&&!(t&a)&&(a=i&-i,n=t&-t,a>=n||a===32&&(n&4194048)!==0)?t:i}function ed(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function QU(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cP(){var e=yh;return yh<<=1,!(yh&62914560)&&(yh=4194304),e}function Ov(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function td(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ZU(e,t,n,r,i,a){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,u=e.hiddenUpdates;for(n=s&~n;0<n;){var c=31-ir(n),f=1<<c;o[c]=0,l[c]=-1;var m=u[c];if(m!==null)for(u[c]=null,c=0;c<m.length;c++){var p=m[c];p!==null&&(p.lane&=-536870913)}n&=~f}r!==0&&fP(e,r,0),a!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=a&~(s&~t))}function fP(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-ir(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&261930}function dP(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ir(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function hP(e,t){var n=t&-t;return n=n&42?1:w_(n),n&(e.suspendedLanes|t)?0:n}function w_(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function E_(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function mP(){var e=Ae.p;return e!==0?e:(e=window.event,e===void 0?32:Lj(e.type))}function hA(e,t){var n=Ae.p;try{return Ae.p=e,t()}finally{Ae.p=n}}var Os=Math.random().toString(36).slice(2),nn="__reactFiber$"+Os,Fn="__reactProps$"+Os,mu="__reactContainer$"+Os,rb="__reactEvents$"+Os,JU="__reactListeners$"+Os,ez="__reactHandles$"+Os,mA="__reactResources$"+Os,nd="__reactMarker$"+Os;function S_(e){delete e[nn],delete e[Fn],delete e[rb],delete e[JU],delete e[ez]}function hl(e){var t=e[nn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mu]||n[nn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=_T(e);e!==null;){if(n=e[nn])return n;e=_T(e)}return t}e=n,n=e.parentNode}return null}function pu(e){if(e=e[nn]||e[mu]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Ec(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(z(33))}function Nl(e){var t=e[mA];return t||(t=e[mA]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function $t(e){e[nd]=!0}var pP=new Set,gP={};function Mo(e,t){$l(e,t),$l(e+"Capture",t)}function $l(e,t){for(gP[e]=t,e=0;e<t.length;e++)pP.add(t[e])}var tz=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pA={},gA={};function nz(e){return nb.call(gA,e)?!0:nb.call(pA,e)?!1:tz.test(e)?gA[e]=!0:(pA[e]=!0,!1)}function em(e,t,n){if(nz(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function vh(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Oi(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+r)}}function mr(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function yP(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function rz(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ib(e){if(!e._valueTracker){var t=yP(e)?"checked":"value";e._valueTracker=rz(e,t,""+e[t])}}function vP(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=yP(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Vm(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var iz=/[\n"\\]/g;function yr(e){return e.replace(iz,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function ab(e,t,n,r,i,a,s,o){e.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?e.type=s:e.removeAttribute("type"),t!=null?s==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+mr(t)):e.value!==""+mr(t)&&(e.value=""+mr(t)):s!=="submit"&&s!=="reset"||e.removeAttribute("value"),t!=null?sb(e,s,mr(t)):n!=null?sb(e,s,mr(n)):r!=null&&e.removeAttribute("value"),i==null&&a!=null&&(e.defaultChecked=!!a),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.name=""+mr(o):e.removeAttribute("name")}function bP(e,t,n,r,i,a,s,o){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.type=a),t!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||t!=null)){ib(e);return}n=n!=null?""+mr(n):"",t=t!=null?""+mr(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r=r??i,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.name=s),ib(e)}function sb(e,t,n){t==="number"&&Vm(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Cl(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+mr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function xP(e,t,n){if(t!=null&&(t=""+mr(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+mr(n):""}function _P(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(z(92));if(wc(r)){if(1<r.length)throw Error(z(93));r=r[0]}n=r}n==null&&(n=""),t=n}n=mr(t),e.defaultValue=n,r=e.textContent,r===n&&r!==""&&r!==null&&(e.value=r),ib(e)}function Fl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var az=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yA(e,t,n){var r=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,n):typeof n!="number"||n===0||az.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function wP(e,t,n){if(t!=null&&typeof t!="object")throw Error(z(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&yA(e,i,r)}else for(var a in t)t.hasOwnProperty(a)&&yA(e,a,t[a])}function A_(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sz=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),oz=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function tm(e){return oz.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ui(){}var ob=null;function T_(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ml=null,Ol=null;function vA(e){var t=pu(e);if(t&&(e=t.stateNode)){var n=e[Fn]||null;e:switch(e=t.stateNode,t.type){case"input":if(ab(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+yr(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[Fn]||null;if(!i)throw Error(z(90));ab(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&vP(r)}break e;case"textarea":xP(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Cl(e,!!n.multiple,t,!1)}}}var Iv=!1;function EP(e,t,n){if(Iv)return e(t,n);Iv=!0;try{var r=e(t);return r}finally{if(Iv=!1,(ml!==null||Ol!==null)&&(kg(),ml&&(t=ml,e=Ol,Ol=ml=null,vA(t),e)))for(t=0;t<e.length;t++)vA(e[t])}}function af(e,t){var n=e.stateNode;if(n===null)return null;var r=n[Fn]||null;if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(z(231,t,typeof n));return n}var Zi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lb=!1;if(Zi)try{var ic={};Object.defineProperty(ic,"passive",{get:function(){lb=!0}}),window.addEventListener("test",ic,ic),window.removeEventListener("test",ic,ic)}catch{lb=!1}var Ya=null,N_=null,nm=null;function SP(){if(nm)return nm;var e,t=N_,n=t.length,r,i="value"in Ya?Ya.value:Ya.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[a-r];r++);return nm=i.slice(e,1<r?1-r:void 0)}function rm(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function bh(){return!0}function bA(){return!1}function qn(e){function t(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?bh:bA,this.isPropagationStopped=bA,this}return Ge(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=bh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=bh)},persist:function(){},isPersistent:bh}),t}var Lo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Eg=qn(Lo),rd=Ge({},Lo,{view:0,detail:0}),lz=qn(rd),Pv,Rv,ac,Sg=Ge({},rd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:C_,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ac&&(ac&&e.type==="mousemove"?(Pv=e.screenX-ac.screenX,Rv=e.screenY-ac.screenY):Rv=Pv=0,ac=e),Pv)},movementY:function(e){return"movementY"in e?e.movementY:Rv}}),xA=qn(Sg),uz=Ge({},Sg,{dataTransfer:0}),cz=qn(uz),fz=Ge({},rd,{relatedTarget:0}),jv=qn(fz),dz=Ge({},Lo,{animationName:0,elapsedTime:0,pseudoElement:0}),hz=qn(dz),mz=Ge({},Lo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pz=qn(mz),gz=Ge({},Lo,{data:0}),_A=qn(gz),yz={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vz={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bz={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xz(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=bz[e])?!!t[e]:!1}function C_(){return xz}var _z=Ge({},rd,{key:function(e){if(e.key){var t=yz[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=rm(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vz[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:C_,charCode:function(e){return e.type==="keypress"?rm(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?rm(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wz=qn(_z),Ez=Ge({},Sg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wA=qn(Ez),Sz=Ge({},rd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:C_}),Az=qn(Sz),Tz=Ge({},Lo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nz=qn(Tz),Cz=Ge({},Sg,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Oz=qn(Cz),Iz=Ge({},Lo,{newState:0,oldState:0}),Pz=qn(Iz),Rz=[9,13,27,32],O_=Zi&&"CompositionEvent"in window,Mc=null;Zi&&"documentMode"in document&&(Mc=document.documentMode);var jz=Zi&&"TextEvent"in window&&!Mc,AP=Zi&&(!O_||Mc&&8<Mc&&11>=Mc),EA=" ",SA=!1;function TP(e,t){switch(e){case"keyup":return Rz.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function NP(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var pl=!1;function kz(e,t){switch(e){case"compositionend":return NP(t);case"keypress":return t.which!==32?null:(SA=!0,EA);case"textInput":return e=t.data,e===EA&&SA?null:e;default:return null}}function Dz(e,t){if(pl)return e==="compositionend"||!O_&&TP(e,t)?(e=SP(),nm=N_=Ya=null,pl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return AP&&t.locale!=="ko"?null:t.data;default:return null}}var Mz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function AA(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Mz[e.type]:t==="textarea"}function CP(e,t,n,r){ml?Ol?Ol.push(r):Ol=[r]:ml=r,t=np(t,"onChange"),0<t.length&&(n=new Eg("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Lc=null,sf=null;function Lz(e){Ej(e,0)}function Ag(e){var t=Ec(e);if(vP(t))return e}function TA(e,t){if(e==="change")return t}var OP=!1;if(Zi){var kv;if(Zi){var Dv="oninput"in document;if(!Dv){var NA=document.createElement("div");NA.setAttribute("oninput","return;"),Dv=typeof NA.oninput=="function"}kv=Dv}else kv=!1;OP=kv&&(!document.documentMode||9<document.documentMode)}function CA(){Lc&&(Lc.detachEvent("onpropertychange",IP),sf=Lc=null)}function IP(e){if(e.propertyName==="value"&&Ag(sf)){var t=[];CP(t,sf,e,T_(e)),EP(Lz,t)}}function Vz(e,t,n){e==="focusin"?(CA(),Lc=t,sf=n,Lc.attachEvent("onpropertychange",IP)):e==="focusout"&&CA()}function Uz(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ag(sf)}function zz(e,t){if(e==="click")return Ag(t)}function Bz(e,t){if(e==="input"||e==="change")return Ag(t)}function $z(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var lr=typeof Object.is=="function"?Object.is:$z;function of(e,t){if(lr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!nb.call(t,i)||!lr(e[i],t[i]))return!1}return!0}function OA(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function IA(e,t){var n=OA(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=OA(n)}}function PP(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?PP(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function RP(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Vm(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Vm(e.document)}return t}function I_(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Fz=Zi&&"documentMode"in document&&11>=document.documentMode,gl=null,ub=null,Vc=null,cb=!1;function PA(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;cb||gl==null||gl!==Vm(r)||(r=gl,"selectionStart"in r&&I_(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Vc&&of(Vc,r)||(Vc=r,r=np(ub,"onSelect"),0<r.length&&(t=new Eg("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gl)))}function qs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var yl={animationend:qs("Animation","AnimationEnd"),animationiteration:qs("Animation","AnimationIteration"),animationstart:qs("Animation","AnimationStart"),transitionrun:qs("Transition","TransitionRun"),transitionstart:qs("Transition","TransitionStart"),transitioncancel:qs("Transition","TransitionCancel"),transitionend:qs("Transition","TransitionEnd")},Mv={},jP={};Zi&&(jP=document.createElement("div").style,"AnimationEvent"in window||(delete yl.animationend.animation,delete yl.animationiteration.animation,delete yl.animationstart.animation),"TransitionEvent"in window||delete yl.transitionend.transition);function Vo(e){if(Mv[e])return Mv[e];if(!yl[e])return e;var t=yl[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in jP)return Mv[e]=t[n];return e}var kP=Vo("animationend"),DP=Vo("animationiteration"),MP=Vo("animationstart"),qz=Vo("transitionrun"),Hz=Vo("transitionstart"),Gz=Vo("transitioncancel"),LP=Vo("transitionend"),VP=new Map,fb="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fb.push("scrollEnd");function Kr(e,t){VP.set(e,t),Mo(t,[e])}var Um=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},hr=[],vl=0,P_=0;function Tg(){for(var e=vl,t=P_=vl=0;t<e;){var n=hr[t];hr[t++]=null;var r=hr[t];hr[t++]=null;var i=hr[t];hr[t++]=null;var a=hr[t];if(hr[t++]=null,r!==null&&i!==null){var s=r.pending;s===null?i.next=i:(i.next=s.next,s.next=i),r.pending=i}a!==0&&UP(n,i,a)}}function Ng(e,t,n,r){hr[vl++]=e,hr[vl++]=t,hr[vl++]=n,hr[vl++]=r,P_|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function R_(e,t,n,r){return Ng(e,t,n,r),zm(e)}function Uo(e,t){return Ng(e,null,null,t),zm(e)}function UP(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var i=!1,a=e.return;a!==null;)a.childLanes|=n,r=a.alternate,r!==null&&(r.childLanes|=n),a.tag===22&&(e=a.stateNode,e===null||e._visibility&1||(i=!0)),e=a,a=a.return;return e.tag===3?(a=e.stateNode,i&&t!==null&&(i=31-ir(n),e=a.hiddenUpdates,r=e[i],r===null?e[i]=[t]:r.push(t),t.lane=n|536870912),a):null}function zm(e){if(50<Kc)throw Kc=0,Rb=null,Error(z(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var bl={};function Kz(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xn(e,t,n,r){return new Kz(e,t,n,r)}function j_(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Hi(e,t){var n=e.alternate;return n===null?(n=Xn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function zP(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function im(e,t,n,r,i,a){var s=0;if(r=e,typeof e=="function")j_(e)&&(s=1);else if(typeof e=="string")s=Z9(e,n,li.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Z0:return e=Xn(31,n,t,i),e.elementType=Z0,e.lanes=a,e;case fl:return so(n.children,i,a,t);case aP:s=8,i|=24;break;case W0:return e=Xn(12,n,t,i|2),e.elementType=W0,e.lanes=a,e;case X0:return e=Xn(13,n,t,i),e.elementType=X0,e.lanes=a,e;case Q0:return e=Xn(19,n,t,i),e.elementType=Q0,e.lanes=a,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Vi:s=10;break e;case sP:s=9;break e;case b_:s=11;break e;case x_:s=14;break e;case ja:s=16,r=null;break e}s=29,n=Error(z(130,e===null?"null":typeof e,"")),r=null}return t=Xn(s,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function so(e,t,n,r){return e=Xn(7,e,r,t),e.lanes=n,e}function Lv(e,t,n){return e=Xn(6,e,null,t),e.lanes=n,e}function BP(e){var t=Xn(18,null,null,0);return t.stateNode=e,t}function Vv(e,t,n){return t=Xn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var RA=new WeakMap;function vr(e,t){if(typeof e=="object"&&e!==null){var n=RA.get(e);return n!==void 0?n:(t={value:e,source:t,stack:dA(t)},RA.set(e,t),t)}return{value:e,source:t,stack:dA(t)}}var xl=[],_l=0,Bm=null,lf=0,pr=[],gr=0,gs=null,ni=1,ri="";function ki(e,t){xl[_l++]=lf,xl[_l++]=Bm,Bm=e,lf=t}function $P(e,t,n){pr[gr++]=ni,pr[gr++]=ri,pr[gr++]=gs,gs=e;var r=ni;e=ri;var i=32-ir(r)-1;r&=~(1<<i),n+=1;var a=32-ir(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,ni=1<<32-ir(t)+i|n<<i|r,ri=a+e}else ni=1<<a|n<<i|r,ri=e}function k_(e){e.return!==null&&(ki(e,1),$P(e,1,0))}function D_(e){for(;e===Bm;)Bm=xl[--_l],xl[_l]=null,lf=xl[--_l],xl[_l]=null;for(;e===gs;)gs=pr[--gr],pr[gr]=null,ri=pr[--gr],pr[gr]=null,ni=pr[--gr],pr[gr]=null}function FP(e,t){pr[gr++]=ni,pr[gr++]=ri,pr[gr++]=gs,ni=t.id,ri=t.overflow,gs=e}var rn=null,Fe=null,xe=!1,ts=null,br=!1,db=Error(z(519));function ys(e){var t=Error(z(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw uf(vr(t,e)),db}function jA(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[nn]=e,t[Fn]=r,n){case"dialog":he("cancel",t),he("close",t);break;case"iframe":case"object":case"embed":he("load",t);break;case"video":case"audio":for(n=0;n<hf.length;n++)he(hf[n],t);break;case"source":he("error",t);break;case"img":case"image":case"link":he("error",t),he("load",t);break;case"details":he("toggle",t);break;case"input":he("invalid",t),bP(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":he("invalid",t);break;case"textarea":he("invalid",t),_P(t,r.value,r.defaultValue,r.children)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||r.suppressHydrationWarning===!0||Aj(t.textContent,n)?(r.popover!=null&&(he("beforetoggle",t),he("toggle",t)),r.onScroll!=null&&he("scroll",t),r.onScrollEnd!=null&&he("scrollend",t),r.onClick!=null&&(t.onclick=Ui),t=!0):t=!1,t||ys(e,!0)}function kA(e){for(rn=e.return;rn;)switch(rn.tag){case 5:case 31:case 13:br=!1;return;case 27:case 3:br=!0;return;default:rn=rn.return}}function Qo(e){if(e!==rn)return!1;if(!xe)return kA(e),xe=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Lb(e.type,e.memoizedProps)),n=!n),n&&Fe&&ys(e),kA(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(z(317));Fe=xT(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(z(317));Fe=xT(e)}else t===27?(t=Fe,Is(e.type)?(e=Bb,Bb=null,Fe=e):Fe=t):Fe=rn?Ar(e.stateNode.nextSibling):null;return!0}function vo(){Fe=rn=null,xe=!1}function Uv(){var e=ts;return e!==null&&(Mn===null?Mn=e:Mn.push.apply(Mn,e),ts=null),e}function uf(e){ts===null?ts=[e]:ts.push(e)}var hb=Ei(null),zo=null,zi=null;function La(e,t,n){Ve(hb,t._currentValue),t._currentValue=n}function Gi(e){e._currentValue=hb.current,Ft(hb)}function mb(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function pb(e,t,n,r){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){var s=i.child;a=a.firstContext;e:for(;a!==null;){var o=a;a=i;for(var l=0;l<t.length;l++)if(o.context===t[l]){a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),mb(a.return,n,e),r||(s=null);break e}a=o.next}}else if(i.tag===18){if(s=i.return,s===null)throw Error(z(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),mb(s,n,e),s=null}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===e){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}}function gu(e,t,n,r){e=null;for(var i=t,a=!1;i!==null;){if(!a){if(i.flags&524288)a=!0;else if(i.flags&262144)break}if(i.tag===10){var s=i.alternate;if(s===null)throw Error(z(387));if(s=s.memoizedProps,s!==null){var o=i.type;lr(i.pendingProps.value,s.value)||(e!==null?e.push(o):e=[o])}}else if(i===km.current){if(s=i.alternate,s===null)throw Error(z(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(pf):e=[pf])}i=i.return}e!==null&&pb(t,e,n,r),t.flags|=262144}function $m(e){for(e=e.firstContext;e!==null;){if(!lr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function bo(e){zo=e,zi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function sn(e){return qP(zo,e)}function xh(e,t){return zo===null&&bo(e),qP(e,t)}function qP(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},zi===null){if(e===null)throw Error(z(308));zi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else zi=zi.next=t;return n}var Yz=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Wz=It.unstable_scheduleCallback,Xz=It.unstable_NormalPriority,_t={$$typeof:Vi,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function M_(){return{controller:new Yz,data:new Map,refCount:0}}function id(e){e.refCount--,e.refCount===0&&Wz(Xz,function(){e.controller.abort()})}var Uc=null,gb=0,ql=0,Il=null;function Qz(e,t){if(Uc===null){var n=Uc=[];gb=0,ql=ow(),Il={status:"pending",value:void 0,then:function(r){n.push(r)}}}return gb++,t.then(DA,DA),t}function DA(){if(--gb===0&&Uc!==null){Il!==null&&(Il.status="fulfilled");var e=Uc;Uc=null,ql=0,Il=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Zz(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var i=0;i<n.length;i++)(0,n[i])(t)},function(i){for(r.status="rejected",r.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),r}var MA=ie.S;ie.S=function(e,t){ij=nr(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Qz(e,t),MA!==null&&MA(e,t)};var oo=Ei(null);function L_(){var e=oo.current;return e!==null?e:Me.pooledCache}function am(e,t){t===null?Ve(oo,oo.current):Ve(oo,t.pool)}function HP(){var e=L_();return e===null?null:{parent:_t._currentValue,pool:e}}var yu=Error(z(460)),V_=Error(z(474)),Cg=Error(z(542)),Fm={then:function(){}};function LA(e){return e=e.status,e==="fulfilled"||e==="rejected"}function GP(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Ui,Ui),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,UA(e),e;default:if(typeof t.status=="string")t.then(Ui,Ui);else{if(e=Me,e!==null&&100<e.shellSuspendCounter)throw Error(z(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=r}},function(r){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,UA(e),e}throw lo=t,yu}}function Ys(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(lo=n,yu):n}}var lo=null;function VA(){if(lo===null)throw Error(z(459));var e=lo;return lo=null,e}function UA(e){if(e===yu||e===Cg)throw Error(z(483))}var Pl=null,cf=0;function _h(e){var t=cf;return cf+=1,Pl===null&&(Pl=[]),GP(Pl,e,t)}function sc(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function wh(e,t){throw t.$$typeof===VU?Error(z(525)):(e=Object.prototype.toString.call(t),Error(z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function KP(e){function t(w,x){if(e){var S=w.deletions;S===null?(w.deletions=[x],w.flags|=16):S.push(x)}}function n(w,x){if(!e)return null;for(;x!==null;)t(w,x),x=x.sibling;return null}function r(w){for(var x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function i(w,x){return w=Hi(w,x),w.index=0,w.sibling=null,w}function a(w,x,S){return w.index=S,e?(S=w.alternate,S!==null?(S=S.index,S<x?(w.flags|=67108866,x):S):(w.flags|=67108866,x)):(w.flags|=1048576,x)}function s(w){return e&&w.alternate===null&&(w.flags|=67108866),w}function o(w,x,S,N){return x===null||x.tag!==6?(x=Lv(S,w.mode,N),x.return=w,x):(x=i(x,S),x.return=w,x)}function l(w,x,S,N){var P=S.type;return P===fl?c(w,x,S.props.children,N,S.key):x!==null&&(x.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===ja&&Ys(P)===x.type)?(x=i(x,S.props),sc(x,S),x.return=w,x):(x=im(S.type,S.key,S.props,null,w.mode,N),sc(x,S),x.return=w,x)}function u(w,x,S,N){return x===null||x.tag!==4||x.stateNode.containerInfo!==S.containerInfo||x.stateNode.implementation!==S.implementation?(x=Vv(S,w.mode,N),x.return=w,x):(x=i(x,S.children||[]),x.return=w,x)}function c(w,x,S,N,P){return x===null||x.tag!==7?(x=so(S,w.mode,N,P),x.return=w,x):(x=i(x,S),x.return=w,x)}function f(w,x,S){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Lv(""+x,w.mode,S),x.return=w,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case mh:return S=im(x.type,x.key,x.props,null,w.mode,S),sc(S,x),S.return=w,S;case _c:return x=Vv(x,w.mode,S),x.return=w,x;case ja:return x=Ys(x),f(w,x,S)}if(wc(x)||rc(x))return x=so(x,w.mode,S,null),x.return=w,x;if(typeof x.then=="function")return f(w,_h(x),S);if(x.$$typeof===Vi)return f(w,xh(w,x),S);wh(w,x)}return null}function m(w,x,S,N){var P=x!==null?x.key:null;if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return P!==null?null:o(w,x,""+S,N);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case mh:return S.key===P?l(w,x,S,N):null;case _c:return S.key===P?u(w,x,S,N):null;case ja:return S=Ys(S),m(w,x,S,N)}if(wc(S)||rc(S))return P!==null?null:c(w,x,S,N,null);if(typeof S.then=="function")return m(w,x,_h(S),N);if(S.$$typeof===Vi)return m(w,x,xh(w,S),N);wh(w,S)}return null}function p(w,x,S,N,P){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return w=w.get(S)||null,o(x,w,""+N,P);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case mh:return w=w.get(N.key===null?S:N.key)||null,l(x,w,N,P);case _c:return w=w.get(N.key===null?S:N.key)||null,u(x,w,N,P);case ja:return N=Ys(N),p(w,x,S,N,P)}if(wc(N)||rc(N))return w=w.get(S)||null,c(x,w,N,P,null);if(typeof N.then=="function")return p(w,x,S,_h(N),P);if(N.$$typeof===Vi)return p(w,x,S,xh(x,N),P);wh(x,N)}return null}function g(w,x,S,N){for(var P=null,O=null,A=x,T=x=0,C=null;A!==null&&T<S.length;T++){A.index>T?(C=A,A=null):C=A.sibling;var k=m(w,A,S[T],N);if(k===null){A===null&&(A=C);break}e&&A&&k.alternate===null&&t(w,A),x=a(k,x,T),O===null?P=k:O.sibling=k,O=k,A=C}if(T===S.length)return n(w,A),xe&&ki(w,T),P;if(A===null){for(;T<S.length;T++)A=f(w,S[T],N),A!==null&&(x=a(A,x,T),O===null?P=A:O.sibling=A,O=A);return xe&&ki(w,T),P}for(A=r(A);T<S.length;T++)C=p(A,w,T,S[T],N),C!==null&&(e&&C.alternate!==null&&A.delete(C.key===null?T:C.key),x=a(C,x,T),O===null?P=C:O.sibling=C,O=C);return e&&A.forEach(function(j){return t(w,j)}),xe&&ki(w,T),P}function _(w,x,S,N){if(S==null)throw Error(z(151));for(var P=null,O=null,A=x,T=x=0,C=null,k=S.next();A!==null&&!k.done;T++,k=S.next()){A.index>T?(C=A,A=null):C=A.sibling;var j=m(w,A,k.value,N);if(j===null){A===null&&(A=C);break}e&&A&&j.alternate===null&&t(w,A),x=a(j,x,T),O===null?P=j:O.sibling=j,O=j,A=C}if(k.done)return n(w,A),xe&&ki(w,T),P;if(A===null){for(;!k.done;T++,k=S.next())k=f(w,k.value,N),k!==null&&(x=a(k,x,T),O===null?P=k:O.sibling=k,O=k);return xe&&ki(w,T),P}for(A=r(A);!k.done;T++,k=S.next())k=p(A,w,T,k.value,N),k!==null&&(e&&k.alternate!==null&&A.delete(k.key===null?T:k.key),x=a(k,x,T),O===null?P=k:O.sibling=k,O=k);return e&&A.forEach(function(R){return t(w,R)}),xe&&ki(w,T),P}function y(w,x,S,N){if(typeof S=="object"&&S!==null&&S.type===fl&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case mh:e:{for(var P=S.key;x!==null;){if(x.key===P){if(P=S.type,P===fl){if(x.tag===7){n(w,x.sibling),N=i(x,S.props.children),N.return=w,w=N;break e}}else if(x.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===ja&&Ys(P)===x.type){n(w,x.sibling),N=i(x,S.props),sc(N,S),N.return=w,w=N;break e}n(w,x);break}else t(w,x);x=x.sibling}S.type===fl?(N=so(S.props.children,w.mode,N,S.key),N.return=w,w=N):(N=im(S.type,S.key,S.props,null,w.mode,N),sc(N,S),N.return=w,w=N)}return s(w);case _c:e:{for(P=S.key;x!==null;){if(x.key===P)if(x.tag===4&&x.stateNode.containerInfo===S.containerInfo&&x.stateNode.implementation===S.implementation){n(w,x.sibling),N=i(x,S.children||[]),N.return=w,w=N;break e}else{n(w,x);break}else t(w,x);x=x.sibling}N=Vv(S,w.mode,N),N.return=w,w=N}return s(w);case ja:return S=Ys(S),y(w,x,S,N)}if(wc(S))return g(w,x,S,N);if(rc(S)){if(P=rc(S),typeof P!="function")throw Error(z(150));return S=P.call(S),_(w,x,S,N)}if(typeof S.then=="function")return y(w,x,_h(S),N);if(S.$$typeof===Vi)return y(w,x,xh(w,S),N);wh(w,S)}return typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint"?(S=""+S,x!==null&&x.tag===6?(n(w,x.sibling),N=i(x,S),N.return=w,w=N):(n(w,x),N=Lv(S,w.mode,N),N.return=w,w=N),s(w)):n(w,x)}return function(w,x,S,N){try{cf=0;var P=y(w,x,S,N);return Pl=null,P}catch(A){if(A===yu||A===Cg)throw A;var O=Xn(29,A,null,w.mode);return O.lanes=N,O.return=w,O}finally{}}}var xo=KP(!0),YP=KP(!1),ka=!1;function U_(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yb(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ns(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function rs(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Se&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=zm(e),UP(e,null,n),t}return Ng(e,r,t,n),zm(e)}function zc(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,dP(e,n)}}function zv(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var vb=!1;function Bc(){if(vb){var e=Il;if(e!==null)throw e}}function $c(e,t,n,r){vb=!1;var i=e.updateQueue;ka=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?a=u:s.next=u,s=l;var c=e.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==s&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;s=0,c=u=l=null,o=a;do{var m=o.lane&-536870913,p=m!==o.lane;if(p?(ve&m)===m:(r&m)===m){m!==0&&m===ql&&(vb=!0),c!==null&&(c=c.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var g=e,_=o;m=t;var y=n;switch(_.tag){case 1:if(g=_.payload,typeof g=="function"){f=g.call(y,f,m);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=_.payload,m=typeof g=="function"?g.call(y,f,m):g,m==null)break e;f=Ge({},f,m);break e;case 2:ka=!0}}m=o.callback,m!==null&&(e.flags|=64,p&&(e.flags|=8192),p=i.callbacks,p===null?i.callbacks=[m]:p.push(m))}else p={lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=p,l=f):c=c.next=p,s|=m;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;p=o,o=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,a===null&&(i.shared.lanes=0),bs|=s,e.lanes=s,e.memoizedState=f}}function WP(e,t){if(typeof e!="function")throw Error(z(191,e));e.call(t)}function XP(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)WP(n[e],t)}var Hl=Ei(null),qm=Ei(0);function zA(e,t){e=na,Ve(qm,e),Ve(Hl,t),na=e|t.baseLanes}function bb(){Ve(qm,na),Ve(Hl,Hl.current)}function z_(){na=qm.current,Ft(Hl),Ft(qm)}var ur=Ei(null),Sr=null;function Va(e){var t=e.alternate;Ve(mt,mt.current&1),Ve(ur,e),Sr===null&&(t===null||Hl.current!==null||t.memoizedState!==null)&&(Sr=e)}function xb(e){Ve(mt,mt.current),Ve(ur,e),Sr===null&&(Sr=e)}function QP(e){e.tag===22?(Ve(mt,mt.current),Ve(ur,e),Sr===null&&(Sr=e)):Ua()}function Ua(){Ve(mt,mt.current),Ve(ur,ur.current)}function Wn(e){Ft(ur),Sr===e&&(Sr=null),Ft(mt)}var mt=Ei(0);function Hm(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Ub(n)||zb(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ji=0,ce=null,Re=null,bt=null,Gm=!1,Rl=!1,_o=!1,Km=0,ff=0,jl=null,Jz=0;function it(){throw Error(z(321))}function B_(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function $_(e,t,n,r,i,a){return Ji=a,ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ie.H=e===null||e.memoizedState===null?CR:J_,_o=!1,a=n(r,i),_o=!1,Rl&&(a=JP(t,n,r,i)),ZP(e),a}function ZP(e){ie.H=df;var t=Re!==null&&Re.next!==null;if(Ji=0,bt=Re=ce=null,Gm=!1,ff=0,jl=null,t)throw Error(z(300));e===null||Et||(e=e.dependencies,e!==null&&$m(e)&&(Et=!0))}function JP(e,t,n,r){ce=e;var i=0;do{if(Rl&&(jl=null),ff=0,Rl=!1,25<=i)throw Error(z(301));if(i+=1,bt=Re=null,e.updateQueue!=null){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}ie.H=OR,a=t(n,r)}while(Rl);return a}function e9(){var e=ie.H,t=e.useState()[0];return t=typeof t.then=="function"?ad(t):t,e=e.useState()[0],(Re!==null?Re.memoizedState:null)!==e&&(ce.flags|=1024),t}function F_(){var e=Km!==0;return Km=0,e}function q_(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function H_(e){if(Gm){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Gm=!1}Ji=0,bt=Re=ce=null,Rl=!1,ff=Km=0,jl=null}function An(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?ce.memoizedState=bt=e:bt=bt.next=e,bt}function gt(){if(Re===null){var e=ce.alternate;e=e!==null?e.memoizedState:null}else e=Re.next;var t=bt===null?ce.memoizedState:bt.next;if(t!==null)bt=t,Re=e;else{if(e===null)throw ce.alternate===null?Error(z(467)):Error(z(310));Re=e,e={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},bt===null?ce.memoizedState=bt=e:bt=bt.next=e}return bt}function Og(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ad(e){var t=ff;return ff+=1,jl===null&&(jl=[]),e=GP(jl,e,t),t=ce,(bt===null?t.memoizedState:bt.next)===null&&(t=t.alternate,ie.H=t===null||t.memoizedState===null?CR:J_),e}function Ig(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ad(e);if(e.$$typeof===Vi)return sn(e)}throw Error(z(438,String(e)))}function G_(e){var t=null,n=ce.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=ce.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Og(),ce.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=UU;return t.index++,n}function ea(e,t){return typeof t=="function"?t(e):t}function sm(e){var t=gt();return K_(t,Re,e)}function K_(e,t,n){var r=e.queue;if(r===null)throw Error(z(311));r.lastRenderedReducer=n;var i=e.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}t.baseQueue=i=a,r.pending=null}if(a=e.baseState,i===null)e.memoizedState=a;else{t=i.next;var o=s=null,l=null,u=t,c=!1;do{var f=u.lane&-536870913;if(f!==u.lane?(ve&f)===f:(Ji&f)===f){var m=u.revertLane;if(m===0)l!==null&&(l=l.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===ql&&(c=!0);else if((Ji&m)===m){u=u.next,m===ql&&(c=!0);continue}else f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(o=l=f,s=a):l=l.next=f,ce.lanes|=m,bs|=m;f=u.action,_o&&n(a,f),a=u.hasEagerState?u.eagerState:n(a,f)}else m={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(o=l=m,s=a):l=l.next=m,ce.lanes|=f,bs|=f;u=u.next}while(u!==null&&u!==t);if(l===null?s=a:l.next=o,!lr(a,e.memoizedState)&&(Et=!0,c&&(n=Il,n!==null)))throw n;e.memoizedState=a,e.baseState=s,e.baseQueue=l,r.lastRenderedState=a}return i===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Bv(e){var t=gt(),n=t.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);lr(a,t.memoizedState)||(Et=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function eR(e,t,n){var r=ce,i=gt(),a=xe;if(a){if(n===void 0)throw Error(z(407));n=n()}else n=t();var s=!lr((Re||i).memoizedState,n);if(s&&(i.memoizedState=n,Et=!0),i=i.queue,Y_(rR.bind(null,r,i,e),[e]),i.getSnapshot!==t||s||bt!==null&&bt.memoizedState.tag&1){if(r.flags|=2048,Gl(9,{destroy:void 0},nR.bind(null,r,i,n,t),null),Me===null)throw Error(z(349));a||Ji&127||tR(r,t,n)}return n}function tR(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ce.updateQueue,t===null?(t=Og(),ce.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function nR(e,t,n,r){t.value=n,t.getSnapshot=r,iR(t)&&aR(e)}function rR(e,t,n){return n(function(){iR(t)&&aR(e)})}function iR(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!lr(e,n)}catch{return!0}}function aR(e){var t=Uo(e,2);t!==null&&Bn(t,e,2)}function _b(e){var t=An();if(typeof e=="function"){var n=e;if(e=n(),_o){Ka(!0);try{n()}finally{Ka(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ea,lastRenderedState:e},t}function sR(e,t,n,r){return e.baseState=n,K_(e,Re,typeof r=="function"?r:ea)}function t9(e,t,n,r,i){if(Rg(e))throw Error(z(485));if(e=t.action,e!==null){var a={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){a.listeners.push(s)}};ie.T!==null?n(!0):a.isTransition=!1,r(a),n=t.pending,n===null?(a.next=t.pending=a,oR(t,a)):(a.next=n.next,t.pending=n.next=a)}}function oR(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=ie.T,s={};ie.T=s;try{var o=n(i,r),l=ie.S;l!==null&&l(s,o),BA(e,t,o)}catch(u){wb(e,t,u)}finally{a!==null&&s.types!==null&&(a.types=s.types),ie.T=a}}else try{a=n(i,r),BA(e,t,a)}catch(u){wb(e,t,u)}}function BA(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){$A(e,t,r)},function(r){return wb(e,t,r)}):$A(e,t,n)}function $A(e,t,n){t.status="fulfilled",t.value=n,lR(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,oR(e,n)))}function wb(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=n,lR(t),t=t.next;while(t!==r)}e.action=null}function lR(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function uR(e,t){return t}function FA(e,t){if(xe){var n=Me.formState;if(n!==null){e:{var r=ce;if(xe){if(Fe){t:{for(var i=Fe,a=br;i.nodeType!==8;){if(!a){i=null;break t}if(i=Ar(i.nextSibling),i===null){i=null;break t}}a=i.data,i=a==="F!"||a==="F"?i:null}if(i){Fe=Ar(i.nextSibling),r=i.data==="F!";break e}}ys(r)}r=!1}r&&(t=n[0])}}return n=An(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:uR,lastRenderedState:t},n.queue=r,n=AR.bind(null,ce,r),r.dispatch=n,r=_b(!1),a=Z_.bind(null,ce,!1,r.queue),r=An(),i={state:t,dispatch:null,action:e,pending:null},r.queue=i,n=t9.bind(null,ce,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function qA(e){var t=gt();return cR(t,Re,e)}function cR(e,t,n){if(t=K_(e,t,uR)[0],e=sm(ea)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=ad(t)}catch(s){throw s===yu?Cg:s}else r=t;t=gt();var i=t.queue,a=i.dispatch;return n!==t.memoizedState&&(ce.flags|=2048,Gl(9,{destroy:void 0},n9.bind(null,i,n),null)),[r,a,e]}function n9(e,t){e.action=t}function HA(e){var t=gt(),n=Re;if(n!==null)return cR(t,n,e);gt(),t=t.memoizedState,n=gt();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Gl(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=ce.updateQueue,t===null&&(t=Og(),ce.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function fR(){return gt().memoizedState}function om(e,t,n,r){var i=An();ce.flags|=e,i.memoizedState=Gl(1|t,{destroy:void 0},n,r===void 0?null:r)}function Pg(e,t,n,r){var i=gt();r=r===void 0?null:r;var a=i.memoizedState.inst;Re!==null&&r!==null&&B_(r,Re.memoizedState.deps)?i.memoizedState=Gl(t,a,n,r):(ce.flags|=e,i.memoizedState=Gl(1|t,a,n,r))}function GA(e,t){om(8390656,8,e,t)}function Y_(e,t){Pg(2048,8,e,t)}function r9(e){ce.flags|=4;var t=ce.updateQueue;if(t===null)t=Og(),ce.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function dR(e){var t=gt().memoizedState;return r9({ref:t,nextImpl:e}),function(){if(Se&2)throw Error(z(440));return t.impl.apply(void 0,arguments)}}function hR(e,t){return Pg(4,2,e,t)}function mR(e,t){return Pg(4,4,e,t)}function pR(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function gR(e,t,n){n=n!=null?n.concat([e]):null,Pg(4,4,pR.bind(null,t,e),n)}function W_(){}function yR(e,t){var n=gt();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&B_(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function vR(e,t){var n=gt();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&B_(t,r[1]))return r[0];if(r=e(),_o){Ka(!0);try{e()}finally{Ka(!1)}}return n.memoizedState=[r,t],r}function X_(e,t,n){return n===void 0||Ji&1073741824&&!(ve&261930)?e.memoizedState=t:(e.memoizedState=n,e=sj(),ce.lanes|=e,bs|=e,n)}function bR(e,t,n,r){return lr(n,t)?n:Hl.current!==null?(e=X_(e,n,r),lr(e,t)||(Et=!0),e):!(Ji&42)||Ji&1073741824&&!(ve&261930)?(Et=!0,e.memoizedState=n):(e=sj(),ce.lanes|=e,bs|=e,t)}function xR(e,t,n,r,i){var a=Ae.p;Ae.p=a!==0&&8>a?a:8;var s=ie.T,o={};ie.T=o,Z_(e,!1,t,n);try{var l=i(),u=ie.S;if(u!==null&&u(o,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=Zz(l,r);Fc(e,t,c,ar(e))}else Fc(e,t,r,ar(e))}catch(f){Fc(e,t,{then:function(){},status:"rejected",reason:f},ar())}finally{Ae.p=a,s!==null&&o.types!==null&&(s.types=o.types),ie.T=s}}function i9(){}function Eb(e,t,n,r){if(e.tag!==5)throw Error(z(476));var i=_R(e).queue;xR(e,i,t,ao,n===null?i9:function(){return wR(e),n(r)})}function _R(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ao,baseState:ao,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ea,lastRenderedState:ao},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ea,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function wR(e){var t=_R(e);t.next===null&&(t=e.alternate.memoizedState),Fc(e,t.next.queue,{},ar())}function Q_(){return sn(pf)}function ER(){return gt().memoizedState}function SR(){return gt().memoizedState}function a9(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=ar();e=ns(n);var r=rs(t,e,n);r!==null&&(Bn(r,t,n),zc(r,t,n)),t={cache:M_()},e.payload=t;return}t=t.return}}function s9(e,t,n){var r=ar();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Rg(e)?TR(t,n):(n=R_(e,t,n,r),n!==null&&(Bn(n,e,r),NR(n,t,r)))}function AR(e,t,n){var r=ar();Fc(e,t,n,r)}function Fc(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Rg(e))TR(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,lr(o,s))return Ng(e,t,i,0),Me===null&&Tg(),!1}catch{}finally{}if(n=R_(e,t,i,r),n!==null)return Bn(n,e,r),NR(n,t,r),!0}return!1}function Z_(e,t,n,r){if(r={lane:2,revertLane:ow(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Rg(e)){if(t)throw Error(z(479))}else t=R_(e,n,r,2),t!==null&&Bn(t,e,2)}function Rg(e){var t=e.alternate;return e===ce||t!==null&&t===ce}function TR(e,t){Rl=Gm=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function NR(e,t,n){if(n&4194048){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,dP(e,n)}}var df={readContext:sn,use:Ig,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useLayoutEffect:it,useInsertionEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useSyncExternalStore:it,useId:it,useHostTransitionStatus:it,useFormState:it,useActionState:it,useOptimistic:it,useMemoCache:it,useCacheRefresh:it};df.useEffectEvent=it;var CR={readContext:sn,use:Ig,useCallback:function(e,t){return An().memoizedState=[e,t===void 0?null:t],e},useContext:sn,useEffect:GA,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,om(4194308,4,pR.bind(null,t,e),n)},useLayoutEffect:function(e,t){return om(4194308,4,e,t)},useInsertionEffect:function(e,t){om(4,2,e,t)},useMemo:function(e,t){var n=An();t=t===void 0?null:t;var r=e();if(_o){Ka(!0);try{e()}finally{Ka(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=An();if(n!==void 0){var i=n(t);if(_o){Ka(!0);try{n(t)}finally{Ka(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=s9.bind(null,ce,e),[r.memoizedState,e]},useRef:function(e){var t=An();return e={current:e},t.memoizedState=e},useState:function(e){e=_b(e);var t=e.queue,n=AR.bind(null,ce,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:W_,useDeferredValue:function(e,t){var n=An();return X_(n,e,t)},useTransition:function(){var e=_b(!1);return e=xR.bind(null,ce,e.queue,!0,!1),An().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=ce,i=An();if(xe){if(n===void 0)throw Error(z(407));n=n()}else{if(n=t(),Me===null)throw Error(z(349));ve&127||tR(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,GA(rR.bind(null,r,a,e),[e]),r.flags|=2048,Gl(9,{destroy:void 0},nR.bind(null,r,a,n,t),null),n},useId:function(){var e=An(),t=Me.identifierPrefix;if(xe){var n=ri,r=ni;n=(r&~(1<<32-ir(r)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Km++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=Jz++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Q_,useFormState:FA,useActionState:FA,useOptimistic:function(e){var t=An();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Z_.bind(null,ce,!0,n),n.dispatch=t,[e,t]},useMemoCache:G_,useCacheRefresh:function(){return An().memoizedState=a9.bind(null,ce)},useEffectEvent:function(e){var t=An(),n={impl:e};return t.memoizedState=n,function(){if(Se&2)throw Error(z(440));return n.impl.apply(void 0,arguments)}}},J_={readContext:sn,use:Ig,useCallback:yR,useContext:sn,useEffect:Y_,useImperativeHandle:gR,useInsertionEffect:hR,useLayoutEffect:mR,useMemo:vR,useReducer:sm,useRef:fR,useState:function(){return sm(ea)},useDebugValue:W_,useDeferredValue:function(e,t){var n=gt();return bR(n,Re.memoizedState,e,t)},useTransition:function(){var e=sm(ea)[0],t=gt().memoizedState;return[typeof e=="boolean"?e:ad(e),t]},useSyncExternalStore:eR,useId:ER,useHostTransitionStatus:Q_,useFormState:qA,useActionState:qA,useOptimistic:function(e,t){var n=gt();return sR(n,Re,e,t)},useMemoCache:G_,useCacheRefresh:SR};J_.useEffectEvent=dR;var OR={readContext:sn,use:Ig,useCallback:yR,useContext:sn,useEffect:Y_,useImperativeHandle:gR,useInsertionEffect:hR,useLayoutEffect:mR,useMemo:vR,useReducer:Bv,useRef:fR,useState:function(){return Bv(ea)},useDebugValue:W_,useDeferredValue:function(e,t){var n=gt();return Re===null?X_(n,e,t):bR(n,Re.memoizedState,e,t)},useTransition:function(){var e=Bv(ea)[0],t=gt().memoizedState;return[typeof e=="boolean"?e:ad(e),t]},useSyncExternalStore:eR,useId:ER,useHostTransitionStatus:Q_,useFormState:HA,useActionState:HA,useOptimistic:function(e,t){var n=gt();return Re!==null?sR(n,Re,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:G_,useCacheRefresh:SR};OR.useEffectEvent=dR;function $v(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ge({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Sb={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ar(),i=ns(r);i.payload=t,n!=null&&(i.callback=n),t=rs(e,i,r),t!==null&&(Bn(t,e,r),zc(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ar(),i=ns(r);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=rs(e,i,r),t!==null&&(Bn(t,e,r),zc(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ar(),r=ns(n);r.tag=2,t!=null&&(r.callback=t),t=rs(e,r,n),t!==null&&(Bn(t,e,n),zc(t,e,n))}};function KA(e,t,n,r,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,s):t.prototype&&t.prototype.isPureReactComponent?!of(n,r)||!of(i,a):!0}function YA(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Sb.enqueueReplaceState(t,t.state,null)}function wo(e,t){var n=t;if("ref"in t){n={};for(var r in t)r!=="ref"&&(n[r]=t[r])}if(e=e.defaultProps){n===t&&(n=Ge({},n));for(var i in e)n[i]===void 0&&(n[i]=e[i])}return n}function IR(e){Um(e)}function PR(e){console.error(e)}function RR(e){Um(e)}function Ym(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function WA(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function Ab(e,t,n){return n=ns(n),n.tag=3,n.payload={element:null},n.callback=function(){Ym(e,t)},n}function jR(e){return e=ns(e),e.tag=3,e}function kR(e,t,n,r){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){WA(t,n,r)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(e.callback=function(){WA(t,n,r),typeof i!="function"&&(is===null?is=new Set([this]):is.add(this));var o=r.stack;this.componentDidCatch(r.value,{componentStack:o!==null?o:""})})}function o9(e,t,n,r,i){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=n.alternate,t!==null&&gu(t,n,i,!0),n=ur.current,n!==null){switch(n.tag){case 31:case 13:return Sr===null?Jm():n.alternate===null&&ot===0&&(ot=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===Fm?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),Jv(e,r,i)),!1;case 22:return n.flags|=65536,r===Fm?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),Jv(e,r,i)),!1}throw Error(z(435,n.tag))}return Jv(e,r,i),Jm(),!1}if(xe)return t=ur.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==db&&(e=Error(z(422),{cause:r}),uf(vr(e,n)))):(r!==db&&(t=Error(z(423),{cause:r}),uf(vr(t,n))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,r=vr(r,n),i=Ab(e.stateNode,r,i),zv(e,i),ot!==4&&(ot=2)),!1;var a=Error(z(520),{cause:r});if(a=vr(a,n),Gc===null?Gc=[a]:Gc.push(a),ot!==4&&(ot=2),t===null)return!0;r=vr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,e=Ab(n.stateNode,r,e),zv(n,e),!1;case 1:if(t=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(is===null||!is.has(a))))return n.flags|=65536,i&=-i,n.lanes|=i,i=jR(i),kR(i,e,n,r),zv(n,i),!1}n=n.return}while(n!==null);return!1}var ew=Error(z(461)),Et=!1;function Qt(e,t,n,r){t.child=e===null?YP(t,null,n,r):xo(t,e.child,n,r)}function XA(e,t,n,r,i){n=n.render;var a=t.ref;if("ref"in r){var s={};for(var o in r)o!=="ref"&&(s[o]=r[o])}else s=r;return bo(t),r=$_(e,t,n,s,a,i),o=F_(),e!==null&&!Et?(q_(e,t,i),ta(e,t,i)):(xe&&o&&k_(t),t.flags|=1,Qt(e,t,r,i),t.child)}function QA(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!j_(a)&&a.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=a,DR(e,t,a,r,i)):(e=im(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!tw(e,i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:of,n(s,r)&&e.ref===t.ref)return ta(e,t,i)}return t.flags|=1,e=Hi(a,r),e.ref=t.ref,e.return=t,t.child=e}function DR(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(of(a,r)&&e.ref===t.ref)if(Et=!1,t.pendingProps=r=a,tw(e,i))e.flags&131072&&(Et=!0);else return t.lanes=e.lanes,ta(e,t,i)}return Tb(e,t,n,r,i)}function MR(e,t,n,r){var i=r.children,a=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if(t.flags&128){if(a=a!==null?a.baseLanes|n:n,e!==null){for(r=t.child=e.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~a}else r=0,t.child=null;return ZA(e,t,a,n,r)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&am(t,a!==null?a.cachePool:null),a!==null?zA(t,a):bb(),QP(t);else return r=t.lanes=536870912,ZA(e,t,a!==null?a.baseLanes|n:n,n,r)}else a!==null?(am(t,a.cachePool),zA(t,a),Ua(),t.memoizedState=null):(e!==null&&am(t,null),bb(),Ua());return Qt(e,t,i,n),t.child}function Sc(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function ZA(e,t,n,r,i){var a=L_();return a=a===null?null:{parent:_t._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},e!==null&&am(t,null),bb(),QP(t),e!==null&&gu(e,t,r,!0),t.childLanes=i,null}function lm(e,t){return t=Wm({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function JA(e,t,n){return xo(t,e.child,null,n),e=lm(t,t.pendingProps),e.flags|=2,Wn(t),t.memoizedState=null,e}function l9(e,t,n){var r=t.pendingProps,i=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(xe){if(r.mode==="hidden")return e=lm(t,r),t.lanes=536870912,Sc(null,e);if(xb(t),(e=Fe)?(e=Cj(e,br),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:gs!==null?{id:ni,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},n=BP(e),n.return=t,t.child=n,rn=t,Fe=null)):e=null,e===null)throw ys(t);return t.lanes=536870912,null}return lm(t,r)}var a=e.memoizedState;if(a!==null){var s=a.dehydrated;if(xb(t),i)if(t.flags&256)t.flags&=-257,t=JA(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(z(558));else if(Et||gu(e,t,n,!1),i=(n&e.childLanes)!==0,Et||i){if(r=Me,r!==null&&(s=hP(r,n),s!==0&&s!==a.retryLane))throw a.retryLane=s,Uo(e,s),Bn(r,e,s),ew;Jm(),t=JA(e,t,n)}else e=a.treeContext,Fe=Ar(s.nextSibling),rn=t,xe=!0,ts=null,br=!1,e!==null&&FP(t,e),t=lm(t,r),t.flags|=4096;return t}return e=Hi(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function um(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(z(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Tb(e,t,n,r,i){return bo(t),n=$_(e,t,n,r,void 0,i),r=F_(),e!==null&&!Et?(q_(e,t,i),ta(e,t,i)):(xe&&r&&k_(t),t.flags|=1,Qt(e,t,n,i),t.child)}function eT(e,t,n,r,i,a){return bo(t),t.updateQueue=null,n=JP(t,r,n,i),ZP(e),r=F_(),e!==null&&!Et?(q_(e,t,a),ta(e,t,a)):(xe&&r&&k_(t),t.flags|=1,Qt(e,t,n,a),t.child)}function tT(e,t,n,r,i){if(bo(t),t.stateNode===null){var a=bl,s=n.contextType;typeof s=="object"&&s!==null&&(a=sn(s)),a=new n(r,a),t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Sb,t.stateNode=a,a._reactInternals=t,a=t.stateNode,a.props=r,a.state=t.memoizedState,a.refs={},U_(t),s=n.contextType,a.context=typeof s=="object"&&s!==null?sn(s):bl,a.state=t.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&($v(t,n,s,r),a.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(s=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),s!==a.state&&Sb.enqueueReplaceState(a,a.state,null),$c(t,r,a,i),Bc(),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){a=t.stateNode;var o=t.memoizedProps,l=wo(n,o);a.props=l;var u=a.context,c=n.contextType;s=bl,typeof c=="object"&&c!==null&&(s=sn(c));var f=n.getDerivedStateFromProps;c=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function",o=t.pendingProps!==o,c||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o||u!==s)&&YA(t,a,r,s),ka=!1;var m=t.memoizedState;a.state=m,$c(t,r,a,i),Bc(),u=t.memoizedState,o||m!==u||ka?(typeof f=="function"&&($v(t,n,f,r),u=t.memoizedState),(l=ka||KA(t,n,l,r,m,u,s))?(c||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=s,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,yb(e,t),s=t.memoizedProps,c=wo(n,s),a.props=c,f=t.pendingProps,m=a.context,u=n.contextType,l=bl,typeof u=="object"&&u!==null&&(l=sn(u)),o=n.getDerivedStateFromProps,(u=typeof o=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||m!==l)&&YA(t,a,r,l),ka=!1,m=t.memoizedState,a.state=m,$c(t,r,a,i),Bc();var p=t.memoizedState;s!==f||m!==p||ka||e!==null&&e.dependencies!==null&&$m(e.dependencies)?(typeof o=="function"&&($v(t,n,o,r),p=t.memoizedState),(c=ka||KA(t,n,c,r,m,p,l)||e!==null&&e.dependencies!==null&&$m(e.dependencies))?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,p,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,p,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,um(e,t),r=(t.flags&128)!==0,a||r?(a=t.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:a.render(),t.flags|=1,e!==null&&r?(t.child=xo(t,e.child,null,i),t.child=xo(t,null,n,i)):Qt(e,t,n,i),t.memoizedState=a.state,e=t.child):e=ta(e,t,i),e}function nT(e,t,n,r){return vo(),t.flags|=256,Qt(e,t,n,r),t.child}var Fv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qv(e){return{baseLanes:e,cachePool:HP()}}function Hv(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Zn),e}function LR(e,t,n){var r=t.pendingProps,i=!1,a=(t.flags&128)!==0,s;if((s=a)||(s=e!==null&&e.memoizedState===null?!1:(mt.current&2)!==0),s&&(i=!0,t.flags&=-129),s=(t.flags&32)!==0,t.flags&=-33,e===null){if(xe){if(i?Va(t):Ua(),(e=Fe)?(e=Cj(e,br),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:gs!==null?{id:ni,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},n=BP(e),n.return=t,t.child=n,rn=t,Fe=null)):e=null,e===null)throw ys(t);return zb(e)?t.lanes=32:t.lanes=536870912,null}var o=r.children;return r=r.fallback,i?(Ua(),i=t.mode,o=Wm({mode:"hidden",children:o},i),r=so(r,i,n,null),o.return=t,r.return=t,o.sibling=r,t.child=o,r=t.child,r.memoizedState=qv(n),r.childLanes=Hv(e,s,n),t.memoizedState=Fv,Sc(null,r)):(Va(t),Nb(t,o))}var l=e.memoizedState;if(l!==null&&(o=l.dehydrated,o!==null)){if(a)t.flags&256?(Va(t),t.flags&=-257,t=Gv(e,t,n)):t.memoizedState!==null?(Ua(),t.child=e.child,t.flags|=128,t=null):(Ua(),o=r.fallback,i=t.mode,r=Wm({mode:"visible",children:r.children},i),o=so(o,i,n,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,xo(t,e.child,null,n),r=t.child,r.memoizedState=qv(n),r.childLanes=Hv(e,s,n),t.memoizedState=Fv,t=Sc(null,r));else if(Va(t),zb(o)){if(s=o.nextSibling&&o.nextSibling.dataset,s)var u=s.dgst;s=u,r=Error(z(419)),r.stack="",r.digest=s,uf({value:r,source:null,stack:null}),t=Gv(e,t,n)}else if(Et||gu(e,t,n,!1),s=(n&e.childLanes)!==0,Et||s){if(s=Me,s!==null&&(r=hP(s,n),r!==0&&r!==l.retryLane))throw l.retryLane=r,Uo(e,r),Bn(s,e,r),ew;Ub(o)||Jm(),t=Gv(e,t,n)}else Ub(o)?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,Fe=Ar(o.nextSibling),rn=t,xe=!0,ts=null,br=!1,e!==null&&FP(t,e),t=Nb(t,r.children),t.flags|=4096);return t}return i?(Ua(),o=r.fallback,i=t.mode,l=e.child,u=l.sibling,r=Hi(l,{mode:"hidden",children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,u!==null?o=Hi(u,o):(o=so(o,i,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,Sc(null,r),r=t.child,o=e.child.memoizedState,o===null?o=qv(n):(i=o.cachePool,i!==null?(l=_t._currentValue,i=i.parent!==l?{parent:l,pool:l}:i):i=HP(),o={baseLanes:o.baseLanes|n,cachePool:i}),r.memoizedState=o,r.childLanes=Hv(e,s,n),t.memoizedState=Fv,Sc(e.child,r)):(Va(t),n=e.child,e=n.sibling,n=Hi(n,{mode:"visible",children:r.children}),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n)}function Nb(e,t){return t=Wm({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Wm(e,t){return e=Xn(22,e,null,t),e.lanes=0,e}function Gv(e,t,n){return xo(t,e.child,null,n),e=Nb(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function rT(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),mb(e.return,t,n)}function Kv(e,t,n,r,i,a){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i,s.treeForkCount=a)}function VR(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;r=r.children;var s=mt.current,o=(s&2)!==0;if(o?(s=s&1|2,t.flags|=128):s&=1,Ve(mt,s),Qt(e,t,r,n),r=xe?lf:0,!o&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&rT(e,n,t);else if(e.tag===19)rT(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Hm(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Kv(t,!1,i,n,a,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Hm(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Kv(t,!0,n,null,a,r);break;case"together":Kv(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function ta(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),bs|=t.lanes,!(n&t.childLanes))if(e!==null){if(gu(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(z(153));if(t.child!==null){for(e=t.child,n=Hi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Hi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function tw(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&$m(e)))}function u9(e,t,n){switch(t.tag){case 3:Dm(t,t.stateNode.containerInfo),La(t,_t,e.memoizedState.cache),vo();break;case 27:case 5:tb(t);break;case 4:Dm(t,t.stateNode.containerInfo);break;case 10:La(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,xb(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(Va(t),t.flags|=128,null):n&t.child.childLanes?LR(e,t,n):(Va(t),e=ta(e,t,n),e!==null?e.sibling:null);Va(t);break;case 19:var i=(e.flags&128)!==0;if(r=(n&t.childLanes)!==0,r||(gu(e,t,n,!1),r=(n&t.childLanes)!==0),i){if(r)return VR(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ve(mt,mt.current),r)break;return null;case 22:return t.lanes=0,MR(e,t,n,t.pendingProps);case 24:La(t,_t,e.memoizedState.cache)}return ta(e,t,n)}function UR(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Et=!0;else{if(!tw(e,n)&&!(t.flags&128))return Et=!1,u9(e,t,n);Et=!!(e.flags&131072)}else Et=!1,xe&&t.flags&1048576&&$P(t,lf,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=Ys(t.elementType),t.type=e,typeof e=="function")j_(e)?(r=wo(e,r),t.tag=1,t=tT(null,t,e,r,n)):(t.tag=0,t=Tb(null,t,e,r,n));else{if(e!=null){var i=e.$$typeof;if(i===b_){t.tag=11,t=XA(null,t,e,r,n);break e}else if(i===x_){t.tag=14,t=QA(null,t,e,r,n);break e}}throw t=J0(e)||e,Error(z(306,t,""))}}return t;case 0:return Tb(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,i=wo(r,t.pendingProps),tT(e,t,r,i,n);case 3:e:{if(Dm(t,t.stateNode.containerInfo),e===null)throw Error(z(387));r=t.pendingProps;var a=t.memoizedState;i=a.element,yb(e,t),$c(t,r,null,n);var s=t.memoizedState;if(r=s.cache,La(t,_t,r),r!==a.cache&&pb(t,[_t],n,!0),Bc(),r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){t=nT(e,t,r,n);break e}else if(r!==i){i=vr(Error(z(424)),t),uf(i),t=nT(e,t,r,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Fe=Ar(e.firstChild),rn=t,xe=!0,ts=null,br=!0,n=YP(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(vo(),r===i){t=ta(e,t,n);break e}Qt(e,t,r,n)}t=t.child}return t;case 26:return um(e,t),e===null?(n=ET(t.type,null,t.pendingProps,null))?t.memoizedState=n:xe||(n=t.type,e=t.pendingProps,r=rp(es.current).createElement(n),r[nn]=t,r[Fn]=e,ln(r,n,e),$t(r),t.stateNode=r):t.memoizedState=ET(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return tb(t),e===null&&xe&&(r=t.stateNode=Oj(t.type,t.pendingProps,es.current),rn=t,br=!0,i=Fe,Is(t.type)?(Bb=i,Fe=Ar(r.firstChild)):Fe=i),Qt(e,t,t.pendingProps.children,n),um(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&xe&&((i=r=Fe)&&(r=U9(r,t.type,t.pendingProps,br),r!==null?(t.stateNode=r,rn=t,Fe=Ar(r.firstChild),br=!1,i=!0):i=!1),i||ys(t)),tb(t),i=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,r=a.children,Lb(i,a)?r=null:s!==null&&Lb(i,s)&&(t.flags|=32),t.memoizedState!==null&&(i=$_(e,t,e9,null,null,n),pf._currentValue=i),um(e,t),Qt(e,t,r,n),t.child;case 6:return e===null&&xe&&((e=n=Fe)&&(n=z9(n,t.pendingProps,br),n!==null?(t.stateNode=n,rn=t,Fe=null,e=!0):e=!1),e||ys(t)),null;case 13:return LR(e,t,n);case 4:return Dm(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=xo(t,null,r,n):Qt(e,t,r,n),t.child;case 11:return XA(e,t,t.type,t.pendingProps,n);case 7:return Qt(e,t,t.pendingProps,n),t.child;case 8:return Qt(e,t,t.pendingProps.children,n),t.child;case 12:return Qt(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,La(t,t.type,r.value),Qt(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,bo(t),i=sn(i),r=r(i),t.flags|=1,Qt(e,t,r,n),t.child;case 14:return QA(e,t,t.type,t.pendingProps,n);case 15:return DR(e,t,t.type,t.pendingProps,n);case 19:return VR(e,t,n);case 31:return l9(e,t,n);case 22:return MR(e,t,n,t.pendingProps);case 24:return bo(t),r=sn(_t),e===null?(i=L_(),i===null&&(i=Me,a=M_(),i.pooledCache=a,a.refCount++,a!==null&&(i.pooledCacheLanes|=n),i=a),t.memoizedState={parent:r,cache:i},U_(t),La(t,_t,i)):(e.lanes&n&&(yb(e,t),$c(t,null,null,n),Bc()),i=e.memoizedState,a=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),La(t,_t,r)):(r=a.cache,La(t,_t,r),r!==i.cache&&pb(t,[_t],n,!0))),Qt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(z(156,t.tag))}function Ii(e){e.flags|=4}function Yv(e,t,n,r,i){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(uj())e.flags|=8192;else throw lo=Fm,V_}else e.flags&=-16777217}function iT(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!Rj(t))if(uj())e.flags|=8192;else throw lo=Fm,V_}function Eh(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?cP():536870912,e.lanes|=t,Kl|=t)}function oc(e,t){if(!xe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Be(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function c9(e,t,n){var r=t.pendingProps;switch(D_(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(t),null;case 1:return Be(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Gi(_t),Bl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Qo(t)?Ii(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Uv())),Be(t),null;case 26:var i=t.type,a=t.memoizedState;return e===null?(Ii(t),a!==null?(Be(t),iT(t,a)):(Be(t),Yv(t,i,null,r,n))):a?a!==e.memoizedState?(Ii(t),Be(t),iT(t,a)):(Be(t),t.flags&=-16777217):(e=e.memoizedProps,e!==r&&Ii(t),Be(t),Yv(t,i,e,r,n)),null;case 27:if(Mm(t),n=es.current,i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Ii(t);else{if(!r){if(t.stateNode===null)throw Error(z(166));return Be(t),null}e=li.current,Qo(t)?jA(t):(e=Oj(i,r,n),t.stateNode=e,Ii(t))}return Be(t),null;case 5:if(Mm(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Ii(t);else{if(!r){if(t.stateNode===null)throw Error(z(166));return Be(t),null}if(a=li.current,Qo(t))jA(t);else{var s=rp(es.current);switch(a){case 1:a=s.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:a=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":a=s.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":a=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":a=s.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof r.is=="string"?s.createElement("select",{is:r.is}):s.createElement("select"),r.multiple?a.multiple=!0:r.size&&(a.size=r.size);break;default:a=typeof r.is=="string"?s.createElement(i,{is:r.is}):s.createElement(i)}}a[nn]=t,a[Fn]=r;e:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)a.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=a;e:switch(ln(a,i,r),i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Ii(t)}}return Be(t),Yv(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&Ii(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(z(166));if(e=es.current,Qo(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,i=rn,i!==null)switch(i.tag){case 27:case 5:r=i.memoizedProps}e[nn]=t,e=!!(e.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||Aj(e.nodeValue,n)),e||ys(t,!0)}else e=rp(e).createTextNode(r),e[nn]=t,t.stateNode=e}return Be(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(r=Qo(t),n!==null){if(e===null){if(!r)throw Error(z(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(z(557));e[nn]=t}else vo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Be(t),e=!1}else n=Uv(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Wn(t),t):(Wn(t),null);if(t.flags&128)throw Error(z(558))}return Be(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=Qo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(z(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(z(317));i[nn]=t}else vo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Be(t),i=!1}else i=Uv(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(Wn(t),t):(Wn(t),null)}return Wn(t),t.flags&128?(t.lanes=n,t):(n=r!==null,e=e!==null&&e.memoizedState!==null,n&&(r=t.child,i=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(i=r.alternate.memoizedState.cachePool.pool),a=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),a!==i&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Eh(t,t.updateQueue),Be(t),null);case 4:return Bl(),e===null&&lw(t.stateNode.containerInfo),Be(t),null;case 10:return Gi(t.type),Be(t),null;case 19:if(Ft(mt),r=t.memoizedState,r===null)return Be(t),null;if(i=(t.flags&128)!==0,a=r.rendering,a===null)if(i)oc(r,!1);else{if(ot!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Hm(e),a!==null){for(t.flags|=128,oc(r,!1),e=a.updateQueue,t.updateQueue=e,Eh(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)zP(n,e),n=n.sibling;return Ve(mt,mt.current&1|2),xe&&ki(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&nr()>Qm&&(t.flags|=128,i=!0,oc(r,!1),t.lanes=4194304)}else{if(!i)if(e=Hm(a),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,Eh(t,e),oc(r,!0),r.tail===null&&r.tailMode==="hidden"&&!a.alternate&&!xe)return Be(t),null}else 2*nr()-r.renderingStartTime>Qm&&n!==536870912&&(t.flags|=128,i=!0,oc(r,!1),t.lanes=4194304);r.isBackwards?(a.sibling=t.child,t.child=a):(e=r.last,e!==null?e.sibling=a:t.child=a,r.last=a)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=nr(),e.sibling=null,n=mt.current,Ve(mt,i?n&1|2:n&1),xe&&ki(t,r.treeForkCount),e):(Be(t),null);case 22:case 23:return Wn(t),z_(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?n&536870912&&!(t.flags&128)&&(Be(t),t.subtreeFlags&6&&(t.flags|=8192)):Be(t),n=t.updateQueue,n!==null&&Eh(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&Ft(oo),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Gi(_t),Be(t),null;case 25:return null;case 30:return null}throw Error(z(156,t.tag))}function f9(e,t){switch(D_(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Gi(_t),Bl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Mm(t),null;case 31:if(t.memoizedState!==null){if(Wn(t),t.alternate===null)throw Error(z(340));vo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Wn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(z(340));vo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ft(mt),null;case 4:return Bl(),null;case 10:return Gi(t.type),null;case 22:case 23:return Wn(t),z_(),e!==null&&Ft(oo),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Gi(_t),null;case 25:return null;default:return null}}function zR(e,t){switch(D_(t),t.tag){case 3:Gi(_t),Bl();break;case 26:case 27:case 5:Mm(t);break;case 4:Bl();break;case 31:t.memoizedState!==null&&Wn(t);break;case 13:Wn(t);break;case 19:Ft(mt);break;case 10:Gi(t.type);break;case 22:case 23:Wn(t),z_(),e!==null&&Ft(oo);break;case 24:Gi(_t)}}function sd(e,t){try{var n=t.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,s=n.inst;r=a(),s.destroy=r}n=n.next}while(n!==i)}}catch(o){Ie(t,t.return,o)}}function vs(e,t,n){try{var r=t.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var a=i.next;r=a;do{if((r.tag&e)===e){var s=r.inst,o=s.destroy;if(o!==void 0){s.destroy=void 0,i=t;var l=n,u=o;try{u()}catch(c){Ie(i,l,c)}}}r=r.next}while(r!==a)}}catch(c){Ie(t,t.return,c)}}function BR(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{XP(t,n)}catch(r){Ie(e,e.return,r)}}}function $R(e,t,n){n.props=wo(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){Ie(e,t,r)}}function qc(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n=="function"?e.refCleanup=n(r):n.current=r}}catch(i){Ie(e,t,i)}}function ii(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(i){Ie(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){Ie(e,t,i)}else n.current=null}function FR(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){Ie(e,e.return,i)}}function Wv(e,t,n){try{var r=e.stateNode;j9(r,e.type,n,t),r[Fn]=t}catch(i){Ie(e,e.return,i)}}function qR(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Is(e.type)||e.tag===4}function Xv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||qR(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Is(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Cb(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ui));else if(r!==4&&(r===27&&Is(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Cb(e,t,n),e=e.sibling;e!==null;)Cb(e,t,n),e=e.sibling}function Xm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&Is(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Xm(e,t,n),e=e.sibling;e!==null;)Xm(e,t,n),e=e.sibling}function HR(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ln(t,r,n),t[nn]=e,t[Fn]=n}catch(a){Ie(e,e.return,a)}}var Mi=!1,xt=!1,Qv=!1,aT=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function d9(e,t){if(e=e.containerInfo,Db=op,e=RP(e),I_(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,u=0,c=0,f=e,m=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(o=s+i),f!==a||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)m=f,f=p;for(;;){if(f===e)break t;if(m===n&&++u===i&&(o=s),m===a&&++c===r&&(l=s),(p=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=p}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Mb={focusedElem:e,selectionRange:n},op=!1,Bt=t;Bt!==null;)if(t=Bt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Bt=e;else for(;Bt!==null;){switch(t=Bt,a=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)i=e[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&a!==null){e=void 0,n=t,i=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var g=wo(n.type,i);e=r.getSnapshotBeforeUpdate(g,a),r.__reactInternalSnapshotBeforeUpdate=e}catch(_){Ie(n,n.return,_)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Vb(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Vb(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(z(163))}if(e=t.sibling,e!==null){e.return=t.return,Bt=e;break}Bt=t.return}}function GR(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Ri(e,n),r&4&&sd(5,n);break;case 1:if(Ri(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(s){Ie(n,n.return,s)}else{var i=wo(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){Ie(n,n.return,s)}}r&64&&BR(n),r&512&&qc(n,n.return);break;case 3:if(Ri(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{XP(e,t)}catch(s){Ie(n,n.return,s)}}break;case 27:t===null&&r&4&&HR(n);case 26:case 5:Ri(e,n),t===null&&r&4&&FR(n),r&512&&qc(n,n.return);break;case 12:Ri(e,n);break;case 31:Ri(e,n),r&4&&WR(e,n);break;case 13:Ri(e,n),r&4&&XR(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=_9.bind(null,n),B9(e,n))));break;case 22:if(r=n.memoizedState!==null||Mi,!r){t=t!==null&&t.memoizedState!==null||xt,i=Mi;var a=xt;Mi=r,(xt=t)&&!a?ji(e,n,(n.subtreeFlags&8772)!==0):Ri(e,n),Mi=i,xt=a}break;case 30:break;default:Ri(e,n)}}function KR(e){var t=e.alternate;t!==null&&(e.alternate=null,KR(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&S_(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Xe=null,Dn=!1;function Pi(e,t,n){for(n=n.child;n!==null;)YR(e,t,n),n=n.sibling}function YR(e,t,n){if(rr&&typeof rr.onCommitFiberUnmount=="function")try{rr.onCommitFiberUnmount(Jf,n)}catch{}switch(n.tag){case 26:xt||ii(n,t),Pi(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:xt||ii(n,t);var r=Xe,i=Dn;Is(n.type)&&(Xe=n.stateNode,Dn=!1),Pi(e,t,n),Yc(n.stateNode),Xe=r,Dn=i;break;case 5:xt||ii(n,t);case 6:if(r=Xe,i=Dn,Xe=null,Pi(e,t,n),Xe=r,Dn=i,Xe!==null)if(Dn)try{(Xe.nodeType===9?Xe.body:Xe.nodeName==="HTML"?Xe.ownerDocument.body:Xe).removeChild(n.stateNode)}catch(a){Ie(n,t,a)}else try{Xe.removeChild(n.stateNode)}catch(a){Ie(n,t,a)}break;case 18:Xe!==null&&(Dn?(e=Xe,vT(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Ql(e)):vT(Xe,n.stateNode));break;case 4:r=Xe,i=Dn,Xe=n.stateNode.containerInfo,Dn=!0,Pi(e,t,n),Xe=r,Dn=i;break;case 0:case 11:case 14:case 15:vs(2,n,t),xt||vs(4,n,t),Pi(e,t,n);break;case 1:xt||(ii(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"&&$R(n,t,r)),Pi(e,t,n);break;case 21:Pi(e,t,n);break;case 22:xt=(r=xt)||n.memoizedState!==null,Pi(e,t,n),xt=r;break;default:Pi(e,t,n)}}function WR(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ql(e)}catch(n){Ie(t,t.return,n)}}}function XR(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ql(e)}catch(n){Ie(t,t.return,n)}}function h9(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new aT),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new aT),t;default:throw Error(z(435,e.tag))}}function Sh(e,t){var n=h9(e);t.forEach(function(r){if(!n.has(r)){n.add(r);var i=w9.bind(null,e,r);r.then(i,i)}})}function jn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r],a=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 27:if(Is(o.type)){Xe=o.stateNode,Dn=!1;break e}break;case 5:Xe=o.stateNode,Dn=!1;break e;case 3:case 4:Xe=o.stateNode.containerInfo,Dn=!0;break e}o=o.return}if(Xe===null)throw Error(z(160));YR(a,s,i),Xe=null,Dn=!1,a=i.alternate,a!==null&&(a.return=null),i.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)QR(t,e),t=t.sibling}var Dr=null;function QR(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:jn(t,e),kn(e),r&4&&(vs(3,e,e.return),sd(3,e),vs(5,e,e.return));break;case 1:jn(t,e),kn(e),r&512&&(xt||n===null||ii(n,n.return)),r&64&&Mi&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var i=Dr;if(jn(t,e),kn(e),r&512&&(xt||n===null||ii(n,n.return)),r&4){var a=n!==null?n.memoizedState:null;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":a=i.getElementsByTagName("title")[0],(!a||a[nd]||a[nn]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=i.createElement(r),i.head.insertBefore(a,i.querySelector("head > title"))),ln(a,r,n),a[nn]=e,$t(a),r=a;break e;case"link":var s=AT("link","href",i).get(r+(n.href||""));if(s){for(var o=0;o<s.length;o++)if(a=s[o],a.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(o,1);break t}}a=i.createElement(r),ln(a,r,n),i.head.appendChild(a);break;case"meta":if(s=AT("meta","content",i).get(r+(n.content||""))){for(o=0;o<s.length;o++)if(a=s[o],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(o,1);break t}}a=i.createElement(r),ln(a,r,n),i.head.appendChild(a);break;default:throw Error(z(468,r))}a[nn]=e,$t(a),r=a}e.stateNode=r}else TT(i,e.type,e.stateNode);else e.stateNode=ST(i,r,e.memoizedProps);else a!==r?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,r===null?TT(i,e.type,e.stateNode):ST(i,r,e.memoizedProps)):r===null&&e.stateNode!==null&&Wv(e,e.memoizedProps,n.memoizedProps)}break;case 27:jn(t,e),kn(e),r&512&&(xt||n===null||ii(n,n.return)),n!==null&&r&4&&Wv(e,e.memoizedProps,n.memoizedProps);break;case 5:if(jn(t,e),kn(e),r&512&&(xt||n===null||ii(n,n.return)),e.flags&32){i=e.stateNode;try{Fl(i,"")}catch(g){Ie(e,e.return,g)}}r&4&&e.stateNode!=null&&(i=e.memoizedProps,Wv(e,i,n!==null?n.memoizedProps:i)),r&1024&&(Qv=!0);break;case 6:if(jn(t,e),kn(e),r&4){if(e.stateNode===null)throw Error(z(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(g){Ie(e,e.return,g)}}break;case 3:if(dm=null,i=Dr,Dr=ip(t.containerInfo),jn(t,e),Dr=i,kn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ql(t.containerInfo)}catch(g){Ie(e,e.return,g)}Qv&&(Qv=!1,ZR(e));break;case 4:r=Dr,Dr=ip(e.stateNode.containerInfo),jn(t,e),kn(e),Dr=r;break;case 12:jn(t,e),kn(e);break;case 31:jn(t,e),kn(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Sh(e,r)));break;case 13:jn(t,e),kn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(jg=nr()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Sh(e,r)));break;case 22:i=e.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,u=Mi,c=xt;if(Mi=u||i,xt=c||l,jn(t,e),xt=c,Mi=u,kn(e),r&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(n===null||l||Mi||xt||Ws(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){l=n=t;try{if(a=l.stateNode,i)s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{o=l.stateNode;var f=l.memoizedProps.style,m=f!=null&&f.hasOwnProperty("display")?f.display:null;o.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(g){Ie(l,l.return,g)}}}else if(t.tag===6){if(n===null){l=t;try{l.stateNode.nodeValue=i?"":l.memoizedProps}catch(g){Ie(l,l.return,g)}}}else if(t.tag===18){if(n===null){l=t;try{var p=l.stateNode;i?bT(p,!0):bT(l.stateNode,!1)}catch(g){Ie(l,l.return,g)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,Sh(e,n))));break;case 19:jn(t,e),kn(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Sh(e,r)));break;case 30:break;case 21:break;default:jn(t,e),kn(e)}}function kn(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if(qR(r)){n=r;break}r=r.return}if(n==null)throw Error(z(160));switch(n.tag){case 27:var i=n.stateNode,a=Xv(e);Xm(e,a,i);break;case 5:var s=n.stateNode;n.flags&32&&(Fl(s,""),n.flags&=-33);var o=Xv(e);Xm(e,o,s);break;case 3:case 4:var l=n.stateNode.containerInfo,u=Xv(e);Cb(e,u,l);break;default:throw Error(z(161))}}catch(c){Ie(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ZR(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;ZR(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ri(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)GR(e,t.alternate,t),t=t.sibling}function Ws(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:vs(4,t,t.return),Ws(t);break;case 1:ii(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&$R(t,t.return,n),Ws(t);break;case 27:Yc(t.stateNode);case 26:case 5:ii(t,t.return),Ws(t);break;case 22:t.memoizedState===null&&Ws(t);break;case 30:Ws(t);break;default:Ws(t)}e=e.sibling}}function ji(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,i=e,a=t,s=a.flags;switch(a.tag){case 0:case 11:case 15:ji(i,a,n),sd(4,a);break;case 1:if(ji(i,a,n),r=a,i=r.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(u){Ie(r,r.return,u)}if(r=a,i=r.updateQueue,i!==null){var o=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(l!==null)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)WP(l[i],o)}catch(u){Ie(r,r.return,u)}}n&&s&64&&BR(a),qc(a,a.return);break;case 27:HR(a);case 26:case 5:ji(i,a,n),n&&r===null&&s&4&&FR(a),qc(a,a.return);break;case 12:ji(i,a,n);break;case 31:ji(i,a,n),n&&s&4&&WR(i,a);break;case 13:ji(i,a,n),n&&s&4&&XR(i,a);break;case 22:a.memoizedState===null&&ji(i,a,n),qc(a,a.return);break;case 30:break;default:ji(i,a,n)}t=t.sibling}}function nw(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&id(n))}function rw(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&id(e))}function kr(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)JR(e,t,n,r),t=t.sibling}function JR(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:kr(e,t,n,r),i&2048&&sd(9,t);break;case 1:kr(e,t,n,r);break;case 3:kr(e,t,n,r),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&id(e)));break;case 12:if(i&2048){kr(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,s=a.id,o=a.onPostCommit;typeof o=="function"&&o(s,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(l){Ie(t,t.return,l)}}else kr(e,t,n,r);break;case 31:kr(e,t,n,r);break;case 13:kr(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,s=t.alternate,t.memoizedState!==null?a._visibility&2?kr(e,t,n,r):Hc(e,t):a._visibility&2?kr(e,t,n,r):(a._visibility|=2,il(e,t,n,r,(t.subtreeFlags&10256)!==0||!1)),i&2048&&nw(s,t);break;case 24:kr(e,t,n,r),i&2048&&rw(t.alternate,t);break;default:kr(e,t,n,r)}}function il(e,t,n,r,i){for(i=i&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var a=e,s=t,o=n,l=r,u=s.flags;switch(s.tag){case 0:case 11:case 15:il(a,s,o,l,i),sd(8,s);break;case 23:break;case 22:var c=s.stateNode;s.memoizedState!==null?c._visibility&2?il(a,s,o,l,i):Hc(a,s):(c._visibility|=2,il(a,s,o,l,i)),i&&u&2048&&nw(s.alternate,s);break;case 24:il(a,s,o,l,i),i&&u&2048&&rw(s.alternate,s);break;default:il(a,s,o,l,i)}t=t.sibling}}function Hc(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Hc(n,r),i&2048&&nw(r.alternate,r);break;case 24:Hc(n,r),i&2048&&rw(r.alternate,r);break;default:Hc(n,r)}t=t.sibling}}var Ac=8192;function Zo(e,t,n){if(e.subtreeFlags&Ac)for(e=e.child;e!==null;)ej(e,t,n),e=e.sibling}function ej(e,t,n){switch(e.tag){case 26:Zo(e,t,n),e.flags&Ac&&e.memoizedState!==null&&J9(n,Dr,e.memoizedState,e.memoizedProps);break;case 5:Zo(e,t,n);break;case 3:case 4:var r=Dr;Dr=ip(e.stateNode.containerInfo),Zo(e,t,n),Dr=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=Ac,Ac=16777216,Zo(e,t,n),Ac=r):Zo(e,t,n));break;default:Zo(e,t,n)}}function tj(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function lc(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];Bt=r,rj(r,e)}tj(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)nj(e),e=e.sibling}function nj(e){switch(e.tag){case 0:case 11:case 15:lc(e),e.flags&2048&&vs(9,e,e.return);break;case 3:lc(e);break;case 12:lc(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,cm(e)):lc(e);break;default:lc(e)}}function cm(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];Bt=r,rj(r,e)}tj(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:vs(8,t,t.return),cm(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,cm(t));break;default:cm(t)}e=e.sibling}}function rj(e,t){for(;Bt!==null;){var n=Bt;switch(n.tag){case 0:case 11:case 15:vs(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:id(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,Bt=r;else e:for(n=e;Bt!==null;){r=Bt;var i=r.sibling,a=r.return;if(KR(r),r===n){Bt=null;break e}if(i!==null){i.return=a,Bt=i;break e}Bt=a}}}var m9={getCacheForType:function(e){var t=sn(_t),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return sn(_t).controller.signal}},p9=typeof WeakMap=="function"?WeakMap:Map,Se=0,Me=null,me=null,ve=0,Ce=0,Yn=null,Wa=!1,vu=!1,iw=!1,na=0,ot=0,bs=0,uo=0,aw=0,Zn=0,Kl=0,Gc=null,Mn=null,Ob=!1,jg=0,ij=0,Qm=1/0,Zm=null,is=null,Ct=0,as=null,Yl=null,Ki=0,Ib=0,Pb=null,aj=null,Kc=0,Rb=null;function ar(){return Se&2&&ve!==0?ve&-ve:ie.T!==null?ow():mP()}function sj(){if(Zn===0)if(!(ve&536870912)||xe){var e=gh;gh<<=1,!(gh&3932160)&&(gh=262144),Zn=e}else Zn=536870912;return e=ur.current,e!==null&&(e.flags|=32),Zn}function Bn(e,t,n){(e===Me&&(Ce===2||Ce===9)||e.cancelPendingCommit!==null)&&(Wl(e,0),Xa(e,ve,Zn,!1)),td(e,n),(!(Se&2)||e!==Me)&&(e===Me&&(!(Se&2)&&(uo|=n),ot===4&&Xa(e,ve,Zn,!1)),Si(e))}function oj(e,t,n){if(Se&6)throw Error(z(327));var r=!n&&(t&127)===0&&(t&e.expiredLanes)===0||ed(e,t),i=r?v9(e,t):Zv(e,t,!0),a=r;do{if(i===0){vu&&!r&&Xa(e,t,0,!1);break}else{if(n=e.current.alternate,a&&!g9(n)){i=Zv(e,t,!1),a=!1;continue}if(i===2){if(a=t,e.errorRecoveryDisabledLanes&a)var s=0;else s=e.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){t=s;e:{var o=e;i=Gc;var l=o.current.memoizedState.isDehydrated;if(l&&(Wl(o,s).flags|=256),s=Zv(o,s,!1),s!==2){if(iw&&!l){o.errorRecoveryDisabledLanes|=a,uo|=a,i=4;break e}a=Mn,Mn=i,a!==null&&(Mn===null?Mn=a:Mn.push.apply(Mn,a))}i=s}if(a=!1,i!==2)continue}}if(i===1){Wl(e,0),Xa(e,t,0,!0);break}e:{switch(r=e,a=i,a){case 0:case 1:throw Error(z(345));case 4:if((t&4194048)!==t)break;case 6:Xa(r,t,Zn,!Wa);break e;case 2:Mn=null;break;case 3:case 5:break;default:throw Error(z(329))}if((t&62914560)===t&&(i=jg+300-nr(),10<i)){if(Xa(r,t,Zn,!Wa),wg(r,0,!0)!==0)break e;Ki=t,r.timeoutHandle=Nj(sT.bind(null,r,n,Mn,Zm,Ob,t,Zn,uo,Kl,Wa,a,"Throttled",-0,0),i);break e}sT(r,n,Mn,Zm,Ob,t,Zn,uo,Kl,Wa,a,null,-0,0)}}break}while(!0);Si(e)}function sT(e,t,n,r,i,a,s,o,l,u,c,f,m,p){if(e.timeoutHandle=-1,f=t.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ui},ej(t,a,f);var g=(a&62914560)===a?jg-nr():(a&4194048)===a?ij-nr():0;if(g=eB(f,g),g!==null){Ki=a,e.cancelPendingCommit=g(lT.bind(null,e,t,a,n,r,i,s,o,l,c,f,null,m,p)),Xa(e,a,s,!u);return}}lT(e,t,a,n,r,i,s,o,l)}function g9(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!lr(a(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xa(e,t,n,r){t&=~aw,t&=~uo,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-ir(i),s=1<<a;r[a]=-1,i&=~s}n!==0&&fP(e,n,t)}function kg(){return Se&6?!0:(od(0),!1)}function sw(){if(me!==null){if(Ce===0)var e=me.return;else e=me,zi=zo=null,H_(e),Pl=null,cf=0,e=me;for(;e!==null;)zR(e.alternate,e),e=e.return;me=null}}function Wl(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,M9(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Ki=0,sw(),Me=e,me=n=Hi(e.current,null),ve=t,Ce=0,Yn=null,Wa=!1,vu=ed(e,t),iw=!1,Kl=Zn=aw=uo=bs=ot=0,Mn=Gc=null,Ob=!1,t&8&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var i=31-ir(r),a=1<<i;t|=e[i],r&=~a}return na=t,Tg(),n}function lj(e,t){ce=null,ie.H=df,t===yu||t===Cg?(t=VA(),Ce=3):t===V_?(t=VA(),Ce=4):Ce=t===ew?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Yn=t,me===null&&(ot=1,Ym(e,vr(t,e.current)))}function uj(){var e=ur.current;return e===null?!0:(ve&4194048)===ve?Sr===null:(ve&62914560)===ve||ve&536870912?e===Sr:!1}function cj(){var e=ie.H;return ie.H=df,e===null?df:e}function fj(){var e=ie.A;return ie.A=m9,e}function Jm(){ot=4,Wa||(ve&4194048)!==ve&&ur.current!==null||(vu=!0),!(bs&134217727)&&!(uo&134217727)||Me===null||Xa(Me,ve,Zn,!1)}function Zv(e,t,n){var r=Se;Se|=2;var i=cj(),a=fj();(Me!==e||ve!==t)&&(Zm=null,Wl(e,t)),t=!1;var s=ot;e:do try{if(Ce!==0&&me!==null){var o=me,l=Yn;switch(Ce){case 8:sw(),s=6;break e;case 3:case 2:case 9:case 6:ur.current===null&&(t=!0);var u=Ce;if(Ce=0,Yn=null,wl(e,o,l,u),n&&vu){s=0;break e}break;default:u=Ce,Ce=0,Yn=null,wl(e,o,l,u)}}y9(),s=ot;break}catch(c){lj(e,c)}while(!0);return t&&e.shellSuspendCounter++,zi=zo=null,Se=r,ie.H=i,ie.A=a,me===null&&(Me=null,ve=0,Tg()),s}function y9(){for(;me!==null;)dj(me)}function v9(e,t){var n=Se;Se|=2;var r=cj(),i=fj();Me!==e||ve!==t?(Zm=null,Qm=nr()+500,Wl(e,t)):vu=ed(e,t);e:do try{if(Ce!==0&&me!==null){t=me;var a=Yn;t:switch(Ce){case 1:Ce=0,Yn=null,wl(e,t,a,1);break;case 2:case 9:if(LA(a)){Ce=0,Yn=null,oT(t);break}t=function(){Ce!==2&&Ce!==9||Me!==e||(Ce=7),Si(e)},a.then(t,t);break e;case 3:Ce=7;break e;case 4:Ce=5;break e;case 7:LA(a)?(Ce=0,Yn=null,oT(t)):(Ce=0,Yn=null,wl(e,t,a,7));break;case 5:var s=null;switch(me.tag){case 26:s=me.memoizedState;case 5:case 27:var o=me;if(s?Rj(s):o.stateNode.complete){Ce=0,Yn=null;var l=o.sibling;if(l!==null)me=l;else{var u=o.return;u!==null?(me=u,Dg(u)):me=null}break t}}Ce=0,Yn=null,wl(e,t,a,5);break;case 6:Ce=0,Yn=null,wl(e,t,a,6);break;case 8:sw(),ot=6;break e;default:throw Error(z(462))}}b9();break}catch(c){lj(e,c)}while(!0);return zi=zo=null,ie.H=r,ie.A=i,Se=n,me!==null?0:(Me=null,ve=0,Tg(),ot)}function b9(){for(;me!==null&&!$U();)dj(me)}function dj(e){var t=UR(e.alternate,e,na);e.memoizedProps=e.pendingProps,t===null?Dg(e):me=t}function oT(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=eT(n,t,t.pendingProps,t.type,void 0,ve);break;case 11:t=eT(n,t,t.pendingProps,t.type.render,t.ref,ve);break;case 5:H_(t);default:zR(n,t),t=me=zP(t,na),t=UR(n,t,na)}e.memoizedProps=e.pendingProps,t===null?Dg(e):me=t}function wl(e,t,n,r){zi=zo=null,H_(t),Pl=null,cf=0;var i=t.return;try{if(o9(e,i,t,n,ve)){ot=1,Ym(e,vr(n,e.current)),me=null;return}}catch(a){if(i!==null)throw me=i,a;ot=1,Ym(e,vr(n,e.current)),me=null;return}t.flags&32768?(xe||r===1?e=!0:vu||ve&536870912?e=!1:(Wa=e=!0,(r===2||r===9||r===3||r===6)&&(r=ur.current,r!==null&&r.tag===13&&(r.flags|=16384))),hj(t,e)):Dg(t)}function Dg(e){var t=e;do{if(t.flags&32768){hj(t,Wa);return}e=t.return;var n=c9(t.alternate,t,na);if(n!==null){me=n;return}if(t=t.sibling,t!==null){me=t;return}me=t=e}while(t!==null);ot===0&&(ot=5)}function hj(e,t){do{var n=f9(e.alternate,e);if(n!==null){n.flags&=32767,me=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){me=e;return}me=e=n}while(e!==null);ot=6,me=null}function lT(e,t,n,r,i,a,s,o,l){e.cancelPendingCommit=null;do Mg();while(Ct!==0);if(Se&6)throw Error(z(327));if(t!==null){if(t===e.current)throw Error(z(177));if(a=t.lanes|t.childLanes,a|=P_,ZU(e,n,a,s,o,l),e===Me&&(me=Me=null,ve=0),Yl=t,as=e,Ki=n,Ib=a,Pb=i,aj=r,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,E9(Lm,function(){return vj(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,t.subtreeFlags&13878||r){r=ie.T,ie.T=null,i=Ae.p,Ae.p=2,s=Se,Se|=4;try{d9(e,t,n)}finally{Se=s,Ae.p=i,ie.T=r}}Ct=1,mj(),pj(),gj()}}function mj(){if(Ct===1){Ct=0;var e=as,t=Yl,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=ie.T,ie.T=null;var r=Ae.p;Ae.p=2;var i=Se;Se|=4;try{QR(t,e);var a=Mb,s=RP(e.containerInfo),o=a.focusedElem,l=a.selectionRange;if(s!==o&&o&&o.ownerDocument&&PP(o.ownerDocument.documentElement,o)){if(l!==null&&I_(o)){var u=l.start,c=l.end;if(c===void 0&&(c=u),"selectionStart"in o)o.selectionStart=u,o.selectionEnd=Math.min(c,o.value.length);else{var f=o.ownerDocument||document,m=f&&f.defaultView||window;if(m.getSelection){var p=m.getSelection(),g=o.textContent.length,_=Math.min(l.start,g),y=l.end===void 0?_:Math.min(l.end,g);!p.extend&&_>y&&(s=y,y=_,_=s);var w=IA(o,_),x=IA(o,y);if(w&&x&&(p.rangeCount!==1||p.anchorNode!==w.node||p.anchorOffset!==w.offset||p.focusNode!==x.node||p.focusOffset!==x.offset)){var S=f.createRange();S.setStart(w.node,w.offset),p.removeAllRanges(),_>y?(p.addRange(S),p.extend(x.node,x.offset)):(S.setEnd(x.node,x.offset),p.addRange(S))}}}}for(f=[],p=o;p=p.parentNode;)p.nodeType===1&&f.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<f.length;o++){var N=f[o];N.element.scrollLeft=N.left,N.element.scrollTop=N.top}}op=!!Db,Mb=Db=null}finally{Se=i,Ae.p=r,ie.T=n}}e.current=t,Ct=2}}function pj(){if(Ct===2){Ct=0;var e=as,t=Yl,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=ie.T,ie.T=null;var r=Ae.p;Ae.p=2;var i=Se;Se|=4;try{GR(e,t.alternate,t)}finally{Se=i,Ae.p=r,ie.T=n}}Ct=3}}function gj(){if(Ct===4||Ct===3){Ct=0,FU();var e=as,t=Yl,n=Ki,r=aj;t.subtreeFlags&10256||t.flags&10256?Ct=5:(Ct=0,Yl=as=null,yj(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(is=null),E_(n),t=t.stateNode,rr&&typeof rr.onCommitFiberRoot=="function")try{rr.onCommitFiberRoot(Jf,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=ie.T,i=Ae.p,Ae.p=2,ie.T=null;try{for(var a=e.onRecoverableError,s=0;s<r.length;s++){var o=r[s];a(o.value,{componentStack:o.stack})}}finally{ie.T=t,Ae.p=i}}Ki&3&&Mg(),Si(e),i=e.pendingLanes,n&261930&&i&42?e===Rb?Kc++:(Kc=0,Rb=e):Kc=0,od(0)}}function yj(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,id(t)))}function Mg(){return mj(),pj(),gj(),vj()}function vj(){if(Ct!==5)return!1;var e=as,t=Ib;Ib=0;var n=E_(Ki),r=ie.T,i=Ae.p;try{Ae.p=32>n?32:n,ie.T=null,n=Pb,Pb=null;var a=as,s=Ki;if(Ct=0,Yl=as=null,Ki=0,Se&6)throw Error(z(331));var o=Se;if(Se|=4,nj(a.current),JR(a,a.current,s,n),Se=o,od(0,!1),rr&&typeof rr.onPostCommitFiberRoot=="function")try{rr.onPostCommitFiberRoot(Jf,a)}catch{}return!0}finally{Ae.p=i,ie.T=r,yj(e,t)}}function uT(e,t,n){t=vr(n,t),t=Ab(e.stateNode,t,2),e=rs(e,t,2),e!==null&&(td(e,2),Si(e))}function Ie(e,t,n){if(e.tag===3)uT(e,e,n);else for(;t!==null;){if(t.tag===3){uT(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(is===null||!is.has(r))){e=vr(n,e),n=jR(2),r=rs(t,n,2),r!==null&&(kR(n,r,t,e),td(r,2),Si(r));break}}t=t.return}}function Jv(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new p9;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(iw=!0,i.add(n),e=x9.bind(null,e,t,n),t.then(e,e))}function x9(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Me===e&&(ve&n)===n&&(ot===4||ot===3&&(ve&62914560)===ve&&300>nr()-jg?!(Se&2)&&Wl(e,0):aw|=n,Kl===ve&&(Kl=0)),Si(e)}function bj(e,t){t===0&&(t=cP()),e=Uo(e,t),e!==null&&(td(e,t),Si(e))}function _9(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),bj(e,n)}function w9(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(z(314))}r!==null&&r.delete(t),bj(e,n)}function E9(e,t){return __(e,t)}var ep=null,al=null,jb=!1,tp=!1,e0=!1,Qa=0;function Si(e){e!==al&&e.next===null&&(al===null?ep=al=e:al=al.next=e),tp=!0,jb||(jb=!0,A9())}function od(e,t){if(!e0&&tp){e0=!0;do for(var n=!1,r=ep;r!==null;){if(e!==0){var i=r.pendingLanes;if(i===0)var a=0;else{var s=r.suspendedLanes,o=r.pingedLanes;a=(1<<31-ir(42|e)+1)-1,a&=i&~(s&~o),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,cT(r,a))}else a=ve,a=wg(r,r===Me?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(a&3)||ed(r,a)||(n=!0,cT(r,a));r=r.next}while(n);e0=!1}}function S9(){xj()}function xj(){tp=jb=!1;var e=0;Qa!==0&&D9()&&(e=Qa);for(var t=nr(),n=null,r=ep;r!==null;){var i=r.next,a=_j(r,t);a===0?(r.next=null,n===null?ep=i:n.next=i,i===null&&(al=n)):(n=r,(e!==0||a&3)&&(tp=!0)),r=i}Ct!==0&&Ct!==5||od(e),Qa!==0&&(Qa=0)}function _j(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes&-62914561;0<a;){var s=31-ir(a),o=1<<s,l=i[s];l===-1?(!(o&n)||o&r)&&(i[s]=QU(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}if(t=Me,n=ve,n=wg(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(Ce===2||Ce===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Cv(r),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||ed(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&Cv(r),E_(n)){case 2:case 8:n=lP;break;case 32:n=Lm;break;case 268435456:n=uP;break;default:n=Lm}return r=wj.bind(null,e),n=__(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&Cv(r),e.callbackPriority=2,e.callbackNode=null,2}function wj(e,t){if(Ct!==0&&Ct!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Mg()&&e.callbackNode!==n)return null;var r=ve;return r=wg(e,e===Me?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(oj(e,r,t),_j(e,nr()),e.callbackNode!=null&&e.callbackNode===n?wj.bind(null,e):null)}function cT(e,t){if(Mg())return null;oj(e,t,!0)}function A9(){L9(function(){Se&6?__(oP,S9):xj()})}function ow(){if(Qa===0){var e=ql;e===0&&(e=ph,ph<<=1,!(ph&261888)&&(ph=256)),Qa=e}return Qa}function fT(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:tm(""+e)}function dT(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function T9(e,t,n,r,i){if(t==="submit"&&n&&n.stateNode===i){var a=fT((i[Fn]||null).action),s=r.submitter;s&&(t=(t=s[Fn]||null)?fT(t.formAction):s.getAttribute("formAction"),t!==null&&(a=t,s=null));var o=new Eg("action","action",null,r,i);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Qa!==0){var l=s?dT(i,s):new FormData(i);Eb(n,{pending:!0,data:l,method:i.method,action:a},null,l)}}else typeof a=="function"&&(o.preventDefault(),l=s?dT(i,s):new FormData(i),Eb(n,{pending:!0,data:l,method:i.method,action:a},a,l))},currentTarget:i}]})}}for(var t0=0;t0<fb.length;t0++){var n0=fb[t0],N9=n0.toLowerCase(),C9=n0[0].toUpperCase()+n0.slice(1);Kr(N9,"on"+C9)}Kr(kP,"onAnimationEnd");Kr(DP,"onAnimationIteration");Kr(MP,"onAnimationStart");Kr("dblclick","onDoubleClick");Kr("focusin","onFocus");Kr("focusout","onBlur");Kr(qz,"onTransitionRun");Kr(Hz,"onTransitionStart");Kr(Gz,"onTransitionCancel");Kr(LP,"onTransitionEnd");$l("onMouseEnter",["mouseout","mouseover"]);$l("onMouseLeave",["mouseout","mouseover"]);$l("onPointerEnter",["pointerout","pointerover"]);$l("onPointerLeave",["pointerout","pointerover"]);Mo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Mo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Mo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Mo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Mo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Mo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),O9=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hf));function Ej(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=u;try{a(i)}catch(c){Um(c)}i.currentTarget=null,a=l}else for(s=0;s<r.length;s++){if(o=r[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=u;try{a(i)}catch(c){Um(c)}i.currentTarget=null,a=l}}}}function he(e,t){var n=t[rb];n===void 0&&(n=t[rb]=new Set);var r=e+"__bubble";n.has(r)||(Sj(t,e,2,!1),n.add(r))}function r0(e,t,n){var r=0;t&&(r|=4),Sj(n,e,r,t)}var Ah="_reactListening"+Math.random().toString(36).slice(2);function lw(e){if(!e[Ah]){e[Ah]=!0,pP.forEach(function(n){n!=="selectionchange"&&(O9.has(n)||r0(n,!1,e),r0(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ah]||(t[Ah]=!0,r0("selectionchange",!1,t))}}function Sj(e,t,n,r){switch(Lj(t)){case 2:var i=rB;break;case 8:i=iB;break;default:i=dw}n=i.bind(null,t,n,e),i=void 0,!lb||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function i0(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&s.stateNode.containerInfo===i)return;s=s.return}for(;o!==null;){if(s=hl(o),s===null)return;if(l=s.tag,l===5||l===6||l===26||l===27){r=a=s;continue e}o=o.parentNode}}r=r.return}EP(function(){var u=a,c=T_(n),f=[];e:{var m=VP.get(e);if(m!==void 0){var p=Eg,g=e;switch(e){case"keypress":if(rm(n)===0)break e;case"keydown":case"keyup":p=wz;break;case"focusin":g="focus",p=jv;break;case"focusout":g="blur",p=jv;break;case"beforeblur":case"afterblur":p=jv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=xA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=cz;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Az;break;case kP:case DP:case MP:p=hz;break;case LP:p=Nz;break;case"scroll":case"scrollend":p=lz;break;case"wheel":p=Oz;break;case"copy":case"cut":case"paste":p=pz;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=wA;break;case"toggle":case"beforetoggle":p=Pz}var _=(t&4)!==0,y=!_&&(e==="scroll"||e==="scrollend"),w=_?m!==null?m+"Capture":null:m;_=[];for(var x=u,S;x!==null;){var N=x;if(S=N.stateNode,N=N.tag,N!==5&&N!==26&&N!==27||S===null||w===null||(N=af(x,w),N!=null&&_.push(mf(x,N,S))),y)break;x=x.return}0<_.length&&(m=new p(m,g,null,n,c),f.push({event:m,listeners:_}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",m&&n!==ob&&(g=n.relatedTarget||n.fromElement)&&(hl(g)||g[mu]))break e;if((p||m)&&(m=c.window===c?c:(m=c.ownerDocument)?m.defaultView||m.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=u,g=g?hl(g):null,g!==null&&(y=Zf(g),_=g.tag,g!==y||_!==5&&_!==27&&_!==6)&&(g=null)):(p=null,g=u),p!==g)){if(_=xA,N="onMouseLeave",w="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(_=wA,N="onPointerLeave",w="onPointerEnter",x="pointer"),y=p==null?m:Ec(p),S=g==null?m:Ec(g),m=new _(N,x+"leave",p,n,c),m.target=y,m.relatedTarget=S,N=null,hl(c)===u&&(_=new _(w,x+"enter",g,n,c),_.target=S,_.relatedTarget=y,N=_),y=N,p&&g)t:{for(_=I9,w=p,x=g,S=0,N=w;N;N=_(N))S++;N=0;for(var P=x;P;P=_(P))N++;for(;0<S-N;)w=_(w),S--;for(;0<N-S;)x=_(x),N--;for(;S--;){if(w===x||x!==null&&w===x.alternate){_=w;break t}w=_(w),x=_(x)}_=null}else _=null;p!==null&&hT(f,m,p,_,!1),g!==null&&y!==null&&hT(f,y,g,_,!0)}}e:{if(m=u?Ec(u):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var O=TA;else if(AA(m))if(OP)O=Bz;else{O=Uz;var A=Vz}else p=m.nodeName,!p||p.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?u&&A_(u.elementType)&&(O=TA):O=zz;if(O&&(O=O(e,u))){CP(f,O,n,c);break e}A&&A(e,m,u),e==="focusout"&&u&&m.type==="number"&&u.memoizedProps.value!=null&&sb(m,"number",m.value)}switch(A=u?Ec(u):window,e){case"focusin":(AA(A)||A.contentEditable==="true")&&(gl=A,ub=u,Vc=null);break;case"focusout":Vc=ub=gl=null;break;case"mousedown":cb=!0;break;case"contextmenu":case"mouseup":case"dragend":cb=!1,PA(f,n,c);break;case"selectionchange":if(Fz)break;case"keydown":case"keyup":PA(f,n,c)}var T;if(O_)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else pl?TP(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(AP&&n.locale!=="ko"&&(pl||C!=="onCompositionStart"?C==="onCompositionEnd"&&pl&&(T=SP()):(Ya=c,N_="value"in Ya?Ya.value:Ya.textContent,pl=!0)),A=np(u,C),0<A.length&&(C=new _A(C,e,null,n,c),f.push({event:C,listeners:A}),T?C.data=T:(T=NP(n),T!==null&&(C.data=T)))),(T=jz?kz(e,n):Dz(e,n))&&(C=np(u,"onBeforeInput"),0<C.length&&(A=new _A("onBeforeInput","beforeinput",null,n,c),f.push({event:A,listeners:C}),A.data=T)),T9(f,e,u,n,c)}Ej(f,t)})}function mf(e,t,n){return{instance:e,listener:t,currentTarget:n}}function np(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=af(e,n),i!=null&&r.unshift(mf(e,i,a)),i=af(e,t),i!=null&&r.push(mf(e,i,a))),e.tag===3)return r;e=e.return}return[]}function I9(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function hT(e,t,n,r,i){for(var a=t._reactName,s=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(o=o.tag,l!==null&&l===r)break;o!==5&&o!==26&&o!==27||u===null||(l=u,i?(u=af(n,a),u!=null&&s.unshift(mf(n,u,l))):i||(u=af(n,a),u!=null&&s.push(mf(n,u,l)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var P9=/\r\n?/g,R9=/\u0000|\uFFFD/g;function mT(e){return(typeof e=="string"?e:""+e).replace(P9,`
`).replace(R9,"")}function Aj(e,t){return t=mT(t),mT(e)===t}function Pe(e,t,n,r,i,a){switch(n){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||Fl(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&Fl(e,""+r);break;case"className":vh(e,"class",r);break;case"tabIndex":vh(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":vh(e,n,r);break;case"style":wP(e,r,a);break;case"data":if(t!=="object"){vh(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=tm(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(t!=="input"&&Pe(e,t,"name",i.name,i,null),Pe(e,t,"formEncType",i.formEncType,i,null),Pe(e,t,"formMethod",i.formMethod,i,null),Pe(e,t,"formTarget",i.formTarget,i,null)):(Pe(e,t,"encType",i.encType,i,null),Pe(e,t,"method",i.method,i,null),Pe(e,t,"target",i.target,i,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=tm(""+r),e.setAttribute(n,r);break;case"onClick":r!=null&&(e.onclick=Ui);break;case"onScroll":r!=null&&he("scroll",e);break;case"onScrollEnd":r!=null&&he("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(z(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(z(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}n=tm(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":r===!0?e.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":he("beforetoggle",e),he("toggle",e),em(e,"popover",r);break;case"xlinkActuate":Oi(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Oi(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Oi(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Oi(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Oi(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Oi(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Oi(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Oi(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Oi(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":em(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=sz.get(n)||n,em(e,n,r))}}function kb(e,t,n,r,i,a){switch(n){case"style":wP(e,r,a);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(z(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(z(60));e.innerHTML=n}}break;case"children":typeof r=="string"?Fl(e,r):(typeof r=="number"||typeof r=="bigint")&&Fl(e,""+r);break;case"onScroll":r!=null&&he("scroll",e);break;case"onScrollEnd":r!=null&&he("scrollend",e);break;case"onClick":r!=null&&(e.onclick=Ui);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gP.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),a=e[Fn]||null,a=a!=null?a[n]:null,typeof a=="function"&&e.removeEventListener(t,a,i),typeof r=="function")){typeof a!="function"&&a!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i);break e}n in e?e[n]=r:r===!0?e.setAttribute(n,""):em(e,n,r)}}}function ln(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":he("error",e),he("load",e);var r=!1,i=!1,a;for(a in n)if(n.hasOwnProperty(a)){var s=n[a];if(s!=null)switch(a){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(z(137,t));default:Pe(e,t,a,s,n,null)}}i&&Pe(e,t,"srcSet",n.srcSet,n,null),r&&Pe(e,t,"src",n.src,n,null);return;case"input":he("invalid",e);var o=a=s=i=null,l=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var c=n[r];if(c!=null)switch(r){case"name":i=c;break;case"type":s=c;break;case"checked":l=c;break;case"defaultChecked":u=c;break;case"value":a=c;break;case"defaultValue":o=c;break;case"children":case"dangerouslySetInnerHTML":if(c!=null)throw Error(z(137,t));break;default:Pe(e,t,r,c,n,null)}}bP(e,a,o,l,u,s,i,!1);return;case"select":he("invalid",e),r=s=a=null;for(i in n)if(n.hasOwnProperty(i)&&(o=n[i],o!=null))switch(i){case"value":a=o;break;case"defaultValue":s=o;break;case"multiple":r=o;default:Pe(e,t,i,o,n,null)}t=a,n=s,e.multiple=!!r,t!=null?Cl(e,!!r,t,!1):n!=null&&Cl(e,!!r,n,!0);return;case"textarea":he("invalid",e),a=i=r=null;for(s in n)if(n.hasOwnProperty(s)&&(o=n[s],o!=null))switch(s){case"value":r=o;break;case"defaultValue":i=o;break;case"children":a=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(z(91));break;default:Pe(e,t,s,o,n,null)}_P(e,r,i,a);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Pe(e,t,l,r,n,null)}return;case"dialog":he("beforetoggle",e),he("toggle",e),he("cancel",e),he("close",e);break;case"iframe":case"object":he("load",e);break;case"video":case"audio":for(r=0;r<hf.length;r++)he(hf[r],e);break;case"image":he("error",e),he("load",e);break;case"details":he("toggle",e);break;case"embed":case"source":case"link":he("error",e),he("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(z(137,t));default:Pe(e,t,u,r,n,null)}return;default:if(A_(t)){for(c in n)n.hasOwnProperty(c)&&(r=n[c],r!==void 0&&kb(e,t,c,r,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(r=n[o],r!=null&&Pe(e,t,o,r,n,null))}function j9(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,s=null,o=null,l=null,u=null,c=null;for(p in n){var f=n[p];if(n.hasOwnProperty(p)&&f!=null)switch(p){case"checked":break;case"value":break;case"defaultValue":l=f;default:r.hasOwnProperty(p)||Pe(e,t,p,null,r,f)}}for(var m in r){var p=r[m];if(f=n[m],r.hasOwnProperty(m)&&(p!=null||f!=null))switch(m){case"type":a=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":c=p;break;case"value":s=p;break;case"defaultValue":o=p;break;case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(z(137,t));break;default:p!==f&&Pe(e,t,m,p,r,f)}}ab(e,s,o,l,u,c,a,i);return;case"select":p=s=o=m=null;for(a in n)if(l=n[a],n.hasOwnProperty(a)&&l!=null)switch(a){case"value":break;case"multiple":p=l;default:r.hasOwnProperty(a)||Pe(e,t,a,null,r,l)}for(i in r)if(a=r[i],l=n[i],r.hasOwnProperty(i)&&(a!=null||l!=null))switch(i){case"value":m=a;break;case"defaultValue":o=a;break;case"multiple":s=a;default:a!==l&&Pe(e,t,i,a,r,l)}t=o,n=s,r=p,m!=null?Cl(e,!!n,m,!1):!!r!=!!n&&(t!=null?Cl(e,!!n,t,!0):Cl(e,!!n,n?[]:"",!1));return;case"textarea":p=m=null;for(o in n)if(i=n[o],n.hasOwnProperty(o)&&i!=null&&!r.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:Pe(e,t,o,null,r,i)}for(s in r)if(i=r[s],a=n[s],r.hasOwnProperty(s)&&(i!=null||a!=null))switch(s){case"value":m=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(z(91));break;default:i!==a&&Pe(e,t,s,i,r,a)}xP(e,m,p);return;case"option":for(var g in n)if(m=n[g],n.hasOwnProperty(g)&&m!=null&&!r.hasOwnProperty(g))switch(g){case"selected":e.selected=!1;break;default:Pe(e,t,g,null,r,m)}for(l in r)if(m=r[l],p=n[l],r.hasOwnProperty(l)&&m!==p&&(m!=null||p!=null))switch(l){case"selected":e.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Pe(e,t,l,m,r,p)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _ in n)m=n[_],n.hasOwnProperty(_)&&m!=null&&!r.hasOwnProperty(_)&&Pe(e,t,_,null,r,m);for(u in r)if(m=r[u],p=n[u],r.hasOwnProperty(u)&&m!==p&&(m!=null||p!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(z(137,t));break;default:Pe(e,t,u,m,r,p)}return;default:if(A_(t)){for(var y in n)m=n[y],n.hasOwnProperty(y)&&m!==void 0&&!r.hasOwnProperty(y)&&kb(e,t,y,void 0,r,m);for(c in r)m=r[c],p=n[c],!r.hasOwnProperty(c)||m===p||m===void 0&&p===void 0||kb(e,t,c,m,r,p);return}}for(var w in n)m=n[w],n.hasOwnProperty(w)&&m!=null&&!r.hasOwnProperty(w)&&Pe(e,t,w,null,r,m);for(f in r)m=r[f],p=n[f],!r.hasOwnProperty(f)||m===p||m==null&&p==null||Pe(e,t,f,m,r,p)}function pT(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function k9(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],a=i.transferSize,s=i.initiatorType,o=i.duration;if(a&&o&&pT(s)){for(s=0,o=i.responseEnd,r+=1;r<n.length;r++){var l=n[r],u=l.startTime;if(u>o)break;var c=l.transferSize,f=l.initiatorType;c&&pT(f)&&(l=l.responseEnd,s+=c*(l<o?1:(o-u)/(l-u)))}if(--r,t+=8*(a+s)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Db=null,Mb=null;function rp(e){return e.nodeType===9?e:e.ownerDocument}function gT(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Tj(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Lb(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var a0=null;function D9(){var e=window.event;return e&&e.type==="popstate"?e===a0?!1:(a0=e,!0):(a0=null,!1)}var Nj=typeof setTimeout=="function"?setTimeout:void 0,M9=typeof clearTimeout=="function"?clearTimeout:void 0,yT=typeof Promise=="function"?Promise:void 0,L9=typeof queueMicrotask=="function"?queueMicrotask:typeof yT<"u"?function(e){return yT.resolve(null).then(e).catch(V9)}:Nj;function V9(e){setTimeout(function(){throw e})}function Is(e){return e==="head"}function vT(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(r===0){e.removeChild(i),Ql(t);return}r--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")r++;else if(n==="html")Yc(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Yc(n);for(var a=n.firstChild;a;){var s=a.nextSibling,o=a.nodeName;a[nd]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=s}}else n==="body"&&Yc(e.ownerDocument.body);n=i}while(n);Ql(t)}function bT(e,t){var n=e;e=0;do{var r=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=r}while(n)}function Vb(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Vb(n),S_(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function U9(e,t,n,r){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[nd])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(a=e.getAttribute("rel"),a==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(a!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(a=e.getAttribute("src"),(a!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var a=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===a)return e}else return e;if(e=Ar(e.nextSibling),e===null)break}return null}function z9(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Ar(e.nextSibling),e===null))return null;return e}function Cj(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Ar(e.nextSibling),e===null))return null;return e}function Ub(e){return e.data==="$?"||e.data==="$~"}function zb(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function B9(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function Ar(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Bb=null;function xT(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Ar(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function _T(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Oj(e,t,n){switch(t=rp(n),e){case"html":if(e=t.documentElement,!e)throw Error(z(452));return e;case"head":if(e=t.head,!e)throw Error(z(453));return e;case"body":if(e=t.body,!e)throw Error(z(454));return e;default:throw Error(z(451))}}function Yc(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);S_(e)}var Nr=new Map,wT=new Set;function ip(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var pa=Ae.d;Ae.d={f:$9,r:F9,D:q9,C:H9,L:G9,m:K9,X:W9,S:Y9,M:X9};function $9(){var e=pa.f(),t=kg();return e||t}function F9(e){var t=pu(e);t!==null&&t.tag===5&&t.type==="form"?wR(t):pa.r(e)}var bu=typeof document>"u"?null:document;function Ij(e,t,n){var r=bu;if(r&&typeof t=="string"&&t){var i=yr(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),wT.has(i)||(wT.add(i),e={rel:e,crossOrigin:n,href:t},r.querySelector(i)===null&&(t=r.createElement("link"),ln(t,"link",e),$t(t),r.head.appendChild(t)))}}function q9(e){pa.D(e),Ij("dns-prefetch",e,null)}function H9(e,t){pa.C(e,t),Ij("preconnect",e,t)}function G9(e,t,n){pa.L(e,t,n);var r=bu;if(r&&e&&t){var i='link[rel="preload"][as="'+yr(t)+'"]';t==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+yr(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+yr(n.imageSizes)+'"]')):i+='[href="'+yr(e)+'"]';var a=i;switch(t){case"style":a=Xl(e);break;case"script":a=xu(e)}Nr.has(a)||(e=Ge({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Nr.set(a,e),r.querySelector(i)!==null||t==="style"&&r.querySelector(ld(a))||t==="script"&&r.querySelector(ud(a))||(t=r.createElement("link"),ln(t,"link",e),$t(t),r.head.appendChild(t)))}}function K9(e,t){pa.m(e,t);var n=bu;if(n&&e){var r=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+yr(r)+'"][href="'+yr(e)+'"]',a=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=xu(e)}if(!Nr.has(a)&&(e=Ge({rel:"modulepreload",href:e},t),Nr.set(a,e),n.querySelector(i)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(ud(a)))return}r=n.createElement("link"),ln(r,"link",e),$t(r),n.head.appendChild(r)}}}function Y9(e,t,n){pa.S(e,t,n);var r=bu;if(r&&e){var i=Nl(r).hoistableStyles,a=Xl(e);t=t||"default";var s=i.get(a);if(!s){var o={loading:0,preload:null};if(s=r.querySelector(ld(a)))o.loading=5;else{e=Ge({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Nr.get(a))&&uw(e,n);var l=s=r.createElement("link");$t(l),ln(l,"link",e),l._p=new Promise(function(u,c){l.onload=u,l.onerror=c}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,fm(s,t,r)}s={type:"stylesheet",instance:s,count:1,state:o},i.set(a,s)}}}function W9(e,t){pa.X(e,t);var n=bu;if(n&&e){var r=Nl(n).hoistableScripts,i=xu(e),a=r.get(i);a||(a=n.querySelector(ud(i)),a||(e=Ge({src:e,async:!0},t),(t=Nr.get(i))&&cw(e,t),a=n.createElement("script"),$t(a),ln(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}function X9(e,t){pa.M(e,t);var n=bu;if(n&&e){var r=Nl(n).hoistableScripts,i=xu(e),a=r.get(i);a||(a=n.querySelector(ud(i)),a||(e=Ge({src:e,async:!0,type:"module"},t),(t=Nr.get(i))&&cw(e,t),a=n.createElement("script"),$t(a),ln(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}function ET(e,t,n,r){var i=(i=es.current)?ip(i):null;if(!i)throw Error(z(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Xl(n.href),n=Nl(i).hoistableStyles,r=n.get(t),r||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Xl(n.href);var a=Nl(i).hoistableStyles,s=a.get(e);if(s||(i=i.ownerDocument||i,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(e,s),(a=i.querySelector(ld(e)))&&!a._p&&(s.instance=a,s.state.loading=5),Nr.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Nr.set(e,n),a||Q9(i,e,n,s.state))),t&&r===null)throw Error(z(528,""));return s}if(t&&r!==null)throw Error(z(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=xu(n),n=Nl(i).hoistableScripts,r=n.get(t),r||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(z(444,e))}}function Xl(e){return'href="'+yr(e)+'"'}function ld(e){return'link[rel="stylesheet"]['+e+"]"}function Pj(e){return Ge({},e,{"data-precedence":e.precedence,precedence:null})}function Q9(e,t,n,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),ln(t,"link",n),$t(t),e.head.appendChild(t))}function xu(e){return'[src="'+yr(e)+'"]'}function ud(e){return"script[async]"+e}function ST(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+yr(n.href)+'"]');if(r)return t.instance=r,$t(r),r;var i=Ge({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),$t(r),ln(r,"style",i),fm(r,n.precedence,e),t.instance=r;case"stylesheet":i=Xl(n.href);var a=e.querySelector(ld(i));if(a)return t.state.loading|=4,t.instance=a,$t(a),a;r=Pj(n),(i=Nr.get(i))&&uw(r,i),a=(e.ownerDocument||e).createElement("link"),$t(a);var s=a;return s._p=new Promise(function(o,l){s.onload=o,s.onerror=l}),ln(a,"link",r),t.state.loading|=4,fm(a,n.precedence,e),t.instance=a;case"script":return a=xu(n.src),(i=e.querySelector(ud(a)))?(t.instance=i,$t(i),i):(r=n,(i=Nr.get(a))&&(r=Ge({},n),cw(r,i)),e=e.ownerDocument||e,i=e.createElement("script"),$t(i),ln(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(z(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(r=t.instance,t.state.loading|=4,fm(r,n.precedence,e));return t.instance}function fm(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,s=0;s<r.length;s++){var o=r[s];if(o.dataset.precedence===t)a=o;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function uw(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function cw(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var dm=null;function AT(e,t,n){if(dm===null){var r=new Map,i=dm=new Map;i.set(n,r)}else i=dm,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[nd]||a[nn]||e==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var s=a.getAttribute(t)||"";s=e+s;var o=r.get(s);o?o.push(a):r.set(s,[a])}}return r}function TT(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Z9(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Rj(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function J9(e,t,n,r){if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var i=Xl(r.href),a=t.querySelector(ld(i));if(a){t=a._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=ap.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=a,$t(a);return}a=t.ownerDocument||t,r=Pj(r),(i=Nr.get(i))&&uw(r,i),a=a.createElement("link"),$t(a);var s=a;s._p=new Promise(function(o,l){s.onload=o,s.onerror=l}),ln(a,"link",r),n.instance=a}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=ap.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var s0=0;function eB(e,t){return e.stylesheets&&e.count===0&&hm(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&hm(e,e.stylesheets),e.unsuspend){var a=e.unsuspend;e.unsuspend=null,a()}},6e4+t);0<e.imgBytes&&s0===0&&(s0=62500*k9());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&hm(e,e.stylesheets),e.unsuspend)){var a=e.unsuspend;e.unsuspend=null,a()}},(e.imgBytes>s0?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}function ap(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)hm(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var sp=null;function hm(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,sp=new Map,t.forEach(tB,e),sp=null,ap.call(e))}function tB(e,t){if(!(t.state.loading&4)){var n=sp.get(e);if(n)var r=n.get(null);else{n=new Map,sp.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var s=i[a];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}i=t.instance,s=i.getAttribute("data-precedence"),a=n.get(s)||r,a===r&&n.set(null,i),n.set(s,i),this.count++,r=ap.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var pf={$$typeof:Vi,Provider:null,Consumer:null,_currentValue:ao,_currentValue2:ao,_threadCount:0};function nB(e,t,n,r,i,a,s,o,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ov(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ov(0),this.hiddenUpdates=Ov(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function jj(e,t,n,r,i,a,s,o,l,u,c,f){return e=new nB(e,t,n,s,l,u,c,f,o),t=1,a===!0&&(t|=24),a=Xn(3,null,null,t),e.current=a,a.stateNode=e,t=M_(),t.refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},U_(a),e}function kj(e){return e?(e=bl,e):bl}function Dj(e,t,n,r,i,a){i=kj(i),r.context===null?r.context=i:r.pendingContext=i,r=ns(t),r.payload={element:n},a=a===void 0?null:a,a!==null&&(r.callback=a),n=rs(e,r,t),n!==null&&(Bn(n,e,t),zc(n,e,t))}function NT(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function fw(e,t){NT(e,t),(e=e.alternate)&&NT(e,t)}function Mj(e){if(e.tag===13||e.tag===31){var t=Uo(e,67108864);t!==null&&Bn(t,e,67108864),fw(e,67108864)}}function CT(e){if(e.tag===13||e.tag===31){var t=ar();t=w_(t);var n=Uo(e,t);n!==null&&Bn(n,e,t),fw(e,t)}}var op=!0;function rB(e,t,n,r){var i=ie.T;ie.T=null;var a=Ae.p;try{Ae.p=2,dw(e,t,n,r)}finally{Ae.p=a,ie.T=i}}function iB(e,t,n,r){var i=ie.T;ie.T=null;var a=Ae.p;try{Ae.p=8,dw(e,t,n,r)}finally{Ae.p=a,ie.T=i}}function dw(e,t,n,r){if(op){var i=$b(r);if(i===null)i0(e,t,r,lp,n),OT(e,r);else if(sB(i,e,t,n,r))r.stopPropagation();else if(OT(e,r),t&4&&-1<aB.indexOf(e)){for(;i!==null;){var a=pu(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var s=Ks(a.pendingLanes);if(s!==0){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var l=1<<31-ir(s);o.entanglements[1]|=l,s&=~l}Si(a),!(Se&6)&&(Qm=nr()+500,od(0))}}break;case 31:case 13:o=Uo(a,2),o!==null&&Bn(o,a,2),kg(),fw(a,2)}if(a=$b(r),a===null&&i0(e,t,r,lp,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else i0(e,t,r,null,n)}}function $b(e){return e=T_(e),hw(e)}var lp=null;function hw(e){if(lp=null,e=hl(e),e!==null){var t=Zf(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=nP(t),e!==null)return e;e=null}else if(n===31){if(e=rP(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return lp=e,null}function Lj(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qU()){case oP:return 2;case lP:return 8;case Lm:case HU:return 32;case uP:return 268435456;default:return 32}default:return 32}}var Fb=!1,ss=null,os=null,ls=null,gf=new Map,yf=new Map,za=[],aB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function OT(e,t){switch(e){case"focusin":case"focusout":ss=null;break;case"dragenter":case"dragleave":os=null;break;case"mouseover":case"mouseout":ls=null;break;case"pointerover":case"pointerout":gf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":yf.delete(t.pointerId)}}function uc(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=pu(t),t!==null&&Mj(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function sB(e,t,n,r,i){switch(t){case"focusin":return ss=uc(ss,e,t,n,r,i),!0;case"dragenter":return os=uc(os,e,t,n,r,i),!0;case"mouseover":return ls=uc(ls,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return gf.set(a,uc(gf.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,yf.set(a,uc(yf.get(a)||null,e,t,n,r,i)),!0}return!1}function Vj(e){var t=hl(e.target);if(t!==null){var n=Zf(t);if(n!==null){if(t=n.tag,t===13){if(t=nP(n),t!==null){e.blockedOn=t,hA(e.priority,function(){CT(n)});return}}else if(t===31){if(t=rP(n),t!==null){e.blockedOn=t,hA(e.priority,function(){CT(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function mm(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=$b(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ob=r,n.target.dispatchEvent(r),ob=null}else return t=pu(n),t!==null&&Mj(t),e.blockedOn=n,!1;t.shift()}return!0}function IT(e,t,n){mm(e)&&n.delete(t)}function oB(){Fb=!1,ss!==null&&mm(ss)&&(ss=null),os!==null&&mm(os)&&(os=null),ls!==null&&mm(ls)&&(ls=null),gf.forEach(IT),yf.forEach(IT)}function Th(e,t){e.blockedOn===t&&(e.blockedOn=null,Fb||(Fb=!0,It.unstable_scheduleCallback(It.unstable_NormalPriority,oB)))}var Nh=null;function PT(e){Nh!==e&&(Nh=e,It.unstable_scheduleCallback(It.unstable_NormalPriority,function(){Nh===e&&(Nh=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if(typeof r!="function"){if(hw(r||n)===null)continue;break}var a=pu(n);a!==null&&(e.splice(t,3),t-=3,Eb(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Ql(e){function t(l){return Th(l,e)}ss!==null&&Th(ss,e),os!==null&&Th(os,e),ls!==null&&Th(ls,e),gf.forEach(t),yf.forEach(t);for(var n=0;n<za.length;n++){var r=za[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<za.length&&(n=za[0],n.blockedOn===null);)Vj(n),n.blockedOn===null&&za.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],s=i[Fn]||null;if(typeof a=="function")s||PT(n);else if(s){var o=null;if(a&&a.hasAttribute("formAction")){if(i=a,s=a[Fn]||null)o=s.formAction;else if(hw(i)!==null)continue}else o=s.action;typeof o=="function"?n[r+1]=o:(n.splice(r,3),r-=3),PT(n)}}}function Uj(){function e(a){a.canIntercept&&a.info==="react-transition"&&a.intercept({handler:function(){return new Promise(function(s){return i=s})},focusReset:"manual",scroll:"manual"})}function t(){i!==null&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var a=navigation.currentEntry;a&&a.url!=null&&navigation.navigate(a.url,{state:a.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),i!==null&&(i(),i=null)}}}function mw(e){this._internalRoot=e}Lg.prototype.render=mw.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(z(409));var n=t.current,r=ar();Dj(n,r,e,t,null,null)};Lg.prototype.unmount=mw.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Dj(e.current,2,null,e,null,null),kg(),t[mu]=null}};function Lg(e){this._internalRoot=e}Lg.prototype.unstable_scheduleHydration=function(e){if(e){var t=mP();e={blockedOn:null,target:e,priority:t};for(var n=0;n<za.length&&t!==0&&t<za[n].priority;n++);za.splice(n,0,e),n===0&&Vj(e)}};var RT=eP.version;if(RT!=="19.2.3")throw Error(z(527,RT,"19.2.3"));Ae.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(z(188)):(e=Object.keys(e).join(","),Error(z(268,e)));return e=LU(t),e=e!==null?iP(e):null,e=e===null?null:e.stateNode,e};var lB={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:ie,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ch=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ch.isDisabled&&Ch.supportsFiber)try{Jf=Ch.inject(lB),rr=Ch}catch{}}xg.createRoot=function(e,t){if(!tP(e))throw Error(z(299));var n=!1,r="",i=IR,a=PR,s=RR;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(a=t.onCaughtError),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=jj(e,1,!1,null,null,n,r,null,i,a,s,Uj),e[mu]=t.current,lw(e),new mw(t)};xg.hydrateRoot=function(e,t,n){if(!tP(e))throw Error(z(299));var r=!1,i="",a=IR,s=PR,o=RR,l=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.formState!==void 0&&(l=n.formState)),t=jj(e,1,!0,t,n??null,r,i,l,a,s,o,Uj),t.context=kj(null),n=t.current,r=ar(),r=w_(r),i=ns(r),i.callback=null,rs(n,i,r),n=r,t.current.lanes=n,td(t,n),Si(t),e[mu]=t.current,lw(e),new Lg(t)};xg.version="19.2.3";function zj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zj)}catch(e){console.error(e)}}zj(),YI.exports=xg;var uB=YI.exports;/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var jT="popstate";function cB(e={}){function t(i,a){let{pathname:s="/",search:o="",hash:l=""}=Bo(i.location.hash.substring(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),qb("",{pathname:s,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let s=i.document.querySelector("base"),o="";if(s&&s.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");o=u===-1?l:l.slice(0,u)}return o+"#"+(typeof a=="string"?a:vf(a))}function r(i,a){$r(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return dB(t,n,r,e)}function tt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function $r(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function fB(){return Math.random().toString(36).substring(2,10)}function kT(e,t){return{usr:e.state,key:e.key,idx:t}}function qb(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Bo(t):t,state:n,key:t&&t.key||r||fB()}}function vf({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Bo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function dB(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,o="POP",l=null,u=c();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function c(){return(s.state||{idx:null}).idx}function f(){o="POP";let y=c(),w=y==null?null:y-u;u=y,l&&l({action:o,location:_.location,delta:w})}function m(y,w){o="PUSH";let x=qb(_.location,y,w);n&&n(x,y),u=c()+1;let S=kT(x,u),N=_.createHref(x);try{s.pushState(S,"",N)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(N)}a&&l&&l({action:o,location:_.location,delta:1})}function p(y,w){o="REPLACE";let x=qb(_.location,y,w);n&&n(x,y),u=c();let S=kT(x,u),N=_.createHref(x);s.replaceState(S,"",N),a&&l&&l({action:o,location:_.location,delta:0})}function g(y){return hB(y)}let _={get action(){return o},get location(){return e(i,s)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(jT,f),l=y,()=>{i.removeEventListener(jT,f),l=null}},createHref(y){return t(i,y)},createURL:g,encodeLocation(y){let w=g(y);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:m,replace:p,go(y){return s.go(y)}};return _}function hB(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),tt(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:vf(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Bj(e,t,n="/"){return mB(e,t,n,!1)}function mB(e,t,n,r){let i=typeof t=="string"?Bo(t):t,a=ra(i.pathname||"/",n);if(a==null)return null;let s=$j(e);pB(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let u=TB(a);o=SB(s[l],u,r)}return o}function $j(e,t=[],n=[],r="",i=!1){let a=(s,o,l=i,u)=>{let c={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};if(c.relativePath.startsWith("/")){if(!c.relativePath.startsWith(r)&&l)return;tt(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length)}let f=Yi([r,c.relativePath]),m=n.concat(c);s.children&&s.children.length>0&&(tt(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),$j(s.children,t,m,f,l)),!(s.path==null&&!s.index)&&t.push({path:f,score:wB(f,s.index),routesMeta:m})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))a(s,o);else for(let u of Fj(s.path))a(s,o,!0,u)}),t}function Fj(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=Fj(r.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function pB(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:EB(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var gB=/^:[\w-]+$/,yB=3,vB=2,bB=1,xB=10,_B=-2,DT=e=>e==="*";function wB(e,t){let n=e.split("/"),r=n.length;return n.some(DT)&&(r+=_B),t&&(r+=vB),n.filter(i=>!DT(i)).reduce((i,a)=>i+(gB.test(a)?yB:a===""?bB:xB),r)}function EB(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function SB(e,t,n=!1){let{routesMeta:r}=e,i={},a="/",s=[];for(let o=0;o<r.length;++o){let l=r[o],u=o===r.length-1,c=a==="/"?t:t.slice(a.length)||"/",f=up({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),m=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=up({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:Yi([a,f.pathname]),pathnameBase:IB(Yi([a,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(a=Yi([a,f.pathnameBase]))}return s}function up(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=AB(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((u,{paramName:c,isOptional:f},m)=>{if(c==="*"){let g=o[m]||"";s=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const p=o[m];return f&&!p?u[c]=void 0:u[c]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:s,pattern:e}}function AB(e,t=!1,n=!0){$r(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function TB(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return $r(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ra(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var NB=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function CB(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Bo(e):e,a;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?a=MT(n.substring(1),"/"):a=MT(n,t)):a=t,{pathname:a,search:PB(r),hash:RB(i)}}function MT(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function o0(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function OB(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function qj(e){let t=OB(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function Hj(e,t,n,r=!1){let i;typeof e=="string"?i=Bo(e):(i={...e},tt(!i.pathname||!i.pathname.includes("?"),o0("?","pathname","search",i)),tt(!i.pathname||!i.pathname.includes("#"),o0("#","pathname","hash",i)),tt(!i.search||!i.search.includes("#"),o0("#","search","hash",i)));let a=e===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=n;else{let f=t.length-1;if(!r&&s.startsWith("..")){let m=s.split("/");for(;m[0]==="..";)m.shift(),f-=1;i.pathname=m.join("/")}o=f>=0?t[f]:"/"}let l=CB(i,o),u=s&&s!=="/"&&s.endsWith("/"),c=(a||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}var Yi=e=>e.join("/").replace(/\/\/+/g,"/"),IB=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),PB=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,RB=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,jB=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function kB(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function DB(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Gj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Kj(e,t){let n=e;if(typeof n!="string"||!NB.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(Gj)try{let a=new URL(window.location.href),s=n.startsWith("//")?new URL(a.protocol+n):new URL(n),o=ra(s.pathname,t);s.origin===a.origin&&o!=null?n=o+s.search+s.hash:i=!0}catch{$r(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Yj=["POST","PUT","PATCH","DELETE"];new Set(Yj);var MB=["GET",...Yj];new Set(MB);var _u=b.createContext(null);_u.displayName="DataRouter";var Vg=b.createContext(null);Vg.displayName="DataRouterState";var LB=b.createContext(!1),Wj=b.createContext({isTransitioning:!1});Wj.displayName="ViewTransition";var VB=b.createContext(new Map);VB.displayName="Fetchers";var UB=b.createContext(null);UB.displayName="Await";var Pr=b.createContext(null);Pr.displayName="Navigation";var cd=b.createContext(null);cd.displayName="Location";var Ai=b.createContext({outlet:null,matches:[],isDataRoute:!1});Ai.displayName="Route";var pw=b.createContext(null);pw.displayName="RouteError";var Xj="REACT_ROUTER_ERROR",zB="REDIRECT",BB="ROUTE_ERROR_RESPONSE";function $B(e){if(e.startsWith(`${Xj}:${zB}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function FB(e){if(e.startsWith(`${Xj}:${BB}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new jB(t.status,t.statusText,t.data)}catch{}}function qB(e,{relative:t}={}){tt(fd(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=b.useContext(Pr),{hash:i,pathname:a,search:s}=dd(e,{relative:t}),o=a;return n!=="/"&&(o=a==="/"?n:Yi([n,a])),r.createHref({pathname:o,search:s,hash:i})}function fd(){return b.useContext(cd)!=null}function Ps(){return tt(fd(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(cd).location}var Qj="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Zj(e){b.useContext(Pr).static||b.useLayoutEffect(e)}function Ug(){let{isDataRoute:e}=b.useContext(Ai);return e?a8():HB()}function HB(){tt(fd(),"useNavigate() may be used only in the context of a <Router> component.");let e=b.useContext(_u),{basename:t,navigator:n}=b.useContext(Pr),{matches:r}=b.useContext(Ai),{pathname:i}=Ps(),a=JSON.stringify(qj(r)),s=b.useRef(!1);return Zj(()=>{s.current=!0}),b.useCallback((l,u={})=>{if($r(s.current,Qj),!s.current)return;if(typeof l=="number"){n.go(l);return}let c=Hj(l,JSON.parse(a),i,u.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:Yi([t,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[t,n,a,i,e])}var GB=b.createContext(null);function KB(e){let t=b.useContext(Ai).outlet;return b.useMemo(()=>t&&b.createElement(GB.Provider,{value:e},t),[t,e])}function dd(e,{relative:t}={}){let{matches:n}=b.useContext(Ai),{pathname:r}=Ps(),i=JSON.stringify(qj(n));return b.useMemo(()=>Hj(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function YB(e,t){return Jj(e,t)}function Jj(e,t,n,r,i){var x;tt(fd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=b.useContext(Pr),{matches:s}=b.useContext(Ai),o=s[s.length-1],l=o?o.params:{},u=o?o.pathname:"/",c=o?o.pathnameBase:"/",f=o&&o.route;{let S=f&&f.path||"";tk(u,!f||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let m=Ps(),p;if(t){let S=typeof t=="string"?Bo(t):t;tt(c==="/"||((x=S.pathname)==null?void 0:x.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${S.pathname}" was given in the \`location\` prop.`),p=S}else p=m;let g=p.pathname||"/",_=g;if(c!=="/"){let S=c.replace(/^\//,"").split("/");_="/"+g.replace(/^\//,"").split("/").slice(S.length).join("/")}let y=Bj(e,{pathname:_});$r(f||y!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),$r(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=JB(y&&y.map(S=>Object.assign({},S,{params:Object.assign({},l,S.params),pathname:Yi([c,a.encodeLocation?a.encodeLocation(S.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?c:Yi([c,a.encodeLocation?a.encodeLocation(S.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathnameBase])})),s,n,r,i);return t&&w?b.createElement(cd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},w):w}function WB(){let e=i8(),t=kB(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:a},"ErrorBoundary")," or"," ",b.createElement("code",{style:a},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),n?b.createElement("pre",{style:i},n):null,s)}var XB=b.createElement(WB,null),ek=class extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=FB(e.digest);n&&(e=n)}let t=e!==void 0?b.createElement(Ai.Provider,{value:this.props.routeContext},b.createElement(pw.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?b.createElement(QB,{error:e},t):t}};ek.contextType=LB;var l0=new WeakMap;function QB({children:e,error:t}){let{basename:n}=b.useContext(Pr);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let r=$B(t.digest);if(r){let i=l0.get(t);if(i)throw i;let a=Kj(r.location,n);if(Gj&&!l0.get(t))if(a.isExternal||r.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const s=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:r.replace}));throw l0.set(t,s),s}return b.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return e}function ZB({routeContext:e,match:t,children:n}){let r=b.useContext(_u);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),b.createElement(Ai.Provider,{value:e},n)}function JB(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,s=n==null?void 0:n.errors;if(s!=null){let c=a.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);tt(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,c+1))}let o=!1,l=-1;if(n)for(let c=0;c<a.length;c++){let f=a[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(l=c),f.route.id){let{loaderData:m,errors:p}=n,g=f.route.loader&&!m.hasOwnProperty(f.route.id)&&(!p||p[f.route.id]===void 0);if(f.route.lazy||g){o=!0,l>=0?a=a.slice(0,l+1):a=[a[0]];break}}}let u=n&&r?(c,f)=>{var m,p;r(c,{location:n.location,params:((p=(m=n.matches)==null?void 0:m[0])==null?void 0:p.params)??{},unstable_pattern:DB(n.matches),errorInfo:f})}:void 0;return a.reduceRight((c,f,m)=>{let p,g=!1,_=null,y=null;n&&(p=s&&f.route.id?s[f.route.id]:void 0,_=f.route.errorElement||XB,o&&(l<0&&m===0?(tk("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,y=null):l===m&&(g=!0,y=f.route.hydrateFallbackElement||null)));let w=t.concat(a.slice(0,m+1)),x=()=>{let S;return p?S=_:g?S=y:f.route.Component?S=b.createElement(f.route.Component,null):f.route.element?S=f.route.element:S=c,b.createElement(ZB,{match:f,routeContext:{outlet:c,matches:w,isDataRoute:n!=null},children:S})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?b.createElement(ek,{location:n.location,revalidation:n.revalidation,component:_,error:p,children:x(),routeContext:{outlet:null,matches:w,isDataRoute:!0},onError:u}):x()},null)}function gw(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function e8(e){let t=b.useContext(_u);return tt(t,gw(e)),t}function t8(e){let t=b.useContext(Vg);return tt(t,gw(e)),t}function n8(e){let t=b.useContext(Ai);return tt(t,gw(e)),t}function yw(e){let t=n8(e),n=t.matches[t.matches.length-1];return tt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function r8(){return yw("useRouteId")}function i8(){var r;let e=b.useContext(pw),t=t8("useRouteError"),n=yw("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function a8(){let{router:e}=e8("useNavigate"),t=yw("useNavigate"),n=b.useRef(!1);return Zj(()=>{n.current=!0}),b.useCallback(async(i,a={})=>{$r(n.current,Qj),n.current&&(typeof i=="number"?await e.navigate(i):await e.navigate(i,{fromRouteId:t,...a}))},[e,t])}var LT={};function tk(e,t,n){!t&&!LT[e]&&(LT[e]=!0,$r(!1,n))}b.memo(s8);function s8({routes:e,future:t,state:n,onError:r}){return Jj(e,void 0,n,r,t)}function o8(e){return KB(e.context)}function dt(e){tt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function l8({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:a=!1,unstable_useTransitions:s}){tt(!fd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),l=b.useMemo(()=>({basename:o,navigator:i,static:a,unstable_useTransitions:s,future:{}}),[o,i,a,s]);typeof n=="string"&&(n=Bo(n));let{pathname:u="/",search:c="",hash:f="",state:m=null,key:p="default"}=n,g=b.useMemo(()=>{let _=ra(u,o);return _==null?null:{location:{pathname:_,search:c,hash:f,state:m,key:p},navigationType:r}},[o,u,c,f,m,p,r]);return $r(g!=null,`<Router basename="${o}"> is not able to match the URL "${u}${c}${f}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:b.createElement(Pr.Provider,{value:l},b.createElement(cd.Provider,{children:t,value:g}))}function VT({children:e,location:t}){return YB(Hb(e),t)}function Hb(e,t=[]){let n=[];return b.Children.forEach(e,(r,i)=>{if(!b.isValidElement(r))return;let a=[...t,i];if(r.type===b.Fragment){n.push.apply(n,Hb(r.props.children,a));return}tt(r.type===dt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),tt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Hb(r.props.children,a)),n.push(s)}),n}var pm="get",gm="application/x-www-form-urlencoded";function zg(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function u8(e){return zg(e)&&e.tagName.toLowerCase()==="button"}function c8(e){return zg(e)&&e.tagName.toLowerCase()==="form"}function f8(e){return zg(e)&&e.tagName.toLowerCase()==="input"}function d8(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function h8(e,t){return e.button===0&&(!t||t==="_self")&&!d8(e)}var Oh=null;function m8(){if(Oh===null)try{new FormData(document.createElement("form"),0),Oh=!1}catch{Oh=!0}return Oh}var p8=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function u0(e){return e!=null&&!p8.has(e)?($r(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${gm}"`),null):e}function g8(e,t){let n,r,i,a,s;if(c8(e)){let o=e.getAttribute("action");r=o?ra(o,t):null,n=e.getAttribute("method")||pm,i=u0(e.getAttribute("enctype"))||gm,a=new FormData(e)}else if(u8(e)||f8(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||o.getAttribute("action");if(r=l?ra(l,t):null,n=e.getAttribute("formmethod")||o.getAttribute("method")||pm,i=u0(e.getAttribute("formenctype"))||u0(o.getAttribute("enctype"))||gm,a=new FormData(o,e),!m8()){let{name:u,type:c,value:f}=e;if(c==="image"){let m=u?`${u}.`:"";a.append(`${m}x`,"0"),a.append(`${m}y`,"0")}else u&&a.append(u,f)}}else{if(zg(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=pm,r=null,i=gm,s=e}return a&&i==="text/plain"&&(s=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function vw(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function y8(e,t,n,r){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${r}`:i.pathname=`${i.pathname}.${r}`:i.pathname==="/"?i.pathname=`_root.${r}`:t&&ra(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${r}`,i}async function v8(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function b8(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function x8(e,t,n){let r=await Promise.all(e.map(async i=>{let a=t.routes[i.route.id];if(a){let s=await v8(a,n);return s.links?s.links():[]}return[]}));return S8(r.flat(1).filter(b8).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function UT(e,t,n,r,i,a){let s=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,o=(l,u)=>{var c;return n[u].pathname!==l.pathname||((c=n[u].route.path)==null?void 0:c.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return a==="assets"?t.filter((l,u)=>s(l,u)||o(l,u)):a==="data"?t.filter((l,u)=>{var f;let c=r.routes[l.route.id];if(!c||!c.hasLoader)return!1;if(s(l,u)||o(l,u))return!0;if(l.route.shouldRevalidate){let m=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function _8(e,t,{includeHydrateFallback:n}={}){return w8(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function w8(e){return[...new Set(e)]}function E8(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function S8(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let a=JSON.stringify(E8(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function nk(){let e=b.useContext(_u);return vw(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function A8(){let e=b.useContext(Vg);return vw(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var bw=b.createContext(void 0);bw.displayName="FrameworkContext";function rk(){let e=b.useContext(bw);return vw(e,"You must render this element inside a <HydratedRouter> element"),e}function T8(e,t){let n=b.useContext(bw),[r,i]=b.useState(!1),[a,s]=b.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:f}=t,m=b.useRef(null);b.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let _=w=>{w.forEach(x=>{s(x.isIntersecting)})},y=new IntersectionObserver(_,{threshold:.5});return m.current&&y.observe(m.current),()=>{y.disconnect()}}},[e]),b.useEffect(()=>{if(r){let _=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(_)}}},[r]);let p=()=>{i(!0)},g=()=>{i(!1),s(!1)};return n?e!=="intent"?[a,m,{}]:[a,m,{onFocus:cc(o,p),onBlur:cc(l,g),onMouseEnter:cc(u,p),onMouseLeave:cc(c,g),onTouchStart:cc(f,p)}]:[!1,m,{}]}function cc(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function N8({page:e,...t}){let{router:n}=nk(),r=b.useMemo(()=>Bj(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?b.createElement(O8,{page:e,matches:r,...t}):null}function C8(e){let{manifest:t,routeModules:n}=rk(),[r,i]=b.useState([]);return b.useEffect(()=>{let a=!1;return x8(e,t,n).then(s=>{a||i(s)}),()=>{a=!0}},[e,t,n]),r}function O8({page:e,matches:t,...n}){let r=Ps(),{future:i,manifest:a,routeModules:s}=rk(),{basename:o}=nk(),{loaderData:l,matches:u}=A8(),c=b.useMemo(()=>UT(e,t,u,a,r,"data"),[e,t,u,a,r]),f=b.useMemo(()=>UT(e,t,u,a,r,"assets"),[e,t,u,a,r]),m=b.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let _=new Set,y=!1;if(t.forEach(x=>{var N;let S=a.routes[x.route.id];!S||!S.hasLoader||(!c.some(P=>P.route.id===x.route.id)&&x.route.id in l&&((N=s[x.route.id])!=null&&N.shouldRevalidate)||S.hasClientLoader?y=!0:_.add(x.route.id))}),_.size===0)return[];let w=y8(e,o,i.unstable_trailingSlashAwareDataRequests,"data");return y&&_.size>0&&w.searchParams.set("_routes",t.filter(x=>_.has(x.route.id)).map(x=>x.route.id).join(",")),[w.pathname+w.search]},[o,i.unstable_trailingSlashAwareDataRequests,l,r,a,c,t,e,s]),p=b.useMemo(()=>_8(f,a),[f,a]),g=C8(f);return b.createElement(b.Fragment,null,m.map(_=>b.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),p.map(_=>b.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),g.map(({key:_,link:y})=>b.createElement("link",{key:_,nonce:n.nonce,...y,crossOrigin:y.crossOrigin??n.crossOrigin})))}function I8(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var P8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{P8&&(window.__reactRouterVersion="7.13.0")}catch{}function R8({basename:e,children:t,unstable_useTransitions:n,window:r}){let i=b.useRef();i.current==null&&(i.current=cB({window:r,v5Compat:!0}));let a=i.current,[s,o]=b.useState({action:a.action,location:a.location}),l=b.useCallback(u=>{n===!1?o(u):b.startTransition(()=>o(u))},[n]);return b.useLayoutEffect(()=>a.listen(l),[a,l]),b.createElement(l8,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:a,unstable_useTransitions:n})}var ik=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,et=b.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:s,state:o,target:l,to:u,preventScrollReset:c,viewTransition:f,unstable_defaultShouldRevalidate:m,...p},g){let{basename:_,unstable_useTransitions:y}=b.useContext(Pr),w=typeof u=="string"&&ik.test(u),x=Kj(u,_);u=x.to;let S=qB(u,{relative:i}),[N,P,O]=T8(r,p),A=D8(u,{replace:s,state:o,target:l,preventScrollReset:c,relative:i,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:y});function T(k){t&&t(k),k.defaultPrevented||A(k)}let C=b.createElement("a",{...p,...O,href:x.absoluteURL||S,onClick:x.isExternal||a?t:T,ref:I8(g,P),target:l,"data-discover":!w&&n==="render"?"true":void 0});return N&&!w?b.createElement(b.Fragment,null,C,b.createElement(N8,{page:S})):C});et.displayName="Link";var Tn=b.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:s,viewTransition:o,children:l,...u},c){let f=dd(s,{relative:u.relative}),m=Ps(),p=b.useContext(Vg),{navigator:g,basename:_}=b.useContext(Pr),y=p!=null&&z8(f)&&o===!0,w=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,x=m.pathname,S=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(x=x.toLowerCase(),S=S?S.toLowerCase():null,w=w.toLowerCase()),S&&_&&(S=ra(S,_)||S);const N=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let P=x===w||!i&&x.startsWith(w)&&x.charAt(N)==="/",O=S!=null&&(S===w||!i&&S.startsWith(w)&&S.charAt(w.length)==="/"),A={isActive:P,isPending:O,isTransitioning:y},T=P?t:void 0,C;typeof r=="function"?C=r(A):C=[r,P?"active":null,O?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let k=typeof a=="function"?a(A):a;return b.createElement(et,{...u,"aria-current":T,className:C,ref:c,style:k,to:s,viewTransition:o},typeof l=="function"?l(A):l)});Tn.displayName="NavLink";var j8=b.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:a,method:s=pm,action:o,onSubmit:l,relative:u,preventScrollReset:c,viewTransition:f,unstable_defaultShouldRevalidate:m,...p},g)=>{let{unstable_useTransitions:_}=b.useContext(Pr),y=V8(),w=U8(o,{relative:u}),x=s.toLowerCase()==="get"?"get":"post",S=typeof o=="string"&&ik.test(o),N=P=>{if(l&&l(P),P.defaultPrevented)return;P.preventDefault();let O=P.nativeEvent.submitter,A=(O==null?void 0:O.getAttribute("formmethod"))||s,T=()=>y(O||P.currentTarget,{fetcherKey:t,method:A,navigate:n,replace:i,state:a,relative:u,preventScrollReset:c,viewTransition:f,unstable_defaultShouldRevalidate:m});_&&n!==!1?b.startTransition(()=>T()):T()};return b.createElement("form",{ref:g,method:x,action:w,onSubmit:r?l:N,...p,"data-discover":!S&&e==="render"?"true":void 0})});j8.displayName="Form";function k8(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ak(e){let t=b.useContext(_u);return tt(t,k8(e)),t}function D8(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:s,unstable_defaultShouldRevalidate:o,unstable_useTransitions:l}={}){let u=Ug(),c=Ps(),f=dd(e,{relative:a});return b.useCallback(m=>{if(h8(m,t)){m.preventDefault();let p=n!==void 0?n:vf(c)===vf(f),g=()=>u(e,{replace:p,state:r,preventScrollReset:i,relative:a,viewTransition:s,unstable_defaultShouldRevalidate:o});l?b.startTransition(()=>g()):g()}},[c,u,f,n,r,t,e,i,a,s,o,l])}var M8=0,L8=()=>`__${String(++M8)}__`;function V8(){let{router:e}=ak("useSubmit"),{basename:t}=b.useContext(Pr),n=r8(),r=e.fetch,i=e.navigate;return b.useCallback(async(a,s={})=>{let{action:o,method:l,encType:u,formData:c,body:f}=g8(a,t);if(s.navigate===!1){let m=s.fetcherKey||L8();await r(m,n,s.action||o,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:c,body:f,formMethod:s.method||l,formEncType:s.encType||u,flushSync:s.flushSync})}else await i(s.action||o,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:c,body:f,formMethod:s.method||l,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[r,i,t,n])}function U8(e,{relative:t}={}){let{basename:n}=b.useContext(Pr),r=b.useContext(Ai);tt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...dd(e||".",{relative:t})},s=Ps();if(e==null){a.search=s.search;let o=new URLSearchParams(a.search),l=o.getAll("index");if(l.some(c=>c==="")){o.delete("index"),l.filter(f=>f).forEach(f=>o.append("index",f));let c=o.toString();a.search=c?`?${c}`:""}}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Yi([n,a.pathname])),vf(a)}function z8(e,{relative:t}={}){let n=b.useContext(Wj);tt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=ak("useViewTransitionState"),i=dd(e,{relative:t});if(!n.isTransitioning)return!1;let a=ra(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=ra(n.nextLocation.pathname,r)||n.nextLocation.pathname;return up(i.pathname,s)!=null||up(i.pathname,a)!=null}const sk=b.createContext(),hd=()=>b.useContext(sk),B8=({children:e})=>{const[t,n]=b.useState(()=>{try{const u=localStorage.getItem("ambrosia_cart");return u?JSON.parse(u):[]}catch(u){return console.error("Failed to parse cart data:",u),[]}});b.useEffect(()=>{localStorage.setItem("ambrosia_cart",JSON.stringify(t))},[t]);const r=u=>{n(c=>{const f=c.find(m=>m.id===u.id);return f?f.quantity>=50?c:c.map(m=>m.id===u.id?{...m,quantity:m.quantity+1}:m):[...c,{...u,quantity:1}]})},i=u=>{n(c=>c.filter(f=>f.id!==u))},a=(u,c)=>{if(c<1){i(u);return}c>50||n(f=>f.map(m=>m.id===u?{...m,quantity:c}:m))},s=()=>n([]),o=t.reduce((u,c)=>u+c.price*c.quantity,0),l=t.reduce((u,c)=>u+c.quantity,0);return h.jsx(sk.Provider,{value:{cartItems:t,addToCart:r,removeFromCart:i,updateQuantity:a,clearCart:s,cartTotal:o,cartCount:l},children:e})},$8=()=>{};var zT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},F8=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[n++];t[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=e[n++],s=e[n++],o=e[n++],l=((i&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const a=e[n++],s=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return t.join("")},lk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const a=e[i],s=i+1<e.length,o=s?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=a>>2,f=(a&3)<<4|o>>4;let m=(o&15)<<2|u>>6,p=u&63;l||(p=64,s||(m=64)),r.push(n[c],n[f],n[m],n[p])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ok(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):F8(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const f=i<e.length?n[e.charAt(i)]:64;if(++i,a==null||o==null||u==null||f==null)throw new q8;const m=a<<2|o>>4;if(r.push(m),u!==64){const p=o<<4&240|u>>2;if(r.push(p),f!==64){const g=u<<6&192|f;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class q8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const H8=function(e){const t=ok(e);return lk.encodeByteArray(t,!0)},cp=function(e){return H8(e).replace(/\./g,"")},uk=function(e){try{return lk.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K8=()=>G8().__FIREBASE_DEFAULTS__,Y8=()=>{if(typeof process>"u"||typeof zT>"u")return;const e=zT.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},W8=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&uk(e[1]);return t&&JSON.parse(t)},Bg=()=>{try{return $8()||K8()||Y8()||W8()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},ck=e=>{var t,n;return(n=(t=Bg())==null?void 0:t.emulatorHosts)==null?void 0:n[e]},fk=e=>{const t=ck(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},dk=()=>{var e;return(e=Bg())==null?void 0:e.config},hk=e=>{var t;return(t=Bg())==null?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X8{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rs(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function xw(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mk(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...e};return[cp(JSON.stringify(n)),cp(JSON.stringify(s)),""].join(".")}const Wc={};function Q8(){const e={prod:[],emulator:[]};for(const t of Object.keys(Wc))Wc[t]?e.emulator.push(t):e.prod.push(t);return e}function Z8(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let BT=!1;function _w(e,t){if(typeof window>"u"||typeof document>"u"||!Rs(window.location.host)||Wc[e]===t||Wc[e]||BT)return;Wc[e]=t;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",a=Q8().prod.length>0;function s(){const m=document.getElementById(r);m&&m.remove()}function o(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function l(m,p){m.setAttribute("width","24"),m.setAttribute("id",p),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function u(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{BT=!0,s()},m}function c(m,p){m.setAttribute("id",p),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){const m=Z8(r),p=n("text"),g=document.getElementById(p)||document.createElement("span"),_=n("learnmore"),y=document.getElementById(_)||document.createElement("a"),w=n("preprendIcon"),x=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const S=m.element;o(S),c(y,_);const N=u();l(x,w),S.append(x,g,y,N),document.body.appendChild(S)}a?(g.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function J8(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bn())}function e$(){var t;const e=(t=Bg())==null?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function t$(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function n$(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function r$(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function i$(){const e=bn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function a$(){return!e$()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function s$(){try{return typeof indexedDB=="object"}catch{return!1}}function o$(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;t(((a=i.error)==null?void 0:a.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l$="FirebaseError";class Ti extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=l$,Object.setPrototypeOf(this,Ti.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,md.prototype.create)}}class md{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,a=this.errors[t],s=a?u$(a,r):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new Ti(i,o,r)}}function u$(e,t){return e.replace(c$,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const c$=/\{\$([^}]+)}/g;function f$(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Eo(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const a=e[i],s=t[i];if($T(a)&&$T(s)){if(!Eo(a,s))return!1}else if(a!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function $T(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pd(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Tc(e){const t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");t[decodeURIComponent(i)]=decodeURIComponent(a)}}),t}function Nc(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function d$(e,t){const n=new h$(e,t);return n.subscribe.bind(n)}class h${constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");m$(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=c0),i.error===void 0&&(i.error=c0),i.complete===void 0&&(i.complete=c0);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function m$(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function c0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(e){return e&&e._delegate?e._delegate:e}class xs{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let p$=class{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new X8;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(y$(t))try{this.getOrInitializeService({instanceIdentifier:Xs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(t=Xs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Xs){return this.instances.has(t)}getOptions(t=Xs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);r===o&&s.resolve(i)}return i}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(t),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&t(a,r),()=>{i.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:g$(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Xs){return this.component?this.component.multipleInstances?t:Xs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function g$(e){return e===Xs?void 0:e}function y$(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v${constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new p$(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(pe||(pe={}));const b$={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},x$=pe.INFO,_$={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},w$=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=_$[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class ww{constructor(t){this.name=t,this._logLevel=x$,this._logHandler=w$,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in pe))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?b$[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...t),this._logHandler(this,pe.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...t),this._logHandler(this,pe.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...t),this._logHandler(this,pe.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...t),this._logHandler(this,pe.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...t),this._logHandler(this,pe.ERROR,...t)}}const E$=(e,t)=>t.some(n=>e instanceof n);let FT,qT;function S$(){return FT||(FT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function A$(){return qT||(qT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pk=new WeakMap,Gb=new WeakMap,gk=new WeakMap,f0=new WeakMap,Ew=new WeakMap;function T$(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",a),e.removeEventListener("error",s)},a=()=>{n(us(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",a),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&pk.set(n,e)}).catch(()=>{}),Ew.set(t,e),t}function N$(e){if(Gb.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",s),e.removeEventListener("abort",s)},a=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",a),e.addEventListener("error",s),e.addEventListener("abort",s)});Gb.set(e,t)}let Kb={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Gb.get(e);if(t==="objectStoreNames")return e.objectStoreNames||gk.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return us(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function C$(e){Kb=e(Kb)}function O$(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(d0(this),t,...n);return gk.set(r,t.sort?t.sort():[t]),us(r)}:A$().includes(e)?function(...t){return e.apply(d0(this),t),us(pk.get(this))}:function(...t){return us(e.apply(d0(this),t))}}function I$(e){return typeof e=="function"?O$(e):(e instanceof IDBTransaction&&N$(e),E$(e,S$())?new Proxy(e,Kb):e)}function us(e){if(e instanceof IDBRequest)return T$(e);if(f0.has(e))return f0.get(e);const t=I$(e);return t!==e&&(f0.set(e,t),Ew.set(t,e)),t}const d0=e=>Ew.get(e);function P$(e,t,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const s=indexedDB.open(e,t),o=us(s);return r&&s.addEventListener("upgradeneeded",l=>{r(us(s.result),l.oldVersion,l.newVersion,us(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const R$=["get","getKey","getAll","getAllKeys","count"],j$=["put","add","delete","clear"],h0=new Map;function HT(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(h0.get(t))return h0.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=j$.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||R$.includes(n)))return;const a=async function(s,...o){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(o.shift())),(await Promise.all([u[n](...o),i&&l.done]))[0]};return h0.set(t,a),a}C$(e=>({...e,get:(t,n,r)=>HT(t,n)||e.get(t,n,r),has:(t,n)=>!!HT(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k${constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(D$(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function D$(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Yb="@firebase/app",GT="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia=new ww("@firebase/app"),M$="@firebase/app-compat",L$="@firebase/analytics-compat",V$="@firebase/analytics",U$="@firebase/app-check-compat",z$="@firebase/app-check",B$="@firebase/auth",$$="@firebase/auth-compat",F$="@firebase/database",q$="@firebase/data-connect",H$="@firebase/database-compat",G$="@firebase/functions",K$="@firebase/functions-compat",Y$="@firebase/installations",W$="@firebase/installations-compat",X$="@firebase/messaging",Q$="@firebase/messaging-compat",Z$="@firebase/performance",J$="@firebase/performance-compat",eF="@firebase/remote-config",tF="@firebase/remote-config-compat",nF="@firebase/storage",rF="@firebase/storage-compat",iF="@firebase/firestore",aF="@firebase/ai",sF="@firebase/firestore-compat",oF="firebase",lF="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb="[DEFAULT]",uF={[Yb]:"fire-core",[M$]:"fire-core-compat",[V$]:"fire-analytics",[L$]:"fire-analytics-compat",[z$]:"fire-app-check",[U$]:"fire-app-check-compat",[B$]:"fire-auth",[$$]:"fire-auth-compat",[F$]:"fire-rtdb",[q$]:"fire-data-connect",[H$]:"fire-rtdb-compat",[G$]:"fire-fn",[K$]:"fire-fn-compat",[Y$]:"fire-iid",[W$]:"fire-iid-compat",[X$]:"fire-fcm",[Q$]:"fire-fcm-compat",[Z$]:"fire-perf",[J$]:"fire-perf-compat",[eF]:"fire-rc",[tF]:"fire-rc-compat",[nF]:"fire-gcs",[rF]:"fire-gcs-compat",[iF]:"fire-fst",[sF]:"fire-fst-compat",[aF]:"fire-vertex","fire-js":"fire-js",[oF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fp=new Map,cF=new Map,Xb=new Map;function KT(e,t){try{e.container.addComponent(t)}catch(n){ia.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function So(e){const t=e.name;if(Xb.has(t))return ia.debug(`There were multiple attempts to register component ${t}.`),!1;Xb.set(t,e);for(const n of fp.values())KT(n,e);for(const n of cF.values())KT(n,e);return!0}function $g(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function xr(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cs=new md("app","Firebase",fF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw cs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o=lF;function yk(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r={name:Wb,automaticDataCollectionEnabled:!0,...t},i=r.name;if(typeof i!="string"||!i)throw cs.create("bad-app-name",{appName:String(i)});if(n||(n=dk()),!n)throw cs.create("no-options");const a=fp.get(i);if(a){if(Eo(n,a.options)&&Eo(r,a.config))return a;throw cs.create("duplicate-app",{appName:i})}const s=new v$(i);for(const l of Xb.values())s.addComponent(l);const o=new dF(n,r,s);return fp.set(i,o),o}function Sw(e=Wb){const t=fp.get(e);if(!t&&e===Wb&&dk())return yk();if(!t)throw cs.create("no-app",{appName:e});return t}function ui(e,t,n){let r=uF[e]??e;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=t.match(/\s|\//);if(i||a){const s=[`Unable to register library "${r}" with version "${t}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&s.push("and"),a&&s.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ia.warn(s.join(" "));return}So(new xs(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hF="firebase-heartbeat-database",mF=1,bf="firebase-heartbeat-store";let m0=null;function vk(){return m0||(m0=P$(hF,mF,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(bf)}catch(n){console.warn(n)}}}}).catch(e=>{throw cs.create("idb-open",{originalErrorMessage:e.message})})),m0}async function pF(e){try{const n=(await vk()).transaction(bf),r=await n.objectStore(bf).get(bk(e));return await n.done,r}catch(t){if(t instanceof Ti)ia.warn(t.message);else{const n=cs.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ia.warn(n.message)}}}async function YT(e,t){try{const r=(await vk()).transaction(bf,"readwrite");await r.objectStore(bf).put(t,bk(e)),await r.done}catch(n){if(n instanceof Ti)ia.warn(n.message);else{const r=cs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ia.warn(r.message)}}}function bk(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gF=1024,yF=30;class vF{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new xF(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=WT();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>yF){const s=_F(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ia.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=WT(),{heartbeatsToSend:r,unsentEntries:i}=bF(this._heartbeatsCache.heartbeats),a=cp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return ia.warn(n),""}}}function WT(){return new Date().toISOString().substring(0,10)}function bF(e,t=gF){const n=[];let r=e.slice();for(const i of e){const a=n.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),XT(n)>t){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),XT(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class xF{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return s$()?o$().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await pF(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return YT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return YT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function XT(e){return cp(JSON.stringify({version:2,heartbeats:e})).length}function _F(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wF(e){So(new xs("platform-logger",t=>new k$(t),"PRIVATE")),So(new xs("heartbeat",t=>new vF(t),"PRIVATE")),ui(Yb,GT,e),ui(Yb,GT,"esm2020"),ui("fire-js","")}wF("");var EF="firebase",SF="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ui(EF,SF,"app");function xk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const AF=xk,_k=new md("auth","Firebase",xk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dp=new ww("@firebase/auth");function TF(e,...t){dp.logLevel<=pe.WARN&&dp.warn(`Auth (${$o}): ${e}`,...t)}function ym(e,...t){dp.logLevel<=pe.ERROR&&dp.error(`Auth (${$o}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(e,...t){throw Aw(e,...t)}function ci(e,...t){return Aw(e,...t)}function wk(e,t,n){const r={...AF(),[t]:n};return new md("auth","Firebase",r).create(t,{appName:e.name})}function fs(e){return wk(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Aw(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return _k.create(e,...t)}function ne(e,t,...n){if(!e)throw Aw(t,...n)}function Bi(e){const t="INTERNAL ASSERTION FAILED: "+e;throw ym(t),new Error(t)}function aa(e,t){e||Bi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.href)||""}function NF(){return QT()==="http:"||QT()==="https:"}function QT(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(NF()||n$()||"connection"in navigator)?navigator.onLine:!0}function OF(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(t,n){this.shortDelay=t,this.longDelay=n,aa(n>t,"Short delay should be less than long delay!"),this.isMobile=J8()||r$()}get(){return CF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tw(e,t){aa(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Bi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Bi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Bi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PF=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],RF=new gd(3e4,6e4);function Fo(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function js(e,t,n,r,i={}){return Sk(e,i,async()=>{let a={},s={};r&&(t==="GET"?s=r:a={body:JSON.stringify(r)});const o=pd({key:e.config.apiKey,...s}).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const u={method:t,headers:l,...a};return t$()||(u.referrerPolicy="no-referrer"),e.emulatorConfig&&Rs(e.emulatorConfig.host)&&(u.credentials="include"),Ek.fetch()(await Ak(e,e.config.apiHost,n,o),u)})}async function Sk(e,t,n){e._canInitEmulator=!1;const r={...IF,...t};try{const i=new kF(e),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw Ih(e,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const o=a.ok?s.errorMessage:s.error.message,[l,u]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ih(e,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Ih(e,"email-already-in-use",s);if(l==="USER_DISABLED")throw Ih(e,"user-disabled",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw wk(e,c,u);Fr(e,c)}}catch(i){if(i instanceof Ti)throw i;Fr(e,"network-request-failed",{message:String(i)})}}async function Fg(e,t,n,r,i={}){const a=await js(e,t,n,r,i);return"mfaPendingCredential"in a&&Fr(e,"multi-factor-auth-required",{_serverResponse:a}),a}async function Ak(e,t,n,r){const i=`${t}${n}?${r}`,a=e,s=a.config.emulator?Tw(e.config,i):`${e.config.apiScheme}://${i}`;return PF.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(s).toString():s}function jF(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class kF{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ci(this.auth,"network-request-failed")),RF.get())})}}function Ih(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ci(e,t,r);return i.customData._tokenResponse=n,i}function ZT(e){return e!==void 0&&e.enterprise!==void 0}class DF{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return jF(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function MF(e,t){return js(e,"GET","/v2/recaptchaConfig",Fo(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LF(e,t){return js(e,"POST","/v1/accounts:delete",t)}async function hp(e,t){return js(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xc(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function VF(e,t=!1){const n=Ke(e),r=await n.getIdToken(t),i=Nw(r);ne(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Xc(p0(i.auth_time)),issuedAtTime:Xc(p0(i.iat)),expirationTime:Xc(p0(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function p0(e){return Number(e)*1e3}function Nw(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return ym("JWT malformed, contained fewer than 3 sections"),null;try{const i=uk(n);return i?JSON.parse(i):(ym("Failed to decode base64 JWT payload"),null)}catch(i){return ym("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function JT(e){const t=Nw(e);return ne(t,"internal-error"),ne(typeof t.exp<"u","internal-error"),ne(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xf(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof Ti&&UF(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function UF({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zF{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xc(this.lastLoginAt),this.creationTime=Xc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mp(e){var f;const t=e.auth,n=await e.getIdToken(),r=await xf(e,hp(t,{idToken:n}));ne(r==null?void 0:r.users.length,t,"internal-error");const i=r.users[0];e._notifyReloadListener(i);const a=(f=i.providerUserInfo)!=null&&f.length?Tk(i.providerUserInfo):[],s=$F(e.providerData,a),o=e.isAnonymous,l=!(e.email&&i.passwordHash)&&!(s!=null&&s.length),u=o?l:!1,c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Zb(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(e,c)}async function BF(e){const t=Ke(e);await mp(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function $F(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function Tk(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FF(e,t){const n=await Sk(e,{},async()=>{const r=pd({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:a}=e.config,s=await Ak(e,i,"/v1/token",`key=${a}`),o=await e._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:r};return e.emulatorConfig&&Rs(e.emulatorConfig.host)&&(l.credentials="include"),Ek.fetch()(s,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function qF(e,t){return js(e,"POST","/v2/accounts:revokeToken",Fo(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){ne(t.idToken,"internal-error"),ne(typeof t.idToken<"u","internal-error"),ne(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):JT(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){ne(t.length!==0,"internal-error");const n=JT(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ne(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await FF(t,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,s=new kl;return r&&(ne(typeof r=="string","internal-error",{appName:t}),s.refreshToken=r),i&&(ne(typeof i=="string","internal-error",{appName:t}),s.accessToken=i),a&&(ne(typeof a=="number","internal-error",{appName:t}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new kl,this.toJSON())}_performRefresh(){return Bi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ra(e,t){ne(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Ur{constructor({uid:t,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new zF(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Zb(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){const n=await xf(this,this.stsTokenManager.getToken(this.auth,t));return ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return VF(this,t)}reload(){return BF(this)}_assign(t){this!==t&&(ne(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Ur({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await mp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xr(this.auth.app))return Promise.reject(fs(this.auth));const t=await this.getIdToken();return await xf(this,LF(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,s=n.photoURL??void 0,o=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,c=n.lastLoginAt??void 0,{uid:f,emailVerified:m,isAnonymous:p,providerData:g,stsTokenManager:_}=n;ne(f&&_,t,"internal-error");const y=kl.fromJSON(this.name,_);ne(typeof f=="string",t,"internal-error"),Ra(r,t.name),Ra(i,t.name),ne(typeof m=="boolean",t,"internal-error"),ne(typeof p=="boolean",t,"internal-error"),Ra(a,t.name),Ra(s,t.name),Ra(o,t.name),Ra(l,t.name),Ra(u,t.name),Ra(c,t.name);const w=new Ur({uid:f,auth:t,email:i,emailVerified:m,displayName:r,isAnonymous:p,photoURL:s,phoneNumber:a,tenantId:o,stsTokenManager:y,createdAt:u,lastLoginAt:c});return g&&Array.isArray(g)&&(w.providerData=g.map(x=>({...x}))),l&&(w._redirectEventId=l),w}static async _fromIdTokenResponse(t,n,r=!1){const i=new kl;i.updateFromServerResponse(n);const a=new Ur({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await mp(a),a}static async _fromGetAccountInfoResponse(t,n,r){const i=n.users[0];ne(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?Tk(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),o=new kl;o.updateFromIdToken(r);const l=new Ur({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Zb(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN=new Map;function $i(e){aa(e instanceof Function,"Expected a class definition");let t=eN.get(e);return t?(aa(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,eN.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}Nk.type="NONE";const tN=Nk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(e,t,n){return`firebase:${e}:${t}:${n}`}class Dl{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=vm(this.userKey,i.apiKey,a),this.fullPersistenceKey=vm("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await hp(this.auth,{idToken:t}).catch(()=>{});return n?Ur._fromGetAccountInfoResponse(this.auth,n,t):null}return Ur._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new Dl($i(tN),t,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=i[0]||$i(tN);const s=vm(r,t.config.apiKey,t.name);let o=null;for(const u of n)try{const c=await u._get(s);if(c){let f;if(typeof c=="string"){const m=await hp(t,{idToken:c}).catch(()=>{});if(!m)break;f=await Ur._fromGetAccountInfoResponse(t,m,c)}else f=Ur._fromJSON(t,c);u!==a&&(o=f),a=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new Dl(a,t,r):(a=l[0],o&&await a._set(s,o.toJSON()),await Promise.all(n.map(async u=>{if(u!==a)try{await u._remove(s)}catch{}})),new Dl(a,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nN(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Pk(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Ck(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(jk(t))return"Blackberry";if(kk(t))return"Webos";if(Ok(t))return"Safari";if((t.includes("chrome/")||Ik(t))&&!t.includes("edge/"))return"Chrome";if(Rk(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Ck(e=bn()){return/firefox\//i.test(e)}function Ok(e=bn()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Ik(e=bn()){return/crios\//i.test(e)}function Pk(e=bn()){return/iemobile/i.test(e)}function Rk(e=bn()){return/android/i.test(e)}function jk(e=bn()){return/blackberry/i.test(e)}function kk(e=bn()){return/webos/i.test(e)}function Cw(e=bn()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function HF(e=bn()){var t;return Cw(e)&&!!((t=window.navigator)!=null&&t.standalone)}function GF(){return i$()&&document.documentMode===10}function Dk(e=bn()){return Cw(e)||Rk(e)||kk(e)||jk(e)||/windows phone/i.test(e)||Pk(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mk(e,t=[]){let n;switch(e){case"Browser":n=nN(bn());break;case"Worker":n=`${nN(bn())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${$o}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KF{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=a=>new Promise((s,o)=>{try{const l=t(a);s(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YF(e,t={}){return js(e,"GET","/v2/passwordPolicy",Fo(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WF=6;class XF{constructor(t){var r;const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??WF,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=t.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QF{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rN(this),this.idTokenSubscription=new rN(this),this.beforeStateQueue=new KF(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_k,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=$i(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await Dl.create(this,t),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await hp(this,{idToken:t}),r=await Ur._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var a;if(xr(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(a=this.redirectUser)==null?void 0:a._redirectEventId,o=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(t);(!s||s===o)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await mp(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=OF()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(xr(this.app))return Promise.reject(fs(this));const n=t?Ke(t):null;return n&&ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&ne(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return xr(this.app)?Promise.reject(fs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return xr(this.app)?Promise.reject(fs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($i(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await YF(this),n=new XF(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new md("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await qF(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&$i(t)||this._popupRedirectResolver;ne(n,this,"argument-error"),this.redirectPersistenceManager=await Dl.create(this,[$i(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(ne(o,this,"internal-error"),o.then(()=>{s||a(this.currentUser)}),typeof n=="function"){const l=t.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=t.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Mk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var n;if(xr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return t!=null&&t.error&&TF(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function wu(e){return Ke(e)}class rN{constructor(t){this.auth=t,this.observer=null,this.addObserver=d$(n=>this.observer=n)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZF(e){qg=e}function Lk(e){return qg.loadJS(e)}function JF(){return qg.recaptchaEnterpriseScript}function e7(){return qg.gapiScript}function t7(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class n7{constructor(){this.enterprise=new r7}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class r7{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const i7="recaptcha-enterprise",Vk="NO_RECAPTCHA";class a7{constructor(t){this.type=i7,this.auth=wu(t)}async verify(t="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,o)=>{MF(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const u=new DF(l);return a.tenantId==null?a._agentRecaptchaConfig=u:a._tenantRecaptchaConfigs[a.tenantId]=u,s(u.siteKey)}}).catch(l=>{o(l)})})}function i(a,s,o){const l=window.grecaptcha;ZT(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:t}).then(u=>{s(u)}).catch(()=>{s(Vk)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new n7().execute("siteKey",{action:"verify"}):new Promise((a,s)=>{r(this.auth).then(o=>{if(!n&&ZT(window.grecaptcha))i(o,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=JF();l.length!==0&&(l+=o),Lk(l).then(()=>{i(o,a,s)}).catch(u=>{s(u)})}}).catch(o=>{s(o)})})}}async function iN(e,t,n,r=!1,i=!1){const a=new a7(e);let s;if(i)s=Vk;else try{s=await a.verify(n)}catch{s=await a.verify(n,!0)}const o={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,u=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function aN(e,t,n,r,i){var a;if((a=e._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await iN(e,t,n,n==="getOobCode");return r(e,s)}else return r(e,t).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await iN(e,t,n,n==="getOobCode");return r(e,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s7(e,t){const n=$g(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(Eo(a,t??{}))return i;Fr(i,"already-initialized")}return n.initialize({options:t})}function o7(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map($i);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function l7(e,t,n){const r=wu(e);ne(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!1,a=Uk(t),{host:s,port:o}=u7(t),l=o===null?"":`:${o}`,u={url:`${a}//${s}${l}/`},c=Object.freeze({host:s,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ne(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ne(Eo(u,r.config.emulator)&&Eo(c,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=c,r.settings.appVerificationDisabledForTesting=!0,Rs(s)?(xw(`${a}//${s}${l}`),_w("Auth",!0)):c7()}function Uk(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function u7(e){const t=Uk(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:sN(r.substr(a.length+1))}}else{const[a,s]=r.split(":");return{host:a,port:sN(s)}}}function sN(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function c7(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Bi("not implemented")}_getIdTokenResponse(t){return Bi("not implemented")}_linkToIdToken(t,n){return Bi("not implemented")}_getReauthenticationResolver(t){return Bi("not implemented")}}async function f7(e,t){return js(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d7(e,t){return Fg(e,"POST","/v1/accounts:signInWithPassword",Fo(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h7(e,t){return Fg(e,"POST","/v1/accounts:signInWithEmailLink",Fo(e,t))}async function m7(e,t){return Fg(e,"POST","/v1/accounts:signInWithEmailLink",Fo(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f extends Ow{constructor(t,n,r,i=null){super("password",r),this._email=t,this._password=n,this._tenantId=i}static _fromEmailAndPassword(t,n){return new _f(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new _f(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return aN(t,n,"signInWithPassword",d7);case"emailLink":return h7(t,{email:this._email,oobCode:this._password});default:Fr(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return aN(t,r,"signUpPassword",f7);case"emailLink":return m7(t,{idToken:n,email:this._email,oobCode:this._password});default:Fr(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ml(e,t){return Fg(e,"POST","/v1/accounts:signInWithIdp",Fo(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p7="http://localhost";class Ao extends Ow{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ao(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Fr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const s=new Ao(r,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(t){const n=this.buildRequest();return Ml(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Ml(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Ml(t,n)}buildRequest(){const t={requestUri:p7,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=pd(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g7(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function y7(e){const t=Tc(Nc(e)).link,n=t?Tc(Nc(t)).deep_link_id:null,r=Tc(Nc(e)).deep_link_id;return(r?Tc(Nc(r)).link:null)||r||n||t||e}class Iw{constructor(t){const n=Tc(Nc(t)),r=n.apiKey??null,i=n.oobCode??null,a=g7(n.mode??null);ne(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=y7(t);try{return new Iw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(){this.providerId=Eu.PROVIDER_ID}static credential(t,n){return _f._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=Iw.parseLink(n);return ne(r,"argument-error"),_f._fromEmailAndCode(t,r.code,r.tenantId)}}Eu.PROVIDER_ID="password";Eu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Eu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd extends zk{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba extends yd{constructor(){super("facebook.com")}static credential(t){return Ao._fromParams({providerId:Ba.PROVIDER_ID,signInMethod:Ba.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ba.credentialFromTaggedObject(t)}static credentialFromError(t){return Ba.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ba.credential(t.oauthAccessToken)}catch{return null}}}Ba.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ba.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a extends yd{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ao._fromParams({providerId:$a.PROVIDER_ID,signInMethod:$a.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return $a.credentialFromTaggedObject(t)}static credentialFromError(t){return $a.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return $a.credential(n,r)}catch{return null}}}$a.GOOGLE_SIGN_IN_METHOD="google.com";$a.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa extends yd{constructor(){super("github.com")}static credential(t){return Ao._fromParams({providerId:Fa.PROVIDER_ID,signInMethod:Fa.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Fa.credentialFromTaggedObject(t)}static credentialFromError(t){return Fa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Fa.credential(t.oauthAccessToken)}catch{return null}}}Fa.GITHUB_SIGN_IN_METHOD="github.com";Fa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa extends yd{constructor(){super("twitter.com")}static credential(t,n){return Ao._fromParams({providerId:qa.PROVIDER_ID,signInMethod:qa.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return qa.credentialFromTaggedObject(t)}static credentialFromError(t){return qa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return qa.credential(n,r)}catch{return null}}}qa.TWITTER_SIGN_IN_METHOD="twitter.com";qa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const a=await Ur._fromIdTokenResponse(t,r,i),s=oN(r);return new Zl({user:a,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=oN(r);return new Zl({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function oN(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp extends Ti{constructor(t,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,pp.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new pp(t,n,r,i)}}function Bk(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?pp._fromErrorAndOperation(e,a,t,r):a})}async function v7(e,t,n=!1){const r=await xf(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Zl._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b7(e,t,n=!1){const{auth:r}=e;if(xr(r.app))return Promise.reject(fs(r));const i="reauthenticate";try{const a=await xf(e,Bk(r,i,t,e),n);ne(a.idToken,r,"internal-error");const s=Nw(a.idToken);ne(s,r,"internal-error");const{sub:o}=s;return ne(e.uid===o,r,"user-mismatch"),Zl._forOperation(e,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Fr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $k(e,t,n=!1){if(xr(e.app))return Promise.reject(fs(e));const r="signIn",i=await Bk(e,r,t),a=await Zl._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(a.user),a}async function x7(e,t){return $k(wu(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _7(e){const t=wu(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function w7(e,t,n){return xr(e.app)?Promise.reject(fs(e)):x7(Ke(e),Eu.credential(t,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&_7(e),r})}function E7(e,t,n,r){return Ke(e).onIdTokenChanged(t,n,r)}function S7(e,t,n){return Ke(e).beforeAuthStateChanged(t,n)}function A7(e,t,n,r){return Ke(e).onAuthStateChanged(t,n,r)}function Jb(e){return Ke(e).signOut()}const gp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(gp,"1"),this.storage.removeItem(gp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T7=1e3,N7=10;class qk extends Fk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Dk(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((s,o,l)=>{this.notifyListeners(s,l)});return}const r=t.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},a=this.storage.getItem(r);GF()&&a!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,N7):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},T7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}qk.type="LOCAL";const C7=qk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk extends Fk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}Hk.type="SESSION";const Gk=Hk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O7(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new Hg(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:a}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(s).map(async u=>u(n.origin,a)),l=await O7(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I7{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((o,l)=>{const u=Pw("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const m=f;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(c),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),o(m.data.response);break;default:clearTimeout(c),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(){return window}function P7(e){fi().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(){return typeof fi().WorkerGlobalScope<"u"&&typeof fi().importScripts=="function"}async function R7(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function j7(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)==null?void 0:e.controller)||null}function k7(){return Kk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yk="firebaseLocalStorageDb",D7=1,yp="firebaseLocalStorage",Wk="fbase_key";class vd{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Gg(e,t){return e.transaction([yp],t?"readwrite":"readonly").objectStore(yp)}function M7(){const e=indexedDB.deleteDatabase(Yk);return new vd(e).toPromise()}function ex(){const e=indexedDB.open(Yk,D7);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(yp,{keyPath:Wk})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(yp)?t(r):(r.close(),await M7(),t(await ex()))})})}async function lN(e,t,n){const r=Gg(e,!0).put({[Wk]:t,value:n});return new vd(r).toPromise()}async function L7(e,t){const n=Gg(e,!1).get(t),r=await new vd(n).toPromise();return r===void 0?null:r.value}function uN(e,t){const n=Gg(e,!0).delete(t);return new vd(n).toPromise()}const V7=800,U7=3;class Xk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ex(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>U7)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Kk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hg._getInstance(k7()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await R7(),!this.activeServiceWorker)return;this.sender=new I7(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(n=t[0])!=null&&n.fulfilled&&(r=t[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||j7()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await ex();return await lN(t,gp,"1"),await uN(t,gp),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>lN(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>L7(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>uN(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const a=Gg(i,!1).getAll();return new vd(a).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:i,value:a}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),V7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Xk.type="LOCAL";const z7=Xk;new gd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B7(e,t){return t?$i(t):(ne(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw extends Ow{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ml(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Ml(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Ml(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function $7(e){return $k(e.auth,new Rw(e),e.bypassAuthState)}function F7(e){const{auth:t,user:n}=e;return ne(n,t,"internal-error"),b7(n,new Rw(e),e.bypassAuthState)}async function q7(e){const{auth:t,user:n}=e;return ne(n,t,"internal-error"),v7(n,new Rw(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(t,n,r,i,a=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:s,type:o}=t;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return $7;case"linkViaPopup":case"linkViaRedirect":return q7;case"reauthViaPopup":case"reauthViaRedirect":return F7;default:Fr(this.auth,"internal-error")}}resolve(t){aa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){aa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H7=new gd(2e3,1e4);class El extends Qk{constructor(t,n,r,i,a){super(t,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,El.currentPopupAction&&El.currentPopupAction.cancel(),El.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return ne(t,this.auth,"internal-error"),t}async onExecution(){aa(this.filter.length===1,"Popup operations only handle one event");const t=Pw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ci(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,El.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ci(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,H7.get())};t()}}El.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G7="pendingRedirect",bm=new Map;class K7 extends Qk{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=bm.get(this.auth._key());if(!t){try{const r=await Y7(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}bm.set(this.auth._key(),t)}return this.bypassAuthState||bm.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Y7(e,t){const n=Q7(t),r=X7(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function W7(e,t){bm.set(e._key(),t)}function X7(e){return $i(e._redirectPersistence)}function Q7(e){return vm(G7,e.config.apiKey,e.name)}async function Z7(e,t,n=!1){if(xr(e.app))return Promise.reject(fs(e));const r=wu(e),i=B7(r,t),s=await new K7(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J7=10*60*1e3;class eq{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!tq(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!Zk(t)){const i=((r=t.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(ci(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=J7&&this.cachedEventUids.clear(),this.cachedEventUids.has(cN(t))}saveEventToCache(t){this.cachedEventUids.add(cN(t)),this.lastProcessedEventTime=Date.now()}}function cN(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function Zk({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function tq(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Zk(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nq(e,t={}){return js(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rq=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,iq=/^https?/;async function aq(e){if(e.config.emulator)return;const{authorizedDomains:t}=await nq(e);for(const n of t)try{if(sq(n))return}catch{}Fr(e,"unauthorized-domain")}function sq(e){const t=Qb(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const s=new URL(e);return s.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!iq.test(n))return!1;if(rq.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oq=new gd(3e4,6e4);function fN(){const e=fi().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function lq(e){return new Promise((t,n)=>{var i,a,s;function r(){fN(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{fN(),n(ci(e,"network-request-failed"))},timeout:oq.get()})}if((a=(i=fi().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)t(gapi.iframes.getContext());else if((s=fi().gapi)!=null&&s.load)r();else{const o=t7("iframefcb");return fi()[o]=()=>{gapi.load?r():n(ci(e,"network-request-failed"))},Lk(`${e7()}?onload=${o}`).catch(l=>n(l))}}).catch(t=>{throw xm=null,t})}let xm=null;function uq(e){return xm=xm||lq(e),xm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cq=new gd(5e3,15e3),fq="__/auth/iframe",dq="emulator/auth/iframe",hq={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mq=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pq(e){const t=e.config;ne(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Tw(t,dq):`https://${e.config.authDomain}/${fq}`,r={apiKey:t.apiKey,appName:e.name,v:$o},i=mq.get(e.config.apiHost);i&&(r.eid=i);const a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${pd(r).slice(1)}`}async function gq(e){const t=await uq(e),n=fi().gapi;return ne(n,e,"internal-error"),t.open({where:document.body,url:pq(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hq,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const s=ci(e,"network-request-failed"),o=fi().setTimeout(()=>{a(s)},cq.get());function l(){fi().clearTimeout(o),i(r)}r.ping(l).then(l,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yq={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},vq=500,bq=600,xq="_blank",_q="http://localhost";class dN{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function wq(e,t,n,r=vq,i=bq){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l={...yq,width:r.toString(),height:i.toString(),top:a,left:s},u=bn().toLowerCase();n&&(o=Ik(u)?xq:n),Ck(u)&&(t=t||_q,l.scrollbars="yes");const c=Object.entries(l).reduce((m,[p,g])=>`${m}${p}=${g},`,"");if(HF(u)&&o!=="_self")return Eq(t||"",o),new dN(null);const f=window.open(t||"",o,c);ne(f,e,"popup-blocked");try{f.focus()}catch{}return new dN(f)}function Eq(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sq="__/auth/handler",Aq="emulator/auth/handler",Tq=encodeURIComponent("fac");async function hN(e,t,n,r,i,a){ne(e.config.authDomain,e,"auth-domain-config-required"),ne(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:$o,eventId:i};if(t instanceof zk){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",f$(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[c,f]of Object.entries({}))s[c]=f}if(t instanceof yd){const c=t.getScopes().filter(f=>f!=="");c.length>0&&(s.scopes=c.join(","))}e.tenantId&&(s.tid=e.tenantId);const o=s;for(const c of Object.keys(o))o[c]===void 0&&delete o[c];const l=await e._getAppCheckToken(),u=l?`#${Tq}=${encodeURIComponent(l)}`:"";return`${Nq(e)}?${pd(o).slice(1)}${u}`}function Nq({config:e}){return e.emulator?Tw(e,Aq):`https://${e.authDomain}/${Sq}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0="webStorageSupport";class Cq{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Gk,this._completeRedirectFn=Z7,this._overrideRedirectResult=W7}async _openPopup(t,n,r,i){var s;aa((s=this.eventManagers[t._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await hN(t,n,r,Qb(),i);return wq(t,a,Pw())}async _openRedirect(t,n,r,i){await this._originValidation(t);const a=await hN(t,n,r,Qb(),i);return P7(a),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(aa(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await gq(t),r=new eq(t);return n.register("authEvent",i=>(ne(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(g0,{type:g0},i=>{var s;const a=(s=i==null?void 0:i[0])==null?void 0:s[g0];a!==void 0&&n(!!a),Fr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=aq(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return Dk()||Ok()||Cw()}}const Oq=Cq;var mN="@firebase/auth",pN="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iq{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pq(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Rq(e){So(new xs("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),a=t.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=r.options;ne(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:o,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Mk(e)},u=new QF(r,i,a,l);return o7(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),So(new xs("auth-internal",t=>{const n=wu(t.getProvider("auth").getImmediate());return(r=>new Iq(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ui(mN,pN,Pq(e)),ui(mN,pN,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jq=5*60,kq=hk("authIdTokenMaxAge")||jq;let gN=null;const Dq=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>kq)return;const i=n==null?void 0:n.token;gN!==i&&(gN=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Mq(e=Sw()){const t=$g(e,"auth");if(t.isInitialized())return t.getImmediate();const n=s7(e,{popupRedirectResolver:Oq,persistence:[z7,C7,Gk]}),r=hk("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const s=Dq(a.toString());S7(n,s,()=>s(n.currentUser)),E7(n,o=>s(o))}}const i=ck("auth");return i&&l7(n,`http://${i}`),n}function Lq(){var e;return((e=document.getElementsByTagName("head"))==null?void 0:e[0])??document}ZF({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const a=ci("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",Lq().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Rq("Browser");var yN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ds,Jk;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(A,T){function C(){}C.prototype=T.prototype,A.F=T.prototype,A.prototype=new C,A.prototype.constructor=A,A.D=function(k,j,R){for(var D=Array(arguments.length-2),Z=2;Z<arguments.length;Z++)D[Z-2]=arguments[Z];return T.prototype[j].apply(k,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,T,C){C||(C=0);const k=Array(16);if(typeof T=="string")for(var j=0;j<16;++j)k[j]=T.charCodeAt(C++)|T.charCodeAt(C++)<<8|T.charCodeAt(C++)<<16|T.charCodeAt(C++)<<24;else for(j=0;j<16;++j)k[j]=T[C++]|T[C++]<<8|T[C++]<<16|T[C++]<<24;T=A.g[0],C=A.g[1],j=A.g[2];let R=A.g[3],D;D=T+(R^C&(j^R))+k[0]+3614090360&4294967295,T=C+(D<<7&4294967295|D>>>25),D=R+(j^T&(C^j))+k[1]+3905402710&4294967295,R=T+(D<<12&4294967295|D>>>20),D=j+(C^R&(T^C))+k[2]+606105819&4294967295,j=R+(D<<17&4294967295|D>>>15),D=C+(T^j&(R^T))+k[3]+3250441966&4294967295,C=j+(D<<22&4294967295|D>>>10),D=T+(R^C&(j^R))+k[4]+4118548399&4294967295,T=C+(D<<7&4294967295|D>>>25),D=R+(j^T&(C^j))+k[5]+1200080426&4294967295,R=T+(D<<12&4294967295|D>>>20),D=j+(C^R&(T^C))+k[6]+2821735955&4294967295,j=R+(D<<17&4294967295|D>>>15),D=C+(T^j&(R^T))+k[7]+4249261313&4294967295,C=j+(D<<22&4294967295|D>>>10),D=T+(R^C&(j^R))+k[8]+1770035416&4294967295,T=C+(D<<7&4294967295|D>>>25),D=R+(j^T&(C^j))+k[9]+2336552879&4294967295,R=T+(D<<12&4294967295|D>>>20),D=j+(C^R&(T^C))+k[10]+4294925233&4294967295,j=R+(D<<17&4294967295|D>>>15),D=C+(T^j&(R^T))+k[11]+2304563134&4294967295,C=j+(D<<22&4294967295|D>>>10),D=T+(R^C&(j^R))+k[12]+1804603682&4294967295,T=C+(D<<7&4294967295|D>>>25),D=R+(j^T&(C^j))+k[13]+4254626195&4294967295,R=T+(D<<12&4294967295|D>>>20),D=j+(C^R&(T^C))+k[14]+2792965006&4294967295,j=R+(D<<17&4294967295|D>>>15),D=C+(T^j&(R^T))+k[15]+1236535329&4294967295,C=j+(D<<22&4294967295|D>>>10),D=T+(j^R&(C^j))+k[1]+4129170786&4294967295,T=C+(D<<5&4294967295|D>>>27),D=R+(C^j&(T^C))+k[6]+3225465664&4294967295,R=T+(D<<9&4294967295|D>>>23),D=j+(T^C&(R^T))+k[11]+643717713&4294967295,j=R+(D<<14&4294967295|D>>>18),D=C+(R^T&(j^R))+k[0]+3921069994&4294967295,C=j+(D<<20&4294967295|D>>>12),D=T+(j^R&(C^j))+k[5]+3593408605&4294967295,T=C+(D<<5&4294967295|D>>>27),D=R+(C^j&(T^C))+k[10]+38016083&4294967295,R=T+(D<<9&4294967295|D>>>23),D=j+(T^C&(R^T))+k[15]+3634488961&4294967295,j=R+(D<<14&4294967295|D>>>18),D=C+(R^T&(j^R))+k[4]+3889429448&4294967295,C=j+(D<<20&4294967295|D>>>12),D=T+(j^R&(C^j))+k[9]+568446438&4294967295,T=C+(D<<5&4294967295|D>>>27),D=R+(C^j&(T^C))+k[14]+3275163606&4294967295,R=T+(D<<9&4294967295|D>>>23),D=j+(T^C&(R^T))+k[3]+4107603335&4294967295,j=R+(D<<14&4294967295|D>>>18),D=C+(R^T&(j^R))+k[8]+1163531501&4294967295,C=j+(D<<20&4294967295|D>>>12),D=T+(j^R&(C^j))+k[13]+2850285829&4294967295,T=C+(D<<5&4294967295|D>>>27),D=R+(C^j&(T^C))+k[2]+4243563512&4294967295,R=T+(D<<9&4294967295|D>>>23),D=j+(T^C&(R^T))+k[7]+1735328473&4294967295,j=R+(D<<14&4294967295|D>>>18),D=C+(R^T&(j^R))+k[12]+2368359562&4294967295,C=j+(D<<20&4294967295|D>>>12),D=T+(C^j^R)+k[5]+4294588738&4294967295,T=C+(D<<4&4294967295|D>>>28),D=R+(T^C^j)+k[8]+2272392833&4294967295,R=T+(D<<11&4294967295|D>>>21),D=j+(R^T^C)+k[11]+1839030562&4294967295,j=R+(D<<16&4294967295|D>>>16),D=C+(j^R^T)+k[14]+4259657740&4294967295,C=j+(D<<23&4294967295|D>>>9),D=T+(C^j^R)+k[1]+2763975236&4294967295,T=C+(D<<4&4294967295|D>>>28),D=R+(T^C^j)+k[4]+1272893353&4294967295,R=T+(D<<11&4294967295|D>>>21),D=j+(R^T^C)+k[7]+4139469664&4294967295,j=R+(D<<16&4294967295|D>>>16),D=C+(j^R^T)+k[10]+3200236656&4294967295,C=j+(D<<23&4294967295|D>>>9),D=T+(C^j^R)+k[13]+681279174&4294967295,T=C+(D<<4&4294967295|D>>>28),D=R+(T^C^j)+k[0]+3936430074&4294967295,R=T+(D<<11&4294967295|D>>>21),D=j+(R^T^C)+k[3]+3572445317&4294967295,j=R+(D<<16&4294967295|D>>>16),D=C+(j^R^T)+k[6]+76029189&4294967295,C=j+(D<<23&4294967295|D>>>9),D=T+(C^j^R)+k[9]+3654602809&4294967295,T=C+(D<<4&4294967295|D>>>28),D=R+(T^C^j)+k[12]+3873151461&4294967295,R=T+(D<<11&4294967295|D>>>21),D=j+(R^T^C)+k[15]+530742520&4294967295,j=R+(D<<16&4294967295|D>>>16),D=C+(j^R^T)+k[2]+3299628645&4294967295,C=j+(D<<23&4294967295|D>>>9),D=T+(j^(C|~R))+k[0]+4096336452&4294967295,T=C+(D<<6&4294967295|D>>>26),D=R+(C^(T|~j))+k[7]+1126891415&4294967295,R=T+(D<<10&4294967295|D>>>22),D=j+(T^(R|~C))+k[14]+2878612391&4294967295,j=R+(D<<15&4294967295|D>>>17),D=C+(R^(j|~T))+k[5]+4237533241&4294967295,C=j+(D<<21&4294967295|D>>>11),D=T+(j^(C|~R))+k[12]+1700485571&4294967295,T=C+(D<<6&4294967295|D>>>26),D=R+(C^(T|~j))+k[3]+2399980690&4294967295,R=T+(D<<10&4294967295|D>>>22),D=j+(T^(R|~C))+k[10]+4293915773&4294967295,j=R+(D<<15&4294967295|D>>>17),D=C+(R^(j|~T))+k[1]+2240044497&4294967295,C=j+(D<<21&4294967295|D>>>11),D=T+(j^(C|~R))+k[8]+1873313359&4294967295,T=C+(D<<6&4294967295|D>>>26),D=R+(C^(T|~j))+k[15]+4264355552&4294967295,R=T+(D<<10&4294967295|D>>>22),D=j+(T^(R|~C))+k[6]+2734768916&4294967295,j=R+(D<<15&4294967295|D>>>17),D=C+(R^(j|~T))+k[13]+1309151649&4294967295,C=j+(D<<21&4294967295|D>>>11),D=T+(j^(C|~R))+k[4]+4149444226&4294967295,T=C+(D<<6&4294967295|D>>>26),D=R+(C^(T|~j))+k[11]+3174756917&4294967295,R=T+(D<<10&4294967295|D>>>22),D=j+(T^(R|~C))+k[2]+718787259&4294967295,j=R+(D<<15&4294967295|D>>>17),D=C+(R^(j|~T))+k[9]+3951481745&4294967295,A.g[0]=A.g[0]+T&4294967295,A.g[1]=A.g[1]+(j+(D<<21&4294967295|D>>>11))&4294967295,A.g[2]=A.g[2]+j&4294967295,A.g[3]=A.g[3]+R&4294967295}r.prototype.v=function(A,T){T===void 0&&(T=A.length);const C=T-this.blockSize,k=this.C;let j=this.h,R=0;for(;R<T;){if(j==0)for(;R<=C;)i(this,A,R),R+=this.blockSize;if(typeof A=="string"){for(;R<T;)if(k[j++]=A.charCodeAt(R++),j==this.blockSize){i(this,k),j=0;break}}else for(;R<T;)if(k[j++]=A[R++],j==this.blockSize){i(this,k),j=0;break}}this.h=j,this.o+=T},r.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var T=1;T<A.length-8;++T)A[T]=0;T=this.o*8;for(var C=A.length-8;C<A.length;++C)A[C]=T&255,T/=256;for(this.v(A),A=Array(16),T=0,C=0;C<4;++C)for(let k=0;k<32;k+=8)A[T++]=this.g[C]>>>k&255;return A};function a(A,T){var C=o;return Object.prototype.hasOwnProperty.call(C,A)?C[A]:C[A]=T(A)}function s(A,T){this.h=T;const C=[];let k=!0;for(let j=A.length-1;j>=0;j--){const R=A[j]|0;k&&R==T||(C[j]=R,k=!1)}this.g=C}var o={};function l(A){return-128<=A&&A<128?a(A,function(T){return new s([T|0],T<0?-1:0)}):new s([A|0],A<0?-1:0)}function u(A){if(isNaN(A)||!isFinite(A))return f;if(A<0)return y(u(-A));const T=[];let C=1;for(let k=0;A>=C;k++)T[k]=A/C|0,C*=4294967296;return new s(T,0)}function c(A,T){if(A.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(A.charAt(0)=="-")return y(c(A.substring(1),T));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=u(Math.pow(T,8));let k=f;for(let R=0;R<A.length;R+=8){var j=Math.min(8,A.length-R);const D=parseInt(A.substring(R,R+j),T);j<8?(j=u(Math.pow(T,j)),k=k.j(j).add(u(D))):(k=k.j(C),k=k.add(u(D)))}return k}var f=l(0),m=l(1),p=l(16777216);e=s.prototype,e.m=function(){if(_(this))return-y(this).m();let A=0,T=1;for(let C=0;C<this.g.length;C++){const k=this.i(C);A+=(k>=0?k:4294967296+k)*T,T*=4294967296}return A},e.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(g(this))return"0";if(_(this))return"-"+y(this).toString(A);const T=u(Math.pow(A,6));var C=this;let k="";for(;;){const j=N(C,T).g;C=w(C,j.j(T));let R=((C.g.length>0?C.g[0]:C.h)>>>0).toString(A);if(C=j,g(C))return R+k;for(;R.length<6;)R="0"+R;k=R+k}},e.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function g(A){if(A.h!=0)return!1;for(let T=0;T<A.g.length;T++)if(A.g[T]!=0)return!1;return!0}function _(A){return A.h==-1}e.l=function(A){return A=w(this,A),_(A)?-1:g(A)?0:1};function y(A){const T=A.g.length,C=[];for(let k=0;k<T;k++)C[k]=~A.g[k];return new s(C,~A.h).add(m)}e.abs=function(){return _(this)?y(this):this},e.add=function(A){const T=Math.max(this.g.length,A.g.length),C=[];let k=0;for(let j=0;j<=T;j++){let R=k+(this.i(j)&65535)+(A.i(j)&65535),D=(R>>>16)+(this.i(j)>>>16)+(A.i(j)>>>16);k=D>>>16,R&=65535,D&=65535,C[j]=D<<16|R}return new s(C,C[C.length-1]&-2147483648?-1:0)};function w(A,T){return A.add(y(T))}e.j=function(A){if(g(this)||g(A))return f;if(_(this))return _(A)?y(this).j(y(A)):y(y(this).j(A));if(_(A))return y(this.j(y(A)));if(this.l(p)<0&&A.l(p)<0)return u(this.m()*A.m());const T=this.g.length+A.g.length,C=[];for(var k=0;k<2*T;k++)C[k]=0;for(k=0;k<this.g.length;k++)for(let j=0;j<A.g.length;j++){const R=this.i(k)>>>16,D=this.i(k)&65535,Z=A.i(j)>>>16,oe=A.i(j)&65535;C[2*k+2*j]+=D*oe,x(C,2*k+2*j),C[2*k+2*j+1]+=R*oe,x(C,2*k+2*j+1),C[2*k+2*j+1]+=D*Z,x(C,2*k+2*j+1),C[2*k+2*j+2]+=R*Z,x(C,2*k+2*j+2)}for(A=0;A<T;A++)C[A]=C[2*A+1]<<16|C[2*A];for(A=T;A<2*T;A++)C[A]=0;return new s(C,0)};function x(A,T){for(;(A[T]&65535)!=A[T];)A[T+1]+=A[T]>>>16,A[T]&=65535,T++}function S(A,T){this.g=A,this.h=T}function N(A,T){if(g(T))throw Error("division by zero");if(g(A))return new S(f,f);if(_(A))return T=N(y(A),T),new S(y(T.g),y(T.h));if(_(T))return T=N(A,y(T)),new S(y(T.g),T.h);if(A.g.length>30){if(_(A)||_(T))throw Error("slowDivide_ only works with positive integers.");for(var C=m,k=T;k.l(A)<=0;)C=P(C),k=P(k);var j=O(C,1),R=O(k,1);for(k=O(k,2),C=O(C,2);!g(k);){var D=R.add(k);D.l(A)<=0&&(j=j.add(C),R=D),k=O(k,1),C=O(C,1)}return T=w(A,j.j(T)),new S(j,T)}for(j=f;A.l(T)>=0;){for(C=Math.max(1,Math.floor(A.m()/T.m())),k=Math.ceil(Math.log(C)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),R=u(C),D=R.j(T);_(D)||D.l(A)>0;)C-=k,R=u(C),D=R.j(T);g(R)&&(R=m),j=j.add(R),A=w(A,D)}return new S(j,A)}e.B=function(A){return N(this,A).h},e.and=function(A){const T=Math.max(this.g.length,A.g.length),C=[];for(let k=0;k<T;k++)C[k]=this.i(k)&A.i(k);return new s(C,this.h&A.h)},e.or=function(A){const T=Math.max(this.g.length,A.g.length),C=[];for(let k=0;k<T;k++)C[k]=this.i(k)|A.i(k);return new s(C,this.h|A.h)},e.xor=function(A){const T=Math.max(this.g.length,A.g.length),C=[];for(let k=0;k<T;k++)C[k]=this.i(k)^A.i(k);return new s(C,this.h^A.h)};function P(A){const T=A.g.length+1,C=[];for(let k=0;k<T;k++)C[k]=A.i(k)<<1|A.i(k-1)>>>31;return new s(C,A.h)}function O(A,T){const C=T>>5;T%=32;const k=A.g.length-C,j=[];for(let R=0;R<k;R++)j[R]=T>0?A.i(R+C)>>>T|A.i(R+C+1)<<32-T:A.i(R+C);return new s(j,A.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Jk=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=c,ds=s}).apply(typeof yN<"u"?yN:typeof self<"u"?self:typeof window<"u"?window:{});var Ph=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var eD,Cc,tD,_m,tx,nD,rD,iD;(function(){var e,t=Object.defineProperty;function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ph=="object"&&Ph];for(var v=0;v<d.length;++v){var E=d[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function i(d,v){if(v)e:{var E=r;d=d.split(".");for(var I=0;I<d.length-1;I++){var M=d[I];if(!(M in E))break e;E=E[M]}d=d[d.length-1],I=E[d],v=v(I),v!=I&&v!=null&&t(E,d,{configurable:!0,writable:!0,value:v})}}i("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(d){return d||function(v){var E=[],I;for(I in v)Object.prototype.hasOwnProperty.call(v,I)&&E.push([I,v[I]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function o(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function l(d,v,E){return d.call.apply(d.bind,arguments)}function u(d,v,E){return u=l,u.apply(null,arguments)}function c(d,v){var E=Array.prototype.slice.call(arguments,1);return function(){var I=E.slice();return I.push.apply(I,arguments),d.apply(this,I)}}function f(d,v){function E(){}E.prototype=v.prototype,d.Z=v.prototype,d.prototype=new E,d.prototype.constructor=d,d.Ob=function(I,M,L){for(var H=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)H[fe-2]=arguments[fe];return v.prototype[M].apply(I,H)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function p(d){const v=d.length;if(v>0){const E=Array(v);for(let I=0;I<v;I++)E[I]=d[I];return E}return[]}function g(d,v){for(let I=1;I<arguments.length;I++){const M=arguments[I];var E=typeof M;if(E=E!="object"?E:M?Array.isArray(M)?"array":E:"null",E=="array"||E=="object"&&typeof M.length=="number"){E=d.length||0;const L=M.length||0;d.length=E+L;for(let H=0;H<L;H++)d[E+H]=M[H]}else d.push(M)}}class _{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function y(d){s.setTimeout(()=>{throw d},0)}function w(){var d=A;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class x{constructor(){this.h=this.g=null}add(v,E){const I=S.get();I.set(v,E),this.h?this.h.next=I:this.g=I,this.h=I}}var S=new _(()=>new N,d=>d.reset());class N{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let P,O=!1,A=new x,T=()=>{const d=Promise.resolve(void 0);P=()=>{d.then(C)}};function C(){for(var d;d=w();){try{d.h.call(d.g)}catch(E){y(E)}var v=S;v.j(d),v.h<100&&(v.h++,d.next=v.g,v.g=d)}O=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var R=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};s.addEventListener("test",E,v),s.removeEventListener("test",E,v)}catch{}return d}();function D(d){return/^[\s\xa0]*$/.test(d)}function Z(d,v){j.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,v)}f(Z,j),Z.prototype.init=function(d,v){const E=this.type=d.type,I=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget,v||(E=="mouseover"?v=d.fromElement:E=="mouseout"&&(v=d.toElement)),this.relatedTarget=v,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&Z.Z.h.call(this)},Z.prototype.h=function(){Z.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var oe="closure_listenable_"+(Math.random()*1e6|0),q=0;function K(d,v,E,I,M){this.listener=d,this.proxy=null,this.src=v,this.type=E,this.capture=!!I,this.ha=M,this.key=++q,this.da=this.fa=!1}function W(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function te(d,v,E){for(const I in d)v.call(E,d[I],I,d)}function le(d,v){for(const E in d)v.call(void 0,d[E],E,d)}function We(d){const v={};for(const E in d)v[E]=d[E];return v}const ft="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function jt(d,v){let E,I;for(let M=1;M<arguments.length;M++){I=arguments[M];for(E in I)d[E]=I[E];for(let L=0;L<ft.length;L++)E=ft[L],Object.prototype.hasOwnProperty.call(I,E)&&(d[E]=I[E])}}function je(d){this.src=d,this.g={},this.h=0}je.prototype.add=function(d,v,E,I,M){const L=d.toString();d=this.g[L],d||(d=this.g[L]=[],this.h++);const H=Ci(d,v,I,M);return H>-1?(v=d[H],E||(v.fa=!1)):(v=new K(v,this.src,L,!!I,M),v.fa=E,d.push(v)),v};function dn(d,v){const E=v.type;if(E in d.g){var I=d.g[E],M=Array.prototype.indexOf.call(I,v,void 0),L;(L=M>=0)&&Array.prototype.splice.call(I,M,1),L&&(W(v),d.g[E].length==0&&(delete d.g[E],d.h--))}}function Ci(d,v,E,I){for(let M=0;M<d.length;++M){const L=d[M];if(!L.da&&L.listener==v&&L.capture==!!E&&L.ha==I)return M}return-1}var kt="closure_lm_"+(Math.random()*1e6|0),Vs={};function $(d,v,E,I,M){if(Array.isArray(v)){for(let L=0;L<v.length;L++)$(d,v[L],E,I,M);return null}return E=zu(E),d&&d[oe]?d.J(v,E,o(I)?!!I.capture:!1,M):de(d,v,E,!1,I,M)}function de(d,v,E,I,M,L){if(!v)throw Error("Invalid event type");const H=o(M)?!!M.capture:!!M;let fe=Yt(d);if(fe||(d[kt]=fe=new je(d)),E=fe.add(v,E,I,H,L),E.proxy)return E;if(I=_e(),E.proxy=I,I.src=d,I.listener=E,d.addEventListener)R||(M=H),M===void 0&&(M=!1),d.addEventListener(v.toString(),I,M);else if(d.attachEvent)d.attachEvent(Ne(v.toString()),I);else if(d.addListener&&d.removeListener)d.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return E}function _e(){function d(E){return v.call(d.src,d.listener,E)}const v=_n;return d}function F(d,v,E,I,M){if(Array.isArray(v))for(var L=0;L<v.length;L++)F(d,v[L],E,I,M);else I=o(I)?!!I.capture:!!I,E=zu(E),d&&d[oe]?(d=d.i,L=String(v).toString(),L in d.g&&(v=d.g[L],E=Ci(v,E,I,M),E>-1&&(W(v[E]),Array.prototype.splice.call(v,E,1),v.length==0&&(delete d.g[L],d.h--)))):d&&(d=Yt(d))&&(v=d.g[v.toString()],d=-1,v&&(d=Ci(v,E,I,M)),(E=d>-1?v[d]:null)&&Dt(E))}function Dt(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[oe])dn(v.i,d);else{var E=d.type,I=d.proxy;v.removeEventListener?v.removeEventListener(E,I,d.capture):v.detachEvent?v.detachEvent(Ne(E),I):v.addListener&&v.removeListener&&v.removeListener(I),(E=Yt(v))?(dn(E,d),E.h==0&&(E.src=null,v[kt]=null)):W(d)}}}function Ne(d){return d in Vs?Vs[d]:Vs[d]="on"+d}function _n(d,v){if(d.da)d=!0;else{v=new Z(v,this);const E=d.listener,I=d.ha||d.src;d.fa&&Dt(d),d=E.call(I,v)}return d}function Yt(d){return d=d[kt],d instanceof je?d:null}var jr="__closure_events_fn_"+(Math.random()*1e9>>>0);function zu(d){return typeof d=="function"?d:(d[jr]||(d[jr]=function(v){return d.handleEvent(v)}),d[jr])}function hn(){k.call(this),this.i=new je(this),this.M=this,this.G=null}f(hn,k),hn.prototype[oe]=!0,hn.prototype.removeEventListener=function(d,v,E,I){F(this,d,v,E,I)};function wn(d,v){var E,I=d.G;if(I)for(E=[];I;I=I.G)E.push(I);if(d=d.M,I=v.type||v,typeof v=="string")v=new j(v,d);else if(v instanceof j)v.target=v.target||d;else{var M=v;v=new j(I,d),jt(v,M)}M=!0;let L,H;if(E)for(H=E.length-1;H>=0;H--)L=v.g=E[H],M=th(L,I,!0,v)&&M;if(L=v.g=d,M=th(L,I,!0,v)&&M,M=th(L,I,!1,v)&&M,E)for(H=0;H<E.length;H++)L=v.g=E[H],M=th(L,I,!1,v)&&M}hn.prototype.N=function(){if(hn.Z.N.call(this),this.i){var d=this.i;for(const v in d.g){const E=d.g[v];for(let I=0;I<E.length;I++)W(E[I]);delete d.g[v],d.h--}}this.G=null},hn.prototype.J=function(d,v,E,I){return this.i.add(String(d),v,!1,E,I)},hn.prototype.K=function(d,v,E,I){return this.i.add(String(d),v,!0,E,I)};function th(d,v,E,I){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();let M=!0;for(let L=0;L<v.length;++L){const H=v[L];if(H&&!H.da&&H.capture==E){const fe=H.listener,Tt=H.ha||H.src;H.fa&&dn(d.i,H),M=fe.call(Tt,I)!==!1&&M}}return M&&!I.defaultPrevented}function V5(d,v){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=u(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:s.setTimeout(d,v||0)}function fS(d){d.g=V5(()=>{d.g=null,d.i&&(d.i=!1,fS(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class U5 extends k{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:fS(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bu(d){k.call(this),this.h=d,this.g={}}f(Bu,k);var dS=[];function hS(d){te(d.g,function(v,E){this.g.hasOwnProperty(E)&&Dt(v)},d),d.g={}}Bu.prototype.N=function(){Bu.Z.N.call(this),hS(this)},Bu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var sv=s.JSON.stringify,z5=s.JSON.parse,B5=class{stringify(d){return s.JSON.stringify(d,void 0)}parse(d){return s.JSON.parse(d,void 0)}};function mS(){}function pS(){}var $u={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ov(){j.call(this,"d")}f(ov,j);function lv(){j.call(this,"c")}f(lv,j);var Us={},gS=null;function nh(){return gS=gS||new hn}Us.Ia="serverreachability";function yS(d){j.call(this,Us.Ia,d)}f(yS,j);function Fu(d){const v=nh();wn(v,new yS(v))}Us.STAT_EVENT="statevent";function vS(d,v){j.call(this,Us.STAT_EVENT,d),this.stat=v}f(vS,j);function En(d){const v=nh();wn(v,new vS(v,d))}Us.Ja="timingevent";function bS(d,v){j.call(this,Us.Ja,d),this.size=v}f(bS,j);function qu(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){d()},v)}function Hu(){this.g=!0}Hu.prototype.ua=function(){this.g=!1};function $5(d,v,E,I,M,L){d.info(function(){if(d.g)if(L){var H="",fe=L.split("&");for(let ke=0;ke<fe.length;ke++){var Tt=fe[ke].split("=");if(Tt.length>1){const Mt=Tt[0];Tt=Tt[1];const Xr=Mt.split("_");H=Xr.length>=2&&Xr[1]=="type"?H+(Mt+"="+Tt+"&"):H+(Mt+"=redacted&")}}}else H=null;else H=L;return"XMLHTTP REQ ("+I+") [attempt "+M+"]: "+v+`
`+E+`
`+H})}function F5(d,v,E,I,M,L,H){d.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+M+"]: "+v+`
`+E+`
`+L+" "+H})}function Yo(d,v,E,I){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+H5(d,E)+(I?" "+I:"")})}function q5(d,v){d.info(function(){return"TIMEOUT: "+v})}Hu.prototype.info=function(){};function H5(d,v){if(!d.g)return v;if(!v)return null;try{const L=JSON.parse(v);if(L){for(d=0;d<L.length;d++)if(Array.isArray(L[d])){var E=L[d];if(!(E.length<2)){var I=E[1];if(Array.isArray(I)&&!(I.length<1)){var M=I[0];if(M!="noop"&&M!="stop"&&M!="close")for(let H=1;H<I.length;H++)I[H]=""}}}}return sv(L)}catch{return v}}var rh={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},xS={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},_S;function uv(){}f(uv,mS),uv.prototype.g=function(){return new XMLHttpRequest},_S=new uv;function Gu(d){return encodeURIComponent(String(d))}function G5(d){var v=1;d=d.split(":");const E=[];for(;v>0&&d.length;)E.push(d.shift()),v--;return d.length&&E.push(d.join(":")),E}function Aa(d,v,E,I){this.j=d,this.i=v,this.l=E,this.S=I||1,this.V=new Bu(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new wS}function wS(){this.i=null,this.g="",this.h=!1}var ES={},cv={};function fv(d,v,E){d.M=1,d.A=ah(Wr(v)),d.u=E,d.R=!0,SS(d,null)}function SS(d,v){d.F=Date.now(),ih(d),d.B=Wr(d.A);var E=d.B,I=d.S;Array.isArray(I)||(I=[String(I)]),LS(E.i,"t",I),d.C=0,E=d.j.L,d.h=new wS,d.g=tA(d.j,E?v:null,!d.u),d.P>0&&(d.O=new U5(u(d.Y,d,d.g),d.P)),v=d.V,E=d.g,I=d.ba;var M="readystatechange";Array.isArray(M)||(M&&(dS[0]=M.toString()),M=dS);for(let L=0;L<M.length;L++){const H=$(E,M[L],I||v.handleEvent,!1,v.h||v);if(!H)break;v.g[H.key]=H}v=d.J?We(d.J):{},d.u?(d.v||(d.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,v)):(d.v="GET",d.g.ea(d.B,d.v,null,v)),Fu(),$5(d.i,d.v,d.B,d.l,d.S,d.u)}Aa.prototype.ba=function(d){d=d.target;const v=this.O;v&&Ca(d)==3?v.j():this.Y(d)},Aa.prototype.Y=function(d){try{if(d==this.g)e:{const fe=Ca(this.g),Tt=this.g.ya(),ke=this.g.ca();if(!(fe<3)&&(fe!=3||this.g&&(this.h.h||this.g.la()||qS(this.g)))){this.K||fe!=4||Tt==7||(Tt==8||ke<=0?Fu(3):Fu(2)),dv(this);var v=this.g.ca();this.X=v;var E=K5(this);if(this.o=v==200,F5(this.i,this.v,this.B,this.l,this.S,fe,v),this.o){if(this.U&&!this.L){t:{if(this.g){var I,M=this.g;if((I=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(I)){var L=I;break t}}L=null}if(d=L)Yo(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,hv(this,d);else{this.o=!1,this.m=3,En(12),zs(this),Ku(this);break e}}if(this.R){d=!0;let Mt;for(;!this.K&&this.C<E.length;)if(Mt=Y5(this,E),Mt==cv){fe==4&&(this.m=4,En(14),d=!1),Yo(this.i,this.l,null,"[Incomplete Response]");break}else if(Mt==ES){this.m=4,En(15),Yo(this.i,this.l,E,"[Invalid Chunk]"),d=!1;break}else Yo(this.i,this.l,Mt,null),hv(this,Mt);if(AS(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),fe!=4||E.length!=0||this.h.h||(this.m=1,En(16),d=!1),this.o=this.o&&d,!d)Yo(this.i,this.l,E,"[Invalid Chunked Response]"),zs(this),Ku(this);else if(E.length>0&&!this.W){this.W=!0;var H=this.j;H.g==this&&H.aa&&!H.P&&(H.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),_v(H),H.P=!0,En(11))}}else Yo(this.i,this.l,E,null),hv(this,E);fe==4&&zs(this),this.o&&!this.K&&(fe==4?QS(this.j,this):(this.o=!1,ih(this)))}else lU(this.g),v==400&&E.indexOf("Unknown SID")>0?(this.m=3,En(12)):(this.m=0,En(13)),zs(this),Ku(this)}}}catch{}finally{}};function K5(d){if(!AS(d))return d.g.la();const v=qS(d.g);if(v==="")return"";let E="";const I=v.length,M=Ca(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return zs(d),Ku(d),"";d.h.i=new s.TextDecoder}for(let L=0;L<I;L++)d.h.h=!0,E+=d.h.i.decode(v[L],{stream:!(M&&L==I-1)});return v.length=0,d.h.g+=E,d.C=0,d.h.g}function AS(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function Y5(d,v){var E=d.C,I=v.indexOf(`
`,E);return I==-1?cv:(E=Number(v.substring(E,I)),isNaN(E)?ES:(I+=1,I+E>v.length?cv:(v=v.slice(I,I+E),d.C=I+E,v)))}Aa.prototype.cancel=function(){this.K=!0,zs(this)};function ih(d){d.T=Date.now()+d.H,TS(d,d.H)}function TS(d,v){if(d.D!=null)throw Error("WatchDog timer not null");d.D=qu(u(d.aa,d),v)}function dv(d){d.D&&(s.clearTimeout(d.D),d.D=null)}Aa.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(q5(this.i,this.B),this.M!=2&&(Fu(),En(17)),zs(this),this.m=2,Ku(this)):TS(this,this.T-d)};function Ku(d){d.j.I==0||d.K||QS(d.j,d)}function zs(d){dv(d);var v=d.O;v&&typeof v.dispose=="function"&&v.dispose(),d.O=null,hS(d.V),d.g&&(v=d.g,d.g=null,v.abort(),v.dispose())}function hv(d,v){try{var E=d.j;if(E.I!=0&&(E.g==d||mv(E.h,d))){if(!d.L&&mv(E.h,d)&&E.I==3){try{var I=E.Ba.g.parse(v)}catch{I=null}if(Array.isArray(I)&&I.length==3){var M=I;if(M[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<d.F)ch(E),lh(E);else break e;xv(E),En(18)}}else E.xa=M[1],0<E.xa-E.K&&M[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=qu(u(E.Va,E),6e3));OS(E.h)<=1&&E.ta&&(E.ta=void 0)}else $s(E,11)}else if((d.L||E.g==d)&&ch(E),!D(v))for(M=E.Ba.g.parse(v),v=0;v<M.length;v++){let ke=M[v];const Mt=ke[0];if(!(Mt<=E.K))if(E.K=Mt,ke=ke[1],E.I==2)if(ke[0]=="c"){E.M=ke[1],E.ba=ke[2];const Xr=ke[3];Xr!=null&&(E.ka=Xr,E.j.info("VER="+E.ka));const Fs=ke[4];Fs!=null&&(E.za=Fs,E.j.info("SVER="+E.za));const Oa=ke[5];Oa!=null&&typeof Oa=="number"&&Oa>0&&(I=1.5*Oa,E.O=I,E.j.info("backChannelRequestTimeoutMs_="+I)),I=E;const Ia=d.g;if(Ia){const dh=Ia.g?Ia.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(dh){var L=I.h;L.g||dh.indexOf("spdy")==-1&&dh.indexOf("quic")==-1&&dh.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(pv(L,L.h),L.h=null))}if(I.G){const wv=Ia.g?Ia.g.getResponseHeader("X-HTTP-Session-Id"):null;wv&&(I.wa=wv,ze(I.J,I.G,wv))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-d.F,E.j.info("Handshake RTT: "+E.T+"ms")),I=E;var H=d;if(I.na=eA(I,I.L?I.ba:null,I.W),H.L){IS(I.h,H);var fe=H,Tt=I.O;Tt&&(fe.H=Tt),fe.D&&(dv(fe),ih(fe)),I.g=H}else WS(I);E.i.length>0&&uh(E)}else ke[0]!="stop"&&ke[0]!="close"||$s(E,7);else E.I==3&&(ke[0]=="stop"||ke[0]=="close"?ke[0]=="stop"?$s(E,7):bv(E):ke[0]!="noop"&&E.l&&E.l.qa(ke),E.A=0)}}Fu(4)}catch{}}var W5=class{constructor(d,v){this.g=d,this.map=v}};function NS(d){this.l=d||10,s.PerformanceNavigationTiming?(d=s.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function CS(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function OS(d){return d.h?1:d.g?d.g.size:0}function mv(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function pv(d,v){d.g?d.g.add(v):d.h=v}function IS(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}NS.prototype.cancel=function(){if(this.i=PS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function PS(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const E of d.g.values())v=v.concat(E.G);return v}return p(d.i)}var RS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function X5(d,v){if(d){d=d.split("&");for(let E=0;E<d.length;E++){const I=d[E].indexOf("=");let M,L=null;I>=0?(M=d[E].substring(0,I),L=d[E].substring(I+1)):M=d[E],v(M,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Ta(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;d instanceof Ta?(this.l=d.l,Yu(this,d.j),this.o=d.o,this.g=d.g,Wu(this,d.u),this.h=d.h,gv(this,VS(d.i)),this.m=d.m):d&&(v=String(d).match(RS))?(this.l=!1,Yu(this,v[1]||"",!0),this.o=Xu(v[2]||""),this.g=Xu(v[3]||"",!0),Wu(this,v[4]),this.h=Xu(v[5]||"",!0),gv(this,v[6]||"",!0),this.m=Xu(v[7]||"")):(this.l=!1,this.i=new Zu(null,this.l))}Ta.prototype.toString=function(){const d=[];var v=this.j;v&&d.push(Qu(v,jS,!0),":");var E=this.g;return(E||v=="file")&&(d.push("//"),(v=this.o)&&d.push(Qu(v,jS,!0),"@"),d.push(Gu(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&d.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push(Qu(E,E.charAt(0)=="/"?J5:Z5,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",Qu(E,tU)),d.join("")},Ta.prototype.resolve=function(d){const v=Wr(this);let E=!!d.j;E?Yu(v,d.j):E=!!d.o,E?v.o=d.o:E=!!d.g,E?v.g=d.g:E=d.u!=null;var I=d.h;if(E)Wu(v,d.u);else if(E=!!d.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var M=v.h.lastIndexOf("/");M!=-1&&(I=v.h.slice(0,M+1)+I)}if(M=I,M==".."||M==".")I="";else if(M.indexOf("./")!=-1||M.indexOf("/.")!=-1){I=M.lastIndexOf("/",0)==0,M=M.split("/");const L=[];for(let H=0;H<M.length;){const fe=M[H++];fe=="."?I&&H==M.length&&L.push(""):fe==".."?((L.length>1||L.length==1&&L[0]!="")&&L.pop(),I&&H==M.length&&L.push("")):(L.push(fe),I=!0)}I=L.join("/")}else I=M}return E?v.h=I:E=d.i.toString()!=="",E?gv(v,VS(d.i)):E=!!d.m,E&&(v.m=d.m),v};function Wr(d){return new Ta(d)}function Yu(d,v,E){d.j=E?Xu(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function Wu(d,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);d.u=v}else d.u=null}function gv(d,v,E){v instanceof Zu?(d.i=v,nU(d.i,d.l)):(E||(v=Qu(v,eU)),d.i=new Zu(v,d.l))}function ze(d,v,E){d.i.set(v,E)}function ah(d){return ze(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function Xu(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Qu(d,v,E){return typeof d=="string"?(d=encodeURI(d).replace(v,Q5),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Q5(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var jS=/[#\/\?@]/g,Z5=/[#\?:]/g,J5=/[#\?]/g,eU=/[#\?@]/g,tU=/#/g;function Zu(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function Bs(d){d.g||(d.g=new Map,d.h=0,d.i&&X5(d.i,function(v,E){d.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}e=Zu.prototype,e.add=function(d,v){Bs(this),this.i=null,d=Wo(this,d);let E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(v),this.h+=1,this};function kS(d,v){Bs(d),v=Wo(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function DS(d,v){return Bs(d),v=Wo(d,v),d.g.has(v)}e.forEach=function(d,v){Bs(this),this.g.forEach(function(E,I){E.forEach(function(M){d.call(v,M,I,this)},this)},this)};function MS(d,v){Bs(d);let E=[];if(typeof v=="string")DS(d,v)&&(E=E.concat(d.g.get(Wo(d,v))));else for(d=Array.from(d.g.values()),v=0;v<d.length;v++)E=E.concat(d[v]);return E}e.set=function(d,v){return Bs(this),this.i=null,d=Wo(this,d),DS(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},e.get=function(d,v){return d?(d=MS(this,d),d.length>0?String(d[0]):v):v};function LS(d,v,E){kS(d,v),E.length>0&&(d.i=null,d.g.set(Wo(d,v),p(E)),d.h+=E.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(let I=0;I<v.length;I++){var E=v[I];const M=Gu(E);E=MS(this,E);for(let L=0;L<E.length;L++){let H=M;E[L]!==""&&(H+="="+Gu(E[L])),d.push(H)}}return this.i=d.join("&")};function VS(d){const v=new Zu;return v.i=d.i,d.g&&(v.g=new Map(d.g),v.h=d.h),v}function Wo(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function nU(d,v){v&&!d.j&&(Bs(d),d.i=null,d.g.forEach(function(E,I){const M=I.toLowerCase();I!=M&&(kS(this,I),LS(this,M,E))},d)),d.j=v}function rU(d,v){const E=new Hu;if(s.Image){const I=new Image;I.onload=c(Na,E,"TestLoadImage: loaded",!0,v,I),I.onerror=c(Na,E,"TestLoadImage: error",!1,v,I),I.onabort=c(Na,E,"TestLoadImage: abort",!1,v,I),I.ontimeout=c(Na,E,"TestLoadImage: timeout",!1,v,I),s.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=d}else v(!1)}function iU(d,v){const E=new Hu,I=new AbortController,M=setTimeout(()=>{I.abort(),Na(E,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:I.signal}).then(L=>{clearTimeout(M),L.ok?Na(E,"TestPingServer: ok",!0,v):Na(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(M),Na(E,"TestPingServer: error",!1,v)})}function Na(d,v,E,I,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),I(E)}catch{}}function aU(){this.g=new B5}function yv(d){this.i=d.Sb||null,this.h=d.ab||!1}f(yv,mS),yv.prototype.g=function(){return new sh(this.i,this.h)};function sh(d,v){hn.call(this),this.H=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(sh,hn),e=sh.prototype,e.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=v,this.readyState=1,ec(this)},e.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(v.body=d),(this.H||s).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ju(this)),this.readyState=0},e.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,ec(this)),this.g&&(this.readyState=3,ec(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;US(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function US(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}e.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?Ju(this):ec(this),this.readyState==3&&US(this)}},e.Oa=function(d){this.g&&(this.response=this.responseText=d,Ju(this))},e.Na=function(d){this.g&&(this.response=d,Ju(this))},e.ga=function(){this.g&&Ju(this)};function Ju(d){d.readyState=4,d.l=null,d.j=null,d.B=null,ec(d)}e.setRequestHeader=function(d,v){this.A.append(d,v)},e.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=v.next();return d.join(`\r
`)};function ec(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(sh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function zS(d){let v="";return te(d,function(E,I){v+=I,v+=":",v+=E,v+=`\r
`}),v}function vv(d,v,E){e:{for(I in E){var I=!1;break e}I=!0}I||(E=zS(E),typeof d=="string"?E!=null&&Gu(E):ze(d,v,E))}function rt(d){hn.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(rt,hn);var sU=/^https?$/i,oU=["POST","PUT"];e=rt.prototype,e.Fa=function(d){this.H=d},e.ea=function(d,v,E,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():_S.g(),this.g.onreadystatechange=m(u(this.Ca,this));try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(L){BS(this,L);return}if(d=E||"",E=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var M in I)E.set(M,I[M]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const L of I.keys())E.set(L,I.get(L));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(E.keys()).find(L=>L.toLowerCase()=="content-type"),M=s.FormData&&d instanceof s.FormData,!(Array.prototype.indexOf.call(oU,v,void 0)>=0)||I||M||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,H]of E)this.g.setRequestHeader(L,H);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(L){BS(this,L)}};function BS(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.o=5,$S(d),oh(d)}function $S(d){d.A||(d.A=!0,wn(d,"complete"),wn(d,"error"))}e.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,wn(this,"complete"),wn(this,"abort"),oh(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),oh(this,!0)),rt.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?FS(this):this.Xa())},e.Xa=function(){FS(this)};function FS(d){if(d.h&&typeof a<"u"){if(d.v&&Ca(d)==4)setTimeout(d.Ca.bind(d),0);else if(wn(d,"readystatechange"),Ca(d)==4){d.h=!1;try{const L=d.ca();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var I;if(I=L===0){let H=String(d.D).match(RS)[1]||null;!H&&s.self&&s.self.location&&(H=s.self.location.protocol.slice(0,-1)),I=!sU.test(H?H.toLowerCase():"")}E=I}if(E)wn(d,"complete"),wn(d,"success");else{d.o=6;try{var M=Ca(d)>2?d.g.statusText:""}catch{M=""}d.l=M+" ["+d.ca()+"]",$S(d)}}finally{oh(d)}}}}function oh(d,v){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const E=d.g;d.g=null,v||wn(d,"ready");try{E.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function Ca(d){return d.g?d.g.readyState:0}e.ca=function(){try{return Ca(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),z5(v)}};function qS(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function lU(d){const v={};d=(d.g&&Ca(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<d.length;I++){if(D(d[I]))continue;var E=G5(d[I]);const M=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const L=v[M]||[];v[M]=L,L.push(E)}le(v,function(I){return I.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function tc(d,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||v}function HS(d){this.za=0,this.i=[],this.j=new Hu,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=tc("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=tc("baseRetryDelayMs",5e3,d),this.Za=tc("retryDelaySeedMs",1e4,d),this.Ta=tc("forwardChannelMaxRetries",2,d),this.va=tc("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new NS(d&&d.concurrentRequestLimit),this.Ba=new aU,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=HS.prototype,e.ka=8,e.I=1,e.connect=function(d,v,E,I){En(0),this.W=d,this.H=v||{},E&&I!==void 0&&(this.H.OSID=E,this.H.OAID=I),this.F=this.X,this.J=eA(this,null,this.W),uh(this)};function bv(d){if(GS(d),d.I==3){var v=d.V++,E=Wr(d.J);if(ze(E,"SID",d.M),ze(E,"RID",v),ze(E,"TYPE","terminate"),nc(d,E),v=new Aa(d,d.j,v),v.M=2,v.A=ah(Wr(E)),E=!1,s.navigator&&s.navigator.sendBeacon)try{E=s.navigator.sendBeacon(v.A.toString(),"")}catch{}!E&&s.Image&&(new Image().src=v.A,E=!0),E||(v.g=tA(v.j,null),v.g.ea(v.A)),v.F=Date.now(),ih(v)}JS(d)}function lh(d){d.g&&(_v(d),d.g.cancel(),d.g=null)}function GS(d){lh(d),d.v&&(s.clearTimeout(d.v),d.v=null),ch(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&s.clearTimeout(d.m),d.m=null)}function uh(d){if(!CS(d.h)&&!d.m){d.m=!0;var v=d.Ea;P||T(),O||(P(),O=!0),A.add(v,d),d.D=0}}function uU(d,v){return OS(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=v.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=qu(u(d.Ea,d,v),ZS(d,d.D)),d.D++,!0)}e.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const M=new Aa(this,this.j,d);let L=this.o;if(this.U&&(L?(L=We(L),jt(L,this.U)):L=this.U),this.u!==null||this.R||(M.J=L,L=null),this.S)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var I=this.i[E];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(v+=I,v>4096){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=YS(this,M,v),E=Wr(this.J),ze(E,"RID",d),ze(E,"CVER",22),this.G&&ze(E,"X-HTTP-Session-Id",this.G),nc(this,E),L&&(this.R?v="headers="+Gu(zS(L))+"&"+v:this.u&&vv(E,this.u,L)),pv(this.h,M),this.Ra&&ze(E,"TYPE","init"),this.S?(ze(E,"$req",v),ze(E,"SID","null"),M.U=!0,fv(M,E,null)):fv(M,E,v),this.I=2}}else this.I==3&&(d?KS(this,d):this.i.length==0||CS(this.h)||KS(this))};function KS(d,v){var E;v?E=v.l:E=d.V++;const I=Wr(d.J);ze(I,"SID",d.M),ze(I,"RID",E),ze(I,"AID",d.K),nc(d,I),d.u&&d.o&&vv(I,d.u,d.o),E=new Aa(d,d.j,E,d.D+1),d.u===null&&(E.J=d.o),v&&(d.i=v.G.concat(d.i)),v=YS(d,E,1e3),E.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),pv(d.h,E),fv(E,I,v)}function nc(d,v){d.H&&te(d.H,function(E,I){ze(v,I,E)}),d.l&&te({},function(E,I){ze(v,I,E)})}function YS(d,v,E){E=Math.min(d.i.length,E);const I=d.l?u(d.l.Ka,d.l,d):null;e:{var M=d.i;let fe=-1;for(;;){const Tt=["count="+E];fe==-1?E>0?(fe=M[0].g,Tt.push("ofs="+fe)):fe=0:Tt.push("ofs="+fe);let ke=!0;for(let Mt=0;Mt<E;Mt++){var L=M[Mt].g;const Xr=M[Mt].map;if(L-=fe,L<0)fe=Math.max(0,M[Mt].g-100),ke=!1;else try{L="req"+L+"_"||"";try{var H=Xr instanceof Map?Xr:Object.entries(Xr);for(const[Fs,Oa]of H){let Ia=Oa;o(Oa)&&(Ia=sv(Oa)),Tt.push(L+Fs+"="+encodeURIComponent(Ia))}}catch(Fs){throw Tt.push(L+"type="+encodeURIComponent("_badmap")),Fs}}catch{I&&I(Xr)}}if(ke){H=Tt.join("&");break e}}H=void 0}return d=d.i.splice(0,E),v.G=d,H}function WS(d){if(!d.g&&!d.v){d.Y=1;var v=d.Da;P||T(),O||(P(),O=!0),A.add(v,d),d.A=0}}function xv(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=qu(u(d.Da,d),ZS(d,d.A)),d.A++,!0)}e.Da=function(){if(this.v=null,XS(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=qu(u(this.Wa,this),d)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,En(10),lh(this),XS(this))};function _v(d){d.B!=null&&(s.clearTimeout(d.B),d.B=null)}function XS(d){d.g=new Aa(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var v=Wr(d.na);ze(v,"RID","rpc"),ze(v,"SID",d.M),ze(v,"AID",d.K),ze(v,"CI",d.F?"0":"1"),!d.F&&d.ia&&ze(v,"TO",d.ia),ze(v,"TYPE","xmlhttp"),nc(d,v),d.u&&d.o&&vv(v,d.u,d.o),d.O&&(d.g.H=d.O);var E=d.g;d=d.ba,E.M=1,E.A=ah(Wr(v)),E.u=null,E.R=!0,SS(E,d)}e.Va=function(){this.C!=null&&(this.C=null,lh(this),xv(this),En(19))};function ch(d){d.C!=null&&(s.clearTimeout(d.C),d.C=null)}function QS(d,v){var E=null;if(d.g==v){ch(d),_v(d),d.g=null;var I=2}else if(mv(d.h,v))E=v.G,IS(d.h,v),I=1;else return;if(d.I!=0){if(v.o)if(I==1){E=v.u?v.u.length:0,v=Date.now()-v.F;var M=d.D;I=nh(),wn(I,new bS(I,E)),uh(d)}else WS(d);else if(M=v.m,M==3||M==0&&v.X>0||!(I==1&&uU(d,v)||I==2&&xv(d)))switch(E&&E.length>0&&(v=d.h,v.i=v.i.concat(E)),M){case 1:$s(d,5);break;case 4:$s(d,10);break;case 3:$s(d,6);break;default:$s(d,2)}}}function ZS(d,v){let E=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(E*=2),E*v}function $s(d,v){if(d.j.info("Error code "+v),v==2){var E=u(d.bb,d),I=d.Ua;const M=!I;I=new Ta(I||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Yu(I,"https"),ah(I),M?rU(I.toString(),E):iU(I.toString(),E)}else En(2);d.I=0,d.l&&d.l.pa(v),JS(d),GS(d)}e.bb=function(d){d?(this.j.info("Successfully pinged google.com"),En(2)):(this.j.info("Failed to ping google.com"),En(1))};function JS(d){if(d.I=0,d.ja=[],d.l){const v=PS(d.h);(v.length!=0||d.i.length!=0)&&(g(d.ja,v),g(d.ja,d.i),d.h.i.length=0,p(d.i),d.i.length=0),d.l.oa()}}function eA(d,v,E){var I=E instanceof Ta?Wr(E):new Ta(E);if(I.g!="")v&&(I.g=v+"."+I.g),Wu(I,I.u);else{var M=s.location;I=M.protocol,v=v?v+"."+M.hostname:M.hostname,M=+M.port;const L=new Ta(null);I&&Yu(L,I),v&&(L.g=v),M&&Wu(L,M),E&&(L.h=E),I=L}return E=d.G,v=d.wa,E&&v&&ze(I,E,v),ze(I,"VER",d.ka),nc(d,I),I}function tA(d,v,E){if(v&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Aa&&!d.ma?new rt(new yv({ab:E})):new rt(d.ma),v.Fa(d.L),v}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function nA(){}e=nA.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function fh(){}fh.prototype.g=function(d,v){return new Kn(d,v)};function Kn(d,v){hn.call(this),this.g=new HS(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(d?d["X-WebChannel-Client-Profile"]=v.sa:d={"X-WebChannel-Client-Profile":v.sa}),this.g.U=d,(d=v&&v.Qb)&&!D(d)&&(this.g.u=d),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!D(v)&&(this.g.G=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new Xo(this)}f(Kn,hn),Kn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Kn.prototype.close=function(){bv(this.g)},Kn.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.v&&(E={},E.__data__=sv(d),d=E);v.i.push(new W5(v.Ya++,d)),v.I==3&&uh(v)},Kn.prototype.N=function(){this.g.l=null,delete this.j,bv(this.g),delete this.g,Kn.Z.N.call(this)};function rA(d){ov.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const E in v){d=E;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}f(rA,ov);function iA(){lv.call(this),this.status=1}f(iA,lv);function Xo(d){this.g=d}f(Xo,nA),Xo.prototype.ra=function(){wn(this.g,"a")},Xo.prototype.qa=function(d){wn(this.g,new rA(d))},Xo.prototype.pa=function(d){wn(this.g,new iA)},Xo.prototype.oa=function(){wn(this.g,"b")},fh.prototype.createWebChannel=fh.prototype.g,Kn.prototype.send=Kn.prototype.o,Kn.prototype.open=Kn.prototype.m,Kn.prototype.close=Kn.prototype.close,iD=function(){return new fh},rD=function(){return nh()},nD=Us,tx={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},rh.NO_ERROR=0,rh.TIMEOUT=8,rh.HTTP_ERROR=6,_m=rh,xS.COMPLETE="complete",tD=xS,pS.EventType=$u,$u.OPEN="a",$u.CLOSE="b",$u.ERROR="c",$u.MESSAGE="d",hn.prototype.listen=hn.prototype.J,Cc=pS,rt.prototype.listenOnce=rt.prototype.K,rt.prototype.getLastError=rt.prototype.Ha,rt.prototype.getLastErrorCode=rt.prototype.ya,rt.prototype.getStatus=rt.prototype.ca,rt.prototype.getResponseJson=rt.prototype.La,rt.prototype.getResponseText=rt.prototype.la,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Fa,eD=rt}).apply(typeof Ph<"u"?Ph:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}gn.UNAUTHENTICATED=new gn(null),gn.GOOGLE_CREDENTIALS=new gn("google-credentials-uid"),gn.FIRST_PARTY=new gn("first-party-uid"),gn.MOCK_USER=new gn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Su="12.8.0";function Vq(e){Su=e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To=new ww("@firebase/firestore");function sl(){return To.logLevel}function Y(e,...t){if(To.logLevel<=pe.DEBUG){const n=t.map(jw);To.debug(`Firestore (${Su}): ${e}`,...n)}}function sa(e,...t){if(To.logLevel<=pe.ERROR){const n=t.map(jw);To.error(`Firestore (${Su}): ${e}`,...n)}}function Jl(e,...t){if(To.logLevel<=pe.WARN){const n=t.map(jw);To.warn(`Firestore (${Su}): ${e}`,...n)}}function jw(e){if(typeof e=="string")return e;try{return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function re(e,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,aD(e,r,n)}function aD(e,t,n){let r=`FIRESTORE (${Su}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw sa(r),new Error(r)}function Te(e,t,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,e||aD(t,i,r)}function se(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class G extends Ti{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Uq{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(gn.UNAUTHENTICATED))}shutdown(){}}class zq{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Bq{constructor(t){this.t=t,this.currentUser=gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Te(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let a=new Wi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Wi,t.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=a;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Wi)}},0),s()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Te(typeof r.accessToken=="string",31837,{l:r}),new sD(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Te(t===null||typeof t=="string",2055,{h:t}),new gn(t)}}class $q{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=gn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class Fq{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new $q(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(gn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class vN{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qq{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,xr(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Te(this.o===void 0,3512);const r=a=>{a.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,Y("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable(()=>r(a))};const i=a=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new vN(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Te(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new vN(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hq(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Hq(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=t.charAt(i[a]%62))}return r}}function ge(e,t){return e<t?-1:e>t?1:0}function nx(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const i=e.charAt(r),a=t.charAt(r);if(i!==a)return y0(i)===y0(a)?ge(i,a):y0(i)?1:-1}return ge(e.length,t.length)}const Gq=55296,Kq=57343;function y0(e){const t=e.charCodeAt(0);return t>=Gq&&t<=Kq}function eu(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN="__name__";class ei{constructor(t,n,r){n===void 0?n=0:n>t.length&&re(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&re(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return ei.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ei?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const a=ei.compareSegments(t.get(i),n.get(i));if(a!==0)return a}return ge(t.length,n.length)}static compareSegments(t,n){const r=ei.isNumericId(t),i=ei.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?ei.extractNumericId(t).compare(ei.extractNumericId(n)):nx(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ds.fromString(t.substring(4,t.length-2))}}class Le extends ei{construct(t,n,r){return new Le(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new G(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Le(n)}static emptyPath(){return new Le([])}}const Yq=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends ei{construct(t,n,r){return new an(t,n,r)}static isValidIdentifier(t){return Yq.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===bN}static keyField(){return new an([bN])}static fromServerFormat(t){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new G(U.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<t.length;){const o=t[i];if(o==="\\"){if(i+1===t.length)throw new G(U.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new G(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else o==="`"?(s=!s,i++):o!=="."||s?(r+=o,i++):(a(),i++)}if(a(),s)throw new G(U.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new an(n)}static emptyPath(){return new an([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(t){this.path=t}static fromPath(t){return new J(Le.fromString(t))}static fromName(t){return new J(Le.fromString(t).popFirst(5))}static empty(){return new J(Le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Le.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Le.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new J(new Le(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oD(e,t,n){if(!n)throw new G(U.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Wq(e,t,n,r){if(t===!0&&r===!0)throw new G(U.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function xN(e){if(!J.isDocumentKey(e))throw new G(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function _N(e){if(J.isDocumentKey(e))throw new G(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function lD(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function Kg(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":re(12329,{type:typeof e})}function sr(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new G(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Kg(e);throw new G(U.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(e,t){const n={typeString:e};return t&&(n.value=t),n}function bd(e,t){if(!lD(e))throw new G(U.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,a="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const s=e[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&s!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new G(U.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=-62135596800,EN=1e6;class qe{static now(){return qe.fromMillis(Date.now())}static fromDate(t){return qe.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*EN);return new qe(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new G(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<wN)throw new G(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new G(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/EN}_compareTo(t){return this.seconds===t.seconds?ge(this.nanoseconds,t.nanoseconds):ge(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:qe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(bd(t,qe._jsonSchema))return new qe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-wN;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}qe._jsonSchemaVersion="firestore/timestamp/1.0",qe._jsonSchema={type:St("string",qe._jsonSchemaVersion),seconds:St("number"),nanoseconds:St("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{static fromTimestamp(t){return new ae(t)}static min(){return new ae(new qe(0,0))}static max(){return new ae(new qe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf=-1;function Xq(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=ae.fromTimestamp(r===1e9?new qe(n+1,0):new qe(n,r));return new _s(i,J.empty(),t)}function Qq(e){return new _s(e.readTime,e.key,wf)}class _s{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new _s(ae.min(),J.empty(),wf)}static max(){return new _s(ae.max(),J.empty(),wf)}}function Zq(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=J.comparator(e.documentKey,t.documentKey),n!==0?n:ge(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eH{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Au(e){if(e.code!==U.FAILED_PRECONDITION||e.message!==Jq)throw e;Y("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new B((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(t,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):B.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):B.reject(n)}static resolve(t){return new B((n,r)=>{n(t)})}static reject(t){return new B((n,r)=>{r(t)})}static waitFor(t){return new B((n,r)=>{let i=0,a=0,s=!1;t.forEach(o=>{++i,o.next(()=>{++a,s&&a===i&&n()},l=>r(l))}),s=!0,a===i&&n()})}static or(t){let n=B.resolve(!1);for(const r of t)n=n.next(i=>i?B.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(t,n){return new B((r,i)=>{const a=t.length,s=new Array(a);let o=0;for(let l=0;l<a;l++){const u=l;n(t[u]).next(c=>{s[u]=c,++o,o===a&&r(s)},c=>i(c))}})}static doWhile(t,n){return new B((r,i)=>{const a=()=>{t()===!0?n().next(()=>{a()},i):r()};a()})}}function tH(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Tu(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Yg.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw=-1;function Wg(e){return e==null}function vp(e){return e===0&&1/e==-1/0}function nH(e){return typeof e=="number"&&Number.isInteger(e)&&!vp(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD="";function rH(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=SN(t)),t=iH(e.get(n),t);return SN(t)}function iH(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const a=e.charAt(i);switch(a){case"\0":n+="";break;case uD:n+="";break;default:n+=a}}return n}function SN(e){return e+uD+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AN(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ks(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function cD(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(t,n){this.comparator=t,this.root=n||en.EMPTY}insert(t,n){return new nt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,en.BLACK,null,null))}remove(t){return new nt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,en.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Rh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Rh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Rh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Rh(this.root,t,this.comparator,!0)}}class Rh{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(a===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class en{constructor(t,n,r,i,a){this.key=t,this.value=n,this.color=r??en.RED,this.left=i??en.EMPTY,this.right=a??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,a){return new en(t??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const a=r(t,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(t,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return en.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw re(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw re(27949);return t+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw re(57766)}get value(){throw re(16141)}get color(){throw re(16727)}get left(){throw re(29726)}get right(){throw re(36894)}copy(t,n,r,i,a){return this}insert(t,n,r){return new en(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(t){this.comparator=t,this.data=new nt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new TN(this.data.getIterator())}getIteratorFrom(t){return new TN(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof Ot)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Ot(this.comparator);return n.data=t,n}}class TN{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(t){this.fields=t,t.sort(an.comparator)}static empty(){return new Jn([])}unionWith(t){let n=new Ot(an.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Jn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return eu(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new fD("Invalid base64 string: "+a):a}}(t);return new cn(n)}static fromUint8Array(t){const n=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(t);return new cn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ge(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const aH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ws(e){if(Te(!!e,39018),typeof e=="string"){let t=0;const n=aH.exec(e);if(Te(!!n,46558,{timestamp:e}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ht(e.seconds),nanos:ht(e.nanos)}}function ht(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Es(e){return typeof e=="string"?cn.fromBase64String(e):cn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD="server_timestamp",hD="__type__",mD="__previous_value__",pD="__local_write_time__";function Mw(e){var n,r;return((r=(((n=e==null?void 0:e.mapValue)==null?void 0:n.fields)||{})[hD])==null?void 0:r.stringValue)===dD}function Xg(e){const t=e.mapValue.fields[mD];return Mw(t)?Xg(t):t}function Ef(e){const t=ws(e.mapValue.fields[pD].timestampValue);return new qe(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sH{constructor(t,n,r,i,a,s,o,l,u,c,f){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=c,this.apiKey=f}}const bp="(default)";class Sf{constructor(t,n){this.projectId=t,this.database=n||bp}static empty(){return new Sf("","")}get isDefaultDatabase(){return this.database===bp}isEqual(t){return t instanceof Sf&&t.projectId===this.projectId&&t.database===this.database}}function oH(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new G(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sf(e.options.projectId,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD="__type__",lH="__max__",jh={mapValue:{}},yD="__vector__",xp="value";function Ss(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Mw(e)?4:cH(e)?9007199254740991:uH(e)?10:11:re(28295,{value:e})}function gi(e,t){if(e===t)return!0;const n=Ss(e);if(n!==Ss(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ef(e).isEqual(Ef(t));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=ws(i.timestampValue),o=ws(a.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,a){return Es(i.bytesValue).isEqual(Es(a.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,a){return ht(i.geoPointValue.latitude)===ht(a.geoPointValue.latitude)&&ht(i.geoPointValue.longitude)===ht(a.geoPointValue.longitude)}(e,t);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return ht(i.integerValue)===ht(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=ht(i.doubleValue),o=ht(a.doubleValue);return s===o?vp(s)===vp(o):isNaN(s)&&isNaN(o)}return!1}(e,t);case 9:return eu(e.arrayValue.values||[],t.arrayValue.values||[],gi);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},o=a.mapValue.fields||{};if(AN(s)!==AN(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!gi(s[l],o[l])))return!1;return!0}(e,t);default:return re(52216,{left:e})}}function Af(e,t){return(e.values||[]).find(n=>gi(n,t))!==void 0}function tu(e,t){if(e===t)return 0;const n=Ss(e),r=Ss(t);if(n!==r)return ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ge(e.booleanValue,t.booleanValue);case 2:return function(a,s){const o=ht(a.integerValue||a.doubleValue),l=ht(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(e,t);case 3:return NN(e.timestampValue,t.timestampValue);case 4:return NN(Ef(e),Ef(t));case 5:return nx(e.stringValue,t.stringValue);case 6:return function(a,s){const o=Es(a),l=Es(s);return o.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(a,s){const o=a.split("/"),l=s.split("/");for(let u=0;u<o.length&&u<l.length;u++){const c=ge(o[u],l[u]);if(c!==0)return c}return ge(o.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(a,s){const o=ge(ht(a.latitude),ht(s.latitude));return o!==0?o:ge(ht(a.longitude),ht(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return CN(e.arrayValue,t.arrayValue);case 10:return function(a,s){var m,p,g,_;const o=a.fields||{},l=s.fields||{},u=(m=o[xp])==null?void 0:m.arrayValue,c=(p=l[xp])==null?void 0:p.arrayValue,f=ge(((g=u==null?void 0:u.values)==null?void 0:g.length)||0,((_=c==null?void 0:c.values)==null?void 0:_.length)||0);return f!==0?f:CN(u,c)}(e.mapValue,t.mapValue);case 11:return function(a,s){if(a===jh.mapValue&&s===jh.mapValue)return 0;if(a===jh.mapValue)return 1;if(s===jh.mapValue)return-1;const o=a.fields||{},l=Object.keys(o),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const m=nx(l[f],c[f]);if(m!==0)return m;const p=tu(o[l[f]],u[c[f]]);if(p!==0)return p}return ge(l.length,c.length)}(e.mapValue,t.mapValue);default:throw re(23264,{he:n})}}function NN(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return ge(e,t);const n=ws(e),r=ws(t),i=ge(n.seconds,r.seconds);return i!==0?i:ge(n.nanos,r.nanos)}function CN(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=tu(n[i],r[i]);if(a)return a}return ge(n.length,r.length)}function nu(e){return rx(e)}function rx(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=ws(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Es(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return J.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=rx(a);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const s of r)a?a=!1:i+=",",i+=`${s}:${rx(n.fields[s])}`;return i+"}"}(e.mapValue):re(61005,{value:e})}function wm(e){switch(Ss(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Xg(e);return t?16+wm(t):16;case 5:return 2*e.stringValue.length;case 6:return Es(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+wm(a),0)}(e.arrayValue);case 10:case 11:return function(r){let i=0;return ks(r.fields,(a,s)=>{i+=a.length+wm(s)}),i}(e.mapValue);default:throw re(13486,{value:e})}}function ON(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function ix(e){return!!e&&"integerValue"in e}function Lw(e){return!!e&&"arrayValue"in e}function IN(e){return!!e&&"nullValue"in e}function PN(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Em(e){return!!e&&"mapValue"in e}function uH(e){var n,r;return((r=(((n=e==null?void 0:e.mapValue)==null?void 0:n.fields)||{})[gD])==null?void 0:r.stringValue)===yD}function Qc(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return ks(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Qc(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Qc(e.arrayValue.values[n]);return t}return{...e}}function cH(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===lH}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(t){this.value=t}static empty(){return new Vn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Em(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Qc(n)}setAll(t){let n=an.emptyPath(),r={},i=[];t.forEach((s,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=o.popLast()}s?r[o.lastSegment()]=Qc(s):i.push(o.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(t){const n=this.field(t.popLast());Em(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return gi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];Em(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){ks(n,(i,a)=>t[i]=a);for(const i of r)delete t[i]}clone(){return new Vn(Qc(this.value))}}function vD(e){const t=[];return ks(e.fields,(n,r)=>{const i=new an([n]);if(Em(r)){const a=vD(r.mapValue).fields;if(a.length===0)t.push(i);else for(const s of a)t.push(i.child(s))}else t.push(i)}),new Jn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(t,n,r,i,a,s,o){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=s,this.documentState=o}static newInvalidDocument(t){return new yn(t,0,ae.min(),ae.min(),ae.min(),Vn.empty(),0)}static newFoundDocument(t,n,r,i){return new yn(t,1,n,ae.min(),r,i,0)}static newNoDocument(t,n){return new yn(t,2,n,ae.min(),ae.min(),Vn.empty(),0)}static newUnknownDocument(t,n){return new yn(t,3,n,ae.min(),ae.min(),Vn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Vn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ae.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof yn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(t,n){this.position=t,this.inclusive=n}}function RN(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const a=t[i],s=e.position[i];if(a.field.isKeyField()?r=J.comparator(J.fromName(s.referenceValue),n.key):r=tu(s,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function jN(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!gi(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(t,n="asc"){this.field=t,this.dir=n}}function fH(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{}class wt extends bD{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new hH(t,n,r):n==="array-contains"?new gH(t,r):n==="in"?new yH(t,r):n==="not-in"?new vH(t,r):n==="array-contains-any"?new bH(t,r):new wt(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new mH(t,r):new pH(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(tu(n,this.value)):n!==null&&Ss(this.value)===Ss(n)&&this.matchesComparison(tu(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qr extends bD{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new qr(t,n)}matches(t){return xD(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function xD(e){return e.op==="and"}function _D(e){return dH(e)&&xD(e)}function dH(e){for(const t of e.filters)if(t instanceof qr)return!1;return!0}function ax(e){if(e instanceof wt)return e.field.canonicalString()+e.op.toString()+nu(e.value);if(_D(e))return e.filters.map(t=>ax(t)).join(",");{const t=e.filters.map(n=>ax(n)).join(",");return`${e.op}(${t})`}}function wD(e,t){return e instanceof wt?function(r,i){return i instanceof wt&&r.op===i.op&&r.field.isEqual(i.field)&&gi(r.value,i.value)}(e,t):e instanceof qr?function(r,i){return i instanceof qr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,s,o)=>a&&wD(s,i.filters[o]),!0):!1}(e,t):void re(19439)}function ED(e){return e instanceof wt?function(n){return`${n.field.canonicalString()} ${n.op} ${nu(n.value)}`}(e):e instanceof qr?function(n){return n.op.toString()+" {"+n.getFilters().map(ED).join(" ,")+"}"}(e):"Filter"}class hH extends wt{constructor(t,n,r){super(t,n,r),this.key=J.fromName(r.referenceValue)}matches(t){const n=J.comparator(t.key,this.key);return this.matchesComparison(n)}}class mH extends wt{constructor(t,n){super(t,"in",n),this.keys=SD("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class pH extends wt{constructor(t,n){super(t,"not-in",n),this.keys=SD("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function SD(e,t){var n;return(((n=t.arrayValue)==null?void 0:n.values)||[]).map(r=>J.fromName(r.referenceValue))}class gH extends wt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Lw(n)&&Af(n.arrayValue,this.value)}}class yH extends wt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Af(this.value.arrayValue,n)}}class vH extends wt{constructor(t,n){super(t,"not-in",n)}matches(t){if(Af(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Af(this.value.arrayValue,n)}}class bH extends wt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Lw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Af(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xH{constructor(t,n=null,r=[],i=[],a=null,s=null,o=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=s,this.endAt=o,this.Te=null}}function kN(e,t=null,n=[],r=[],i=null,a=null,s=null){return new xH(e,t,n,r,i,a,s)}function Vw(e){const t=se(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>ax(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Wg(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>nu(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>nu(r)).join(",")),t.Te=n}return t.Te}function Uw(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!fH(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!wD(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!jN(e.startAt,t.startAt)&&jN(e.endAt,t.endAt)}function sx(e){return J.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(t,n=null,r=[],i=[],a=null,s="F",o=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=s,this.startAt=o,this.endAt=l,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function _H(e,t,n,r,i,a,s,o){return new Nu(e,t,n,r,i,a,s,o)}function Qg(e){return new Nu(e)}function DN(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function wH(e){return J.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}function AD(e){return e.collectionGroup!==null}function Zc(e){const t=se(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const a of t.explicitOrderBy)t.Ie.push(a),n.add(a.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new Ot(an.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(o=o.add(u.field))})}),o})(t).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||t.Ie.push(new Tf(a,r))}),n.has(an.keyField().canonicalString())||t.Ie.push(new Tf(an.keyField(),r))}return t.Ie}function di(e){const t=se(e);return t.Ee||(t.Ee=EH(t,Zc(e))),t.Ee}function EH(e,t){if(e.limitType==="F")return kN(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Tf(i.field,a)});const n=e.endAt?new _p(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new _p(e.startAt.position,e.startAt.inclusive):null;return kN(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function ox(e,t){const n=e.filters.concat([t]);return new Nu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function SH(e,t){const n=e.explicitOrderBy.concat([t]);return new Nu(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}function wp(e,t,n){return new Nu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Zg(e,t){return Uw(di(e),di(t))&&e.limitType===t.limitType}function TD(e){return`${Vw(di(e))}|lt:${e.limitType}`}function ol(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>ED(i)).join(", ")}]`),Wg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>nu(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>nu(i)).join(",")),`Target(${r})`}(di(e))}; limitType=${e.limitType})`}function Jg(e,t){return t.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):J.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(e,t)&&function(r,i){for(const a of Zc(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(s,o,l){const u=RN(s,o,l);return s.inclusive?u<=0:u<0}(r.startAt,Zc(r),i)||r.endAt&&!function(s,o,l){const u=RN(s,o,l);return s.inclusive?u>=0:u>0}(r.endAt,Zc(r),i))}(e,t)}function AH(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function ND(e){return(t,n)=>{let r=!1;for(const i of Zc(e)){const a=TH(i,t,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function TH(e,t,n){const r=e.field.isKeyField()?J.comparator(t.key,n.key):function(a,s,o){const l=s.data.field(a),u=o.data.field(a);return l!==null&&u!==null?tu(l,u):re(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return re(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,t))return a}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return void(i[a]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){ks(this.inner,(n,r)=>{for(const[i,a]of r)t(i,a)})}isEmpty(){return cD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NH=new nt(J.comparator);function oa(){return NH}const CD=new nt(J.comparator);function Oc(...e){let t=CD;for(const n of e)t=t.insert(n.key,n);return t}function OD(e){let t=CD;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function eo(){return Jc()}function ID(){return Jc()}function Jc(){return new qo(e=>e.toString(),(e,t)=>e.isEqual(t))}const CH=new nt(J.comparator),OH=new Ot(J.comparator);function ye(...e){let t=OH;for(const n of e)t=t.add(n);return t}const IH=new Ot(ge);function PH(){return IH}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vp(t)?"-0":t}}function PD(e){return{integerValue:""+e}}function RD(e,t){return nH(t)?PD(t):zw(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(){this._=void 0}}function RH(e,t,n){return e instanceof Nf?function(i,a){const s={fields:{[hD]:{stringValue:dD},[pD]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Mw(a)&&(a=Xg(a)),a&&(s.fields[mD]=a),{mapValue:s}}(n,t):e instanceof Cf?kD(e,t):e instanceof Of?DD(e,t):function(i,a){const s=jD(i,a),o=MN(s)+MN(i.Ae);return ix(s)&&ix(i.Ae)?PD(o):zw(i.serializer,o)}(e,t)}function jH(e,t,n){return e instanceof Cf?kD(e,t):e instanceof Of?DD(e,t):n}function jD(e,t){return e instanceof If?function(r){return ix(r)||function(a){return!!a&&"doubleValue"in a}(r)}(t)?t:{integerValue:0}:null}class Nf extends ey{}class Cf extends ey{constructor(t){super(),this.elements=t}}function kD(e,t){const n=MD(t);for(const r of e.elements)n.some(i=>gi(i,r))||n.push(r);return{arrayValue:{values:n}}}class Of extends ey{constructor(t){super(),this.elements=t}}function DD(e,t){let n=MD(t);for(const r of e.elements)n=n.filter(i=>!gi(i,r));return{arrayValue:{values:n}}}class If extends ey{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function MN(e){return ht(e.integerValue||e.doubleValue)}function MD(e){return Lw(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(t,n){this.field=t,this.transform=n}}function kH(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof Cf&&i instanceof Cf||r instanceof Of&&i instanceof Of?eu(r.elements,i.elements,gi):r instanceof If&&i instanceof If?gi(r.Ae,i.Ae):r instanceof Nf&&i instanceof Nf}(e.transform,t.transform)}class DH{constructor(t,n){this.version=t,this.transformResults=n}}class $n{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new $n}static exists(t){return new $n(void 0,t)}static updateTime(t){return new $n(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Sm(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class ty{}function VD(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new ny(e.key,$n.none()):new xd(e.key,e.data,$n.none());{const n=e.data,r=Vn.empty();let i=new Ot(an.comparator);for(let a of t.fields)if(!i.has(a)){let s=n.field(a);s===null&&a.length>1&&(a=a.popLast(),s=n.field(a)),s===null?r.delete(a):r.set(a,s),i=i.add(a)}return new Ds(e.key,r,new Jn(i.toArray()),$n.none())}}function MH(e,t,n){e instanceof xd?function(i,a,s){const o=i.value.clone(),l=VN(i.fieldTransforms,a,s.transformResults);o.setAll(l),a.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(e,t,n):e instanceof Ds?function(i,a,s){if(!Sm(i.precondition,a))return void a.convertToUnknownDocument(s.version);const o=VN(i.fieldTransforms,a,s.transformResults),l=a.data;l.setAll(UD(i)),l.setAll(o),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(e,t,n):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function ef(e,t,n,r){return e instanceof xd?function(a,s,o,l){if(!Sm(a.precondition,s))return o;const u=a.value.clone(),c=UN(a.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ds?function(a,s,o,l){if(!Sm(a.precondition,s))return o;const u=UN(a.fieldTransforms,l,s),c=s.data;return c.setAll(UD(a)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),o===null?null:o.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(f=>f.field))}(e,t,n,r):function(a,s,o){return Sm(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(e,t,n)}function LH(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),a=jD(r.transform,i||null);a!=null&&(n===null&&(n=Vn.empty()),n.set(r.field,a))}return n||null}function LN(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&eu(r,i,(a,s)=>kH(a,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class xd extends ty{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ds extends ty{constructor(t,n,r,i,a=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function UD(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function VN(e,t,n){const r=new Map;Te(e.length===n.length,32656,{Ve:n.length,de:e.length});for(let i=0;i<n.length;i++){const a=e[i],s=a.transform,o=t.data.field(a.field);r.set(a.field,jH(s,o,n[i]))}return r}function UN(e,t,n){const r=new Map;for(const i of e){const a=i.transform,s=n.data.field(i.field);r.set(i.field,RH(a,s,t))}return r}class ny extends ty{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VH extends ty{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UH{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(t.key)&&MH(a,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=ef(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=ef(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=ID();return this.mutations.forEach(i=>{const a=t.get(i.key),s=a.overlayedDocument;let o=this.applyToLocalView(s,a.mutatedFields);o=n.has(i.key)?null:o;const l=VD(s,o);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(ae.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),ye())}isEqual(t){return this.batchId===t.batchId&&eu(this.mutations,t.mutations,(n,r)=>LN(n,r))&&eu(this.baseMutations,t.baseMutations,(n,r)=>LN(n,r))}}class Bw{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){Te(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let i=function(){return CH}();const a=t.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,r[s].version);return new Bw(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zH{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BH{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt,we;function $H(e){switch(e){case U.OK:return re(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return re(15467,{code:e})}}function zD(e){if(e===void 0)return sa("GRPC error has no .code"),U.UNKNOWN;switch(e){case vt.OK:return U.OK;case vt.CANCELLED:return U.CANCELLED;case vt.UNKNOWN:return U.UNKNOWN;case vt.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case vt.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case vt.INTERNAL:return U.INTERNAL;case vt.UNAVAILABLE:return U.UNAVAILABLE;case vt.UNAUTHENTICATED:return U.UNAUTHENTICATED;case vt.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case vt.NOT_FOUND:return U.NOT_FOUND;case vt.ALREADY_EXISTS:return U.ALREADY_EXISTS;case vt.PERMISSION_DENIED:return U.PERMISSION_DENIED;case vt.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case vt.ABORTED:return U.ABORTED;case vt.OUT_OF_RANGE:return U.OUT_OF_RANGE;case vt.UNIMPLEMENTED:return U.UNIMPLEMENTED;case vt.DATA_LOSS:return U.DATA_LOSS;default:return re(39323,{code:e})}}(we=vt||(vt={}))[we.OK=0]="OK",we[we.CANCELLED=1]="CANCELLED",we[we.UNKNOWN=2]="UNKNOWN",we[we.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",we[we.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",we[we.NOT_FOUND=5]="NOT_FOUND",we[we.ALREADY_EXISTS=6]="ALREADY_EXISTS",we[we.PERMISSION_DENIED=7]="PERMISSION_DENIED",we[we.UNAUTHENTICATED=16]="UNAUTHENTICATED",we[we.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",we[we.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",we[we.ABORTED=10]="ABORTED",we[we.OUT_OF_RANGE=11]="OUT_OF_RANGE",we[we.UNIMPLEMENTED=12]="UNIMPLEMENTED",we[we.INTERNAL=13]="INTERNAL",we[we.UNAVAILABLE=14]="UNAVAILABLE",we[we.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FH(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qH=new ds([4294967295,4294967295],0);function zN(e){const t=FH().encode(e),n=new Jk;return n.update(t),new Uint8Array(n.digest())}function BN(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new ds([n,r],0),new ds([i,a],0)]}class $w{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ic(`Invalid padding: ${n}`);if(r<0)throw new Ic(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Ic(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Ic(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=ds.fromNumber(this.ge)}ye(t,n,r){let i=t.add(n.multiply(ds.fromNumber(r)));return i.compare(qH)===1&&(i=new ds([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=zN(t),[r,i]=BN(n);for(let a=0;a<this.hashCount;a++){const s=this.ye(r,i,a);if(!this.we(s))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,a=new Uint8Array(Math.ceil(t/8)),s=new $w(a,i,n);return r.forEach(o=>s.insert(o)),s}insert(t){if(this.ge===0)return;const n=zN(t),[r,i]=BN(n);for(let a=0;a<this.hashCount;a++){const s=this.ye(r,i,a);this.be(s)}}be(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class Ic extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(t,n,r,i,a){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,_d.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new ry(ae.min(),i,new nt(ge),oa(),ye())}}class _d{constructor(t,n,r,i,a){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new _d(r,n,ye(),ye(),ye())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(t,n,r,i){this.Se=t,this.removedTargetIds=n,this.key=r,this.De=i}}class BD{constructor(t,n){this.targetId=t,this.Ce=n}}class $D{constructor(t,n,r=cn.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class $N{constructor(){this.ve=0,this.Fe=FN(),this.Me=cn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=ye(),n=ye(),r=ye();return this.Fe.forEach((i,a)=>{switch(a){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:re(38017,{changeType:a})}}),new _d(this.Me,this.xe,t,n,r)}Ke(){this.Oe=!1,this.Fe=FN()}qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Te(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class HH{constructor(t){this.Ge=t,this.ze=new Map,this.je=oa(),this.He=kh(),this.Je=kh(),this.Ze=new nt(ge)}Xe(t){for(const n of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,n=>{const r=this.nt(n);switch(t.state){case 0:this.rt(n)&&r.Le(t.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(t.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(t.resumeToken));break;default:re(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(t){const n=t.targetId,r=t.Ce.count,i=this.ot(n);if(i){const a=i.target;if(sx(a))if(r===0){const s=new J(a.path);this.et(n,s,yn.newNoDocument(s,ae.min()))}else Te(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const o=this.ut(t),l=o?this.ct(o,t,s):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let s,o;try{s=Es(r).toUint8Array()}catch(l){if(l instanceof fD)return Jl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new $w(s,i,a)}catch(l){return Jl(l instanceof Ic?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.ge===0?null:o}ct(t,n,r){return n.Ce.count===r-this.Pt(t,n.targetId)?0:2}Pt(t,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const s=this.Ge.ht(),o=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;t.mightContain(o)||(this.et(n,a,null),i++)}),i}Tt(t){const n=new Map;this.ze.forEach((a,s)=>{const o=this.ot(s);if(o){if(a.current&&sx(o.target)){const l=new J(o.target.path);this.It(l).has(s)||this.Et(s,l)||this.et(s,l,yn.newNoDocument(l,t))}a.Be&&(n.set(s,a.ke()),a.Ke())}});let r=ye();this.Je.forEach((a,s)=>{let o=!0;s.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(a))}),this.je.forEach((a,s)=>s.setReadTime(t));const i=new ry(t,n,this.Ze,this.je,r);return this.je=oa(),this.He=kh(),this.Je=kh(),this.Ze=new nt(ge),i}Ye(t,n){if(!this.rt(t))return;const r=this.Et(t,n.key)?2:0;this.nt(t).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(t)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(t))}et(t,n,r){if(!this.rt(t))return;const i=this.nt(t);this.Et(t,n)?i.qe(n,1):i.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(t)),this.Je=this.Je.insert(n,this.Rt(n).add(t)),r&&(this.je=this.je.insert(n,r))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let n=this.ze.get(t);return n||(n=new $N,this.ze.set(t,n)),n}Rt(t){let n=this.Je.get(t);return n||(n=new Ot(ge),this.Je=this.Je.insert(t,n)),n}It(t){let n=this.He.get(t);return n||(n=new Ot(ge),this.He=this.He.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||Y("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new $N),this.Ge.getRemoteKeysForTarget(t).forEach(n=>{this.et(t,n,null)})}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function kh(){return new nt(J.comparator)}function FN(){return new nt(J.comparator)}const GH={asc:"ASCENDING",desc:"DESCENDING"},KH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YH={and:"AND",or:"OR"};class WH{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function lx(e,t){return e.useProto3Json||Wg(t)?t:{value:t}}function Ep(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function FD(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function XH(e,t){return Ep(e,t.toTimestamp())}function hi(e){return Te(!!e,49232),ae.fromTimestamp(function(n){const r=ws(n);return new qe(r.seconds,r.nanos)}(e))}function Fw(e,t){return ux(e,t).canonicalString()}function ux(e,t){const n=function(i){return new Le(["projects",i.projectId,"databases",i.database])}(e).child("documents");return t===void 0?n:n.child(t)}function qD(e){const t=Le.fromString(e);return Te(WD(t),10190,{key:t.toString()}),t}function cx(e,t){return Fw(e.databaseId,t.path)}function v0(e,t){const n=qD(t);if(n.get(1)!==e.databaseId.projectId)throw new G(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new G(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new J(GD(n))}function HD(e,t){return Fw(e.databaseId,t)}function QH(e){const t=qD(e);return t.length===4?Le.emptyPath():GD(t)}function fx(e){return new Le(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function GD(e){return Te(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function qN(e,t,n){return{name:cx(e,t),fields:n.value.mapValue.fields}}function ZH(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:re(39313,{state:u})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(u,c){return u.useProto3Json?(Te(c===void 0||typeof c=="string",58123),cn.fromBase64String(c||"")):(Te(c===void 0||c instanceof Buffer||c instanceof Uint8Array,16193),cn.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&function(u){const c=u.code===void 0?U.UNKNOWN:zD(u.code);return new G(c,u.message||"")}(s);n=new $D(r,i,a,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=v0(e,r.document.name),a=hi(r.document.updateTime),s=r.document.createTime?hi(r.document.createTime):ae.min(),o=new Vn({mapValue:{fields:r.document.fields}}),l=yn.newFoundDocument(i,a,s,o),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Am(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=v0(e,r.document),a=r.readTime?hi(r.readTime):ae.min(),s=yn.newNoDocument(i,a),o=r.removedTargetIds||[];n=new Am([],o,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=v0(e,r.document),a=r.removedTargetIds||[];n=new Am([],a,i,null)}else{if(!("filter"in t))return re(11601,{Vt:t});{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,s=new BH(i,a),o=r.targetId;n=new BD(o,s)}}return n}function JH(e,t){let n;if(t instanceof xd)n={update:qN(e,t.key,t.value)};else if(t instanceof ny)n={delete:cx(e,t.key)};else if(t instanceof Ds)n={update:qN(e,t.key,t.data),updateMask:lG(t.fieldMask)};else{if(!(t instanceof VH))return re(16599,{dt:t.type});n={verify:cx(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(a,s){const o=s.transform;if(o instanceof Nf)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Cf)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Of)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof If)return{fieldPath:s.field.canonicalString(),increment:o.Ae};throw re(20930,{transform:s.transform})}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:XH(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:re(27497)}(e,t.precondition)),n}function eG(e,t){return e&&e.length>0?(Te(t!==void 0,14353),e.map(n=>function(i,a){let s=i.updateTime?hi(i.updateTime):hi(a);return s.isEqual(ae.min())&&(s=hi(a)),new DH(s,i.transformResults||[])}(n,t))):[]}function tG(e,t){return{documents:[HD(e,t.path)]}}function nG(e,t){const n={structuredQuery:{}},r=t.path;let i;t.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=HD(e,i);const a=function(u){if(u.length!==0)return YD(qr.create(u,"and"))}(t.filters);a&&(n.structuredQuery.where=a);const s=function(u){if(u.length!==0)return u.map(c=>function(m){return{field:ll(m.field),direction:aG(m.dir)}}(c))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=lx(e,t.limit);return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(t.endAt)),{ft:n,parent:i}}function rG(e){let t=QH(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Te(r===1,65062);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let a=[];n.where&&(a=function(f){const m=KD(f);return m instanceof qr&&_D(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(m=>function(g){return new Tf(ul(g.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(m))}(n.orderBy));let o=null;n.limit&&(o=function(f){let m;return m=typeof f=="object"?f.value:f,Wg(m)?null:m}(n.limit));let l=null;n.startAt&&(l=function(f){const m=!!f.before,p=f.values||[];return new _p(p,m)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const m=!f.before,p=f.values||[];return new _p(p,m)}(n.endAt)),_H(t,i,s,a,o,"F",l,u)}function iG(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return re(28987,{purpose:i})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function KD(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ul(n.unaryFilter.field);return wt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ul(n.unaryFilter.field);return wt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ul(n.unaryFilter.field);return wt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ul(n.unaryFilter.field);return wt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return re(61313);default:return re(60726)}}(e):e.fieldFilter!==void 0?function(n){return wt.create(ul(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return re(58110);default:return re(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return qr.create(n.compositeFilter.filters.map(r=>KD(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return re(1026)}}(n.compositeFilter.op))}(e):re(30097,{filter:e})}function aG(e){return GH[e]}function sG(e){return KH[e]}function oG(e){return YH[e]}function ll(e){return{fieldPath:e.canonicalString()}}function ul(e){return an.fromServerFormat(e.fieldPath)}function YD(e){return e instanceof wt?function(n){if(n.op==="=="){if(PN(n.value))return{unaryFilter:{field:ll(n.field),op:"IS_NAN"}};if(IN(n.value))return{unaryFilter:{field:ll(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(PN(n.value))return{unaryFilter:{field:ll(n.field),op:"IS_NOT_NAN"}};if(IN(n.value))return{unaryFilter:{field:ll(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ll(n.field),op:sG(n.op),value:n.value}}}(e):e instanceof qr?function(n){const r=n.getFilters().map(i=>YD(i));return r.length===1?r[0]:{compositeFilter:{op:oG(n.op),filters:r}}}(e):re(54877,{filter:e})}function lG(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function WD(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}function XD(e){return!!e&&typeof e._toProto=="function"&&e._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(t,n,r,i,a=ae.min(),s=ae.min(),o=cn.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(t){return new Za(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uG{constructor(t){this.yt=t}}function cG(e){const t=rG({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?wp(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fG{constructor(){this.Sn=new dG}addToCollectionParentIndex(t,n){return this.Sn.add(n),B.resolve()}getCollectionParents(t,n){return B.resolve(this.Sn.getEntries(n))}addFieldIndex(t,n){return B.resolve()}deleteFieldIndex(t,n){return B.resolve()}deleteAllFieldIndexes(t){return B.resolve()}createTargetIndexes(t,n){return B.resolve()}getDocumentsMatchingTarget(t,n){return B.resolve(null)}getIndexType(t,n){return B.resolve(0)}getFieldIndexes(t,n){return B.resolve([])}getNextCollectionGroupToUpdate(t){return B.resolve(null)}getMinOffset(t,n){return B.resolve(_s.min())}getMinOffsetFromCollectionGroup(t,n){return B.resolve(_s.min())}updateCollectionGroup(t,n,r){return B.resolve()}updateIndexEntries(t,n){return B.resolve()}}class dG{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new Ot(Le.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new Ot(Le.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},QD=41943040;class Ln{static withCacheSize(t){return new Ln(t,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ln.DEFAULT_COLLECTION_PERCENTILE=10,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ln.DEFAULT=new Ln(QD,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ln.DISABLED=new Ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new ru(0)}static ar(){return new ru(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN="LruGarbageCollector",hG=1048576;function KN([e,t],[n,r]){const i=ge(e,n);return i===0?ge(t,r):i}class mG{constructor(t){this.Pr=t,this.buffer=new Ot(KN),this.Tr=0}Ir(){return++this.Tr}Er(t){const n=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();KN(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class pG{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){Y(GN,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Tu(n)?Y(GN,"Ignoring IndexedDB error during garbage collection: ",n):await Au(n)}await this.Ar(3e5)})}}class gG{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.dr(t).next(r=>Math.floor(n/100*r))}nthSequenceNumber(t,n){if(n===0)return B.resolve(Yg.ce);const r=new mG(n);return this.Vr.forEachTarget(t,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.mr(t,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(t,n,r){return this.Vr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(Y("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(HN)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(Y("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),HN):this.gr(t,n))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,n){let r,i,a,s,o,l,u;const c=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Y("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(t,i))).next(f=>(r=f,o=Date.now(),this.removeTargets(t,r,n))).next(f=>(a=f,l=Date.now(),this.removeOrphanedDocuments(t,r))).next(f=>(u=Date.now(),sl()<=pe.DEBUG&&Y("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-c}ms
	Determined least recently used ${i} in `+(o-s)+`ms
	Removed ${a} targets in `+(l-o)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:f})))}}function yG(e,t){return new gG(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vG{constructor(){this.changes=new qo(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,yn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bG{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xG{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&ef(r.mutation,i,Jn.empty(),qe.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,ye()).next(()=>r))}getLocalViewOfDocuments(t,n,r=ye()){const i=eo();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(a=>{let s=Oc();return a.forEach((o,l)=>{s=s.insert(o,l.overlayedDocument)}),s}))}getOverlayedDocuments(t,n){const r=eo();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,ye()))}populateOverlays(t,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(t,i).next(a=>{a.forEach((s,o)=>{n.set(s,o)})})}computeViews(t,n,r,i){let a=oa();const s=Jc(),o=function(){return Jc()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Ds)?a=a.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),ef(c.mutation,u,c.mutation.getFieldMask(),qe.now())):s.set(u.key,Jn.empty())}),this.recalculateAndSaveOverlays(t,a).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>o.set(u,new bG(c,s.get(u)??null))),o))}recalculateAndSaveOverlays(t,n){const r=Jc();let i=new nt((s,o)=>s-o),a=ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(s=>{for(const o of s)o.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Jn.empty();c=o.applyToLocalView(u,c),r.set(l,c);const f=(i.get(o.batchId)||ye()).add(l);i=i.insert(o.batchId,f)})}).next(()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),u=l.key,c=l.value,f=ID();c.forEach(m=>{if(!a.has(m)){const p=VD(n.get(m),r.get(m));p!==null&&f.set(m,p),a=a.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(t,u,f))}return B.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return wH(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):AD(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-a.size):B.resolve(eo());let o=wf,l=a;return s.next(u=>B.forEach(u,(c,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),a.get(c)?B.resolve():this.remoteDocumentCache.getEntry(t,c).next(m=>{l=l.insert(c,m)}))).next(()=>this.populateOverlays(t,u,a)).next(()=>this.computeViews(t,l,u,ye())).next(c=>({batchId:o,changes:OD(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new J(n)).next(r=>{let i=Oc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const a=n.collectionGroup;let s=Oc();return this.indexManager.getCollectionParents(t,a).next(o=>B.forEach(o,l=>{const u=function(f,m){return new Nu(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(a));return this.getDocumentsMatchingCollectionQuery(t,u,r,i).next(c=>{c.forEach((f,m)=>{s=s.insert(f,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,a,i))).next(s=>{a.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,yn.newInvalidDocument(c)))});let o=Oc();return s.forEach((l,u)=>{const c=a.get(l);c!==void 0&&ef(c.mutation,u,Jn.empty(),qe.now()),Jg(n,u)&&(o=o.insert(l,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _G{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,n){return B.resolve(this.Nr.get(n))}saveBundleMetadata(t,n){return this.Nr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:hi(i.createTime)}}(n)),B.resolve()}getNamedQuery(t,n){return B.resolve(this.Br.get(n))}saveNamedQuery(t,n){return this.Br.set(n.name,function(i){return{name:i.name,query:cG(i.bundledQuery),readTime:hi(i.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wG{constructor(){this.overlays=new nt(J.comparator),this.Lr=new Map}getOverlay(t,n){return B.resolve(this.overlays.get(n))}getOverlays(t,n){const r=eo();return B.forEach(n,i=>this.getOverlay(t,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,a)=>{this.bt(t,n,a)}),B.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Lr.delete(r)),B.resolve()}getOverlaysForCollection(t,n,r){const i=eo(),a=n.length+1,s=new J(n.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const l=o.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===a&&l.largestBatchId>r&&i.set(l.getKey(),l)}return B.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let a=new nt((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=a.get(u.largestBatchId);c===null&&(c=eo(),a=a.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const o=eo(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>o.set(u,c)),!(o.size()>=i)););return B.resolve(o)}bt(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new zH(n,r));let a=this.Lr.get(n);a===void 0&&(a=ye(),this.Lr.set(n,a)),this.Lr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EG{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(t){return B.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(){this.kr=new Ot(Ut.Kr),this.qr=new Ot(Ut.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,n){const r=new Ut(t,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.Wr(new Ut(t,n))}Qr(t,n){t.forEach(r=>this.removeReference(r,n))}Gr(t){const n=new J(new Le([])),r=new Ut(n,t),i=new Ut(n,t+1),a=[];return this.qr.forEachInRange([r,i],s=>{this.Wr(s),a.push(s.key)}),a}zr(){this.kr.forEach(t=>this.Wr(t))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const n=new J(new Le([])),r=new Ut(n,t),i=new Ut(n,t+1);let a=ye();return this.qr.forEachInRange([r,i],s=>{a=a.add(s.key)}),a}containsKey(t){const n=new Ut(t,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Ut{constructor(t,n){this.key=t,this.Hr=n}static Kr(t,n){return J.comparator(t.key,n.key)||ge(t.Hr,n.Hr)}static Ur(t,n){return ge(t.Hr,n.Hr)||J.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SG{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Ot(Ut.Kr)}checkEmpty(t){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const a=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new UH(a,n,r,i);this.mutationQueue.push(s);for(const o of i)this.Jr=this.Jr.add(new Ut(o.key,a)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return B.resolve(s)}lookupMutationBatch(t,n){return B.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.Xr(r),a=i<0?0:i;return B.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?Dw:this.Yn-1)}getAllMutationBatches(t){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Ut(n,0),i=new Ut(n,Number.POSITIVE_INFINITY),a=[];return this.Jr.forEachInRange([r,i],s=>{const o=this.Zr(s.Hr);a.push(o)}),B.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Ot(ge);return n.forEach(i=>{const a=new Ut(i,0),s=new Ut(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([a,s],o=>{r=r.add(o.Hr)})}),B.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let a=r;J.isDocumentKey(a)||(a=a.child(""));const s=new Ut(new J(a),0);let o=new Ot(ge);return this.Jr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(o=o.add(l.Hr)),!0)},s),B.resolve(this.Yr(o))}Yr(t){const n=[];return t.forEach(r=>{const i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){Te(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return B.forEach(n.mutations,i=>{const a=new Ut(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.Jr=r})}nr(t){}containsKey(t,n){const r=new Ut(n,0),i=this.Jr.firstAfterOrEqual(r);return B.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,B.resolve()}ei(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AG{constructor(t){this.ti=t,this.docs=function(){return new nt(J.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,s=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():yn.newInvalidDocument(n))}getEntries(t,n){let r=oa();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():yn.newInvalidDocument(i))}),B.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let a=oa();const s=n.path,o=new J(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||Zq(Qq(c),r)<=0||(i.has(c.key)||Jg(n,c))&&(a=a.insert(c.key,c.mutableCopy()))}return B.resolve(a)}getAllFromCollectionGroup(t,n,r,i){re(9500)}ni(t,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new TG(this)}getSize(t){return B.resolve(this.size)}}class TG extends vG{constructor(t){super(),this.Mr=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Mr.addEntry(t,i)):this.Mr.removeEntry(r)}),B.waitFor(n)}getFromCache(t,n){return this.Mr.getEntry(t,n)}getAllFromCache(t,n){return this.Mr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NG{constructor(t){this.persistence=t,this.ri=new qo(n=>Vw(n),Uw),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this.ii=0,this.si=new qw,this.targetCount=0,this.oi=ru._r()}forEachTarget(t,n){return this.ri.forEach((r,i)=>n(i)),B.resolve()}getLastRemoteSnapshotVersion(t){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return B.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),B.resolve()}lr(t){this.ri.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.oi=new ru(n),this.highestTargetId=n),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,n){return this.lr(n),this.targetCount+=1,B.resolve()}updateTargetData(t,n){return this.lr(n),B.resolve()}removeTargetData(t,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(t,n,r){let i=0;const a=[];return this.ri.forEach((s,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.ri.delete(s),a.push(this.removeMatchingKeysForTargetId(t,o.targetId)),i++)}),B.waitFor(a).next(()=>i)}getTargetCount(t){return B.resolve(this.targetCount)}getTargetData(t,n){const r=this.ri.get(n)||null;return B.resolve(r)}addMatchingKeys(t,n,r){return this.si.$r(n,r),B.resolve()}removeMatchingKeys(t,n,r){this.si.Qr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(s=>{a.push(i.markPotentiallyOrphaned(t,s))}),B.waitFor(a)}removeMatchingKeysForTargetId(t,n){return this.si.Gr(n),B.resolve()}getMatchingKeysForTargetId(t,n){const r=this.si.jr(n);return B.resolve(r)}containsKey(t,n){return B.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(t,n){this._i={},this.overlays={},this.ai=new Yg(0),this.ui=!1,this.ui=!0,this.ci=new EG,this.referenceDelegate=t(this),this.li=new NG(this),this.indexManager=new fG,this.remoteDocumentCache=function(i){return new AG(i)}(r=>this.referenceDelegate.hi(r)),this.serializer=new uG(n),this.Pi=new _G(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new wG,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this._i[t.toKey()];return r||(r=new SG(n,this.referenceDelegate),this._i[t.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,n,r){Y("MemoryPersistence","Starting transaction:",t);const i=new CG(this.ai.next());return this.referenceDelegate.Ti(),r(i).next(a=>this.referenceDelegate.Ii(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ei(t,n){return B.or(Object.values(this._i).map(r=>()=>r.containsKey(t,n)))}}class CG extends eH{constructor(t){super(),this.currentSequenceNumber=t}}class Hw{constructor(t){this.persistence=t,this.Ri=new qw,this.Ai=null}static Vi(t){return new Hw(t)}get di(){if(this.Ai)return this.Ai;throw re(60996)}addReference(t,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),B.resolve()}removeReference(t,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),B.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),B.resolve()}removeTarget(t,n){this.Ri.Gr(n.targetId).forEach(i=>this.di.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(a=>this.di.add(a.toString()))}).next(()=>r.removeTargetData(t,n))}Ti(){this.Ai=new Set}Ii(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.di,r=>{const i=J.fromPath(r);return this.mi(t,i).next(a=>{a||n.removeEntry(i,ae.min())})}).next(()=>(this.Ai=null,n.apply(t)))}updateLimboDocument(t,n){return this.mi(t,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}hi(t){return 0}mi(t,n){return B.or([()=>B.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class Sp{constructor(t,n){this.persistence=t,this.fi=new qo(r=>rH(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=yG(this,n)}static Vi(t,n){return new Sp(t,n)}Ti(){}Ii(t){return B.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>n.next(i=>r+i))}pr(t){let n=0;return this.mr(t,r=>{n++}).next(()=>n)}mr(t,n){return B.forEach(this.fi,(r,i)=>this.wr(t,r,i).next(a=>a?B.resolve():n(i)))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ni(t,s=>this.wr(t,s,n).next(o=>{o||(r++,a.removeEntry(s,ae.min()))})).next(()=>a.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,n){return this.fi.set(n,t.currentSequenceNumber),B.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.fi.set(r,t.currentSequenceNumber),B.resolve()}removeReference(t,n,r){return this.fi.set(r,t.currentSequenceNumber),B.resolve()}updateLimboDocument(t,n){return this.fi.set(n,t.currentSequenceNumber),B.resolve()}hi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=wm(t.data.value)),n}wr(t,n,r){return B.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const i=this.fi.get(n);return B.resolve(i!==void 0&&i>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.Ts=r,this.Is=i}static Es(t,n){let r=ye(),i=ye();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Gw(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OG{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IG{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return a$()?8:tH(bn())>0?6:4}()}initialize(t,n){this.fs=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,r,i){const a={result:null};return this.gs(t,n).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.ps(t,n,i,r).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new OG;return this.ys(t,n,s).next(o=>{if(a.result=o,this.As)return this.ws(t,n,s,o.size)})}).next(()=>a.result)}ws(t,n,r,i){return r.documentReadCount<this.Vs?(sl()<=pe.DEBUG&&Y("QueryEngine","SDK will not create cache indexes for query:",ol(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),B.resolve()):(sl()<=pe.DEBUG&&Y("QueryEngine","Query:",ol(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(sl()<=pe.DEBUG&&Y("QueryEngine","The SDK decides to create cache indexes for query:",ol(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,di(n))):B.resolve())}gs(t,n){if(DN(n))return B.resolve(null);let r=di(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=wp(n,null,"F"),r=di(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(a=>{const s=ye(...a);return this.fs.getDocuments(t,s).next(o=>this.indexManager.getMinOffset(t,r).next(l=>{const u=this.bs(n,o);return this.Ss(n,u,s,l.readTime)?this.gs(t,wp(n,null,"F")):this.Ds(t,u,n,l)}))})))}ps(t,n,r,i){return DN(n)||i.isEqual(ae.min())?B.resolve(null):this.fs.getDocuments(t,r).next(a=>{const s=this.bs(n,a);return this.Ss(n,s,r,i)?B.resolve(null):(sl()<=pe.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ol(n)),this.Ds(t,s,n,Xq(i,wf)).next(o=>o))})}bs(t,n){let r=new Ot(ND(t));return n.forEach((i,a)=>{Jg(t,a)&&(r=r.add(a))}),r}Ss(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const a=t.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ys(t,n,r){return sl()<=pe.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",ol(n)),this.fs.getDocumentsMatchingQuery(t,n,_s.min(),r)}Ds(t,n,r,i){return this.fs.getDocumentsMatchingQuery(t,r,i).next(a=>(n.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw="LocalStore",PG=3e8;class RG{constructor(t,n,r,i){this.persistence=t,this.Cs=n,this.serializer=i,this.vs=new nt(ge),this.Fs=new qo(a=>Vw(a),Uw),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(r)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new xG(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.vs))}}function jG(e,t,n,r){return new RG(e,t,n,r)}async function JD(e,t){const n=se(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.Os(t),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const s=[],o=[];let l=ye();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of a){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ns:u,removedBatchIds:s,addedBatchIds:o}))})})}function kG(e,t){const n=se(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),a=n.xs.newChangeBuffer({trackRemovals:!0});return function(o,l,u,c){const f=u.batch,m=f.keys();let p=B.resolve();return m.forEach(g=>{p=p.next(()=>c.getEntry(l,g)).next(_=>{const y=u.docVersions.get(g);Te(y!==null,48541),_.version.compareTo(y)<0&&(f.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),c.addEntry(_)))})}),p.next(()=>o.mutationQueue.removeMutationBatch(l,f))}(n,r,t,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let l=ye();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(l=l.add(o.batch.mutations[u].key));return l}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function eM(e){const t=se(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.li.getLastRemoteSnapshotVersion(n))}function DG(e,t){const n=se(e),r=t.snapshotVersion;let i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;const o=[];t.targetChanges.forEach((c,f)=>{const m=i.get(f);if(!m)return;o.push(n.li.removeMatchingKeys(a,c.removedDocuments,f).next(()=>n.li.addMatchingKeys(a,c.addedDocuments,f)));let p=m.withSequenceNumber(a.currentSequenceNumber);t.targetMismatches.get(f)!==null?p=p.withResumeToken(cn.EMPTY_BYTE_STRING,ae.min()).withLastLimboFreeSnapshotVersion(ae.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(f,p),function(_,y,w){return _.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=PG?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(m,p,c)&&o.push(n.li.updateTargetData(a,p))});let l=oa(),u=ye();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(a,c))}),o.push(MG(a,s,t.documentUpdates).next(c=>{l=c.Bs,u=c.Ls})),!r.isEqual(ae.min())){const c=n.li.getLastRemoteSnapshotVersion(a).next(f=>n.li.setTargetsMetadata(a,a.currentSequenceNumber,r));o.push(c)}return B.waitFor(o).next(()=>s.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,l,u)).next(()=>l)}).then(a=>(n.vs=i,a))}function MG(e,t,n){let r=ye(),i=ye();return n.forEach(a=>r=r.add(a)),t.getEntries(e,r).next(a=>{let s=oa();return n.forEach((o,l)=>{const u=a.get(o);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(ae.min())?(t.removeEntry(o,l.readTime),s=s.insert(o,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),s=s.insert(o,l)):Y(Kw,"Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",l.version)}),{Bs:s,Ls:i}})}function LG(e,t){const n=se(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=Dw),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function VG(e,t){const n=se(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.li.getTargetData(r,t).next(a=>a?(i=a,B.resolve(i)):n.li.allocateTargetId(r).next(s=>(i=new Za(t,s,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(t,r.targetId)),r})}async function dx(e,t,n){const r=se(e),i=r.vs.get(t),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Tu(s))throw s;Y(Kw,`Failed to update sequence numbers for target ${t}: ${s}`)}r.vs=r.vs.remove(t),r.Fs.delete(i.target)}function YN(e,t,n){const r=se(e);let i=ae.min(),a=ye();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const f=se(l),m=f.Fs.get(c);return m!==void 0?B.resolve(f.vs.get(m)):f.li.getTargetData(u,c)}(r,s,di(t)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(s,o.targetId).next(l=>{a=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,t,n?i:ae.min(),n?a:ye())).next(o=>(UG(r,AH(t),o),{documents:o,ks:a})))}function UG(e,t,n){let r=e.Ms.get(t)||ae.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),e.Ms.set(t,r)}class WN{constructor(){this.activeTargetIds=PH()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class zG{constructor(){this.vo=new WN,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,n,r){this.Fo[t]=n}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new WN,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BG{Mo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN="ConnectivityMonitor";class QN{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Y(XN,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){Y(XN,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dh=null;function hx(){return Dh===null?Dh=function(){return 268435456+Math.round(2147483648*Math.random())}():Dh++,"0x"+Dh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0="RestConnection",$G={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class FG{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+t.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===bp?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(t,n,r,i,a){const s=hx(),o=this.Qo(t,n.toUriEncodedString());Y(b0,`Sending RPC '${t}' ${s}:`,o,r);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(l,i,a);const{host:u}=new URL(o),c=Rs(u);return this.zo(t,o,l,r,c).then(f=>(Y(b0,`Received RPC '${t}' ${s}: `,f),f),f=>{throw Jl(b0,`RPC '${t}' ${s} failed with error: `,f,"url: ",o,"request:",r),f})}jo(t,n,r,i,a,s){return this.Wo(t,n,r,i,a)}Go(t,n,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Su}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,a)=>t[a]=i),r&&r.headers.forEach((i,a)=>t[a]=i)}Qo(t,n){const r=$G[t];let i=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qG{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mn="WebChannelConnection",fc=(e,t,n)=>{e.listen(t,r=>{try{n(r)}catch(i){setTimeout(()=>{throw i},0)}})};class Ll extends FG{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Ll.c_){const t=rD();fc(t,nD.STAT_EVENT,n=>{n.stat===tx.PROXY?Y(mn,"STAT_EVENT: detected buffering proxy"):n.stat===tx.NOPROXY&&Y(mn,"STAT_EVENT: detected no buffering proxy")}),Ll.c_=!0}}zo(t,n,r,i,a){const s=hx();return new Promise((o,l)=>{const u=new eD;u.setWithCredentials(!0),u.listenOnce(tD.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case _m.NO_ERROR:const f=u.getResponseJson();Y(mn,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(f)),o(f);break;case _m.TIMEOUT:Y(mn,`RPC '${t}' ${s} timed out`),l(new G(U.DEADLINE_EXCEEDED,"Request time out"));break;case _m.HTTP_ERROR:const m=u.getStatus();if(Y(mn,`RPC '${t}' ${s} failed with status:`,m,"response text:",u.getResponseText()),m>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const _=function(w){const x=w.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(x)>=0?x:U.UNKNOWN}(g.status);l(new G(_,g.message))}else l(new G(U.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new G(U.UNAVAILABLE,"Connection failed."));break;default:re(9055,{l_:t,streamId:s,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{Y(mn,`RPC '${t}' ${s} completed.`)}});const c=JSON.stringify(i);Y(mn,`RPC '${t}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}T_(t,n,r){const i=hx(),a=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=this.createWebChannelTransport(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Go(o.initMessageHeaders,n,r),o.encodeInitMessageHeaders=!0;const u=a.join("");Y(mn,`Creating RPC '${t}' stream ${i}: ${u}`,o);const c=s.createWebChannel(u,o);this.I_(c);let f=!1,m=!1;const p=new qG({Ho:g=>{m?Y(mn,`Not sending because RPC '${t}' stream ${i} is closed:`,g):(f||(Y(mn,`Opening RPC '${t}' stream ${i} transport.`),c.open(),f=!0),Y(mn,`RPC '${t}' stream ${i} sending:`,g),c.send(g))},Jo:()=>c.close()});return fc(c,Cc.EventType.OPEN,()=>{m||(Y(mn,`RPC '${t}' stream ${i} transport opened.`),p.i_())}),fc(c,Cc.EventType.CLOSE,()=>{m||(m=!0,Y(mn,`RPC '${t}' stream ${i} transport closed`),p.o_(),this.E_(c))}),fc(c,Cc.EventType.ERROR,g=>{m||(m=!0,Jl(mn,`RPC '${t}' stream ${i} transport errored. Name:`,g.name,"Message:",g.message),p.o_(new G(U.UNAVAILABLE,"The operation could not be completed")))}),fc(c,Cc.EventType.MESSAGE,g=>{var _;if(!m){const y=g.data[0];Te(!!y,16349);const w=y,x=(w==null?void 0:w.error)||((_=w[0])==null?void 0:_.error);if(x){Y(mn,`RPC '${t}' stream ${i} received error:`,x);const S=x.status;let N=function(A){const T=vt[A];if(T!==void 0)return zD(T)}(S),P=x.message;N===void 0&&(N=U.INTERNAL,P="Unknown error status: "+S+" with message "+x.message),m=!0,p.o_(new G(N,P)),c.close()}else Y(mn,`RPC '${t}' stream ${i} received:`,y),p.__(y)}}),Ll.u_(),setTimeout(()=>{p.s_()},0),p}terminate(){this.a_.forEach(t=>t.close()),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter(n=>n===t)}Go(t,n,r){super.Go(t,n,r),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return iD()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HG(e){return new Ll(e)}function x0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iy(e){return new WH(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ll.c_=!1;class tM{constructor(t,n,r=1e3,i=1.5,a=6e4){this.Ci=t,this.timerId=n,this.R_=r,this.A_=i,this.V_=a,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Y("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),t())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN="PersistentStream";class nM{constructor(t,n,r,i,a,s,o,l){this.Ci=t,this.b_=r,this.S_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new tM(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(sa(n.toString()),sa("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(n)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{t(()=>{const i=new G(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(t,n){const r=this.Q_(this.D_);this.stream=this.j_(t,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.Yo(()=>{r(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.H_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return Y(ZN,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return n=>{this.Ci.enqueueAndForget(()=>this.D_===t?n():(Y(ZN,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class GG extends nM{constructor(t,n,r,i,a,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}j_(t,n){return this.connection.T_("Listen",t,n)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=ZH(this.serializer,t),r=function(a){if(!("targetChange"in a))return ae.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?ae.min():s.readTime?hi(s.readTime):ae.min()}(t);return this.listener.J_(n,r)}Z_(t){const n={};n.database=fx(this.serializer),n.addTarget=function(a,s){let o;const l=s.target;if(o=sx(l)?{documents:tG(a,l)}:{query:nG(a,l).ft},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=FD(a,s.resumeToken);const u=lx(a,s.expectedCount);u!==null&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(ae.min())>0){o.readTime=Ep(a,s.snapshotVersion.toTimestamp());const u=lx(a,s.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,t);const r=iG(this.serializer,t);r&&(n.labels=r),this.K_(n)}X_(t){const n={};n.database=fx(this.serializer),n.removeTarget=t,this.K_(n)}}class KG extends nM{constructor(t,n,r,i,a,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}H_(t){return Te(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Te(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Te(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=eG(t.writeResults,t.commitTime),r=hi(t.commitTime);return this.listener.na(r,n)}ra(){const t={};t.database=fx(this.serializer),this.K_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>JH(this.serializer,r))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YG{}class WG extends YG{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new G(U.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Wo(t,ux(n,r),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new G(U.UNKNOWN,a.toString())})}jo(t,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.jo(t,ux(n,r),i,s,o,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new G(U.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function XG(e,t,n,r){return new WG(e,t,n,r)}class QG{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(sa(n),this.aa=!1):Y("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No="RemoteStore";class ZG{constructor(t,n,r,i,a){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=a,this.Aa.Mo(s=>{r.enqueueAndForget(async()=>{Ho(this)&&(Y(No,"Restarting streams for network reachability change."),await async function(l){const u=se(l);u.Ea.add(4),await wd(u),u.Va.set("Unknown"),u.Ea.delete(4),await ay(u)}(this))})}),this.Va=new QG(r,i)}}async function ay(e){if(Ho(e))for(const t of e.Ra)await t(!0)}async function wd(e){for(const t of e.Ra)await t(!1)}function rM(e,t){const n=se(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Qw(n)?Xw(n):Cu(n).O_()&&Ww(n,t))}function Yw(e,t){const n=se(e),r=Cu(n);n.Ia.delete(t),r.O_()&&iM(n,t),n.Ia.size===0&&(r.O_()?r.L_():Ho(n)&&n.Va.set("Unknown"))}function Ww(e,t){if(e.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ae.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Cu(e).Z_(t)}function iM(e,t){e.da.$e(t),Cu(e).X_(t)}function Xw(e){e.da=new HH({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Cu(e).start(),e.Va.ua()}function Qw(e){return Ho(e)&&!Cu(e).x_()&&e.Ia.size>0}function Ho(e){return se(e).Ea.size===0}function aM(e){e.da=void 0}async function JG(e){e.Va.set("Online")}async function eK(e){e.Ia.forEach((t,n)=>{Ww(e,t)})}async function tK(e,t){aM(e),Qw(e)?(e.Va.ha(t),Xw(e)):e.Va.set("Unknown")}async function nK(e,t,n){if(e.Va.set("Online"),t instanceof $D&&t.state===2&&t.cause)try{await async function(i,a){const s=a.cause;for(const o of a.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,s),i.Ia.delete(o),i.da.removeTarget(o))}(e,t)}catch(r){Y(No,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Ap(e,r)}else if(t instanceof Am?e.da.Xe(t):t instanceof BD?e.da.st(t):e.da.tt(t),!n.isEqual(ae.min()))try{const r=await eM(e.localStore);n.compareTo(r)>=0&&await function(a,s){const o=a.da.Tt(s);return o.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=a.Ia.get(u);c&&a.Ia.set(u,c.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach((l,u)=>{const c=a.Ia.get(l);if(!c)return;a.Ia.set(l,c.withResumeToken(cn.EMPTY_BYTE_STRING,c.snapshotVersion)),iM(a,l);const f=new Za(c.target,l,u,c.sequenceNumber);Ww(a,f)}),a.remoteSyncer.applyRemoteEvent(o)}(e,n)}catch(r){Y(No,"Failed to raise snapshot:",r),await Ap(e,r)}}async function Ap(e,t,n){if(!Tu(t))throw t;e.Ea.add(1),await wd(e),e.Va.set("Offline"),n||(n=()=>eM(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Y(No,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await ay(e)})}function sM(e,t){return t().catch(n=>Ap(e,n,t))}async function sy(e){const t=se(e),n=As(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Dw;for(;rK(t);)try{const i=await LG(t.localStore,r);if(i===null){t.Ta.length===0&&n.L_();break}r=i.batchId,iK(t,i)}catch(i){await Ap(t,i)}oM(t)&&lM(t)}function rK(e){return Ho(e)&&e.Ta.length<10}function iK(e,t){e.Ta.push(t);const n=As(e);n.O_()&&n.Y_&&n.ea(t.mutations)}function oM(e){return Ho(e)&&!As(e).x_()&&e.Ta.length>0}function lM(e){As(e).start()}async function aK(e){As(e).ra()}async function sK(e){const t=As(e);for(const n of e.Ta)t.ea(n.mutations)}async function oK(e,t,n){const r=e.Ta.shift(),i=Bw.from(r,t,n);await sM(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await sy(e)}async function lK(e,t){t&&As(e).Y_&&await async function(r,i){if(function(s){return $H(s)&&s!==U.ABORTED}(i.code)){const a=r.Ta.shift();As(r).B_(),await sM(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await sy(r)}}(e,t),oM(e)&&lM(e)}async function JN(e,t){const n=se(e);n.asyncQueue.verifyOperationInProgress(),Y(No,"RemoteStore received new credentials");const r=Ho(n);n.Ea.add(3),await wd(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await ay(n)}async function uK(e,t){const n=se(e);t?(n.Ea.delete(2),await ay(n)):t||(n.Ea.add(2),await wd(n),n.Va.set("Unknown"))}function Cu(e){return e.ma||(e.ma=function(n,r,i){const a=se(n);return a.sa(),new GG(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(e.datastore,e.asyncQueue,{Zo:JG.bind(null,e),Yo:eK.bind(null,e),t_:tK.bind(null,e),J_:nK.bind(null,e)}),e.Ra.push(async t=>{t?(e.ma.B_(),Qw(e)?Xw(e):e.Va.set("Unknown")):(await e.ma.stop(),aM(e))})),e.ma}function As(e){return e.fa||(e.fa=function(n,r,i){const a=se(n);return a.sa(),new KG(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(e.datastore,e.asyncQueue,{Zo:()=>Promise.resolve(),Yo:aK.bind(null,e),t_:lK.bind(null,e),ta:sK.bind(null,e),na:oK.bind(null,e)}),e.Ra.push(async t=>{t?(e.fa.B_(),await sy(e)):(await e.fa.stop(),e.Ta.length>0&&(Y(No,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(t,n,r,i,a){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,a){const s=Date.now()+r,o=new Zw(t,n,s,i,a);return o.start(r),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(U.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jw(e,t){if(sa("AsyncQueue",`${t}: ${e}`),Tu(e))return new G(U.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{static emptySet(t){return new Vl(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||J.comparator(n.key,r.key):(n,r)=>J.comparator(n.key,r.key),this.keyedMap=Oc(),this.sortedSet=new nt(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Vl)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Vl;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(){this.ga=new nt(J.comparator)}track(t){const n=t.doc.key,r=this.ga.get(n);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(n,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(n):t.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):re(63341,{Vt:t,pa:r}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal((n,r)=>{t.push(r)}),t}}class iu{constructor(t,n,r,i,a,s,o,l,u){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,n,r,i,a){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new iu(t,n,Vl.emptySet(n),s,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Zg(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cK{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(t=>t.Da())}}class fK{constructor(){this.queries=tC(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=se(n),a=i.queries;i.queries=tC(),a.forEach((s,o)=>{for(const l of o.ba)l.onError(r)})})(this,new G(U.ABORTED,"Firestore shutting down"))}}function tC(){return new qo(e=>TD(e),Zg)}async function e1(e,t){const n=se(e);let r=3;const i=t.query;let a=n.queries.get(i);a?!a.Sa()&&t.Da()&&(r=2):(a=new cK,r=t.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const o=Jw(s,`Initialization of query '${ol(t.query)}' failed`);return void t.onError(o)}n.queries.set(i,a),a.ba.push(t),t.va(n.onlineState),a.wa&&t.Fa(a.wa)&&n1(n)}async function t1(e,t){const n=se(e),r=t.query;let i=3;const a=n.queries.get(r);if(a){const s=a.ba.indexOf(t);s>=0&&(a.ba.splice(s,1),a.ba.length===0?i=t.Da()?0:1:!a.Sa()&&t.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function dK(e,t){const n=se(e);let r=!1;for(const i of t){const a=i.query,s=n.queries.get(a);if(s){for(const o of s.ba)o.Fa(i)&&(r=!0);s.wa=i}}r&&n1(n)}function hK(e,t,n){const r=se(e),i=r.queries.get(t);if(i)for(const a of i.ba)a.onError(n);r.queries.delete(t)}function n1(e){e.Ca.forEach(t=>{t.next()})}var mx,nC;(nC=mx||(mx={})).Ma="default",nC.Cache="cache";class r1{constructor(t,n,r){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new iu(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=iu.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==mx.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(t){this.key=t}}class cM{constructor(t){this.key=t}}class mK{constructor(t,n){this.query=t,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ye(),this.mutatedKeys=ye(),this.eu=ND(t),this.tu=new Vl(this.eu)}get nu(){return this.Za}ru(t,n){const r=n?n.iu:new eC,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,s=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,f)=>{const m=i.get(c),p=Jg(this.query,f)?f:null,g=!!m&&this.mutatedKeys.has(m.key),_=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let y=!1;m&&p?m.data.isEqual(p.data)?g!==_&&(r.track({type:3,doc:p}),y=!0):this.su(m,p)||(r.track({type:2,doc:p}),y=!0,(l&&this.eu(p,l)>0||u&&this.eu(p,u)<0)&&(o=!0)):!m&&p?(r.track({type:0,doc:p}),y=!0):m&&!p&&(r.track({type:1,doc:m}),y=!0,(l||u)&&(o=!0)),y&&(p?(s=s.add(p),a=_?a.add(c):a.delete(c)):(s=s.delete(c),a=a.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),a=a.delete(c.key),r.track({type:1,doc:c})}return{tu:s,iu:r,Ss:o,mutatedKeys:a}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,i){const a=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const s=t.iu.ya();s.sort((c,f)=>function(p,g){const _=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return re(20277,{Vt:y})}};return _(p)-_(g)}(c.type,f.type)||this.eu(c.doc,f.doc)),this.ou(r),i=i??!1;const o=n&&!i?this._u():[],l=this.Ya.size===0&&this.current&&!i?1:0,u=l!==this.Xa;return this.Xa=l,s.length!==0||u?{snapshot:new iu(this.query,t.tu,a,s,t.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new eC,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(n=>this.Za=this.Za.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Za=this.Za.delete(n)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=ye(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return t.forEach(r=>{this.Ya.has(r)||n.push(new cM(r))}),this.Ya.forEach(r=>{t.has(r)||n.push(new uM(r))}),n}cu(t){this.Za=t.ks,this.Ya=ye();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return iu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const i1="SyncEngine";class pK{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class gK{constructor(t){this.key=t,this.hu=!1}}class yK{constructor(t,n,r,i,a,s){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new qo(o=>TD(o),Zg),this.Iu=new Map,this.Eu=new Set,this.Ru=new nt(J.comparator),this.Au=new Map,this.Vu=new qw,this.du={},this.mu=new Map,this.fu=ru.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function vK(e,t,n=!0){const r=gM(e);let i;const a=r.Tu.get(t);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await fM(r,t,n,!0),i}async function bK(e,t){const n=gM(e);await fM(n,t,!0,!1)}async function fM(e,t,n,r){const i=await VG(e.localStore,di(t)),a=i.targetId,s=e.sharedClientState.addLocalQueryTarget(a,n);let o;return r&&(o=await xK(e,t,a,s==="current",i.resumeToken)),e.isPrimaryClient&&n&&rM(e.remoteStore,i),o}async function xK(e,t,n,r,i){e.pu=(f,m,p)=>async function(_,y,w,x){let S=y.view.ru(w);S.Ss&&(S=await YN(_.localStore,y.query,!1).then(({documents:A})=>y.view.ru(A,S)));const N=x&&x.targetChanges.get(y.targetId),P=x&&x.targetMismatches.get(y.targetId)!=null,O=y.view.applyChanges(S,_.isPrimaryClient,N,P);return iC(_,y.targetId,O.au),O.snapshot}(e,f,m,p);const a=await YN(e.localStore,t,!0),s=new mK(t,a.ks),o=s.ru(a.documents),l=_d.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),u=s.applyChanges(o,e.isPrimaryClient,l);iC(e,n,u.au);const c=new pK(t,n,s);return e.Tu.set(t,c),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),u.snapshot}async function _K(e,t,n){const r=se(e),i=r.Tu.get(t),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter(s=>!Zg(s,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await dx(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Yw(r.remoteStore,i.targetId),px(r,i.targetId)}).catch(Au)):(px(r,i.targetId),await dx(r.localStore,i.targetId,!0))}async function wK(e,t){const n=se(e),r=n.Tu.get(t),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Yw(n.remoteStore,r.targetId))}async function EK(e,t,n){const r=IK(e);try{const i=await function(s,o){const l=se(s),u=qe.now(),c=o.reduce((p,g)=>p.add(g.key),ye());let f,m;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=oa(),_=ye();return l.xs.getEntries(p,c).next(y=>{g=y,g.forEach((w,x)=>{x.isValidDocument()||(_=_.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(y=>{f=y;const w=[];for(const x of o){const S=LH(x,f.get(x.key).overlayedDocument);S!=null&&w.push(new Ds(x.key,S,vD(S.value.mapValue),$n.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,w,o)}).next(y=>{m=y;const w=y.applyToLocalDocumentSet(f,_);return l.documentOverlayCache.saveOverlays(p,y.batchId,w)})}).then(()=>({batchId:m.batchId,changes:OD(f)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,l){let u=s.du[s.currentUser.toKey()];u||(u=new nt(ge)),u=u.insert(o,l),s.du[s.currentUser.toKey()]=u}(r,i.batchId,n),await Ed(r,i.changes),await sy(r.remoteStore)}catch(i){const a=Jw(i,"Failed to persist write");n.reject(a)}}async function dM(e,t){const n=se(e);try{const r=await DG(n.localStore,t);t.targetChanges.forEach((i,a)=>{const s=n.Au.get(a);s&&(Te(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?Te(s.hu,14607):i.removedDocuments.size>0&&(Te(s.hu,42227),s.hu=!1))}),await Ed(n,r,t)}catch(r){await Au(r)}}function rC(e,t,n){const r=se(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((a,s)=>{const o=s.view.va(t);o.snapshot&&i.push(o.snapshot)}),function(s,o){const l=se(s);l.onlineState=o;let u=!1;l.queries.forEach((c,f)=>{for(const m of f.ba)m.va(o)&&(u=!0)}),u&&n1(l)}(r.eventManager,t),i.length&&r.Pu.J_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function SK(e,t,n){const r=se(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Au.get(t),a=i&&i.key;if(a){let s=new nt(J.comparator);s=s.insert(a,yn.newNoDocument(a,ae.min()));const o=ye().add(a),l=new ry(ae.min(),new Map,new nt(ge),s,o);await dM(r,l),r.Ru=r.Ru.remove(a),r.Au.delete(t),a1(r)}else await dx(r.localStore,t,!1).then(()=>px(r,t,n)).catch(Au)}async function AK(e,t){const n=se(e),r=t.batch.batchId;try{const i=await kG(n.localStore,t);mM(n,r,null),hM(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ed(n,i)}catch(i){await Au(i)}}async function TK(e,t,n){const r=se(e);try{const i=await function(s,o){const l=se(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,o).next(f=>(Te(f!==null,37113),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,t);mM(r,t,n),hM(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Ed(r,i)}catch(i){await Au(i)}}function hM(e,t){(e.mu.get(t)||[]).forEach(n=>{n.resolve()}),e.mu.delete(t)}function mM(e,t,n){const r=se(e);let i=r.du[r.currentUser.toKey()];if(i){const a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.du[r.currentUser.toKey()]=i}}function px(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Vu.Gr(t).forEach(r=>{e.Vu.containsKey(r)||pM(e,r)})}function pM(e,t){e.Eu.delete(t.path.canonicalString());const n=e.Ru.get(t);n!==null&&(Yw(e.remoteStore,n),e.Ru=e.Ru.remove(t),e.Au.delete(n),a1(e))}function iC(e,t,n){for(const r of n)r instanceof uM?(e.Vu.addReference(r.key,t),NK(e,r)):r instanceof cM?(Y(i1,"Document no longer in limbo: "+r.key),e.Vu.removeReference(r.key,t),e.Vu.containsKey(r.key)||pM(e,r.key)):re(19791,{wu:r})}function NK(e,t){const n=t.key,r=n.path.canonicalString();e.Ru.get(n)||e.Eu.has(r)||(Y(i1,"New document in limbo: "+n),e.Eu.add(r),a1(e))}function a1(e){for(;e.Eu.size>0&&e.Ru.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new J(Le.fromString(t)),r=e.fu.next();e.Au.set(r,new gK(n)),e.Ru=e.Ru.insert(n,r),rM(e.remoteStore,new Za(di(Qg(n.path)),r,"TargetPurposeLimboResolution",Yg.ce))}}async function Ed(e,t,n){const r=se(e),i=[],a=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((o,l)=>{s.push(r.pu(l,t,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=Gw.Es(l.targetId,u);a.push(f)}}))}),await Promise.all(s),r.Pu.J_(i),await async function(l,u){const c=se(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>B.forEach(u,m=>B.forEach(m.Ts,p=>c.persistence.referenceDelegate.addReference(f,m.targetId,p)).next(()=>B.forEach(m.Is,p=>c.persistence.referenceDelegate.removeReference(f,m.targetId,p)))))}catch(f){if(!Tu(f))throw f;Y(Kw,"Failed to update sequence numbers: "+f)}for(const f of u){const m=f.targetId;if(!f.fromCache){const p=c.vs.get(m),g=p.snapshotVersion,_=p.withLastLimboFreeSnapshotVersion(g);c.vs=c.vs.insert(m,_)}}}(r.localStore,a))}async function CK(e,t){const n=se(e);if(!n.currentUser.isEqual(t)){Y(i1,"User change. New user:",t.toKey());const r=await JD(n.localStore,t);n.currentUser=t,function(a,s){a.mu.forEach(o=>{o.forEach(l=>{l.reject(new G(U.CANCELLED,s))})}),a.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Ed(n,r.Ns)}}function OK(e,t){const n=se(e),r=n.Au.get(t);if(r&&r.hu)return ye().add(r.key);{let i=ye();const a=n.Iu.get(t);if(!a)return i;for(const s of a){const o=n.Tu.get(s);i=i.unionWith(o.view.nu)}return i}}function gM(e){const t=se(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=dM.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=OK.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=SK.bind(null,t),t.Pu.J_=dK.bind(null,t.eventManager),t.Pu.yu=hK.bind(null,t.eventManager),t}function IK(e){const t=se(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=AK.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=TK.bind(null,t),t}class Tp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=iy(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return jG(this.persistence,new IG,t.initialUser,this.serializer)}Cu(t){return new ZD(Hw.Vi,this.serializer)}Du(t){return new zG}async terminate(){var t,n;(t=this.gcScheduler)==null||t.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Tp.provider={build:()=>new Tp};class PK extends Tp{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Te(this.persistence.referenceDelegate instanceof Sp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new pG(r,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?Ln.withCacheSize(this.cacheSizeBytes):Ln.DEFAULT;return new ZD(r=>Sp.Vi(r,n),this.serializer)}}class gx{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>rC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=CK.bind(null,this.syncEngine),await uK(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new fK}()}createDatastore(t){const n=iy(t.databaseInfo.databaseId),r=HG(t.databaseInfo);return XG(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,a,s,o){return new ZG(r,i,a,s,o)}(this.localStore,this.datastore,t.asyncQueue,n=>rC(this.syncEngine,n,0),function(){return QN.v()?new QN:new BG}())}createSyncEngine(t,n){return function(i,a,s,o,l,u,c){const f=new yK(i,a,s,o,l,u);return c&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(i){const a=se(i);Y(No,"RemoteStore shutting down."),a.Ea.add(5),await wd(a),a.Aa.shutdown(),a.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)==null||t.terminate(),(n=this.eventManager)==null||n.terminate()}}gx.provider={build:()=>new gx};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):sa("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts="FirestoreClient";class RK{constructor(t,n,r,i,a){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=i,this.user=gn.UNAUTHENTICATED,this.clientId=kw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async s=>{Y(Ts,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Y(Ts,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Jw(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function _0(e,t){e.asyncQueue.verifyOperationInProgress(),Y(Ts,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await JD(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function aC(e,t){e.asyncQueue.verifyOperationInProgress();const n=await jK(e);Y(Ts,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>JN(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,i)=>JN(t.remoteStore,i)),e._onlineComponents=t}async function jK(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Y(Ts,"Using user provided OfflineComponentProvider");try{await _0(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(i){return i.name==="FirebaseError"?i.code===U.FAILED_PRECONDITION||i.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Jl("Error using user provided cache. Falling back to memory cache: "+n),await _0(e,new Tp)}}else Y(Ts,"Using default OfflineComponentProvider"),await _0(e,new PK(void 0));return e._offlineComponents}async function yM(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Y(Ts,"Using user provided OnlineComponentProvider"),await aC(e,e._uninitializedComponentsProvider._online)):(Y(Ts,"Using default OnlineComponentProvider"),await aC(e,new gx))),e._onlineComponents}function kK(e){return yM(e).then(t=>t.syncEngine)}async function Np(e){const t=await yM(e),n=t.eventManager;return n.onListen=vK.bind(null,t.syncEngine),n.onUnlisten=_K.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=bK.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=wK.bind(null,t.syncEngine),n}function DK(e,t,n,r){const i=new s1(r),a=new r1(t,i,n);return e.asyncQueue.enqueueAndForget(async()=>e1(await Np(e),a)),()=>{i.Nu(),e.asyncQueue.enqueueAndForget(async()=>t1(await Np(e),a))}}function MK(e,t,n={}){const r=new Wi;return e.asyncQueue.enqueueAndForget(async()=>function(a,s,o,l,u){const c=new s1({next:m=>{c.Nu(),s.enqueueAndForget(()=>t1(a,f));const p=m.docs.has(o);!p&&m.fromCache?u.reject(new G(U.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&m.fromCache&&l&&l.source==="server"?u.reject(new G(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),f=new r1(Qg(o.path),c,{includeMetadataChanges:!0,Ka:!0});return e1(a,f)}(await Np(e),e.asyncQueue,t,n,r)),r.promise}function LK(e,t,n={}){const r=new Wi;return e.asyncQueue.enqueueAndForget(async()=>function(a,s,o,l,u){const c=new s1({next:m=>{c.Nu(),s.enqueueAndForget(()=>t1(a,f)),m.fromCache&&l.source==="server"?u.reject(new G(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),f=new r1(o,c,{includeMetadataChanges:!0,Ka:!0});return e1(a,f)}(await Np(e),e.asyncQueue,t,n,r)),r.promise}function VK(e,t){const n=new Wi;return e.asyncQueue.enqueueAndForget(async()=>EK(await kK(e),t,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vM(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UK="ComponentProvider",sC=new Map;function zK(e,t,n,r,i){return new sH(e,t,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,vM(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM="firestore.googleapis.com",oC=!0;class lC{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new G(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=bM,this.ssl=oC}else this.host=t.host,this.ssl=t.ssl??oC;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=QD;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<hG)throw new G(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Wq("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vM(t.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new G(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new G(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new G(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class oy{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lC({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new G(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new G(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lC(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Uq;switch(r.type){case"firstParty":return new Fq(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new G(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=sC.get(n);r&&(Y(UK,"Removing Datastore"),sC.delete(n),r.terminate())}(this),Promise.resolve()}}function BK(e,t,n,r={}){var u;e=sr(e,oy);const i=Rs(t),a=e._getSettings(),s={...a,emulatorOptions:e._getEmulatorOptions()},o=`${t}:${n}`;i&&(xw(`https://${o}`),_w("Firestore",!0)),a.host!==bM&&a.host!==o&&Jl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...a,host:o,ssl:i,emulatorOptions:r};if(!Eo(l,s)&&(e._setSettings(l),r.mockUserToken)){let c,f;if(typeof r.mockUserToken=="string")c=r.mockUserToken,f=gn.MOCK_USER;else{c=mk(r.mockUserToken,(u=e._app)==null?void 0:u.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new G(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new gn(m)}e._authCredentials=new zq(new sD(c,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new ga(this.firestore,t,this._query)}}class pt{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new pt(this.firestore,t,this._key)}toJSON(){return{type:pt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(bd(n,pt._jsonSchema))return new pt(t,r||null,new J(Le.fromString(n.referencePath)))}}pt._jsonSchemaVersion="firestore/documentReference/1.0",pt._jsonSchema={type:St("string",pt._jsonSchemaVersion),referencePath:St("string")};class hs extends ga{constructor(t,n,r){super(t,n,Qg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new pt(this.firestore,null,new J(t))}withConverter(t){return new hs(this.firestore,t,this._path)}}function yi(e,t,...n){if(e=Ke(e),oD("collection","path",t),e instanceof oy){const r=Le.fromString(t,...n);return _N(r),new hs(e,null,r)}{if(!(e instanceof pt||e instanceof hs))throw new G(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Le.fromString(t,...n));return _N(r),new hs(e.firestore,null,r)}}function Tr(e,t,...n){if(e=Ke(e),arguments.length===1&&(t=kw.newId()),oD("doc","path",t),e instanceof oy){const r=Le.fromString(t,...n);return xN(r),new pt(e,null,new J(r))}{if(!(e instanceof pt||e instanceof hs))throw new G(U.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Le.fromString(t,...n));return xN(r),new pt(e.firestore,e instanceof hs?e.converter:null,new J(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC="AsyncQueue";class cC{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new tM(this,"async_queue_retry"),this._c=()=>{const r=x0();r&&Y(uC,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=x0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=x0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Wi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Yu.push(t),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!Tu(t))throw t;Y(uC,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(r=>{throw this.nc=r,this.rc=!1,sa("INTERNAL UNHANDLED ERROR: ",fC(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const i=Zw.createAndSchedule(this,t,n,r,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&re(47125,{Pc:fC(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function fC(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class la extends oy{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=new cC,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new cC(t),this._firestoreClient=void 0,await t}}}function $K(e,t){const n=typeof e=="object"?e:Sw(),r=typeof e=="string"?e:bp,i=$g(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=fk("firestore");a&&BK(i,...a)}return i}function Sd(e){if(e._terminated)throw new G(U.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||FK(e),e._firestoreClient}function FK(e){var r,i,a,s;const t=e._freezeSettings(),n=zK(e._databaseId,((r=e._app)==null?void 0:r.options.appId)||"",e._persistenceKey,(i=e._app)==null?void 0:i.options.apiKey,t);e._componentsProvider||(a=t.localCache)!=null&&a._offlineComponentProvider&&((s=t.localCache)!=null&&s._onlineComponentProvider)&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new RK(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(t){this._byteString=t}static fromBase64String(t){try{return new _r(cn.fromBase64String(t))}catch(n){throw new G(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new _r(cn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:_r._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(bd(t,_r._jsonSchema))return _r.fromBase64String(t.bytes)}}_r._jsonSchemaVersion="firestore/bytes/1.0",_r._jsonSchema={type:St("string",_r._jsonSchemaVersion),bytes:St("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new G(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new G(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new G(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return ge(this._lat,t._lat)||ge(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:mi._jsonSchemaVersion}}static fromJSON(t){if(bd(t,mi._jsonSchema))return new mi(t.latitude,t.longitude)}}mi._jsonSchemaVersion="firestore/geoPoint/1.0",mi._jsonSchema={type:St("string",mi._jsonSchemaVersion),latitude:St("number"),longitude:St("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,t._values)}toJSON(){return{type:zr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(bd(t,zr._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new zr(t.vectorValues);throw new G(U.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}zr._jsonSchemaVersion="firestore/vectorValue/1.0",zr._jsonSchema={type:St("string",zr._jsonSchemaVersion),vectorValues:St("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qK=/^__.*__$/;class HK{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Ds(t,this.data,this.fieldMask,n,this.fieldTransforms):new xd(t,this.data,n,this.fieldTransforms)}}class xM{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new Ds(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function _M(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw re(40011,{dataSource:e})}}class o1{constructor(t,n,r,i,a,s){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.validatePath(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new o1({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){var i;const n=(i=this.path)==null?void 0:i.child(t),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(t),r}childContextForFieldPath(t){var i;const n=(i=this.path)==null?void 0:i.child(t),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return Cp(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(_M(this.dataSource)&&qK.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class GK{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||iy(t)}createContext(t,n,r,i=!1){return new o1({dataSource:t,methodName:n,targetDoc:r,path:an.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function uy(e){const t=e._freezeSettings(),n=iy(e._databaseId);return new GK(e._databaseId,!!t.ignoreUndefinedProperties,n)}function wM(e,t,n,r,i,a={}){const s=e.createContext(a.merge||a.mergeFields?2:0,t,n,i);c1("Data must be an object, but it was:",s,r);const o=AM(r,s);let l,u;if(a.merge)l=new Jn(s.fieldMask),u=s.fieldTransforms;else if(a.mergeFields){const c=[];for(const f of a.mergeFields){const m=au(t,f,n);if(!s.contains(m))throw new G(U.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);CM(c,m)||c.push(m)}l=new Jn(c),u=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=s.fieldTransforms;return new HK(new Vn(o),l,u)}class cy extends Ad{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof cy}}class l1 extends Ad{_toFieldTransform(t){return new LD(t.path,new Nf)}isEqual(t){return t instanceof l1}}class u1 extends Ad{constructor(t,n){super(t),this.Vc=n}_toFieldTransform(t){const n=new If(t.serializer,RD(t.serializer,this.Vc));return new LD(t.path,n)}isEqual(t){return t instanceof u1&&this.Vc===t.Vc}}function EM(e,t,n,r){const i=e.createContext(1,t,n);c1("Data must be an object, but it was:",i,r);const a=[],s=Vn.empty();ks(r,(l,u)=>{const c=NM(t,l,n);u=Ke(u);const f=i.childContextForFieldPath(c);if(u instanceof cy)a.push(c);else{const m=Td(u,f);m!=null&&(a.push(c),s.set(c,m))}});const o=new Jn(a);return new xM(s,o,i.fieldTransforms)}function SM(e,t,n,r,i,a){const s=e.createContext(1,t,n),o=[au(t,r,n)],l=[i];if(a.length%2!=0)throw new G(U.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<a.length;m+=2)o.push(au(t,a[m])),l.push(a[m+1]);const u=[],c=Vn.empty();for(let m=o.length-1;m>=0;--m)if(!CM(u,o[m])){const p=o[m];let g=l[m];g=Ke(g);const _=s.childContextForFieldPath(p);if(g instanceof cy)u.push(p);else{const y=Td(g,_);y!=null&&(u.push(p),c.set(p,y))}}const f=new Jn(u);return new xM(c,f,s.fieldTransforms)}function KK(e,t,n,r=!1){return Td(n,e.createContext(r?4:3,t))}function Td(e,t){if(TM(e=Ke(e)))return c1("Unsupported field value:",t,e),AM(e,t);if(e instanceof Ad)return function(r,i){if(!_M(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return function(r,i){const a=[];let s=0;for(const o of r){let l=Td(o,i.childContextForArray(s));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),s++}return{arrayValue:{values:a}}}(e,t)}return function(r,i){if((r=Ke(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return RD(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=qe.fromDate(r);return{timestampValue:Ep(i.serializer,a)}}if(r instanceof qe){const a=new qe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ep(i.serializer,a)}}if(r instanceof mi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof _r)return{bytesValue:FD(i.serializer,r._byteString)};if(r instanceof pt){const a=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(a))throw i.createError(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Fw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof zr)return function(s,o){const l=s instanceof zr?s.toArray():s;return{mapValue:{fields:{[gD]:{stringValue:yD},[xp]:{arrayValue:{values:l.map(c=>{if(typeof c!="number")throw o.createError("VectorValues must only contain numeric values.");return zw(o.serializer,c)})}}}}}}(r,i);if(XD(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${Kg(r)}`)}(e,t)}function AM(e,t){const n={};return cD(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ks(e,(r,i)=>{const a=Td(i,t.childContextForField(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function TM(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof qe||e instanceof mi||e instanceof _r||e instanceof pt||e instanceof Ad||e instanceof zr||XD(e))}function c1(e,t,n){if(!TM(n)||!lD(n)){const r=Kg(n);throw r==="an object"?t.createError(e+" a custom object"):t.createError(e+" "+r)}}function au(e,t,n){if((t=Ke(t))instanceof ly)return t._internalPath;if(typeof t=="string")return NM(e,t);throw Cp("Field path arguments must be of type string or ",e,!1,void 0,n)}const YK=new RegExp("[~\\*/\\[\\]]");function NM(e,t,n){if(t.search(YK)>=0)throw Cp(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new ly(...t.split("."))._internalPath}catch{throw Cp(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Cp(e,t,n,r,i){const a=r&&!r.isEmpty(),s=i!==void 0;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||s)&&(l+=" (found",a&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new G(U.INVALID_ARGUMENT,o+e+l)}function CM(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WK{convertValue(t,n="none"){switch(Ss(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ht(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Es(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw re(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return ks(t,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(t){var r,i,a;const n=(a=(i=(r=t.fields)==null?void 0:r[xp].arrayValue)==null?void 0:i.values)==null?void 0:a.map(s=>ht(s.doubleValue));return new zr(n)}convertGeoPoint(t){return new mi(ht(t.latitude),ht(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=Xg(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ef(t));default:return null}}convertTimestamp(t){const n=ws(t);return new qe(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=Le.fromString(t);Te(WD(r),9688,{name:t});const i=new Sf(r.get(1),r.get(3)),a=new J(r.popFirst(5));return i.isEqual(n)||sa(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1 extends WK{constructor(t){super(),this.firestore=t}convertBytes(t){return new _r(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new pt(this.firestore,null,n)}}function OM(){return new l1("serverTimestamp")}function XK(e){return new u1("increment",e)}const dC="@firebase/firestore",hC="4.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(e){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(e,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(t,n,r,i,a){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new QK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var t;return((t=this._document)==null?void 0:t.data.clone().value.mapValue.fields)??void 0}get(t){if(this._document){const n=this._document.data.field(au("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class QK extends IM{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PM(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new G(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class d1{}class h1 extends d1{}function m1(e,t,...n){let r=[];t instanceof d1&&r.push(t),r=r.concat(n),function(a){const s=a.filter(l=>l instanceof g1).length,o=a.filter(l=>l instanceof p1).length;if(s>1||s>0&&o>0)throw new G(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}class p1 extends h1{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new p1(t,n,r)}_apply(t){const n=this._parse(t);return jM(t._query,n),new ga(t.firestore,t.converter,ox(t._query,n))}_parse(t){const n=uy(t.firestore);return function(a,s,o,l,u,c,f){let m;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new G(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){gC(f,c);const g=[];for(const _ of f)g.push(pC(l,a,_));m={arrayValue:{values:g}}}else m=pC(l,a,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||gC(f,c),m=KK(o,s,f,c==="in"||c==="not-in");return wt.create(u,c,m)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class g1 extends d1{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new g1(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:qr.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(i,a){let s=i;const o=a.getFlattenedFilters();for(const l of o)jM(s,l),s=ox(s,l)}(t._query,n),new ga(t.firestore,t.converter,ox(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class y1 extends h1{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new y1(t,n)}_apply(t){const n=function(i,a,s){if(i.startAt!==null)throw new G(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new G(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Tf(a,s)}(t._query,this._field,this._direction);return new ga(t.firestore,t.converter,SH(t._query,n))}}function RM(e,t="asc"){const n=t,r=au("orderBy",e);return y1._create(r,n)}class v1 extends h1{constructor(t,n,r){super(),this.type=t,this._limit=n,this._limitType=r}static _create(t,n,r){return new v1(t,n,r)}_apply(t){return new ga(t.firestore,t.converter,wp(t._query,this._limit,this._limitType))}}function ZK(e){return v1._create("limit",e,"F")}function pC(e,t,n){if(typeof(n=Ke(n))=="string"){if(n==="")throw new G(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!AD(t)&&n.indexOf("/")!==-1)throw new G(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Le.fromString(n));if(!J.isDocumentKey(r))throw new G(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ON(e,new J(r))}if(n instanceof pt)return ON(e,n._key);throw new G(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kg(n)}.`)}function gC(e,t){if(!Array.isArray(e)||e.length===0)throw new G(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function jM(e,t){const n=function(i,a){for(const s of i)for(const o of s.getFlattenedFilters())if(a.indexOf(o.op)>=0)return o.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new G(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new G(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function kM(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Pc{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class co extends IM{constructor(t,n,r,i,a,s){super(t,n,r,i,s),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Tm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(au("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new G(U.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=co._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}co._jsonSchemaVersion="firestore/documentSnapshot/1.0",co._jsonSchema={type:St("string",co._jsonSchemaVersion),bundleSource:St("string","DocumentSnapshot"),bundleName:St("string"),bundle:St("string")};class Tm extends co{data(t={}){return super.data(t)}}class fo{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Pc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new Tm(this._firestore,this._userDataWriter,r.key,r,new Pc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new G(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(o=>{const l=new Tm(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Pc(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>a||o.type!==3).map(o=>{const l=new Tm(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Pc(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return o.type!==0&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:JK(o.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new G(U.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=fo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=kw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function JK(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return re(61501,{type:e})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fo._jsonSchemaVersion="firestore/querySnapshot/1.0",fo._jsonSchema={type:St("string",fo._jsonSchemaVersion),bundleSource:St("string","QuerySnapshot"),bundleName:St("string"),bundle:St("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eY{constructor(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=uy(t)}set(t,n,r){this._verifyNotCommitted();const i=w0(t,this._firestore),a=kM(i.converter,n,r),s=wM(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,$n.none())),this}update(t,n,r,...i){this._verifyNotCommitted();const a=w0(t,this._firestore);let s;return s=typeof(n=Ke(n))=="string"||n instanceof ly?SM(this._dataReader,"WriteBatch.update",a._key,n,r,i):EM(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(s.toMutation(a._key,$n.exists(!0))),this}delete(t){this._verifyNotCommitted();const n=w0(t,this._firestore);return this._mutations=this._mutations.concat(new ny(n._key,$n.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new G(U.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function w0(e,t){if((e=Ke(e)).firestore!==t)throw new G(U.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(e){e=sr(e,pt);const t=sr(e.firestore,la),n=Sd(t);return MK(n,e._key).then(r=>MM(t,e,r))}function tY(e){e=sr(e,ga);const t=sr(e.firestore,la),n=Sd(t),r=new f1(t);return PM(e._query),LK(n,e._query).then(i=>new fo(t,r,e,i))}function Pf(e,t,n,...r){e=sr(e,pt);const i=sr(e.firestore,la),a=uy(i);let s;return s=typeof(t=Ke(t))=="string"||t instanceof ly?SM(a,"updateDoc",e._key,t,n,r):EM(a,"updateDoc",e._key,t),dy(i,[s.toMutation(e._key,$n.exists(!0))])}function DM(e){return dy(sr(e.firestore,la),[new ny(e._key,$n.none())])}function fy(e,t){const n=sr(e.firestore,la),r=Tr(e),i=kM(e.converter,t),a=uy(e.firestore);return dy(n,[wM(a,"addDoc",r._key,i,e.converter!==null,{}).toMutation(r._key,$n.exists(!1))]).then(()=>r)}function Nd(e,...t){var u,c,f;e=Ke(e);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||mC(t[r])||(n=t[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(mC(t[r])){const m=t[r];t[r]=(u=m.next)==null?void 0:u.bind(m),t[r+1]=(c=m.error)==null?void 0:c.bind(m),t[r+2]=(f=m.complete)==null?void 0:f.bind(m)}let a,s,o;if(e instanceof pt)s=sr(e.firestore,la),o=Qg(e._key.path),a={next:m=>{t[r]&&t[r](MM(s,e,m))},error:t[r+1],complete:t[r+2]};else{const m=sr(e,ga);s=sr(m.firestore,la),o=m._query;const p=new f1(s);a={next:g=>{t[r]&&t[r](new fo(s,p,m,g))},error:t[r+1],complete:t[r+2]},PM(e._query)}const l=Sd(s);return DK(l,o,i,a)}function dy(e,t){const n=Sd(e);return VK(n,t)}function MM(e,t,n){const r=n.docs.get(t._key),i=new f1(e);return new co(e,i,t._key,r,new Pc(n.hasPendingWrites,n.fromCache),t.converter)}function nY(e){return e=sr(e,la),Sd(e),new eY(e,t=>dy(e,t))}(function(t,n=!0){Vq($o),So(new xs("firestore",(r,{instanceIdentifier:i,options:a})=>{const s=r.getProvider("app").getImmediate(),o=new la(new Bq(r.getProvider("auth-internal")),new qq(s,r.getProvider("app-check-internal")),oH(s,i),s);return a={useFetchStreams:n,...a},o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),ui(dC,hC,t),ui(dC,hC,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LM="firebasestorage.googleapis.com",VM="storageBucket",rY=2*60*1e3,iY=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct extends Ti{constructor(t,n,r=0){super(E0(t),`Firebase Storage: ${n} (${E0(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ct.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return E0(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ut;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ut||(ut={}));function E0(e){return"storage/"+e}function x1(){const e="An unknown error occurred, please check the error payload for server response.";return new ct(ut.UNKNOWN,e)}function aY(e){return new ct(ut.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function sY(e){return new ct(ut.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function oY(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ct(ut.UNAUTHENTICATED,e)}function lY(){return new ct(ut.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function uY(e){return new ct(ut.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function cY(){return new ct(ut.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function fY(){return new ct(ut.CANCELED,"User canceled the upload/download.")}function dY(e){return new ct(ut.INVALID_URL,"Invalid URL '"+e+"'.")}function hY(e){return new ct(ut.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function mY(){return new ct(ut.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+VM+"' property when initializing the app?")}function pY(){return new ct(ut.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function gY(){return new ct(ut.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function yY(e){return new ct(ut.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function yx(e){return new ct(ut.INVALID_ARGUMENT,e)}function UM(){return new ct(ut.APP_DELETED,"The Firebase app was deleted.")}function vY(e){return new ct(ut.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function tf(e,t){return new ct(ut.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function dc(e){throw new ct(ut.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=er.makeFromUrl(t,n)}catch{return new er(t,"")}if(r.path==="")return r;throw hY(t)}static makeFromUrl(t,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(N){N.path.charAt(N.path.length-1)==="/"&&(N.path_=N.path_.slice(0,-1))}const s="(/(.*))?$",o=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function u(N){N.path_=decodeURIComponent(N.path)}const c="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",p=new RegExp(`^https?://${f}/${c}/b/${i}/o${m}`,"i"),g={bucket:1,path:3},_=n===LM?"(?:storage.googleapis.com|storage.cloud.google.com)":n,y="([^?#]*)",w=new RegExp(`^https?://${_}/${i}/${y}`,"i"),S=[{regex:o,indices:l,postModify:a},{regex:p,indices:g,postModify:u},{regex:w,indices:{bucket:1,path:2},postModify:u}];for(let N=0;N<S.length;N++){const P=S[N],O=P.regex.exec(t);if(O){const A=O[P.indices.bucket];let T=O[P.indices.path];T||(T=""),r=new er(A,T),P.postModify(r);break}}if(r==null)throw dY(t);return r}}class bY{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xY(e,t,n){let r=1,i=null,a=null,s=!1,o=0;function l(){return o===2}let u=!1;function c(...y){u||(u=!0,t.apply(null,y))}function f(y){i=setTimeout(()=>{i=null,e(p,l())},y)}function m(){a&&clearTimeout(a)}function p(y,...w){if(u){m();return}if(y){m(),c.call(null,y,...w);return}if(l()||s){m(),c.call(null,y,...w);return}r<64&&(r*=2);let S;o===1?(o=2,S=0):S=(r+Math.random())*1e3,f(S)}let g=!1;function _(y){g||(g=!0,m(),!u&&(i!==null?(y||(o=2),clearTimeout(i),f(0)):y||(o=1)))}return f(0),a=setTimeout(()=>{s=!0,_(!0)},n),_}function _Y(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wY(e){return e!==void 0}function EY(e){return typeof e=="object"&&!Array.isArray(e)}function _1(e){return typeof e=="string"||e instanceof String}function yC(e){return w1()&&e instanceof Blob}function w1(){return typeof Blob<"u"}function vC(e,t,n,r){if(r<t)throw yx(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw yx(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(e,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function zM(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var ho;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(ho||(ho={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SY(e,t){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,a=t.indexOf(e)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AY{constructor(t,n,r,i,a,s,o,l,u,c,f,m=!0,p=!1){this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=f,this.retry=m,this.isUsingEmulator=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,_)=>{this.resolve_=g,this.reject_=_,this.start_()})}start_(){const t=(r,i)=>{if(i){r(!1,new Mh(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const s=o=>{const l=o.loaded,u=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&a.addUploadProgressListener(s),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(s),this.pendingConnection_=null;const o=a.getErrorCode()===ho.NO_ERROR,l=a.getStatus();if(!o||SY(l,this.additionalRetryCodes_)&&this.retry){const c=a.getErrorCode()===ho.ABORT;r(!1,new Mh(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Mh(u,a))})},n=(r,i)=>{const a=this.resolve_,s=this.reject_,o=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(o,o.getResponse());wY(l)?a(l):a()}catch(l){s(l)}else if(o!==null){const l=x1();l.serverResponse=o.getErrorText(),this.errorCallback_?s(this.errorCallback_(o,l)):s(l)}else if(i.canceled){const l=this.appDelete_?UM():fY();s(l)}else{const l=cY();s(l)}};this.canceled_?n(!1,new Mh(!1,null,!0)):this.backoffId_=xY(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&_Y(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Mh{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function TY(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function NY(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function CY(e,t){t&&(e["X-Firebase-GMPID"]=t)}function OY(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function IY(e,t,n,r,i,a,s=!0,o=!1){const l=zM(e.urlParams),u=e.url+l,c=Object.assign({},e.headers);return CY(c,t),TY(c,n),NY(c,a),OY(c,r),new AY(u,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PY(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function RY(...e){const t=PY();if(t!==void 0){const n=new t;for(let r=0;r<e.length;r++)n.append(e[r]);return n.getBlob()}else{if(w1())return new Blob(e);throw new ct(ut.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function jY(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kY(e){if(typeof atob>"u")throw yY("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ai={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class S0{constructor(t,n){this.data=t,this.contentType=n||null}}function DY(e,t){switch(e){case ai.RAW:return new S0(BM(t));case ai.BASE64:case ai.BASE64URL:return new S0($M(e,t));case ai.DATA_URL:return new S0(LY(t),VY(t))}throw x1()}function BM(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const a=r,s=e.charCodeAt(++n);r=65536|(a&1023)<<10|s&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function MY(e){let t;try{t=decodeURIComponent(e)}catch{throw tf(ai.DATA_URL,"Malformed data URL.")}return BM(t)}function $M(e,t){switch(e){case ai.BASE64:{const i=t.indexOf("-")!==-1,a=t.indexOf("_")!==-1;if(i||a)throw tf(e,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case ai.BASE64URL:{const i=t.indexOf("+")!==-1,a=t.indexOf("/")!==-1;if(i||a)throw tf(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=kY(t)}catch(i){throw i.message.includes("polyfill")?i:tf(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class FM{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw tf(ai.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=UY(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function LY(e){const t=new FM(e);return t.base64?$M(ai.BASE64,t.rest):MY(t.rest)}function VY(e){return new FM(e).contentType}function UY(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(t,n){let r=0,i="";yC(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(t,n){if(yC(this.data_)){const r=this.data_,i=jY(r,t,n);return i===null?null:new Ha(i)}else{const r=new Uint8Array(this.data_.buffer,t,n-t);return new Ha(r,!0)}}static getBlob(...t){if(w1()){const n=t.map(r=>r instanceof Ha?r.data_:r);return new Ha(RY.apply(null,n))}else{const n=t.map(s=>_1(s)?DY(ai.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let a=0;return n.forEach(s=>{for(let o=0;o<s.length;o++)i[a++]=s[o]}),new Ha(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qM(e){let t;try{t=JSON.parse(e)}catch{return null}return EY(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zY(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function BY(e,t){const n=t.split("/").filter(r=>r.length>0).join("/");return e.length===0?n:e+"/"+n}function HM(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $Y(e,t){return t}class Sn{constructor(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||$Y}}let Lh=null;function FY(e){return!_1(e)||e.length<2?e:HM(e)}function GM(){if(Lh)return Lh;const e=[];e.push(new Sn("bucket")),e.push(new Sn("generation")),e.push(new Sn("metageneration")),e.push(new Sn("name","fullPath",!0));function t(a,s){return FY(s)}const n=new Sn("name");n.xform=t,e.push(n);function r(a,s){return s!==void 0?Number(s):s}const i=new Sn("size");return i.xform=r,e.push(i),e.push(new Sn("timeCreated")),e.push(new Sn("updated")),e.push(new Sn("md5Hash",null,!0)),e.push(new Sn("cacheControl",null,!0)),e.push(new Sn("contentDisposition",null,!0)),e.push(new Sn("contentEncoding",null,!0)),e.push(new Sn("contentLanguage",null,!0)),e.push(new Sn("contentType",null,!0)),e.push(new Sn("metadata","customMetadata",!0)),Lh=e,Lh}function qY(e,t){function n(){const r=e.bucket,i=e.fullPath,a=new er(r,i);return t._makeStorageReference(a)}Object.defineProperty(e,"ref",{get:n})}function HY(e,t,n){const r={};r.type="file";const i=n.length;for(let a=0;a<i;a++){const s=n[a];r[s.local]=s.xform(r,t[s.server])}return qY(r,e),r}function KM(e,t,n){const r=qM(t);return r===null?null:HY(e,r,n)}function GY(e,t,n,r){const i=qM(t);if(i===null||!_1(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const s=encodeURIComponent;return a.split(",").map(u=>{const c=e.bucket,f=e.fullPath,m="/b/"+s(c)+"/o/"+s(f),p=E1(m,n,r),g=zM({alt:"media",token:u});return p+g})[0]}function KY(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}class YM{constructor(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WM(e){if(!e)throw x1()}function YY(e,t){function n(r,i){const a=KM(e,i,t);return WM(a!==null),a}return n}function WY(e,t){function n(r,i){const a=KM(e,i,t);return WM(a!==null),GY(a,i,e.host,e._protocol)}return n}function XM(e){function t(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=lY():i=oY():n.getStatus()===402?i=sY(e.bucket):n.getStatus()===403?i=uY(e.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return t}function XY(e){const t=XM(e);function n(r,i){let a=t(r,i);return r.getStatus()===404&&(a=aY(e.path)),a.serverResponse=i.serverResponse,a}return n}function QY(e,t,n){const r=t.fullServerUrl(),i=E1(r,e.host,e._protocol),a="GET",s=e.maxOperationRetryTime,o=new YM(i,a,WY(e,n),s);return o.errorHandler=XY(t),o}function ZY(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function JY(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=ZY(null,t)),r}function eW(e,t,n,r,i){const a=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function o(){let S="";for(let N=0;N<2;N++)S=S+Math.random().toString().slice(2);return S}const l=o();s["Content-Type"]="multipart/related; boundary="+l;const u=JY(t,r,i),c=KY(u,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,m=`\r
--`+l+"--",p=Ha.getBlob(f,r,m);if(p===null)throw pY();const g={name:u.fullPath},_=E1(a,e.host,e._protocol),y="POST",w=e.maxUploadRetryTime,x=new YM(_,y,YY(e,n),w);return x.urlParams=g,x.headers=s,x.body=p.uploadData(),x.errorHandler=XM(t),x}class tW{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ho.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ho.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ho.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,i,a){if(this.sent_)throw dc("cannot .send() more than once");if(Rs(t)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,t,!0),a!==void 0)for(const s in a)a.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,a[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw dc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw dc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw dc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw dc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class nW extends tW{initXhr(){this.xhr_.responseType="text"}}function QM(){return new nW}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(t,n){this._service=t,n instanceof er?this._location=n:this._location=er.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new Co(t,n)}get root(){const t=new er(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return HM(this._location.path)}get storage(){return this._service}get parent(){const t=zY(this._location.path);if(t===null)return null;const n=new er(this._location.bucket,t);return new Co(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw vY(t)}}function rW(e,t,n){e._throwIfRoot("uploadBytes");const r=eW(e.storage,e._location,GM(),new Ha(t,!0),n);return e.storage.makeRequestWithTokens(r,QM).then(i=>({metadata:i,ref:e}))}function iW(e){e._throwIfRoot("getDownloadURL");const t=QY(e.storage,e._location,GM());return e.storage.makeRequestWithTokens(t,QM).then(n=>{if(n===null)throw gY();return n})}function aW(e,t){const n=BY(e._location.path,t),r=new er(e._location.bucket,n);return new Co(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sW(e){return/^[A-Za-z]+:\/\//.test(e)}function oW(e,t){return new Co(e,t)}function ZM(e,t){if(e instanceof S1){const n=e;if(n._bucket==null)throw mY();const r=new Co(n,n._bucket);return t!=null?ZM(r,t):r}else return t!==void 0?aW(e,t):e}function lW(e,t){if(t&&sW(t)){if(e instanceof S1)return oW(e,t);throw yx("To use ref(service, url), the first argument must be a Storage instance.")}else return ZM(e,t)}function bC(e,t){const n=t==null?void 0:t[VM];return n==null?null:er.makeFromBucketSpec(n,e)}function uW(e,t,n,r={}){e.host=`${t}:${n}`;const i=Rs(t);i&&(xw(`https://${e.host}/b`),_w("Storage",!0)),e._isUsingEmulator=!0,e._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(e._overrideAuthToken=typeof a=="string"?a:mk(a,e.app.options.projectId))}class S1{constructor(t,n,r,i,a,s=!1){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=s,this._bucket=null,this._host=LM,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=rY,this._maxUploadRetryTime=iY,this._requests=new Set,i!=null?this._bucket=er.makeFromBucketSpec(i,this._host):this._bucket=bC(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=er.makeFromBucketSpec(this._url,t):this._bucket=bC(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){vC("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){vC("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(xr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Co(this,t)}_makeRequest(t,n,r,i,a=!0){if(this._deleted)return new bY(UM());{const s=IY(t,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(t,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,i).getPromise()}}const xC="@firebase/storage",_C="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM="storage";function cW(e,t,n){return e=Ke(e),rW(e,t,n)}function fW(e){return e=Ke(e),iW(e)}function dW(e,t){return e=Ke(e),lW(e,t)}function hW(e=Sw(),t){e=Ke(e);const r=$g(e,JM).getImmediate({identifier:t}),i=fk("storage");return i&&mW(r,...i),r}function mW(e,t,n,r={}){uW(e,t,n,r)}function pW(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new S1(n,r,i,t,$o)}function gW(){So(new xs(JM,pW,"PUBLIC").setMultipleInstances(!0)),ui(xC,_C,""),ui(xC,_C,"esm2020")}gW();const yW={apiKey:"AIzaSyCIPE6DWpsUhDwRz9r5WMnsLGV4f8y-X2s",authDomain:"ambrosia-web-bc4f9.firebaseapp.com",projectId:"ambrosia-web-bc4f9",storageBucket:"ambrosia-web-bc4f9.firebasestorage.app",messagingSenderId:"768539470516",appId:"1:768539470516:web:d9f3705b1c79d35147c5e1",measurementId:"G-08Y4G38JM3"},A1=yk(yW),Rf=Mq(A1),lt=$K(A1),vW=hW(A1),e4=b.createContext(),bW=()=>b.useContext(e4),xW=({children:e})=>{const[t,n]=b.useState(null),[r,i]=b.useState(null),[a,s]=b.useState(!0);b.useEffect(()=>A7(Rf,async u=>{if(u){try{const c=await b1(Tr(lt,"users",u.uid));c.exists()?i(c.data().role):i("customer")}catch(c){console.error("AuthProvider: Error fetching role",c)}n(u)}else n(null),i(null);s(!1)}),[]);const o={currentUser:t,userRole:r,loading:a,isAdmin:r==="admin"};return h.jsx(e4.Provider,{value:o,children:!a&&e})},_W=()=>{const[e,t]=b.useState(!1),{cartCount:n}=hd();b.useEffect(()=>{const s=()=>{t(window.scrollY>50)};return window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s)},[]);const[r,i]=b.useState(!1),a=()=>{i(!r)};return h.jsx("nav",{className:`navbar ${e?"scrolled":""}`,children:h.jsxs("div",{className:"nav-container",children:[h.jsx(et,{to:"/",className:"nav-logo",children:"Ambrosia"}),h.jsxs("div",{className:"nav-links",children:[h.jsx(Tn,{to:"/",className:({isActive:s})=>`nav-link ${s?"active":""}`,end:!0,children:"Home"}),h.jsx(Tn,{to:"/shop",className:({isActive:s})=>`nav-link ${s?"active":""}`,children:"Shop"}),h.jsx(Tn,{to:"/about-cinnamon",className:({isActive:s})=>`nav-link ${s?"active":""}`,children:"Cinnamon"}),h.jsx(Tn,{to:"/recipes",className:({isActive:s})=>`nav-link ${s?"active":""}`,children:"Recipes"}),h.jsx(Tn,{to:"/contact",className:({isActive:s})=>`nav-link ${s?"active":""}`,children:"Contact"})]}),h.jsxs("div",{className:"nav-actions flex items-center gap-6",children:[h.jsxs(et,{to:"/cart",className:"cart-link relative text-white hover:text-gold transition-colors",children:[h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("circle",{cx:"9",cy:"21",r:"1"}),h.jsx("circle",{cx:"20",cy:"21",r:"1"}),h.jsx("path",{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"})]}),n>0&&h.jsx("span",{className:"cart-badge absolute -top-2 -right-2 bg-gold text-black text-[10px] font-bold w-5 h-5 rounded-full flex items-center justify-center",children:n})]}),h.jsx(et,{to:"/shop",className:"btn-outline nav-btn",children:"Shop Now"}),h.jsx("div",{className:"nav-toggle",onClick:a,children:r?h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),h.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}):h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),h.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),h.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})})]}),h.jsx("div",{className:`mobile-menu ${r?"active":""}`,children:h.jsxs("div",{className:"mobile-nav-links",children:[h.jsx(Tn,{to:"/",onClick:a,className:({isActive:s})=>`mobile-link ${s?"active":""}`,end:!0,children:"Home"}),h.jsx(Tn,{to:"/shop",onClick:a,className:({isActive:s})=>`mobile-link ${s?"active":""}`,children:"Shop"}),h.jsx(Tn,{to:"/about-cinnamon",onClick:a,className:({isActive:s})=>`mobile-link ${s?"active":""}`,children:"Cinnamon"}),h.jsx(Tn,{to:"/recipes",onClick:a,className:({isActive:s})=>`mobile-link ${s?"active":""}`,children:"Recipes"}),h.jsx(Tn,{to:"/contact",onClick:a,className:({isActive:s})=>`mobile-link ${s?"active":""}`,children:"Contact"}),h.jsx(et,{to:"/shop",onClick:a,className:"btn-primary mt-8 inline-block text-center",children:"Shop Now"})]})})]})})},wW=()=>{const[e,t]=b.useState(""),[n,r]=b.useState("idle"),i=async a=>{if(a.preventDefault(),!!e){r("loading");try{await fy(yi(lt,"subscribers"),{email:e,date:new Date().toISOString()}),r("success"),t("")}catch(s){console.error("Error subscribing:",s),r("error")}}};return h.jsx("footer",{className:"footer",children:h.jsxs("div",{className:"container",children:[h.jsxs("div",{className:"footer-content",children:[h.jsxs("div",{className:"footer-column",children:[h.jsx("h4",{className:"font-heading",children:"Ambrosia"}),h.jsx("p",{className:"text-gray-500 text-sm leading-7",children:"Delivering the 100% authentic essence of Sri Lankan Ceylon Cinnamon to the world. A commitment to purity, heritage, and health."})]}),h.jsxs("div",{className:"footer-column",children:[h.jsx("h4",{children:"Quick Links"}),h.jsxs("ul",{children:[h.jsx("li",{children:h.jsx(et,{to:"/shop",children:"Online Store"})}),h.jsx("li",{children:h.jsx(et,{to:"/about-cinnamon",children:"About Cinnamon"})}),h.jsx("li",{children:h.jsx(et,{to:"/recipes",children:"Recipes & Blog"})}),h.jsx("li",{children:h.jsx(et,{to:"/faq",children:"FAQs"})})]})]}),h.jsxs("div",{className:"footer-column",children:[h.jsx("h4",{children:"Support"}),h.jsxs("ul",{children:[h.jsx("li",{children:h.jsx(et,{to:"/contact",children:"Contact Us"})}),h.jsx("li",{children:h.jsx(et,{to:"/privacy",children:"Privacy Policy"})}),h.jsx("li",{children:h.jsx(et,{to:"/terms",children:"Terms & Conditions"})})]})]}),h.jsxs("div",{className:"footer-column",children:[h.jsx("h4",{children:"Newsletter"}),n==="success"?h.jsxs("div",{className:"mt-4 p-4 bg-green-500/10 border border-green-500/20 rounded-lg text-green-400 text-sm text-center",children:[h.jsx("span",{className:"block text-xl mb-1",children:""}),"Thank you for subscribing!"]}):h.jsxs("form",{className:"newsletter-form mt-4",onSubmit:i,children:[h.jsx("input",{type:"email",placeholder:"Your email address",className:"bg-[#1a1a1a] border border-white/10 p-2 text-sm w-full mb-2 focus:border-gold outline-none transition-colors text-white",value:e,onChange:a=>t(a.target.value),required:!0}),h.jsx("button",{type:"submit",disabled:n==="loading",className:"btn-outline w-full py-2 text-xs disabled:opacity-50",children:n==="loading"?"Subscribing...":"Subscribe"}),n==="error"&&h.jsx("p",{className:"text-red-500 text-xs mt-2",children:"Something went wrong. Try again."})]})]})]}),h.jsx("div",{className:"footer-bottom",children:h.jsx("p",{children:" 2026 Ambrosia 100% Sri Lankan Cinnamon. All rights reserved."})})]})})},EW="/Ambrosia/assets/hero_bg-Cd28FfOR.png",SW=()=>h.jsxs("section",{id:"home",className:"hero",children:[h.jsxs("div",{className:"hero-bg",children:[h.jsx("img",{src:EW,alt:"Cinnamon Background"}),h.jsx("div",{className:"hero-overlay"})]}),h.jsxs("div",{className:"hero-content",children:[h.jsx("span",{className:"hero-eyebrow",children:"Ambrosia  Pure, Premium 100% Sri Lankan Cinnamon"}),h.jsx("h1",{className:"hero-title",children:"Divine Essence"}),h.jsx("p",{className:"hero-desc",children:"Experience the gold standard of spices. 100% authentic, hand-harvested Ceylon cinnamon from the heart of Sri Lanka."}),h.jsxs("div",{className:"hero-actions",children:[h.jsx("a",{href:"#products",className:"btn",children:"Shop Now"}),h.jsx("a",{href:"#heritage",className:"btn btn-outline",style:{marginLeft:"1rem"},children:"Learn More"})]})]})]}),AW=()=>h.jsx("section",{id:"heritage",className:"brand-intro-section",children:h.jsx("div",{className:"container",children:h.jsxs("div",{className:"intro-grid",children:[h.jsxs("div",{className:"intro-text",children:[h.jsx("span",{className:"gold-label",children:"Our Mission"}),h.jsx("h2",{className:"text-4xl font-heading mb-6 text-white",children:"Ambrosia  Pure, Premium 100% Sri Lankan Cinnamon"}),h.jsx("p",{className:"intro-p",children:"Born from the sun-drenched coastal gardens of Sri Lanka, Ambrosia is a tribute to the legendary 'Gold of the East'. We specialize exclusively in true Ceylon Cinnamon (Cinnamomum Verum)  the only 100% authentic, low-coumarin variety that offers genuine health benefits and a sophisticated sweetness."}),h.jsx("p",{className:"intro-p",children:"Our mission is simple: To bring the finest grade cinnamon, usually reserved for the royal houses of the world, directly to your kitchen."})]}),h.jsxs("div",{className:"quick-links",children:[h.jsx("h3",{className:"text-xl font-heading mb-6 text-gold",children:"Explore Ambrosia"}),h.jsxs("div",{className:"links-stack",children:[h.jsxs(et,{to:"/shop",className:"quick-link-item",children:[h.jsx("span",{className:"link-icon",children:""}),h.jsxs("div",{className:"link-content",children:[h.jsx("h4",{children:"Online Shop"}),h.jsx("p",{children:"Browse our sticks, powders, and blends."})]})]}),h.jsxs(et,{to:"/about-cinnamon",className:"quick-link-item",children:[h.jsx("span",{className:"link-icon",children:""}),h.jsxs("div",{className:"link-content",children:[h.jsx("h4",{children:"About Cinnamon"}),h.jsx("p",{children:"Learn the difference between Ceylon and Cassia."})]})]}),h.jsxs(et,{to:"/recipes",className:"quick-link-item",children:[h.jsx("span",{className:"link-icon",children:""}),h.jsxs("div",{className:"link-content",children:[h.jsx("h4",{children:"Recipes & Blog"}),h.jsx("p",{children:"Discover healthy ways to use cinnamon."})]})]})]})]})]})})});/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t4=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TW=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NW=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wC=e=>{const t=NW(e);return t.charAt(0).toUpperCase()+t.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var CW={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OW=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IW=b.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...o},l)=>b.createElement("svg",{ref:l,...CW,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:t4("lucide",i),...!a&&!OW(o)&&{"aria-hidden":"true"},...o},[...s.map(([u,c])=>b.createElement(u,c)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=(e,t)=>{const n=b.forwardRef(({className:r,...i},a)=>b.createElement(IW,{ref:a,iconNode:t,className:t4(`lucide-${TW(wC(e))}`,`lucide-${e}`,r),...i}));return n.displayName=wC(e),n};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PW=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],RW=yt("activity",PW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jW=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],kW=yt("arrow-up-right",jW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DW=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],MW=yt("clock",DW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LW=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],n4=yt("dollar-sign",LW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VW=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],UW=yt("ellipsis",VW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zW=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],vx=yt("image",zW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BW=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],$W=yt("layout-dashboard",BW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FW=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],qW=yt("log-out",FW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HW=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],jf=yt("mail",HW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GW=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],KW=yt("message-circle",GW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YW=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],r4=yt("package",YW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WW=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],XW=yt("pen",WW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QW=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],ZW=yt("phone",QW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JW=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],eX=yt("plus",JW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tX=[["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}],["path",{d:"m9 17-5-5 5-5",key:"nvlc11"}]],nX=yt("reply",tX);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rX=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],T1=yt("search",rX);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iX=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],aX=yt("send",iX);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sX=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],i4=yt("shopping-bag",sX);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oX=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],a4=yt("trash-2",oX);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lX=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],uX=yt("triangle-alert",lX);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cX=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],fX=yt("users",cX),dX=()=>{const{addToCart:e}=hd(),[t,n]=b.useState([]),[r,i]=b.useState(!0);return b.useEffect(()=>{(async()=>{try{const s=m1(yi(lt,"products"),ZK(5)),u=(await tY(s)).docs.map(c=>({id:c.id,...c.data()})).filter(c=>c.name&&c.price);n(u)}catch(s){console.error("Error fetching home products:",s)}finally{i(!1)}})()},[]),r?null:h.jsx("section",{id:"products",className:"products-section",children:h.jsxs("div",{className:"container",children:[h.jsxs("div",{className:"section-header",children:[h.jsx("h2",{className:"section-title",children:"Royal Collections"}),h.jsx("p",{className:"section-subtitle",children:"Curated from the ancient gardens of Ceylon."})]}),h.jsx("div",{className:"products-grid",children:t.map(a=>h.jsxs("div",{className:"product-card",children:[h.jsx("div",{className:"product-image-wrapper",children:a.imageUrl?h.jsx("img",{src:a.imageUrl,alt:a.name,className:"product-image"}):h.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-900 text-gray-700",children:h.jsx(vx,{size:48})})}),h.jsxs("div",{className:"product-info",children:[h.jsx("h3",{className:"product-name",children:a.name}),h.jsx("p",{className:"product-desc line-clamp-2",children:a.description||a.category||"Premium Cinnamon Product"}),h.jsxs("span",{className:"product-price",children:["$",Number(a.price).toFixed(2)]}),h.jsx("button",{onClick:()=>e(a),disabled:Number(a.stock)===0,className:`product-btn uppercase ${Number(a.stock)===0?"opacity-50 cursor-not-allowed":""}`,children:Number(a.stock)===0?"Out of Stock":"Add to Cart"})]})]},a.id))})]})})},su="/Ambrosia/assets/divine-CAd-ezJ-.png",kf="/Ambrosia/assets/garden-0ov3Dsbc.png",hX=[{id:1,title:"Golden Cinnamon Latte",category:"Beverages",image:su,time:"5 mins",desc:"A warm, soul-soothing latte infused with Ambrosia Divine Essence."},{id:2,title:"Authentic Sri Lankan Chai",category:"Beverages",image:kf,time:"15 mins",desc:"A spiced tea tradition using whole Kuveni sticks."},{id:3,title:"Cinnamon Glazed Apple Tart",category:"Desserts",image:su,time:"45 mins",desc:"A classic dessert elevated by the floral notes of Ceylon cinnamon."},{id:4,title:"Health Benefits of Daily Cinnamon",category:"Wellness",image:kf,time:"4 min read",desc:"How a pinch of Ambrosia every morning can change your metabolism."}],mX=()=>{const[e,t]=Qf.useState(null);return h.jsxs("section",{className:"recipes-home-section",children:[h.jsxs("div",{className:"container",children:[h.jsxs("div",{className:"section-header",children:[h.jsx("h2",{className:"section-title",children:"Recipes & Rituals"}),h.jsx("p",{className:"section-subtitle",children:"Discover the endless possibilities of true cinnamon."})]}),h.jsx("div",{className:"recipes-home-scroll",children:hX.map(n=>h.jsxs("div",{className:"recipe-home-card",children:[h.jsxs("div",{className:"recipe-home-image",children:[h.jsx("img",{src:n.image,alt:n.title}),h.jsx("span",{className:"recipe-home-cat",children:n.category})]}),h.jsxs("div",{className:"recipe-home-info",children:[h.jsx("span",{className:"recipe-home-time",children:n.time}),h.jsx("h3",{className:"recipe-home-title",children:n.title}),h.jsx("p",{className:"recipe-home-desc",children:n.desc}),h.jsx("button",{className:"recipe-home-link bg-transparent border-0 cursor-pointer p-0",onClick:()=>t(n),children:"Read More"})]})]},n.id))})]}),e&&h.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-md p-4",onClick:()=>t(null),children:h.jsxs("div",{className:"bg-[#111] border border-gray-800 rounded-3xl p-8 max-w-2xl w-full relative",onClick:n=>n.stopPropagation(),children:[h.jsx("button",{className:"absolute top-4 right-6 text-gray-400 hover:text-white text-3xl",onClick:()=>t(null),children:""}),h.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[h.jsx("div",{className:"w-full md:w-1/3",children:h.jsx("img",{src:e.image,alt:e.title,className:"w-full rounded-2xl aspect-square object-cover"})}),h.jsxs("div",{className:"w-full md:w-2/3",children:[h.jsx("span",{className:"text-gold text-xs font-bold uppercase tracking-widest mb-2 block",children:e.category}),h.jsx("h2",{className:"text-3xl font-heading text-white mb-4",children:e.title}),h.jsxs("p",{className:"text-gray-300 leading-relaxed mb-6",children:[e.desc,h.jsx("br",{}),h.jsx("br",{}),h.jsx("strong",{children:"Ingredients:"}),h.jsx("br",{})," 1 tsp Ambrosia Cinnamon",h.jsx("br",{})," Natural Sweetener",h.jsx("br",{})," Love & Care"]}),h.jsxs("div",{className:"flex gap-4",children:[h.jsx("button",{className:"bg-gold text-black px-6 py-2 rounded-lg font-bold uppercase text-xs tracking-wider hover:bg-white transition-colors",onClick:()=>t(null),children:"Close"}),h.jsx(et,{to:"/recipes",className:"border border-white/20 text-white px-6 py-2 rounded-lg font-bold uppercase text-xs tracking-wider hover:bg-white/10 transition-colors text-center",children:"View All Recipes"})]})]})]})]})})]})},pX=[{id:1,content:"Absolutely the finest cinnamon I have ever used. The difference in aroma and taste compared to store-bought is night and day.",rating:5},{id:2,content:"I was skeptical about premium cinnamon, but this has changed my morning coffee ritual forever. Smooth, sweet, and incredibly fragrant.",rating:5},{id:3,content:"The packaging is beautiful and the product inside is even better. Fast shipping and excellent quality. Truly 100% authentic Ceylon.",rating:5}],gX=()=>h.jsx("section",{className:"testimonials-section",children:h.jsxs("div",{className:"container",children:[h.jsx("div",{className:"section-header",children:h.jsx("h2",{className:"section-title",children:"What Our Customers Say"})}),h.jsx("div",{className:"testimonials-grid",children:pX.map(e=>h.jsxs("div",{className:"testimonial-card",children:[h.jsx("div",{className:"stars",children:[...Array(e.rating)].map((t,n)=>h.jsx("span",{className:"star",children:""},n))}),h.jsxs("p",{className:"testimonial-content",children:['"',e.content,'"']})]},e.id))})]})}),yX=()=>h.jsxs("div",{className:"home-page",children:[h.jsx(SW,{}),h.jsx(AW,{}),h.jsx(dX,{}),h.jsx(mX,{}),h.jsx(gX,{})]}),vX=()=>h.jsxs("div",{className:"about-page",children:[h.jsx("section",{className:"about-hero",children:h.jsxs("div",{className:"container",children:[h.jsx("h1",{className:"text-6xl font-heading text-gold mb-4",children:"Our Heritage"}),h.jsx("p",{className:"text-xl text-gray-300 max-w-2xl",children:"Preserving the 100% authentic legacy of Ceylon Cinnamon."})]})}),h.jsx("section",{className:"mission-section py-20",children:h.jsxs("div",{className:"container intro-grid",children:[h.jsxs("div",{className:"mission-text",children:[h.jsx("h2",{className:"text-4xl font-heading text-white mb-8",children:"A Legacy of Excellence"}),h.jsx("p",{className:"text-gray-400 mb-6 leading-relaxed",children:"Ambrosia was founded on a singular realization: the true essence of Sri Lankan cinnamon was being lost to the world. In an era dominated by mass-market Cassia, the legendary 'Cinnamomum Verum' of Ceylononce more valuable than goldhad become a rare luxury."}),h.jsx("p",{className:"text-gray-400 mb-6 leading-relaxed",children:"Our journey began in the southern coastal stretches of Sri Lanka, where the humid air and salty breeze create the perfect cradle for the world's finest cinnamon. We don't just sell a spice; we protect a thousand-year-old tradition of hand-peeling and air-drying that has been passed down through generations of 'Salagama' harvesters."})]}),h.jsx("div",{className:"mission-image",children:h.jsx("img",{src:kf,alt:"Cinnamon Garden",className:"rounded-lg shadow-2xl"})})]})}),h.jsx("section",{className:"sourcing-section py-20 bg-gold/5",children:h.jsxs("div",{className:"container",children:[h.jsxs("div",{className:"text-center mb-16",children:[h.jsx("h2",{className:"text-4xl font-heading text-gold mb-4",children:"Sustainable Sourcing"}),h.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"We believe in a cycle of respectfor the soil, the farmer, and the consumer."})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-16 items-center",children:[h.jsxs("div",{className:"sourcing-content",children:[h.jsx("h3",{className:"text-2xl text-white mb-6",children:"Direct from the Wild Gardens"}),h.jsx("p",{className:"text-gray-500 mb-6",children:"Unlike industrial plantations, our cinnamon is sourced from 'wild gardens' where biodiversity is encouraged. This natural ecosystem allows the trees to develop higher concentrations of essential oils, resulting in the signature floral aroma unique to Ambrosia."}),h.jsx("p",{className:"text-gray-500",children:"Every harvest is traceable to its village of origin, ensuring that the local communities that have guarded this heritage for centuries are fairly compensated and supported."})]}),h.jsxs("div",{className:"sourcing-stats grid grid-cols-2 gap-8",children:[h.jsxs("div",{className:"stat-box",children:[h.jsx("span",{className:"text-4xl text-gold font-bold",children:"100%"}),h.jsx("p",{className:"text-gray-400",children:"Natural & Organic"})]}),h.jsxs("div",{className:"stat-box",children:[h.jsx("span",{className:"text-4xl text-gold font-bold",children:"500+"}),h.jsx("p",{className:"text-gray-400",children:"Local Farmers"})]}),h.jsxs("div",{className:"stat-box",children:[h.jsx("span",{className:"text-4xl text-gold font-bold",children:"0%"}),h.jsx("p",{className:"text-gray-400",children:"Chemical Additives"})]}),h.jsxs("div",{className:"stat-box",children:[h.jsx("span",{className:"text-4xl text-gold font-bold",children:"True"}),h.jsx("p",{className:"text-gray-400",children:"Alba Grade Only"})]})]})]})]})})]}),bX="/Ambrosia/assets/comparison-D2ywGGNU.png",xX="/Ambrosia/assets/Ceylon_Cinnamon_Production_Video_Generation-BuR_pa7E.mp4",EC=["Bark is harvested every two years during rainy seasons.","True quills are hand-filled with fine cinnamon chips.","Ancient Romans prized it as high as precious metals.","The name 'Cinnamon' comes from the Greek 'kinnamon'."],_X=()=>{const[e,t]=b.useState(0);return b.useEffect(()=>{const n=setInterval(()=>{t(r=>(r+1)%EC.length)},6e3);return()=>clearInterval(n)},[]),h.jsxs("div",{className:"cinnamon-education-page",children:[h.jsx("section",{className:"edu-hero py-20",children:h.jsxs("div",{className:"container text-center",children:[h.jsx("span",{className:"gold-label font-bold tracking-widest uppercase mb-4 block text-xs",children:"Our Origin"}),h.jsx("h1",{className:"text-5xl font-heading text-gold mb-4",children:"The Gold of the East"}),h.jsx("p",{className:"text-base text-gray-200 max-w-xl mx-auto leading-relaxed mb-8 font-light",children:"Sri Lanka's ancient secret, Ceylon Cinnamon, was once worshiped by Emperors and sought by world explorers."}),h.jsxs("div",{className:"flex justify-center gap-4",children:[h.jsx("a",{href:"#production-video",className:"btn btn-xs btn-outline",children:"Watch Story"}),h.jsx(et,{to:"/shop",className:"btn btn-xs",children:"Shop Now"})]})]})}),h.jsxs("section",{className:"history-section py-20 bg-[#050505] relative overflow-hidden",children:[h.jsx("div",{className:"absolute top-0 right-0 w-[300px] h-[300px] bg-gold/5 rounded-full blur-[80px] -translate-y-1/2 translate-x-1/2 pointer-events-none"}),h.jsx("div",{className:"container relative z-10 font-sans",children:h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[h.jsxs("div",{className:"history-content",children:[h.jsx("h2",{className:"text-2xl font-heading text-white mb-6 text-left",children:"A Journey Through Time"}),h.jsxs("div",{className:"space-y-4 text-gray-400 text-sm leading-relaxed font-light",children:[h.jsxs("p",{children:["Sri Lankan cinnamon dates back over ",h.jsx("strong",{className:"text-white",children:"3,000 years"}),". Prized by Ancient Egyptians, it was the ancient world's most valuable possession."]}),h.jsx("p",{children:"In the 15th century, it driven explorers like Columbus and Magellan toward Ceylons shores."})]})]}),h.jsx("div",{className:"history-visual relative flex justify-center",children:h.jsxs("div",{className:"history-box p-6 bg-[#0a0a0a] border border-white/5 rounded-xl shadow-xl max-w-sm w-full",children:[h.jsx("h3",{className:"text-lg text-gold mb-4 font-heading border-b border-white/5 pb-2",children:"Key Milestones"}),h.jsxs("ul",{className:"space-y-4",children:[h.jsxs("li",{children:[h.jsx("span",{className:"text-gold font-bold text-xs block",children:"1400 BC"}),h.jsx("p",{className:"text-gray-500 text-xs leading-snug",children:"Used in Ancient Egypt as a sacred ingredient."})]}),h.jsxs("li",{children:[h.jsx("span",{className:"text-gold font-bold text-xs block",children:"1505 AD"}),h.jsx("p",{className:"text-gray-500 text-xs leading-snug",children:"Portuguese land in Sri Lanka for 'True Cinnamon'."})]})]})]})})]})})]}),h.jsx("section",{id:"production-video",className:"video-section py-20 bg-black",children:h.jsxs("div",{className:"container",children:[h.jsx("div",{className:"text-center mb-8",children:h.jsx("h2",{className:"text-3xl font-heading text-white mb-2",children:"Life of Cinnamon"})}),h.jsx("div",{className:"video-container aspect-video max-w-2xl mx-auto rounded-lg overflow-hidden shadow-2xl shadow-gold/5",children:h.jsx("video",{width:"100%",height:"100%",controls:!0,autoPlay:!0,muted:!0,loop:!0,playsInline:!0,className:"w-full h-full object-cover",children:h.jsx("source",{src:xX,type:"video/mp4"})})})]})}),h.jsx("section",{className:"types-section py-20 bg-[#080808]",children:h.jsxs("div",{className:"container grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[h.jsx("div",{className:"order-2 lg:order-1 flex justify-center",children:h.jsx("img",{src:bX,alt:"Cinnamon Comparison",className:"rounded-lg shadow-2xl max-w-[280px] lg:max-w-xs border border-white/5"})}),h.jsxs("div",{className:"order-1 lg:order-2",children:[h.jsx("h2",{className:"text-3xl font-heading text-white mb-6 text-left",children:"Ceylon vs Cassia"}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"pl-4 border-l border-red-900/30",children:[h.jsx("h4",{className:"text-red-400 text-[10px] font-bold tracking-widest uppercase mb-1",children:"Cassia (The Imposter)"}),h.jsx("p",{className:"text-gray-500 text-xs leading-relaxed font-light",children:"Hard, thick bark with toxic levels of coumarin. Harsh, spicy bite."})]}),h.jsxs("div",{className:"pl-4 border-l border-gold",children:[h.jsx("h4",{className:"text-gold text-[10px] font-bold tracking-widest uppercase mb-1",children:"Ceylon (The True Essence)"}),h.jsxs("p",{className:"text-gray-300 text-xs leading-relaxed font-light",children:["Delicate layers with ",h.jsx("span",{className:"text-white font-medium",children:"0% coumarin"}),". A floral sweetness for daily wellness."]})]})]})]})]})}),h.jsx("section",{className:"uses-section py-24 bg-[#050505]",children:h.jsxs("div",{className:"container",children:[h.jsx("h2",{className:"text-4xl font-heading text-gold text-center mb-12",children:"Rituals & Remedies"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[h.jsxs("div",{className:"use-card p-8 bg-[#0a0a0a] rounded-xl border border-white/5",children:[h.jsx("h3",{className:"text-lg text-white mb-3",children:"Kitchen Mastery"}),h.jsx("p",{className:"text-gray-500 text-xs leading-relaxed",children:"From morning coffee to savory curries, its versatility is unmatched."})]}),h.jsxs("div",{className:"use-card p-8 bg-[#0a0a0a] rounded-xl border border-gold/10 transform scale-105 shadow-xl",children:[h.jsx("h3",{className:"text-lg text-gold mb-3",children:"Natural Elixir"}),h.jsx("p",{className:"text-gray-400 text-xs leading-relaxed",children:"Boost immunity and regulate metabolism with a simple daily ritual."})]}),h.jsxs("div",{className:"use-card p-8 bg-[#0a0a0a] rounded-xl border border-white/5",children:[h.jsx("h3",{className:"text-lg text-white mb-3",children:"Aromatherapy"}),h.jsx("p",{className:"text-gray-500 text-xs leading-relaxed",children:"The scent improves mood and memory. A perfect aromatic centerpiece."})]})]})]})}),h.jsx("section",{className:"fun-facts py-20 bg-gold/5",children:h.jsxs("div",{className:"container text-center",children:[h.jsx("span",{className:"text-gold text-[10px] font-bold tracking-widest uppercase mb-4 block",children:"Quick Fact"}),h.jsx("p",{className:"text-white font-heading text-2xl max-w-2xl mx-auto transition-all duration-700",children:EC[e]},e)]})}),h.jsx("section",{className:"cta-section py-24 text-center",children:h.jsxs("div",{className:"container",children:[h.jsx("h2",{className:"text-4xl font-heading text-white mb-8",children:"Pure Essence. Pure Health."}),h.jsx(et,{to:"/shop",className:"btn btn-gold btn-lg px-10",children:"Shop Collection"})]})})]})},wX="/Ambrosia/assets/kuveni-CIhBCFC7.png",EX="/Ambrosia/assets/ravana-UNXb9jZj.png",SX=()=>{const{addToCart:e}=hd(),[t,n]=b.useState([]),[r,i]=b.useState(!0),[a,s]=b.useState(""),[o,l]=b.useState("featured"),[u,c]=b.useState("All"),f=["All","Sticks","Powder","Blends","Gift Sets"];b.useEffect(()=>{const p=Nd(yi(lt,"products"),g=>{const _=g.docs.map(y=>({id:y.id,...y.data(),image:y.data().imageType==="divine"?su:y.data().imageType==="kuveni"?wX:y.data().imageType==="ravana"?EX:su}));n(_),i(!1)});return()=>p()},[]);const m=t.filter(p=>u==="All"||p.category===u).filter(p=>(p.name||"").toLowerCase().includes(a.toLowerCase())).sort((p,g)=>o==="price-asc"?Number(p.price)-Number(g.price):o==="price-desc"?Number(g.price)-Number(p.price):0);return console.log("Store Render Debug:",{productsCount:t.length,filteredCount:m.length,loading:r}),r?h.jsx("div",{className:"text-center py-20 text-gold",children:"Loading Collection..."}):h.jsxs("div",{className:"store-page",children:[h.jsx("section",{className:"store-header",children:h.jsxs("div",{className:"container",children:[h.jsx("h1",{className:"text-5xl font-heading text-gold mb-4",children:"The Collections"}),h.jsx("p",{className:"text-gray-400",children:"Authentic Ceylon cinnamon for every occasion."})]})}),h.jsx("section",{className:"store-content py-12",children:h.jsxs("div",{className:"container",children:[h.jsxs("div",{className:"filters-bar mb-12 flex flex-col lg:flex-row justify-between items-center gap-8",children:[h.jsx("div",{className:"categories flex gap-4 overflow-x-auto pb-4 lg:pb-0 w-full lg:w-auto scrollbar-hide",children:f.map(p=>h.jsx("button",{onClick:()=>c(p),className:`filter-btn whitespace-nowrap ${u===p?"active":""}`,children:p},p))}),h.jsxs("div",{className:"search-sort flex flex-row gap-4 w-full lg:w-auto",children:[h.jsx("input",{type:"text",placeholder:"Search products...",className:"input-premium-dark flex-grow lg:w-64",value:a,onChange:p=>s(p.target.value)}),h.jsxs("select",{className:"input-premium-dark cursor-pointer min-w-[140px]",value:o,onChange:p=>l(p.target.value),children:[h.jsx("option",{value:"featured",className:"bg-black text-white",children:"Featured"}),h.jsx("option",{value:"price-asc",className:"bg-black text-white",children:"Price: Low to High"}),h.jsx("option",{value:"price-desc",className:"bg-black text-white",children:"Price: High to Low"})]})]})]}),h.jsx("div",{className:"store-grid",children:m.length===0?h.jsx("div",{className:"col-span-3 text-center text-gray-500 py-20",children:"No products found in this category."}):m.map(p=>{const g=p.stock<=0;return h.jsxs("div",{className:`store-item-card ${g?"opacity-75 grayscale":""}`,children:[h.jsxs("div",{className:"item-image relative",children:[h.jsx("img",{src:p.image,alt:p.name}),g&&h.jsx("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center",children:h.jsx("span",{className:"text-red-500 font-bold uppercase tracking-widest border border-red-500 px-4 py-2",children:"Sold Out"})}),!g&&p.stock<10&&h.jsxs("span",{className:"absolute top-2 right-2 bg-yellow-600 text-white text-[10px] uppercase font-bold px-2 py-1 rounded",children:["Low Stock: ",p.stock]}),h.jsx("span",{className:"origin-badge",children:p.origin||"100% Sri Lankan"})]}),h.jsxs("div",{className:"item-info",children:[h.jsx("span",{className:"item-cat",children:p.category}),h.jsx("h3",{className:"item-name",children:p.name}),h.jsxs("div",{className:"flex justify-between items-center w-full mb-4",children:[h.jsxs("p",{className:"item-price",children:["$",Number(p.price).toFixed(2)]}),h.jsx("span",{className:"text-xs text-gray-500",children:p.unit||"per unit"})]}),h.jsx("button",{onClick:()=>!g&&e(p),disabled:g,className:`add-cart-btn uppercase w-full ${g?"cursor-not-allowed bg-gray-800 text-gray-500 hover:bg-gray-800":""}`,children:g?"Out of Stock":"Add to Cart"})]})]},p.id)})})]})})]})},AX=[{id:1,title:"Golden Cinnamon Latte",category:"Beverages",image:su,time:"5 mins",desc:"A warm, soul-soothing latte infused with Ambrosia Divine Essence."},{id:2,title:"Authentic Sri Lankan Chai",category:"Beverages",image:kf,time:"15 mins",desc:"A spiced tea tradition using whole Kuveni sticks."},{id:3,title:"Cinnamon Glazed Apple Tart",category:"Desserts",image:su,time:"45 mins",desc:"A classic dessert elevated by the floral notes of Ceylon cinnamon."},{id:4,title:"Health Benefits of Daily Cinnamon",category:"Wellness",image:kf,time:"4 min read",desc:"How a pinch of Ambrosia every morning can change your metabolism."}],TX=()=>{const[e,t]=Qf.useState(null);return h.jsxs("div",{className:"recipes-page",children:[h.jsx("section",{className:"recipes-hero",children:h.jsxs("div",{className:"container",children:[h.jsx("h1",{className:"text-6xl font-heading text-gold mb-4",children:"Recipes & Rituals"}),h.jsx("p",{className:"text-xl text-gray-400",children:"Discover the endless possibilities of true cinnamon."})]})}),h.jsx("section",{className:"recipes-grid-section py-20",children:h.jsx("div",{className:"container",children:h.jsx("div",{className:"recipes-grid",children:AX.map(n=>h.jsxs("div",{className:"recipe-card",children:[h.jsxs("div",{className:"recipe-image",children:[h.jsx("img",{src:n.image,alt:n.title}),h.jsx("span",{className:"recipe-cat",children:n.category})]}),h.jsxs("div",{className:"recipe-info",children:[h.jsx("span",{className:"recipe-time",children:n.time}),h.jsx("h3",{className:"recipe-title",children:n.title}),h.jsx("p",{className:"recipe-desc",children:n.desc}),h.jsx("button",{className:"read-more",onClick:()=>t(n),children:"Read More"})]})]},n.id))})})}),e&&h.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-md p-4",onClick:()=>t(null),children:h.jsxs("div",{className:"bg-[#111] border border-gray-800 rounded-3xl p-8 max-w-2xl w-full relative",onClick:n=>n.stopPropagation(),children:[h.jsx("button",{className:"absolute top-4 right-6 text-gray-400 hover:text-white text-3xl",onClick:()=>t(null),children:""}),h.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[h.jsx("div",{className:"w-full md:w-1/3",children:h.jsx("img",{src:e.image,alt:e.title,className:"w-full rounded-2xl aspect-square object-cover"})}),h.jsxs("div",{className:"w-full md:w-2/3",children:[h.jsx("span",{className:"text-gold text-xs font-bold uppercase tracking-widest mb-2 block",children:e.category}),h.jsx("h2",{className:"text-3xl font-heading text-white mb-4",children:e.title}),h.jsxs("p",{className:"text-gray-300 leading-relaxed mb-6",children:[e.desc,h.jsx("br",{}),h.jsx("br",{}),"Here is where the full recipe instructions would go. For now, enjoy the inspiration of how Ambrosia Cinnamon can elevate your culinary creations.",h.jsx("br",{}),h.jsx("br",{}),h.jsx("strong",{children:"Ingredients:"}),h.jsx("br",{})," 1 tsp Ambrosia Cinnamon",h.jsx("br",{})," Natural Sweetener",h.jsx("br",{})," Love & Care"]}),h.jsx("button",{className:"bg-gold text-black px-6 py-2 rounded-lg font-bold uppercase text-xs tracking-wider hover:bg-white transition-colors",onClick:()=>t(null),children:"Close Recipe"})]})]})]})})]})},NX=()=>{const[e,t]=b.useState({name:"",email:"",subject:"General Inquiry",message:""}),[n,r]=b.useState(!1),i=s=>{t({...e,[s.target.name]:s.target.value})},a=async s=>{s.preventDefault(),r(!0);try{await fy(yi(lt,"messages"),{...e,createdAt:OM(),status:"new"}),alert("Message sent successfully! We will get back to you soon."),t({name:"",email:"",subject:"General Inquiry",message:""})}catch(o){console.error("Error sending message:",o),alert("Failed to send message. Please try again.")}r(!1)};return h.jsxs("div",{className:"contact-page",children:[h.jsx("section",{className:"contact-hero",children:h.jsxs("div",{className:"container text-center",children:[h.jsx("h1",{className:"text-6xl font-heading text-gold mb-4",children:"Connect with Ambrosia"}),h.jsx("p",{className:"text-xl text-gray-400",children:"Questions about our cinnamon? We're here to help."})]})}),h.jsx("section",{className:"contact-content py-20",children:h.jsxs("div",{className:"container grid grid-cols-2 gap-20",children:[h.jsxs("div",{className:"contact-info",children:[h.jsx("h2",{className:"text-4xl font-heading text-white mb-8",children:"Get in Touch"}),h.jsxs("div",{className:"info-item mb-8",children:[h.jsx("h4",{className:"text-gold uppercase tracking-widest text-xs mb-2",children:"Email"}),h.jsx("p",{className:"text-xl text-gray-300",children:"essence@ambrosiaspice.com"})]}),h.jsxs("div",{className:"info-item mb-8",children:[h.jsx("h4",{className:"text-gold uppercase tracking-widest text-xs mb-2",children:"Phone"}),h.jsx("p",{className:"text-xl text-gray-300",children:"+94 11 234 5678"})]}),h.jsxs("div",{className:"info-item mb-8",children:[h.jsx("h4",{className:"text-gold uppercase tracking-widest text-xs mb-2",children:"Headquarters"}),h.jsx("p",{className:"text-xl text-gray-300",children:"Galle Road, Colombo 03, Sri Lanka"})]}),h.jsxs("div",{className:"social-links mt-12",children:[h.jsx("h4",{className:"text-gray-500 uppercase tracking-widest text-xs mb-4",children:"Follow Our Journey"}),h.jsxs("div",{className:"flex gap-6",children:[h.jsx("a",{href:"#",className:"text-gold hover:text-white transition-colors mr-4",children:"Instagram"}),h.jsx("a",{href:"#",className:"text-gold hover:text-white transition-colors mr-4",children:"Facebook"}),h.jsx("a",{href:"#",className:"text-gold hover:text-white transition-colors",children:"LinkedIn"})]})]})]}),h.jsx("div",{className:"contact-form-container",children:h.jsxs("form",{className:"contact-form",onSubmit:a,children:[h.jsx("div",{className:"form-group mb-6",children:h.jsx("input",{type:"text",name:"name",placeholder:"Your Name",className:"form-input",value:e.name,onChange:i,required:!0})}),h.jsx("div",{className:"form-group mb-6",children:h.jsx("input",{type:"email",name:"email",placeholder:"Email Address",className:"form-input",value:e.email,onChange:i,required:!0})}),h.jsx("div",{className:"form-group mb-6",children:h.jsxs("select",{name:"subject",className:"form-input",value:e.subject,onChange:i,children:[h.jsx("option",{children:"General Inquiry"}),h.jsx("option",{children:"Wholesale/B2B"}),h.jsx("option",{children:"Order Support"}),h.jsx("option",{children:"Press"})]})}),h.jsx("div",{className:"form-group mb-8",children:h.jsx("textarea",{name:"message",placeholder:"How can we help?",className:"form-input h-32",value:e.message,onChange:i,required:!0})}),h.jsx("button",{type:"submit",className:"btn w-full",disabled:n,children:n?"Sending...":"Send Message"})]})})]})})]})},CX=[{q:"Why is Sri Lankan cinnamon better?",a:"Sri Lankan (Ceylon) cinnamon has a much lower coumarin content compared to Cassia. It's also known for its delicate, sweet flavor and floral aroma that Cassia lacks."},{q:"How should I store my Ambrosia cinnamon?",a:"Store in a cool, dark place in an airtight container. Our premium jars are designed to protect the essential oils from light and moisture."},{q:"Do you ship internationally?",a:"Yes, Ambrosia ships to most countries worldwide. Shipping times vary depending on the location, typically 5-10 business days."},{q:"Is your cinnamon organic?",a:"We work with farms that follow sustainable, natural farming practices. While not all are certified 'Organic' yet, we ensure no synthetic pesticides or fertilizers are used."}],OX=()=>{const[e,t]=Qf.useState(0);return h.jsxs("div",{className:"faq-page bg-black min-h-screen",children:[h.jsx("section",{className:"faq-hero py-24 pb-12",children:h.jsxs("div",{className:"container text-center",children:[h.jsx("span",{className:"text-gold text-xs font-bold uppercase tracking-widest mb-4 block text-center",children:"Support Center"}),h.jsx("h1",{className:"text-5xl md:text-6xl font-heading text-white mb-6 text-center",children:"Frequently Asked Questions"}),h.jsx("p",{className:"text-gray-400 max-w-xl mx-auto text-center",children:"Everything you need to know about our products, shipping, and heritage."})]})}),h.jsx("section",{className:"faq-list-section py-16",children:h.jsxs("div",{className:"container max-w-3xl",children:[h.jsx("div",{className:"space-y-6",children:CX.map((n,r)=>h.jsxs("div",{className:`faq-card ${e===r?"open":""}`,children:[h.jsxs("button",{className:"faq-question focus:outline-none",onClick:()=>t(e===r?-1:r),children:[h.jsx("h3",{className:`text-lg font-heading transition-colors ${e===r?"text-gold":"text-white"}`,children:n.q}),h.jsx("span",{className:`transform transition-transform duration-300 text-gold ${e===r?"rotate-180":""}`,children:""})]}),h.jsx("div",{className:"faq-answer-wrapper",style:{maxHeight:e===r?"300px":"0",opacity:e===r?"1":"0"},children:h.jsx("div",{className:"faq-answer-content",children:h.jsx("p",{children:n.a})})})]},r))}),h.jsxs("div",{className:"mt-20 text-center",children:[h.jsx("p",{className:"text-gray-500 mb-6",children:"Still have questions?"}),h.jsx("a",{href:"/contact",className:"btn btn-sm btn-outline",children:"Contact Support"})]})]})})]})},IX=()=>{const{cartItems:e,removeFromCart:t,updateQuantity:n,cartTotal:r}=hd();return e.length===0?h.jsx("div",{className:"cart-page py-32",children:h.jsxs("div",{className:"container text-center",children:[h.jsx("h1",{className:"text-4xl font-heading text-gold mb-8",children:"Your Cart is Empty"}),h.jsx("p",{className:"text-gray-400 mb-12",children:"Looks like you haven't added the essence of Ceylon to your collection yet."}),h.jsx(et,{to:"/shop",className:"btn",children:"Browse Shop"})]})}):h.jsx("div",{className:"cart-page py-32",children:h.jsxs("div",{className:"container",children:[h.jsx("h1",{className:"text-5xl font-heading text-gold mb-12",children:"Your Selection"}),h.jsxs("div",{className:"cart-grid",children:[h.jsxs("div",{className:"cart-items",children:[h.jsxs("div",{className:"cart-header grid grid-cols-4 gap-4 text-xs uppercase tracking-widest text-gray-500 pb-4 border-bottom border-white/5 mb-8",children:[h.jsx("div",{className:"col-span-2",children:"Product"}),h.jsx("div",{className:"text-center",children:"Quantity"}),h.jsx("div",{className:"text-right",children:"Total"})]}),e.map(i=>h.jsxs("div",{className:"cart-item-row grid grid-cols-4 gap-4 items-center py-6 border-bottom border-white/5",children:[h.jsxs("div",{className:"col-span-2 flex gap-6 items-center",children:[h.jsx("div",{className:"item-thumbnail w-24 h-24 bg-[#111] overflow-hidden rounded",children:h.jsx("img",{src:i.image,alt:i.name,className:"w-full h-full object-cover"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-white font-heading text-xl mb-1",children:i.name}),h.jsxs("p",{className:"text-gold text-sm",children:["$",i.price.toFixed(2)]}),h.jsx("button",{onClick:()=>t(i.id),className:"text-gray-600 text-xs mt-2 hover:text-red-500 transition-colors uppercase",children:"Remove"})]})]}),h.jsxs("div",{className:"flex justify-center items-center gap-4",children:[h.jsx("button",{onClick:()=>n(i.id,i.quantity-1),className:"qty-btn",children:"-"}),h.jsx("span",{className:"text-white",children:i.quantity}),h.jsx("button",{onClick:()=>n(i.id,i.quantity+1),className:"qty-btn",children:"+"})]}),h.jsxs("div",{className:"text-right text-white font-bold",children:["$",(i.price*i.quantity).toFixed(2)]})]},i.id))]}),h.jsxs("div",{className:"cart-summary bg-[#111] p-8 rounded-lg border border-white/5 h-fit",children:[h.jsx("h2",{className:"text-2xl font-heading text-white mb-8",children:"Summary"}),h.jsxs("div",{className:"summary-row flex justify-between mb-4",children:[h.jsx("span",{className:"text-gray-400",children:"Subtotal"}),h.jsxs("span",{className:"text-white",children:["$",r.toFixed(2)]})]}),h.jsxs("div",{className:"summary-row flex justify-between mb-8 pb-8 border-bottom border-white/5",children:[h.jsx("span",{className:"text-gray-400",children:"Shipping"}),h.jsx("span",{className:"text-gold",children:"Calculated at checkout"})]}),h.jsxs("div",{className:"summary-row flex justify-between mb-12",children:[h.jsx("span",{className:"text-xl text-white font-heading",children:"Total"}),h.jsxs("span",{className:"text-xl text-gold font-bold",children:["$",r.toFixed(2)]})]}),h.jsx(et,{to:"/checkout",className:"btn w-full text-center",children:"Proceed to Checkout"})]})]})]})})};class Cd{constructor(t=0,n="Network Error"){this.status=t,this.text=n}}const PX=()=>{if(!(typeof localStorage>"u"))return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}},tn={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:PX()},N1=e=>e?typeof e=="string"?{publicKey:e}:e.toString()==="[object Object]"?e:{}:{},RX=(e,t="https://api.emailjs.com")=>{if(!e)return;const n=N1(e);tn.publicKey=n.publicKey,tn.blockHeadless=n.blockHeadless,tn.storageProvider=n.storageProvider,tn.blockList=n.blockList,tn.limitRate=n.limitRate,tn.origin=n.origin||t},s4=async(e,t,n={})=>{const r=await fetch(tn.origin+e,{method:"POST",headers:n,body:t}),i=await r.text(),a=new Cd(r.status,i);if(r.ok)return a;throw a},o4=(e,t,n)=>{if(!e||typeof e!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||typeof t!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},jX=e=>{if(e&&e.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},l4=e=>e.webdriver||!e.languages||e.languages.length===0,u4=()=>new Cd(451,"Unavailable For Headless Browser"),kX=(e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if(typeof t!="string")throw"The BlockList watchVariable has to be a string"},DX=e=>{var t;return!((t=e.list)!=null&&t.length)||!e.watchVariable},MX=(e,t)=>e instanceof FormData?e.get(t):e[t],c4=(e,t)=>{if(DX(e))return!1;kX(e.list,e.watchVariable);const n=MX(t,e.watchVariable);return typeof n!="string"?!1:e.list.includes(n)},f4=()=>new Cd(403,"Forbidden"),LX=(e,t)=>{if(typeof e!="number"||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&typeof t!="string")throw"The LimitRate ID has to be a non-empty string"},VX=async(e,t,n)=>{const r=Number(await n.get(e)||0);return t-Date.now()+r},d4=async(e,t,n)=>{if(!t.throttle||!n)return!1;LX(t.throttle,t.id);const r=t.id||e;return await VX(r,t.throttle,n)>0?!0:(await n.set(r,Date.now().toString()),!1)},h4=()=>new Cd(429,"Too Many Requests"),UX=async(e,t,n,r)=>{const i=N1(r),a=i.publicKey||tn.publicKey,s=i.blockHeadless||tn.blockHeadless,o=i.storageProvider||tn.storageProvider,l={...tn.blockList,...i.blockList},u={...tn.limitRate,...i.limitRate};return s&&l4(navigator)?Promise.reject(u4()):(o4(a,e,t),jX(n),n&&c4(l,n)?Promise.reject(f4()):await d4(location.pathname,u,o)?Promise.reject(h4()):s4("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:a,service_id:e,template_id:t,template_params:n}),{"Content-type":"application/json"}))},zX=e=>{if(!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},BX=e=>typeof e=="string"?document.querySelector(e):e,$X=async(e,t,n,r)=>{const i=N1(r),a=i.publicKey||tn.publicKey,s=i.blockHeadless||tn.blockHeadless,o=tn.storageProvider||i.storageProvider,l={...tn.blockList,...i.blockList},u={...tn.limitRate,...i.limitRate};if(s&&l4(navigator))return Promise.reject(u4());const c=BX(n);o4(a,e,t),zX(c);const f=new FormData(c);return c4(l,f)?Promise.reject(f4()):await d4(location.pathname,u,o)?Promise.reject(h4()):(f.append("lib_version","4.4.1"),f.append("service_id",e),f.append("template_id",t),f.append("user_id",a),s4("/api/v1.0/email/send-form",f))},m4={init:RX,send:UX,sendForm:$X,EmailJSResponseStatus:Cd},FX=()=>{const{cartItems:e,cartTotal:t,clearCart:n}=hd(),r=Ug(),[i,a]=b.useState(!1),[s,o]=b.useState("card"),[l,u]=b.useState({firstName:"",lastName:"",email:"",address:"",city:"",country:"",shippingMethod:"standard"}),[c,f]=b.useState(10),m=y=>{const{name:w,value:x}=y.target;u(S=>({...S,[w]:x}))},p=(y,w)=>{u(x=>({...x,shippingMethod:y})),f(w)},g=async y=>{if(y.preventDefault(),a(!0),!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l.email)){alert("Please enter a valid email address."),a(!1);return}if(!l.firstName||!l.lastName||!l.address||!l.city||!l.country){alert("Please fill in all required fields."),a(!1);return}try{const x=await fy(yi(lt,"orders"),{...l,items:e.length,total:_,cart:e.map(N=>({id:N.id,name:N.name,quantity:N.quantity,price:N.price})),status:"New",paymentStatus:"Paid",fulfillmentStatus:"Pending",created_at:OM(),user:l.email}),S=nY(lt);e.forEach(N=>{const P=Tr(lt,"products",N.id);S.update(P,{stock:XK(-N.quantity)})}),await S.commit();try{const N="service_vnv2zdj",P="template_fcosgki",O="BsB9Xsr8nr5Yo-WuD",A=e.map(C=>`
                    <tr style="vertical-align: top">
                        <td style="padding: 24px 8px 0 4px; width: 64px;">
                            <img style="height: 64px; width: 64px; object-fit: cover; border-radius: 4px;" src="${C.image}" alt="${C.name}" />
                        </td>
                        <td style="padding: 24px 8px 0 8px;">
                            <div style="font-family: 'Playfair Display', serif; font-size: 16px; color: #1a1a1a;">${C.name}</div>
                            <div style="font-size: 14px; color: #888; padding-top: 4px">Qty: ${C.quantity}  $${C.price}</div>
                        </td>
                        <td style="padding: 24px 4px 0 0; white-space: nowrap; text-align: right;">
                            <strong style="color: #D4AF37;">$${(C.price*C.quantity).toFixed(2)}</strong>
                        </td>
                    </tr>
                `).join(""),T={to_name:l.firstName,to_email:l.email,order_id:x.id,order_items_html:A,shipping_cost:c.toFixed(2),total_cost:_.toFixed(2),message:"Thank you for choosing Ambrosia. We are preparing your divine essence."};await m4.send(N,P,T,O),console.log("Email sent successfully")}catch(N){console.error("Failed to send email:",N)}a(!1),n(),r("/order-confirmation",{state:{orderId:x.id}})}catch(x){console.error("Order failed:",x),alert("Failed to place order. Please try again."),a(!1)}};if(e.length===0)return setTimeout(()=>r("/cart"),0),null;const _=t+c;return h.jsx("div",{className:"checkout-page py-32",children:h.jsxs("div",{className:"container",children:[h.jsx("h1",{className:"text-5xl font-heading text-gold mb-12",children:"Checkout"}),h.jsxs("form",{onSubmit:g,className:"checkout-grid grid grid-cols-2 gap-20",children:[h.jsxs("div",{className:"checkout-form",children:[h.jsxs("section",{className:"checkout-section mb-12",children:[h.jsx("h2",{className:"text-2xl font-heading text-white mb-8 border-bottom border-white/5 pb-4",children:"Shipping Information"}),h.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[h.jsx("input",{type:"text",name:"firstName",placeholder:"First Name",className:"form-input",required:!0,value:l.firstName,onChange:m}),h.jsx("input",{type:"text",name:"lastName",placeholder:"Last Name",className:"form-input",required:!0,value:l.lastName,onChange:m})]}),h.jsx("input",{type:"email",name:"email",placeholder:"Email Address",className:"form-input mb-6",required:!0,value:l.email,onChange:m}),h.jsx("input",{type:"text",name:"address",placeholder:"Address",className:"form-input mb-6",required:!0,value:l.address,onChange:m}),h.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[h.jsx("input",{type:"text",name:"city",placeholder:"City",className:"form-input",required:!0,value:l.city,onChange:m}),h.jsx("input",{type:"text",name:"country",placeholder:"Country",className:"form-input",required:!0,value:l.country,onChange:m})]})]}),h.jsxs("section",{className:"checkout-section mb-12",children:[h.jsx("h2",{className:"text-2xl font-heading text-white mb-8 border-bottom border-white/5 pb-4",children:"Shipping Method"}),h.jsxs("div",{className:"shipping-options space-y-4",children:[h.jsxs("label",{className:`shipping-option flex items-center justify-between p-4 bg-[#111] border rounded cursor-pointer ${l.shippingMethod==="standard"?"border-gold":"border-white/5"}`,children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("input",{type:"radio",name:"shipping",checked:l.shippingMethod==="standard",onChange:()=>p("standard",10)}),h.jsx("span",{children:"Standard (5-10 Days)"})]}),h.jsx("span",{className:"text-gold",children:"$10.00"})]}),h.jsxs("label",{className:`shipping-option flex items-center justify-between p-4 bg-[#111] border rounded cursor-pointer ${l.shippingMethod==="express"?"border-gold":"border-white/5"}`,children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("input",{type:"radio",name:"shipping",checked:l.shippingMethod==="express",onChange:()=>p("express",25)}),h.jsx("span",{children:"Express (2-3 Days)"})]}),h.jsx("span",{className:"text-gold",children:"$25.00"})]})]})]}),h.jsxs("section",{className:"checkout-section mb-12",children:[h.jsx("h2",{className:"text-2xl font-heading text-white mb-8 border-bottom border-white/5 pb-4",children:"Payment Method"}),h.jsxs("div",{className:"payment-tabs flex gap-4 mb-8",children:[h.jsx("button",{type:"button",className:`payment-tab flex-1 p-4 rounded border ${s==="card"?"border-gold text-gold bg-gold/5":"border-white/5 text-gray-400"}`,onClick:()=>o("card"),children:"Credit Card"}),h.jsx("button",{type:"button",className:`payment-tab flex-1 p-4 rounded border ${s==="paypal"?"border-gold text-gold bg-gold/5":"border-white/5 text-gray-400"}`,onClick:()=>o("paypal"),children:"PayPal"})]}),s==="card"?h.jsxs("div",{className:"card-details space-y-6",children:[h.jsx("div",{className:"p-4 bg-yellow-500/10 border border-yellow-500/20 text-yellow-200 text-sm rounded",children:"Note: This is a secure checkout demonstration. No real charge will be made yet."}),h.jsx("input",{type:"text",placeholder:"Card Number",className:"form-input"}),h.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[h.jsx("input",{type:"text",placeholder:"MM / YY",className:"form-input"}),h.jsx("input",{type:"text",placeholder:"CVV",className:"form-input"})]})]}):h.jsx("div",{className:"paypal-notice p-8 bg-blue-600/5 border border-blue-600/20 rounded text-center",children:h.jsx("p",{className:"text-gray-300",children:"Proceed to complete your purchase securely with PayPal."})})]}),h.jsx("button",{type:"submit",disabled:i,className:`btn w-full py-5 text-lg uppercase tracking-widest mt-8 ${i?"opacity-50 cursor-not-allowed":""}`,children:i?"Processing...":"Place Order"})]}),h.jsx("div",{className:"checkout-sidebar",children:h.jsxs("div",{className:"order-summary bg-[#111] p-10 rounded-lg border border-white/5 sticky top-32",children:[h.jsx("h2",{className:"text-2xl font-heading text-white mb-8 border-bottom border-white/5 pb-4",children:"Order Summary"}),h.jsx("div",{className:"order-items space-y-6 mb-10 max-h-96 overflow-y-auto pr-2",children:e.map(y=>h.jsxs("div",{className:"flex justify-between items-center bg-black/20 p-3 rounded border border-white/5",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"item-thumbnail-mini w-12 h-12 overflow-hidden rounded bg-gray-800",children:h.jsx("img",{src:y.image,alt:y.name,className:"w-full h-full object-cover"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-white text-xs font-heading leading-tight mb-1",children:y.name}),h.jsxs("p",{className:"text-gray-500 text-[10px] uppercase tracking-widest",children:["Qty: ",y.quantity]})]})]}),h.jsxs("span",{className:"text-gold text-sm font-bold",children:["$",(y.price*y.quantity).toFixed(2)]})]},y.id))}),h.jsxs("div",{className:"summary-details pt-8 border-top border-white/10 space-y-4",children:[h.jsxs("div",{className:"flex justify-between text-gray-400",children:[h.jsx("span",{children:"Subtotal"}),h.jsxs("span",{children:["$",t.toFixed(2)]})]}),h.jsxs("div",{className:"flex justify-between text-gray-400",children:[h.jsx("span",{children:"Shipping"}),h.jsxs("span",{children:["$",c.toFixed(2)]})]}),h.jsxs("div",{className:"flex justify-between text-xl text-white font-heading font-bold pt-4 border-top border-white/5",children:[h.jsx("span",{children:"Total"}),h.jsxs("span",{className:"text-gold",children:["$",_.toFixed(2)]})]})]})]})})]})]})})},qX=()=>{var f,m,p;const[e,t]=b.useState(""),[n,r]=b.useState(""),[i,a]=b.useState(null),[s,o]=b.useState(!1),[l,u]=b.useState(""),c=async g=>{g.preventDefault(),o(!0),u(""),a(null);try{const _=Tr(lt,"orders",e.trim()),y=await b1(_);if(y.exists()){const w=y.data();w.email.toLowerCase()===n.toLowerCase()?a({id:y.id,...w}):u("Order found, but email does not match records.")}else u("Order not found. Please check your Order ID.")}catch(_){console.error("Tracking Error:",_),u("An error occurred while tracking. Please try again.")}o(!1)};return h.jsx("div",{className:"track-order-page py-32 min-h-[60vh]",children:h.jsxs("div",{className:"container max-w-2xl mx-auto",children:[h.jsx("h1",{className:"text-4xl font-heading text-gold text-center mb-8",children:"Track Your Order"}),h.jsx("p",{className:"text-gray-400 text-center mb-12",children:"Enter your Order ID and Email Address to see current status."}),h.jsxs("form",{onSubmit:c,className:"bg-[#111] p-8 rounded-xl border border-white/10 mb-12",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Order ID"}),h.jsx("input",{type:"text",required:!0,className:"w-full bg-black/50 border border-white/10 rounded p-3 text-white focus:border-gold outline-none",placeholder:"e.g. 5xJ8...",value:e,onChange:g=>t(g.target.value)})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Email Address"}),h.jsx("input",{type:"email",required:!0,className:"w-full bg-black/50 border border-white/10 rounded p-3 text-white focus:border-gold outline-none",placeholder:"name@example.com",value:n,onChange:g=>r(g.target.value)})]})]}),h.jsx("button",{type:"submit",disabled:s,className:"w-full bg-gold text-black py-4 rounded font-bold uppercase tracking-widest hover:bg-white transition-colors",children:s?"Searching...":"Track Order"}),l&&h.jsx("p",{className:"text-red-500 text-center mt-4 text-sm",children:l})]}),i&&h.jsxs("div",{className:"order-result bg-[#111] p-8 rounded-xl border border-gold/30 animate-fade-in relative overflow-hidden",children:[h.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-gold to-transparent"}),h.jsxs("div",{className:"flex justify-between items-start mb-8",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-2xl text-white font-heading",children:"Order Status"}),h.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:["Placed on ",(f=i.created_at)==null?void 0:f.toDate().toLocaleDateString()]})]}),h.jsx("div",{className:"text-right",children:h.jsx("span",{className:`inline-block px-4 py-2 rounded border text-xs uppercase font-bold tracking-widest ${i.status==="Delivered"?"text-green-500 border-green-500/30 bg-green-500/10":i.status==="Shipped"?"text-purple-500 border-purple-500/30 bg-purple-500/10":"text-yellow-500 border-yellow-500/30 bg-yellow-500/10"}`,children:i.status})})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-8 border-t border-white/10 pt-8",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-xs uppercase tracking-widest text-gray-500 mb-4",children:"Shipping To"}),h.jsxs("p",{className:"text-white",children:[i.firstName," ",i.lastName]}),h.jsx("p",{className:"text-gray-400 text-sm",children:i.address}),h.jsxs("p",{className:"text-gray-400 text-sm",children:[i.city,", ",i.country]})]}),h.jsxs("div",{children:[h.jsxs("h3",{className:"text-xs uppercase tracking-widest text-gray-500 mb-4",children:["Items (",i.items,")"]}),h.jsx("ul",{className:"space-y-2",children:(m=i.cart)==null?void 0:m.map((g,_)=>h.jsxs("li",{className:"text-sm text-gray-300 flex justify-between",children:[h.jsxs("span",{children:[g.quantity,"x ",g.name]}),h.jsxs("span",{className:"text-gold",children:["$",g.price]})]},_))}),h.jsxs("div",{className:"mt-4 pt-4 border-t border-white/10 flex justify-between font-bold text-white",children:[h.jsx("span",{children:"Total"}),h.jsxs("span",{children:["$",(p=i.total)==null?void 0:p.toFixed(2)]})]})]})]})]})]})})},HX=()=>{var n;const t=((n=Ps().state)==null?void 0:n.orderId)||"AMB-"+Math.floor(1e5+Math.random()*9e5);return h.jsx("div",{className:"confirmation-page py-48",children:h.jsxs("div",{className:"container text-center",children:[h.jsx("div",{className:"success-icon text-gold text-7xl mb-8",children:""}),h.jsx("h1",{className:"text-6xl font-heading text-gold mb-6",children:"Order Confirmed"}),h.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto leading-relaxed mb-12",children:"Thank you for choosing Ambrosia. We've received your order and are currently preparing your selection of prime cinnamon for its journey to your doorstep."}),h.jsxs("div",{className:"order-details-summary bg-[#111] p-10 rounded max-w-lg mx-auto border border-white/5 mb-16",children:[h.jsxs("p",{className:"text-gray-500 text-sm mb-4",children:["Order #",t]}),h.jsx("p",{className:"text-white",children:"A confirmation email has been sent. You can track your 100% Sri Lankan delivery once the quills are dispatched."})]}),h.jsxs("div",{className:"flex justify-center gap-8",children:[h.jsx(et,{to:"/shop",className:"btn btn-outline",children:"Continue Shopping"}),h.jsx(et,{to:"/",className:"btn",children:"Back to Home"})]})]})})},GX=()=>h.jsx("div",{className:"pt-32 pb-20 px-6 bg-black min-h-screen text-gray-300",children:h.jsxs("div",{className:"max-w-3xl mx-auto",children:[h.jsx("h1",{className:"text-4xl font-heading text-gold mb-8",children:"Privacy Policy"}),h.jsxs("div",{className:"bg-gray-900 border border-gold/20 p-6 rounded-2xl mb-12",children:[h.jsx("h3",{className:"text-gold font-bold uppercase tracking-widest text-xs mb-3",children:"Simple English Summary"}),h.jsx("p",{className:"text-sm text-gray-400 italic",children:`"Basically: We utilize your data solely to ship your cinnamon and keep you updated. We never sell your info to weird third parties. Your payment details are secure and we don't even see them."`})]}),h.jsx("p",{className:"text-sm text-gray-500 mb-8",children:"Last Updated: January 30, 2026"}),h.jsxs("div",{className:"space-y-8 text-sm leading-7",children:[h.jsxs("section",{children:[h.jsx("h2",{className:"text-xl text-white font-bold mb-3",children:"1. Information We Collect"}),h.jsx("p",{children:"At Ambrosia, we collect information you provide directly to us, such as when you create an account, place an order, or subscribe to our newsletter. This includes your name, email address, shipping address, and payment information."})]}),h.jsxs("section",{children:[h.jsx("h2",{className:"text-xl text-white font-bold mb-3",children:"2. How We Use Your Information"}),h.jsx("p",{children:"We use your information to process transactions, send order updates, and improve your shopping experience. We do not sell your personal data to third parties."})]}),h.jsxs("section",{children:[h.jsx("h2",{className:"text-xl text-white font-bold mb-3",children:"3. Security"}),h.jsx("p",{children:"We implement a variety of security measures to maintain the safety of your personal information. Your payment data is processed securely via our payment partners and is never stored on our servers."})]})]})]})}),KX=()=>h.jsx("div",{className:"pt-32 pb-20 px-6 bg-black min-h-screen text-gray-300",children:h.jsxs("div",{className:"max-w-3xl mx-auto",children:[h.jsx("h1",{className:"text-4xl font-heading text-gold mb-8",children:"Terms & Conditions"}),h.jsxs("div",{className:"bg-gray-900 border border-gold/20 p-6 rounded-2xl mb-12",children:[h.jsx("h3",{className:"text-gold font-bold uppercase tracking-widest text-xs mb-3",children:"Simple English Summary"}),h.jsx("p",{className:"text-sm text-gray-400 italic",children:`"Basically: We promise to send you high-quality cinnamon. Shipping takes a few days. Since it's food, we can't take returns unless we messed up. Be nice to our website."`})]}),h.jsx("p",{className:"text-sm text-gray-500 mb-8",children:"Last Updated: January 30, 2026"}),h.jsxs("div",{className:"space-y-8 text-sm leading-7",children:[h.jsxs("section",{children:[h.jsx("h2",{className:"text-xl text-white font-bold mb-3",children:"1. Acceptance of Terms"}),h.jsx("p",{children:"By accessing and using this website, you accept and agree to be bound by the terms and provision of this agreement."})]}),h.jsxs("section",{children:[h.jsx("h2",{className:"text-xl text-white font-bold mb-3",children:"2. Products & Pricing"}),h.jsx("p",{children:"All products listed on the website are subject to availability. Prices and availability of products are subject to change without notice."})]}),h.jsxs("section",{children:[h.jsx("h2",{className:"text-xl text-white font-bold mb-3",children:"3. Returns & Refunds"}),h.jsx("p",{children:"Due to the perishable nature of our products, we do not accept returns. However, if your order arrives damaged, please contact us within 48 hours for a replacement or refund."})]})]})]})}),YX=()=>{const[e,t]=b.useState(""),[n,r]=b.useState(""),[i,a]=b.useState(""),[s,o]=b.useState(!1),l=Ug(),u=async c=>{var f;c.preventDefault(),a(""),o(!0);try{const p=(await w7(Rf,e,n)).user,g=await b1(Tr(lt,"users",p.uid));if(g.exists()&&((f=g.data())==null?void 0:f.role)==="admin")l("/admin");else throw await Jb(Rf),new Error("Access Denied: You do not have administrator privileges.")}catch(m){console.error("Login Error:",m);const p=m.message.includes("Access Denied")?m.message:"Invalid credentials. Please try again.";a(p)}finally{o(!1)}};return h.jsxs("div",{className:"min-h-screen bg-[#050505] flex items-center justify-center relative overflow-hidden",children:[h.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[h.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[50%] h-[50%] bg-gold/5 blur-[150px] rounded-full"}),h.jsx("div",{className:"absolute bottom-[-20%] right-[-10%] w-[50%] h-[50%] bg-purple-900/10 blur-[150px] rounded-full"})]}),h.jsxs("div",{className:"w-full max-w-md bg-[#111]/80 backdrop-blur-xl p-10 rounded-2xl border border-white/10 shadow-2xl relative z-10",children:[h.jsxs("div",{className:"text-center mb-10",children:[h.jsx("h1",{className:"text-4xl font-heading text-gold mb-3 tracking-tight",children:"Ambrosia"}),h.jsx("div",{className:"h-px w-16 bg-gradient-to-r from-transparent via-gold/50 to-transparent mx-auto mb-3"}),h.jsx("p",{className:"text-gray-500 uppercase text-[10px] tracking-[0.3em] font-medium",children:"Administration"})]}),i&&h.jsx("div",{className:"bg-red-500/10 border border-red-500/20 text-red-400 p-4 rounded-lg mb-6 text-xs text-center font-medium tracking-wide",children:i}),h.jsxs("form",{onSubmit:u,className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-[10px] uppercase tracking-widest text-gray-500 mb-2 font-bold ml-1",children:"Email Address"}),h.jsx("input",{type:"email",value:e,onChange:c=>t(c.target.value),className:"w-full bg-black/50 border border-white/10 rounded-lg p-4 text-white placeholder-gray-700 text-sm focus:outline-none focus:border-gold/50 focus:bg-black transition-all duration-300",placeholder:"name@example.com",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-[10px] uppercase tracking-widest text-gray-500 mb-2 font-bold ml-1",children:"Password"}),h.jsx("input",{type:"password",value:n,onChange:c=>r(c.target.value),className:"w-full bg-black/50 border border-white/10 rounded-lg p-4 text-white placeholder-gray-700 text-sm focus:outline-none focus:border-gold/50 focus:bg-black transition-all duration-300",placeholder:"",required:!0})]}),h.jsx("button",{type:"submit",disabled:s,className:`w-full bg-gold text-black font-bold py-4 rounded-lg text-xs uppercase tracking-widest transition-all hover:bg-white hover:scale-[1.02] shadow-[0_0_20px_rgba(212,175,55,0.2)] ${s?"opacity-50 cursor-not-allowed transform-none":""}`,children:s?"Authenticating...":"Access Dashboard"})]}),h.jsx("div",{className:"mt-8 text-center",children:h.jsx("p",{className:"text-[10px] text-gray-700 font-mono",children:"Protected System. Unauthorized access is prohibited."})})]})]})},WX=()=>{const e=Ug(),{currentUser:t,isAdmin:n,loading:r}=bW();if(Qf.useEffect(()=>{!r&&(!t||!n)&&e("/admin/login")},[t,n,r,e]),r)return h.jsx("div",{className:"min-h-screen bg-black text-gold flex items-center justify-center",children:"Loading Admin..."});if(!n)return h.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col items-center justify-center gap-4",children:[h.jsx("h1",{className:"text-2xl text-red-500 font-bold",children:"Access Denied"}),h.jsx("p",{className:"text-gray-400",children:"You do not have administrator's privileges."}),h.jsxs("div",{className:"text-sm text-gray-600",children:["Current Role: ",t==null?void 0:t.email]}),h.jsx("button",{onClick:()=>{Jb(Rf),e("/admin/login")},className:"px-4 py-2 bg-gold text-black rounded hover:bg-white transition-colors",children:"Back to Login"})]});const i=async()=>{try{await Jb(Rf),e("/admin/login")}catch(a){console.error("Logout failed:",a)}};return h.jsxs("div",{className:"admin-theme min-h-screen bg-[#F4F5F7] flex text-gray-800 selection:bg-gold selection:text-black",children:[h.jsxs("aside",{className:"w-64 bg-black flex flex-col fixed h-full z-20 shadow-xl border-r border-white/10",children:[h.jsx("div",{className:"h-20 flex items-center px-8 border-b border-white/10",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-gold to-yellow-600 rounded-lg flex items-center justify-center text-black font-bold text-lg shadow-lg shadow-gold/20",children:"A"}),h.jsxs("h1",{className:"text-xl font-bold text-white tracking-tight",children:["Ambrosia",h.jsx("span",{className:"text-gold",children:"."})]})]})}),h.jsxs("nav",{className:"flex-1 px-4 py-8 space-y-1",children:[h.jsx("p",{className:"px-4 text-[10px] uppercase tracking-wider text-gray-500 mb-4 font-bold",children:"Menu"}),h.jsxs(Tn,{to:"/admin",end:!0,className:({isActive:a})=>`flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200 ${a?"bg-gradient-to-r from-gold to-yellow-500 text-black shadow-lg shadow-gold/20":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[h.jsx($W,{size:18}),h.jsx("span",{children:"Dashboard"})]}),h.jsxs(Tn,{to:"/admin/orders",className:({isActive:a})=>`flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200 ${a?"bg-gradient-to-r from-gold to-yellow-500 text-black shadow-lg shadow-gold/20":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[h.jsx(i4,{size:18}),h.jsx("span",{children:"Orders"})]}),h.jsxs(Tn,{to:"/admin/products",className:({isActive:a})=>`flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200 ${a?"bg-gradient-to-r from-gold to-yellow-500 text-black shadow-lg shadow-gold/20":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[h.jsx(r4,{size:18}),h.jsx("span",{children:"Products"})]}),h.jsxs(Tn,{to:"/admin/messages",className:({isActive:a})=>`flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200 ${a?"bg-gradient-to-r from-gold to-yellow-500 text-black shadow-lg shadow-gold/20":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[h.jsx(jf,{size:18}),h.jsx("span",{children:"Messages"})]})]}),h.jsxs("div",{className:"p-6 border-t border-white/10",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[h.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-700 overflow-hidden",children:h.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-xs",children:"U"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-white font-medium",children:"Admin User"}),h.jsx("p",{className:"text-[10px] text-gray-500 truncate w-32",children:t==null?void 0:t.email})]})]}),h.jsxs("button",{onClick:i,className:"w-full flex items-center gap-2 px-4 py-2 text-gray-400 hover:text-white transition-colors text-xs font-medium",children:[h.jsx(qW,{size:16}),"Sign Out"]})]})]}),h.jsx("main",{className:"flex-1 min-h-screen transition-all duration-300",style:{marginLeft:"256px"},children:h.jsx("div",{className:"w-full p-8",children:h.jsx(o8,{})})})]})};function p4(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=p4(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ye(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=p4(e))&&(r&&(r+=" "),r+=t);return r}var XX=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function C1(e){if(typeof e!="string")return!1;var t=XX;return t.includes(e)}var QX=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],ZX=new Set(QX);function g4(e){return typeof e!="string"?!1:ZX.has(e)}function y4(e){return typeof e=="string"&&e.startsWith("data-")}function Hr(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(g4(n)||y4(n))&&(t[n]=e[n]);return t}function hy(e){if(e==null)return null;if(b.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Hr(t)}return typeof e=="object"&&!Array.isArray(e)?Hr(e):null}function Cr(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(g4(n)||y4(n)||C1(n))&&(t[n]=e[n]);return t}function JX(e){return e==null?null:b.isValidElement(e)?Cr(e.props):typeof e=="object"&&!Array.isArray(e)?Cr(e):null}var eQ=["children","width","height","viewBox","className","style","title","desc"];function bx(){return bx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bx.apply(null,arguments)}function tQ(e,t){if(e==null)return{};var n,r,i=nQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function nQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var v4=b.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:s,style:o,title:l,desc:u}=e,c=tQ(e,eQ),f=a||{width:r,height:i,x:0,y:0},m=Ye("recharts-surface",s);return b.createElement("svg",bx({},Cr(c),{className:m,width:r,height:i,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),b.createElement("title",null,l),b.createElement("desc",null,u),n)}),rQ=["children","className"];function xx(){return xx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xx.apply(null,arguments)}function iQ(e,t){if(e==null)return{};var n,r,i=aQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function aQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var vi=b.forwardRef((e,t)=>{var{children:n,className:r}=e,i=iQ(e,rQ),a=Ye("recharts-layer",r);return b.createElement("g",xx({className:a},Cr(i),{ref:t}),n)}),sQ=b.createContext(null);function at(e){return function(){return e}}const _x=Math.PI,wx=2*_x,Qs=1e-6,oQ=wx-Qs;function b4(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function lQ(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return b4;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class uQ{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?b4:lQ(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=r-t,u=i-n,c=s-t,f=o-n,m=c*c+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(m>Qs)if(!(Math.abs(f*l-u*c)>Qs)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let p=r-s,g=i-o,_=l*l+u*u,y=p*p+g*g,w=Math.sqrt(_),x=Math.sqrt(m),S=a*Math.tan((_x-Math.acos((_+m-y)/(2*w*x)))/2),N=S/x,P=S/w;Math.abs(N-1)>Qs&&this._append`L${t+N*c},${n+N*f}`,this._append`A${a},${a},0,0,${+(f*p>c*g)},${this._x1=t+P*l},${this._y1=n+P*u}`}}arc(t,n,r,i,a,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),u=t+o,c=n+l,f=1^s,m=s?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Qs||Math.abs(this._y1-c)>Qs)&&this._append`L${u},${c}`,r&&(m<0&&(m=m%wx+wx),m>oQ?this._append`A${r},${r},0,1,${f},${t-o},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:m>Qs&&this._append`A${r},${r},0,${+(m>=_x)},${f},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function x4(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new uQ(t)}function O1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function _4(e){this._context=e}_4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function my(e){return new _4(e)}function w4(e){return e[0]}function E4(e){return e[1]}function S4(e,t){var n=at(!0),r=null,i=my,a=null,s=x4(o);e=typeof e=="function"?e:e===void 0?w4:at(e),t=typeof t=="function"?t:t===void 0?E4:at(t);function o(l){var u,c=(l=O1(l)).length,f,m=!1,p;for(r==null&&(a=i(p=s())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===m&&((m=!m)?a.lineStart():a.lineEnd()),m&&a.point(+e(f,u,l),+t(f,u,l));if(p)return a=null,p+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:at(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:at(+l),o):t},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:at(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),o):r},o}function Vh(e,t,n){var r=null,i=at(!0),a=null,s=my,o=null,l=x4(u);e=typeof e=="function"?e:e===void 0?w4:at(+e),t=typeof t=="function"?t:at(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?E4:at(+n);function u(f){var m,p,g,_=(f=O1(f)).length,y,w=!1,x,S=new Array(_),N=new Array(_);for(a==null&&(o=s(x=l())),m=0;m<=_;++m){if(!(m<_&&i(y=f[m],m,f))===w)if(w=!w)p=m,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=m-1;g>=p;--g)o.point(S[g],N[g]);o.lineEnd(),o.areaEnd()}w&&(S[m]=+e(y,m,f),N[m]=+t(y,m,f),o.point(r?+r(y,m,f):S[m],n?+n(y,m,f):N[m]))}if(x)return o=null,x+""||null}function c(){return S4().defined(i).curve(s).context(a)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:at(+f),r=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:at(+f),u):e},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:at(+f),u):r},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:at(+f),n=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:at(+f),u):t},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:at(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(n)},u.lineX1=function(){return c().x(r).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:at(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),u):s},u.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),u):a},u}class A4{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function cQ(e){return new A4(e,!0)}function fQ(e){return new A4(e,!1)}function Op(){}function Ip(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function T4(e){this._context=e}T4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ip(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ip(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function dQ(e){return new T4(e)}function N4(e){this._context=e}N4.prototype={areaStart:Op,areaEnd:Op,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ip(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function hQ(e){return new N4(e)}function C4(e){this._context=e}C4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Ip(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function mQ(e){return new C4(e)}function O4(e){this._context=e}O4.prototype={areaStart:Op,areaEnd:Op,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function pQ(e){return new O4(e)}function SC(e){return e<0?-1:1}function AC(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(SC(a)+SC(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function TC(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function A0(e,t,n){var r=e._x0,i=e._y0,a=e._x1,s=e._y1,o=(a-r)/3;e._context.bezierCurveTo(r+o,i+o*t,a-o,s-o*n,a,s)}function Pp(e){this._context=e}Pp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:A0(this,this._t0,TC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,A0(this,TC(this,n=AC(this,e,t)),n);break;default:A0(this,this._t0,n=AC(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function I4(e){this._context=new P4(e)}(I4.prototype=Object.create(Pp.prototype)).point=function(e,t){Pp.prototype.point.call(this,t,e)};function P4(e){this._context=e}P4.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function gQ(e){return new Pp(e)}function yQ(e){return new I4(e)}function R4(e){this._context=e}R4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=NC(e),i=NC(t),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function NC(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function vQ(e){return new R4(e)}function py(e,t){this._context=e,this._t=t}py.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function bQ(e){return new py(e,.5)}function xQ(e){return new py(e,0)}function _Q(e){return new py(e,1)}function Oo(e,t){if((s=e.length)>1)for(var n=1,r,i,a=e[t[0]],s,o=a.length;n<s;++n)for(i=a,a=e[t[n]],r=0;r<o;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Ex(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function wQ(e,t){return e[t]}function EQ(e){const t=[];return t.key=e,t}function SQ(){var e=at([]),t=Ex,n=Oo,r=wQ;function i(a){var s=Array.from(e.apply(this,arguments),EQ),o,l=s.length,u=-1,c;for(const f of a)for(o=0,++u;o<l;++o)(s[o][u]=[0,+r(f,s[o].key,u,a)]).data=f;for(o=0,c=O1(t(s));o<l;++o)s[c[o]].index=o;return n(s,c),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:at(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:at(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?Ex:typeof a=="function"?a:at(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??Oo,i):n},i}function AQ(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=e[n][i][1]||0;if(s)for(n=0;n<r;++n)e[n][i][1]/=s}Oo(e,t)}}function TQ(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var s=0,o=0;s<i;++s)o+=e[s][n][1]||0;r[n][1]+=r[n][0]=-o/2}Oo(e,t)}}function NQ(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var o=0,l=0,u=0;o<s;++o){for(var c=e[t[o]],f=c[r][1]||0,m=c[r-1][1]||0,p=(f-m)/2,g=0;g<o;++g){var _=e[t[g]],y=_[r][1]||0,w=_[r-1][1]||0;p+=y-w}l+=f,u+=p*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Oo(e,t)}}var gy={},j4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(j4);var I1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(I1);var yy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(yy);var vy={},k4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(k4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k4,n=yy;function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],s=i.length;if(s===0)return a;let o=0,l="",u="",c=!1;for(i.charCodeAt(0)===46&&(a.push(""),o++);o<s;){const f=i[o];u?f==="\\"&&o+1<s?(o++,l+=i[o]):f===u?u="":l+=f:c?f==='"'||f==="'"?u=f:f==="]"?(c=!1,a.push(l),l=""):l+=f:f==="["?(c=!0,l&&(a.push(l),l="")):f==="."?l&&(a.push(l),l=""):l+=f,o++}return l&&a.push(l),a}e.toPath=r})(vy);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=j4,n=I1,r=yy,i=vy;function a(o,l,u){if(o==null)return u;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return u;const c=o[l];return c===void 0?n.isDeepKey(l)?a(o,i.toPath(l),u):u:c}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const c=o[l];return c===void 0?u:c}default:{if(Array.isArray(l))return s(o,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return u;const c=o[l];return c===void 0?u:c}}}function s(o,l,u){if(l.length===0)return u;let c=o;for(let f=0;f<l.length;f++){if(c==null||t.isUnsafeProperty(l[f]))return u;c=c[l[f]]}return c===void 0?u:c}e.get=a})(gy);var CQ=gy.get;const by=Cs(CQ);var OQ=4;function Ja(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:OQ,n=10**t,r=Math.round(e*n)/n;return Object.is(r,-0)?0:r}function Zt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((i,a,s)=>{var o=n[s-1];return typeof o=="string"?i+o+a:o!==void 0?i+Ja(o)+a:i+a},"")}var wr=e=>e===0?0:e>0?1:-1,bi=e=>typeof e=="number"&&e!=+e,Io=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Q=e=>(typeof e=="number"||e instanceof Number)&&!bi(e),xi=e=>Q(e)||typeof e=="string",IQ=0,Df=e=>{var t=++IQ;return"".concat(e||"").concat(t)},Ns=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Q(t)&&typeof t!="string")return r;var a;if(Io(t)){if(n==null)return r;var s=t.indexOf("%");a=n*parseFloat(t.slice(0,s))/100}else a=+t;return bi(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},D4=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[String(e[r])])n[String(e[r])]=!0;else return!0;return!1};function ti(e,t,n){return Q(e)&&Q(t)?Ja(e+n*(t-e)):t}function M4(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):by(r,t))===n)}var xn=e=>e===null||typeof e>"u",P1=e=>xn(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function Un(e){return e!=null}function Ou(){}var L4=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,R1=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(b.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{C1(i)&&(r[i]=a=>n[i](n,a))}),r},PQ=(e,t,n)=>r=>(e(t,n,r),null),RQ=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];C1(i)&&typeof a=="function"&&(r||(r={}),r[i]=PQ(a,t,n))}),r};function CC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jQ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CC(Object(n),!0).forEach(function(r){kQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kQ(e,t,n){return(t=DQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DQ(e){var t=MQ(e,"string");return typeof t=="symbol"?t:t+""}function MQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fr(e,t){var n=jQ({},e),r=t,i=Object.keys(t),a=i.reduce((s,o)=>(s[o]===void 0&&r[o]!==void 0&&(s[o]=r[o]),s),n);return a}var V4={},U4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let a=0;a<n.length;a++){const s=n[a],o=r(s,a,n);i.has(o)||i.set(o,s)}return Array.from(i.values())}e.uniqBy=t})(U4);var z4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}e.ary=t})(z4);var j1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(j1);var B4={},xy={},$4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})($4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$4;function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(xy);var F4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(F4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xy,n=F4;function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(B4);var q4={},H4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gy;function n(r){return function(i){return t.get(i,r)}}e.property=n})(H4);var G4={},k1={},K4={},D1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(D1);var M1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(M1);var L1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.isEqualsSameValueZero=t})(L1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=D1,n=M1,r=L1;function i(c,f,m){return typeof m!="function"?i(c,f,()=>{}):a(c,f,function p(g,_,y,w,x,S){const N=m(g,_,y,w,x,S);return N!==void 0?!!N:a(g,_,p,S)},new Map)}function a(c,f,m,p){if(f===c)return!0;switch(typeof f){case"object":return s(c,f,m,p);case"function":return Object.keys(f).length>0?a(c,{...f},m,p):r.isEqualsSameValueZero(c,f);default:return t.isObject(c)?typeof f=="string"?f==="":!0:r.isEqualsSameValueZero(c,f)}}function s(c,f,m,p){if(f==null)return!0;if(Array.isArray(f))return l(c,f,m,p);if(f instanceof Map)return o(c,f,m,p);if(f instanceof Set)return u(c,f,m,p);const g=Object.keys(f);if(c==null||n.isPrimitive(c))return g.length===0;if(g.length===0)return!0;if(p!=null&&p.has(f))return p.get(f)===c;p==null||p.set(f,c);try{for(let _=0;_<g.length;_++){const y=g[_];if(!n.isPrimitive(c)&&!(y in c)||f[y]===void 0&&c[y]!==void 0||f[y]===null&&c[y]!==null||!m(c[y],f[y],y,c,f,p))return!1}return!0}finally{p==null||p.delete(f)}}function o(c,f,m,p){if(f.size===0)return!0;if(!(c instanceof Map))return!1;for(const[g,_]of f.entries()){const y=c.get(g);if(m(y,_,g,c,f,p)===!1)return!1}return!0}function l(c,f,m,p){if(f.length===0)return!0;if(!Array.isArray(c))return!1;const g=new Set;for(let _=0;_<f.length;_++){const y=f[_];let w=!1;for(let x=0;x<c.length;x++){if(g.has(x))continue;const S=c[x];let N=!1;if(m(S,y,_,c,f,p)&&(N=!0),N){g.add(x),w=!0;break}}if(!w)return!1}return!0}function u(c,f,m,p){return f.size===0?!0:c instanceof Set?l([...c],[...f],m,p):!1}e.isMatchWith=i,e.isSetMatch=u})(K4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=K4;function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(k1);var Y4={},V1={},W4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(W4);var _y={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(_y);var U1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",o="[object Date]",l="[object Map]",u="[object Set]",c="[object Array]",f="[object Function]",m="[object ArrayBuffer]",p="[object Object]",g="[object Error]",_="[object DataView]",y="[object Uint8Array]",w="[object Uint8ClampedArray]",x="[object Uint16Array]",S="[object Uint32Array]",N="[object BigUint64Array]",P="[object Int8Array]",O="[object Int16Array]",A="[object Int32Array]",T="[object BigInt64Array]",C="[object Float32Array]",k="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=m,e.arrayTag=c,e.bigInt64ArrayTag=T,e.bigUint64ArrayTag=N,e.booleanTag=i,e.dataViewTag=_,e.dateTag=o,e.errorTag=g,e.float32ArrayTag=C,e.float64ArrayTag=k,e.functionTag=f,e.int16ArrayTag=O,e.int32ArrayTag=A,e.int8ArrayTag=P,e.mapTag=l,e.numberTag=r,e.objectTag=p,e.regexpTag=t,e.setTag=u,e.stringTag=n,e.symbolTag=s,e.uint16ArrayTag=x,e.uint32ArrayTag=S,e.uint8ArrayTag=y,e.uint8ClampedArrayTag=w})(U1);var X4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(X4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=W4,n=_y,r=U1,i=M1,a=X4;function s(c,f){return o(c,void 0,c,new Map,f)}function o(c,f,m,p=new Map,g=void 0){const _=g==null?void 0:g(c,f,m,p);if(_!==void 0)return _;if(i.isPrimitive(c))return c;if(p.has(c))return p.get(c);if(Array.isArray(c)){const y=new Array(c.length);p.set(c,y);for(let w=0;w<c.length;w++)y[w]=o(c[w],w,m,p,g);return Object.hasOwn(c,"index")&&(y.index=c.index),Object.hasOwn(c,"input")&&(y.input=c.input),y}if(c instanceof Date)return new Date(c.getTime());if(c instanceof RegExp){const y=new RegExp(c.source,c.flags);return y.lastIndex=c.lastIndex,y}if(c instanceof Map){const y=new Map;p.set(c,y);for(const[w,x]of c)y.set(w,o(x,w,m,p,g));return y}if(c instanceof Set){const y=new Set;p.set(c,y);for(const w of c)y.add(o(w,void 0,m,p,g));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(c))return c.subarray();if(a.isTypedArray(c)){const y=new(Object.getPrototypeOf(c)).constructor(c.length);p.set(c,y);for(let w=0;w<c.length;w++)y[w]=o(c[w],w,m,p,g);return y}if(c instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&c instanceof SharedArrayBuffer)return c.slice(0);if(c instanceof DataView){const y=new DataView(c.buffer.slice(0),c.byteOffset,c.byteLength);return p.set(c,y),l(y,c,m,p,g),y}if(typeof File<"u"&&c instanceof File){const y=new File([c],c.name,{type:c.type});return p.set(c,y),l(y,c,m,p,g),y}if(typeof Blob<"u"&&c instanceof Blob){const y=new Blob([c],{type:c.type});return p.set(c,y),l(y,c,m,p,g),y}if(c instanceof Error){const y=new c.constructor;return p.set(c,y),y.message=c.message,y.name=c.name,y.stack=c.stack,y.cause=c.cause,l(y,c,m,p,g),y}if(c instanceof Boolean){const y=new Boolean(c.valueOf());return p.set(c,y),l(y,c,m,p,g),y}if(c instanceof Number){const y=new Number(c.valueOf());return p.set(c,y),l(y,c,m,p,g),y}if(c instanceof String){const y=new String(c.valueOf());return p.set(c,y),l(y,c,m,p,g),y}if(typeof c=="object"&&u(c)){const y=Object.create(Object.getPrototypeOf(c));return p.set(c,y),l(y,c,m,p,g),y}return c}function l(c,f,m=c,p,g){const _=[...Object.keys(f),...t.getSymbols(f)];for(let y=0;y<_.length;y++){const w=_[y],x=Object.getOwnPropertyDescriptor(c,w);(x==null||x.writable)&&(c[w]=o(f[w],w,m,p,g))}}function u(c){switch(n.getTag(c)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=o,e.copyProperties=l})(V1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=V1;function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(Y4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k1,n=Y4;function r(i){return i=n.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=r})(G4);var Q4={},Z4={},J4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=V1,n=_y,r=U1;function i(a,s){return t.cloneDeepWith(a,(o,l,u,c)=>{const f=s==null?void 0:s(o,l,u,c);if(f!==void 0)return f;if(typeof a=="object"){if(n.getTag(a)===r.objectTag&&typeof a.constructor!="function"){const m={};return c.set(a,m),t.copyProperties(m,a,u,c),m}switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const m=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(m,a),m}case r.argumentsTag:{const m={};return t.copyProperties(m,a),m.length=a.length,m[Symbol.iterator]=a[Symbol.iterator],m}default:return}}})}e.cloneDeepWith=i})(J4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=J4;function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(Z4);var eL={},z1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(z1);var tL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_y;function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(tL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=I1,n=z1,r=tL,i=vy;function a(s,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&t.isDeepKey(o)&&(s==null?void 0:s[o])==null?l=i.toPath(o):l=[o],l.length===0)return!1;let u=s;for(let c=0;c<l.length;c++){const f=l[c];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||r.isArguments(u))&&n.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=a})(eL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k1,n=yy,r=Z4,i=gy,a=eL;function s(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=n.toKey(o);break}}return l=r.cloneDeep(l),function(u){const c=i.get(u,o);return c===void 0?a.has(u,o):l===void 0?c===void 0:t.isMatch(c,l)}}e.matchesProperty=s})(Q4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=j1,n=H4,r=G4,i=Q4;function a(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}e.iteratee=a})(q4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=U4,n=z4,r=j1,i=B4,a=q4;function s(o,l=r.identity){return i.isArrayLikeObject(o)?t.uniqBy(Array.from(o),n.ary(a.iteratee(l),1)):[]}e.uniqBy=s})(V4);var LQ=V4.uniqBy;const OC=Cs(LQ);function VQ(e,t,n){return t===!0?OC(e,n):typeof t=="function"?OC(e,t):e}var nL={exports:{}},rL={},iL={exports:{}},aL={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ou=b;function UQ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var zQ=typeof Object.is=="function"?Object.is:UQ,BQ=ou.useState,$Q=ou.useEffect,FQ=ou.useLayoutEffect,qQ=ou.useDebugValue;function HQ(e,t){var n=t(),r=BQ({inst:{value:n,getSnapshot:t}}),i=r[0].inst,a=r[1];return FQ(function(){i.value=n,i.getSnapshot=t,T0(i)&&a({inst:i})},[e,n,t]),$Q(function(){return T0(i)&&a({inst:i}),e(function(){T0(i)&&a({inst:i})})},[e]),qQ(n),n}function T0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!zQ(e,n)}catch{return!0}}function GQ(e,t){return t()}var KQ=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?GQ:HQ;aL.useSyncExternalStore=ou.useSyncExternalStore!==void 0?ou.useSyncExternalStore:KQ;iL.exports=aL;var YQ=iL.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wy=b,WQ=YQ;function XQ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var QQ=typeof Object.is=="function"?Object.is:XQ,ZQ=WQ.useSyncExternalStore,JQ=wy.useRef,eZ=wy.useEffect,tZ=wy.useMemo,nZ=wy.useDebugValue;rL.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var a=JQ(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=tZ(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&s.hasValue){var g=s.value;if(i(g,p))return f=g}return f=p}if(g=f,QQ(c,p))return g;var _=r(p);return i!==void 0&&i(g,_)?(c=p,g):(c=p,f=_)}var u=!1,c,f,m=n===void 0?null:n;return[function(){return l(t())},m===null?void 0:function(){return l(m())}]},[t,n,r,i]);var o=ZQ(e,a[0],a[1]);return eZ(function(){s.hasValue=!0,s.value=o},[o]),nZ(o),o};nL.exports=rL;var rZ=nL.exports,B1=b.createContext(null),iZ=e=>e,qt=()=>{var e=b.useContext(B1);return e?e.store.dispatch:iZ},Nm=()=>{},aZ=()=>Nm,sZ=(e,t)=>e===t;function ee(e){var t=b.useContext(B1),n=b.useMemo(()=>t?r=>{if(r!=null)return e(r)}:Nm,[t,e]);return rZ.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:aZ,t?t.store.getState:Nm,t?t.store.getState:Nm,n,sZ)}function oZ(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function lZ(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function uZ(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var IC=e=>Array.isArray(e)?e:[e];function cZ(e){const t=Array.isArray(e[0])?e[0]:e;return uZ(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function fZ(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var dZ=class{constructor(e){this.value=e}deref(){return this.value}},hZ=typeof WeakRef<"u"?WeakRef:dZ,mZ=0,PC=1;function Uh(){return{s:mZ,v:void 0,o:null,p:null}}function sL(e,t={}){let n=Uh();const{resultEqualityCheck:r}=t;let i,a=0;function s(){var f;let o=n;const{length:l}=arguments;for(let m=0,p=l;m<p;m++){const g=arguments[m];if(typeof g=="function"||typeof g=="object"&&g!==null){let _=o.o;_===null&&(o.o=_=new WeakMap);const y=_.get(g);y===void 0?(o=Uh(),_.set(g,o)):o=y}else{let _=o.p;_===null&&(o.p=_=new Map);const y=_.get(g);y===void 0?(o=Uh(),_.set(g,o)):o=y}}const u=o;let c;if(o.s===PC)c=o.v;else if(c=e.apply(null,arguments),a++,r){const m=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;m!=null&&r(m,c)&&(c=m,a!==0&&a--),i=typeof c=="object"&&c!==null||typeof c=="function"?new hZ(c):c}return u.s=PC,u.v=c,c}return s.clearCache=()=>{n=Uh(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function pZ(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let a=0,s=0,o,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),oZ(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...n,...l},{memoize:f,memoizeOptions:m=[],argsMemoize:p=sL,argsMemoizeOptions:g=[]}=c,_=IC(m),y=IC(g),w=cZ(i),x=f(function(){return a++,u.apply(null,arguments)},..._),S=p(function(){s++;const P=fZ(w,arguments);return o=x.apply(null,P),o},...y);return Object.assign(S,{resultFunc:u,memoizedResultFunc:x,dependencies:w,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:f,argsMemoize:p})};return Object.assign(r,{withTypes:()=>r}),r}var V=pZ(sL),gZ=Object.assign((e,t=V)=>{lZ(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((s,o,l)=>(s[n[l]]=o,s),{}))},{withTypes:()=>gZ}),oL={},lL={},uL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const s=t(r),o=t(i);if(s===o&&s===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?o-s:s-o}return 0};e.compareValues=n})(uL);var cL={},$1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})($1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$1,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||s!=null&&Object.hasOwn(s,a)}e.isKey=i})(cL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uL,n=cL,r=vy;function i(a,s,o,l){if(a==null)return[];o=l?void 0:o,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(p=>String(p));const u=(p,g)=>{let _=p;for(let y=0;y<g.length&&_!=null;++y)_=_[g[y]];return _},c=(p,g)=>g==null||p==null?g:typeof p=="object"&&"key"in p?Object.hasOwn(g,p.key)?g[p.key]:u(g,p.path):typeof p=="function"?p(g):Array.isArray(p)?u(g,p):typeof g=="object"?g[p]:g,f=s.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||n.isKey(p)?p:{key:p,path:r.toPath(p)}));return a.map(p=>({original:p,criteria:f.map(g=>c(g,p))})).slice().sort((p,g)=>{for(let _=0;_<f.length;_++){const y=t.compareValues(p.criteria[_],g.criteria[_],o[_]);if(y!==0)return y}return 0}).map(p=>p.original)}e.orderBy=i})(lL);var fL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],a=Math.floor(r),s=(o,l)=>{for(let u=0;u<o.length;u++){const c=o[u];Array.isArray(c)&&l<a?s(c,l+1):i.push(c)}};return s(n,0),i}e.flatten=t})(fL);var F1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=z1,n=xy,r=D1,i=L1;function a(s,o,l){return r.isObject(l)&&(typeof o=="number"&&n.isArrayLike(l)&&t.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?i.isEqualsSameValueZero(l[o],s):!1}e.isIterateeCall=a})(F1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lL,n=fL,r=F1;function i(a,...s){const o=s.length;return o>1&&r.isIterateeCall(a,s[0],s[1])?s=[]:o>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(a,n.flatten(s),["asc"])}e.sortBy=i})(oL);var yZ=oL.sortBy;const Ey=Cs(yZ);var dL=e=>e.legend.settings,vZ=e=>e.legend.size,bZ=e=>e.legend.payload;V([bZ,dL],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?Ey(r,n):r});var zh=1;function xZ(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=b.useState({height:0,left:0,top:0,width:0}),r=b.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-t.height)>zh||Math.abs(s.left-t.left)>zh||Math.abs(s.top-t.top)>zh||Math.abs(s.width-t.width)>zh)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function Xt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var _Z=typeof Symbol=="function"&&Symbol.observable||"@@observable",RC=_Z,N0=()=>Math.random().toString(36).substring(7).split("").join("."),wZ={INIT:`@@redux/INIT${N0()}`,REPLACE:`@@redux/REPLACE${N0()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${N0()}`},Rp=wZ;function q1(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function hL(e,t,n){if(typeof e!="function")throw new Error(Xt(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Xt(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Xt(1));return n(hL)(e,t)}let r=e,i=t,a=new Map,s=a,o=0,l=!1;function u(){s===a&&(s=new Map,a.forEach((y,w)=>{s.set(w,y)}))}function c(){if(l)throw new Error(Xt(3));return i}function f(y){if(typeof y!="function")throw new Error(Xt(4));if(l)throw new Error(Xt(5));let w=!0;u();const x=o++;return s.set(x,y),function(){if(w){if(l)throw new Error(Xt(6));w=!1,u(),s.delete(x),a=null}}}function m(y){if(!q1(y))throw new Error(Xt(7));if(typeof y.type>"u")throw new Error(Xt(8));if(typeof y.type!="string")throw new Error(Xt(17));if(l)throw new Error(Xt(9));try{l=!0,i=r(i,y)}finally{l=!1}return(a=s).forEach(x=>{x()}),y}function p(y){if(typeof y!="function")throw new Error(Xt(10));r=y,m({type:Rp.REPLACE})}function g(){const y=f;return{subscribe(w){if(typeof w!="object"||w===null)throw new Error(Xt(11));function x(){const N=w;N.next&&N.next(c())}return x(),{unsubscribe:y(x)}},[RC](){return this}}}return m({type:Rp.INIT}),{dispatch:m,subscribe:f,getState:c,replaceReducer:p,[RC]:g}}function EZ(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Rp.INIT})>"u")throw new Error(Xt(12));if(typeof n(void 0,{type:Rp.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Xt(13))})}function mL(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const s=t[a];typeof e[s]=="function"&&(n[s]=e[s])}const r=Object.keys(n);let i;try{EZ(n)}catch(a){i=a}return function(s={},o){if(i)throw i;let l=!1;const u={};for(let c=0;c<r.length;c++){const f=r[c],m=n[f],p=s[f],g=m(p,o);if(typeof g>"u")throw o&&o.type,new Error(Xt(14));u[f]=g,l=l||g!==p}return l=l||r.length!==Object.keys(s).length,l?u:s}}function jp(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function SZ(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(Xt(15))};const s={getState:i.getState,dispatch:(l,...u)=>a(l,...u)},o=e.map(l=>l(s));return a=jp(...o)(i.dispatch),{...i,dispatch:a}}}function pL(e){return q1(e)&&"type"in e&&typeof e.type=="string"}var gL=Symbol.for("immer-nothing"),jC=Symbol.for("immer-draftable"),In=Symbol.for("immer-state");function Mr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var tr=Object,lu=tr.getPrototypeOf,kp="constructor",Sy="prototype",Sx="configurable",Dp="enumerable",Cm="writable",Mf="value",ua=e=>!!e&&!!e[In];function Gr(e){var t;return e?yL(e)||Ty(e)||!!e[jC]||!!((t=e[kp])!=null&&t[jC])||Ny(e)||Cy(e):!1}var AZ=tr[Sy][kp].toString(),kC=new WeakMap;function yL(e){if(!e||!H1(e))return!1;const t=lu(e);if(t===null||t===tr[Sy])return!0;const n=tr.hasOwnProperty.call(t,kp)&&t[kp];if(n===Object)return!0;if(!cl(n))return!1;let r=kC.get(n);return r===void 0&&(r=Function.toString.call(n),kC.set(n,r)),r===AZ}function Ay(e,t,n=!0){Od(e)===0?(n?Reflect.ownKeys(e):tr.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function Od(e){const t=e[In];return t?t.type_:Ty(e)?1:Ny(e)?2:Cy(e)?3:0}var DC=(e,t,n=Od(e))=>n===2?e.has(t):tr[Sy].hasOwnProperty.call(e,t),Ax=(e,t,n=Od(e))=>n===2?e.get(t):e[t],Mp=(e,t,n,r=Od(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function TZ(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Ty=Array.isArray,Ny=e=>e instanceof Map,Cy=e=>e instanceof Set,H1=e=>typeof e=="object",cl=e=>typeof e=="function",C0=e=>typeof e=="boolean";function NZ(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Di=e=>e.copy_||e.base_,G1=e=>e.modified_?e.copy_:e.base_;function Tx(e,t){if(Ny(e))return new Map(e);if(Cy(e))return new Set(e);if(Ty(e))return Array[Sy].slice.call(e);const n=yL(e);if(t===!0||t==="class_only"&&!n){const r=tr.getOwnPropertyDescriptors(e);delete r[In];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],o=r[s];o[Cm]===!1&&(o[Cm]=!0,o[Sx]=!0),(o.get||o.set)&&(r[s]={[Sx]:!0,[Cm]:!0,[Dp]:o[Dp],[Mf]:e[s]})}return tr.create(lu(e),r)}else{const r=lu(e);if(r!==null&&n)return{...e};const i=tr.create(r);return tr.assign(i,e)}}function K1(e,t=!1){return Oy(e)||ua(e)||!Gr(e)||(Od(e)>1&&tr.defineProperties(e,{set:Bh,add:Bh,clear:Bh,delete:Bh}),tr.freeze(e),t&&Ay(e,(n,r)=>{K1(r,!0)},!1)),e}function CZ(){Mr(2)}var Bh={[Mf]:CZ};function Oy(e){return e===null||!H1(e)?!0:tr.isFrozen(e)}var Lp="MapSet",Nx="Patches",MC="ArrayMethods",vL={};function Po(e){const t=vL[e];return t||Mr(0,e),t}var LC=e=>!!vL[e],Lf,bL=()=>Lf,OZ=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:LC(Lp)?Po(Lp):void 0,arrayMethodsPlugin_:LC(MC)?Po(MC):void 0});function VC(e,t){t&&(e.patchPlugin_=Po(Nx),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Cx(e){Ox(e),e.drafts_.forEach(IZ),e.drafts_=null}function Ox(e){e===Lf&&(Lf=e.parent_)}var UC=e=>Lf=OZ(Lf,e);function IZ(e){const t=e[In];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function zC(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[In].modified_&&(Cx(t),Mr(4)),Gr(e)&&(e=BC(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[In].base_,e,t)}else e=BC(t,n);return PZ(t,e,!0),Cx(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==gL?e:void 0}function BC(e,t){if(Oy(t))return t;const n=t[In];if(!n)return Vp(t,e.handledSet_,e);if(!Iy(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);wL(n,e)}return n.copy_}function PZ(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&K1(t,n)}function xL(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Iy=(e,t)=>e.scope_===t,RZ=[];function _L(e,t,n,r){const i=Di(e),a=e.type_;if(r!==void 0&&Ax(i,r,a)===t){Mp(i,r,n,a);return}if(!e.draftLocations_){const o=e.draftLocations_=new Map;Ay(i,(l,u)=>{if(ua(u)){const c=o.get(u)||[];c.push(l),o.set(u,c)}})}const s=e.draftLocations_.get(t)??RZ;for(const o of s)Mp(i,o,n,a)}function jZ(e,t,n){e.callbacks_.push(function(i){var o;const a=t;if(!a||!Iy(a,i))return;(o=i.mapSetPlugin_)==null||o.fixSetContents(a);const s=G1(a);_L(e,a.draft_??a,s,n),wL(a,i)})}function wL(e,t){var r;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((r=e.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const a=i.getPath(e);a&&i.generatePatches_(e,a,t)}xL(e)}}function kZ(e,t,n){const{scope_:r}=e;if(ua(n)){const i=n[In];Iy(i,r)&&i.callbacks_.push(function(){Om(e);const s=G1(i);_L(e,n,s,t)})}else Gr(n)&&e.callbacks_.push(function(){const a=Di(e);e.type_===3?a.has(n)&&Vp(n,r.handledSet_,r):Ax(a,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Vp(Ax(e.copy_,t,e.type_),r.handledSet_,r)})}function Vp(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||ua(e)||t.has(e)||!Gr(e)||Oy(e)||(t.add(e),Ay(e,(r,i)=>{if(ua(i)){const a=i[In];if(Iy(a,n)){const s=G1(a);Mp(e,r,s,e.type_),xL(a)}}else Gr(i)&&Vp(i,t,n)})),e}function DZ(e,t){const n=Ty(e),r={type_:n?1:0,scope_:t?t.scope_:bL(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=Up;n&&(i=[r],a=Vf);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,[o,r]}var Up={get(e,t){if(t===In)return e;let n=e.scope_.arrayMethodsPlugin_;const r=e.type_===1&&typeof t=="string";if(r&&n!=null&&n.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const i=Di(e);if(!DC(i,t,e.type_))return MZ(e,i,t);const a=i[t];if(e.finalized_||!Gr(a)||r&&e.operationMethod&&(n!=null&&n.isMutatingArrayMethod(e.operationMethod))&&NZ(t))return a;if(a===O0(e.base_,t)){Om(e);const s=e.type_===1?+t:t,o=Px(e.scope_,a,e,s);return e.copy_[s]=o}return a},has(e,t){return t in Di(e)},ownKeys(e){return Reflect.ownKeys(Di(e))},set(e,t,n){const r=EL(Di(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=O0(Di(e),t),a=i==null?void 0:i[In];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(TZ(n,i)&&(n!==void 0||DC(e.base_,t,e.type_)))return!0;Om(e),Ix(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),kZ(e,t,n)),!0},deleteProperty(e,t){return Om(e),O0(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Ix(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Di(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[Cm]:!0,[Sx]:e.type_!==1||t!=="length",[Dp]:r[Dp],[Mf]:n[t]}},defineProperty(){Mr(11)},getPrototypeOf(e){return lu(e.base_)},setPrototypeOf(){Mr(12)}},Vf={};for(let e in Up){let t=Up[e];Vf[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}}Vf.deleteProperty=function(e,t){return Vf.set.call(this,e,t,void 0)};Vf.set=function(e,t,n){return Up.set.call(this,e[0],t,n,e[0])};function O0(e,t){const n=e[In];return(n?Di(n):e)[t]}function MZ(e,t,n){var i;const r=EL(t,n);return r?Mf in r?r[Mf]:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function EL(e,t){if(!(t in e))return;let n=lu(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=lu(n)}}function Ix(e){e.modified_||(e.modified_=!0,e.parent_&&Ix(e.parent_))}function Om(e){e.copy_||(e.assigned_=new Map,e.copy_=Tx(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var LZ=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(cl(n)&&!cl(r)){const s=r;r=n;const o=this;return function(u=s,...c){return o.produce(u,f=>r.call(this,f,...c))}}cl(r)||Mr(6),i!==void 0&&!cl(i)&&Mr(7);let a;if(Gr(n)){const s=UC(this),o=Px(s,n,void 0);let l=!0;try{a=r(o),l=!1}finally{l?Cx(s):Ox(s)}return VC(s,i),zC(a,s)}else if(!n||!H1(n)){if(a=r(n),a===void 0&&(a=n),a===gL&&(a=void 0),this.autoFreeze_&&K1(a,!0),i){const s=[],o=[];Po(Nx).generateReplacementPatches_(n,a,{patches_:s,inversePatches_:o}),i(s,o)}return a}else Mr(1,n)},this.produceWithPatches=(n,r)=>{if(cl(n))return(o,...l)=>this.produceWithPatches(o,u=>n(u,...l));let i,a;return[this.produce(n,r,(o,l)=>{i=o,a=l}),i,a]},C0(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),C0(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),C0(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Gr(t)||Mr(8),ua(t)&&(t=Br(t));const n=UC(this),r=Px(n,t,void 0);return r[In].isManual_=!0,Ox(n),r}finishDraft(t,n){const r=t&&t[In];(!r||!r.isManual_)&&Mr(9);const{scope_:i}=r;return VC(i,n),zC(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(n=n.slice(r+1));const i=Po(Nx).applyPatches_;return ua(t)?i(t,n):this.produce(t,a=>i(a,n))}};function Px(e,t,n,r){const[i,a]=Ny(t)?Po(Lp).proxyMap_(t,n):Cy(t)?Po(Lp).proxySet_(t,n):DZ(t,n);return((n==null?void 0:n.scope_)??bL()).drafts_.push(i),a.callbacks_=(n==null?void 0:n.callbacks_)??[],a.key_=r,n&&r!==void 0?jZ(n,a,r):a.callbacks_.push(function(l){var c;(c=l.mapSetPlugin_)==null||c.fixSetContents(a);const{patchPlugin_:u}=l;a.modified_&&u&&u.generatePatches_(a,[],l)}),i}function Br(e){return ua(e)||Mr(10,e),SL(e)}function SL(e){if(!Gr(e)||Oy(e))return e;const t=e[In];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Tx(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=Tx(e,!0);return Ay(n,(i,a)=>{Mp(n,i,SL(a))},r),t&&(t.finalized_=!1),n}var VZ=new LZ,AL=VZ.produce;function TL(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var UZ=TL(),zZ=TL,BZ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?jp:jp.apply(null,arguments)};function Or(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(or(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>pL(r)&&r.type===e,n}var NL=class Rc extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Rc.prototype)}static get[Symbol.species](){return Rc}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Rc(...t[0].concat(this)):new Rc(...t.concat(this))}};function $C(e){return Gr(e)?AL(e,()=>{}):e}function $h(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function $Z(e){return typeof e=="boolean"}var FZ=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let s=new NL;return n&&($Z(n)?s.push(UZ):s.push(zZ(n.extraArgument))),s},CL="RTK_autoBatch",Qe=()=>e=>({payload:e,meta:{[CL]:!0}}),FC=e=>t=>{setTimeout(t,e)},OL=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,s=!1;const o=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:FC(10):e.type==="callback"?e.queueNotification:FC(e.timeout),u=()=>{s=!1,a&&(a=!1,o.forEach(c=>c()))};return Object.assign({},r,{subscribe(c){const f=()=>i&&c(),m=r.subscribe(f);return o.add(c),()=>{m(),o.delete(c)}},dispatch(c){var f;try{return i=!((f=c==null?void 0:c.meta)!=null&&f[CL]),a=!i,a&&(s||(s=!0,l(u))),r.dispatch(c)}finally{i=!0}}})},qZ=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new NL(e);return r&&i.push(OL(typeof r=="object"?r:void 0)),i};function HZ(e){const t=FZ(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=e||{};let o;if(typeof n=="function")o=n;else if(q1(n))o=mL(n);else throw new Error(or(1));let l;typeof r=="function"?l=r(t):l=t();let u=jp;i&&(u=BZ({trace:!1,...typeof i=="object"&&i}));const c=SZ(...l),f=qZ(c);let m=typeof s=="function"?s(f):f();const p=u(...m);return hL(o,a,p)}function IL(e){const t={},n=[];let r;const i={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(or(28));if(o in t)throw new Error(or(29));return t[o]=s,i},addAsyncThunk(a,s){return s.pending&&(t[a.pending.type]=s.pending),s.rejected&&(t[a.rejected.type]=s.rejected),s.fulfilled&&(t[a.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return n.push({matcher:a,reducer:s}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}function GZ(e){return typeof e=="function"}function KZ(e,t){let[n,r,i]=IL(t),a;if(GZ(e))a=()=>$C(e());else{const o=$C(e);a=()=>o}function s(o=a(),l){let u=[n[l.type],...r.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,f)=>{if(f)if(ua(c)){const p=f(c,l);return p===void 0?c:p}else{if(Gr(c))return AL(c,m=>f(m,l));{const m=f(c,l);if(m===void 0){if(c===null)return c;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return c},o)}return s.getInitialState=a,s}var YZ="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",WZ=(e=21)=>{let t="",n=e;for(;n--;)t+=YZ[Math.random()*64|0];return t},XZ=Symbol.for("rtk-slice-createasyncthunk");function QZ(e,t){return`${e}/${t}`}function ZZ({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[XZ];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(or(11));const o=(typeof i.reducers=="function"?i.reducers(eJ()):i.reducers)||{},l=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(N,P){const O=typeof N=="string"?N:N.type;if(!O)throw new Error(or(12));if(O in u.sliceCaseReducersByType)throw new Error(or(13));return u.sliceCaseReducersByType[O]=P,c},addMatcher(N,P){return u.sliceMatchers.push({matcher:N,reducer:P}),c},exposeAction(N,P){return u.actionCreators[N]=P,c},exposeCaseReducer(N,P){return u.sliceCaseReducersByName[N]=P,c}};l.forEach(N=>{const P=o[N],O={reducerName:N,type:QZ(a,N),createNotation:typeof i.reducers=="function"};nJ(P)?iJ(O,P,c,t):tJ(O,P,c)});function f(){const[N={},P=[],O=void 0]=typeof i.extraReducers=="function"?IL(i.extraReducers):[i.extraReducers],A={...N,...u.sliceCaseReducersByType};return KZ(i.initialState,T=>{for(let C in A)T.addCase(C,A[C]);for(let C of u.sliceMatchers)T.addMatcher(C.matcher,C.reducer);for(let C of P)T.addMatcher(C.matcher,C.reducer);O&&T.addDefaultCase(O)})}const m=N=>N,p=new Map,g=new WeakMap;let _;function y(N,P){return _||(_=f()),_(N,P)}function w(){return _||(_=f()),_.getInitialState()}function x(N,P=!1){function O(T){let C=T[N];return typeof C>"u"&&P&&(C=$h(g,O,w)),C}function A(T=m){const C=$h(p,P,()=>new WeakMap);return $h(C,T,()=>{const k={};for(const[j,R]of Object.entries(i.selectors??{}))k[j]=JZ(R,T,()=>$h(g,T,w),P);return k})}return{reducerPath:N,getSelectors:A,get selectors(){return A(O)},selectSlice:O}}const S={name:a,reducer:y,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:w,...x(s),injectInto(N,{reducerPath:P,...O}={}){const A=P??s;return N.inject({reducerPath:A,reducer:y},O),{...S,...x(A,!0)}}};return S}}function JZ(e,t,n,r){function i(a,...s){let o=t(a);return typeof o>"u"&&r&&(o=n()),e(o,...s)}return i.unwrapped=e,i}var Hn=ZZ();function eJ(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function tJ({type:e,reducerName:t,createNotation:n},r,i){let a,s;if("reducer"in r){if(n&&!rJ(r))throw new Error(or(17));a=r.reducer,s=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,s?Or(e,s):Or(e))}function nJ(e){return e._reducerDefinitionType==="asyncThunk"}function rJ(e){return e._reducerDefinitionType==="reducerWithPrepare"}function iJ({type:e,reducerName:t},n,r,i){if(!i)throw new Error(or(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:l,settled:u,options:c}=n,f=i(e,a,c);r.exposeAction(t,f),s&&r.addCase(f.fulfilled,s),o&&r.addCase(f.pending,o),l&&r.addCase(f.rejected,l),u&&r.addMatcher(f.settled,u),r.exposeCaseReducer(t,{fulfilled:s||Fh,pending:o||Fh,rejected:l||Fh,settled:u||Fh})}function Fh(){}var aJ="task",PL="listener",RL="completed",Y1="cancelled",sJ=`task-${Y1}`,oJ=`task-${RL}`,Rx=`${PL}-${Y1}`,lJ=`${PL}-${RL}`,Py=class{constructor(e){Ev(this,"name","TaskAbortError");Ev(this,"message");this.code=e,this.message=`${aJ} ${Y1} (reason: ${e})`}},W1=(e,t)=>{if(typeof e!="function")throw new TypeError(or(32))},zp=()=>{},jL=(e,t=zp)=>(e.catch(t),e),kL=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),mo=e=>{if(e.aborted)throw new Py(e.reason)};function DL(e,t){let n=zp;return new Promise((r,i)=>{const a=()=>i(new Py(e.reason));if(e.aborted){a();return}n=kL(e,a),t.finally(()=>n()).then(r,i)}).finally(()=>{n=zp})}var uJ=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Py?"cancelled":"rejected",error:n}}finally{t==null||t()}},Bp=e=>t=>jL(DL(e,t).then(n=>(mo(e),n))),ML=e=>{const t=Bp(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Ul}=Object,qC={},Ry="listenerMiddleware",cJ=(e,t)=>{const n=r=>kL(e,()=>r.abort(e.reason));return(r,i)=>{W1(r);const a=new AbortController;n(a);const s=uJ(async()=>{mo(e),mo(a.signal);const o=await r({pause:Bp(a.signal),delay:ML(a.signal),signal:a.signal});return mo(a.signal),o},()=>a.abort(oJ));return i!=null&&i.autoJoin&&t.push(s.catch(zp)),{result:Bp(e)(s),cancel(){a.abort(sJ)}}}},fJ=(e,t)=>{const n=async(r,i)=>{mo(t);let a=()=>{};const o=[new Promise((l,u)=>{let c=e({predicate:r,effect:(f,m)=>{m.unsubscribe(),l([f,m.getState(),m.getOriginalState()])}});a=()=>{c(),u()}})];i!=null&&o.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await DL(t,Promise.race(o));return mo(t),l}finally{a()}};return(r,i)=>jL(n(r,i))},LL=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=Or(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(or(21));return W1(a),{predicate:i,type:t,effect:a}},VL=Ul(e=>{const{type:t,predicate:n,effect:r}=LL(e);return{id:WZ(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(or(22))}}},{withTypes:()=>VL}),HC=(e,t)=>{const{type:n,effect:r,predicate:i}=LL(t);return Array.from(e.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},jx=e=>{e.pending.forEach(t=>{t.abort(Rx)})},dJ=(e,t)=>()=>{for(const n of t.keys())jx(n);e.clear()},GC=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},UL=Ul(Or(`${Ry}/add`),{withTypes:()=>UL}),hJ=Or(`${Ry}/removeAll`),zL=Ul(Or(`${Ry}/remove`),{withTypes:()=>zL}),mJ=(...e)=>{console.error(`${Ry}/error`,...e)},Id=(e={})=>{const t=new Map,n=new Map,r=p=>{const g=n.get(p)??0;n.set(p,g+1)},i=p=>{const g=n.get(p)??1;g===1?n.delete(p):n.set(p,g-1)},{extra:a,onError:s=mJ}=e;W1(s);const o=p=>(p.unsubscribe=()=>t.delete(p.id),t.set(p.id,p),g=>{p.unsubscribe(),g!=null&&g.cancelActive&&jx(p)}),l=p=>{const g=HC(t,p)??VL(p);return o(g)};Ul(l,{withTypes:()=>l});const u=p=>{const g=HC(t,p);return g&&(g.unsubscribe(),p.cancelActive&&jx(g)),!!g};Ul(u,{withTypes:()=>u});const c=async(p,g,_,y)=>{const w=new AbortController,x=fJ(l,w.signal),S=[];try{p.pending.add(w),r(p),await Promise.resolve(p.effect(g,Ul({},_,{getOriginalState:y,condition:(N,P)=>x(N,P).then(Boolean),take:x,delay:ML(w.signal),pause:Bp(w.signal),extra:a,signal:w.signal,fork:cJ(w.signal,S),unsubscribe:p.unsubscribe,subscribe:()=>{t.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((N,P,O)=>{N!==w&&(N.abort(Rx),O.delete(N))})},cancel:()=>{w.abort(Rx),p.pending.delete(w)},throwIfCancelled:()=>{mo(w.signal)}})))}catch(N){N instanceof Py||GC(s,N,{raisedBy:"effect"})}finally{await Promise.all(S),w.abort(lJ),i(p),p.pending.delete(w)}},f=dJ(t,n);return{middleware:p=>g=>_=>{if(!pL(_))return g(_);if(UL.match(_))return l(_.payload);if(hJ.match(_)){f();return}if(zL.match(_))return u(_.payload);let y=p.getState();const w=()=>{if(y===qC)throw new Error(or(23));return y};let x;try{if(x=g(_),t.size>0){const S=p.getState(),N=Array.from(t.values());for(const P of N){let O=!1;try{O=P.predicate(_,S,y)}catch(A){O=!1,GC(s,A,{raisedBy:"predicate"})}O&&c(P,_,p,w)}}}finally{y=qC}return x},startListening:l,stopListening:u,clearListeners:f}};function or(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var pJ={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},BL=Hn({name:"chartLayout",initialState:pJ,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:gJ,setLayout:yJ,setChartSize:vJ,setScale:bJ}=BL.actions,xJ=BL.reducer;function $L(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function be(e){return Number.isFinite(e)}function _i(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function KC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Sl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KC(Object(n),!0).forEach(function(r){_J(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _J(e,t,n){return(t=wJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wJ(e){var t=EJ(e,"string");return typeof t=="symbol"?t:t+""}function EJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function un(e,t,n){return xn(e)||xn(t)?n:xi(t)?by(e,t,n):typeof t=="function"?t(e):n}var SJ=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:s,layout:o}=t;if((o==="vertical"||o==="horizontal"&&s==="middle")&&a!=="center"&&Q(e[a]))return Sl(Sl({},e),{},{[a]:e[a]+(r||0)});if((o==="horizontal"||o==="vertical"&&a==="center")&&s!=="middle"&&Q(e[s]))return Sl(Sl({},e),{},{[s]:e[s]+(i||0)})}return e},Ni=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",FL=(e,t,n,r)=>{if(r)return e.map(o=>o.coordinate);var i,a,s=e.map(o=>(o.coordinate===t&&(i=!0),o.coordinate===n&&(a=!0),o.coordinate));return i||s.push(t),a||s.push(n),s},qL=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:s,realScaleType:o,isCategorical:l,categoricalDomain:u,tickCount:c,ticks:f,niceTicks:m,axisType:p}=e;if(!s)return null;var g=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,_=i==="category"&&s.bandwidth?s.bandwidth()/g:0;if(_=p==="angleAxis"&&a&&a.length>=2?wr(a[0]-a[1])*2*_:_,f||m){var y=(f||m||[]).map((w,x)=>{var S=r?r.indexOf(w):w,N=s.map(S);return be(N)?{coordinate:N+_,value:w,offset:_,index:x}:null}).filter(Un);return y}return l&&u?u.map((w,x)=>{var S=s.map(w);return be(S)?{coordinate:S+_,value:w,index:x,offset:_}:null}).filter(Un):s.ticks&&c!=null?s.ticks(c).map((w,x)=>{var S=s.map(w);return be(S)?{coordinate:S+_,value:w,index:x,offset:_}:null}).filter(Un):s.domain().map((w,x)=>{var S=s.map(w);return be(S)?{coordinate:S+_,value:r?r[w]:w,index:x,offset:_}:null}).filter(Un)},AJ=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,s=0,o=0;o<n;++o){var l=e[o],u=l==null?void 0:l[i];if(u!=null){var c=u[1],f=u[0],m=bi(c)?f:c;m>=0?(u[0]=a,a+=m,u[1]=a):(u[0]=s,s+=m,u[1]=s)}}}},TJ=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,s=0;s<n;++s){var o=e[s],l=o==null?void 0:o[i];if(l!=null){var u=bi(l[1])?l[0]:l[1];u>=0?(l[0]=a,a+=u,l[1]=a):(l[0]=0,l[1]=0)}}}},NJ={sign:AJ,expand:AQ,none:Oo,silhouette:TQ,wiggle:NQ,positive:TJ},CJ=(e,t,n)=>{var r,i=(r=NJ[n])!==null&&r!==void 0?r:Oo,a=SQ().keys(t).value((o,l)=>Number(un(o,l,0))).order(Ex).offset(i),s=a(e);return s.forEach((o,l)=>{o.forEach((u,c)=>{var f=un(e[c],t[l],0);Array.isArray(f)&&f.length===2&&Q(f[0])&&Q(f[1])&&(u[0]=f[0],u[1]=f[1])})}),s};function OJ(e){return e==null?void 0:String(e)}function YC(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:a,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!xn(i[t.dataKey])){var o=M4(n,"value",i[t.dataKey]);if(o)return o.coordinate+r/2}return n!=null&&n[a]?n[a].coordinate+r/2:null}var l=un(i,xn(s)?t.dataKey:s),u=t.scale.map(l);return Q(u)?u:null}var IJ=e=>{var t=e.flat(2).filter(Q);return[Math.min(...t),Math.max(...t)]},PJ=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],RJ=(e,t,n)=>{if(e!=null)return PJ(Object.keys(e).reduce((r,i)=>{var a=e[i];if(!a)return r;var{stackedData:s}=a,o=s.reduce((l,u)=>{var c=$L(u,t,n),f=IJ(c);return!be(f[0])||!be(f[1])?l:[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]))},WC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,XC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,$p=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=Ey(t,c=>c.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var l=i[s],u=i[s-1];a=Math.min(((l==null?void 0:l.coordinate)||0)-((u==null?void 0:u.coordinate)||0),a)}return a===1/0?0:a}return n?void 0:0};function QC(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return Sl(Sl({},t),{},{dataKey:n,payload:r,value:i,name:a})}function HL(e,t){if(e)return String(e);if(typeof t=="string")return t}var jJ=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},kJ=(e,t)=>t==="centric"?e.angle:e.radius,ya=e=>e.layout.width,va=e=>e.layout.height,DJ=e=>e.layout.scale,GL=e=>e.layout.margin,jy=V(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),ky=V(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),MJ="data-recharts-item-index",LJ="data-recharts-item-id",Pd=60;function ZC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZC(Object(n),!0).forEach(function(r){VJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function VJ(e,t,n){return(t=UJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UJ(e){var t=zJ(e,"string");return typeof t=="symbol"?t:t+""}function zJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BJ=e=>e.brush.height;function $J(e){var t=ky(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Pd;return n+i}return n},0)}function FJ(e){var t=ky(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Pd;return n+i}return n},0)}function qJ(e){var t=jy(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function HJ(e){var t=jy(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var fn=V([ya,va,GL,BJ,$J,FJ,qJ,HJ,dL,vZ],(e,t,n,r,i,a,s,o,l,u)=>{var c={left:(n.left||0)+i,right:(n.right||0)+a},f={top:(n.top||0)+s,bottom:(n.bottom||0)+o},m=qh(qh({},f),c),p=m.bottom;m.bottom+=r,m=SJ(m,l,u);var g=e-m.left-m.right,_=t-m.top-m.bottom;return qh(qh({brushBottom:p},m),{},{width:Math.max(g,0),height:Math.max(_,0)})}),GJ=V(fn,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),KL=V(ya,va,(e,t)=>({x:0,y:0,width:e,height:t})),KJ=b.createContext(null),Gn=()=>b.useContext(KJ)!=null,Dy=e=>e.brush,My=V([Dy,fn,GL],(e,t,n)=>({height:e.height,x:Q(e.x)?e.x:t.left,y:Q(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:Q(e.width)?e.width:t.width})),YL={},WL={},XL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:a}={}){let s,o=null;const l=a!=null&&a.includes("leading"),u=a==null||a.includes("trailing"),c=()=>{o!==null&&(n.apply(s,o),s=void 0,o=null)},f=()=>{u&&c(),_()};let m=null;const p=()=>{m!=null&&clearTimeout(m),m=setTimeout(()=>{m=null,f()},r)},g=()=>{m!==null&&(clearTimeout(m),m=null)},_=()=>{g(),s=void 0,o=null},y=()=>{c()},w=function(...x){if(i!=null&&i.aborted)return;s=this,o=x;const S=m==null;p(),l&&S&&c()};return w.schedule=p,w.cancel=_,w.flush=y,i==null||i.addEventListener("abort",_,{once:!0}),w}e.debounce=t})(XL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XL;function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:o=!0,maxWait:l}=a,u=Array(2);s&&(u[0]="leading"),o&&(u[1]="trailing");let c,f=null;const m=t.debounce(function(..._){c=r.apply(this,_),f=null},i,{edges:u}),p=function(..._){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(c=r.apply(this,_),f=Date.now(),m.cancel(),m.schedule(),c):(m.apply(this,_),c)},g=()=>(m.flush(),c);return p.cancel=m.cancel,p.flush=g,p}e.debounce=n})(WL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WL;function n(r,i=0,a={}){const{leading:s=!0,trailing:o=!0}=a;return t.debounce(r,i,{leading:s,maxWait:i,trailing:o})}e.throttle=n})(YL);var YJ=YL.throttle;const WJ=Cs(YJ);var Fp=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(n.replace(/%s/g,()=>i[s++]))}},si={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},QL=(e,t,n)=>{var{width:r=si.width,height:i=si.height,aspect:a,maxHeight:s}=n,o=Io(r)?e:Number(r),l=Io(i)?t:Number(i);return a&&a>0&&(o?l=o/a:l&&(o=l*a),s&&l!=null&&l>s&&(l=s)),{calculatedWidth:o,calculatedHeight:l}},XJ={width:0,height:0,overflow:"visible"},QJ={width:0,overflowX:"visible"},ZJ={height:0,overflowY:"visible"},JJ={},eee=e=>{var{width:t,height:n}=e,r=Io(t),i=Io(n);return r&&i?XJ:r?QJ:i?ZJ:JJ};function tee(e){var{width:t,height:n,aspect:r}=e,i=t,a=n;return i===void 0&&a===void 0?(i=si.width,a=si.height):i===void 0?i=r&&r>0?void 0:si.width:a===void 0&&(a=r&&r>0?void 0:si.height),{width:i,height:a}}function kx(){return kx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kx.apply(null,arguments)}function JC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function eO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JC(Object(n),!0).forEach(function(r){nee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nee(e,t,n){return(t=ree(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ree(e){var t=iee(e,"string");return typeof t=="symbol"?t:t+""}function iee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZL=b.createContext(si.initialDimension);function aee(e){return _i(e.width)&&_i(e.height)}function JL(e){var{children:t,width:n,height:r}=e,i=b.useMemo(()=>({width:n,height:r}),[n,r]);return aee(i)?b.createElement(ZL.Provider,{value:i},t):null}var X1=()=>b.useContext(ZL),see=b.forwardRef((e,t)=>{var{aspect:n,initialDimension:r=si.initialDimension,width:i,height:a,minWidth:s=si.minWidth,minHeight:o,maxHeight:l,children:u,debounce:c=si.debounce,id:f,className:m,onResize:p,style:g={}}=e,_=b.useRef(null),y=b.useRef();y.current=p,b.useImperativeHandle(t,()=>_.current);var[w,x]=b.useState({containerWidth:r.width,containerHeight:r.height}),S=b.useCallback((T,C)=>{x(k=>{var j=Math.round(T),R=Math.round(C);return k.containerWidth===j&&k.containerHeight===R?k:{containerWidth:j,containerHeight:R}})},[]);b.useEffect(()=>{if(_.current==null||typeof ResizeObserver>"u")return Ou;var T=R=>{var D,Z=R[0];if(Z!=null){var{width:oe,height:q}=Z.contentRect;S(oe,q),(D=y.current)===null||D===void 0||D.call(y,oe,q)}};c>0&&(T=WJ(T,c,{trailing:!0,leading:!1}));var C=new ResizeObserver(T),{width:k,height:j}=_.current.getBoundingClientRect();return S(k,j),C.observe(_.current),()=>{C.disconnect()}},[S,c]);var{containerWidth:N,containerHeight:P}=w;Fp(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:O,calculatedHeight:A}=QL(N,P,{width:i,height:a,aspect:n,maxHeight:l});return Fp(O!=null&&O>0||A!=null&&A>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,O,A,i,a,s,o,n),b.createElement("div",{id:f?"".concat(f):void 0,className:Ye("recharts-responsive-container",m),style:eO(eO({},g),{},{width:i,height:a,minWidth:s,minHeight:o,maxHeight:l}),ref:_},b.createElement("div",{style:eee({width:i,height:a})},b.createElement(JL,{width:O,height:A},u)))}),oee=b.forwardRef((e,t)=>{var n=X1();if(_i(n.width)&&_i(n.height))return e.children;var{width:r,height:i}=tee({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:s}=QL(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return Q(a)&&Q(s)?b.createElement(JL,{width:a,height:s},e.children):b.createElement(see,kx({},e,{width:r,height:i,ref:t}))});function Q1(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Ly=()=>{var e,t=Gn(),n=ee(GJ),r=ee(My),i=(e=ee(Dy))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},lee={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},e3=()=>{var e;return(e=ee(fn))!==null&&e!==void 0?e:lee},t3=()=>ee(ya),n3=()=>ee(va),Je=e=>e.layout.layoutType,Iu=()=>ee(Je),Z1=()=>{var e=Iu();if(e==="horizontal"||e==="vertical")return e},r3=e=>{var t=e.layout.layoutType;if(t==="centric"||t==="radial")return t},uee=()=>{var e=Iu();return e!==void 0},Rd=e=>{var t=qt(),n=Gn(),{width:r,height:i}=e,a=X1(),s=r,o=i;return a&&(s=a.width>0?a.width:r,o=a.height>0?a.height:i),b.useEffect(()=>{!n&&_i(s)&&_i(o)&&t(vJ({width:s,height:o}))},[t,n,s,o]),null},i3=Symbol.for("immer-nothing"),tO=Symbol.for("immer-draftable"),cr=Symbol.for("immer-state");function Lr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Uf=Object.getPrototypeOf;function uu(e){return!!e&&!!e[cr]}function Ro(e){var t;return e?a3(e)||Array.isArray(e)||!!e[tO]||!!((t=e.constructor)!=null&&t[tO])||jd(e)||Uy(e):!1}var cee=Object.prototype.constructor.toString(),nO=new WeakMap;function a3(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=nO.get(n);return r===void 0&&(r=Function.toString.call(n),nO.set(n,r)),r===cee}function qp(e,t,n=!0){Vy(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function Vy(e){const t=e[cr];return t?t.type_:Array.isArray(e)?1:jd(e)?2:Uy(e)?3:0}function Dx(e,t){return Vy(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function s3(e,t,n){const r=Vy(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function fee(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function jd(e){return e instanceof Map}function Uy(e){return e instanceof Set}function Zs(e){return e.copy_||e.base_}function Mx(e,t){if(jd(e))return new Map(e);if(Uy(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=a3(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[cr];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],o=r[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(Uf(e),r)}else{const r=Uf(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function J1(e,t=!1){return zy(e)||uu(e)||!Ro(e)||(Vy(e)>1&&Object.defineProperties(e,{set:Hh,add:Hh,clear:Hh,delete:Hh}),Object.freeze(e),t&&Object.values(e).forEach(n=>J1(n,!0))),e}function dee(){Lr(2)}var Hh={value:dee};function zy(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var hee={};function jo(e){const t=hee[e];return t||Lr(0,e),t}var zf;function o3(){return zf}function mee(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function rO(e,t){t&&(jo("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Lx(e){Vx(e),e.drafts_.forEach(pee),e.drafts_=null}function Vx(e){e===zf&&(zf=e.parent_)}function iO(e){return zf=mee(zf,e)}function pee(e){const t=e[cr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function aO(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[cr].modified_&&(Lx(t),Lr(4)),Ro(e)&&(e=Hp(t,e),t.parent_||Gp(t,e)),t.patches_&&jo("Patches").generateReplacementPatches_(n[cr].base_,e,t.patches_,t.inversePatches_)):e=Hp(t,n,[]),Lx(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==i3?e:void 0}function Hp(e,t,n){if(zy(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[cr];if(!i)return qp(t,(a,s)=>sO(e,i,t,a,s,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return Gp(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,o=!1;i.type_===3&&(s=new Set(a),a.clear(),o=!0),qp(s,(l,u)=>sO(e,i,a,l,u,n,o),r),Gp(e,a,!1),n&&e.patches_&&jo("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function sO(e,t,n,r,i,a,s){if(i==null||typeof i!="object"&&!s)return;const o=zy(i);if(!(o&&!s)){if(uu(i)){const l=a&&t&&t.type_!==3&&!Dx(t.assigned_,r)?a.concat(r):void 0,u=Hp(e,i,l);if(s3(n,r,u),uu(u))e.canAutoFreeze_=!1;else return}else s&&n.add(i);if(Ro(i)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&o)return;Hp(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(jd(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Gp(e,i)}}}function Gp(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&J1(t,n)}function gee(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:o3(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=eE;n&&(i=[r],a=Bf);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,o}var eE={get(e,t){if(t===cr)return e;const n=Zs(e);if(!Dx(n,t))return yee(e,n,t);const r=n[t];return e.finalized_||!Ro(r)?r:r===I0(e.base_,t)?(P0(e),e.copy_[t]=zx(r,e)):r},has(e,t){return t in Zs(e)},ownKeys(e){return Reflect.ownKeys(Zs(e))},set(e,t,n){const r=l3(Zs(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=I0(Zs(e),t),a=i==null?void 0:i[cr];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(fee(n,i)&&(n!==void 0||Dx(e.base_,t)))return!0;P0(e),Ux(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return I0(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,P0(e),Ux(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Zs(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Lr(11)},getPrototypeOf(e){return Uf(e.base_)},setPrototypeOf(){Lr(12)}},Bf={};qp(eE,(e,t)=>{Bf[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Bf.deleteProperty=function(e,t){return Bf.set.call(this,e,t,void 0)};Bf.set=function(e,t,n){return eE.set.call(this,e[0],t,n,e[0])};function I0(e,t){const n=e[cr];return(n?Zs(n):e)[t]}function yee(e,t,n){var i;const r=l3(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function l3(e,t){if(!(t in e))return;let n=Uf(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Uf(n)}}function Ux(e){e.modified_||(e.modified_=!0,e.parent_&&Ux(e.parent_))}function P0(e){e.copy_||(e.copy_=Mx(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var vee=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const s=this;return function(l=a,...u){return s.produce(l,c=>n.call(this,c,...u))}}typeof n!="function"&&Lr(6),r!==void 0&&typeof r!="function"&&Lr(7);let i;if(Ro(t)){const a=iO(this),s=zx(t,void 0);let o=!0;try{i=n(s),o=!1}finally{o?Lx(a):Vx(a)}return rO(a,r),aO(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===i3&&(i=void 0),this.autoFreeze_&&J1(i,!0),r){const a=[],s=[];jo("Patches").generateReplacementPatches_(t,i,a,s),r(a,s)}return i}else Lr(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...o)=>this.produceWithPatches(s,l=>t(l,...o));let r,i;return[this.produce(t,n,(s,o)=>{r=s,i=o}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Ro(e)||Lr(8),uu(e)&&(e=bee(e));const t=iO(this),n=zx(e,void 0);return n[cr].isManual_=!0,Vx(t),n}finishDraft(e,t){const n=e&&e[cr];(!n||!n.isManual_)&&Lr(9);const{scope_:r}=n;return rO(r,t),aO(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=jo("Patches").applyPatches_;return uu(e)?r(e,t):this.produce(e,i=>r(i,t))}};function zx(e,t){const n=jd(e)?jo("MapSet").proxyMap_(e,t):Uy(e)?jo("MapSet").proxySet_(e,t):gee(e,t);return(t?t.scope_:o3()).drafts_.push(n),n}function bee(e){return uu(e)||Lr(10,e),u3(e)}function u3(e){if(!Ro(e)||zy(e))return e;const t=e[cr];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Mx(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=Mx(e,!0);return qp(n,(i,a)=>{s3(n,i,u3(a))},r),t&&(t.finalized_=!1),n}var xee=new vee;xee.produce;var _ee={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},c3=Hn({name:"legend",initialState:_ee,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Qe()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Br(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:Qe()},removeLegendPayload:{reducer(e,t){var n=Br(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:Qe()}}}),{setLegendSize:whe,setLegendSettings:Ehe,addLegendPayload:wee,replaceLegendPayload:Eee,removeLegendPayload:See}=c3.actions,Aee=c3.reducer;function Bx(){return Bx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bx.apply(null,arguments)}function oO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oO(Object(n),!0).forEach(function(r){Tee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tee(e,t,n){return(t=Nee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nee(e){var t=Cee(e,"string");return typeof t=="symbol"?t:t+""}function Cee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oee(e){return Array.isArray(e)&&xi(e[0])&&xi(e[1])?e.join(" ~ "):e}var Jo={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},Iee=e=>{var{separator:t=Jo.separator,contentStyle:n,itemStyle:r,labelStyle:i=Jo.labelStyle,payload:a,formatter:s,itemSorter:o,wrapperClassName:l,labelClassName:u,label:c,labelFormatter:f,accessibilityLayer:m=Jo.accessibilityLayer}=e,p=()=>{if(a&&a.length){var P={padding:0,margin:0},O=(o?Ey(a,o):a).map((A,T)=>{if(A.type==="none")return null;var C=A.formatter||s||Oee,{value:k,name:j}=A,R=k,D=j;if(C){var Z=C(k,j,A,T,a);if(Array.isArray(Z))[R,D]=Z;else if(Z!=null)R=Z;else return null}var oe=hc(hc({},Jo.itemStyle),{},{color:A.color||Jo.itemStyle.color},r);return b.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(T),style:oe},xi(D)?b.createElement("span",{className:"recharts-tooltip-item-name"},D):null,xi(D)?b.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,b.createElement("span",{className:"recharts-tooltip-item-value"},R),b.createElement("span",{className:"recharts-tooltip-item-unit"},A.unit||""))});return b.createElement("ul",{className:"recharts-tooltip-item-list",style:P},O)}return null},g=hc(hc({},Jo.contentStyle),n),_=hc({margin:0},i),y=!xn(c),w=y?c:"",x=Ye("recharts-default-tooltip",l),S=Ye("recharts-tooltip-label",u);y&&f&&a!==void 0&&a!==null&&(w=f(c,a));var N=m?{role:"status","aria-live":"assertive"}:{};return b.createElement("div",Bx({className:x,style:g},N),b.createElement("p",{className:S,style:_},b.isValidElement(w)?w:"".concat(w)),p())},mc="recharts-tooltip-wrapper",Pee={visibility:"hidden"};function Ree(e){var{coordinate:t,translateX:n,translateY:r}=e;return Ye(mc,{["".concat(mc,"-right")]:Q(n)&&t&&Q(t.x)&&n>=t.x,["".concat(mc,"-left")]:Q(n)&&t&&Q(t.x)&&n<t.x,["".concat(mc,"-bottom")]:Q(r)&&t&&Q(t.y)&&r>=t.y,["".concat(mc,"-top")]:Q(r)&&t&&Q(t.y)&&r<t.y})}function lO(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offset:i,position:a,reverseDirection:s,tooltipDimension:o,viewBox:l,viewBoxDimension:u}=e;if(a&&Q(a[r]))return a[r];var c=n[r]-o-(i>0?i:0),f=n[r]+i;if(t[r])return s[r]?c:f;var m=l[r];if(m==null)return 0;if(s[r]){var p=c,g=m;return p<g?Math.max(f,m):Math.max(c,m)}if(u==null)return 0;var _=f+o,y=m+u;return _>y?Math.max(c,m):Math.max(f,m)}function jee(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function kee(e){var{allowEscapeViewBox:t,coordinate:n,offsetTop:r,offsetLeft:i,position:a,reverseDirection:s,tooltipBox:o,useTranslate3d:l,viewBox:u}=e,c,f,m;return o.height>0&&o.width>0&&n?(f=lO({allowEscapeViewBox:t,coordinate:n,key:"x",offset:i,position:a,reverseDirection:s,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),m=lO({allowEscapeViewBox:t,coordinate:n,key:"y",offset:r,position:a,reverseDirection:s,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),c=jee({translateX:f,translateY:m,useTranslate3d:l})):c=Pee,{cssProperties:c,cssClasses:Ree({translateX:f,translateY:m,coordinate:n})}}function uO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Gh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uO(Object(n),!0).forEach(function(r){$x(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $x(e,t,n){return(t=Dee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dee(e){var t=Mee(e,"string");return typeof t=="symbol"?t:t+""}function Mee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Lee extends b.PureComponent{constructor(){super(...arguments),$x(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),$x(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:s,hasPayload:o,isAnimationActive:l,offset:u,position:c,reverseDirection:f,useTranslate3d:m,viewBox:p,wrapperStyle:g,lastBoundingBox:_,innerRef:y,hasPortalFromProps:w}=this.props,x=typeof u=="number"?u:u.x,S=typeof u=="number"?u:u.y,{cssClasses:N,cssProperties:P}=kee({allowEscapeViewBox:n,coordinate:s,offsetLeft:x,offsetTop:S,position:c,reverseDirection:f,tooltipBox:{height:_.height,width:_.width},useTranslate3d:m,viewBox:p}),O=w?{}:Gh(Gh({transition:l&&t?"transform ".concat(r,"ms ").concat(i):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),A=Gh(Gh({},O),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},g);return b.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:N,style:A,ref:y},a)}}var f3=()=>{var e;return(e=ee(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Fx(){return Fx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fx.apply(null,arguments)}function cO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cO(Object(n),!0).forEach(function(r){Vee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vee(e,t,n){return(t=Uee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uee(e){var t=zee(e,"string");return typeof t=="symbol"?t:t+""}function zee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dO={curveBasisClosed:hQ,curveBasisOpen:mQ,curveBasis:dQ,curveBumpX:cQ,curveBumpY:fQ,curveLinearClosed:pQ,curveLinear:my,curveMonotoneX:gQ,curveMonotoneY:yQ,curveNatural:vQ,curveStep:bQ,curveStepAfter:_Q,curveStepBefore:xQ},Kp=e=>be(e.x)&&be(e.y),hO=e=>e.base!=null&&Kp(e.base)&&Kp(e),pc=e=>e.x,gc=e=>e.y,Bee=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(P1(e));if((n==="curveMonotone"||n==="curveBump")&&t){var r=dO["".concat(n).concat(t==="vertical"?"Y":"X")];if(r)return r}return dO[n]||my},mO={connectNulls:!1,type:"linear"},$ee=e=>{var{type:t=mO.type,points:n=[],baseLine:r,layout:i,connectNulls:a=mO.connectNulls}=e,s=Bee(t,i),o=a?n.filter(Kp):n;if(Array.isArray(r)){var l,u=n.map((g,_)=>fO(fO({},g),{},{base:r[_]}));i==="vertical"?l=Vh().y(gc).x1(pc).x0(g=>g.base.x):l=Vh().x(pc).y1(gc).y0(g=>g.base.y);var c=l.defined(hO).curve(s),f=a?u.filter(hO):u;return c(f)}var m;i==="vertical"&&Q(r)?m=Vh().y(gc).x1(pc).x0(r):Q(r)?m=Vh().x(pc).y1(gc).y0(r):m=S4().x(pc).y(gc);var p=m.defined(Kp).curve(s);return p(o)},Im=e=>{var{className:t,points:n,path:r,pathRef:i}=e,a=Iu();if((!n||!n.length)&&!r)return null;var s={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||a,connectNulls:e.connectNulls},o=n&&n.length?$ee(s):r;return b.createElement("path",Fx({},Hr(e),R1(e),{className:Ye("recharts-curve",t),d:o===null?void 0:o,ref:i}))},Fee=["x","y","top","left","width","height","className"];function qx(){return qx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qx.apply(null,arguments)}function pO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qee(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pO(Object(n),!0).forEach(function(r){Hee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hee(e,t,n){return(t=Gee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gee(e){var t=Kee(e,"string");return typeof t=="symbol"?t:t+""}function Kee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yee(e,t){if(e==null)return{};var n,r,i=Wee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Wee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Xee=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),Qee=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:s=0,className:o}=e,l=Yee(e,Fee),u=qee({x:t,y:n,top:r,left:i,width:a,height:s},l);return!Q(t)||!Q(n)||!Q(a)||!Q(s)||!Q(r)||!Q(i)?null:b.createElement("path",qx({},Cr(u),{className:Ye("recharts-cross",o),d:Xee(t,n,a,s,r,i)}))};function Zee(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function gO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gO(Object(n),!0).forEach(function(r){Jee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Jee(e,t,n){return(t=ete(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ete(e){var t=tte(e,"string");return typeof t=="symbol"?t:t+""}function tte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nte=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),rte=(e,t,n)=>e.map(r=>"".concat(nte(r)," ").concat(t,"ms ").concat(n)).join(","),ite=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),$f=(e,t)=>Object.keys(t).reduce((n,r)=>yO(yO({},n),{},{[r]:e(r,t[r])}),{});function vO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Nt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vO(Object(n),!0).forEach(function(r){ate(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ate(e,t,n){return(t=ste(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ste(e){var t=ote(e,"string");return typeof t=="symbol"?t:t+""}function ote(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yp=(e,t,n)=>e+(t-e)*n,Hx=e=>{var{from:t,to:n}=e;return t!==n},d3=(e,t,n)=>{var r=$f((i,a)=>{if(Hx(a)){var[s,o]=e(a.from,a.to,a.velocity);return Nt(Nt({},a),{},{from:s,velocity:o})}return a},t);return n<1?$f((i,a)=>Hx(a)&&r[i]!=null?Nt(Nt({},a),{},{velocity:Yp(a.velocity,r[i].velocity,n),from:Yp(a.from,r[i].from,n)}):a,t):d3(e,r,n-1)};function lte(e,t,n,r,i,a){var s,o=r.reduce((m,p)=>Nt(Nt({},m),{},{[p]:{from:e[p],velocity:0,to:t[p]}}),{}),l=()=>$f((m,p)=>p.from,o),u=()=>!Object.values(o).filter(Hx).length,c=null,f=m=>{s||(s=m);var p=m-s,g=p/n.dt;o=d3(n,o,g),i(Nt(Nt(Nt({},e),t),l())),s=m,u()||(c=a.setTimeout(f))};return()=>(c=a.setTimeout(f),()=>{var m;(m=c)===null||m===void 0||m()})}function ute(e,t,n,r,i,a,s){var o=null,l=i.reduce((f,m)=>{var p=e[m],g=t[m];return p==null||g==null?f:Nt(Nt({},f),{},{[m]:[p,g]})},{}),u,c=f=>{u||(u=f);var m=(f-u)/r,p=$f((_,y)=>Yp(...y,n(m)),l);if(a(Nt(Nt(Nt({},e),t),p)),m<1)o=s.setTimeout(c);else{var g=$f((_,y)=>Yp(...y,n(1)),l);a(Nt(Nt(Nt({},e),t),g))}};return()=>(o=s.setTimeout(c),()=>{var f;(f=o)===null||f===void 0||f()})}const cte=(e,t,n,r,i,a)=>{var s=ite(e,t);return n==null?()=>(i(Nt(Nt({},e),t)),()=>{}):n.isStepper===!0?lte(e,t,n,s,i,a):ute(e,t,n,r,s,i,a)};var Wp=1e-4,h3=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],m3=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),bO=(e,t)=>n=>{var r=h3(e,t);return m3(r,n)},fte=(e,t)=>n=>{var r=h3(e,t),i=[...r.map((a,s)=>a*s).slice(1),0];return m3(i,n)},dte=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(r==null||r.length!==4)return null;var i=r.map(a=>parseFloat(a));return[i[0],i[1],i[2],i[3]]},hte=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=dte(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},mte=(e,t,n,r)=>{var i=bO(e,n),a=bO(t,r),s=fte(e,n),o=u=>u>1?1:u<0?0:u,l=u=>{for(var c=u>1?1:u,f=c,m=0;m<8;++m){var p=i(f)-c,g=s(f);if(Math.abs(p-c)<Wp||g<Wp)return a(f);f=o(f-p/g)}return a(f)};return l.isStepper=!1,l},xO=function(){return mte(...hte(...arguments))},pte=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,a=(s,o,l)=>{var u=-(s-o)*n,c=l*r,f=l+(u-c)*i/1e3,m=l*i/1e3+s;return Math.abs(m-o)<Wp&&Math.abs(f)<Wp?[o,0]:[m,f]};return a.isStepper=!0,a.dt=i,a},gte=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return xO(e);case"spring":return pte();default:if(e.split("(")[0]==="cubic-bezier")return xO(e)}return typeof e=="function"?e:null};function yte(e){var t,n=()=>null,r=!1,i=null,a=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,[l,...u]=o;if(typeof l=="number"){i=e.setTimeout(a.bind(null,u),l);return}a(l),i=e.setTimeout(a.bind(null,u));return}typeof s=="string"&&(t=s,n(t)),typeof s=="object"&&(t=s,n(t)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),a(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>e}}class vte{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=s=>{s-r>=n?t(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function bte(){return yte(new vte)}var xte=b.createContext(bte);function _te(e,t){var n=b.useContext(xte);return b.useMemo(()=>t??n(e),[e,t,n])}var wte=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),kd={isSsr:wte()},Ete={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},_O={t:0},R0={t:1};function p3(e){var t=fr(e,Ete),{isActive:n,canBegin:r,duration:i,easing:a,begin:s,onAnimationEnd:o,onAnimationStart:l,children:u}=t,c=n==="auto"?!kd.isSsr:n,f=_te(t.animationId,t.animationManager),[m,p]=b.useState(c?_O:R0),g=b.useRef(null);return b.useEffect(()=>{c||p(R0)},[c]),b.useEffect(()=>{if(!c||!r)return Ou;var _=cte(_O,R0,gte(a),i,p,f.getTimeoutController()),y=()=>{g.current=_()};return f.start([l,s,y,i,o]),()=>{f.stop(),g.current&&g.current(),o()}},[c,r,i,a,s,l,o,f]),u(m.t)}function g3(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=b.useRef(Df(t)),r=b.useRef(e);return r.current!==e&&(n.current=Df(t),r.current=e),n.current}var Ste=["radius"],Ate=["radius"],wO,EO,SO,AO,TO,NO,CO,OO,IO,PO;function RO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RO(Object(n),!0).forEach(function(r){Tte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tte(e,t,n){return(t=Nte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nte(e){var t=Cte(e,"string");return typeof t=="symbol"?t:t+""}function Cte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xp(){return Xp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xp.apply(null,arguments)}function kO(e,t){if(e==null)return{};var n,r,i=Ote(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ote(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Qr(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var DO=(e,t,n,r,i)=>{var a=Ja(n),s=Ja(r),o=Math.min(Math.abs(a)/2,Math.abs(s)/2),l=s>=0?1:-1,u=a>=0?1:-1,c=s>=0&&a>=0||s<0&&a<0?1:0,f;if(o>0&&Array.isArray(i)){for(var m=[0,0,0,0],p=0,g=4;p<g;p++){var _,y=(_=i[p])!==null&&_!==void 0?_:0;m[p]=y>o?o:y}f=Zt(wO||(wO=Qr(["M",",",""])),e,t+l*m[0]),m[0]>0&&(f+=Zt(EO||(EO=Qr(["A ",",",",0,0,",",",",",""])),m[0],m[0],c,e+u*m[0],t)),f+=Zt(SO||(SO=Qr(["L ",",",""])),e+n-u*m[1],t),m[1]>0&&(f+=Zt(AO||(AO=Qr(["A ",",",",0,0,",`,
        `,",",""])),m[1],m[1],c,e+n,t+l*m[1])),f+=Zt(TO||(TO=Qr(["L ",",",""])),e+n,t+r-l*m[2]),m[2]>0&&(f+=Zt(NO||(NO=Qr(["A ",",",",0,0,",`,
        `,",",""])),m[2],m[2],c,e+n-u*m[2],t+r)),f+=Zt(CO||(CO=Qr(["L ",",",""])),e+u*m[3],t+r),m[3]>0&&(f+=Zt(OO||(OO=Qr(["A ",",",",0,0,",`,
        `,",",""])),m[3],m[3],c,e,t+r-l*m[3])),f+="Z"}else if(o>0&&i===+i&&i>0){var w=Math.min(o,i);f=Zt(IO||(IO=Qr(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+l*w,w,w,c,e+u*w,t,e+n-u*w,t,w,w,c,e+n,t+l*w,e+n,t+r-l*w,w,w,c,e+n-u*w,t+r,e+u*w,t+r,w,w,c,e,t+r-l*w)}else f=Zt(PO||(PO=Qr(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return f},MO={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Ite=e=>{var t=fr(e,MO),n=b.useRef(null),[r,i]=b.useState(-1);b.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var K=n.current.getTotalLength();K&&i(K)}catch{}},[]);var{x:a,y:s,width:o,height:l,radius:u,className:c}=t,{animationEasing:f,animationDuration:m,animationBegin:p,isAnimationActive:g,isUpdateAnimationActive:_}=t,y=b.useRef(o),w=b.useRef(l),x=b.useRef(a),S=b.useRef(s),N=b.useMemo(()=>({x:a,y:s,width:o,height:l,radius:u}),[a,s,o,l,u]),P=g3(N,"rectangle-");if(a!==+a||s!==+s||o!==+o||l!==+l||o===0||l===0)return null;var O=Ye("recharts-rectangle",c);if(!_){var A=Cr(t),{radius:T}=A,C=kO(A,Ste);return b.createElement("path",Xp({},C,{x:Ja(a),y:Ja(s),width:Ja(o),height:Ja(l),radius:typeof u=="number"?u:void 0,className:O,d:DO(a,s,o,l,u)}))}var k=y.current,j=w.current,R=x.current,D=S.current,Z="0px ".concat(r===-1?1:r,"px"),oe="".concat(r,"px 0px"),q=rte(["strokeDasharray"],m,typeof f=="string"?f:MO.animationEasing);return b.createElement(p3,{animationId:P,key:P,canBegin:r>0,duration:m,easing:f,isActive:_,begin:p},K=>{var W=ti(k,o,K),te=ti(j,l,K),le=ti(R,a,K),We=ti(D,s,K);n.current&&(y.current=W,w.current=te,x.current=le,S.current=We);var ft;g?K>0?ft={transition:q,strokeDasharray:oe}:ft={strokeDasharray:Z}:ft={strokeDasharray:oe};var jt=Cr(t),{radius:je}=jt,dn=kO(jt,Ate);return b.createElement("path",Xp({},dn,{radius:typeof u=="number"?u:void 0,className:O,d:DO(le,We,W,te,u),ref:n,style:jO(jO({},ft),t.style)}))})};function LO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function VO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LO(Object(n),!0).forEach(function(r){Pte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pte(e,t,n){return(t=Rte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rte(e){var t=jte(e,"string");return typeof t=="symbol"?t:t+""}function jte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qp=Math.PI/180,kte=e=>e*180/Math.PI,on=(e,t,n,r)=>({x:e+Math.cos(-Qp*r)*n,y:t+Math.sin(-Qp*r)*n}),Dte=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Mte=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)},Lte=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,s=Mte({x:n,y:r},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(n-i)/s,l=Math.acos(o);return r>a&&(l=2*Math.PI-l),{radius:s,angle:kte(l),angleInRadian:l}},Vte=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-a*360,endAngle:n-a*360}},Ute=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return e+s*360},zte=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:a}=Lte({x:n,y:r},t),{innerRadius:s,outerRadius:o}=t;if(i<s||i>o||i===0)return null;var{startAngle:l,endAngle:u}=Vte(t),c=a,f;if(l<=u){for(;c>u;)c-=360;for(;c<l;)c+=360;f=c>=l&&c<=u}else{for(;c>l;)c-=360;for(;c<u;)c+=360;f=c>=u&&c<=l}return f?VO(VO({},t),{},{radius:i,angle:Ute(c,t)}):null};function y3(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e,s=on(t,n,r,i),o=on(t,n,r,a);return{points:[s,o],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}var UO,zO,BO,$O,FO,qO,HO;function Gx(){return Gx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gx.apply(null,arguments)}function to(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Bte=(e,t)=>{var n=wr(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},Kh=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:l}=e,u=o*(s?1:-1)+r,c=Math.asin(o/u)/Qp,f=l?i:i+a*c,m=on(t,n,u,f),p=on(t,n,r,f),g=l?i-a*c:i,_=on(t,n,u*Math.cos(c*Qp),g);return{center:m,circleTangency:p,lineTangency:_,theta:c}},v3=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:s}=e,o=Bte(a,s),l=a+o,u=on(t,n,i,a),c=on(t,n,i,l),f=Zt(UO||(UO=to(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),u.x,u.y,i,i,+(Math.abs(o)>180),+(a>l),c.x,c.y);if(r>0){var m=on(t,n,r,a),p=on(t,n,r,l);f+=Zt(zO||(zO=to(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),p.x,p.y,r,r,+(Math.abs(o)>180),+(a<=l),m.x,m.y)}else f+=Zt(BO||(BO=to(["L ",","," Z"])),t,n);return f},$te=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:l,endAngle:u}=e,c=wr(u-l),{circleTangency:f,lineTangency:m,theta:p}=Kh({cx:t,cy:n,radius:i,angle:l,sign:c,cornerRadius:a,cornerIsExternal:o}),{circleTangency:g,lineTangency:_,theta:y}=Kh({cx:t,cy:n,radius:i,angle:u,sign:-c,cornerRadius:a,cornerIsExternal:o}),w=o?Math.abs(l-u):Math.abs(l-u)-p-y;if(w<0)return s?Zt($O||($O=to(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),m.x,m.y,a,a,a*2,a,a,-a*2):v3({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:u});var x=Zt(FO||(FO=to(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),m.x,m.y,a,a,+(c<0),f.x,f.y,i,i,+(w>180),+(c<0),g.x,g.y,a,a,+(c<0),_.x,_.y);if(r>0){var{circleTangency:S,lineTangency:N,theta:P}=Kh({cx:t,cy:n,radius:r,angle:l,sign:c,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:O,lineTangency:A,theta:T}=Kh({cx:t,cy:n,radius:r,angle:u,sign:-c,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),C=o?Math.abs(l-u):Math.abs(l-u)-P-T;if(C<0&&a===0)return"".concat(x,"L").concat(t,",").concat(n,"Z");x+=Zt(qO||(qO=to(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),A.x,A.y,a,a,+(c<0),O.x,O.y,r,r,+(C>180),+(c>0),S.x,S.y,a,a,+(c<0),N.x,N.y)}else x+=Zt(HO||(HO=to(["L",",","Z"])),t,n);return x},Fte={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},qte=e=>{var t=fr(e,Fte),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:c,className:f}=t;if(a<i||u===c)return null;var m=Ye("recharts-sector",f),p=a-i,g=Ns(s,p,0,!0),_;return g>0&&Math.abs(u-c)<360?_=$te({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(g,p/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:c}):_=v3({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:u,endAngle:c}),b.createElement("path",Gx({},Cr(t),{className:m,d:_}))};function Hte(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(L4(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:s,angle:o}=t,l=on(r,i,a,o),u=on(r,i,s,o);return[{x:l.x,y:l.y},{x:u.x,y:u.y}]}return y3(t)}}var b3={},x3={},_3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$1;function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(_3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_3;function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(x3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=F1,n=x3;function r(i,a,s){s&&typeof s!="number"&&t.isIterateeCall(i,a,s)&&(a=s=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),s=s===void 0?i<a?1:-1:n.toFinite(s);const o=Math.max(Math.ceil((a-i)/(s||1)),0),l=new Array(o);for(let u=0;u<o;u++)l[u]=i,i+=s;return l}e.range=r})(b3);var Gte=b3.range;const w3=Cs(Gte);function ms(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Kte(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function tE(e){let t,n,r;e.length!==2?(t=ms,n=(o,l)=>ms(e(o),l),r=(o,l)=>e(o)-l):(t=e===ms||e===Kte?e:Yte,n=e,r=e);function i(o,l,u=0,c=o.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;n(o[f],l)<0?u=f+1:c=f}while(u<c)}return u}function a(o,l,u=0,c=o.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;n(o[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function s(o,l,u=0,c=o.length){const f=i(o,l,u,c-1);return f>u&&r(o[f-1],l)>-r(o[f],l)?f-1:f}return{left:i,center:s,right:a}}function Yte(){return 0}function E3(e){return e===null?NaN:+e}function*Wte(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const Xte=tE(ms),Dd=Xte.right;tE(E3).center;class GO extends Map{constructor(t,n=Jte){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(KO(this,t))}has(t){return super.has(KO(this,t))}set(t,n){return super.set(Qte(this,t),n)}delete(t){return super.delete(Zte(this,t))}}function KO({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Qte({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Zte({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Jte(e){return e!==null&&typeof e=="object"?e.valueOf():e}function ene(e=ms){if(e===ms)return S3;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function S3(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const tne=Math.sqrt(50),nne=Math.sqrt(10),rne=Math.sqrt(2);function Zp(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=tne?10:a>=nne?5:a>=rne?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/s,o=Math.round(e*u),l=Math.round(t*u),o/u<e&&++o,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*s,o=Math.round(e/u),l=Math.round(t/u),o*u<e&&++o,l*u>t&&--l),l<o&&.5<=n&&n<2?Zp(e,t,n*2):[o,l,u]}function Kx(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,s]=r?Zp(t,e,n):Zp(e,t,n);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(r)if(s<0)for(let u=0;u<o;++u)l[u]=(a-u)/-s;else for(let u=0;u<o;++u)l[u]=(a-u)*s;else if(s<0)for(let u=0;u<o;++u)l[u]=(i+u)/-s;else for(let u=0;u<o;++u)l[u]=(i+u)*s;return l}function Yx(e,t,n){return t=+t,e=+e,n=+n,Zp(e,t,n)[2]}function Wx(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Yx(t,e,n):Yx(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function YO(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function WO(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function A3(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?S3:ene(i);r>n;){if(r-n>600){const l=r-n+1,u=t-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),m=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),p=Math.max(n,Math.floor(t-u*f/l+m)),g=Math.min(r,Math.floor(t+(l-u)*f/l+m));A3(e,t,p,g,i)}const a=e[t];let s=n,o=r;for(yc(e,n,t),i(e[r],a)>0&&yc(e,n,r);s<o;){for(yc(e,s,o),++s,--o;i(e[s],a)<0;)++s;for(;i(e[o],a)>0;)--o}i(e[n],a)===0?yc(e,n,o):(++o,yc(e,o,r)),o<=t&&(n=o+1),t<=o&&(r=o-1)}return e}function yc(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function ine(e,t,n){if(e=Float64Array.from(Wte(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return WO(e);if(t>=1)return YO(e);var r,i=(r-1)*t,a=Math.floor(i),s=YO(A3(e,a).subarray(0,a+1)),o=WO(e.subarray(a+1));return s+(o-s)*(i-a)}}function ane(e,t,n=E3){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),s=+n(e[a],a,e),o=+n(e[a+1],a+1,e);return s+(o-s)*(i-a)}}function sne(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function Rr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ba(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Xx=Symbol("implicit");function nE(){var e=new GO,t=[],n=[],r=Xx;function i(a){let s=e.get(a);if(s===void 0){if(r!==Xx)return r;e.set(a,s=t.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new GO;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return nE(t,n).unknown(r)},Rr.apply(i,arguments),i}function rE(){var e=nE().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,s,o=!1,l=0,u=0,c=.5;delete e.unknown;function f(){var m=t().length,p=i<r,g=p?i:r,_=p?r:i;a=(_-g)/Math.max(1,m-l+u*2),o&&(a=Math.floor(a)),g+=(_-g-a*(m-l))*c,s=a*(1-l),o&&(g=Math.round(g),s=Math.round(s));var y=sne(m).map(function(w){return g+a*w});return n(p?y.reverse():y)}return e.domain=function(m){return arguments.length?(t(m),f()):t()},e.range=function(m){return arguments.length?([r,i]=m,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(m){return[r,i]=m,r=+r,i=+i,o=!0,f()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(m){return arguments.length?(o=!!m,f()):o},e.padding=function(m){return arguments.length?(l=Math.min(1,u=+m),f()):l},e.paddingInner=function(m){return arguments.length?(l=Math.min(1,m),f()):l},e.paddingOuter=function(m){return arguments.length?(u=+m,f()):u},e.align=function(m){return arguments.length?(c=Math.max(0,Math.min(1,m)),f()):c},e.copy=function(){return rE(t(),[r,i]).round(o).paddingInner(l).paddingOuter(u).align(c)},Rr.apply(f(),arguments)}function T3(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return T3(t())},e}function one(){return T3(rE.apply(null,arguments).paddingInner(1))}function iE(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function N3(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Md(){}var Ff=.7,Jp=1/Ff,zl="\\s*([+-]?\\d+)\\s*",qf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",pi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",lne=/^#([0-9a-f]{3,8})$/,une=new RegExp(`^rgb\\(${zl},${zl},${zl}\\)$`),cne=new RegExp(`^rgb\\(${pi},${pi},${pi}\\)$`),fne=new RegExp(`^rgba\\(${zl},${zl},${zl},${qf}\\)$`),dne=new RegExp(`^rgba\\(${pi},${pi},${pi},${qf}\\)$`),hne=new RegExp(`^hsl\\(${qf},${pi},${pi}\\)$`),mne=new RegExp(`^hsla\\(${qf},${pi},${pi},${qf}\\)$`),XO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};iE(Md,Hf,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:QO,formatHex:QO,formatHex8:pne,formatHsl:gne,formatRgb:ZO,toString:ZO});function QO(){return this.rgb().formatHex()}function pne(){return this.rgb().formatHex8()}function gne(){return C3(this).formatHsl()}function ZO(){return this.rgb().formatRgb()}function Hf(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=lne.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?JO(t):n===3?new zn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Yh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Yh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=une.exec(e))?new zn(t[1],t[2],t[3],1):(t=cne.exec(e))?new zn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=fne.exec(e))?Yh(t[1],t[2],t[3],t[4]):(t=dne.exec(e))?Yh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=hne.exec(e))?n2(t[1],t[2]/100,t[3]/100,1):(t=mne.exec(e))?n2(t[1],t[2]/100,t[3]/100,t[4]):XO.hasOwnProperty(e)?JO(XO[e]):e==="transparent"?new zn(NaN,NaN,NaN,0):null}function JO(e){return new zn(e>>16&255,e>>8&255,e&255,1)}function Yh(e,t,n,r){return r<=0&&(e=t=n=NaN),new zn(e,t,n,r)}function yne(e){return e instanceof Md||(e=Hf(e)),e?(e=e.rgb(),new zn(e.r,e.g,e.b,e.opacity)):new zn}function Qx(e,t,n,r){return arguments.length===1?yne(e):new zn(e,t,n,r??1)}function zn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}iE(zn,Qx,N3(Md,{brighter(e){return e=e==null?Jp:Math.pow(Jp,e),new zn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ff:Math.pow(Ff,e),new zn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new zn(po(this.r),po(this.g),po(this.b),eg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:e2,formatHex:e2,formatHex8:vne,formatRgb:t2,toString:t2}));function e2(){return`#${no(this.r)}${no(this.g)}${no(this.b)}`}function vne(){return`#${no(this.r)}${no(this.g)}${no(this.b)}${no((isNaN(this.opacity)?1:this.opacity)*255)}`}function t2(){const e=eg(this.opacity);return`${e===1?"rgb(":"rgba("}${po(this.r)}, ${po(this.g)}, ${po(this.b)}${e===1?")":`, ${e})`}`}function eg(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function po(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function no(e){return e=po(e),(e<16?"0":"")+e.toString(16)}function n2(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Vr(e,t,n,r)}function C3(e){if(e instanceof Vr)return new Vr(e.h,e.s,e.l,e.opacity);if(e instanceof Md||(e=Hf(e)),!e)return new Vr;if(e instanceof Vr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(t===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-t)/o+2:s=(t-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new Vr(s,o,l,e.opacity)}function bne(e,t,n,r){return arguments.length===1?C3(e):new Vr(e,t,n,r??1)}function Vr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}iE(Vr,bne,N3(Md,{brighter(e){return e=e==null?Jp:Math.pow(Jp,e),new Vr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ff:Math.pow(Ff,e),new Vr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new zn(j0(e>=240?e-240:e+120,i,r),j0(e,i,r),j0(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Vr(r2(this.h),Wh(this.s),Wh(this.l),eg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=eg(this.opacity);return`${e===1?"hsl(":"hsla("}${r2(this.h)}, ${Wh(this.s)*100}%, ${Wh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function r2(e){return e=(e||0)%360,e<0?e+360:e}function Wh(e){return Math.max(0,Math.min(1,e||0))}function j0(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const aE=e=>()=>e;function xne(e,t){return function(n){return e+n*t}}function _ne(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function wne(e){return(e=+e)==1?O3:function(t,n){return n-t?_ne(t,n,e):aE(isNaN(t)?n:t)}}function O3(e,t){var n=t-e;return n?xne(e,n):aE(isNaN(e)?t:e)}const i2=function e(t){var n=wne(t);function r(i,a){var s=n((i=Qx(i)).r,(a=Qx(a)).r),o=n(i.g,a.g),l=n(i.b,a.b),u=O3(i.opacity,a.opacity);return function(c){return i.r=s(c),i.g=o(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=e,r}(1);function Ene(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function Sne(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Ane(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=Pu(e[s],t[s]);for(;s<n;++s)a[s]=t[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function Tne(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function tg(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Nne(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Pu(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Zx=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,k0=new RegExp(Zx.source,"g");function Cne(e){return function(){return e}}function One(e){return function(t){return e(t)+""}}function Ine(e,t){var n=Zx.lastIndex=k0.lastIndex=0,r,i,a,s=-1,o=[],l=[];for(e=e+"",t=t+"";(r=Zx.exec(e))&&(i=k0.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:tg(r,i)})),n=k0.lastIndex;return n<t.length&&(a=t.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?One(l[0].x):Cne(t):(t=l.length,function(u){for(var c=0,f;c<t;++c)o[(f=l[c]).i]=f.x(u);return o.join("")})}function Pu(e,t){var n=typeof t,r;return t==null||n==="boolean"?aE(t):(n==="number"?tg:n==="string"?(r=Hf(t))?(t=r,i2):Ine:t instanceof Hf?i2:t instanceof Date?Tne:Sne(t)?Ene:Array.isArray(t)?Ane:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Nne:tg)(e,t)}function sE(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Pne(e,t){t===void 0&&(t=e,e=Pu);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[o](s-o)}}function Rne(e){return function(){return e}}function ng(e){return+e}var a2=[0,1];function Cn(e){return e}function Jx(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Rne(isNaN(t)?NaN:.5)}function jne(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function kne(e,t,n){var r=e[0],i=e[1],a=t[0],s=t[1];return i<r?(r=Jx(i,r),a=n(s,a)):(r=Jx(r,i),a=n(a,s)),function(o){return a(r(o))}}function Dne(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=Jx(e[s],e[s+1]),a[s]=n(t[s],t[s+1]);return function(o){var l=Dd(e,o,1,r)-1;return a[l](i[l](o))}}function Ld(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function By(){var e=a2,t=a2,n=Pu,r,i,a,s=Cn,o,l,u;function c(){var m=Math.min(e.length,t.length);return s!==Cn&&(s=jne(e[0],e[m-1])),o=m>2?Dne:kne,l=u=null,f}function f(m){return m==null||isNaN(m=+m)?a:(l||(l=o(e.map(r),t,n)))(r(s(m)))}return f.invert=function(m){return s(i((u||(u=o(t,e.map(r),tg)))(m)))},f.domain=function(m){return arguments.length?(e=Array.from(m,ng),c()):e.slice()},f.range=function(m){return arguments.length?(t=Array.from(m),c()):t.slice()},f.rangeRound=function(m){return t=Array.from(m),n=sE,c()},f.clamp=function(m){return arguments.length?(s=m?!0:Cn,c()):s!==Cn},f.interpolate=function(m){return arguments.length?(n=m,c()):n},f.unknown=function(m){return arguments.length?(a=m,f):a},function(m,p){return r=m,i=p,c()}}function oE(){return By()(Cn,Cn)}function Mne(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function rg(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function cu(e){return e=rg(Math.abs(e)),e?e[1]:NaN}function Lne(e,t){return function(n,r){for(var i=n.length,a=[],s=0,o=e[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=e[s=(s+1)%e.length];return a.reverse().join(t)}}function Vne(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Une=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Gf(e){if(!(t=Une.exec(e)))throw new Error("invalid format: "+e);var t;return new lE({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Gf.prototype=lE.prototype;function lE(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}lE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function zne(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var ig;function Bne(e,t){var n=rg(e,t);if(!n)return ig=void 0,e.toPrecision(t);var r=n[0],i=n[1],a=i-(ig=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+rg(e,Math.max(0,t+a-1))[0]}function s2(e,t){var n=rg(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const o2={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Mne,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>s2(e*100,t),r:s2,s:Bne,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function l2(e){return e}var u2=Array.prototype.map,c2=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function $ne(e){var t=e.grouping===void 0||e.thousands===void 0?l2:Lne(u2.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?l2:Vne(u2.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f,m){f=Gf(f);var p=f.fill,g=f.align,_=f.sign,y=f.symbol,w=f.zero,x=f.width,S=f.comma,N=f.precision,P=f.trim,O=f.type;O==="n"?(S=!0,O="g"):o2[O]||(N===void 0&&(N=12),P=!0,O="g"),(w||p==="0"&&g==="=")&&(w=!0,p="0",g="=");var A=(m&&m.prefix!==void 0?m.prefix:"")+(y==="$"?n:y==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():""),T=(y==="$"?r:/[%p]/.test(O)?s:"")+(m&&m.suffix!==void 0?m.suffix:""),C=o2[O],k=/[defgprs%]/.test(O);N=N===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function j(R){var D=A,Z=T,oe,q,K;if(O==="c")Z=C(R)+Z,R="";else{R=+R;var W=R<0||1/R<0;if(R=isNaN(R)?l:C(Math.abs(R),N),P&&(R=zne(R)),W&&+R==0&&_!=="+"&&(W=!1),D=(W?_==="("?_:o:_==="-"||_==="("?"":_)+D,Z=(O==="s"&&!isNaN(R)&&ig!==void 0?c2[8+ig/3]:"")+Z+(W&&_==="("?")":""),k){for(oe=-1,q=R.length;++oe<q;)if(K=R.charCodeAt(oe),48>K||K>57){Z=(K===46?i+R.slice(oe+1):R.slice(oe))+Z,R=R.slice(0,oe);break}}}S&&!w&&(R=t(R,1/0));var te=D.length+R.length+Z.length,le=te<x?new Array(x-te+1).join(p):"";switch(S&&w&&(R=t(le+R,le.length?x-Z.length:1/0),le=""),g){case"<":R=D+R+Z+le;break;case"=":R=D+le+R+Z;break;case"^":R=le.slice(0,te=le.length>>1)+D+R+Z+le.slice(te);break;default:R=le+D+R+Z;break}return a(R)}return j.toString=function(){return f+""},j}function c(f,m){var p=Math.max(-8,Math.min(8,Math.floor(cu(m)/3)))*3,g=Math.pow(10,-p),_=u((f=Gf(f),f.type="f",f),{suffix:c2[8+p/3]});return function(y){return _(g*y)}}return{format:u,formatPrefix:c}}var Xh,uE,I3;Fne({thousands:",",grouping:[3],currency:["$",""]});function Fne(e){return Xh=$ne(e),uE=Xh.format,I3=Xh.formatPrefix,Xh}function qne(e){return Math.max(0,-cu(Math.abs(e)))}function Hne(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(cu(t)/3)))*3-cu(Math.abs(e)))}function Gne(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,cu(t)-cu(e))+1}function P3(e,t,n,r){var i=Wx(e,t,n),a;switch(r=Gf(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=Hne(i,s))&&(r.precision=a),I3(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Gne(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=qne(i))&&(r.precision=a-(r.type==="%")*2);break}}return uE(r)}function Ms(e){var t=e.domain;return e.ticks=function(n){var r=t();return Kx(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return P3(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,s=r[i],o=r[a],l,u,c=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);c-- >0;){if(u=Yx(s,o,n),u===l)return r[i]=s,r[a]=o,t(r);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;l=u}return e},e}function R3(){var e=oE();return e.copy=function(){return Ld(e,R3())},Rr.apply(e,arguments),Ms(e)}function j3(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,ng),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return j3(e).unknown(t)},e=arguments.length?Array.from(e,ng):[0,1],Ms(n)}function k3(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),e[n]=t.floor(i),e[r]=t.ceil(a),e}function f2(e){return Math.log(e)}function d2(e){return Math.exp(e)}function Kne(e){return-Math.log(-e)}function Yne(e){return-Math.exp(-e)}function Wne(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Xne(e){return e===10?Wne:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Qne(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function h2(e){return(t,n)=>-e(-t,n)}function cE(e){const t=e(f2,d2),n=t.domain;let r=10,i,a;function s(){return i=Qne(r),a=Xne(r),n()[0]<0?(i=h2(i),a=h2(a),e(Kne,Yne)):e(f2,d2),t}return t.base=function(o){return arguments.length?(r=+o,s()):r},t.domain=function(o){return arguments.length?(n(o),s()):n()},t.ticks=o=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let m=i(u),p=i(c),g,_;const y=o==null?10:+o;let w=[];if(!(r%1)&&p-m<y){if(m=Math.floor(m),p=Math.ceil(p),u>0){for(;m<=p;++m)for(g=1;g<r;++g)if(_=m<0?g/a(-m):g*a(m),!(_<u)){if(_>c)break;w.push(_)}}else for(;m<=p;++m)for(g=r-1;g>=1;--g)if(_=m>0?g/a(-m):g*a(m),!(_<u)){if(_>c)break;w.push(_)}w.length*2<y&&(w=Kx(u,c,y))}else w=Kx(m,p,Math.min(p-m,y)).map(a);return f?w.reverse():w},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Gf(l)).precision==null&&(l.trim=!0),l=uE(l)),o===1/0)return l;const u=Math.max(1,r*o/t.ticks().length);return c=>{let f=c/a(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},t.nice=()=>n(k3(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),t}function D3(){const e=cE(By()).domain([1,10]);return e.copy=()=>Ld(e,D3()).base(e.base()),Rr.apply(e,arguments),e}function m2(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function p2(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function fE(e){var t=1,n=e(m2(t),p2(t));return n.constant=function(r){return arguments.length?e(m2(t=+r),p2(t)):t},Ms(n)}function M3(){var e=fE(By());return e.copy=function(){return Ld(e,M3()).constant(e.constant())},Rr.apply(e,arguments)}function g2(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Zne(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Jne(e){return e<0?-e*e:e*e}function dE(e){var t=e(Cn,Cn),n=1;function r(){return n===1?e(Cn,Cn):n===.5?e(Zne,Jne):e(g2(n),g2(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Ms(t)}function hE(){var e=dE(By());return e.copy=function(){return Ld(e,hE()).exponent(e.exponent())},Rr.apply(e,arguments),e}function ere(){return hE.apply(null,arguments).exponent(.5)}function y2(e){return Math.sign(e)*e*e}function tre(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function L3(){var e=oE(),t=[0,1],n=!1,r;function i(a){var s=tre(e(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return e.invert(y2(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,ng)).map(y2)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return L3(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Rr.apply(i,arguments),Ms(i)}function V3(){var e=[],t=[],n=[],r;function i(){var s=0,o=Math.max(1,t.length);for(n=new Array(o-1);++s<o;)n[s-1]=ane(e,s/o);return a}function a(s){return s==null||isNaN(s=+s)?r:t[Dd(n,s)]}return a.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:e[0],o<n.length?n[o]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(ms),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return V3().domain(e).range(t).unknown(r)},Rr.apply(a,arguments)}function U3(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[Dd(r,l,0,n)]:a}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return U3().domain([e,t]).range(i).unknown(a)},Rr.apply(Ms(s),arguments)}function z3(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[Dd(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return z3().domain(e).range(t).unknown(n)},Rr.apply(i,arguments)}const D0=new Date,M0=new Date;function Pt(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let u;do l.push(u=new Date(+a)),t(a,o),e(a);while(u<a&&a<s);return l},i.filter=a=>Pt(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!a(s););else for(;--o>=0;)for(;t(s,1),!a(s););}),n&&(i.count=(a,s)=>(D0.setTime(+a),M0.setTime(+s),e(D0),e(M0),Math.floor(n(D0,M0))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const ag=Pt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ag.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Pt(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):ag);ag.range;const Fi=1e3,Er=Fi*60,qi=Er*60,ca=qi*24,mE=ca*7,v2=ca*30,L0=ca*365,ro=Pt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Fi)},(e,t)=>(t-e)/Fi,e=>e.getUTCSeconds());ro.range;const pE=Pt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Fi)},(e,t)=>{e.setTime(+e+t*Er)},(e,t)=>(t-e)/Er,e=>e.getMinutes());pE.range;const gE=Pt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Er)},(e,t)=>(t-e)/Er,e=>e.getUTCMinutes());gE.range;const yE=Pt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Fi-e.getMinutes()*Er)},(e,t)=>{e.setTime(+e+t*qi)},(e,t)=>(t-e)/qi,e=>e.getHours());yE.range;const vE=Pt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*qi)},(e,t)=>(t-e)/qi,e=>e.getUTCHours());vE.range;const Vd=Pt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Er)/ca,e=>e.getDate()-1);Vd.range;const $y=Pt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ca,e=>e.getUTCDate()-1);$y.range;const B3=Pt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ca,e=>Math.floor(e/ca));B3.range;function Go(e){return Pt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Er)/mE)}const Fy=Go(0),sg=Go(1),nre=Go(2),rre=Go(3),fu=Go(4),ire=Go(5),are=Go(6);Fy.range;sg.range;nre.range;rre.range;fu.range;ire.range;are.range;function Ko(e){return Pt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/mE)}const qy=Ko(0),og=Ko(1),sre=Ko(2),ore=Ko(3),du=Ko(4),lre=Ko(5),ure=Ko(6);qy.range;og.range;sre.range;ore.range;du.range;lre.range;ure.range;const bE=Pt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());bE.range;const xE=Pt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());xE.range;const fa=Pt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());fa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Pt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});fa.range;const da=Pt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());da.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Pt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});da.range;function $3(e,t,n,r,i,a){const s=[[ro,1,Fi],[ro,5,5*Fi],[ro,15,15*Fi],[ro,30,30*Fi],[a,1,Er],[a,5,5*Er],[a,15,15*Er],[a,30,30*Er],[i,1,qi],[i,3,3*qi],[i,6,6*qi],[i,12,12*qi],[r,1,ca],[r,2,2*ca],[n,1,mE],[t,1,v2],[t,3,3*v2],[e,1,L0]];function o(u,c,f){const m=c<u;m&&([u,c]=[c,u]);const p=f&&typeof f.range=="function"?f:l(u,c,f),g=p?p.range(u,+c+1):[];return m?g.reverse():g}function l(u,c,f){const m=Math.abs(c-u)/f,p=tE(([,,y])=>y).right(s,m);if(p===s.length)return e.every(Wx(u/L0,c/L0,f));if(p===0)return ag.every(Math.max(Wx(u,c,f),1));const[g,_]=s[m/s[p-1][2]<s[p][2]/m?p-1:p];return g.every(_)}return[o,l]}const[cre,fre]=$3(da,xE,qy,B3,vE,gE),[dre,hre]=$3(fa,bE,Fy,Vd,yE,pE);function V0(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function U0(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function vc(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function mre(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,u=bc(i),c=xc(i),f=bc(a),m=xc(a),p=bc(s),g=xc(s),_=bc(o),y=xc(o),w=bc(l),x=xc(l),S={a:K,A:W,b:te,B:le,c:null,d:S2,e:S2,f:Lre,g:Kre,G:Wre,H:kre,I:Dre,j:Mre,L:F3,m:Vre,M:Ure,p:We,q:ft,Q:N2,s:C2,S:zre,u:Bre,U:$re,V:Fre,w:qre,W:Hre,x:null,X:null,y:Gre,Y:Yre,Z:Xre,"%":T2},N={a:jt,A:je,b:dn,B:Ci,c:null,d:A2,e:A2,f:eie,g:cie,G:die,H:Qre,I:Zre,j:Jre,L:H3,m:tie,M:nie,p:kt,q:Vs,Q:N2,s:C2,S:rie,u:iie,U:aie,V:sie,w:oie,W:lie,x:null,X:null,y:uie,Y:fie,Z:hie,"%":T2},P={a:k,A:j,b:R,B:D,c:Z,d:w2,e:w2,f:Ire,g:_2,G:x2,H:E2,I:E2,j:Tre,L:Ore,m:Are,M:Nre,p:C,q:Sre,Q:Rre,s:jre,S:Cre,u:bre,U:xre,V:_re,w:vre,W:wre,x:oe,X:q,y:_2,Y:x2,Z:Ere,"%":Pre};S.x=O(n,S),S.X=O(r,S),S.c=O(t,S),N.x=O(n,N),N.X=O(r,N),N.c=O(t,N);function O($,de){return function(_e){var F=[],Dt=-1,Ne=0,_n=$.length,Yt,jr,zu;for(_e instanceof Date||(_e=new Date(+_e));++Dt<_n;)$.charCodeAt(Dt)===37&&(F.push($.slice(Ne,Dt)),(jr=b2[Yt=$.charAt(++Dt)])!=null?Yt=$.charAt(++Dt):jr=Yt==="e"?" ":"0",(zu=de[Yt])&&(Yt=zu(_e,jr)),F.push(Yt),Ne=Dt+1);return F.push($.slice(Ne,Dt)),F.join("")}}function A($,de){return function(_e){var F=vc(1900,void 0,1),Dt=T(F,$,_e+="",0),Ne,_n;if(Dt!=_e.length)return null;if("Q"in F)return new Date(F.Q);if("s"in F)return new Date(F.s*1e3+("L"in F?F.L:0));if(de&&!("Z"in F)&&(F.Z=0),"p"in F&&(F.H=F.H%12+F.p*12),F.m===void 0&&(F.m="q"in F?F.q:0),"V"in F){if(F.V<1||F.V>53)return null;"w"in F||(F.w=1),"Z"in F?(Ne=U0(vc(F.y,0,1)),_n=Ne.getUTCDay(),Ne=_n>4||_n===0?og.ceil(Ne):og(Ne),Ne=$y.offset(Ne,(F.V-1)*7),F.y=Ne.getUTCFullYear(),F.m=Ne.getUTCMonth(),F.d=Ne.getUTCDate()+(F.w+6)%7):(Ne=V0(vc(F.y,0,1)),_n=Ne.getDay(),Ne=_n>4||_n===0?sg.ceil(Ne):sg(Ne),Ne=Vd.offset(Ne,(F.V-1)*7),F.y=Ne.getFullYear(),F.m=Ne.getMonth(),F.d=Ne.getDate()+(F.w+6)%7)}else("W"in F||"U"in F)&&("w"in F||(F.w="u"in F?F.u%7:"W"in F?1:0),_n="Z"in F?U0(vc(F.y,0,1)).getUTCDay():V0(vc(F.y,0,1)).getDay(),F.m=0,F.d="W"in F?(F.w+6)%7+F.W*7-(_n+5)%7:F.w+F.U*7-(_n+6)%7);return"Z"in F?(F.H+=F.Z/100|0,F.M+=F.Z%100,U0(F)):V0(F)}}function T($,de,_e,F){for(var Dt=0,Ne=de.length,_n=_e.length,Yt,jr;Dt<Ne;){if(F>=_n)return-1;if(Yt=de.charCodeAt(Dt++),Yt===37){if(Yt=de.charAt(Dt++),jr=P[Yt in b2?de.charAt(Dt++):Yt],!jr||(F=jr($,_e,F))<0)return-1}else if(Yt!=_e.charCodeAt(F++))return-1}return F}function C($,de,_e){var F=u.exec(de.slice(_e));return F?($.p=c.get(F[0].toLowerCase()),_e+F[0].length):-1}function k($,de,_e){var F=p.exec(de.slice(_e));return F?($.w=g.get(F[0].toLowerCase()),_e+F[0].length):-1}function j($,de,_e){var F=f.exec(de.slice(_e));return F?($.w=m.get(F[0].toLowerCase()),_e+F[0].length):-1}function R($,de,_e){var F=w.exec(de.slice(_e));return F?($.m=x.get(F[0].toLowerCase()),_e+F[0].length):-1}function D($,de,_e){var F=_.exec(de.slice(_e));return F?($.m=y.get(F[0].toLowerCase()),_e+F[0].length):-1}function Z($,de,_e){return T($,t,de,_e)}function oe($,de,_e){return T($,n,de,_e)}function q($,de,_e){return T($,r,de,_e)}function K($){return s[$.getDay()]}function W($){return a[$.getDay()]}function te($){return l[$.getMonth()]}function le($){return o[$.getMonth()]}function We($){return i[+($.getHours()>=12)]}function ft($){return 1+~~($.getMonth()/3)}function jt($){return s[$.getUTCDay()]}function je($){return a[$.getUTCDay()]}function dn($){return l[$.getUTCMonth()]}function Ci($){return o[$.getUTCMonth()]}function kt($){return i[+($.getUTCHours()>=12)]}function Vs($){return 1+~~($.getUTCMonth()/3)}return{format:function($){var de=O($+="",S);return de.toString=function(){return $},de},parse:function($){var de=A($+="",!1);return de.toString=function(){return $},de},utcFormat:function($){var de=O($+="",N);return de.toString=function(){return $},de},utcParse:function($){var de=A($+="",!0);return de.toString=function(){return $},de}}}var b2={"-":"",_:" ",0:"0"},Ht=/^\s*\d+/,pre=/^%/,gre=/[\\^$*+?|[\]().{}]/g;function Ee(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function yre(e){return e.replace(gre,"\\$&")}function bc(e){return new RegExp("^(?:"+e.map(yre).join("|")+")","i")}function xc(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function vre(e,t,n){var r=Ht.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function bre(e,t,n){var r=Ht.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function xre(e,t,n){var r=Ht.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function _re(e,t,n){var r=Ht.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function wre(e,t,n){var r=Ht.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function x2(e,t,n){var r=Ht.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function _2(e,t,n){var r=Ht.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Ere(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Sre(e,t,n){var r=Ht.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Are(e,t,n){var r=Ht.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function w2(e,t,n){var r=Ht.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Tre(e,t,n){var r=Ht.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function E2(e,t,n){var r=Ht.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Nre(e,t,n){var r=Ht.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Cre(e,t,n){var r=Ht.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Ore(e,t,n){var r=Ht.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Ire(e,t,n){var r=Ht.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Pre(e,t,n){var r=pre.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Rre(e,t,n){var r=Ht.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function jre(e,t,n){var r=Ht.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function S2(e,t){return Ee(e.getDate(),t,2)}function kre(e,t){return Ee(e.getHours(),t,2)}function Dre(e,t){return Ee(e.getHours()%12||12,t,2)}function Mre(e,t){return Ee(1+Vd.count(fa(e),e),t,3)}function F3(e,t){return Ee(e.getMilliseconds(),t,3)}function Lre(e,t){return F3(e,t)+"000"}function Vre(e,t){return Ee(e.getMonth()+1,t,2)}function Ure(e,t){return Ee(e.getMinutes(),t,2)}function zre(e,t){return Ee(e.getSeconds(),t,2)}function Bre(e){var t=e.getDay();return t===0?7:t}function $re(e,t){return Ee(Fy.count(fa(e)-1,e),t,2)}function q3(e){var t=e.getDay();return t>=4||t===0?fu(e):fu.ceil(e)}function Fre(e,t){return e=q3(e),Ee(fu.count(fa(e),e)+(fa(e).getDay()===4),t,2)}function qre(e){return e.getDay()}function Hre(e,t){return Ee(sg.count(fa(e)-1,e),t,2)}function Gre(e,t){return Ee(e.getFullYear()%100,t,2)}function Kre(e,t){return e=q3(e),Ee(e.getFullYear()%100,t,2)}function Yre(e,t){return Ee(e.getFullYear()%1e4,t,4)}function Wre(e,t){var n=e.getDay();return e=n>=4||n===0?fu(e):fu.ceil(e),Ee(e.getFullYear()%1e4,t,4)}function Xre(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ee(t/60|0,"0",2)+Ee(t%60,"0",2)}function A2(e,t){return Ee(e.getUTCDate(),t,2)}function Qre(e,t){return Ee(e.getUTCHours(),t,2)}function Zre(e,t){return Ee(e.getUTCHours()%12||12,t,2)}function Jre(e,t){return Ee(1+$y.count(da(e),e),t,3)}function H3(e,t){return Ee(e.getUTCMilliseconds(),t,3)}function eie(e,t){return H3(e,t)+"000"}function tie(e,t){return Ee(e.getUTCMonth()+1,t,2)}function nie(e,t){return Ee(e.getUTCMinutes(),t,2)}function rie(e,t){return Ee(e.getUTCSeconds(),t,2)}function iie(e){var t=e.getUTCDay();return t===0?7:t}function aie(e,t){return Ee(qy.count(da(e)-1,e),t,2)}function G3(e){var t=e.getUTCDay();return t>=4||t===0?du(e):du.ceil(e)}function sie(e,t){return e=G3(e),Ee(du.count(da(e),e)+(da(e).getUTCDay()===4),t,2)}function oie(e){return e.getUTCDay()}function lie(e,t){return Ee(og.count(da(e)-1,e),t,2)}function uie(e,t){return Ee(e.getUTCFullYear()%100,t,2)}function cie(e,t){return e=G3(e),Ee(e.getUTCFullYear()%100,t,2)}function fie(e,t){return Ee(e.getUTCFullYear()%1e4,t,4)}function die(e,t){var n=e.getUTCDay();return e=n>=4||n===0?du(e):du.ceil(e),Ee(e.getUTCFullYear()%1e4,t,4)}function hie(){return"+0000"}function T2(){return"%"}function N2(e){return+e}function C2(e){return Math.floor(+e/1e3)}var el,K3,Y3;mie({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function mie(e){return el=mre(e),K3=el.format,el.parse,Y3=el.utcFormat,el.utcParse,el}function pie(e){return new Date(e)}function gie(e){return e instanceof Date?+e:+new Date(+e)}function _E(e,t,n,r,i,a,s,o,l,u){var c=oE(),f=c.invert,m=c.domain,p=u(".%L"),g=u(":%S"),_=u("%I:%M"),y=u("%I %p"),w=u("%a %d"),x=u("%b %d"),S=u("%B"),N=u("%Y");function P(O){return(l(O)<O?p:o(O)<O?g:s(O)<O?_:a(O)<O?y:r(O)<O?i(O)<O?w:x:n(O)<O?S:N)(O)}return c.invert=function(O){return new Date(f(O))},c.domain=function(O){return arguments.length?m(Array.from(O,gie)):m().map(pie)},c.ticks=function(O){var A=m();return e(A[0],A[A.length-1],O??10)},c.tickFormat=function(O,A){return A==null?P:u(A)},c.nice=function(O){var A=m();return(!O||typeof O.range!="function")&&(O=t(A[0],A[A.length-1],O??10)),O?m(k3(A,O)):c},c.copy=function(){return Ld(c,_E(e,t,n,r,i,a,s,o,l,u))},c}function yie(){return Rr.apply(_E(dre,hre,fa,bE,Fy,Vd,yE,pE,ro,K3).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function vie(){return Rr.apply(_E(cre,fre,da,xE,qy,$y,vE,gE,ro,Y3).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Hy(){var e=0,t=1,n,r,i,a,s=Cn,o=!1,l;function u(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(a(f)-n)*i,o?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(f){return arguments.length?(o=!!f,u):o},u.interpolator=function(f){return arguments.length?(s=f,u):s};function c(f){return function(m){var p,g;return arguments.length?([p,g]=m,s=f(p,g),u):[s(0),s(1)]}}return u.range=c(Pu),u.rangeRound=c(sE),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return a=f,n=f(e),r=f(t),i=n===r?0:1/(r-n),u}}function Ls(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function W3(){var e=Ms(Hy()(Cn));return e.copy=function(){return Ls(e,W3())},ba.apply(e,arguments)}function X3(){var e=cE(Hy()).domain([1,10]);return e.copy=function(){return Ls(e,X3()).base(e.base())},ba.apply(e,arguments)}function Q3(){var e=fE(Hy());return e.copy=function(){return Ls(e,Q3()).constant(e.constant())},ba.apply(e,arguments)}function wE(){var e=dE(Hy());return e.copy=function(){return Ls(e,wE()).exponent(e.exponent())},ba.apply(e,arguments)}function bie(){return wE.apply(null,arguments).exponent(.5)}function Z3(){var e=[],t=Cn;function n(r){if(r!=null&&!isNaN(r=+r))return t((Dd(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(ms),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>ine(e,a/r))},n.copy=function(){return Z3(t).domain(e)},ba.apply(n,arguments)}function Gy(){var e=0,t=.5,n=1,r=1,i,a,s,o,l,u=Cn,c,f=!1,m;function p(_){return isNaN(_=+_)?m:(_=.5+((_=+c(_))-a)*(r*_<r*a?o:l),u(f?Math.max(0,Math.min(1,_)):_))}p.domain=function(_){return arguments.length?([e,t,n]=_,i=c(e=+e),a=c(t=+t),s=c(n=+n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,p):[e,t,n]},p.clamp=function(_){return arguments.length?(f=!!_,p):f},p.interpolator=function(_){return arguments.length?(u=_,p):u};function g(_){return function(y){var w,x,S;return arguments.length?([w,x,S]=y,u=Pne(_,[w,x,S]),p):[u(0),u(.5),u(1)]}}return p.range=g(Pu),p.rangeRound=g(sE),p.unknown=function(_){return arguments.length?(m=_,p):m},function(_){return c=_,i=_(e),a=_(t),s=_(n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,p}}function J3(){var e=Ms(Gy()(Cn));return e.copy=function(){return Ls(e,J3())},ba.apply(e,arguments)}function e6(){var e=cE(Gy()).domain([.1,1,10]);return e.copy=function(){return Ls(e,e6()).base(e.base())},ba.apply(e,arguments)}function t6(){var e=fE(Gy());return e.copy=function(){return Ls(e,t6()).constant(e.constant())},ba.apply(e,arguments)}function EE(){var e=dE(Gy());return e.copy=function(){return Ls(e,EE()).exponent(e.exponent())},ba.apply(e,arguments)}function xie(){return EE.apply(null,arguments).exponent(.5)}const jc=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:rE,scaleDiverging:J3,scaleDivergingLog:e6,scaleDivergingPow:EE,scaleDivergingSqrt:xie,scaleDivergingSymlog:t6,scaleIdentity:j3,scaleImplicit:Xx,scaleLinear:R3,scaleLog:D3,scaleOrdinal:nE,scalePoint:one,scalePow:hE,scaleQuantile:V3,scaleQuantize:U3,scaleRadial:L3,scaleSequential:W3,scaleSequentialLog:X3,scaleSequentialPow:wE,scaleSequentialQuantile:Z3,scaleSequentialSqrt:bie,scaleSequentialSymlog:Q3,scaleSqrt:ere,scaleSymlog:M3,scaleThreshold:z3,scaleTime:yie,scaleUtc:vie,tickFormat:P3},Symbol.toStringTag,{value:"Module"}));var xa=e=>e.chartData,n6=V([xa],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),r6=(e,t,n,r)=>r?n6(e):xa(e),_ie=(e,t,n)=>n?n6(e):xa(e);function ha(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(be(t)&&be(n))return!0}return!1}function O2(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function i6(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,a;if(be(n))i=n;else if(typeof n=="function")return;if(be(r))a=r;else if(typeof r=="function")return;var s=[i,a];if(ha(s))return s}}function wie(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(ha(r))return O2(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,s,o;if(i==="auto")t!=null&&(s=Math.min(...t));else if(Q(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&WC.test(i)){var l=WC.exec(i);if(l==null||l[1]==null||t==null)s=void 0;else{var u=+l[1];s=t[0]-u}}else s=t==null?void 0:t[0];if(a==="auto")t!=null&&(o=Math.max(...t));else if(Q(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&XC.test(a)){var c=XC.exec(a);if(c==null||c[1]==null||t==null)o=void 0;else{var f=+c[1];o=t[1]+f}}else o=t==null?void 0:t[1];var m=[s,o];if(ha(m))return t==null?m:O2(m,t,n)}}}var Ru=1e9,Eie={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},AE,Ze=!0,Ir="[DecimalError] ",go=Ir+"Invalid argument: ",SE=Ir+"Exponent out of range: ",ju=Math.floor,Js=Math.pow,Sie=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Qn,zt=1e7,$e=7,a6=9007199254740991,lg=ju(a6/$e),X={};X.absoluteValue=X.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};X.comparedTo=X.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};X.decimalPlaces=X.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*$e;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};X.dividedBy=X.div=function(e){return Xi(this,new this.constructor(e))};X.dividedToIntegerBy=X.idiv=function(e){var t=this,n=t.constructor;return De(Xi(t,new n(e),0,1),n.precision)};X.equals=X.eq=function(e){return!this.cmp(e)};X.exponent=function(){return At(this)};X.greaterThan=X.gt=function(e){return this.cmp(e)>0};X.greaterThanOrEqualTo=X.gte=function(e){return this.cmp(e)>=0};X.isInteger=X.isint=function(){return this.e>this.d.length-2};X.isNegative=X.isneg=function(){return this.s<0};X.isPositive=X.ispos=function(){return this.s>0};X.isZero=function(){return this.s===0};X.lessThan=X.lt=function(e){return this.cmp(e)<0};X.lessThanOrEqualTo=X.lte=function(e){return this.cmp(e)<1};X.logarithm=X.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Qn))throw Error(Ir+"NaN");if(n.s<1)throw Error(Ir+(n.s?"NaN":"-Infinity"));return n.eq(Qn)?new r(0):(Ze=!1,t=Xi(Kf(n,a),Kf(e,a),a),Ze=!0,De(t,i))};X.minus=X.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?l6(t,e):s6(t,(e.s=-e.s,e))};X.modulo=X.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Ir+"NaN");return n.s?(Ze=!1,t=Xi(n,e,0,1).times(e),Ze=!0,n.minus(t)):De(new r(n),i)};X.naturalExponential=X.exp=function(){return o6(this)};X.naturalLogarithm=X.ln=function(){return Kf(this)};X.negated=X.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};X.plus=X.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?s6(t,e):l6(t,(e.s=-e.s,e))};X.precision=X.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(go+e);if(t=At(i)+1,r=i.d.length-1,n=r*$e+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};X.squareRoot=X.sqrt=function(){var e,t,n,r,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Ir+"NaN")}for(e=At(o),Ze=!1,i=Math.sqrt(+o),i==0||i==1/0?(t=oi(o.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=ju((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new l(t)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(a=r,r=a.plus(Xi(o,a,s+2)).times(.5),oi(a.d).slice(0,s)===(t=oi(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(De(a,n+1,0),a.times(a).eq(o)){r=a;break}}else if(t!="9999")break;s+=4}return Ze=!0,De(r,n)};X.times=X.mul=function(e){var t,n,r,i,a,s,o,l,u,c=this,f=c.constructor,m=c.d,p=(e=new f(e)).d;if(!c.s||!e.s)return new f(0);for(e.s*=c.s,n=c.e+e.e,l=m.length,u=p.length,l<u&&(a=m,m=p,p=a,s=l,l=u,u=s),a=[],s=l+u,r=s;r--;)a.push(0);for(r=u;--r>=0;){for(t=0,i=l+r;i>r;)o=a[i]+p[r]*m[i-r-1]+t,a[i--]=o%zt|0,t=o/zt|0;a[i]=(a[i]+t)%zt|0}for(;!a[--s];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,Ze?De(e,f.precision):e};X.toDecimalPlaces=X.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(wi(e,0,Ru),t===void 0?t=r.rounding:wi(t,0,8),De(n,e+At(n)+1,t))};X.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=ko(r,!0):(wi(e,0,Ru),t===void 0?t=i.rounding:wi(t,0,8),r=De(new i(r),e+1,t),n=ko(r,!0,e+1)),n};X.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?ko(i):(wi(e,0,Ru),t===void 0?t=a.rounding:wi(t,0,8),r=De(new a(i),e+At(i)+1,t),n=ko(r.abs(),!1,e+At(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};X.toInteger=X.toint=function(){var e=this,t=e.constructor;return De(new t(e),At(e)+1,t.rounding)};X.toNumber=function(){return+this};X.toPower=X.pow=function(e){var t,n,r,i,a,s,o=this,l=o.constructor,u=12,c=+(e=new l(e));if(!e.s)return new l(Qn);if(o=new l(o),!o.s){if(e.s<1)throw Error(Ir+"Infinity");return o}if(o.eq(Qn))return o;if(r=l.precision,e.eq(Qn))return De(o,r);if(t=e.e,n=e.d.length-1,s=t>=n,a=o.s,s){if((n=c<0?-c:c)<=a6){for(i=new l(Qn),t=Math.ceil(r/$e+4),Ze=!1;n%2&&(i=i.times(o),P2(i.d,t)),n=ju(n/2),n!==0;)o=o.times(o),P2(o.d,t);return Ze=!0,e.s<0?new l(Qn).div(i):De(i,r)}}else if(a<0)throw Error(Ir+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,o.s=1,Ze=!1,i=e.times(Kf(o,r+u)),Ze=!0,i=o6(i),i.s=a,i};X.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=At(i),r=ko(i,n<=a.toExpNeg||n>=a.toExpPos)):(wi(e,1,Ru),t===void 0?t=a.rounding:wi(t,0,8),i=De(new a(i),e,t),n=At(i),r=ko(i,e<=n||n<=a.toExpNeg,e)),r};X.toSignificantDigits=X.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(wi(e,1,Ru),t===void 0?t=r.rounding:wi(t,0,8)),De(new r(n),e,t)};X.toString=X.valueOf=X.val=X.toJSON=X[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=At(e),n=e.constructor;return ko(e,t<=n.toExpNeg||t>=n.toExpPos)};function s6(e,t){var n,r,i,a,s,o,l,u,c=e.constructor,f=c.precision;if(!e.s||!t.s)return t.s||(t=new c(e)),Ze?De(t,f):t;if(l=e.d,u=t.d,s=e.e,i=t.e,l=l.slice(),a=s-i,a){for(a<0?(r=l,a=-a,o=u.length):(r=u,i=s,o=l.length),s=Math.ceil(f/$e),o=s>o?s+1:o+1,a>o&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(o=l.length,a=u.length,o-a<0&&(a=o,r=u,u=l,l=r),n=0;a;)n=(l[--a]=l[a]+u[a]+n)/zt|0,l[a]%=zt;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=i,Ze?De(t,f):t}function wi(e,t,n){if(e!==~~e||e<t||e>n)throw Error(go+e)}function oi(e){var t,n,r,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)r=e[t]+"",n=$e-r.length,n&&(a+=Da(n)),a+=r;s=e[t],r=s+"",n=$e-r.length,n&&(a+=Da(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Xi=function(){function e(r,i){var a,s=0,o=r.length;for(r=r.slice();o--;)a=r[o]*i+s,r[o]=a%zt|0,s=a/zt|0;return s&&r.unshift(s),r}function t(r,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*zt+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var o,l,u,c,f,m,p,g,_,y,w,x,S,N,P,O,A,T,C=r.constructor,k=r.s==i.s?1:-1,j=r.d,R=i.d;if(!r.s)return new C(r);if(!i.s)throw Error(Ir+"Division by zero");for(l=r.e-i.e,A=R.length,P=j.length,p=new C(k),g=p.d=[],u=0;R[u]==(j[u]||0);)++u;if(R[u]>(j[u]||0)&&--l,a==null?x=a=C.precision:s?x=a+(At(r)-At(i))+1:x=a,x<0)return new C(0);if(x=x/$e+2|0,u=0,A==1)for(c=0,R=R[0],x++;(u<P||c)&&x--;u++)S=c*zt+(j[u]||0),g[u]=S/R|0,c=S%R|0;else{for(c=zt/(R[0]+1)|0,c>1&&(R=e(R,c),j=e(j,c),A=R.length,P=j.length),N=A,_=j.slice(0,A),y=_.length;y<A;)_[y++]=0;T=R.slice(),T.unshift(0),O=R[0],R[1]>=zt/2&&++O;do c=0,o=t(R,_,A,y),o<0?(w=_[0],A!=y&&(w=w*zt+(_[1]||0)),c=w/O|0,c>1?(c>=zt&&(c=zt-1),f=e(R,c),m=f.length,y=_.length,o=t(f,_,m,y),o==1&&(c--,n(f,A<m?T:R,m))):(c==0&&(o=c=1),f=R.slice()),m=f.length,m<y&&f.unshift(0),n(_,f,y),o==-1&&(y=_.length,o=t(R,_,A,y),o<1&&(c++,n(_,A<y?T:R,y))),y=_.length):o===0&&(c++,_=[0]),g[u++]=c,o&&_[0]?_[y++]=j[N]||0:(_=[j[N]],y=1);while((N++<P||_[0]!==void 0)&&x--)}return g[0]||g.shift(),p.e=l,De(p,s?a+At(p)+1:a)}}();function o6(e,t){var n,r,i,a,s,o,l=0,u=0,c=e.constructor,f=c.precision;if(At(e)>16)throw Error(SE+At(e));if(!e.s)return new c(Qn);for(Ze=!1,o=f,s=new c(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(r=Math.log(Js(2,u))/Math.LN10*2+5|0,o+=r,n=i=a=new c(Qn),c.precision=o;;){if(i=De(i.times(e),o),n=n.times(++l),s=a.plus(Xi(i,n,o)),oi(s.d).slice(0,o)===oi(a.d).slice(0,o)){for(;u--;)a=De(a.times(a),o);return c.precision=f,t==null?(Ze=!0,De(a,f)):a}a=s}}function At(e){for(var t=e.e*$e,n=e.d[0];n>=10;n/=10)t++;return t}function z0(e,t,n){if(t>e.LN10.sd())throw Ze=!0,n&&(e.precision=n),Error(Ir+"LN10 precision limit exceeded");return De(new e(e.LN10),t)}function Da(e){for(var t="";e--;)t+="0";return t}function Kf(e,t){var n,r,i,a,s,o,l,u,c,f=1,m=10,p=e,g=p.d,_=p.constructor,y=_.precision;if(p.s<1)throw Error(Ir+(p.s?"NaN":"-Infinity"));if(p.eq(Qn))return new _(0);if(t==null?(Ze=!1,u=y):u=t,p.eq(10))return t==null&&(Ze=!0),z0(_,u);if(u+=m,_.precision=u,n=oi(g),r=n.charAt(0),a=At(p),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(e),n=oi(p.d),r=n.charAt(0),f++;a=At(p),r>1?(p=new _("0."+n),a++):p=new _(r+"."+n.slice(1))}else return l=z0(_,u+2,y).times(a+""),p=Kf(new _(r+"."+n.slice(1)),u-m).plus(l),_.precision=y,t==null?(Ze=!0,De(p,y)):p;for(o=s=p=Xi(p.minus(Qn),p.plus(Qn),u),c=De(p.times(p),u),i=3;;){if(s=De(s.times(c),u),l=o.plus(Xi(s,new _(i),u)),oi(l.d).slice(0,u)===oi(o.d).slice(0,u))return o=o.times(2),a!==0&&(o=o.plus(z0(_,u+2,y).times(a+""))),o=Xi(o,new _(f),u),_.precision=y,t==null?(Ze=!0,De(o,y)):o;o=l,i+=2}}function I2(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=ju(n/$e),e.d=[],r=(n+1)%$e,n<0&&(r+=$e),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=$e;r<i;)e.d.push(+t.slice(r,r+=$e));t=t.slice(r),r=$e-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),Ze&&(e.e>lg||e.e<-lg))throw Error(SE+n)}else e.s=0,e.e=0,e.d=[0];return e}function De(e,t,n){var r,i,a,s,o,l,u,c,f=e.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(r=t-s,r<0)r+=$e,i=t,u=f[c=0];else{if(c=Math.ceil((r+1)/$e),a=f.length,c>=a)return e;for(u=a=f[c],s=1;a>=10;a/=10)s++;r%=$e,i=r-$e+s}if(n!==void 0&&(a=Js(10,s-i-1),o=u/a%10|0,l=t<0||f[c+1]!==void 0||u%a,l=n<4?(o||l)&&(n==0||n==(e.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?u/Js(10,s-i):0:f[c-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return l?(a=At(e),f.length=1,t=t-a-1,f[0]=Js(10,($e-t%$e)%$e),e.e=ju(-t/$e)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=c,a=1,c--):(f.length=c+1,a=Js(10,$e-r),f[c]=i>0?(u/Js(10,s-i)%Js(10,i)|0)*a:0),l)for(;;)if(c==0){(f[0]+=a)==zt&&(f[0]=1,++e.e);break}else{if(f[c]+=a,f[c]!=zt)break;f[c--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(Ze&&(e.e>lg||e.e<-lg))throw Error(SE+At(e));return e}function l6(e,t){var n,r,i,a,s,o,l,u,c,f,m=e.constructor,p=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),Ze?De(t,p):t;if(l=e.d,f=t.d,r=t.e,u=e.e,l=l.slice(),s=u-r,s){for(c=s<0,c?(n=l,s=-s,o=f.length):(n=f,r=u,o=l.length),i=Math.max(Math.ceil(p/$e),o)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=f.length,c=i<o,c&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}s=0}for(c&&(n=l,l=f,f=n,t.s=-t.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=zt-1;--l[a],l[i]+=zt}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=r,Ze?De(t,p):t):new m(0)}function ko(e,t,n){var r,i=At(e),a=oi(e.d),s=a.length;return t?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+Da(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Da(-i-1)+a,n&&(r=n-s)>0&&(a+=Da(r))):i>=s?(a+=Da(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+Da(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=Da(r))),e.s<0?"-"+a:a}function P2(e,t){if(e.length>t)return e.length=t,!0}function u6(e){var t,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(go+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return I2(s,a.toString())}else if(typeof a!="string")throw Error(go+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,Sie.test(a))I2(s,a);else throw Error(go+a)}if(i.prototype=X,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=u6,i.config=i.set=Aie,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function Aie(e){if(!e||typeof e!="object")throw Error(Ir+"Object expected");var t,n,r,i=["precision",1,Ru,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(ju(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(go+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(go+n+": "+r);return this}var AE=u6(Eie);Qn=new AE(1);const Oe=AE;function c6(e){var t;return e===0?t=1:t=Math.floor(new Oe(e).abs().log(10).toNumber())+1,t}function f6(e,t,n){for(var r=new Oe(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var d6=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},h6=(e,t,n)=>{if(e.lte(0))return new Oe(0);var r=c6(e.toNumber()),i=new Oe(10).pow(r),a=e.div(i),s=r!==1?.05:.1,o=new Oe(Math.ceil(a.div(s).toNumber())).add(n).mul(s),l=o.mul(i);return t?new Oe(l.toNumber()):new Oe(Math.ceil(l.toNumber()))},Tie=(e,t,n)=>{var r=new Oe(1),i=new Oe(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new Oe(10).pow(c6(e)-1),i=new Oe(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Oe(Math.floor(e)))}else e===0?i=new Oe(Math.floor((t-1)/2)):n||(i=new Oe(Math.floor(e)));for(var s=Math.floor((t-1)/2),o=[],l=0;l<t;l++)o.push(i.add(new Oe(l-s).mul(r)).toNumber());return o},m6=function(t,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Oe(0),tickMin:new Oe(0),tickMax:new Oe(0)};var s=h6(new Oe(n).sub(t).div(r-1),i,a),o;t<=0&&n>=0?o=new Oe(0):(o=new Oe(t).add(n).div(2),o=o.sub(new Oe(o).mod(s)));var l=Math.ceil(o.sub(t).div(s).toNumber()),u=Math.ceil(new Oe(n).sub(o).div(s).toNumber()),c=l+u+1;return c>r?m6(t,n,r,i,a+1):(c<r&&(u=n>0?u+(r-c):u,l=n>0?l:l+(r-c)),{step:s,tickMin:o.sub(new Oe(l).mul(s)),tickMax:o.add(new Oe(u).mul(s))})},Nie=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[o,l]=d6([n,r]);if(o===-1/0||l===1/0){var u=l===1/0?[o,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),l];return n>r?u.reverse():u}if(o===l)return Tie(o,i,a);var{step:c,tickMin:f,tickMax:m}=m6(o,l,s,a,0),p=f6(f,m.add(new Oe(.1).mul(c)),c);return n>r?p.reverse():p},Cie=function(t,n){var[r,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,o]=d6([r,i]);if(s===-1/0||o===1/0)return[r,i];if(s===o)return[s];var l=Math.max(n,2),u=h6(new Oe(o).sub(s).div(l-1),a,0),c=[...f6(new Oe(s),new Oe(o),u),o];return a===!1&&(c=c.map(f=>Math.round(f))),r>i?c.reverse():c},Oie=e=>e.rootProps.barCategoryGap,Ky=e=>e.rootProps.stackOffset,p6=e=>e.rootProps.reverseStackOrder,TE=e=>e.options.chartName,NE=e=>e.rootProps.syncId,g6=e=>e.rootProps.syncMethod,CE=e=>e.options.eventEmitter,Iie=e=>e.rootProps.baseValue,On={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Hs={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},Zr={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},Yy=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t};function Wy(e,t,n){if(n!=="auto")return n;if(e!=null)return Ni(e,t)?"category":"number"}function R2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ug(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?R2(Object(n),!0).forEach(function(r){Pie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pie(e,t,n){return(t=Rie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rie(e){var t=jie(e,"string");return typeof t=="symbol"?t:t+""}function jie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var j2={allowDataOverflow:Hs.allowDataOverflow,allowDecimals:Hs.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Hs.angleAxisId,includeHidden:!1,name:void 0,reversed:Hs.reversed,scale:Hs.scale,tick:Hs.tick,tickCount:void 0,ticks:void 0,type:Hs.type,unit:void 0},k2={allowDataOverflow:Zr.allowDataOverflow,allowDecimals:Zr.allowDecimals,allowDuplicatedCategory:Zr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Zr.radiusAxisId,includeHidden:Zr.includeHidden,name:void 0,reversed:Zr.reversed,scale:Zr.scale,tick:Zr.tick,tickCount:Zr.tickCount,ticks:void 0,type:Zr.type,unit:void 0},kie=(e,t)=>{if(t!=null)return e.polarAxis.angleAxis[t]},OE=V([kie,r3],(e,t)=>{var n;if(e!=null)return e;var r=(n=Wy(t,"angleAxis",j2.type))!==null&&n!==void 0?n:"category";return ug(ug({},j2),{},{type:r})}),Die=(e,t)=>e.polarAxis.radiusAxis[t],IE=V([Die,r3],(e,t)=>{var n;if(e!=null)return e;var r=(n=Wy(t,"radiusAxis",k2.type))!==null&&n!==void 0?n:"category";return ug(ug({},k2),{},{type:r})}),Xy=e=>e.polarOptions,PE=V([ya,va,fn],Dte),y6=V([Xy,PE],(e,t)=>{if(e!=null)return Ns(e.innerRadius,t,0)}),v6=V([Xy,PE],(e,t)=>{if(e!=null)return Ns(e.outerRadius,t,t*.8)}),Mie=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},b6=V([Xy],Mie);V([OE,b6],Yy);var x6=V([PE,y6,v6],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});V([IE,x6],Yy);var _6=V([Je,Xy,y6,v6,ya,va],(e,t,n,r,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:s,cy:o,startAngle:l,endAngle:u}=t;return{cx:Ns(s,i,i/2),cy:Ns(o,a,a/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:u,clockWise:!1}}}),Gt=(e,t)=>t,Qy=(e,t,n)=>n;function RE(e){return e==null?void 0:e.id}function w6(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,s=new Map;return e.forEach(o=>{var l,u=(l=o.data)!==null&&l!==void 0?l:r;if(!(u==null||u.length===0)){var c=RE(o);u.forEach((f,m)=>{var p=a==null||i?m:String(un(f,a,null)),g=un(f,o.dataKey,0),_;s.has(p)?_=s.get(p):_={},Object.assign(_,{[c]:g}),s.set(p,_)})}}),Array.from(s.values())}function jE(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var Zy=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Jy(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function Lie(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var Kt=e=>{var t=Je(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},ku=e=>e.tooltip.settings.axisId;function Vie(e){if(e in jc)return jc[e]();var t="scale".concat(P1(e));if(t in jc)return jc[t]()}function D2(e){var t=e.ticks,n=e.bandwidth,r=e.range(),i=[Math.min(...r),Math.max(...r)];return{domain:()=>e.domain(),range:function(a){function s(){return a.apply(this,arguments)}return s.toString=function(){return a.toString()},s}(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(a){var s=i[0],o=i[1];return s<=o?a>=s&&a<=o:a>=o&&a<=s},bandwidth:n?()=>n.call(e):void 0,ticks:t?a=>t.call(e,a):void 0,map:(a,s)=>{var o=e(a);if(o!=null){if(e.bandwidth&&s!==null&&s!==void 0&&s.position){var l=e.bandwidth();switch(s.position){case"middle":o+=l/2;break;case"end":o+=l;break}}return o}}}}function M2(e,t,n){if(typeof e=="function")return D2(e.copy().domain(t).range(n));if(e!=null){var r=Vie(e);if(r!=null)return r.domain(t).range(n),D2(r)}}var Uie=(e,t)=>{if(t!=null)switch(e){case"linear":{if(!ha(t)){for(var n,r,i=0;i<t.length;i++){var a=t[i];be(a)&&((n===void 0||a<n)&&(n=a),(r===void 0||a>r)&&(r=a))}return n!==void 0&&r!==void 0?[n,r]:void 0}return t}default:return t}};function L2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?L2(Object(n),!0).forEach(function(r){zie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zie(e,t,n){return(t=Bie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bie(e){var t=$ie(e,"string");return typeof t=="symbol"?t:t+""}function $ie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var e_=[0,"auto"],Lt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},E6=(e,t)=>e.cartesianAxis.xAxis[t],_a=(e,t)=>{var n=E6(e,t);return n??Lt},Vt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:e_,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Pd},S6=(e,t)=>e.cartesianAxis.yAxis[t],wa=(e,t)=>{var n=S6(e,t);return n??Vt},Fie={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},kE=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??Fie},Rn=(e,t,n)=>{switch(t){case"xAxis":return _a(e,n);case"yAxis":return wa(e,n);case"zAxis":return kE(e,n);case"angleAxis":return OE(e,n);case"radiusAxis":return IE(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},qie=(e,t,n)=>{switch(t){case"xAxis":return _a(e,n);case"yAxis":return wa(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Ud=(e,t,n)=>{switch(t){case"xAxis":return _a(e,n);case"yAxis":return wa(e,n);case"angleAxis":return OE(e,n);case"radiusAxis":return IE(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},A6=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function T6(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var N6=e=>e.graphicalItems.cartesianItems,Hie=V([Gt,Qy],T6),C6=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),zd=V([N6,Rn,Hie],C6,{memoizeOptions:{resultEqualityCheck:Jy}}),O6=V([zd],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(jE)),I6=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),Gie=V([zd],I6),P6=e=>e.map(t=>t.data).filter(Boolean).flat(1),Kie=V([zd],P6,{memoizeOptions:{resultEqualityCheck:Jy}}),R6=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},DE=V([Kie,r6],R6),j6=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:un(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:un(i,r)}))):e.map(r=>({value:r})),ev=V([DE,Rn,zd],j6);function k6(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Pm(e){if(xi(e)||e instanceof Date){var t=Number(e);if(be(t))return t}}function V2(e){if(Array.isArray(e)){var t=[Pm(e[0]),Pm(e[1])];return ha(t)?t:void 0}var n=Pm(e);if(n!=null)return[n,n]}function ma(e){return e.map(Pm).filter(Un)}function Yie(e,t,n){return!n||typeof t!="number"||bi(t)?[]:n.length?ma(n.flatMap(r=>{var i=un(e,r.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!be(a)||!be(s)))return[t-a,t+s]})):[]}var Rt=e=>{var t=Kt(e),n=ku(e);return Ud(e,t,n)},Bd=V([Rt],e=>e==null?void 0:e.dataKey),Wie=V([O6,r6,Rt],w6),D6=(e,t,n,r)=>{var i={},a=t.reduce((s,o)=>{if(o.stackId==null)return s;var l=s[o.stackId];return l==null&&(l=[]),l.push(o),s[o.stackId]=l,s},i);return Object.fromEntries(Object.entries(a).map(s=>{var[o,l]=s,u=r?[...l].reverse():l,c=u.map(RE);return[o,{stackedData:CJ(e,c,n),graphicalItems:u}]}))},M6=V([Wie,O6,Ky,p6],D6),L6=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(r==null&&n!=="zAxis"){var s=RJ(e,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},Xie=V([Rn],e=>e.allowDataOverflow),ME=e=>{var t;if(e==null||!("domain"in e))return e_;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=ma(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:e_},V6=V([Rn],ME),U6=V([V6,Xie],i6),Qie=V([M6,xa,Gt,U6],L6,{memoizeOptions:{resultEqualityCheck:Zy}}),LE=e=>e.errorBars,Zie=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>k6(n,r)),fg=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),o=Math.max(...a);return[s,o]}},z6=(e,t,n,r,i)=>{var a,s;if(n.length>0&&e.forEach(o=>{n.forEach(l=>{var u,c,f=(u=r[l.id])===null||u===void 0?void 0:u.filter(w=>k6(i,w)),m=un(o,(c=t.dataKey)!==null&&c!==void 0?c:l.dataKey),p=Yie(o,m,f);if(p.length>=2){var g=Math.min(...p),_=Math.max(...p);(a==null||g<a)&&(a=g),(s==null||_>s)&&(s=_)}var y=V2(m);y!=null&&(a=a==null?y[0]:Math.min(a,y[0]),s=s==null?y[1]:Math.max(s,y[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(o=>{var l=V2(un(o,t.dataKey));l!=null&&(a=a==null?l[0]:Math.min(a,l[0]),s=s==null?l[1]:Math.max(s,l[1]))}),be(a)&&be(s))return[a,s]},Jie=V([DE,Rn,Gie,LE,Gt],z6,{memoizeOptions:{resultEqualityCheck:Zy}});function eae(e){var{value:t}=e;if(xi(t)||t instanceof Date)return t}var tae=(e,t,n)=>{var r=e.map(eae).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&D4(r))?w3(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},B6=e=>e.referenceElements.dots,Du=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),nae=V([B6,Gt,Qy],Du),$6=e=>e.referenceElements.areas,rae=V([$6,Gt,Qy],Du),F6=e=>e.referenceElements.lines,iae=V([F6,Gt,Qy],Du),q6=(e,t)=>{if(e!=null){var n=ma(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},aae=V(nae,Gt,q6),H6=(e,t)=>{if(e!=null){var n=ma(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},sae=V([rae,Gt],H6);function oae(e){var t;if(e.x!=null)return ma([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:ma(n)}function lae(e){var t;if(e.y!=null)return ma([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:ma(n)}var G6=(e,t)=>{if(e!=null){var n=e.flatMap(r=>t==="xAxis"?oae(r):lae(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},uae=V([iae,Gt],G6),cae=V(aae,uae,sae,(e,t,n)=>fg(e,n,t)),K6=(e,t,n,r,i,a,s,o)=>{if(n!=null)return n;var l=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",u=l?fg(r,a,i):fg(a,i);return wie(t,u,e.allowDataOverflow)},fae=V([Rn,V6,U6,Qie,Jie,cae,Je,Gt],K6,{memoizeOptions:{resultEqualityCheck:Zy}}),dae=[0,1],Y6=(e,t,n,r,i,a,s)=>{if(!((e==null||n==null||n.length===0)&&s===void 0)){var{dataKey:o,type:l}=e,u=Ni(t,a);if(u&&o==null){var c;return w3(0,(c=n==null?void 0:n.length)!==null&&c!==void 0?c:0)}return l==="category"?tae(r,e,u):i==="expand"?dae:s}},VE=V([Rn,Je,DE,ev,Ky,Gt,fae],Y6);function hae(e){return e in jc}var W6=(e,t,n)=>{if(e!=null){var{scale:r,type:i}=e;if(r==="auto")return i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!t)?"point":i==="category"?"band":"linear";if(typeof r=="string"){var a="scale".concat(P1(r));return hae(a)?a:"point"}}},Mu=V([Rn,A6,TE],W6);function UE(e,t,n,r){if(!(n==null||r==null))return typeof e.scale=="function"?M2(e.scale,n,r):M2(t,n,r)}var X6=(e,t,n)=>{var r=ME(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&ha(e))return Nie(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&ha(e))return Cie(e,t.tickCount,t.allowDecimals)}},zE=V([VE,Ud,Mu],X6),Q6=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&ha(t)&&Array.isArray(n)&&n.length>0){var i,a,s=t[0],o=(i=n[0])!==null&&i!==void 0?i:0,l=t[1],u=(a=n[n.length-1])!==null&&a!==void 0?a:0;return[Math.min(s,o),Math.max(l,u)]}return t},mae=V([Rn,VE,zE,Gt],Q6),pae=V(ev,Rn,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(ma(e.map(f=>f.value))).sort((f,m)=>f-m),i=r[0],a=r[r.length-1];if(i==null||a==null)return 1/0;var s=a-i;if(s===0)return 1/0;for(var o=0;o<r.length-1;o++){var l=r[o],u=r[o+1];if(!(l==null||u==null)){var c=u-l;n=Math.min(n,c)}}return n/s}}),Z6=V(pae,Je,Oie,fn,(e,t,n,r,i)=>i,(e,t,n,r,i)=>{if(!be(e))return 0;var a=t==="vertical"?r.height:r.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var s=Ns(n,e*a),o=e*a/2;return o-s-(o-s)/a*s}return 0}),gae=(e,t,n)=>{var r=_a(e,t);return r==null||typeof r.padding!="string"?0:Z6(e,"xAxis",t,n,r.padding)},yae=(e,t,n)=>{var r=wa(e,t);return r==null||typeof r.padding!="string"?0:Z6(e,"yAxis",t,n,r.padding)},vae=V(_a,gae,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),bae=V(wa,yae,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),xae=V([fn,vae,My,Dy,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),_ae=V([fn,Je,bae,My,Dy,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:s}=i;return a?[r.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),$d=(e,t,n,r)=>{var i;switch(t){case"xAxis":return xae(e,n,r);case"yAxis":return _ae(e,n,r);case"zAxis":return(i=kE(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return b6(e);case"radiusAxis":return x6(e,n);default:return}},J6=V([Rn,$d],Yy),wae=V([Mu,mae],Uie),tv=V([Rn,Mu,wae,J6],UE);V([zd,LE,Gt],Zie);function eV(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var nv=(e,t)=>t,rv=(e,t,n)=>n,Eae=V(jy,nv,rv,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(eV)),Sae=V(ky,nv,rv,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(eV)),tV=(e,t)=>({width:e.width,height:t.height}),Aae=(e,t)=>{var n=typeof t.width=="number"?t.width:Pd;return{width:n,height:e.height}},Tae=V(fn,_a,tV),Nae=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},Cae=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},Oae=V(va,fn,Eae,nv,rv,(e,t,n,r,i)=>{var a={},s;return n.forEach(o=>{var l=tV(t,o);s==null&&(s=Nae(t,r,e));var u=r==="top"&&!i||r==="bottom"&&i;a[o.id]=s-Number(u)*l.height,s+=(u?-1:1)*l.height}),a}),Iae=V(ya,fn,Sae,nv,rv,(e,t,n,r,i)=>{var a={},s;return n.forEach(o=>{var l=Aae(t,o);s==null&&(s=Cae(t,r,e));var u=r==="left"&&!i||r==="right"&&i;a[o.id]=s-Number(u)*l.width,s+=(u?-1:1)*l.width}),a}),Pae=(e,t)=>{var n=_a(e,t);if(n!=null)return Oae(e,n.orientation,n.mirror)},Rae=V([fn,_a,Pae,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),jae=(e,t)=>{var n=wa(e,t);if(n!=null)return Iae(e,n.orientation,n.mirror)},kae=V([fn,wa,jae,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),Dae=V(fn,wa,(e,t)=>{var n=typeof t.width=="number"?t.width:Pd;return{width:n,height:e.height}}),nV=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=n,o=Ni(e,r),l=t.map(u=>u.value);if(s&&o&&a==="category"&&i&&D4(l))return l}},BE=V([Je,ev,Rn,Gt],nV),rV=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,s=Ni(e,r);if(s&&(i==="number"||a!=="auto"))return t.map(o=>o.value)}},$E=V([Je,ev,Ud,Gt],rV),U2=V([Je,qie,Mu,tv,BE,$E,$d,zE,Gt],(e,t,n,r,i,a,s,o,l)=>{if(t!=null){var u=Ni(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:u,niceTicks:o,range:s,realScaleType:n,scale:r}}}),Mae=(e,t,n,r,i,a,s,o,l)=>{if(!(t==null||r==null)){var u=Ni(e,l),{type:c,ticks:f,tickCount:m}=t,p=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,g=c==="category"&&r.bandwidth?r.bandwidth()/p:0;g=l==="angleAxis"&&a!=null&&a.length>=2?wr(a[0]-a[1])*2*g:g;var _=f||i;return _?_.map((y,w)=>{var x=s?s.indexOf(y):y,S=r.map(x);return be(S)?{index:w,coordinate:S+g,value:y,offset:g}:null}).filter(Un):u&&o?o.map((y,w)=>{var x=r.map(y);return be(x)?{coordinate:x+g,value:y,index:w,offset:g}:null}).filter(Un):r.ticks?r.ticks(m).map((y,w)=>{var x=r.map(y);return be(x)?{coordinate:x+g,value:y,index:w,offset:g}:null}).filter(Un):r.domain().map((y,w)=>{var x=r.map(y);return be(x)?{coordinate:x+g,value:s?s[y]:y,index:w,offset:g}:null}).filter(Un)}},iV=V([Je,Ud,Mu,tv,zE,$d,BE,$E,Gt],Mae),Lae=(e,t,n,r,i,a,s)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var o=Ni(e,s),{tickCount:l}=t,u=0;return u=s==="angleAxis"&&(r==null?void 0:r.length)>=2?wr(r[0]-r[1])*2*u:u,o&&a?a.map((c,f)=>{var m=n.map(c);return be(m)?{coordinate:m+u,value:c,index:f,offset:u}:null}).filter(Un):n.ticks?n.ticks(l).map((c,f)=>{var m=n.map(c);return be(m)?{coordinate:m+u,value:c,index:f,offset:u}:null}).filter(Un):n.domain().map((c,f)=>{var m=n.map(c);return be(m)?{coordinate:m+u,value:i?i[c]:c,index:f,offset:u}:null}).filter(Un)}},aV=V([Je,Ud,tv,$d,BE,$E,Gt],Lae),sV=V(Rn,tv,(e,t)=>{if(!(e==null||t==null))return cg(cg({},e),{},{scale:t})}),Vae=V([Rn,Mu,VE,J6],UE);V((e,t,n)=>kE(e,n),Vae,(e,t)=>{if(!(e==null||t==null))return cg(cg({},e),{},{scale:t})});var Uae=V([Je,jy,ky],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),oV=e=>e.options.defaultTooltipEventType,lV=e=>e.options.validateTooltipEventTypes;function uV(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function FE(e,t){var n=oV(e),r=lV(e);return uV(t,n,r)}function zae(e){return ee(t=>FE(t,e))}var cV=(e,t)=>{var n,r=Number(t);if(!(bi(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},Bae=e=>e.tooltip.settings,Ga={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},$ae={itemInteraction:{click:Ga,hover:Ga},axisInteraction:{click:Ga,hover:Ga},keyboardInteraction:Ga,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},fV=Hn({name:"tooltip",initialState:$ae,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Qe()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Br(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:Qe()},removeTooltipEntrySettings:{reducer(e,t){var n=Br(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:Qe()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:Fae,replaceTooltipEntrySettings:qae,removeTooltipEntrySettings:Hae,setTooltipSettingsState:Gae,setActiveMouseOverItemIndex:Kae,mouseLeaveItem:She,mouseLeaveChart:dV,setActiveClickItemIndex:Ahe,setMouseOverAxisIndex:hV,setMouseClickAxisIndex:Yae,setSyncInteraction:t_,setKeyboardInteraction:n_}=fV.actions,Wae=fV.reducer;function z2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Qh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?z2(Object(n),!0).forEach(function(r){Xae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xae(e,t,n){return(t=Qae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qae(e){var t=Zae(e,"string");return typeof t=="symbol"?t:t+""}function Zae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jae(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function ese(e){return e.index!=null}var mV=(e,t,n,r)=>{if(t==null)return Ga;var i=Jae(e,t,n);if(i==null)return Ga;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(ese(i)){if(a)return Qh(Qh({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Qh(Qh({},Ga),{},{coordinate:i.coordinate})};function tse(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function nse(e,t){var n=tse(e),r=t[0],i=t[1];if(n===void 0)return!1;var a=Math.min(r,i),s=Math.max(r,i);return n>=a&&n<=s}function rse(e,t,n){if(n==null||t==null)return!0;var r=un(e,t);return r==null||!ha(n)?!0:nse(r,n)}var qE=(e,t,n,r)=>{var i=e==null?void 0:e.index;if(i==null)return null;var a=Number(i);if(!be(a))return i;var s=0,o=1/0;t.length>0&&(o=t.length-1);var l=Math.max(s,Math.min(a,o)),u=t[l];return u==null||rse(u,n,r)?String(l):null},pV=(e,t,n,r,i,a,s)=>{if(a!=null){var o=s[0],l=o==null?void 0:o.getPosition(a);if(l!=null)return l;var u=i==null?void 0:i[Number(a)];if(u)switch(n){case"horizontal":return{x:u.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:u.coordinate}}}},gV=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&r!=null){var a=e.tooltipItemPayloads[0];return a!=null?[a]:[]}return e.tooltipItemPayloads.filter(s=>{var o;return((o=s.settings)===null||o===void 0?void 0:o.graphicalItemId)===i})},yV=e=>e.options.tooltipPayloadSearcher,Lu=e=>e.tooltip;function B2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?B2(Object(n),!0).forEach(function(r){ise(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ise(e,t,n){return(t=ase(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ase(e){var t=sse(e,"string");return typeof t=="symbol"?t:t+""}function sse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ose(e,t){return e??t}var vV=(e,t,n,r,i,a,s)=>{if(!(t==null||a==null)){var{chartData:o,computedData:l,dataStartIndex:u,dataEndIndex:c}=n,f=[];return e.reduce((m,p)=>{var g,{dataDefinedOnItem:_,settings:y}=p,w=ose(_,o),x=Array.isArray(w)?$L(w,u,c):w,S=(g=y==null?void 0:y.dataKey)!==null&&g!==void 0?g:r,N=y==null?void 0:y.nameKey,P;if(r&&Array.isArray(x)&&!Array.isArray(x[0])&&s==="axis"?P=M4(x,r,i):P=a(x,t,l,N),Array.isArray(P))P.forEach(A=>{var T=$2($2({},y),{},{name:A.name,unit:A.unit,color:void 0,fill:void 0});m.push(QC({tooltipEntrySettings:T,dataKey:A.dataKey,payload:A.payload,value:un(A.payload,A.dataKey),name:A.name}))});else{var O;m.push(QC({tooltipEntrySettings:y,dataKey:S,payload:P,value:un(P,S),name:(O=un(P,N))!==null&&O!==void 0?O:y==null?void 0:y.name}))}return m},f)}},HE=V([Rt,A6,TE],W6),lse=V([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),use=V([Kt,ku],T6),Vu=V([lse,Rt,use],C6,{memoizeOptions:{resultEqualityCheck:Jy}}),cse=V([Vu],e=>e.filter(jE)),fse=V([Vu],P6,{memoizeOptions:{resultEqualityCheck:Jy}}),Uu=V([fse,xa],R6),dse=V([cse,xa,Rt],w6),GE=V([Uu,Rt,Vu],j6),bV=V([Rt],ME),hse=V([Rt],e=>e.allowDataOverflow),xV=V([bV,hse],i6),mse=V([Vu],e=>e.filter(jE)),pse=V([dse,mse,Ky,p6],D6),gse=V([pse,xa,Kt,xV],L6),yse=V([Vu],I6),vse=V([Uu,Rt,yse,LE,Kt],z6,{memoizeOptions:{resultEqualityCheck:Zy}}),bse=V([B6,Kt,ku],Du),xse=V([bse,Kt],q6),_se=V([$6,Kt,ku],Du),wse=V([_se,Kt],H6),Ese=V([F6,Kt,ku],Du),Sse=V([Ese,Kt],G6),Ase=V([xse,Sse,wse],fg),Tse=V([Rt,bV,xV,gse,vse,Ase,Je,Kt],K6),Fd=V([Rt,Je,Uu,GE,Ky,Kt,Tse],Y6),Nse=V([Fd,Rt,HE],X6),Cse=V([Rt,Fd,Nse,Kt],Q6),_V=e=>{var t=Kt(e),n=ku(e),r=!1;return $d(e,t,n,r)},wV=V([Rt,_V],Yy),EV=V([Rt,HE,Cse,wV],UE),Ose=V([Je,GE,Rt,Kt],nV),Ise=V([Je,GE,Rt,Kt],rV),Pse=(e,t,n,r,i,a,s,o)=>{if(t){var{type:l}=t,u=Ni(e,o);if(r){var c=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,f=l==="category"&&r.bandwidth?r.bandwidth()/c:0;return f=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?wr(i[0]-i[1])*2*f:f,u&&s?s.map((m,p)=>{var g=r.map(m);return be(g)?{coordinate:g+f,value:m,index:p,offset:f}:null}).filter(Un):r.domain().map((m,p)=>{var g=r.map(m);return be(g)?{coordinate:g+f,value:a?a[m]:m,index:p,offset:f}:null}).filter(Un)}}},Ea=V([Je,Rt,HE,EV,_V,Ose,Ise,Kt],Pse),KE=V([oV,lV,Bae],(e,t,n)=>uV(n.shared,e,t)),SV=e=>e.tooltip.settings.trigger,YE=e=>e.tooltip.settings.defaultIndex,qd=V([Lu,KE,SV,YE],mV),Yf=V([qd,Uu,Bd,Fd],qE),AV=V([Ea,Yf],cV),Rse=V([qd],e=>{if(e)return e.dataKey});V([qd],e=>{if(e)return e.graphicalItemId});var TV=V([Lu,KE,SV,YE],gV),jse=V([ya,va,Je,fn,Ea,YE,TV],pV),kse=V([qd,jse],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Dse=V([qd],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),Mse=V([TV,Yf,xa,Bd,AV,yV,KE],vV),Lse=V([Mse],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function F2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function q2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?F2(Object(n),!0).forEach(function(r){Vse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vse(e,t,n){return(t=Use(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Use(e){var t=zse(e,"string");return typeof t=="symbol"?t:t+""}function zse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bse=()=>ee(Rt),$se=()=>{var e=Bse(),t=ee(Ea),n=ee(EV);return $p(!e||!n?void 0:q2(q2({},e),{},{scale:n}),t)};function H2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?H2(Object(n),!0).forEach(function(r){Fse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fse(e,t,n){return(t=qse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qse(e){var t=Hse(e,"string");return typeof t=="symbol"?t:t+""}function Hse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gse=(e,t,n,r)=>{var i=t.find(a=>a&&a.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},Kse=(e,t,n,r)=>{var i=t.find(u=>u&&u.index===n);if(i){if(e==="centric"){var a=i.coordinate,{radius:s}=r;return tl(tl(tl({},r),on(r.cx,r.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:l}=r;return tl(tl(tl({},r),on(r.cx,r.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Yse(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var NV=(e,t,n,r,i)=>{var a,s=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(s<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var o=0;o<s;o++){var l,u,c,f,m,p=o>0?(l=n[o-1])===null||l===void 0?void 0:l.coordinate:(u=n[s-1])===null||u===void 0?void 0:u.coordinate,g=(c=n[o])===null||c===void 0?void 0:c.coordinate,_=o>=s-1?(f=n[0])===null||f===void 0?void 0:f.coordinate:(m=n[o+1])===null||m===void 0?void 0:m.coordinate,y=void 0;if(!(p==null||g==null||_==null))if(wr(g-p)!==wr(_-g)){var w=[];if(wr(_-g)===wr(i[1]-i[0])){y=_;var x=g+i[1]-i[0];w[0]=Math.min(x,(x+p)/2),w[1]=Math.max(x,(x+p)/2)}else{y=p;var S=_+i[1]-i[0];w[0]=Math.min(g,(S+g)/2),w[1]=Math.max(g,(S+g)/2)}var N=[Math.min(g,(y+g)/2),Math.max(g,(y+g)/2)];if(e>N[0]&&e<=N[1]||e>=w[0]&&e<=w[1]){var P;return(P=n[o])===null||P===void 0?void 0:P.index}}else{var O=Math.min(p,_),A=Math.max(p,_);if(e>(O+g)/2&&e<=(A+g)/2){var T;return(T=n[o])===null||T===void 0?void 0:T.index}}}else if(t)for(var C=0;C<s;C++){var k=t[C];if(k!=null){var j=t[C+1],R=t[C-1];if(C===0&&j!=null&&e<=(k.coordinate+j.coordinate)/2||C===s-1&&R!=null&&e>(k.coordinate+R.coordinate)/2||C>0&&C<s-1&&R!=null&&j!=null&&e>(k.coordinate+R.coordinate)/2&&e<=(k.coordinate+j.coordinate)/2)return k.index}}return-1},CV=()=>ee(TE),WE=(e,t)=>t,OV=(e,t,n)=>n,XE=(e,t,n,r)=>r,Wse=V(Ea,e=>Ey(e,t=>t.coordinate)),QE=V([Lu,WE,OV,XE],mV),ZE=V([QE,Uu,Bd,Fd],qE),Xse=(e,t,n)=>{if(t!=null){var r=Lu(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},IV=V([Lu,WE,OV,XE],gV),dg=V([ya,va,Je,fn,Ea,XE,IV],pV),Qse=V([QE,dg],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),PV=V([Ea,ZE],cV),Zse=V([IV,ZE,xa,Bd,PV,yV,WE],vV),Jse=V([QE,ZE],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),eoe=(e,t,n,r,i,a,s)=>{if(!(!e||!n||!r||!i)&&Yse(e,s)){var o=jJ(e,t),l=NV(o,a,i,n,r),u=Gse(t,i,l,e);return{activeIndex:String(l),activeCoordinate:u}}},toe=(e,t,n,r,i,a,s)=>{if(!(!e||!r||!i||!a||!n)){var o=zte(e,n);if(o){var l=kJ(o,t),u=NV(l,s,a,r,i),c=Kse(t,a,u,o);return{activeIndex:String(u),activeCoordinate:c}}}},noe=(e,t,n,r,i,a,s,o)=>{if(!(!e||!t||!r||!i||!a))return t==="horizontal"||t==="vertical"?eoe(e,t,r,i,a,s,o):toe(e,t,n,r,i,a,s)},roe=V(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElement:r.element}}),ioe=V(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(On)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:Lie}});function G2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function K2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?G2(Object(n),!0).forEach(function(r){aoe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aoe(e,t,n){return(t=soe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function soe(e){var t=ooe(e,"string");return typeof t=="symbol"?t:t+""}function ooe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var loe={},uoe={zIndexMap:Object.values(On).reduce((e,t)=>K2(K2({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),loe)},coe=new Set(Object.values(On));function foe(e){return coe.has(e)}var RV=Hn({name:"zIndex",initialState:uoe,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Qe()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!foe(n)&&delete e.zIndexMap[n])},prepare:Qe()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:Qe()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:Qe()}}}),{registerZIndexPortal:doe,unregisterZIndexPortal:hoe,registerZIndexPortalElement:moe,unregisterZIndexPortalElement:poe}=RV.actions,goe=RV.reducer;function Sa(e){var{zIndex:t,children:n}=e,r=uee(),i=r&&t!==void 0&&t!==0,a=Gn(),s=qt();b.useLayoutEffect(()=>i?(s(doe({zIndex:t})),()=>{s(hoe({zIndex:t}))}):Ou,[s,t,i]);var o=ee(l=>roe(l,t,a));return i?o?v_.createPortal(n,o):null:n}function r_(){return r_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r_.apply(null,arguments)}function Y2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Y2(Object(n),!0).forEach(function(r){yoe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yoe(e,t,n){return(t=voe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function voe(e){var t=boe(e,"string");return typeof t=="symbol"?t:t+""}function boe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xoe(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return b.isValidElement(t)?b.cloneElement(t,r):b.createElement(n,r)}function _oe(e){var t,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:s,layout:o,cursor:l,tooltipEventType:u,chartName:c}=e,f=n,m=r,p=i;if(!l||!f||c!=="ScatterChart"&&u!=="axis")return null;var g,_,y;if(c==="ScatterChart")g=f,_=Qee,y=On.cursorLine;else if(c==="BarChart")g=Zee(o,f,a,s),_=Ite,y=On.cursorRectangle;else if(o==="radial"&&L4(f)){var{cx:w,cy:x,radius:S,startAngle:N,endAngle:P}=y3(f);g={cx:w,cy:x,startAngle:N,endAngle:P,innerRadius:S,outerRadius:S},_=qte,y=On.cursorLine}else g={points:Hte(o,f,a)},_=Im,y=On.cursorLine;var O=typeof l=="object"&&"className"in l?l.className:void 0,A=Zh(Zh(Zh(Zh({stroke:"#ccc",pointerEvents:"none"},a),g),hy(l)),{},{payload:m,payloadIndex:p,className:Ye("recharts-tooltip-cursor",O)});return b.createElement(Sa,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:y},b.createElement(xoe,{cursor:l,cursorComp:_,cursorProps:A}))}function woe(e){var t=$se(),n=e3(),r=Iu(),i=CV();return t==null||n==null||r==null||i==null?null:b.createElement(_oe,r_({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var jV=b.createContext(null),Eoe=()=>b.useContext(jV),kV={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,f,m){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new i(c,f||l,m),g=n?n+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],p]:l._events[g].push(p):(l._events[g]=p,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)t.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},o.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,p=f.length,g=new Array(p);m<p;m++)g[m]=f[m].fn;return g},o.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,c,f,m,p,g){var _=n?n+u:u;if(!this._events[_])return!1;var y=this._events[_],w=arguments.length,x,S;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),w){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,c),!0;case 3:return y.fn.call(y.context,c,f),!0;case 4:return y.fn.call(y.context,c,f,m),!0;case 5:return y.fn.call(y.context,c,f,m,p),!0;case 6:return y.fn.call(y.context,c,f,m,p,g),!0}for(S=1,x=new Array(w-1);S<w;S++)x[S-1]=arguments[S];y.fn.apply(y.context,x)}else{var N=y.length,P;for(S=0;S<N;S++)switch(y[S].once&&this.removeListener(u,y[S].fn,void 0,!0),w){case 1:y[S].fn.call(y[S].context);break;case 2:y[S].fn.call(y[S].context,c);break;case 3:y[S].fn.call(y[S].context,c,f);break;case 4:y[S].fn.call(y[S].context,c,f,m);break;default:if(!x)for(P=1,x=new Array(w-1);P<w;P++)x[P-1]=arguments[P];y[S].fn.apply(y[S].context,x)}}return!0},o.prototype.on=function(u,c,f){return a(this,u,c,f,!1)},o.prototype.once=function(u,c,f){return a(this,u,c,f,!0)},o.prototype.removeListener=function(u,c,f,m){var p=n?n+u:u;if(!this._events[p])return this;if(!c)return s(this,p),this;var g=this._events[p];if(g.fn)g.fn===c&&(!m||g.once)&&(!f||g.context===f)&&s(this,p);else{for(var _=0,y=[],w=g.length;_<w;_++)(g[_].fn!==c||m&&!g[_].once||f&&g[_].context!==f)&&y.push(g[_]);y.length?this._events[p]=y.length===1?y[0]:y:s(this,p)}return this},o.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&s(this,c)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o})(kV);var Soe=kV.exports;const Aoe=Cs(Soe);var Wf=new Aoe,i_="recharts.syncEvent.tooltip",W2="recharts.syncEvent.brush",Toe=(e,t)=>{if(t&&Array.isArray(e)){var n=Number.parseInt(t,10);if(!bi(n))return e[n]}},Noe={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},DV=Hn({name:"options",initialState:Noe,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Coe=DV.reducer,{createEventEmitter:Ooe}=DV.actions;function Ioe(e){return e.tooltip.syncInteraction}var Poe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},MV=Hn({name:"chartData",initialState:Poe,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:X2,setDataStartEndIndexes:Roe,setComputedData:The}=MV.actions,joe=MV.reducer,koe=["x","y"];function Q2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Q2(Object(n),!0).forEach(function(r){Doe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Doe(e,t,n){return(t=Moe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Moe(e){var t=Loe(e,"string");return typeof t=="symbol"?t:t+""}function Loe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Voe(e,t){if(e==null)return{};var n,r,i=Uoe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Uoe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function zoe(){var e=ee(NE),t=ee(CE),n=qt(),r=ee(g6),i=ee(Ea),a=Iu(),s=Ly(),o=ee(l=>l.rootProps.className);b.useEffect(()=>{if(e==null)return Ou;var l=(u,c,f)=>{if(t!==f&&e===u){if(r==="index"){var m;if(s&&c!==null&&c!==void 0&&(m=c.payload)!==null&&m!==void 0&&m.coordinate&&c.payload.sourceViewBox){var p=c.payload.coordinate,{x:g,y:_}=p,y=Voe(p,koe),{x:w,y:x,width:S,height:N}=c.payload.sourceViewBox,P=nl(nl({},y),{},{x:s.x+(S?(g-w)/S:0)*s.width,y:s.y+(N?(_-x)/N:0)*s.height});n(nl(nl({},c),{},{payload:nl(nl({},c.payload),{},{coordinate:P})}))}else n(c);return}if(i!=null){var O;if(typeof r=="function"){var A={activeTooltipIndex:c.payload.index==null?void 0:Number(c.payload.index),isTooltipActive:c.payload.active,activeIndex:c.payload.index==null?void 0:Number(c.payload.index),activeLabel:c.payload.label,activeDataKey:c.payload.dataKey,activeCoordinate:c.payload.coordinate},T=r(i,A);O=i[T]}else r==="value"&&(O=i.find(q=>String(q.value)===c.payload.label));var{coordinate:C}=c.payload;if(O==null||c.payload.active===!1||C==null||s==null){n(t_({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:k,y:j}=C,R=Math.min(k,s.x+s.width),D=Math.min(j,s.y+s.height),Z={x:a==="horizontal"?O.coordinate:R,y:a==="horizontal"?D:O.coordinate},oe=t_({active:c.payload.active,coordinate:Z,dataKey:c.payload.dataKey,index:String(O.index),label:c.payload.label,sourceViewBox:c.payload.sourceViewBox,graphicalItemId:c.payload.graphicalItemId});n(oe)}}};return Wf.on(i_,l),()=>{Wf.off(i_,l)}},[o,n,t,e,r,i,a,s])}function Boe(){var e=ee(NE),t=ee(CE),n=qt();b.useEffect(()=>{if(e==null)return Ou;var r=(i,a,s)=>{t!==s&&e===i&&n(Roe(a))};return Wf.on(W2,r),()=>{Wf.off(W2,r)}},[n,t,e])}function $oe(){var e=qt();b.useEffect(()=>{e(Ooe())},[e]),zoe(),Boe()}function Foe(e,t,n,r,i,a){var s=ee(p=>Xse(p,e,t)),o=ee(CE),l=ee(NE),u=ee(g6),c=ee(Ioe),f=c==null?void 0:c.active,m=Ly();b.useEffect(()=>{if(!f&&l!=null&&o!=null){var p=t_({active:a,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:m,graphicalItemId:void 0});Wf.emit(i_,l,p,o)}},[f,n,s,i,r,o,l,u,a,m])}function Z2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function J2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Z2(Object(n),!0).forEach(function(r){qoe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qoe(e,t,n){return(t=Hoe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hoe(e){var t=Goe(e,"string");return typeof t=="symbol"?t:t+""}function Goe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Koe(e){return e.dataKey}function Yoe(e,t){return b.isValidElement(e)?b.cloneElement(e,t):typeof e=="function"?b.createElement(e,t):b.createElement(Iee,t)}var eI=[],Woe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Xoe(e){var t,n,r=fr(e,Woe),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:o,content:l,filterNull:u,isAnimationActive:c,offset:f,payloadUniqBy:m,position:p,reverseDirection:g,useTranslate3d:_,wrapperStyle:y,cursor:w,shared:x,trigger:S,defaultIndex:N,portal:P,axisId:O}=r,A=qt(),T=typeof N=="number"?String(N):N;b.useEffect(()=>{A(Gae({shared:x,trigger:S,axisId:O,active:i,defaultIndex:T}))},[A,x,S,O,i,T]);var C=Ly(),k=f3(),j=zae(x),{activeIndex:R,isActive:D}=(t=ee(kt=>Jse(kt,j,S,T)))!==null&&t!==void 0?t:{},Z=ee(kt=>Zse(kt,j,S,T)),oe=ee(kt=>PV(kt,j,S,T)),q=ee(kt=>Qse(kt,j,S,T)),K=Z,W=Eoe(),te=(n=i??D)!==null&&n!==void 0?n:!1,[le,We]=xZ([K,te]),ft=j==="axis"?oe:void 0;Foe(j,S,q,ft,R,te);var jt=P??W;if(jt==null||C==null||j==null)return null;var je=K??eI;te||(je=eI),u&&je.length&&(je=VQ(je.filter(kt=>kt.value!=null&&(kt.hide!==!0||r.includeHidden)),m,Koe));var dn=je.length>0,Ci=b.createElement(Lee,{allowEscapeViewBox:a,animationDuration:s,animationEasing:o,isAnimationActive:c,active:te,coordinate:q,hasPayload:dn,offset:f,position:p,reverseDirection:g,useTranslate3d:_,viewBox:C,wrapperStyle:y,lastBoundingBox:le,innerRef:We,hasPortalFromProps:!!P},Yoe(l,J2(J2({},r),{},{payload:je,label:ft,active:te,activeIndex:R,coordinate:q,accessibilityLayer:k})));return b.createElement(b.Fragment,null,v_.createPortal(Ci,jt),te&&b.createElement(woe,{cursor:w,tooltipEventType:j,coordinate:q,payload:je,index:R}))}function Qoe(e,t,n){return(t=Zoe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zoe(e){var t=Joe(e,"string");return typeof t=="symbol"?t:t+""}function Joe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class ele{constructor(t){Qoe(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function tI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tle(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tI(Object(n),!0).forEach(function(r){nle(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nle(e,t,n){return(t=rle(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rle(e){var t=ile(e,"string");return typeof t=="symbol"?t:t+""}function ile(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ale={cacheSize:2e3,enableCache:!0},LV=tle({},ale),nI=new ele(LV.cacheSize),sle={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},rI="recharts_measurement_span";function ole(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",s=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(o)}var iI=(e,t)=>{try{var n=document.getElementById(rI);n||(n=document.createElement("span"),n.setAttribute("id",rI),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,sle,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},nf=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||kd.isSsr)return{width:0,height:0};if(!LV.enableCache)return iI(t,n);var r=ole(t,n),i=nI.get(r);if(i)return i;var a=iI(t,n);return nI.set(r,a),a},VV;function lle(e,t,n){return(t=ule(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ule(e){var t=cle(e,"string");return typeof t=="symbol"?t:t+""}function cle(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,sI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,fle=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,dle=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,hle={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},mle=["cm","mm","pt","pc","in","Q","px"];function ple(e){return mle.includes(e)}var Al="NaN";function gle(e,t){return e*hle[t]}class Jt{static parse(t){var n,[,r,i]=(n=dle.exec(t))!==null&&n!==void 0?n:[];return r==null?Jt.NaN:new Jt(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,bi(t)&&(this.unit=""),n!==""&&!fle.test(n)&&(this.num=NaN,this.unit=""),ple(n)&&(this.num=gle(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new Jt(NaN,""):new Jt(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Jt(NaN,""):new Jt(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Jt(NaN,""):new Jt(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Jt(NaN,""):new Jt(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return bi(this.num)}}VV=Jt;lle(Jt,"NaN",new VV(NaN,""));function UV(e){if(e==null||e.includes(Al))return Al;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=(n=aI.exec(t))!==null&&n!==void 0?n:[],s=Jt.parse(r??""),o=Jt.parse(a??""),l=i==="*"?s.multiply(o):s.divide(o);if(l.isNaN())return Al;t=t.replace(aI,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,c,f,m]=(u=sI.exec(t))!==null&&u!==void 0?u:[],p=Jt.parse(c??""),g=Jt.parse(m??""),_=f==="+"?p.add(g):p.subtract(g);if(_.isNaN())return Al;t=t.replace(sI,_.toString())}return t}var oI=/\(([^()]*)\)/;function yle(e){for(var t=e,n;(n=oI.exec(t))!=null;){var[,r]=n;t=t.replace(oI,UV(r))}return t}function vle(e){var t=e.replace(/\s+/g,"");return t=yle(t),t=UV(t),t}function ble(e){try{return vle(e)}catch{return Al}}function B0(e){var t=ble(e.slice(5,-1));return t===Al?"":t}var xle=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],_le=["dx","dy","angle","className","breakAll"];function a_(){return a_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a_.apply(null,arguments)}function lI(e,t){if(e==null)return{};var n,r,i=wle(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function wle(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var zV=/[ \f\n\r\t\v\u2028\u2029]+/,BV=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];xn(t)||(n?i=t.toString().split(""):i=t.toString().split(zV));var a=i.map(o=>({word:o,width:nf(o,r).width})),s=n?0:nf("",r).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function Ele(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var $V=(e,t,n,r)=>e.reduce((i,a)=>{var{word:s,width:o}=a,l=i[i.length-1];if(l&&o!=null&&(t==null||r||l.width+o+n<Number(t)))l.words.push(s),l.width+=o+n;else{var u={words:[s],width:o};i.push(u)}return i},[]),FV=e=>e.reduce((t,n)=>t.width>n.width?t:n),Sle="",uI=(e,t,n,r,i,a,s,o)=>{var l=e.slice(0,t),u=BV({breakAll:n,style:r,children:l+Sle});if(!u)return[!1,[]];var c=$V(u.wordsWithComputedWidth,a,s,o),f=c.length>i||FV(c).width>Number(a);return[f,c]},Ale=(e,t,n,r,i)=>{var{maxLines:a,children:s,style:o,breakAll:l}=e,u=Q(a),c=String(s),f=$V(t,r,n,i);if(!u||i)return f;var m=f.length>a||FV(f).width>Number(r);if(!m)return f;for(var p=0,g=c.length-1,_=0,y;p<=g&&_<=c.length-1;){var w=Math.floor((p+g)/2),x=w-1,[S,N]=uI(c,x,l,o,a,r,n,i),[P]=uI(c,w,l,o,a,r,n,i);if(!S&&!P&&(p=w+1),S&&P&&(g=w-1),!S&&P){y=N;break}_++}return y||f},cI=e=>{var t=xn(e)?[]:e.toString().split(zV);return[{words:t,width:void 0}]},Tle=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:s}=e;if((t||n)&&!kd.isSsr){var o,l,u=BV({breakAll:a,children:r,style:i});if(u){var{wordsWithComputedWidth:c,spaceWidth:f}=u;o=c,l=f}else return cI(r);return Ale({breakAll:a,children:r,maxLines:s,style:i},o,l,t,!!n)}return cI(r)},qV="#808080",Nle={angle:0,breakAll:!1,capHeight:"0.71em",fill:qV,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},JE=b.forwardRef((e,t)=>{var n=fr(e,Nle),{x:r,y:i,lineHeight:a,capHeight:s,fill:o,scaleToFit:l,textAnchor:u,verticalAnchor:c}=n,f=lI(n,xle),m=b.useMemo(()=>Tle({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:l,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,l,f.style,f.width]),{dx:p,dy:g,angle:_,className:y,breakAll:w}=f,x=lI(f,_le);if(!xi(r)||!xi(i)||m.length===0)return null;var S=Number(r)+(Q(p)?p:0),N=Number(i)+(Q(g)?g:0);if(!be(S)||!be(N))return null;var P;switch(c){case"start":P=B0("calc(".concat(s,")"));break;case"middle":P=B0("calc(".concat((m.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:P=B0("calc(".concat(m.length-1," * -").concat(a,")"));break}var O=[],A=m[0];if(l&&A!=null){var T=A.width,{width:C}=f;O.push("scale(".concat(Q(C)&&Q(T)?C/T:1,")"))}return _&&O.push("rotate(".concat(_,", ").concat(S,", ").concat(N,")")),O.length&&(x.transform=O.join(" ")),b.createElement("text",a_({},Cr(x),{ref:t,x:S,y:N,className:Ye("recharts-text",y),textAnchor:u,fill:o.includes("url")?qV:o}),m.map((k,j)=>{var R=k.words.join(w?"":" ");return b.createElement("tspan",{x:S,dy:j===0?P:a,key:"".concat(R,"-").concat(j)},R)}))});JE.displayName="Text";function fI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Jr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fI(Object(n),!0).forEach(function(r){Cle(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cle(e,t,n){return(t=Ole(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ole(e){var t=Ile(e,"string");return typeof t=="symbol"?t:t+""}function Ile(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ple=e=>{var{viewBox:t,position:n,offset:r=0,parentViewBox:i}=e,{x:a,y:s,height:o,upperWidth:l,lowerWidth:u}=Q1(t),c=a,f=a+(l-u)/2,m=(c+f)/2,p=(l+u)/2,g=c+l/2,_=o>=0?1:-1,y=_*r,w=_>0?"end":"start",x=_>0?"start":"end",S=l>=0?1:-1,N=S*r,P=S>0?"end":"start",O=S>0?"start":"end",A=i;if(n==="top"){var T={x:c+l/2,y:s-y,horizontalAnchor:"middle",verticalAnchor:w};return A&&(T.height=Math.max(s-A.y,0),T.width=l),T}if(n==="bottom"){var C={x:f+u/2,y:s+o+y,horizontalAnchor:"middle",verticalAnchor:x};return A&&(C.height=Math.max(A.y+A.height-(s+o),0),C.width=u),C}if(n==="left"){var k={x:m-N,y:s+o/2,horizontalAnchor:P,verticalAnchor:"middle"};return A&&(k.width=Math.max(k.x-A.x,0),k.height=o),k}if(n==="right"){var j={x:m+p+N,y:s+o/2,horizontalAnchor:O,verticalAnchor:"middle"};return A&&(j.width=Math.max(A.x+A.width-j.x,0),j.height=o),j}var R=A?{width:p,height:o}:{};return n==="insideLeft"?Jr({x:m+N,y:s+o/2,horizontalAnchor:O,verticalAnchor:"middle"},R):n==="insideRight"?Jr({x:m+p-N,y:s+o/2,horizontalAnchor:P,verticalAnchor:"middle"},R):n==="insideTop"?Jr({x:c+l/2,y:s+y,horizontalAnchor:"middle",verticalAnchor:x},R):n==="insideBottom"?Jr({x:f+u/2,y:s+o-y,horizontalAnchor:"middle",verticalAnchor:w},R):n==="insideTopLeft"?Jr({x:c+N,y:s+y,horizontalAnchor:O,verticalAnchor:x},R):n==="insideTopRight"?Jr({x:c+l-N,y:s+y,horizontalAnchor:P,verticalAnchor:x},R):n==="insideBottomLeft"?Jr({x:f+N,y:s+o-y,horizontalAnchor:O,verticalAnchor:w},R):n==="insideBottomRight"?Jr({x:f+u-N,y:s+o-y,horizontalAnchor:P,verticalAnchor:w},R):n&&typeof n=="object"&&(Q(n.x)||Io(n.x))&&(Q(n.y)||Io(n.y))?Jr({x:a+Ns(n.x,p),y:s+Ns(n.y,o),horizontalAnchor:"end",verticalAnchor:"end"},R):Jr({x:g,y:s+o/2,horizontalAnchor:"middle",verticalAnchor:"middle"},R)},Rle=["labelRef"],jle=["content"];function dI(e,t){if(e==null)return{};var n,r,i=kle(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function kle(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function hI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hI(Object(n),!0).forEach(function(r){Dle(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Dle(e,t,n){return(t=Mle(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mle(e){var t=Lle(e,"string");return typeof t=="symbol"?t:t+""}function Lle(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Li(){return Li=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Li.apply(null,arguments)}var HV=b.createContext(null),Vle=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:s,children:o}=e,l=b.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:s}),[t,n,r,i,a,s]);return b.createElement(HV.Provider,{value:l},o)},GV=()=>{var e=b.useContext(HV),t=Ly();return e||(t?Q1(t):void 0)},Ule=b.createContext(null),zle=()=>{var e=b.useContext(Ule),t=ee(_6);return e||t},Ble=e=>{var{value:t,formatter:n}=e,r=xn(e.children)?t:e.children;return typeof n=="function"?n(r):r},eS=e=>e!=null&&typeof e=="function",$le=(e,t)=>{var n=wr(t-e),r=Math.min(Math.abs(t-e),360);return n*r},Fle=(e,t,n,r,i)=>{var{offset:a,className:s}=e,{cx:o,cy:l,innerRadius:u,outerRadius:c,startAngle:f,endAngle:m,clockWise:p}=i,g=(u+c)/2,_=$le(f,m),y=_>=0?1:-1,w,x;switch(t){case"insideStart":w=f+y*a,x=p;break;case"insideEnd":w=m-y*a,x=!p;break;case"end":w=m+y*a,x=p;break;default:throw new Error("Unsupported position ".concat(t))}x=_<=0?x:!x;var S=on(o,l,g,w),N=on(o,l,g,w+(x?1:-1)*359),P="M".concat(S.x,",").concat(S.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(x?0:1,`,
    `).concat(N.x,",").concat(N.y),O=xn(e.id)?Df("recharts-radial-line-"):e.id;return b.createElement("text",Li({},r,{dominantBaseline:"central",className:Ye("recharts-radial-bar-label",s)}),b.createElement("defs",null,b.createElement("path",{id:O,d:P})),b.createElement("textPath",{xlinkHref:"#".concat(O)},n))},qle=(e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:o,endAngle:l}=e,u=(o+l)/2;if(n==="outside"){var{x:c,y:f}=on(r,i,s+t,u);return{x:c,y:f,textAnchor:c>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var m=(a+s)/2,{x:p,y:g}=on(r,i,m,u);return{x:p,y:g,textAnchor:"middle",verticalAnchor:"middle"}},Rm=e=>e!=null&&"cx"in e&&Q(e.cx),Hle={angle:0,offset:5,zIndex:On.label,position:"middle",textBreakAll:!1};function Gle(e){if(!Rm(e))return e;var{cx:t,cy:n,outerRadius:r}=e,i=r*2;return{x:t-r,y:n-r,width:i,upperWidth:i,lowerWidth:i,height:i}}function Ma(e){var t=fr(e,Hle),{viewBox:n,parentViewBox:r,position:i,value:a,children:s,content:o,className:l="",textBreakAll:u,labelRef:c}=t,f=zle(),m=GV(),p=i==="center"?m:f??m,g,_,y;n==null?g=p:Rm(n)?g=n:g=Q1(n);var w=Gle(g);if(!g||xn(a)&&xn(s)&&!b.isValidElement(o)&&typeof o!="function")return null;var x=kc(kc({},t),{},{viewBox:g});if(b.isValidElement(o)){var{labelRef:S}=x,N=dI(x,Rle);return b.cloneElement(o,N)}if(typeof o=="function"){var{content:P}=x,O=dI(x,jle);if(_=b.createElement(o,O),b.isValidElement(_))return _}else _=Ble(t);var A=Cr(t);if(Rm(g)){if(i==="insideStart"||i==="insideEnd"||i==="end")return Fle(t,i,_,A,g);y=qle(g,t.offset,t.position)}else{if(!w)return null;var T=Ple({viewBox:w,position:i,offset:t.offset,parentViewBox:Rm(r)?void 0:r});y=kc(kc({x:T.x,y:T.y,textAnchor:T.horizontalAnchor,verticalAnchor:T.verticalAnchor},T.width!==void 0?{width:T.width}:{}),T.height!==void 0?{height:T.height}:{})}return b.createElement(Sa,{zIndex:t.zIndex},b.createElement(JE,Li({ref:c,className:Ye("recharts-label",l)},A,y,{textAnchor:Ele(A.textAnchor)?A.textAnchor:y.textAnchor,breakAll:u}),_))}Ma.displayName="Label";var Kle=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?b.createElement(Ma,Li({key:"label-implicit"},r)):xi(e)?b.createElement(Ma,Li({key:"label-implicit",value:e},r)):b.isValidElement(e)?e.type===Ma?b.cloneElement(e,kc({key:"label-implicit"},r)):b.createElement(Ma,Li({key:"label-implicit",content:e},r)):eS(e)?b.createElement(Ma,Li({key:"label-implicit",content:e},r)):e&&typeof e=="object"?b.createElement(Ma,Li({},e,{key:"label-implicit"},r)):null};function Yle(e){var{label:t,labelRef:n}=e,r=GV();return Kle(t,r,n)||null}var KV={},YV={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(YV);var WV={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(WV);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YV,n=WV,r=xy;function i(a){if(r.isArrayLike(a))return t.last(n.toArray(a))}e.last=i})(KV);var Wle=KV.last;const Xle=Cs(Wle);var Qle=["valueAccessor"],Zle=["dataKey","clockWise","id","textBreakAll","zIndex"];function hg(){return hg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hg.apply(null,arguments)}function mI(e,t){if(e==null)return{};var n,r,i=Jle(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Jle(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var eue=e=>Array.isArray(e.value)?Xle(e.value):e.value,XV=b.createContext(void 0),tue=XV.Provider,QV=b.createContext(void 0);QV.Provider;function nue(){return b.useContext(XV)}function rue(){return b.useContext(QV)}function jm(e){var{valueAccessor:t=eue}=e,n=mI(e,Qle),{dataKey:r,clockWise:i,id:a,textBreakAll:s,zIndex:o}=n,l=mI(n,Zle),u=nue(),c=rue(),f=u||c;return!f||!f.length?null:b.createElement(Sa,{zIndex:o??On.label},b.createElement(vi,{className:"recharts-label-list"},f.map((m,p)=>{var g,_=xn(r)?t(m,p):un(m.payload,r),y=xn(a)?{}:{id:"".concat(a,"-").concat(p)};return b.createElement(Ma,hg({key:"label-".concat(p)},Cr(m),l,y,{fill:(g=n.fill)!==null&&g!==void 0?g:m.fill,parentViewBox:m.parentViewBox,value:_,textBreakAll:s,viewBox:m.viewBox,index:p,zIndex:0}))})))}jm.displayName="LabelList";function iue(e){var{label:t}=e;return t?t===!0?b.createElement(jm,{key:"labelList-implicit"}):b.isValidElement(t)||eS(t)?b.createElement(jm,{key:"labelList-implicit",content:t}):typeof t=="object"?b.createElement(jm,hg({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function s_(){return s_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s_.apply(null,arguments)}var ZV=e=>{var{cx:t,cy:n,r,className:i}=e,a=Ye("recharts-dot",i);return Q(t)&&Q(n)&&Q(r)?b.createElement("circle",s_({},Hr(e),R1(e),{className:a,cx:t,cy:n,r})):null},aue={radiusAxis:{},angleAxis:{}},JV=Hn({name:"polarAxis",initialState:aue,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Nhe,removeRadiusAxis:Che,addAngleAxis:Ohe,removeAngleAxis:Ihe}=JV.actions,sue=JV.reducer;function oue(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var Ue={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iv=60103,av=60106,Hd=60107,Gd=60108,Kd=60114,Yd=60109,Wd=60110,Xd=60112,Qd=60113,tS=60120,Zd=60115,Jd=60116,e5=60121,t5=60122,n5=60117,r5=60129,i5=60131;if(typeof Symbol=="function"&&Symbol.for){var Wt=Symbol.for;iv=Wt("react.element"),av=Wt("react.portal"),Hd=Wt("react.fragment"),Gd=Wt("react.strict_mode"),Kd=Wt("react.profiler"),Yd=Wt("react.provider"),Wd=Wt("react.context"),Xd=Wt("react.forward_ref"),Qd=Wt("react.suspense"),tS=Wt("react.suspense_list"),Zd=Wt("react.memo"),Jd=Wt("react.lazy"),e5=Wt("react.block"),t5=Wt("react.server.block"),n5=Wt("react.fundamental"),r5=Wt("react.debug_trace_mode"),i5=Wt("react.legacy_hidden")}function Yr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case iv:switch(e=e.type,e){case Hd:case Kd:case Gd:case Qd:case tS:return e;default:switch(e=e&&e.$$typeof,e){case Wd:case Xd:case Jd:case Zd:case Yd:return e;default:return t}}case av:return t}}}var lue=Yd,uue=iv,cue=Xd,fue=Hd,due=Jd,hue=Zd,mue=av,pue=Kd,gue=Gd,yue=Qd;Ue.ContextConsumer=Wd;Ue.ContextProvider=lue;Ue.Element=uue;Ue.ForwardRef=cue;Ue.Fragment=fue;Ue.Lazy=due;Ue.Memo=hue;Ue.Portal=mue;Ue.Profiler=pue;Ue.StrictMode=gue;Ue.Suspense=yue;Ue.isAsyncMode=function(){return!1};Ue.isConcurrentMode=function(){return!1};Ue.isContextConsumer=function(e){return Yr(e)===Wd};Ue.isContextProvider=function(e){return Yr(e)===Yd};Ue.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===iv};Ue.isForwardRef=function(e){return Yr(e)===Xd};Ue.isFragment=function(e){return Yr(e)===Hd};Ue.isLazy=function(e){return Yr(e)===Jd};Ue.isMemo=function(e){return Yr(e)===Zd};Ue.isPortal=function(e){return Yr(e)===av};Ue.isProfiler=function(e){return Yr(e)===Kd};Ue.isStrictMode=function(e){return Yr(e)===Gd};Ue.isSuspense=function(e){return Yr(e)===Qd};Ue.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Hd||e===Kd||e===r5||e===Gd||e===Qd||e===tS||e===i5||typeof e=="object"&&e!==null&&(e.$$typeof===Jd||e.$$typeof===Zd||e.$$typeof===Yd||e.$$typeof===Wd||e.$$typeof===Xd||e.$$typeof===n5||e.$$typeof===e5||e[0]===t5)};Ue.typeOf=Yr;var a5=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0;function vue(e){var{tooltipEntrySettings:t}=e,n=qt(),r=Gn(),i=b.useRef(null);return b.useLayoutEffect(()=>{r||(i.current===null?n(Fae(t)):i.current!==t&&n(qae({prev:i.current,next:t})),i.current=t)},[t,n,r]),b.useLayoutEffect(()=>()=>{i.current&&(n(Hae(i.current)),i.current=null)},[n]),null}function bue(e){var{legendPayload:t}=e,n=qt(),r=Gn(),i=b.useRef(null);return b.useLayoutEffect(()=>{r||(i.current===null?n(wee(t)):i.current!==t&&n(Eee({prev:i.current,next:t})),i.current=t)},[n,r,t]),b.useLayoutEffect(()=>()=>{i.current&&(n(See(i.current)),i.current=null)},[n]),null}var $0,xue=()=>{var[e]=b.useState(()=>Df("uid-"));return e},_ue=($0=PU.useId)!==null&&$0!==void 0?$0:xue;function wue(e,t){var n=_ue();return t||(e?"".concat(e,"-").concat(n):n)}var Eue=b.createContext(void 0),Sue=e=>{var{id:t,type:n,children:r}=e,i=wue("recharts-".concat(n),t);return b.createElement(Eue.Provider,{value:i},r(i))},Aue={cartesianItems:[],polarItems:[]},s5=Hn({name:"graphicalItems",initialState:Aue,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Qe()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Br(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:Qe()},removeCartesianGraphicalItem:{reducer(e,t){var n=Br(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:Qe()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Qe()},removePolarGraphicalItem:{reducer(e,t){var n=Br(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:Qe()}}}),{addCartesianGraphicalItem:Tue,replaceCartesianGraphicalItem:Nue,removeCartesianGraphicalItem:Cue,addPolarGraphicalItem:Phe,removePolarGraphicalItem:Rhe}=s5.actions,Oue=s5.reducer,Iue=e=>{var t=qt(),n=b.useRef(null);return b.useLayoutEffect(()=>{n.current===null?t(Tue(e)):n.current!==e&&t(Nue({prev:n.current,next:e})),n.current=e},[t,e]),b.useLayoutEffect(()=>()=>{n.current&&(t(Cue(n.current)),n.current=null)},[t]),null},Pue=b.memo(Iue),Rue=["points"];function pI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function F0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pI(Object(n),!0).forEach(function(r){jue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jue(e,t,n){return(t=kue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kue(e){var t=Due(e,"string");return typeof t=="symbol"?t:t+""}function Due(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mg(){return mg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mg.apply(null,arguments)}function Mue(e,t){if(e==null)return{};var n,r,i=Lue(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Lue(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Vue(e){var{option:t,dotProps:n,className:r}=e;if(b.isValidElement(t))return b.cloneElement(t,n);if(typeof t=="function")return t(n);var i=Ye(r,typeof t!="boolean"?t.className:""),a=n??{},{points:s}=a,o=Mue(a,Rue);return b.createElement(ZV,mg({},o,{className:i}))}function Uue(e,t){return e==null?!1:t?!0:e.length===1}function zue(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:s,needClip:o,clipPathId:l,zIndex:u=On.scatter}=e;if(!Uue(t,n))return null;var c=a5(n),f=JX(n),m=t.map((g,_)=>{var y,w,x=F0(F0(F0({r:3},s),f),{},{index:_,cx:(y=g.x)!==null&&y!==void 0?y:void 0,cy:(w=g.y)!==null&&w!==void 0?w:void 0,dataKey:a,value:g.value,payload:g.payload,points:t});return b.createElement(Vue,{key:"dot-".concat(_),option:n,dotProps:x,className:i})}),p={};return o&&l!=null&&(p.clipPath="url(#clipPath-".concat(c?"":"dots-").concat(l,")")),b.createElement(Sa,{zIndex:u},b.createElement(vi,mg({className:r},p),m))}function gI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gI(Object(n),!0).forEach(function(r){Bue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bue(e,t,n){return(t=$ue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $ue(e){var t=Fue(e,"string");return typeof t=="symbol"?t:t+""}function Fue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var o5=0,que={xAxis:{},yAxis:{},zAxis:{}},l5=Hn({name:"cartesianAxis",initialState:que,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Qe()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:Qe()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Qe()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Qe()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:Qe()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Qe()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Qe()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:Qe()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Qe()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var a,s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==i.width&&Math.abs(r-((a=s[0])!==null&&a!==void 0?a:0))<=1)return;var o=[...s,r].slice(-3);e.yAxis[n]=yI(yI({},i),{},{width:r,widthHistory:o})}}}}),{addXAxis:Hue,replaceXAxis:Gue,removeXAxis:Kue,addYAxis:Yue,replaceYAxis:Wue,removeYAxis:Xue,addZAxis:jhe,replaceZAxis:khe,removeZAxis:Dhe,updateYAxisWidth:Que}=l5.actions,Zue=l5.reducer,Jue=V([fn],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),ece=V([Jue,ya,va],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),nS=()=>ee(ece),tce=()=>ee(Lse);function vI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function q0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vI(Object(n),!0).forEach(function(r){nce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nce(e,t,n){return(t=rce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rce(e){var t=ice(e,"string");return typeof t=="symbol"?t:t+""}function ice(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ace=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:s}=e;if(i===!1||t.x==null||t.y==null)return null;var o={index:n,dataKey:a,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},l=q0(q0(q0({},o),hy(i)),R1(i)),u;return b.isValidElement(i)?u=b.cloneElement(i,l):typeof i=="function"?u=i(l):u=b.createElement(ZV,l),b.createElement(vi,{className:"recharts-active-dot",clipPath:s},u)};function bI(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:s=On.activeDot}=e,o=ee(Yf),l=tce();if(t==null||l==null)return null;var u=t.find(c=>l.includes(c.payload));return xn(u)?null:b.createElement(Sa,{zIndex:s},b.createElement(ace,{point:u,childIndex:Number(o),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var sce=e=>{var{chartData:t}=e,n=qt(),r=Gn();return b.useEffect(()=>r?()=>{}:(n(X2(t)),()=>{n(X2(void 0))}),[t,n,r]),null},xI={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},u5=Hn({name:"brush",initialState:xI,reducers:{setBrushSettings(e,t){return t.payload==null?xI:t.payload}}}),{setBrushSettings:Mhe}=u5.actions,oce=u5.reducer;function lce(e){return(e%180+180)%180}var uce=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=lce(i),s=a*Math.PI/180,o=Math.atan(r/n),l=s>o&&s<Math.PI-o?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},cce={dots:[],areas:[],lines:[]},c5=Hn({name:"referenceElements",initialState:cce,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Br(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Br(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Br(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:Lhe,removeDot:Vhe,addArea:Uhe,removeArea:zhe,addLine:Bhe,removeLine:$he}=c5.actions,fce=c5.reducer,dce=b.createContext(void 0),hce=e=>{var{children:t}=e,[n]=b.useState("".concat(Df("recharts"),"-clip")),r=nS();if(r==null)return null;var{x:i,y:a,width:s,height:o}=r;return b.createElement(dce.Provider,{value:n},b.createElement("defs",null,b.createElement("clipPath",{id:n},b.createElement("rect",{x:i,y:a,height:o,width:s}))),t)};function f5(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t){var i=e[r];i!==void 0&&n.push(i)}return n}function mce(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return uce(r,n)}function pce(e,t,n){var r=n==="width",{x:i,y:a,width:s,height:o}=e;return t===1?{start:r?i:a,end:r?i+s:a+o}:{start:r?i+s:a+o,end:r?i:a}}function Xf(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function gce(e,t){return f5(e,t+1)}function yce(e,t,n,r,i){for(var a=(r||[]).slice(),{start:s,end:o}=t,l=0,u=1,c=s,f=function(){var g=r==null?void 0:r[l];if(g===void 0)return{v:f5(r,u)};var _=l,y,w=()=>(y===void 0&&(y=n(g,_)),y),x=g.coordinate,S=l===0||Xf(e,x,w,c,o);S||(l=0,c=s,u+=1),S&&(c=x+e*(w()/2+i),l+=u)},m;u<=a.length;)if(m=f(),m)return m.v;return[]}function vce(e,t,n,r,i){var a=(r||[]).slice(),s=a.length;if(s===0)return[];for(var{start:o,end:l}=t,u=1;u<=s;u++){for(var c=(s-1)%u,f=o,m=!0,p=function(){var N=r[_];if(N==null)return 0;var P=_,O,A=()=>(O===void 0&&(O=n(N,P)),O),T=N.coordinate,C=_===c||Xf(e,T,A,f,l);if(!C)return m=!1,1;C&&(f=T+e*(A()/2+i))},g,_=c;_<s&&(g=p(),!(g!==0&&g===1));_+=u);if(m){for(var y=[],w=c;w<s;w+=u){var x=r[w];x!=null&&y.push(x)}return y}}return[]}function _I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_I(Object(n),!0).forEach(function(r){bce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_I(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bce(e,t,n){return(t=xce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xce(e){var t=_ce(e,"string");return typeof t=="symbol"?t:t+""}function _ce(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wce(e,t,n,r,i){for(var a=(r||[]).slice(),s=a.length,{start:o}=t,{end:l}=t,u=function(m){var p=a[m];if(p==null)return 1;var g=p,_,y=()=>(_===void 0&&(_=n(p,m)),_);if(m===s-1){var w=e*(g.coordinate+e*y()/2-l);a[m]=g=pn(pn({},g),{},{tickCoord:w>0?g.coordinate-w*e:g.coordinate})}else a[m]=g=pn(pn({},g),{},{tickCoord:g.coordinate});if(g.tickCoord!=null){var x=Xf(e,g.tickCoord,y,o,l);x&&(l=g.tickCoord-e*(y()/2+i),a[m]=pn(pn({},g),{},{isShow:!0}))}},c=s-1;c>=0;c--)u(c);return a}function Ece(e,t,n,r,i,a){var s=(r||[]).slice(),o=s.length,{start:l,end:u}=t;if(a){var c=r[o-1];if(c!=null){var f=n(c,o-1),m=e*(c.coordinate+e*f/2-u);if(s[o-1]=c=pn(pn({},c),{},{tickCoord:m>0?c.coordinate-m*e:c.coordinate}),c.tickCoord!=null){var p=Xf(e,c.tickCoord,()=>f,l,u);p&&(u=c.tickCoord-e*(f/2+i),s[o-1]=pn(pn({},c),{},{isShow:!0}))}}}for(var g=a?o-1:o,_=function(x){var S=s[x];if(S==null)return 1;var N=S,P,O=()=>(P===void 0&&(P=n(S,x)),P);if(x===0){var A=e*(N.coordinate-e*O()/2-l);s[x]=N=pn(pn({},N),{},{tickCoord:A<0?N.coordinate-A*e:N.coordinate})}else s[x]=N=pn(pn({},N),{},{tickCoord:N.coordinate});if(N.tickCoord!=null){var T=Xf(e,N.tickCoord,O,l,u);T&&(l=N.tickCoord+e*(O()/2+i),s[x]=pn(pn({},N),{},{isShow:!0}))}},y=0;y<g;y++)_(y);return s}function rS(e,t,n){var{tick:r,ticks:i,viewBox:a,minTickGap:s,orientation:o,interval:l,tickFormatter:u,unit:c,angle:f}=e;if(!i||!i.length||!r)return[];if(Q(l)||kd.isSsr){var m;return(m=gce(i,Q(l)?l:0))!==null&&m!==void 0?m:[]}var p=[],g=o==="top"||o==="bottom"?"width":"height",_=c&&g==="width"?nf(c,{fontSize:t,letterSpacing:n}):{width:0,height:0},y=(P,O)=>{var A=typeof u=="function"?u(P.value,O):P.value;return g==="width"?mce(nf(A,{fontSize:t,letterSpacing:n}),_,f):nf(A,{fontSize:t,letterSpacing:n})[g]},w=i[0],x=i[1],S=i.length>=2&&w!=null&&x!=null?wr(x.coordinate-w.coordinate):1,N=pce(a,S,g);return l==="equidistantPreserveStart"?yce(S,N,y,i,s):l==="equidistantPreserveEnd"?vce(S,N,y,i,s):(l==="preserveStart"||l==="preserveStartEnd"?p=Ece(S,N,y,i,s,l==="preserveStartEnd"):p=wce(S,N,y,i,s),p.filter(P=>P.isShow))}var Sce=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,s=0;if(t){Array.from(t).forEach(c=>{if(c){var f=c.getBoundingClientRect();f.width>s&&(s=f.width)}});var o=n?n.getBoundingClientRect().width:0,l=i+a,u=s+l+o+(n?r:0);return Math.round(u)}return 0},Ace=["axisLine","width","height","className","hide","ticks","axisType"];function Tce(e,t){if(e==null)return{};var n,r,i=Nce(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Nce(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Do(){return Do=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Do.apply(null,arguments)}function wI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function st(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wI(Object(n),!0).forEach(function(r){Cce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cce(e,t,n){return(t=Oce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oce(e){var t=Ice(e,"string");return typeof t=="symbol"?t:t+""}function Ice(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qi={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:On.axis};function Pce(e){var{x:t,y:n,width:r,height:i,orientation:a,mirror:s,axisLine:o,otherSvgProps:l}=e;if(!o)return null;var u=st(st(st({},l),Hr(o)),{},{fill:"none"});if(a==="top"||a==="bottom"){var c=+(a==="top"&&!s||a==="bottom"&&s);u=st(st({},u),{},{x1:t,y1:n+c*i,x2:t+r,y2:n+c*i})}else{var f=+(a==="left"&&!s||a==="right"&&s);u=st(st({},u),{},{x1:t+f*r,y1:n,x2:t+f*r,y2:n+i})}return b.createElement("line",Do({},u,{className:Ye("recharts-cartesian-axis-line",by(o,"className"))}))}function Rce(e,t,n,r,i,a,s,o,l){var u,c,f,m,p,g,_=o?-1:1,y=e.tickSize||s,w=Q(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":u=c=e.coordinate,m=n+ +!o*i,f=m-_*y,g=f-_*l,p=w;break;case"left":f=m=e.coordinate,c=t+ +!o*r,u=c-_*y,p=u-_*l,g=w;break;case"right":f=m=e.coordinate,c=t+ +o*r,u=c+_*y,p=u+_*l,g=w;break;default:u=c=e.coordinate,m=n+ +o*i,f=m+_*y,g=f+_*l,p=w;break}return{line:{x1:u,y1:f,x2:c,y2:m},tick:{x:p,y:g}}}function jce(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function kce(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Dce(e){var{option:t,tickProps:n,value:r}=e,i,a=Ye(n.className,"recharts-cartesian-axis-tick-value");if(b.isValidElement(t))i=b.cloneElement(t,st(st({},n),{},{className:a}));else if(typeof t=="function")i=t(st(st({},n),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=Ye(s,oue(t))),i=b.createElement(JE,Do({},n,{className:s}),r)}return i}var Mce=b.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:s,unit:o,padding:l,tickTextProps:u,orientation:c,mirror:f,x:m,y:p,width:g,height:_,tickSize:y,tickMargin:w,fontSize:x,letterSpacing:S,getTicksConfig:N,events:P,axisType:O}=e,A=rS(st(st({},N),{},{ticks:n}),x,S),T=jce(c,f),C=kce(c,f),k=Hr(N),j=hy(r),R={};typeof i=="object"&&(R=i);var D=st(st({},k),{},{fill:"none"},R),Z=A.map(K=>st({entry:K},Rce(K,m,p,g,_,c,y,f,w))),oe=Z.map(K=>{var{entry:W,line:te}=K;return b.createElement(vi,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(W.value,"-").concat(W.coordinate,"-").concat(W.tickCoord)},i&&b.createElement("line",Do({},D,te,{className:Ye("recharts-cartesian-axis-tick-line",by(i,"className"))})))}),q=Z.map((K,W)=>{var te,le,{entry:We,tick:ft}=K,jt=st(st(st(st({verticalAnchor:C},k),{},{textAnchor:T,stroke:"none",fill:a},ft),{},{index:W,payload:We,visibleTicksCount:A.length,tickFormatter:s,padding:l},u),{},{angle:(te=(le=u==null?void 0:u.angle)!==null&&le!==void 0?le:k.angle)!==null&&te!==void 0?te:0}),je=st(st({},jt),j);return b.createElement(vi,Do({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(We.value,"-").concat(We.coordinate,"-").concat(We.tickCoord)},RQ(P,We,W)),r&&b.createElement(Dce,{option:r,tickProps:je,value:"".concat(typeof s=="function"?s(We.value,W):We.value).concat(o||"")}))});return b.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(O,"-ticks")},q.length>0&&b.createElement(Sa,{zIndex:On.label},b.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(O,"-tick-labels"),ref:t},q)),oe.length>0&&b.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(O,"-tick-lines")},oe))}),Lce=b.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:a,hide:s,ticks:o,axisType:l}=e,u=Tce(e,Ace),[c,f]=b.useState(""),[m,p]=b.useState(""),g=b.useRef(null);b.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var y;return Sce({ticks:g.current,label:(y=e.labelRef)===null||y===void 0?void 0:y.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var _=b.useCallback(y=>{if(y){var w=y.getElementsByClassName("recharts-cartesian-axis-tick-value");g.current=w;var x=w[0];if(x){var S=window.getComputedStyle(x),N=S.fontSize,P=S.letterSpacing;(N!==c||P!==m)&&(f(N),p(P))}}},[c,m]);return s||r!=null&&r<=0||i!=null&&i<=0?null:b.createElement(Sa,{zIndex:e.zIndex},b.createElement(vi,{className:Ye("recharts-cartesian-axis",a)},b.createElement(Pce,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Hr(e)}),b.createElement(Mce,{ref:_,axisType:l,events:u,fontSize:c,getTicksConfig:e,height:e.height,letterSpacing:m,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:o,unit:e.unit,width:e.width,x:e.x,y:e.y}),b.createElement(Vle,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},b.createElement(Yle,{label:e.label,labelRef:e.labelRef}),e.children)))}),iS=b.forwardRef((e,t)=>{var n=fr(e,Qi);return b.createElement(Lce,Do({},n,{ref:t}))});iS.displayName="CartesianAxis";var Vce=["x1","y1","x2","y2","key"],Uce=["offset"],zce=["xAxisId","yAxisId"],Bce=["xAxisId","yAxisId"];function EI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EI(Object(n),!0).forEach(function(r){$ce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $ce(e,t,n){return(t=Fce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fce(e){var t=qce(e,"string");return typeof t=="symbol"?t:t+""}function qce(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function io(){return io=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},io.apply(null,arguments)}function pg(e,t){if(e==null)return{};var n,r,i=Hce(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Hce(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Gce=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:s,ry:o}=e;return b.createElement("rect",{x:r,y:i,ry:o,width:a,height:s,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function d5(e){var{option:t,lineItemProps:n}=e,r;if(b.isValidElement(t))r=b.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:a,y1:s,x2:o,y2:l,key:u}=n,c=pg(n,Vce),f=(i=Hr(c))!==null&&i!==void 0?i:{},{offset:m}=f,p=pg(f,Uce);r=b.createElement("line",io({},p,{x1:a,y1:s,x2:o,y2:l,fill:"none",key:u}))}return r}function Kce(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=pg(e,zce),l=i.map((u,c)=>{var f=vn(vn({},o),{},{x1:t,y1:u,x2:t+n,y2:u,key:"line-".concat(c),index:c});return b.createElement(d5,{key:"line-".concat(c),option:r,lineItemProps:f})});return b.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function Yce(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=pg(e,Bce),l=i.map((u,c)=>{var f=vn(vn({},o),{},{x1:u,y1:t,x2:u,y2:t+n,key:"line-".concat(c),index:c});return b.createElement(d5,{option:r,lineItemProps:f,key:"line-".concat(c)})});return b.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function Wce(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:a,height:s,horizontalPoints:o,horizontal:l=!0}=e;if(!l||!t||!t.length||o==null)return null;var u=o.map(f=>Math.round(f+i-i)).sort((f,m)=>f-m);i!==u[0]&&u.unshift(0);var c=u.map((f,m)=>{var p=u[m+1],g=p==null,_=g?i+s-f:p-f;if(_<=0)return null;var y=m%t.length;return b.createElement("rect",{key:"react-".concat(m),y:f,x:r,height:_,width:a,stroke:"none",fill:t[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},c)}function Xce(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:s,height:o,verticalPoints:l}=e;if(!t||!n||!n.length)return null;var u=l.map(f=>Math.round(f+i-i)).sort((f,m)=>f-m);i!==u[0]&&u.unshift(0);var c=u.map((f,m)=>{var p=u[m+1],g=p==null,_=g?i+s-f:p-f;if(_<=0)return null;var y=m%n.length;return b.createElement("rect",{key:"react-".concat(m),x:f,y:a,width:_,height:o,stroke:"none",fill:n[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},c)}var Qce=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return FL(rS(vn(vn(vn({},Qi),n),{},{ticks:qL(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},Zce=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return FL(rS(vn(vn(vn({},Qi),n),{},{ticks:qL(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},Jce={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:On.grid};function h5(e){var t=t3(),n=n3(),r=e3(),i=vn(vn({},fr(e,Jce)),{},{x:Q(e.x)?e.x:r.left,y:Q(e.y)?e.y:r.top,width:Q(e.width)?e.width:r.width,height:Q(e.height)?e.height:r.height}),{xAxisId:a,yAxisId:s,x:o,y:l,width:u,height:c,syncWithTicks:f,horizontalValues:m,verticalValues:p}=i,g=Gn(),_=ee(C=>U2(C,"xAxis",a,g)),y=ee(C=>U2(C,"yAxis",s,g));if(!_i(u)||!_i(c)||!Q(o)||!Q(l))return null;var w=i.verticalCoordinatesGenerator||Qce,x=i.horizontalCoordinatesGenerator||Zce,{horizontalPoints:S,verticalPoints:N}=i;if((!S||!S.length)&&typeof x=="function"){var P=m&&m.length,O=x({yAxis:y?vn(vn({},y),{},{ticks:P?m:y.ticks}):void 0,width:t??u,height:n??c,offset:r},P?!0:f);Fp(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(S=O)}if((!N||!N.length)&&typeof w=="function"){var A=p&&p.length,T=w({xAxis:_?vn(vn({},_),{},{ticks:A?p:_.ticks}):void 0,width:t??u,height:n??c,offset:r},A?!0:f);Fp(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof T,"]")),Array.isArray(T)&&(N=T)}return b.createElement(Sa,{zIndex:i.zIndex},b.createElement("g",{className:"recharts-cartesian-grid"},b.createElement(Gce,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),b.createElement(Wce,io({},i,{horizontalPoints:S})),b.createElement(Xce,io({},i,{verticalPoints:N})),b.createElement(Kce,io({},i,{offset:r,horizontalPoints:S,xAxis:_,yAxis:y})),b.createElement(Yce,io({},i,{offset:r,verticalPoints:N,xAxis:_,yAxis:y}))))}h5.displayName="CartesianGrid";var efe={},m5=Hn({name:"errorBars",initialState:efe,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Fhe,replaceErrorBar:qhe,removeErrorBar:Hhe}=m5.actions,tfe=m5.reducer;function p5(e,t){var n,r,i=ee(u=>_a(u,e)),a=ee(u=>wa(u,t)),s=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Lt.allowDataOverflow,o=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:Vt.allowDataOverflow,l=s||o;return{needClip:l,needClipX:s,needClipY:o}}function nfe(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=nS(),{needClipX:a,needClipY:s,needClip:o}=p5(t,n);if(!o||!i)return null;var{x:l,y:u,width:c,height:f}=i;return b.createElement("clipPath",{id:"clipPath-".concat(r)},b.createElement("rect",{x:a?l:l-c/2,y:s?u:u-f/2,width:a?c:c*2,height:s?f:f*2}))}function rfe(e){var t=hy(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:a}=t,s=Number(i),o=Number(a);return(Number.isNaN(s)||s<0)&&(s=n),(Number.isNaN(o)||o<0)&&(o=r),{r:s,strokeWidth:o}}return{r:n,strokeWidth:r}}var ife={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eh=b;function afe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var sfe=typeof Object.is=="function"?Object.is:afe,ofe=eh.useSyncExternalStore,lfe=eh.useRef,ufe=eh.useEffect,cfe=eh.useMemo,ffe=eh.useDebugValue;ife.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var a=lfe(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=cfe(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&s.hasValue){var g=s.value;if(i(g,p))return f=g}return f=p}if(g=f,sfe(c,p))return g;var _=r(p);return i!==void 0&&i(g,_)?(c=p,g):(c=p,f=_)}var u=!1,c,f,m=n===void 0?null:n;return[function(){return l(t())},m===null?void 0:function(){return l(m())}]},[t,n,r,i]);var o=ofe(e,a[0],a[1]);return ufe(function(){s.hasValue=!0,s.value=o},[o]),ffe(o),o};function dfe(e){e()}function hfe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){dfe(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var SI={notify(){},get:()=>[]};function mfe(e,t){let n,r=SI,i=0,a=!1;function s(_){c();const y=r.subscribe(_);let w=!1;return()=>{w||(w=!0,y(),f())}}function o(){r.notify()}function l(){g.onStateChange&&g.onStateChange()}function u(){return a}function c(){i++,n||(n=e.subscribe(l),r=hfe())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=SI)}function m(){a||(a=!0,c())}function p(){a&&(a=!1,f())}const g={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:u,trySubscribe:m,tryUnsubscribe:p,getListeners:()=>r};return g}var pfe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",gfe=pfe(),yfe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",vfe=yfe(),bfe=()=>gfe||vfe?b.useLayoutEffect:b.useEffect,xfe=bfe();function AI(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function _fe(e,t){if(AI(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!AI(e[n[i]],t[n[i]]))return!1;return!0}var H0=Symbol.for("react-redux-context"),G0=typeof globalThis<"u"?globalThis:{};function wfe(){if(!b.createContext)return{};const e=G0[H0]??(G0[H0]=new Map);let t=e.get(b.createContext);return t||(t=b.createContext(null),e.set(b.createContext,t)),t}var Efe=wfe();function Sfe(e){const{children:t,context:n,serverState:r,store:i}=e,a=b.useMemo(()=>{const l=mfe(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),s=b.useMemo(()=>i.getState(),[i]);xfe(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,s]);const o=n||Efe;return b.createElement(o.Provider,{value:a},t)}var Afe=Sfe,Tfe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function Nfe(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function aS(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(Tfe.has(r)){if(e[r]==null&&t[r]==null)continue;if(!_fe(e[r],t[r]))return!1}else if(!Nfe(e[r],t[r]))return!1;return!0}function sS(e,t){var n,r;return(n=(r=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:o5}function oS(e,t){var n,r;return(n=(r=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:o5}var g5=(e,t,n)=>sV(e,"xAxis",sS(e,t),n),y5=(e,t,n)=>aV(e,"xAxis",sS(e,t),n),v5=(e,t,n)=>sV(e,"yAxis",oS(e,t),n),b5=(e,t,n)=>aV(e,"yAxis",oS(e,t),n),Cfe=V([Je,g5,v5,y5,b5],(e,t,n,r,i)=>Ni(e,"xAxis")?$p(t,r,!1):$p(n,i,!1)),Ofe=(e,t)=>t,x5=V([N6,Ofe],(e,t)=>e.filter(n=>n.type==="area").find(n=>n.id===t)),_5=e=>{var t=Je(e),n=Ni(t,"xAxis");return n?"yAxis":"xAxis"},Ife=(e,t)=>{var n=_5(e);return n==="yAxis"?oS(e,t):sS(e,t)},Pfe=(e,t,n)=>M6(e,_5(e),Ife(e,t),n),Rfe=V([x5,Pfe],(e,t)=>{var n;if(!(e==null||t==null)){var{stackId:r}=e,i=RE(e);if(!(r==null||i==null)){var a=(n=t[r])===null||n===void 0?void 0:n.stackedData,s=a==null?void 0:a.find(o=>o.key===i);if(s!=null)return s.map(o=>[o[0],o[1]])}}}),jfe=V([Je,g5,v5,y5,b5,Rfe,_ie,Cfe,x5,Iie],(e,t,n,r,i,a,s,o,l,u)=>{var{chartData:c,dataStartIndex:f,dataEndIndex:m}=s;if(!(l==null||e!=="horizontal"&&e!=="vertical"||t==null||n==null||r==null||i==null||r.length===0||i.length===0||o==null)){var{data:p}=l,g;if(p&&p.length>0?g=p:g=c==null?void 0:c.slice(f,m+1),g!=null)return Zfe({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:f,areaSettings:l,stackedData:a,displayedData:g,chartBaseValue:u,bandSize:o})}}),kfe=["id"],Dfe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function yo(){return yo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yo.apply(null,arguments)}function w5(e,t){if(e==null)return{};var n,r,i=Mfe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Mfe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function TI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Tl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TI(Object(n),!0).forEach(function(r){Lfe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Lfe(e,t,n){return(t=Vfe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vfe(e){var t=Ufe(e,"string");return typeof t=="symbol"?t:t+""}function Ufe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gg(e,t){return e&&e!=="none"?e:t}var zfe=e=>{var{dataKey:t,name:n,stroke:r,fill:i,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:gg(r,i),value:HL(n,t),payload:e}]},Bfe=b.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:s,hide:o,unit:l,tooltipType:u,id:c}=e,f={dataDefinedOnItem:n,getPosition:Ou,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:HL(s,t),hide:o,type:u,color:gg(r,a),unit:l,graphicalItemId:c}};return b.createElement(vue,{tooltipEntrySettings:f})});function $fe(e){var{clipPathId:t,points:n,props:r}=e,{needClip:i,dot:a,dataKey:s}=r,o=Hr(r);return b.createElement(zue,{points:n,dot:a,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:s,baseProps:o,needClip:i,clipPathId:t})}function Ffe(e){var{showLabels:t,children:n,points:r}=e,i=r.map(a=>{var s,o,l={x:(s=a.x)!==null&&s!==void 0?s:0,y:(o=a.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Tl(Tl({},l),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:l,fill:void 0})});return b.createElement(tue,{value:t?i:void 0},n)}function NI(e){var{points:t,baseLine:n,needClip:r,clipPathId:i,props:a}=e,{layout:s,type:o,stroke:l,connectNulls:u,isRange:c}=a,{id:f}=a,m=w5(a,kfe),p=Hr(m),g=Cr(m);return b.createElement(b.Fragment,null,(t==null?void 0:t.length)>1&&b.createElement(vi,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},b.createElement(Im,yo({},g,{id:f,points:t,connectNulls:u,type:o,baseLine:n,layout:s,stroke:"none",className:"recharts-area-area"})),l!=="none"&&b.createElement(Im,yo({},p,{className:"recharts-area-curve",layout:s,type:o,connectNulls:u,fill:"none",points:t})),l!=="none"&&c&&b.createElement(Im,yo({},p,{className:"recharts-area-curve",layout:s,type:o,connectNulls:u,fill:"none",points:n}))),b.createElement($fe,{points:t,props:m,clipPathId:i}))}function qfe(e){var t,n,{alpha:r,baseLine:i,points:a,strokeWidth:s}=e,o=(t=a[0])===null||t===void 0?void 0:t.y,l=(n=a[a.length-1])===null||n===void 0?void 0:n.y;if(!be(o)||!be(l))return null;var u=r*Math.abs(o-l),c=Math.max(...a.map(f=>f.x||0));return Q(i)?c=Math.max(i,c):i&&Array.isArray(i)&&i.length&&(c=Math.max(...i.map(f=>f.x||0),c)),Q(c)?b.createElement("rect",{x:0,y:o<l?o:o-u,width:c+(s?parseInt("".concat(s),10):1),height:Math.floor(u)}):null}function Hfe(e){var t,n,{alpha:r,baseLine:i,points:a,strokeWidth:s}=e,o=(t=a[0])===null||t===void 0?void 0:t.x,l=(n=a[a.length-1])===null||n===void 0?void 0:n.x;if(!be(o)||!be(l))return null;var u=r*Math.abs(o-l),c=Math.max(...a.map(f=>f.y||0));return Q(i)?c=Math.max(i,c):i&&Array.isArray(i)&&i.length&&(c=Math.max(...i.map(f=>f.y||0),c)),Q(c)?b.createElement("rect",{x:o<l?o:o-u,y:0,width:u,height:Math.floor(c+(s?parseInt("".concat(s),10):1))}):null}function Gfe(e){var{alpha:t,layout:n,points:r,baseLine:i,strokeWidth:a}=e;return n==="vertical"?b.createElement(qfe,{alpha:t,points:r,baseLine:i,strokeWidth:a}):b.createElement(Hfe,{alpha:t,points:r,baseLine:i,strokeWidth:a})}function Kfe(e){var{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a}=e,{points:s,baseLine:o,isAnimationActive:l,animationBegin:u,animationDuration:c,animationEasing:f,onAnimationStart:m,onAnimationEnd:p}=r,g=b.useMemo(()=>({points:s,baseLine:o}),[s,o]),_=g3(g,"recharts-area-"),y=Z1(),[w,x]=b.useState(!1),S=!w,N=b.useCallback(()=>{typeof p=="function"&&p(),x(!1)},[p]),P=b.useCallback(()=>{typeof m=="function"&&m(),x(!0)},[m]);if(y==null)return null;var O=i.current,A=a.current;return b.createElement(Ffe,{showLabels:S,points:s},r.children,b.createElement(p3,{animationId:_,begin:u,duration:c,isActive:l,easing:f,onAnimationEnd:N,onAnimationStart:P,key:_},T=>{if(O){var C=O.length/s.length,k=T===1?s:s.map((R,D)=>{var Z=Math.floor(D*C);if(O[Z]){var oe=O[Z];return Tl(Tl({},R),{},{x:ti(oe.x,R.x,T),y:ti(oe.y,R.y,T)})}return R}),j;return Q(o)?j=ti(A,o,T):xn(o)||bi(o)?j=ti(A,0,T):j=o.map((R,D)=>{var Z=Math.floor(D*C);if(Array.isArray(A)&&A[Z]){var oe=A[Z];return Tl(Tl({},R),{},{x:ti(oe.x,R.x,T),y:ti(oe.y,R.y,T)})}return R}),T>0&&(i.current=k,a.current=j),b.createElement(NI,{points:k,baseLine:j,needClip:t,clipPathId:n,props:r})}return T>0&&(i.current=s,a.current=o),b.createElement(vi,null,l&&b.createElement("defs",null,b.createElement("clipPath",{id:"animationClipPath-".concat(n)},b.createElement(Gfe,{alpha:T,points:s,baseLine:o,layout:y,strokeWidth:r.strokeWidth}))),b.createElement(vi,{clipPath:"url(#animationClipPath-".concat(n,")")},b.createElement(NI,{points:s,baseLine:o,needClip:t,clipPathId:n,props:r})))}),b.createElement(iue,{label:r.label}))}function Yfe(e){var{needClip:t,clipPathId:n,props:r}=e,i=b.useRef(null),a=b.useRef();return b.createElement(Kfe,{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a})}class Wfe extends b.PureComponent{render(){var{hide:t,dot:n,points:r,className:i,top:a,left:s,needClip:o,xAxisId:l,yAxisId:u,width:c,height:f,id:m,baseLine:p,zIndex:g}=this.props;if(t)return null;var _=Ye("recharts-area",i),y=m,{r:w,strokeWidth:x}=rfe(n),S=a5(n),N=w*2+x,P=o?"url(#clipPath-".concat(S?"":"dots-").concat(y,")"):void 0;return b.createElement(Sa,{zIndex:g},b.createElement(vi,{className:_},o&&b.createElement("defs",null,b.createElement(nfe,{clipPathId:y,xAxisId:l,yAxisId:u}),!S&&b.createElement("clipPath",{id:"clipPath-dots-".concat(y)},b.createElement("rect",{x:s-N/2,y:a-N/2,width:c+N,height:f+N}))),b.createElement(Yfe,{needClip:o,clipPathId:y,props:this.props})),b.createElement(bI,{points:r,mainColor:gg(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:P}),this.props.isRange&&Array.isArray(p)&&b.createElement(bI,{points:p,mainColor:gg(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:P}))}}var E5={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:On.area};function Xfe(e){var t,n=fr(e,E5),{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:o,dot:l,fill:u,fillOpacity:c,hide:f,isAnimationActive:m,legendType:p,stroke:g,xAxisId:_,yAxisId:y}=n,w=w5(n,Dfe),x=Iu(),S=CV(),{needClip:N}=p5(_,y),P=Gn(),{points:O,isRange:A,baseLine:T}=(t=ee(Z=>jfe(Z,e.id,P)))!==null&&t!==void 0?t:{},C=nS();if(x!=="horizontal"&&x!=="vertical"||C==null||S!=="AreaChart"&&S!=="ComposedChart")return null;var{height:k,width:j,x:R,y:D}=C;return!O||!O.length?null:b.createElement(Wfe,yo({},w,{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:s,baseLine:T,connectNulls:o,dot:l,fill:u,fillOpacity:c,height:k,hide:f,layout:x,isAnimationActive:m==="auto"?!kd.isSsr:m,isRange:A,legendType:p,needClip:N,points:O,stroke:g,width:j,left:R,top:D,xAxisId:_,yAxisId:y}))}var Qfe=(e,t,n,r,i)=>{var a=n??t;if(Q(a))return a;var s=e==="horizontal"?i:r,o=s.scale.domain();if(s.type==="number"){var l=Math.max(o[0],o[1]),u=Math.min(o[0],o[1]);return a==="dataMin"?u:a==="dataMax"||l<0?l:Math.max(Math.min(o[0],o[1]),0)}return a==="dataMin"?o[0]:a==="dataMax"?o[1]:o[0]};function Zfe(e){var{areaSettings:{connectNulls:t,baseValue:n,dataKey:r},stackedData:i,layout:a,chartBaseValue:s,xAxis:o,yAxis:l,displayedData:u,dataStartIndex:c,xAxisTicks:f,yAxisTicks:m,bandSize:p}=e,g=i&&i.length,_=Qfe(a,s,n,o,l),y=a==="horizontal",w=!1,x=u.map((N,P)=>{var O,A,T,C;if(g)C=i[c+P];else{var k=un(N,r);Array.isArray(k)?(C=k,w=!0):C=[_,k]}var j=(O=(A=C)===null||A===void 0?void 0:A[1])!==null&&O!==void 0?O:null,R=j==null||g&&!t&&un(N,r)==null;if(y){var D;return{x:YC({axis:o,ticks:f,bandSize:p,entry:N,index:P}),y:R?null:(D=l.scale.map(j))!==null&&D!==void 0?D:null,value:C,payload:N}}return{x:R?null:(T=o.scale.map(j))!==null&&T!==void 0?T:null,y:YC({axis:l,ticks:m,bandSize:p,entry:N,index:P}),value:C,payload:N}}),S;return g||w?S=x.map(N=>{var P,O=Array.isArray(N.value)?N.value[0]:null;if(y){var A;return{x:N.x,y:O!=null&&N.y!=null&&(A=l.scale.map(O))!==null&&A!==void 0?A:null,payload:N.payload}}return{x:O!=null&&(P=o.scale.map(O))!==null&&P!==void 0?P:null,y:N.y,payload:N.payload}}):S=y?l.scale.map(_):o.scale.map(_),{points:x,baseLine:S??0,isRange:w}}function Jfe(e){var t=fr(e,E5),n=Gn();return b.createElement(Sue,{id:t.id,type:"area"},r=>b.createElement(b.Fragment,null,b.createElement(bue,{legendPayload:zfe(t)}),b.createElement(Bfe,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:r}),b.createElement(Pue,{type:"area",id:r,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:OJ(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:n,connectNulls:t.connectNulls}),b.createElement(Xfe,yo({},t,{id:r}))))}var S5=b.memo(Jfe,aS);S5.displayName="Area";var ede=["domain","range"],tde=["domain","range"];function CI(e,t){if(e==null)return{};var n,r,i=nde(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function nde(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function OI(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function A5(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=CI(e,ede),{domain:a,range:s}=t,o=CI(t,tde);return!OI(n,a)||!OI(r,s)?!1:aS(i,o)}var rde=["type"],ide=["dangerouslySetInnerHTML","ticks","scale"],ade=["id","scale"];function o_(){return o_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o_.apply(null,arguments)}function II(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function PI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?II(Object(n),!0).forEach(function(r){sde(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):II(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sde(e,t,n){return(t=ode(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ode(e){var t=lde(e,"string");return typeof t=="symbol"?t:t+""}function lde(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function l_(e,t){if(e==null)return{};var n,r,i=ude(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ude(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function cde(e){var t=qt(),n=b.useRef(null),r=Z1(),{type:i}=e,a=l_(e,rde),s=Wy(r,"xAxis",i),o=b.useMemo(()=>{if(s!=null)return PI(PI({},a),{},{type:s})},[a,s]);return b.useLayoutEffect(()=>{o!=null&&(n.current===null?t(Hue(o)):n.current!==o&&t(Gue({prev:n.current,next:o})),n.current=o)},[o,t]),b.useLayoutEffect(()=>()=>{n.current&&(t(Kue(n.current)),n.current=null)},[t]),null}var fde=e=>{var{xAxisId:t,className:n}=e,r=ee(KL),i=Gn(),a="xAxis",s=ee(w=>iV(w,a,t,i)),o=ee(w=>Tae(w,t)),l=ee(w=>Rae(w,t)),u=ee(w=>E6(w,t));if(o==null||l==null||u==null)return null;var{dangerouslySetInnerHTML:c,ticks:f,scale:m}=e,p=l_(e,ide),{id:g,scale:_}=u,y=l_(u,ade);return b.createElement(iS,o_({},p,y,{x:l.x,y:l.y,width:o.width,height:o.height,className:Ye("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:s,axisType:a}))},dde={allowDataOverflow:Lt.allowDataOverflow,allowDecimals:Lt.allowDecimals,allowDuplicatedCategory:Lt.allowDuplicatedCategory,angle:Lt.angle,axisLine:Qi.axisLine,height:Lt.height,hide:!1,includeHidden:Lt.includeHidden,interval:Lt.interval,label:!1,minTickGap:Lt.minTickGap,mirror:Lt.mirror,orientation:Lt.orientation,padding:Lt.padding,reversed:Lt.reversed,scale:Lt.scale,tick:Lt.tick,tickCount:Lt.tickCount,tickLine:Qi.tickLine,tickSize:Qi.tickSize,type:Lt.type,xAxisId:0},hde=e=>{var t=fr(e,dde);return b.createElement(b.Fragment,null,b.createElement(cde,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),b.createElement(fde,t))},T5=b.memo(hde,A5);T5.displayName="XAxis";var mde=["type"],pde=["dangerouslySetInnerHTML","ticks","scale"],gde=["id","scale"];function u_(){return u_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u_.apply(null,arguments)}function RI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RI(Object(n),!0).forEach(function(r){yde(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yde(e,t,n){return(t=vde(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vde(e){var t=bde(e,"string");return typeof t=="symbol"?t:t+""}function bde(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c_(e,t){if(e==null)return{};var n,r,i=xde(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function xde(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function _de(e){var t=qt(),n=b.useRef(null),r=Z1(),{type:i}=e,a=c_(e,mde),s=Wy(r,"yAxis",i),o=b.useMemo(()=>{if(s!=null)return jI(jI({},a),{},{type:s})},[s,a]);return b.useLayoutEffect(()=>{o!=null&&(n.current===null?t(Yue(o)):n.current!==o&&t(Wue({prev:n.current,next:o})),n.current=o)},[o,t]),b.useLayoutEffect(()=>()=>{n.current&&(t(Xue(n.current)),n.current=null)},[t]),null}function wde(e){var{yAxisId:t,className:n,width:r,label:i}=e,a=b.useRef(null),s=b.useRef(null),o=ee(KL),l=Gn(),u=qt(),c="yAxis",f=ee(O=>Dae(O,t)),m=ee(O=>kae(O,t)),p=ee(O=>iV(O,c,t,l)),g=ee(O=>S6(O,t));if(b.useLayoutEffect(()=>{if(!(r!=="auto"||!f||eS(i)||b.isValidElement(i)||g==null)){var O=a.current;if(O){var A=O.getCalculatedWidth();Math.round(f.width)!==Math.round(A)&&u(Que({id:t,width:A}))}}},[p,f,u,i,t,r,g]),f==null||m==null||g==null)return null;var{dangerouslySetInnerHTML:_,ticks:y,scale:w}=e,x=c_(e,pde),{id:S,scale:N}=g,P=c_(g,gde);return b.createElement(iS,u_({},x,P,{ref:a,labelRef:s,x:m.x,y:m.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:f.width,height:f.height,className:Ye("recharts-".concat(c," ").concat(c),n),viewBox:o,ticks:p,axisType:c}))}var Ede={allowDataOverflow:Vt.allowDataOverflow,allowDecimals:Vt.allowDecimals,allowDuplicatedCategory:Vt.allowDuplicatedCategory,angle:Vt.angle,axisLine:Qi.axisLine,hide:!1,includeHidden:Vt.includeHidden,interval:Vt.interval,label:!1,minTickGap:Vt.minTickGap,mirror:Vt.mirror,orientation:Vt.orientation,padding:Vt.padding,reversed:Vt.reversed,scale:Vt.scale,tick:Vt.tick,tickCount:Vt.tickCount,tickLine:Qi.tickLine,tickSize:Qi.tickSize,type:Vt.type,width:Vt.width,yAxisId:0},Sde=e=>{var t=fr(e,Ede);return b.createElement(b.Fragment,null,b.createElement(_de,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),b.createElement(wde,t))},N5=b.memo(Sde,A5);N5.displayName="YAxis";var Ade=(e,t)=>t,lS=V([Ade,Je,_6,Kt,wV,Ea,Wse,fn],noe),uS=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},C5=Or("mouseClick"),O5=Id();O5.startListening({actionCreator:C5,effect:(e,t)=>{var n=e.payload,r=lS(t.getState(),uS(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(Yae({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var f_=Or("mouseMove"),I5=Id(),Jh=null;I5.startListening({actionCreator:f_,effect:(e,t)=>{var n=e.payload;Jh!==null&&cancelAnimationFrame(Jh);var r=uS(n);Jh=requestAnimationFrame(()=>{var i=t.getState(),a=FE(i,i.tooltip.settings.shared);if(a==="axis"){var s=lS(i,r);(s==null?void 0:s.activeIndex)!=null?t.dispatch(hV({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(dV())}Jh=null})}});function Tde(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var kI={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},P5=Hn({name:"rootProps",initialState:kI,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:kI.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),Nde=P5.reducer,{updateOptions:Cde}=P5.actions,Ode=null,Ide={updatePolarOptions:(e,t)=>t.payload},R5=Hn({name:"polarOptions",initialState:Ode,reducers:Ide}),{updatePolarOptions:Ghe}=R5.actions,Pde=R5.reducer,j5=Or("keyDown"),k5=Or("focus"),cS=Id();cS.startListening({actionCreator:j5,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=qE(i,Uu(n),Bd(n),Fd(n)),o=s==null?-1:Number(s);if(!(!Number.isFinite(o)||o<0)){var l=Ea(n);if(a==="Enter"){var u=dg(n,"axis","hover",String(i.index));t.dispatch(n_({active:!i.active,activeIndex:i.index,activeCoordinate:u}));return}var c=Uae(n),f=c==="left-to-right"?1:-1,m=a==="ArrowRight"?1:-1,p=o+m*f;if(!(l==null||p>=l.length||p<0)){var g=dg(n,"axis","hover",String(p));t.dispatch(n_({active:!0,activeIndex:p.toString(),activeCoordinate:g}))}}}}}});cS.startListening({actionCreator:k5,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",s=dg(n,"axis","hover",String(a));t.dispatch(n_({active:!0,activeIndex:a,activeCoordinate:s}))}}}});var dr=Or("externalEvent"),D5=Id(),K0=new Map;D5.startListening({actionCreator:dr,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,a=K0.get(i);a!==void 0&&cancelAnimationFrame(a);var s=requestAnimationFrame(()=>{try{var o=t.getState(),l={activeCoordinate:kse(o),activeDataKey:Rse(o),activeIndex:Yf(o),activeLabel:AV(o),activeTooltipIndex:Yf(o),isTooltipActive:Dse(o)};n(l,r)}finally{K0.delete(i)}});K0.set(i,s)}}});var Rde=V([Lu],e=>e.tooltipItemPayloads),jde=V([Rde,(e,t)=>t,(e,t,n)=>n],(e,t,n)=>{if(t!=null){var r=e.find(a=>a.settings.graphicalItemId===n);if(r!=null){var{getPosition:i}=r;if(i!=null)return i(t)}}}),M5=Or("touchMove"),L5=Id();L5.startListening({actionCreator:M5,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=FE(r,r.tooltip.settings.shared);if(i==="axis"){var a=n.touches[0];if(a==null)return;var s=lS(r,uS({clientX:a.clientX,clientY:a.clientY,currentTarget:n.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(hV({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var o,l=n.touches[0];if(document.elementFromPoint==null||l==null)return;var u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var c=u.getAttribute(MJ),f=(o=u.getAttribute(LJ))!==null&&o!==void 0?o:void 0,m=Vu(r).find(_=>_.id===f);if(c==null||m==null||f==null)return;var{dataKey:p}=m,g=jde(r,c,f);t.dispatch(Kae({activeDataKey:p,activeIndex:c,activeCoordinate:g,activeGraphicalItemId:f}))}}}});var kde=mL({brush:oce,cartesianAxis:Zue,chartData:joe,errorBars:tfe,graphicalItems:Oue,layout:xJ,legend:Aee,options:Coe,polarAxis:sue,polarOptions:Pde,referenceElements:fce,rootProps:Nde,tooltip:Wae,zIndex:goe}),Dde=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return HZ({reducer:kde,preloadedState:t,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([O5.middleware,I5.middleware,cS.middleware,D5.middleware,L5.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(OL({type:"raf"}))},devTools:{serialize:{replacer:Tde},name:"recharts-".concat(n)}})};function Mde(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=Gn(),a=b.useRef(null);if(i)return n;a.current==null&&(a.current=Dde(t,r));var s=B1;return b.createElement(Afe,{context:s,store:a.current},n)}function Lde(e){var{layout:t,margin:n}=e,r=qt(),i=Gn();return b.useEffect(()=>{i||(r(yJ(t)),r(gJ(n)))},[r,i,t,n]),null}var Vde=b.memo(Lde,aS);function Ude(e){var t=qt();return b.useEffect(()=>{t(Cde(e))},[t,e]),null}function DI(e){var{zIndex:t,isPanorama:n}=e,r=b.useRef(null),i=qt();return b.useLayoutEffect(()=>(r.current&&i(moe({zIndex:t,element:r.current,isPanorama:n})),()=>{i(poe({zIndex:t,isPanorama:n}))}),[i,t,n]),b.createElement("g",{tabIndex:-1,ref:r})}function MI(e){var{children:t,isPanorama:n}=e,r=ee(ioe);if(!r||r.length===0)return t;var i=r.filter(s=>s<0),a=r.filter(s=>s>0);return b.createElement(b.Fragment,null,i.map(s=>b.createElement(DI,{key:s,zIndex:s,isPanorama:n})),t,a.map(s=>b.createElement(DI,{key:s,zIndex:s,isPanorama:n})))}var zde=["children"];function Bde(e,t){if(e==null)return{};var n,r,i=$de(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function $de(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function yg(){return yg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yg.apply(null,arguments)}var Fde={width:"100%",height:"100%",display:"block"},qde=b.forwardRef((e,t)=>{var n=t3(),r=n3(),i=f3();if(!_i(n)||!_i(r))return null;var{children:a,otherAttributes:s,title:o,desc:l}=e,u,c;return s!=null&&(typeof s.tabIndex=="number"?u=s.tabIndex:u=i?0:void 0,typeof s.role=="string"?c=s.role:c=i?"application":void 0),b.createElement(v4,yg({},s,{title:o,desc:l,role:c,tabIndex:u,width:n,height:r,style:Fde,ref:t}),a)}),Hde=e=>{var{children:t}=e,n=ee(My);if(!n)return null;var{width:r,height:i,y:a,x:s}=n;return b.createElement(v4,{width:r,height:i,x:s,y:a},t)},LI=b.forwardRef((e,t)=>{var{children:n}=e,r=Bde(e,zde),i=Gn();return i?b.createElement(Hde,null,b.createElement(MI,{isPanorama:!0},n)):b.createElement(qde,yg({ref:t},r),b.createElement(MI,{isPanorama:!1},n))});function Gde(){var e=qt(),[t,n]=b.useState(null),r=ee(DJ);return b.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;be(a)&&a!==r&&e(bJ(a))}},[t,e,r]),n}function VI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Kde(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VI(Object(n),!0).forEach(function(r){Yde(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Yde(e,t,n){return(t=Wde(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wde(e){var t=Xde(e,"string");return typeof t=="symbol"?t:t+""}function Xde(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ps(){return ps=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ps.apply(null,arguments)}var Qde=()=>($oe(),null);function vg(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Zde=b.forwardRef((e,t)=>{var n,r,i=b.useRef(null),[a,s]=b.useState({containerWidth:vg((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:vg((r=e.style)===null||r===void 0?void 0:r.height)}),o=b.useCallback((u,c)=>{s(f=>{var m=Math.round(u),p=Math.round(c);return f.containerWidth===m&&f.containerHeight===p?f:{containerWidth:m,containerHeight:p}})},[]),l=b.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:c,height:f}=u.getBoundingClientRect();o(c,f);var m=g=>{var _=g[0];if(_!=null){var{width:y,height:w}=_.contentRect;o(y,w)}},p=new ResizeObserver(m);p.observe(u),i.current=p}},[t,o]);return b.useEffect(()=>()=>{var u=i.current;u!=null&&u.disconnect()},[o]),b.createElement(b.Fragment,null,b.createElement(Rd,{width:a.containerWidth,height:a.containerHeight}),b.createElement("div",ps({ref:l},e)))}),Jde=b.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,a]=b.useState({containerWidth:vg(n),containerHeight:vg(r)}),s=b.useCallback((l,u)=>{a(c=>{var f=Math.round(l),m=Math.round(u);return c.containerWidth===f&&c.containerHeight===m?c:{containerWidth:f,containerHeight:m}})},[]),o=b.useCallback(l=>{if(typeof t=="function"&&t(l),l!=null){var{width:u,height:c}=l.getBoundingClientRect();s(u,c)}},[t,s]);return b.createElement(b.Fragment,null,b.createElement(Rd,{width:i.containerWidth,height:i.containerHeight}),b.createElement("div",ps({ref:o},e)))}),ehe=b.forwardRef((e,t)=>{var{width:n,height:r}=e;return b.createElement(b.Fragment,null,b.createElement(Rd,{width:n,height:r}),b.createElement("div",ps({ref:t},e)))}),the=b.forwardRef((e,t)=>{var{width:n,height:r}=e;return typeof n=="string"||typeof r=="string"?b.createElement(Jde,ps({},e,{ref:t})):typeof n=="number"&&typeof r=="number"?b.createElement(ehe,ps({},e,{width:n,height:r,ref:t})):b.createElement(b.Fragment,null,b.createElement(Rd,{width:n,height:r}),b.createElement("div",ps({ref:t},e)))});function nhe(e){return e?Zde:the}var rhe=b.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:s,onDoubleClick:o,onMouseDown:l,onMouseEnter:u,onMouseLeave:c,onMouseMove:f,onMouseUp:m,onTouchEnd:p,onTouchMove:g,onTouchStart:_,style:y,width:w,responsive:x,dispatchTouchEvents:S=!0}=e,N=b.useRef(null),P=qt(),[O,A]=b.useState(null),[T,C]=b.useState(null),k=Gde(),j=X1(),R=(j==null?void 0:j.width)>0?j.width:w,D=(j==null?void 0:j.height)>0?j.height:i,Z=b.useCallback($=>{k($),typeof t=="function"&&t($),A($),C($),$!=null&&(N.current=$)},[k,t,A,C]),oe=b.useCallback($=>{P(C5($)),P(dr({handler:a,reactEvent:$}))},[P,a]),q=b.useCallback($=>{P(f_($)),P(dr({handler:u,reactEvent:$}))},[P,u]),K=b.useCallback($=>{P(dV()),P(dr({handler:c,reactEvent:$}))},[P,c]),W=b.useCallback($=>{P(f_($)),P(dr({handler:f,reactEvent:$}))},[P,f]),te=b.useCallback(()=>{P(k5())},[P]),le=b.useCallback($=>{P(j5($.key))},[P]),We=b.useCallback($=>{P(dr({handler:s,reactEvent:$}))},[P,s]),ft=b.useCallback($=>{P(dr({handler:o,reactEvent:$}))},[P,o]),jt=b.useCallback($=>{P(dr({handler:l,reactEvent:$}))},[P,l]),je=b.useCallback($=>{P(dr({handler:m,reactEvent:$}))},[P,m]),dn=b.useCallback($=>{P(dr({handler:_,reactEvent:$}))},[P,_]),Ci=b.useCallback($=>{S&&P(M5($)),P(dr({handler:g,reactEvent:$}))},[P,S,g]),kt=b.useCallback($=>{P(dr({handler:p,reactEvent:$}))},[P,p]),Vs=nhe(x);return b.createElement(jV.Provider,{value:O},b.createElement(sQ.Provider,{value:T},b.createElement(Vs,{width:R??(y==null?void 0:y.width),height:D??(y==null?void 0:y.height),className:Ye("recharts-wrapper",r),style:Kde({position:"relative",cursor:"default",width:R,height:D},y),onClick:oe,onContextMenu:We,onDoubleClick:ft,onFocus:te,onKeyDown:le,onMouseDown:jt,onMouseEnter:q,onMouseLeave:K,onMouseMove:W,onMouseUp:je,onTouchEnd:kt,onTouchMove:Ci,onTouchStart:dn,ref:Z},b.createElement(Qde,null),n)))}),ihe=["width","height","responsive","children","className","style","compact","title","desc"];function ahe(e,t){if(e==null)return{};var n,r,i=she(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function she(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ohe=b.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:a,className:s,style:o,compact:l,title:u,desc:c}=e,f=ahe(e,ihe),m=Hr(f);return l?b.createElement(b.Fragment,null,b.createElement(Rd,{width:n,height:r}),b.createElement(LI,{otherAttributes:m,title:u,desc:c},a)):b.createElement(rhe,{className:s,style:o,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},b.createElement(LI,{otherAttributes:m,title:u,desc:c,ref:t},b.createElement(hce,null,a)))});function d_(){return d_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d_.apply(null,arguments)}var lhe={top:5,right:5,bottom:5,left:5},uhe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:lhe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},che=b.forwardRef(function(t,n){var r,i=fr(t.categoricalChartProps,uhe),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:u}=t,c={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return b.createElement(Mde,{preloadedState:{options:c},reduxStoreName:(r=u.id)!==null&&r!==void 0?r:a},b.createElement(sce,{chartData:u.data}),b.createElement(Vde,{layout:i.layout,margin:i.margin}),b.createElement(Ude,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),b.createElement(ohe,d_({},i,{ref:n})))}),fhe=["axis"],dhe=b.forwardRef((e,t)=>b.createElement(che,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:fhe,tooltipPayloadSearcher:Toe,categoricalChartProps:e,ref:t}));const hhe=()=>{const[e,t]=b.useState([]),[n,r]=b.useState(!0);b.useEffect(()=>{const s=m1(yi(lt,"orders"),RM("created_at","asc")),o=Nd(s,l=>{const u=l.docs.map(c=>{var f,m;return{id:c.id,...c.data(),dateObj:(f=c.data().created_at)==null?void 0:f.toDate(),date:((m=c.data().created_at)==null?void 0:m.toDate().toLocaleDateString())||"N/A"}});t(u),r(!1)});return()=>o()},[]);const i=b.useMemo(()=>{const s=e.reduce((u,c)=>u+(Number(c.total)||0),0),o=new Set(e.map(u=>u.user)).size,l=e.map(u=>({date:u.date,sales:Number(u.total)}));return{totalRevenue:s,uniqueCustomers:o,salesData:l}},[e]);if(n)return h.jsx("div",{className:"p-12 text-center text-gray-400 font-bold uppercase tracking-widest text-xs",children:"Loading Dashboard..."});const a=({title:s,value:o,icon:l,gradient:u,trend:c})=>h.jsxs("div",{className:`p-6 rounded-3xl text-white shadow-lg shadow-color relative overflow-hidden group hover:-translate-y-1 transition-transform duration-300 ${u}`,children:[h.jsxs("div",{className:"flex justify-between items-start z-10 relative",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-white/80 text-sm font-medium mb-1",children:s}),h.jsx("h3",{className:"text-3xl font-bold tracking-tight",children:o})]}),h.jsx("div",{className:"p-2 bg-white/20 rounded-xl backdrop-blur-sm",children:h.jsx(l,{size:20,className:"text-white"})})]}),h.jsxs("div",{className:"mt-6 flex items-center gap-2 text-sm font-medium relative z-10",children:[h.jsxs("span",{className:"bg-white/20 px-2 py-0.5 rounded-lg flex items-center gap-1 backdrop-blur-md",children:[h.jsx(kW,{size:14})," ",c]}),h.jsx("span",{className:"text-white/70 text-xs",children:"Since last month"})]}),h.jsx("div",{className:"absolute -bottom-4 -right-4 w-32 h-32 bg-white/10 rounded-full blur-2xl group-hover:scale-110 transition-transform duration-500"})]});return h.jsxs("div",{className:"flex gap-8",children:[h.jsxs("div",{className:"flex-1 space-y-8 min-w-0",children:[h.jsxs("div",{className:"flex justify-between items-center bg-white p-4 rounded-2xl border border-gray-100 shadow-sm",children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-800 ml-2",children:"Dashboard"}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{className:"p-2 text-gray-400 hover:bg-gray-50 rounded-lg",children:h.jsx(jf,{size:20})}),h.jsx("div",{className:"w-8 h-8 bg-black rounded-full flex items-center justify-center text-white font-bold text-xs shadow-md",children:"A"})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[h.jsx(a,{title:"Total Revenue",value:`$${i.totalRevenue.toLocaleString()}`,icon:n4,gradient:"bg-gradient-cyan",trend:"+12.5%"}),h.jsx(a,{title:"Total Orders",value:e.length,icon:i4,gradient:"bg-gradient-pink",trend:"+8.2%"}),h.jsx(a,{title:"New Customers",value:i.uniqueCustomers,icon:fX,gradient:"bg-gradient-orange",trend:"+2.4%"}),h.jsx(a,{title:"Avg. Order Value",value:"$124.50",icon:RW,gradient:"bg-gradient-green",trend:"+5.1%"})]}),h.jsxs("div",{className:"admin-card p-8",children:[h.jsxs("div",{className:"flex justify-between items-center mb-8",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Sales Overview"}),h.jsx("p",{className:"text-xs text-gray-500 font-medium uppercase tracking-wider mt-1",children:"Monthly Analytics"})]}),h.jsxs("select",{className:"bg-gray-50 border border-gray-200 text-xs font-bold uppercase tracking-wider text-gray-600 rounded-lg px-3 py-2 outline-none",children:[h.jsx("option",{children:"This Year"}),h.jsx("option",{children:"Last Year"})]})]}),h.jsx("div",{className:"h-[300px] w-full",children:h.jsx(oee,{width:"100%",height:"100%",children:h.jsxs(dhe,{data:i.salesData,children:[h.jsx("defs",{children:h.jsxs("linearGradient",{id:"colorSales",x1:"0",y1:"0",x2:"0",y2:"1",children:[h.jsx("stop",{offset:"5%",stopColor:"#D4AF37",stopOpacity:.3}),h.jsx("stop",{offset:"95%",stopColor:"#D4AF37",stopOpacity:0})]})}),h.jsx(h5,{strokeDasharray:"3 3",stroke:"#f0f0f0",vertical:!1}),h.jsx(T5,{dataKey:"date",axisLine:!1,tickLine:!1,tick:{fill:"#9ca3af",fontSize:11},dy:10}),h.jsx(N5,{axisLine:!1,tickLine:!1,tick:{fill:"#9ca3af",fontSize:11},tickFormatter:s=>`$${s}`}),h.jsx(Xoe,{contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgba(0,0,0,0.1)"},itemStyle:{color:"#D4AF37",fontWeight:"bold"}}),h.jsx(S5,{type:"monotone",dataKey:"sales",stroke:"#D4AF37",strokeWidth:3,fillOpacity:1,fill:"url(#colorSales)"})]})})})]}),h.jsxs("div",{className:"admin-card overflow-hidden",children:[h.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[h.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Recent Orders"}),h.jsx("button",{className:"text-yellow-600 text-xs font-bold uppercase tracking-wider hover:text-yellow-700",children:"View All"})]}),h.jsxs("table",{className:"w-full text-left admin-table",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"bg-gray-50/50 text-gray-400",children:[h.jsx("th",{className:"p-4 pl-6",children:"Order ID"}),h.jsx("th",{className:"p-4",children:"Customer"}),h.jsx("th",{className:"p-4",children:"Date"}),h.jsx("th",{className:"p-4",children:"Amount"}),h.jsx("th",{className:"p-4 text-right pr-6",children:"Status"})]})}),h.jsx("tbody",{children:e.slice().reverse().slice(0,5).map(s=>{var o,l;return h.jsxs("tr",{className:"hover:bg-gray-50/80 transition-colors",children:[h.jsxs("td",{className:"p-4 pl-6 font-mono text-xs font-bold text-gray-600",children:["#",s.id.slice(0,6)]}),h.jsxs("td",{className:"p-4 flex items-center gap-3",children:[h.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center text-xs font-bold text-gray-500",children:(o=s.user)==null?void 0:o.charAt(0).toUpperCase()}),h.jsx("span",{className:"text-sm font-medium text-gray-900",children:(l=s.user)==null?void 0:l.split("@")[0]})]}),h.jsx("td",{className:"p-4 text-xs text-gray-500 font-medium",children:s.date}),h.jsxs("td",{className:"p-4 text-sm font-bold text-gray-900",children:["$",Number(s.total).toFixed(2)]}),h.jsx("td",{className:"p-4 text-right pr-6",children:h.jsx("span",{className:`px-2.5 py-1 rounded-lg text-xs font-bold ${s.status==="New"?"bg-yellow-100 text-yellow-700":s.status==="Shipped"?"bg-cyan-100 text-cyan-700":"bg-green-100 text-green-700"}`,children:s.status||"Paid"})})]},s.id)})})]})]})]}),h.jsxs("div",{className:"w-[350px] flex-shrink-0 space-y-6 hidden xl:block",children:[h.jsxs("div",{className:"admin-card p-6 text-center relative overflow-hidden",children:[h.jsx("div",{className:"w-24 h-24 mx-auto rounded-full p-1 bg-gradient-to-br from-gold to-yellow-600 mb-4 shadow-xl",children:h.jsx("div",{className:"w-full h-full rounded-full bg-white flex items-center justify-center text-3xl font-bold text-yellow-600",children:"A"})}),h.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Admin User"}),h.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"Store Manager"}),h.jsxs("div",{className:"flex justify-center gap-4",children:[h.jsx("button",{className:"p-2 rounded-full bg-gray-50 hover:bg-gray-100 text-gray-500 transition-colors",children:h.jsx(ZW,{size:18})}),h.jsx("button",{className:"p-2 rounded-full bg-gray-50 hover:bg-gray-100 text-gray-500 transition-colors",children:h.jsx(jf,{size:18})}),h.jsx("button",{className:"p-2 rounded-full bg-gray-50 hover:bg-gray-100 text-gray-500 transition-colors",children:h.jsx(KW,{size:18})})]})]}),h.jsxs("div",{className:"admin-card",children:[h.jsxs("div",{className:"p-5 border-b border-gray-100 flex justify-between items-center",children:[h.jsx("h3",{className:"text-base font-bold text-gray-800",children:"Recent Buyers"}),h.jsx(UW,{size:16,className:"text-gray-400 cursor-pointer"})]}),h.jsx("div",{className:"p-2 max-h-[400px] overflow-y-auto",children:e.slice(0,5).map(s=>{var o,l;return h.jsxs("div",{className:"flex items-center gap-4 p-3 hover:bg-gray-50 rounded-xl cursor-pointer transition-colors group",children:[h.jsx("div",{className:"w-10 h-10 rounded-xl bg-gray-100 flex items-center justify-center text-gray-500 font-bold text-sm group-hover:bg-white group-hover:shadow-sm transition-all",children:(o=s.user)==null?void 0:o.charAt(0).toUpperCase()}),h.jsxs("div",{className:"flex-1",children:[h.jsx("h4",{className:"text-sm font-bold text-gray-800",children:(l=s.user)==null?void 0:l.split("@")[0]}),h.jsx("p",{className:"text-xs text-gray-400",children:s.date})]}),h.jsxs("span",{className:"text-sm font-bold text-gray-900",children:["$",Number(s.total).toFixed(0)]})]},s.id)})}),h.jsx("div",{className:"p-4 border-t border-gray-100 text-center",children:h.jsx("div",{className:"p-4 border-t border-gray-100 text-center",children:h.jsx("button",{className:"text-xs font-bold text-yellow-600 uppercase tracking-wider hover:text-yellow-700",children:"View All Customers"})})})]}),h.jsxs("div",{className:"p-6 rounded-3xl bg-gray-900 text-white relative overflow-hidden shadow-xl",children:[h.jsxs("div",{className:"relative z-10",children:[h.jsx("p",{className:"text-gray-400 text-xs font-bold uppercase tracking-wider mb-2",children:"Revenue Goal"}),h.jsxs("h3",{className:"text-3xl font-bold mb-4",children:["$",i.totalRevenue.toLocaleString()]}),h.jsx("div",{className:"w-full bg-gray-700 h-1.5 rounded-full mb-2 overflow-hidden",children:h.jsx("div",{className:"bg-gradient-to-r from-gold to-yellow-600 h-full rounded-full",style:{width:`${Math.min(i.totalRevenue/5e3*100,100)}%`}})}),h.jsxs("div",{className:"flex justify-between text-xs text-gray-400",children:[h.jsx("span",{children:"Goal: $5,000"}),h.jsxs("span",{children:[Math.min(i.totalRevenue/5e3*100,100).toFixed(0),"%"]})]})]}),h.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-yellow-500 rounded-full blur-[60px] opacity-20"})]})]})]})},mhe=()=>{var _,y,w;const[e,t]=b.useState([]),[n,r]=b.useState(!0),[i,a]=b.useState("All"),[s,o]=b.useState(""),[l,u]=b.useState(null),[c,f]=b.useState("");b.useEffect(()=>{const x=Nd(yi(lt,"orders"),S=>{const N=S.docs.map(P=>{var A;const O=P.data();return{id:P.id,...O,date:((A=O.created_at)==null?void 0:A.toDate().toLocaleDateString())||new Date().toLocaleDateString(),paymentStatus:O.paymentStatus||"Paid",fulfillmentStatus:O.status||"Pending",trackingNumber:O.trackingNumber||""}});N.sort((P,O)=>O.created_at-P.created_at),t(N),r(!1)});return()=>x()},[]);const m=async(x,S)=>{try{await Pf(Tr(lt,"orders",x),{status:S})}catch(N){alert("Update failed: "+N.message)}},p=async()=>{if(l)try{await Pf(Tr(lt,"orders",l.id),{trackingNumber:c,status:"Shipped"}),f(""),u(null)}catch(x){alert("Failed to save tracking: "+x.message)}},g=e.filter(x=>{var P;const S=i==="All"||x.fulfillmentStatus===i,N=x.id.toLowerCase().includes(s.toLowerCase())||((P=x.user)==null?void 0:P.toLowerCase().includes(s.toLowerCase()));return S&&N});return h.jsxs("div",{className:"h-[calc(100vh-6rem)] flex flex-col",children:[h.jsxs("header",{className:"flex justify-between items-center mb-8",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Orders"}),h.jsx("p",{className:"text-gray-500 mt-1 text-sm",children:"Manage and track customer orders"})]}),h.jsxs("div",{className:"flex gap-4",children:[h.jsxs("div",{className:"relative",children:[h.jsx(T1,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),h.jsx("input",{type:"text",placeholder:"Order # or Customer...",value:s,onChange:x=>o(x.target.value),className:"input-premium-light pl-10 w-64"})]}),h.jsx("select",{value:i,onChange:x=>a(x.target.value),className:"input-premium-light cursor-pointer",children:["All","New","Pending","Processing","Shipped","Delivered"].map(x=>h.jsx("option",{value:x,children:x==="All"?"Filter by Status":x},x))})]})]}),h.jsxs("div",{className:"flex gap-6 flex-1 min-h-0",children:[h.jsx("div",{className:`bg-white border border-gray-200 rounded-2xl shadow-sm flex-1 overflow-hidden flex flex-col transition-all duration-300 ${l?"w-2/3":"w-full"}`,children:h.jsx("div",{className:"overflow-y-auto flex-1 p-2",children:h.jsxs("table",{className:"w-full text-left admin-table",children:[h.jsx("thead",{className:"sticky top-0 bg-white z-10",children:h.jsxs("tr",{className:"text-gray-400 text-xs uppercase tracking-wider border-b border-gray-100",children:[h.jsx("th",{className:"p-4 font-medium pl-6",children:"Order"}),h.jsx("th",{className:"p-4 font-medium",children:"Customer"}),h.jsx("th",{className:"p-4 font-medium",children:"Date"}),h.jsx("th",{className:"p-4 font-medium",children:"Total"}),h.jsx("th",{className:"p-4 font-medium",children:"Status"}),h.jsx("th",{className:"p-4 font-medium text-right pr-6",children:"Action"})]})}),h.jsx("tbody",{className:"divide-y divide-gray-50",children:n?h.jsx("tr",{children:h.jsx("td",{colSpan:"6",className:"p-12 text-center text-gray-400",children:"Loading orders..."})}):g.length===0?h.jsx("tr",{children:h.jsx("td",{colSpan:"6",className:"p-12 text-center text-gray-400",children:"No orders found."})}):g.map(x=>{var S;return h.jsxs("tr",{onClick:()=>u(x),className:`hover:bg-gold/5 cursor-pointer transition-colors group border-b border-gray-50 last:border-0 ${(l==null?void 0:l.id)===x.id?"bg-gold/10":""}`,children:[h.jsxs("td",{className:"p-4 pl-6 font-mono text-sm text-gray-600 font-bold group-hover:text-gold transition-colors",children:["#",x.id.slice(0,6)]}),h.jsx("td",{className:"p-4",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-gray-500 font-bold text-xs",children:(S=x.user)==null?void 0:S.charAt(0).toUpperCase()}),h.jsx("span",{className:"text-sm font-medium text-gray-900",children:x.user})]})}),h.jsx("td",{className:"p-4 text-sm text-gray-500",children:x.date}),h.jsxs("td",{className:"p-4 text-sm font-medium text-gray-900",children:["$",Number(x.total).toFixed(2)]}),h.jsx("td",{className:"p-4",children:h.jsx("span",{className:`text-xs font-bold px-2.5 py-1 rounded-full ${x.fulfillmentStatus==="Delivered"?"bg-green-100 text-green-700":x.fulfillmentStatus==="Shipped"?"bg-purple-100 text-purple-700":x.fulfillmentStatus==="Processing"?"bg-blue-100 text-blue-700":"bg-yellow-100 text-yellow-700"}`,children:x.fulfillmentStatus})}),h.jsx("td",{className:"p-4 pr-6 text-right",children:h.jsx("div",{className:"text-gray-300 group-hover:text-gray-600",children:""})})]},x.id)})})]})})}),l&&h.jsxs("div",{className:"w-[400px] bg-white border border-gray-200 rounded-2xl shadow-xl flex flex-col overflow-hidden animate-slide-in-right",children:[h.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-start bg-gold/5",children:[h.jsxs("div",{children:[h.jsxs("h2",{className:"text-lg font-bold text-gray-900",children:["Order #",l.id.slice(0,6)]}),h.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[l.date," at ",new Date(((_=l.created_at)==null?void 0:_.seconds)*1e3).toLocaleTimeString()]})]}),h.jsx("button",{onClick:()=>u(null),className:"p-1 hover:bg-gray-200 rounded-full text-gray-400 hover:text-gray-600 transition-colors",children:h.jsx("span",{className:"text-xl leading-none",children:""})})]}),h.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full mx-auto flex items-center justify-center text-3xl text-gray-400 font-light mb-4",children:(y=l.user)==null?void 0:y.charAt(0).toUpperCase()}),h.jsxs("h3",{className:"font-bold text-gray-900 text-lg",children:[l.firstName," ",l.lastName]}),h.jsx("p",{className:"text-sm text-gray-500 mb-4",children:l.email}),h.jsx("div",{className:"flex justify-center gap-4",children:h.jsx("button",{className:"p-2 rounded-full border border-gray-200 hover:bg-gold hover:border-gold hover:text-white transition-colors text-gray-500",children:h.jsx(jf,{size:16})})})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"text-xs font-bold uppercase tracking-wider text-gray-400 mb-4",children:"Order Items"}),h.jsx("div",{className:"space-y-4",children:(w=l.cart)==null?void 0:w.map((x,S)=>h.jsxs("div",{className:"flex gap-4",children:[h.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex-shrink-0"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:"text-sm font-medium text-gray-900",children:x.name}),h.jsxs("p",{className:"text-xs text-gray-500",children:["Qty: ",x.quantity,"  $",x.price]})]}),h.jsxs("span",{className:"text-sm font-bold text-gray-900",children:["$",(x.price*x.quantity).toFixed(2)]})]},S))}),h.jsxs("div",{className:"border-t border-gray-100 mt-4 pt-4 flex justify-between items-center",children:[h.jsx("span",{className:"font-bold text-gray-900",children:"Total"}),h.jsxs("span",{className:"font-bold text-2xl text-gray-900",children:["$",l.total]})]})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"text-xs font-bold uppercase tracking-wider text-gray-400 mb-4",children:"Fulfillment"}),h.jsx("div",{className:"grid grid-cols-2 gap-2",children:["Pending","Processing","Shipped","Delivered"].map(x=>h.jsx("button",{onClick:()=>m(l.id,x),className:`px-3 py-2 text-xs font-medium rounded-lg border transition-all ${l.fulfillmentStatus===x?"bg-gold text-black border-gold shadow-sm":"border-gray-200 text-gray-500 hover:border-gray-300"}`,children:x},x))})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"text-xs font-bold uppercase tracking-wider text-gray-400 mb-4",children:"Tracking Info"}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("input",{type:"text",value:c,onChange:x=>f(x.target.value),placeholder:"Tracking Number",className:"flex-1 text-sm border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:border-gold"}),h.jsx("button",{onClick:p,className:"bg-black text-white px-4 py-2 rounded-lg text-sm hover:bg-gray-800 transition-colors",children:"Save"})]})]})]})]})]})]})},phe=()=>{const[e,t]=b.useState([]),[n,r]=b.useState(!0),[i,a]=b.useState(!1),[s,o]=b.useState(null),[l,u]=b.useState(""),[c,f]=b.useState(!1),m=async O=>{const A=O.target.files[0];if(A){f(!0);try{const T=dW(vW,`products/${Date.now()}_${A.name}`),C=await cW(T,A),k=await fW(C.ref);g(j=>({...j,imageUrl:k})),g(j=>({...j,imageType:"custom"}))}catch(T){console.error("Upload failed",T),alert("Upload failed: "+T.message)}finally{f(!1)}}},[p,g]=b.useState({sku:"",name:"",category:"Powder",price:"",cost:"",stock:"",reorderPoint:10,imageType:"divine",imageUrl:""});b.useEffect(()=>{const O=Nd(yi(lt,"products"),A=>{const T=A.docs.map(C=>({id:C.id,...C.data()}));t(T),r(!1)},A=>{console.error("Error fetching products:",A),r(!1)});return()=>O()},[]);const _=e.reduce((O,A)=>O+(Number(A.cost)||0)*(Number(A.stock)||0),0),y=e.filter(O=>(Number(O.stock)||0)<=(Number(O.reorderPoint)||0)).length,w=O=>{const A=Number(O.stock)||0,T=Number(O.reorderPoint)||0;return A===0?{label:"Out of Stock",color:"text-red-500 bg-red-500/10 border-red-500/20"}:A<=5?{label:"Critical",color:"text-red-400 bg-red-400/10 border-red-400/20"}:A<=T?{label:"Low Stock",color:"text-yellow-500 bg-yellow-500/10 border-yellow-500/20"}:{label:"In Stock",color:"text-green-500 bg-green-500/10 border-green-500/20"}},x=(O=null)=>{o(O),g(O?{sku:O.sku||"",name:O.name||"",category:O.category||"Powder",price:O.price||"",cost:O.cost||"",stock:O.stock||"",reorderPoint:O.reorderPoint||10,imageType:O.imageType||"divine",imageUrl:O.imageUrl||""}:{sku:"",name:"",category:"Powder",price:"",cost:"",stock:"",reorderPoint:10,imageType:"divine",imageUrl:""}),a(!0)},S=async O=>{O.preventDefault();const A={...p,price:Number(p.price),cost:Number(p.cost),stock:Number(p.stock),reorderPoint:Number(p.reorderPoint)};try{s?await Pf(Tr(lt,"products",s.id),A):await fy(yi(lt,"products"),A),a(!1)}catch(T){alert("Failed to save product: "+T.message)}},N=async O=>{window.confirm("Are you sure you want to delete this product?")&&await DM(Tr(lt,"products",O))},P=e.filter(O=>O.name.toLowerCase().includes(l.toLowerCase())||O.sku.toLowerCase().includes(l.toLowerCase()));return n?h.jsx("div",{className:"p-10 text-center text-gray-500 text-xs uppercase tracking-widest",children:"Loading Inventory..."}):h.jsxs("div",{className:"space-y-8",children:[h.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-end gap-4 pb-6 border-b border-gray-200",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Inventory"}),h.jsx("p",{className:"text-gray-500 mt-1 text-sm",children:"Manage product catalog, stock levels, and pricing."})]}),h.jsxs("div",{className:"flex gap-4 w-full md:w-auto",children:[h.jsxs("div",{className:"relative group",children:[h.jsx(T1,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-gold transition-colors",size:18}),h.jsx("input",{type:"text",placeholder:"Search Inventory...",value:l,onChange:O=>u(O.target.value),className:"pl-10 pr-4 py-2.5 bg-white border border-gray-200 rounded-lg text-sm w-full md:w-64 focus:outline-none focus:ring-2 focus:ring-gold/50 transition-all shadow-sm"})]}),h.jsxs("button",{onClick:()=>x(),className:"bg-gradient-to-r from-gold to-yellow-600 hover:from-yellow-400 hover:to-yellow-500 text-black text-xs uppercase tracking-widest px-6 py-2.5 font-bold transition-all rounded-lg flex items-center gap-2 shadow-lg hover:shadow-xl hover:-translate-y-0.5 shadow-gold/20",children:[h.jsx(eX,{size:16})," Add Product"]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[h.jsxs("div",{className:"bg-white border border-gray-200 p-6 rounded-2xl shadow-sm flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-gray-500 text-xs font-bold uppercase tracking-wider",children:"Total Asset Value"}),h.jsxs("h3",{className:"text-2xl text-gray-900 font-bold mt-1 tracking-tight",children:["$",_.toLocaleString()]})]}),h.jsx("div",{className:"p-3 bg-blue-50 rounded-xl text-blue-600",children:h.jsx(n4,{size:24})})]}),h.jsxs("div",{className:"bg-white border border-gray-200 p-6 rounded-2xl shadow-sm flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-gray-500 text-xs font-bold uppercase tracking-wider",children:"Total Products"}),h.jsx("h3",{className:"text-2xl text-gray-900 font-bold mt-1 tracking-tight",children:e.length})]}),h.jsx("div",{className:"p-3 bg-purple-50 rounded-xl text-purple-600",children:h.jsx(r4,{size:24})})]}),h.jsxs("div",{className:"bg-white border border-gray-200 p-6 rounded-2xl shadow-sm flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-gray-500 text-xs font-bold uppercase tracking-wider",children:"Low Stock Alerts"}),h.jsx("h3",{className:`text-2xl font-bold mt-1 tracking-tight ${y>0?"text-red-600":"text-green-600"}`,children:y})]}),h.jsx("div",{className:`p-3 rounded-xl ${y>0?"bg-red-50 text-red-600":"bg-green-50 text-green-600"}`,children:h.jsx(uX,{size:24})})]})]}),h.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl overflow-hidden shadow-sm",children:h.jsxs("table",{className:"w-full text-left admin-table",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"bg-gray-50 text-gray-400 text-xs font-bold uppercase tracking-wider border-b border-gray-100",children:[h.jsx("th",{className:"p-4 pl-6 font-medium w-20",children:"Image"}),h.jsx("th",{className:"p-4 font-medium",children:"Product Name"}),h.jsx("th",{className:"p-4 font-medium",children:"Category"}),h.jsx("th",{className:"p-4 font-medium text-right",children:"Price"}),h.jsx("th",{className:"p-4 font-medium text-center",children:"Stock"}),h.jsx("th",{className:"p-4 font-medium",children:"Status"}),h.jsx("th",{className:"p-4 font-medium text-right pr-6",children:"Actions"})]})}),h.jsx("tbody",{className:"divide-y divide-gray-50",children:P.map(O=>{const A=w(O);return h.jsxs("tr",{className:"hover:bg-gray-50 transition-colors group",children:[h.jsx("td",{className:"p-4 pl-6",children:h.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg overflow-hidden border border-gray-100",children:O.imageUrl?h.jsx("img",{src:O.imageUrl,alt:O.name,className:"w-full h-full object-cover"}):h.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:h.jsx(vx,{size:16})})})}),h.jsxs("td",{className:"p-4",children:[h.jsx("div",{className:"text-sm text-gray-900 font-bold",children:O.name}),h.jsx("div",{className:"text-xs text-gray-500 font-mono mt-0.5",children:O.sku})]}),h.jsx("td",{className:"p-4 text-sm text-gray-600",children:O.category}),h.jsxs("td",{className:"p-4 text-sm text-gray-900 font-mono text-right font-medium",children:["$",Number(O.price).toFixed(2)]}),h.jsx("td",{className:"p-4 text-sm text-gray-900 font-mono text-center",children:O.stock}),h.jsx("td",{className:"p-4",children:h.jsx("span",{className:`text-[10px] uppercase font-bold tracking-wider px-2.5 py-1 rounded-full border ${A.color.replace("bg-","bg-opacity-10 bg-").replace("text-","text-opacity-100 text-")}`,children:A.label})}),h.jsx("td",{className:"p-4 text-right pr-6",children:h.jsxs("div",{className:"flex gap-2 justify-end opacity-0 group-hover:opacity-100 transition-opacity",children:[h.jsx("button",{onClick:()=>x(O),className:"p-2 text-gray-400 hover:text-gold hover:bg-gold/10 rounded-lg transition-colors",children:h.jsx(XW,{size:16})}),h.jsx("button",{onClick:()=>N(O.id),className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",children:h.jsx(a4,{size:16})})]})})]},O.id)})})]})}),i&&h.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-fade-in",children:h.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-2xl shadow-2xl overflow-hidden animate-scale-in",children:[h.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50/50",children:[h.jsx("h2",{className:"text-lg font-bold text-gray-900",children:s?"Edit Product":"Add New Product"}),h.jsx("button",{onClick:()=>a(!1),className:"text-gray-400 hover:text-gray-600 text-2xl leading-none",children:""})]}),h.jsxs("form",{onSubmit:S,className:"p-8 grid grid-cols-2 gap-6",children:[h.jsxs("div",{className:"col-span-1",children:[h.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-500 mb-2",children:"SKU"}),h.jsx("input",{type:"text",required:!0,className:"w-full bg-white border border-gray-200 rounded-lg p-3 text-gray-900 focus:border-gold focus:ring-1 focus:ring-gold outline-none text-sm transition-all",value:p.sku,onChange:O=>g({...p,sku:O.target.value})})]}),h.jsxs("div",{className:"col-span-1",children:[h.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-500 mb-2",children:"Category"}),h.jsxs("select",{className:"w-full bg-white border border-gray-200 rounded-lg p-3 text-gray-900 focus:border-gold focus:ring-1 focus:ring-gold outline-none text-sm transition-all",value:p.category,onChange:O=>g({...p,category:O.target.value}),children:[h.jsx("option",{children:"Powder"}),h.jsx("option",{children:"Sticks"}),h.jsx("option",{children:"Blends"}),h.jsx("option",{children:"Gift Sets"})]})]}),h.jsxs("div",{className:"col-span-2",children:[h.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-500 mb-2",children:"Product Name"}),h.jsx("input",{type:"text",required:!0,className:"w-full bg-white border border-gray-200 rounded-lg p-3 text-gray-900 focus:border-gold focus:ring-1 focus:ring-gold outline-none text-sm transition-all",value:p.name,onChange:O=>g({...p,name:O.target.value})})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-500 mb-2",children:"Price ($)"}),h.jsx("input",{type:"number",step:"0.01",required:!0,className:"w-full bg-white border border-gray-200 rounded-lg p-3 text-gray-900 focus:border-gold focus:ring-1 focus:ring-gold outline-none text-sm transition-all",value:p.price,onChange:O=>g({...p,price:O.target.value})})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-500 mb-2",children:"Cost ($)"}),h.jsx("input",{type:"number",step:"0.01",required:!0,className:"w-full bg-white border border-gray-200 rounded-lg p-3 text-gray-900 focus:border-gold focus:ring-1 focus:ring-gold outline-none text-sm transition-all",value:p.cost,onChange:O=>g({...p,cost:O.target.value})})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-500 mb-2",children:"Stock"}),h.jsx("input",{type:"number",required:!0,className:"w-full bg-white border border-gray-200 rounded-lg p-3 text-gray-900 focus:border-gold focus:ring-1 focus:ring-gold outline-none text-sm transition-all",value:p.stock,onChange:O=>g({...p,stock:O.target.value})})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-500 mb-2",children:"Low Stock Threshold"}),h.jsx("input",{type:"number",required:!0,className:"w-full bg-white border border-gray-200 rounded-lg p-3 text-gray-900 focus:border-gold focus:ring-1 focus:ring-gold outline-none text-sm transition-all",value:p.reorderPoint,onChange:O=>g({...p,reorderPoint:O.target.value})})]}),h.jsxs("div",{className:"col-span-2",children:[h.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-500 mb-2",children:"Product Image"}),h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("div",{className:"w-20 h-20 bg-gray-100 rounded-lg border border-gray-200 flex items-center justify-center overflow-hidden relative group",children:[p.imageUrl?h.jsx("img",{src:p.imageUrl,alt:"Preview",className:"w-full h-full object-cover"}):h.jsx(vx,{className:"text-gray-400"}),c&&h.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:h.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"})})]}),h.jsxs("div",{className:"flex-1",children:[h.jsx("input",{type:"file",onChange:m,disabled:c,accept:"image/*",className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-xs file:font-bold file:bg-black file:text-white hover:file:bg-gray-800 transition-all cursor-pointer"}),h.jsx("p",{className:"text-[10px] text-gray-400 mt-2",children:"Supported: JPG, PNG, WEBP. Max 5MB."})]})]})]}),h.jsxs("div",{className:"col-span-2 flex justify-end gap-4 mt-6 pt-6 border-t border-gray-100",children:[h.jsx("button",{type:"button",onClick:()=>a(!1),className:"px-4 py-2 text-xs font-bold uppercase tracking-widest text-gray-500 hover:text-gray-800 transition-colors",children:"Cancel"}),h.jsx("button",{type:"submit",className:"bg-black text-white px-8 py-3 rounded-lg text-xs uppercase tracking-widest font-bold hover:bg-gray-800 transition-colors shadow-lg shadow-black/20",children:"Save Product"})]})]})]})})]})},ghe=()=>{const[e,t]=b.useState([]),[n,r]=b.useState(!0),[i,a]=b.useState(null),[s,o]=b.useState(""),[l,u]=b.useState("all"),[c,f]=b.useState(""),[m,p]=b.useState(!1);b.useEffect(()=>{const x=m1(yi(lt,"messages"),RM("createdAt","desc")),S=Nd(x,N=>{const P=N.docs.map(O=>{var A;return{id:O.id,...O.data(),createdAt:((A=O.data().createdAt)==null?void 0:A.toDate())||new Date}});t(P),r(!1)});return()=>S()},[]);const g=async x=>{a(x),x.status==="new"&&await Pf(Tr(lt,"messages",x.id),{status:"read"})},_=async(x,S)=>{S&&S.stopPropagation(),window.confirm("Delete this message?")&&(await DM(Tr(lt,"messages",x)),(i==null?void 0:i.id)===x&&a(null))},y=async()=>{if(!(!c.trim()||!i)){p(!0);try{const x="service_vnv2zdj",S="template_bny43aj",N="BsB9Xsr8nr5Yo-WuD",P={to_name:i.name,to_email:i.email,original_message:i.message,reply_message:c,subject:`Re: ${i.subject}`};await m4.send(x,S,P,N),await Pf(Tr(lt,"messages",i.id),{status:"replied",repliedAt:new Date}),alert(`Reply sent to ${i.email} successfully!`),f("")}catch(x){console.error("Failed to send reply:",x),alert(`Failed to send email. Error: ${x.text||x.message}
Please check the console for details.`)}finally{p(!1)}}},w=e.filter(x=>{const S=(x.name||"").toLowerCase().includes(s.toLowerCase())||(x.subject||"").toLowerCase().includes(s.toLowerCase())||(x.email||"").toLowerCase().includes(s.toLowerCase());return l==="unread"?S&&x.status==="new":S});return n?h.jsx("div",{className:"p-10 text-center text-gray-500 text-xs uppercase tracking-widest",children:"Loading Inbox..."}):h.jsxs("div",{className:"h-[calc(100vh-6rem)] flex flex-col",children:[h.jsxs("header",{className:"flex justify-between items-center mb-6",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Messages"}),h.jsx("p",{className:"text-gray-500 mt-1 text-sm",children:"Customer inquiries and support tickets."})]}),h.jsx("div",{className:"flex gap-4",children:h.jsxs("div",{className:"relative group",children:[h.jsx(T1,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-gold transition-colors",size:18}),h.jsx("input",{type:"text",placeholder:"Search inbox...",value:s,onChange:x=>o(x.target.value),className:"pl-10 pr-4 py-2.5 bg-white border border-gray-200 rounded-lg text-sm w-64 focus:outline-none focus:ring-2 focus:ring-gold/50 transition-all shadow-sm"})]})})]}),h.jsxs("div",{className:"flex gap-6 flex-1 min-h-0 bg-white border border-gray-200 rounded-2xl shadow-sm overflow-hidden",children:[h.jsxs("div",{className:"w-1/3 min-w-[320px] max-w-[400px] border-r border-gray-100 flex flex-col bg-gray-50/50",children:[h.jsxs("div",{className:"p-4 border-b border-gray-100 flex gap-2",children:[h.jsx("button",{onClick:()=>u("all"),className:`flex-1 py-2 text-[10px] uppercase tracking-widest font-bold rounded-lg transition-all ${l==="all"?"bg-white text-black shadow-sm border border-gray-200":"text-gray-500 hover:bg-gray-100"}`,children:"All"}),h.jsx("button",{onClick:()=>u("unread"),className:`flex-1 py-2 text-[10px] uppercase tracking-widest font-bold rounded-lg transition-all ${l==="unread"?"bg-gold text-black shadow-lg shadow-gold/20":"text-gray-500 hover:bg-gray-100"}`,children:"Unread"})]}),h.jsx("div",{className:"flex-1 overflow-y-auto",children:w.length===0?h.jsx("div",{className:"p-8 text-center text-gray-400 text-xs uppercase tracking-widest",children:"No messages"}):w.map(x=>h.jsxs("div",{onClick:()=>g(x),className:`p-5 border-b border-gray-100 cursor-pointer transition-all hover:bg-white group relative ${(i==null?void 0:i.id)===x.id?"bg-white shadow-md z-10":""}`,children:[h.jsxs("div",{className:"flex justify-between items-start mb-1",children:[h.jsx("h3",{className:`text-sm truncate pr-2 ${x.status==="new"?"text-gray-900 font-bold":"text-gray-600 font-medium"}`,children:x.name}),h.jsx("span",{className:"text-[10px] text-gray-400 font-mono whitespace-nowrap",children:x.createdAt.toLocaleDateString()})]}),h.jsx("p",{className:`text-xs mb-1.5 truncate ${x.status==="new"?"text-gold font-medium":"text-gray-500"}`,children:x.subject}),h.jsx("p",{className:"text-[11px] text-gray-400 truncate leading-relaxed",children:x.message}),x.status==="new"&&h.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-gold"})]},x.id))})]}),h.jsx("div",{className:"flex-1 flex flex-col bg-white relative",children:i?h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"p-8 border-b border-gray-100 flex justify-between items-start",children:[h.jsxs("div",{className:"flex items-start gap-4",children:[h.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-100 flex items-center justify-center text-gray-400 font-bold text-lg",children:i.name.charAt(0).toUpperCase()}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl text-gray-900 font-bold mb-1",children:i.subject}),h.jsxs("div",{className:"flex flex-col text-sm text-gray-500",children:[h.jsxs("span",{className:"flex items-center gap-2",children:["From: ",h.jsx("span",{className:"text-gray-900 font-medium",children:i.name}),h.jsxs("span",{className:"text-xs bg-gray-100 px-2 py-0.5 rounded text-gray-500",children:["<",i.email,">"]})]}),h.jsxs("span",{className:"text-[11px] text-gray-400 mt-1 uppercase tracking-wider flex items-center gap-1",children:[h.jsx(MW,{size:12})," ",i.createdAt.toLocaleString()]})]})]})]}),h.jsx("button",{onClick:x=>_(i.id,x),className:"p-2 text-gray-400 hover:text-red-500 transition-colors rounded-lg hover:bg-red-50",title:"Delete Message",children:h.jsx(a4,{size:18})})]}),h.jsx("div",{className:"flex-1 p-8 overflow-y-auto",children:h.jsx("div",{className:"prose max-w-none",children:h.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap text-sm md:text-base",children:i.message})})}),h.jsxs("div",{className:"p-6 bg-gray-50 border-t border-gray-100 m-4 rounded-xl",children:[h.jsxs("h3",{className:"text-xs font-bold uppercase tracking-wider text-gray-500 mb-4 flex items-center gap-2",children:[h.jsx(nX,{size:14})," Reply to Customer"]}),h.jsx("div",{className:"mb-4",children:h.jsx("textarea",{value:c,onChange:x=>f(x.target.value),placeholder:"Write your response here...",className:"w-full bg-white border border-gray-200 rounded-lg p-4 text-sm text-gray-900 focus:border-gold focus:ring-1 focus:ring-gold outline-none min-h-[120px] resize-none transition-all shadow-sm placeholder:text-gray-400"})}),h.jsx("div",{className:"flex justify-end",children:h.jsx("button",{onClick:y,disabled:!c.trim()||m,className:"bg-gradient-to-r from-gold to-yellow-600 hover:from-yellow-400 hover:to-yellow-500 text-black px-6 py-2.5 rounded-lg shadow-lg hover:shadow-xl hover:-translate-y-0.5 transition-all text-xs uppercase tracking-widest font-bold flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:m?"Sending...":h.jsxs(h.Fragment,{children:[h.jsx(aX,{size:14})," Send Reply"]})})})]})]}):h.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-400",children:[h.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-50 flex items-center justify-center mb-6",children:h.jsx(jf,{size:40,className:"text-gray-300"})}),h.jsx("p",{className:"text-sm font-medium uppercase tracking-widest text-gray-500",children:"Select a message to view"})]})})]})]})};function yhe(){return console.log("VERSION CHECK: HASH ROUTER FIX V1"),h.jsx(xW,{children:h.jsx(B8,{children:h.jsx(R8,{children:h.jsx("div",{className:"app",children:h.jsxs(VT,{children:[h.jsx(dt,{path:"/admin/login",element:h.jsx(YX,{})}),h.jsxs(dt,{path:"/admin",element:h.jsx(WX,{}),children:[h.jsx(dt,{index:!0,element:h.jsx(hhe,{})}),h.jsx(dt,{path:"orders",element:h.jsx(mhe,{})}),h.jsx(dt,{path:"products",element:h.jsx(phe,{})}),h.jsx(dt,{path:"messages",element:h.jsx(ghe,{})})]}),h.jsx(dt,{path:"/*",element:h.jsxs(h.Fragment,{children:[h.jsx(_W,{}),h.jsx("main",{children:h.jsxs(VT,{children:[h.jsx(dt,{path:"/",element:h.jsx(yX,{})}),h.jsx(dt,{path:"/about-us",element:h.jsx(vX,{})}),h.jsx(dt,{path:"/about-cinnamon",element:h.jsx(_X,{})}),h.jsx(dt,{path:"/shop",element:h.jsx(SX,{})}),h.jsx(dt,{path:"/recipes",element:h.jsx(TX,{})}),h.jsx(dt,{path:"/contact",element:h.jsx(NX,{})}),h.jsx(dt,{path:"/cart",element:h.jsx(IX,{})}),h.jsx(dt,{path:"/checkout",element:h.jsx(FX,{})}),h.jsx(dt,{path:"/track",element:h.jsx(qX,{})}),h.jsx(dt,{path:"/order-confirmation",element:h.jsx(HX,{})}),h.jsx(dt,{path:"/faq",element:h.jsx(OX,{})}),h.jsx(dt,{path:"/privacy",element:h.jsx(GX,{})}),h.jsx(dt,{path:"/terms",element:h.jsx(KX,{})})]})}),h.jsx(wW,{})]})})]})})})})})}uB.createRoot(document.getElementById("root")).render(h.jsx(b.StrictMode,{children:h.jsx(yhe,{})}));
