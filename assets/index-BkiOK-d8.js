var iU=Object.defineProperty;var aU=(t,e,n)=>e in t?iU(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var bv=(t,e,n)=>aU(t,typeof e!="symbol"?e+"":e,n);function sU(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function Ns(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var MI={exports:{}},gg={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oU=Symbol.for("react.transitional.element"),lU=Symbol.for("react.fragment");function LI(t,e,n){var r=null;if(n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),"key"in e){n={};for(var i in e)i!=="key"&&(n[i]=e[i])}else n=e;return e=n.ref,{$$typeof:oU,type:t,key:r,ref:e!==void 0?e:null,props:n}}gg.Fragment=lU;gg.jsx=LI;gg.jsxs=LI;MI.exports=gg;var d=MI.exports,VI={exports:{}},ue={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f_=Symbol.for("react.transitional.element"),uU=Symbol.for("react.portal"),cU=Symbol.for("react.fragment"),fU=Symbol.for("react.strict_mode"),dU=Symbol.for("react.profiler"),hU=Symbol.for("react.consumer"),mU=Symbol.for("react.context"),pU=Symbol.for("react.forward_ref"),gU=Symbol.for("react.suspense"),yU=Symbol.for("react.memo"),UI=Symbol.for("react.lazy"),vU=Symbol.for("react.activity"),nA=Symbol.iterator;function bU(t){return t===null||typeof t!="object"?null:(t=nA&&t[nA]||t["@@iterator"],typeof t=="function"?t:null)}var zI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},BI=Object.assign,$I={};function mu(t,e,n){this.props=t,this.context=e,this.refs=$I,this.updater=n||zI}mu.prototype.isReactComponent={};mu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};mu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function FI(){}FI.prototype=mu.prototype;function d_(t,e,n){this.props=t,this.context=e,this.refs=$I,this.updater=n||zI}var h_=d_.prototype=new FI;h_.constructor=d_;BI(h_,mu.prototype);h_.isPureReactComponent=!0;var rA=Array.isArray;function G0(){}var qe={H:null,A:null,T:null,S:null},qI=Object.prototype.hasOwnProperty;function m_(t,e,n){var r=n.ref;return{$$typeof:f_,type:t,key:e,ref:r!==void 0?r:null,props:n}}function xU(t,e){return m_(t.type,e,t.props)}function p_(t){return typeof t=="object"&&t!==null&&t.$$typeof===f_}function _U(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var iA=/\/+/g;function xv(t,e){return typeof t=="object"&&t!==null&&t.key!=null?_U(""+t.key):e.toString(36)}function wU(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(G0,G0):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function rl(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"bigint":case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case f_:case uU:s=!0;break;case UI:return s=t._init,rl(s(t._payload),e,n,r,i)}}if(s)return i=i(t),s=r===""?"."+xv(t,0):r,rA(i)?(n="",s!=null&&(n=s.replace(iA,"$&/")+"/"),rl(i,e,n,"",function(u){return u})):i!=null&&(p_(i)&&(i=xU(i,n+(i.key==null||t&&t.key===i.key?"":(""+i.key).replace(iA,"$&/")+"/")+s)),e.push(i)),1;s=0;var o=r===""?".":r+":";if(rA(t))for(var l=0;l<t.length;l++)r=t[l],a=o+xv(r,l),s+=rl(r,e,n,a,i);else if(l=bU(t),typeof l=="function")for(t=l.call(t),l=0;!(r=t.next()).done;)r=r.value,a=o+xv(r,l++),s+=rl(r,e,n,a,i);else if(a==="object"){if(typeof t.then=="function")return rl(wU(t),e,n,r,i);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return s}function lh(t,e,n){if(t==null)return t;var r=[],i=0;return rl(t,r,"","",function(a){return e.call(n,a,i++)}),r}function EU(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var aA=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},SU={map:lh,forEach:function(t,e,n){lh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return lh(t,function(){e++}),e},toArray:function(t){return lh(t,function(e){return e})||[]},only:function(t){if(!p_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ue.Activity=vU;ue.Children=SU;ue.Component=mu;ue.Fragment=cU;ue.Profiler=dU;ue.PureComponent=d_;ue.StrictMode=fU;ue.Suspense=gU;ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=qe;ue.__COMPILER_RUNTIME={__proto__:null,c:function(t){return qe.H.useMemoCache(t)}};ue.cache=function(t){return function(){return t.apply(null,arguments)}};ue.cacheSignal=function(){return null};ue.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var r=BI({},t.props),i=t.key;if(e!=null)for(a in e.key!==void 0&&(i=""+e.key),e)!qI.call(e,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&e.ref===void 0||(r[a]=e[a]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var s=Array(a),o=0;o<a;o++)s[o]=arguments[o+2];r.children=s}return m_(t.type,i,r)};ue.createContext=function(t){return t={$$typeof:mU,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:hU,_context:t},t};ue.createElement=function(t,e,n){var r,i={},a=null;if(e!=null)for(r in e.key!==void 0&&(a=""+e.key),e)qI.call(e,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];i.children=o}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return m_(t,a,i)};ue.createRef=function(){return{current:null}};ue.forwardRef=function(t){return{$$typeof:pU,render:t}};ue.isValidElement=p_;ue.lazy=function(t){return{$$typeof:UI,_payload:{_status:-1,_result:t},_init:EU}};ue.memo=function(t,e){return{$$typeof:yU,type:t,compare:e===void 0?null:e}};ue.startTransition=function(t){var e=qe.T,n={};qe.T=n;try{var r=t(),i=qe.S;i!==null&&i(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(G0,aA)}catch(a){aA(a)}finally{e!==null&&n.types!==null&&(e.types=n.types),qe.T=e}};ue.unstable_useCacheRefresh=function(){return qe.H.useCacheRefresh()};ue.use=function(t){return qe.H.use(t)};ue.useActionState=function(t,e,n){return qe.H.useActionState(t,e,n)};ue.useCallback=function(t,e){return qe.H.useCallback(t,e)};ue.useContext=function(t){return qe.H.useContext(t)};ue.useDebugValue=function(){};ue.useDeferredValue=function(t,e){return qe.H.useDeferredValue(t,e)};ue.useEffect=function(t,e){return qe.H.useEffect(t,e)};ue.useEffectEvent=function(t){return qe.H.useEffectEvent(t)};ue.useId=function(){return qe.H.useId()};ue.useImperativeHandle=function(t,e,n){return qe.H.useImperativeHandle(t,e,n)};ue.useInsertionEffect=function(t,e){return qe.H.useInsertionEffect(t,e)};ue.useLayoutEffect=function(t,e){return qe.H.useLayoutEffect(t,e)};ue.useMemo=function(t,e){return qe.H.useMemo(t,e)};ue.useOptimistic=function(t,e){return qe.H.useOptimistic(t,e)};ue.useReducer=function(t,e,n){return qe.H.useReducer(t,e,n)};ue.useRef=function(t){return qe.H.useRef(t)};ue.useState=function(t){return qe.H.useState(t)};ue.useSyncExternalStore=function(t,e,n){return qe.H.useSyncExternalStore(t,e,n)};ue.useTransition=function(){return qe.H.useTransition()};ue.version="19.2.4";VI.exports=ue;var b=VI.exports;const pu=Ns(b),AU=sU({__proto__:null,default:pu},[b]);var HI={exports:{}},yg={},GI={exports:{}},KI={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,K){var Y=q.length;q.push(K);e:for(;0<Y;){var te=Y-1>>>1,le=q[te];if(0<i(le,K))q[te]=K,q[Y]=le,Y=te;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var K=q[0],Y=q.pop();if(Y!==K){q[0]=Y;e:for(var te=0,le=q.length,Ye=le>>>1;te<Ye;){var ft=2*(te+1)-1,Pt=q[ft],je=ft+1,cn=q[je];if(0>i(Pt,Y))je<le&&0>i(cn,Pt)?(q[te]=cn,q[je]=Y,te=je):(q[te]=Pt,q[ft]=Y,te=ft);else if(je<le&&0>i(cn,Y))q[te]=cn,q[je]=Y,te=je;else break e}}return K}function i(q,K){var Y=q.sortIndex-K.sortIndex;return Y!==0?Y:q.id-K.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],u=[],c=1,f=null,m=3,p=!1,g=!1,_=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function N(q){for(var K=n(u);K!==null;){if(K.callback===null)r(u);else if(K.startTime<=q)r(u),K.sortIndex=K.expirationTime,e(l,K);else break;K=n(u)}}function P(q){if(_=!1,N(q),!g)if(n(l)!==null)g=!0,k||(k=!0,I());else{var K=n(u);K!==null&&oe(P,K.startTime-q)}}var k=!1,T=-1,A=5,C=-1;function R(){return y?!0:!(t.unstable_now()-C<A)}function j(){if(y=!1,k){var q=t.unstable_now();C=q;var K=!0;try{e:{g=!1,_&&(_=!1,x(T),T=-1),p=!0;var Y=m;try{t:{for(N(q),f=n(l);f!==null&&!(f.expirationTime>q&&R());){var te=f.callback;if(typeof te=="function"){f.callback=null,m=f.priorityLevel;var le=te(f.expirationTime<=q);if(q=t.unstable_now(),typeof le=="function"){f.callback=le,N(q),K=!0;break t}f===n(l)&&r(l),N(q)}else r(l);f=n(l)}if(f!==null)K=!0;else{var Ye=n(u);Ye!==null&&oe(P,Ye.startTime-q),K=!1}}break e}finally{f=null,m=Y,p=!1}K=void 0}}finally{K?I():k=!1}}}var I;if(typeof E=="function")I=function(){E(j)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Z=D.port2;D.port1.onmessage=j,I=function(){Z.postMessage(null)}}else I=function(){w(j,0)};function oe(q,K){T=w(function(){q(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_next=function(q){switch(m){case 1:case 2:case 3:var K=3;break;default:K=m}var Y=m;m=K;try{return q()}finally{m=Y}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(q,K){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var Y=m;m=q;try{return K()}finally{m=Y}},t.unstable_scheduleCallback=function(q,K,Y){var te=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?te+Y:te):Y=te,q){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=Y+le,q={id:c++,callback:K,priorityLevel:q,startTime:Y,expirationTime:le,sortIndex:-1},Y>te?(q.sortIndex=Y,e(u,q),n(l)===null&&q===n(u)&&(_?(x(T),T=-1):_=!0,oe(P,Y-te))):(q.sortIndex=le,e(l,q),g||p||(g=!0,k||(k=!0,I()))),q},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(q){var K=m;return function(){var Y=m;m=K;try{return q.apply(this,arguments)}finally{m=Y}}}})(KI);GI.exports=KI;var TU=GI.exports,WI={exports:{}},On={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NU=b;function YI(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Ia(){}var An={d:{f:Ia,r:function(){throw Error(YI(522))},D:Ia,C:Ia,L:Ia,m:Ia,X:Ia,S:Ia,M:Ia},p:0,findDOMNode:null},CU=Symbol.for("react.portal");function OU(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:CU,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}var Vc=NU.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function vg(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}On.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=An;On.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(YI(299));return OU(t,e,null,n)};On.flushSync=function(t){var e=Vc.T,n=An.p;try{if(Vc.T=null,An.p=2,t)return t()}finally{Vc.T=e,An.p=n,An.d.f()}};On.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,An.d.C(t,e))};On.prefetchDNS=function(t){typeof t=="string"&&An.d.D(t)};On.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,r=vg(n,e.crossOrigin),i=typeof e.integrity=="string"?e.integrity:void 0,a=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?An.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:a}):n==="script"&&An.d.X(t,{crossOrigin:r,integrity:i,fetchPriority:a,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};On.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=vg(e.as,e.crossOrigin);An.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&An.d.M(t)};On.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,r=vg(n,e.crossOrigin);An.d.L(t,n,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};On.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=vg(e.as,e.crossOrigin);An.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else An.d.m(t)};On.requestFormReset=function(t){An.d.r(t)};On.unstable_batchedUpdates=function(t,e){return t(e)};On.useFormState=function(t,e,n){return Vc.H.useFormState(t,e,n)};On.useFormStatus=function(){return Vc.H.useHostTransitionStatus()};On.version="19.2.4";function XI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(XI)}catch(t){console.error(t)}}XI(),WI.exports=On;var g_=WI.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ot=TU,QI=b,IU=g_;function z(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ZI(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ed(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function JI(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function eR(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function sA(t){if(ed(t)!==t)throw Error(z(188))}function RU(t){var e=t.alternate;if(!e){if(e=ed(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return sA(i),t;if(a===r)return sA(i),e;a=a.sibling}throw Error(z(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function tR(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=tR(t),e!==null)return e;t=t.sibling}return null}var He=Object.assign,PU=Symbol.for("react.element"),uh=Symbol.for("react.transitional.element"),Sc=Symbol.for("react.portal"),dl=Symbol.for("react.fragment"),nR=Symbol.for("react.strict_mode"),K0=Symbol.for("react.profiler"),rR=Symbol.for("react.consumer"),Mi=Symbol.for("react.context"),y_=Symbol.for("react.forward_ref"),W0=Symbol.for("react.suspense"),Y0=Symbol.for("react.suspense_list"),v_=Symbol.for("react.memo"),Pa=Symbol.for("react.lazy"),X0=Symbol.for("react.activity"),jU=Symbol.for("react.memo_cache_sentinel"),oA=Symbol.iterator;function sc(t){return t===null||typeof t!="object"?null:(t=oA&&t[oA]||t["@@iterator"],typeof t=="function"?t:null)}var kU=Symbol.for("react.client.reference");function Q0(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===kU?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case dl:return"Fragment";case K0:return"Profiler";case nR:return"StrictMode";case W0:return"Suspense";case Y0:return"SuspenseList";case X0:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Sc:return"Portal";case Mi:return t.displayName||"Context";case rR:return(t._context.displayName||"Context")+".Consumer";case y_:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case v_:return e=t.displayName||null,e!==null?e:Q0(t.type)||"Memo";case Pa:e=t._payload,t=t._init;try{return Q0(t(e))}catch{}}return null}var Ac=Array.isArray,ie=QI.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ae=IU.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,io={pending:!1,data:null,method:null,action:null},Z0=[],hl=-1;function _i(t){return{current:t}}function $t(t){0>hl||(t.current=Z0[hl],Z0[hl]=null,hl--)}function Ve(t,e){hl++,Z0[hl]=t.current,t.current=e}var si=_i(null),of=_i(null),Ja=_i(null),Im=_i(null);function Rm(t,e){switch(Ve(Ja,e),Ve(of,t),Ve(si,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?hT(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=hT(e),t=Ej(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}$t(si),Ve(si,t)}function $l(){$t(si),$t(of),$t(Ja)}function J0(t){t.memoizedState!==null&&Ve(Im,t);var e=si.current,n=Ej(e,t.type);e!==n&&(Ve(of,t),Ve(si,n))}function Pm(t){of.current===t&&($t(si),$t(of)),Im.current===t&&($t(Im),vf._currentValue=io)}var _v,lA;function Hs(t){if(_v===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);_v=e&&e[1]||"",lA=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_v+t+lA}var wv=!1;function Ev(t,e){if(!t||wv)return"";wv=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(p){var m=p}Reflect.construct(t,[],f)}else{try{f.call()}catch(p){m=p}t.call(f.prototype)}}else{try{throw Error()}catch(p){m=p}(f=t())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(p){if(p&&m&&typeof p.stack=="string")return[p.stack,m.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),s=a[0],o=a[1];if(s&&o){var l=s.split(`
`),u=o.split(`
`);for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===u.length)for(r=l.length-1,i=u.length-1;1<=r&&0<=i&&l[r]!==u[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==u[i]){if(r!==1||i!==1)do if(r--,i--,0>i||l[r]!==u[i]){var c=`
`+l[r].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=r&&0<=i);break}}}finally{wv=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Hs(n):""}function DU(t,e){switch(t.tag){case 26:case 27:case 5:return Hs(t.type);case 16:return Hs("Lazy");case 13:return t.child!==e&&e!==null?Hs("Suspense Fallback"):Hs("Suspense");case 19:return Hs("SuspenseList");case 0:case 15:return Ev(t.type,!1);case 11:return Ev(t.type.render,!1);case 1:return Ev(t.type,!0);case 31:return Hs("Activity");default:return""}}function uA(t){try{var e="",n=null;do e+=DU(t,n),n=t,t=t.return;while(t);return e}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var eb=Object.prototype.hasOwnProperty,b_=Ot.unstable_scheduleCallback,Sv=Ot.unstable_cancelCallback,MU=Ot.unstable_shouldYield,LU=Ot.unstable_requestPaint,tr=Ot.unstable_now,VU=Ot.unstable_getCurrentPriorityLevel,iR=Ot.unstable_ImmediatePriority,aR=Ot.unstable_UserBlockingPriority,jm=Ot.unstable_NormalPriority,UU=Ot.unstable_LowPriority,sR=Ot.unstable_IdlePriority,zU=Ot.log,BU=Ot.unstable_setDisableYieldValue,td=null,nr=null;function Ga(t){if(typeof zU=="function"&&BU(t),nr&&typeof nr.setStrictMode=="function")try{nr.setStrictMode(td,t)}catch{}}var rr=Math.clz32?Math.clz32:qU,$U=Math.log,FU=Math.LN2;function qU(t){return t>>>=0,t===0?32:31-($U(t)/FU|0)|0}var ch=256,fh=262144,dh=4194304;function Gs(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function bg(t,e,n){var r=t.pendingLanes;if(r===0)return 0;var i=0,a=t.suspendedLanes,s=t.pingedLanes;t=t.warmLanes;var o=r&134217727;return o!==0?(r=o&~a,r!==0?i=Gs(r):(s&=o,s!==0?i=Gs(s):n||(n=o&~t,n!==0&&(i=Gs(n))))):(o=r&~a,o!==0?i=Gs(o):s!==0?i=Gs(s):n||(n=r&~t,n!==0&&(i=Gs(n)))),i===0?0:e!==0&&e!==i&&!(e&a)&&(a=i&-i,n=e&-e,a>=n||a===32&&(n&4194048)!==0)?e:i}function nd(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function HU(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oR(){var t=dh;return dh<<=1,!(dh&62914560)&&(dh=4194304),t}function Av(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function rd(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function GU(t,e,n,r,i,a){var s=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var o=t.entanglements,l=t.expirationTimes,u=t.hiddenUpdates;for(n=s&~n;0<n;){var c=31-rr(n),f=1<<c;o[c]=0,l[c]=-1;var m=u[c];if(m!==null)for(u[c]=null,c=0;c<m.length;c++){var p=m[c];p!==null&&(p.lane&=-536870913)}n&=~f}r!==0&&lR(t,r,0),a!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=a&~(s&~e))}function lR(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-rr(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|n&261930}function uR(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-rr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}function cR(t,e){var n=e&-e;return n=n&42?1:x_(n),n&(t.suspendedLanes|e)?0:n}function x_(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function __(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function fR(){var t=Ae.p;return t!==0?t:(t=window.event,t===void 0?32:kj(t.type))}function cA(t,e){var n=Ae.p;try{return Ae.p=t,e()}finally{Ae.p=n}}var Cs=Math.random().toString(36).slice(2),en="__reactFiber$"+Cs,$n="__reactProps$"+Cs,gu="__reactContainer$"+Cs,tb="__reactEvents$"+Cs,KU="__reactListeners$"+Cs,WU="__reactHandles$"+Cs,fA="__reactResources$"+Cs,id="__reactMarker$"+Cs;function w_(t){delete t[en],delete t[$n],delete t[tb],delete t[KU],delete t[WU]}function ml(t){var e=t[en];if(e)return e;for(var n=t.parentNode;n;){if(e=n[gu]||n[en]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=vT(t);t!==null;){if(n=t[en])return n;t=vT(t)}return e}t=n,n=t.parentNode}return null}function yu(t){if(t=t[en]||t[gu]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function Tc(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(z(33))}function Cl(t){var e=t[fA];return e||(e=t[fA]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Bt(t){t[id]=!0}var dR=new Set,hR={};function Do(t,e){Fl(t,e),Fl(t+"Capture",e)}function Fl(t,e){for(hR[t]=e,t=0;t<e.length;t++)dR.add(e[t])}var YU=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),dA={},hA={};function XU(t){return eb.call(hA,t)?!0:eb.call(dA,t)?!1:YU.test(t)?hA[t]=!0:(dA[t]=!0,!1)}function Yh(t,e,n){if(XU(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function hh(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Ni(t,e,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+r)}}function hr(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function mR(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function QU(t,e,n){var r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function nb(t){if(!t._valueTracker){var e=mR(t)?"checked":"value";t._valueTracker=QU(t,e,""+t[e])}}function pR(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=mR(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function km(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ZU=/[\n"\\]/g;function gr(t){return t.replace(ZU,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function rb(t,e,n,r,i,a,s,o){t.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?t.type=s:t.removeAttribute("type"),e!=null?s==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+hr(e)):t.value!==""+hr(e)&&(t.value=""+hr(e)):s!=="submit"&&s!=="reset"||t.removeAttribute("value"),e!=null?ib(t,s,hr(e)):n!=null?ib(t,s,hr(n)):r!=null&&t.removeAttribute("value"),i==null&&a!=null&&(t.defaultChecked=!!a),i!=null&&(t.checked=i&&typeof i!="function"&&typeof i!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.name=""+hr(o):t.removeAttribute("name")}function gR(t,e,n,r,i,a,s,o){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.type=a),e!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||e!=null)){nb(t);return}n=n!=null?""+hr(n):"",e=e!=null?""+hr(e):n,o||e===t.value||(t.value=e),t.defaultValue=e}r=r??i,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=o?t.checked:!!r,t.defaultChecked=!!r,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.name=s),nb(t)}function ib(t,e,n){e==="number"&&km(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Ol(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+hr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function yR(t,e,n){if(e!=null&&(e=""+hr(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+hr(n):""}function vR(t,e,n,r){if(e==null){if(r!=null){if(n!=null)throw Error(z(92));if(Ac(r)){if(1<r.length)throw Error(z(93));r=r[0]}n=r}n==null&&(n=""),e=n}n=hr(e),t.defaultValue=n,r=t.textContent,r===n&&r!==""&&r!==null&&(t.value=r),nb(t)}function ql(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var JU=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mA(t,e,n){var r=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,n):typeof n!="number"||n===0||JU.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function bR(t,e,n){if(e!=null&&typeof e!="object")throw Error(z(62));if(t=t.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var i in e)r=e[i],e.hasOwnProperty(i)&&n[i]!==r&&mA(t,i,r)}else for(var a in e)e.hasOwnProperty(a)&&mA(t,a,e[a])}function E_(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ez=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),tz=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xh(t){return tz.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Li(){}var ab=null;function S_(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var pl=null,Il=null;function pA(t){var e=yu(t);if(e&&(t=e.stateNode)){var n=t[$n]||null;e:switch(t=e.stateNode,e.type){case"input":if(rb(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+gr(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=r[$n]||null;if(!i)throw Error(z(90));rb(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<n.length;e++)r=n[e],r.form===t.form&&pR(r)}break e;case"textarea":yR(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&Ol(t,!!n.multiple,e,!1)}}}var Tv=!1;function xR(t,e,n){if(Tv)return t(e,n);Tv=!0;try{var r=t(e);return r}finally{if(Tv=!1,(pl!==null||Il!==null)&&(Rg(),pl&&(e=pl,t=Il,Il=pl=null,pA(e),t)))for(e=0;e<t.length;e++)pA(t[e])}}function lf(t,e){var n=t.stateNode;if(n===null)return null;var r=n[$n]||null;if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var Qi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sb=!1;if(Qi)try{var oc={};Object.defineProperty(oc,"passive",{get:function(){sb=!0}}),window.addEventListener("test",oc,oc),window.removeEventListener("test",oc,oc)}catch{sb=!1}var Ka=null,A_=null,Qh=null;function _R(){if(Qh)return Qh;var t,e=A_,n=e.length,r,i="value"in Ka?Ka.value:Ka.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[a-r];r++);return Qh=i.slice(t,1<r?1-r:void 0)}function Zh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function mh(){return!0}function gA(){return!1}function Fn(t){function e(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?mh:gA,this.isPropagationStopped=gA,this}return He(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=mh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=mh)},persist:function(){},isPersistent:mh}),e}var Mo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xg=Fn(Mo),ad=He({},Mo,{view:0,detail:0}),nz=Fn(ad),Nv,Cv,lc,_g=He({},ad,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:T_,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==lc&&(lc&&t.type==="mousemove"?(Nv=t.screenX-lc.screenX,Cv=t.screenY-lc.screenY):Cv=Nv=0,lc=t),Nv)},movementY:function(t){return"movementY"in t?t.movementY:Cv}}),yA=Fn(_g),rz=He({},_g,{dataTransfer:0}),iz=Fn(rz),az=He({},ad,{relatedTarget:0}),Ov=Fn(az),sz=He({},Mo,{animationName:0,elapsedTime:0,pseudoElement:0}),oz=Fn(sz),lz=He({},Mo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),uz=Fn(lz),cz=He({},Mo,{data:0}),vA=Fn(cz),fz={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dz={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hz={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mz(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=hz[t])?!!e[t]:!1}function T_(){return mz}var pz=He({},ad,{key:function(t){if(t.key){var e=fz[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Zh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?dz[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:T_,charCode:function(t){return t.type==="keypress"?Zh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Zh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),gz=Fn(pz),yz=He({},_g,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bA=Fn(yz),vz=He({},ad,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:T_}),bz=Fn(vz),xz=He({},Mo,{propertyName:0,elapsedTime:0,pseudoElement:0}),_z=Fn(xz),wz=He({},_g,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ez=Fn(wz),Sz=He({},Mo,{newState:0,oldState:0}),Az=Fn(Sz),Tz=[9,13,27,32],N_=Qi&&"CompositionEvent"in window,Uc=null;Qi&&"documentMode"in document&&(Uc=document.documentMode);var Nz=Qi&&"TextEvent"in window&&!Uc,wR=Qi&&(!N_||Uc&&8<Uc&&11>=Uc),xA=" ",_A=!1;function ER(t,e){switch(t){case"keyup":return Tz.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function SR(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var gl=!1;function Cz(t,e){switch(t){case"compositionend":return SR(e);case"keypress":return e.which!==32?null:(_A=!0,xA);case"textInput":return t=e.data,t===xA&&_A?null:t;default:return null}}function Oz(t,e){if(gl)return t==="compositionend"||!N_&&ER(t,e)?(t=_R(),Qh=A_=Ka=null,gl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return wR&&e.locale!=="ko"?null:e.data;default:return null}}var Iz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wA(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Iz[t.type]:e==="textarea"}function AR(t,e,n,r){pl?Il?Il.push(r):Il=[r]:pl=r,e=Zm(e,"onChange"),0<e.length&&(n=new xg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var zc=null,uf=null;function Rz(t){xj(t,0)}function wg(t){var e=Tc(t);if(pR(e))return t}function EA(t,e){if(t==="change")return e}var TR=!1;if(Qi){var Iv;if(Qi){var Rv="oninput"in document;if(!Rv){var SA=document.createElement("div");SA.setAttribute("oninput","return;"),Rv=typeof SA.oninput=="function"}Iv=Rv}else Iv=!1;TR=Iv&&(!document.documentMode||9<document.documentMode)}function AA(){zc&&(zc.detachEvent("onpropertychange",NR),uf=zc=null)}function NR(t){if(t.propertyName==="value"&&wg(uf)){var e=[];AR(e,uf,t,S_(t)),xR(Rz,e)}}function Pz(t,e,n){t==="focusin"?(AA(),zc=e,uf=n,zc.attachEvent("onpropertychange",NR)):t==="focusout"&&AA()}function jz(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wg(uf)}function kz(t,e){if(t==="click")return wg(e)}function Dz(t,e){if(t==="input"||t==="change")return wg(e)}function Mz(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var or=typeof Object.is=="function"?Object.is:Mz;function cf(t,e){if(or(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!eb.call(e,i)||!or(t[i],e[i]))return!1}return!0}function TA(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function NA(t,e){var n=TA(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=TA(n)}}function CR(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?CR(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function OR(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=km(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=km(t.document)}return e}function C_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var Lz=Qi&&"documentMode"in document&&11>=document.documentMode,yl=null,ob=null,Bc=null,lb=!1;function CA(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;lb||yl==null||yl!==km(r)||(r=yl,"selectionStart"in r&&C_(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Bc&&cf(Bc,r)||(Bc=r,r=Zm(ob,"onSelect"),0<r.length&&(e=new xg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=yl)))}function Fs(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var vl={animationend:Fs("Animation","AnimationEnd"),animationiteration:Fs("Animation","AnimationIteration"),animationstart:Fs("Animation","AnimationStart"),transitionrun:Fs("Transition","TransitionRun"),transitionstart:Fs("Transition","TransitionStart"),transitioncancel:Fs("Transition","TransitionCancel"),transitionend:Fs("Transition","TransitionEnd")},Pv={},IR={};Qi&&(IR=document.createElement("div").style,"AnimationEvent"in window||(delete vl.animationend.animation,delete vl.animationiteration.animation,delete vl.animationstart.animation),"TransitionEvent"in window||delete vl.transitionend.transition);function Lo(t){if(Pv[t])return Pv[t];if(!vl[t])return t;var e=vl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in IR)return Pv[t]=e[n];return t}var RR=Lo("animationend"),PR=Lo("animationiteration"),jR=Lo("animationstart"),Vz=Lo("transitionrun"),Uz=Lo("transitionstart"),zz=Lo("transitioncancel"),kR=Lo("transitionend"),DR=new Map,ub="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ub.push("scrollEnd");function Gr(t,e){DR.set(t,e),Do(e,[t])}var Dm=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},dr=[],bl=0,O_=0;function Eg(){for(var t=bl,e=O_=bl=0;e<t;){var n=dr[e];dr[e++]=null;var r=dr[e];dr[e++]=null;var i=dr[e];dr[e++]=null;var a=dr[e];if(dr[e++]=null,r!==null&&i!==null){var s=r.pending;s===null?i.next=i:(i.next=s.next,s.next=i),r.pending=i}a!==0&&MR(n,i,a)}}function Sg(t,e,n,r){dr[bl++]=t,dr[bl++]=e,dr[bl++]=n,dr[bl++]=r,O_|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function I_(t,e,n,r){return Sg(t,e,n,r),Mm(t)}function Vo(t,e){return Sg(t,null,null,e),Mm(t)}function MR(t,e,n){t.lanes|=n;var r=t.alternate;r!==null&&(r.lanes|=n);for(var i=!1,a=t.return;a!==null;)a.childLanes|=n,r=a.alternate,r!==null&&(r.childLanes|=n),a.tag===22&&(t=a.stateNode,t===null||t._visibility&1||(i=!0)),t=a,a=a.return;return t.tag===3?(a=t.stateNode,i&&e!==null&&(i=31-rr(n),t=a.hiddenUpdates,r=t[i],r===null?t[i]=[e]:r.push(e),e.lane=n|536870912),a):null}function Mm(t){if(50<Xc)throw Xc=0,Ib=null,Error(z(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var xl={};function Bz(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yn(t,e,n,r){return new Bz(t,e,n,r)}function R_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Fi(t,e){var n=t.alternate;return n===null?(n=Yn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function LR(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Jh(t,e,n,r,i,a){var s=0;if(r=t,typeof t=="function")R_(t)&&(s=1);else if(typeof t=="string")s=G9(t,n,si.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case X0:return t=Yn(31,n,e,i),t.elementType=X0,t.lanes=a,t;case dl:return ao(n.children,i,a,e);case nR:s=8,i|=24;break;case K0:return t=Yn(12,n,e,i|2),t.elementType=K0,t.lanes=a,t;case W0:return t=Yn(13,n,e,i),t.elementType=W0,t.lanes=a,t;case Y0:return t=Yn(19,n,e,i),t.elementType=Y0,t.lanes=a,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Mi:s=10;break e;case rR:s=9;break e;case y_:s=11;break e;case v_:s=14;break e;case Pa:s=16,r=null;break e}s=29,n=Error(z(130,t===null?"null":typeof t,"")),r=null}return e=Yn(s,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function ao(t,e,n,r){return t=Yn(7,t,r,e),t.lanes=n,t}function jv(t,e,n){return t=Yn(6,t,null,e),t.lanes=n,t}function VR(t){var e=Yn(18,null,null,0);return e.stateNode=t,e}function kv(t,e,n){return e=Yn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var OA=new WeakMap;function yr(t,e){if(typeof t=="object"&&t!==null){var n=OA.get(t);return n!==void 0?n:(e={value:t,source:e,stack:uA(e)},OA.set(t,e),e)}return{value:t,source:e,stack:uA(e)}}var _l=[],wl=0,Lm=null,ff=0,mr=[],pr=0,ps=null,ei=1,ti="";function Pi(t,e){_l[wl++]=ff,_l[wl++]=Lm,Lm=t,ff=e}function UR(t,e,n){mr[pr++]=ei,mr[pr++]=ti,mr[pr++]=ps,ps=t;var r=ei;t=ti;var i=32-rr(r)-1;r&=~(1<<i),n+=1;var a=32-rr(e)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,ei=1<<32-rr(e)+i|n<<i|r,ti=a+t}else ei=1<<a|n<<i|r,ti=t}function P_(t){t.return!==null&&(Pi(t,1),UR(t,1,0))}function j_(t){for(;t===Lm;)Lm=_l[--wl],_l[wl]=null,ff=_l[--wl],_l[wl]=null;for(;t===ps;)ps=mr[--pr],mr[pr]=null,ti=mr[--pr],mr[pr]=null,ei=mr[--pr],mr[pr]=null}function zR(t,e){mr[pr++]=ei,mr[pr++]=ti,mr[pr++]=ps,ei=e.id,ti=e.overflow,ps=t}var tn=null,$e=null,xe=!1,es=null,vr=!1,cb=Error(z(519));function gs(t){var e=Error(z(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw df(yr(e,t)),cb}function IA(t){var e=t.stateNode,n=t.type,r=t.memoizedProps;switch(e[en]=t,e[$n]=r,n){case"dialog":he("cancel",e),he("close",e);break;case"iframe":case"object":case"embed":he("load",e);break;case"video":case"audio":for(n=0;n<gf.length;n++)he(gf[n],e);break;case"source":he("error",e);break;case"img":case"image":case"link":he("error",e),he("load",e);break;case"details":he("toggle",e);break;case"input":he("invalid",e),gR(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":he("invalid",e);break;case"textarea":he("invalid",e),vR(e,r.value,r.defaultValue,r.children)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||r.suppressHydrationWarning===!0||wj(e.textContent,n)?(r.popover!=null&&(he("beforetoggle",e),he("toggle",e)),r.onScroll!=null&&he("scroll",e),r.onScrollEnd!=null&&he("scrollend",e),r.onClick!=null&&(e.onclick=Li),e=!0):e=!1,e||gs(t,!0)}function RA(t){for(tn=t.return;tn;)switch(tn.tag){case 5:case 31:case 13:vr=!1;return;case 27:case 3:vr=!0;return;default:tn=tn.return}}function Xo(t){if(t!==tn)return!1;if(!xe)return RA(t),xe=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Db(t.type,t.memoizedProps)),n=!n),n&&$e&&gs(t),RA(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));$e=yT(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));$e=yT(t)}else e===27?(e=$e,Os(t.type)?(t=Ub,Ub=null,$e=t):$e=e):$e=tn?Sr(t.stateNode.nextSibling):null;return!0}function yo(){$e=tn=null,xe=!1}function Dv(){var t=es;return t!==null&&(kn===null?kn=t:kn.push.apply(kn,t),es=null),t}function df(t){es===null?es=[t]:es.push(t)}var fb=_i(null),Uo=null,Vi=null;function Ma(t,e,n){Ve(fb,e._currentValue),e._currentValue=n}function qi(t){t._currentValue=fb.current,$t(fb)}function db(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function hb(t,e,n,r){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){var s=i.child;a=a.firstContext;e:for(;a!==null;){var o=a;a=i;for(var l=0;l<e.length;l++)if(o.context===e[l]){a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),db(a.return,n,t),r||(s=null);break e}a=o.next}}else if(i.tag===18){if(s=i.return,s===null)throw Error(z(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),db(s,n,t),s=null}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}}function vu(t,e,n,r){t=null;for(var i=e,a=!1;i!==null;){if(!a){if(i.flags&524288)a=!0;else if(i.flags&262144)break}if(i.tag===10){var s=i.alternate;if(s===null)throw Error(z(387));if(s=s.memoizedProps,s!==null){var o=i.type;or(i.pendingProps.value,s.value)||(t!==null?t.push(o):t=[o])}}else if(i===Im.current){if(s=i.alternate,s===null)throw Error(z(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(vf):t=[vf])}i=i.return}t!==null&&hb(e,t,n,r),e.flags|=262144}function Vm(t){for(t=t.firstContext;t!==null;){if(!or(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function vo(t){Uo=t,Vi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function rn(t){return BR(Uo,t)}function ph(t,e){return Uo===null&&vo(t),BR(t,e)}function BR(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Vi===null){if(t===null)throw Error(z(308));Vi=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Vi=Vi.next=e;return n}var $z=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},Fz=Ot.unstable_scheduleCallback,qz=Ot.unstable_NormalPriority,xt={$$typeof:Mi,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function k_(){return{controller:new $z,data:new Map,refCount:0}}function sd(t){t.refCount--,t.refCount===0&&Fz(qz,function(){t.controller.abort()})}var $c=null,mb=0,Hl=0,Rl=null;function Hz(t,e){if($c===null){var n=$c=[];mb=0,Hl=aw(),Rl={status:"pending",value:void 0,then:function(r){n.push(r)}}}return mb++,e.then(PA,PA),e}function PA(){if(--mb===0&&$c!==null){Rl!==null&&(Rl.status="fulfilled");var t=$c;$c=null,Hl=0,Rl=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function Gz(t,e){var n=[],r={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var i=0;i<n.length;i++)(0,n[i])(e)},function(i){for(r.status="rejected",r.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),r}var jA=ie.S;ie.S=function(t,e){tj=tr(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&Hz(t,e),jA!==null&&jA(t,e)};var so=_i(null);function D_(){var t=so.current;return t!==null?t:Me.pooledCache}function em(t,e){e===null?Ve(so,so.current):Ve(so,e.pool)}function $R(){var t=D_();return t===null?null:{parent:xt._currentValue,pool:t}}var bu=Error(z(460)),M_=Error(z(474)),Ag=Error(z(542)),Um={then:function(){}};function kA(t){return t=t.status,t==="fulfilled"||t==="rejected"}function FR(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(Li,Li),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,MA(t),t;default:if(typeof e.status=="string")e.then(Li,Li);else{if(t=Me,t!==null&&100<t.shellSuspendCounter)throw Error(z(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=r}},function(r){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,MA(t),t}throw oo=e,bu}}function Ks(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(oo=n,bu):n}}var oo=null;function DA(){if(oo===null)throw Error(z(459));var t=oo;return oo=null,t}function MA(t){if(t===bu||t===Ag)throw Error(z(483))}var Pl=null,hf=0;function gh(t){var e=hf;return hf+=1,Pl===null&&(Pl=[]),FR(Pl,t,e)}function uc(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function yh(t,e){throw e.$$typeof===PU?Error(z(525)):(t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function qR(t){function e(w,x){if(t){var E=w.deletions;E===null?(w.deletions=[x],w.flags|=16):E.push(x)}}function n(w,x){if(!t)return null;for(;x!==null;)e(w,x),x=x.sibling;return null}function r(w){for(var x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function i(w,x){return w=Fi(w,x),w.index=0,w.sibling=null,w}function a(w,x,E){return w.index=E,t?(E=w.alternate,E!==null?(E=E.index,E<x?(w.flags|=67108866,x):E):(w.flags|=67108866,x)):(w.flags|=1048576,x)}function s(w){return t&&w.alternate===null&&(w.flags|=67108866),w}function o(w,x,E,N){return x===null||x.tag!==6?(x=jv(E,w.mode,N),x.return=w,x):(x=i(x,E),x.return=w,x)}function l(w,x,E,N){var P=E.type;return P===dl?c(w,x,E.props.children,N,E.key):x!==null&&(x.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Pa&&Ks(P)===x.type)?(x=i(x,E.props),uc(x,E),x.return=w,x):(x=Jh(E.type,E.key,E.props,null,w.mode,N),uc(x,E),x.return=w,x)}function u(w,x,E,N){return x===null||x.tag!==4||x.stateNode.containerInfo!==E.containerInfo||x.stateNode.implementation!==E.implementation?(x=kv(E,w.mode,N),x.return=w,x):(x=i(x,E.children||[]),x.return=w,x)}function c(w,x,E,N,P){return x===null||x.tag!==7?(x=ao(E,w.mode,N,P),x.return=w,x):(x=i(x,E),x.return=w,x)}function f(w,x,E){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=jv(""+x,w.mode,E),x.return=w,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case uh:return E=Jh(x.type,x.key,x.props,null,w.mode,E),uc(E,x),E.return=w,E;case Sc:return x=kv(x,w.mode,E),x.return=w,x;case Pa:return x=Ks(x),f(w,x,E)}if(Ac(x)||sc(x))return x=ao(x,w.mode,E,null),x.return=w,x;if(typeof x.then=="function")return f(w,gh(x),E);if(x.$$typeof===Mi)return f(w,ph(w,x),E);yh(w,x)}return null}function m(w,x,E,N){var P=x!==null?x.key:null;if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return P!==null?null:o(w,x,""+E,N);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case uh:return E.key===P?l(w,x,E,N):null;case Sc:return E.key===P?u(w,x,E,N):null;case Pa:return E=Ks(E),m(w,x,E,N)}if(Ac(E)||sc(E))return P!==null?null:c(w,x,E,N,null);if(typeof E.then=="function")return m(w,x,gh(E),N);if(E.$$typeof===Mi)return m(w,x,ph(w,E),N);yh(w,E)}return null}function p(w,x,E,N,P){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return w=w.get(E)||null,o(x,w,""+N,P);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case uh:return w=w.get(N.key===null?E:N.key)||null,l(x,w,N,P);case Sc:return w=w.get(N.key===null?E:N.key)||null,u(x,w,N,P);case Pa:return N=Ks(N),p(w,x,E,N,P)}if(Ac(N)||sc(N))return w=w.get(E)||null,c(x,w,N,P,null);if(typeof N.then=="function")return p(w,x,E,gh(N),P);if(N.$$typeof===Mi)return p(w,x,E,ph(x,N),P);yh(x,N)}return null}function g(w,x,E,N){for(var P=null,k=null,T=x,A=x=0,C=null;T!==null&&A<E.length;A++){T.index>A?(C=T,T=null):C=T.sibling;var R=m(w,T,E[A],N);if(R===null){T===null&&(T=C);break}t&&T&&R.alternate===null&&e(w,T),x=a(R,x,A),k===null?P=R:k.sibling=R,k=R,T=C}if(A===E.length)return n(w,T),xe&&Pi(w,A),P;if(T===null){for(;A<E.length;A++)T=f(w,E[A],N),T!==null&&(x=a(T,x,A),k===null?P=T:k.sibling=T,k=T);return xe&&Pi(w,A),P}for(T=r(T);A<E.length;A++)C=p(T,w,A,E[A],N),C!==null&&(t&&C.alternate!==null&&T.delete(C.key===null?A:C.key),x=a(C,x,A),k===null?P=C:k.sibling=C,k=C);return t&&T.forEach(function(j){return e(w,j)}),xe&&Pi(w,A),P}function _(w,x,E,N){if(E==null)throw Error(z(151));for(var P=null,k=null,T=x,A=x=0,C=null,R=E.next();T!==null&&!R.done;A++,R=E.next()){T.index>A?(C=T,T=null):C=T.sibling;var j=m(w,T,R.value,N);if(j===null){T===null&&(T=C);break}t&&T&&j.alternate===null&&e(w,T),x=a(j,x,A),k===null?P=j:k.sibling=j,k=j,T=C}if(R.done)return n(w,T),xe&&Pi(w,A),P;if(T===null){for(;!R.done;A++,R=E.next())R=f(w,R.value,N),R!==null&&(x=a(R,x,A),k===null?P=R:k.sibling=R,k=R);return xe&&Pi(w,A),P}for(T=r(T);!R.done;A++,R=E.next())R=p(T,w,A,R.value,N),R!==null&&(t&&R.alternate!==null&&T.delete(R.key===null?A:R.key),x=a(R,x,A),k===null?P=R:k.sibling=R,k=R);return t&&T.forEach(function(I){return e(w,I)}),xe&&Pi(w,A),P}function y(w,x,E,N){if(typeof E=="object"&&E!==null&&E.type===dl&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case uh:e:{for(var P=E.key;x!==null;){if(x.key===P){if(P=E.type,P===dl){if(x.tag===7){n(w,x.sibling),N=i(x,E.props.children),N.return=w,w=N;break e}}else if(x.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Pa&&Ks(P)===x.type){n(w,x.sibling),N=i(x,E.props),uc(N,E),N.return=w,w=N;break e}n(w,x);break}else e(w,x);x=x.sibling}E.type===dl?(N=ao(E.props.children,w.mode,N,E.key),N.return=w,w=N):(N=Jh(E.type,E.key,E.props,null,w.mode,N),uc(N,E),N.return=w,w=N)}return s(w);case Sc:e:{for(P=E.key;x!==null;){if(x.key===P)if(x.tag===4&&x.stateNode.containerInfo===E.containerInfo&&x.stateNode.implementation===E.implementation){n(w,x.sibling),N=i(x,E.children||[]),N.return=w,w=N;break e}else{n(w,x);break}else e(w,x);x=x.sibling}N=kv(E,w.mode,N),N.return=w,w=N}return s(w);case Pa:return E=Ks(E),y(w,x,E,N)}if(Ac(E))return g(w,x,E,N);if(sc(E)){if(P=sc(E),typeof P!="function")throw Error(z(150));return E=P.call(E),_(w,x,E,N)}if(typeof E.then=="function")return y(w,x,gh(E),N);if(E.$$typeof===Mi)return y(w,x,ph(w,E),N);yh(w,E)}return typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint"?(E=""+E,x!==null&&x.tag===6?(n(w,x.sibling),N=i(x,E),N.return=w,w=N):(n(w,x),N=jv(E,w.mode,N),N.return=w,w=N),s(w)):n(w,x)}return function(w,x,E,N){try{hf=0;var P=y(w,x,E,N);return Pl=null,P}catch(T){if(T===bu||T===Ag)throw T;var k=Yn(29,T,null,w.mode);return k.lanes=N,k.return=w,k}finally{}}}var bo=qR(!0),HR=qR(!1),ja=!1;function L_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pb(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ts(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ns(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Se&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,e=Mm(t),MR(t,null,n),e}return Sg(t,r,e,n),Mm(t)}function Fc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,uR(t,n)}}function Mv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var gb=!1;function qc(){if(gb){var t=Rl;if(t!==null)throw t}}function Hc(t,e,n,r){gb=!1;var i=t.updateQueue;ja=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?a=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==s&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;s=0,c=u=l=null,o=a;do{var m=o.lane&-536870913,p=m!==o.lane;if(p?(ve&m)===m:(r&m)===m){m!==0&&m===Hl&&(gb=!0),c!==null&&(c=c.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var g=t,_=o;m=e;var y=n;switch(_.tag){case 1:if(g=_.payload,typeof g=="function"){f=g.call(y,f,m);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=_.payload,m=typeof g=="function"?g.call(y,f,m):g,m==null)break e;f=He({},f,m);break e;case 2:ja=!0}}m=o.callback,m!==null&&(t.flags|=64,p&&(t.flags|=8192),p=i.callbacks,p===null?i.callbacks=[m]:p.push(m))}else p={lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=p,l=f):c=c.next=p,s|=m;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;p=o,o=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,a===null&&(i.shared.lanes=0),vs|=s,t.lanes=s,t.memoizedState=f}}function GR(t,e){if(typeof t!="function")throw Error(z(191,t));t.call(e)}function KR(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)GR(n[t],e)}var Gl=_i(null),zm=_i(0);function LA(t,e){t=ta,Ve(zm,t),Ve(Gl,e),ta=t|e.baseLanes}function yb(){Ve(zm,ta),Ve(Gl,Gl.current)}function V_(){ta=zm.current,$t(Gl),$t(zm)}var lr=_i(null),Er=null;function La(t){var e=t.alternate;Ve(mt,mt.current&1),Ve(lr,t),Er===null&&(e===null||Gl.current!==null||e.memoizedState!==null)&&(Er=t)}function vb(t){Ve(mt,mt.current),Ve(lr,t),Er===null&&(Er=t)}function WR(t){t.tag===22?(Ve(mt,mt.current),Ve(lr,t),Er===null&&(Er=t)):Va()}function Va(){Ve(mt,mt.current),Ve(lr,lr.current)}function Wn(t){$t(lr),Er===t&&(Er=null),$t(mt)}var mt=_i(0);function Bm(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Lb(n)||Vb(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Zi=0,ce=null,Pe=null,vt=null,$m=!1,jl=!1,xo=!1,Fm=0,mf=0,kl=null,Kz=0;function at(){throw Error(z(321))}function U_(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!or(t[n],e[n]))return!1;return!0}function z_(t,e,n,r,i,a){return Zi=a,ce=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ie.H=t===null||t.memoizedState===null?AP:Q_,xo=!1,a=n(r,i),xo=!1,jl&&(a=XR(e,n,r,i)),YR(t),a}function YR(t){ie.H=pf;var e=Pe!==null&&Pe.next!==null;if(Zi=0,vt=Pe=ce=null,$m=!1,mf=0,kl=null,e)throw Error(z(300));t===null||wt||(t=t.dependencies,t!==null&&Vm(t)&&(wt=!0))}function XR(t,e,n,r){ce=t;var i=0;do{if(jl&&(kl=null),mf=0,jl=!1,25<=i)throw Error(z(301));if(i+=1,vt=Pe=null,t.updateQueue!=null){var a=t.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}ie.H=TP,a=e(n,r)}while(jl);return a}function Wz(){var t=ie.H,e=t.useState()[0];return e=typeof e.then=="function"?od(e):e,t=t.useState()[0],(Pe!==null?Pe.memoizedState:null)!==t&&(ce.flags|=1024),e}function B_(){var t=Fm!==0;return Fm=0,t}function $_(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function F_(t){if($m){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}$m=!1}Zi=0,vt=Pe=ce=null,jl=!1,mf=Fm=0,kl=null}function En(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?ce.memoizedState=vt=t:vt=vt.next=t,vt}function gt(){if(Pe===null){var t=ce.alternate;t=t!==null?t.memoizedState:null}else t=Pe.next;var e=vt===null?ce.memoizedState:vt.next;if(e!==null)vt=e,Pe=t;else{if(t===null)throw ce.alternate===null?Error(z(467)):Error(z(310));Pe=t,t={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},vt===null?ce.memoizedState=vt=t:vt=vt.next=t}return vt}function Tg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function od(t){var e=mf;return mf+=1,kl===null&&(kl=[]),t=FR(kl,t,e),e=ce,(vt===null?e.memoizedState:vt.next)===null&&(e=e.alternate,ie.H=e===null||e.memoizedState===null?AP:Q_),t}function Ng(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return od(t);if(t.$$typeof===Mi)return rn(t)}throw Error(z(438,String(t)))}function q_(t){var e=null,n=ce.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var r=ce.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Tg(),ce.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),r=0;r<t;r++)n[r]=jU;return e.index++,n}function Ji(t,e){return typeof e=="function"?e(t):e}function tm(t){var e=gt();return H_(e,Pe,t)}function H_(t,e,n){var r=t.queue;if(r===null)throw Error(z(311));r.lastRenderedReducer=n;var i=t.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}e.baseQueue=i=a,r.pending=null}if(a=t.baseState,i===null)t.memoizedState=a;else{e=i.next;var o=s=null,l=null,u=e,c=!1;do{var f=u.lane&-536870913;if(f!==u.lane?(ve&f)===f:(Zi&f)===f){var m=u.revertLane;if(m===0)l!==null&&(l=l.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===Hl&&(c=!0);else if((Zi&m)===m){u=u.next,m===Hl&&(c=!0);continue}else f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(o=l=f,s=a):l=l.next=f,ce.lanes|=m,vs|=m;f=u.action,xo&&n(a,f),a=u.hasEagerState?u.eagerState:n(a,f)}else m={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(o=l=m,s=a):l=l.next=m,ce.lanes|=f,vs|=f;u=u.next}while(u!==null&&u!==e);if(l===null?s=a:l.next=o,!or(a,t.memoizedState)&&(wt=!0,c&&(n=Rl,n!==null)))throw n;t.memoizedState=a,t.baseState=s,t.baseQueue=l,r.lastRenderedState=a}return i===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function Lv(t){var e=gt(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);or(a,e.memoizedState)||(wt=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function QR(t,e,n){var r=ce,i=gt(),a=xe;if(a){if(n===void 0)throw Error(z(407));n=n()}else n=e();var s=!or((Pe||i).memoizedState,n);if(s&&(i.memoizedState=n,wt=!0),i=i.queue,G_(eP.bind(null,r,i,t),[t]),i.getSnapshot!==e||s||vt!==null&&vt.memoizedState.tag&1){if(r.flags|=2048,Kl(9,{destroy:void 0},JR.bind(null,r,i,n,e),null),Me===null)throw Error(z(349));a||Zi&127||ZR(r,e,n)}return n}function ZR(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ce.updateQueue,e===null?(e=Tg(),ce.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function JR(t,e,n,r){e.value=n,e.getSnapshot=r,tP(e)&&nP(t)}function eP(t,e,n){return n(function(){tP(e)&&nP(t)})}function tP(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!or(t,n)}catch{return!0}}function nP(t){var e=Vo(t,2);e!==null&&zn(e,t,2)}function bb(t){var e=En();if(typeof t=="function"){var n=t;if(t=n(),xo){Ga(!0);try{n()}finally{Ga(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:t},e}function rP(t,e,n,r){return t.baseState=n,H_(t,Pe,typeof r=="function"?r:Ji)}function Yz(t,e,n,r,i){if(Og(t))throw Error(z(485));if(t=e.action,t!==null){var a={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){a.listeners.push(s)}};ie.T!==null?n(!0):a.isTransition=!1,r(a),n=e.pending,n===null?(a.next=e.pending=a,iP(e,a)):(a.next=n.next,e.pending=n.next=a)}}function iP(t,e){var n=e.action,r=e.payload,i=t.state;if(e.isTransition){var a=ie.T,s={};ie.T=s;try{var o=n(i,r),l=ie.S;l!==null&&l(s,o),VA(t,e,o)}catch(u){xb(t,e,u)}finally{a!==null&&s.types!==null&&(a.types=s.types),ie.T=a}}else try{a=n(i,r),VA(t,e,a)}catch(u){xb(t,e,u)}}function VA(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){UA(t,e,r)},function(r){return xb(t,e,r)}):UA(t,e,n)}function UA(t,e,n){e.status="fulfilled",e.value=n,aP(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,iP(t,n)))}function xb(t,e,n){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=n,aP(e),e=e.next;while(e!==r)}t.action=null}function aP(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function sP(t,e){return e}function zA(t,e){if(xe){var n=Me.formState;if(n!==null){e:{var r=ce;if(xe){if($e){t:{for(var i=$e,a=vr;i.nodeType!==8;){if(!a){i=null;break t}if(i=Sr(i.nextSibling),i===null){i=null;break t}}a=i.data,i=a==="F!"||a==="F"?i:null}if(i){$e=Sr(i.nextSibling),r=i.data==="F!";break e}}gs(r)}r=!1}r&&(e=n[0])}}return n=En(),n.memoizedState=n.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sP,lastRenderedState:e},n.queue=r,n=wP.bind(null,ce,r),r.dispatch=n,r=bb(!1),a=X_.bind(null,ce,!1,r.queue),r=En(),i={state:e,dispatch:null,action:t,pending:null},r.queue=i,n=Yz.bind(null,ce,i,a,n),i.dispatch=n,r.memoizedState=t,[e,n,!1]}function BA(t){var e=gt();return oP(e,Pe,t)}function oP(t,e,n){if(e=H_(t,e,sP)[0],t=tm(Ji)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=od(e)}catch(s){throw s===bu?Ag:s}else r=e;e=gt();var i=e.queue,a=i.dispatch;return n!==e.memoizedState&&(ce.flags|=2048,Kl(9,{destroy:void 0},Xz.bind(null,i,n),null)),[r,a,t]}function Xz(t,e){t.action=e}function $A(t){var e=gt(),n=Pe;if(n!==null)return oP(e,n,t);gt(),e=e.memoizedState,n=gt();var r=n.queue.dispatch;return n.memoizedState=t,[e,r,!1]}function Kl(t,e,n,r){return t={tag:t,create:n,deps:r,inst:e,next:null},e=ce.updateQueue,e===null&&(e=Tg(),ce.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function lP(){return gt().memoizedState}function nm(t,e,n,r){var i=En();ce.flags|=t,i.memoizedState=Kl(1|e,{destroy:void 0},n,r===void 0?null:r)}function Cg(t,e,n,r){var i=gt();r=r===void 0?null:r;var a=i.memoizedState.inst;Pe!==null&&r!==null&&U_(r,Pe.memoizedState.deps)?i.memoizedState=Kl(e,a,n,r):(ce.flags|=t,i.memoizedState=Kl(1|e,a,n,r))}function FA(t,e){nm(8390656,8,t,e)}function G_(t,e){Cg(2048,8,t,e)}function Qz(t){ce.flags|=4;var e=ce.updateQueue;if(e===null)e=Tg(),ce.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function uP(t){var e=gt().memoizedState;return Qz({ref:e,nextImpl:t}),function(){if(Se&2)throw Error(z(440));return e.impl.apply(void 0,arguments)}}function cP(t,e){return Cg(4,2,t,e)}function fP(t,e){return Cg(4,4,t,e)}function dP(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function hP(t,e,n){n=n!=null?n.concat([t]):null,Cg(4,4,dP.bind(null,e,t),n)}function K_(){}function mP(t,e){var n=gt();e=e===void 0?null:e;var r=n.memoizedState;return e!==null&&U_(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function pP(t,e){var n=gt();e=e===void 0?null:e;var r=n.memoizedState;if(e!==null&&U_(e,r[1]))return r[0];if(r=t(),xo){Ga(!0);try{t()}finally{Ga(!1)}}return n.memoizedState=[r,e],r}function W_(t,e,n){return n===void 0||Zi&1073741824&&!(ve&261930)?t.memoizedState=e:(t.memoizedState=n,t=rj(),ce.lanes|=t,vs|=t,n)}function gP(t,e,n,r){return or(n,e)?n:Gl.current!==null?(t=W_(t,n,r),or(t,e)||(wt=!0),t):!(Zi&42)||Zi&1073741824&&!(ve&261930)?(wt=!0,t.memoizedState=n):(t=rj(),ce.lanes|=t,vs|=t,e)}function yP(t,e,n,r,i){var a=Ae.p;Ae.p=a!==0&&8>a?a:8;var s=ie.T,o={};ie.T=o,X_(t,!1,e,n);try{var l=i(),u=ie.S;if(u!==null&&u(o,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=Gz(l,r);Gc(t,e,c,ir(t))}else Gc(t,e,r,ir(t))}catch(f){Gc(t,e,{then:function(){},status:"rejected",reason:f},ir())}finally{Ae.p=a,s!==null&&o.types!==null&&(s.types=o.types),ie.T=s}}function Zz(){}function _b(t,e,n,r){if(t.tag!==5)throw Error(z(476));var i=vP(t).queue;yP(t,i,e,io,n===null?Zz:function(){return bP(t),n(r)})}function vP(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:io,baseState:io,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:io},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function bP(t){var e=vP(t);e.next===null&&(e=t.alternate.memoizedState),Gc(t,e.next.queue,{},ir())}function Y_(){return rn(vf)}function xP(){return gt().memoizedState}function _P(){return gt().memoizedState}function Jz(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=ir();t=ts(n);var r=ns(e,t,n);r!==null&&(zn(r,e,n),Fc(r,e,n)),e={cache:k_()},t.payload=e;return}e=e.return}}function e9(t,e,n){var r=ir();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Og(t)?EP(e,n):(n=I_(t,e,n,r),n!==null&&(zn(n,t,r),SP(n,e,r)))}function wP(t,e,n){var r=ir();Gc(t,e,n,r)}function Gc(t,e,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Og(t))EP(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,or(o,s))return Sg(t,e,i,0),Me===null&&Eg(),!1}catch{}finally{}if(n=I_(t,e,i,r),n!==null)return zn(n,t,r),SP(n,e,r),!0}return!1}function X_(t,e,n,r){if(r={lane:2,revertLane:aw(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Og(t)){if(e)throw Error(z(479))}else e=I_(t,n,r,2),e!==null&&zn(e,t,2)}function Og(t){var e=t.alternate;return t===ce||e!==null&&e===ce}function EP(t,e){jl=$m=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function SP(t,e,n){if(n&4194048){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,uR(t,n)}}var pf={readContext:rn,use:Ng,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useLayoutEffect:at,useInsertionEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useSyncExternalStore:at,useId:at,useHostTransitionStatus:at,useFormState:at,useActionState:at,useOptimistic:at,useMemoCache:at,useCacheRefresh:at};pf.useEffectEvent=at;var AP={readContext:rn,use:Ng,useCallback:function(t,e){return En().memoizedState=[t,e===void 0?null:e],t},useContext:rn,useEffect:FA,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,nm(4194308,4,dP.bind(null,e,t),n)},useLayoutEffect:function(t,e){return nm(4194308,4,t,e)},useInsertionEffect:function(t,e){nm(4,2,t,e)},useMemo:function(t,e){var n=En();e=e===void 0?null:e;var r=t();if(xo){Ga(!0);try{t()}finally{Ga(!1)}}return n.memoizedState=[r,e],r},useReducer:function(t,e,n){var r=En();if(n!==void 0){var i=n(e);if(xo){Ga(!0);try{n(e)}finally{Ga(!1)}}}else i=e;return r.memoizedState=r.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},r.queue=t,t=t.dispatch=e9.bind(null,ce,t),[r.memoizedState,t]},useRef:function(t){var e=En();return t={current:t},e.memoizedState=t},useState:function(t){t=bb(t);var e=t.queue,n=wP.bind(null,ce,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:K_,useDeferredValue:function(t,e){var n=En();return W_(n,t,e)},useTransition:function(){var t=bb(!1);return t=yP.bind(null,ce,t.queue,!0,!1),En().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var r=ce,i=En();if(xe){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),Me===null)throw Error(z(349));ve&127||ZR(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,FA(eP.bind(null,r,a,t),[t]),r.flags|=2048,Kl(9,{destroy:void 0},JR.bind(null,r,a,n,e),null),n},useId:function(){var t=En(),e=Me.identifierPrefix;if(xe){var n=ti,r=ei;n=(r&~(1<<32-rr(r)-1)).toString(32)+n,e="_"+e+"R_"+n,n=Fm++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=Kz++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:Y_,useFormState:zA,useActionState:zA,useOptimistic:function(t){var e=En();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=X_.bind(null,ce,!0,n),n.dispatch=e,[t,e]},useMemoCache:q_,useCacheRefresh:function(){return En().memoizedState=Jz.bind(null,ce)},useEffectEvent:function(t){var e=En(),n={impl:t};return e.memoizedState=n,function(){if(Se&2)throw Error(z(440));return n.impl.apply(void 0,arguments)}}},Q_={readContext:rn,use:Ng,useCallback:mP,useContext:rn,useEffect:G_,useImperativeHandle:hP,useInsertionEffect:cP,useLayoutEffect:fP,useMemo:pP,useReducer:tm,useRef:lP,useState:function(){return tm(Ji)},useDebugValue:K_,useDeferredValue:function(t,e){var n=gt();return gP(n,Pe.memoizedState,t,e)},useTransition:function(){var t=tm(Ji)[0],e=gt().memoizedState;return[typeof t=="boolean"?t:od(t),e]},useSyncExternalStore:QR,useId:xP,useHostTransitionStatus:Y_,useFormState:BA,useActionState:BA,useOptimistic:function(t,e){var n=gt();return rP(n,Pe,t,e)},useMemoCache:q_,useCacheRefresh:_P};Q_.useEffectEvent=uP;var TP={readContext:rn,use:Ng,useCallback:mP,useContext:rn,useEffect:G_,useImperativeHandle:hP,useInsertionEffect:cP,useLayoutEffect:fP,useMemo:pP,useReducer:Lv,useRef:lP,useState:function(){return Lv(Ji)},useDebugValue:K_,useDeferredValue:function(t,e){var n=gt();return Pe===null?W_(n,t,e):gP(n,Pe.memoizedState,t,e)},useTransition:function(){var t=Lv(Ji)[0],e=gt().memoizedState;return[typeof t=="boolean"?t:od(t),e]},useSyncExternalStore:QR,useId:xP,useHostTransitionStatus:Y_,useFormState:$A,useActionState:$A,useOptimistic:function(t,e){var n=gt();return Pe!==null?rP(n,Pe,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:q_,useCacheRefresh:_P};TP.useEffectEvent=uP;function Vv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:He({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var wb={enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ir(),i=ts(r);i.payload=e,n!=null&&(i.callback=n),e=ns(t,i,r),e!==null&&(zn(e,t,r),Fc(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ir(),i=ts(r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=ns(t,i,r),e!==null&&(zn(e,t,r),Fc(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ir(),r=ts(n);r.tag=2,e!=null&&(r.callback=e),e=ns(t,r,n),e!==null&&(zn(e,t,n),Fc(e,t,n))}};function qA(t,e,n,r,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,s):e.prototype&&e.prototype.isPureReactComponent?!cf(n,r)||!cf(i,a):!0}function HA(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&wb.enqueueReplaceState(e,e.state,null)}function _o(t,e){var n=e;if("ref"in e){n={};for(var r in e)r!=="ref"&&(n[r]=e[r])}if(t=t.defaultProps){n===e&&(n=He({},n));for(var i in t)n[i]===void 0&&(n[i]=t[i])}return n}function NP(t){Dm(t)}function CP(t){console.error(t)}function OP(t){Dm(t)}function qm(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function GA(t,e,n){try{var r=t.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function Eb(t,e,n){return n=ts(n),n.tag=3,n.payload={element:null},n.callback=function(){qm(t,e)},n}function IP(t){return t=ts(t),t.tag=3,t}function RP(t,e,n,r){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var a=r.value;t.payload=function(){return i(a)},t.callback=function(){GA(e,n,r)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){GA(e,n,r),typeof i!="function"&&(rs===null?rs=new Set([this]):rs.add(this));var o=r.stack;this.componentDidCatch(r.value,{componentStack:o!==null?o:""})})}function t9(t,e,n,r,i){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=n.alternate,e!==null&&vu(e,n,i,!0),n=lr.current,n!==null){switch(n.tag){case 31:case 13:return Er===null?Ym():n.alternate===null&&lt===0&&(lt=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===Um?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([r]):e.add(r),Yv(t,r,i)),!1;case 22:return n.flags|=65536,r===Um?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([r]):n.add(r)),Yv(t,r,i)),!1}throw Error(z(435,n.tag))}return Yv(t,r,i),Ym(),!1}if(xe)return e=lr.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=i,r!==cb&&(t=Error(z(422),{cause:r}),df(yr(t,n)))):(r!==cb&&(e=Error(z(423),{cause:r}),df(yr(e,n))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,r=yr(r,n),i=Eb(t.stateNode,r,i),Mv(t,i),lt!==4&&(lt=2)),!1;var a=Error(z(520),{cause:r});if(a=yr(a,n),Yc===null?Yc=[a]:Yc.push(a),lt!==4&&(lt=2),e===null)return!0;r=yr(r,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=i&-i,n.lanes|=t,t=Eb(n.stateNode,r,t),Mv(n,t),!1;case 1:if(e=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(rs===null||!rs.has(a))))return n.flags|=65536,i&=-i,n.lanes|=i,i=IP(i),RP(i,t,n,r),Mv(n,i),!1}n=n.return}while(n!==null);return!1}var Z_=Error(z(461)),wt=!1;function Yt(t,e,n,r){e.child=t===null?HR(e,null,n,r):bo(e,t.child,n,r)}function KA(t,e,n,r,i){n=n.render;var a=e.ref;if("ref"in r){var s={};for(var o in r)o!=="ref"&&(s[o]=r[o])}else s=r;return vo(e),r=z_(t,e,n,s,a,i),o=B_(),t!==null&&!wt?($_(t,e,i),ea(t,e,i)):(xe&&o&&P_(e),e.flags|=1,Yt(t,e,r,i),e.child)}function WA(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!R_(a)&&a.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=a,PP(t,e,a,r,i)):(t=Jh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!J_(t,i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:cf,n(s,r)&&t.ref===e.ref)return ea(t,e,i)}return e.flags|=1,t=Fi(a,r),t.ref=e.ref,t.return=e,e.child=t}function PP(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(cf(a,r)&&t.ref===e.ref)if(wt=!1,e.pendingProps=r=a,J_(t,i))t.flags&131072&&(wt=!0);else return e.lanes=t.lanes,ea(t,e,i)}return Sb(t,e,n,r,i)}function jP(t,e,n,r){var i=r.children,a=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if(e.flags&128){if(a=a!==null?a.baseLanes|n:n,t!==null){for(r=e.child=t.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~a}else r=0,e.child=null;return YA(t,e,a,n,r)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&em(e,a!==null?a.cachePool:null),a!==null?LA(e,a):yb(),WR(e);else return r=e.lanes=536870912,YA(t,e,a!==null?a.baseLanes|n:n,n,r)}else a!==null?(em(e,a.cachePool),LA(e,a),Va(),e.memoizedState=null):(t!==null&&em(e,null),yb(),Va());return Yt(t,e,i,n),e.child}function Nc(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function YA(t,e,n,r,i){var a=D_();return a=a===null?null:{parent:xt._currentValue,pool:a},e.memoizedState={baseLanes:n,cachePool:a},t!==null&&em(e,null),yb(),WR(e),t!==null&&vu(t,e,r,!0),e.childLanes=i,null}function rm(t,e){return e=Hm({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function XA(t,e,n){return bo(e,t.child,null,n),t=rm(e,e.pendingProps),t.flags|=2,Wn(e),e.memoizedState=null,t}function n9(t,e,n){var r=e.pendingProps,i=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(xe){if(r.mode==="hidden")return t=rm(e,r),e.lanes=536870912,Nc(null,t);if(vb(e),(t=$e)?(t=Aj(t,vr),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:ps!==null?{id:ei,overflow:ti}:null,retryLane:536870912,hydrationErrors:null},n=VR(t),n.return=e,e.child=n,tn=e,$e=null)):t=null,t===null)throw gs(e);return e.lanes=536870912,null}return rm(e,r)}var a=t.memoizedState;if(a!==null){var s=a.dehydrated;if(vb(e),i)if(e.flags&256)e.flags&=-257,e=XA(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(z(558));else if(wt||vu(t,e,n,!1),i=(n&t.childLanes)!==0,wt||i){if(r=Me,r!==null&&(s=cR(r,n),s!==0&&s!==a.retryLane))throw a.retryLane=s,Vo(t,s),zn(r,t,s),Z_;Ym(),e=XA(t,e,n)}else t=a.treeContext,$e=Sr(s.nextSibling),tn=e,xe=!0,es=null,vr=!1,t!==null&&zR(e,t),e=rm(e,r),e.flags|=4096;return e}return t=Fi(t.child,{mode:r.mode,children:r.children}),t.ref=e.ref,e.child=t,t.return=e,t}function im(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(z(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function Sb(t,e,n,r,i){return vo(e),n=z_(t,e,n,r,void 0,i),r=B_(),t!==null&&!wt?($_(t,e,i),ea(t,e,i)):(xe&&r&&P_(e),e.flags|=1,Yt(t,e,n,i),e.child)}function QA(t,e,n,r,i,a){return vo(e),e.updateQueue=null,n=XR(e,r,n,i),YR(t),r=B_(),t!==null&&!wt?($_(t,e,a),ea(t,e,a)):(xe&&r&&P_(e),e.flags|=1,Yt(t,e,n,a),e.child)}function ZA(t,e,n,r,i){if(vo(e),e.stateNode===null){var a=xl,s=n.contextType;typeof s=="object"&&s!==null&&(a=rn(s)),a=new n(r,a),e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=wb,e.stateNode=a,a._reactInternals=e,a=e.stateNode,a.props=r,a.state=e.memoizedState,a.refs={},L_(e),s=n.contextType,a.context=typeof s=="object"&&s!==null?rn(s):xl,a.state=e.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&(Vv(e,n,s,r),a.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(s=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),s!==a.state&&wb.enqueueReplaceState(a,a.state,null),Hc(e,r,a,i),qc(),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){a=e.stateNode;var o=e.memoizedProps,l=_o(n,o);a.props=l;var u=a.context,c=n.contextType;s=xl,typeof c=="object"&&c!==null&&(s=rn(c));var f=n.getDerivedStateFromProps;c=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function",o=e.pendingProps!==o,c||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o||u!==s)&&HA(e,a,r,s),ja=!1;var m=e.memoizedState;a.state=m,Hc(e,r,a,i),qc(),u=e.memoizedState,o||m!==u||ja?(typeof f=="function"&&(Vv(e,n,f,r),u=e.memoizedState),(l=ja||qA(e,n,l,r,m,u,s))?(c||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=s,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,pb(t,e),s=e.memoizedProps,c=_o(n,s),a.props=c,f=e.pendingProps,m=a.context,u=n.contextType,l=xl,typeof u=="object"&&u!==null&&(l=rn(u)),o=n.getDerivedStateFromProps,(u=typeof o=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||m!==l)&&HA(e,a,r,l),ja=!1,m=e.memoizedState,a.state=m,Hc(e,r,a,i),qc();var p=e.memoizedState;s!==f||m!==p||ja||t!==null&&t.dependencies!==null&&Vm(t.dependencies)?(typeof o=="function"&&(Vv(e,n,o,r),p=e.memoizedState),(c=ja||qA(e,n,c,r,m,p,l)||t!==null&&t.dependencies!==null&&Vm(t.dependencies))?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,p,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,p,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return a=r,im(t,e),r=(e.flags&128)!==0,a||r?(a=e.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:a.render(),e.flags|=1,t!==null&&r?(e.child=bo(e,t.child,null,i),e.child=bo(e,null,n,i)):Yt(t,e,n,i),e.memoizedState=a.state,t=e.child):t=ea(t,e,i),t}function JA(t,e,n,r){return yo(),e.flags|=256,Yt(t,e,n,r),e.child}var Uv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zv(t){return{baseLanes:t,cachePool:$R()}}function Bv(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=Qn),t}function kP(t,e,n){var r=e.pendingProps,i=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(mt.current&2)!==0),s&&(i=!0,e.flags&=-129),s=(e.flags&32)!==0,e.flags&=-33,t===null){if(xe){if(i?La(e):Va(),(t=$e)?(t=Aj(t,vr),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:ps!==null?{id:ei,overflow:ti}:null,retryLane:536870912,hydrationErrors:null},n=VR(t),n.return=e,e.child=n,tn=e,$e=null)):t=null,t===null)throw gs(e);return Vb(t)?e.lanes=32:e.lanes=536870912,null}var o=r.children;return r=r.fallback,i?(Va(),i=e.mode,o=Hm({mode:"hidden",children:o},i),r=ao(r,i,n,null),o.return=e,r.return=e,o.sibling=r,e.child=o,r=e.child,r.memoizedState=zv(n),r.childLanes=Bv(t,s,n),e.memoizedState=Uv,Nc(null,r)):(La(e),Ab(e,o))}var l=t.memoizedState;if(l!==null&&(o=l.dehydrated,o!==null)){if(a)e.flags&256?(La(e),e.flags&=-257,e=$v(t,e,n)):e.memoizedState!==null?(Va(),e.child=t.child,e.flags|=128,e=null):(Va(),o=r.fallback,i=e.mode,r=Hm({mode:"visible",children:r.children},i),o=ao(o,i,n,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,bo(e,t.child,null,n),r=e.child,r.memoizedState=zv(n),r.childLanes=Bv(t,s,n),e.memoizedState=Uv,e=Nc(null,r));else if(La(e),Vb(o)){if(s=o.nextSibling&&o.nextSibling.dataset,s)var u=s.dgst;s=u,r=Error(z(419)),r.stack="",r.digest=s,df({value:r,source:null,stack:null}),e=$v(t,e,n)}else if(wt||vu(t,e,n,!1),s=(n&t.childLanes)!==0,wt||s){if(s=Me,s!==null&&(r=cR(s,n),r!==0&&r!==l.retryLane))throw l.retryLane=r,Vo(t,r),zn(s,t,r),Z_;Lb(o)||Ym(),e=$v(t,e,n)}else Lb(o)?(e.flags|=192,e.child=t.child,e=null):(t=l.treeContext,$e=Sr(o.nextSibling),tn=e,xe=!0,es=null,vr=!1,t!==null&&zR(e,t),e=Ab(e,r.children),e.flags|=4096);return e}return i?(Va(),o=r.fallback,i=e.mode,l=t.child,u=l.sibling,r=Fi(l,{mode:"hidden",children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,u!==null?o=Fi(u,o):(o=ao(o,i,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,Nc(null,r),r=e.child,o=t.child.memoizedState,o===null?o=zv(n):(i=o.cachePool,i!==null?(l=xt._currentValue,i=i.parent!==l?{parent:l,pool:l}:i):i=$R(),o={baseLanes:o.baseLanes|n,cachePool:i}),r.memoizedState=o,r.childLanes=Bv(t,s,n),e.memoizedState=Uv,Nc(t.child,r)):(La(e),n=t.child,t=n.sibling,n=Fi(n,{mode:"visible",children:r.children}),n.return=e,n.sibling=null,t!==null&&(s=e.deletions,s===null?(e.deletions=[t],e.flags|=16):s.push(t)),e.child=n,e.memoizedState=null,n)}function Ab(t,e){return e=Hm({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Hm(t,e){return t=Yn(22,t,null,e),t.lanes=0,t}function $v(t,e,n){return bo(e,t.child,null,n),t=Ab(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function eT(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),db(t.return,e,n)}function Fv(t,e,n,r,i,a){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:a}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i,s.treeForkCount=a)}function DP(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;r=r.children;var s=mt.current,o=(s&2)!==0;if(o?(s=s&1|2,e.flags|=128):s&=1,Ve(mt,s),Yt(t,e,r,n),r=xe?ff:0,!o&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&eT(t,n,e);else if(t.tag===19)eT(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Bm(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Fv(e,!1,i,n,a,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Bm(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Fv(e,!0,n,null,a,r);break;case"together":Fv(e,!1,null,null,void 0,r);break;default:e.memoizedState=null}return e.child}function ea(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),vs|=e.lanes,!(n&e.childLanes))if(t!==null){if(vu(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=Fi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Fi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function J_(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&Vm(t)))}function r9(t,e,n){switch(e.tag){case 3:Rm(e,e.stateNode.containerInfo),Ma(e,xt,t.memoizedState.cache),yo();break;case 27:case 5:J0(e);break;case 4:Rm(e,e.stateNode.containerInfo);break;case 10:Ma(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,vb(e),null;break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(La(e),e.flags|=128,null):n&e.child.childLanes?kP(t,e,n):(La(e),t=ea(t,e,n),t!==null?t.sibling:null);La(e);break;case 19:var i=(t.flags&128)!==0;if(r=(n&e.childLanes)!==0,r||(vu(t,e,n,!1),r=(n&e.childLanes)!==0),i){if(r)return DP(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ve(mt,mt.current),r)break;return null;case 22:return e.lanes=0,jP(t,e,n,e.pendingProps);case 24:Ma(e,xt,t.memoizedState.cache)}return ea(t,e,n)}function MP(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)wt=!0;else{if(!J_(t,n)&&!(e.flags&128))return wt=!1,r9(t,e,n);wt=!!(t.flags&131072)}else wt=!1,xe&&e.flags&1048576&&UR(e,ff,e.index);switch(e.lanes=0,e.tag){case 16:e:{var r=e.pendingProps;if(t=Ks(e.elementType),e.type=t,typeof t=="function")R_(t)?(r=_o(t,r),e.tag=1,e=ZA(null,e,t,r,n)):(e.tag=0,e=Sb(null,e,t,r,n));else{if(t!=null){var i=t.$$typeof;if(i===y_){e.tag=11,e=KA(null,e,t,r,n);break e}else if(i===v_){e.tag=14,e=WA(null,e,t,r,n);break e}}throw e=Q0(t)||t,Error(z(306,e,""))}}return e;case 0:return Sb(t,e,e.type,e.pendingProps,n);case 1:return r=e.type,i=_o(r,e.pendingProps),ZA(t,e,r,i,n);case 3:e:{if(Rm(e,e.stateNode.containerInfo),t===null)throw Error(z(387));r=e.pendingProps;var a=e.memoizedState;i=a.element,pb(t,e),Hc(e,r,null,n);var s=e.memoizedState;if(r=s.cache,Ma(e,xt,r),r!==a.cache&&hb(e,[xt],n,!0),qc(),r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){e=JA(t,e,r,n);break e}else if(r!==i){i=yr(Error(z(424)),e),df(i),e=JA(t,e,r,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for($e=Sr(t.firstChild),tn=e,xe=!0,es=null,vr=!0,n=HR(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(yo(),r===i){e=ea(t,e,n);break e}Yt(t,e,r,n)}e=e.child}return e;case 26:return im(t,e),t===null?(n=xT(e.type,null,e.pendingProps,null))?e.memoizedState=n:xe||(n=e.type,t=e.pendingProps,r=Jm(Ja.current).createElement(n),r[en]=e,r[$n]=t,sn(r,n,t),Bt(r),e.stateNode=r):e.memoizedState=xT(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return J0(e),t===null&&xe&&(r=e.stateNode=Tj(e.type,e.pendingProps,Ja.current),tn=e,vr=!0,i=$e,Os(e.type)?(Ub=i,$e=Sr(r.firstChild)):$e=i),Yt(t,e,e.pendingProps.children,n),im(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&xe&&((i=r=$e)&&(r=j9(r,e.type,e.pendingProps,vr),r!==null?(e.stateNode=r,tn=e,$e=Sr(r.firstChild),vr=!1,i=!0):i=!1),i||gs(e)),J0(e),i=e.type,a=e.pendingProps,s=t!==null?t.memoizedProps:null,r=a.children,Db(i,a)?r=null:s!==null&&Db(i,s)&&(e.flags|=32),e.memoizedState!==null&&(i=z_(t,e,Wz,null,null,n),vf._currentValue=i),im(t,e),Yt(t,e,r,n),e.child;case 6:return t===null&&xe&&((t=n=$e)&&(n=k9(n,e.pendingProps,vr),n!==null?(e.stateNode=n,tn=e,$e=null,t=!0):t=!1),t||gs(e)),null;case 13:return kP(t,e,n);case 4:return Rm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=bo(e,null,r,n):Yt(t,e,r,n),e.child;case 11:return KA(t,e,e.type,e.pendingProps,n);case 7:return Yt(t,e,e.pendingProps,n),e.child;case 8:return Yt(t,e,e.pendingProps.children,n),e.child;case 12:return Yt(t,e,e.pendingProps.children,n),e.child;case 10:return r=e.pendingProps,Ma(e,e.type,r.value),Yt(t,e,r.children,n),e.child;case 9:return i=e.type._context,r=e.pendingProps.children,vo(e),i=rn(i),r=r(i),e.flags|=1,Yt(t,e,r,n),e.child;case 14:return WA(t,e,e.type,e.pendingProps,n);case 15:return PP(t,e,e.type,e.pendingProps,n);case 19:return DP(t,e,n);case 31:return n9(t,e,n);case 22:return jP(t,e,n,e.pendingProps);case 24:return vo(e),r=rn(xt),t===null?(i=D_(),i===null&&(i=Me,a=k_(),i.pooledCache=a,a.refCount++,a!==null&&(i.pooledCacheLanes|=n),i=a),e.memoizedState={parent:r,cache:i},L_(e),Ma(e,xt,i)):(t.lanes&n&&(pb(t,e),Hc(e,null,null,n),qc()),i=t.memoizedState,a=e.memoizedState,i.parent!==r?(i={parent:r,cache:r},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),Ma(e,xt,r)):(r=a.cache,Ma(e,xt,r),r!==i.cache&&hb(e,[xt],n,!0))),Yt(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(z(156,e.tag))}function Ci(t){t.flags|=4}function qv(t,e,n,r,i){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(i&335544128)===i)if(t.stateNode.complete)t.flags|=8192;else if(sj())t.flags|=8192;else throw oo=Um,M_}else t.flags&=-16777217}function tT(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!Oj(e))if(sj())t.flags|=8192;else throw oo=Um,M_}function vh(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?oR():536870912,t.lanes|=e,Wl|=e)}function cc(t,e){if(!xe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ze(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function i9(t,e,n){var r=e.pendingProps;switch(j_(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(e),null;case 1:return ze(e),null;case 3:return n=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),qi(xt),$l(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Xo(e)?Ci(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Dv())),ze(e),null;case 26:var i=e.type,a=e.memoizedState;return t===null?(Ci(e),a!==null?(ze(e),tT(e,a)):(ze(e),qv(e,i,null,r,n))):a?a!==t.memoizedState?(Ci(e),ze(e),tT(e,a)):(ze(e),e.flags&=-16777217):(t=t.memoizedProps,t!==r&&Ci(e),ze(e),qv(e,i,t,r,n)),null;case 27:if(Pm(e),n=Ja.current,i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Ci(e);else{if(!r){if(e.stateNode===null)throw Error(z(166));return ze(e),null}t=si.current,Xo(e)?IA(e):(t=Tj(i,r,n),e.stateNode=t,Ci(e))}return ze(e),null;case 5:if(Pm(e),i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Ci(e);else{if(!r){if(e.stateNode===null)throw Error(z(166));return ze(e),null}if(a=si.current,Xo(e))IA(e);else{var s=Jm(Ja.current);switch(a){case 1:a=s.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:a=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":a=s.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":a=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":a=s.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof r.is=="string"?s.createElement("select",{is:r.is}):s.createElement("select"),r.multiple?a.multiple=!0:r.size&&(a.size=r.size);break;default:a=typeof r.is=="string"?s.createElement(i,{is:r.is}):s.createElement(i)}}a[en]=e,a[$n]=r;e:for(s=e.child;s!==null;){if(s.tag===5||s.tag===6)a.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break e;for(;s.sibling===null;){if(s.return===null||s.return===e)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}e.stateNode=a;e:switch(sn(a,i,r),i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Ci(e)}}return ze(e),qv(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&Ci(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(t=Ja.current,Xo(e)){if(t=e.stateNode,n=e.memoizedProps,r=null,i=tn,i!==null)switch(i.tag){case 27:case 5:r=i.memoizedProps}t[en]=e,t=!!(t.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||wj(t.nodeValue,n)),t||gs(e,!0)}else t=Jm(t).createTextNode(r),t[en]=e,e.stateNode=t}return ze(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(r=Xo(e),n!==null){if(t===null){if(!r)throw Error(z(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(557));t[en]=e}else yo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ze(e),t=!1}else n=Dv(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(Wn(e),e):(Wn(e),null);if(e.flags&128)throw Error(z(558))}return ze(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=Xo(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(z(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(z(317));i[en]=e}else yo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ze(e),i=!1}else i=Dv(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),i=!0;if(!i)return e.flags&256?(Wn(e),e):(Wn(e),null)}return Wn(e),e.flags&128?(e.lanes=n,e):(n=r!==null,t=t!==null&&t.memoizedState!==null,n&&(r=e.child,i=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(i=r.alternate.memoizedState.cachePool.pool),a=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),a!==i&&(r.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),vh(e,e.updateQueue),ze(e),null);case 4:return $l(),t===null&&sw(e.stateNode.containerInfo),ze(e),null;case 10:return qi(e.type),ze(e),null;case 19:if($t(mt),r=e.memoizedState,r===null)return ze(e),null;if(i=(e.flags&128)!==0,a=r.rendering,a===null)if(i)cc(r,!1);else{if(lt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Bm(t),a!==null){for(e.flags|=128,cc(r,!1),t=a.updateQueue,e.updateQueue=t,vh(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)LR(n,t),n=n.sibling;return Ve(mt,mt.current&1|2),xe&&Pi(e,r.treeForkCount),e.child}t=t.sibling}r.tail!==null&&tr()>Km&&(e.flags|=128,i=!0,cc(r,!1),e.lanes=4194304)}else{if(!i)if(t=Bm(a),t!==null){if(e.flags|=128,i=!0,t=t.updateQueue,e.updateQueue=t,vh(e,t),cc(r,!0),r.tail===null&&r.tailMode==="hidden"&&!a.alternate&&!xe)return ze(e),null}else 2*tr()-r.renderingStartTime>Km&&n!==536870912&&(e.flags|=128,i=!0,cc(r,!1),e.lanes=4194304);r.isBackwards?(a.sibling=e.child,e.child=a):(t=r.last,t!==null?t.sibling=a:e.child=a,r.last=a)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=tr(),t.sibling=null,n=mt.current,Ve(mt,i?n&1|2:n&1),xe&&Pi(e,r.treeForkCount),t):(ze(e),null);case 22:case 23:return Wn(e),V_(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?n&536870912&&!(e.flags&128)&&(ze(e),e.subtreeFlags&6&&(e.flags|=8192)):ze(e),n=e.updateQueue,n!==null&&vh(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==n&&(e.flags|=2048),t!==null&&$t(so),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),qi(xt),ze(e),null;case 25:return null;case 30:return null}throw Error(z(156,e.tag))}function a9(t,e){switch(j_(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return qi(xt),$l(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Pm(e),null;case 31:if(e.memoizedState!==null){if(Wn(e),e.alternate===null)throw Error(z(340));yo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(Wn(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));yo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return $t(mt),null;case 4:return $l(),null;case 10:return qi(e.type),null;case 22:case 23:return Wn(e),V_(),t!==null&&$t(so),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return qi(xt),null;case 25:return null;default:return null}}function LP(t,e){switch(j_(e),e.tag){case 3:qi(xt),$l();break;case 26:case 27:case 5:Pm(e);break;case 4:$l();break;case 31:e.memoizedState!==null&&Wn(e);break;case 13:Wn(e);break;case 19:$t(mt);break;case 10:qi(e.type);break;case 22:case 23:Wn(e),V_(),t!==null&&$t(so);break;case 24:qi(xt)}}function ld(t,e){try{var n=e.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var i=r.next;n=i;do{if((n.tag&t)===t){r=void 0;var a=n.create,s=n.inst;r=a(),s.destroy=r}n=n.next}while(n!==i)}}catch(o){Ie(e,e.return,o)}}function ys(t,e,n){try{var r=e.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var a=i.next;r=a;do{if((r.tag&t)===t){var s=r.inst,o=s.destroy;if(o!==void 0){s.destroy=void 0,i=e;var l=n,u=o;try{u()}catch(c){Ie(i,l,c)}}}r=r.next}while(r!==a)}}catch(c){Ie(e,e.return,c)}}function VP(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{KR(e,n)}catch(r){Ie(t,t.return,r)}}}function UP(t,e,n){n.props=_o(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(r){Ie(t,e,r)}}function Kc(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof n=="function"?t.refCleanup=n(r):n.current=r}}catch(i){Ie(t,e,i)}}function ni(t,e){var n=t.ref,r=t.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(i){Ie(t,e,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){Ie(t,e,i)}else n.current=null}function zP(t){var e=t.type,n=t.memoizedProps,r=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){Ie(t,t.return,i)}}function Hv(t,e,n){try{var r=t.stateNode;N9(r,t.type,n,e),r[$n]=e}catch(i){Ie(t,t.return,i)}}function BP(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Os(t.type)||t.tag===4}function Gv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||BP(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Os(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Tb(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Li));else if(r!==4&&(r===27&&Os(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(Tb(t,e,n),t=t.sibling;t!==null;)Tb(t,e,n),t=t.sibling}function Gm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(r===27&&Os(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(Gm(t,e,n),t=t.sibling;t!==null;)Gm(t,e,n),t=t.sibling}function $P(t){var e=t.stateNode,n=t.memoizedProps;try{for(var r=t.type,i=e.attributes;i.length;)e.removeAttributeNode(i[0]);sn(e,r,n),e[en]=t,e[$n]=n}catch(a){Ie(t,t.return,a)}}var ki=!1,bt=!1,Kv=!1,nT=typeof WeakSet=="function"?WeakSet:Set,zt=null;function s9(t,e){if(t=t.containerInfo,jb=rp,t=OR(t),C_(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,u=0,c=0,f=t,m=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(o=s+i),f!==a||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)m=f,f=p;for(;;){if(f===t)break t;if(m===n&&++u===i&&(o=s),m===a&&++c===r&&(l=s),(p=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=p}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(kb={focusedElem:t,selectionRange:n},rp=!1,zt=e;zt!==null;)if(e=zt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,zt=t;else for(;zt!==null;){switch(e=zt,a=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)i=t[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&a!==null){t=void 0,n=e,i=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var g=_o(n.type,i);t=r.getSnapshotBeforeUpdate(g,a),r.__reactInternalSnapshotBeforeUpdate=t}catch(_){Ie(n,n.return,_)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)Mb(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Mb(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(z(163))}if(t=e.sibling,t!==null){t.return=e.return,zt=t;break}zt=e.return}}function FP(t,e,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Ii(t,n),r&4&&ld(5,n);break;case 1:if(Ii(t,n),r&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(s){Ie(n,n.return,s)}else{var i=_o(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(i,e,t.__reactInternalSnapshotBeforeUpdate)}catch(s){Ie(n,n.return,s)}}r&64&&VP(n),r&512&&Kc(n,n.return);break;case 3:if(Ii(t,n),r&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{KR(t,e)}catch(s){Ie(n,n.return,s)}}break;case 27:e===null&&r&4&&$P(n);case 26:case 5:Ii(t,n),e===null&&r&4&&zP(n),r&512&&Kc(n,n.return);break;case 12:Ii(t,n);break;case 31:Ii(t,n),r&4&&GP(t,n);break;case 13:Ii(t,n),r&4&&KP(t,n),r&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=p9.bind(null,n),D9(t,n))));break;case 22:if(r=n.memoizedState!==null||ki,!r){e=e!==null&&e.memoizedState!==null||bt,i=ki;var a=bt;ki=r,(bt=e)&&!a?Ri(t,n,(n.subtreeFlags&8772)!==0):Ii(t,n),ki=i,bt=a}break;case 30:break;default:Ii(t,n)}}function qP(t){var e=t.alternate;e!==null&&(t.alternate=null,qP(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&w_(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Xe=null,jn=!1;function Oi(t,e,n){for(n=n.child;n!==null;)HP(t,e,n),n=n.sibling}function HP(t,e,n){if(nr&&typeof nr.onCommitFiberUnmount=="function")try{nr.onCommitFiberUnmount(td,n)}catch{}switch(n.tag){case 26:bt||ni(n,e),Oi(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:bt||ni(n,e);var r=Xe,i=jn;Os(n.type)&&(Xe=n.stateNode,jn=!1),Oi(t,e,n),Qc(n.stateNode),Xe=r,jn=i;break;case 5:bt||ni(n,e);case 6:if(r=Xe,i=jn,Xe=null,Oi(t,e,n),Xe=r,jn=i,Xe!==null)if(jn)try{(Xe.nodeType===9?Xe.body:Xe.nodeName==="HTML"?Xe.ownerDocument.body:Xe).removeChild(n.stateNode)}catch(a){Ie(n,e,a)}else try{Xe.removeChild(n.stateNode)}catch(a){Ie(n,e,a)}break;case 18:Xe!==null&&(jn?(t=Xe,pT(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),Zl(t)):pT(Xe,n.stateNode));break;case 4:r=Xe,i=jn,Xe=n.stateNode.containerInfo,jn=!0,Oi(t,e,n),Xe=r,jn=i;break;case 0:case 11:case 14:case 15:ys(2,n,e),bt||ys(4,n,e),Oi(t,e,n);break;case 1:bt||(ni(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"&&UP(n,e,r)),Oi(t,e,n);break;case 21:Oi(t,e,n);break;case 22:bt=(r=bt)||n.memoizedState!==null,Oi(t,e,n),bt=r;break;default:Oi(t,e,n)}}function GP(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Zl(t)}catch(n){Ie(e,e.return,n)}}}function KP(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Zl(t)}catch(n){Ie(e,e.return,n)}}function o9(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new nT),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new nT),e;default:throw Error(z(435,t.tag))}}function bh(t,e){var n=o9(t);e.forEach(function(r){if(!n.has(r)){n.add(r);var i=g9.bind(null,t,r);r.then(i,i)}})}function Rn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r],a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 27:if(Os(o.type)){Xe=o.stateNode,jn=!1;break e}break;case 5:Xe=o.stateNode,jn=!1;break e;case 3:case 4:Xe=o.stateNode.containerInfo,jn=!0;break e}o=o.return}if(Xe===null)throw Error(z(160));HP(a,s,i),Xe=null,jn=!1,a=i.alternate,a!==null&&(a.return=null),i.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)WP(e,t),e=e.sibling}var kr=null;function WP(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Rn(e,t),Pn(t),r&4&&(ys(3,t,t.return),ld(3,t),ys(5,t,t.return));break;case 1:Rn(e,t),Pn(t),r&512&&(bt||n===null||ni(n,n.return)),r&64&&ki&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var i=kr;if(Rn(e,t),Pn(t),r&512&&(bt||n===null||ni(n,n.return)),r&4){var a=n!==null?n.memoizedState:null;if(r=t.memoizedState,n===null)if(r===null)if(t.stateNode===null){e:{r=t.type,n=t.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":a=i.getElementsByTagName("title")[0],(!a||a[id]||a[en]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=i.createElement(r),i.head.insertBefore(a,i.querySelector("head > title"))),sn(a,r,n),a[en]=t,Bt(a),r=a;break e;case"link":var s=wT("link","href",i).get(r+(n.href||""));if(s){for(var o=0;o<s.length;o++)if(a=s[o],a.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(o,1);break t}}a=i.createElement(r),sn(a,r,n),i.head.appendChild(a);break;case"meta":if(s=wT("meta","content",i).get(r+(n.content||""))){for(o=0;o<s.length;o++)if(a=s[o],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(o,1);break t}}a=i.createElement(r),sn(a,r,n),i.head.appendChild(a);break;default:throw Error(z(468,r))}a[en]=t,Bt(a),r=a}t.stateNode=r}else ET(i,t.type,t.stateNode);else t.stateNode=_T(i,r,t.memoizedProps);else a!==r?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,r===null?ET(i,t.type,t.stateNode):_T(i,r,t.memoizedProps)):r===null&&t.stateNode!==null&&Hv(t,t.memoizedProps,n.memoizedProps)}break;case 27:Rn(e,t),Pn(t),r&512&&(bt||n===null||ni(n,n.return)),n!==null&&r&4&&Hv(t,t.memoizedProps,n.memoizedProps);break;case 5:if(Rn(e,t),Pn(t),r&512&&(bt||n===null||ni(n,n.return)),t.flags&32){i=t.stateNode;try{ql(i,"")}catch(g){Ie(t,t.return,g)}}r&4&&t.stateNode!=null&&(i=t.memoizedProps,Hv(t,i,n!==null?n.memoizedProps:i)),r&1024&&(Kv=!0);break;case 6:if(Rn(e,t),Pn(t),r&4){if(t.stateNode===null)throw Error(z(162));r=t.memoizedProps,n=t.stateNode;try{n.nodeValue=r}catch(g){Ie(t,t.return,g)}}break;case 3:if(om=null,i=kr,kr=ep(e.containerInfo),Rn(e,t),kr=i,Pn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Zl(e.containerInfo)}catch(g){Ie(t,t.return,g)}Kv&&(Kv=!1,YP(t));break;case 4:r=kr,kr=ep(t.stateNode.containerInfo),Rn(e,t),Pn(t),kr=r;break;case 12:Rn(e,t),Pn(t);break;case 31:Rn(e,t),Pn(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,bh(t,r)));break;case 13:Rn(e,t),Pn(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Ig=tr()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,bh(t,r)));break;case 22:i=t.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,u=ki,c=bt;if(ki=u||i,bt=c||l,Rn(e,t),bt=c,ki=u,Pn(t),r&8192)e:for(e=t.stateNode,e._visibility=i?e._visibility&-2:e._visibility|1,i&&(n===null||l||ki||bt||Ws(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){l=n=e;try{if(a=l.stateNode,i)s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{o=l.stateNode;var f=l.memoizedProps.style,m=f!=null&&f.hasOwnProperty("display")?f.display:null;o.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(g){Ie(l,l.return,g)}}}else if(e.tag===6){if(n===null){l=e;try{l.stateNode.nodeValue=i?"":l.memoizedProps}catch(g){Ie(l,l.return,g)}}}else if(e.tag===18){if(n===null){l=e;try{var p=l.stateNode;i?gT(p,!0):gT(l.stateNode,!1)}catch(g){Ie(l,l.return,g)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,bh(t,n))));break;case 19:Rn(e,t),Pn(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,bh(t,r)));break;case 30:break;case 21:break;default:Rn(e,t),Pn(t)}}function Pn(t){var e=t.flags;if(e&2){try{for(var n,r=t.return;r!==null;){if(BP(r)){n=r;break}r=r.return}if(n==null)throw Error(z(160));switch(n.tag){case 27:var i=n.stateNode,a=Gv(t);Gm(t,a,i);break;case 5:var s=n.stateNode;n.flags&32&&(ql(s,""),n.flags&=-33);var o=Gv(t);Gm(t,o,s);break;case 3:case 4:var l=n.stateNode.containerInfo,u=Gv(t);Tb(t,u,l);break;default:throw Error(z(161))}}catch(c){Ie(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function YP(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;YP(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Ii(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)FP(t,e.alternate,e),e=e.sibling}function Ws(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:ys(4,e,e.return),Ws(e);break;case 1:ni(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&UP(e,e.return,n),Ws(e);break;case 27:Qc(e.stateNode);case 26:case 5:ni(e,e.return),Ws(e);break;case 22:e.memoizedState===null&&Ws(e);break;case 30:Ws(e);break;default:Ws(e)}t=t.sibling}}function Ri(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,i=t,a=e,s=a.flags;switch(a.tag){case 0:case 11:case 15:Ri(i,a,n),ld(4,a);break;case 1:if(Ri(i,a,n),r=a,i=r.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(u){Ie(r,r.return,u)}if(r=a,i=r.updateQueue,i!==null){var o=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(l!==null)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)GR(l[i],o)}catch(u){Ie(r,r.return,u)}}n&&s&64&&VP(a),Kc(a,a.return);break;case 27:$P(a);case 26:case 5:Ri(i,a,n),n&&r===null&&s&4&&zP(a),Kc(a,a.return);break;case 12:Ri(i,a,n);break;case 31:Ri(i,a,n),n&&s&4&&GP(i,a);break;case 13:Ri(i,a,n),n&&s&4&&KP(i,a);break;case 22:a.memoizedState===null&&Ri(i,a,n),Kc(a,a.return);break;case 30:break;default:Ri(i,a,n)}e=e.sibling}}function ew(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&sd(n))}function tw(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&sd(t))}function jr(t,e,n,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)XP(t,e,n,r),e=e.sibling}function XP(t,e,n,r){var i=e.flags;switch(e.tag){case 0:case 11:case 15:jr(t,e,n,r),i&2048&&ld(9,e);break;case 1:jr(t,e,n,r);break;case 3:jr(t,e,n,r),i&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&sd(t)));break;case 12:if(i&2048){jr(t,e,n,r),t=e.stateNode;try{var a=e.memoizedProps,s=a.id,o=a.onPostCommit;typeof o=="function"&&o(s,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(l){Ie(e,e.return,l)}}else jr(t,e,n,r);break;case 31:jr(t,e,n,r);break;case 13:jr(t,e,n,r);break;case 23:break;case 22:a=e.stateNode,s=e.alternate,e.memoizedState!==null?a._visibility&2?jr(t,e,n,r):Wc(t,e):a._visibility&2?jr(t,e,n,r):(a._visibility|=2,il(t,e,n,r,(e.subtreeFlags&10256)!==0||!1)),i&2048&&ew(s,e);break;case 24:jr(t,e,n,r),i&2048&&tw(e.alternate,e);break;default:jr(t,e,n,r)}}function il(t,e,n,r,i){for(i=i&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var a=t,s=e,o=n,l=r,u=s.flags;switch(s.tag){case 0:case 11:case 15:il(a,s,o,l,i),ld(8,s);break;case 23:break;case 22:var c=s.stateNode;s.memoizedState!==null?c._visibility&2?il(a,s,o,l,i):Wc(a,s):(c._visibility|=2,il(a,s,o,l,i)),i&&u&2048&&ew(s.alternate,s);break;case 24:il(a,s,o,l,i),i&&u&2048&&tw(s.alternate,s);break;default:il(a,s,o,l,i)}e=e.sibling}}function Wc(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,r=e,i=r.flags;switch(r.tag){case 22:Wc(n,r),i&2048&&ew(r.alternate,r);break;case 24:Wc(n,r),i&2048&&tw(r.alternate,r);break;default:Wc(n,r)}e=e.sibling}}var Cc=8192;function Qo(t,e,n){if(t.subtreeFlags&Cc)for(t=t.child;t!==null;)QP(t,e,n),t=t.sibling}function QP(t,e,n){switch(t.tag){case 26:Qo(t,e,n),t.flags&Cc&&t.memoizedState!==null&&K9(n,kr,t.memoizedState,t.memoizedProps);break;case 5:Qo(t,e,n);break;case 3:case 4:var r=kr;kr=ep(t.stateNode.containerInfo),Qo(t,e,n),kr=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=Cc,Cc=16777216,Qo(t,e,n),Cc=r):Qo(t,e,n));break;default:Qo(t,e,n)}}function ZP(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function fc(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];zt=r,ej(r,t)}ZP(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)JP(t),t=t.sibling}function JP(t){switch(t.tag){case 0:case 11:case 15:fc(t),t.flags&2048&&ys(9,t,t.return);break;case 3:fc(t);break;case 12:fc(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,am(t)):fc(t);break;default:fc(t)}}function am(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];zt=r,ej(r,t)}ZP(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:ys(8,e,e.return),am(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,am(e));break;default:am(e)}t=t.sibling}}function ej(t,e){for(;zt!==null;){var n=zt;switch(n.tag){case 0:case 11:case 15:ys(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:sd(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,zt=r;else e:for(n=t;zt!==null;){r=zt;var i=r.sibling,a=r.return;if(qP(r),r===n){zt=null;break e}if(i!==null){i.return=a,zt=i;break e}zt=a}}}var l9={getCacheForType:function(t){var e=rn(xt),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return rn(xt).controller.signal}},u9=typeof WeakMap=="function"?WeakMap:Map,Se=0,Me=null,me=null,ve=0,Ce=0,Kn=null,Wa=!1,xu=!1,nw=!1,ta=0,lt=0,vs=0,lo=0,rw=0,Qn=0,Wl=0,Yc=null,kn=null,Nb=!1,Ig=0,tj=0,Km=1/0,Wm=null,rs=null,Nt=0,is=null,Yl=null,Hi=0,Cb=0,Ob=null,nj=null,Xc=0,Ib=null;function ir(){return Se&2&&ve!==0?ve&-ve:ie.T!==null?aw():fR()}function rj(){if(Qn===0)if(!(ve&536870912)||xe){var t=fh;fh<<=1,!(fh&3932160)&&(fh=262144),Qn=t}else Qn=536870912;return t=lr.current,t!==null&&(t.flags|=32),Qn}function zn(t,e,n){(t===Me&&(Ce===2||Ce===9)||t.cancelPendingCommit!==null)&&(Xl(t,0),Ya(t,ve,Qn,!1)),rd(t,n),(!(Se&2)||t!==Me)&&(t===Me&&(!(Se&2)&&(lo|=n),lt===4&&Ya(t,ve,Qn,!1)),wi(t))}function ij(t,e,n){if(Se&6)throw Error(z(327));var r=!n&&(e&127)===0&&(e&t.expiredLanes)===0||nd(t,e),i=r?d9(t,e):Wv(t,e,!0),a=r;do{if(i===0){xu&&!r&&Ya(t,e,0,!1);break}else{if(n=t.current.alternate,a&&!c9(n)){i=Wv(t,e,!1),a=!1;continue}if(i===2){if(a=e,t.errorRecoveryDisabledLanes&a)var s=0;else s=t.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){e=s;e:{var o=t;i=Yc;var l=o.current.memoizedState.isDehydrated;if(l&&(Xl(o,s).flags|=256),s=Wv(o,s,!1),s!==2){if(nw&&!l){o.errorRecoveryDisabledLanes|=a,lo|=a,i=4;break e}a=kn,kn=i,a!==null&&(kn===null?kn=a:kn.push.apply(kn,a))}i=s}if(a=!1,i!==2)continue}}if(i===1){Xl(t,0),Ya(t,e,0,!0);break}e:{switch(r=t,a=i,a){case 0:case 1:throw Error(z(345));case 4:if((e&4194048)!==e)break;case 6:Ya(r,e,Qn,!Wa);break e;case 2:kn=null;break;case 3:case 5:break;default:throw Error(z(329))}if((e&62914560)===e&&(i=Ig+300-tr(),10<i)){if(Ya(r,e,Qn,!Wa),bg(r,0,!0)!==0)break e;Hi=e,r.timeoutHandle=Sj(rT.bind(null,r,n,kn,Wm,Nb,e,Qn,lo,Wl,Wa,a,"Throttled",-0,0),i);break e}rT(r,n,kn,Wm,Nb,e,Qn,lo,Wl,Wa,a,null,-0,0)}}break}while(!0);wi(t)}function rT(t,e,n,r,i,a,s,o,l,u,c,f,m,p){if(t.timeoutHandle=-1,f=e.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Li},QP(e,a,f);var g=(a&62914560)===a?Ig-tr():(a&4194048)===a?tj-tr():0;if(g=W9(f,g),g!==null){Hi=a,t.cancelPendingCommit=g(aT.bind(null,t,e,a,n,r,i,s,o,l,c,f,null,m,p)),Ya(t,a,s,!u);return}}aT(t,e,a,n,r,i,s,o,l)}function c9(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!or(a(),i))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ya(t,e,n,r){e&=~rw,e&=~lo,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var i=e;0<i;){var a=31-rr(i),s=1<<a;r[a]=-1,i&=~s}n!==0&&lR(t,n,e)}function Rg(){return Se&6?!0:(ud(0),!1)}function iw(){if(me!==null){if(Ce===0)var t=me.return;else t=me,Vi=Uo=null,F_(t),Pl=null,hf=0,t=me;for(;t!==null;)LP(t.alternate,t),t=t.return;me=null}}function Xl(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,I9(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Hi=0,iw(),Me=t,me=n=Fi(t.current,null),ve=e,Ce=0,Kn=null,Wa=!1,xu=nd(t,e),nw=!1,Wl=Qn=rw=lo=vs=lt=0,kn=Yc=null,Nb=!1,e&8&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var i=31-rr(r),a=1<<i;e|=t[i],r&=~a}return ta=e,Eg(),n}function aj(t,e){ce=null,ie.H=pf,e===bu||e===Ag?(e=DA(),Ce=3):e===M_?(e=DA(),Ce=4):Ce=e===Z_?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Kn=e,me===null&&(lt=1,qm(t,yr(e,t.current)))}function sj(){var t=lr.current;return t===null?!0:(ve&4194048)===ve?Er===null:(ve&62914560)===ve||ve&536870912?t===Er:!1}function oj(){var t=ie.H;return ie.H=pf,t===null?pf:t}function lj(){var t=ie.A;return ie.A=l9,t}function Ym(){lt=4,Wa||(ve&4194048)!==ve&&lr.current!==null||(xu=!0),!(vs&134217727)&&!(lo&134217727)||Me===null||Ya(Me,ve,Qn,!1)}function Wv(t,e,n){var r=Se;Se|=2;var i=oj(),a=lj();(Me!==t||ve!==e)&&(Wm=null,Xl(t,e)),e=!1;var s=lt;e:do try{if(Ce!==0&&me!==null){var o=me,l=Kn;switch(Ce){case 8:iw(),s=6;break e;case 3:case 2:case 9:case 6:lr.current===null&&(e=!0);var u=Ce;if(Ce=0,Kn=null,El(t,o,l,u),n&&xu){s=0;break e}break;default:u=Ce,Ce=0,Kn=null,El(t,o,l,u)}}f9(),s=lt;break}catch(c){aj(t,c)}while(!0);return e&&t.shellSuspendCounter++,Vi=Uo=null,Se=r,ie.H=i,ie.A=a,me===null&&(Me=null,ve=0,Eg()),s}function f9(){for(;me!==null;)uj(me)}function d9(t,e){var n=Se;Se|=2;var r=oj(),i=lj();Me!==t||ve!==e?(Wm=null,Km=tr()+500,Xl(t,e)):xu=nd(t,e);e:do try{if(Ce!==0&&me!==null){e=me;var a=Kn;t:switch(Ce){case 1:Ce=0,Kn=null,El(t,e,a,1);break;case 2:case 9:if(kA(a)){Ce=0,Kn=null,iT(e);break}e=function(){Ce!==2&&Ce!==9||Me!==t||(Ce=7),wi(t)},a.then(e,e);break e;case 3:Ce=7;break e;case 4:Ce=5;break e;case 7:kA(a)?(Ce=0,Kn=null,iT(e)):(Ce=0,Kn=null,El(t,e,a,7));break;case 5:var s=null;switch(me.tag){case 26:s=me.memoizedState;case 5:case 27:var o=me;if(s?Oj(s):o.stateNode.complete){Ce=0,Kn=null;var l=o.sibling;if(l!==null)me=l;else{var u=o.return;u!==null?(me=u,Pg(u)):me=null}break t}}Ce=0,Kn=null,El(t,e,a,5);break;case 6:Ce=0,Kn=null,El(t,e,a,6);break;case 8:iw(),lt=6;break e;default:throw Error(z(462))}}h9();break}catch(c){aj(t,c)}while(!0);return Vi=Uo=null,ie.H=r,ie.A=i,Se=n,me!==null?0:(Me=null,ve=0,Eg(),lt)}function h9(){for(;me!==null&&!MU();)uj(me)}function uj(t){var e=MP(t.alternate,t,ta);t.memoizedProps=t.pendingProps,e===null?Pg(t):me=e}function iT(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=QA(n,e,e.pendingProps,e.type,void 0,ve);break;case 11:e=QA(n,e,e.pendingProps,e.type.render,e.ref,ve);break;case 5:F_(e);default:LP(n,e),e=me=LR(e,ta),e=MP(n,e,ta)}t.memoizedProps=t.pendingProps,e===null?Pg(t):me=e}function El(t,e,n,r){Vi=Uo=null,F_(e),Pl=null,hf=0;var i=e.return;try{if(t9(t,i,e,n,ve)){lt=1,qm(t,yr(n,t.current)),me=null;return}}catch(a){if(i!==null)throw me=i,a;lt=1,qm(t,yr(n,t.current)),me=null;return}e.flags&32768?(xe||r===1?t=!0:xu||ve&536870912?t=!1:(Wa=t=!0,(r===2||r===9||r===3||r===6)&&(r=lr.current,r!==null&&r.tag===13&&(r.flags|=16384))),cj(e,t)):Pg(e)}function Pg(t){var e=t;do{if(e.flags&32768){cj(e,Wa);return}t=e.return;var n=i9(e.alternate,e,ta);if(n!==null){me=n;return}if(e=e.sibling,e!==null){me=e;return}me=e=t}while(e!==null);lt===0&&(lt=5)}function cj(t,e){do{var n=a9(t.alternate,t);if(n!==null){n.flags&=32767,me=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){me=t;return}me=t=n}while(t!==null);lt=6,me=null}function aT(t,e,n,r,i,a,s,o,l){t.cancelPendingCommit=null;do jg();while(Nt!==0);if(Se&6)throw Error(z(327));if(e!==null){if(e===t.current)throw Error(z(177));if(a=e.lanes|e.childLanes,a|=O_,GU(t,n,a,s,o,l),t===Me&&(me=Me=null,ve=0),Yl=e,is=t,Hi=n,Cb=a,Ob=i,nj=r,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,y9(jm,function(){return pj(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,e.subtreeFlags&13878||r){r=ie.T,ie.T=null,i=Ae.p,Ae.p=2,s=Se,Se|=4;try{s9(t,e,n)}finally{Se=s,Ae.p=i,ie.T=r}}Nt=1,fj(),dj(),hj()}}function fj(){if(Nt===1){Nt=0;var t=is,e=Yl,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=ie.T,ie.T=null;var r=Ae.p;Ae.p=2;var i=Se;Se|=4;try{WP(e,t);var a=kb,s=OR(t.containerInfo),o=a.focusedElem,l=a.selectionRange;if(s!==o&&o&&o.ownerDocument&&CR(o.ownerDocument.documentElement,o)){if(l!==null&&C_(o)){var u=l.start,c=l.end;if(c===void 0&&(c=u),"selectionStart"in o)o.selectionStart=u,o.selectionEnd=Math.min(c,o.value.length);else{var f=o.ownerDocument||document,m=f&&f.defaultView||window;if(m.getSelection){var p=m.getSelection(),g=o.textContent.length,_=Math.min(l.start,g),y=l.end===void 0?_:Math.min(l.end,g);!p.extend&&_>y&&(s=y,y=_,_=s);var w=NA(o,_),x=NA(o,y);if(w&&x&&(p.rangeCount!==1||p.anchorNode!==w.node||p.anchorOffset!==w.offset||p.focusNode!==x.node||p.focusOffset!==x.offset)){var E=f.createRange();E.setStart(w.node,w.offset),p.removeAllRanges(),_>y?(p.addRange(E),p.extend(x.node,x.offset)):(E.setEnd(x.node,x.offset),p.addRange(E))}}}}for(f=[],p=o;p=p.parentNode;)p.nodeType===1&&f.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<f.length;o++){var N=f[o];N.element.scrollLeft=N.left,N.element.scrollTop=N.top}}rp=!!jb,kb=jb=null}finally{Se=i,Ae.p=r,ie.T=n}}t.current=e,Nt=2}}function dj(){if(Nt===2){Nt=0;var t=is,e=Yl,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=ie.T,ie.T=null;var r=Ae.p;Ae.p=2;var i=Se;Se|=4;try{FP(t,e.alternate,e)}finally{Se=i,Ae.p=r,ie.T=n}}Nt=3}}function hj(){if(Nt===4||Nt===3){Nt=0,LU();var t=is,e=Yl,n=Hi,r=nj;e.subtreeFlags&10256||e.flags&10256?Nt=5:(Nt=0,Yl=is=null,mj(t,t.pendingLanes));var i=t.pendingLanes;if(i===0&&(rs=null),__(n),e=e.stateNode,nr&&typeof nr.onCommitFiberRoot=="function")try{nr.onCommitFiberRoot(td,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=ie.T,i=Ae.p,Ae.p=2,ie.T=null;try{for(var a=t.onRecoverableError,s=0;s<r.length;s++){var o=r[s];a(o.value,{componentStack:o.stack})}}finally{ie.T=e,Ae.p=i}}Hi&3&&jg(),wi(t),i=t.pendingLanes,n&261930&&i&42?t===Ib?Xc++:(Xc=0,Ib=t):Xc=0,ud(0)}}function mj(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,sd(e)))}function jg(){return fj(),dj(),hj(),pj()}function pj(){if(Nt!==5)return!1;var t=is,e=Cb;Cb=0;var n=__(Hi),r=ie.T,i=Ae.p;try{Ae.p=32>n?32:n,ie.T=null,n=Ob,Ob=null;var a=is,s=Hi;if(Nt=0,Yl=is=null,Hi=0,Se&6)throw Error(z(331));var o=Se;if(Se|=4,JP(a.current),XP(a,a.current,s,n),Se=o,ud(0,!1),nr&&typeof nr.onPostCommitFiberRoot=="function")try{nr.onPostCommitFiberRoot(td,a)}catch{}return!0}finally{Ae.p=i,ie.T=r,mj(t,e)}}function sT(t,e,n){e=yr(n,e),e=Eb(t.stateNode,e,2),t=ns(t,e,2),t!==null&&(rd(t,2),wi(t))}function Ie(t,e,n){if(t.tag===3)sT(t,t,n);else for(;e!==null;){if(e.tag===3){sT(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(rs===null||!rs.has(r))){t=yr(n,t),n=IP(2),r=ns(e,n,2),r!==null&&(RP(n,r,e,t),rd(r,2),wi(r));break}}e=e.return}}function Yv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new u9;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(nw=!0,i.add(n),t=m9.bind(null,t,e,n),e.then(t,t))}function m9(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,Me===t&&(ve&n)===n&&(lt===4||lt===3&&(ve&62914560)===ve&&300>tr()-Ig?!(Se&2)&&Xl(t,0):rw|=n,Wl===ve&&(Wl=0)),wi(t)}function gj(t,e){e===0&&(e=oR()),t=Vo(t,e),t!==null&&(rd(t,e),wi(t))}function p9(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),gj(t,n)}function g9(t,e){var n=0;switch(t.tag){case 31:case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(z(314))}r!==null&&r.delete(e),gj(t,n)}function y9(t,e){return b_(t,e)}var Xm=null,al=null,Rb=!1,Qm=!1,Xv=!1,Xa=0;function wi(t){t!==al&&t.next===null&&(al===null?Xm=al=t:al=al.next=t),Qm=!0,Rb||(Rb=!0,b9())}function ud(t,e){if(!Xv&&Qm){Xv=!0;do for(var n=!1,r=Xm;r!==null;){if(t!==0){var i=r.pendingLanes;if(i===0)var a=0;else{var s=r.suspendedLanes,o=r.pingedLanes;a=(1<<31-rr(42|t)+1)-1,a&=i&~(s&~o),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,oT(r,a))}else a=ve,a=bg(r,r===Me?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(a&3)||nd(r,a)||(n=!0,oT(r,a));r=r.next}while(n);Xv=!1}}function v9(){yj()}function yj(){Qm=Rb=!1;var t=0;Xa!==0&&O9()&&(t=Xa);for(var e=tr(),n=null,r=Xm;r!==null;){var i=r.next,a=vj(r,e);a===0?(r.next=null,n===null?Xm=i:n.next=i,i===null&&(al=n)):(n=r,(t!==0||a&3)&&(Qm=!0)),r=i}Nt!==0&&Nt!==5||ud(t),Xa!==0&&(Xa=0)}function vj(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes&-62914561;0<a;){var s=31-rr(a),o=1<<s,l=i[s];l===-1?(!(o&n)||o&r)&&(i[s]=HU(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}if(e=Me,n=ve,n=bg(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,n===0||t===e&&(Ce===2||Ce===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&Sv(r),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||nd(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(r!==null&&Sv(r),__(n)){case 2:case 8:n=aR;break;case 32:n=jm;break;case 268435456:n=sR;break;default:n=jm}return r=bj.bind(null,t),n=b_(n,r),t.callbackPriority=e,t.callbackNode=n,e}return r!==null&&r!==null&&Sv(r),t.callbackPriority=2,t.callbackNode=null,2}function bj(t,e){if(Nt!==0&&Nt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(jg()&&t.callbackNode!==n)return null;var r=ve;return r=bg(t,t===Me?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(ij(t,r,e),vj(t,tr()),t.callbackNode!=null&&t.callbackNode===n?bj.bind(null,t):null)}function oT(t,e){if(jg())return null;ij(t,e,!0)}function b9(){R9(function(){Se&6?b_(iR,v9):yj()})}function aw(){if(Xa===0){var t=Hl;t===0&&(t=ch,ch<<=1,!(ch&261888)&&(ch=256)),Xa=t}return Xa}function lT(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Xh(""+t)}function uT(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function x9(t,e,n,r,i){if(e==="submit"&&n&&n.stateNode===i){var a=lT((i[$n]||null).action),s=r.submitter;s&&(e=(e=s[$n]||null)?lT(e.formAction):s.getAttribute("formAction"),e!==null&&(a=e,s=null));var o=new xg("action","action",null,r,i);t.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Xa!==0){var l=s?uT(i,s):new FormData(i);_b(n,{pending:!0,data:l,method:i.method,action:a},null,l)}}else typeof a=="function"&&(o.preventDefault(),l=s?uT(i,s):new FormData(i),_b(n,{pending:!0,data:l,method:i.method,action:a},a,l))},currentTarget:i}]})}}for(var Qv=0;Qv<ub.length;Qv++){var Zv=ub[Qv],_9=Zv.toLowerCase(),w9=Zv[0].toUpperCase()+Zv.slice(1);Gr(_9,"on"+w9)}Gr(RR,"onAnimationEnd");Gr(PR,"onAnimationIteration");Gr(jR,"onAnimationStart");Gr("dblclick","onDoubleClick");Gr("focusin","onFocus");Gr("focusout","onBlur");Gr(Vz,"onTransitionRun");Gr(Uz,"onTransitionStart");Gr(zz,"onTransitionCancel");Gr(kR,"onTransitionEnd");Fl("onMouseEnter",["mouseout","mouseover"]);Fl("onMouseLeave",["mouseout","mouseover"]);Fl("onPointerEnter",["pointerout","pointerover"]);Fl("onPointerLeave",["pointerout","pointerover"]);Do("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Do("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Do("onBeforeInput",["compositionend","keypress","textInput","paste"]);Do("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Do("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Do("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),E9=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gf));function xj(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=u;try{a(i)}catch(c){Dm(c)}i.currentTarget=null,a=l}else for(s=0;s<r.length;s++){if(o=r[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=u;try{a(i)}catch(c){Dm(c)}i.currentTarget=null,a=l}}}}function he(t,e){var n=e[tb];n===void 0&&(n=e[tb]=new Set);var r=t+"__bubble";n.has(r)||(_j(e,t,2,!1),n.add(r))}function Jv(t,e,n){var r=0;e&&(r|=4),_j(n,t,r,e)}var xh="_reactListening"+Math.random().toString(36).slice(2);function sw(t){if(!t[xh]){t[xh]=!0,dR.forEach(function(n){n!=="selectionchange"&&(E9.has(n)||Jv(n,!1,t),Jv(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[xh]||(e[xh]=!0,Jv("selectionchange",!1,e))}}function _j(t,e,n,r){switch(kj(e)){case 2:var i=Q9;break;case 8:i=Z9;break;default:i=cw}n=i.bind(null,e,n,t),i=void 0,!sb||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function e0(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&s.stateNode.containerInfo===i)return;s=s.return}for(;o!==null;){if(s=ml(o),s===null)return;if(l=s.tag,l===5||l===6||l===26||l===27){r=a=s;continue e}o=o.parentNode}}r=r.return}xR(function(){var u=a,c=S_(n),f=[];e:{var m=DR.get(t);if(m!==void 0){var p=xg,g=t;switch(t){case"keypress":if(Zh(n)===0)break e;case"keydown":case"keyup":p=gz;break;case"focusin":g="focus",p=Ov;break;case"focusout":g="blur",p=Ov;break;case"beforeblur":case"afterblur":p=Ov;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=yA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=iz;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=bz;break;case RR:case PR:case jR:p=oz;break;case kR:p=_z;break;case"scroll":case"scrollend":p=nz;break;case"wheel":p=Ez;break;case"copy":case"cut":case"paste":p=uz;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=bA;break;case"toggle":case"beforetoggle":p=Az}var _=(e&4)!==0,y=!_&&(t==="scroll"||t==="scrollend"),w=_?m!==null?m+"Capture":null:m;_=[];for(var x=u,E;x!==null;){var N=x;if(E=N.stateNode,N=N.tag,N!==5&&N!==26&&N!==27||E===null||w===null||(N=lf(x,w),N!=null&&_.push(yf(x,N,E))),y)break;x=x.return}0<_.length&&(m=new p(m,g,null,n,c),f.push({event:m,listeners:_}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",m&&n!==ab&&(g=n.relatedTarget||n.fromElement)&&(ml(g)||g[gu]))break e;if((p||m)&&(m=c.window===c?c:(m=c.ownerDocument)?m.defaultView||m.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=u,g=g?ml(g):null,g!==null&&(y=ed(g),_=g.tag,g!==y||_!==5&&_!==27&&_!==6)&&(g=null)):(p=null,g=u),p!==g)){if(_=yA,N="onMouseLeave",w="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(_=bA,N="onPointerLeave",w="onPointerEnter",x="pointer"),y=p==null?m:Tc(p),E=g==null?m:Tc(g),m=new _(N,x+"leave",p,n,c),m.target=y,m.relatedTarget=E,N=null,ml(c)===u&&(_=new _(w,x+"enter",g,n,c),_.target=E,_.relatedTarget=y,N=_),y=N,p&&g)t:{for(_=S9,w=p,x=g,E=0,N=w;N;N=_(N))E++;N=0;for(var P=x;P;P=_(P))N++;for(;0<E-N;)w=_(w),E--;for(;0<N-E;)x=_(x),N--;for(;E--;){if(w===x||x!==null&&w===x.alternate){_=w;break t}w=_(w),x=_(x)}_=null}else _=null;p!==null&&cT(f,m,p,_,!1),g!==null&&y!==null&&cT(f,y,g,_,!0)}}e:{if(m=u?Tc(u):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var k=EA;else if(wA(m))if(TR)k=Dz;else{k=jz;var T=Pz}else p=m.nodeName,!p||p.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?u&&E_(u.elementType)&&(k=EA):k=kz;if(k&&(k=k(t,u))){AR(f,k,n,c);break e}T&&T(t,m,u),t==="focusout"&&u&&m.type==="number"&&u.memoizedProps.value!=null&&ib(m,"number",m.value)}switch(T=u?Tc(u):window,t){case"focusin":(wA(T)||T.contentEditable==="true")&&(yl=T,ob=u,Bc=null);break;case"focusout":Bc=ob=yl=null;break;case"mousedown":lb=!0;break;case"contextmenu":case"mouseup":case"dragend":lb=!1,CA(f,n,c);break;case"selectionchange":if(Lz)break;case"keydown":case"keyup":CA(f,n,c)}var A;if(N_)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else gl?ER(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(wR&&n.locale!=="ko"&&(gl||C!=="onCompositionStart"?C==="onCompositionEnd"&&gl&&(A=_R()):(Ka=c,A_="value"in Ka?Ka.value:Ka.textContent,gl=!0)),T=Zm(u,C),0<T.length&&(C=new vA(C,t,null,n,c),f.push({event:C,listeners:T}),A?C.data=A:(A=SR(n),A!==null&&(C.data=A)))),(A=Nz?Cz(t,n):Oz(t,n))&&(C=Zm(u,"onBeforeInput"),0<C.length&&(T=new vA("onBeforeInput","beforeinput",null,n,c),f.push({event:T,listeners:C}),T.data=A)),x9(f,t,u,n,c)}xj(f,e)})}function yf(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Zm(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=lf(t,n),i!=null&&r.unshift(yf(t,i,a)),i=lf(t,e),i!=null&&r.push(yf(t,i,a))),t.tag===3)return r;t=t.return}return[]}function S9(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function cT(t,e,n,r,i){for(var a=e._reactName,s=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(o=o.tag,l!==null&&l===r)break;o!==5&&o!==26&&o!==27||u===null||(l=u,i?(u=lf(n,a),u!=null&&s.unshift(yf(n,u,l))):i||(u=lf(n,a),u!=null&&s.push(yf(n,u,l)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var A9=/\r\n?/g,T9=/\u0000|\uFFFD/g;function fT(t){return(typeof t=="string"?t:""+t).replace(A9,`
`).replace(T9,"")}function wj(t,e){return e=fT(e),fT(t)===e}function Re(t,e,n,r,i,a){switch(n){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||ql(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&ql(t,""+r);break;case"className":hh(t,"class",r);break;case"tabIndex":hh(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":hh(t,n,r);break;case"style":bR(t,r,a);break;case"data":if(e!=="object"){hh(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=Xh(""+r),t.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(e!=="input"&&Re(t,e,"name",i.name,i,null),Re(t,e,"formEncType",i.formEncType,i,null),Re(t,e,"formMethod",i.formMethod,i,null),Re(t,e,"formTarget",i.formTarget,i,null)):(Re(t,e,"encType",i.encType,i,null),Re(t,e,"method",i.method,i,null),Re(t,e,"target",i.target,i,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=Xh(""+r),t.setAttribute(n,r);break;case"onClick":r!=null&&(t.onclick=Li);break;case"onScroll":r!=null&&he("scroll",t);break;case"onScrollEnd":r!=null&&he("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(z(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(z(60));t.innerHTML=n}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}n=Xh(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""+r):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":r===!0?t.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,r):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(n,r):t.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(n):t.setAttribute(n,r);break;case"popover":he("beforetoggle",t),he("toggle",t),Yh(t,"popover",r);break;case"xlinkActuate":Ni(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Ni(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Ni(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Ni(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Ni(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Ni(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Ni(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Ni(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Ni(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Yh(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=ez.get(n)||n,Yh(t,n,r))}}function Pb(t,e,n,r,i,a){switch(n){case"style":bR(t,r,a);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(z(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(z(60));t.innerHTML=n}}break;case"children":typeof r=="string"?ql(t,r):(typeof r=="number"||typeof r=="bigint")&&ql(t,""+r);break;case"onScroll":r!=null&&he("scroll",t);break;case"onScrollEnd":r!=null&&he("scrollend",t);break;case"onClick":r!=null&&(t.onclick=Li);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!hR.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),e=n.slice(2,i?n.length-7:void 0),a=t[$n]||null,a=a!=null?a[n]:null,typeof a=="function"&&t.removeEventListener(e,a,i),typeof r=="function")){typeof a!="function"&&a!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,r,i);break e}n in t?t[n]=r:r===!0?t.setAttribute(n,""):Yh(t,n,r)}}}function sn(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":he("error",t),he("load",t);var r=!1,i=!1,a;for(a in n)if(n.hasOwnProperty(a)){var s=n[a];if(s!=null)switch(a){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(z(137,e));default:Re(t,e,a,s,n,null)}}i&&Re(t,e,"srcSet",n.srcSet,n,null),r&&Re(t,e,"src",n.src,n,null);return;case"input":he("invalid",t);var o=a=s=i=null,l=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var c=n[r];if(c!=null)switch(r){case"name":i=c;break;case"type":s=c;break;case"checked":l=c;break;case"defaultChecked":u=c;break;case"value":a=c;break;case"defaultValue":o=c;break;case"children":case"dangerouslySetInnerHTML":if(c!=null)throw Error(z(137,e));break;default:Re(t,e,r,c,n,null)}}gR(t,a,o,l,u,s,i,!1);return;case"select":he("invalid",t),r=s=a=null;for(i in n)if(n.hasOwnProperty(i)&&(o=n[i],o!=null))switch(i){case"value":a=o;break;case"defaultValue":s=o;break;case"multiple":r=o;default:Re(t,e,i,o,n,null)}e=a,n=s,t.multiple=!!r,e!=null?Ol(t,!!r,e,!1):n!=null&&Ol(t,!!r,n,!0);return;case"textarea":he("invalid",t),a=i=r=null;for(s in n)if(n.hasOwnProperty(s)&&(o=n[s],o!=null))switch(s){case"value":r=o;break;case"defaultValue":i=o;break;case"children":a=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(z(91));break;default:Re(t,e,s,o,n,null)}vR(t,r,i,a);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Re(t,e,l,r,n,null)}return;case"dialog":he("beforetoggle",t),he("toggle",t),he("cancel",t),he("close",t);break;case"iframe":case"object":he("load",t);break;case"video":case"audio":for(r=0;r<gf.length;r++)he(gf[r],t);break;case"image":he("error",t),he("load",t);break;case"details":he("toggle",t);break;case"embed":case"source":case"link":he("error",t),he("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(z(137,e));default:Re(t,e,u,r,n,null)}return;default:if(E_(e)){for(c in n)n.hasOwnProperty(c)&&(r=n[c],r!==void 0&&Pb(t,e,c,r,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(r=n[o],r!=null&&Re(t,e,o,r,n,null))}function N9(t,e,n,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,s=null,o=null,l=null,u=null,c=null;for(p in n){var f=n[p];if(n.hasOwnProperty(p)&&f!=null)switch(p){case"checked":break;case"value":break;case"defaultValue":l=f;default:r.hasOwnProperty(p)||Re(t,e,p,null,r,f)}}for(var m in r){var p=r[m];if(f=n[m],r.hasOwnProperty(m)&&(p!=null||f!=null))switch(m){case"type":a=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":c=p;break;case"value":s=p;break;case"defaultValue":o=p;break;case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(z(137,e));break;default:p!==f&&Re(t,e,m,p,r,f)}}rb(t,s,o,l,u,c,a,i);return;case"select":p=s=o=m=null;for(a in n)if(l=n[a],n.hasOwnProperty(a)&&l!=null)switch(a){case"value":break;case"multiple":p=l;default:r.hasOwnProperty(a)||Re(t,e,a,null,r,l)}for(i in r)if(a=r[i],l=n[i],r.hasOwnProperty(i)&&(a!=null||l!=null))switch(i){case"value":m=a;break;case"defaultValue":o=a;break;case"multiple":s=a;default:a!==l&&Re(t,e,i,a,r,l)}e=o,n=s,r=p,m!=null?Ol(t,!!n,m,!1):!!r!=!!n&&(e!=null?Ol(t,!!n,e,!0):Ol(t,!!n,n?[]:"",!1));return;case"textarea":p=m=null;for(o in n)if(i=n[o],n.hasOwnProperty(o)&&i!=null&&!r.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:Re(t,e,o,null,r,i)}for(s in r)if(i=r[s],a=n[s],r.hasOwnProperty(s)&&(i!=null||a!=null))switch(s){case"value":m=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(z(91));break;default:i!==a&&Re(t,e,s,i,r,a)}yR(t,m,p);return;case"option":for(var g in n)if(m=n[g],n.hasOwnProperty(g)&&m!=null&&!r.hasOwnProperty(g))switch(g){case"selected":t.selected=!1;break;default:Re(t,e,g,null,r,m)}for(l in r)if(m=r[l],p=n[l],r.hasOwnProperty(l)&&m!==p&&(m!=null||p!=null))switch(l){case"selected":t.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Re(t,e,l,m,r,p)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _ in n)m=n[_],n.hasOwnProperty(_)&&m!=null&&!r.hasOwnProperty(_)&&Re(t,e,_,null,r,m);for(u in r)if(m=r[u],p=n[u],r.hasOwnProperty(u)&&m!==p&&(m!=null||p!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(z(137,e));break;default:Re(t,e,u,m,r,p)}return;default:if(E_(e)){for(var y in n)m=n[y],n.hasOwnProperty(y)&&m!==void 0&&!r.hasOwnProperty(y)&&Pb(t,e,y,void 0,r,m);for(c in r)m=r[c],p=n[c],!r.hasOwnProperty(c)||m===p||m===void 0&&p===void 0||Pb(t,e,c,m,r,p);return}}for(var w in n)m=n[w],n.hasOwnProperty(w)&&m!=null&&!r.hasOwnProperty(w)&&Re(t,e,w,null,r,m);for(f in r)m=r[f],p=n[f],!r.hasOwnProperty(f)||m===p||m==null&&p==null||Re(t,e,f,m,r,p)}function dT(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function C9(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],a=i.transferSize,s=i.initiatorType,o=i.duration;if(a&&o&&dT(s)){for(s=0,o=i.responseEnd,r+=1;r<n.length;r++){var l=n[r],u=l.startTime;if(u>o)break;var c=l.transferSize,f=l.initiatorType;c&&dT(f)&&(l=l.responseEnd,s+=c*(l<o?1:(o-u)/(l-u)))}if(--r,e+=8*(a+s)/(i.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var jb=null,kb=null;function Jm(t){return t.nodeType===9?t:t.ownerDocument}function hT(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ej(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Db(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var t0=null;function O9(){var t=window.event;return t&&t.type==="popstate"?t===t0?!1:(t0=t,!0):(t0=null,!1)}var Sj=typeof setTimeout=="function"?setTimeout:void 0,I9=typeof clearTimeout=="function"?clearTimeout:void 0,mT=typeof Promise=="function"?Promise:void 0,R9=typeof queueMicrotask=="function"?queueMicrotask:typeof mT<"u"?function(t){return mT.resolve(null).then(t).catch(P9)}:Sj;function P9(t){setTimeout(function(){throw t})}function Os(t){return t==="head"}function pT(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(r===0){t.removeChild(i),Zl(e);return}r--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")r++;else if(n==="html")Qc(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,Qc(n);for(var a=n.firstChild;a;){var s=a.nextSibling,o=a.nodeName;a[id]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=s}}else n==="body"&&Qc(t.ownerDocument.body);n=i}while(n);Zl(e)}function gT(t,e){var n=t;t=0;do{var r=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=r}while(n)}function Mb(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Mb(n),w_(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function j9(t,e,n,r){for(;t.nodeType===1;){var i=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[id])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(a=t.getAttribute("rel"),a==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(a!==i.rel||t.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||t.getAttribute("title")!==(i.title==null?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(a=t.getAttribute("src"),(a!==(i.src==null?null:i.src)||t.getAttribute("type")!==(i.type==null?null:i.type)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var a=i.name==null?null:""+i.name;if(i.type==="hidden"&&t.getAttribute("name")===a)return t}else return t;if(t=Sr(t.nextSibling),t===null)break}return null}function k9(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Sr(t.nextSibling),t===null))return null;return t}function Aj(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=Sr(t.nextSibling),t===null))return null;return t}function Lb(t){return t.data==="$?"||t.data==="$~"}function Vb(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function D9(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var r=function(){e(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function Sr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var Ub=null;function yT(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return Sr(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function vT(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function Tj(t,e,n){switch(e=Jm(n),t){case"html":if(t=e.documentElement,!t)throw Error(z(452));return t;case"head":if(t=e.head,!t)throw Error(z(453));return t;case"body":if(t=e.body,!t)throw Error(z(454));return t;default:throw Error(z(451))}}function Qc(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);w_(t)}var Tr=new Map,bT=new Set;function ep(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ma=Ae.d;Ae.d={f:M9,r:L9,D:V9,C:U9,L:z9,m:B9,X:F9,S:$9,M:q9};function M9(){var t=ma.f(),e=Rg();return t||e}function L9(t){var e=yu(t);e!==null&&e.tag===5&&e.type==="form"?bP(e):ma.r(t)}var _u=typeof document>"u"?null:document;function Nj(t,e,n){var r=_u;if(r&&typeof e=="string"&&e){var i=gr(e);i='link[rel="'+t+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),bT.has(i)||(bT.add(i),t={rel:t,crossOrigin:n,href:e},r.querySelector(i)===null&&(e=r.createElement("link"),sn(e,"link",t),Bt(e),r.head.appendChild(e)))}}function V9(t){ma.D(t),Nj("dns-prefetch",t,null)}function U9(t,e){ma.C(t,e),Nj("preconnect",t,e)}function z9(t,e,n){ma.L(t,e,n);var r=_u;if(r&&t&&e){var i='link[rel="preload"][as="'+gr(e)+'"]';e==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+gr(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+gr(n.imageSizes)+'"]')):i+='[href="'+gr(t)+'"]';var a=i;switch(e){case"style":a=Ql(t);break;case"script":a=wu(t)}Tr.has(a)||(t=He({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),Tr.set(a,t),r.querySelector(i)!==null||e==="style"&&r.querySelector(cd(a))||e==="script"&&r.querySelector(fd(a))||(e=r.createElement("link"),sn(e,"link",t),Bt(e),r.head.appendChild(e)))}}function B9(t,e){ma.m(t,e);var n=_u;if(n&&t){var r=e&&typeof e.as=="string"?e.as:"script",i='link[rel="modulepreload"][as="'+gr(r)+'"][href="'+gr(t)+'"]',a=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=wu(t)}if(!Tr.has(a)&&(t=He({rel:"modulepreload",href:t},e),Tr.set(a,t),n.querySelector(i)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(fd(a)))return}r=n.createElement("link"),sn(r,"link",t),Bt(r),n.head.appendChild(r)}}}function $9(t,e,n){ma.S(t,e,n);var r=_u;if(r&&t){var i=Cl(r).hoistableStyles,a=Ql(t);e=e||"default";var s=i.get(a);if(!s){var o={loading:0,preload:null};if(s=r.querySelector(cd(a)))o.loading=5;else{t=He({rel:"stylesheet",href:t,"data-precedence":e},n),(n=Tr.get(a))&&ow(t,n);var l=s=r.createElement("link");Bt(l),sn(l,"link",t),l._p=new Promise(function(u,c){l.onload=u,l.onerror=c}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,sm(s,e,r)}s={type:"stylesheet",instance:s,count:1,state:o},i.set(a,s)}}}function F9(t,e){ma.X(t,e);var n=_u;if(n&&t){var r=Cl(n).hoistableScripts,i=wu(t),a=r.get(i);a||(a=n.querySelector(fd(i)),a||(t=He({src:t,async:!0},e),(e=Tr.get(i))&&lw(t,e),a=n.createElement("script"),Bt(a),sn(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}function q9(t,e){ma.M(t,e);var n=_u;if(n&&t){var r=Cl(n).hoistableScripts,i=wu(t),a=r.get(i);a||(a=n.querySelector(fd(i)),a||(t=He({src:t,async:!0,type:"module"},e),(e=Tr.get(i))&&lw(t,e),a=n.createElement("script"),Bt(a),sn(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}function xT(t,e,n,r){var i=(i=Ja.current)?ep(i):null;if(!i)throw Error(z(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Ql(n.href),n=Cl(i).hoistableStyles,r=n.get(e),r||(r={type:"style",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Ql(n.href);var a=Cl(i).hoistableStyles,s=a.get(t);if(s||(i=i.ownerDocument||i,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(t,s),(a=i.querySelector(cd(t)))&&!a._p&&(s.instance=a,s.state.loading=5),Tr.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Tr.set(t,n),a||H9(i,t,n,s.state))),e&&r===null)throw Error(z(528,""));return s}if(e&&r!==null)throw Error(z(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=wu(n),n=Cl(i).hoistableScripts,r=n.get(e),r||(r={type:"script",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(z(444,t))}}function Ql(t){return'href="'+gr(t)+'"'}function cd(t){return'link[rel="stylesheet"]['+t+"]"}function Cj(t){return He({},t,{"data-precedence":t.precedence,precedence:null})}function H9(t,e,n,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),sn(e,"link",n),Bt(e),t.head.appendChild(e))}function wu(t){return'[src="'+gr(t)+'"]'}function fd(t){return"script[async]"+t}function _T(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+gr(n.href)+'"]');if(r)return e.instance=r,Bt(r),r;var i=He({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),Bt(r),sn(r,"style",i),sm(r,n.precedence,t),e.instance=r;case"stylesheet":i=Ql(n.href);var a=t.querySelector(cd(i));if(a)return e.state.loading|=4,e.instance=a,Bt(a),a;r=Cj(n),(i=Tr.get(i))&&ow(r,i),a=(t.ownerDocument||t).createElement("link"),Bt(a);var s=a;return s._p=new Promise(function(o,l){s.onload=o,s.onerror=l}),sn(a,"link",r),e.state.loading|=4,sm(a,n.precedence,t),e.instance=a;case"script":return a=wu(n.src),(i=t.querySelector(fd(a)))?(e.instance=i,Bt(i),i):(r=n,(i=Tr.get(a))&&(r=He({},n),lw(r,i)),t=t.ownerDocument||t,i=t.createElement("script"),Bt(i),sn(i,"link",r),t.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error(z(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(r=e.instance,e.state.loading|=4,sm(r,n.precedence,t));return e.instance}function sm(t,e,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,s=0;s<r.length;s++){var o=r[s];if(o.dataset.precedence===e)a=o;else if(a!==i)break}a?a.parentNode.insertBefore(t,a.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function ow(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function lw(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var om=null;function wT(t,e,n){if(om===null){var r=new Map,i=om=new Map;i.set(n,r)}else i=om,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(t))return r;for(r.set(t,null),n=n.getElementsByTagName(t),i=0;i<n.length;i++){var a=n[i];if(!(a[id]||a[en]||t==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var s=a.getAttribute(e)||"";s=t+s;var o=r.get(s);o?o.push(a):r.set(s,[a])}}return r}function ET(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function G9(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function Oj(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function K9(t,e,n,r){if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var i=Ql(r.href),a=e.querySelector(cd(i));if(a){e=a._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=tp.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=a,Bt(a);return}a=e.ownerDocument||e,r=Cj(r),(i=Tr.get(i))&&ow(r,i),a=a.createElement("link"),Bt(a);var s=a;s._p=new Promise(function(o,l){s.onload=o,s.onerror=l}),sn(a,"link",r),n.instance=a}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=tp.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var n0=0;function W9(t,e){return t.stylesheets&&t.count===0&&lm(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var r=setTimeout(function(){if(t.stylesheets&&lm(t,t.stylesheets),t.unsuspend){var a=t.unsuspend;t.unsuspend=null,a()}},6e4+e);0<t.imgBytes&&n0===0&&(n0=62500*C9());var i=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&lm(t,t.stylesheets),t.unsuspend)){var a=t.unsuspend;t.unsuspend=null,a()}},(t.imgBytes>n0?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}function tp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)lm(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var np=null;function lm(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,np=new Map,e.forEach(Y9,t),np=null,tp.call(t))}function Y9(t,e){if(!(e.state.loading&4)){var n=np.get(t);if(n)var r=n.get(null);else{n=new Map,np.set(t,n);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var s=i[a];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}i=e.instance,s=i.getAttribute("data-precedence"),a=n.get(s)||r,a===r&&n.set(null,i),n.set(s,i),this.count++,r=tp.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(i,t.firstChild)),e.state.loading|=4}}var vf={$$typeof:Mi,Provider:null,Consumer:null,_currentValue:io,_currentValue2:io,_threadCount:0};function X9(t,e,n,r,i,a,s,o,l){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Av(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Av(0),this.hiddenUpdates=Av(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function Ij(t,e,n,r,i,a,s,o,l,u,c,f){return t=new X9(t,e,n,s,l,u,c,f,o),e=1,a===!0&&(e|=24),a=Yn(3,null,null,e),t.current=a,a.stateNode=t,e=k_(),e.refCount++,t.pooledCache=e,e.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:e},L_(a),t}function Rj(t){return t?(t=xl,t):xl}function Pj(t,e,n,r,i,a){i=Rj(i),r.context===null?r.context=i:r.pendingContext=i,r=ts(e),r.payload={element:n},a=a===void 0?null:a,a!==null&&(r.callback=a),n=ns(t,r,e),n!==null&&(zn(n,t,e),Fc(n,t,e))}function ST(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function uw(t,e){ST(t,e),(t=t.alternate)&&ST(t,e)}function jj(t){if(t.tag===13||t.tag===31){var e=Vo(t,67108864);e!==null&&zn(e,t,67108864),uw(t,67108864)}}function AT(t){if(t.tag===13||t.tag===31){var e=ir();e=x_(e);var n=Vo(t,e);n!==null&&zn(n,t,e),uw(t,e)}}var rp=!0;function Q9(t,e,n,r){var i=ie.T;ie.T=null;var a=Ae.p;try{Ae.p=2,cw(t,e,n,r)}finally{Ae.p=a,ie.T=i}}function Z9(t,e,n,r){var i=ie.T;ie.T=null;var a=Ae.p;try{Ae.p=8,cw(t,e,n,r)}finally{Ae.p=a,ie.T=i}}function cw(t,e,n,r){if(rp){var i=zb(r);if(i===null)e0(t,e,r,ip,n),TT(t,r);else if(eB(i,t,e,n,r))r.stopPropagation();else if(TT(t,r),e&4&&-1<J9.indexOf(t)){for(;i!==null;){var a=yu(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var s=Gs(a.pendingLanes);if(s!==0){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var l=1<<31-rr(s);o.entanglements[1]|=l,s&=~l}wi(a),!(Se&6)&&(Km=tr()+500,ud(0))}}break;case 31:case 13:o=Vo(a,2),o!==null&&zn(o,a,2),Rg(),uw(a,2)}if(a=zb(r),a===null&&e0(t,e,r,ip,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else e0(t,e,r,null,n)}}function zb(t){return t=S_(t),fw(t)}var ip=null;function fw(t){if(ip=null,t=ml(t),t!==null){var e=ed(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=JI(e),t!==null)return t;t=null}else if(n===31){if(t=eR(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return ip=t,null}function kj(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(VU()){case iR:return 2;case aR:return 8;case jm:case UU:return 32;case sR:return 268435456;default:return 32}default:return 32}}var Bb=!1,as=null,ss=null,os=null,bf=new Map,xf=new Map,Ua=[],J9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function TT(t,e){switch(t){case"focusin":case"focusout":as=null;break;case"dragenter":case"dragleave":ss=null;break;case"mouseover":case"mouseout":os=null;break;case"pointerover":case"pointerout":bf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":xf.delete(e.pointerId)}}function dc(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=yu(e),e!==null&&jj(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function eB(t,e,n,r,i){switch(e){case"focusin":return as=dc(as,t,e,n,r,i),!0;case"dragenter":return ss=dc(ss,t,e,n,r,i),!0;case"mouseover":return os=dc(os,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return bf.set(a,dc(bf.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,xf.set(a,dc(xf.get(a)||null,t,e,n,r,i)),!0}return!1}function Dj(t){var e=ml(t.target);if(e!==null){var n=ed(e);if(n!==null){if(e=n.tag,e===13){if(e=JI(n),e!==null){t.blockedOn=e,cA(t.priority,function(){AT(n)});return}}else if(e===31){if(e=eR(n),e!==null){t.blockedOn=e,cA(t.priority,function(){AT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function um(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=zb(t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ab=r,n.target.dispatchEvent(r),ab=null}else return e=yu(n),e!==null&&jj(e),t.blockedOn=n,!1;e.shift()}return!0}function NT(t,e,n){um(t)&&n.delete(e)}function tB(){Bb=!1,as!==null&&um(as)&&(as=null),ss!==null&&um(ss)&&(ss=null),os!==null&&um(os)&&(os=null),bf.forEach(NT),xf.forEach(NT)}function _h(t,e){t.blockedOn===e&&(t.blockedOn=null,Bb||(Bb=!0,Ot.unstable_scheduleCallback(Ot.unstable_NormalPriority,tB)))}var wh=null;function CT(t){wh!==t&&(wh=t,Ot.unstable_scheduleCallback(Ot.unstable_NormalPriority,function(){wh===t&&(wh=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],i=t[e+2];if(typeof r!="function"){if(fw(r||n)===null)continue;break}var a=yu(n);a!==null&&(t.splice(e,3),e-=3,_b(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Zl(t){function e(l){return _h(l,t)}as!==null&&_h(as,t),ss!==null&&_h(ss,t),os!==null&&_h(os,t),bf.forEach(e),xf.forEach(e);for(var n=0;n<Ua.length;n++){var r=Ua[n];r.blockedOn===t&&(r.blockedOn=null)}for(;0<Ua.length&&(n=Ua[0],n.blockedOn===null);)Dj(n),n.blockedOn===null&&Ua.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],s=i[$n]||null;if(typeof a=="function")s||CT(n);else if(s){var o=null;if(a&&a.hasAttribute("formAction")){if(i=a,s=a[$n]||null)o=s.formAction;else if(fw(i)!==null)continue}else o=s.action;typeof o=="function"?n[r+1]=o:(n.splice(r,3),r-=3),CT(n)}}}function Mj(){function t(a){a.canIntercept&&a.info==="react-transition"&&a.intercept({handler:function(){return new Promise(function(s){return i=s})},focusReset:"manual",scroll:"manual"})}function e(){i!==null&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var a=navigation.currentEntry;a&&a.url!=null&&navigation.navigate(a.url,{state:a.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,i=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),i!==null&&(i(),i=null)}}}function dw(t){this._internalRoot=t}kg.prototype.render=dw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));var n=e.current,r=ir();Pj(n,r,t,e,null,null)};kg.prototype.unmount=dw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Pj(t.current,2,null,t,null,null),Rg(),e[gu]=null}};function kg(t){this._internalRoot=t}kg.prototype.unstable_scheduleHydration=function(t){if(t){var e=fR();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ua.length&&e!==0&&e<Ua[n].priority;n++);Ua.splice(n,0,t),n===0&&Dj(t)}};var OT=QI.version;if(OT!=="19.2.4")throw Error(z(527,OT,"19.2.4"));Ae.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=RU(e),t=t!==null?tR(t):null,t=t===null?null:t.stateNode,t};var nB={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:ie,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Eh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Eh.isDisabled&&Eh.supportsFiber)try{td=Eh.inject(nB),nr=Eh}catch{}}yg.createRoot=function(t,e){if(!ZI(t))throw Error(z(299));var n=!1,r="",i=NP,a=CP,s=OP;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(i=e.onUncaughtError),e.onCaughtError!==void 0&&(a=e.onCaughtError),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Ij(t,1,!1,null,null,n,r,null,i,a,s,Mj),t[gu]=e.current,sw(t),new dw(e)};yg.hydrateRoot=function(t,e,n){if(!ZI(t))throw Error(z(299));var r=!1,i="",a=NP,s=CP,o=OP,l=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.formState!==void 0&&(l=n.formState)),e=Ij(t,1,!0,e,n??null,r,i,l,a,s,o,Mj),e.context=Rj(null),n=e.current,r=ir(),r=x_(r),i=ts(r),i.callback=null,ns(n,i,r),n=r,e.current.lanes=n,rd(e,n),wi(e),t[gu]=e.current,sw(t),new kg(e)};yg.version="19.2.4";function Lj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Lj)}catch(t){console.error(t)}}Lj(),HI.exports=yg;var rB=HI.exports;/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var IT="popstate";function iB(t={}){function e(i,a){let{pathname:s="/",search:o="",hash:l=""}=zo(i.location.hash.substring(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),$b("",{pathname:s,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let s=i.document.querySelector("base"),o="";if(s&&s.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");o=u===-1?l:l.slice(0,u)}return o+"#"+(typeof a=="string"?a:_f(a))}function r(i,a){Br(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return sB(e,n,r,t)}function tt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Br(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function aB(){return Math.random().toString(36).substring(2,10)}function RT(t,e){return{usr:t.state,key:t.key,idx:e}}function $b(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?zo(e):e,state:n,key:e&&e.key||r||aB()}}function _f({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function zo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function sB(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,o="POP",l=null,u=c();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function c(){return(s.state||{idx:null}).idx}function f(){o="POP";let y=c(),w=y==null?null:y-u;u=y,l&&l({action:o,location:_.location,delta:w})}function m(y,w){o="PUSH";let x=$b(_.location,y,w);n&&n(x,y),u=c()+1;let E=RT(x,u),N=_.createHref(x);try{s.pushState(E,"",N)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(N)}a&&l&&l({action:o,location:_.location,delta:1})}function p(y,w){o="REPLACE";let x=$b(_.location,y,w);n&&n(x,y),u=c();let E=RT(x,u),N=_.createHref(x);s.replaceState(E,"",N),a&&l&&l({action:o,location:_.location,delta:0})}function g(y){return oB(y)}let _={get action(){return o},get location(){return t(i,s)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(IT,f),l=y,()=>{i.removeEventListener(IT,f),l=null}},createHref(y){return e(i,y)},createURL:g,encodeLocation(y){let w=g(y);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:m,replace:p,go(y){return s.go(y)}};return _}function oB(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),tt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:_f(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Vj(t,e,n="/"){return lB(t,e,n,!1)}function lB(t,e,n,r){let i=typeof e=="string"?zo(e):e,a=na(i.pathname||"/",n);if(a==null)return null;let s=Uj(t);uB(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let u=xB(a);o=vB(s[l],u,r)}return o}function Uj(t,e=[],n=[],r="",i=!1){let a=(s,o,l=i,u)=>{let c={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};if(c.relativePath.startsWith("/")){if(!c.relativePath.startsWith(r)&&l)return;tt(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length)}let f=Gi([r,c.relativePath]),m=n.concat(c);s.children&&s.children.length>0&&(tt(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),Uj(s.children,e,m,f,l)),!(s.path==null&&!s.index)&&e.push({path:f,score:gB(f,s.index),routesMeta:m})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))a(s,o);else for(let u of zj(s.path))a(s,o,!0,u)}),e}function zj(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=zj(r.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function uB(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:yB(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var cB=/^:[\w-]+$/,fB=3,dB=2,hB=1,mB=10,pB=-2,PT=t=>t==="*";function gB(t,e){let n=t.split("/"),r=n.length;return n.some(PT)&&(r+=pB),e&&(r+=dB),n.filter(i=>!PT(i)).reduce((i,a)=>i+(cB.test(a)?fB:a===""?hB:mB),r)}function yB(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function vB(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",s=[];for(let o=0;o<r.length;++o){let l=r[o],u=o===r.length-1,c=a==="/"?e:e.slice(a.length)||"/",f=ap({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),m=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=ap({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:Gi([a,f.pathname]),pathnameBase:SB(Gi([a,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(a=Gi([a,f.pathnameBase]))}return s}function ap(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=bB(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((u,{paramName:c,isOptional:f},m)=>{if(c==="*"){let g=o[m]||"";s=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const p=o[m];return f&&!p?u[c]=void 0:u[c]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:s,pattern:t}}function bB(t,e=!1,n=!0){Br(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function xB(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Br(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function na(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var _B=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function wB(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?zo(t):t,a;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?a=jT(n.substring(1),"/"):a=jT(n,e)):a=e,{pathname:a,search:AB(r),hash:TB(i)}}function jT(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function r0(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function EB(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Bj(t){let e=EB(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function $j(t,e,n,r=!1){let i;typeof t=="string"?i=zo(t):(i={...t},tt(!i.pathname||!i.pathname.includes("?"),r0("?","pathname","search",i)),tt(!i.pathname||!i.pathname.includes("#"),r0("#","pathname","hash",i)),tt(!i.search||!i.search.includes("#"),r0("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=n;else{let f=e.length-1;if(!r&&s.startsWith("..")){let m=s.split("/");for(;m[0]==="..";)m.shift(),f-=1;i.pathname=m.join("/")}o=f>=0?e[f]:"/"}let l=wB(i,o),u=s&&s!=="/"&&s.endsWith("/"),c=(a||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}var Gi=t=>t.join("/").replace(/\/\/+/g,"/"),SB=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),AB=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,TB=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,NB=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function CB(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function OB(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Fj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function qj(t,e){let n=t;if(typeof n!="string"||!_B.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(Fj)try{let a=new URL(window.location.href),s=n.startsWith("//")?new URL(a.protocol+n):new URL(n),o=na(s.pathname,e);s.origin===a.origin&&o!=null?n=o+s.search+s.hash:i=!0}catch{Br(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Hj=["POST","PUT","PATCH","DELETE"];new Set(Hj);var IB=["GET",...Hj];new Set(IB);var Eu=b.createContext(null);Eu.displayName="DataRouter";var Dg=b.createContext(null);Dg.displayName="DataRouterState";var RB=b.createContext(!1),Gj=b.createContext({isTransitioning:!1});Gj.displayName="ViewTransition";var PB=b.createContext(new Map);PB.displayName="Fetchers";var jB=b.createContext(null);jB.displayName="Await";var Ir=b.createContext(null);Ir.displayName="Navigation";var dd=b.createContext(null);dd.displayName="Location";var Ei=b.createContext({outlet:null,matches:[],isDataRoute:!1});Ei.displayName="Route";var hw=b.createContext(null);hw.displayName="RouteError";var Kj="REACT_ROUTER_ERROR",kB="REDIRECT",DB="ROUTE_ERROR_RESPONSE";function MB(t){if(t.startsWith(`${Kj}:${kB}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function LB(t){if(t.startsWith(`${Kj}:${DB}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new NB(e.status,e.statusText,e.data)}catch{}}function VB(t,{relative:e}={}){tt(hd(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=b.useContext(Ir),{hash:i,pathname:a,search:s}=md(t,{relative:e}),o=a;return n!=="/"&&(o=a==="/"?n:Gi([n,a])),r.createHref({pathname:o,search:s,hash:i})}function hd(){return b.useContext(dd)!=null}function Is(){return tt(hd(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(dd).location}var Wj="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Yj(t){b.useContext(Ir).static||b.useLayoutEffect(t)}function Mg(){let{isDataRoute:t}=b.useContext(Ei);return t?JB():UB()}function UB(){tt(hd(),"useNavigate() may be used only in the context of a <Router> component.");let t=b.useContext(Eu),{basename:e,navigator:n}=b.useContext(Ir),{matches:r}=b.useContext(Ei),{pathname:i}=Is(),a=JSON.stringify(Bj(r)),s=b.useRef(!1);return Yj(()=>{s.current=!0}),b.useCallback((l,u={})=>{if(Br(s.current,Wj),!s.current)return;if(typeof l=="number"){n.go(l);return}let c=$j(l,JSON.parse(a),i,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:Gi([e,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[e,n,a,i,t])}var zB=b.createContext(null);function BB(t){let e=b.useContext(Ei).outlet;return b.useMemo(()=>e&&b.createElement(zB.Provider,{value:t},e),[e,t])}function md(t,{relative:e}={}){let{matches:n}=b.useContext(Ei),{pathname:r}=Is(),i=JSON.stringify(Bj(n));return b.useMemo(()=>$j(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function $B(t,e){return Xj(t,e)}function Xj(t,e,n,r,i){var x;tt(hd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=b.useContext(Ir),{matches:s}=b.useContext(Ei),o=s[s.length-1],l=o?o.params:{},u=o?o.pathname:"/",c=o?o.pathnameBase:"/",f=o&&o.route;{let E=f&&f.path||"";Zj(u,!f||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let m=Is(),p;if(e){let E=typeof e=="string"?zo(e):e;tt(c==="/"||((x=E.pathname)==null?void 0:x.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${E.pathname}" was given in the \`location\` prop.`),p=E}else p=m;let g=p.pathname||"/",_=g;if(c!=="/"){let E=c.replace(/^\//,"").split("/");_="/"+g.replace(/^\//,"").split("/").slice(E.length).join("/")}let y=Vj(t,{pathname:_});Br(f||y!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),Br(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=KB(y&&y.map(E=>Object.assign({},E,{params:Object.assign({},l,E.params),pathname:Gi([c,a.encodeLocation?a.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?c:Gi([c,a.encodeLocation?a.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),s,n,r,i);return e&&w?b.createElement(dd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},w):w}function FB(){let t=ZB(),e=CB(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:a},"ErrorBoundary")," or"," ",b.createElement("code",{style:a},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:i},n):null,s)}var qB=b.createElement(FB,null),Qj=class extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=LB(t.digest);n&&(t=n)}let e=t!==void 0?b.createElement(Ei.Provider,{value:this.props.routeContext},b.createElement(hw.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?b.createElement(HB,{error:t},e):e}};Qj.contextType=RB;var i0=new WeakMap;function HB({children:t,error:e}){let{basename:n}=b.useContext(Ir);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=MB(e.digest);if(r){let i=i0.get(e);if(i)throw i;let a=qj(r.location,n);if(Fj&&!i0.get(e))if(a.isExternal||r.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const s=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:r.replace}));throw i0.set(e,s),s}return b.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return t}function GB({routeContext:t,match:e,children:n}){let r=b.useContext(Eu);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),b.createElement(Ei.Provider,{value:t},n)}function KB(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,s=n==null?void 0:n.errors;if(s!=null){let c=a.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);tt(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,c+1))}let o=!1,l=-1;if(n)for(let c=0;c<a.length;c++){let f=a[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(l=c),f.route.id){let{loaderData:m,errors:p}=n,g=f.route.loader&&!m.hasOwnProperty(f.route.id)&&(!p||p[f.route.id]===void 0);if(f.route.lazy||g){o=!0,l>=0?a=a.slice(0,l+1):a=[a[0]];break}}}let u=n&&r?(c,f)=>{var m,p;r(c,{location:n.location,params:((p=(m=n.matches)==null?void 0:m[0])==null?void 0:p.params)??{},unstable_pattern:OB(n.matches),errorInfo:f})}:void 0;return a.reduceRight((c,f,m)=>{let p,g=!1,_=null,y=null;n&&(p=s&&f.route.id?s[f.route.id]:void 0,_=f.route.errorElement||qB,o&&(l<0&&m===0?(Zj("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,y=null):l===m&&(g=!0,y=f.route.hydrateFallbackElement||null)));let w=e.concat(a.slice(0,m+1)),x=()=>{let E;return p?E=_:g?E=y:f.route.Component?E=b.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=c,b.createElement(GB,{match:f,routeContext:{outlet:c,matches:w,isDataRoute:n!=null},children:E})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?b.createElement(Qj,{location:n.location,revalidation:n.revalidation,component:_,error:p,children:x(),routeContext:{outlet:null,matches:w,isDataRoute:!0},onError:u}):x()},null)}function mw(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WB(t){let e=b.useContext(Eu);return tt(e,mw(t)),e}function YB(t){let e=b.useContext(Dg);return tt(e,mw(t)),e}function XB(t){let e=b.useContext(Ei);return tt(e,mw(t)),e}function pw(t){let e=XB(t),n=e.matches[e.matches.length-1];return tt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function QB(){return pw("useRouteId")}function ZB(){var r;let t=b.useContext(hw),e=YB("useRouteError"),n=pw("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function JB(){let{router:t}=WB("useNavigate"),e=pw("useNavigate"),n=b.useRef(!1);return Yj(()=>{n.current=!0}),b.useCallback(async(i,a={})=>{Br(n.current,Wj),n.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var kT={};function Zj(t,e,n){!e&&!kT[t]&&(kT[t]=!0,Br(!1,n))}b.memo(e8);function e8({routes:t,future:e,state:n,onError:r}){return Xj(t,void 0,n,r,e)}function Jj(t){return BB(t.context)}function dt(t){tt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function t8({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1,unstable_useTransitions:s}){tt(!hd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),l=b.useMemo(()=>({basename:o,navigator:i,static:a,unstable_useTransitions:s,future:{}}),[o,i,a,s]);typeof n=="string"&&(n=zo(n));let{pathname:u="/",search:c="",hash:f="",state:m=null,key:p="default"}=n,g=b.useMemo(()=>{let _=na(u,o);return _==null?null:{location:{pathname:_,search:c,hash:f,state:m,key:p},navigationType:r}},[o,u,c,f,m,p,r]);return Br(g!=null,`<Router basename="${o}"> is not able to match the URL "${u}${c}${f}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:b.createElement(Ir.Provider,{value:l},b.createElement(dd.Provider,{children:e,value:g}))}function n8({children:t,location:e}){return $B(Fb(t),e)}function Fb(t,e=[]){let n=[];return b.Children.forEach(t,(r,i)=>{if(!b.isValidElement(r))return;let a=[...e,i];if(r.type===b.Fragment){n.push.apply(n,Fb(r.props.children,a));return}tt(r.type===dt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),tt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Fb(r.props.children,a)),n.push(s)}),n}var cm="get",fm="application/x-www-form-urlencoded";function Lg(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function r8(t){return Lg(t)&&t.tagName.toLowerCase()==="button"}function i8(t){return Lg(t)&&t.tagName.toLowerCase()==="form"}function a8(t){return Lg(t)&&t.tagName.toLowerCase()==="input"}function s8(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function o8(t,e){return t.button===0&&(!e||e==="_self")&&!s8(t)}var Sh=null;function l8(){if(Sh===null)try{new FormData(document.createElement("form"),0),Sh=!1}catch{Sh=!0}return Sh}var u8=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function a0(t){return t!=null&&!u8.has(t)?(Br(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fm}"`),null):t}function c8(t,e){let n,r,i,a,s;if(i8(t)){let o=t.getAttribute("action");r=o?na(o,e):null,n=t.getAttribute("method")||cm,i=a0(t.getAttribute("enctype"))||fm,a=new FormData(t)}else if(r8(t)||a8(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||o.getAttribute("action");if(r=l?na(l,e):null,n=t.getAttribute("formmethod")||o.getAttribute("method")||cm,i=a0(t.getAttribute("formenctype"))||a0(o.getAttribute("enctype"))||fm,a=new FormData(o,t),!l8()){let{name:u,type:c,value:f}=t;if(c==="image"){let m=u?`${u}.`:"";a.append(`${m}x`,"0"),a.append(`${m}y`,"0")}else u&&a.append(u,f)}}else{if(Lg(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=cm,r=null,i=fm,s=t}return a&&i==="text/plain"&&(s=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function gw(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function f8(t,e,n,r){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${r}`:i.pathname=`${i.pathname}.${r}`:i.pathname==="/"?i.pathname=`_root.${r}`:e&&na(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${r}`,i}async function d8(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function h8(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function m8(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let s=await d8(a,n);return s.links?s.links():[]}return[]}));return v8(r.flat(1).filter(h8).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function DT(t,e,n,r,i,a){let s=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,o=(l,u)=>{var c;return n[u].pathname!==l.pathname||((c=n[u].route.path)==null?void 0:c.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return a==="assets"?e.filter((l,u)=>s(l,u)||o(l,u)):a==="data"?e.filter((l,u)=>{var f;let c=r.routes[l.route.id];if(!c||!c.hasLoader)return!1;if(s(l,u)||o(l,u))return!0;if(l.route.shouldRevalidate){let m=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function p8(t,e,{includeHydrateFallback:n}={}){return g8(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function g8(t){return[...new Set(t)]}function y8(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function v8(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(y8(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function ek(){let t=b.useContext(Eu);return gw(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function b8(){let t=b.useContext(Dg);return gw(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var yw=b.createContext(void 0);yw.displayName="FrameworkContext";function tk(){let t=b.useContext(yw);return gw(t,"You must render this element inside a <HydratedRouter> element"),t}function x8(t,e){let n=b.useContext(yw),[r,i]=b.useState(!1),[a,s]=b.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:f}=e,m=b.useRef(null);b.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let _=w=>{w.forEach(x=>{s(x.isIntersecting)})},y=new IntersectionObserver(_,{threshold:.5});return m.current&&y.observe(m.current),()=>{y.disconnect()}}},[t]),b.useEffect(()=>{if(r){let _=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(_)}}},[r]);let p=()=>{i(!0)},g=()=>{i(!1),s(!1)};return n?t!=="intent"?[a,m,{}]:[a,m,{onFocus:hc(o,p),onBlur:hc(l,g),onMouseEnter:hc(u,p),onMouseLeave:hc(c,g),onTouchStart:hc(f,p)}]:[!1,m,{}]}function hc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function _8({page:t,...e}){let{router:n}=ek(),r=b.useMemo(()=>Vj(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?b.createElement(E8,{page:t,matches:r,...e}):null}function w8(t){let{manifest:e,routeModules:n}=tk(),[r,i]=b.useState([]);return b.useEffect(()=>{let a=!1;return m8(t,e,n).then(s=>{a||i(s)}),()=>{a=!0}},[t,e,n]),r}function E8({page:t,matches:e,...n}){let r=Is(),{future:i,manifest:a,routeModules:s}=tk(),{basename:o}=ek(),{loaderData:l,matches:u}=b8(),c=b.useMemo(()=>DT(t,e,u,a,r,"data"),[t,e,u,a,r]),f=b.useMemo(()=>DT(t,e,u,a,r,"assets"),[t,e,u,a,r]),m=b.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let _=new Set,y=!1;if(e.forEach(x=>{var N;let E=a.routes[x.route.id];!E||!E.hasLoader||(!c.some(P=>P.route.id===x.route.id)&&x.route.id in l&&((N=s[x.route.id])!=null&&N.shouldRevalidate)||E.hasClientLoader?y=!0:_.add(x.route.id))}),_.size===0)return[];let w=f8(t,o,i.unstable_trailingSlashAwareDataRequests,"data");return y&&_.size>0&&w.searchParams.set("_routes",e.filter(x=>_.has(x.route.id)).map(x=>x.route.id).join(",")),[w.pathname+w.search]},[o,i.unstable_trailingSlashAwareDataRequests,l,r,a,c,e,t,s]),p=b.useMemo(()=>p8(f,a),[f,a]),g=w8(f);return b.createElement(b.Fragment,null,m.map(_=>b.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),p.map(_=>b.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),g.map(({key:_,link:y})=>b.createElement("link",{key:_,nonce:n.nonce,...y,crossOrigin:y.crossOrigin??n.crossOrigin})))}function S8(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var A8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{A8&&(window.__reactRouterVersion="7.13.0")}catch{}function T8({basename:t,children:e,unstable_useTransitions:n,window:r}){let i=b.useRef();i.current==null&&(i.current=iB({window:r,v5Compat:!0}));let a=i.current,[s,o]=b.useState({action:a.action,location:a.location}),l=b.useCallback(u=>{n===!1?o(u):b.startTransition(()=>o(u))},[n]);return b.useLayoutEffect(()=>a.listen(l),[a,l]),b.createElement(t8,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:a,unstable_useTransitions:n})}var nk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,et=b.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:s,state:o,target:l,to:u,preventScrollReset:c,viewTransition:f,unstable_defaultShouldRevalidate:m,...p},g){let{basename:_,unstable_useTransitions:y}=b.useContext(Ir),w=typeof u=="string"&&nk.test(u),x=qj(u,_);u=x.to;let E=VB(u,{relative:i}),[N,P,k]=x8(r,p),T=O8(u,{replace:s,state:o,target:l,preventScrollReset:c,relative:i,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:y});function A(R){e&&e(R),R.defaultPrevented||T(R)}let C=b.createElement("a",{...p,...k,href:x.absoluteURL||E,onClick:x.isExternal||a?e:A,ref:S8(g,P),target:l,"data-discover":!w&&n==="render"?"true":void 0});return N&&!w?b.createElement(b.Fragment,null,C,b.createElement(_8,{page:E})):C});et.displayName="Link";var Sn=b.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:s,viewTransition:o,children:l,...u},c){let f=md(s,{relative:u.relative}),m=Is(),p=b.useContext(Dg),{navigator:g,basename:_}=b.useContext(Ir),y=p!=null&&k8(f)&&o===!0,w=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,x=m.pathname,E=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(x=x.toLowerCase(),E=E?E.toLowerCase():null,w=w.toLowerCase()),E&&_&&(E=na(E,_)||E);const N=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let P=x===w||!i&&x.startsWith(w)&&x.charAt(N)==="/",k=E!=null&&(E===w||!i&&E.startsWith(w)&&E.charAt(w.length)==="/"),T={isActive:P,isPending:k,isTransitioning:y},A=P?e:void 0,C;typeof r=="function"?C=r(T):C=[r,P?"active":null,k?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let R=typeof a=="function"?a(T):a;return b.createElement(et,{...u,"aria-current":A,className:C,ref:c,style:R,to:s,viewTransition:o},typeof l=="function"?l(T):l)});Sn.displayName="NavLink";var N8=b.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:s=cm,action:o,onSubmit:l,relative:u,preventScrollReset:c,viewTransition:f,unstable_defaultShouldRevalidate:m,...p},g)=>{let{unstable_useTransitions:_}=b.useContext(Ir),y=P8(),w=j8(o,{relative:u}),x=s.toLowerCase()==="get"?"get":"post",E=typeof o=="string"&&nk.test(o),N=P=>{if(l&&l(P),P.defaultPrevented)return;P.preventDefault();let k=P.nativeEvent.submitter,T=(k==null?void 0:k.getAttribute("formmethod"))||s,A=()=>y(k||P.currentTarget,{fetcherKey:e,method:T,navigate:n,replace:i,state:a,relative:u,preventScrollReset:c,viewTransition:f,unstable_defaultShouldRevalidate:m});_&&n!==!1?b.startTransition(()=>A()):A()};return b.createElement("form",{ref:g,method:x,action:w,onSubmit:r?l:N,...p,"data-discover":!E&&t==="render"?"true":void 0})});N8.displayName="Form";function C8(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rk(t){let e=b.useContext(Eu);return tt(e,C8(t)),e}function O8(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:s,unstable_defaultShouldRevalidate:o,unstable_useTransitions:l}={}){let u=Mg(),c=Is(),f=md(t,{relative:a});return b.useCallback(m=>{if(o8(m,e)){m.preventDefault();let p=n!==void 0?n:_f(c)===_f(f),g=()=>u(t,{replace:p,state:r,preventScrollReset:i,relative:a,viewTransition:s,unstable_defaultShouldRevalidate:o});l?b.startTransition(()=>g()):g()}},[c,u,f,n,r,e,t,i,a,s,o,l])}var I8=0,R8=()=>`__${String(++I8)}__`;function P8(){let{router:t}=rk("useSubmit"),{basename:e}=b.useContext(Ir),n=QB(),r=t.fetch,i=t.navigate;return b.useCallback(async(a,s={})=>{let{action:o,method:l,encType:u,formData:c,body:f}=c8(a,e);if(s.navigate===!1){let m=s.fetcherKey||R8();await r(m,n,s.action||o,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:c,body:f,formMethod:s.method||l,formEncType:s.encType||u,flushSync:s.flushSync})}else await i(s.action||o,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:c,body:f,formMethod:s.method||l,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[r,i,e,n])}function j8(t,{relative:e}={}){let{basename:n}=b.useContext(Ir),r=b.useContext(Ei);tt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...md(t||".",{relative:e})},s=Is();if(t==null){a.search=s.search;let o=new URLSearchParams(a.search),l=o.getAll("index");if(l.some(c=>c==="")){o.delete("index"),l.filter(f=>f).forEach(f=>o.append("index",f));let c=o.toString();a.search=c?`?${c}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Gi([n,a.pathname])),_f(a)}function k8(t,{relative:e}={}){let n=b.useContext(Gj);tt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=rk("useViewTransitionState"),i=md(t,{relative:e});if(!n.isTransitioning)return!1;let a=na(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=na(n.nextLocation.pathname,r)||n.nextLocation.pathname;return ap(i.pathname,s)!=null||ap(i.pathname,a)!=null}const ik=b.createContext(),pd=()=>b.useContext(ik),D8=({children:t})=>{const[e,n]=b.useState(()=>{try{const u=localStorage.getItem("ambrosia_cart");return u?JSON.parse(u):[]}catch(u){return console.error("Failed to parse cart data:",u),[]}});b.useEffect(()=>{localStorage.setItem("ambrosia_cart",JSON.stringify(e))},[e]);const r=u=>{n(c=>{const f=c.find(m=>m.id===u.id);return f?f.quantity>=50?c:c.map(m=>m.id===u.id?{...m,quantity:m.quantity+1}:m):[...c,{...u,quantity:1}]})},i=u=>{n(c=>c.filter(f=>f.id!==u))},a=(u,c)=>{if(c<1){i(u);return}c>50||n(f=>f.map(m=>m.id===u?{...m,quantity:c}:m))},s=()=>n([]),o=e.reduce((u,c)=>u+c.price*c.quantity,0),l=e.reduce((u,c)=>u+c.quantity,0);return d.jsx(ik.Provider,{value:{cartItems:e,addToCart:r,removeFromCart:i,updateQuantity:a,clearCart:s,cartTotal:o,cartCount:l},children:t})},M8=()=>{};var MT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},L8=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],s=t[n++],o=t[n++],l=((i&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const a=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},sk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,o=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=a>>2,f=(a&3)<<4|o>>4;let m=(o&15)<<2|u>>6,p=u&63;l||(p=64,s||(m=64)),r.push(n[c],n[f],n[m],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ak(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):L8(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||o==null||u==null||f==null)throw new V8;const m=a<<2|o>>4;if(r.push(m),u!==64){const p=o<<4&240|u>>2;if(r.push(p),f!==64){const g=u<<6&192|f;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class V8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const U8=function(t){const e=ak(t);return sk.encodeByteArray(e,!0)},sp=function(t){return U8(t).replace(/\./g,"")},ok=function(t){try{return sk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B8=()=>z8().__FIREBASE_DEFAULTS__,$8=()=>{if(typeof process>"u"||typeof MT>"u")return;const t=MT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},F8=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ok(t[1]);return e&&JSON.parse(e)},Vg=()=>{try{return M8()||B8()||$8()||F8()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},lk=t=>{var e,n;return(n=(e=Vg())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},uk=t=>{const e=lk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ck=()=>{var t;return(t=Vg())==null?void 0:t.config},fk=t=>{var e;return(e=Vg())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q8{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rs(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function vw(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[sp(JSON.stringify(n)),sp(JSON.stringify(s)),""].join(".")}const Zc={};function H8(){const t={prod:[],emulator:[]};for(const e of Object.keys(Zc))Zc[e]?t.emulator.push(e):t.prod.push(e);return t}function G8(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let LT=!1;function bw(t,e){if(typeof window>"u"||typeof document>"u"||!Rs(window.location.host)||Zc[t]===e||Zc[t]||LT)return;Zc[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",a=H8().prod.length>0;function s(){const m=document.getElementById(r);m&&m.remove()}function o(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function l(m,p){m.setAttribute("width","24"),m.setAttribute("id",p),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function u(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{LT=!0,s()},m}function c(m,p){m.setAttribute("id",p),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){const m=G8(r),p=n("text"),g=document.getElementById(p)||document.createElement("span"),_=n("learnmore"),y=document.getElementById(_)||document.createElement("a"),w=n("preprendIcon"),x=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const E=m.element;o(E),c(y,_);const N=u();l(x,w),E.append(x,g,y,N),document.body.appendChild(E)}a?(g.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function K8(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yn())}function W8(){var e;const t=(e=Vg())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Y8(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function X8(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Q8(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Z8(){const t=yn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function J8(){return!W8()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function e$(){try{return typeof indexedDB=="object"}catch{return!1}}function t$(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n$="FirebaseError";class Si extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=n$,Object.setPrototypeOf(this,Si.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gd.prototype.create)}}class gd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?r$(a,r):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new Si(i,o,r)}}function r$(t,e){return t.replace(i$,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const i$=/\{\$([^}]+)}/g;function a$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function wo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],s=e[i];if(VT(a)&&VT(s)){if(!wo(a,s))return!1}else if(a!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function VT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Oc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Ic(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function s$(t,e){const n=new o$(t,e);return n.subscribe.bind(n)}class o${constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");l$(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=s0),i.error===void 0&&(i.error=s0),i.complete===void 0&&(i.complete=s0);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function l$(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function s0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(t){return t&&t._delegate?t._delegate:t}class bs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let u$=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new q8;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(f$(e))try{this.getOrInitializeService({instanceIdentifier:Ys})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Ys){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ys){return this.instances.has(e)}getOptions(e=Ys){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);r===o&&s.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:c$(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ys){return this.component?this.component.multipleInstances?e:Ys:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function c$(t){return t===Ys?void 0:t}function f$(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d${constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new u$(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(pe||(pe={}));const h$={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},m$=pe.INFO,p$={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},g$=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=p$[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xw{constructor(e){this.name=e,this._logLevel=m$,this._logHandler=g$,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?h$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...e),this._logHandler(this,pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...e),this._logHandler(this,pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...e),this._logHandler(this,pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...e),this._logHandler(this,pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...e),this._logHandler(this,pe.ERROR,...e)}}const y$=(t,e)=>e.some(n=>t instanceof n);let UT,zT;function v$(){return UT||(UT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function b$(){return zT||(zT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hk=new WeakMap,qb=new WeakMap,mk=new WeakMap,o0=new WeakMap,_w=new WeakMap;function x$(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{n(ls(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&hk.set(n,t)}).catch(()=>{}),_w.set(e,t),e}function _$(t){if(qb.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});qb.set(t,e)}let Hb={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return qb.get(t);if(e==="objectStoreNames")return t.objectStoreNames||mk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ls(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function w$(t){Hb=t(Hb)}function E$(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(l0(this),e,...n);return mk.set(r,e.sort?e.sort():[e]),ls(r)}:b$().includes(t)?function(...e){return t.apply(l0(this),e),ls(hk.get(this))}:function(...e){return ls(t.apply(l0(this),e))}}function S$(t){return typeof t=="function"?E$(t):(t instanceof IDBTransaction&&_$(t),y$(t,v$())?new Proxy(t,Hb):t)}function ls(t){if(t instanceof IDBRequest)return x$(t);if(o0.has(t))return o0.get(t);const e=S$(t);return e!==t&&(o0.set(t,e),_w.set(e,t)),e}const l0=t=>_w.get(t);function A$(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),o=ls(s);return r&&s.addEventListener("upgradeneeded",l=>{r(ls(s.result),l.oldVersion,l.newVersion,ls(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const T$=["get","getKey","getAll","getAllKeys","count"],N$=["put","add","delete","clear"],u0=new Map;function BT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(u0.get(e))return u0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=N$.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||T$.includes(n)))return;const a=async function(s,...o){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(o.shift())),(await Promise.all([u[n](...o),i&&l.done]))[0]};return u0.set(e,a),a}w$(t=>({...t,get:(e,n,r)=>BT(e,n)||t.get(e,n,r),has:(e,n)=>!!BT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C${constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(O$(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function O$(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Gb="@firebase/app",$T="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=new xw("@firebase/app"),I$="@firebase/app-compat",R$="@firebase/analytics-compat",P$="@firebase/analytics",j$="@firebase/app-check-compat",k$="@firebase/app-check",D$="@firebase/auth",M$="@firebase/auth-compat",L$="@firebase/database",V$="@firebase/data-connect",U$="@firebase/database-compat",z$="@firebase/functions",B$="@firebase/functions-compat",$$="@firebase/installations",F$="@firebase/installations-compat",q$="@firebase/messaging",H$="@firebase/messaging-compat",G$="@firebase/performance",K$="@firebase/performance-compat",W$="@firebase/remote-config",Y$="@firebase/remote-config-compat",X$="@firebase/storage",Q$="@firebase/storage-compat",Z$="@firebase/firestore",J$="@firebase/ai",eF="@firebase/firestore-compat",tF="firebase",nF="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb="[DEFAULT]",rF={[Gb]:"fire-core",[I$]:"fire-core-compat",[P$]:"fire-analytics",[R$]:"fire-analytics-compat",[k$]:"fire-app-check",[j$]:"fire-app-check-compat",[D$]:"fire-auth",[M$]:"fire-auth-compat",[L$]:"fire-rtdb",[V$]:"fire-data-connect",[U$]:"fire-rtdb-compat",[z$]:"fire-fn",[B$]:"fire-fn-compat",[$$]:"fire-iid",[F$]:"fire-iid-compat",[q$]:"fire-fcm",[H$]:"fire-fcm-compat",[G$]:"fire-perf",[K$]:"fire-perf-compat",[W$]:"fire-rc",[Y$]:"fire-rc-compat",[X$]:"fire-gcs",[Q$]:"fire-gcs-compat",[Z$]:"fire-fst",[eF]:"fire-fst-compat",[J$]:"fire-vertex","fire-js":"fire-js",[tF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op=new Map,iF=new Map,Wb=new Map;function FT(t,e){try{t.container.addComponent(e)}catch(n){ra.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Eo(t){const e=t.name;if(Wb.has(e))return ra.debug(`There were multiple attempts to register component ${e}.`),!1;Wb.set(e,t);for(const n of op.values())FT(n,t);for(const n of iF.values())FT(n,t);return!0}function Ug(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function br(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},us=new gd("app","Firebase",aF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new bs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw us.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo=nF;function pk(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Kb,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw us.create("bad-app-name",{appName:String(i)});if(n||(n=ck()),!n)throw us.create("no-options");const a=op.get(i);if(a){if(wo(n,a.options)&&wo(r,a.config))return a;throw us.create("duplicate-app",{appName:i})}const s=new d$(i);for(const l of Wb.values())s.addComponent(l);const o=new sF(n,r,s);return op.set(i,o),o}function ww(t=Kb){const e=op.get(t);if(!e&&t===Kb&&ck())return pk();if(!e)throw us.create("no-app",{appName:t});return e}function oi(t,e,n){let r=rF[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ra.warn(s.join(" "));return}Eo(new bs(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oF="firebase-heartbeat-database",lF=1,wf="firebase-heartbeat-store";let c0=null;function gk(){return c0||(c0=A$(oF,lF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(wf)}catch(n){console.warn(n)}}}}).catch(t=>{throw us.create("idb-open",{originalErrorMessage:t.message})})),c0}async function uF(t){try{const n=(await gk()).transaction(wf),r=await n.objectStore(wf).get(yk(t));return await n.done,r}catch(e){if(e instanceof Si)ra.warn(e.message);else{const n=us.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ra.warn(n.message)}}}async function qT(t,e){try{const r=(await gk()).transaction(wf,"readwrite");await r.objectStore(wf).put(e,yk(t)),await r.done}catch(n){if(n instanceof Si)ra.warn(n.message);else{const r=us.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ra.warn(r.message)}}}function yk(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cF=1024,fF=30;class dF{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new mF(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=HT();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>fF){const s=pF(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ra.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=HT(),{heartbeatsToSend:r,unsentEntries:i}=hF(this._heartbeatsCache.heartbeats),a=sp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return ra.warn(n),""}}}function HT(){return new Date().toISOString().substring(0,10)}function hF(t,e=cF){const n=[];let r=t.slice();for(const i of t){const a=n.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),GT(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),GT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class mF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return e$()?t$().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await uF(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return qT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return qT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function GT(t){return sp(JSON.stringify({version:2,heartbeats:t})).length}function pF(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gF(t){Eo(new bs("platform-logger",e=>new C$(e),"PRIVATE")),Eo(new bs("heartbeat",e=>new dF(e),"PRIVATE")),oi(Gb,$T,t),oi(Gb,$T,"esm2020"),oi("fire-js","")}gF("");var yF="firebase",vF="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */oi(yF,vF,"app");function vk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const bF=vk,bk=new gd("auth","Firebase",vk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp=new xw("@firebase/auth");function xF(t,...e){lp.logLevel<=pe.WARN&&lp.warn(`Auth (${Bo}): ${t}`,...e)}function dm(t,...e){lp.logLevel<=pe.ERROR&&lp.error(`Auth (${Bo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(t,...e){throw Ew(t,...e)}function li(t,...e){return Ew(t,...e)}function xk(t,e,n){const r={...bF(),[e]:n};return new gd("auth","Firebase",r).create(e,{appName:t.name})}function cs(t){return xk(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ew(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return bk.create(t,...e)}function ne(t,e,...n){if(!t)throw Ew(e,...n)}function Ui(t){const e="INTERNAL ASSERTION FAILED: "+t;throw dm(e),new Error(e)}function ia(t,e){t||Ui(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yb(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function _F(){return KT()==="http:"||KT()==="https:"}function KT(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_F()||X8()||"connection"in navigator)?navigator.onLine:!0}function EF(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,n){this.shortDelay=e,this.longDelay=n,ia(n>e,"Short delay should be less than long delay!"),this.isMobile=K8()||Q8()}get(){return wF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(t,e){ia(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ui("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ui("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ui("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AF=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],TF=new vd(3e4,6e4);function $o(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ps(t,e,n,r,i={}){return wk(t,i,async()=>{let a={},s={};r&&(e==="GET"?s=r:a={body:JSON.stringify(r)});const o=yd({key:t.config.apiKey,...s}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...a};return Y8()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Rs(t.emulatorConfig.host)&&(u.credentials="include"),_k.fetch()(await Ek(t,t.config.apiHost,n,o),u)})}async function wk(t,e,n){t._canInitEmulator=!1;const r={...SF,...e};try{const i=new CF(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw Ah(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const o=a.ok?s.errorMessage:s.error.message,[l,u]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ah(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Ah(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Ah(t,"user-disabled",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw xk(t,c,u);$r(t,c)}}catch(i){if(i instanceof Si)throw i;$r(t,"network-request-failed",{message:String(i)})}}async function zg(t,e,n,r,i={}){const a=await Ps(t,e,n,r,i);return"mfaPendingCredential"in a&&$r(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function Ek(t,e,n,r){const i=`${e}${n}?${r}`,a=t,s=a.config.emulator?Sw(t.config,i):`${t.config.apiScheme}://${i}`;return AF.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(s).toString():s}function NF(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class CF{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(li(this.auth,"network-request-failed")),TF.get())})}}function Ah(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=li(t,e,r);return i.customData._tokenResponse=n,i}function WT(t){return t!==void 0&&t.enterprise!==void 0}class OF{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return NF(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function IF(t,e){return Ps(t,"GET","/v2/recaptchaConfig",$o(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RF(t,e){return Ps(t,"POST","/v1/accounts:delete",e)}async function up(t,e){return Ps(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function PF(t,e=!1){const n=Ge(t),r=await n.getIdToken(e),i=Aw(r);ne(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Jc(f0(i.auth_time)),issuedAtTime:Jc(f0(i.iat)),expirationTime:Jc(f0(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function f0(t){return Number(t)*1e3}function Aw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return dm("JWT malformed, contained fewer than 3 sections"),null;try{const i=ok(n);return i?JSON.parse(i):(dm("Failed to decode base64 JWT payload"),null)}catch(i){return dm("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function YT(t){const e=Aw(t);return ne(e,"internal-error"),ne(typeof e.exp<"u","internal-error"),ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ef(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Si&&jF(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function jF({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kF{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jc(this.lastLoginAt),this.creationTime=Jc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cp(t){var f;const e=t.auth,n=await t.getIdToken(),r=await Ef(t,up(e,{idToken:n}));ne(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=(f=i.providerUserInfo)!=null&&f.length?Sk(i.providerUserInfo):[],s=MF(t.providerData,a),o=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(s!=null&&s.length),u=o?l:!1,c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Xb(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,c)}async function DF(t){const e=Ge(t);await cp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function MF(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Sk(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LF(t,e){const n=await wk(t,{},async()=>{const r=yd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,s=await Ek(t,i,"/v1/token",`key=${a}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:r};return t.emulatorConfig&&Rs(t.emulatorConfig.host)&&(l.credentials="include"),_k.fetch()(s,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function VF(t,e){return Ps(t,"POST","/v2/accounts:revokeToken",$o(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ne(e.idToken,"internal-error"),ne(typeof e.idToken<"u","internal-error"),ne(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):YT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ne(e.length!==0,"internal-error");const n=YT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await LF(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,s=new Dl;return r&&(ne(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ne(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(ne(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Dl,this.toJSON())}_performRefresh(){return Ui("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ra(t,e){ne(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Vr{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new kF(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Xb(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Ef(this,this.stsTokenManager.getToken(this.auth,e));return ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return PF(this,e)}reload(){return DF(this)}_assign(e){this!==e&&(ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Vr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await cp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(br(this.auth.app))return Promise.reject(cs(this.auth));const e=await this.getIdToken();return await Ef(this,RF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,s=n.photoURL??void 0,o=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,c=n.lastLoginAt??void 0,{uid:f,emailVerified:m,isAnonymous:p,providerData:g,stsTokenManager:_}=n;ne(f&&_,e,"internal-error");const y=Dl.fromJSON(this.name,_);ne(typeof f=="string",e,"internal-error"),Ra(r,e.name),Ra(i,e.name),ne(typeof m=="boolean",e,"internal-error"),ne(typeof p=="boolean",e,"internal-error"),Ra(a,e.name),Ra(s,e.name),Ra(o,e.name),Ra(l,e.name),Ra(u,e.name),Ra(c,e.name);const w=new Vr({uid:f,auth:e,email:i,emailVerified:m,displayName:r,isAnonymous:p,photoURL:s,phoneNumber:a,tenantId:o,stsTokenManager:y,createdAt:u,lastLoginAt:c});return g&&Array.isArray(g)&&(w.providerData=g.map(x=>({...x}))),l&&(w._redirectEventId=l),w}static async _fromIdTokenResponse(e,n,r=!1){const i=new Dl;i.updateFromServerResponse(n);const a=new Vr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await cp(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ne(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?Sk(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),o=new Dl;o.updateFromIdToken(r);const l=new Vr({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Xb(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT=new Map;function zi(t){ia(t instanceof Function,"Expected a class definition");let e=XT.get(t);return e?(ia(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,XT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Ak.type="NONE";const QT=Ak;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hm(t,e,n){return`firebase:${t}:${e}:${n}`}class Ml{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=hm(this.userKey,i.apiKey,a),this.fullPersistenceKey=hm("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await up(this.auth,{idToken:e}).catch(()=>{});return n?Vr._fromGetAccountInfoResponse(this.auth,n,e):null}return Vr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ml(zi(QT),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=i[0]||zi(QT);const s=hm(r,e.config.apiKey,e.name);let o=null;for(const u of n)try{const c=await u._get(s);if(c){let f;if(typeof c=="string"){const m=await up(e,{idToken:c}).catch(()=>{});if(!m)break;f=await Vr._fromGetAccountInfoResponse(e,m,c)}else f=Vr._fromJSON(e,c);u!==a&&(o=f),a=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new Ml(a,e,r):(a=l[0],o&&await a._set(s,o.toJSON()),await Promise.all(n.map(async u=>{if(u!==a)try{await u._remove(s)}catch{}})),new Ml(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ok(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Tk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Rk(e))return"Blackberry";if(Pk(e))return"Webos";if(Nk(e))return"Safari";if((e.includes("chrome/")||Ck(e))&&!e.includes("edge/"))return"Chrome";if(Ik(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Tk(t=yn()){return/firefox\//i.test(t)}function Nk(t=yn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ck(t=yn()){return/crios\//i.test(t)}function Ok(t=yn()){return/iemobile/i.test(t)}function Ik(t=yn()){return/android/i.test(t)}function Rk(t=yn()){return/blackberry/i.test(t)}function Pk(t=yn()){return/webos/i.test(t)}function Tw(t=yn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function UF(t=yn()){var e;return Tw(t)&&!!((e=window.navigator)!=null&&e.standalone)}function zF(){return Z8()&&document.documentMode===10}function jk(t=yn()){return Tw(t)||Ik(t)||Pk(t)||Rk(t)||/windows phone/i.test(t)||Ok(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kk(t,e=[]){let n;switch(t){case"Browser":n=ZT(yn());break;case"Worker":n=`${ZT(yn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Bo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BF{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((s,o)=>{try{const l=e(a);s(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $F(t,e={}){return Ps(t,"GET","/v2/passwordPolicy",$o(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FF=6;class qF{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??FF,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new JT(this),this.idTokenSubscription=new JT(this),this.beforeStateQueue=new BF(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=zi(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await Ml.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await up(this,{idToken:e}),r=await Vr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(br(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(a=this.redirectUser)==null?void 0:a._redirectEventId,o=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===o)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await cp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=EF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(br(this.app))return Promise.reject(cs(this));const n=e?Ge(e):null;return n&&ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return br(this.app)?Promise.reject(cs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return br(this.app)?Promise.reject(cs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $F(this),n=new qF(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new gd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await VF(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&zi(e)||this._popupRedirectResolver;ne(n,this,"argument-error"),this.redirectPersistenceManager=await Ml.create(this,[zi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(ne(o,this,"internal-error"),o.then(()=>{s||a(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=kk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(br(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&xF(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Su(t){return Ge(t)}class JT{constructor(e){this.auth=e,this.observer=null,this.addObserver=s$(n=>this.observer=n)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function GF(t){Bg=t}function Dk(t){return Bg.loadJS(t)}function KF(){return Bg.recaptchaEnterpriseScript}function WF(){return Bg.gapiScript}function YF(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class XF{constructor(){this.enterprise=new QF}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class QF{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const ZF="recaptcha-enterprise",Mk="NO_RECAPTCHA";class JF{constructor(e){this.type=ZF,this.auth=Su(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,o)=>{IF(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const u=new OF(l);return a.tenantId==null?a._agentRecaptchaConfig=u:a._tenantRecaptchaConfigs[a.tenantId]=u,s(u.siteKey)}}).catch(l=>{o(l)})})}function i(a,s,o){const l=window.grecaptcha;WT(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(u=>{s(u)}).catch(()=>{s(Mk)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new XF().execute("siteKey",{action:"verify"}):new Promise((a,s)=>{r(this.auth).then(o=>{if(!n&&WT(window.grecaptcha))i(o,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=KF();l.length!==0&&(l+=o),Dk(l).then(()=>{i(o,a,s)}).catch(u=>{s(u)})}}).catch(o=>{s(o)})})}}async function eN(t,e,n,r=!1,i=!1){const a=new JF(t);let s;if(i)s=Mk;else try{s=await a.verify(n)}catch{s=await a.verify(n,!0)}const o={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,u=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function tN(t,e,n,r,i){var a;if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await eN(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await eN(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e7(t,e){const n=Ug(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(wo(a,e??{}))return i;$r(i,"already-initialized")}return n.initialize({options:e})}function t7(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(zi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function n7(t,e,n){const r=Su(t);ne(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=Lk(e),{host:s,port:o}=r7(e),l=o===null?"":`:${o}`,u={url:`${a}//${s}${l}/`},c=Object.freeze({host:s,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ne(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ne(wo(u,r.config.emulator)&&wo(c,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=c,r.settings.appVerificationDisabledForTesting=!0,Rs(s)?(vw(`${a}//${s}${l}`),bw("Auth",!0)):i7()}function Lk(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function r7(t){const e=Lk(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:nN(r.substr(a.length+1))}}else{const[a,s]=r.split(":");return{host:a,port:nN(s)}}}function nN(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function i7(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ui("not implemented")}_getIdTokenResponse(e){return Ui("not implemented")}_linkToIdToken(e,n){return Ui("not implemented")}_getReauthenticationResolver(e){return Ui("not implemented")}}async function a7(t,e){return Ps(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s7(t,e){return zg(t,"POST","/v1/accounts:signInWithPassword",$o(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o7(t,e){return zg(t,"POST","/v1/accounts:signInWithEmailLink",$o(t,e))}async function l7(t,e){return zg(t,"POST","/v1/accounts:signInWithEmailLink",$o(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf extends Nw{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Sf(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Sf(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tN(e,n,"signInWithPassword",s7);case"emailLink":return o7(e,{email:this._email,oobCode:this._password});default:$r(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tN(e,r,"signUpPassword",a7);case"emailLink":return l7(e,{idToken:n,email:this._email,oobCode:this._password});default:$r(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ll(t,e){return zg(t,"POST","/v1/accounts:signInWithIdp",$o(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u7="http://localhost";class So extends Nw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new So(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):$r("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const s=new So(r,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Ll(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ll(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ll(e,n)}buildRequest(){const e={requestUri:u7,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=yd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c7(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function f7(t){const e=Oc(Ic(t)).link,n=e?Oc(Ic(e)).deep_link_id:null,r=Oc(Ic(t)).deep_link_id;return(r?Oc(Ic(r)).link:null)||r||n||e||t}class Cw{constructor(e){const n=Oc(Ic(e)),r=n.apiKey??null,i=n.oobCode??null,a=c7(n.mode??null);ne(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=f7(e);try{return new Cw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(){this.providerId=Au.PROVIDER_ID}static credential(e,n){return Sf._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Cw.parseLink(n);return ne(r,"argument-error"),Sf._fromEmailAndCode(e,r.code,r.tenantId)}}Au.PROVIDER_ID="password";Au.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Au.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd extends Vk{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za extends bd{constructor(){super("facebook.com")}static credential(e){return So._fromParams({providerId:za.PROVIDER_ID,signInMethod:za.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return za.credentialFromTaggedObject(e)}static credentialFromError(e){return za.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return za.credential(e.oauthAccessToken)}catch{return null}}}za.FACEBOOK_SIGN_IN_METHOD="facebook.com";za.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba extends bd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return So._fromParams({providerId:Ba.PROVIDER_ID,signInMethod:Ba.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ba.credentialFromTaggedObject(e)}static credentialFromError(e){return Ba.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ba.credential(n,r)}catch{return null}}}Ba.GOOGLE_SIGN_IN_METHOD="google.com";Ba.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a extends bd{constructor(){super("github.com")}static credential(e){return So._fromParams({providerId:$a.PROVIDER_ID,signInMethod:$a.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $a.credentialFromTaggedObject(e)}static credentialFromError(e){return $a.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $a.credential(e.oauthAccessToken)}catch{return null}}}$a.GITHUB_SIGN_IN_METHOD="github.com";$a.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa extends bd{constructor(){super("twitter.com")}static credential(e,n){return So._fromParams({providerId:Fa.PROVIDER_ID,signInMethod:Fa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Fa.credentialFromTaggedObject(e)}static credentialFromError(e){return Fa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Fa.credential(n,r)}catch{return null}}}Fa.TWITTER_SIGN_IN_METHOD="twitter.com";Fa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await Vr._fromIdTokenResponse(e,r,i),s=rN(r);return new Jl({user:a,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=rN(r);return new Jl({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function rN(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp extends Si{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,fp.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new fp(e,n,r,i)}}function Uk(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?fp._fromErrorAndOperation(t,a,e,r):a})}async function d7(t,e,n=!1){const r=await Ef(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Jl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h7(t,e,n=!1){const{auth:r}=t;if(br(r.app))return Promise.reject(cs(r));const i="reauthenticate";try{const a=await Ef(t,Uk(r,i,e,t),n);ne(a.idToken,r,"internal-error");const s=Aw(a.idToken);ne(s,r,"internal-error");const{sub:o}=s;return ne(t.uid===o,r,"user-mismatch"),Jl._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&$r(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zk(t,e,n=!1){if(br(t.app))return Promise.reject(cs(t));const r="signIn",i=await Uk(t,r,e),a=await Jl._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function m7(t,e){return zk(Su(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p7(t){const e=Su(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function g7(t,e,n){return br(t.app)?Promise.reject(cs(t)):m7(Ge(t),Au.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&p7(t),r})}function y7(t,e,n,r){return Ge(t).onIdTokenChanged(e,n,r)}function v7(t,e,n){return Ge(t).beforeAuthStateChanged(e,n)}function b7(t,e,n,r){return Ge(t).onAuthStateChanged(e,n,r)}function Qb(t){return Ge(t).signOut()}const dp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(dp,"1"),this.storage.removeItem(dp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x7=1e3,_7=10;class $k extends Bk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=jk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,o,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},a=this.storage.getItem(r);zF()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,_7):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},x7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}$k.type="LOCAL";const w7=$k;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk extends Bk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Fk.type="SESSION";const qk=Fk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E7(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new $g(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(s).map(async u=>u(n.origin,a)),l=await E7(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$g.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S7{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((o,l)=>{const u=Ow("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const m=f;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(c),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),o(m.data.response);break;default:clearTimeout(c),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(){return window}function A7(t){ui().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hk(){return typeof ui().WorkerGlobalScope<"u"&&typeof ui().importScripts=="function"}async function T7(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function N7(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function C7(){return Hk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk="firebaseLocalStorageDb",O7=1,hp="firebaseLocalStorage",Kk="fbase_key";class xd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Fg(t,e){return t.transaction([hp],e?"readwrite":"readonly").objectStore(hp)}function I7(){const t=indexedDB.deleteDatabase(Gk);return new xd(t).toPromise()}function Zb(){const t=indexedDB.open(Gk,O7);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(hp,{keyPath:Kk})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(hp)?e(r):(r.close(),await I7(),e(await Zb()))})})}async function iN(t,e,n){const r=Fg(t,!0).put({[Kk]:e,value:n});return new xd(r).toPromise()}async function R7(t,e){const n=Fg(t,!1).get(e),r=await new xd(n).toPromise();return r===void 0?null:r.value}function aN(t,e){const n=Fg(t,!0).delete(e);return new xd(n).toPromise()}const P7=800,j7=3;class Wk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Zb(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>j7)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Hk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$g._getInstance(C7()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await T7(),!this.activeServiceWorker)return;this.sender=new S7(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||N7()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Zb();return await iN(e,dp,"1"),await aN(e,dp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>iN(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>R7(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>aN(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Fg(i,!1).getAll();return new xd(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),P7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Wk.type="LOCAL";const k7=Wk;new vd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D7(t,e){return e?zi(e):(ne(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw extends Nw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ll(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ll(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ll(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function M7(t){return zk(t.auth,new Iw(t),t.bypassAuthState)}function L7(t){const{auth:e,user:n}=t;return ne(n,e,"internal-error"),h7(n,new Iw(t),t.bypassAuthState)}async function V7(t){const{auth:e,user:n}=t;return ne(n,e,"internal-error"),d7(n,new Iw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:s,type:o}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return M7;case"linkViaPopup":case"linkViaRedirect":return V7;case"reauthViaPopup":case"reauthViaRedirect":return L7;default:$r(this.auth,"internal-error")}}resolve(e){ia(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ia(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U7=new vd(2e3,1e4);class Sl extends Yk{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Sl.currentPopupAction&&Sl.currentPopupAction.cancel(),Sl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ne(e,this.auth,"internal-error"),e}async onExecution(){ia(this.filter.length===1,"Popup operations only handle one event");const e=Ow();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(li(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Sl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(li(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,U7.get())};e()}}Sl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z7="pendingRedirect",mm=new Map;class B7 extends Yk{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=mm.get(this.auth._key());if(!e){try{const r=await $7(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}mm.set(this.auth._key(),e)}return this.bypassAuthState||mm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $7(t,e){const n=H7(e),r=q7(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function F7(t,e){mm.set(t._key(),e)}function q7(t){return zi(t._redirectPersistence)}function H7(t){return hm(z7,t.config.apiKey,t.name)}async function G7(t,e,n=!1){if(br(t.app))return Promise.reject(cs(t));const r=Su(t),i=D7(r,e),s=await new B7(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K7=10*60*1e3;class W7{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Y7(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Xk(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(li(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=K7&&this.cachedEventUids.clear(),this.cachedEventUids.has(sN(e))}saveEventToCache(e){this.cachedEventUids.add(sN(e)),this.lastProcessedEventTime=Date.now()}}function sN(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Xk({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Y7(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Xk(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X7(t,e={}){return Ps(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q7=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Z7=/^https?/;async function J7(t){if(t.config.emulator)return;const{authorizedDomains:e}=await X7(t);for(const n of e)try{if(eq(n))return}catch{}$r(t,"unauthorized-domain")}function eq(t){const e=Yb(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!Z7.test(n))return!1;if(Q7.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tq=new vd(3e4,6e4);function oN(){const t=ui().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function nq(t){return new Promise((e,n)=>{var i,a,s;function r(){oN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{oN(),n(li(t,"network-request-failed"))},timeout:tq.get()})}if((a=(i=ui().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((s=ui().gapi)!=null&&s.load)r();else{const o=YF("iframefcb");return ui()[o]=()=>{gapi.load?r():n(li(t,"network-request-failed"))},Dk(`${WF()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw pm=null,e})}let pm=null;function rq(t){return pm=pm||nq(t),pm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iq=new vd(5e3,15e3),aq="__/auth/iframe",sq="emulator/auth/iframe",oq={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lq=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uq(t){const e=t.config;ne(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Sw(e,sq):`https://${t.config.authDomain}/${aq}`,r={apiKey:e.apiKey,appName:t.name,v:Bo},i=lq.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${yd(r).slice(1)}`}async function cq(t){const e=await rq(t),n=ui().gapi;return ne(n,t,"internal-error"),e.open({where:document.body,url:uq(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oq,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const s=li(t,"network-request-failed"),o=ui().setTimeout(()=>{a(s)},iq.get());function l(){ui().clearTimeout(o),i(r)}r.ping(l).then(l,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fq={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},dq=500,hq=600,mq="_blank",pq="http://localhost";class lN{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gq(t,e,n,r=dq,i=hq){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l={...fq,width:r.toString(),height:i.toString(),top:a,left:s},u=yn().toLowerCase();n&&(o=Ck(u)?mq:n),Tk(u)&&(e=e||pq,l.scrollbars="yes");const c=Object.entries(l).reduce((m,[p,g])=>`${m}${p}=${g},`,"");if(UF(u)&&o!=="_self")return yq(e||"",o),new lN(null);const f=window.open(e||"",o,c);ne(f,t,"popup-blocked");try{f.focus()}catch{}return new lN(f)}function yq(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vq="__/auth/handler",bq="emulator/auth/handler",xq=encodeURIComponent("fac");async function uN(t,e,n,r,i,a){ne(t.config.authDomain,t,"auth-domain-config-required"),ne(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Bo,eventId:i};if(e instanceof Vk){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",a$(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,f]of Object.entries({}))s[c]=f}if(e instanceof bd){const c=e.getScopes().filter(f=>f!=="");c.length>0&&(s.scopes=c.join(","))}t.tenantId&&(s.tid=t.tenantId);const o=s;for(const c of Object.keys(o))o[c]===void 0&&delete o[c];const l=await t._getAppCheckToken(),u=l?`#${xq}=${encodeURIComponent(l)}`:"";return`${_q(t)}?${yd(o).slice(1)}${u}`}function _q({config:t}){return t.emulator?Sw(t,bq):`https://${t.authDomain}/${vq}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0="webStorageSupport";class wq{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qk,this._completeRedirectFn=G7,this._overrideRedirectResult=F7}async _openPopup(e,n,r,i){var s;ia((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await uN(e,n,r,Yb(),i);return gq(e,a,Ow())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await uN(e,n,r,Yb(),i);return A7(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(ia(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await cq(e),r=new W7(e);return n.register("authEvent",i=>(ne(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(d0,{type:d0},i=>{var s;const a=(s=i==null?void 0:i[0])==null?void 0:s[d0];a!==void 0&&n(!!a),$r(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=J7(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return jk()||Nk()||Tw()}}const Eq=wq;var cN="@firebase/auth",fN="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sq{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aq(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Tq(t){Eo(new bs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=r.options;ne(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kk(t)},u=new HF(r,i,a,l);return t7(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Eo(new bs("auth-internal",e=>{const n=Su(e.getProvider("auth").getImmediate());return(r=>new Sq(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),oi(cN,fN,Aq(t)),oi(cN,fN,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nq=5*60,Cq=fk("authIdTokenMaxAge")||Nq;let dN=null;const Oq=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Cq)return;const i=n==null?void 0:n.token;dN!==i&&(dN=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Iq(t=ww()){const e=Ug(t,"auth");if(e.isInitialized())return e.getImmediate();const n=e7(t,{popupRedirectResolver:Eq,persistence:[k7,w7,qk]}),r=fk("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const s=Oq(a.toString());v7(n,s,()=>s(n.currentUser)),y7(n,o=>s(o))}}const i=lk("auth");return i&&n7(n,`http://${i}`),n}function Rq(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}GF({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=li("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",Rq().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Tq("Browser");var hN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fs,Qk;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,A){function C(){}C.prototype=A.prototype,T.F=A.prototype,T.prototype=new C,T.prototype.constructor=T,T.D=function(R,j,I){for(var D=Array(arguments.length-2),Z=2;Z<arguments.length;Z++)D[Z-2]=arguments[Z];return A.prototype[j].apply(R,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,A,C){C||(C=0);const R=Array(16);if(typeof A=="string")for(var j=0;j<16;++j)R[j]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(j=0;j<16;++j)R[j]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=T.g[0],C=T.g[1],j=T.g[2];let I=T.g[3],D;D=A+(I^C&(j^I))+R[0]+3614090360&4294967295,A=C+(D<<7&4294967295|D>>>25),D=I+(j^A&(C^j))+R[1]+3905402710&4294967295,I=A+(D<<12&4294967295|D>>>20),D=j+(C^I&(A^C))+R[2]+606105819&4294967295,j=I+(D<<17&4294967295|D>>>15),D=C+(A^j&(I^A))+R[3]+3250441966&4294967295,C=j+(D<<22&4294967295|D>>>10),D=A+(I^C&(j^I))+R[4]+4118548399&4294967295,A=C+(D<<7&4294967295|D>>>25),D=I+(j^A&(C^j))+R[5]+1200080426&4294967295,I=A+(D<<12&4294967295|D>>>20),D=j+(C^I&(A^C))+R[6]+2821735955&4294967295,j=I+(D<<17&4294967295|D>>>15),D=C+(A^j&(I^A))+R[7]+4249261313&4294967295,C=j+(D<<22&4294967295|D>>>10),D=A+(I^C&(j^I))+R[8]+1770035416&4294967295,A=C+(D<<7&4294967295|D>>>25),D=I+(j^A&(C^j))+R[9]+2336552879&4294967295,I=A+(D<<12&4294967295|D>>>20),D=j+(C^I&(A^C))+R[10]+4294925233&4294967295,j=I+(D<<17&4294967295|D>>>15),D=C+(A^j&(I^A))+R[11]+2304563134&4294967295,C=j+(D<<22&4294967295|D>>>10),D=A+(I^C&(j^I))+R[12]+1804603682&4294967295,A=C+(D<<7&4294967295|D>>>25),D=I+(j^A&(C^j))+R[13]+4254626195&4294967295,I=A+(D<<12&4294967295|D>>>20),D=j+(C^I&(A^C))+R[14]+2792965006&4294967295,j=I+(D<<17&4294967295|D>>>15),D=C+(A^j&(I^A))+R[15]+1236535329&4294967295,C=j+(D<<22&4294967295|D>>>10),D=A+(j^I&(C^j))+R[1]+4129170786&4294967295,A=C+(D<<5&4294967295|D>>>27),D=I+(C^j&(A^C))+R[6]+3225465664&4294967295,I=A+(D<<9&4294967295|D>>>23),D=j+(A^C&(I^A))+R[11]+643717713&4294967295,j=I+(D<<14&4294967295|D>>>18),D=C+(I^A&(j^I))+R[0]+3921069994&4294967295,C=j+(D<<20&4294967295|D>>>12),D=A+(j^I&(C^j))+R[5]+3593408605&4294967295,A=C+(D<<5&4294967295|D>>>27),D=I+(C^j&(A^C))+R[10]+38016083&4294967295,I=A+(D<<9&4294967295|D>>>23),D=j+(A^C&(I^A))+R[15]+3634488961&4294967295,j=I+(D<<14&4294967295|D>>>18),D=C+(I^A&(j^I))+R[4]+3889429448&4294967295,C=j+(D<<20&4294967295|D>>>12),D=A+(j^I&(C^j))+R[9]+568446438&4294967295,A=C+(D<<5&4294967295|D>>>27),D=I+(C^j&(A^C))+R[14]+3275163606&4294967295,I=A+(D<<9&4294967295|D>>>23),D=j+(A^C&(I^A))+R[3]+4107603335&4294967295,j=I+(D<<14&4294967295|D>>>18),D=C+(I^A&(j^I))+R[8]+1163531501&4294967295,C=j+(D<<20&4294967295|D>>>12),D=A+(j^I&(C^j))+R[13]+2850285829&4294967295,A=C+(D<<5&4294967295|D>>>27),D=I+(C^j&(A^C))+R[2]+4243563512&4294967295,I=A+(D<<9&4294967295|D>>>23),D=j+(A^C&(I^A))+R[7]+1735328473&4294967295,j=I+(D<<14&4294967295|D>>>18),D=C+(I^A&(j^I))+R[12]+2368359562&4294967295,C=j+(D<<20&4294967295|D>>>12),D=A+(C^j^I)+R[5]+4294588738&4294967295,A=C+(D<<4&4294967295|D>>>28),D=I+(A^C^j)+R[8]+2272392833&4294967295,I=A+(D<<11&4294967295|D>>>21),D=j+(I^A^C)+R[11]+1839030562&4294967295,j=I+(D<<16&4294967295|D>>>16),D=C+(j^I^A)+R[14]+4259657740&4294967295,C=j+(D<<23&4294967295|D>>>9),D=A+(C^j^I)+R[1]+2763975236&4294967295,A=C+(D<<4&4294967295|D>>>28),D=I+(A^C^j)+R[4]+1272893353&4294967295,I=A+(D<<11&4294967295|D>>>21),D=j+(I^A^C)+R[7]+4139469664&4294967295,j=I+(D<<16&4294967295|D>>>16),D=C+(j^I^A)+R[10]+3200236656&4294967295,C=j+(D<<23&4294967295|D>>>9),D=A+(C^j^I)+R[13]+681279174&4294967295,A=C+(D<<4&4294967295|D>>>28),D=I+(A^C^j)+R[0]+3936430074&4294967295,I=A+(D<<11&4294967295|D>>>21),D=j+(I^A^C)+R[3]+3572445317&4294967295,j=I+(D<<16&4294967295|D>>>16),D=C+(j^I^A)+R[6]+76029189&4294967295,C=j+(D<<23&4294967295|D>>>9),D=A+(C^j^I)+R[9]+3654602809&4294967295,A=C+(D<<4&4294967295|D>>>28),D=I+(A^C^j)+R[12]+3873151461&4294967295,I=A+(D<<11&4294967295|D>>>21),D=j+(I^A^C)+R[15]+530742520&4294967295,j=I+(D<<16&4294967295|D>>>16),D=C+(j^I^A)+R[2]+3299628645&4294967295,C=j+(D<<23&4294967295|D>>>9),D=A+(j^(C|~I))+R[0]+4096336452&4294967295,A=C+(D<<6&4294967295|D>>>26),D=I+(C^(A|~j))+R[7]+1126891415&4294967295,I=A+(D<<10&4294967295|D>>>22),D=j+(A^(I|~C))+R[14]+2878612391&4294967295,j=I+(D<<15&4294967295|D>>>17),D=C+(I^(j|~A))+R[5]+4237533241&4294967295,C=j+(D<<21&4294967295|D>>>11),D=A+(j^(C|~I))+R[12]+1700485571&4294967295,A=C+(D<<6&4294967295|D>>>26),D=I+(C^(A|~j))+R[3]+2399980690&4294967295,I=A+(D<<10&4294967295|D>>>22),D=j+(A^(I|~C))+R[10]+4293915773&4294967295,j=I+(D<<15&4294967295|D>>>17),D=C+(I^(j|~A))+R[1]+2240044497&4294967295,C=j+(D<<21&4294967295|D>>>11),D=A+(j^(C|~I))+R[8]+1873313359&4294967295,A=C+(D<<6&4294967295|D>>>26),D=I+(C^(A|~j))+R[15]+4264355552&4294967295,I=A+(D<<10&4294967295|D>>>22),D=j+(A^(I|~C))+R[6]+2734768916&4294967295,j=I+(D<<15&4294967295|D>>>17),D=C+(I^(j|~A))+R[13]+1309151649&4294967295,C=j+(D<<21&4294967295|D>>>11),D=A+(j^(C|~I))+R[4]+4149444226&4294967295,A=C+(D<<6&4294967295|D>>>26),D=I+(C^(A|~j))+R[11]+3174756917&4294967295,I=A+(D<<10&4294967295|D>>>22),D=j+(A^(I|~C))+R[2]+718787259&4294967295,j=I+(D<<15&4294967295|D>>>17),D=C+(I^(j|~A))+R[9]+3951481745&4294967295,T.g[0]=T.g[0]+A&4294967295,T.g[1]=T.g[1]+(j+(D<<21&4294967295|D>>>11))&4294967295,T.g[2]=T.g[2]+j&4294967295,T.g[3]=T.g[3]+I&4294967295}r.prototype.v=function(T,A){A===void 0&&(A=T.length);const C=A-this.blockSize,R=this.C;let j=this.h,I=0;for(;I<A;){if(j==0)for(;I<=C;)i(this,T,I),I+=this.blockSize;if(typeof T=="string"){for(;I<A;)if(R[j++]=T.charCodeAt(I++),j==this.blockSize){i(this,R),j=0;break}}else for(;I<A;)if(R[j++]=T[I++],j==this.blockSize){i(this,R),j=0;break}}this.h=j,this.o+=A},r.prototype.A=function(){var T=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);T[0]=128;for(var A=1;A<T.length-8;++A)T[A]=0;A=this.o*8;for(var C=T.length-8;C<T.length;++C)T[C]=A&255,A/=256;for(this.v(T),T=Array(16),A=0,C=0;C<4;++C)for(let R=0;R<32;R+=8)T[A++]=this.g[C]>>>R&255;return T};function a(T,A){var C=o;return Object.prototype.hasOwnProperty.call(C,T)?C[T]:C[T]=A(T)}function s(T,A){this.h=A;const C=[];let R=!0;for(let j=T.length-1;j>=0;j--){const I=T[j]|0;R&&I==A||(C[j]=I,R=!1)}this.g=C}var o={};function l(T){return-128<=T&&T<128?a(T,function(A){return new s([A|0],A<0?-1:0)}):new s([T|0],T<0?-1:0)}function u(T){if(isNaN(T)||!isFinite(T))return f;if(T<0)return y(u(-T));const A=[];let C=1;for(let R=0;T>=C;R++)A[R]=T/C|0,C*=4294967296;return new s(A,0)}function c(T,A){if(T.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(T.charAt(0)=="-")return y(c(T.substring(1),A));if(T.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=u(Math.pow(A,8));let R=f;for(let I=0;I<T.length;I+=8){var j=Math.min(8,T.length-I);const D=parseInt(T.substring(I,I+j),A);j<8?(j=u(Math.pow(A,j)),R=R.j(j).add(u(D))):(R=R.j(C),R=R.add(u(D)))}return R}var f=l(0),m=l(1),p=l(16777216);t=s.prototype,t.m=function(){if(_(this))return-y(this).m();let T=0,A=1;for(let C=0;C<this.g.length;C++){const R=this.i(C);T+=(R>=0?R:4294967296+R)*A,A*=4294967296}return T},t.toString=function(T){if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(g(this))return"0";if(_(this))return"-"+y(this).toString(T);const A=u(Math.pow(T,6));var C=this;let R="";for(;;){const j=N(C,A).g;C=w(C,j.j(A));let I=((C.g.length>0?C.g[0]:C.h)>>>0).toString(T);if(C=j,g(C))return I+R;for(;I.length<6;)I="0"+I;R=I+R}},t.i=function(T){return T<0?0:T<this.g.length?this.g[T]:this.h};function g(T){if(T.h!=0)return!1;for(let A=0;A<T.g.length;A++)if(T.g[A]!=0)return!1;return!0}function _(T){return T.h==-1}t.l=function(T){return T=w(this,T),_(T)?-1:g(T)?0:1};function y(T){const A=T.g.length,C=[];for(let R=0;R<A;R++)C[R]=~T.g[R];return new s(C,~T.h).add(m)}t.abs=function(){return _(this)?y(this):this},t.add=function(T){const A=Math.max(this.g.length,T.g.length),C=[];let R=0;for(let j=0;j<=A;j++){let I=R+(this.i(j)&65535)+(T.i(j)&65535),D=(I>>>16)+(this.i(j)>>>16)+(T.i(j)>>>16);R=D>>>16,I&=65535,D&=65535,C[j]=D<<16|I}return new s(C,C[C.length-1]&-2147483648?-1:0)};function w(T,A){return T.add(y(A))}t.j=function(T){if(g(this)||g(T))return f;if(_(this))return _(T)?y(this).j(y(T)):y(y(this).j(T));if(_(T))return y(this.j(y(T)));if(this.l(p)<0&&T.l(p)<0)return u(this.m()*T.m());const A=this.g.length+T.g.length,C=[];for(var R=0;R<2*A;R++)C[R]=0;for(R=0;R<this.g.length;R++)for(let j=0;j<T.g.length;j++){const I=this.i(R)>>>16,D=this.i(R)&65535,Z=T.i(j)>>>16,oe=T.i(j)&65535;C[2*R+2*j]+=D*oe,x(C,2*R+2*j),C[2*R+2*j+1]+=I*oe,x(C,2*R+2*j+1),C[2*R+2*j+1]+=D*Z,x(C,2*R+2*j+1),C[2*R+2*j+2]+=I*Z,x(C,2*R+2*j+2)}for(T=0;T<A;T++)C[T]=C[2*T+1]<<16|C[2*T];for(T=A;T<2*A;T++)C[T]=0;return new s(C,0)};function x(T,A){for(;(T[A]&65535)!=T[A];)T[A+1]+=T[A]>>>16,T[A]&=65535,A++}function E(T,A){this.g=T,this.h=A}function N(T,A){if(g(A))throw Error("division by zero");if(g(T))return new E(f,f);if(_(T))return A=N(y(T),A),new E(y(A.g),y(A.h));if(_(A))return A=N(T,y(A)),new E(y(A.g),A.h);if(T.g.length>30){if(_(T)||_(A))throw Error("slowDivide_ only works with positive integers.");for(var C=m,R=A;R.l(T)<=0;)C=P(C),R=P(R);var j=k(C,1),I=k(R,1);for(R=k(R,2),C=k(C,2);!g(R);){var D=I.add(R);D.l(T)<=0&&(j=j.add(C),I=D),R=k(R,1),C=k(C,1)}return A=w(T,j.j(A)),new E(j,A)}for(j=f;T.l(A)>=0;){for(C=Math.max(1,Math.floor(T.m()/A.m())),R=Math.ceil(Math.log(C)/Math.LN2),R=R<=48?1:Math.pow(2,R-48),I=u(C),D=I.j(A);_(D)||D.l(T)>0;)C-=R,I=u(C),D=I.j(A);g(I)&&(I=m),j=j.add(I),T=w(T,D)}return new E(j,T)}t.B=function(T){return N(this,T).h},t.and=function(T){const A=Math.max(this.g.length,T.g.length),C=[];for(let R=0;R<A;R++)C[R]=this.i(R)&T.i(R);return new s(C,this.h&T.h)},t.or=function(T){const A=Math.max(this.g.length,T.g.length),C=[];for(let R=0;R<A;R++)C[R]=this.i(R)|T.i(R);return new s(C,this.h|T.h)},t.xor=function(T){const A=Math.max(this.g.length,T.g.length),C=[];for(let R=0;R<A;R++)C[R]=this.i(R)^T.i(R);return new s(C,this.h^T.h)};function P(T){const A=T.g.length+1,C=[];for(let R=0;R<A;R++)C[R]=T.i(R)<<1|T.i(R-1)>>>31;return new s(C,T.h)}function k(T,A){const C=A>>5;A%=32;const R=T.g.length-C,j=[];for(let I=0;I<R;I++)j[I]=A>0?T.i(I+C)>>>A|T.i(I+C+1)<<32-A:T.i(I+C);return new s(j,T.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Qk=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=c,fs=s}).apply(typeof hN<"u"?hN:typeof self<"u"?self:typeof window<"u"?window:{});var Th=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zk,Rc,Jk,gm,Jb,eD,tD,nD;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Th=="object"&&Th];for(var v=0;v<h.length;++v){var S=h[v];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=n(this);function i(h,v){if(v)e:{var S=r;h=h.split(".");for(var O=0;O<h.length-1;O++){var M=h[O];if(!(M in S))break e;S=S[M]}h=h[h.length-1],O=S[h],v=v(O),v!=O&&v!=null&&e(S,h,{configurable:!0,writable:!0,value:v})}}i("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(h){return h||function(v){var S=[],O;for(O in v)Object.prototype.hasOwnProperty.call(v,O)&&S.push([O,v[O]]);return S}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function o(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function l(h,v,S){return h.call.apply(h.bind,arguments)}function u(h,v,S){return u=l,u.apply(null,arguments)}function c(h,v){var S=Array.prototype.slice.call(arguments,1);return function(){var O=S.slice();return O.push.apply(O,arguments),h.apply(this,O)}}function f(h,v){function S(){}S.prototype=v.prototype,h.Z=v.prototype,h.prototype=new S,h.prototype.constructor=h,h.Ob=function(O,M,L){for(var H=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)H[fe-2]=arguments[fe];return v.prototype[M].apply(O,H)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function p(h){const v=h.length;if(v>0){const S=Array(v);for(let O=0;O<v;O++)S[O]=h[O];return S}return[]}function g(h,v){for(let O=1;O<arguments.length;O++){const M=arguments[O];var S=typeof M;if(S=S!="object"?S:M?Array.isArray(M)?"array":S:"null",S=="array"||S=="object"&&typeof M.length=="number"){S=h.length||0;const L=M.length||0;h.length=S+L;for(let H=0;H<L;H++)h[S+H]=M[H]}else h.push(M)}}class _{constructor(v,S){this.i=v,this.j=S,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function y(h){s.setTimeout(()=>{throw h},0)}function w(){var h=T;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class x{constructor(){this.h=this.g=null}add(v,S){const O=E.get();O.set(v,S),this.h?this.h.next=O:this.g=O,this.h=O}}var E=new _(()=>new N,h=>h.reset());class N{constructor(){this.next=this.g=this.h=null}set(v,S){this.h=v,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let P,k=!1,T=new x,A=()=>{const h=Promise.resolve(void 0);P=()=>{h.then(C)}};function C(){for(var h;h=w();){try{h.h.call(h.g)}catch(S){y(S)}var v=E;v.j(h),v.h<100&&(v.h++,h.next=v.g,v.g=h)}k=!1}function R(){this.u=this.u,this.C=this.C}R.prototype.u=!1,R.prototype.dispose=function(){this.u||(this.u=!0,this.N())},R.prototype[Symbol.dispose]=function(){this.dispose()},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var I=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const S=()=>{};s.addEventListener("test",S,v),s.removeEventListener("test",S,v)}catch{}return h}();function D(h){return/^[\s\xa0]*$/.test(h)}function Z(h,v){j.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,v)}f(Z,j),Z.prototype.init=function(h,v){const S=this.type=h.type,O=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget,v||(S=="mouseover"?v=h.fromElement:S=="mouseout"&&(v=h.toElement)),this.relatedTarget=v,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Z.Z.h.call(this)},Z.prototype.h=function(){Z.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var oe="closure_listenable_"+(Math.random()*1e6|0),q=0;function K(h,v,S,O,M){this.listener=h,this.proxy=null,this.src=v,this.type=S,this.capture=!!O,this.ha=M,this.key=++q,this.da=this.fa=!1}function Y(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function te(h,v,S){for(const O in h)v.call(S,h[O],O,h)}function le(h,v){for(const S in h)v.call(void 0,h[S],S,h)}function Ye(h){const v={};for(const S in h)v[S]=h[S];return v}const ft="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Pt(h,v){let S,O;for(let M=1;M<arguments.length;M++){O=arguments[M];for(S in O)h[S]=O[S];for(let L=0;L<ft.length;L++)S=ft[L],Object.prototype.hasOwnProperty.call(O,S)&&(h[S]=O[S])}}function je(h){this.src=h,this.g={},this.h=0}je.prototype.add=function(h,v,S,O,M){const L=h.toString();h=this.g[L],h||(h=this.g[L]=[],this.h++);const H=Ti(h,v,O,M);return H>-1?(v=h[H],S||(v.fa=!1)):(v=new K(v,this.src,L,!!O,M),v.fa=S,h.push(v)),v};function cn(h,v){const S=v.type;if(S in h.g){var O=h.g[S],M=Array.prototype.indexOf.call(O,v,void 0),L;(L=M>=0)&&Array.prototype.splice.call(O,M,1),L&&(Y(v),h.g[S].length==0&&(delete h.g[S],h.h--))}}function Ti(h,v,S,O){for(let M=0;M<h.length;++M){const L=h[M];if(!L.da&&L.listener==v&&L.capture==!!S&&L.ha==O)return M}return-1}var jt="closure_lm_"+(Math.random()*1e6|0),Ls={};function $(h,v,S,O,M){if(Array.isArray(v)){for(let L=0;L<v.length;L++)$(h,v[L],S,O,M);return null}return S=Fu(S),h&&h[oe]?h.J(v,S,o(O)?!!O.capture:!1,M):de(h,v,S,!1,O,M)}function de(h,v,S,O,M,L){if(!v)throw Error("Invalid event type");const H=o(M)?!!M.capture:!!M;let fe=Kt(h);if(fe||(h[jt]=fe=new je(h)),S=fe.add(v,S,O,H,L),S.proxy)return S;if(O=_e(),S.proxy=O,O.src=h,O.listener=S,h.addEventListener)I||(M=H),M===void 0&&(M=!1),h.addEventListener(v.toString(),O,M);else if(h.attachEvent)h.attachEvent(Ne(v.toString()),O);else if(h.addListener&&h.removeListener)h.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return S}function _e(){function h(S){return v.call(h.src,h.listener,S)}const v=bn;return h}function F(h,v,S,O,M){if(Array.isArray(v))for(var L=0;L<v.length;L++)F(h,v[L],S,O,M);else O=o(O)?!!O.capture:!!O,S=Fu(S),h&&h[oe]?(h=h.i,L=String(v).toString(),L in h.g&&(v=h.g[L],S=Ti(v,S,O,M),S>-1&&(Y(v[S]),Array.prototype.splice.call(v,S,1),v.length==0&&(delete h.g[L],h.h--)))):h&&(h=Kt(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Ti(v,S,O,M)),(S=h>-1?v[h]:null)&&kt(S))}function kt(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[oe])cn(v.i,h);else{var S=h.type,O=h.proxy;v.removeEventListener?v.removeEventListener(S,O,h.capture):v.detachEvent?v.detachEvent(Ne(S),O):v.addListener&&v.removeListener&&v.removeListener(O),(S=Kt(v))?(cn(S,h),S.h==0&&(S.src=null,v[jt]=null)):Y(h)}}}function Ne(h){return h in Ls?Ls[h]:Ls[h]="on"+h}function bn(h,v){if(h.da)h=!0;else{v=new Z(v,this);const S=h.listener,O=h.ha||h.src;h.fa&&kt(h),h=S.call(O,v)}return h}function Kt(h){return h=h[jt],h instanceof je?h:null}var Pr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Fu(h){return typeof h=="function"?h:(h[Pr]||(h[Pr]=function(v){return h.handleEvent(v)}),h[Pr])}function fn(){R.call(this),this.i=new je(this),this.M=this,this.G=null}f(fn,R),fn.prototype[oe]=!0,fn.prototype.removeEventListener=function(h,v,S,O){F(this,h,v,S,O)};function xn(h,v){var S,O=h.G;if(O)for(S=[];O;O=O.G)S.push(O);if(h=h.M,O=v.type||v,typeof v=="string")v=new j(v,h);else if(v instanceof j)v.target=v.target||h;else{var M=v;v=new j(O,h),Pt(v,M)}M=!0;let L,H;if(S)for(H=S.length-1;H>=0;H--)L=v.g=S[H],M=Xd(L,O,!0,v)&&M;if(L=v.g=h,M=Xd(L,O,!0,v)&&M,M=Xd(L,O,!1,v)&&M,S)for(H=0;H<S.length;H++)L=v.g=S[H],M=Xd(L,O,!1,v)&&M}fn.prototype.N=function(){if(fn.Z.N.call(this),this.i){var h=this.i;for(const v in h.g){const S=h.g[v];for(let O=0;O<S.length;O++)Y(S[O]);delete h.g[v],h.h--}}this.G=null},fn.prototype.J=function(h,v,S,O){return this.i.add(String(h),v,!1,S,O)},fn.prototype.K=function(h,v,S,O){return this.i.add(String(h),v,!0,S,O)};function Xd(h,v,S,O){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();let M=!0;for(let L=0;L<v.length;++L){const H=v[L];if(H&&!H.da&&H.capture==S){const fe=H.listener,At=H.ha||H.src;H.fa&&cn(h.i,H),M=fe.call(At,O)!==!1&&M}}return M&&!O.defaultPrevented}function PV(h,v){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=u(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:s.setTimeout(h,v||0)}function lS(h){h.g=PV(()=>{h.g=null,h.i&&(h.i=!1,lS(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class jV extends R{constructor(v,S){super(),this.m=v,this.l=S,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:lS(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qu(h){R.call(this),this.h=h,this.g={}}f(qu,R);var uS=[];function cS(h){te(h.g,function(v,S){this.g.hasOwnProperty(S)&&kt(v)},h),h.g={}}qu.prototype.N=function(){qu.Z.N.call(this),cS(this)},qu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var nv=s.JSON.stringify,kV=s.JSON.parse,DV=class{stringify(h){return s.JSON.stringify(h,void 0)}parse(h){return s.JSON.parse(h,void 0)}};function fS(){}function dS(){}var Hu={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function rv(){j.call(this,"d")}f(rv,j);function iv(){j.call(this,"c")}f(iv,j);var Vs={},hS=null;function Qd(){return hS=hS||new fn}Vs.Ia="serverreachability";function mS(h){j.call(this,Vs.Ia,h)}f(mS,j);function Gu(h){const v=Qd();xn(v,new mS(v))}Vs.STAT_EVENT="statevent";function pS(h,v){j.call(this,Vs.STAT_EVENT,h),this.stat=v}f(pS,j);function _n(h){const v=Qd();xn(v,new pS(v,h))}Vs.Ja="timingevent";function gS(h,v){j.call(this,Vs.Ja,h),this.size=v}f(gS,j);function Ku(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){h()},v)}function Wu(){this.g=!0}Wu.prototype.ua=function(){this.g=!1};function MV(h,v,S,O,M,L){h.info(function(){if(h.g)if(L){var H="",fe=L.split("&");for(let ke=0;ke<fe.length;ke++){var At=fe[ke].split("=");if(At.length>1){const Dt=At[0];At=At[1];const Wr=Dt.split("_");H=Wr.length>=2&&Wr[1]=="type"?H+(Dt+"="+At+"&"):H+(Dt+"=redacted&")}}}else H=null;else H=L;return"XMLHTTP REQ ("+O+") [attempt "+M+"]: "+v+`
`+S+`
`+H})}function LV(h,v,S,O,M,L,H){h.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+M+"]: "+v+`
`+S+`
`+L+" "+H})}function Ko(h,v,S,O){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+UV(h,S)+(O?" "+O:"")})}function VV(h,v){h.info(function(){return"TIMEOUT: "+v})}Wu.prototype.info=function(){};function UV(h,v){if(!h.g)return v;if(!v)return null;try{const L=JSON.parse(v);if(L){for(h=0;h<L.length;h++)if(Array.isArray(L[h])){var S=L[h];if(!(S.length<2)){var O=S[1];if(Array.isArray(O)&&!(O.length<1)){var M=O[0];if(M!="noop"&&M!="stop"&&M!="close")for(let H=1;H<O.length;H++)O[H]=""}}}}return nv(L)}catch{return v}}var Zd={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},yS={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},vS;function av(){}f(av,fS),av.prototype.g=function(){return new XMLHttpRequest},vS=new av;function Yu(h){return encodeURIComponent(String(h))}function zV(h){var v=1;h=h.split(":");const S=[];for(;v>0&&h.length;)S.push(h.shift()),v--;return h.length&&S.push(h.join(":")),S}function Sa(h,v,S,O){this.j=h,this.i=v,this.l=S,this.S=O||1,this.V=new qu(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new bS}function bS(){this.i=null,this.g="",this.h=!1}var xS={},sv={};function ov(h,v,S){h.M=1,h.A=eh(Kr(v)),h.u=S,h.R=!0,_S(h,null)}function _S(h,v){h.F=Date.now(),Jd(h),h.B=Kr(h.A);var S=h.B,O=h.S;Array.isArray(O)||(O=[String(O)]),kS(S.i,"t",O),h.C=0,S=h.j.L,h.h=new bS,h.g=ZS(h.j,S?v:null,!h.u),h.P>0&&(h.O=new jV(u(h.Y,h,h.g),h.P)),v=h.V,S=h.g,O=h.ba;var M="readystatechange";Array.isArray(M)||(M&&(uS[0]=M.toString()),M=uS);for(let L=0;L<M.length;L++){const H=$(S,M[L],O||v.handleEvent,!1,v.h||v);if(!H)break;v.g[H.key]=H}v=h.J?Ye(h.J):{},h.u?(h.v||(h.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,v)):(h.v="GET",h.g.ea(h.B,h.v,null,v)),Gu(),MV(h.i,h.v,h.B,h.l,h.S,h.u)}Sa.prototype.ba=function(h){h=h.target;const v=this.O;v&&Na(h)==3?v.j():this.Y(h)},Sa.prototype.Y=function(h){try{if(h==this.g)e:{const fe=Na(this.g),At=this.g.ya(),ke=this.g.ca();if(!(fe<3)&&(fe!=3||this.g&&(this.h.h||this.g.la()||BS(this.g)))){this.K||fe!=4||At==7||(At==8||ke<=0?Gu(3):Gu(2)),lv(this);var v=this.g.ca();this.X=v;var S=BV(this);if(this.o=v==200,LV(this.i,this.v,this.B,this.l,this.S,fe,v),this.o){if(this.U&&!this.L){t:{if(this.g){var O,M=this.g;if((O=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(O)){var L=O;break t}}L=null}if(h=L)Ko(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,uv(this,h);else{this.o=!1,this.m=3,_n(12),Us(this),Xu(this);break e}}if(this.R){h=!0;let Dt;for(;!this.K&&this.C<S.length;)if(Dt=$V(this,S),Dt==sv){fe==4&&(this.m=4,_n(14),h=!1),Ko(this.i,this.l,null,"[Incomplete Response]");break}else if(Dt==xS){this.m=4,_n(15),Ko(this.i,this.l,S,"[Invalid Chunk]"),h=!1;break}else Ko(this.i,this.l,Dt,null),uv(this,Dt);if(wS(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),fe!=4||S.length!=0||this.h.h||(this.m=1,_n(16),h=!1),this.o=this.o&&h,!h)Ko(this.i,this.l,S,"[Invalid Chunked Response]"),Us(this),Xu(this);else if(S.length>0&&!this.W){this.W=!0;var H=this.j;H.g==this&&H.aa&&!H.P&&(H.j.info("Great, no buffering proxy detected. Bytes received: "+S.length),yv(H),H.P=!0,_n(11))}}else Ko(this.i,this.l,S,null),uv(this,S);fe==4&&Us(this),this.o&&!this.K&&(fe==4?WS(this.j,this):(this.o=!1,Jd(this)))}else nU(this.g),v==400&&S.indexOf("Unknown SID")>0?(this.m=3,_n(12)):(this.m=0,_n(13)),Us(this),Xu(this)}}}catch{}finally{}};function BV(h){if(!wS(h))return h.g.la();const v=BS(h.g);if(v==="")return"";let S="";const O=v.length,M=Na(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Us(h),Xu(h),"";h.h.i=new s.TextDecoder}for(let L=0;L<O;L++)h.h.h=!0,S+=h.h.i.decode(v[L],{stream:!(M&&L==O-1)});return v.length=0,h.h.g+=S,h.C=0,h.h.g}function wS(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function $V(h,v){var S=h.C,O=v.indexOf(`
`,S);return O==-1?sv:(S=Number(v.substring(S,O)),isNaN(S)?xS:(O+=1,O+S>v.length?sv:(v=v.slice(O,O+S),h.C=O+S,v)))}Sa.prototype.cancel=function(){this.K=!0,Us(this)};function Jd(h){h.T=Date.now()+h.H,ES(h,h.H)}function ES(h,v){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Ku(u(h.aa,h),v)}function lv(h){h.D&&(s.clearTimeout(h.D),h.D=null)}Sa.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(VV(this.i,this.B),this.M!=2&&(Gu(),_n(17)),Us(this),this.m=2,Xu(this)):ES(this,this.T-h)};function Xu(h){h.j.I==0||h.K||WS(h.j,h)}function Us(h){lv(h);var v=h.O;v&&typeof v.dispose=="function"&&v.dispose(),h.O=null,cS(h.V),h.g&&(v=h.g,h.g=null,v.abort(),v.dispose())}function uv(h,v){try{var S=h.j;if(S.I!=0&&(S.g==h||cv(S.h,h))){if(!h.L&&cv(S.h,h)&&S.I==3){try{var O=S.Ba.g.parse(v)}catch{O=null}if(Array.isArray(O)&&O.length==3){var M=O;if(M[0]==0){e:if(!S.v){if(S.g)if(S.g.F+3e3<h.F)ah(S),rh(S);else break e;gv(S),_n(18)}}else S.xa=M[1],0<S.xa-S.K&&M[2]<37500&&S.F&&S.A==0&&!S.C&&(S.C=Ku(u(S.Va,S),6e3));TS(S.h)<=1&&S.ta&&(S.ta=void 0)}else Bs(S,11)}else if((h.L||S.g==h)&&ah(S),!D(v))for(M=S.Ba.g.parse(v),v=0;v<M.length;v++){let ke=M[v];const Dt=ke[0];if(!(Dt<=S.K))if(S.K=Dt,ke=ke[1],S.I==2)if(ke[0]=="c"){S.M=ke[1],S.ba=ke[2];const Wr=ke[3];Wr!=null&&(S.ka=Wr,S.j.info("VER="+S.ka));const $s=ke[4];$s!=null&&(S.za=$s,S.j.info("SVER="+S.za));const Ca=ke[5];Ca!=null&&typeof Ca=="number"&&Ca>0&&(O=1.5*Ca,S.O=O,S.j.info("backChannelRequestTimeoutMs_="+O)),O=S;const Oa=h.g;if(Oa){const oh=Oa.g?Oa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oh){var L=O.h;L.g||oh.indexOf("spdy")==-1&&oh.indexOf("quic")==-1&&oh.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(fv(L,L.h),L.h=null))}if(O.G){const vv=Oa.g?Oa.g.getResponseHeader("X-HTTP-Session-Id"):null;vv&&(O.wa=vv,Ue(O.J,O.G,vv))}}S.I=3,S.l&&S.l.ra(),S.aa&&(S.T=Date.now()-h.F,S.j.info("Handshake RTT: "+S.T+"ms")),O=S;var H=h;if(O.na=QS(O,O.L?O.ba:null,O.W),H.L){NS(O.h,H);var fe=H,At=O.O;At&&(fe.H=At),fe.D&&(lv(fe),Jd(fe)),O.g=H}else GS(O);S.i.length>0&&ih(S)}else ke[0]!="stop"&&ke[0]!="close"||Bs(S,7);else S.I==3&&(ke[0]=="stop"||ke[0]=="close"?ke[0]=="stop"?Bs(S,7):pv(S):ke[0]!="noop"&&S.l&&S.l.qa(ke),S.A=0)}}Gu(4)}catch{}}var FV=class{constructor(h,v){this.g=h,this.map=v}};function SS(h){this.l=h||10,s.PerformanceNavigationTiming?(h=s.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function AS(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function TS(h){return h.h?1:h.g?h.g.size:0}function cv(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function fv(h,v){h.g?h.g.add(v):h.h=v}function NS(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}SS.prototype.cancel=function(){if(this.i=CS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function CS(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const S of h.g.values())v=v.concat(S.G);return v}return p(h.i)}var OS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qV(h,v){if(h){h=h.split("&");for(let S=0;S<h.length;S++){const O=h[S].indexOf("=");let M,L=null;O>=0?(M=h[S].substring(0,O),L=h[S].substring(O+1)):M=h[S],v(M,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Aa(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;h instanceof Aa?(this.l=h.l,Qu(this,h.j),this.o=h.o,this.g=h.g,Zu(this,h.u),this.h=h.h,dv(this,DS(h.i)),this.m=h.m):h&&(v=String(h).match(OS))?(this.l=!1,Qu(this,v[1]||"",!0),this.o=Ju(v[2]||""),this.g=Ju(v[3]||"",!0),Zu(this,v[4]),this.h=Ju(v[5]||"",!0),dv(this,v[6]||"",!0),this.m=Ju(v[7]||"")):(this.l=!1,this.i=new tc(null,this.l))}Aa.prototype.toString=function(){const h=[];var v=this.j;v&&h.push(ec(v,IS,!0),":");var S=this.g;return(S||v=="file")&&(h.push("//"),(v=this.o)&&h.push(ec(v,IS,!0),"@"),h.push(Yu(S).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.u,S!=null&&h.push(":",String(S))),(S=this.h)&&(this.g&&S.charAt(0)!="/"&&h.push("/"),h.push(ec(S,S.charAt(0)=="/"?KV:GV,!0))),(S=this.i.toString())&&h.push("?",S),(S=this.m)&&h.push("#",ec(S,YV)),h.join("")},Aa.prototype.resolve=function(h){const v=Kr(this);let S=!!h.j;S?Qu(v,h.j):S=!!h.o,S?v.o=h.o:S=!!h.g,S?v.g=h.g:S=h.u!=null;var O=h.h;if(S)Zu(v,h.u);else if(S=!!h.h){if(O.charAt(0)!="/")if(this.g&&!this.h)O="/"+O;else{var M=v.h.lastIndexOf("/");M!=-1&&(O=v.h.slice(0,M+1)+O)}if(M=O,M==".."||M==".")O="";else if(M.indexOf("./")!=-1||M.indexOf("/.")!=-1){O=M.lastIndexOf("/",0)==0,M=M.split("/");const L=[];for(let H=0;H<M.length;){const fe=M[H++];fe=="."?O&&H==M.length&&L.push(""):fe==".."?((L.length>1||L.length==1&&L[0]!="")&&L.pop(),O&&H==M.length&&L.push("")):(L.push(fe),O=!0)}O=L.join("/")}else O=M}return S?v.h=O:S=h.i.toString()!=="",S?dv(v,DS(h.i)):S=!!h.m,S&&(v.m=h.m),v};function Kr(h){return new Aa(h)}function Qu(h,v,S){h.j=S?Ju(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Zu(h,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);h.u=v}else h.u=null}function dv(h,v,S){v instanceof tc?(h.i=v,XV(h.i,h.l)):(S||(v=ec(v,WV)),h.i=new tc(v,h.l))}function Ue(h,v,S){h.i.set(v,S)}function eh(h){return Ue(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Ju(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ec(h,v,S){return typeof h=="string"?(h=encodeURI(h).replace(v,HV),S&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function HV(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var IS=/[#\/\?@]/g,GV=/[#\?:]/g,KV=/[#\?]/g,WV=/[#\?@]/g,YV=/#/g;function tc(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function zs(h){h.g||(h.g=new Map,h.h=0,h.i&&qV(h.i,function(v,S){h.add(decodeURIComponent(v.replace(/\+/g," ")),S)}))}t=tc.prototype,t.add=function(h,v){zs(this),this.i=null,h=Wo(this,h);let S=this.g.get(h);return S||this.g.set(h,S=[]),S.push(v),this.h+=1,this};function RS(h,v){zs(h),v=Wo(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function PS(h,v){return zs(h),v=Wo(h,v),h.g.has(v)}t.forEach=function(h,v){zs(this),this.g.forEach(function(S,O){S.forEach(function(M){h.call(v,M,O,this)},this)},this)};function jS(h,v){zs(h);let S=[];if(typeof v=="string")PS(h,v)&&(S=S.concat(h.g.get(Wo(h,v))));else for(h=Array.from(h.g.values()),v=0;v<h.length;v++)S=S.concat(h[v]);return S}t.set=function(h,v){return zs(this),this.i=null,h=Wo(this,h),PS(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},t.get=function(h,v){return h?(h=jS(this,h),h.length>0?String(h[0]):v):v};function kS(h,v,S){RS(h,v),S.length>0&&(h.i=null,h.g.set(Wo(h,v),p(S)),h.h+=S.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(let O=0;O<v.length;O++){var S=v[O];const M=Yu(S);S=jS(this,S);for(let L=0;L<S.length;L++){let H=M;S[L]!==""&&(H+="="+Yu(S[L])),h.push(H)}}return this.i=h.join("&")};function DS(h){const v=new tc;return v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),v}function Wo(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function XV(h,v){v&&!h.j&&(zs(h),h.i=null,h.g.forEach(function(S,O){const M=O.toLowerCase();O!=M&&(RS(this,O),kS(this,M,S))},h)),h.j=v}function QV(h,v){const S=new Wu;if(s.Image){const O=new Image;O.onload=c(Ta,S,"TestLoadImage: loaded",!0,v,O),O.onerror=c(Ta,S,"TestLoadImage: error",!1,v,O),O.onabort=c(Ta,S,"TestLoadImage: abort",!1,v,O),O.ontimeout=c(Ta,S,"TestLoadImage: timeout",!1,v,O),s.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=h}else v(!1)}function ZV(h,v){const S=new Wu,O=new AbortController,M=setTimeout(()=>{O.abort(),Ta(S,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:O.signal}).then(L=>{clearTimeout(M),L.ok?Ta(S,"TestPingServer: ok",!0,v):Ta(S,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(M),Ta(S,"TestPingServer: error",!1,v)})}function Ta(h,v,S,O,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),O(S)}catch{}}function JV(){this.g=new DV}function hv(h){this.i=h.Sb||null,this.h=h.ab||!1}f(hv,fS),hv.prototype.g=function(){return new th(this.i,this.h)};function th(h,v){fn.call(this),this.H=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(th,fn),t=th.prototype,t.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=v,this.readyState=1,rc(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(v.body=h),(this.H||s).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,nc(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,rc(this)),this.g&&(this.readyState=3,rc(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;MS(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function MS(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?nc(this):rc(this),this.readyState==3&&MS(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,nc(this))},t.Na=function(h){this.g&&(this.response=h,nc(this))},t.ga=function(){this.g&&nc(this)};function nc(h){h.readyState=4,h.l=null,h.j=null,h.B=null,rc(h)}t.setRequestHeader=function(h,v){this.A.append(h,v)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var S=v.next();!S.done;)S=S.value,h.push(S[0]+": "+S[1]),S=v.next();return h.join(`\r
`)};function rc(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(th.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function LS(h){let v="";return te(h,function(S,O){v+=O,v+=":",v+=S,v+=`\r
`}),v}function mv(h,v,S){e:{for(O in S){var O=!1;break e}O=!0}O||(S=LS(S),typeof h=="string"?S!=null&&Yu(S):Ue(h,v,S))}function it(h){fn.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(it,fn);var eU=/^https?$/i,tU=["POST","PUT"];t=it.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,v,S,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():vS.g(),this.g.onreadystatechange=m(u(this.Ca,this));try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(L){VS(this,L);return}if(h=S||"",S=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var M in O)S.set(M,O[M]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const L of O.keys())S.set(L,O.get(L));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(S.keys()).find(L=>L.toLowerCase()=="content-type"),M=s.FormData&&h instanceof s.FormData,!(Array.prototype.indexOf.call(tU,v,void 0)>=0)||O||M||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,H]of S)this.g.setRequestHeader(L,H);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(L){VS(this,L)}};function VS(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.o=5,US(h),nh(h)}function US(h){h.A||(h.A=!0,xn(h,"complete"),xn(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,xn(this,"complete"),xn(this,"abort"),nh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),nh(this,!0)),it.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?zS(this):this.Xa())},t.Xa=function(){zS(this)};function zS(h){if(h.h&&typeof a<"u"){if(h.v&&Na(h)==4)setTimeout(h.Ca.bind(h),0);else if(xn(h,"readystatechange"),Na(h)==4){h.h=!1;try{const L=h.ca();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var S;if(!(S=v)){var O;if(O=L===0){let H=String(h.D).match(OS)[1]||null;!H&&s.self&&s.self.location&&(H=s.self.location.protocol.slice(0,-1)),O=!eU.test(H?H.toLowerCase():"")}S=O}if(S)xn(h,"complete"),xn(h,"success");else{h.o=6;try{var M=Na(h)>2?h.g.statusText:""}catch{M=""}h.l=M+" ["+h.ca()+"]",US(h)}}finally{nh(h)}}}}function nh(h,v){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const S=h.g;h.g=null,v||xn(h,"ready");try{S.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Na(h){return h.g?h.g.readyState:0}t.ca=function(){try{return Na(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),kV(v)}};function BS(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function nU(h){const v={};h=(h.g&&Na(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<h.length;O++){if(D(h[O]))continue;var S=zV(h[O]);const M=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const L=v[M]||[];v[M]=L,L.push(S)}le(v,function(O){return O.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ic(h,v,S){return S&&S.internalChannelParams&&S.internalChannelParams[h]||v}function $S(h){this.za=0,this.i=[],this.j=new Wu,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ic("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ic("baseRetryDelayMs",5e3,h),this.Za=ic("retryDelaySeedMs",1e4,h),this.Ta=ic("forwardChannelMaxRetries",2,h),this.va=ic("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new SS(h&&h.concurrentRequestLimit),this.Ba=new JV,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=$S.prototype,t.ka=8,t.I=1,t.connect=function(h,v,S,O){_n(0),this.W=h,this.H=v||{},S&&O!==void 0&&(this.H.OSID=S,this.H.OAID=O),this.F=this.X,this.J=QS(this,null,this.W),ih(this)};function pv(h){if(FS(h),h.I==3){var v=h.V++,S=Kr(h.J);if(Ue(S,"SID",h.M),Ue(S,"RID",v),Ue(S,"TYPE","terminate"),ac(h,S),v=new Sa(h,h.j,v),v.M=2,v.A=eh(Kr(S)),S=!1,s.navigator&&s.navigator.sendBeacon)try{S=s.navigator.sendBeacon(v.A.toString(),"")}catch{}!S&&s.Image&&(new Image().src=v.A,S=!0),S||(v.g=ZS(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Jd(v)}XS(h)}function rh(h){h.g&&(yv(h),h.g.cancel(),h.g=null)}function FS(h){rh(h),h.v&&(s.clearTimeout(h.v),h.v=null),ah(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&s.clearTimeout(h.m),h.m=null)}function ih(h){if(!AS(h.h)&&!h.m){h.m=!0;var v=h.Ea;P||A(),k||(P(),k=!0),T.add(v,h),h.D=0}}function rU(h,v){return TS(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=v.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Ku(u(h.Ea,h,v),YS(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const M=new Sa(this,this.j,h);let L=this.o;if(this.U&&(L?(L=Ye(L),Pt(L,this.U)):L=this.U),this.u!==null||this.R||(M.J=L,L=null),this.S)e:{for(var v=0,S=0;S<this.i.length;S++){t:{var O=this.i[S];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(v+=O,v>4096){v=S;break e}if(v===4096||S===this.i.length-1){v=S+1;break e}}v=1e3}else v=1e3;v=HS(this,M,v),S=Kr(this.J),Ue(S,"RID",h),Ue(S,"CVER",22),this.G&&Ue(S,"X-HTTP-Session-Id",this.G),ac(this,S),L&&(this.R?v="headers="+Yu(LS(L))+"&"+v:this.u&&mv(S,this.u,L)),fv(this.h,M),this.Ra&&Ue(S,"TYPE","init"),this.S?(Ue(S,"$req",v),Ue(S,"SID","null"),M.U=!0,ov(M,S,null)):ov(M,S,v),this.I=2}}else this.I==3&&(h?qS(this,h):this.i.length==0||AS(this.h)||qS(this))};function qS(h,v){var S;v?S=v.l:S=h.V++;const O=Kr(h.J);Ue(O,"SID",h.M),Ue(O,"RID",S),Ue(O,"AID",h.K),ac(h,O),h.u&&h.o&&mv(O,h.u,h.o),S=new Sa(h,h.j,S,h.D+1),h.u===null&&(S.J=h.o),v&&(h.i=v.G.concat(h.i)),v=HS(h,S,1e3),S.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),fv(h.h,S),ov(S,O,v)}function ac(h,v){h.H&&te(h.H,function(S,O){Ue(v,O,S)}),h.l&&te({},function(S,O){Ue(v,O,S)})}function HS(h,v,S){S=Math.min(h.i.length,S);const O=h.l?u(h.l.Ka,h.l,h):null;e:{var M=h.i;let fe=-1;for(;;){const At=["count="+S];fe==-1?S>0?(fe=M[0].g,At.push("ofs="+fe)):fe=0:At.push("ofs="+fe);let ke=!0;for(let Dt=0;Dt<S;Dt++){var L=M[Dt].g;const Wr=M[Dt].map;if(L-=fe,L<0)fe=Math.max(0,M[Dt].g-100),ke=!1;else try{L="req"+L+"_"||"";try{var H=Wr instanceof Map?Wr:Object.entries(Wr);for(const[$s,Ca]of H){let Oa=Ca;o(Ca)&&(Oa=nv(Ca)),At.push(L+$s+"="+encodeURIComponent(Oa))}}catch($s){throw At.push(L+"type="+encodeURIComponent("_badmap")),$s}}catch{O&&O(Wr)}}if(ke){H=At.join("&");break e}}H=void 0}return h=h.i.splice(0,S),v.G=h,H}function GS(h){if(!h.g&&!h.v){h.Y=1;var v=h.Da;P||A(),k||(P(),k=!0),T.add(v,h),h.A=0}}function gv(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Ku(u(h.Da,h),YS(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,KS(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Ku(u(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_n(10),rh(this),KS(this))};function yv(h){h.B!=null&&(s.clearTimeout(h.B),h.B=null)}function KS(h){h.g=new Sa(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var v=Kr(h.na);Ue(v,"RID","rpc"),Ue(v,"SID",h.M),Ue(v,"AID",h.K),Ue(v,"CI",h.F?"0":"1"),!h.F&&h.ia&&Ue(v,"TO",h.ia),Ue(v,"TYPE","xmlhttp"),ac(h,v),h.u&&h.o&&mv(v,h.u,h.o),h.O&&(h.g.H=h.O);var S=h.g;h=h.ba,S.M=1,S.A=eh(Kr(v)),S.u=null,S.R=!0,_S(S,h)}t.Va=function(){this.C!=null&&(this.C=null,rh(this),gv(this),_n(19))};function ah(h){h.C!=null&&(s.clearTimeout(h.C),h.C=null)}function WS(h,v){var S=null;if(h.g==v){ah(h),yv(h),h.g=null;var O=2}else if(cv(h.h,v))S=v.G,NS(h.h,v),O=1;else return;if(h.I!=0){if(v.o)if(O==1){S=v.u?v.u.length:0,v=Date.now()-v.F;var M=h.D;O=Qd(),xn(O,new gS(O,S)),ih(h)}else GS(h);else if(M=v.m,M==3||M==0&&v.X>0||!(O==1&&rU(h,v)||O==2&&gv(h)))switch(S&&S.length>0&&(v=h.h,v.i=v.i.concat(S)),M){case 1:Bs(h,5);break;case 4:Bs(h,10);break;case 3:Bs(h,6);break;default:Bs(h,2)}}}function YS(h,v){let S=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(S*=2),S*v}function Bs(h,v){if(h.j.info("Error code "+v),v==2){var S=u(h.bb,h),O=h.Ua;const M=!O;O=new Aa(O||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Qu(O,"https"),eh(O),M?QV(O.toString(),S):ZV(O.toString(),S)}else _n(2);h.I=0,h.l&&h.l.pa(v),XS(h),FS(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),_n(2)):(this.j.info("Failed to ping google.com"),_n(1))};function XS(h){if(h.I=0,h.ja=[],h.l){const v=CS(h.h);(v.length!=0||h.i.length!=0)&&(g(h.ja,v),g(h.ja,h.i),h.h.i.length=0,p(h.i),h.i.length=0),h.l.oa()}}function QS(h,v,S){var O=S instanceof Aa?Kr(S):new Aa(S);if(O.g!="")v&&(O.g=v+"."+O.g),Zu(O,O.u);else{var M=s.location;O=M.protocol,v=v?v+"."+M.hostname:M.hostname,M=+M.port;const L=new Aa(null);O&&Qu(L,O),v&&(L.g=v),M&&Zu(L,M),S&&(L.h=S),O=L}return S=h.G,v=h.wa,S&&v&&Ue(O,S,v),Ue(O,"VER",h.ka),ac(h,O),O}function ZS(h,v,S){if(v&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Aa&&!h.ma?new it(new hv({ab:S})):new it(h.ma),v.Fa(h.L),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function JS(){}t=JS.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function sh(){}sh.prototype.g=function(h,v){return new Gn(h,v)};function Gn(h,v){fn.call(this),this.g=new $S(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(h?h["X-WebChannel-Client-Profile"]=v.sa:h={"X-WebChannel-Client-Profile":v.sa}),this.g.U=h,(h=v&&v.Qb)&&!D(h)&&(this.g.u=h),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!D(v)&&(this.g.G=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Yo(this)}f(Gn,fn),Gn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Gn.prototype.close=function(){pv(this.g)},Gn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var S={};S.__data__=h,h=S}else this.v&&(S={},S.__data__=nv(h),h=S);v.i.push(new FV(v.Ya++,h)),v.I==3&&ih(v)},Gn.prototype.N=function(){this.g.l=null,delete this.j,pv(this.g),delete this.g,Gn.Z.N.call(this)};function eA(h){rv.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const S in v){h=S;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}f(eA,rv);function tA(){iv.call(this),this.status=1}f(tA,iv);function Yo(h){this.g=h}f(Yo,JS),Yo.prototype.ra=function(){xn(this.g,"a")},Yo.prototype.qa=function(h){xn(this.g,new eA(h))},Yo.prototype.pa=function(h){xn(this.g,new tA)},Yo.prototype.oa=function(){xn(this.g,"b")},sh.prototype.createWebChannel=sh.prototype.g,Gn.prototype.send=Gn.prototype.o,Gn.prototype.open=Gn.prototype.m,Gn.prototype.close=Gn.prototype.close,nD=function(){return new sh},tD=function(){return Qd()},eD=Vs,Jb={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Zd.NO_ERROR=0,Zd.TIMEOUT=8,Zd.HTTP_ERROR=6,gm=Zd,yS.COMPLETE="complete",Jk=yS,dS.EventType=Hu,Hu.OPEN="a",Hu.CLOSE="b",Hu.ERROR="c",Hu.MESSAGE="d",fn.prototype.listen=fn.prototype.J,Rc=dS,it.prototype.listenOnce=it.prototype.K,it.prototype.getLastError=it.prototype.Ha,it.prototype.getLastErrorCode=it.prototype.ya,it.prototype.getStatus=it.prototype.ca,it.prototype.getResponseJson=it.prototype.La,it.prototype.getResponseText=it.prototype.la,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Fa,Zk=it}).apply(typeof Th<"u"?Th:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tu="12.8.0";function Pq(t){Tu=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao=new xw("@firebase/firestore");function sl(){return Ao.logLevel}function W(t,...e){if(Ao.logLevel<=pe.DEBUG){const n=e.map(Rw);Ao.debug(`Firestore (${Tu}): ${t}`,...n)}}function aa(t,...e){if(Ao.logLevel<=pe.ERROR){const n=e.map(Rw);Ao.error(`Firestore (${Tu}): ${t}`,...n)}}function eu(t,...e){if(Ao.logLevel<=pe.WARN){const n=e.map(Rw);Ao.warn(`Firestore (${Tu}): ${t}`,...n)}}function Rw(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function re(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,rD(t,r,n)}function rD(t,e,n){let r=`FIRESTORE (${Tu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw aa(r),new Error(r)}function Te(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||rD(e,i,r)}function se(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class G extends Si{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class jq{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(mn.UNAUTHENTICATED))}shutdown(){}}class kq{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Dq{constructor(e){this.t=e,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Te(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let a=new Ki;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ki,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=a;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{W("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(W("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ki)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(W("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Te(typeof r.accessToken=="string",31837,{l:r}),new iD(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Te(e===null||typeof e=="string",2055,{h:e}),new mn(e)}}class Mq{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class Lq{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Mq(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(mn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Vq{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,br(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Te(this.o===void 0,3512);const r=a=>{a.error!=null&&W("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,W("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{W("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):W("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new mN(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Te(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new mN(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uq(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Uq(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function ge(t,e){return t<e?-1:t>e?1:0}function ex(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return h0(i)===h0(a)?ge(i,a):h0(i)?1:-1}return ge(t.length,e.length)}const zq=55296,Bq=57343;function h0(t){const e=t.charCodeAt(0);return e>=zq&&e<=Bq}function tu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN="__name__";class Zr{constructor(e,n,r){n===void 0?n=0:n>e.length&&re(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&re(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Zr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Zr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Zr.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return ge(e.length,n.length)}static compareSegments(e,n){const r=Zr.isNumericId(e),i=Zr.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Zr.extractNumericId(e).compare(Zr.extractNumericId(n)):ex(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fs.fromString(e.substring(4,e.length-2))}}class Le extends Zr{construct(e,n,r){return new Le(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new G(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Le(n)}static emptyPath(){return new Le([])}}const $q=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends Zr{construct(e,n,r){return new nn(e,n,r)}static isValidIdentifier(e){return $q.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===pN}static keyField(){return new nn([pN])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new G(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new G(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new G(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else o==="`"?(s=!s,i++):o!=="."||s?(r+=o,i++):(a(),i++)}if(a(),s)throw new G(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nn(n)}static emptyPath(){return new nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.path=e}static fromPath(e){return new J(Le.fromString(e))}static fromName(e){return new J(Le.fromString(e).popFirst(5))}static empty(){return new J(Le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Le.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Le.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new J(new Le(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aD(t,e,n){if(!n)throw new G(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Fq(t,e,n,r){if(e===!0&&r===!0)throw new G(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function gN(t){if(!J.isDocumentKey(t))throw new G(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function yN(t){if(J.isDocumentKey(t))throw new G(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function sD(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function qg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":re(12329,{type:typeof t})}function ar(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new G(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qg(t);throw new G(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(t,e){const n={typeString:t};return e&&(n.value=e),n}function _d(t,e){if(!sD(t))throw new G(U.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&s!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new G(U.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN=-62135596800,bN=1e6;class Fe{static now(){return Fe.fromMillis(Date.now())}static fromDate(e){return Fe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*bN);return new Fe(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new G(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<vN)throw new G(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/bN}_compareTo(e){return this.seconds===e.seconds?ge(this.nanoseconds,e.nanoseconds):ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Fe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(_d(e,Fe._jsonSchema))return new Fe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-vN;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Fe._jsonSchemaVersion="firestore/timestamp/1.0",Fe._jsonSchema={type:Et("string",Fe._jsonSchemaVersion),seconds:Et("number"),nanoseconds:Et("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{static fromTimestamp(e){return new ae(e)}static min(){return new ae(new Fe(0,0))}static max(){return new ae(new Fe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af=-1;function qq(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ae.fromTimestamp(r===1e9?new Fe(n+1,0):new Fe(n,r));return new xs(i,J.empty(),e)}function Hq(t){return new xs(t.readTime,t.key,Af)}class xs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new xs(ae.min(),J.empty(),Af)}static max(){return new xs(ae.max(),J.empty(),Af)}}function Gq(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=J.comparator(t.documentKey,e.documentKey),n!==0?n:ge(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Wq{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nu(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==Kq)throw t;W("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let i=0,a=0,s=!1;e.forEach(o=>{++i,o.next(()=>{++a,s&&a===i&&n()},l=>r(l))}),s=!0,a===i&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(i=>i?B.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new B((r,i)=>{const a=e.length,s=new Array(a);let o=0;for(let l=0;l<a;l++){const u=l;n(e[u]).next(c=>{s[u]=c,++o,o===a&&r(s)},c=>i(c))}})}static doWhile(e,n){return new B((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function Yq(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Cu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Hg.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw=-1;function Gg(t){return t==null}function mp(t){return t===0&&1/t==-1/0}function Xq(t){return typeof t=="number"&&Number.isInteger(t)&&!mp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD="";function Qq(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=xN(e)),e=Zq(t.get(n),e);return xN(e)}function Zq(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case oD:n+="";break;default:n+=a}}return n}function xN(t){return t+oD+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _N(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function js(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function lD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,n){this.comparator=e,this.root=n||Zt.EMPTY}insert(e,n){return new nt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nh(this.root,e,this.comparator,!0)}}class Nh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??Zt.RED,this.left=i??Zt.EMPTY,this.right=a??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Zt(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Zt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw re(27949);return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw re(57766)}get value(){throw re(16141)}get color(){throw re(16727)}get left(){throw re(29726)}get right(){throw re(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new Zt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.comparator=e,this.data=new nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new wN(this.data.getIterator())}getIteratorFrom(e){return new wN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ct)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ct(this.comparator);return n.data=e,n}}class wN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.fields=e,e.sort(nn.comparator)}static empty(){return new Zn([])}unionWith(e){let n=new Ct(nn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Zn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return tu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new uD("Invalid base64 string: "+a):a}}(e);return new ln(n)}static fromUint8Array(e){const n=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(e);return new ln(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ln.EMPTY_BYTE_STRING=new ln("");const Jq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _s(t){if(Te(!!t,39018),typeof t=="string"){let e=0;const n=Jq.exec(t);if(Te(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ht(t.seconds),nanos:ht(t.nanos)}}function ht(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ws(t){return typeof t=="string"?ln.fromBase64String(t):ln.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD="server_timestamp",fD="__type__",dD="__previous_value__",hD="__local_write_time__";function kw(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[fD])==null?void 0:r.stringValue)===cD}function Kg(t){const e=t.mapValue.fields[dD];return kw(e)?Kg(e):e}function Tf(t){const e=_s(t.mapValue.fields[hD].timestampValue);return new Fe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eH{constructor(e,n,r,i,a,s,o,l,u,c,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=c,this.apiKey=f}}const pp="(default)";class Nf{constructor(e,n){this.projectId=e,this.database=n||pp}static empty(){return new Nf("","")}get isDefaultDatabase(){return this.database===pp}isEqual(e){return e instanceof Nf&&e.projectId===this.projectId&&e.database===this.database}}function tH(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new G(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nf(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD="__type__",nH="__max__",Ch={mapValue:{}},pD="__vector__",gp="value";function Es(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?kw(t)?4:iH(t)?9007199254740991:rH(t)?10:11:re(28295,{value:t})}function mi(t,e){if(t===e)return!0;const n=Es(t);if(n!==Es(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Tf(t).isEqual(Tf(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=_s(i.timestampValue),o=_s(a.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return ws(i.bytesValue).isEqual(ws(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return ht(i.geoPointValue.latitude)===ht(a.geoPointValue.latitude)&&ht(i.geoPointValue.longitude)===ht(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return ht(i.integerValue)===ht(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=ht(i.doubleValue),o=ht(a.doubleValue);return s===o?mp(s)===mp(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return tu(t.arrayValue.values||[],e.arrayValue.values||[],mi);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},o=a.mapValue.fields||{};if(_N(s)!==_N(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!mi(s[l],o[l])))return!1;return!0}(t,e);default:return re(52216,{left:t})}}function Cf(t,e){return(t.values||[]).find(n=>mi(n,e))!==void 0}function nu(t,e){if(t===e)return 0;const n=Es(t),r=Es(e);if(n!==r)return ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ge(t.booleanValue,e.booleanValue);case 2:return function(a,s){const o=ht(a.integerValue||a.doubleValue),l=ht(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return EN(t.timestampValue,e.timestampValue);case 4:return EN(Tf(t),Tf(e));case 5:return ex(t.stringValue,e.stringValue);case 6:return function(a,s){const o=ws(a),l=ws(s);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(a,s){const o=a.split("/"),l=s.split("/");for(let u=0;u<o.length&&u<l.length;u++){const c=ge(o[u],l[u]);if(c!==0)return c}return ge(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,s){const o=ge(ht(a.latitude),ht(s.latitude));return o!==0?o:ge(ht(a.longitude),ht(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return SN(t.arrayValue,e.arrayValue);case 10:return function(a,s){var m,p,g,_;const o=a.fields||{},l=s.fields||{},u=(m=o[gp])==null?void 0:m.arrayValue,c=(p=l[gp])==null?void 0:p.arrayValue,f=ge(((g=u==null?void 0:u.values)==null?void 0:g.length)||0,((_=c==null?void 0:c.values)==null?void 0:_.length)||0);return f!==0?f:SN(u,c)}(t.mapValue,e.mapValue);case 11:return function(a,s){if(a===Ch.mapValue&&s===Ch.mapValue)return 0;if(a===Ch.mapValue)return 1;if(s===Ch.mapValue)return-1;const o=a.fields||{},l=Object.keys(o),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const m=ex(l[f],c[f]);if(m!==0)return m;const p=nu(o[l[f]],u[c[f]]);if(p!==0)return p}return ge(l.length,c.length)}(t.mapValue,e.mapValue);default:throw re(23264,{he:n})}}function EN(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ge(t,e);const n=_s(t),r=_s(e),i=ge(n.seconds,r.seconds);return i!==0?i:ge(n.nanos,r.nanos)}function SN(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=nu(n[i],r[i]);if(a)return a}return ge(n.length,r.length)}function ru(t){return tx(t)}function tx(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=_s(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ws(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return J.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=tx(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const s of r)a?a=!1:i+=",",i+=`${s}:${tx(n.fields[s])}`;return i+"}"}(t.mapValue):re(61005,{value:t})}function ym(t){switch(Es(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Kg(t);return e?16+ym(e):16;case 5:return 2*t.stringValue.length;case 6:return ws(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+ym(a),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return js(r.fields,(a,s)=>{i+=a.length+ym(s)}),i}(t.mapValue);default:throw re(13486,{value:t})}}function AN(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function nx(t){return!!t&&"integerValue"in t}function Dw(t){return!!t&&"arrayValue"in t}function TN(t){return!!t&&"nullValue"in t}function NN(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function vm(t){return!!t&&"mapValue"in t}function rH(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[mD])==null?void 0:r.stringValue)===pD}function ef(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return js(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ef(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ef(t.arrayValue.values[n]);return e}return{...t}}function iH(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===nH}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.value=e}static empty(){return new Ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!vm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ef(n)}setAll(e){let n=nn.emptyPath(),r={},i=[];e.forEach((s,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=o.popLast()}s?r[o.lastSegment()]=ef(s):i.push(o.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());vm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return mi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];vm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){js(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Ln(ef(this.value))}}function gD(t){const e=[];return js(t.fields,(n,r)=>{const i=new nn([n]);if(vm(r)){const a=gD(r.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)}),new Zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e,n,r,i,a,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=s,this.documentState=o}static newInvalidDocument(e){return new pn(e,0,ae.min(),ae.min(),ae.min(),Ln.empty(),0)}static newFoundDocument(e,n,r,i){return new pn(e,1,n,ae.min(),r,i,0)}static newNoDocument(e,n){return new pn(e,2,n,ae.min(),ae.min(),Ln.empty(),0)}static newUnknownDocument(e,n){return new pn(e,3,n,ae.min(),ae.min(),Ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e,n){this.position=e,this.inclusive=n}}function CN(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?r=J.comparator(J.fromName(s.referenceValue),n.key):r=nu(s,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function ON(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!mi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(e,n="asc"){this.field=e,this.dir=n}}function aH(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{}class _t extends yD{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new oH(e,n,r):n==="array-contains"?new cH(e,r):n==="in"?new fH(e,r):n==="not-in"?new dH(e,r):n==="array-contains-any"?new hH(e,r):new _t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new lH(e,r):new uH(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(nu(n,this.value)):n!==null&&Es(this.value)===Es(n)&&this.matchesComparison(nu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fr extends yD{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Fr(e,n)}matches(e){return vD(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function vD(t){return t.op==="and"}function bD(t){return sH(t)&&vD(t)}function sH(t){for(const e of t.filters)if(e instanceof Fr)return!1;return!0}function rx(t){if(t instanceof _t)return t.field.canonicalString()+t.op.toString()+ru(t.value);if(bD(t))return t.filters.map(e=>rx(e)).join(",");{const e=t.filters.map(n=>rx(n)).join(",");return`${t.op}(${e})`}}function xD(t,e){return t instanceof _t?function(r,i){return i instanceof _t&&r.op===i.op&&r.field.isEqual(i.field)&&mi(r.value,i.value)}(t,e):t instanceof Fr?function(r,i){return i instanceof Fr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,s,o)=>a&&xD(s,i.filters[o]),!0):!1}(t,e):void re(19439)}function _D(t){return t instanceof _t?function(n){return`${n.field.canonicalString()} ${n.op} ${ru(n.value)}`}(t):t instanceof Fr?function(n){return n.op.toString()+" {"+n.getFilters().map(_D).join(" ,")+"}"}(t):"Filter"}class oH extends _t{constructor(e,n,r){super(e,n,r),this.key=J.fromName(r.referenceValue)}matches(e){const n=J.comparator(e.key,this.key);return this.matchesComparison(n)}}class lH extends _t{constructor(e,n){super(e,"in",n),this.keys=wD("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class uH extends _t{constructor(e,n){super(e,"not-in",n),this.keys=wD("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function wD(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>J.fromName(r.referenceValue))}class cH extends _t{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Dw(n)&&Cf(n.arrayValue,this.value)}}class fH extends _t{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Cf(this.value.arrayValue,n)}}class dH extends _t{constructor(e,n){super(e,"not-in",n)}matches(e){if(Cf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Cf(this.value.arrayValue,n)}}class hH extends _t{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Dw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Cf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mH{constructor(e,n=null,r=[],i=[],a=null,s=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=s,this.endAt=o,this.Te=null}}function IN(t,e=null,n=[],r=[],i=null,a=null,s=null){return new mH(t,e,n,r,i,a,s)}function Mw(t){const e=se(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>rx(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Gg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ru(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ru(r)).join(",")),e.Te=n}return e.Te}function Lw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!aH(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!xD(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ON(t.startAt,e.startAt)&&ON(t.endAt,e.endAt)}function ix(t){return J.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,n=null,r=[],i=[],a=null,s="F",o=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=s,this.startAt=o,this.endAt=l,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function pH(t,e,n,r,i,a,s,o){return new Ou(t,e,n,r,i,a,s,o)}function Wg(t){return new Ou(t)}function RN(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function gH(t){return J.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function ED(t){return t.collectionGroup!==null}function tf(t){const e=se(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new Ct(nn.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(o=o.add(u.field))})}),o})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Of(a,r))}),n.has(nn.keyField().canonicalString())||e.Ie.push(new Of(nn.keyField(),r))}return e.Ie}function ci(t){const e=se(t);return e.Ee||(e.Ee=yH(e,tf(t))),e.Ee}function yH(t,e){if(t.limitType==="F")return IN(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Of(i.field,a)});const n=t.endAt?new yp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new yp(t.startAt.position,t.startAt.inclusive):null;return IN(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ax(t,e){const n=t.filters.concat([e]);return new Ou(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function vH(t,e){const n=t.explicitOrderBy.concat([e]);return new Ou(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function vp(t,e,n){return new Ou(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Yg(t,e){return Lw(ci(t),ci(e))&&t.limitType===e.limitType}function SD(t){return`${Mw(ci(t))}|lt:${t.limitType}`}function ol(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>_D(i)).join(", ")}]`),Gg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ru(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ru(i)).join(",")),`Target(${r})`}(ci(t))}; limitType=${t.limitType})`}function Xg(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):J.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of tf(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,o,l){const u=CN(s,o,l);return s.inclusive?u<=0:u<0}(r.startAt,tf(r),i)||r.endAt&&!function(s,o,l){const u=CN(s,o,l);return s.inclusive?u>=0:u>0}(r.endAt,tf(r),i))}(t,e)}function bH(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function AD(t){return(e,n)=>{let r=!1;for(const i of tf(t)){const a=xH(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function xH(t,e,n){const r=t.field.isKeyField()?J.comparator(e.key,n.key):function(a,s,o){const l=s.data.field(a),u=o.data.field(a);return l!==null&&u!==null?nu(l,u):re(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return re(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){js(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return lD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _H=new nt(J.comparator);function sa(){return _H}const TD=new nt(J.comparator);function Pc(...t){let e=TD;for(const n of t)e=e.insert(n.key,n);return e}function ND(t){let e=TD;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Js(){return nf()}function CD(){return nf()}function nf(){return new Fo(t=>t.toString(),(t,e)=>t.isEqual(e))}const wH=new nt(J.comparator),EH=new Ct(J.comparator);function ye(...t){let e=EH;for(const n of t)e=e.add(n);return e}const SH=new Ct(ge);function AH(){return SH}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mp(e)?"-0":e}}function OD(t){return{integerValue:""+t}}function ID(t,e){return Xq(e)?OD(e):Vw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(){this._=void 0}}function TH(t,e,n){return t instanceof If?function(i,a){const s={fields:{[fD]:{stringValue:cD},[hD]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&kw(a)&&(a=Kg(a)),a&&(s.fields[dD]=a),{mapValue:s}}(n,e):t instanceof Rf?PD(t,e):t instanceof Pf?jD(t,e):function(i,a){const s=RD(i,a),o=PN(s)+PN(i.Ae);return nx(s)&&nx(i.Ae)?OD(o):Vw(i.serializer,o)}(t,e)}function NH(t,e,n){return t instanceof Rf?PD(t,e):t instanceof Pf?jD(t,e):n}function RD(t,e){return t instanceof jf?function(r){return nx(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class If extends Qg{}class Rf extends Qg{constructor(e){super(),this.elements=e}}function PD(t,e){const n=kD(e);for(const r of t.elements)n.some(i=>mi(i,r))||n.push(r);return{arrayValue:{values:n}}}class Pf extends Qg{constructor(e){super(),this.elements=e}}function jD(t,e){let n=kD(e);for(const r of t.elements)n=n.filter(i=>!mi(i,r));return{arrayValue:{values:n}}}class jf extends Qg{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function PN(t){return ht(t.integerValue||t.doubleValue)}function kD(t){return Dw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e,n){this.field=e,this.transform=n}}function CH(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Rf&&i instanceof Rf||r instanceof Pf&&i instanceof Pf?tu(r.elements,i.elements,mi):r instanceof jf&&i instanceof jf?mi(r.Ae,i.Ae):r instanceof If&&i instanceof If}(t.transform,e.transform)}class OH{constructor(e,n){this.version=e,this.transformResults=n}}class Bn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Bn}static exists(e){return new Bn(void 0,e)}static updateTime(e){return new Bn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Zg{}function MD(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Jg(t.key,Bn.none()):new wd(t.key,t.data,Bn.none());{const n=t.data,r=Ln.empty();let i=new Ct(nn.comparator);for(let a of e.fields)if(!i.has(a)){let s=n.field(a);s===null&&a.length>1&&(a=a.popLast(),s=n.field(a)),s===null?r.delete(a):r.set(a,s),i=i.add(a)}return new ks(t.key,r,new Zn(i.toArray()),Bn.none())}}function IH(t,e,n){t instanceof wd?function(i,a,s){const o=i.value.clone(),l=kN(i.fieldTransforms,a,s.transformResults);o.setAll(l),a.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof ks?function(i,a,s){if(!bm(i.precondition,a))return void a.convertToUnknownDocument(s.version);const o=kN(i.fieldTransforms,a,s.transformResults),l=a.data;l.setAll(LD(i)),l.setAll(o),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function rf(t,e,n,r){return t instanceof wd?function(a,s,o,l){if(!bm(a.precondition,s))return o;const u=a.value.clone(),c=DN(a.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ks?function(a,s,o,l){if(!bm(a.precondition,s))return o;const u=DN(a.fieldTransforms,l,s),c=s.data;return c.setAll(LD(a)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),o===null?null:o.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(a,s,o){return bm(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function RH(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=RD(r.transform,i||null);a!=null&&(n===null&&(n=Ln.empty()),n.set(r.field,a))}return n||null}function jN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&tu(r,i,(a,s)=>CH(a,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class wd extends Zg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ks extends Zg{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function LD(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function kN(t,e,n){const r=new Map;Te(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let i=0;i<n.length;i++){const a=t[i],s=a.transform,o=e.data.field(a.field);r.set(a.field,NH(s,o,n[i]))}return r}function DN(t,e,n){const r=new Map;for(const i of t){const a=i.transform,s=n.data.field(i.field);r.set(i.field,TH(a,s,e))}return r}class Jg extends Zg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class PH extends Zg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jH{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&IH(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=rf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=rf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=CD();return this.mutations.forEach(i=>{const a=e.get(i.key),s=a.overlayedDocument;let o=this.applyToLocalView(s,a.mutatedFields);o=n.has(i.key)?null:o;const l=MD(s,o);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(ae.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ye())}isEqual(e){return this.batchId===e.batchId&&tu(this.mutations,e.mutations,(n,r)=>jN(n,r))&&tu(this.baseMutations,e.baseMutations,(n,r)=>jN(n,r))}}class Uw{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Te(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return wH}();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,r[s].version);return new Uw(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kH{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DH{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt,we;function MH(t){switch(t){case U.OK:return re(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return re(15467,{code:t})}}function VD(t){if(t===void 0)return aa("GRPC error has no .code"),U.UNKNOWN;switch(t){case yt.OK:return U.OK;case yt.CANCELLED:return U.CANCELLED;case yt.UNKNOWN:return U.UNKNOWN;case yt.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case yt.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case yt.INTERNAL:return U.INTERNAL;case yt.UNAVAILABLE:return U.UNAVAILABLE;case yt.UNAUTHENTICATED:return U.UNAUTHENTICATED;case yt.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case yt.NOT_FOUND:return U.NOT_FOUND;case yt.ALREADY_EXISTS:return U.ALREADY_EXISTS;case yt.PERMISSION_DENIED:return U.PERMISSION_DENIED;case yt.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case yt.ABORTED:return U.ABORTED;case yt.OUT_OF_RANGE:return U.OUT_OF_RANGE;case yt.UNIMPLEMENTED:return U.UNIMPLEMENTED;case yt.DATA_LOSS:return U.DATA_LOSS;default:return re(39323,{code:t})}}(we=yt||(yt={}))[we.OK=0]="OK",we[we.CANCELLED=1]="CANCELLED",we[we.UNKNOWN=2]="UNKNOWN",we[we.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",we[we.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",we[we.NOT_FOUND=5]="NOT_FOUND",we[we.ALREADY_EXISTS=6]="ALREADY_EXISTS",we[we.PERMISSION_DENIED=7]="PERMISSION_DENIED",we[we.UNAUTHENTICATED=16]="UNAUTHENTICATED",we[we.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",we[we.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",we[we.ABORTED=10]="ABORTED",we[we.OUT_OF_RANGE=11]="OUT_OF_RANGE",we[we.UNIMPLEMENTED=12]="UNIMPLEMENTED",we[we.INTERNAL=13]="INTERNAL",we[we.UNAVAILABLE=14]="UNAVAILABLE",we[we.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LH(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VH=new fs([4294967295,4294967295],0);function MN(t){const e=LH().encode(t),n=new Qk;return n.update(e),new Uint8Array(n.digest())}function LN(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new fs([n,r],0),new fs([i,a],0)]}class zw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new jc(`Invalid padding: ${n}`);if(r<0)throw new jc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new jc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new jc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=fs.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(fs.fromNumber(r)));return i.compare(VH)===1&&(i=new fs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=MN(e),[r,i]=LN(n);for(let a=0;a<this.hashCount;a++){const s=this.ye(r,i,a);if(!this.we(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new zw(a,i,n);return r.forEach(o=>s.insert(o)),s}insert(e){if(this.ge===0)return;const n=MN(e),[r,i]=LN(n);for(let a=0;a<this.hashCount;a++){const s=this.ye(r,i,a);this.be(s)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class jc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ed.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ey(ae.min(),i,new nt(ge),sa(),ye())}}class Ed{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ed(r,n,ye(),ye(),ye())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=i}}class UD{constructor(e,n){this.targetId=e,this.Ce=n}}class zD{constructor(e,n,r=ln.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class VN{constructor(){this.ve=0,this.Fe=UN(),this.Me=ln.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ye(),n=ye(),r=ye();return this.Fe.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:re(38017,{changeType:a})}}),new Ed(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=UN()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Te(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class UH{constructor(e){this.Ge=e,this.ze=new Map,this.je=sa(),this.He=Oh(),this.Je=Oh(),this.Ze=new nt(ge)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:re(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(ix(a))if(r===0){const s=new J(a.path);this.et(n,s,pn.newNoDocument(s,ae.min()))}else Te(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const o=this.ut(e),l=o?this.ct(o,e,s):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let s,o;try{s=ws(r).toUint8Array()}catch(l){if(l instanceof uD)return eu("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new zw(s,i,a)}catch(l){return eu(l instanceof jc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.ge===0?null:o}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const s=this.Ge.ht(),o=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(o)||(this.et(n,a,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((a,s)=>{const o=this.ot(s);if(o){if(a.current&&ix(o.target)){const l=new J(o.target.path);this.It(l).has(s)||this.Et(s,l)||this.et(s,l,pn.newNoDocument(l,e))}a.Be&&(n.set(s,a.ke()),a.Ke())}});let r=ye();this.Je.forEach((a,s)=>{let o=!0;s.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(a))}),this.je.forEach((a,s)=>s.setReadTime(e));const i=new ey(e,n,this.Ze,this.je,r);return this.je=sa(),this.He=Oh(),this.Je=Oh(),this.Ze=new nt(ge),i}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.qe(n,1):i.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new VN,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Ct(ge),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Ct(ge),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||W("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new VN),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Oh(){return new nt(J.comparator)}function UN(){return new nt(J.comparator)}const zH={asc:"ASCENDING",desc:"DESCENDING"},BH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$H={and:"AND",or:"OR"};class FH{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function sx(t,e){return t.useProto3Json||Gg(e)?e:{value:e}}function bp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function BD(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function qH(t,e){return bp(t,e.toTimestamp())}function fi(t){return Te(!!t,49232),ae.fromTimestamp(function(n){const r=_s(n);return new Fe(r.seconds,r.nanos)}(t))}function Bw(t,e){return ox(t,e).canonicalString()}function ox(t,e){const n=function(i){return new Le(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function $D(t){const e=Le.fromString(t);return Te(KD(e),10190,{key:e.toString()}),e}function lx(t,e){return Bw(t.databaseId,e.path)}function m0(t,e){const n=$D(e);if(n.get(1)!==t.databaseId.projectId)throw new G(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new G(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new J(qD(n))}function FD(t,e){return Bw(t.databaseId,e)}function HH(t){const e=$D(t);return e.length===4?Le.emptyPath():qD(e)}function ux(t){return new Le(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function qD(t){return Te(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function zN(t,e,n){return{name:lx(t,e),fields:n.value.mapValue.fields}}function GH(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:re(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(u,c){return u.useProto3Json?(Te(c===void 0||typeof c=="string",58123),ln.fromBase64String(c||"")):(Te(c===void 0||c instanceof Buffer||c instanceof Uint8Array,16193),ln.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,o=s&&function(u){const c=u.code===void 0?U.UNKNOWN:VD(u.code);return new G(c,u.message||"")}(s);n=new zD(r,i,a,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=m0(t,r.document.name),a=fi(r.document.updateTime),s=r.document.createTime?fi(r.document.createTime):ae.min(),o=new Ln({mapValue:{fields:r.document.fields}}),l=pn.newFoundDocument(i,a,s,o),u=r.targetIds||[],c=r.removedTargetIds||[];n=new xm(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=m0(t,r.document),a=r.readTime?fi(r.readTime):ae.min(),s=pn.newNoDocument(i,a),o=r.removedTargetIds||[];n=new xm([],o,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=m0(t,r.document),a=r.removedTargetIds||[];n=new xm([],a,i,null)}else{if(!("filter"in e))return re(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,s=new DH(i,a),o=r.targetId;n=new UD(o,s)}}return n}function KH(t,e){let n;if(e instanceof wd)n={update:zN(t,e.key,e.value)};else if(e instanceof Jg)n={delete:lx(t,e.key)};else if(e instanceof ks)n={update:zN(t,e.key,e.data),updateMask:nG(e.fieldMask)};else{if(!(e instanceof PH))return re(16599,{dt:e.type});n={verify:lx(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,s){const o=s.transform;if(o instanceof If)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Rf)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Pf)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof jf)return{fieldPath:s.field.canonicalString(),increment:o.Ae};throw re(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:qH(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:re(27497)}(t,e.precondition)),n}function WH(t,e){return t&&t.length>0?(Te(e!==void 0,14353),t.map(n=>function(i,a){let s=i.updateTime?fi(i.updateTime):fi(a);return s.isEqual(ae.min())&&(s=fi(a)),new OH(s,i.transformResults||[])}(n,e))):[]}function YH(t,e){return{documents:[FD(t,e.path)]}}function XH(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=FD(t,i);const a=function(u){if(u.length!==0)return GD(Fr.create(u,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const s=function(u){if(u.length!==0)return u.map(c=>function(m){return{field:ll(m.field),direction:JH(m.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=sx(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:i}}function QH(t){let e=HH(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Te(r===1,65062);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let a=[];n.where&&(a=function(f){const m=HD(f);return m instanceof Fr&&bD(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(m=>function(g){return new Of(ul(g.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(m))}(n.orderBy));let o=null;n.limit&&(o=function(f){let m;return m=typeof f=="object"?f.value:f,Gg(m)?null:m}(n.limit));let l=null;n.startAt&&(l=function(f){const m=!!f.before,p=f.values||[];return new yp(p,m)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const m=!f.before,p=f.values||[];return new yp(p,m)}(n.endAt)),pH(e,i,s,a,o,"F",l,u)}function ZH(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return re(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function HD(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ul(n.unaryFilter.field);return _t.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ul(n.unaryFilter.field);return _t.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ul(n.unaryFilter.field);return _t.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ul(n.unaryFilter.field);return _t.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return re(61313);default:return re(60726)}}(t):t.fieldFilter!==void 0?function(n){return _t.create(ul(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return re(58110);default:return re(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Fr.create(n.compositeFilter.filters.map(r=>HD(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return re(1026)}}(n.compositeFilter.op))}(t):re(30097,{filter:t})}function JH(t){return zH[t]}function eG(t){return BH[t]}function tG(t){return $H[t]}function ll(t){return{fieldPath:t.canonicalString()}}function ul(t){return nn.fromServerFormat(t.fieldPath)}function GD(t){return t instanceof _t?function(n){if(n.op==="=="){if(NN(n.value))return{unaryFilter:{field:ll(n.field),op:"IS_NAN"}};if(TN(n.value))return{unaryFilter:{field:ll(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(NN(n.value))return{unaryFilter:{field:ll(n.field),op:"IS_NOT_NAN"}};if(TN(n.value))return{unaryFilter:{field:ll(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ll(n.field),op:eG(n.op),value:n.value}}}(t):t instanceof Fr?function(n){const r=n.getFilters().map(i=>GD(i));return r.length===1?r[0]:{compositeFilter:{op:tG(n.op),filters:r}}}(t):re(54877,{filter:t})}function nG(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function KD(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function WD(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e,n,r,i,a=ae.min(),s=ae.min(),o=ln.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new Qa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Qa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rG{constructor(e){this.yt=e}}function iG(t){const e=QH({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?vp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aG{constructor(){this.Sn=new sG}addToCollectionParentIndex(e,n){return this.Sn.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(xs.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(xs.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class sG{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ct(Le.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ct(Le.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},YD=41943040;class Dn{static withCacheSize(e){return new Dn(e,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dn.DEFAULT_COLLECTION_PERCENTILE=10,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dn.DEFAULT=new Dn(YD,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dn.DISABLED=new Dn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new iu(0)}static ar(){return new iu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N="LruGarbageCollector",oG=1048576;function FN([t,e],[n,r]){const i=ge(t,n);return i===0?ge(e,r):i}class lG{constructor(e){this.Pr=e,this.buffer=new Ct(FN),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();FN(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class uG{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){W($N,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Cu(n)?W($N,"Ignoring IndexedDB error during garbage collection: ",n):await Nu(n)}await this.Ar(3e5)})}}class cG{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return B.resolve(Hg.ce);const r=new lG(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.mr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(W("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(BN)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(W("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),BN):this.gr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,i,a,s,o,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(W("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,o=Date.now(),this.removeTargets(e,r,n))).next(f=>(a=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),sl()<=pe.DEBUG&&W("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-c}ms
	Determined least recently used ${i} in `+(o-s)+`ms
	Removed ${a} targets in `+(l-o)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:f})))}}function fG(t,e){return new cG(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dG{constructor(){this.changes=new Fo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hG{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mG{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&rf(r.mutation,i,Zn.empty(),Fe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ye()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ye()){const i=Js();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let s=Pc();return a.forEach((o,l)=>{s=s.insert(o,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Js();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ye()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((s,o)=>{n.set(s,o)})})}computeViews(e,n,r,i){let a=sa();const s=nf(),o=function(){return nf()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof ks)?a=a.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),rf(c.mutation,u,c.mutation.getFieldMask(),Fe.now())):s.set(u.key,Zn.empty())}),this.recalculateAndSaveOverlays(e,a).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>o.set(u,new hG(c,s.get(u)??null))),o))}recalculateAndSaveOverlays(e,n){const r=nf();let i=new nt((s,o)=>s-o),a=ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const o of s)o.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Zn.empty();c=o.applyToLocalView(u,c),r.set(l,c);const f=(i.get(o.batchId)||ye()).add(l);i=i.insert(o.batchId,f)})}).next(()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),u=l.key,c=l.value,f=CD();c.forEach(m=>{if(!a.has(m)){const p=MD(n.get(m),r.get(m));p!==null&&f.set(m,p),a=a.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,f))}return B.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return gH(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ED(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):B.resolve(Js());let o=Af,l=a;return s.next(u=>B.forEach(u,(c,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),a.get(c)?B.resolve():this.remoteDocumentCache.getEntry(e,c).next(m=>{l=l.insert(c,m)}))).next(()=>this.populateOverlays(e,u,a)).next(()=>this.computeViews(e,l,u,ye())).next(c=>({batchId:o,changes:ND(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new J(n)).next(r=>{let i=Pc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let s=Pc();return this.indexManager.getCollectionParents(e,a).next(o=>B.forEach(o,l=>{const u=function(f,m){return new Ou(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((f,m)=>{s=s.insert(f,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(s=>{a.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,pn.newInvalidDocument(c)))});let o=Pc();return s.forEach((l,u)=>{const c=a.get(l);c!==void 0&&rf(c.mutation,u,Zn.empty(),Fe.now()),Xg(n,u)&&(o=o.insert(l,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pG{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return B.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:fi(i.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,function(i){return{name:i.name,query:iG(i.bundledQuery),readTime:fi(i.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gG{constructor(){this.overlays=new nt(J.comparator),this.Lr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Js();return B.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.bt(e,n,a)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Lr.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const i=Js(),a=n.length+1,s=new J(n.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const l=o.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===a&&l.largestBatchId>r&&i.set(l.getKey(),l)}return B.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new nt((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=a.get(u.largestBatchId);c===null&&(c=Js(),a=a.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const o=Js(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>o.set(u,c)),!(o.size()>=i)););return B.resolve(o)}bt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new kH(n,r));let a=this.Lr.get(n);a===void 0&&(a=ye(),this.Lr.set(n,a)),this.Lr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yG{constructor(){this.sessionToken=ln.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(){this.kr=new Ct(Vt.Kr),this.qr=new Ct(Vt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new Vt(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new Vt(e,n))}Qr(e,n){e.forEach(r=>this.removeReference(r,n))}Gr(e){const n=new J(new Le([])),r=new Vt(n,e),i=new Vt(n,e+1),a=[];return this.qr.forEachInRange([r,i],s=>{this.Wr(s),a.push(s.key)}),a}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new J(new Le([])),r=new Vt(n,e),i=new Vt(n,e+1);let a=ye();return this.qr.forEachInRange([r,i],s=>{a=a.add(s.key)}),a}containsKey(e){const n=new Vt(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Vt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return J.comparator(e.key,n.key)||ge(e.Hr,n.Hr)}static Ur(e,n){return ge(e.Hr,n.Hr)||J.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vG{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Ct(Vt.Kr)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new jH(a,n,r,i);this.mutationQueue.push(s);for(const o of i)this.Jr=this.Jr.add(new Vt(o.key,a)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return B.resolve(s)}lookupMutationBatch(e,n){return B.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),a=i<0?0:i;return B.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?jw:this.Yn-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Vt(n,0),i=new Vt(n,Number.POSITIVE_INFINITY),a=[];return this.Jr.forEachInRange([r,i],s=>{const o=this.Zr(s.Hr);a.push(o)}),B.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ct(ge);return n.forEach(i=>{const a=new Vt(i,0),s=new Vt(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([a,s],o=>{r=r.add(o.Hr)})}),B.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;J.isDocumentKey(a)||(a=a.child(""));const s=new Vt(new J(a),0);let o=new Ct(ge);return this.Jr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(o=o.add(l.Hr)),!0)},s),B.resolve(this.Yr(o))}Yr(e){const n=[];return e.forEach(r=>{const i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Te(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return B.forEach(n.mutations,i=>{const a=new Vt(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Jr=r})}nr(e){}containsKey(e,n){const r=new Vt(n,0),i=this.Jr.firstAfterOrEqual(r);return B.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bG{constructor(e){this.ti=e,this.docs=function(){return new nt(J.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,s=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():pn.newInvalidDocument(n))}getEntries(e,n){let r=sa();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():pn.newInvalidDocument(i))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=sa();const s=n.path,o=new J(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||Gq(Hq(c),r)<=0||(i.has(c.key)||Xg(n,c))&&(a=a.insert(c.key,c.mutableCopy()))}return B.resolve(a)}getAllFromCollectionGroup(e,n,r,i){re(9500)}ni(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new xG(this)}getSize(e){return B.resolve(this.size)}}class xG extends dG{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _G{constructor(e){this.persistence=e,this.ri=new Fo(n=>Mw(n),Lw),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this.ii=0,this.si=new $w,this.targetCount=0,this.oi=iu._r()}forEachTarget(e,n){return this.ri.forEach((r,i)=>n(i)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),B.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new iu(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.lr(n),B.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.ri.forEach((s,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.ri.delete(s),a.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),B.waitFor(a).next(()=>i)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),B.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(s=>{a.push(i.markPotentiallyOrphaned(e,s))}),B.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e,n){this._i={},this.overlays={},this.ai=new Hg(0),this.ui=!1,this.ui=!0,this.ci=new yG,this.referenceDelegate=e(this),this.li=new _G(this),this.indexManager=new aG,this.remoteDocumentCache=function(i){return new bG(i)}(r=>this.referenceDelegate.hi(r)),this.serializer=new rG(n),this.Pi=new pG(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new gG,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new vG(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){W("MemoryPersistence","Starting transaction:",e);const i=new wG(this.ai.next());return this.referenceDelegate.Ti(),r(i).next(a=>this.referenceDelegate.Ii(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ei(e,n){return B.or(Object.values(this._i).map(r=>()=>r.containsKey(e,n)))}}class wG extends Wq{constructor(e){super(),this.currentSequenceNumber=e}}class Fw{constructor(e){this.persistence=e,this.Ri=new $w,this.Ai=null}static Vi(e){return new Fw(e)}get di(){if(this.Ai)return this.Ai;throw re(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),B.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach(i=>this.di.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.di.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.di,r=>{const i=J.fromPath(r);return this.mi(e,i).next(a=>{a||n.removeEntry(i,ae.min())})}).next(()=>(this.Ai=null,n.apply(e)))}updateLimboDocument(e,n){return this.mi(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}hi(e){return 0}mi(e,n){return B.or([()=>B.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class xp{constructor(e,n){this.persistence=e,this.fi=new Fo(r=>Qq(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=fG(this,n)}static Vi(e,n){return new xp(e,n)}Ti(){}Ii(e){return B.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}pr(e){let n=0;return this.mr(e,r=>{n++}).next(()=>n)}mr(e,n){return B.forEach(this.fi,(r,i)=>this.wr(e,r,i).next(a=>a?B.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ni(e,s=>this.wr(e,s,n).next(o=>{o||(r++,a.removeEntry(s,ae.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),B.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),B.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),B.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ym(e.data.value)),n}wr(e,n,r){return B.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.fi.get(n);return B.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=i}static Es(e,n){let r=ye(),i=ye();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new qw(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EG{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SG{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return J8()?8:Yq(yn())>0?6:4}()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.gs(e,n).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.ps(e,n,i,r).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new EG;return this.ys(e,n,s).next(o=>{if(a.result=o,this.As)return this.ws(e,n,s,o.size)})}).next(()=>a.result)}ws(e,n,r,i){return r.documentReadCount<this.Vs?(sl()<=pe.DEBUG&&W("QueryEngine","SDK will not create cache indexes for query:",ol(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),B.resolve()):(sl()<=pe.DEBUG&&W("QueryEngine","Query:",ol(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(sl()<=pe.DEBUG&&W("QueryEngine","The SDK decides to create cache indexes for query:",ol(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ci(n))):B.resolve())}gs(e,n){if(RN(n))return B.resolve(null);let r=ci(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=vp(n,null,"F"),r=ci(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const s=ye(...a);return this.fs.getDocuments(e,s).next(o=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.bs(n,o);return this.Ss(n,u,s,l.readTime)?this.gs(e,vp(n,null,"F")):this.Ds(e,u,n,l)}))})))}ps(e,n,r,i){return RN(n)||i.isEqual(ae.min())?B.resolve(null):this.fs.getDocuments(e,r).next(a=>{const s=this.bs(n,a);return this.Ss(n,s,r,i)?B.resolve(null):(sl()<=pe.DEBUG&&W("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ol(n)),this.Ds(e,s,n,qq(i,Af)).next(o=>o))})}bs(e,n){let r=new Ct(AD(e));return n.forEach((i,a)=>{Xg(e,a)&&(r=r.add(a))}),r}Ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ys(e,n,r){return sl()<=pe.DEBUG&&W("QueryEngine","Using full collection scan to execute query:",ol(n)),this.fs.getDocumentsMatchingQuery(e,n,xs.min(),r)}Ds(e,n,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw="LocalStore",AG=3e8;class TG{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.vs=new nt(ge),this.Fs=new Fo(a=>Mw(a),Lw),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mG(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.vs))}}function NG(t,e,n,r){return new TG(t,e,n,r)}async function QD(t,e){const n=se(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.Os(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const s=[],o=[];let l=ye();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of a){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ns:u,removedBatchIds:s,addedBatchIds:o}))})})}function CG(t,e){const n=se(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.xs.newChangeBuffer({trackRemovals:!0});return function(o,l,u,c){const f=u.batch,m=f.keys();let p=B.resolve();return m.forEach(g=>{p=p.next(()=>c.getEntry(l,g)).next(_=>{const y=u.docVersions.get(g);Te(y!==null,48541),_.version.compareTo(y)<0&&(f.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),c.addEntry(_)))})}),p.next(()=>o.mutationQueue.removeMutationBatch(l,f))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let l=ye();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(l=l.add(o.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function ZD(t){const e=se(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.li.getLastRemoteSnapshotVersion(n))}function OG(t,e){const n=se(t),r=e.snapshotVersion;let i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;const o=[];e.targetChanges.forEach((c,f)=>{const m=i.get(f);if(!m)return;o.push(n.li.removeMatchingKeys(a,c.removedDocuments,f).next(()=>n.li.addMatchingKeys(a,c.addedDocuments,f)));let p=m.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(ln.EMPTY_BYTE_STRING,ae.min()).withLastLimboFreeSnapshotVersion(ae.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(f,p),function(_,y,w){return _.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=AG?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(m,p,c)&&o.push(n.li.updateTargetData(a,p))});let l=sa(),u=ye();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(a,c))}),o.push(IG(a,s,e.documentUpdates).next(c=>{l=c.Bs,u=c.Ls})),!r.isEqual(ae.min())){const c=n.li.getLastRemoteSnapshotVersion(a).next(f=>n.li.setTargetsMetadata(a,a.currentSequenceNumber,r));o.push(c)}return B.waitFor(o).next(()=>s.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,l,u)).next(()=>l)}).then(a=>(n.vs=i,a))}function IG(t,e,n){let r=ye(),i=ye();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let s=sa();return n.forEach((o,l)=>{const u=a.get(o);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(ae.min())?(e.removeEntry(o,l.readTime),s=s.insert(o,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(o,l)):W(Hw,"Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",l.version)}),{Bs:s,Ls:i}})}function RG(t,e){const n=se(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=jw),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function PG(t,e){const n=se(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.li.getTargetData(r,e).next(a=>a?(i=a,B.resolve(i)):n.li.allocateTargetId(r).next(s=>(i=new Qa(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r})}async function cx(t,e,n){const r=se(t),i=r.vs.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Cu(s))throw s;W(Hw,`Failed to update sequence numbers for target ${e}: ${s}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function qN(t,e,n){const r=se(t);let i=ae.min(),a=ye();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const f=se(l),m=f.Fs.get(c);return m!==void 0?B.resolve(f.vs.get(m)):f.li.getTargetData(u,c)}(r,s,ci(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(s,o.targetId).next(l=>{a=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,n?i:ae.min(),n?a:ye())).next(o=>(jG(r,bH(e),o),{documents:o,ks:a})))}function jG(t,e,n){let r=t.Ms.get(e)||ae.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Ms.set(e,r)}class HN{constructor(){this.activeTargetIds=AH()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kG{constructor(){this.vo=new HN,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new HN,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DG{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN="ConnectivityMonitor";class KN{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){W(GN,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){W(GN,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ih=null;function fx(){return Ih===null?Ih=function(){return 268435456+Math.round(2147483648*Math.random())}():Ih++,"0x"+Ih.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0="RestConnection",MG={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class LG{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===pp?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,a){const s=fx(),o=this.Qo(e,n.toUriEncodedString());W(p0,`Sending RPC '${e}' ${s}:`,o,r);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(l,i,a);const{host:u}=new URL(o),c=Rs(u);return this.zo(e,o,l,r,c).then(f=>(W(p0,`Received RPC '${e}' ${s}: `,f),f),f=>{throw eu(p0,`RPC '${e}' ${s} failed with error: `,f,"url: ",o,"request:",r),f})}jo(e,n,r,i,a,s){return this.Wo(e,n,r,i,a)}Go(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Tu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}Qo(e,n){const r=MG[e];let i=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VG{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dn="WebChannelConnection",mc=(t,e,n)=>{t.listen(e,r=>{try{n(r)}catch(i){setTimeout(()=>{throw i},0)}})};class Vl extends LG{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Vl.c_){const e=tD();mc(e,eD.STAT_EVENT,n=>{n.stat===Jb.PROXY?W(dn,"STAT_EVENT: detected buffering proxy"):n.stat===Jb.NOPROXY&&W(dn,"STAT_EVENT: detected no buffering proxy")}),Vl.c_=!0}}zo(e,n,r,i,a){const s=fx();return new Promise((o,l)=>{const u=new Zk;u.setWithCredentials(!0),u.listenOnce(Jk.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case gm.NO_ERROR:const f=u.getResponseJson();W(dn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case gm.TIMEOUT:W(dn,`RPC '${e}' ${s} timed out`),l(new G(U.DEADLINE_EXCEEDED,"Request time out"));break;case gm.HTTP_ERROR:const m=u.getStatus();if(W(dn,`RPC '${e}' ${s} failed with status:`,m,"response text:",u.getResponseText()),m>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const _=function(w){const x=w.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(x)>=0?x:U.UNKNOWN}(g.status);l(new G(_,g.message))}else l(new G(U.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new G(U.UNAVAILABLE,"Connection failed."));break;default:re(9055,{l_:e,streamId:s,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{W(dn,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);W(dn,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}T_(e,n,r){const i=fx(),a=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=this.createWebChannelTransport(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Go(o.initMessageHeaders,n,r),o.encodeInitMessageHeaders=!0;const u=a.join("");W(dn,`Creating RPC '${e}' stream ${i}: ${u}`,o);const c=s.createWebChannel(u,o);this.I_(c);let f=!1,m=!1;const p=new VG({Ho:g=>{m?W(dn,`Not sending because RPC '${e}' stream ${i} is closed:`,g):(f||(W(dn,`Opening RPC '${e}' stream ${i} transport.`),c.open(),f=!0),W(dn,`RPC '${e}' stream ${i} sending:`,g),c.send(g))},Jo:()=>c.close()});return mc(c,Rc.EventType.OPEN,()=>{m||(W(dn,`RPC '${e}' stream ${i} transport opened.`),p.i_())}),mc(c,Rc.EventType.CLOSE,()=>{m||(m=!0,W(dn,`RPC '${e}' stream ${i} transport closed`),p.o_(),this.E_(c))}),mc(c,Rc.EventType.ERROR,g=>{m||(m=!0,eu(dn,`RPC '${e}' stream ${i} transport errored. Name:`,g.name,"Message:",g.message),p.o_(new G(U.UNAVAILABLE,"The operation could not be completed")))}),mc(c,Rc.EventType.MESSAGE,g=>{var _;if(!m){const y=g.data[0];Te(!!y,16349);const w=y,x=(w==null?void 0:w.error)||((_=w[0])==null?void 0:_.error);if(x){W(dn,`RPC '${e}' stream ${i} received error:`,x);const E=x.status;let N=function(T){const A=yt[T];if(A!==void 0)return VD(A)}(E),P=x.message;N===void 0&&(N=U.INTERNAL,P="Unknown error status: "+E+" with message "+x.message),m=!0,p.o_(new G(N,P)),c.close()}else W(dn,`RPC '${e}' stream ${i} received:`,y),p.__(y)}}),Vl.u_(),setTimeout(()=>{p.s_()},0),p}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(n=>n===e)}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return nD()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UG(t){return new Vl(t)}function g0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(t){return new FH(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vl.c_=!1;class JD{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=i,this.V_=a,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&W("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN="PersistentStream";class eM{constructor(e,n,r,i,a,s,o,l){this.Ci=e,this.b_=r,this.S_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new JD(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(aa(n.toString()),aa("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new G(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.Yo(()=>{r(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.H_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return W(WN,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget(()=>this.D_===e?n():(W(WN,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zG extends eM{constructor(e,n,r,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=GH(this.serializer,e),r=function(a){if(!("targetChange"in a))return ae.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?ae.min():s.readTime?fi(s.readTime):ae.min()}(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=ux(this.serializer),n.addTarget=function(a,s){let o;const l=s.target;if(o=ix(l)?{documents:YH(a,l)}:{query:XH(a,l).ft},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=BD(a,s.resumeToken);const u=sx(a,s.expectedCount);u!==null&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(ae.min())>0){o.readTime=bp(a,s.snapshotVersion.toTimestamp());const u=sx(a,s.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,e);const r=ZH(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=ux(this.serializer),n.removeTarget=e,this.K_(n)}}class BG extends eM{constructor(e,n,r,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Te(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Te(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Te(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=WH(e.writeResults,e.commitTime),r=fi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=ux(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>KH(this.serializer,r))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $G{}class FG extends $G{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new G(U.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Wo(e,ox(n,r),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new G(U.UNKNOWN,a.toString())})}jo(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.jo(e,ox(n,r),i,s,o,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new G(U.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function qG(t,e,n,r){return new FG(t,e,n,r)}class HG{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(aa(n),this.aa=!1):W("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To="RemoteStore";class GG{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=a,this.Aa.Mo(s=>{r.enqueueAndForget(async()=>{qo(this)&&(W(To,"Restarting streams for network reachability change."),await async function(l){const u=se(l);u.Ea.add(4),await Sd(u),u.Va.set("Unknown"),u.Ea.delete(4),await ny(u)}(this))})}),this.Va=new HG(r,i)}}async function ny(t){if(qo(t))for(const e of t.Ra)await e(!0)}async function Sd(t){for(const e of t.Ra)await e(!1)}function tM(t,e){const n=se(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Yw(n)?Ww(n):Iu(n).O_()&&Kw(n,e))}function Gw(t,e){const n=se(t),r=Iu(n);n.Ia.delete(e),r.O_()&&nM(n,e),n.Ia.size===0&&(r.O_()?r.L_():qo(n)&&n.Va.set("Unknown"))}function Kw(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Iu(t).Z_(e)}function nM(t,e){t.da.$e(e),Iu(t).X_(e)}function Ww(t){t.da=new UH({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Iu(t).start(),t.Va.ua()}function Yw(t){return qo(t)&&!Iu(t).x_()&&t.Ia.size>0}function qo(t){return se(t).Ea.size===0}function rM(t){t.da=void 0}async function KG(t){t.Va.set("Online")}async function WG(t){t.Ia.forEach((e,n)=>{Kw(t,e)})}async function YG(t,e){rM(t),Yw(t)?(t.Va.ha(e),Ww(t)):t.Va.set("Unknown")}async function XG(t,e,n){if(t.Va.set("Online"),e instanceof zD&&e.state===2&&e.cause)try{await async function(i,a){const s=a.cause;for(const o of a.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,s),i.Ia.delete(o),i.da.removeTarget(o))}(t,e)}catch(r){W(To,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await _p(t,r)}else if(e instanceof xm?t.da.Xe(e):e instanceof UD?t.da.st(e):t.da.tt(e),!n.isEqual(ae.min()))try{const r=await ZD(t.localStore);n.compareTo(r)>=0&&await function(a,s){const o=a.da.Tt(s);return o.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=a.Ia.get(u);c&&a.Ia.set(u,c.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach((l,u)=>{const c=a.Ia.get(l);if(!c)return;a.Ia.set(l,c.withResumeToken(ln.EMPTY_BYTE_STRING,c.snapshotVersion)),nM(a,l);const f=new Qa(c.target,l,u,c.sequenceNumber);Kw(a,f)}),a.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){W(To,"Failed to raise snapshot:",r),await _p(t,r)}}async function _p(t,e,n){if(!Cu(e))throw e;t.Ea.add(1),await Sd(t),t.Va.set("Offline"),n||(n=()=>ZD(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{W(To,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await ny(t)})}function iM(t,e){return e().catch(n=>_p(t,n,e))}async function ry(t){const e=se(t),n=Ss(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:jw;for(;QG(e);)try{const i=await RG(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,ZG(e,i)}catch(i){await _p(e,i)}aM(e)&&sM(e)}function QG(t){return qo(t)&&t.Ta.length<10}function ZG(t,e){t.Ta.push(e);const n=Ss(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function aM(t){return qo(t)&&!Ss(t).x_()&&t.Ta.length>0}function sM(t){Ss(t).start()}async function JG(t){Ss(t).ra()}async function eK(t){const e=Ss(t);for(const n of t.Ta)e.ea(n.mutations)}async function tK(t,e,n){const r=t.Ta.shift(),i=Uw.from(r,e,n);await iM(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await ry(t)}async function nK(t,e){e&&Ss(t).Y_&&await async function(r,i){if(function(s){return MH(s)&&s!==U.ABORTED}(i.code)){const a=r.Ta.shift();Ss(r).B_(),await iM(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await ry(r)}}(t,e),aM(t)&&sM(t)}async function YN(t,e){const n=se(t);n.asyncQueue.verifyOperationInProgress(),W(To,"RemoteStore received new credentials");const r=qo(n);n.Ea.add(3),await Sd(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await ny(n)}async function rK(t,e){const n=se(t);e?(n.Ea.delete(2),await ny(n)):e||(n.Ea.add(2),await Sd(n),n.Va.set("Unknown"))}function Iu(t){return t.ma||(t.ma=function(n,r,i){const a=se(n);return a.sa(),new zG(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Zo:KG.bind(null,t),Yo:WG.bind(null,t),t_:YG.bind(null,t),J_:XG.bind(null,t)}),t.Ra.push(async e=>{e?(t.ma.B_(),Yw(t)?Ww(t):t.Va.set("Unknown")):(await t.ma.stop(),rM(t))})),t.ma}function Ss(t){return t.fa||(t.fa=function(n,r,i){const a=se(n);return a.sa(),new BG(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:JG.bind(null,t),t_:nK.bind(null,t),ta:eK.bind(null,t),na:tK.bind(null,t)}),t.Ra.push(async e=>{e?(t.fa.B_(),await ry(t)):(await t.fa.stop(),t.Ta.length>0&&(W(To,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const s=Date.now()+r,o=new Xw(e,n,s,i,a);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qw(t,e){if(aa("AsyncQueue",`${e}: ${t}`),Cu(t))return new G(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{static emptySet(e){return new Ul(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||J.comparator(n.key,r.key):(n,r)=>J.comparator(n.key,r.key),this.keyedMap=Pc(),this.sortedSet=new nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ul)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ul;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(){this.ga=new nt(J.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):re(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class au{constructor(e,n,r,i,a,s,o,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,a){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new au(e,n,Ul.emptySet(n),s,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iK{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}}class aK{constructor(){this.queries=QN(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=se(n),a=i.queries;i.queries=QN(),a.forEach((s,o)=>{for(const l of o.ba)l.onError(r)})})(this,new G(U.ABORTED,"Firestore shutting down"))}}function QN(){return new Fo(t=>SD(t),Yg)}async function Zw(t,e){const n=se(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.Sa()&&e.Da()&&(r=2):(a=new iK,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const o=Qw(s,`Initialization of query '${ol(e.query)}' failed`);return void e.onError(o)}n.queries.set(i,a),a.ba.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&e1(n)}async function Jw(t,e){const n=se(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const s=a.ba.indexOf(e);s>=0&&(a.ba.splice(s,1),a.ba.length===0?i=e.Da()?0:1:!a.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function sK(t,e){const n=se(t);let r=!1;for(const i of e){const a=i.query,s=n.queries.get(a);if(s){for(const o of s.ba)o.Fa(i)&&(r=!0);s.wa=i}}r&&e1(n)}function oK(t,e,n){const r=se(t),i=r.queries.get(e);if(i)for(const a of i.ba)a.onError(n);r.queries.delete(e)}function e1(t){t.Ca.forEach(e=>{e.next()})}var dx,ZN;(ZN=dx||(dx={})).Ma="default",ZN.Cache="cache";class t1{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new au(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=au.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==dx.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e){this.key=e}}class lM{constructor(e){this.key=e}}class lK{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ye(),this.mutatedKeys=ye(),this.eu=AD(e),this.tu=new Ul(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new XN,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,s=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const m=i.get(c),p=Xg(this.query,f)?f:null,g=!!m&&this.mutatedKeys.has(m.key),_=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let y=!1;m&&p?m.data.isEqual(p.data)?g!==_&&(r.track({type:3,doc:p}),y=!0):this.su(m,p)||(r.track({type:2,doc:p}),y=!0,(l&&this.eu(p,l)>0||u&&this.eu(p,u)<0)&&(o=!0)):!m&&p?(r.track({type:0,doc:p}),y=!0):m&&!p&&(r.track({type:1,doc:m}),y=!0,(l||u)&&(o=!0)),y&&(p?(s=s.add(p),a=_?a.add(c):a.delete(c)):(s=s.delete(c),a=a.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),a=a.delete(c.key),r.track({type:1,doc:c})}return{tu:s,iu:r,Ss:o,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((c,f)=>function(p,g){const _=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return re(20277,{Vt:y})}};return _(p)-_(g)}(c.type,f.type)||this.eu(c.doc,f.doc)),this.ou(r),i=i??!1;const o=n&&!i?this._u():[],l=this.Ya.size===0&&this.current&&!i?1:0,u=l!==this.Xa;return this.Xa=l,s.length!==0||u?{snapshot:new au(this.query,e.tu,a,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new XN,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Za=this.Za.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Za=this.Za.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=ye(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new lM(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new oM(r))}),n}cu(e){this.Za=e.ks,this.Ya=ye();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return au.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const n1="SyncEngine";class uK{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class cK{constructor(e){this.key=e,this.hu=!1}}class fK{constructor(e,n,r,i,a,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Fo(o=>SD(o),Yg),this.Iu=new Map,this.Eu=new Set,this.Ru=new nt(J.comparator),this.Au=new Map,this.Vu=new $w,this.du={},this.mu=new Map,this.fu=iu.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function dK(t,e,n=!0){const r=mM(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await uM(r,e,n,!0),i}async function hK(t,e){const n=mM(t);await uM(n,e,!0,!1)}async function uM(t,e,n,r){const i=await PG(t.localStore,ci(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,n);let o;return r&&(o=await mK(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&tM(t.remoteStore,i),o}async function mK(t,e,n,r,i){t.pu=(f,m,p)=>async function(_,y,w,x){let E=y.view.ru(w);E.Ss&&(E=await qN(_.localStore,y.query,!1).then(({documents:T})=>y.view.ru(T,E)));const N=x&&x.targetChanges.get(y.targetId),P=x&&x.targetMismatches.get(y.targetId)!=null,k=y.view.applyChanges(E,_.isPrimaryClient,N,P);return eC(_,y.targetId,k.au),k.snapshot}(t,f,m,p);const a=await qN(t.localStore,e,!0),s=new lK(e,a.ks),o=s.ru(a.documents),l=Ed.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(o,t.isPrimaryClient,l);eC(t,n,u.au);const c=new uK(e,n,s);return t.Tu.set(e,c),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function pK(t,e,n){const r=se(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter(s=>!Yg(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await cx(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Gw(r.remoteStore,i.targetId),hx(r,i.targetId)}).catch(Nu)):(hx(r,i.targetId),await cx(r.localStore,i.targetId,!0))}async function gK(t,e){const n=se(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Gw(n.remoteStore,r.targetId))}async function yK(t,e,n){const r=SK(t);try{const i=await function(s,o){const l=se(s),u=Fe.now(),c=o.reduce((p,g)=>p.add(g.key),ye());let f,m;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=sa(),_=ye();return l.xs.getEntries(p,c).next(y=>{g=y,g.forEach((w,x)=>{x.isValidDocument()||(_=_.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(y=>{f=y;const w=[];for(const x of o){const E=RH(x,f.get(x.key).overlayedDocument);E!=null&&w.push(new ks(x.key,E,gD(E.value.mapValue),Bn.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,w,o)}).next(y=>{m=y;const w=y.applyToLocalDocumentSet(f,_);return l.documentOverlayCache.saveOverlays(p,y.batchId,w)})}).then(()=>({batchId:m.batchId,changes:ND(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,l){let u=s.du[s.currentUser.toKey()];u||(u=new nt(ge)),u=u.insert(o,l),s.du[s.currentUser.toKey()]=u}(r,i.batchId,n),await Ad(r,i.changes),await ry(r.remoteStore)}catch(i){const a=Qw(i,"Failed to persist write");n.reject(a)}}async function cM(t,e){const n=se(t);try{const r=await OG(n.localStore,e);e.targetChanges.forEach((i,a)=>{const s=n.Au.get(a);s&&(Te(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?Te(s.hu,14607):i.removedDocuments.size>0&&(Te(s.hu,42227),s.hu=!1))}),await Ad(n,r,e)}catch(r){await Nu(r)}}function JN(t,e,n){const r=se(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((a,s)=>{const o=s.view.va(e);o.snapshot&&i.push(o.snapshot)}),function(s,o){const l=se(s);l.onlineState=o;let u=!1;l.queries.forEach((c,f)=>{for(const m of f.ba)m.va(o)&&(u=!0)}),u&&e1(l)}(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function vK(t,e,n){const r=se(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let s=new nt(J.comparator);s=s.insert(a,pn.newNoDocument(a,ae.min()));const o=ye().add(a),l=new ey(ae.min(),new Map,new nt(ge),s,o);await cM(r,l),r.Ru=r.Ru.remove(a),r.Au.delete(e),r1(r)}else await cx(r.localStore,e,!1).then(()=>hx(r,e,n)).catch(Nu)}async function bK(t,e){const n=se(t),r=e.batch.batchId;try{const i=await CG(n.localStore,e);dM(n,r,null),fM(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ad(n,i)}catch(i){await Nu(i)}}async function xK(t,e,n){const r=se(t);try{const i=await function(s,o){const l=se(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,o).next(f=>(Te(f!==null,37113),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);dM(r,e,n),fM(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ad(r,i)}catch(i){await Nu(i)}}function fM(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function dM(t,e,n){const r=se(t);let i=r.du[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function hx(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach(r=>{t.Vu.containsKey(r)||hM(t,r)})}function hM(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(Gw(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),r1(t))}function eC(t,e,n){for(const r of n)r instanceof oM?(t.Vu.addReference(r.key,e),_K(t,r)):r instanceof lM?(W(n1,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||hM(t,r.key)):re(19791,{wu:r})}function _K(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(W(n1,"New document in limbo: "+n),t.Eu.add(r),r1(t))}function r1(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new J(Le.fromString(e)),r=t.fu.next();t.Au.set(r,new cK(n)),t.Ru=t.Ru.insert(n,r),tM(t.remoteStore,new Qa(ci(Wg(n.path)),r,"TargetPurposeLimboResolution",Hg.ce))}}async function Ad(t,e,n){const r=se(t),i=[],a=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((o,l)=>{s.push(r.pu(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=qw.Es(l.targetId,u);a.push(f)}}))}),await Promise.all(s),r.Pu.J_(i),await async function(l,u){const c=se(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>B.forEach(u,m=>B.forEach(m.Ts,p=>c.persistence.referenceDelegate.addReference(f,m.targetId,p)).next(()=>B.forEach(m.Is,p=>c.persistence.referenceDelegate.removeReference(f,m.targetId,p)))))}catch(f){if(!Cu(f))throw f;W(Hw,"Failed to update sequence numbers: "+f)}for(const f of u){const m=f.targetId;if(!f.fromCache){const p=c.vs.get(m),g=p.snapshotVersion,_=p.withLastLimboFreeSnapshotVersion(g);c.vs=c.vs.insert(m,_)}}}(r.localStore,a))}async function wK(t,e){const n=se(t);if(!n.currentUser.isEqual(e)){W(n1,"User change. New user:",e.toKey());const r=await QD(n.localStore,e);n.currentUser=e,function(a,s){a.mu.forEach(o=>{o.forEach(l=>{l.reject(new G(U.CANCELLED,s))})}),a.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ad(n,r.Ns)}}function EK(t,e){const n=se(t),r=n.Au.get(e);if(r&&r.hu)return ye().add(r.key);{let i=ye();const a=n.Iu.get(e);if(!a)return i;for(const s of a){const o=n.Tu.get(s);i=i.unionWith(o.view.nu)}return i}}function mM(t){const e=se(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=cM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=EK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vK.bind(null,e),e.Pu.J_=sK.bind(null,e.eventManager),e.Pu.yu=oK.bind(null,e.eventManager),e}function SK(t){const e=se(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bK.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xK.bind(null,e),e}class wp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ty(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return NG(this.persistence,new SG,e.initialUser,this.serializer)}Cu(e){return new XD(Fw.Vi,this.serializer)}Du(e){return new kG}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wp.provider={build:()=>new wp};class AK extends wp{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Te(this.persistence.referenceDelegate instanceof xp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new uG(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new XD(r=>xp.Vi(r,n),this.serializer)}}class mx{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>JN(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=wK.bind(null,this.syncEngine),await rK(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new aK}()}createDatastore(e){const n=ty(e.databaseInfo.databaseId),r=UG(e.databaseInfo);return qG(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,s,o){return new GG(r,i,a,s,o)}(this.localStore,this.datastore,e.asyncQueue,n=>JN(this.syncEngine,n,0),function(){return KN.v()?new KN:new DG}())}createSyncEngine(e,n){return function(i,a,s,o,l,u,c){const f=new fK(i,a,s,o,l,u);return c&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=se(i);W(To,"RemoteStore shutting down."),a.Ea.add(5),await Sd(a),a.Aa.shutdown(),a.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}mx.provider={build:()=>new mx};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):aa("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As="FirestoreClient";class TK{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=i,this.user=mn.UNAUTHENTICATED,this.clientId=Pw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async s=>{W(As,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(W(As,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Qw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function y0(t,e){t.asyncQueue.verifyOperationInProgress(),W(As,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await QD(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function tC(t,e){t.asyncQueue.verifyOperationInProgress();const n=await NK(t);W(As,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>YN(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>YN(e.remoteStore,i)),t._onlineComponents=e}async function NK(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){W(As,"Using user provided OfflineComponentProvider");try{await y0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===U.FAILED_PRECONDITION||i.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;eu("Error using user provided cache. Falling back to memory cache: "+n),await y0(t,new wp)}}else W(As,"Using default OfflineComponentProvider"),await y0(t,new AK(void 0));return t._offlineComponents}async function pM(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(W(As,"Using user provided OnlineComponentProvider"),await tC(t,t._uninitializedComponentsProvider._online)):(W(As,"Using default OnlineComponentProvider"),await tC(t,new mx))),t._onlineComponents}function CK(t){return pM(t).then(e=>e.syncEngine)}async function Ep(t){const e=await pM(t),n=e.eventManager;return n.onListen=dK.bind(null,e.syncEngine),n.onUnlisten=pK.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=hK.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=gK.bind(null,e.syncEngine),n}function OK(t,e,n,r){const i=new i1(r),a=new t1(e,i,n);return t.asyncQueue.enqueueAndForget(async()=>Zw(await Ep(t),a)),()=>{i.Nu(),t.asyncQueue.enqueueAndForget(async()=>Jw(await Ep(t),a))}}function IK(t,e,n={}){const r=new Ki;return t.asyncQueue.enqueueAndForget(async()=>function(a,s,o,l,u){const c=new i1({next:m=>{c.Nu(),s.enqueueAndForget(()=>Jw(a,f));const p=m.docs.has(o);!p&&m.fromCache?u.reject(new G(U.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&m.fromCache&&l&&l.source==="server"?u.reject(new G(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),f=new t1(Wg(o.path),c,{includeMetadataChanges:!0,Ka:!0});return Zw(a,f)}(await Ep(t),t.asyncQueue,e,n,r)),r.promise}function RK(t,e,n={}){const r=new Ki;return t.asyncQueue.enqueueAndForget(async()=>function(a,s,o,l,u){const c=new i1({next:m=>{c.Nu(),s.enqueueAndForget(()=>Jw(a,f)),m.fromCache&&l.source==="server"?u.reject(new G(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),f=new t1(o,c,{includeMetadataChanges:!0,Ka:!0});return Zw(a,f)}(await Ep(t),t.asyncQueue,e,n,r)),r.promise}function PK(t,e){const n=new Ki;return t.asyncQueue.enqueueAndForget(async()=>yK(await CK(t),e,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gM(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jK="ComponentProvider",nC=new Map;function kK(t,e,n,r,i){return new eH(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,gM(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM="firestore.googleapis.com",rC=!0;class iC{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new G(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=yM,this.ssl=rC}else this.host=e.host,this.ssl=e.ssl??rC;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=YD;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<oG)throw new G(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Fq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gM(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new G(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new G(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new G(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class iy{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new iC({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new G(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new G(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new iC(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new jq;switch(r.type){case"firstParty":return new Lq(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new G(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=nC.get(n);r&&(W(jK,"Removing Datastore"),nC.delete(n),r.terminate())}(this),Promise.resolve()}}function DK(t,e,n,r={}){var u;t=ar(t,iy);const i=Rs(e),a=t._getSettings(),s={...a,emulatorOptions:t._getEmulatorOptions()},o=`${e}:${n}`;i&&(vw(`https://${o}`),bw("Firestore",!0)),a.host!==yM&&a.host!==o&&eu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...a,host:o,ssl:i,emulatorOptions:r};if(!wo(l,s)&&(t._setSettings(l),r.mockUserToken)){let c,f;if(typeof r.mockUserToken=="string")c=r.mockUserToken,f=mn.MOCK_USER;else{c=dk(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new G(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new mn(m)}t._authCredentials=new kq(new iD(c,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new pa(this.firestore,e,this._query)}}class pt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ds(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pt(this.firestore,e,this._key)}toJSON(){return{type:pt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(_d(n,pt._jsonSchema))return new pt(e,r||null,new J(Le.fromString(n.referencePath)))}}pt._jsonSchemaVersion="firestore/documentReference/1.0",pt._jsonSchema={type:Et("string",pt._jsonSchemaVersion),referencePath:Et("string")};class ds extends pa{constructor(e,n,r){super(e,n,Wg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pt(this.firestore,null,new J(e))}withConverter(e){return new ds(this.firestore,e,this._path)}}function pi(t,e,...n){if(t=Ge(t),aD("collection","path",e),t instanceof iy){const r=Le.fromString(e,...n);return yN(r),new ds(t,null,r)}{if(!(t instanceof pt||t instanceof ds))throw new G(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Le.fromString(e,...n));return yN(r),new ds(t.firestore,null,r)}}function Ar(t,e,...n){if(t=Ge(t),arguments.length===1&&(e=Pw.newId()),aD("doc","path",e),t instanceof iy){const r=Le.fromString(e,...n);return gN(r),new pt(t,null,new J(r))}{if(!(t instanceof pt||t instanceof ds))throw new G(U.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Le.fromString(e,...n));return gN(r),new pt(t.firestore,t instanceof ds?t.converter:null,new J(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC="AsyncQueue";class sC{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new JD(this,"async_queue_retry"),this._c=()=>{const r=g0();r&&W(aC,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=g0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=g0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Ki;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Cu(e))throw e;W(aC,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,aa("INTERNAL UNHANDLED ERROR: ",oC(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Xw.createAndSchedule(this,e,n,r,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&re(47125,{Pc:oC(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function oC(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class oa extends iy{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new sC,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new sC(e),this._firestoreClient=void 0,await e}}}function MK(t,e){const n=typeof t=="object"?t:ww(),r=typeof t=="string"?t:pp,i=Ug(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=uk("firestore");a&&DK(i,...a)}return i}function Td(t){if(t._terminated)throw new G(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||LK(t),t._firestoreClient}function LK(t){var r,i,a,s;const e=t._freezeSettings(),n=kK(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,(i=t._app)==null?void 0:i.options.apiKey,e);t._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new TK(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xr(ln.fromBase64String(e))}catch(n){throw new G(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new xr(ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:xr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(_d(e,xr._jsonSchema))return xr.fromBase64String(e.bytes)}}xr._jsonSchemaVersion="firestore/bytes/1.0",xr._jsonSchema={type:Et("string",xr._jsonSchemaVersion),bytes:Et("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new G(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new G(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new G(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ge(this._lat,e._lat)||ge(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:di._jsonSchemaVersion}}static fromJSON(e){if(_d(e,di._jsonSchema))return new di(e.latitude,e.longitude)}}di._jsonSchemaVersion="firestore/geoPoint/1.0",di._jsonSchema={type:Et("string",di._jsonSchemaVersion),latitude:Et("number"),longitude:Et("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Ur._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(_d(e,Ur._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Ur(e.vectorValues);throw new G(U.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ur._jsonSchemaVersion="firestore/vectorValue/1.0",Ur._jsonSchema={type:Et("string",Ur._jsonSchemaVersion),vectorValues:Et("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VK=/^__.*__$/;class UK{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ks(e,this.data,this.fieldMask,n,this.fieldTransforms):new wd(e,this.data,n,this.fieldTransforms)}}class vM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ks(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function bM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw re(40011,{dataSource:t})}}class a1{constructor(e,n,r,i,a,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.validatePath(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new a1({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Sp(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(bM(this.dataSource)&&VK.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class zK{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ty(e)}createContext(e,n,r,i=!1){return new a1({dataSource:e,methodName:n,targetDoc:r,path:nn.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sy(t){const e=t._freezeSettings(),n=ty(t._databaseId);return new zK(t._databaseId,!!e.ignoreUndefinedProperties,n)}function xM(t,e,n,r,i,a={}){const s=t.createContext(a.merge||a.mergeFields?2:0,e,n,i);l1("Data must be an object, but it was:",s,r);const o=EM(r,s);let l,u;if(a.merge)l=new Zn(s.fieldMask),u=s.fieldTransforms;else if(a.mergeFields){const c=[];for(const f of a.mergeFields){const m=su(e,f,n);if(!s.contains(m))throw new G(U.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);TM(c,m)||c.push(m)}l=new Zn(c),u=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=s.fieldTransforms;return new UK(new Ln(o),l,u)}class oy extends Nd{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof oy}}class s1 extends Nd{_toFieldTransform(e){return new DD(e.path,new If)}isEqual(e){return e instanceof s1}}class o1 extends Nd{constructor(e,n){super(e),this.Vc=n}_toFieldTransform(e){const n=new jf(e.serializer,ID(e.serializer,this.Vc));return new DD(e.path,n)}isEqual(e){return e instanceof o1&&this.Vc===e.Vc}}function _M(t,e,n,r){const i=t.createContext(1,e,n);l1("Data must be an object, but it was:",i,r);const a=[],s=Ln.empty();js(r,(l,u)=>{const c=AM(e,l,n);u=Ge(u);const f=i.childContextForFieldPath(c);if(u instanceof oy)a.push(c);else{const m=Cd(u,f);m!=null&&(a.push(c),s.set(c,m))}});const o=new Zn(a);return new vM(s,o,i.fieldTransforms)}function wM(t,e,n,r,i,a){const s=t.createContext(1,e,n),o=[su(e,r,n)],l=[i];if(a.length%2!=0)throw new G(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<a.length;m+=2)o.push(su(e,a[m])),l.push(a[m+1]);const u=[],c=Ln.empty();for(let m=o.length-1;m>=0;--m)if(!TM(u,o[m])){const p=o[m];let g=l[m];g=Ge(g);const _=s.childContextForFieldPath(p);if(g instanceof oy)u.push(p);else{const y=Cd(g,_);y!=null&&(u.push(p),c.set(p,y))}}const f=new Zn(u);return new vM(c,f,s.fieldTransforms)}function BK(t,e,n,r=!1){return Cd(n,t.createContext(r?4:3,e))}function Cd(t,e){if(SM(t=Ge(t)))return l1("Unsupported field value:",e,t),EM(t,e);if(t instanceof Nd)return function(r,i){if(!bM(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return function(r,i){const a=[];let s=0;for(const o of r){let l=Cd(o,i.childContextForArray(s));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),s++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=Ge(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return ID(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Fe.fromDate(r);return{timestampValue:bp(i.serializer,a)}}if(r instanceof Fe){const a=new Fe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:bp(i.serializer,a)}}if(r instanceof di)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof xr)return{bytesValue:BD(i.serializer,r._byteString)};if(r instanceof pt){const a=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(a))throw i.createError(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Bw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ur)return function(s,o){const l=s instanceof Ur?s.toArray():s;return{mapValue:{fields:{[mD]:{stringValue:pD},[gp]:{arrayValue:{values:l.map(c=>{if(typeof c!="number")throw o.createError("VectorValues must only contain numeric values.");return Vw(o.serializer,c)})}}}}}}(r,i);if(WD(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${qg(r)}`)}(t,e)}function EM(t,e){const n={};return lD(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):js(t,(r,i)=>{const a=Cd(i,e.childContextForField(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function SM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Fe||t instanceof di||t instanceof xr||t instanceof pt||t instanceof Nd||t instanceof Ur||WD(t))}function l1(t,e,n){if(!SM(n)||!sD(n)){const r=qg(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function su(t,e,n){if((e=Ge(e))instanceof ay)return e._internalPath;if(typeof e=="string")return AM(t,e);throw Sp("Field path arguments must be of type string or ",t,!1,void 0,n)}const $K=new RegExp("[~\\*/\\[\\]]");function AM(t,e,n){if(e.search($K)>=0)throw Sp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ay(...e.split("."))._internalPath}catch{throw Sp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Sp(t,e,n,r,i){const a=r&&!r.isEmpty(),s=i!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||s)&&(l+=" (found",a&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new G(U.INVALID_ARGUMENT,o+t+l)}function TM(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FK{convertValue(e,n="none"){switch(Es(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ws(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw re(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return js(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var r,i,a;const n=(a=(i=(r=e.fields)==null?void 0:r[gp].arrayValue)==null?void 0:i.values)==null?void 0:a.map(s=>ht(s.doubleValue));return new Ur(n)}convertGeoPoint(e){return new di(ht(e.latitude),ht(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Kg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Tf(e));default:return null}}convertTimestamp(e){const n=_s(e);return new Fe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Le.fromString(e);Te(KD(r),9688,{name:e});const i=new Nf(r.get(1),r.get(3)),a=new J(r.popFirst(5));return i.isEqual(n)||aa(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1 extends FK{constructor(e){super(),this.firestore=e}convertBytes(e){return new xr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new pt(this.firestore,null,n)}}function NM(){return new s1("serverTimestamp")}function qK(t){return new o1("increment",t)}const lC="@firebase/firestore",uC="4.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new HK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(su("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class HK extends CM{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new G(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class c1{}class f1 extends c1{}function d1(t,e,...n){let r=[];e instanceof c1&&r.push(e),r=r.concat(n),function(a){const s=a.filter(l=>l instanceof m1).length,o=a.filter(l=>l instanceof h1).length;if(s>1||s>0&&o>0)throw new G(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class h1 extends f1{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new h1(e,n,r)}_apply(e){const n=this._parse(e);return RM(e._query,n),new pa(e.firestore,e.converter,ax(e._query,n))}_parse(e){const n=sy(e.firestore);return function(a,s,o,l,u,c,f){let m;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new G(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){dC(f,c);const g=[];for(const _ of f)g.push(fC(l,a,_));m={arrayValue:{values:g}}}else m=fC(l,a,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||dC(f,c),m=BK(o,s,f,c==="in"||c==="not-in");return _t.create(u,c,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class m1 extends c1{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new m1(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Fr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,a){let s=i;const o=a.getFlattenedFilters();for(const l of o)RM(s,l),s=ax(s,l)}(e._query,n),new pa(e.firestore,e.converter,ax(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class p1 extends f1{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new p1(e,n)}_apply(e){const n=function(i,a,s){if(i.startAt!==null)throw new G(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new G(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Of(a,s)}(e._query,this._field,this._direction);return new pa(e.firestore,e.converter,vH(e._query,n))}}function IM(t,e="asc"){const n=e,r=su("orderBy",t);return p1._create(r,n)}class g1 extends f1{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new g1(e,n,r)}_apply(e){return new pa(e.firestore,e.converter,vp(e._query,this._limit,this._limitType))}}function GK(t){return g1._create("limit",t,"F")}function fC(t,e,n){if(typeof(n=Ge(n))=="string"){if(n==="")throw new G(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ED(e)&&n.indexOf("/")!==-1)throw new G(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Le.fromString(n));if(!J.isDocumentKey(r))throw new G(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return AN(t,new J(r))}if(n instanceof pt)return AN(t,n._key);throw new G(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qg(n)}.`)}function dC(t,e){if(!Array.isArray(t)||t.length===0)throw new G(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function RM(t,e){const n=function(i,a){for(const s of i)for(const o of s.getFlattenedFilters())if(a.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new G(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new G(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function PM(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class kc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class uo extends CM{constructor(e,n,r,i,a,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new _m(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(su("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new G(U.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=uo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}uo._jsonSchemaVersion="firestore/documentSnapshot/1.0",uo._jsonSchema={type:Et("string",uo._jsonSchemaVersion),bundleSource:Et("string","DocumentSnapshot"),bundleName:Et("string"),bundle:Et("string")};class _m extends uo{data(e={}){return super.data(e)}}class co{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new kc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new _m(this._firestore,this._userDataWriter,r.key,r,new kc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new G(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(o=>{const l=new _m(i._firestore,i._userDataWriter,o.doc.key,o.doc,new kc(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>a||o.type!==3).map(o=>{const l=new _m(i._firestore,i._userDataWriter,o.doc.key,o.doc,new kc(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return o.type!==0&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:KK(o.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new G(U.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=co._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Pw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function KK(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return re(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */co._jsonSchemaVersion="firestore/querySnapshot/1.0",co._jsonSchema={type:Et("string",co._jsonSchemaVersion),bundleSource:Et("string","QuerySnapshot"),bundleName:Et("string"),bundle:Et("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WK{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=sy(e)}set(e,n,r){this._verifyNotCommitted();const i=v0(e,this._firestore),a=PM(i.converter,n,r),s=xM(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,Bn.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const a=v0(e,this._firestore);let s;return s=typeof(n=Ge(n))=="string"||n instanceof ay?wM(this._dataReader,"WriteBatch.update",a._key,n,r,i):_M(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(s.toMutation(a._key,Bn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=v0(e,this._firestore);return this._mutations=this._mutations.concat(new Jg(n._key,Bn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new G(U.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function v0(t,e){if((t=Ge(t)).firestore!==e)throw new G(U.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(t){t=ar(t,pt);const e=ar(t.firestore,oa),n=Td(e);return IK(n,t._key).then(r=>kM(e,t,r))}function YK(t){t=ar(t,pa);const e=ar(t.firestore,oa),n=Td(e),r=new u1(e);return OM(t._query),RK(n,t._query).then(i=>new co(e,r,t,i))}function kf(t,e,n,...r){t=ar(t,pt);const i=ar(t.firestore,oa),a=sy(i);let s;return s=typeof(e=Ge(e))=="string"||e instanceof ay?wM(a,"updateDoc",t._key,e,n,r):_M(a,"updateDoc",t._key,e),uy(i,[s.toMutation(t._key,Bn.exists(!0))])}function jM(t){return uy(ar(t.firestore,oa),[new Jg(t._key,Bn.none())])}function ly(t,e){const n=ar(t.firestore,oa),r=Ar(t),i=PM(t.converter,e),a=sy(t.firestore);return uy(n,[xM(a,"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Bn.exists(!1))]).then(()=>r)}function Od(t,...e){var u,c,f;t=Ge(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||cC(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(cC(e[r])){const m=e[r];e[r]=(u=m.next)==null?void 0:u.bind(m),e[r+1]=(c=m.error)==null?void 0:c.bind(m),e[r+2]=(f=m.complete)==null?void 0:f.bind(m)}let a,s,o;if(t instanceof pt)s=ar(t.firestore,oa),o=Wg(t._key.path),a={next:m=>{e[r]&&e[r](kM(s,t,m))},error:e[r+1],complete:e[r+2]};else{const m=ar(t,pa);s=ar(m.firestore,oa),o=m._query;const p=new u1(s);a={next:g=>{e[r]&&e[r](new co(s,p,m,g))},error:e[r+1],complete:e[r+2]},OM(t._query)}const l=Td(s);return OK(l,o,i,a)}function uy(t,e){const n=Td(t);return PK(n,e)}function kM(t,e,n){const r=n.docs.get(e._key),i=new u1(t);return new uo(t,i,e._key,r,new kc(n.hasPendingWrites,n.fromCache),e.converter)}function XK(t){return t=ar(t,oa),Td(t),new WK(t,e=>uy(t,e))}(function(e,n=!0){Pq(Bo),Eo(new bs("firestore",(r,{instanceIdentifier:i,options:a})=>{const s=r.getProvider("app").getImmediate(),o=new oa(new Dq(r.getProvider("auth-internal")),new Vq(s,r.getProvider("app-check-internal")),tH(s,i),s);return a={useFetchStreams:n,...a},o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),oi(lC,uC,e),oi(lC,uC,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM="firebasestorage.googleapis.com",MM="storageBucket",QK=2*60*1e3,ZK=10*60*1e3,JK=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt extends Si{constructor(e,n,r=0){super(b0(e),`Firebase Storage: ${n} (${b0(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,rt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return b0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ke;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ke||(Ke={}));function b0(t){return"storage/"+t}function v1(){const t="An unknown error occurred, please check the error payload for server response.";return new rt(Ke.UNKNOWN,t)}function eW(t){return new rt(Ke.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function tW(t){return new rt(Ke.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function nW(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new rt(Ke.UNAUTHENTICATED,t)}function rW(){return new rt(Ke.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function iW(t){return new rt(Ke.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function LM(){return new rt(Ke.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function VM(){return new rt(Ke.CANCELED,"User canceled the upload/download.")}function aW(t){return new rt(Ke.INVALID_URL,"Invalid URL '"+t+"'.")}function sW(t){return new rt(Ke.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function oW(){return new rt(Ke.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+MM+"' property when initializing the app?")}function UM(){return new rt(Ke.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function lW(){return new rt(Ke.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function uW(){return new rt(Ke.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function cW(t){return new rt(Ke.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function px(t){return new rt(Ke.INVALID_ARGUMENT,t)}function zM(){return new rt(Ke.APP_DELETED,"The Firebase app was deleted.")}function fW(t){return new rt(Ke.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function af(t,e){return new rt(Ke.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function pc(t){throw new rt(Ke.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Jn.makeFromUrl(e,n)}catch{return new Jn(e,"")}if(r.path==="")return r;throw sW(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(N){N.path.charAt(N.path.length-1)==="/"&&(N.path_=N.path_.slice(0,-1))}const s="(/(.*))?$",o=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function u(N){N.path_=decodeURIComponent(N.path)}const c="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",p=new RegExp(`^https?://${f}/${c}/b/${i}/o${m}`,"i"),g={bucket:1,path:3},_=n===DM?"(?:storage.googleapis.com|storage.cloud.google.com)":n,y="([^?#]*)",w=new RegExp(`^https?://${_}/${i}/${y}`,"i"),E=[{regex:o,indices:l,postModify:a},{regex:p,indices:g,postModify:u},{regex:w,indices:{bucket:1,path:2},postModify:u}];for(let N=0;N<E.length;N++){const P=E[N],k=P.regex.exec(e);if(k){const T=k[P.indices.bucket];let A=k[P.indices.path];A||(A=""),r=new Jn(T,A),P.postModify(r);break}}if(r==null)throw aW(e);return r}}class dW{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hW(t,e,n){let r=1,i=null,a=null,s=!1,o=0;function l(){return o===2}let u=!1;function c(...y){u||(u=!0,e.apply(null,y))}function f(y){i=setTimeout(()=>{i=null,t(p,l())},y)}function m(){a&&clearTimeout(a)}function p(y,...w){if(u){m();return}if(y){m(),c.call(null,y,...w);return}if(l()||s){m(),c.call(null,y,...w);return}r<64&&(r*=2);let E;o===1?(o=2,E=0):E=(r+Math.random())*1e3,f(E)}let g=!1;function _(y){g||(g=!0,m(),!u&&(i!==null?(y||(o=2),clearTimeout(i),f(0)):y||(o=1)))}return f(0),a=setTimeout(()=>{s=!0,_(!0)},n),_}function mW(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pW(t){return t!==void 0}function gW(t){return typeof t=="function"}function yW(t){return typeof t=="object"&&!Array.isArray(t)}function cy(t){return typeof t=="string"||t instanceof String}function hC(t){return b1()&&t instanceof Blob}function b1(){return typeof Blob<"u"}function mC(t,e,n,r){if(r<e)throw px(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw px(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Id(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function BM(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var fo;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(fo||(fo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $M(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vW{constructor(e,n,r,i,a,s,o,l,u,c,f,m=!0,p=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=f,this.retry=m,this.isUsingEmulator=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,_)=>{this.resolve_=g,this.reject_=_,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Rh(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const s=o=>{const l=o.loaded,u=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&a.addUploadProgressListener(s),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(s),this.pendingConnection_=null;const o=a.getErrorCode()===fo.NO_ERROR,l=a.getStatus();if(!o||$M(l,this.additionalRetryCodes_)&&this.retry){const c=a.getErrorCode()===fo.ABORT;r(!1,new Rh(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Rh(u,a))})},n=(r,i)=>{const a=this.resolve_,s=this.reject_,o=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(o,o.getResponse());pW(l)?a(l):a()}catch(l){s(l)}else if(o!==null){const l=v1();l.serverResponse=o.getErrorText(),this.errorCallback_?s(this.errorCallback_(o,l)):s(l)}else if(i.canceled){const l=this.appDelete_?zM():VM();s(l)}else{const l=LM();s(l)}};this.canceled_?n(!1,new Rh(!1,null,!0)):this.backoffId_=hW(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&mW(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Rh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function bW(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function xW(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function _W(t,e){e&&(t["X-Firebase-GMPID"]=e)}function wW(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function EW(t,e,n,r,i,a,s=!0,o=!1){const l=BM(t.urlParams),u=t.url+l,c=Object.assign({},t.headers);return _W(c,e),bW(c,n),xW(c,a),wW(c,r),new vW(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SW(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function AW(...t){const e=SW();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(b1())return new Blob(t);throw new rt(Ke.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function TW(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NW(t){if(typeof atob>"u")throw cW("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ri={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class x0{constructor(e,n){this.data=e,this.contentType=n||null}}function CW(t,e){switch(t){case ri.RAW:return new x0(FM(e));case ri.BASE64:case ri.BASE64URL:return new x0(qM(t,e));case ri.DATA_URL:return new x0(IW(e),RW(e))}throw v1()}function FM(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,s=t.charCodeAt(++n);r=65536|(a&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function OW(t){let e;try{e=decodeURIComponent(t)}catch{throw af(ri.DATA_URL,"Malformed data URL.")}return FM(e)}function qM(t,e){switch(t){case ri.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw af(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case ri.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw af(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=NW(e)}catch(i){throw i.message.includes("polyfill")?i:af(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class HM{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw af(ri.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=PW(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function IW(t){const e=new HM(t);return e.base64?qM(ri.BASE64,e.rest):OW(e.rest)}function RW(t){return new HM(t).contentType}function PW(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e,n){let r=0,i="";hC(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(hC(this.data_)){const r=this.data_,i=TW(r,e,n);return i===null?null:new qa(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new qa(r,!0)}}static getBlob(...e){if(b1()){const n=e.map(r=>r instanceof qa?r.data_:r);return new qa(AW.apply(null,n))}else{const n=e.map(s=>cy(s)?CW(ri.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let a=0;return n.forEach(s=>{for(let o=0;o<s.length;o++)i[a++]=s[o]}),new qa(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GM(t){let e;try{e=JSON.parse(t)}catch{return null}return yW(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jW(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function kW(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function KM(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DW(t,e){return e}class wn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||DW}}let Ph=null;function MW(t){return!cy(t)||t.length<2?t:KM(t)}function WM(){if(Ph)return Ph;const t=[];t.push(new wn("bucket")),t.push(new wn("generation")),t.push(new wn("metageneration")),t.push(new wn("name","fullPath",!0));function e(a,s){return MW(s)}const n=new wn("name");n.xform=e,t.push(n);function r(a,s){return s!==void 0?Number(s):s}const i=new wn("size");return i.xform=r,t.push(i),t.push(new wn("timeCreated")),t.push(new wn("updated")),t.push(new wn("md5Hash",null,!0)),t.push(new wn("cacheControl",null,!0)),t.push(new wn("contentDisposition",null,!0)),t.push(new wn("contentEncoding",null,!0)),t.push(new wn("contentLanguage",null,!0)),t.push(new wn("contentType",null,!0)),t.push(new wn("metadata","customMetadata",!0)),Ph=t,Ph}function LW(t,e){function n(){const r=t.bucket,i=t.fullPath,a=new Jn(r,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function VW(t,e,n){const r={};r.type="file";const i=n.length;for(let a=0;a<i;a++){const s=n[a];r[s.local]=s.xform(r,e[s.server])}return LW(r,t),r}function YM(t,e,n){const r=GM(e);return r===null?null:VW(t,r,n)}function UW(t,e,n,r){const i=GM(e);if(i===null||!cy(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const s=encodeURIComponent;return a.split(",").map(u=>{const c=t.bucket,f=t.fullPath,m="/b/"+s(c)+"/o/"+s(f),p=Id(m,n,r),g=BM({alt:"media",token:u});return p+g})[0]}function XM(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class Ru{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wi(t){if(!t)throw v1()}function x1(t,e){function n(r,i){const a=YM(t,i,e);return Wi(a!==null),a}return n}function zW(t,e){function n(r,i){const a=YM(t,i,e);return Wi(a!==null),UW(a,i,t.host,t._protocol)}return n}function Rd(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=rW():i=nW():n.getStatus()===402?i=tW(t.bucket):n.getStatus()===403?i=iW(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function QM(t){const e=Rd(t);function n(r,i){let a=e(r,i);return r.getStatus()===404&&(a=eW(t.path)),a.serverResponse=i.serverResponse,a}return n}function BW(t,e,n){const r=e.fullServerUrl(),i=Id(r,t.host,t._protocol),a="GET",s=t.maxOperationRetryTime,o=new Ru(i,a,x1(t,n),s);return o.errorHandler=QM(e),o}function $W(t,e,n){const r=e.fullServerUrl(),i=Id(r,t.host,t._protocol),a="GET",s=t.maxOperationRetryTime,o=new Ru(i,a,zW(t,n),s);return o.errorHandler=QM(e),o}function FW(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function ZM(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=FW(null,e)),r}function qW(t,e,n,r,i){const a=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function o(){let E="";for(let N=0;N<2;N++)E=E+Math.random().toString().slice(2);return E}const l=o();s["Content-Type"]="multipart/related; boundary="+l;const u=ZM(e,r,i),c=XM(u,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,m=`\r
--`+l+"--",p=qa.getBlob(f,r,m);if(p===null)throw UM();const g={name:u.fullPath},_=Id(a,t.host,t._protocol),y="POST",w=t.maxUploadRetryTime,x=new Ru(_,y,x1(t,n),w);return x.urlParams=g,x.headers=s,x.body=p.uploadData(),x.errorHandler=Rd(e),x}class Ap{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function _1(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Wi(!1)}return Wi(!!n&&(e||["active"]).indexOf(n)!==-1),n}function HW(t,e,n,r,i){const a=e.bucketOnlyServerUrl(),s=ZM(e,r,i),o={name:s.fullPath},l=Id(a,t.host,t._protocol),u="POST",c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},f=XM(s,n),m=t.maxUploadRetryTime;function p(_){_1(_);let y;try{y=_.getResponseHeader("X-Goog-Upload-URL")}catch{Wi(!1)}return Wi(cy(y)),y}const g=new Ru(l,u,p,m);return g.urlParams=o,g.headers=c,g.body=f,g.errorHandler=Rd(e),g}function GW(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function a(u){const c=_1(u,["active","final"]);let f=null;try{f=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Wi(!1)}f||Wi(!1);const m=Number(f);return Wi(!isNaN(m)),new Ap(m,r.size(),c==="final")}const s="POST",o=t.maxUploadRetryTime,l=new Ru(n,s,a,o);return l.headers=i,l.errorHandler=Rd(e),l}const pC=256*1024;function KW(t,e,n,r,i,a,s,o){const l=new Ap(0,0);if(s?(l.current=s.current,l.total=s.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw lW();const u=l.total-l.current;let c=u;i>0&&(c=Math.min(c,i));const f=l.current,m=f+c;let p="";c===0?p="finalize":u===c?p="upload, finalize":p="upload";const g={"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":`${l.current}`},_=r.slice(f,m);if(_===null)throw UM();function y(N,P){const k=_1(N,["active","final"]),T=l.current+c,A=r.size();let C;return k==="final"?C=x1(e,a)(N,P):C=null,new Ap(T,A,k==="final",C)}const w="POST",x=e.maxUploadRetryTime,E=new Ru(n,w,y,x);return E.headers=g,E.body=_.uploadData(),E.progressCallback=o||null,E.errorHandler=Rd(t),E}const Mn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function _0(t){switch(t){case"running":case"pausing":case"canceling":return Mn.RUNNING;case"paused":return Mn.PAUSED;case"success":return Mn.SUCCESS;case"canceled":return Mn.CANCELED;case"error":return Mn.ERROR;default:return Mn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WW{constructor(e,n,r){if(gW(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const a=e;this.next=a.next,this.error=a.error,this.complete=a.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zo(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class YW{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=fo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=fo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=fo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,a){if(this.sent_)throw pc("cannot .send() more than once");if(Rs(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const s in a)a.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,a[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw pc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw pc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw pc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw pc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class XW extends YW{initXhr(){this.xhr_.responseType="text"}}function cl(){return new XW}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QW{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=WM(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Ke.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const a=this.isExponentialBackoffExpired();if($M(i.status,[]))if(a)i=LM();else{this.sleepTime=Math.max(this.sleepTime*2,JK),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Ke.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,a)=>{this._resolve=i,this._reject=a,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=HW(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,cl,e,n);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=GW(this._ref.storage,this._ref._location,e,this._blob),a=this._ref.storage._makeRequest(i,cl,n,r);this._request=a,a.getPromise().then(s=>{s=s,this._request=void 0,this._updateProgress(s.current),this._needToFetchStatus=!1,s.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=pC*this._chunkMultiplier,n=new Ap(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,a)=>{let s;try{s=KW(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const o=this._ref.storage._makeRequest(s,cl,i,a,!1);this._request=o,o.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){pC*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=BW(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,cl,e,n);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=qW(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,cl,e,n);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=VM(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=_0(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const a=new WW(n||void 0,r||void 0,i||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(_0(this._state)){case Mn.SUCCESS:Zo(this._resolve.bind(null,this.snapshot))();break;case Mn.CANCELED:case Mn.ERROR:const n=this._reject;Zo(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(_0(this._state)){case Mn.RUNNING:case Mn.PAUSED:e.next&&Zo(e.next.bind(e,this.snapshot))();break;case Mn.SUCCESS:e.complete&&Zo(e.complete.bind(e))();break;case Mn.CANCELED:case Mn.ERROR:e.error&&Zo(e.error.bind(e,this._error))();break;default:e.error&&Zo(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,n){this._service=e,n instanceof Jn?this._location=n:this._location=Jn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new No(e,n)}get root(){const e=new Jn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return KM(this._location.path)}get storage(){return this._service}get parent(){const e=jW(this._location.path);if(e===null)return null;const n=new Jn(this._location.bucket,e);return new No(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw fW(e)}}function ZW(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new QW(t,new qa(e),n)}function JW(t){t._throwIfRoot("getDownloadURL");const e=$W(t.storage,t._location,WM());return t.storage.makeRequestWithTokens(e,cl).then(n=>{if(n===null)throw uW();return n})}function eY(t,e){const n=kW(t._location.path,e),r=new Jn(t._location.bucket,n);return new No(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tY(t){return/^[A-Za-z]+:\/\//.test(t)}function nY(t,e){return new No(t,e)}function JM(t,e){if(t instanceof w1){const n=t;if(n._bucket==null)throw oW();const r=new No(n,n._bucket);return e!=null?JM(r,e):r}else return e!==void 0?eY(t,e):t}function rY(t,e){if(e&&tY(e)){if(t instanceof w1)return nY(t,e);throw px("To use ref(service, url), the first argument must be a Storage instance.")}else return JM(t,e)}function gC(t,e){const n=e==null?void 0:e[MM];return n==null?null:Jn.makeFromBucketSpec(n,t)}function iY(t,e,n,r={}){t.host=`${e}:${n}`;const i=Rs(e);i&&(vw(`https://${t.host}/b`),bw("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:dk(a,t.app.options.projectId))}class w1{constructor(e,n,r,i,a,s=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=s,this._bucket=null,this._host=DM,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=QK,this._maxUploadRetryTime=ZK,this._requests=new Set,i!=null?this._bucket=Jn.makeFromBucketSpec(i,this._host):this._bucket=gC(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Jn.makeFromBucketSpec(this._url,e):this._bucket=gC(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){mC("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){mC("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(br(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new No(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new dW(zM());{const s=EW(e,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const yC="@firebase/storage",vC="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4="storage";function aY(t,e,n){return t=Ge(t),ZW(t,e,n)}function sY(t){return t=Ge(t),JW(t)}function oY(t,e){return t=Ge(t),rY(t,e)}function lY(t=ww(),e){t=Ge(t);const r=Ug(t,e4).getImmediate({identifier:e}),i=uk("storage");return i&&uY(r,...i),r}function uY(t,e,n,r={}){iY(t,e,n,r)}function cY(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new w1(n,r,i,e,Bo)}function fY(){Eo(new bs(e4,cY,"PUBLIC").setMultipleInstances(!0)),oi(yC,vC,""),oi(yC,vC,"esm2020")}fY();const dY={apiKey:"AIzaSyCIPE6DWpsUhDwRz9r5WMnsLGV4f8y-X2s",authDomain:"ambrosia-web-bc4f9.firebaseapp.com",projectId:"ambrosia-web-bc4f9",storageBucket:"ambrosia-web-bc4f9.firebasestorage.app",messagingSenderId:"768539470516",appId:"1:768539470516:web:d9f3705b1c79d35147c5e1",measurementId:"G-08Y4G38JM3"},E1=pk(dY),Df=Iq(E1),ut=MK(E1),hY=lY(E1),t4=b.createContext(),mY=()=>b.useContext(t4),pY=({children:t})=>{const[e,n]=b.useState(null),[r,i]=b.useState(null),[a,s]=b.useState(!0);b.useEffect(()=>b7(Df,async u=>{if(u){try{const c=await y1(Ar(ut,"users",u.uid));c.exists()?i(c.data().role):i("customer")}catch(c){console.error("AuthProvider: Error fetching role",c)}n(u)}else n(null),i(null);s(!1)}),[]);const o={currentUser:e,userRole:r,loading:a,isAdmin:r==="admin"};return d.jsx(t4.Provider,{value:o,children:!a&&t})},gY=()=>{const[t,e]=b.useState(!1),{cartCount:n}=pd();b.useEffect(()=>{const s=()=>{e(window.scrollY>50)};return window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s)},[]);const[r,i]=b.useState(!1),a=()=>{i(!r)};return d.jsx("nav",{className:`navbar ${t?"scrolled":""}`,children:d.jsxs("div",{className:"nav-container",children:[d.jsx(et,{to:"/",className:"nav-logo",children:"Ambrosia"}),d.jsxs("div",{className:"nav-links",children:[d.jsx(Sn,{to:"/",className:({isActive:s})=>`nav-link ${s?"active":""}`,end:!0,children:"Home"}),d.jsx(Sn,{to:"/shop",className:({isActive:s})=>`nav-link ${s?"active":""}`,children:"Shop"}),d.jsx(Sn,{to:"/about-cinnamon",className:({isActive:s})=>`nav-link ${s?"active":""}`,children:"Cinnamon"}),d.jsx(Sn,{to:"/recipes",className:({isActive:s})=>`nav-link ${s?"active":""}`,children:"Recipes"}),d.jsx(Sn,{to:"/contact",className:({isActive:s})=>`nav-link ${s?"active":""}`,children:"Contact"})]}),d.jsxs("div",{className:"nav-actions flex items-center gap-6",children:[d.jsxs(et,{to:"/cart",className:"cart-link relative text-white hover:text-gold transition-colors",children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("circle",{cx:"9",cy:"21",r:"1"}),d.jsx("circle",{cx:"20",cy:"21",r:"1"}),d.jsx("path",{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"})]}),n>0&&d.jsx("span",{className:"cart-badge absolute -top-2 -right-2 bg-gold text-black text-[10px] font-bold w-5 h-5 rounded-full flex items-center justify-center",children:n})]}),d.jsx(et,{to:"/shop",className:"btn-outline nav-btn",children:"Shop Now"}),d.jsx("div",{className:"nav-toggle",onClick:a,children:r?d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),d.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}):d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),d.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),d.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})})]}),d.jsx("div",{className:`mobile-menu ${r?"active":""}`,children:d.jsxs("div",{className:"mobile-nav-links",children:[d.jsx(Sn,{to:"/",onClick:a,className:({isActive:s})=>`mobile-link ${s?"active":""}`,end:!0,children:"Home"}),d.jsx(Sn,{to:"/shop",onClick:a,className:({isActive:s})=>`mobile-link ${s?"active":""}`,children:"Shop"}),d.jsx(Sn,{to:"/about-cinnamon",onClick:a,className:({isActive:s})=>`mobile-link ${s?"active":""}`,children:"Cinnamon"}),d.jsx(Sn,{to:"/recipes",onClick:a,className:({isActive:s})=>`mobile-link ${s?"active":""}`,children:"Recipes"}),d.jsx(Sn,{to:"/contact",onClick:a,className:({isActive:s})=>`mobile-link ${s?"active":""}`,children:"Contact"}),d.jsx(et,{to:"/shop",onClick:a,className:"btn-primary mt-8 inline-block text-center",children:"Shop Now"})]})})]})})},yY=()=>{const[t,e]=b.useState(""),[n,r]=b.useState("idle"),i=async a=>{if(a.preventDefault(),!!t){r("loading");try{await ly(pi(ut,"subscribers"),{email:t,date:new Date().toISOString()}),r("success"),e("")}catch(s){console.error("Error subscribing:",s),r("error")}}};return d.jsx("footer",{className:"footer",children:d.jsxs("div",{className:"container",children:[d.jsxs("div",{className:"footer-content",children:[d.jsxs("div",{className:"footer-column",children:[d.jsx("h4",{className:"font-heading",children:"Ambrosia"}),d.jsx("p",{className:"text-gray-500 text-sm leading-7",children:"Delivering the 100% authentic essence of Sri Lankan Ceylon Cinnamon to the world. A commitment to purity, heritage, and health."})]}),d.jsxs("div",{className:"footer-column",children:[d.jsx("h4",{children:"Quick Links"}),d.jsxs("ul",{children:[d.jsx("li",{children:d.jsx(et,{to:"/shop",children:"Online Store"})}),d.jsx("li",{children:d.jsx(et,{to:"/about-cinnamon",children:"About Cinnamon"})}),d.jsx("li",{children:d.jsx(et,{to:"/recipes",children:"Recipes & Blog"})}),d.jsx("li",{children:d.jsx(et,{to:"/faq",children:"FAQs"})})]})]}),d.jsxs("div",{className:"footer-column",children:[d.jsx("h4",{children:"Support"}),d.jsxs("ul",{children:[d.jsx("li",{children:d.jsx(et,{to:"/contact",children:"Contact Us"})}),d.jsx("li",{children:d.jsx(et,{to:"/privacy",children:"Privacy Policy"})}),d.jsx("li",{children:d.jsx(et,{to:"/terms",children:"Terms & Conditions"})})]})]}),d.jsxs("div",{className:"footer-column",children:[d.jsx("h4",{children:"Newsletter"}),n==="success"?d.jsxs("div",{className:"mt-4 p-4 bg-green-500/10 border border-green-500/20 rounded-lg text-green-400 text-sm text-center",children:[d.jsx("span",{className:"block text-xl mb-1",children:""}),"Thank you for subscribing!"]}):d.jsxs("form",{className:"newsletter-form mt-4",onSubmit:i,children:[d.jsx("input",{type:"email",placeholder:"Your email address",className:"bg-[#1a1a1a] border border-white/10 p-2 text-sm w-full mb-2 focus:border-gold outline-none transition-colors text-white",value:t,onChange:a=>e(a.target.value),required:!0}),d.jsx("button",{type:"submit",disabled:n==="loading",className:"btn-outline w-full py-2 text-xs disabled:opacity-50",children:n==="loading"?"Subscribing...":"Subscribe"}),n==="error"&&d.jsx("p",{className:"text-red-500 text-xs mt-2",children:"Something went wrong. Try again."})]})]})]}),d.jsx("div",{className:"footer-bottom",children:d.jsx("p",{children:" 2026 Ambrosia 100% Sri Lankan Cinnamon. All rights reserved."})})]})})},vY="/Ambrosia/assets/hero_bg-Cd28FfOR.png",bY=()=>d.jsxs("section",{id:"home",className:"hero",children:[d.jsxs("div",{className:"hero-bg",children:[d.jsx("img",{src:vY,alt:"Cinnamon Background"}),d.jsx("div",{className:"hero-overlay"})]}),d.jsxs("div",{className:"hero-content",children:[d.jsx("span",{className:"hero-eyebrow",children:"Ambrosia  Pure, Premium 100% Sri Lankan Cinnamon"}),d.jsx("h1",{className:"hero-title",children:"Divine Essence"}),d.jsx("p",{className:"hero-desc",children:"Experience the gold standard of spices. 100% authentic, hand-harvested Ceylon cinnamon from the heart of Sri Lanka."}),d.jsxs("div",{className:"hero-actions",children:[d.jsx("a",{href:"#products",className:"btn",children:"Shop Now"}),d.jsx("a",{href:"#heritage",className:"btn btn-outline",style:{marginLeft:"1rem"},children:"Learn More"})]})]})]}),xY=()=>d.jsx("section",{id:"heritage",className:"brand-intro-section",children:d.jsx("div",{className:"container",children:d.jsxs("div",{className:"intro-grid",children:[d.jsxs("div",{className:"intro-text",children:[d.jsx("span",{className:"gold-label",children:"Our Mission"}),d.jsx("h2",{className:"text-4xl font-heading mb-6 text-white",children:"Ambrosia  Pure, Premium 100% Sri Lankan Cinnamon"}),d.jsx("p",{className:"intro-p",children:"Born from the sun-drenched coastal gardens of Sri Lanka, Ambrosia is a tribute to the legendary 'Gold of the East'. We specialize exclusively in true Ceylon Cinnamon (Cinnamomum Verum)  the only 100% authentic, low-coumarin variety that offers genuine health benefits and a sophisticated sweetness."}),d.jsx("p",{className:"intro-p",children:"Our mission is simple: To bring the finest grade cinnamon, usually reserved for the royal houses of the world, directly to your kitchen."})]}),d.jsxs("div",{className:"quick-links",children:[d.jsx("h3",{className:"text-xl font-heading mb-6 text-gold",children:"Explore Ambrosia"}),d.jsxs("div",{className:"links-stack",children:[d.jsxs(et,{to:"/shop",className:"quick-link-item",children:[d.jsx("span",{className:"link-icon",children:""}),d.jsxs("div",{className:"link-content",children:[d.jsx("h4",{children:"Online Shop"}),d.jsx("p",{children:"Browse our sticks, powders, and blends."})]})]}),d.jsxs(et,{to:"/about-cinnamon",className:"quick-link-item",children:[d.jsx("span",{className:"link-icon",children:""}),d.jsxs("div",{className:"link-content",children:[d.jsx("h4",{children:"About Cinnamon"}),d.jsx("p",{children:"Learn the difference between Ceylon and Cassia."})]})]}),d.jsxs(et,{to:"/recipes",className:"quick-link-item",children:[d.jsx("span",{className:"link-icon",children:""}),d.jsxs("div",{className:"link-content",children:[d.jsx("h4",{children:"Recipes & Blog"}),d.jsx("p",{children:"Discover healthy ways to use cinnamon."})]})]})]})]})]})})});/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Y=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wY=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bC=t=>{const e=wY(t);return e.charAt(0).toUpperCase()+e.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var EY={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SY=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AY=b.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...o},l)=>b.createElement("svg",{ref:l,...EY,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:n4("lucide",i),...!a&&!SY(o)&&{"aria-hidden":"true"},...o},[...s.map(([u,c])=>b.createElement(u,c)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=(t,e)=>{const n=b.forwardRef(({className:r,...i},a)=>b.createElement(AY,{ref:a,iconNode:e,className:n4(`lucide-${_Y(bC(t))}`,`lucide-${t}`,r),...i}));return n.displayName=bC(t),n};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TY=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],NY=ct("activity",TY);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CY=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],OY=ct("arrow-up-right",CY);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IY=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],RY=ct("clock",IY);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PY=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],gx=ct("dollar-sign",PY);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jY=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],kY=ct("ellipsis",jY);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DY=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],wm=ct("image",DY);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MY=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],LY=ct("layout-dashboard",MY);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VY=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],UY=ct("log-out",VY);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zY=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Mf=ct("mail",zY);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BY=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],$Y=ct("message-circle",BY);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FY=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],qY=ct("package",FY);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HY=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],GY=ct("pen",HY);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KY=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],WY=ct("phone",KY);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YY=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],XY=ct("plus",YY);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QY=[["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}],["path",{d:"m9 17-5-5 5-5",key:"nvlc11"}]],ZY=ct("reply",QY);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JY=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],S1=ct("search",JY);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eX=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],tX=ct("send",eX);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nX=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],r4=ct("shopping-bag",nX);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rX=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],i4=ct("trash-2",rX);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iX=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],aX=ct("triangle-alert",iX);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sX=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],oX=ct("truck",sX);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lX=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],uX=ct("users",lX),cX=()=>{const{addToCart:t}=pd(),[e,n]=b.useState([]),[r,i]=b.useState(!0);return b.useEffect(()=>{(async()=>{try{const s=d1(pi(ut,"products"),GK(5)),u=(await YK(s)).docs.map(c=>{const f=c.data();let m=f.imageUrl;return m||(m=f.imageType==="divine"?"/src/assets/images/divine.png":f.imageType==="kuveni"?"/src/assets/images/kuveni.png":f.imageType==="ravana"?"/src/assets/images/ravana.png":"/src/assets/images/divine.png"),{id:c.id,...f,image:m}}).filter(c=>c.name&&c.price);n(u)}catch(s){console.error("Error fetching home products:",s)}finally{i(!1)}})()},[]),r?null:d.jsx("section",{id:"products",className:"products-section",children:d.jsxs("div",{className:"container",children:[d.jsxs("div",{className:"section-header",children:[d.jsx("h2",{className:"section-title",children:"Royal Collections"}),d.jsx("p",{className:"section-subtitle",children:"Curated from the ancient gardens of Ceylon."})]}),d.jsx("div",{className:"products-grid",children:e.map(a=>d.jsxs("div",{className:"product-card",children:[d.jsx("div",{className:"product-image-wrapper",children:a.image?d.jsx("img",{src:a.image,alt:a.name,className:"product-image"}):d.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-900 text-gray-700",children:d.jsx(wm,{size:48})})}),d.jsxs("div",{className:"product-info",children:[d.jsx("h3",{className:"product-name",children:a.name}),d.jsx("p",{className:"product-desc line-clamp-2",children:a.description||a.category||"Premium Cinnamon Product"}),d.jsxs("span",{className:"product-price",children:["$",Number(a.price).toFixed(2)]}),d.jsx("button",{onClick:()=>t(a),disabled:Number(a.stock)===0,className:`product-btn uppercase ${Number(a.stock)===0?"opacity-50 cursor-not-allowed":""}`,children:Number(a.stock)===0?"Out of Stock":"Add to Cart"})]})]},a.id))})]})})},ou="/Ambrosia/assets/divine-CAd-ezJ-.png",Lf="/Ambrosia/assets/garden-0ov3Dsbc.png",fX=[{id:1,title:"Golden Cinnamon Latte",category:"Beverages",image:ou,time:"5 mins",desc:"A warm, soul-soothing latte infused with Ambrosia Divine Essence.",ingredients:["1 tsp Ambrosia Divine Essence","1 cup Milk of choice","1 tsp Honey or Maple Syrup"],instructions:["Warm the milk until steaming.","Whisk in cinnamon and sweetener until frothy.","Dust with a final pinch and serve."]},{id:2,title:"Authentic Sri Lankan Chai",category:"Beverages",image:Lf,time:"15 mins",desc:"A spiced tea tradition using whole Kuveni sticks.",ingredients:["2 Kuveni Cinnamon Sticks","2 bags Black Tea","3 Cardamom pods","Milk and Sugar"],instructions:["Boil water with cinnamon and cardamom for 5 mins.","Steep tea bags for 3 mins.","Add milk and sugar, simmer, strain and serve."]},{id:3,title:"Cinnamon Glazed Apple Tart",category:"Desserts",image:ou,time:"45 mins",desc:"A classic dessert elevated by the floral notes of Ceylon cinnamon.",ingredients:["Puff Pastry sheet","3 sliced Apples","1 tbsp Ambrosia Cinnamon","3 tbsp Brown Sugar"],instructions:["Layer apples on pastry.","Sprinkle cinnamon-sugar mix.","Bake at 200C for 22 minutes until golden."]},{id:4,title:"Wellness Water",category:"Wellness",image:Lf,time:"4 min read",desc:"How a pinch of Ambrosia every morning can change your metabolism.",ingredients:["1 Kuveni Cinnamon Stick","1 liter Filtered Water","Mint leaves"],instructions:["Place cinnamon in water pitcher.","Infuse overnight in the fridge.","Drink cold to regulate blood sugar."]}],dX=()=>{const[t,e]=pu.useState(null);return d.jsxs("section",{className:"recipes-home-section",children:[d.jsxs("div",{className:"container",children:[d.jsxs("div",{className:"section-header",children:[d.jsx("h2",{className:"section-title",children:"Recipes & Rituals"}),d.jsx("p",{className:"section-subtitle",children:"Discover the endless possibilities of true cinnamon."})]}),d.jsx("div",{className:"recipes-home-scroll",children:fX.map(n=>d.jsxs("div",{className:"recipe-home-card cursor-pointer group",onClick:()=>e(n),children:[d.jsxs("div",{className:"recipe-home-image overflow-hidden",children:[d.jsx("img",{src:n.image,alt:n.title,className:"group-hover:scale-110 transition-transform duration-500"}),d.jsx("span",{className:"recipe-home-cat",children:n.category})]}),d.jsxs("div",{className:"recipe-home-info",children:[d.jsx("span",{className:"recipe-home-time",children:n.time}),d.jsx("h3",{className:"recipe-home-title group-hover:text-gold transition-colors",children:n.title}),d.jsx("p",{className:"recipe-home-desc",children:n.desc}),d.jsx("button",{className:"recipe-home-link bg-transparent border-0 cursor-pointer p-0",children:"Read More"})]})]},n.id))})]}),t&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-md p-4",onClick:()=>e(null),children:d.jsxs("div",{className:"bg-[#111] border border-gray-800 rounded-3xl p-8 max-w-2xl w-full relative",onClick:n=>n.stopPropagation(),children:[d.jsx("button",{className:"absolute top-4 right-6 text-gray-400 hover:text-white text-3xl",onClick:()=>e(null),children:""}),d.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[d.jsx("div",{className:"w-full md:w-1/3",children:d.jsx("img",{src:t.image,alt:t.title,className:"w-full rounded-2xl aspect-square object-cover"})}),d.jsxs("div",{className:"w-full md:w-2/3",children:[d.jsx("span",{className:"text-gold text-xs font-bold uppercase tracking-widest mb-2 block",children:t.category}),d.jsx("h2",{className:"text-3xl font-heading text-white mb-2",children:t.title}),d.jsx("p",{className:"text-gold text-sm mb-6 italic",children:t.desc}),d.jsxs("div",{className:"recipe-details space-y-6 text-gray-300 text-sm leading-relaxed max-h-[35vh] overflow-y-auto pr-4 custom-scrollbar",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"text-white font-bold uppercase tracking-widest text-[10px] mb-2 border-b border-white/10 pb-1",children:"Ingredients"}),d.jsx("ul",{className:"space-y-1",children:t.ingredients.map((n,r)=>d.jsxs("li",{className:"flex gap-2",children:[d.jsx("span",{className:"text-gold",children:""})," ",n]},r))})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-white font-bold uppercase tracking-widest text-[10px] mb-2 border-b border-white/10 pb-1",children:"Steps"}),d.jsx("ol",{className:"space-y-2",children:t.instructions.map((n,r)=>d.jsxs("li",{className:"flex gap-3",children:[d.jsxs("span",{className:"text-gold font-bold",children:[r+1,"."]})," ",n]},r))})]})]}),d.jsxs("div",{className:"flex gap-4 mt-8",children:[d.jsx("button",{className:"bg-gold text-black px-6 py-2 rounded-full font-bold uppercase text-[10px] tracking-widest hover:bg-white transition-all shadow-lg shadow-gold/10",onClick:()=>e(null),children:"Close"}),d.jsx(et,{to:"/recipes",className:"border border-white/20 text-white px-6 py-2 rounded-full font-bold uppercase text-[10px] tracking-widest hover:bg-white/10 transition-all text-center",children:"View All"})]})]})]})]})})]})},hX=[{id:1,content:"Absolutely the finest cinnamon I have ever used. The difference in aroma and taste compared to store-bought is night and day.",rating:5},{id:2,content:"I was skeptical about premium cinnamon, but this has changed my morning coffee ritual forever. Smooth, sweet, and incredibly fragrant.",rating:5},{id:3,content:"The packaging is beautiful and the product inside is even better. Fast shipping and excellent quality. Truly 100% authentic Ceylon.",rating:5}],mX=()=>d.jsx("section",{className:"testimonials-section",children:d.jsxs("div",{className:"container",children:[d.jsx("div",{className:"section-header",children:d.jsx("h2",{className:"section-title",children:"What Our Customers Say"})}),d.jsx("div",{className:"testimonials-grid",children:hX.map(t=>d.jsxs("div",{className:"testimonial-card",children:[d.jsx("div",{className:"stars",children:[...Array(t.rating)].map((e,n)=>d.jsx("span",{className:"star",children:""},n))}),d.jsxs("p",{className:"testimonial-content",children:['"',t.content,'"']})]},t.id))})]})}),pX=()=>d.jsxs("div",{className:"home-page",children:[d.jsx(bY,{}),d.jsx(xY,{}),d.jsx(cX,{}),d.jsx(dX,{}),d.jsx(mX,{})]}),gX=()=>d.jsxs("div",{className:"about-page",children:[d.jsx("section",{className:"about-hero",children:d.jsxs("div",{className:"container",children:[d.jsx("h1",{className:"text-6xl font-heading text-gold mb-4",children:"Our Heritage"}),d.jsx("p",{className:"text-xl text-gray-300 max-w-2xl",children:"Preserving the 100% authentic legacy of Ceylon Cinnamon."})]})}),d.jsx("section",{className:"mission-section py-20",children:d.jsxs("div",{className:"container intro-grid",children:[d.jsxs("div",{className:"mission-text",children:[d.jsx("h2",{className:"text-4xl font-heading text-white mb-8",children:"A Legacy of Excellence"}),d.jsx("p",{className:"text-gray-400 mb-6 leading-relaxed",children:"Ambrosia was founded on a singular realization: the true essence of Sri Lankan cinnamon was being lost to the world. In an era dominated by mass-market Cassia, the legendary 'Cinnamomum Verum' of Ceylononce more valuable than goldhad become a rare luxury."}),d.jsx("p",{className:"text-gray-400 mb-6 leading-relaxed",children:"Our journey began in the southern coastal stretches of Sri Lanka, where the humid air and salty breeze create the perfect cradle for the world's finest cinnamon. We don't just sell a spice; we protect a thousand-year-old tradition of hand-peeling and air-drying that has been passed down through generations of 'Salagama' harvesters."})]}),d.jsx("div",{className:"mission-image",children:d.jsx("img",{src:Lf,alt:"Cinnamon Garden",className:"rounded-lg shadow-2xl"})})]})}),d.jsx("section",{className:"sourcing-section py-20 bg-gold/5",children:d.jsxs("div",{className:"container",children:[d.jsxs("div",{className:"text-center mb-16",children:[d.jsx("h2",{className:"text-4xl font-heading text-gold mb-4",children:"Sustainable Sourcing"}),d.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"We believe in a cycle of respectfor the soil, the farmer, and the consumer."})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-16 items-center",children:[d.jsxs("div",{className:"sourcing-content",children:[d.jsx("h3",{className:"text-2xl text-white mb-6",children:"Direct from the Wild Gardens"}),d.jsx("p",{className:"text-gray-500 mb-6",children:"Unlike industrial plantations, our cinnamon is sourced from 'wild gardens' where biodiversity is encouraged. This natural ecosystem allows the trees to develop higher concentrations of essential oils, resulting in the signature floral aroma unique to Ambrosia."}),d.jsx("p",{className:"text-gray-500",children:"Every harvest is traceable to its village of origin, ensuring that the local communities that have guarded this heritage for centuries are fairly compensated and supported."})]}),d.jsxs("div",{className:"sourcing-stats grid grid-cols-2 gap-8",children:[d.jsxs("div",{className:"stat-box",children:[d.jsx("span",{className:"text-4xl text-gold font-bold",children:"100%"}),d.jsx("p",{className:"text-gray-400",children:"Natural & Organic"})]}),d.jsxs("div",{className:"stat-box",children:[d.jsx("span",{className:"text-4xl text-gold font-bold",children:"500+"}),d.jsx("p",{className:"text-gray-400",children:"Local Farmers"})]}),d.jsxs("div",{className:"stat-box",children:[d.jsx("span",{className:"text-4xl text-gold font-bold",children:"0%"}),d.jsx("p",{className:"text-gray-400",children:"Chemical Additives"})]}),d.jsxs("div",{className:"stat-box",children:[d.jsx("span",{className:"text-4xl text-gold font-bold",children:"True"}),d.jsx("p",{className:"text-gray-400",children:"Alba Grade Only"})]})]})]})]})})]}),yX="/Ambrosia/images/comparison.png",vX="/Ambrosia/images/Ceylon_Cinnamon_Production_Video_Generation.mp4",xC=["Bark is harvested every two years during rainy seasons.","True quills are hand-filled with fine cinnamon chips.","Ancient Romans prized it as high as precious metals.","The name 'Cinnamon' comes from the Greek 'kinnamon'."],bX=()=>{const[t,e]=b.useState(0),n=b.useRef([]);b.useEffect(()=>{const i=setInterval(()=>{e(s=>(s+1)%xC.length)},6e3),a=new IntersectionObserver(s=>{s.forEach(o=>{o.isIntersecting&&o.target.classList.add("active")})},{threshold:.1});return n.current.forEach(s=>{s&&a.observe(s)}),()=>{clearInterval(i),a.disconnect()}},[]);const r=i=>{i&&!n.current.includes(i)&&n.current.push(i)};return d.jsxs("div",{className:"cinnamon-education-page",children:[d.jsx("section",{className:"edu-hero",children:d.jsxs("div",{className:"container text-center reveal",ref:r,children:[d.jsx("span",{className:"gold-label font-bold tracking-widest uppercase mb-4 block text-xs",children:"The Gold of the East"}),d.jsx("h1",{className:"text-7xl md:text-8xl font-heading text-gold mb-6 leading-tight",children:"Authentic Ceylon"}),d.jsx("p",{className:"text-lg text-gray-200 max-w-2xl mx-auto leading-relaxed mb-10 font-light",children:"Deep within the soul of Sri Lanka lies a secret that shaped world history. Worshiped by Emperors and sought by explorers, Ceylon Cinnamon remains nature's most sophisticated spice."}),d.jsxs("div",{className:"flex justify-center gap-6",children:[d.jsx("a",{href:"#production-video",className:"btn btn-outline",children:"Watch the Story"}),d.jsx(et,{to:"/shop",className:"btn",children:"Shop Collection"})]})]})}),d.jsxs("section",{className:"history-section py-24 relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-gold/5 rounded-full blur-[120px] -translate-y-1/2 translate-x-1/2 pointer-events-none"}),d.jsx("div",{className:"container relative z-10",children:d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-20 items-center",children:[d.jsxs("div",{className:"history-content reveal",ref:r,children:[d.jsx("h2",{className:"text-4xl font-heading text-white mb-8",children:"A Journey Through Time"}),d.jsxs("div",{className:"space-y-6 text-gray-400 text-base leading-relaxed font-light",children:[d.jsxs("p",{children:["The documented history of Sri Lankan cinnamon dates back over ",d.jsx("strong",{className:"text-white",children:"3,000 years"}),". Mentioned in the Old Testament and sought by Ancient Egyptians for embalming, it was the ancient world's most prized possession."]}),d.jsxs("blockquote",{className:"p-8 italic text-gray-300 text-lg rounded-r-lg",children:['"The cinnamon of Ceylon is the best in all the world, and many-a-man hath lost his life for its sake."',d.jsx("span",{className:"block text-sm text-gold mt-4 font-sans not-italic font-bold tracking-widest uppercase",children:" 17th Century Dutch Explorer"})]})]})]}),d.jsx("div",{className:"history-visual reveal",ref:r,children:d.jsxs("div",{className:"history-box p-10 rounded-2xl shadow-2xl",children:[d.jsx("h3",{className:"text-2xl text-gold mb-8 font-heading border-b border-white/5 pb-4",children:"Historical Milestones"}),d.jsxs("ul",{className:"space-y-8",children:[d.jsxs("li",{className:"flex gap-6",children:[d.jsx("span",{className:"text-gold font-bold text-sm bg-gold/10 w-20 h-8 flex items-center justify-center rounded px-2",children:"1400 BC"}),d.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:"Used in Ancient Egypt as a sacred medicinal and embalming ingredient."})]}),d.jsxs("li",{className:"flex gap-6",children:[d.jsx("span",{className:"text-gold font-bold text-sm bg-gold/10 w-20 h-8 flex items-center justify-center rounded px-2",children:"1505 AD"}),d.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:"Portuguese land in Sri Lanka, seeking the source of 'True Cinnamon'."})]}),d.jsxs("li",{className:"flex gap-6",children:[d.jsx("span",{className:"text-gold font-bold text-sm bg-gold/10 w-20 h-8 flex items-center justify-center rounded px-2",children:"1760s"}),d.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:"Dutch East India Company establishes the first systematic plantations."})]})]})]})})]})})]}),d.jsx("section",{id:"production-video",className:"video-section py-32",children:d.jsxs("div",{className:"container reveal",ref:r,children:[d.jsxs("div",{className:"text-center mb-16",children:[d.jsx("span",{className:"text-gold text-xs font-bold tracking-widest uppercase mb-4 block",children:"The Process"}),d.jsx("h2",{className:"text-5xl font-heading text-white mb-6",children:"Life of Cinnamon"}),d.jsx("p",{className:"text-gray-400 max-w-xl mx-auto font-light",children:"Witness the meticulous craft of peeling, drying, and grading that goes into every Ambrosia quill."})]}),d.jsx("div",{className:"video-container aspect-video max-w-3xl mx-auto rounded-3xl overflow-hidden shadow-2xl border border-white/5 p-2 bg-white/5",children:d.jsx("video",{width:"100%",height:"100%",controls:!0,autoPlay:!0,muted:!0,loop:!0,playsInline:!0,className:"w-full h-full object-cover rounded-2xl",children:d.jsx("source",{src:vX,type:"video/mp4"})})})]})}),d.jsx("section",{className:"types-section py-32",children:d.jsxs("div",{className:"container",children:[d.jsxs("div",{className:"text-center mb-16 reveal",ref:r,children:[d.jsx("span",{className:"text-gold text-xs font-bold tracking-widest uppercase mb-4 block",children:"The Difference"}),d.jsx("h2",{className:"text-5xl font-heading text-white mb-8",children:"Ceylon vs Cassia"})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-stretch",children:[d.jsxs("div",{className:"comparison-card cassia reveal",ref:r,children:[d.jsx("h4",{className:"text-red-400 text-xs font-bold tracking-widest uppercase mb-4",children:"Cassia (The Marketplace Standard)"}),d.jsxs("p",{className:"text-gray-400 text-base leading-relaxed font-light mb-6",children:["Mass-market Cassia contains ",d.jsx("strong",{className:"text-red-400",children:"toxic levels of coumarin"})," (a blood thinner). It consists of thick, hard bark with a harsh, spicy bite."]}),d.jsxs("ul",{className:"text-sm text-gray-500 space-y-3",children:[d.jsx("li",{className:"flex items-center gap-2",children:" Hard, singular scroll"}),d.jsx("li",{className:"flex items-center gap-2",children:" Darker reddish-brown"}),d.jsx("li",{className:"flex items-center gap-2",children:" Potentially harmful if used daily"})]})]}),d.jsxs("div",{className:"comparison-card ceylon reveal",ref:r,children:[d.jsx("h4",{className:"text-gold text-xs font-bold tracking-widest uppercase mb-4",children:"Ceylon (The True Essence)"}),d.jsxs("p",{className:"text-gray-200 text-base leading-relaxed font-light mb-6",children:["Ambrosia Ceylon Cinnamon is thin, flaky, and delicate. With ",d.jsx("strong",{className:"text-white",children:"virtually 0% coumarin"}),", it offers a sophisticated floral sweetness."]}),d.jsxs("ul",{className:"text-sm text-gray-400 space-y-3",children:[d.jsx("li",{className:"flex items-center gap-2",children:" Multiple thin, flaky layers"}),d.jsx("li",{className:"flex items-center gap-2",children:" Tan, golden-brown hue"}),d.jsx("li",{className:"flex items-center gap-2",children:" Safe and beneficial for daily wellness"})]})]})]}),d.jsx("div",{className:"mt-20 flex justify-center reveal",ref:r,children:d.jsx("img",{src:yX,alt:"Cinnamon Comparison",className:"rounded-3xl shadow-3xl max-w-xl w-full border border-white/10"})})]})}),d.jsx("section",{className:"uses-section py-32",children:d.jsxs("div",{className:"container",children:[d.jsxs("div",{className:"text-center mb-20 reveal",ref:r,children:[d.jsx("span",{className:"text-gold text-xs font-bold tracking-widest uppercase mb-4 block",children:"Application"}),d.jsx("h2",{className:"text-5xl font-heading text-white mb-6",children:"Rituals & Remedies"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[d.jsxs("div",{className:"use-card p-10 rounded-3xl reveal",ref:r,children:[d.jsx("h3",{className:"text-xl text-white mb-4 font-heading uppercase text-xs font-bold tracking-widest",children:"Kitchen Mastery"}),d.jsx("p",{className:"text-gray-400 text-sm leading-relaxed font-light",children:"Elevate every dish from morning coffee to savory Lankan curries. Its versatility in the kitchen is unmatched by any other spice."})]}),d.jsxs("div",{className:"use-card p-10 rounded-3xl reveal md:-translate-y-4",ref:r,children:[d.jsx("h3",{className:"text-xl text-gold mb-4 font-heading uppercase text-xs font-bold tracking-widest",children:"Wellness Elixir"}),d.jsx("p",{className:"text-gray-300 text-sm leading-relaxed font-light",children:"A simple daily ritual with warm water can regulate blood sugar, boost immunity, and transform your metabolic health."})]}),d.jsxs("div",{className:"use-card p-10 rounded-3xl reveal",ref:r,children:[d.jsx("h3",{className:"text-xl text-white mb-4 font-heading uppercase text-xs font-bold tracking-widest",children:"Aromatherapy"}),d.jsx("p",{className:"text-gray-400 text-sm leading-relaxed font-light",children:"The very scent of true cinnamon is known to improve memory and mood. A single quill becomes a natural, aromatic centerpiece."})]})]})]})}),d.jsx("section",{className:"fun-facts reveal",ref:r,children:d.jsxs("div",{className:"container text-center",children:[d.jsx("span",{className:"text-gold text-[10px] font-bold tracking-widest uppercase mb-4 block",children:"Quick Fact"}),d.jsx("p",{className:"text-white font-heading text-2xl max-w-2xl mx-auto transition-all duration-700",children:xC[t]},t)]})}),d.jsx("section",{className:"cta-section py-32 text-center reveal",ref:r,children:d.jsxs("div",{className:"container",children:[d.jsx("h2",{className:"text-4xl font-heading text-white mb-10",children:"Pure Essence. Pure Health."}),d.jsx(et,{to:"/shop",className:"btn btn-gold btn-lg px-12 py-4 text-sm tracking-widest",children:"Explore the Collection"})]})})]})},xX="/Ambrosia/assets/kuveni-CIhBCFC7.png",_X="/Ambrosia/assets/ravana-UNXb9jZj.png",wX=()=>{const{addToCart:t}=pd(),[e,n]=b.useState([]),[r,i]=b.useState(!0),[a,s]=b.useState(""),[o,l]=b.useState("featured"),[u,c]=b.useState("All"),f=["All","Sticks","Powder","Blends","Gift Sets"];b.useEffect(()=>{const p=Od(pi(ut,"products"),g=>{const _=g.docs.map(y=>{const w=y.data();let x=w.imageUrl;return x||(x=w.imageType==="divine"?ou:w.imageType==="kuveni"?xX:w.imageType==="ravana"?_X:ou),{id:y.id,...w,image:x}});n(_),i(!1)});return()=>p()},[]);const m=e.filter(p=>u==="All"||p.category===u).filter(p=>(p.name||"").toLowerCase().includes(a.toLowerCase())).sort((p,g)=>o==="price-asc"?Number(p.price)-Number(g.price):o==="price-desc"?Number(g.price)-Number(p.price):0);return console.log("Store Render Debug:",{productsCount:e.length,filteredCount:m.length,loading:r}),r?d.jsx("div",{className:"text-center py-20 text-gold",children:"Loading Collection..."}):d.jsxs("div",{className:"store-page",children:[d.jsx("section",{className:"store-header",children:d.jsxs("div",{className:"container",children:[d.jsx("h1",{className:"text-5xl font-heading text-gold mb-4",children:"The Collections"}),d.jsx("p",{className:"text-gray-400",children:"Authentic Ceylon cinnamon for every occasion."})]})}),d.jsx("section",{className:"store-content py-12",children:d.jsxs("div",{className:"container",children:[d.jsxs("div",{className:"filters-bar mb-12 flex flex-col lg:flex-row justify-between items-center gap-8",children:[d.jsx("div",{className:"categories flex gap-4 overflow-x-auto pb-4 lg:pb-0 w-full lg:w-auto scrollbar-hide",children:f.map(p=>d.jsx("button",{onClick:()=>c(p),className:`filter-btn whitespace-nowrap ${u===p?"active":""}`,children:p},p))}),d.jsxs("div",{className:"search-sort flex flex-row gap-4 w-full lg:w-auto",children:[d.jsx("input",{type:"text",placeholder:"Search products...",className:"input-premium-dark flex-grow lg:w-64",value:a,onChange:p=>s(p.target.value)}),d.jsxs("select",{className:"input-premium-dark cursor-pointer min-w-[140px]",value:o,onChange:p=>l(p.target.value),children:[d.jsx("option",{value:"featured",className:"bg-black text-white",children:"Featured"}),d.jsx("option",{value:"price-asc",className:"bg-black text-white",children:"Price: Low to High"}),d.jsx("option",{value:"price-desc",className:"bg-black text-white",children:"Price: High to Low"})]})]})]}),d.jsx("div",{className:"store-grid",children:m.length===0?d.jsx("div",{className:"col-span-3 text-center text-gray-500 py-20",children:"No products found in this category."}):m.map(p=>{const g=p.stock<=0;return d.jsxs("div",{className:`store-item-card ${g?"opacity-75 grayscale":""}`,children:[d.jsxs("div",{className:"item-image relative",children:[d.jsx("img",{src:p.image,alt:p.name}),g&&d.jsx("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center",children:d.jsx("span",{className:"text-red-500 font-bold uppercase tracking-widest border border-red-500 px-4 py-2",children:"Sold Out"})}),!g&&p.stock<10&&d.jsxs("span",{className:"absolute top-2 right-2 bg-yellow-600 text-white text-[10px] uppercase font-bold px-2 py-1 rounded",children:["Low Stock: ",p.stock]}),d.jsx("span",{className:"origin-badge",children:p.origin||"100% Sri Lankan"})]}),d.jsxs("div",{className:"item-info",children:[d.jsx("span",{className:"item-cat",children:p.category}),d.jsx("h3",{className:"item-name",children:p.name}),d.jsxs("div",{className:"flex justify-between items-center w-full mb-4",children:[d.jsxs("p",{className:"item-price",children:["$",Number(p.price).toFixed(2)]}),d.jsx("span",{className:"text-xs text-gray-500",children:p.unit||"per unit"})]}),d.jsx("button",{onClick:()=>!g&&t(p),disabled:g,className:`add-cart-btn uppercase w-full ${g?"cursor-not-allowed bg-gray-800 text-gray-500 hover:bg-gray-800":""}`,children:g?"Out of Stock":"Add to Cart"})]})]},p.id)})})]})})]})},EX=[{id:1,title:"Golden Cinnamon Latte",category:"Beverages",image:ou,time:"5 mins",desc:"A warm, soul-soothing latte infused with Ambrosia Divine Essence.",ingredients:["1 tsp Ambrosia Divine Essence (Ground Cinnamon)","1 cup Milk of choice (Oat or Dairy fits best)","1 tsp Honey or Maple Syrup","A pinch of Turmeric (optional)"],instructions:["Warm the milk in a small saucepan over medium heat until steaming.","Whisk in the Ambrosia Cinnamon and sweetener until frothy.","Pour into your favorite mug and dust with a final pinch of gold."]},{id:2,title:"Authentic Sri Lankan Chai",category:"Beverages",image:Lf,time:"15 mins",desc:"A spiced tea tradition using whole Kuveni sticks.",ingredients:["2 Kuveni Cinnamon Sticks","2 bags of Strong Black Tea","3 Cardamom pods, crushed","1 slice of fresh Ginger","2 cups Water","Milk and Sugar to taste"],instructions:["Boil water with cinnamon sticks, cardamom, and ginger for 5 minutes.","Add tea bags and steep for another 3-4 minutes.","Remove tea bags and spices, add milk and sugar, and bring to a simmer.","Strain into cups and enjoy the aroma of Ceylon."]},{id:3,title:"Cinnamon Glazed Apple Tart",category:"Desserts",image:ou,time:"45 mins",desc:"A classic dessert elevated by the floral notes of Ceylon cinnamon.",ingredients:["1 sheet Puff Pastry","3 large Apples, thinly sliced","2 tbsp Melted Butter","3 tbsp Brown Sugar","1 tbsp Ambrosia Cinnamon"],instructions:["Preheat oven to 200C (400F).","Layer apple slices over the puff pastry sheet.","Mix cinnamon and sugar, then sprinkle over the apples.","Brush with melted butter and bake for 20-25 minutes until golden."]},{id:4,title:"Health Benefits: Wellness Water",category:"Wellness",image:Lf,time:"4 min read",desc:"How a pinch of Ambrosia every morning can change your metabolism.",ingredients:["1 Kuveni Cinnamon Stick","1 liter Filtered Water","Optional: Lemon slice or Mint leaves"],instructions:["Place the cinnamon stick in a glass pitcher of water.","Let it infuse overnight in the refrigerator.","Drink throughout the day to help regulate blood sugar and boost metabolism."]}],SX=()=>{const[t,e]=pu.useState(null);return d.jsxs("div",{className:"recipes-page",children:[d.jsx("section",{className:"recipes-hero",children:d.jsxs("div",{className:"container",children:[d.jsx("h1",{className:"text-6xl font-heading text-gold mb-4",children:"Recipes & Rituals"}),d.jsx("p",{className:"text-xl text-gray-400",children:"Discover the endless possibilities of true cinnamon."})]})}),d.jsx("section",{className:"recipes-grid-section py-20",children:d.jsx("div",{className:"container",children:d.jsx("div",{className:"recipes-grid",children:EX.map(n=>d.jsxs("div",{className:"recipe-card cursor-pointer group",onClick:()=>e(n),children:[d.jsxs("div",{className:"recipe-image overflow-hidden",children:[d.jsx("img",{src:n.image,alt:n.title,className:"group-hover:scale-110 transition-transform duration-500"}),d.jsx("span",{className:"recipe-cat",children:n.category})]}),d.jsxs("div",{className:"recipe-info",children:[d.jsx("span",{className:"recipe-time",children:n.time}),d.jsx("h3",{className:"recipe-title group-hover:text-gold transition-colors",children:n.title}),d.jsx("p",{className:"recipe-desc",children:n.desc}),d.jsx("button",{className:"read-more",children:"Read More"})]})]},n.id))})})}),t&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-md p-4",onClick:()=>e(null),children:d.jsxs("div",{className:"bg-[#111] border border-gray-800 rounded-3xl p-8 max-w-2xl w-full relative",onClick:n=>n.stopPropagation(),children:[d.jsx("button",{className:"absolute top-4 right-6 text-gray-400 hover:text-white text-3xl",onClick:()=>e(null),children:""}),d.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[d.jsx("div",{className:"w-full md:w-1/3",children:d.jsx("img",{src:t.image,alt:t.title,className:"w-full rounded-2xl aspect-square object-cover"})}),d.jsxs("div",{className:"w-full md:w-2/3",children:[d.jsx("span",{className:"text-gold text-xs font-bold uppercase tracking-widest mb-2 block",children:t.category}),d.jsx("h2",{className:"text-3xl font-heading text-white mb-2",children:t.title}),d.jsx("p",{className:"text-gold text-sm mb-6 italic",children:t.desc}),d.jsxs("div",{className:"recipe-details space-y-6 text-gray-300 text-sm leading-relaxed max-h-[40vh] overflow-y-auto pr-4 custom-scrollbar",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"text-white font-bold uppercase tracking-widest text-xs mb-3 border-b border-white/10 pb-1",children:"Ingredients"}),d.jsx("ul",{className:"space-y-2",children:t.ingredients.map((n,r)=>d.jsxs("li",{className:"flex gap-2",children:[d.jsx("span",{className:"text-gold",children:""})," ",n]},r))})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-white font-bold uppercase tracking-widest text-xs mb-3 border-b border-white/10 pb-1",children:"Instructions"}),d.jsx("ol",{className:"space-y-3",children:t.instructions.map((n,r)=>d.jsxs("li",{className:"flex gap-3",children:[d.jsxs("span",{className:"text-gold font-bold",children:[r+1,"."]})," ",n]},r))})]})]}),d.jsx("div",{className:"mt-8",children:d.jsx("button",{className:"bg-gold text-black px-8 py-3 rounded-full font-bold uppercase text-xs tracking-widest hover:bg-white transition-all duration-300 shadow-lg shadow-gold/20",onClick:()=>e(null),children:"Close Recipe"})})]})]})]})})]})},AX=()=>{const[t,e]=b.useState({name:"",email:"",subject:"General Inquiry",message:""}),[n,r]=b.useState(!1),i=s=>{e({...t,[s.target.name]:s.target.value})},a=async s=>{s.preventDefault(),r(!0);try{await ly(pi(ut,"messages"),{...t,createdAt:NM(),status:"new"}),alert("Message sent successfully! We will get back to you soon."),e({name:"",email:"",subject:"General Inquiry",message:""})}catch(o){console.error("Error sending message:",o),alert("Failed to send message. Please try again.")}r(!1)};return d.jsxs("div",{className:"contact-page",children:[d.jsx("section",{className:"contact-hero",children:d.jsxs("div",{className:"container text-center",children:[d.jsx("h1",{className:"text-6xl font-heading text-gold mb-4",children:"Connect with Ambrosia"}),d.jsx("p",{className:"text-xl text-gray-400",children:"Questions about our cinnamon? We're here to help."})]})}),d.jsx("section",{className:"contact-content py-20",children:d.jsxs("div",{className:"container grid grid-cols-2 gap-20",children:[d.jsxs("div",{className:"contact-info",children:[d.jsx("h2",{className:"text-4xl font-heading text-white mb-8",children:"Get in Touch"}),d.jsxs("div",{className:"info-item mb-8",children:[d.jsx("h4",{className:"text-gold uppercase tracking-widest text-xs mb-2",children:"Email"}),d.jsx("p",{className:"text-xl text-gray-300",children:"essence@ambrosiaspice.com"})]}),d.jsxs("div",{className:"info-item mb-8",children:[d.jsx("h4",{className:"text-gold uppercase tracking-widest text-xs mb-2",children:"Phone"}),d.jsx("p",{className:"text-xl text-gray-300",children:"+94 11 234 5678"})]}),d.jsxs("div",{className:"info-item mb-8",children:[d.jsx("h4",{className:"text-gold uppercase tracking-widest text-xs mb-2",children:"Headquarters"}),d.jsx("p",{className:"text-xl text-gray-300",children:"Galle Road, Colombo 03, Sri Lanka"})]}),d.jsxs("div",{className:"social-links mt-12",children:[d.jsx("h4",{className:"text-gray-500 uppercase tracking-widest text-xs mb-4",children:"Follow Our Journey"}),d.jsxs("div",{className:"flex gap-6",children:[d.jsx("a",{href:"#",className:"text-gold hover:text-white transition-colors mr-4",children:"Instagram"}),d.jsx("a",{href:"#",className:"text-gold hover:text-white transition-colors mr-4",children:"Facebook"}),d.jsx("a",{href:"#",className:"text-gold hover:text-white transition-colors",children:"LinkedIn"})]})]})]}),d.jsx("div",{className:"contact-form-container",children:d.jsxs("form",{className:"contact-form",onSubmit:a,children:[d.jsx("div",{className:"form-group mb-6",children:d.jsx("input",{type:"text",name:"name",placeholder:"Your Name",className:"form-input",value:t.name,onChange:i,required:!0})}),d.jsx("div",{className:"form-group mb-6",children:d.jsx("input",{type:"email",name:"email",placeholder:"Email Address",className:"form-input",value:t.email,onChange:i,required:!0})}),d.jsx("div",{className:"form-group mb-6",children:d.jsxs("select",{name:"subject",className:"form-input",value:t.subject,onChange:i,children:[d.jsx("option",{children:"General Inquiry"}),d.jsx("option",{children:"Wholesale/B2B"}),d.jsx("option",{children:"Order Support"}),d.jsx("option",{children:"Press"})]})}),d.jsx("div",{className:"form-group mb-8",children:d.jsx("textarea",{name:"message",placeholder:"How can we help?",className:"form-input h-32",value:t.message,onChange:i,required:!0})}),d.jsx("button",{type:"submit",className:"btn w-full",disabled:n,children:n?"Sending...":"Send Message"})]})})]})})]})},TX=[{q:"Why is Sri Lankan cinnamon better?",a:"Sri Lankan (Ceylon) cinnamon has a much lower coumarin content compared to Cassia. It's also known for its delicate, sweet flavor and floral aroma that Cassia lacks."},{q:"How should I store my Ambrosia cinnamon?",a:"Store in a cool, dark place in an airtight container. Our premium jars are designed to protect the essential oils from light and moisture."},{q:"Do you ship internationally?",a:"Yes, Ambrosia ships to most countries worldwide. Shipping times vary depending on the location, typically 5-10 business days."},{q:"Is your cinnamon organic?",a:"We work with farms that follow sustainable, natural farming practices. While not all are certified 'Organic' yet, we ensure no synthetic pesticides or fertilizers are used."}],NX=()=>{const[t,e]=pu.useState(0);return d.jsxs("div",{className:"faq-page bg-black min-h-screen",children:[d.jsx("section",{className:"faq-hero py-24 pb-12",children:d.jsxs("div",{className:"container text-center",children:[d.jsx("span",{className:"text-gold text-xs font-bold uppercase tracking-widest mb-4 block text-center",children:"Support Center"}),d.jsx("h1",{className:"text-5xl md:text-6xl font-heading text-white mb-6 text-center",children:"Frequently Asked Questions"}),d.jsx("p",{className:"text-gray-400 max-w-xl mx-auto text-center",children:"Everything you need to know about our products, shipping, and heritage."})]})}),d.jsx("section",{className:"faq-list-section py-16",children:d.jsxs("div",{className:"container max-w-3xl",children:[d.jsx("div",{className:"space-y-6",children:TX.map((n,r)=>d.jsxs("div",{className:`faq-card ${t===r?"open":""}`,children:[d.jsxs("button",{className:"faq-question focus:outline-none",onClick:()=>e(t===r?-1:r),children:[d.jsx("h3",{className:`text-lg font-heading transition-colors ${t===r?"text-gold":"text-white"}`,children:n.q}),d.jsx("span",{className:`transform transition-transform duration-300 text-gold ${t===r?"rotate-180":""}`,children:""})]}),d.jsx("div",{className:"faq-answer-wrapper",style:{maxHeight:t===r?"300px":"0",opacity:t===r?"1":"0"},children:d.jsx("div",{className:"faq-answer-content",children:d.jsx("p",{children:n.a})})})]},r))}),d.jsxs("div",{className:"mt-20 text-center",children:[d.jsx("p",{className:"text-gray-500 mb-6",children:"Still have questions?"}),d.jsx("a",{href:"/contact",className:"btn btn-sm btn-outline",children:"Contact Support"})]})]})})]})},CX=()=>{const{cartItems:t,removeFromCart:e,updateQuantity:n,cartTotal:r}=pd();return t.length===0?d.jsx("div",{className:"cart-page py-32",children:d.jsxs("div",{className:"container text-center",children:[d.jsx("h1",{className:"text-4xl font-heading text-gold mb-8",children:"Your Cart is Empty"}),d.jsx("p",{className:"text-gray-400 mb-12",children:"Looks like you haven't added the essence of Ceylon to your collection yet."}),d.jsx(et,{to:"/shop",className:"btn",children:"Browse Shop"})]})}):d.jsx("div",{className:"cart-page py-32",children:d.jsxs("div",{className:"container",children:[d.jsx("h1",{className:"text-5xl font-heading text-gold mb-12",children:"Your Selection"}),d.jsxs("div",{className:"cart-grid",children:[d.jsxs("div",{className:"cart-items",children:[d.jsxs("div",{className:"cart-header grid grid-cols-4 gap-4 text-xs uppercase tracking-widest text-gray-500 pb-4 border-bottom border-white/5 mb-8",children:[d.jsx("div",{className:"col-span-2",children:"Product"}),d.jsx("div",{className:"text-center",children:"Quantity"}),d.jsx("div",{className:"text-right",children:"Total"})]}),t.map(i=>d.jsxs("div",{className:"cart-item-row grid grid-cols-4 gap-4 items-center py-6 border-bottom border-white/5",children:[d.jsxs("div",{className:"col-span-2 flex gap-6 items-center",children:[d.jsx("div",{className:"item-thumbnail w-24 h-24 bg-[#111] overflow-hidden rounded",children:d.jsx("img",{src:i.image,alt:i.name,className:"w-full h-full object-cover"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-white font-heading text-xl mb-1",children:i.name}),d.jsxs("p",{className:"text-gold text-sm",children:["$",i.price.toFixed(2)]}),d.jsx("button",{onClick:()=>e(i.id),className:"text-gray-600 text-xs mt-2 hover:text-red-500 transition-colors uppercase",children:"Remove"})]})]}),d.jsxs("div",{className:"flex justify-center items-center gap-4",children:[d.jsx("button",{onClick:()=>n(i.id,i.quantity-1),className:"qty-btn",children:"-"}),d.jsx("span",{className:"text-white",children:i.quantity}),d.jsx("button",{onClick:()=>n(i.id,i.quantity+1),className:"qty-btn",children:"+"})]}),d.jsxs("div",{className:"text-right text-white font-bold",children:["$",(i.price*i.quantity).toFixed(2)]})]},i.id))]}),d.jsxs("div",{className:"cart-summary bg-[#111] p-8 rounded-lg border border-white/5 h-fit",children:[d.jsx("h2",{className:"text-2xl font-heading text-white mb-8",children:"Summary"}),d.jsxs("div",{className:"summary-row flex justify-between mb-4",children:[d.jsx("span",{className:"text-gray-400",children:"Subtotal"}),d.jsxs("span",{className:"text-white",children:["$",r.toFixed(2)]})]}),d.jsxs("div",{className:"summary-row flex justify-between mb-8 pb-8 border-bottom border-white/5",children:[d.jsx("span",{className:"text-gray-400",children:"Shipping"}),d.jsx("span",{className:"text-gold",children:"Calculated at checkout"})]}),d.jsxs("div",{className:"summary-row flex justify-between mb-12",children:[d.jsx("span",{className:"text-xl text-white font-heading",children:"Total"}),d.jsxs("span",{className:"text-xl text-gold font-bold",children:["$",r.toFixed(2)]})]}),d.jsx(et,{to:"/checkout",className:"btn w-full text-center",children:"Proceed to Checkout"})]})]})]})})};class Pd{constructor(e=0,n="Network Error"){this.status=e,this.text=n}}const OX=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,e)=>Promise.resolve(localStorage.setItem(t,e)),remove:t=>Promise.resolve(localStorage.removeItem(t))}},Jt={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:OX()},A1=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{},IX=(t,e="https://api.emailjs.com")=>{if(!t)return;const n=A1(t);Jt.publicKey=n.publicKey,Jt.blockHeadless=n.blockHeadless,Jt.storageProvider=n.storageProvider,Jt.blockList=n.blockList,Jt.limitRate=n.limitRate,Jt.origin=n.origin||e},a4=async(t,e,n={})=>{const r=await fetch(Jt.origin+t,{method:"POST",headers:n,body:e}),i=await r.text(),a=new Pd(r.status,i);if(r.ok)return a;throw a},s4=(t,e,n)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},RX=t=>{if(t&&t.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},o4=t=>t.webdriver||!t.languages||t.languages.length===0,l4=()=>new Pd(451,"Unavailable For Headless Browser"),PX=(t,e)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},jX=t=>{var e;return!((e=t.list)!=null&&e.length)||!t.watchVariable},kX=(t,e)=>t instanceof FormData?t.get(e):t[e],u4=(t,e)=>{if(jX(t))return!1;PX(t.list,t.watchVariable);const n=kX(e,t.watchVariable);return typeof n!="string"?!1:t.list.includes(n)},c4=()=>new Pd(403,"Forbidden"),DX=(t,e)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},MX=async(t,e,n)=>{const r=Number(await n.get(t)||0);return e-Date.now()+r},f4=async(t,e,n)=>{if(!e.throttle||!n)return!1;DX(e.throttle,e.id);const r=e.id||t;return await MX(r,e.throttle,n)>0?!0:(await n.set(r,Date.now().toString()),!1)},d4=()=>new Pd(429,"Too Many Requests"),LX=async(t,e,n,r)=>{const i=A1(r),a=i.publicKey||Jt.publicKey,s=i.blockHeadless||Jt.blockHeadless,o=i.storageProvider||Jt.storageProvider,l={...Jt.blockList,...i.blockList},u={...Jt.limitRate,...i.limitRate};return s&&o4(navigator)?Promise.reject(l4()):(s4(a,t,e),RX(n),n&&u4(l,n)?Promise.reject(c4()):await f4(location.pathname,u,o)?Promise.reject(d4()):a4("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:a,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"}))},VX=t=>{if(!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},UX=t=>typeof t=="string"?document.querySelector(t):t,zX=async(t,e,n,r)=>{const i=A1(r),a=i.publicKey||Jt.publicKey,s=i.blockHeadless||Jt.blockHeadless,o=Jt.storageProvider||i.storageProvider,l={...Jt.blockList,...i.blockList},u={...Jt.limitRate,...i.limitRate};if(s&&o4(navigator))return Promise.reject(l4());const c=UX(n);s4(a,t,e),VX(c);const f=new FormData(c);return u4(l,f)?Promise.reject(c4()):await f4(location.pathname,u,o)?Promise.reject(d4()):(f.append("lib_version","4.4.1"),f.append("service_id",t),f.append("template_id",e),f.append("user_id",a),a4("/api/v1.0/email/send-form",f))},h4={init:IX,send:LX,sendForm:zX,EmailJSResponseStatus:Pd},BX=()=>{const{cartItems:t,cartTotal:e,clearCart:n}=pd(),r=Mg(),[i,a]=b.useState(!1),[s,o]=b.useState("card"),[l,u]=b.useState({firstName:"",lastName:"",email:"",address:"",city:"",country:"",phone:"",shippingMethod:"standard"}),[c,f]=b.useState(10),m=y=>{const{name:w,value:x}=y.target;u(E=>({...E,[w]:x}))},p=(y,w)=>{u(x=>({...x,shippingMethod:y})),f(w)},g=async y=>{if(y.preventDefault(),a(!0),!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l.email)){alert("Please enter a valid email address."),a(!1);return}if(!l.firstName||!l.lastName||!l.address||!l.city||!l.country){alert("Please fill in all required fields."),a(!1);return}try{const x=await ly(pi(ut,"orders"),{...l,items:t.length,total:_,cart:t.map(N=>({id:N.id,name:N.name,quantity:N.quantity,price:N.price})),status:"New",paymentStatus:"Paid",fulfillmentStatus:"Pending",created_at:NM(),user:l.email}),E=XK(ut);t.forEach(N=>{const P=Ar(ut,"products",N.id);E.update(P,{stock:qK(-N.quantity)})}),await E.commit();try{const N="service_vnv2zdj",P="template_fcosgki",k="BsB9Xsr8nr5Yo-WuD",T=t.map(C=>`
                    <tr style="vertical-align: top">
                        <td style="padding: 24px 8px 0 4px; width: 64px;">
                            <img style="height: 64px; width: 64px; object-fit: cover; border-radius: 4px;" src="${C.image}" alt="${C.name}" />
                        </td>
                        <td style="padding: 24px 8px 0 8px;">
                            <div style="font-family: 'Playfair Display', serif; font-size: 16px; color: #1a1a1a;">${C.name}</div>
                            <div style="font-size: 14px; color: #888; padding-top: 4px">Qty: ${C.quantity}  $${C.price}</div>
                        </td>
                        <td style="padding: 24px 4px 0 0; white-space: nowrap; text-align: right;">
                            <strong style="color: #D4AF37;">$${(C.price*C.quantity).toFixed(2)}</strong>
                        </td>
                    </tr>
                `).join(""),A={to_name:l.firstName,to_email:l.email,order_id:x.id,order_items_html:T,shipping_cost:c.toFixed(2),total_cost:_.toFixed(2),message:"Thank you for choosing Ambrosia. We are preparing your divine essence."};await h4.send(N,P,A,k),console.log("Email sent successfully")}catch(N){console.error("Failed to send email:",N)}a(!1),n(),r("/order-confirmation",{state:{orderId:x.id}})}catch(x){console.error("Order failed:",x),alert("Failed to place order. Please try again."),a(!1)}};if(t.length===0)return setTimeout(()=>r("/cart"),0),null;const _=e+c;return d.jsx("div",{className:"checkout-page py-32",children:d.jsxs("div",{className:"container",children:[d.jsx("h1",{className:"text-5xl font-heading text-gold mb-12",children:"Checkout"}),d.jsxs("form",{onSubmit:g,className:"checkout-grid grid grid-cols-2 gap-20",children:[d.jsxs("div",{className:"checkout-form",children:[d.jsxs("section",{className:"checkout-section mb-12",children:[d.jsx("h2",{className:"text-2xl font-heading text-white mb-8 border-bottom border-white/5 pb-4",children:"Shipping Information"}),d.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[d.jsx("input",{type:"text",name:"firstName",placeholder:"First Name",className:"form-input",required:!0,value:l.firstName,onChange:m}),d.jsx("input",{type:"text",name:"lastName",placeholder:"Last Name",className:"form-input",required:!0,value:l.lastName,onChange:m})]}),d.jsx("input",{type:"email",name:"email",placeholder:"Email Address",className:"form-input mb-6",required:!0,value:l.email,onChange:m}),d.jsx("input",{type:"text",name:"address",placeholder:"Address",className:"form-input mb-6",required:!0,value:l.address,onChange:m}),d.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[d.jsx("input",{type:"text",name:"city",placeholder:"City",className:"form-input",required:!0,value:l.city,onChange:m}),d.jsx("input",{type:"text",name:"country",placeholder:"Country",className:"form-input",required:!0,value:l.country,onChange:m})]}),d.jsx("input",{type:"tel",name:"phone",placeholder:"Contact Number (for delivery)",className:"form-input mb-6",required:!0,value:l.phone,onChange:m})]}),d.jsxs("section",{className:"checkout-section mb-12",children:[d.jsx("h2",{className:"text-2xl font-heading text-white mb-8 border-bottom border-white/5 pb-4",children:"Shipping Method"}),d.jsxs("div",{className:"shipping-options space-y-4",children:[d.jsxs("label",{className:`shipping-option flex items-center justify-between p-4 bg-[#111] border rounded cursor-pointer ${l.shippingMethod==="standard"?"border-gold":"border-white/5"}`,children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("input",{type:"radio",name:"shipping",checked:l.shippingMethod==="standard",onChange:()=>p("standard",10)}),d.jsx("span",{children:"Standard (5-10 Days)"})]}),d.jsx("span",{className:"text-gold",children:"$10.00"})]}),d.jsxs("label",{className:`shipping-option flex items-center justify-between p-4 bg-[#111] border rounded cursor-pointer ${l.shippingMethod==="express"?"border-gold":"border-white/5"}`,children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("input",{type:"radio",name:"shipping",checked:l.shippingMethod==="express",onChange:()=>p("express",25)}),d.jsx("span",{children:"Express (2-3 Days)"})]}),d.jsx("span",{className:"text-gold",children:"$25.00"})]})]})]}),d.jsxs("section",{className:"checkout-section mb-12",children:[d.jsx("h2",{className:"text-2xl font-heading text-white mb-8 border-bottom border-white/5 pb-4",children:"Payment Method"}),d.jsxs("div",{className:"payment-tabs flex gap-4 mb-8",children:[d.jsx("button",{type:"button",className:`payment-tab flex-1 p-4 rounded border ${s==="card"?"border-gold text-gold bg-gold/5":"border-white/5 text-gray-400"}`,onClick:()=>o("card"),children:"Credit Card"}),d.jsx("button",{type:"button",className:`payment-tab flex-1 p-4 rounded border ${s==="paypal"?"border-gold text-gold bg-gold/5":"border-white/5 text-gray-400"}`,onClick:()=>o("paypal"),children:"PayPal"})]}),s==="card"?d.jsxs("div",{className:"card-details space-y-6",children:[d.jsx("div",{className:"p-4 bg-yellow-500/10 border border-yellow-500/20 text-yellow-200 text-sm rounded",children:"Note: This is a secure checkout demonstration. No real charge will be made yet."}),d.jsx("input",{type:"text",placeholder:"Card Number",className:"form-input"}),d.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[d.jsx("input",{type:"text",placeholder:"MM / YY",className:"form-input"}),d.jsx("input",{type:"text",placeholder:"CVV",className:"form-input"})]})]}):d.jsx("div",{className:"paypal-notice p-8 bg-blue-600/5 border border-blue-600/20 rounded text-center",children:d.jsx("p",{className:"text-gray-300",children:"Proceed to complete your purchase securely with PayPal."})})]}),d.jsx("button",{type:"submit",disabled:i,className:`btn w-full py-5 text-lg uppercase tracking-widest mt-8 ${i?"opacity-50 cursor-not-allowed":""}`,children:i?"Processing...":"Place Order"})]}),d.jsx("div",{className:"checkout-sidebar",children:d.jsxs("div",{className:"order-summary bg-[#111] p-10 rounded-lg border border-white/5 sticky top-32",children:[d.jsx("h2",{className:"text-2xl font-heading text-white mb-8 border-bottom border-white/5 pb-4",children:"Order Summary"}),d.jsx("div",{className:"order-items space-y-6 mb-10 max-h-96 overflow-y-auto pr-2",children:t.map(y=>d.jsxs("div",{className:"flex justify-between items-center bg-black/20 p-3 rounded border border-white/5",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"item-thumbnail-mini w-12 h-12 overflow-hidden rounded bg-gray-800",children:d.jsx("img",{src:y.image,alt:y.name,className:"w-full h-full object-cover"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-white text-xs font-heading leading-tight mb-1",children:y.name}),d.jsxs("p",{className:"text-gray-500 text-[10px] uppercase tracking-widest",children:["Qty: ",y.quantity]})]})]}),d.jsxs("span",{className:"text-gold text-sm font-bold",children:["$",(y.price*y.quantity).toFixed(2)]})]},y.id))}),d.jsxs("div",{className:"summary-details pt-8 border-top border-white/10 space-y-4",children:[d.jsxs("div",{className:"flex justify-between text-gray-400",children:[d.jsx("span",{children:"Subtotal"}),d.jsxs("span",{children:["$",e.toFixed(2)]})]}),d.jsxs("div",{className:"flex justify-between text-gray-400",children:[d.jsx("span",{children:"Shipping"}),d.jsxs("span",{children:["$",c.toFixed(2)]})]}),d.jsxs("div",{className:"flex justify-between text-xl text-white font-heading font-bold pt-4 border-top border-white/5",children:[d.jsx("span",{children:"Total"}),d.jsxs("span",{className:"text-gold",children:["$",_.toFixed(2)]})]})]})]})})]})]})})},$X=()=>{var f,m,p;const[t,e]=b.useState(""),[n,r]=b.useState(""),[i,a]=b.useState(null),[s,o]=b.useState(!1),[l,u]=b.useState(""),c=async g=>{g.preventDefault(),o(!0),u(""),a(null);try{const _=Ar(ut,"orders",t.trim()),y=await y1(_);if(y.exists()){const w=y.data();w.email.toLowerCase()===n.toLowerCase()?a({id:y.id,...w}):u("Order found, but email does not match records.")}else u("Order not found. Please check your Order ID.")}catch(_){console.error("Tracking Error:",_),u("An error occurred while tracking. Please try again.")}o(!1)};return d.jsx("div",{className:"track-order-page py-32 min-h-[60vh]",children:d.jsxs("div",{className:"container max-w-2xl mx-auto",children:[d.jsx("h1",{className:"text-4xl font-heading text-gold text-center mb-8",children:"Track Your Order"}),d.jsx("p",{className:"text-gray-400 text-center mb-12",children:"Enter your Order ID and Email Address to see current status."}),d.jsxs("form",{onSubmit:c,className:"bg-[#111] p-8 rounded-xl border border-white/10 mb-12",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Order ID"}),d.jsx("input",{type:"text",required:!0,className:"w-full bg-black/50 border border-white/10 rounded p-3 text-white focus:border-gold outline-none",placeholder:"e.g. 5xJ8...",value:t,onChange:g=>e(g.target.value)})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Email Address"}),d.jsx("input",{type:"email",required:!0,className:"w-full bg-black/50 border border-white/10 rounded p-3 text-white focus:border-gold outline-none",placeholder:"name@example.com",value:n,onChange:g=>r(g.target.value)})]})]}),d.jsx("button",{type:"submit",disabled:s,className:"w-full bg-gold text-black py-4 rounded font-bold uppercase tracking-widest hover:bg-white transition-colors",children:s?"Searching...":"Track Order"}),l&&d.jsx("p",{className:"text-red-500 text-center mt-4 text-sm",children:l})]}),i&&d.jsxs("div",{className:"order-result bg-[#111] p-8 rounded-xl border border-gold/30 animate-fade-in relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-gold to-transparent"}),d.jsxs("div",{className:"flex justify-between items-start mb-8",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl text-white font-heading",children:"Order Status"}),d.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:["Placed on ",(f=i.created_at)==null?void 0:f.toDate().toLocaleDateString()]})]}),d.jsx("div",{className:"text-right",children:d.jsx("span",{className:`inline-block px-4 py-2 rounded border text-xs uppercase font-bold tracking-widest ${i.status==="Delivered"?"text-green-500 border-green-500/30 bg-green-500/10":i.status==="Shipped"?"text-purple-500 border-purple-500/30 bg-purple-500/10":"text-yellow-500 border-yellow-500/30 bg-yellow-500/10"}`,children:i.status})})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-8 border-t border-white/10 pt-8",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-xs uppercase tracking-widest text-gray-500 mb-4",children:"Shipping To"}),d.jsxs("p",{className:"text-white",children:[i.firstName," ",i.lastName]}),d.jsx("p",{className:"text-gray-400 text-sm",children:i.address}),d.jsxs("p",{className:"text-gray-400 text-sm",children:[i.city,", ",i.country]})]}),d.jsxs("div",{children:[d.jsxs("h3",{className:"text-xs uppercase tracking-widest text-gray-500 mb-4",children:["Items (",i.items,")"]}),d.jsx("ul",{className:"space-y-2",children:(m=i.cart)==null?void 0:m.map((g,_)=>d.jsxs("li",{className:"text-sm text-gray-300 flex justify-between",children:[d.jsxs("span",{children:[g.quantity,"x ",g.name]}),d.jsxs("span",{className:"text-gold",children:["$",g.price]})]},_))}),d.jsxs("div",{className:"mt-4 pt-4 border-t border-white/10 flex justify-between font-bold text-white",children:[d.jsx("span",{children:"Total"}),d.jsxs("span",{children:["$",(p=i.total)==null?void 0:p.toFixed(2)]})]})]})]})]})]})})},FX=()=>{var n;const e=((n=Is().state)==null?void 0:n.orderId)||"AMB-"+Math.floor(1e5+Math.random()*9e5);return d.jsx("div",{className:"confirmation-page py-48",children:d.jsxs("div",{className:"container text-center",children:[d.jsx("div",{className:"success-icon text-gold text-7xl mb-8",children:""}),d.jsx("h1",{className:"text-6xl font-heading text-gold mb-6",children:"Order Confirmed"}),d.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto leading-relaxed mb-12",children:"Thank you for choosing Ambrosia. We've received your order and are currently preparing your selection of prime cinnamon for its journey to your doorstep."}),d.jsxs("div",{className:"order-details-summary bg-[#111] p-10 rounded max-w-lg mx-auto border border-white/5 mb-16",children:[d.jsxs("p",{className:"text-gray-500 text-sm mb-4",children:["Order #",e]}),d.jsx("p",{className:"text-white",children:"A confirmation email has been sent. You can track your 100% Sri Lankan delivery once the quills are dispatched."})]}),d.jsxs("div",{className:"flex justify-center gap-8",children:[d.jsx(et,{to:"/shop",className:"btn btn-outline",children:"Continue Shopping"}),d.jsx(et,{to:"/",className:"btn",children:"Back to Home"})]})]})})},qX=()=>d.jsx("div",{className:"legal-page pt-56 pb-24 bg-black min-h-screen text-gray-300",children:d.jsxs("div",{className:"container max-w-4xl",children:[d.jsx("h1",{className:"text-6xl font-heading text-gold mb-12",children:"Privacy Policy"}),d.jsxs("div",{className:"bg-[#111] border border-gold/10 p-10 rounded-3xl mb-16 shadow-xl",children:[d.jsx("h3",{className:"text-gold font-bold uppercase tracking-widest text-[10px] mb-4",children:"Simple English Summary"}),d.jsx("p",{className:"text-lg text-white/90 italic font-light leading-relaxed",children:`"Basically: We utilize your data solely to ship your cinnamon and keep you updated. We never sell your info to weird third parties. Your payment details are secure and we don't even see them."`})]}),d.jsx("p",{className:"text-xs text-gray-500 mb-12 uppercase tracking-widest",children:"Last Updated: January 30, 2026"}),d.jsxs("div",{className:"space-y-12 text-gray-400 leading-8",children:[d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl text-white font-heading mb-4 border-b border-white/5 pb-2 inline-block",children:"1. Information We Collect"}),d.jsx("p",{className:"text-base",children:"At Ambrosia, we collect information you provide directly to us, such as when you create an account, place an order, or subscribe to our newsletter. This includes your name, email address, shipping address, and payment information."})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl text-white font-heading mb-4 border-b border-white/5 pb-2 inline-block",children:"2. How We Use Your Information"}),d.jsx("p",{className:"text-base",children:"We use your information to process transactions, send order updates, and improve your shopping experience. We do not sell your personal data to third parties."})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl text-white font-heading mb-4 border-b border-white/5 pb-2 inline-block",children:"3. Security"}),d.jsx("p",{className:"text-base",children:"We implement a variety of security measures to maintain the safety of your personal information. Your payment data is processed securely via our payment partners and is never stored on our servers."})]})]})]})}),HX=()=>d.jsx("div",{className:"legal-page pt-56 pb-24 bg-black min-h-screen text-gray-300",children:d.jsxs("div",{className:"container max-w-4xl",children:[d.jsx("h1",{className:"text-6xl font-heading text-gold mb-12",children:"Terms & Conditions"}),d.jsxs("div",{className:"bg-[#111] border border-gold/10 p-10 rounded-3xl mb-16 shadow-xl",children:[d.jsx("h3",{className:"text-gold font-bold uppercase tracking-widest text-[10px] mb-4",children:"Simple English Summary"}),d.jsx("p",{className:"text-lg text-white/90 italic font-light leading-relaxed",children:`"Basically: We promise to send you high-quality cinnamon. Shipping takes a few days. Since it's food, we can't take returns unless we messed up. Be nice to our website."`})]}),d.jsx("p",{className:"text-xs text-gray-500 mb-12 uppercase tracking-widest",children:"Last Updated: January 30, 2026"}),d.jsxs("div",{className:"space-y-12 text-gray-400 leading-8",children:[d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl text-white font-heading mb-4 border-b border-white/5 pb-2 inline-block",children:"1. Acceptance of Terms"}),d.jsx("p",{className:"text-base",children:"By accessing and using this website, you accept and agree to be bound by the terms and provision of this agreement."})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl text-white font-heading mb-4 border-b border-white/5 pb-2 inline-block",children:"2. Products & Pricing"}),d.jsx("p",{className:"text-base",children:"All products listed on the website are subject to availability. Prices and availability of products are subject to change without notice."})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl text-white font-heading mb-4 border-b border-white/5 pb-2 inline-block",children:"3. Returns & Refunds"}),d.jsx("p",{className:"text-base",children:"Due to the perishable nature of our products, we do not accept returns. However, if your order arrives damaged, please contact us within 48 hours for a replacement or refund."})]})]})]})}),GX=()=>{const[t,e]=b.useState(""),[n,r]=b.useState(""),[i,a]=b.useState(""),[s,o]=b.useState(!1),l=Mg(),u=async c=>{var f;c.preventDefault(),a(""),o(!0);try{const p=(await g7(Df,t,n)).user,g=await y1(Ar(ut,"users",p.uid));if(g.exists()&&((f=g.data())==null?void 0:f.role)==="admin")l("/admin");else throw await Qb(Df),new Error("Access Denied: You do not have administrator privileges.")}catch(m){console.error("Login Error:",m);const p=m.message.includes("Access Denied")?m.message:"Invalid credentials. Please try again.";a(p)}finally{o(!1)}};return d.jsxs("div",{className:"min-h-screen bg-[#050505] flex items-center justify-center relative overflow-hidden",children:[d.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[d.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[50%] h-[50%] bg-gold/5 blur-[150px] rounded-full"}),d.jsx("div",{className:"absolute bottom-[-20%] right-[-10%] w-[50%] h-[50%] bg-purple-900/10 blur-[150px] rounded-full"})]}),d.jsxs("div",{className:"w-full max-w-md bg-[#111]/80 backdrop-blur-xl p-10 rounded-2xl border border-white/10 shadow-2xl relative z-10",children:[d.jsxs("div",{className:"text-center mb-10",children:[d.jsx("h1",{className:"text-4xl font-heading text-gold mb-3 tracking-tight",children:"Ambrosia"}),d.jsx("div",{className:"h-px w-16 bg-gradient-to-r from-transparent via-gold/50 to-transparent mx-auto mb-3"}),d.jsx("p",{className:"text-gray-500 uppercase text-[10px] tracking-[0.3em] font-medium",children:"Administration"})]}),i&&d.jsx("div",{className:"bg-red-500/10 border border-red-500/20 text-red-400 p-4 rounded-lg mb-6 text-xs text-center font-medium tracking-wide",children:i}),d.jsxs("form",{onSubmit:u,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-[10px] uppercase tracking-widest text-gray-500 mb-2 font-bold ml-1",children:"Email Address"}),d.jsx("input",{type:"email",value:t,onChange:c=>e(c.target.value),className:"w-full bg-black/50 border border-white/10 rounded-lg p-4 text-white placeholder-gray-700 text-sm focus:outline-none focus:border-gold/50 focus:bg-black transition-all duration-300",placeholder:"name@example.com",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[10px] uppercase tracking-widest text-gray-500 mb-2 font-bold ml-1",children:"Password"}),d.jsx("input",{type:"password",value:n,onChange:c=>r(c.target.value),className:"w-full bg-black/50 border border-white/10 rounded-lg p-4 text-white placeholder-gray-700 text-sm focus:outline-none focus:border-gold/50 focus:bg-black transition-all duration-300",placeholder:"",required:!0})]}),d.jsx("button",{type:"submit",disabled:s,className:`w-full bg-gold text-black font-bold py-4 rounded-lg text-xs uppercase tracking-widest transition-all hover:bg-white hover:scale-[1.02] shadow-[0_0_20px_rgba(212,175,55,0.2)] ${s?"opacity-50 cursor-not-allowed transform-none":""}`,children:s?"Authenticating...":"Access Dashboard"})]}),d.jsx("div",{className:"mt-8 text-center",children:d.jsx("p",{className:"text-[10px] text-gray-700 font-mono",children:"Protected System. Unauthorized access is prohibited."})})]})]})},KX=()=>{const t=Mg(),{currentUser:e,isAdmin:n,loading:r}=mY();if(pu.useEffect(()=>{!r&&(!e||!n)&&t("/admin/login")},[e,n,r,t]),r)return d.jsx("div",{className:"min-h-screen bg-black text-gold flex items-center justify-center",children:"Loading Admin..."});if(!n)return d.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col items-center justify-center gap-4",children:[d.jsx("h1",{className:"text-2xl text-red-500 font-bold",children:"Access Denied"}),d.jsx("p",{className:"text-gray-400",children:"You do not have administrator's privileges."}),d.jsxs("div",{className:"text-sm text-gray-600",children:["Current Role: ",e==null?void 0:e.email]}),d.jsx("button",{onClick:()=>{Qb(Df),t("/admin/login")},className:"px-4 py-2 bg-gold text-black rounded hover:bg-white transition-colors",children:"Back to Login"})]});const i=async()=>{try{await Qb(Df),t("/admin/login")}catch(a){console.error("Logout failed:",a)}};return d.jsxs("div",{className:"admin-theme min-h-screen bg-[#F4F5F7] flex text-gray-800 selection:bg-gold selection:text-black",children:[d.jsxs("aside",{className:"w-64 bg-black flex flex-col fixed h-full z-20 shadow-xl border-r border-white/10",children:[d.jsx("div",{className:"h-20 flex items-center px-8 border-b border-white/10",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-gold to-yellow-600 rounded-lg flex items-center justify-center text-black font-bold text-lg shadow-lg shadow-gold/20",children:"A"}),d.jsxs("h1",{className:"text-xl font-bold text-white tracking-tight",children:["Ambrosia",d.jsx("span",{className:"text-gold",children:"."})]})]})}),d.jsxs("nav",{className:"flex-1 px-4 py-8 space-y-1",children:[d.jsx("p",{className:"px-4 text-[10px] uppercase tracking-wider text-gray-500 mb-4 font-bold",children:"Menu"}),d.jsxs(Sn,{to:"/admin",end:!0,className:({isActive:a})=>`flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200 ${a?"bg-gradient-to-r from-gold to-yellow-500 text-black shadow-lg shadow-gold/20":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[d.jsx(LY,{size:18}),d.jsx("span",{children:"Dashboard"})]}),d.jsxs(Sn,{to:"/admin/orders",className:({isActive:a})=>`flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200 ${a?"bg-gradient-to-r from-gold to-yellow-500 text-black shadow-lg shadow-gold/20":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[d.jsx(r4,{size:18}),d.jsx("span",{children:"Orders"})]}),d.jsxs(Sn,{to:"/admin/products",className:({isActive:a})=>`flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200 ${a?"bg-gradient-to-r from-gold to-yellow-500 text-black shadow-lg shadow-gold/20":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[d.jsx(qY,{size:18}),d.jsx("span",{children:"Products"})]}),d.jsxs(Sn,{to:"/admin/messages",className:({isActive:a})=>`flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200 ${a?"bg-gradient-to-r from-gold to-yellow-500 text-black shadow-lg shadow-gold/20":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[d.jsx(Mf,{size:18}),d.jsx("span",{children:"Messages"})]})]}),d.jsxs("div",{className:"p-6 border-t border-white/10",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[d.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-700 overflow-hidden",children:d.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-xs",children:"U"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-white font-medium",children:"Admin User"}),d.jsx("p",{className:"text-[10px] text-gray-500 truncate w-32",children:e==null?void 0:e.email})]})]}),d.jsxs("button",{onClick:i,className:"w-full flex items-center gap-2 px-4 py-2 text-gray-400 hover:text-white transition-colors text-xs font-medium",children:[d.jsx(UY,{size:16}),"Sign Out"]})]})]}),d.jsx("main",{className:"flex-1 min-h-screen transition-all duration-300",style:{marginLeft:"256px"},children:d.jsx("div",{className:"w-full p-8",children:d.jsx(Jj,{})})})]})};function m4(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=m4(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function We(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=m4(t))&&(r&&(r+=" "),r+=e);return r}var WX=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function T1(t){if(typeof t!="string")return!1;var e=WX;return e.includes(t)}var YX=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],XX=new Set(YX);function p4(t){return typeof t!="string"?!1:XX.has(t)}function g4(t){return typeof t=="string"&&t.startsWith("data-")}function qr(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(p4(n)||g4(n))&&(e[n]=t[n]);return e}function fy(t){if(t==null)return null;if(b.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return qr(e)}return typeof t=="object"&&!Array.isArray(t)?qr(t):null}function Nr(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(p4(n)||g4(n)||T1(n))&&(e[n]=t[n]);return e}function QX(t){return t==null?null:b.isValidElement(t)?Nr(t.props):typeof t=="object"&&!Array.isArray(t)?Nr(t):null}var ZX=["children","width","height","viewBox","className","style","title","desc"];function yx(){return yx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yx.apply(null,arguments)}function JX(t,e){if(t==null)return{};var n,r,i=eQ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function eQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var y4=b.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:a,className:s,style:o,title:l,desc:u}=t,c=JX(t,ZX),f=a||{width:r,height:i,x:0,y:0},m=We("recharts-surface",s);return b.createElement("svg",yx({},Nr(c),{className:m,width:r,height:i,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:e}),b.createElement("title",null,l),b.createElement("desc",null,u),n)}),tQ=["children","className"];function vx(){return vx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vx.apply(null,arguments)}function nQ(t,e){if(t==null)return{};var n,r,i=rQ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var gi=b.forwardRef((t,e)=>{var{children:n,className:r}=t,i=nQ(t,tQ),a=We("recharts-layer",r);return b.createElement("g",vx({className:a},Nr(i),{ref:e}),n)}),iQ=b.createContext(null);function st(t){return function(){return t}}const bx=Math.PI,xx=2*bx,Xs=1e-6,aQ=xx-Xs;function v4(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function sQ(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return v4;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class oQ{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?v4:sQ(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=r-e,u=i-n,c=s-e,f=o-n,m=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(m>Xs)if(!(Math.abs(f*l-u*c)>Xs)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-s,g=i-o,_=l*l+u*u,y=p*p+g*g,w=Math.sqrt(_),x=Math.sqrt(m),E=a*Math.tan((bx-Math.acos((_+m-y)/(2*w*x)))/2),N=E/x,P=E/w;Math.abs(N-1)>Xs&&this._append`L${e+N*c},${n+N*f}`,this._append`A${a},${a},0,0,${+(f*p>c*g)},${this._x1=e+P*l},${this._y1=n+P*u}`}}arc(e,n,r,i,a,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),u=e+o,c=n+l,f=1^s,m=s?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Xs||Math.abs(this._y1-c)>Xs)&&this._append`L${u},${c}`,r&&(m<0&&(m=m%xx+xx),m>aQ?this._append`A${r},${r},0,1,${f},${e-o},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:m>Xs&&this._append`A${r},${r},0,${+(m>=bx)},${f},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function b4(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new oQ(e)}function N1(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function x4(t){this._context=t}x4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function dy(t){return new x4(t)}function _4(t){return t[0]}function w4(t){return t[1]}function E4(t,e){var n=st(!0),r=null,i=dy,a=null,s=b4(o);t=typeof t=="function"?t:t===void 0?_4:st(t),e=typeof e=="function"?e:e===void 0?w4:st(e);function o(l){var u,c=(l=N1(l)).length,f,m=!1,p;for(r==null&&(a=i(p=s())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===m&&((m=!m)?a.lineStart():a.lineEnd()),m&&a.point(+t(f,u,l),+e(f,u,l));if(p)return a=null,p+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:st(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:st(+l),o):e},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:st(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),o):r},o}function jh(t,e,n){var r=null,i=st(!0),a=null,s=dy,o=null,l=b4(u);t=typeof t=="function"?t:t===void 0?_4:st(+t),e=typeof e=="function"?e:st(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?w4:st(+n);function u(f){var m,p,g,_=(f=N1(f)).length,y,w=!1,x,E=new Array(_),N=new Array(_);for(a==null&&(o=s(x=l())),m=0;m<=_;++m){if(!(m<_&&i(y=f[m],m,f))===w)if(w=!w)p=m,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=m-1;g>=p;--g)o.point(E[g],N[g]);o.lineEnd(),o.areaEnd()}w&&(E[m]=+t(y,m,f),N[m]=+e(y,m,f),o.point(r?+r(y,m,f):E[m],n?+n(y,m,f):N[m]))}if(x)return o=null,x+""||null}function c(){return E4().defined(i).curve(s).context(a)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:st(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:st(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:st(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:st(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:st(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:st(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:st(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),u):s},u.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),u):a},u}class S4{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function lQ(t){return new S4(t,!0)}function uQ(t){return new S4(t,!1)}function Tp(){}function Np(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function A4(t){this._context=t}A4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Np(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Np(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function cQ(t){return new A4(t)}function T4(t){this._context=t}T4.prototype={areaStart:Tp,areaEnd:Tp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Np(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function fQ(t){return new T4(t)}function N4(t){this._context=t}N4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Np(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function dQ(t){return new N4(t)}function C4(t){this._context=t}C4.prototype={areaStart:Tp,areaEnd:Tp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function hQ(t){return new C4(t)}function _C(t){return t<0?-1:1}function wC(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(_C(a)+_C(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function EC(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function w0(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-r)/3;t._context.bezierCurveTo(r+o,i+o*e,a-o,s-o*n,a,s)}function Cp(t){this._context=t}Cp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:w0(this,this._t0,EC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,w0(this,EC(this,n=wC(this,t,e)),n);break;default:w0(this,this._t0,n=wC(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function O4(t){this._context=new I4(t)}(O4.prototype=Object.create(Cp.prototype)).point=function(t,e){Cp.prototype.point.call(this,e,t)};function I4(t){this._context=t}I4.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function mQ(t){return new Cp(t)}function pQ(t){return new O4(t)}function R4(t){this._context=t}R4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=SC(t),i=SC(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function SC(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function gQ(t){return new R4(t)}function hy(t,e){this._context=t,this._t=e}hy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function yQ(t){return new hy(t,.5)}function vQ(t){return new hy(t,0)}function bQ(t){return new hy(t,1)}function Co(t,e){if((s=t.length)>1)for(var n=1,r,i,a=t[e[0]],s,o=a.length;n<s;++n)for(i=a,a=t[e[n]],r=0;r<o;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function _x(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function xQ(t,e){return t[e]}function _Q(t){const e=[];return e.key=t,e}function wQ(){var t=st([]),e=_x,n=Co,r=xQ;function i(a){var s=Array.from(t.apply(this,arguments),_Q),o,l=s.length,u=-1,c;for(const f of a)for(o=0,++u;o<l;++o)(s[o][u]=[0,+r(f,s[o].key,u,a)]).data=f;for(o=0,c=N1(e(s));o<l;++o)s[c[o]].index=o;return n(s,c),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:st(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:st(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?_x:typeof a=="function"?a:st(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Co,i):n},i}function EQ(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}Co(t,e)}}function SQ(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var s=0,o=0;s<i;++s)o+=t[s][n][1]||0;r[n][1]+=r[n][0]=-o/2}Co(t,e)}}function AQ(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var o=0,l=0,u=0;o<s;++o){for(var c=t[e[o]],f=c[r][1]||0,m=c[r-1][1]||0,p=(f-m)/2,g=0;g<o;++g){var _=t[e[g]],y=_[r][1]||0,w=_[r-1][1]||0;p+=y-w}l+=f,u+=p*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Co(t,e)}}var my={},P4={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(P4);var C1={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(C1);var py={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(py);var gy={},j4={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(j4);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=j4,n=py;function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const a=[],s=i.length;if(s===0)return a;let o=0,l="",u="",c=!1;for(i.charCodeAt(0)===46&&(a.push(""),o++);o<s;){const f=i[o];u?f==="\\"&&o+1<s?(o++,l+=i[o]):f===u?u="":l+=f:c?f==='"'||f==="'"?u=f:f==="]"?(c=!1,a.push(l),l=""):l+=f:f==="["?(c=!0,l&&(a.push(l),l="")):f==="."?l&&(a.push(l),l=""):l+=f,o++}return l&&a.push(l),a}t.toPath=r})(gy);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=P4,n=C1,r=py,i=gy;function a(o,l,u){if(o==null)return u;switch(typeof l){case"string":{if(e.isUnsafeProperty(l))return u;const c=o[l];return c===void 0?n.isDeepKey(l)?a(o,i.toPath(l),u):u:c}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const c=o[l];return c===void 0?u:c}default:{if(Array.isArray(l))return s(o,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),e.isUnsafeProperty(l))return u;const c=o[l];return c===void 0?u:c}}}function s(o,l,u){if(l.length===0)return u;let c=o;for(let f=0;f<l.length;f++){if(c==null||e.isUnsafeProperty(l[f]))return u;c=c[l[f]]}return c===void 0?u:c}t.get=a})(my);var TQ=my.get;const yy=Ns(TQ);var NQ=4;function Za(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:NQ,n=10**e,r=Math.round(t*n)/n;return Object.is(r,-0)?0:r}function Xt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.reduce((i,a,s)=>{var o=n[s-1];return typeof o=="string"?i+o+a:o!==void 0?i+Za(o)+a:i+a},"")}var _r=t=>t===0?0:t>0?1:-1,yi=t=>typeof t=="number"&&t!=+t,Oo=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Q=t=>(typeof t=="number"||t instanceof Number)&&!yi(t),vi=t=>Q(t)||typeof t=="string",CQ=0,Vf=t=>{var e=++CQ;return"".concat(t||"").concat(e)},Ts=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Q(e)&&typeof e!="string")return r;var a;if(Oo(e)){if(n==null)return r;var s=e.indexOf("%");a=n*parseFloat(e.slice(0,s))/100}else a=+e;return yi(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},k4=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[String(t[r])])n[String(t[r])]=!0;else return!0;return!1};function Jr(t,e,n){return Q(t)&&Q(e)?Za(t+n*(e-t)):e}function D4(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):yy(r,e))===n)}var vn=t=>t===null||typeof t>"u",O1=t=>vn(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function Vn(t){return t!=null}function Pu(){}var M4=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,I1=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(b.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{T1(i)&&(r[i]=a=>n[i](n,a))}),r},OQ=(t,e,n)=>r=>(t(e,n,r),null),IQ=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var a=t[i];T1(i)&&typeof a=="function"&&(r||(r={}),r[i]=OQ(a,e,n))}),r};function AC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RQ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AC(Object(n),!0).forEach(function(r){PQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PQ(t,e,n){return(e=jQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jQ(t){var e=kQ(t,"string");return typeof e=="symbol"?e:e+""}function kQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cr(t,e){var n=RQ({},t),r=e,i=Object.keys(e),a=i.reduce((s,o)=>(s[o]===void 0&&r[o]!==void 0&&(s[o]=r[o]),s),n);return a}var L4={},V4={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let a=0;a<n.length;a++){const s=n[a],o=r(s,a,n);i.has(o)||i.set(o,s)}return Array.from(i.values())}t.uniqBy=e})(V4);var U4={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}t.ary=e})(U4);var R1={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(R1);var z4={},vy={},B4={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(B4);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=B4;function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(vy);var $4={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})($4);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vy,n=$4;function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(z4);var F4={},q4={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=my;function n(r){return function(i){return e.get(i,r)}}t.property=n})(q4);var H4={},P1={},G4={},j1={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(j1);var k1={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(k1);var D1={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.isEqualsSameValueZero=e})(D1);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=j1,n=k1,r=D1;function i(c,f,m){return typeof m!="function"?i(c,f,()=>{}):a(c,f,function p(g,_,y,w,x,E){const N=m(g,_,y,w,x,E);return N!==void 0?!!N:a(g,_,p,E)},new Map)}function a(c,f,m,p){if(f===c)return!0;switch(typeof f){case"object":return s(c,f,m,p);case"function":return Object.keys(f).length>0?a(c,{...f},m,p):r.isEqualsSameValueZero(c,f);default:return e.isObject(c)?typeof f=="string"?f==="":!0:r.isEqualsSameValueZero(c,f)}}function s(c,f,m,p){if(f==null)return!0;if(Array.isArray(f))return l(c,f,m,p);if(f instanceof Map)return o(c,f,m,p);if(f instanceof Set)return u(c,f,m,p);const g=Object.keys(f);if(c==null||n.isPrimitive(c))return g.length===0;if(g.length===0)return!0;if(p!=null&&p.has(f))return p.get(f)===c;p==null||p.set(f,c);try{for(let _=0;_<g.length;_++){const y=g[_];if(!n.isPrimitive(c)&&!(y in c)||f[y]===void 0&&c[y]!==void 0||f[y]===null&&c[y]!==null||!m(c[y],f[y],y,c,f,p))return!1}return!0}finally{p==null||p.delete(f)}}function o(c,f,m,p){if(f.size===0)return!0;if(!(c instanceof Map))return!1;for(const[g,_]of f.entries()){const y=c.get(g);if(m(y,_,g,c,f,p)===!1)return!1}return!0}function l(c,f,m,p){if(f.length===0)return!0;if(!Array.isArray(c))return!1;const g=new Set;for(let _=0;_<f.length;_++){const y=f[_];let w=!1;for(let x=0;x<c.length;x++){if(g.has(x))continue;const E=c[x];let N=!1;if(m(E,y,_,c,f,p)&&(N=!0),N){g.add(x),w=!0;break}}if(!w)return!1}return!0}function u(c,f,m,p){return f.size===0?!0:c instanceof Set?l([...c],[...f],m,p):!1}t.isMatchWith=i,t.isSetMatch=u})(G4);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=G4;function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(P1);var K4={},M1={},W4={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(W4);var by={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(by);var L1={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",o="[object Date]",l="[object Map]",u="[object Set]",c="[object Array]",f="[object Function]",m="[object ArrayBuffer]",p="[object Object]",g="[object Error]",_="[object DataView]",y="[object Uint8Array]",w="[object Uint8ClampedArray]",x="[object Uint16Array]",E="[object Uint32Array]",N="[object BigUint64Array]",P="[object Int8Array]",k="[object Int16Array]",T="[object Int32Array]",A="[object BigInt64Array]",C="[object Float32Array]",R="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=m,t.arrayTag=c,t.bigInt64ArrayTag=A,t.bigUint64ArrayTag=N,t.booleanTag=i,t.dataViewTag=_,t.dateTag=o,t.errorTag=g,t.float32ArrayTag=C,t.float64ArrayTag=R,t.functionTag=f,t.int16ArrayTag=k,t.int32ArrayTag=T,t.int8ArrayTag=P,t.mapTag=l,t.numberTag=r,t.objectTag=p,t.regexpTag=e,t.setTag=u,t.stringTag=n,t.symbolTag=s,t.uint16ArrayTag=x,t.uint32ArrayTag=E,t.uint8ArrayTag=y,t.uint8ClampedArrayTag=w})(L1);var Y4={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(Y4);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=W4,n=by,r=L1,i=k1,a=Y4;function s(c,f){return o(c,void 0,c,new Map,f)}function o(c,f,m,p=new Map,g=void 0){const _=g==null?void 0:g(c,f,m,p);if(_!==void 0)return _;if(i.isPrimitive(c))return c;if(p.has(c))return p.get(c);if(Array.isArray(c)){const y=new Array(c.length);p.set(c,y);for(let w=0;w<c.length;w++)y[w]=o(c[w],w,m,p,g);return Object.hasOwn(c,"index")&&(y.index=c.index),Object.hasOwn(c,"input")&&(y.input=c.input),y}if(c instanceof Date)return new Date(c.getTime());if(c instanceof RegExp){const y=new RegExp(c.source,c.flags);return y.lastIndex=c.lastIndex,y}if(c instanceof Map){const y=new Map;p.set(c,y);for(const[w,x]of c)y.set(w,o(x,w,m,p,g));return y}if(c instanceof Set){const y=new Set;p.set(c,y);for(const w of c)y.add(o(w,void 0,m,p,g));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(c))return c.subarray();if(a.isTypedArray(c)){const y=new(Object.getPrototypeOf(c)).constructor(c.length);p.set(c,y);for(let w=0;w<c.length;w++)y[w]=o(c[w],w,m,p,g);return y}if(c instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&c instanceof SharedArrayBuffer)return c.slice(0);if(c instanceof DataView){const y=new DataView(c.buffer.slice(0),c.byteOffset,c.byteLength);return p.set(c,y),l(y,c,m,p,g),y}if(typeof File<"u"&&c instanceof File){const y=new File([c],c.name,{type:c.type});return p.set(c,y),l(y,c,m,p,g),y}if(typeof Blob<"u"&&c instanceof Blob){const y=new Blob([c],{type:c.type});return p.set(c,y),l(y,c,m,p,g),y}if(c instanceof Error){const y=new c.constructor;return p.set(c,y),y.message=c.message,y.name=c.name,y.stack=c.stack,y.cause=c.cause,l(y,c,m,p,g),y}if(c instanceof Boolean){const y=new Boolean(c.valueOf());return p.set(c,y),l(y,c,m,p,g),y}if(c instanceof Number){const y=new Number(c.valueOf());return p.set(c,y),l(y,c,m,p,g),y}if(c instanceof String){const y=new String(c.valueOf());return p.set(c,y),l(y,c,m,p,g),y}if(typeof c=="object"&&u(c)){const y=Object.create(Object.getPrototypeOf(c));return p.set(c,y),l(y,c,m,p,g),y}return c}function l(c,f,m=c,p,g){const _=[...Object.keys(f),...e.getSymbols(f)];for(let y=0;y<_.length;y++){const w=_[y],x=Object.getOwnPropertyDescriptor(c,w);(x==null||x.writable)&&(c[w]=o(f[w],w,m,p,g))}}function u(c){switch(n.getTag(c)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=s,t.cloneDeepWithImpl=o,t.copyProperties=l})(M1);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=M1;function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(K4);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=P1,n=K4;function r(i){return i=n.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=r})(H4);var X4={},Q4={},Z4={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=M1,n=by,r=L1;function i(a,s){return e.cloneDeepWith(a,(o,l,u,c)=>{const f=s==null?void 0:s(o,l,u,c);if(f!==void 0)return f;if(typeof a=="object"){if(n.getTag(a)===r.objectTag&&typeof a.constructor!="function"){const m={};return c.set(a,m),e.copyProperties(m,a,u,c),m}switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const m=new a.constructor(a==null?void 0:a.valueOf());return e.copyProperties(m,a),m}case r.argumentsTag:{const m={};return e.copyProperties(m,a),m.length=a.length,m[Symbol.iterator]=a[Symbol.iterator],m}default:return}}})}t.cloneDeepWith=i})(Z4);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Z4;function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(Q4);var J4={},V1={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(V1);var eL={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=by;function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(eL);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=C1,n=V1,r=eL,i=gy;function a(s,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&e.isDeepKey(o)&&(s==null?void 0:s[o])==null?l=i.toPath(o):l=[o],l.length===0)return!1;let u=s;for(let c=0;c<l.length;c++){const f=l[c];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||r.isArguments(u))&&n.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}t.has=a})(J4);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=P1,n=py,r=Q4,i=my,a=J4;function s(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=n.toKey(o);break}}return l=r.cloneDeep(l),function(u){const c=i.get(u,o);return c===void 0?a.has(u,o):l===void 0?c===void 0:e.isMatch(c,l)}}t.matchesProperty=s})(X4);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=R1,n=q4,r=H4,i=X4;function a(s){if(s==null)return e.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}t.iteratee=a})(F4);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=V4,n=U4,r=R1,i=z4,a=F4;function s(o,l=r.identity){return i.isArrayLikeObject(o)?e.uniqBy(Array.from(o),n.ary(a.iteratee(l),1)):[]}t.uniqBy=s})(L4);var DQ=L4.uniqBy;const TC=Ns(DQ);function MQ(t,e,n){return e===!0?TC(t,n):typeof e=="function"?TC(t,e):t}var tL={exports:{}},nL={},rL={exports:{}},iL={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lu=b;function LQ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var VQ=typeof Object.is=="function"?Object.is:LQ,UQ=lu.useState,zQ=lu.useEffect,BQ=lu.useLayoutEffect,$Q=lu.useDebugValue;function FQ(t,e){var n=e(),r=UQ({inst:{value:n,getSnapshot:e}}),i=r[0].inst,a=r[1];return BQ(function(){i.value=n,i.getSnapshot=e,E0(i)&&a({inst:i})},[t,n,e]),zQ(function(){return E0(i)&&a({inst:i}),t(function(){E0(i)&&a({inst:i})})},[t]),$Q(n),n}function E0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!VQ(t,n)}catch{return!0}}function qQ(t,e){return e()}var HQ=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?qQ:FQ;iL.useSyncExternalStore=lu.useSyncExternalStore!==void 0?lu.useSyncExternalStore:HQ;rL.exports=iL;var GQ=rL.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xy=b,KQ=GQ;function WQ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var YQ=typeof Object.is=="function"?Object.is:WQ,XQ=KQ.useSyncExternalStore,QQ=xy.useRef,ZQ=xy.useEffect,JQ=xy.useMemo,eZ=xy.useDebugValue;nL.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var a=QQ(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=JQ(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&s.hasValue){var g=s.value;if(i(g,p))return f=g}return f=p}if(g=f,YQ(c,p))return g;var _=r(p);return i!==void 0&&i(g,_)?(c=p,g):(c=p,f=_)}var u=!1,c,f,m=n===void 0?null:n;return[function(){return l(e())},m===null?void 0:function(){return l(m())}]},[e,n,r,i]);var o=XQ(t,a[0],a[1]);return ZQ(function(){s.hasValue=!0,s.value=o},[o]),eZ(o),o};tL.exports=nL;var tZ=tL.exports,U1=b.createContext(null),nZ=t=>t,Ft=()=>{var t=b.useContext(U1);return t?t.store.dispatch:nZ},Em=()=>{},rZ=()=>Em,iZ=(t,e)=>t===e;function ee(t){var e=b.useContext(U1),n=b.useMemo(()=>e?r=>{if(r!=null)return t(r)}:Em,[e,t]);return tZ.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:rZ,e?e.store.getState:Em,e?e.store.getState:Em,n,iZ)}function aZ(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function sZ(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function oZ(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var NC=t=>Array.isArray(t)?t:[t];function lZ(t){const e=Array.isArray(t[0])?t[0]:t;return oZ(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function uZ(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var cZ=class{constructor(t){this.value=t}deref(){return this.value}},fZ=typeof WeakRef<"u"?WeakRef:cZ,dZ=0,CC=1;function kh(){return{s:dZ,v:void 0,o:null,p:null}}function aL(t,e={}){let n=kh();const{resultEqualityCheck:r}=e;let i,a=0;function s(){var f;let o=n;const{length:l}=arguments;for(let m=0,p=l;m<p;m++){const g=arguments[m];if(typeof g=="function"||typeof g=="object"&&g!==null){let _=o.o;_===null&&(o.o=_=new WeakMap);const y=_.get(g);y===void 0?(o=kh(),_.set(g,o)):o=y}else{let _=o.p;_===null&&(o.p=_=new Map);const y=_.get(g);y===void 0?(o=kh(),_.set(g,o)):o=y}}const u=o;let c;if(o.s===CC)c=o.v;else if(c=t.apply(null,arguments),a++,r){const m=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;m!=null&&r(m,c)&&(c=m,a!==0&&a--),i=typeof c=="object"&&c!==null||typeof c=="function"?new fZ(c):c}return u.s=CC,u.v=c,c}return s.clearCache=()=>{n=kh(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function hZ(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let a=0,s=0,o,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),aZ(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...n,...l},{memoize:f,memoizeOptions:m=[],argsMemoize:p=aL,argsMemoizeOptions:g=[]}=c,_=NC(m),y=NC(g),w=lZ(i),x=f(function(){return a++,u.apply(null,arguments)},..._),E=p(function(){s++;const P=uZ(w,arguments);return o=x.apply(null,P),o},...y);return Object.assign(E,{resultFunc:u,memoizedResultFunc:x,dependencies:w,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:f,argsMemoize:p})};return Object.assign(r,{withTypes:()=>r}),r}var V=hZ(aL),mZ=Object.assign((t,e=V)=>{sZ(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(a=>t[a]);return e(r,(...a)=>a.reduce((s,o,l)=>(s[n[l]]=o,s),{}))},{withTypes:()=>mZ}),sL={},oL={},lL={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const s=e(r),o=e(i);if(s===o&&s===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?o-s:s-o}return 0};t.compareValues=n})(lL);var uL={},z1={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(z1);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=z1,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||s!=null&&Object.hasOwn(s,a)}t.isKey=i})(uL);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lL,n=uL,r=gy;function i(a,s,o,l){if(a==null)return[];o=l?void 0:o,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(p=>String(p));const u=(p,g)=>{let _=p;for(let y=0;y<g.length&&_!=null;++y)_=_[g[y]];return _},c=(p,g)=>g==null||p==null?g:typeof p=="object"&&"key"in p?Object.hasOwn(g,p.key)?g[p.key]:u(g,p.path):typeof p=="function"?p(g):Array.isArray(p)?u(g,p):typeof g=="object"?g[p]:g,f=s.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||n.isKey(p)?p:{key:p,path:r.toPath(p)}));return a.map(p=>({original:p,criteria:f.map(g=>c(g,p))})).slice().sort((p,g)=>{for(let _=0;_<f.length;_++){const y=e.compareValues(p.criteria[_],g.criteria[_],o[_]);if(y!==0)return y}return 0}).map(p=>p.original)}t.orderBy=i})(oL);var cL={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],a=Math.floor(r),s=(o,l)=>{for(let u=0;u<o.length;u++){const c=o[u];Array.isArray(c)&&l<a?s(c,l+1):i.push(c)}};return s(n,0),i}t.flatten=e})(cL);var B1={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=V1,n=vy,r=j1,i=D1;function a(s,o,l){return r.isObject(l)&&(typeof o=="number"&&n.isArrayLike(l)&&e.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?i.isEqualsSameValueZero(l[o],s):!1}t.isIterateeCall=a})(B1);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oL,n=cL,r=B1;function i(a,...s){const o=s.length;return o>1&&r.isIterateeCall(a,s[0],s[1])?s=[]:o>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),e.orderBy(a,n.flatten(s),["asc"])}t.sortBy=i})(sL);var pZ=sL.sortBy;const _y=Ns(pZ);var fL=t=>t.legend.settings,gZ=t=>t.legend.size,yZ=t=>t.legend.payload;V([yZ,fL],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?_y(r,n):r});var Dh=1;function vZ(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=b.useState({height:0,left:0,top:0,width:0}),r=b.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-e.height)>Dh||Math.abs(s.left-e.left)>Dh||Math.abs(s.top-e.top)>Dh||Math.abs(s.width-e.width)>Dh)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function Wt(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var bZ=typeof Symbol=="function"&&Symbol.observable||"@@observable",OC=bZ,S0=()=>Math.random().toString(36).substring(7).split("").join("."),xZ={INIT:`@@redux/INIT${S0()}`,REPLACE:`@@redux/REPLACE${S0()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${S0()}`},Op=xZ;function $1(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function dL(t,e,n){if(typeof t!="function")throw new Error(Wt(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Wt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Wt(1));return n(dL)(t,e)}let r=t,i=e,a=new Map,s=a,o=0,l=!1;function u(){s===a&&(s=new Map,a.forEach((y,w)=>{s.set(w,y)}))}function c(){if(l)throw new Error(Wt(3));return i}function f(y){if(typeof y!="function")throw new Error(Wt(4));if(l)throw new Error(Wt(5));let w=!0;u();const x=o++;return s.set(x,y),function(){if(w){if(l)throw new Error(Wt(6));w=!1,u(),s.delete(x),a=null}}}function m(y){if(!$1(y))throw new Error(Wt(7));if(typeof y.type>"u")throw new Error(Wt(8));if(typeof y.type!="string")throw new Error(Wt(17));if(l)throw new Error(Wt(9));try{l=!0,i=r(i,y)}finally{l=!1}return(a=s).forEach(x=>{x()}),y}function p(y){if(typeof y!="function")throw new Error(Wt(10));r=y,m({type:Op.REPLACE})}function g(){const y=f;return{subscribe(w){if(typeof w!="object"||w===null)throw new Error(Wt(11));function x(){const N=w;N.next&&N.next(c())}return x(),{unsubscribe:y(x)}},[OC](){return this}}}return m({type:Op.INIT}),{dispatch:m,subscribe:f,getState:c,replaceReducer:p,[OC]:g}}function _Z(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Op.INIT})>"u")throw new Error(Wt(12));if(typeof n(void 0,{type:Op.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Wt(13))})}function hL(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const s=e[a];typeof t[s]=="function"&&(n[s]=t[s])}const r=Object.keys(n);let i;try{_Z(n)}catch(a){i=a}return function(s={},o){if(i)throw i;let l=!1;const u={};for(let c=0;c<r.length;c++){const f=r[c],m=n[f],p=s[f],g=m(p,o);if(typeof g>"u")throw o&&o.type,new Error(Wt(14));u[f]=g,l=l||g!==p}return l=l||r.length!==Object.keys(s).length,l?u:s}}function Ip(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function wZ(...t){return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(Wt(15))};const s={getState:i.getState,dispatch:(l,...u)=>a(l,...u)},o=t.map(l=>l(s));return a=Ip(...o)(i.dispatch),{...i,dispatch:a}}}function mL(t){return $1(t)&&"type"in t&&typeof t.type=="string"}var pL=Symbol.for("immer-nothing"),IC=Symbol.for("immer-draftable"),Cn=Symbol.for("immer-state");function Dr(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var er=Object,uu=er.getPrototypeOf,Rp="constructor",wy="prototype",wx="configurable",Pp="enumerable",Sm="writable",Uf="value",la=t=>!!t&&!!t[Cn];function Hr(t){var e;return t?gL(t)||Sy(t)||!!t[IC]||!!((e=t[Rp])!=null&&e[IC])||Ay(t)||Ty(t):!1}var EZ=er[wy][Rp].toString(),RC=new WeakMap;function gL(t){if(!t||!F1(t))return!1;const e=uu(t);if(e===null||e===er[wy])return!0;const n=er.hasOwnProperty.call(e,Rp)&&e[Rp];if(n===Object)return!0;if(!fl(n))return!1;let r=RC.get(n);return r===void 0&&(r=Function.toString.call(n),RC.set(n,r)),r===EZ}function Ey(t,e,n=!0){jd(t)===0?(n?Reflect.ownKeys(t):er.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function jd(t){const e=t[Cn];return e?e.type_:Sy(t)?1:Ay(t)?2:Ty(t)?3:0}var PC=(t,e,n=jd(t))=>n===2?t.has(e):er[wy].hasOwnProperty.call(t,e),Ex=(t,e,n=jd(t))=>n===2?t.get(e):t[e],jp=(t,e,n,r=jd(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function SZ(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var Sy=Array.isArray,Ay=t=>t instanceof Map,Ty=t=>t instanceof Set,F1=t=>typeof t=="object",fl=t=>typeof t=="function",A0=t=>typeof t=="boolean";function AZ(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var ji=t=>t.copy_||t.base_,q1=t=>t.modified_?t.copy_:t.base_;function Sx(t,e){if(Ay(t))return new Map(t);if(Ty(t))return new Set(t);if(Sy(t))return Array[wy].slice.call(t);const n=gL(t);if(e===!0||e==="class_only"&&!n){const r=er.getOwnPropertyDescriptors(t);delete r[Cn];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],o=r[s];o[Sm]===!1&&(o[Sm]=!0,o[wx]=!0),(o.get||o.set)&&(r[s]={[wx]:!0,[Sm]:!0,[Pp]:o[Pp],[Uf]:t[s]})}return er.create(uu(t),r)}else{const r=uu(t);if(r!==null&&n)return{...t};const i=er.create(r);return er.assign(i,t)}}function H1(t,e=!1){return Ny(t)||la(t)||!Hr(t)||(jd(t)>1&&er.defineProperties(t,{set:Mh,add:Mh,clear:Mh,delete:Mh}),er.freeze(t),e&&Ey(t,(n,r)=>{H1(r,!0)},!1)),t}function TZ(){Dr(2)}var Mh={[Uf]:TZ};function Ny(t){return t===null||!F1(t)?!0:er.isFrozen(t)}var kp="MapSet",Ax="Patches",jC="ArrayMethods",yL={};function Io(t){const e=yL[t];return e||Dr(0,t),e}var kC=t=>!!yL[t],zf,vL=()=>zf,NZ=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:kC(kp)?Io(kp):void 0,arrayMethodsPlugin_:kC(jC)?Io(jC):void 0});function DC(t,e){e&&(t.patchPlugin_=Io(Ax),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Tx(t){Nx(t),t.drafts_.forEach(CZ),t.drafts_=null}function Nx(t){t===zf&&(zf=t.parent_)}var MC=t=>zf=NZ(zf,t);function CZ(t){const e=t[Cn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function LC(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[Cn].modified_&&(Tx(e),Dr(4)),Hr(t)&&(t=VC(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[Cn].base_,t,e)}else t=VC(e,n);return OZ(e,t,!0),Tx(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==pL?t:void 0}function VC(t,e){if(Ny(e))return e;const n=e[Cn];if(!n)return Dp(e,t.handledSet_,t);if(!Cy(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);_L(n,t)}return n.copy_}function OZ(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&H1(e,n)}function bL(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var Cy=(t,e)=>t.scope_===e,IZ=[];function xL(t,e,n,r){const i=ji(t),a=t.type_;if(r!==void 0&&Ex(i,r,a)===e){jp(i,r,n,a);return}if(!t.draftLocations_){const o=t.draftLocations_=new Map;Ey(i,(l,u)=>{if(la(u)){const c=o.get(u)||[];c.push(l),o.set(u,c)}})}const s=t.draftLocations_.get(e)??IZ;for(const o of s)jp(i,o,n,a)}function RZ(t,e,n){t.callbacks_.push(function(i){var o;const a=e;if(!a||!Cy(a,i))return;(o=i.mapSetPlugin_)==null||o.fixSetContents(a);const s=q1(a);xL(t,a.draft_??a,s,n),_L(a,i)})}function _L(t,e){var r;if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(((r=t.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=e;if(i){const a=i.getPath(t);a&&i.generatePatches_(t,a,e)}bL(t)}}function PZ(t,e,n){const{scope_:r}=t;if(la(n)){const i=n[Cn];Cy(i,r)&&i.callbacks_.push(function(){Am(t);const s=q1(i);xL(t,n,s,e)})}else Hr(n)&&t.callbacks_.push(function(){const a=ji(t);t.type_===3?a.has(n)&&Dp(n,r.handledSet_,r):Ex(a,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&Dp(Ex(t.copy_,e,t.type_),r.handledSet_,r)})}function Dp(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||la(t)||e.has(t)||!Hr(t)||Ny(t)||(e.add(t),Ey(t,(r,i)=>{if(la(i)){const a=i[Cn];if(Cy(a,n)){const s=q1(a);jp(t,r,s,t.type_),bL(a)}}else Hr(i)&&Dp(i,e,n)})),t}function jZ(t,e){const n=Sy(t),r={type_:n?1:0,scope_:e?e.scope_:vL(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=Mp;n&&(i=[r],a=Bf);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,[o,r]}var Mp={get(t,e){if(e===Cn)return t;let n=t.scope_.arrayMethodsPlugin_;const r=t.type_===1&&typeof e=="string";if(r&&n!=null&&n.isArrayOperationMethod(e))return n.createMethodInterceptor(t,e);const i=ji(t);if(!PC(i,e,t.type_))return kZ(t,i,e);const a=i[e];if(t.finalized_||!Hr(a)||r&&t.operationMethod&&(n!=null&&n.isMutatingArrayMethod(t.operationMethod))&&AZ(e))return a;if(a===T0(t.base_,e)){Am(t);const s=t.type_===1?+e:e,o=Ox(t.scope_,a,t,s);return t.copy_[s]=o}return a},has(t,e){return e in ji(t)},ownKeys(t){return Reflect.ownKeys(ji(t))},set(t,e,n){const r=wL(ji(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=T0(ji(t),e),a=i==null?void 0:i[Cn];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(SZ(n,i)&&(n!==void 0||PC(t.base_,e,t.type_)))return!0;Am(t),Cx(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),PZ(t,e,n)),!0},deleteProperty(t,e){return Am(t),T0(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),Cx(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=ji(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[Sm]:!0,[wx]:t.type_!==1||e!=="length",[Pp]:r[Pp],[Uf]:n[e]}},defineProperty(){Dr(11)},getPrototypeOf(t){return uu(t.base_)},setPrototypeOf(){Dr(12)}},Bf={};for(let t in Mp){let e=Mp[t];Bf[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}}Bf.deleteProperty=function(t,e){return Bf.set.call(this,t,e,void 0)};Bf.set=function(t,e,n){return Mp.set.call(this,t[0],e,n,t[0])};function T0(t,e){const n=t[Cn];return(n?ji(n):t)[e]}function kZ(t,e,n){var i;const r=wL(e,n);return r?Uf in r?r[Uf]:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function wL(t,e){if(!(e in t))return;let n=uu(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=uu(n)}}function Cx(t){t.modified_||(t.modified_=!0,t.parent_&&Cx(t.parent_))}function Am(t){t.copy_||(t.assigned_=new Map,t.copy_=Sx(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var DZ=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(fl(n)&&!fl(r)){const s=r;r=n;const o=this;return function(u=s,...c){return o.produce(u,f=>r.call(this,f,...c))}}fl(r)||Dr(6),i!==void 0&&!fl(i)&&Dr(7);let a;if(Hr(n)){const s=MC(this),o=Ox(s,n,void 0);let l=!0;try{a=r(o),l=!1}finally{l?Tx(s):Nx(s)}return DC(s,i),LC(a,s)}else if(!n||!F1(n)){if(a=r(n),a===void 0&&(a=n),a===pL&&(a=void 0),this.autoFreeze_&&H1(a,!0),i){const s=[],o=[];Io(Ax).generateReplacementPatches_(n,a,{patches_:s,inversePatches_:o}),i(s,o)}return a}else Dr(1,n)},this.produceWithPatches=(n,r)=>{if(fl(n))return(o,...l)=>this.produceWithPatches(o,u=>n(u,...l));let i,a;return[this.produce(n,r,(o,l)=>{i=o,a=l}),i,a]},A0(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),A0(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),A0(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Hr(e)||Dr(8),la(e)&&(e=zr(e));const n=MC(this),r=Ox(n,e,void 0);return r[Cn].isManual_=!0,Nx(n),r}finishDraft(e,n){const r=e&&e[Cn];(!r||!r.isManual_)&&Dr(9);const{scope_:i}=r;return DC(i,n),LC(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(n=n.slice(r+1));const i=Io(Ax).applyPatches_;return la(e)?i(e,n):this.produce(e,a=>i(a,n))}};function Ox(t,e,n,r){const[i,a]=Ay(e)?Io(kp).proxyMap_(e,n):Ty(e)?Io(kp).proxySet_(e,n):jZ(e,n);return((n==null?void 0:n.scope_)??vL()).drafts_.push(i),a.callbacks_=(n==null?void 0:n.callbacks_)??[],a.key_=r,n&&r!==void 0?RZ(n,a,r):a.callbacks_.push(function(l){var c;(c=l.mapSetPlugin_)==null||c.fixSetContents(a);const{patchPlugin_:u}=l;a.modified_&&u&&u.generatePatches_(a,[],l)}),i}function zr(t){return la(t)||Dr(10,t),EL(t)}function EL(t){if(!Hr(t)||Ny(t))return t;const e=t[Cn];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Sx(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=Sx(t,!0);return Ey(n,(i,a)=>{jp(n,i,EL(a))},r),e&&(e.finalized_=!1),n}var MZ=new DZ,SL=MZ.produce;function AL(t){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,t):i(a)}var LZ=AL(),VZ=AL,UZ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ip:Ip.apply(null,arguments)};function Cr(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(sr(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>mL(r)&&r.type===t,n}var TL=class Dc extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Dc.prototype)}static get[Symbol.species](){return Dc}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Dc(...e[0].concat(this)):new Dc(...e.concat(this))}};function UC(t){return Hr(t)?SL(t,()=>{}):t}function Lh(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function zZ(t){return typeof t=="boolean"}var BZ=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let s=new TL;return n&&(zZ(n)?s.push(LZ):s.push(VZ(n.extraArgument))),s},NL="RTK_autoBatch",Qe=()=>t=>({payload:t,meta:{[NL]:!0}}),zC=t=>e=>{setTimeout(e,t)},CL=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,a=!1,s=!1;const o=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:zC(10):t.type==="callback"?t.queueNotification:zC(t.timeout),u=()=>{s=!1,a&&(a=!1,o.forEach(c=>c()))};return Object.assign({},r,{subscribe(c){const f=()=>i&&c(),m=r.subscribe(f);return o.add(c),()=>{m(),o.delete(c)}},dispatch(c){var f;try{return i=!((f=c==null?void 0:c.meta)!=null&&f[NL]),a=!i,a&&(s||(s=!0,l(u))),r.dispatch(c)}finally{i=!0}}})},$Z=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new TL(t);return r&&i.push(CL(typeof r=="object"?r:void 0)),i};function FZ(t){const e=BZ(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=t||{};let o;if(typeof n=="function")o=n;else if($1(n))o=hL(n);else throw new Error(sr(1));let l;typeof r=="function"?l=r(e):l=e();let u=Ip;i&&(u=UZ({trace:!1,...typeof i=="object"&&i}));const c=wZ(...l),f=$Z(c);let m=typeof s=="function"?s(f):f();const p=u(...m);return dL(o,a,p)}function OL(t){const e={},n=[];let r;const i={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(sr(28));if(o in e)throw new Error(sr(29));return e[o]=s,i},addAsyncThunk(a,s){return s.pending&&(e[a.pending.type]=s.pending),s.rejected&&(e[a.rejected.type]=s.rejected),s.fulfilled&&(e[a.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return n.push({matcher:a,reducer:s}),i},addDefaultCase(a){return r=a,i}};return t(i),[e,n,r]}function qZ(t){return typeof t=="function"}function HZ(t,e){let[n,r,i]=OL(e),a;if(qZ(t))a=()=>UC(t());else{const o=UC(t);a=()=>o}function s(o=a(),l){let u=[n[l.type],...r.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,f)=>{if(f)if(la(c)){const p=f(c,l);return p===void 0?c:p}else{if(Hr(c))return SL(c,m=>f(m,l));{const m=f(c,l);if(m===void 0){if(c===null)return c;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return c},o)}return s.getInitialState=a,s}var GZ="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",KZ=(t=21)=>{let e="",n=t;for(;n--;)e+=GZ[Math.random()*64|0];return e},WZ=Symbol.for("rtk-slice-createasyncthunk");function YZ(t,e){return`${t}/${e}`}function XZ({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[WZ];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(sr(11));const o=(typeof i.reducers=="function"?i.reducers(ZZ()):i.reducers)||{},l=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(N,P){const k=typeof N=="string"?N:N.type;if(!k)throw new Error(sr(12));if(k in u.sliceCaseReducersByType)throw new Error(sr(13));return u.sliceCaseReducersByType[k]=P,c},addMatcher(N,P){return u.sliceMatchers.push({matcher:N,reducer:P}),c},exposeAction(N,P){return u.actionCreators[N]=P,c},exposeCaseReducer(N,P){return u.sliceCaseReducersByName[N]=P,c}};l.forEach(N=>{const P=o[N],k={reducerName:N,type:YZ(a,N),createNotation:typeof i.reducers=="function"};eJ(P)?nJ(k,P,c,e):JZ(k,P,c)});function f(){const[N={},P=[],k=void 0]=typeof i.extraReducers=="function"?OL(i.extraReducers):[i.extraReducers],T={...N,...u.sliceCaseReducersByType};return HZ(i.initialState,A=>{for(let C in T)A.addCase(C,T[C]);for(let C of u.sliceMatchers)A.addMatcher(C.matcher,C.reducer);for(let C of P)A.addMatcher(C.matcher,C.reducer);k&&A.addDefaultCase(k)})}const m=N=>N,p=new Map,g=new WeakMap;let _;function y(N,P){return _||(_=f()),_(N,P)}function w(){return _||(_=f()),_.getInitialState()}function x(N,P=!1){function k(A){let C=A[N];return typeof C>"u"&&P&&(C=Lh(g,k,w)),C}function T(A=m){const C=Lh(p,P,()=>new WeakMap);return Lh(C,A,()=>{const R={};for(const[j,I]of Object.entries(i.selectors??{}))R[j]=QZ(I,A,()=>Lh(g,A,w),P);return R})}return{reducerPath:N,getSelectors:T,get selectors(){return T(k)},selectSlice:k}}const E={name:a,reducer:y,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:w,...x(s),injectInto(N,{reducerPath:P,...k}={}){const T=P??s;return N.inject({reducerPath:T,reducer:y},k),{...E,...x(T,!0)}}};return E}}function QZ(t,e,n,r){function i(a,...s){let o=e(a);return typeof o>"u"&&r&&(o=n()),t(o,...s)}return i.unwrapped=t,i}var qn=XZ();function ZZ(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function JZ({type:t,reducerName:e,createNotation:n},r,i){let a,s;if("reducer"in r){if(n&&!tJ(r))throw new Error(sr(17));a=r.reducer,s=r.prepare}else a=r;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,s?Cr(t,s):Cr(t))}function eJ(t){return t._reducerDefinitionType==="asyncThunk"}function tJ(t){return t._reducerDefinitionType==="reducerWithPrepare"}function nJ({type:t,reducerName:e},n,r,i){if(!i)throw new Error(sr(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:l,settled:u,options:c}=n,f=i(t,a,c);r.exposeAction(e,f),s&&r.addCase(f.fulfilled,s),o&&r.addCase(f.pending,o),l&&r.addCase(f.rejected,l),u&&r.addMatcher(f.settled,u),r.exposeCaseReducer(e,{fulfilled:s||Vh,pending:o||Vh,rejected:l||Vh,settled:u||Vh})}function Vh(){}var rJ="task",IL="listener",RL="completed",G1="cancelled",iJ=`task-${G1}`,aJ=`task-${RL}`,Ix=`${IL}-${G1}`,sJ=`${IL}-${RL}`,Oy=class{constructor(t){bv(this,"name","TaskAbortError");bv(this,"message");this.code=t,this.message=`${rJ} ${G1} (reason: ${t})`}},K1=(t,e)=>{if(typeof t!="function")throw new TypeError(sr(32))},Lp=()=>{},PL=(t,e=Lp)=>(t.catch(e),t),jL=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),ho=t=>{if(t.aborted)throw new Oy(t.reason)};function kL(t,e){let n=Lp;return new Promise((r,i)=>{const a=()=>i(new Oy(t.reason));if(t.aborted){a();return}n=jL(t,a),e.finally(()=>n()).then(r,i)}).finally(()=>{n=Lp})}var oJ=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof Oy?"cancelled":"rejected",error:n}}finally{e==null||e()}},Vp=t=>e=>PL(kL(t,e).then(n=>(ho(t),n))),DL=t=>{const e=Vp(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:zl}=Object,BC={},Iy="listenerMiddleware",lJ=(t,e)=>{const n=r=>jL(t,()=>r.abort(t.reason));return(r,i)=>{K1(r);const a=new AbortController;n(a);const s=oJ(async()=>{ho(t),ho(a.signal);const o=await r({pause:Vp(a.signal),delay:DL(a.signal),signal:a.signal});return ho(a.signal),o},()=>a.abort(aJ));return i!=null&&i.autoJoin&&e.push(s.catch(Lp)),{result:Vp(t)(s),cancel(){a.abort(iJ)}}}},uJ=(t,e)=>{const n=async(r,i)=>{ho(e);let a=()=>{};const o=[new Promise((l,u)=>{let c=t({predicate:r,effect:(f,m)=>{m.unsubscribe(),l([f,m.getState(),m.getOriginalState()])}});a=()=>{c(),u()}})];i!=null&&o.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await kL(e,Promise.race(o));return ho(e),l}finally{a()}};return(r,i)=>PL(n(r,i))},ML=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:a}=t;if(e)i=Cr(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(sr(21));return K1(a),{predicate:i,type:e,effect:a}},LL=zl(t=>{const{type:e,predicate:n,effect:r}=ML(t);return{id:KZ(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(sr(22))}}},{withTypes:()=>LL}),$C=(t,e)=>{const{type:n,effect:r,predicate:i}=ML(e);return Array.from(t.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},Rx=t=>{t.pending.forEach(e=>{e.abort(Ix)})},cJ=(t,e)=>()=>{for(const n of e.keys())Rx(n);t.clear()},FC=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},VL=zl(Cr(`${Iy}/add`),{withTypes:()=>VL}),fJ=Cr(`${Iy}/removeAll`),UL=zl(Cr(`${Iy}/remove`),{withTypes:()=>UL}),dJ=(...t)=>{console.error(`${Iy}/error`,...t)},kd=(t={})=>{const e=new Map,n=new Map,r=p=>{const g=n.get(p)??0;n.set(p,g+1)},i=p=>{const g=n.get(p)??1;g===1?n.delete(p):n.set(p,g-1)},{extra:a,onError:s=dJ}=t;K1(s);const o=p=>(p.unsubscribe=()=>e.delete(p.id),e.set(p.id,p),g=>{p.unsubscribe(),g!=null&&g.cancelActive&&Rx(p)}),l=p=>{const g=$C(e,p)??LL(p);return o(g)};zl(l,{withTypes:()=>l});const u=p=>{const g=$C(e,p);return g&&(g.unsubscribe(),p.cancelActive&&Rx(g)),!!g};zl(u,{withTypes:()=>u});const c=async(p,g,_,y)=>{const w=new AbortController,x=uJ(l,w.signal),E=[];try{p.pending.add(w),r(p),await Promise.resolve(p.effect(g,zl({},_,{getOriginalState:y,condition:(N,P)=>x(N,P).then(Boolean),take:x,delay:DL(w.signal),pause:Vp(w.signal),extra:a,signal:w.signal,fork:lJ(w.signal,E),unsubscribe:p.unsubscribe,subscribe:()=>{e.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((N,P,k)=>{N!==w&&(N.abort(Ix),k.delete(N))})},cancel:()=>{w.abort(Ix),p.pending.delete(w)},throwIfCancelled:()=>{ho(w.signal)}})))}catch(N){N instanceof Oy||FC(s,N,{raisedBy:"effect"})}finally{await Promise.all(E),w.abort(sJ),i(p),p.pending.delete(w)}},f=cJ(e,n);return{middleware:p=>g=>_=>{if(!mL(_))return g(_);if(VL.match(_))return l(_.payload);if(fJ.match(_)){f();return}if(UL.match(_))return u(_.payload);let y=p.getState();const w=()=>{if(y===BC)throw new Error(sr(23));return y};let x;try{if(x=g(_),e.size>0){const E=p.getState(),N=Array.from(e.values());for(const P of N){let k=!1;try{k=P.predicate(_,E,y)}catch(T){k=!1,FC(s,T,{raisedBy:"predicate"})}k&&c(P,_,p,w)}}}finally{y=BC}return x},startListening:l,stopListening:u,clearListeners:f}};function sr(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var hJ={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},zL=qn({name:"chartLayout",initialState:hJ,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,a;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:mJ,setLayout:pJ,setChartSize:gJ,setScale:yJ}=zL.actions,vJ=zL.reducer;function BL(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function be(t){return Number.isFinite(t)}function bi(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function qC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Al(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qC(Object(n),!0).forEach(function(r){bJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bJ(t,e,n){return(e=xJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xJ(t){var e=_J(t,"string");return typeof e=="symbol"?e:e+""}function _J(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function on(t,e,n){return vn(t)||vn(e)?n:vi(e)?yy(t,e,n):typeof e=="function"?e(t):n}var wJ=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:a,verticalAlign:s,layout:o}=e;if((o==="vertical"||o==="horizontal"&&s==="middle")&&a!=="center"&&Q(t[a]))return Al(Al({},t),{},{[a]:t[a]+(r||0)});if((o==="horizontal"||o==="vertical"&&a==="center")&&s!=="middle"&&Q(t[s]))return Al(Al({},t),{},{[s]:t[s]+(i||0)})}return t},Ai=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",$L=(t,e,n,r)=>{if(r)return t.map(o=>o.coordinate);var i,a,s=t.map(o=>(o.coordinate===e&&(i=!0),o.coordinate===n&&(a=!0),o.coordinate));return i||s.push(e),a||s.push(n),s},FL=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:a,scale:s,realScaleType:o,isCategorical:l,categoricalDomain:u,tickCount:c,ticks:f,niceTicks:m,axisType:p}=t;if(!s)return null;var g=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,_=i==="category"&&s.bandwidth?s.bandwidth()/g:0;if(_=p==="angleAxis"&&a&&a.length>=2?_r(a[0]-a[1])*2*_:_,f||m){var y=(f||m||[]).map((w,x)=>{var E=r?r.indexOf(w):w,N=s.map(E);return be(N)?{coordinate:N+_,value:w,offset:_,index:x}:null}).filter(Vn);return y}return l&&u?u.map((w,x)=>{var E=s.map(w);return be(E)?{coordinate:E+_,value:w,index:x,offset:_}:null}).filter(Vn):s.ticks&&c!=null?s.ticks(c).map((w,x)=>{var E=s.map(w);return be(E)?{coordinate:E+_,value:w,index:x,offset:_}:null}).filter(Vn):s.domain().map((w,x)=>{var E=s.map(w);return be(E)?{coordinate:E+_,value:r?r[w]:w,index:x,offset:_}:null}).filter(Vn)},EJ=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,s=0,o=0;o<n;++o){var l=t[o],u=l==null?void 0:l[i];if(u!=null){var c=u[1],f=u[0],m=yi(c)?f:c;m>=0?(u[0]=a,a+=m,u[1]=a):(u[0]=s,s+=m,u[1]=s)}}}},SJ=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,s=0;s<n;++s){var o=t[s],l=o==null?void 0:o[i];if(l!=null){var u=yi(l[1])?l[0]:l[1];u>=0?(l[0]=a,a+=u,l[1]=a):(l[0]=0,l[1]=0)}}}},AJ={sign:EJ,expand:EQ,none:Co,silhouette:SQ,wiggle:AQ,positive:SJ},TJ=(t,e,n)=>{var r,i=(r=AJ[n])!==null&&r!==void 0?r:Co,a=wQ().keys(e).value((o,l)=>Number(on(o,l,0))).order(_x).offset(i),s=a(t);return s.forEach((o,l)=>{o.forEach((u,c)=>{var f=on(t[c],e[l],0);Array.isArray(f)&&f.length===2&&Q(f[0])&&Q(f[1])&&(u[0]=f[0],u[1]=f[1])})}),s};function NJ(t){return t==null?void 0:String(t)}function HC(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:a,dataKey:s}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!vn(i[e.dataKey])){var o=D4(n,"value",i[e.dataKey]);if(o)return o.coordinate+r/2}return n!=null&&n[a]?n[a].coordinate+r/2:null}var l=on(i,vn(s)?e.dataKey:s),u=e.scale.map(l);return Q(u)?u:null}var CJ=t=>{var e=t.flat(2).filter(Q);return[Math.min(...e),Math.max(...e)]},OJ=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],IJ=(t,e,n)=>{if(t!=null)return OJ(Object.keys(t).reduce((r,i)=>{var a=t[i];if(!a)return r;var{stackedData:s}=a,o=s.reduce((l,u)=>{var c=BL(u,e,n),f=CJ(c);return!be(f[0])||!be(f[1])?l:[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]))},GC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,KC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Up=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=_y(e,c=>c.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var l=i[s],u=i[s-1];a=Math.min(((l==null?void 0:l.coordinate)||0)-((u==null?void 0:u.coordinate)||0),a)}return a===1/0?0:a}return n?void 0:0};function WC(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:a}=t;return Al(Al({},e),{},{dataKey:n,payload:r,value:i,name:a})}function qL(t,e){if(t)return String(t);if(typeof e=="string")return e}var RJ=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},PJ=(t,e)=>e==="centric"?t.angle:t.radius,ga=t=>t.layout.width,ya=t=>t.layout.height,jJ=t=>t.layout.scale,HL=t=>t.layout.margin,Ry=V(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Py=V(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),kJ="data-recharts-item-index",DJ="data-recharts-item-id",Dd=60;function YC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Uh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YC(Object(n),!0).forEach(function(r){MJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MJ(t,e,n){return(e=LJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LJ(t){var e=VJ(t,"string");return typeof e=="symbol"?e:e+""}function VJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var UJ=t=>t.brush.height;function zJ(t){var e=Py(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Dd;return n+i}return n},0)}function BJ(t){var e=Py(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Dd;return n+i}return n},0)}function $J(t){var e=Ry(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function FJ(t){var e=Ry(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var un=V([ga,ya,HL,UJ,zJ,BJ,$J,FJ,fL,gZ],(t,e,n,r,i,a,s,o,l,u)=>{var c={left:(n.left||0)+i,right:(n.right||0)+a},f={top:(n.top||0)+s,bottom:(n.bottom||0)+o},m=Uh(Uh({},f),c),p=m.bottom;m.bottom+=r,m=wJ(m,l,u);var g=t-m.left-m.right,_=e-m.top-m.bottom;return Uh(Uh({brushBottom:p},m),{},{width:Math.max(g,0),height:Math.max(_,0)})}),qJ=V(un,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),GL=V(ga,ya,(t,e)=>({x:0,y:0,width:t,height:e})),HJ=b.createContext(null),Hn=()=>b.useContext(HJ)!=null,jy=t=>t.brush,ky=V([jy,un,HL],(t,e,n)=>({height:t.height,x:Q(t.x)?t.x:e.left,y:Q(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:Q(t.width)?t.width:e.width})),KL={},WL={},YL={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:a}={}){let s,o=null;const l=a!=null&&a.includes("leading"),u=a==null||a.includes("trailing"),c=()=>{o!==null&&(n.apply(s,o),s=void 0,o=null)},f=()=>{u&&c(),_()};let m=null;const p=()=>{m!=null&&clearTimeout(m),m=setTimeout(()=>{m=null,f()},r)},g=()=>{m!==null&&(clearTimeout(m),m=null)},_=()=>{g(),s=void 0,o=null},y=()=>{c()},w=function(...x){if(i!=null&&i.aborted)return;s=this,o=x;const E=m==null;p(),l&&E&&c()};return w.schedule=p,w.cancel=_,w.flush=y,i==null||i.addEventListener("abort",_,{once:!0}),w}t.debounce=e})(YL);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=YL;function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:o=!0,maxWait:l}=a,u=Array(2);s&&(u[0]="leading"),o&&(u[1]="trailing");let c,f=null;const m=e.debounce(function(..._){c=r.apply(this,_),f=null},i,{edges:u}),p=function(..._){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(c=r.apply(this,_),f=Date.now(),m.cancel(),m.schedule(),c):(m.apply(this,_),c)},g=()=>(m.flush(),c);return p.cancel=m.cancel,p.flush=g,p}t.debounce=n})(WL);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=WL;function n(r,i=0,a={}){const{leading:s=!0,trailing:o=!0}=a;return e.debounce(r,i,{leading:s,maxWait:i,trailing:o})}t.throttle=n})(KL);var GJ=KL.throttle;const KJ=Ns(GJ);var zp=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(n.replace(/%s/g,()=>i[s++]))}},ii={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},XL=(t,e,n)=>{var{width:r=ii.width,height:i=ii.height,aspect:a,maxHeight:s}=n,o=Oo(r)?t:Number(r),l=Oo(i)?e:Number(i);return a&&a>0&&(o?l=o/a:l&&(o=l*a),s&&l!=null&&l>s&&(l=s)),{calculatedWidth:o,calculatedHeight:l}},WJ={width:0,height:0,overflow:"visible"},YJ={width:0,overflowX:"visible"},XJ={height:0,overflowY:"visible"},QJ={},ZJ=t=>{var{width:e,height:n}=t,r=Oo(e),i=Oo(n);return r&&i?WJ:r?YJ:i?XJ:QJ};function JJ(t){var{width:e,height:n,aspect:r}=t,i=e,a=n;return i===void 0&&a===void 0?(i=ii.width,a=ii.height):i===void 0?i=r&&r>0?void 0:ii.width:a===void 0&&(a=r&&r>0?void 0:ii.height),{width:i,height:a}}function Px(){return Px=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Px.apply(null,arguments)}function XC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XC(Object(n),!0).forEach(function(r){eee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eee(t,e,n){return(e=tee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tee(t){var e=nee(t,"string");return typeof e=="symbol"?e:e+""}function nee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var QL=b.createContext(ii.initialDimension);function ree(t){return bi(t.width)&&bi(t.height)}function ZL(t){var{children:e,width:n,height:r}=t,i=b.useMemo(()=>({width:n,height:r}),[n,r]);return ree(i)?b.createElement(QL.Provider,{value:i},e):null}var W1=()=>b.useContext(QL),iee=b.forwardRef((t,e)=>{var{aspect:n,initialDimension:r=ii.initialDimension,width:i,height:a,minWidth:s=ii.minWidth,minHeight:o,maxHeight:l,children:u,debounce:c=ii.debounce,id:f,className:m,onResize:p,style:g={}}=t,_=b.useRef(null),y=b.useRef();y.current=p,b.useImperativeHandle(e,()=>_.current);var[w,x]=b.useState({containerWidth:r.width,containerHeight:r.height}),E=b.useCallback((A,C)=>{x(R=>{var j=Math.round(A),I=Math.round(C);return R.containerWidth===j&&R.containerHeight===I?R:{containerWidth:j,containerHeight:I}})},[]);b.useEffect(()=>{if(_.current==null||typeof ResizeObserver>"u")return Pu;var A=I=>{var D,Z=I[0];if(Z!=null){var{width:oe,height:q}=Z.contentRect;E(oe,q),(D=y.current)===null||D===void 0||D.call(y,oe,q)}};c>0&&(A=KJ(A,c,{trailing:!0,leading:!1}));var C=new ResizeObserver(A),{width:R,height:j}=_.current.getBoundingClientRect();return E(R,j),C.observe(_.current),()=>{C.disconnect()}},[E,c]);var{containerWidth:N,containerHeight:P}=w;zp(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:k,calculatedHeight:T}=XL(N,P,{width:i,height:a,aspect:n,maxHeight:l});return zp(k!=null&&k>0||T!=null&&T>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,k,T,i,a,s,o,n),b.createElement("div",{id:f?"".concat(f):void 0,className:We("recharts-responsive-container",m),style:QC(QC({},g),{},{width:i,height:a,minWidth:s,minHeight:o,maxHeight:l}),ref:_},b.createElement("div",{style:ZJ({width:i,height:a})},b.createElement(ZL,{width:k,height:T},u)))}),aee=b.forwardRef((t,e)=>{var n=W1();if(bi(n.width)&&bi(n.height))return t.children;var{width:r,height:i}=JJ({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:a,calculatedHeight:s}=XL(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Q(a)&&Q(s)?b.createElement(ZL,{width:a,height:s},t.children):b.createElement(iee,Px({},t,{width:r,height:i,ref:e}))});function Y1(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var Dy=()=>{var t,e=Hn(),n=ee(qJ),r=ee(ky),i=(t=ee(jy))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},see={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},JL=()=>{var t;return(t=ee(un))!==null&&t!==void 0?t:see},e3=()=>ee(ga),t3=()=>ee(ya),Je=t=>t.layout.layoutType,ju=()=>ee(Je),X1=()=>{var t=ju();if(t==="horizontal"||t==="vertical")return t},n3=t=>{var e=t.layout.layoutType;if(e==="centric"||e==="radial")return e},oee=()=>{var t=ju();return t!==void 0},Md=t=>{var e=Ft(),n=Hn(),{width:r,height:i}=t,a=W1(),s=r,o=i;return a&&(s=a.width>0?a.width:r,o=a.height>0?a.height:i),b.useEffect(()=>{!n&&bi(s)&&bi(o)&&e(gJ({width:s,height:o}))},[e,n,s,o]),null},r3=Symbol.for("immer-nothing"),ZC=Symbol.for("immer-draftable"),ur=Symbol.for("immer-state");function Mr(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var $f=Object.getPrototypeOf;function cu(t){return!!t&&!!t[ur]}function Ro(t){var e;return t?i3(t)||Array.isArray(t)||!!t[ZC]||!!((e=t.constructor)!=null&&e[ZC])||Ld(t)||Ly(t):!1}var lee=Object.prototype.constructor.toString(),JC=new WeakMap;function i3(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=JC.get(n);return r===void 0&&(r=Function.toString.call(n),JC.set(n,r)),r===lee}function Bp(t,e,n=!0){My(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function My(t){const e=t[ur];return e?e.type_:Array.isArray(t)?1:Ld(t)?2:Ly(t)?3:0}function jx(t,e){return My(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function a3(t,e,n){const r=My(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function uee(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Ld(t){return t instanceof Map}function Ly(t){return t instanceof Set}function Qs(t){return t.copy_||t.base_}function kx(t,e){if(Ld(t))return new Map(t);if(Ly(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=i3(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[ur];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],o=r[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[s]})}return Object.create($f(t),r)}else{const r=$f(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function Q1(t,e=!1){return Vy(t)||cu(t)||!Ro(t)||(My(t)>1&&Object.defineProperties(t,{set:zh,add:zh,clear:zh,delete:zh}),Object.freeze(t),e&&Object.values(t).forEach(n=>Q1(n,!0))),t}function cee(){Mr(2)}var zh={value:cee};function Vy(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var fee={};function Po(t){const e=fee[t];return e||Mr(0,t),e}var Ff;function s3(){return Ff}function dee(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function eO(t,e){e&&(Po("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Dx(t){Mx(t),t.drafts_.forEach(hee),t.drafts_=null}function Mx(t){t===Ff&&(Ff=t.parent_)}function tO(t){return Ff=dee(Ff,t)}function hee(t){const e=t[ur];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function nO(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[ur].modified_&&(Dx(e),Mr(4)),Ro(t)&&(t=$p(e,t),e.parent_||Fp(e,t)),e.patches_&&Po("Patches").generateReplacementPatches_(n[ur].base_,t,e.patches_,e.inversePatches_)):t=$p(e,n,[]),Dx(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==r3?t:void 0}function $p(t,e,n){if(Vy(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[ur];if(!i)return Bp(e,(a,s)=>rO(t,i,e,a,s,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return Fp(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,o=!1;i.type_===3&&(s=new Set(a),a.clear(),o=!0),Bp(s,(l,u)=>rO(t,i,a,l,u,n,o),r),Fp(t,a,!1),n&&t.patches_&&Po("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function rO(t,e,n,r,i,a,s){if(i==null||typeof i!="object"&&!s)return;const o=Vy(i);if(!(o&&!s)){if(cu(i)){const l=a&&e&&e.type_!==3&&!jx(e.assigned_,r)?a.concat(r):void 0,u=$p(t,i,l);if(a3(n,r,u),cu(u))t.canAutoFreeze_=!1;else return}else s&&n.add(i);if(Ro(i)&&!o){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&o)return;$p(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Ld(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Fp(t,i)}}}function Fp(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Q1(e,n)}function mee(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:s3(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=Z1;n&&(i=[r],a=qf);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,o}var Z1={get(t,e){if(e===ur)return t;const n=Qs(t);if(!jx(n,e))return pee(t,n,e);const r=n[e];return t.finalized_||!Ro(r)?r:r===N0(t.base_,e)?(C0(t),t.copy_[e]=Vx(r,t)):r},has(t,e){return e in Qs(t)},ownKeys(t){return Reflect.ownKeys(Qs(t))},set(t,e,n){const r=o3(Qs(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=N0(Qs(t),e),a=i==null?void 0:i[ur];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(uee(n,i)&&(n!==void 0||jx(t.base_,e)))return!0;C0(t),Lx(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return N0(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,C0(t),Lx(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Qs(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Mr(11)},getPrototypeOf(t){return $f(t.base_)},setPrototypeOf(){Mr(12)}},qf={};Bp(Z1,(t,e)=>{qf[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});qf.deleteProperty=function(t,e){return qf.set.call(this,t,e,void 0)};qf.set=function(t,e,n){return Z1.set.call(this,t[0],e,n,t[0])};function N0(t,e){const n=t[ur];return(n?Qs(n):t)[e]}function pee(t,e,n){var i;const r=o3(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function o3(t,e){if(!(e in t))return;let n=$f(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=$f(n)}}function Lx(t){t.modified_||(t.modified_=!0,t.parent_&&Lx(t.parent_))}function C0(t){t.copy_||(t.copy_=kx(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var gee=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const s=this;return function(l=a,...u){return s.produce(l,c=>n.call(this,c,...u))}}typeof n!="function"&&Mr(6),r!==void 0&&typeof r!="function"&&Mr(7);let i;if(Ro(e)){const a=tO(this),s=Vx(e,void 0);let o=!0;try{i=n(s),o=!1}finally{o?Dx(a):Mx(a)}return eO(a,r),nO(i,a)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===r3&&(i=void 0),this.autoFreeze_&&Q1(i,!0),r){const a=[],s=[];Po("Patches").generateReplacementPatches_(e,i,a,s),r(a,s)}return i}else Mr(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(s,...o)=>this.produceWithPatches(s,l=>e(l,...o));let r,i;return[this.produce(e,n,(s,o)=>{r=s,i=o}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Ro(t)||Mr(8),cu(t)&&(t=yee(t));const e=tO(this),n=Vx(t,void 0);return n[ur].isManual_=!0,Mx(e),n}finishDraft(t,e){const n=t&&t[ur];(!n||!n.isManual_)&&Mr(9);const{scope_:r}=n;return eO(r,e),nO(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Po("Patches").applyPatches_;return cu(t)?r(t,e):this.produce(t,i=>r(i,e))}};function Vx(t,e){const n=Ld(t)?Po("MapSet").proxyMap_(t,e):Ly(t)?Po("MapSet").proxySet_(t,e):mee(t,e);return(e?e.scope_:s3()).drafts_.push(n),n}function yee(t){return cu(t)||Mr(10,t),l3(t)}function l3(t){if(!Ro(t)||Vy(t))return t;const e=t[ur];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=kx(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=kx(t,!0);return Bp(n,(i,a)=>{a3(n,i,l3(a))},r),e&&(e.finalized_=!1),n}var vee=new gee;vee.produce;var bee={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},u3=qn({name:"legend",initialState:bee,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Qe()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=zr(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:Qe()},removeLegendPayload:{reducer(t,e){var n=zr(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:Qe()}}}),{setLegendSize:fhe,setLegendSettings:dhe,addLegendPayload:xee,replaceLegendPayload:_ee,removeLegendPayload:wee}=u3.actions,Eee=u3.reducer;function Ux(){return Ux=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ux.apply(null,arguments)}function iO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iO(Object(n),!0).forEach(function(r){See(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function See(t,e,n){return(e=Aee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Aee(t){var e=Tee(t,"string");return typeof e=="symbol"?e:e+""}function Tee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nee(t){return Array.isArray(t)&&vi(t[0])&&vi(t[1])?t.join(" ~ "):t}var Jo={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},Cee=t=>{var{separator:e=Jo.separator,contentStyle:n,itemStyle:r,labelStyle:i=Jo.labelStyle,payload:a,formatter:s,itemSorter:o,wrapperClassName:l,labelClassName:u,label:c,labelFormatter:f,accessibilityLayer:m=Jo.accessibilityLayer}=t,p=()=>{if(a&&a.length){var P={padding:0,margin:0},k=(o?_y(a,o):a).map((T,A)=>{if(T.type==="none")return null;var C=T.formatter||s||Nee,{value:R,name:j}=T,I=R,D=j;if(C){var Z=C(R,j,T,A,a);if(Array.isArray(Z))[I,D]=Z;else if(Z!=null)I=Z;else return null}var oe=gc(gc({},Jo.itemStyle),{},{color:T.color||Jo.itemStyle.color},r);return b.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(A),style:oe},vi(D)?b.createElement("span",{className:"recharts-tooltip-item-name"},D):null,vi(D)?b.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,b.createElement("span",{className:"recharts-tooltip-item-value"},I),b.createElement("span",{className:"recharts-tooltip-item-unit"},T.unit||""))});return b.createElement("ul",{className:"recharts-tooltip-item-list",style:P},k)}return null},g=gc(gc({},Jo.contentStyle),n),_=gc({margin:0},i),y=!vn(c),w=y?c:"",x=We("recharts-default-tooltip",l),E=We("recharts-tooltip-label",u);y&&f&&a!==void 0&&a!==null&&(w=f(c,a));var N=m?{role:"status","aria-live":"assertive"}:{};return b.createElement("div",Ux({className:x,style:g},N),b.createElement("p",{className:E,style:_},b.isValidElement(w)?w:"".concat(w)),p())},yc="recharts-tooltip-wrapper",Oee={visibility:"hidden"};function Iee(t){var{coordinate:e,translateX:n,translateY:r}=t;return We(yc,{["".concat(yc,"-right")]:Q(n)&&e&&Q(e.x)&&n>=e.x,["".concat(yc,"-left")]:Q(n)&&e&&Q(e.x)&&n<e.x,["".concat(yc,"-bottom")]:Q(r)&&e&&Q(e.y)&&r>=e.y,["".concat(yc,"-top")]:Q(r)&&e&&Q(e.y)&&r<e.y})}function aO(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offset:i,position:a,reverseDirection:s,tooltipDimension:o,viewBox:l,viewBoxDimension:u}=t;if(a&&Q(a[r]))return a[r];var c=n[r]-o-(i>0?i:0),f=n[r]+i;if(e[r])return s[r]?c:f;var m=l[r];if(m==null)return 0;if(s[r]){var p=c,g=m;return p<g?Math.max(f,m):Math.max(c,m)}if(u==null)return 0;var _=f+o,y=m+u;return _>y?Math.max(c,m):Math.max(f,m)}function Ree(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Pee(t){var{allowEscapeViewBox:e,coordinate:n,offsetTop:r,offsetLeft:i,position:a,reverseDirection:s,tooltipBox:o,useTranslate3d:l,viewBox:u}=t,c,f,m;return o.height>0&&o.width>0&&n?(f=aO({allowEscapeViewBox:e,coordinate:n,key:"x",offset:i,position:a,reverseDirection:s,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),m=aO({allowEscapeViewBox:e,coordinate:n,key:"y",offset:r,position:a,reverseDirection:s,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),c=Ree({translateX:f,translateY:m,useTranslate3d:l})):c=Oee,{cssProperties:c,cssClasses:Iee({translateX:f,translateY:m,coordinate:n})}}function sO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sO(Object(n),!0).forEach(function(r){zx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zx(t,e,n){return(e=jee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jee(t){var e=kee(t,"string");return typeof e=="symbol"?e:e+""}function kee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Dee extends b.PureComponent{constructor(){super(...arguments),zx(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),zx(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:s,hasPayload:o,isAnimationActive:l,offset:u,position:c,reverseDirection:f,useTranslate3d:m,viewBox:p,wrapperStyle:g,lastBoundingBox:_,innerRef:y,hasPortalFromProps:w}=this.props,x=typeof u=="number"?u:u.x,E=typeof u=="number"?u:u.y,{cssClasses:N,cssProperties:P}=Pee({allowEscapeViewBox:n,coordinate:s,offsetLeft:x,offsetTop:E,position:c,reverseDirection:f,tooltipBox:{height:_.height,width:_.width},useTranslate3d:m,viewBox:p}),k=w?{}:Bh(Bh({transition:l&&e?"transform ".concat(r,"ms ").concat(i):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),T=Bh(Bh({},k),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},g);return b.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:N,style:T,ref:y},a)}}var c3=()=>{var t;return(t=ee(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function Bx(){return Bx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bx.apply(null,arguments)}function oO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oO(Object(n),!0).forEach(function(r){Mee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mee(t,e,n){return(e=Lee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lee(t){var e=Vee(t,"string");return typeof e=="symbol"?e:e+""}function Vee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uO={curveBasisClosed:fQ,curveBasisOpen:dQ,curveBasis:cQ,curveBumpX:lQ,curveBumpY:uQ,curveLinearClosed:hQ,curveLinear:dy,curveMonotoneX:mQ,curveMonotoneY:pQ,curveNatural:gQ,curveStep:yQ,curveStepAfter:bQ,curveStepBefore:vQ},qp=t=>be(t.x)&&be(t.y),cO=t=>t.base!=null&&qp(t.base)&&qp(t),vc=t=>t.x,bc=t=>t.y,Uee=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(O1(t));if((n==="curveMonotone"||n==="curveBump")&&e){var r=uO["".concat(n).concat(e==="vertical"?"Y":"X")];if(r)return r}return uO[n]||dy},fO={connectNulls:!1,type:"linear"},zee=t=>{var{type:e=fO.type,points:n=[],baseLine:r,layout:i,connectNulls:a=fO.connectNulls}=t,s=Uee(e,i),o=a?n.filter(qp):n;if(Array.isArray(r)){var l,u=n.map((g,_)=>lO(lO({},g),{},{base:r[_]}));i==="vertical"?l=jh().y(bc).x1(vc).x0(g=>g.base.x):l=jh().x(vc).y1(bc).y0(g=>g.base.y);var c=l.defined(cO).curve(s),f=a?u.filter(cO):u;return c(f)}var m;i==="vertical"&&Q(r)?m=jh().y(bc).x1(vc).x0(r):Q(r)?m=jh().x(vc).y1(bc).y0(r):m=E4().x(vc).y(bc);var p=m.defined(qp).curve(s);return p(o)},Tm=t=>{var{className:e,points:n,path:r,pathRef:i}=t,a=ju();if((!n||!n.length)&&!r)return null;var s={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||a,connectNulls:t.connectNulls},o=n&&n.length?zee(s):r;return b.createElement("path",Bx({},qr(t),I1(t),{className:We("recharts-curve",e),d:o===null?void 0:o,ref:i}))},Bee=["x","y","top","left","width","height","className"];function $x(){return $x=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$x.apply(null,arguments)}function dO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $ee(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dO(Object(n),!0).forEach(function(r){Fee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fee(t,e,n){return(e=qee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qee(t){var e=Hee(t,"string");return typeof e=="symbol"?e:e+""}function Hee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gee(t,e){if(t==null)return{};var n,r,i=Kee(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Kee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Wee=(t,e,n,r,i,a)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(a,",").concat(e,"h").concat(n),Yee=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:a=0,height:s=0,className:o}=t,l=Gee(t,Bee),u=$ee({x:e,y:n,top:r,left:i,width:a,height:s},l);return!Q(e)||!Q(n)||!Q(a)||!Q(s)||!Q(r)||!Q(i)?null:b.createElement("path",$x({},Nr(u),{className:We("recharts-cross",o),d:Wee(e,n,a,s,r,i)}))};function Xee(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function hO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hO(Object(n),!0).forEach(function(r){Qee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qee(t,e,n){return(e=Zee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zee(t){var e=Jee(t,"string");return typeof e=="symbol"?e:e+""}function Jee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ete=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),tte=(t,e,n)=>t.map(r=>"".concat(ete(r)," ").concat(e,"ms ").concat(n)).join(","),nte=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),Hf=(t,e)=>Object.keys(e).reduce((n,r)=>mO(mO({},n),{},{[r]:t(r,e[r])}),{});function pO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pO(Object(n),!0).forEach(function(r){rte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rte(t,e,n){return(e=ite(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ite(t){var e=ate(t,"string");return typeof e=="symbol"?e:e+""}function ate(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hp=(t,e,n)=>t+(e-t)*n,Fx=t=>{var{from:e,to:n}=t;return e!==n},f3=(t,e,n)=>{var r=Hf((i,a)=>{if(Fx(a)){var[s,o]=t(a.from,a.to,a.velocity);return Tt(Tt({},a),{},{from:s,velocity:o})}return a},e);return n<1?Hf((i,a)=>Fx(a)&&r[i]!=null?Tt(Tt({},a),{},{velocity:Hp(a.velocity,r[i].velocity,n),from:Hp(a.from,r[i].from,n)}):a,e):f3(t,r,n-1)};function ste(t,e,n,r,i,a){var s,o=r.reduce((m,p)=>Tt(Tt({},m),{},{[p]:{from:t[p],velocity:0,to:e[p]}}),{}),l=()=>Hf((m,p)=>p.from,o),u=()=>!Object.values(o).filter(Fx).length,c=null,f=m=>{s||(s=m);var p=m-s,g=p/n.dt;o=f3(n,o,g),i(Tt(Tt(Tt({},t),e),l())),s=m,u()||(c=a.setTimeout(f))};return()=>(c=a.setTimeout(f),()=>{var m;(m=c)===null||m===void 0||m()})}function ote(t,e,n,r,i,a,s){var o=null,l=i.reduce((f,m)=>{var p=t[m],g=e[m];return p==null||g==null?f:Tt(Tt({},f),{},{[m]:[p,g]})},{}),u,c=f=>{u||(u=f);var m=(f-u)/r,p=Hf((_,y)=>Hp(...y,n(m)),l);if(a(Tt(Tt(Tt({},t),e),p)),m<1)o=s.setTimeout(c);else{var g=Hf((_,y)=>Hp(...y,n(1)),l);a(Tt(Tt(Tt({},t),e),g))}};return()=>(o=s.setTimeout(c),()=>{var f;(f=o)===null||f===void 0||f()})}const lte=(t,e,n,r,i,a)=>{var s=nte(t,e);return n==null?()=>(i(Tt(Tt({},t),e)),()=>{}):n.isStepper===!0?ste(t,e,n,s,i,a):ote(t,e,n,r,s,i,a)};var Gp=1e-4,d3=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],h3=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),gO=(t,e)=>n=>{var r=d3(t,e);return h3(r,n)},ute=(t,e)=>n=>{var r=d3(t,e),i=[...r.map((a,s)=>a*s).slice(1),0];return h3(i,n)},cte=t=>{var e,n=t.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(e=n[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(r==null||r.length!==4)return null;var i=r.map(a=>parseFloat(a));return[i[0],i[1],i[2],i[3]]},fte=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=cte(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},dte=(t,e,n,r)=>{var i=gO(t,n),a=gO(e,r),s=ute(t,n),o=u=>u>1?1:u<0?0:u,l=u=>{for(var c=u>1?1:u,f=c,m=0;m<8;++m){var p=i(f)-c,g=s(f);if(Math.abs(p-c)<Gp||g<Gp)return a(f);f=o(f-p/g)}return a(f)};return l.isStepper=!1,l},yO=function(){return dte(...fte(...arguments))},hte=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,a=(s,o,l)=>{var u=-(s-o)*n,c=l*r,f=l+(u-c)*i/1e3,m=l*i/1e3+s;return Math.abs(m-o)<Gp&&Math.abs(f)<Gp?[o,0]:[m,f]};return a.isStepper=!0,a.dt=i,a},mte=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return yO(t);case"spring":return hte();default:if(t.split("(")[0]==="cubic-bezier")return yO(t)}return typeof t=="function"?t:null};function pte(t){var e,n=()=>null,r=!1,i=null,a=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,[l,...u]=o;if(typeof l=="number"){i=t.setTimeout(a.bind(null,u),l);return}a(l),i=t.setTimeout(a.bind(null,u));return}typeof s=="string"&&(e=s,n(e)),typeof s=="object"&&(e=s,n(e)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),a(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>t}}class gte{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=s=>{s-r>=n?e(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function yte(){return pte(new gte)}var vte=b.createContext(yte);function bte(t,e){var n=b.useContext(vte);return b.useMemo(()=>e??n(t),[t,e,n])}var xte=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Vd={isSsr:xte()},_te={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},vO={t:0},O0={t:1};function m3(t){var e=cr(t,_te),{isActive:n,canBegin:r,duration:i,easing:a,begin:s,onAnimationEnd:o,onAnimationStart:l,children:u}=e,c=n==="auto"?!Vd.isSsr:n,f=bte(e.animationId,e.animationManager),[m,p]=b.useState(c?vO:O0),g=b.useRef(null);return b.useEffect(()=>{c||p(O0)},[c]),b.useEffect(()=>{if(!c||!r)return Pu;var _=lte(vO,O0,mte(a),i,p,f.getTimeoutController()),y=()=>{g.current=_()};return f.start([l,s,y,i,o]),()=>{f.stop(),g.current&&g.current(),o()}},[c,r,i,a,s,l,o,f]),u(m.t)}function p3(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=b.useRef(Vf(e)),r=b.useRef(t);return r.current!==t&&(n.current=Vf(e),r.current=t),n.current}var wte=["radius"],Ete=["radius"],bO,xO,_O,wO,EO,SO,AO,TO,NO,CO;function OO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OO(Object(n),!0).forEach(function(r){Ste(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ste(t,e,n){return(e=Ate(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ate(t){var e=Tte(t,"string");return typeof e=="symbol"?e:e+""}function Tte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kp(){return Kp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kp.apply(null,arguments)}function RO(t,e){if(t==null)return{};var n,r,i=Nte(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Nte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Yr(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var PO=(t,e,n,r,i)=>{var a=Za(n),s=Za(r),o=Math.min(Math.abs(a)/2,Math.abs(s)/2),l=s>=0?1:-1,u=a>=0?1:-1,c=s>=0&&a>=0||s<0&&a<0?1:0,f;if(o>0&&Array.isArray(i)){for(var m=[0,0,0,0],p=0,g=4;p<g;p++){var _,y=(_=i[p])!==null&&_!==void 0?_:0;m[p]=y>o?o:y}f=Xt(bO||(bO=Yr(["M",",",""])),t,e+l*m[0]),m[0]>0&&(f+=Xt(xO||(xO=Yr(["A ",",",",0,0,",",",",",""])),m[0],m[0],c,t+u*m[0],e)),f+=Xt(_O||(_O=Yr(["L ",",",""])),t+n-u*m[1],e),m[1]>0&&(f+=Xt(wO||(wO=Yr(["A ",",",",0,0,",`,
        `,",",""])),m[1],m[1],c,t+n,e+l*m[1])),f+=Xt(EO||(EO=Yr(["L ",",",""])),t+n,e+r-l*m[2]),m[2]>0&&(f+=Xt(SO||(SO=Yr(["A ",",",",0,0,",`,
        `,",",""])),m[2],m[2],c,t+n-u*m[2],e+r)),f+=Xt(AO||(AO=Yr(["L ",",",""])),t+u*m[3],e+r),m[3]>0&&(f+=Xt(TO||(TO=Yr(["A ",",",",0,0,",`,
        `,",",""])),m[3],m[3],c,t,e+r-l*m[3])),f+="Z"}else if(o>0&&i===+i&&i>0){var w=Math.min(o,i);f=Xt(NO||(NO=Yr(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+l*w,w,w,c,t+u*w,e,t+n-u*w,e,w,w,c,t+n,e+l*w,t+n,e+r-l*w,w,w,c,t+n-u*w,e+r,t+u*w,e+r,w,w,c,t,e+r-l*w)}else f=Xt(CO||(CO=Yr(["M ",","," h "," v "," h "," Z"])),t,e,n,r,-n);return f},jO={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Cte=t=>{var e=cr(t,jO),n=b.useRef(null),[r,i]=b.useState(-1);b.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var K=n.current.getTotalLength();K&&i(K)}catch{}},[]);var{x:a,y:s,width:o,height:l,radius:u,className:c}=e,{animationEasing:f,animationDuration:m,animationBegin:p,isAnimationActive:g,isUpdateAnimationActive:_}=e,y=b.useRef(o),w=b.useRef(l),x=b.useRef(a),E=b.useRef(s),N=b.useMemo(()=>({x:a,y:s,width:o,height:l,radius:u}),[a,s,o,l,u]),P=p3(N,"rectangle-");if(a!==+a||s!==+s||o!==+o||l!==+l||o===0||l===0)return null;var k=We("recharts-rectangle",c);if(!_){var T=Nr(e),{radius:A}=T,C=RO(T,wte);return b.createElement("path",Kp({},C,{x:Za(a),y:Za(s),width:Za(o),height:Za(l),radius:typeof u=="number"?u:void 0,className:k,d:PO(a,s,o,l,u)}))}var R=y.current,j=w.current,I=x.current,D=E.current,Z="0px ".concat(r===-1?1:r,"px"),oe="".concat(r,"px 0px"),q=tte(["strokeDasharray"],m,typeof f=="string"?f:jO.animationEasing);return b.createElement(m3,{animationId:P,key:P,canBegin:r>0,duration:m,easing:f,isActive:_,begin:p},K=>{var Y=Jr(R,o,K),te=Jr(j,l,K),le=Jr(I,a,K),Ye=Jr(D,s,K);n.current&&(y.current=Y,w.current=te,x.current=le,E.current=Ye);var ft;g?K>0?ft={transition:q,strokeDasharray:oe}:ft={strokeDasharray:Z}:ft={strokeDasharray:oe};var Pt=Nr(e),{radius:je}=Pt,cn=RO(Pt,Ete);return b.createElement("path",Kp({},cn,{radius:typeof u=="number"?u:void 0,className:k,d:PO(le,Ye,Y,te,u),ref:n,style:IO(IO({},ft),e.style)}))})};function kO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kO(Object(n),!0).forEach(function(r){Ote(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ote(t,e,n){return(e=Ite(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ite(t){var e=Rte(t,"string");return typeof e=="symbol"?e:e+""}function Rte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wp=Math.PI/180,Pte=t=>t*180/Math.PI,an=(t,e,n,r)=>({x:t+Math.cos(-Wp*r)*n,y:e+Math.sin(-Wp*r)*n}),jte=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},kte=(t,e)=>{var{x:n,y:r}=t,{x:i,y:a}=e;return Math.sqrt((n-i)**2+(r-a)**2)},Dte=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:a}=e,s=kte({x:n,y:r},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(n-i)/s,l=Math.acos(o);return r>a&&(l=2*Math.PI-l),{radius:s,angle:Pte(l),angleInRadian:l}},Mte=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:e-a*360,endAngle:n-a*360}},Lte=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return t+s*360},Vte=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:a}=Dte({x:n,y:r},e),{innerRadius:s,outerRadius:o}=e;if(i<s||i>o||i===0)return null;var{startAngle:l,endAngle:u}=Mte(e),c=a,f;if(l<=u){for(;c>u;)c-=360;for(;c<l;)c+=360;f=c>=l&&c<=u}else{for(;c>l;)c-=360;for(;c<u;)c+=360;f=c>=u&&c<=l}return f?DO(DO({},e),{},{radius:i,angle:Lte(c,e)}):null};function g3(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:a}=t,s=an(e,n,r,i),o=an(e,n,r,a);return{points:[s,o],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}var MO,LO,VO,UO,zO,BO,$O;function qx(){return qx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qx.apply(null,arguments)}function eo(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var Ute=(t,e)=>{var n=_r(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},$h=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:l}=t,u=o*(s?1:-1)+r,c=Math.asin(o/u)/Wp,f=l?i:i+a*c,m=an(e,n,u,f),p=an(e,n,r,f),g=l?i-a*c:i,_=an(e,n,u*Math.cos(c*Wp),g);return{center:m,circleTangency:p,lineTangency:_,theta:c}},y3=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:s}=t,o=Ute(a,s),l=a+o,u=an(e,n,i,a),c=an(e,n,i,l),f=Xt(MO||(MO=eo(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),u.x,u.y,i,i,+(Math.abs(o)>180),+(a>l),c.x,c.y);if(r>0){var m=an(e,n,r,a),p=an(e,n,r,l);f+=Xt(LO||(LO=eo(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),p.x,p.y,r,r,+(Math.abs(o)>180),+(a<=l),m.x,m.y)}else f+=Xt(VO||(VO=eo(["L ",","," Z"])),e,n);return f},zte=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:l,endAngle:u}=t,c=_r(u-l),{circleTangency:f,lineTangency:m,theta:p}=$h({cx:e,cy:n,radius:i,angle:l,sign:c,cornerRadius:a,cornerIsExternal:o}),{circleTangency:g,lineTangency:_,theta:y}=$h({cx:e,cy:n,radius:i,angle:u,sign:-c,cornerRadius:a,cornerIsExternal:o}),w=o?Math.abs(l-u):Math.abs(l-u)-p-y;if(w<0)return s?Xt(UO||(UO=eo(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),m.x,m.y,a,a,a*2,a,a,-a*2):y3({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:u});var x=Xt(zO||(zO=eo(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),m.x,m.y,a,a,+(c<0),f.x,f.y,i,i,+(w>180),+(c<0),g.x,g.y,a,a,+(c<0),_.x,_.y);if(r>0){var{circleTangency:E,lineTangency:N,theta:P}=$h({cx:e,cy:n,radius:r,angle:l,sign:c,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:k,lineTangency:T,theta:A}=$h({cx:e,cy:n,radius:r,angle:u,sign:-c,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),C=o?Math.abs(l-u):Math.abs(l-u)-P-A;if(C<0&&a===0)return"".concat(x,"L").concat(e,",").concat(n,"Z");x+=Xt(BO||(BO=eo(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),T.x,T.y,a,a,+(c<0),k.x,k.y,r,r,+(C>180),+(c>0),E.x,E.y,a,a,+(c<0),N.x,N.y)}else x+=Xt($O||($O=eo(["L",",","Z"])),e,n);return x},Bte={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},$te=t=>{var e=cr(t,Bte),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:c,className:f}=e;if(a<i||u===c)return null;var m=We("recharts-sector",f),p=a-i,g=Ts(s,p,0,!0),_;return g>0&&Math.abs(u-c)<360?_=zte({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(g,p/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:c}):_=y3({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:u,endAngle:c}),b.createElement("path",qx({},Nr(e),{className:m,d:_}))};function Fte(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(M4(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:s,angle:o}=e,l=an(r,i,a,o),u=an(r,i,s,o);return[{x:l.x,y:l.y},{x:u.x,y:u.y}]}return g3(e)}}var v3={},b3={},x3={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=z1;function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(x3);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=x3;function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(b3);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=B1,n=b3;function r(i,a,s){s&&typeof s!="number"&&e.isIterateeCall(i,a,s)&&(a=s=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),s=s===void 0?i<a?1:-1:n.toFinite(s);const o=Math.max(Math.ceil((a-i)/(s||1)),0),l=new Array(o);for(let u=0;u<o;u++)l[u]=i,i+=s;return l}t.range=r})(v3);var qte=v3.range;const _3=Ns(qte);function hs(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Hte(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function J1(t){let e,n,r;t.length!==2?(e=hs,n=(o,l)=>hs(t(o),l),r=(o,l)=>t(o)-l):(e=t===hs||t===Hte?t:Gte,n=t,r=t);function i(o,l,u=0,c=o.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(o[f],l)<0?u=f+1:c=f}while(u<c)}return u}function a(o,l,u=0,c=o.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(o[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function s(o,l,u=0,c=o.length){const f=i(o,l,u,c-1);return f>u&&r(o[f-1],l)>-r(o[f],l)?f-1:f}return{left:i,center:s,right:a}}function Gte(){return 0}function w3(t){return t===null?NaN:+t}function*Kte(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Wte=J1(hs),Ud=Wte.right;J1(w3).center;class FO extends Map{constructor(e,n=Qte){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(qO(this,e))}has(e){return super.has(qO(this,e))}set(e,n){return super.set(Yte(this,e),n)}delete(e){return super.delete(Xte(this,e))}}function qO({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Yte({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Xte({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Qte(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Zte(t=hs){if(t===hs)return E3;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function E3(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Jte=Math.sqrt(50),ene=Math.sqrt(10),tne=Math.sqrt(2);function Yp(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=Jte?10:a>=ene?5:a>=tne?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/s,o=Math.round(t*u),l=Math.round(e*u),o/u<t&&++o,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*s,o=Math.round(t/u),l=Math.round(e/u),o*u<t&&++o,l*u>e&&--l),l<o&&.5<=n&&n<2?Yp(t,e,n*2):[o,l,u]}function Hx(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,s]=r?Yp(e,t,n):Yp(t,e,n);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(r)if(s<0)for(let u=0;u<o;++u)l[u]=(a-u)/-s;else for(let u=0;u<o;++u)l[u]=(a-u)*s;else if(s<0)for(let u=0;u<o;++u)l[u]=(i+u)/-s;else for(let u=0;u<o;++u)l[u]=(i+u)*s;return l}function Gx(t,e,n){return e=+e,t=+t,n=+n,Yp(t,e,n)[2]}function Kx(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Gx(e,t,n):Gx(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function HO(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function GO(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function S3(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?E3:Zte(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),m=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),p=Math.max(n,Math.floor(e-u*f/l+m)),g=Math.min(r,Math.floor(e+(l-u)*f/l+m));S3(t,e,p,g,i)}const a=t[e];let s=n,o=r;for(xc(t,n,e),i(t[r],a)>0&&xc(t,n,r);s<o;){for(xc(t,s,o),++s,--o;i(t[s],a)<0;)++s;for(;i(t[o],a)>0;)--o}i(t[n],a)===0?xc(t,n,o):(++o,xc(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function xc(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function nne(t,e,n){if(t=Float64Array.from(Kte(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return GO(t);if(e>=1)return HO(t);var r,i=(r-1)*e,a=Math.floor(i),s=HO(S3(t,a).subarray(0,a+1)),o=GO(t.subarray(a+1));return s+(o-s)*(i-a)}}function rne(t,e,n=w3){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t),o=+n(t[a+1],a+1,t);return s+(o-s)*(i-a)}}function ine(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Rr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function va(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Wx=Symbol("implicit");function eE(){var t=new FO,e=[],n=[],r=Wx;function i(a){let s=t.get(a);if(s===void 0){if(r!==Wx)return r;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new FO;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return eE(e,n).unknown(r)},Rr.apply(i,arguments),i}function tE(){var t=eE().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,s,o=!1,l=0,u=0,c=.5;delete t.unknown;function f(){var m=e().length,p=i<r,g=p?i:r,_=p?r:i;a=(_-g)/Math.max(1,m-l+u*2),o&&(a=Math.floor(a)),g+=(_-g-a*(m-l))*c,s=a*(1-l),o&&(g=Math.round(g),s=Math.round(s));var y=ine(m).map(function(w){return g+a*w});return n(p?y.reverse():y)}return t.domain=function(m){return arguments.length?(e(m),f()):e()},t.range=function(m){return arguments.length?([r,i]=m,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(m){return[r,i]=m,r=+r,i=+i,o=!0,f()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(m){return arguments.length?(o=!!m,f()):o},t.padding=function(m){return arguments.length?(l=Math.min(1,u=+m),f()):l},t.paddingInner=function(m){return arguments.length?(l=Math.min(1,m),f()):l},t.paddingOuter=function(m){return arguments.length?(u=+m,f()):u},t.align=function(m){return arguments.length?(c=Math.max(0,Math.min(1,m)),f()):c},t.copy=function(){return tE(e(),[r,i]).round(o).paddingInner(l).paddingOuter(u).align(c)},Rr.apply(f(),arguments)}function A3(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return A3(e())},t}function ane(){return A3(tE.apply(null,arguments).paddingInner(1))}function nE(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function T3(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function zd(){}var Gf=.7,Xp=1/Gf,Bl="\\s*([+-]?\\d+)\\s*",Kf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",hi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",sne=/^#([0-9a-f]{3,8})$/,one=new RegExp(`^rgb\\(${Bl},${Bl},${Bl}\\)$`),lne=new RegExp(`^rgb\\(${hi},${hi},${hi}\\)$`),une=new RegExp(`^rgba\\(${Bl},${Bl},${Bl},${Kf}\\)$`),cne=new RegExp(`^rgba\\(${hi},${hi},${hi},${Kf}\\)$`),fne=new RegExp(`^hsl\\(${Kf},${hi},${hi}\\)$`),dne=new RegExp(`^hsla\\(${Kf},${hi},${hi},${Kf}\\)$`),KO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};nE(zd,Wf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:WO,formatHex:WO,formatHex8:hne,formatHsl:mne,formatRgb:YO,toString:YO});function WO(){return this.rgb().formatHex()}function hne(){return this.rgb().formatHex8()}function mne(){return N3(this).formatHsl()}function YO(){return this.rgb().formatRgb()}function Wf(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=sne.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?XO(e):n===3?new Un(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Fh(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Fh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=one.exec(t))?new Un(e[1],e[2],e[3],1):(e=lne.exec(t))?new Un(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=une.exec(t))?Fh(e[1],e[2],e[3],e[4]):(e=cne.exec(t))?Fh(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=fne.exec(t))?JO(e[1],e[2]/100,e[3]/100,1):(e=dne.exec(t))?JO(e[1],e[2]/100,e[3]/100,e[4]):KO.hasOwnProperty(t)?XO(KO[t]):t==="transparent"?new Un(NaN,NaN,NaN,0):null}function XO(t){return new Un(t>>16&255,t>>8&255,t&255,1)}function Fh(t,e,n,r){return r<=0&&(t=e=n=NaN),new Un(t,e,n,r)}function pne(t){return t instanceof zd||(t=Wf(t)),t?(t=t.rgb(),new Un(t.r,t.g,t.b,t.opacity)):new Un}function Yx(t,e,n,r){return arguments.length===1?pne(t):new Un(t,e,n,r??1)}function Un(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}nE(Un,Yx,T3(zd,{brighter(t){return t=t==null?Xp:Math.pow(Xp,t),new Un(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Gf:Math.pow(Gf,t),new Un(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Un(mo(this.r),mo(this.g),mo(this.b),Qp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:QO,formatHex:QO,formatHex8:gne,formatRgb:ZO,toString:ZO}));function QO(){return`#${to(this.r)}${to(this.g)}${to(this.b)}`}function gne(){return`#${to(this.r)}${to(this.g)}${to(this.b)}${to((isNaN(this.opacity)?1:this.opacity)*255)}`}function ZO(){const t=Qp(this.opacity);return`${t===1?"rgb(":"rgba("}${mo(this.r)}, ${mo(this.g)}, ${mo(this.b)}${t===1?")":`, ${t})`}`}function Qp(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function mo(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function to(t){return t=mo(t),(t<16?"0":"")+t.toString(16)}function JO(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Lr(t,e,n,r)}function N3(t){if(t instanceof Lr)return new Lr(t.h,t.s,t.l,t.opacity);if(t instanceof zd||(t=Wf(t)),!t)return new Lr;if(t instanceof Lr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(e===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-e)/o+2:s=(e-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new Lr(s,o,l,t.opacity)}function yne(t,e,n,r){return arguments.length===1?N3(t):new Lr(t,e,n,r??1)}function Lr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}nE(Lr,yne,T3(zd,{brighter(t){return t=t==null?Xp:Math.pow(Xp,t),new Lr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Gf:Math.pow(Gf,t),new Lr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Un(I0(t>=240?t-240:t+120,i,r),I0(t,i,r),I0(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Lr(e2(this.h),qh(this.s),qh(this.l),Qp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Qp(this.opacity);return`${t===1?"hsl(":"hsla("}${e2(this.h)}, ${qh(this.s)*100}%, ${qh(this.l)*100}%${t===1?")":`, ${t})`}`}}));function e2(t){return t=(t||0)%360,t<0?t+360:t}function qh(t){return Math.max(0,Math.min(1,t||0))}function I0(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const rE=t=>()=>t;function vne(t,e){return function(n){return t+n*e}}function bne(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function xne(t){return(t=+t)==1?C3:function(e,n){return n-e?bne(e,n,t):rE(isNaN(e)?n:e)}}function C3(t,e){var n=e-t;return n?vne(t,n):rE(isNaN(t)?e:t)}const t2=function t(e){var n=xne(e);function r(i,a){var s=n((i=Yx(i)).r,(a=Yx(a)).r),o=n(i.g,a.g),l=n(i.b,a.b),u=C3(i.opacity,a.opacity);return function(c){return i.r=s(c),i.g=o(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function _ne(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function wne(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Ene(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=ku(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function Sne(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Zp(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Ane(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=ku(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Xx=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,R0=new RegExp(Xx.source,"g");function Tne(t){return function(){return t}}function Nne(t){return function(e){return t(e)+""}}function Cne(t,e){var n=Xx.lastIndex=R0.lastIndex=0,r,i,a,s=-1,o=[],l=[];for(t=t+"",e=e+"";(r=Xx.exec(t))&&(i=R0.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:Zp(r,i)})),n=R0.lastIndex;return n<e.length&&(a=e.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?Nne(l[0].x):Tne(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)o[(f=l[c]).i]=f.x(u);return o.join("")})}function ku(t,e){var n=typeof e,r;return e==null||n==="boolean"?rE(e):(n==="number"?Zp:n==="string"?(r=Wf(e))?(e=r,t2):Cne:e instanceof Wf?t2:e instanceof Date?Sne:wne(e)?_ne:Array.isArray(e)?Ene:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Ane:Zp)(t,e)}function iE(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function One(t,e){e===void 0&&(e=t,t=ku);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[o](s-o)}}function Ine(t){return function(){return t}}function Jp(t){return+t}var n2=[0,1];function Tn(t){return t}function Qx(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Ine(isNaN(e)?NaN:.5)}function Rne(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Pne(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=Qx(i,r),a=n(s,a)):(r=Qx(r,i),a=n(a,s)),function(o){return a(r(o))}}function jne(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=Qx(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(o){var l=Ud(t,o,1,r)-1;return a[l](i[l](o))}}function Bd(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Uy(){var t=n2,e=n2,n=ku,r,i,a,s=Tn,o,l,u;function c(){var m=Math.min(t.length,e.length);return s!==Tn&&(s=Rne(t[0],t[m-1])),o=m>2?jne:Pne,l=u=null,f}function f(m){return m==null||isNaN(m=+m)?a:(l||(l=o(t.map(r),e,n)))(r(s(m)))}return f.invert=function(m){return s(i((u||(u=o(e,t.map(r),Zp)))(m)))},f.domain=function(m){return arguments.length?(t=Array.from(m,Jp),c()):t.slice()},f.range=function(m){return arguments.length?(e=Array.from(m),c()):e.slice()},f.rangeRound=function(m){return e=Array.from(m),n=iE,c()},f.clamp=function(m){return arguments.length?(s=m?!0:Tn,c()):s!==Tn},f.interpolate=function(m){return arguments.length?(n=m,c()):n},f.unknown=function(m){return arguments.length?(a=m,f):a},function(m,p){return r=m,i=p,c()}}function aE(){return Uy()(Tn,Tn)}function kne(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function eg(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function fu(t){return t=eg(Math.abs(t)),t?t[1]:NaN}function Dne(t,e){return function(n,r){for(var i=n.length,a=[],s=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function Mne(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Lne=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Yf(t){if(!(e=Lne.exec(t)))throw new Error("invalid format: "+t);var e;return new sE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Yf.prototype=sE.prototype;function sE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}sE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Vne(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var tg;function Une(t,e){var n=eg(t,e);if(!n)return tg=void 0,t.toPrecision(e);var r=n[0],i=n[1],a=i-(tg=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+eg(t,Math.max(0,e+a-1))[0]}function r2(t,e){var n=eg(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const i2={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:kne,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>r2(t*100,e),r:r2,s:Une,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function a2(t){return t}var s2=Array.prototype.map,o2=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function zne(t){var e=t.grouping===void 0||t.thousands===void 0?a2:Dne(s2.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?a2:Mne(s2.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f,m){f=Yf(f);var p=f.fill,g=f.align,_=f.sign,y=f.symbol,w=f.zero,x=f.width,E=f.comma,N=f.precision,P=f.trim,k=f.type;k==="n"?(E=!0,k="g"):i2[k]||(N===void 0&&(N=12),P=!0,k="g"),(w||p==="0"&&g==="=")&&(w=!0,p="0",g="=");var T=(m&&m.prefix!==void 0?m.prefix:"")+(y==="$"?n:y==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():""),A=(y==="$"?r:/[%p]/.test(k)?s:"")+(m&&m.suffix!==void 0?m.suffix:""),C=i2[k],R=/[defgprs%]/.test(k);N=N===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function j(I){var D=T,Z=A,oe,q,K;if(k==="c")Z=C(I)+Z,I="";else{I=+I;var Y=I<0||1/I<0;if(I=isNaN(I)?l:C(Math.abs(I),N),P&&(I=Vne(I)),Y&&+I==0&&_!=="+"&&(Y=!1),D=(Y?_==="("?_:o:_==="-"||_==="("?"":_)+D,Z=(k==="s"&&!isNaN(I)&&tg!==void 0?o2[8+tg/3]:"")+Z+(Y&&_==="("?")":""),R){for(oe=-1,q=I.length;++oe<q;)if(K=I.charCodeAt(oe),48>K||K>57){Z=(K===46?i+I.slice(oe+1):I.slice(oe))+Z,I=I.slice(0,oe);break}}}E&&!w&&(I=e(I,1/0));var te=D.length+I.length+Z.length,le=te<x?new Array(x-te+1).join(p):"";switch(E&&w&&(I=e(le+I,le.length?x-Z.length:1/0),le=""),g){case"<":I=D+I+Z+le;break;case"=":I=D+le+I+Z;break;case"^":I=le.slice(0,te=le.length>>1)+D+I+Z+le.slice(te);break;default:I=le+D+I+Z;break}return a(I)}return j.toString=function(){return f+""},j}function c(f,m){var p=Math.max(-8,Math.min(8,Math.floor(fu(m)/3)))*3,g=Math.pow(10,-p),_=u((f=Yf(f),f.type="f",f),{suffix:o2[8+p/3]});return function(y){return _(g*y)}}return{format:u,formatPrefix:c}}var Hh,oE,O3;Bne({thousands:",",grouping:[3],currency:["$",""]});function Bne(t){return Hh=zne(t),oE=Hh.format,O3=Hh.formatPrefix,Hh}function $ne(t){return Math.max(0,-fu(Math.abs(t)))}function Fne(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(fu(e)/3)))*3-fu(Math.abs(t)))}function qne(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,fu(e)-fu(t))+1}function I3(t,e,n,r){var i=Kx(t,e,n),a;switch(r=Yf(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=Fne(i,s))&&(r.precision=a),O3(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=qne(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=$ne(i))&&(r.precision=a-(r.type==="%")*2);break}}return oE(r)}function Ds(t){var e=t.domain;return t.ticks=function(n){var r=e();return Hx(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return I3(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,s=r[i],o=r[a],l,u,c=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);c-- >0;){if(u=Gx(s,o,n),u===l)return r[i]=s,r[a]=o,e(r);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;l=u}return t},t}function R3(){var t=aE();return t.copy=function(){return Bd(t,R3())},Rr.apply(t,arguments),Ds(t)}function P3(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Jp),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return P3(t).unknown(e)},t=arguments.length?Array.from(t,Jp):[0,1],Ds(n)}function j3(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),t[n]=e.floor(i),t[r]=e.ceil(a),t}function l2(t){return Math.log(t)}function u2(t){return Math.exp(t)}function Hne(t){return-Math.log(-t)}function Gne(t){return-Math.exp(-t)}function Kne(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Wne(t){return t===10?Kne:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Yne(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function c2(t){return(e,n)=>-t(-e,n)}function lE(t){const e=t(l2,u2),n=e.domain;let r=10,i,a;function s(){return i=Yne(r),a=Wne(r),n()[0]<0?(i=c2(i),a=c2(a),t(Hne,Gne)):t(l2,u2),e}return e.base=function(o){return arguments.length?(r=+o,s()):r},e.domain=function(o){return arguments.length?(n(o),s()):n()},e.ticks=o=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let m=i(u),p=i(c),g,_;const y=o==null?10:+o;let w=[];if(!(r%1)&&p-m<y){if(m=Math.floor(m),p=Math.ceil(p),u>0){for(;m<=p;++m)for(g=1;g<r;++g)if(_=m<0?g/a(-m):g*a(m),!(_<u)){if(_>c)break;w.push(_)}}else for(;m<=p;++m)for(g=r-1;g>=1;--g)if(_=m>0?g/a(-m):g*a(m),!(_<u)){if(_>c)break;w.push(_)}w.length*2<y&&(w=Hx(u,c,y))}else w=Hx(m,p,Math.min(p-m,y)).map(a);return f?w.reverse():w},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Yf(l)).precision==null&&(l.trim=!0),l=oE(l)),o===1/0)return l;const u=Math.max(1,r*o/e.ticks().length);return c=>{let f=c/a(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},e.nice=()=>n(j3(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function k3(){const t=lE(Uy()).domain([1,10]);return t.copy=()=>Bd(t,k3()).base(t.base()),Rr.apply(t,arguments),t}function f2(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function d2(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function uE(t){var e=1,n=t(f2(e),d2(e));return n.constant=function(r){return arguments.length?t(f2(e=+r),d2(e)):e},Ds(n)}function D3(){var t=uE(Uy());return t.copy=function(){return Bd(t,D3()).constant(t.constant())},Rr.apply(t,arguments)}function h2(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Xne(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Qne(t){return t<0?-t*t:t*t}function cE(t){var e=t(Tn,Tn),n=1;function r(){return n===1?t(Tn,Tn):n===.5?t(Xne,Qne):t(h2(n),h2(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Ds(e)}function fE(){var t=cE(Uy());return t.copy=function(){return Bd(t,fE()).exponent(t.exponent())},Rr.apply(t,arguments),t}function Zne(){return fE.apply(null,arguments).exponent(.5)}function m2(t){return Math.sign(t)*t*t}function Jne(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function M3(){var t=aE(),e=[0,1],n=!1,r;function i(a){var s=Jne(t(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return t.invert(m2(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Jp)).map(m2)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return M3(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Rr.apply(i,arguments),Ds(i)}function L3(){var t=[],e=[],n=[],r;function i(){var s=0,o=Math.max(1,e.length);for(n=new Array(o-1);++s<o;)n[s-1]=rne(t,s/o);return a}function a(s){return s==null||isNaN(s=+s)?r:e[Ud(n,s)]}return a.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(hs),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return L3().domain(t).range(e).unknown(r)},Rr.apply(a,arguments)}function V3(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[Ud(r,l,0,n)]:a}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return V3().domain([t,e]).range(i).unknown(a)},Rr.apply(Ds(s),arguments)}function U3(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[Ud(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return U3().domain(t).range(e).unknown(n)},Rr.apply(i,arguments)}const P0=new Date,j0=new Date;function It(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let u;do l.push(u=new Date(+a)),e(a,o),t(a);while(u<a&&a<s);return l},i.filter=a=>It(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),n&&(i.count=(a,s)=>(P0.setTime(+a),j0.setTime(+s),t(P0),t(j0),Math.floor(n(P0,j0))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const ng=It(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);ng.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?It(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):ng);ng.range;const Bi=1e3,wr=Bi*60,$i=wr*60,ua=$i*24,dE=ua*7,p2=ua*30,k0=ua*365,no=It(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Bi)},(t,e)=>(e-t)/Bi,t=>t.getUTCSeconds());no.range;const hE=It(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Bi)},(t,e)=>{t.setTime(+t+e*wr)},(t,e)=>(e-t)/wr,t=>t.getMinutes());hE.range;const mE=It(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*wr)},(t,e)=>(e-t)/wr,t=>t.getUTCMinutes());mE.range;const pE=It(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Bi-t.getMinutes()*wr)},(t,e)=>{t.setTime(+t+e*$i)},(t,e)=>(e-t)/$i,t=>t.getHours());pE.range;const gE=It(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*$i)},(t,e)=>(e-t)/$i,t=>t.getUTCHours());gE.range;const $d=It(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*wr)/ua,t=>t.getDate()-1);$d.range;const zy=It(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ua,t=>t.getUTCDate()-1);zy.range;const z3=It(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ua,t=>Math.floor(t/ua));z3.range;function Ho(t){return It(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*wr)/dE)}const By=Ho(0),rg=Ho(1),ere=Ho(2),tre=Ho(3),du=Ho(4),nre=Ho(5),rre=Ho(6);By.range;rg.range;ere.range;tre.range;du.range;nre.range;rre.range;function Go(t){return It(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/dE)}const $y=Go(0),ig=Go(1),ire=Go(2),are=Go(3),hu=Go(4),sre=Go(5),ore=Go(6);$y.range;ig.range;ire.range;are.range;hu.range;sre.range;ore.range;const yE=It(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());yE.range;const vE=It(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());vE.range;const ca=It(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ca.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:It(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});ca.range;const fa=It(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());fa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:It(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});fa.range;function B3(t,e,n,r,i,a){const s=[[no,1,Bi],[no,5,5*Bi],[no,15,15*Bi],[no,30,30*Bi],[a,1,wr],[a,5,5*wr],[a,15,15*wr],[a,30,30*wr],[i,1,$i],[i,3,3*$i],[i,6,6*$i],[i,12,12*$i],[r,1,ua],[r,2,2*ua],[n,1,dE],[e,1,p2],[e,3,3*p2],[t,1,k0]];function o(u,c,f){const m=c<u;m&&([u,c]=[c,u]);const p=f&&typeof f.range=="function"?f:l(u,c,f),g=p?p.range(u,+c+1):[];return m?g.reverse():g}function l(u,c,f){const m=Math.abs(c-u)/f,p=J1(([,,y])=>y).right(s,m);if(p===s.length)return t.every(Kx(u/k0,c/k0,f));if(p===0)return ng.every(Math.max(Kx(u,c,f),1));const[g,_]=s[m/s[p-1][2]<s[p][2]/m?p-1:p];return g.every(_)}return[o,l]}const[lre,ure]=B3(fa,vE,$y,z3,gE,mE),[cre,fre]=B3(ca,yE,By,$d,pE,hE);function D0(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function M0(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function _c(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function dre(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,l=t.shortMonths,u=wc(i),c=Ec(i),f=wc(a),m=Ec(a),p=wc(s),g=Ec(s),_=wc(o),y=Ec(o),w=wc(l),x=Ec(l),E={a:K,A:Y,b:te,B:le,c:null,d:_2,e:_2,f:Dre,g:Hre,G:Kre,H:Pre,I:jre,j:kre,L:$3,m:Mre,M:Lre,p:Ye,q:ft,Q:S2,s:A2,S:Vre,u:Ure,U:zre,V:Bre,w:$re,W:Fre,x:null,X:null,y:qre,Y:Gre,Z:Wre,"%":E2},N={a:Pt,A:je,b:cn,B:Ti,c:null,d:w2,e:w2,f:Zre,g:lie,G:cie,H:Yre,I:Xre,j:Qre,L:q3,m:Jre,M:eie,p:jt,q:Ls,Q:S2,s:A2,S:tie,u:nie,U:rie,V:iie,w:aie,W:sie,x:null,X:null,y:oie,Y:uie,Z:fie,"%":E2},P={a:R,A:j,b:I,B:D,c:Z,d:b2,e:b2,f:Cre,g:v2,G:y2,H:x2,I:x2,j:Sre,L:Nre,m:Ere,M:Are,p:C,q:wre,Q:Ire,s:Rre,S:Tre,u:yre,U:vre,V:bre,w:gre,W:xre,x:oe,X:q,y:v2,Y:y2,Z:_re,"%":Ore};E.x=k(n,E),E.X=k(r,E),E.c=k(e,E),N.x=k(n,N),N.X=k(r,N),N.c=k(e,N);function k($,de){return function(_e){var F=[],kt=-1,Ne=0,bn=$.length,Kt,Pr,Fu;for(_e instanceof Date||(_e=new Date(+_e));++kt<bn;)$.charCodeAt(kt)===37&&(F.push($.slice(Ne,kt)),(Pr=g2[Kt=$.charAt(++kt)])!=null?Kt=$.charAt(++kt):Pr=Kt==="e"?" ":"0",(Fu=de[Kt])&&(Kt=Fu(_e,Pr)),F.push(Kt),Ne=kt+1);return F.push($.slice(Ne,kt)),F.join("")}}function T($,de){return function(_e){var F=_c(1900,void 0,1),kt=A(F,$,_e+="",0),Ne,bn;if(kt!=_e.length)return null;if("Q"in F)return new Date(F.Q);if("s"in F)return new Date(F.s*1e3+("L"in F?F.L:0));if(de&&!("Z"in F)&&(F.Z=0),"p"in F&&(F.H=F.H%12+F.p*12),F.m===void 0&&(F.m="q"in F?F.q:0),"V"in F){if(F.V<1||F.V>53)return null;"w"in F||(F.w=1),"Z"in F?(Ne=M0(_c(F.y,0,1)),bn=Ne.getUTCDay(),Ne=bn>4||bn===0?ig.ceil(Ne):ig(Ne),Ne=zy.offset(Ne,(F.V-1)*7),F.y=Ne.getUTCFullYear(),F.m=Ne.getUTCMonth(),F.d=Ne.getUTCDate()+(F.w+6)%7):(Ne=D0(_c(F.y,0,1)),bn=Ne.getDay(),Ne=bn>4||bn===0?rg.ceil(Ne):rg(Ne),Ne=$d.offset(Ne,(F.V-1)*7),F.y=Ne.getFullYear(),F.m=Ne.getMonth(),F.d=Ne.getDate()+(F.w+6)%7)}else("W"in F||"U"in F)&&("w"in F||(F.w="u"in F?F.u%7:"W"in F?1:0),bn="Z"in F?M0(_c(F.y,0,1)).getUTCDay():D0(_c(F.y,0,1)).getDay(),F.m=0,F.d="W"in F?(F.w+6)%7+F.W*7-(bn+5)%7:F.w+F.U*7-(bn+6)%7);return"Z"in F?(F.H+=F.Z/100|0,F.M+=F.Z%100,M0(F)):D0(F)}}function A($,de,_e,F){for(var kt=0,Ne=de.length,bn=_e.length,Kt,Pr;kt<Ne;){if(F>=bn)return-1;if(Kt=de.charCodeAt(kt++),Kt===37){if(Kt=de.charAt(kt++),Pr=P[Kt in g2?de.charAt(kt++):Kt],!Pr||(F=Pr($,_e,F))<0)return-1}else if(Kt!=_e.charCodeAt(F++))return-1}return F}function C($,de,_e){var F=u.exec(de.slice(_e));return F?($.p=c.get(F[0].toLowerCase()),_e+F[0].length):-1}function R($,de,_e){var F=p.exec(de.slice(_e));return F?($.w=g.get(F[0].toLowerCase()),_e+F[0].length):-1}function j($,de,_e){var F=f.exec(de.slice(_e));return F?($.w=m.get(F[0].toLowerCase()),_e+F[0].length):-1}function I($,de,_e){var F=w.exec(de.slice(_e));return F?($.m=x.get(F[0].toLowerCase()),_e+F[0].length):-1}function D($,de,_e){var F=_.exec(de.slice(_e));return F?($.m=y.get(F[0].toLowerCase()),_e+F[0].length):-1}function Z($,de,_e){return A($,e,de,_e)}function oe($,de,_e){return A($,n,de,_e)}function q($,de,_e){return A($,r,de,_e)}function K($){return s[$.getDay()]}function Y($){return a[$.getDay()]}function te($){return l[$.getMonth()]}function le($){return o[$.getMonth()]}function Ye($){return i[+($.getHours()>=12)]}function ft($){return 1+~~($.getMonth()/3)}function Pt($){return s[$.getUTCDay()]}function je($){return a[$.getUTCDay()]}function cn($){return l[$.getUTCMonth()]}function Ti($){return o[$.getUTCMonth()]}function jt($){return i[+($.getUTCHours()>=12)]}function Ls($){return 1+~~($.getUTCMonth()/3)}return{format:function($){var de=k($+="",E);return de.toString=function(){return $},de},parse:function($){var de=T($+="",!1);return de.toString=function(){return $},de},utcFormat:function($){var de=k($+="",N);return de.toString=function(){return $},de},utcParse:function($){var de=T($+="",!0);return de.toString=function(){return $},de}}}var g2={"-":"",_:" ",0:"0"},qt=/^\s*\d+/,hre=/^%/,mre=/[\\^$*+?|[\]().{}]/g;function Ee(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function pre(t){return t.replace(mre,"\\$&")}function wc(t){return new RegExp("^(?:"+t.map(pre).join("|")+")","i")}function Ec(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function gre(t,e,n){var r=qt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function yre(t,e,n){var r=qt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function vre(t,e,n){var r=qt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function bre(t,e,n){var r=qt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function xre(t,e,n){var r=qt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function y2(t,e,n){var r=qt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function v2(t,e,n){var r=qt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function _re(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function wre(t,e,n){var r=qt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Ere(t,e,n){var r=qt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function b2(t,e,n){var r=qt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Sre(t,e,n){var r=qt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function x2(t,e,n){var r=qt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Are(t,e,n){var r=qt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Tre(t,e,n){var r=qt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Nre(t,e,n){var r=qt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Cre(t,e,n){var r=qt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Ore(t,e,n){var r=hre.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Ire(t,e,n){var r=qt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Rre(t,e,n){var r=qt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function _2(t,e){return Ee(t.getDate(),e,2)}function Pre(t,e){return Ee(t.getHours(),e,2)}function jre(t,e){return Ee(t.getHours()%12||12,e,2)}function kre(t,e){return Ee(1+$d.count(ca(t),t),e,3)}function $3(t,e){return Ee(t.getMilliseconds(),e,3)}function Dre(t,e){return $3(t,e)+"000"}function Mre(t,e){return Ee(t.getMonth()+1,e,2)}function Lre(t,e){return Ee(t.getMinutes(),e,2)}function Vre(t,e){return Ee(t.getSeconds(),e,2)}function Ure(t){var e=t.getDay();return e===0?7:e}function zre(t,e){return Ee(By.count(ca(t)-1,t),e,2)}function F3(t){var e=t.getDay();return e>=4||e===0?du(t):du.ceil(t)}function Bre(t,e){return t=F3(t),Ee(du.count(ca(t),t)+(ca(t).getDay()===4),e,2)}function $re(t){return t.getDay()}function Fre(t,e){return Ee(rg.count(ca(t)-1,t),e,2)}function qre(t,e){return Ee(t.getFullYear()%100,e,2)}function Hre(t,e){return t=F3(t),Ee(t.getFullYear()%100,e,2)}function Gre(t,e){return Ee(t.getFullYear()%1e4,e,4)}function Kre(t,e){var n=t.getDay();return t=n>=4||n===0?du(t):du.ceil(t),Ee(t.getFullYear()%1e4,e,4)}function Wre(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ee(e/60|0,"0",2)+Ee(e%60,"0",2)}function w2(t,e){return Ee(t.getUTCDate(),e,2)}function Yre(t,e){return Ee(t.getUTCHours(),e,2)}function Xre(t,e){return Ee(t.getUTCHours()%12||12,e,2)}function Qre(t,e){return Ee(1+zy.count(fa(t),t),e,3)}function q3(t,e){return Ee(t.getUTCMilliseconds(),e,3)}function Zre(t,e){return q3(t,e)+"000"}function Jre(t,e){return Ee(t.getUTCMonth()+1,e,2)}function eie(t,e){return Ee(t.getUTCMinutes(),e,2)}function tie(t,e){return Ee(t.getUTCSeconds(),e,2)}function nie(t){var e=t.getUTCDay();return e===0?7:e}function rie(t,e){return Ee($y.count(fa(t)-1,t),e,2)}function H3(t){var e=t.getUTCDay();return e>=4||e===0?hu(t):hu.ceil(t)}function iie(t,e){return t=H3(t),Ee(hu.count(fa(t),t)+(fa(t).getUTCDay()===4),e,2)}function aie(t){return t.getUTCDay()}function sie(t,e){return Ee(ig.count(fa(t)-1,t),e,2)}function oie(t,e){return Ee(t.getUTCFullYear()%100,e,2)}function lie(t,e){return t=H3(t),Ee(t.getUTCFullYear()%100,e,2)}function uie(t,e){return Ee(t.getUTCFullYear()%1e4,e,4)}function cie(t,e){var n=t.getUTCDay();return t=n>=4||n===0?hu(t):hu.ceil(t),Ee(t.getUTCFullYear()%1e4,e,4)}function fie(){return"+0000"}function E2(){return"%"}function S2(t){return+t}function A2(t){return Math.floor(+t/1e3)}var el,G3,K3;die({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function die(t){return el=dre(t),G3=el.format,el.parse,K3=el.utcFormat,el.utcParse,el}function hie(t){return new Date(t)}function mie(t){return t instanceof Date?+t:+new Date(+t)}function bE(t,e,n,r,i,a,s,o,l,u){var c=aE(),f=c.invert,m=c.domain,p=u(".%L"),g=u(":%S"),_=u("%I:%M"),y=u("%I %p"),w=u("%a %d"),x=u("%b %d"),E=u("%B"),N=u("%Y");function P(k){return(l(k)<k?p:o(k)<k?g:s(k)<k?_:a(k)<k?y:r(k)<k?i(k)<k?w:x:n(k)<k?E:N)(k)}return c.invert=function(k){return new Date(f(k))},c.domain=function(k){return arguments.length?m(Array.from(k,mie)):m().map(hie)},c.ticks=function(k){var T=m();return t(T[0],T[T.length-1],k??10)},c.tickFormat=function(k,T){return T==null?P:u(T)},c.nice=function(k){var T=m();return(!k||typeof k.range!="function")&&(k=e(T[0],T[T.length-1],k??10)),k?m(j3(T,k)):c},c.copy=function(){return Bd(c,bE(t,e,n,r,i,a,s,o,l,u))},c}function pie(){return Rr.apply(bE(cre,fre,ca,yE,By,$d,pE,hE,no,G3).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function gie(){return Rr.apply(bE(lre,ure,fa,vE,$y,zy,gE,mE,no,K3).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Fy(){var t=0,e=1,n,r,i,a,s=Tn,o=!1,l;function u(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(a(f)-n)*i,o?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(o=!!f,u):o},u.interpolator=function(f){return arguments.length?(s=f,u):s};function c(f){return function(m){var p,g;return arguments.length?([p,g]=m,s=f(p,g),u):[s(0),s(1)]}}return u.range=c(ku),u.rangeRound=c(iE),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return a=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function Ms(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function W3(){var t=Ds(Fy()(Tn));return t.copy=function(){return Ms(t,W3())},va.apply(t,arguments)}function Y3(){var t=lE(Fy()).domain([1,10]);return t.copy=function(){return Ms(t,Y3()).base(t.base())},va.apply(t,arguments)}function X3(){var t=uE(Fy());return t.copy=function(){return Ms(t,X3()).constant(t.constant())},va.apply(t,arguments)}function xE(){var t=cE(Fy());return t.copy=function(){return Ms(t,xE()).exponent(t.exponent())},va.apply(t,arguments)}function yie(){return xE.apply(null,arguments).exponent(.5)}function Q3(){var t=[],e=Tn;function n(r){if(r!=null&&!isNaN(r=+r))return e((Ud(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(hs),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>nne(t,a/r))},n.copy=function(){return Q3(e).domain(t)},va.apply(n,arguments)}function qy(){var t=0,e=.5,n=1,r=1,i,a,s,o,l,u=Tn,c,f=!1,m;function p(_){return isNaN(_=+_)?m:(_=.5+((_=+c(_))-a)*(r*_<r*a?o:l),u(f?Math.max(0,Math.min(1,_)):_))}p.domain=function(_){return arguments.length?([t,e,n]=_,i=c(t=+t),a=c(e=+e),s=c(n=+n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,p):[t,e,n]},p.clamp=function(_){return arguments.length?(f=!!_,p):f},p.interpolator=function(_){return arguments.length?(u=_,p):u};function g(_){return function(y){var w,x,E;return arguments.length?([w,x,E]=y,u=One(_,[w,x,E]),p):[u(0),u(.5),u(1)]}}return p.range=g(ku),p.rangeRound=g(iE),p.unknown=function(_){return arguments.length?(m=_,p):m},function(_){return c=_,i=_(t),a=_(e),s=_(n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,p}}function Z3(){var t=Ds(qy()(Tn));return t.copy=function(){return Ms(t,Z3())},va.apply(t,arguments)}function J3(){var t=lE(qy()).domain([.1,1,10]);return t.copy=function(){return Ms(t,J3()).base(t.base())},va.apply(t,arguments)}function e6(){var t=uE(qy());return t.copy=function(){return Ms(t,e6()).constant(t.constant())},va.apply(t,arguments)}function _E(){var t=cE(qy());return t.copy=function(){return Ms(t,_E()).exponent(t.exponent())},va.apply(t,arguments)}function vie(){return _E.apply(null,arguments).exponent(.5)}const Mc=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:tE,scaleDiverging:Z3,scaleDivergingLog:J3,scaleDivergingPow:_E,scaleDivergingSqrt:vie,scaleDivergingSymlog:e6,scaleIdentity:P3,scaleImplicit:Wx,scaleLinear:R3,scaleLog:k3,scaleOrdinal:eE,scalePoint:ane,scalePow:fE,scaleQuantile:L3,scaleQuantize:V3,scaleRadial:M3,scaleSequential:W3,scaleSequentialLog:Y3,scaleSequentialPow:xE,scaleSequentialQuantile:Q3,scaleSequentialSqrt:yie,scaleSequentialSymlog:X3,scaleSqrt:Zne,scaleSymlog:D3,scaleThreshold:U3,scaleTime:pie,scaleUtc:gie,tickFormat:I3},Symbol.toStringTag,{value:"Module"}));var ba=t=>t.chartData,t6=V([ba],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),n6=(t,e,n,r)=>r?t6(t):ba(t),bie=(t,e,n)=>n?t6(t):ba(t);function da(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(be(e)&&be(n))return!0}return!1}function T2(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function r6(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,a;if(be(n))i=n;else if(typeof n=="function")return;if(be(r))a=r;else if(typeof r=="function")return;var s=[i,a];if(da(s))return s}}function xie(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(da(r))return T2(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,s,o;if(i==="auto")e!=null&&(s=Math.min(...e));else if(Q(i))s=i;else if(typeof i=="function")try{e!=null&&(s=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&GC.test(i)){var l=GC.exec(i);if(l==null||l[1]==null||e==null)s=void 0;else{var u=+l[1];s=e[0]-u}}else s=e==null?void 0:e[0];if(a==="auto")e!=null&&(o=Math.max(...e));else if(Q(a))o=a;else if(typeof a=="function")try{e!=null&&(o=a(e==null?void 0:e[1]))}catch{}else if(typeof a=="string"&&KC.test(a)){var c=KC.exec(a);if(c==null||c[1]==null||e==null)o=void 0;else{var f=+c[1];o=e[1]+f}}else o=e==null?void 0:e[1];var m=[s,o];if(da(m))return e==null?m:T2(m,e,n)}}}var Du=1e9,_ie={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},EE,Ze=!0,Or="[DecimalError] ",po=Or+"Invalid argument: ",wE=Or+"Exponent out of range: ",Mu=Math.floor,Zs=Math.pow,wie=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Xn,Ut=1e7,Be=7,i6=9007199254740991,ag=Mu(i6/Be),X={};X.absoluteValue=X.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};X.comparedTo=X.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};X.decimalPlaces=X.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Be;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};X.dividedBy=X.div=function(t){return Yi(this,new this.constructor(t))};X.dividedToIntegerBy=X.idiv=function(t){var e=this,n=e.constructor;return De(Yi(e,new n(t),0,1),n.precision)};X.equals=X.eq=function(t){return!this.cmp(t)};X.exponent=function(){return St(this)};X.greaterThan=X.gt=function(t){return this.cmp(t)>0};X.greaterThanOrEqualTo=X.gte=function(t){return this.cmp(t)>=0};X.isInteger=X.isint=function(){return this.e>this.d.length-2};X.isNegative=X.isneg=function(){return this.s<0};X.isPositive=X.ispos=function(){return this.s>0};X.isZero=function(){return this.s===0};X.lessThan=X.lt=function(t){return this.cmp(t)<0};X.lessThanOrEqualTo=X.lte=function(t){return this.cmp(t)<1};X.logarithm=X.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Xn))throw Error(Or+"NaN");if(n.s<1)throw Error(Or+(n.s?"NaN":"-Infinity"));return n.eq(Xn)?new r(0):(Ze=!1,e=Yi(Xf(n,a),Xf(t,a),a),Ze=!0,De(e,i))};X.minus=X.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?o6(e,t):a6(e,(t.s=-t.s,t))};X.modulo=X.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Or+"NaN");return n.s?(Ze=!1,e=Yi(n,t,0,1).times(t),Ze=!0,n.minus(e)):De(new r(n),i)};X.naturalExponential=X.exp=function(){return s6(this)};X.naturalLogarithm=X.ln=function(){return Xf(this)};X.negated=X.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};X.plus=X.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?a6(e,t):o6(e,(t.s=-t.s,t))};X.precision=X.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(po+t);if(e=St(i)+1,r=i.d.length-1,n=r*Be+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};X.squareRoot=X.sqrt=function(){var t,e,n,r,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Or+"NaN")}for(t=St(o),Ze=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=ai(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Mu((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(a=r,r=a.plus(Yi(o,a,s+2)).times(.5),ai(a.d).slice(0,s)===(e=ai(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(De(a,n+1,0),a.times(a).eq(o)){r=a;break}}else if(e!="9999")break;s+=4}return Ze=!0,De(r,n)};X.times=X.mul=function(t){var e,n,r,i,a,s,o,l,u,c=this,f=c.constructor,m=c.d,p=(t=new f(t)).d;if(!c.s||!t.s)return new f(0);for(t.s*=c.s,n=c.e+t.e,l=m.length,u=p.length,l<u&&(a=m,m=p,p=a,s=l,l=u,u=s),a=[],s=l+u,r=s;r--;)a.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)o=a[i]+p[r]*m[i-r-1]+e,a[i--]=o%Ut|0,e=o/Ut|0;a[i]=(a[i]+e)%Ut|0}for(;!a[--s];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,Ze?De(t,f.precision):t};X.toDecimalPlaces=X.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(xi(t,0,Du),e===void 0?e=r.rounding:xi(e,0,8),De(n,t+St(n)+1,e))};X.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=jo(r,!0):(xi(t,0,Du),e===void 0?e=i.rounding:xi(e,0,8),r=De(new i(r),t+1,e),n=jo(r,!0,t+1)),n};X.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?jo(i):(xi(t,0,Du),e===void 0?e=a.rounding:xi(e,0,8),r=De(new a(i),t+St(i)+1,e),n=jo(r.abs(),!1,t+St(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};X.toInteger=X.toint=function(){var t=this,e=t.constructor;return De(new e(t),St(t)+1,e.rounding)};X.toNumber=function(){return+this};X.toPower=X.pow=function(t){var e,n,r,i,a,s,o=this,l=o.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(Xn);if(o=new l(o),!o.s){if(t.s<1)throw Error(Or+"Infinity");return o}if(o.eq(Xn))return o;if(r=l.precision,t.eq(Xn))return De(o,r);if(e=t.e,n=t.d.length-1,s=e>=n,a=o.s,s){if((n=c<0?-c:c)<=i6){for(i=new l(Xn),e=Math.ceil(r/Be+4),Ze=!1;n%2&&(i=i.times(o),C2(i.d,e)),n=Mu(n/2),n!==0;)o=o.times(o),C2(o.d,e);return Ze=!0,t.s<0?new l(Xn).div(i):De(i,r)}}else if(a<0)throw Error(Or+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,o.s=1,Ze=!1,i=t.times(Xf(o,r+u)),Ze=!0,i=s6(i),i.s=a,i};X.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=St(i),r=jo(i,n<=a.toExpNeg||n>=a.toExpPos)):(xi(t,1,Du),e===void 0?e=a.rounding:xi(e,0,8),i=De(new a(i),t,e),n=St(i),r=jo(i,t<=n||n<=a.toExpNeg,t)),r};X.toSignificantDigits=X.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(xi(t,1,Du),e===void 0?e=r.rounding:xi(e,0,8)),De(new r(n),t,e)};X.toString=X.valueOf=X.val=X.toJSON=X[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=St(t),n=t.constructor;return jo(t,e<=n.toExpNeg||e>=n.toExpPos)};function a6(t,e){var n,r,i,a,s,o,l,u,c=t.constructor,f=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),Ze?De(e,f):e;if(l=t.d,u=e.d,s=t.e,i=e.e,l=l.slice(),a=s-i,a){for(a<0?(r=l,a=-a,o=u.length):(r=u,i=s,o=l.length),s=Math.ceil(f/Be),o=s>o?s+1:o+1,a>o&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(o=l.length,a=u.length,o-a<0&&(a=o,r=u,u=l,l=r),n=0;a;)n=(l[--a]=l[a]+u[a]+n)/Ut|0,l[a]%=Ut;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,Ze?De(e,f):e}function xi(t,e,n){if(t!==~~t||t<e||t>n)throw Error(po+t)}function ai(t){var e,n,r,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)r=t[e]+"",n=Be-r.length,n&&(a+=ka(n)),a+=r;s=t[e],r=s+"",n=Be-r.length,n&&(a+=ka(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Yi=function(){function t(r,i){var a,s=0,o=r.length;for(r=r.slice();o--;)a=r[o]*i+s,r[o]=a%Ut|0,s=a/Ut|0;return s&&r.unshift(s),r}function e(r,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*Ut+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var o,l,u,c,f,m,p,g,_,y,w,x,E,N,P,k,T,A,C=r.constructor,R=r.s==i.s?1:-1,j=r.d,I=i.d;if(!r.s)return new C(r);if(!i.s)throw Error(Or+"Division by zero");for(l=r.e-i.e,T=I.length,P=j.length,p=new C(R),g=p.d=[],u=0;I[u]==(j[u]||0);)++u;if(I[u]>(j[u]||0)&&--l,a==null?x=a=C.precision:s?x=a+(St(r)-St(i))+1:x=a,x<0)return new C(0);if(x=x/Be+2|0,u=0,T==1)for(c=0,I=I[0],x++;(u<P||c)&&x--;u++)E=c*Ut+(j[u]||0),g[u]=E/I|0,c=E%I|0;else{for(c=Ut/(I[0]+1)|0,c>1&&(I=t(I,c),j=t(j,c),T=I.length,P=j.length),N=T,_=j.slice(0,T),y=_.length;y<T;)_[y++]=0;A=I.slice(),A.unshift(0),k=I[0],I[1]>=Ut/2&&++k;do c=0,o=e(I,_,T,y),o<0?(w=_[0],T!=y&&(w=w*Ut+(_[1]||0)),c=w/k|0,c>1?(c>=Ut&&(c=Ut-1),f=t(I,c),m=f.length,y=_.length,o=e(f,_,m,y),o==1&&(c--,n(f,T<m?A:I,m))):(c==0&&(o=c=1),f=I.slice()),m=f.length,m<y&&f.unshift(0),n(_,f,y),o==-1&&(y=_.length,o=e(I,_,T,y),o<1&&(c++,n(_,T<y?A:I,y))),y=_.length):o===0&&(c++,_=[0]),g[u++]=c,o&&_[0]?_[y++]=j[N]||0:(_=[j[N]],y=1);while((N++<P||_[0]!==void 0)&&x--)}return g[0]||g.shift(),p.e=l,De(p,s?a+St(p)+1:a)}}();function s6(t,e){var n,r,i,a,s,o,l=0,u=0,c=t.constructor,f=c.precision;if(St(t)>16)throw Error(wE+St(t));if(!t.s)return new c(Xn);for(Ze=!1,o=f,s=new c(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(r=Math.log(Zs(2,u))/Math.LN10*2+5|0,o+=r,n=i=a=new c(Xn),c.precision=o;;){if(i=De(i.times(t),o),n=n.times(++l),s=a.plus(Yi(i,n,o)),ai(s.d).slice(0,o)===ai(a.d).slice(0,o)){for(;u--;)a=De(a.times(a),o);return c.precision=f,e==null?(Ze=!0,De(a,f)):a}a=s}}function St(t){for(var e=t.e*Be,n=t.d[0];n>=10;n/=10)e++;return e}function L0(t,e,n){if(e>t.LN10.sd())throw Ze=!0,n&&(t.precision=n),Error(Or+"LN10 precision limit exceeded");return De(new t(t.LN10),e)}function ka(t){for(var e="";t--;)e+="0";return e}function Xf(t,e){var n,r,i,a,s,o,l,u,c,f=1,m=10,p=t,g=p.d,_=p.constructor,y=_.precision;if(p.s<1)throw Error(Or+(p.s?"NaN":"-Infinity"));if(p.eq(Xn))return new _(0);if(e==null?(Ze=!1,u=y):u=e,p.eq(10))return e==null&&(Ze=!0),L0(_,u);if(u+=m,_.precision=u,n=ai(g),r=n.charAt(0),a=St(p),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=ai(p.d),r=n.charAt(0),f++;a=St(p),r>1?(p=new _("0."+n),a++):p=new _(r+"."+n.slice(1))}else return l=L0(_,u+2,y).times(a+""),p=Xf(new _(r+"."+n.slice(1)),u-m).plus(l),_.precision=y,e==null?(Ze=!0,De(p,y)):p;for(o=s=p=Yi(p.minus(Xn),p.plus(Xn),u),c=De(p.times(p),u),i=3;;){if(s=De(s.times(c),u),l=o.plus(Yi(s,new _(i),u)),ai(l.d).slice(0,u)===ai(o.d).slice(0,u))return o=o.times(2),a!==0&&(o=o.plus(L0(_,u+2,y).times(a+""))),o=Yi(o,new _(f),u),_.precision=y,e==null?(Ze=!0,De(o,y)):o;o=l,i+=2}}function N2(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Mu(n/Be),t.d=[],r=(n+1)%Be,n<0&&(r+=Be),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Be;r<i;)t.d.push(+e.slice(r,r+=Be));e=e.slice(r),r=Be-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Ze&&(t.e>ag||t.e<-ag))throw Error(wE+n)}else t.s=0,t.e=0,t.d=[0];return t}function De(t,e,n){var r,i,a,s,o,l,u,c,f=t.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(r=e-s,r<0)r+=Be,i=e,u=f[c=0];else{if(c=Math.ceil((r+1)/Be),a=f.length,c>=a)return t;for(u=a=f[c],s=1;a>=10;a/=10)s++;r%=Be,i=r-Be+s}if(n!==void 0&&(a=Zs(10,s-i-1),o=u/a%10|0,l=e<0||f[c+1]!==void 0||u%a,l=n<4?(o||l)&&(n==0||n==(t.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?u/Zs(10,s-i):0:f[c-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(a=St(t),f.length=1,e=e-a-1,f[0]=Zs(10,(Be-e%Be)%Be),t.e=Mu(-e/Be)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=c,a=1,c--):(f.length=c+1,a=Zs(10,Be-r),f[c]=i>0?(u/Zs(10,s-i)%Zs(10,i)|0)*a:0),l)for(;;)if(c==0){(f[0]+=a)==Ut&&(f[0]=1,++t.e);break}else{if(f[c]+=a,f[c]!=Ut)break;f[c--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(Ze&&(t.e>ag||t.e<-ag))throw Error(wE+St(t));return t}function o6(t,e){var n,r,i,a,s,o,l,u,c,f,m=t.constructor,p=m.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new m(t),Ze?De(e,p):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),s=u-r,s){for(c=s<0,c?(n=l,s=-s,o=f.length):(n=f,r=u,o=l.length),i=Math.max(Math.ceil(p/Be),o)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=f.length,c=i<o,c&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}s=0}for(c&&(n=l,l=f,f=n,e.s=-e.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=Ut-1;--l[a],l[i]+=Ut}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Ze?De(e,p):e):new m(0)}function jo(t,e,n){var r,i=St(t),a=ai(t.d),s=a.length;return e?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+ka(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+ka(-i-1)+a,n&&(r=n-s)>0&&(a+=ka(r))):i>=s?(a+=ka(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+ka(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=ka(r))),t.s<0?"-"+a:a}function C2(t,e){if(t.length>e)return t.length=e,!0}function l6(t){var e,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(po+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return N2(s,a.toString())}else if(typeof a!="string")throw Error(po+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,wie.test(a))N2(s,a);else throw Error(po+a)}if(i.prototype=X,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=l6,i.config=i.set=Eie,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Eie(t){if(!t||typeof t!="object")throw Error(Or+"Object expected");var e,n,r,i=["precision",1,Du,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Mu(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(po+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(po+n+": "+r);return this}var EE=l6(_ie);Xn=new EE(1);const Oe=EE;function u6(t){var e;return t===0?e=1:e=Math.floor(new Oe(t).abs().log(10).toNumber())+1,e}function c6(t,e,n){for(var r=new Oe(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var f6=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},d6=(t,e,n)=>{if(t.lte(0))return new Oe(0);var r=u6(t.toNumber()),i=new Oe(10).pow(r),a=t.div(i),s=r!==1?.05:.1,o=new Oe(Math.ceil(a.div(s).toNumber())).add(n).mul(s),l=o.mul(i);return e?new Oe(l.toNumber()):new Oe(Math.ceil(l.toNumber()))},Sie=(t,e,n)=>{var r=new Oe(1),i=new Oe(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new Oe(10).pow(u6(t)-1),i=new Oe(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Oe(Math.floor(t)))}else t===0?i=new Oe(Math.floor((e-1)/2)):n||(i=new Oe(Math.floor(t)));for(var s=Math.floor((e-1)/2),o=[],l=0;l<e;l++)o.push(i.add(new Oe(l-s).mul(r)).toNumber());return o},h6=function(e,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Oe(0),tickMin:new Oe(0),tickMax:new Oe(0)};var s=d6(new Oe(n).sub(e).div(r-1),i,a),o;e<=0&&n>=0?o=new Oe(0):(o=new Oe(e).add(n).div(2),o=o.sub(new Oe(o).mod(s)));var l=Math.ceil(o.sub(e).div(s).toNumber()),u=Math.ceil(new Oe(n).sub(o).div(s).toNumber()),c=l+u+1;return c>r?h6(e,n,r,i,a+1):(c<r&&(u=n>0?u+(r-c):u,l=n>0?l:l+(r-c)),{step:s,tickMin:o.sub(new Oe(l).mul(s)),tickMax:o.add(new Oe(u).mul(s))})},Aie=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[o,l]=f6([n,r]);if(o===-1/0||l===1/0){var u=l===1/0?[o,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),l];return n>r?u.reverse():u}if(o===l)return Sie(o,i,a);var{step:c,tickMin:f,tickMax:m}=h6(o,l,s,a,0),p=c6(f,m.add(new Oe(.1).mul(c)),c);return n>r?p.reverse():p},Tie=function(e,n){var[r,i]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,o]=f6([r,i]);if(s===-1/0||o===1/0)return[r,i];if(s===o)return[s];var l=Math.max(n,2),u=d6(new Oe(o).sub(s).div(l-1),a,0),c=[...c6(new Oe(s),new Oe(o),u),o];return a===!1&&(c=c.map(f=>Math.round(f))),r>i?c.reverse():c},Nie=t=>t.rootProps.barCategoryGap,Hy=t=>t.rootProps.stackOffset,m6=t=>t.rootProps.reverseStackOrder,SE=t=>t.options.chartName,AE=t=>t.rootProps.syncId,p6=t=>t.rootProps.syncMethod,TE=t=>t.options.eventEmitter,Cie=t=>t.rootProps.baseValue,Nn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},qs={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},Xr={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},Gy=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e};function Ky(t,e,n){if(n!=="auto")return n;if(t!=null)return Ai(t,e)?"category":"number"}function O2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O2(Object(n),!0).forEach(function(r){Oie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oie(t,e,n){return(e=Iie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Iie(t){var e=Rie(t,"string");return typeof e=="symbol"?e:e+""}function Rie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var I2={allowDataOverflow:qs.allowDataOverflow,allowDecimals:qs.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:qs.angleAxisId,includeHidden:!1,name:void 0,reversed:qs.reversed,scale:qs.scale,tick:qs.tick,tickCount:void 0,ticks:void 0,type:qs.type,unit:void 0},R2={allowDataOverflow:Xr.allowDataOverflow,allowDecimals:Xr.allowDecimals,allowDuplicatedCategory:Xr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Xr.radiusAxisId,includeHidden:Xr.includeHidden,name:void 0,reversed:Xr.reversed,scale:Xr.scale,tick:Xr.tick,tickCount:Xr.tickCount,ticks:void 0,type:Xr.type,unit:void 0},Pie=(t,e)=>{if(e!=null)return t.polarAxis.angleAxis[e]},NE=V([Pie,n3],(t,e)=>{var n;if(t!=null)return t;var r=(n=Ky(e,"angleAxis",I2.type))!==null&&n!==void 0?n:"category";return sg(sg({},I2),{},{type:r})}),jie=(t,e)=>t.polarAxis.radiusAxis[e],CE=V([jie,n3],(t,e)=>{var n;if(t!=null)return t;var r=(n=Ky(e,"radiusAxis",R2.type))!==null&&n!==void 0?n:"category";return sg(sg({},R2),{},{type:r})}),Wy=t=>t.polarOptions,OE=V([ga,ya,un],jte),g6=V([Wy,OE],(t,e)=>{if(t!=null)return Ts(t.innerRadius,e,0)}),y6=V([Wy,OE],(t,e)=>{if(t!=null)return Ts(t.outerRadius,e,e*.8)}),kie=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},v6=V([Wy],kie);V([NE,v6],Gy);var b6=V([OE,g6,y6],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});V([CE,b6],Gy);var x6=V([Je,Wy,g6,y6,ga,ya],(t,e,n,r,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:s,cy:o,startAngle:l,endAngle:u}=e;return{cx:Ts(s,i,i/2),cy:Ts(o,a,a/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:u,clockWise:!1}}}),Ht=(t,e)=>e,Yy=(t,e,n)=>n;function IE(t){return t==null?void 0:t.id}function _6(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=n,s=new Map;return t.forEach(o=>{var l,u=(l=o.data)!==null&&l!==void 0?l:r;if(!(u==null||u.length===0)){var c=IE(o);u.forEach((f,m)=>{var p=a==null||i?m:String(on(f,a,null)),g=on(f,o.dataKey,0),_;s.has(p)?_=s.get(p):_={},Object.assign(_,{[c]:g}),s.set(p,_)})}}),Array.from(s.values())}function RE(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var Xy=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function Qy(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function Die(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var Gt=t=>{var e=Je(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Lu=t=>t.tooltip.settings.axisId;function Mie(t){if(t in Mc)return Mc[t]();var e="scale".concat(O1(t));if(e in Mc)return Mc[e]()}function P2(t){var e=t.ticks,n=t.bandwidth,r=t.range(),i=[Math.min(...r),Math.max(...r)];return{domain:()=>t.domain(),range:function(a){function s(){return a.apply(this,arguments)}return s.toString=function(){return a.toString()},s}(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(a){var s=i[0],o=i[1];return s<=o?a>=s&&a<=o:a>=o&&a<=s},bandwidth:n?()=>n.call(t):void 0,ticks:e?a=>e.call(t,a):void 0,map:(a,s)=>{var o=t(a);if(o!=null){if(t.bandwidth&&s!==null&&s!==void 0&&s.position){var l=t.bandwidth();switch(s.position){case"middle":o+=l/2;break;case"end":o+=l;break}}return o}}}}function j2(t,e,n){if(typeof t=="function")return P2(t.copy().domain(e).range(n));if(t!=null){var r=Mie(t);if(r!=null)return r.domain(e).range(n),P2(r)}}var Lie=(t,e)=>{if(e!=null)switch(t){case"linear":{if(!da(e)){for(var n,r,i=0;i<e.length;i++){var a=e[i];be(a)&&((n===void 0||a<n)&&(n=a),(r===void 0||a>r)&&(r=a))}return n!==void 0&&r!==void 0?[n,r]:void 0}return e}default:return e}};function k2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function og(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k2(Object(n),!0).forEach(function(r){Vie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vie(t,e,n){return(e=Uie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uie(t){var e=zie(t,"string");return typeof e=="symbol"?e:e+""}function zie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zx=[0,"auto"],Mt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},w6=(t,e)=>t.cartesianAxis.xAxis[e],xa=(t,e)=>{var n=w6(t,e);return n??Mt},Lt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Zx,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Dd},E6=(t,e)=>t.cartesianAxis.yAxis[e],_a=(t,e)=>{var n=E6(t,e);return n??Lt},Bie={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},PE=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??Bie},In=(t,e,n)=>{switch(e){case"xAxis":return xa(t,n);case"yAxis":return _a(t,n);case"zAxis":return PE(t,n);case"angleAxis":return NE(t,n);case"radiusAxis":return CE(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},$ie=(t,e,n)=>{switch(e){case"xAxis":return xa(t,n);case"yAxis":return _a(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Fd=(t,e,n)=>{switch(e){case"xAxis":return xa(t,n);case"yAxis":return _a(t,n);case"angleAxis":return NE(t,n);case"radiusAxis":return CE(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},S6=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function A6(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var T6=t=>t.graphicalItems.cartesianItems,Fie=V([Ht,Yy],A6),N6=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),qd=V([T6,In,Fie],N6,{memoizeOptions:{resultEqualityCheck:Qy}}),C6=V([qd],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(RE)),O6=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),qie=V([qd],O6),I6=t=>t.map(e=>e.data).filter(Boolean).flat(1),Hie=V([qd],I6,{memoizeOptions:{resultEqualityCheck:Qy}}),R6=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},jE=V([Hie,n6],R6),P6=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:on(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:on(i,r)}))):t.map(r=>({value:r})),Zy=V([jE,In,qd],P6);function j6(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Nm(t){if(vi(t)||t instanceof Date){var e=Number(t);if(be(e))return e}}function D2(t){if(Array.isArray(t)){var e=[Nm(t[0]),Nm(t[1])];return da(e)?e:void 0}var n=Nm(t);if(n!=null)return[n,n]}function ha(t){return t.map(Nm).filter(Vn)}function Gie(t,e,n){return!n||typeof e!="number"||yi(e)?[]:n.length?ha(n.flatMap(r=>{var i=on(t,r.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!be(a)||!be(s)))return[e-a,e+s]})):[]}var Rt=t=>{var e=Gt(t),n=Lu(t);return Fd(t,e,n)},Hd=V([Rt],t=>t==null?void 0:t.dataKey),Kie=V([C6,n6,Rt],_6),k6=(t,e,n,r)=>{var i={},a=e.reduce((s,o)=>{if(o.stackId==null)return s;var l=s[o.stackId];return l==null&&(l=[]),l.push(o),s[o.stackId]=l,s},i);return Object.fromEntries(Object.entries(a).map(s=>{var[o,l]=s,u=r?[...l].reverse():l,c=u.map(IE);return[o,{stackedData:TJ(t,c,n),graphicalItems:u}]}))},D6=V([Kie,C6,Hy,m6],k6),M6=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=e;if(r==null&&n!=="zAxis"){var s=IJ(t,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},Wie=V([In],t=>t.allowDataOverflow),kE=t=>{var e;if(t==null||!("domain"in t))return Zx;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var n=ha(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:Zx},L6=V([In],kE),V6=V([L6,Wie],r6),Yie=V([D6,ba,Ht,V6],M6,{memoizeOptions:{resultEqualityCheck:Xy}}),DE=t=>t.errorBars,Xie=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>j6(n,r)),lg=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),o=Math.max(...a);return[s,o]}},U6=(t,e,n,r,i)=>{var a,s;if(n.length>0&&t.forEach(o=>{n.forEach(l=>{var u,c,f=(u=r[l.id])===null||u===void 0?void 0:u.filter(w=>j6(i,w)),m=on(o,(c=e.dataKey)!==null&&c!==void 0?c:l.dataKey),p=Gie(o,m,f);if(p.length>=2){var g=Math.min(...p),_=Math.max(...p);(a==null||g<a)&&(a=g),(s==null||_>s)&&(s=_)}var y=D2(m);y!=null&&(a=a==null?y[0]:Math.min(a,y[0]),s=s==null?y[1]:Math.max(s,y[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(o=>{var l=D2(on(o,e.dataKey));l!=null&&(a=a==null?l[0]:Math.min(a,l[0]),s=s==null?l[1]:Math.max(s,l[1]))}),be(a)&&be(s))return[a,s]},Qie=V([jE,In,qie,DE,Ht],U6,{memoizeOptions:{resultEqualityCheck:Xy}});function Zie(t){var{value:e}=t;if(vi(e)||e instanceof Date)return e}var Jie=(t,e,n)=>{var r=t.map(Zie).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&k4(r))?_3(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},z6=t=>t.referenceElements.dots,Vu=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),eae=V([z6,Ht,Yy],Vu),B6=t=>t.referenceElements.areas,tae=V([B6,Ht,Yy],Vu),$6=t=>t.referenceElements.lines,nae=V([$6,Ht,Yy],Vu),F6=(t,e)=>{if(t!=null){var n=ha(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},rae=V(eae,Ht,F6),q6=(t,e)=>{if(t!=null){var n=ha(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},iae=V([tae,Ht],q6);function aae(t){var e;if(t.x!=null)return ha([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:ha(n)}function sae(t){var e;if(t.y!=null)return ha([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:ha(n)}var H6=(t,e)=>{if(t!=null){var n=t.flatMap(r=>e==="xAxis"?aae(r):sae(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},oae=V([nae,Ht],H6),lae=V(rae,oae,iae,(t,e,n)=>lg(t,n,e)),G6=(t,e,n,r,i,a,s,o)=>{if(n!=null)return n;var l=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",u=l?lg(r,a,i):lg(a,i);return xie(e,u,t.allowDataOverflow)},uae=V([In,L6,V6,Yie,Qie,lae,Je,Ht],G6,{memoizeOptions:{resultEqualityCheck:Xy}}),cae=[0,1],K6=(t,e,n,r,i,a,s)=>{if(!((t==null||n==null||n.length===0)&&s===void 0)){var{dataKey:o,type:l}=t,u=Ai(e,a);if(u&&o==null){var c;return _3(0,(c=n==null?void 0:n.length)!==null&&c!==void 0?c:0)}return l==="category"?Jie(r,t,u):i==="expand"?cae:s}},ME=V([In,Je,jE,Zy,Hy,Ht,uae],K6);function fae(t){return t in Mc}var W6=(t,e,n)=>{if(t!=null){var{scale:r,type:i}=t;if(r==="auto")return i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!e)?"point":i==="category"?"band":"linear";if(typeof r=="string"){var a="scale".concat(O1(r));return fae(a)?a:"point"}}},Uu=V([In,S6,SE],W6);function LE(t,e,n,r){if(!(n==null||r==null))return typeof t.scale=="function"?j2(t.scale,n,r):j2(e,n,r)}var Y6=(t,e,n)=>{var r=kE(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&da(t))return Aie(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&da(t))return Tie(t,e.tickCount,e.allowDecimals)}},VE=V([ME,Fd,Uu],Y6),X6=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&da(e)&&Array.isArray(n)&&n.length>0){var i,a,s=e[0],o=(i=n[0])!==null&&i!==void 0?i:0,l=e[1],u=(a=n[n.length-1])!==null&&a!==void 0?a:0;return[Math.min(s,o),Math.max(l,u)]}return e},dae=V([In,ME,VE,Ht],X6),hae=V(Zy,In,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(ha(t.map(f=>f.value))).sort((f,m)=>f-m),i=r[0],a=r[r.length-1];if(i==null||a==null)return 1/0;var s=a-i;if(s===0)return 1/0;for(var o=0;o<r.length-1;o++){var l=r[o],u=r[o+1];if(!(l==null||u==null)){var c=u-l;n=Math.min(n,c)}}return n/s}}),Q6=V(hae,Je,Nie,un,(t,e,n,r,i)=>i,(t,e,n,r,i)=>{if(!be(t))return 0;var a=e==="vertical"?r.height:r.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var s=Ts(n,t*a),o=t*a/2;return o-s-(o-s)/a*s}return 0}),mae=(t,e,n)=>{var r=xa(t,e);return r==null||typeof r.padding!="string"?0:Q6(t,"xAxis",e,n,r.padding)},pae=(t,e,n)=>{var r=_a(t,e);return r==null||typeof r.padding!="string"?0:Q6(t,"yAxis",e,n,r.padding)},gae=V(xa,mae,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),yae=V(_a,pae,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),vae=V([un,gae,ky,jy,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),bae=V([un,Je,yae,ky,jy,(t,e,n)=>n],(t,e,n,r,i,a)=>{var{padding:s}=i;return a?[r.height-s.bottom,s.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Gd=(t,e,n,r)=>{var i;switch(e){case"xAxis":return vae(t,n,r);case"yAxis":return bae(t,n,r);case"zAxis":return(i=PE(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return v6(t);case"radiusAxis":return b6(t,n);default:return}},Z6=V([In,Gd],Gy),xae=V([Uu,dae],Lie),Jy=V([In,Uu,xae,Z6],LE);V([qd,DE,Ht],Xie);function J6(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var ev=(t,e)=>e,tv=(t,e,n)=>n,_ae=V(Ry,ev,tv,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(J6)),wae=V(Py,ev,tv,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(J6)),e5=(t,e)=>({width:t.width,height:e.height}),Eae=(t,e)=>{var n=typeof e.width=="number"?e.width:Dd;return{width:n,height:t.height}},Sae=V(un,xa,e5),Aae=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},Tae=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},Nae=V(ya,un,_ae,ev,tv,(t,e,n,r,i)=>{var a={},s;return n.forEach(o=>{var l=e5(e,o);s==null&&(s=Aae(e,r,t));var u=r==="top"&&!i||r==="bottom"&&i;a[o.id]=s-Number(u)*l.height,s+=(u?-1:1)*l.height}),a}),Cae=V(ga,un,wae,ev,tv,(t,e,n,r,i)=>{var a={},s;return n.forEach(o=>{var l=Eae(e,o);s==null&&(s=Tae(e,r,t));var u=r==="left"&&!i||r==="right"&&i;a[o.id]=s-Number(u)*l.width,s+=(u?-1:1)*l.width}),a}),Oae=(t,e)=>{var n=xa(t,e);if(n!=null)return Nae(t,n.orientation,n.mirror)},Iae=V([un,xa,Oae,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),Rae=(t,e)=>{var n=_a(t,e);if(n!=null)return Cae(t,n.orientation,n.mirror)},Pae=V([un,_a,Rae,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),jae=V(un,_a,(t,e)=>{var n=typeof e.width=="number"?e.width:Dd;return{width:n,height:t.height}}),t5=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=n,o=Ai(t,r),l=e.map(u=>u.value);if(s&&o&&a==="category"&&i&&k4(l))return l}},UE=V([Je,Zy,In,Ht],t5),n5=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,s=Ai(t,r);if(s&&(i==="number"||a!=="auto"))return e.map(o=>o.value)}},zE=V([Je,Zy,Fd,Ht],n5),M2=V([Je,$ie,Uu,Jy,UE,zE,Gd,VE,Ht],(t,e,n,r,i,a,s,o,l)=>{if(e!=null){var u=Ai(t,l);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:u,niceTicks:o,range:s,realScaleType:n,scale:r}}}),kae=(t,e,n,r,i,a,s,o,l)=>{if(!(e==null||r==null)){var u=Ai(t,l),{type:c,ticks:f,tickCount:m}=e,p=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,g=c==="category"&&r.bandwidth?r.bandwidth()/p:0;g=l==="angleAxis"&&a!=null&&a.length>=2?_r(a[0]-a[1])*2*g:g;var _=f||i;return _?_.map((y,w)=>{var x=s?s.indexOf(y):y,E=r.map(x);return be(E)?{index:w,coordinate:E+g,value:y,offset:g}:null}).filter(Vn):u&&o?o.map((y,w)=>{var x=r.map(y);return be(x)?{coordinate:x+g,value:y,index:w,offset:g}:null}).filter(Vn):r.ticks?r.ticks(m).map((y,w)=>{var x=r.map(y);return be(x)?{coordinate:x+g,value:y,index:w,offset:g}:null}).filter(Vn):r.domain().map((y,w)=>{var x=r.map(y);return be(x)?{coordinate:x+g,value:s?s[y]:y,index:w,offset:g}:null}).filter(Vn)}},r5=V([Je,Fd,Uu,Jy,VE,Gd,UE,zE,Ht],kae),Dae=(t,e,n,r,i,a,s)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var o=Ai(t,s),{tickCount:l}=e,u=0;return u=s==="angleAxis"&&(r==null?void 0:r.length)>=2?_r(r[0]-r[1])*2*u:u,o&&a?a.map((c,f)=>{var m=n.map(c);return be(m)?{coordinate:m+u,value:c,index:f,offset:u}:null}).filter(Vn):n.ticks?n.ticks(l).map((c,f)=>{var m=n.map(c);return be(m)?{coordinate:m+u,value:c,index:f,offset:u}:null}).filter(Vn):n.domain().map((c,f)=>{var m=n.map(c);return be(m)?{coordinate:m+u,value:i?i[c]:c,index:f,offset:u}:null}).filter(Vn)}},i5=V([Je,Fd,Jy,Gd,UE,zE,Ht],Dae),a5=V(In,Jy,(t,e)=>{if(!(t==null||e==null))return og(og({},t),{},{scale:e})}),Mae=V([In,Uu,ME,Z6],LE);V((t,e,n)=>PE(t,n),Mae,(t,e)=>{if(!(t==null||e==null))return og(og({},t),{},{scale:e})});var Lae=V([Je,Ry,Py],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),s5=t=>t.options.defaultTooltipEventType,o5=t=>t.options.validateTooltipEventTypes;function l5(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function BE(t,e){var n=s5(t),r=o5(t);return l5(e,n,r)}function Vae(t){return ee(e=>BE(e,t))}var u5=(t,e)=>{var n,r=Number(e);if(!(yi(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},Uae=t=>t.tooltip.settings,Ha={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},zae={itemInteraction:{click:Ha,hover:Ha},axisInteraction:{click:Ha,hover:Ha},keyboardInteraction:Ha,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},c5=qn({name:"tooltip",initialState:zae,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Qe()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=zr(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:Qe()},removeTooltipEntrySettings:{reducer(t,e){var n=zr(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:Qe()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:Bae,replaceTooltipEntrySettings:$ae,removeTooltipEntrySettings:Fae,setTooltipSettingsState:qae,setActiveMouseOverItemIndex:Hae,mouseLeaveItem:hhe,mouseLeaveChart:f5,setActiveClickItemIndex:mhe,setMouseOverAxisIndex:d5,setMouseClickAxisIndex:Gae,setSyncInteraction:Jx,setKeyboardInteraction:e_}=c5.actions,Kae=c5.reducer;function L2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L2(Object(n),!0).forEach(function(r){Wae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wae(t,e,n){return(e=Yae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yae(t){var e=Xae(t,"string");return typeof e=="symbol"?e:e+""}function Xae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qae(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Zae(t){return t.index!=null}var h5=(t,e,n,r)=>{if(e==null)return Ha;var i=Qae(t,e,n);if(i==null)return Ha;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(Zae(i)){if(a)return Gh(Gh({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Gh(Gh({},Ha),{},{coordinate:i.coordinate})};function Jae(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function ese(t,e){var n=Jae(t),r=e[0],i=e[1];if(n===void 0)return!1;var a=Math.min(r,i),s=Math.max(r,i);return n>=a&&n<=s}function tse(t,e,n){if(n==null||e==null)return!0;var r=on(t,e);return r==null||!da(n)?!0:ese(r,n)}var $E=(t,e,n,r)=>{var i=t==null?void 0:t.index;if(i==null)return null;var a=Number(i);if(!be(a))return i;var s=0,o=1/0;e.length>0&&(o=e.length-1);var l=Math.max(s,Math.min(a,o)),u=e[l];return u==null||tse(u,n,r)?String(l):null},m5=(t,e,n,r,i,a,s)=>{if(a!=null){var o=s[0],l=o==null?void 0:o.getPosition(a);if(l!=null)return l;var u=i==null?void 0:i[Number(a)];if(u)switch(n){case"horizontal":return{x:u.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:u.coordinate}}}},p5=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=t.itemInteraction.hover.graphicalItemId:i=t.itemInteraction.click.graphicalItemId,i==null&&r!=null){var a=t.tooltipItemPayloads[0];return a!=null?[a]:[]}return t.tooltipItemPayloads.filter(s=>{var o;return((o=s.settings)===null||o===void 0?void 0:o.graphicalItemId)===i})},g5=t=>t.options.tooltipPayloadSearcher,zu=t=>t.tooltip;function V2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function U2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V2(Object(n),!0).forEach(function(r){nse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nse(t,e,n){return(e=rse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rse(t){var e=ise(t,"string");return typeof e=="symbol"?e:e+""}function ise(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ase(t,e){return t??e}var y5=(t,e,n,r,i,a,s)=>{if(!(e==null||a==null)){var{chartData:o,computedData:l,dataStartIndex:u,dataEndIndex:c}=n,f=[];return t.reduce((m,p)=>{var g,{dataDefinedOnItem:_,settings:y}=p,w=ase(_,o),x=Array.isArray(w)?BL(w,u,c):w,E=(g=y==null?void 0:y.dataKey)!==null&&g!==void 0?g:r,N=y==null?void 0:y.nameKey,P;if(r&&Array.isArray(x)&&!Array.isArray(x[0])&&s==="axis"?P=D4(x,r,i):P=a(x,e,l,N),Array.isArray(P))P.forEach(T=>{var A=U2(U2({},y),{},{name:T.name,unit:T.unit,color:void 0,fill:void 0});m.push(WC({tooltipEntrySettings:A,dataKey:T.dataKey,payload:T.payload,value:on(T.payload,T.dataKey),name:T.name}))});else{var k;m.push(WC({tooltipEntrySettings:y,dataKey:E,payload:P,value:on(P,E),name:(k=on(P,N))!==null&&k!==void 0?k:y==null?void 0:y.name}))}return m},f)}},FE=V([Rt,S6,SE],W6),sse=V([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),ose=V([Gt,Lu],A6),Bu=V([sse,Rt,ose],N6,{memoizeOptions:{resultEqualityCheck:Qy}}),lse=V([Bu],t=>t.filter(RE)),use=V([Bu],I6,{memoizeOptions:{resultEqualityCheck:Qy}}),$u=V([use,ba],R6),cse=V([lse,ba,Rt],_6),qE=V([$u,Rt,Bu],P6),v5=V([Rt],kE),fse=V([Rt],t=>t.allowDataOverflow),b5=V([v5,fse],r6),dse=V([Bu],t=>t.filter(RE)),hse=V([cse,dse,Hy,m6],k6),mse=V([hse,ba,Gt,b5],M6),pse=V([Bu],O6),gse=V([$u,Rt,pse,DE,Gt],U6,{memoizeOptions:{resultEqualityCheck:Xy}}),yse=V([z6,Gt,Lu],Vu),vse=V([yse,Gt],F6),bse=V([B6,Gt,Lu],Vu),xse=V([bse,Gt],q6),_se=V([$6,Gt,Lu],Vu),wse=V([_se,Gt],H6),Ese=V([vse,wse,xse],lg),Sse=V([Rt,v5,b5,mse,gse,Ese,Je,Gt],G6),Kd=V([Rt,Je,$u,qE,Hy,Gt,Sse],K6),Ase=V([Kd,Rt,FE],Y6),Tse=V([Rt,Kd,Ase,Gt],X6),x5=t=>{var e=Gt(t),n=Lu(t),r=!1;return Gd(t,e,n,r)},_5=V([Rt,x5],Gy),w5=V([Rt,FE,Tse,_5],LE),Nse=V([Je,qE,Rt,Gt],t5),Cse=V([Je,qE,Rt,Gt],n5),Ose=(t,e,n,r,i,a,s,o)=>{if(e){var{type:l}=e,u=Ai(t,o);if(r){var c=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,f=l==="category"&&r.bandwidth?r.bandwidth()/c:0;return f=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?_r(i[0]-i[1])*2*f:f,u&&s?s.map((m,p)=>{var g=r.map(m);return be(g)?{coordinate:g+f,value:m,index:p,offset:f}:null}).filter(Vn):r.domain().map((m,p)=>{var g=r.map(m);return be(g)?{coordinate:g+f,value:a?a[m]:m,index:p,offset:f}:null}).filter(Vn)}}},wa=V([Je,Rt,FE,w5,x5,Nse,Cse,Gt],Ose),HE=V([s5,o5,Uae],(t,e,n)=>l5(n.shared,t,e)),E5=t=>t.tooltip.settings.trigger,GE=t=>t.tooltip.settings.defaultIndex,Wd=V([zu,HE,E5,GE],h5),Qf=V([Wd,$u,Hd,Kd],$E),S5=V([wa,Qf],u5),Ise=V([Wd],t=>{if(t)return t.dataKey});V([Wd],t=>{if(t)return t.graphicalItemId});var A5=V([zu,HE,E5,GE],p5),Rse=V([ga,ya,Je,un,wa,GE,A5],m5),Pse=V([Wd,Rse],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),jse=V([Wd],t=>{var e;return(e=t==null?void 0:t.active)!==null&&e!==void 0?e:!1}),kse=V([A5,Qf,ba,Hd,S5,g5,HE],y5),Dse=V([kse],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function z2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function B2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z2(Object(n),!0).forEach(function(r){Mse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mse(t,e,n){return(e=Lse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lse(t){var e=Vse(t,"string");return typeof e=="symbol"?e:e+""}function Vse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Use=()=>ee(Rt),zse=()=>{var t=Use(),e=ee(wa),n=ee(w5);return Up(!t||!n?void 0:B2(B2({},t),{},{scale:n}),e)};function $2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$2(Object(n),!0).forEach(function(r){Bse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bse(t,e,n){return(e=$se(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $se(t){var e=Fse(t,"string");return typeof e=="symbol"?e:e+""}function Fse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qse=(t,e,n,r)=>{var i=e.find(a=>a&&a.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},Hse=(t,e,n,r)=>{var i=e.find(u=>u&&u.index===n);if(i){if(t==="centric"){var a=i.coordinate,{radius:s}=r;return tl(tl(tl({},r),an(r.cx,r.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:l}=r;return tl(tl(tl({},r),an(r.cx,r.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Gse(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var T5=(t,e,n,r,i)=>{var a,s=(a=e==null?void 0:e.length)!==null&&a!==void 0?a:0;if(s<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var o=0;o<s;o++){var l,u,c,f,m,p=o>0?(l=n[o-1])===null||l===void 0?void 0:l.coordinate:(u=n[s-1])===null||u===void 0?void 0:u.coordinate,g=(c=n[o])===null||c===void 0?void 0:c.coordinate,_=o>=s-1?(f=n[0])===null||f===void 0?void 0:f.coordinate:(m=n[o+1])===null||m===void 0?void 0:m.coordinate,y=void 0;if(!(p==null||g==null||_==null))if(_r(g-p)!==_r(_-g)){var w=[];if(_r(_-g)===_r(i[1]-i[0])){y=_;var x=g+i[1]-i[0];w[0]=Math.min(x,(x+p)/2),w[1]=Math.max(x,(x+p)/2)}else{y=p;var E=_+i[1]-i[0];w[0]=Math.min(g,(E+g)/2),w[1]=Math.max(g,(E+g)/2)}var N=[Math.min(g,(y+g)/2),Math.max(g,(y+g)/2)];if(t>N[0]&&t<=N[1]||t>=w[0]&&t<=w[1]){var P;return(P=n[o])===null||P===void 0?void 0:P.index}}else{var k=Math.min(p,_),T=Math.max(p,_);if(t>(k+g)/2&&t<=(T+g)/2){var A;return(A=n[o])===null||A===void 0?void 0:A.index}}}else if(e)for(var C=0;C<s;C++){var R=e[C];if(R!=null){var j=e[C+1],I=e[C-1];if(C===0&&j!=null&&t<=(R.coordinate+j.coordinate)/2||C===s-1&&I!=null&&t>(R.coordinate+I.coordinate)/2||C>0&&C<s-1&&I!=null&&j!=null&&t>(R.coordinate+I.coordinate)/2&&t<=(R.coordinate+j.coordinate)/2)return R.index}}return-1},N5=()=>ee(SE),KE=(t,e)=>e,C5=(t,e,n)=>n,WE=(t,e,n,r)=>r,Kse=V(wa,t=>_y(t,e=>e.coordinate)),YE=V([zu,KE,C5,WE],h5),XE=V([YE,$u,Hd,Kd],$E),Wse=(t,e,n)=>{if(e!=null){var r=zu(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},O5=V([zu,KE,C5,WE],p5),ug=V([ga,ya,Je,un,wa,WE,O5],m5),Yse=V([YE,ug],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),I5=V([wa,XE],u5),Xse=V([O5,XE,ba,Hd,I5,g5,KE],y5),Qse=V([YE,XE],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),Zse=(t,e,n,r,i,a,s)=>{if(!(!t||!n||!r||!i)&&Gse(t,s)){var o=RJ(t,e),l=T5(o,a,i,n,r),u=qse(e,i,l,t);return{activeIndex:String(l),activeCoordinate:u}}},Jse=(t,e,n,r,i,a,s)=>{if(!(!t||!r||!i||!a||!n)){var o=Vte(t,n);if(o){var l=PJ(o,e),u=T5(l,s,a,r,i),c=Hse(e,a,u,o);return{activeIndex:String(u),activeCoordinate:c}}}},eoe=(t,e,n,r,i,a,s,o)=>{if(!(!t||!e||!r||!i||!a))return e==="horizontal"||e==="vertical"?Zse(t,e,r,i,a,s,o):Jse(t,e,n,r,i,a,s)},toe=V(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElement:r.element}}),noe=V(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(Nn)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:Die}});function F2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function q2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F2(Object(n),!0).forEach(function(r){roe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function roe(t,e,n){return(e=ioe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ioe(t){var e=aoe(t,"string");return typeof e=="symbol"?e:e+""}function aoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var soe={},ooe={zIndexMap:Object.values(Nn).reduce((t,e)=>q2(q2({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),soe)},loe=new Set(Object.values(Nn));function uoe(t){return loe.has(t)}var R5=qn({name:"zIndex",initialState:ooe,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Qe()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!uoe(n)&&delete t.zIndexMap[n])},prepare:Qe()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n,element:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElement=r:t.zIndexMap[n].element=r:t.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:Qe()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElement=void 0:t.zIndexMap[n].element=void 0)},prepare:Qe()}}}),{registerZIndexPortal:coe,unregisterZIndexPortal:foe,registerZIndexPortalElement:doe,unregisterZIndexPortalElement:hoe}=R5.actions,moe=R5.reducer;function Ea(t){var{zIndex:e,children:n}=t,r=oee(),i=r&&e!==void 0&&e!==0,a=Hn(),s=Ft();b.useLayoutEffect(()=>i?(s(coe({zIndex:e})),()=>{s(foe({zIndex:e}))}):Pu,[s,e,i]);var o=ee(l=>toe(l,e,a));return i?o?g_.createPortal(n,o):null:n}function t_(){return t_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},t_.apply(null,arguments)}function H2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H2(Object(n),!0).forEach(function(r){poe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function poe(t,e,n){return(e=goe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function goe(t){var e=yoe(t,"string");return typeof e=="symbol"?e:e+""}function yoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function voe(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return b.isValidElement(e)?b.cloneElement(e,r):b.createElement(n,r)}function boe(t){var e,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:s,layout:o,cursor:l,tooltipEventType:u,chartName:c}=t,f=n,m=r,p=i;if(!l||!f||c!=="ScatterChart"&&u!=="axis")return null;var g,_,y;if(c==="ScatterChart")g=f,_=Yee,y=Nn.cursorLine;else if(c==="BarChart")g=Xee(o,f,a,s),_=Cte,y=Nn.cursorRectangle;else if(o==="radial"&&M4(f)){var{cx:w,cy:x,radius:E,startAngle:N,endAngle:P}=g3(f);g={cx:w,cy:x,startAngle:N,endAngle:P,innerRadius:E,outerRadius:E},_=$te,y=Nn.cursorLine}else g={points:Fte(o,f,a)},_=Tm,y=Nn.cursorLine;var k=typeof l=="object"&&"className"in l?l.className:void 0,T=Kh(Kh(Kh(Kh({stroke:"#ccc",pointerEvents:"none"},a),g),fy(l)),{},{payload:m,payloadIndex:p,className:We("recharts-tooltip-cursor",k)});return b.createElement(Ea,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:y},b.createElement(voe,{cursor:l,cursorComp:_,cursorProps:T}))}function xoe(t){var e=zse(),n=JL(),r=ju(),i=N5();return e==null||n==null||r==null||i==null?null:b.createElement(boe,t_({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var P5=b.createContext(null),_oe=()=>b.useContext(P5),j5={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,f,m){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new i(c,f||l,m),g=n?n+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],p]:l._events[g].push(p):(l._events[g]=p,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)e.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},o.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,p=f.length,g=new Array(p);m<p;m++)g[m]=f[m].fn;return g},o.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,c,f,m,p,g){var _=n?n+u:u;if(!this._events[_])return!1;var y=this._events[_],w=arguments.length,x,E;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),w){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,c),!0;case 3:return y.fn.call(y.context,c,f),!0;case 4:return y.fn.call(y.context,c,f,m),!0;case 5:return y.fn.call(y.context,c,f,m,p),!0;case 6:return y.fn.call(y.context,c,f,m,p,g),!0}for(E=1,x=new Array(w-1);E<w;E++)x[E-1]=arguments[E];y.fn.apply(y.context,x)}else{var N=y.length,P;for(E=0;E<N;E++)switch(y[E].once&&this.removeListener(u,y[E].fn,void 0,!0),w){case 1:y[E].fn.call(y[E].context);break;case 2:y[E].fn.call(y[E].context,c);break;case 3:y[E].fn.call(y[E].context,c,f);break;case 4:y[E].fn.call(y[E].context,c,f,m);break;default:if(!x)for(P=1,x=new Array(w-1);P<w;P++)x[P-1]=arguments[P];y[E].fn.apply(y[E].context,x)}}return!0},o.prototype.on=function(u,c,f){return a(this,u,c,f,!1)},o.prototype.once=function(u,c,f){return a(this,u,c,f,!0)},o.prototype.removeListener=function(u,c,f,m){var p=n?n+u:u;if(!this._events[p])return this;if(!c)return s(this,p),this;var g=this._events[p];if(g.fn)g.fn===c&&(!m||g.once)&&(!f||g.context===f)&&s(this,p);else{for(var _=0,y=[],w=g.length;_<w;_++)(g[_].fn!==c||m&&!g[_].once||f&&g[_].context!==f)&&y.push(g[_]);y.length?this._events[p]=y.length===1?y[0]:y:s(this,p)}return this},o.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&s(this,c)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(j5);var woe=j5.exports;const Eoe=Ns(woe);var Zf=new Eoe,n_="recharts.syncEvent.tooltip",G2="recharts.syncEvent.brush",Soe=(t,e)=>{if(e&&Array.isArray(t)){var n=Number.parseInt(e,10);if(!yi(n))return t[n]}},Aoe={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},k5=qn({name:"options",initialState:Aoe,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Toe=k5.reducer,{createEventEmitter:Noe}=k5.actions;function Coe(t){return t.tooltip.syncInteraction}var Ooe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},D5=qn({name:"chartData",initialState:Ooe,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:K2,setDataStartEndIndexes:Ioe,setComputedData:phe}=D5.actions,Roe=D5.reducer,Poe=["x","y"];function W2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W2(Object(n),!0).forEach(function(r){joe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function joe(t,e,n){return(e=koe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function koe(t){var e=Doe(t,"string");return typeof e=="symbol"?e:e+""}function Doe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Moe(t,e){if(t==null)return{};var n,r,i=Loe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Loe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Voe(){var t=ee(AE),e=ee(TE),n=Ft(),r=ee(p6),i=ee(wa),a=ju(),s=Dy(),o=ee(l=>l.rootProps.className);b.useEffect(()=>{if(t==null)return Pu;var l=(u,c,f)=>{if(e!==f&&t===u){if(r==="index"){var m;if(s&&c!==null&&c!==void 0&&(m=c.payload)!==null&&m!==void 0&&m.coordinate&&c.payload.sourceViewBox){var p=c.payload.coordinate,{x:g,y:_}=p,y=Moe(p,Poe),{x:w,y:x,width:E,height:N}=c.payload.sourceViewBox,P=nl(nl({},y),{},{x:s.x+(E?(g-w)/E:0)*s.width,y:s.y+(N?(_-x)/N:0)*s.height});n(nl(nl({},c),{},{payload:nl(nl({},c.payload),{},{coordinate:P})}))}else n(c);return}if(i!=null){var k;if(typeof r=="function"){var T={activeTooltipIndex:c.payload.index==null?void 0:Number(c.payload.index),isTooltipActive:c.payload.active,activeIndex:c.payload.index==null?void 0:Number(c.payload.index),activeLabel:c.payload.label,activeDataKey:c.payload.dataKey,activeCoordinate:c.payload.coordinate},A=r(i,T);k=i[A]}else r==="value"&&(k=i.find(q=>String(q.value)===c.payload.label));var{coordinate:C}=c.payload;if(k==null||c.payload.active===!1||C==null||s==null){n(Jx({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:R,y:j}=C,I=Math.min(R,s.x+s.width),D=Math.min(j,s.y+s.height),Z={x:a==="horizontal"?k.coordinate:I,y:a==="horizontal"?D:k.coordinate},oe=Jx({active:c.payload.active,coordinate:Z,dataKey:c.payload.dataKey,index:String(k.index),label:c.payload.label,sourceViewBox:c.payload.sourceViewBox,graphicalItemId:c.payload.graphicalItemId});n(oe)}}};return Zf.on(n_,l),()=>{Zf.off(n_,l)}},[o,n,e,t,r,i,a,s])}function Uoe(){var t=ee(AE),e=ee(TE),n=Ft();b.useEffect(()=>{if(t==null)return Pu;var r=(i,a,s)=>{e!==s&&t===i&&n(Ioe(a))};return Zf.on(G2,r),()=>{Zf.off(G2,r)}},[n,e,t])}function zoe(){var t=Ft();b.useEffect(()=>{t(Noe())},[t]),Voe(),Uoe()}function Boe(t,e,n,r,i,a){var s=ee(p=>Wse(p,t,e)),o=ee(TE),l=ee(AE),u=ee(p6),c=ee(Coe),f=c==null?void 0:c.active,m=Dy();b.useEffect(()=>{if(!f&&l!=null&&o!=null){var p=Jx({active:a,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:m,graphicalItemId:void 0});Zf.emit(n_,l,p,o)}},[f,n,s,i,r,o,l,u,a,m])}function Y2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function X2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y2(Object(n),!0).forEach(function(r){$oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $oe(t,e,n){return(e=Foe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Foe(t){var e=qoe(t,"string");return typeof e=="symbol"?e:e+""}function qoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hoe(t){return t.dataKey}function Goe(t,e){return b.isValidElement(t)?b.cloneElement(t,e):typeof t=="function"?b.createElement(t,e):b.createElement(Cee,e)}var Q2=[],Koe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Woe(t){var e,n,r=cr(t,Koe),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:o,content:l,filterNull:u,isAnimationActive:c,offset:f,payloadUniqBy:m,position:p,reverseDirection:g,useTranslate3d:_,wrapperStyle:y,cursor:w,shared:x,trigger:E,defaultIndex:N,portal:P,axisId:k}=r,T=Ft(),A=typeof N=="number"?String(N):N;b.useEffect(()=>{T(qae({shared:x,trigger:E,axisId:k,active:i,defaultIndex:A}))},[T,x,E,k,i,A]);var C=Dy(),R=c3(),j=Vae(x),{activeIndex:I,isActive:D}=(e=ee(jt=>Qse(jt,j,E,A)))!==null&&e!==void 0?e:{},Z=ee(jt=>Xse(jt,j,E,A)),oe=ee(jt=>I5(jt,j,E,A)),q=ee(jt=>Yse(jt,j,E,A)),K=Z,Y=_oe(),te=(n=i??D)!==null&&n!==void 0?n:!1,[le,Ye]=vZ([K,te]),ft=j==="axis"?oe:void 0;Boe(j,E,q,ft,I,te);var Pt=P??Y;if(Pt==null||C==null||j==null)return null;var je=K??Q2;te||(je=Q2),u&&je.length&&(je=MQ(je.filter(jt=>jt.value!=null&&(jt.hide!==!0||r.includeHidden)),m,Hoe));var cn=je.length>0,Ti=b.createElement(Dee,{allowEscapeViewBox:a,animationDuration:s,animationEasing:o,isAnimationActive:c,active:te,coordinate:q,hasPayload:cn,offset:f,position:p,reverseDirection:g,useTranslate3d:_,viewBox:C,wrapperStyle:y,lastBoundingBox:le,innerRef:Ye,hasPortalFromProps:!!P},Goe(l,X2(X2({},r),{},{payload:je,label:ft,active:te,activeIndex:I,coordinate:q,accessibilityLayer:R})));return b.createElement(b.Fragment,null,g_.createPortal(Ti,Pt),te&&b.createElement(xoe,{cursor:w,tooltipEventType:j,coordinate:q,payload:je,index:I}))}function Yoe(t,e,n){return(e=Xoe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xoe(t){var e=Qoe(t,"string");return typeof e=="symbol"?e:e+""}function Qoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Zoe{constructor(e){Yoe(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function Z2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Joe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z2(Object(n),!0).forEach(function(r){ele(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ele(t,e,n){return(e=tle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tle(t){var e=nle(t,"string");return typeof e=="symbol"?e:e+""}function nle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rle={cacheSize:2e3,enableCache:!0},M5=Joe({},rle),J2=new Zoe(M5.cacheSize),ile={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},eI="recharts_measurement_span";function ale(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",s=e.letterSpacing||"",o=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(o)}var tI=(t,e)=>{try{var n=document.getElementById(eI);n||(n=document.createElement("span"),n.setAttribute("id",eI),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,ile,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},sf=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Vd.isSsr)return{width:0,height:0};if(!M5.enableCache)return tI(e,n);var r=ale(e,n),i=J2.get(r);if(i)return i;var a=tI(e,n);return J2.set(r,a),a},L5;function sle(t,e,n){return(e=ole(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ole(t){var e=lle(t,"string");return typeof e=="symbol"?e:e+""}function lle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,rI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ule=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,cle=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,fle={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},dle=["cm","mm","pt","pc","in","Q","px"];function hle(t){return dle.includes(t)}var Tl="NaN";function mle(t,e){return t*fle[e]}class Qt{static parse(e){var n,[,r,i]=(n=cle.exec(e))!==null&&n!==void 0?n:[];return r==null?Qt.NaN:new Qt(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,yi(e)&&(this.unit=""),n!==""&&!ule.test(n)&&(this.num=NaN,this.unit=""),hle(n)&&(this.num=mle(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Qt(NaN,""):new Qt(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Qt(NaN,""):new Qt(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Qt(NaN,""):new Qt(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Qt(NaN,""):new Qt(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return yi(this.num)}}L5=Qt;sle(Qt,"NaN",new L5(NaN,""));function V5(t){if(t==null||t.includes(Tl))return Tl;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,a]=(n=nI.exec(e))!==null&&n!==void 0?n:[],s=Qt.parse(r??""),o=Qt.parse(a??""),l=i==="*"?s.multiply(o):s.divide(o);if(l.isNaN())return Tl;e=e.replace(nI,l.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var u,[,c,f,m]=(u=rI.exec(e))!==null&&u!==void 0?u:[],p=Qt.parse(c??""),g=Qt.parse(m??""),_=f==="+"?p.add(g):p.subtract(g);if(_.isNaN())return Tl;e=e.replace(rI,_.toString())}return e}var iI=/\(([^()]*)\)/;function ple(t){for(var e=t,n;(n=iI.exec(e))!=null;){var[,r]=n;e=e.replace(iI,V5(r))}return e}function gle(t){var e=t.replace(/\s+/g,"");return e=ple(e),e=V5(e),e}function yle(t){try{return gle(t)}catch{return Tl}}function V0(t){var e=yle(t.slice(5,-1));return e===Tl?"":e}var vle=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],ble=["dx","dy","angle","className","breakAll"];function r_(){return r_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r_.apply(null,arguments)}function aI(t,e){if(t==null)return{};var n,r,i=xle(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function xle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var U5=/[ \f\n\r\t\v\u2028\u2029]+/,z5=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];vn(e)||(n?i=e.toString().split(""):i=e.toString().split(U5));var a=i.map(o=>({word:o,width:sf(o,r).width})),s=n?0:sf("",r).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function _le(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var B5=(t,e,n,r)=>t.reduce((i,a)=>{var{word:s,width:o}=a,l=i[i.length-1];if(l&&o!=null&&(e==null||r||l.width+o+n<Number(e)))l.words.push(s),l.width+=o+n;else{var u={words:[s],width:o};i.push(u)}return i},[]),$5=t=>t.reduce((e,n)=>e.width>n.width?e:n),wle="",sI=(t,e,n,r,i,a,s,o)=>{var l=t.slice(0,e),u=z5({breakAll:n,style:r,children:l+wle});if(!u)return[!1,[]];var c=B5(u.wordsWithComputedWidth,a,s,o),f=c.length>i||$5(c).width>Number(a);return[f,c]},Ele=(t,e,n,r,i)=>{var{maxLines:a,children:s,style:o,breakAll:l}=t,u=Q(a),c=String(s),f=B5(e,r,n,i);if(!u||i)return f;var m=f.length>a||$5(f).width>Number(r);if(!m)return f;for(var p=0,g=c.length-1,_=0,y;p<=g&&_<=c.length-1;){var w=Math.floor((p+g)/2),x=w-1,[E,N]=sI(c,x,l,o,a,r,n,i),[P]=sI(c,w,l,o,a,r,n,i);if(!E&&!P&&(p=w+1),E&&P&&(g=w-1),!E&&P){y=N;break}_++}return y||f},oI=t=>{var e=vn(t)?[]:t.toString().split(U5);return[{words:e,width:void 0}]},Sle=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:s}=t;if((e||n)&&!Vd.isSsr){var o,l,u=z5({breakAll:a,children:r,style:i});if(u){var{wordsWithComputedWidth:c,spaceWidth:f}=u;o=c,l=f}else return oI(r);return Ele({breakAll:a,children:r,maxLines:s,style:i},o,l,e,!!n)}return oI(r)},F5="#808080",Ale={angle:0,breakAll:!1,capHeight:"0.71em",fill:F5,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},QE=b.forwardRef((t,e)=>{var n=cr(t,Ale),{x:r,y:i,lineHeight:a,capHeight:s,fill:o,scaleToFit:l,textAnchor:u,verticalAnchor:c}=n,f=aI(n,vle),m=b.useMemo(()=>Sle({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:l,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,l,f.style,f.width]),{dx:p,dy:g,angle:_,className:y,breakAll:w}=f,x=aI(f,ble);if(!vi(r)||!vi(i)||m.length===0)return null;var E=Number(r)+(Q(p)?p:0),N=Number(i)+(Q(g)?g:0);if(!be(E)||!be(N))return null;var P;switch(c){case"start":P=V0("calc(".concat(s,")"));break;case"middle":P=V0("calc(".concat((m.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:P=V0("calc(".concat(m.length-1," * -").concat(a,")"));break}var k=[],T=m[0];if(l&&T!=null){var A=T.width,{width:C}=f;k.push("scale(".concat(Q(C)&&Q(A)?C/A:1,")"))}return _&&k.push("rotate(".concat(_,", ").concat(E,", ").concat(N,")")),k.length&&(x.transform=k.join(" ")),b.createElement("text",r_({},Nr(x),{ref:e,x:E,y:N,className:We("recharts-text",y),textAnchor:u,fill:o.includes("url")?F5:o}),m.map((R,j)=>{var I=R.words.join(w?"":" ");return b.createElement("tspan",{x:E,dy:j===0?P:a,key:"".concat(I,"-").concat(j)},I)}))});QE.displayName="Text";function lI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lI(Object(n),!0).forEach(function(r){Tle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tle(t,e,n){return(e=Nle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nle(t){var e=Cle(t,"string");return typeof e=="symbol"?e:e+""}function Cle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ole=t=>{var{viewBox:e,position:n,offset:r=0,parentViewBox:i}=t,{x:a,y:s,height:o,upperWidth:l,lowerWidth:u}=Y1(e),c=a,f=a+(l-u)/2,m=(c+f)/2,p=(l+u)/2,g=c+l/2,_=o>=0?1:-1,y=_*r,w=_>0?"end":"start",x=_>0?"start":"end",E=l>=0?1:-1,N=E*r,P=E>0?"end":"start",k=E>0?"start":"end",T=i;if(n==="top"){var A={x:c+l/2,y:s-y,horizontalAnchor:"middle",verticalAnchor:w};return T&&(A.height=Math.max(s-T.y,0),A.width=l),A}if(n==="bottom"){var C={x:f+u/2,y:s+o+y,horizontalAnchor:"middle",verticalAnchor:x};return T&&(C.height=Math.max(T.y+T.height-(s+o),0),C.width=u),C}if(n==="left"){var R={x:m-N,y:s+o/2,horizontalAnchor:P,verticalAnchor:"middle"};return T&&(R.width=Math.max(R.x-T.x,0),R.height=o),R}if(n==="right"){var j={x:m+p+N,y:s+o/2,horizontalAnchor:k,verticalAnchor:"middle"};return T&&(j.width=Math.max(T.x+T.width-j.x,0),j.height=o),j}var I=T?{width:p,height:o}:{};return n==="insideLeft"?Qr({x:m+N,y:s+o/2,horizontalAnchor:k,verticalAnchor:"middle"},I):n==="insideRight"?Qr({x:m+p-N,y:s+o/2,horizontalAnchor:P,verticalAnchor:"middle"},I):n==="insideTop"?Qr({x:c+l/2,y:s+y,horizontalAnchor:"middle",verticalAnchor:x},I):n==="insideBottom"?Qr({x:f+u/2,y:s+o-y,horizontalAnchor:"middle",verticalAnchor:w},I):n==="insideTopLeft"?Qr({x:c+N,y:s+y,horizontalAnchor:k,verticalAnchor:x},I):n==="insideTopRight"?Qr({x:c+l-N,y:s+y,horizontalAnchor:P,verticalAnchor:x},I):n==="insideBottomLeft"?Qr({x:f+N,y:s+o-y,horizontalAnchor:k,verticalAnchor:w},I):n==="insideBottomRight"?Qr({x:f+u-N,y:s+o-y,horizontalAnchor:P,verticalAnchor:w},I):n&&typeof n=="object"&&(Q(n.x)||Oo(n.x))&&(Q(n.y)||Oo(n.y))?Qr({x:a+Ts(n.x,p),y:s+Ts(n.y,o),horizontalAnchor:"end",verticalAnchor:"end"},I):Qr({x:g,y:s+o/2,horizontalAnchor:"middle",verticalAnchor:"middle"},I)},Ile=["labelRef"],Rle=["content"];function uI(t,e){if(t==null)return{};var n,r,i=Ple(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ple(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function cI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cI(Object(n),!0).forEach(function(r){jle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jle(t,e,n){return(e=kle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kle(t){var e=Dle(t,"string");return typeof e=="symbol"?e:e+""}function Dle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Di(){return Di=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Di.apply(null,arguments)}var q5=b.createContext(null),Mle=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:s,children:o}=t,l=b.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:s}),[e,n,r,i,a,s]);return b.createElement(q5.Provider,{value:l},o)},H5=()=>{var t=b.useContext(q5),e=Dy();return t||(e?Y1(e):void 0)},Lle=b.createContext(null),Vle=()=>{var t=b.useContext(Lle),e=ee(x6);return t||e},Ule=t=>{var{value:e,formatter:n}=t,r=vn(t.children)?e:t.children;return typeof n=="function"?n(r):r},ZE=t=>t!=null&&typeof t=="function",zle=(t,e)=>{var n=_r(e-t),r=Math.min(Math.abs(e-t),360);return n*r},Ble=(t,e,n,r,i)=>{var{offset:a,className:s}=t,{cx:o,cy:l,innerRadius:u,outerRadius:c,startAngle:f,endAngle:m,clockWise:p}=i,g=(u+c)/2,_=zle(f,m),y=_>=0?1:-1,w,x;switch(e){case"insideStart":w=f+y*a,x=p;break;case"insideEnd":w=m-y*a,x=!p;break;case"end":w=m+y*a,x=p;break;default:throw new Error("Unsupported position ".concat(e))}x=_<=0?x:!x;var E=an(o,l,g,w),N=an(o,l,g,w+(x?1:-1)*359),P="M".concat(E.x,",").concat(E.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(x?0:1,`,
    `).concat(N.x,",").concat(N.y),k=vn(t.id)?Vf("recharts-radial-line-"):t.id;return b.createElement("text",Di({},r,{dominantBaseline:"central",className:We("recharts-radial-bar-label",s)}),b.createElement("defs",null,b.createElement("path",{id:k,d:P})),b.createElement("textPath",{xlinkHref:"#".concat(k)},n))},$le=(t,e,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:o,endAngle:l}=t,u=(o+l)/2;if(n==="outside"){var{x:c,y:f}=an(r,i,s+e,u);return{x:c,y:f,textAnchor:c>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var m=(a+s)/2,{x:p,y:g}=an(r,i,m,u);return{x:p,y:g,textAnchor:"middle",verticalAnchor:"middle"}},Cm=t=>t!=null&&"cx"in t&&Q(t.cx),Fle={angle:0,offset:5,zIndex:Nn.label,position:"middle",textBreakAll:!1};function qle(t){if(!Cm(t))return t;var{cx:e,cy:n,outerRadius:r}=t,i=r*2;return{x:e-r,y:n-r,width:i,upperWidth:i,lowerWidth:i,height:i}}function Da(t){var e=cr(t,Fle),{viewBox:n,parentViewBox:r,position:i,value:a,children:s,content:o,className:l="",textBreakAll:u,labelRef:c}=e,f=Vle(),m=H5(),p=i==="center"?m:f??m,g,_,y;n==null?g=p:Cm(n)?g=n:g=Y1(n);var w=qle(g);if(!g||vn(a)&&vn(s)&&!b.isValidElement(o)&&typeof o!="function")return null;var x=Lc(Lc({},e),{},{viewBox:g});if(b.isValidElement(o)){var{labelRef:E}=x,N=uI(x,Ile);return b.cloneElement(o,N)}if(typeof o=="function"){var{content:P}=x,k=uI(x,Rle);if(_=b.createElement(o,k),b.isValidElement(_))return _}else _=Ule(e);var T=Nr(e);if(Cm(g)){if(i==="insideStart"||i==="insideEnd"||i==="end")return Ble(e,i,_,T,g);y=$le(g,e.offset,e.position)}else{if(!w)return null;var A=Ole({viewBox:w,position:i,offset:e.offset,parentViewBox:Cm(r)?void 0:r});y=Lc(Lc({x:A.x,y:A.y,textAnchor:A.horizontalAnchor,verticalAnchor:A.verticalAnchor},A.width!==void 0?{width:A.width}:{}),A.height!==void 0?{height:A.height}:{})}return b.createElement(Ea,{zIndex:e.zIndex},b.createElement(QE,Di({ref:c,className:We("recharts-label",l)},T,y,{textAnchor:_le(T.textAnchor)?T.textAnchor:y.textAnchor,breakAll:u}),_))}Da.displayName="Label";var Hle=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?b.createElement(Da,Di({key:"label-implicit"},r)):vi(t)?b.createElement(Da,Di({key:"label-implicit",value:t},r)):b.isValidElement(t)?t.type===Da?b.cloneElement(t,Lc({key:"label-implicit"},r)):b.createElement(Da,Di({key:"label-implicit",content:t},r)):ZE(t)?b.createElement(Da,Di({key:"label-implicit",content:t},r)):t&&typeof t=="object"?b.createElement(Da,Di({},t,{key:"label-implicit"},r)):null};function Gle(t){var{label:e,labelRef:n}=t,r=H5();return Hle(e,r,n)||null}var G5={},K5={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(K5);var W5={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(W5);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=K5,n=W5,r=vy;function i(a){if(r.isArrayLike(a))return e.last(n.toArray(a))}t.last=i})(G5);var Kle=G5.last;const Wle=Ns(Kle);var Yle=["valueAccessor"],Xle=["dataKey","clockWise","id","textBreakAll","zIndex"];function cg(){return cg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cg.apply(null,arguments)}function fI(t,e){if(t==null)return{};var n,r,i=Qle(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Qle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Zle=t=>Array.isArray(t.value)?Wle(t.value):t.value,Y5=b.createContext(void 0),Jle=Y5.Provider,X5=b.createContext(void 0);X5.Provider;function eue(){return b.useContext(Y5)}function tue(){return b.useContext(X5)}function Om(t){var{valueAccessor:e=Zle}=t,n=fI(t,Yle),{dataKey:r,clockWise:i,id:a,textBreakAll:s,zIndex:o}=n,l=fI(n,Xle),u=eue(),c=tue(),f=u||c;return!f||!f.length?null:b.createElement(Ea,{zIndex:o??Nn.label},b.createElement(gi,{className:"recharts-label-list"},f.map((m,p)=>{var g,_=vn(r)?e(m,p):on(m.payload,r),y=vn(a)?{}:{id:"".concat(a,"-").concat(p)};return b.createElement(Da,cg({key:"label-".concat(p)},Nr(m),l,y,{fill:(g=n.fill)!==null&&g!==void 0?g:m.fill,parentViewBox:m.parentViewBox,value:_,textBreakAll:s,viewBox:m.viewBox,index:p,zIndex:0}))})))}Om.displayName="LabelList";function nue(t){var{label:e}=t;return e?e===!0?b.createElement(Om,{key:"labelList-implicit"}):b.isValidElement(e)||ZE(e)?b.createElement(Om,{key:"labelList-implicit",content:e}):typeof e=="object"?b.createElement(Om,cg({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function i_(){return i_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i_.apply(null,arguments)}var Q5=t=>{var{cx:e,cy:n,r,className:i}=t,a=We("recharts-dot",i);return Q(e)&&Q(n)&&Q(r)?b.createElement("circle",i_({},qr(t),I1(t),{className:a,cx:e,cy:n,r})):null},rue={radiusAxis:{},angleAxis:{}},Z5=qn({name:"polarAxis",initialState:rue,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:ghe,removeRadiusAxis:yhe,addAngleAxis:vhe,removeAngleAxis:bhe}=Z5.actions,iue=Z5.reducer;function aue(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var J5=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0;function sue(t){var{tooltipEntrySettings:e}=t,n=Ft(),r=Hn(),i=b.useRef(null);return b.useLayoutEffect(()=>{r||(i.current===null?n(Bae(e)):i.current!==e&&n($ae({prev:i.current,next:e})),i.current=e)},[e,n,r]),b.useLayoutEffect(()=>()=>{i.current&&(n(Fae(i.current)),i.current=null)},[n]),null}function oue(t){var{legendPayload:e}=t,n=Ft(),r=Hn(),i=b.useRef(null);return b.useLayoutEffect(()=>{r||(i.current===null?n(xee(e)):i.current!==e&&n(_ee({prev:i.current,next:e})),i.current=e)},[n,r,e]),b.useLayoutEffect(()=>()=>{i.current&&(n(wee(i.current)),i.current=null)},[n]),null}var U0,lue=()=>{var[t]=b.useState(()=>Vf("uid-"));return t},uue=(U0=AU.useId)!==null&&U0!==void 0?U0:lue;function cue(t,e){var n=uue();return e||(t?"".concat(t,"-").concat(n):n)}var fue=b.createContext(void 0),due=t=>{var{id:e,type:n,children:r}=t,i=cue("recharts-".concat(n),e);return b.createElement(fue.Provider,{value:i},r(i))},hue={cartesianItems:[],polarItems:[]},eV=qn({name:"graphicalItems",initialState:hue,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Qe()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=zr(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:Qe()},removeCartesianGraphicalItem:{reducer(t,e){var n=zr(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:Qe()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Qe()},removePolarGraphicalItem:{reducer(t,e){var n=zr(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:Qe()}}}),{addCartesianGraphicalItem:mue,replaceCartesianGraphicalItem:pue,removeCartesianGraphicalItem:gue,addPolarGraphicalItem:xhe,removePolarGraphicalItem:_he}=eV.actions,yue=eV.reducer,vue=t=>{var e=Ft(),n=b.useRef(null);return b.useLayoutEffect(()=>{n.current===null?e(mue(t)):n.current!==t&&e(pue({prev:n.current,next:t})),n.current=t},[e,t]),b.useLayoutEffect(()=>()=>{n.current&&(e(gue(n.current)),n.current=null)},[e]),null},bue=b.memo(vue),xue=["points"];function dI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function z0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dI(Object(n),!0).forEach(function(r){_ue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _ue(t,e,n){return(e=wue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wue(t){var e=Eue(t,"string");return typeof e=="symbol"?e:e+""}function Eue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fg(){return fg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fg.apply(null,arguments)}function Sue(t,e){if(t==null)return{};var n,r,i=Aue(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Aue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Tue(t){var{option:e,dotProps:n,className:r}=t;if(b.isValidElement(e))return b.cloneElement(e,n);if(typeof e=="function")return e(n);var i=We(r,typeof e!="boolean"?e.className:""),a=n??{},{points:s}=a,o=Sue(a,xue);return b.createElement(Q5,fg({},o,{className:i}))}function Nue(t,e){return t==null?!1:e?!0:t.length===1}function Cue(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:s,needClip:o,clipPathId:l,zIndex:u=Nn.scatter}=t;if(!Nue(e,n))return null;var c=J5(n),f=QX(n),m=e.map((g,_)=>{var y,w,x=z0(z0(z0({r:3},s),f),{},{index:_,cx:(y=g.x)!==null&&y!==void 0?y:void 0,cy:(w=g.y)!==null&&w!==void 0?w:void 0,dataKey:a,value:g.value,payload:g.payload,points:e});return b.createElement(Tue,{key:"dot-".concat(_),option:n,dotProps:x,className:i})}),p={};return o&&l!=null&&(p.clipPath="url(#clipPath-".concat(c?"":"dots-").concat(l,")")),b.createElement(Ea,{zIndex:u},b.createElement(gi,fg({className:r},p),m))}function hI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hI(Object(n),!0).forEach(function(r){Oue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oue(t,e,n){return(e=Iue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Iue(t){var e=Rue(t,"string");return typeof e=="symbol"?e:e+""}function Rue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tV=0,Pue={xAxis:{},yAxis:{},zAxis:{}},nV=qn({name:"cartesianAxis",initialState:Pue,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Qe()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:Qe()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Qe()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Qe()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:Qe()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Qe()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Qe()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:Qe()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Qe()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var a,s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==i.width&&Math.abs(r-((a=s[0])!==null&&a!==void 0?a:0))<=1)return;var o=[...s,r].slice(-3);t.yAxis[n]=mI(mI({},i),{},{width:r,widthHistory:o})}}}}),{addXAxis:jue,replaceXAxis:kue,removeXAxis:Due,addYAxis:Mue,replaceYAxis:Lue,removeYAxis:Vue,addZAxis:whe,replaceZAxis:Ehe,removeZAxis:She,updateYAxisWidth:Uue}=nV.actions,zue=nV.reducer,Bue=V([un],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),$ue=V([Bue,ga,ya],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),JE=()=>ee($ue),Fue=()=>ee(Dse);function pI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function B0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pI(Object(n),!0).forEach(function(r){que(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function que(t,e,n){return(e=Hue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hue(t){var e=Gue(t,"string");return typeof e=="symbol"?e:e+""}function Gue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kue=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:s}=t;if(i===!1||e.x==null||e.y==null)return null;var o={index:n,dataKey:a,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},l=B0(B0(B0({},o),fy(i)),I1(i)),u;return b.isValidElement(i)?u=b.cloneElement(i,l):typeof i=="function"?u=i(l):u=b.createElement(Q5,l),b.createElement(gi,{className:"recharts-active-dot",clipPath:s},u)};function gI(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:s=Nn.activeDot}=t,o=ee(Qf),l=Fue();if(e==null||l==null)return null;var u=e.find(c=>l.includes(c.payload));return vn(u)?null:b.createElement(Ea,{zIndex:s},b.createElement(Kue,{point:u,childIndex:Number(o),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var Wue=t=>{var{chartData:e}=t,n=Ft(),r=Hn();return b.useEffect(()=>r?()=>{}:(n(K2(e)),()=>{n(K2(void 0))}),[e,n,r]),null},yI={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},rV=qn({name:"brush",initialState:yI,reducers:{setBrushSettings(t,e){return e.payload==null?yI:e.payload}}}),{setBrushSettings:Ahe}=rV.actions,Yue=rV.reducer;function Xue(t){return(t%180+180)%180}var Que=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Xue(i),s=a*Math.PI/180,o=Math.atan(r/n),l=s>o&&s<Math.PI-o?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},Zue={dots:[],areas:[],lines:[]},iV=qn({name:"referenceElements",initialState:Zue,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=zr(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=zr(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=zr(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:The,removeDot:Nhe,addArea:Che,removeArea:Ohe,addLine:Ihe,removeLine:Rhe}=iV.actions,Jue=iV.reducer,ece=b.createContext(void 0),tce=t=>{var{children:e}=t,[n]=b.useState("".concat(Vf("recharts"),"-clip")),r=JE();if(r==null)return null;var{x:i,y:a,width:s,height:o}=r;return b.createElement(ece.Provider,{value:n},b.createElement("defs",null,b.createElement("clipPath",{id:n},b.createElement("rect",{x:i,y:a,height:o,width:s}))),e)};function aV(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e){var i=t[r];i!==void 0&&n.push(i)}return n}function nce(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Que(r,n)}function rce(t,e,n){var r=n==="width",{x:i,y:a,width:s,height:o}=t;return e===1?{start:r?i:a,end:r?i+s:a+o}:{start:r?i+s:a+o,end:r?i:a}}function Jf(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function ice(t,e){return aV(t,e+1)}function ace(t,e,n,r,i){for(var a=(r||[]).slice(),{start:s,end:o}=e,l=0,u=1,c=s,f=function(){var g=r==null?void 0:r[l];if(g===void 0)return{v:aV(r,u)};var _=l,y,w=()=>(y===void 0&&(y=n(g,_)),y),x=g.coordinate,E=l===0||Jf(t,x,w,c,o);E||(l=0,c=s,u+=1),E&&(c=x+t*(w()/2+i),l+=u)},m;u<=a.length;)if(m=f(),m)return m.v;return[]}function sce(t,e,n,r,i){var a=(r||[]).slice(),s=a.length;if(s===0)return[];for(var{start:o,end:l}=e,u=1;u<=s;u++){for(var c=(s-1)%u,f=o,m=!0,p=function(){var N=r[_];if(N==null)return 0;var P=_,k,T=()=>(k===void 0&&(k=n(N,P)),k),A=N.coordinate,C=_===c||Jf(t,A,T,f,l);if(!C)return m=!1,1;C&&(f=A+t*(T()/2+i))},g,_=c;_<s&&(g=p(),!(g!==0&&g===1));_+=u);if(m){for(var y=[],w=c;w<s;w+=u){var x=r[w];x!=null&&y.push(x)}return y}}return[]}function vI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vI(Object(n),!0).forEach(function(r){oce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oce(t,e,n){return(e=lce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lce(t){var e=uce(t,"string");return typeof e=="symbol"?e:e+""}function uce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cce(t,e,n,r,i){for(var a=(r||[]).slice(),s=a.length,{start:o}=e,{end:l}=e,u=function(m){var p=a[m];if(p==null)return 1;var g=p,_,y=()=>(_===void 0&&(_=n(p,m)),_);if(m===s-1){var w=t*(g.coordinate+t*y()/2-l);a[m]=g=hn(hn({},g),{},{tickCoord:w>0?g.coordinate-w*t:g.coordinate})}else a[m]=g=hn(hn({},g),{},{tickCoord:g.coordinate});if(g.tickCoord!=null){var x=Jf(t,g.tickCoord,y,o,l);x&&(l=g.tickCoord-t*(y()/2+i),a[m]=hn(hn({},g),{},{isShow:!0}))}},c=s-1;c>=0;c--)u(c);return a}function fce(t,e,n,r,i,a){var s=(r||[]).slice(),o=s.length,{start:l,end:u}=e;if(a){var c=r[o-1];if(c!=null){var f=n(c,o-1),m=t*(c.coordinate+t*f/2-u);if(s[o-1]=c=hn(hn({},c),{},{tickCoord:m>0?c.coordinate-m*t:c.coordinate}),c.tickCoord!=null){var p=Jf(t,c.tickCoord,()=>f,l,u);p&&(u=c.tickCoord-t*(f/2+i),s[o-1]=hn(hn({},c),{},{isShow:!0}))}}}for(var g=a?o-1:o,_=function(x){var E=s[x];if(E==null)return 1;var N=E,P,k=()=>(P===void 0&&(P=n(E,x)),P);if(x===0){var T=t*(N.coordinate-t*k()/2-l);s[x]=N=hn(hn({},N),{},{tickCoord:T<0?N.coordinate-T*t:N.coordinate})}else s[x]=N=hn(hn({},N),{},{tickCoord:N.coordinate});if(N.tickCoord!=null){var A=Jf(t,N.tickCoord,k,l,u);A&&(l=N.tickCoord+t*(k()/2+i),s[x]=hn(hn({},N),{},{isShow:!0}))}},y=0;y<g;y++)_(y);return s}function eS(t,e,n){var{tick:r,ticks:i,viewBox:a,minTickGap:s,orientation:o,interval:l,tickFormatter:u,unit:c,angle:f}=t;if(!i||!i.length||!r)return[];if(Q(l)||Vd.isSsr){var m;return(m=ice(i,Q(l)?l:0))!==null&&m!==void 0?m:[]}var p=[],g=o==="top"||o==="bottom"?"width":"height",_=c&&g==="width"?sf(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},y=(P,k)=>{var T=typeof u=="function"?u(P.value,k):P.value;return g==="width"?nce(sf(T,{fontSize:e,letterSpacing:n}),_,f):sf(T,{fontSize:e,letterSpacing:n})[g]},w=i[0],x=i[1],E=i.length>=2&&w!=null&&x!=null?_r(x.coordinate-w.coordinate):1,N=rce(a,E,g);return l==="equidistantPreserveStart"?ace(E,N,y,i,s):l==="equidistantPreserveEnd"?sce(E,N,y,i,s):(l==="preserveStart"||l==="preserveStartEnd"?p=fce(E,N,y,i,s,l==="preserveStartEnd"):p=cce(E,N,y,i,s),p.filter(P=>P.isShow))}var dce=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=t,s=0;if(e){Array.from(e).forEach(c=>{if(c){var f=c.getBoundingClientRect();f.width>s&&(s=f.width)}});var o=n?n.getBoundingClientRect().width:0,l=i+a,u=s+l+o+(n?r:0);return Math.round(u)}return 0},hce=["axisLine","width","height","className","hide","ticks","axisType"];function mce(t,e){if(t==null)return{};var n,r,i=pce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function pce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ko(){return ko=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ko.apply(null,arguments)}function bI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ot(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bI(Object(n),!0).forEach(function(r){gce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gce(t,e,n){return(e=yce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yce(t){var e=vce(t,"string");return typeof e=="symbol"?e:e+""}function vce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xi={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Nn.axis};function bce(t){var{x:e,y:n,width:r,height:i,orientation:a,mirror:s,axisLine:o,otherSvgProps:l}=t;if(!o)return null;var u=ot(ot(ot({},l),qr(o)),{},{fill:"none"});if(a==="top"||a==="bottom"){var c=+(a==="top"&&!s||a==="bottom"&&s);u=ot(ot({},u),{},{x1:e,y1:n+c*i,x2:e+r,y2:n+c*i})}else{var f=+(a==="left"&&!s||a==="right"&&s);u=ot(ot({},u),{},{x1:e+f*r,y1:n,x2:e+f*r,y2:n+i})}return b.createElement("line",ko({},u,{className:We("recharts-cartesian-axis-line",yy(o,"className"))}))}function xce(t,e,n,r,i,a,s,o,l){var u,c,f,m,p,g,_=o?-1:1,y=t.tickSize||s,w=Q(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":u=c=t.coordinate,m=n+ +!o*i,f=m-_*y,g=f-_*l,p=w;break;case"left":f=m=t.coordinate,c=e+ +!o*r,u=c-_*y,p=u-_*l,g=w;break;case"right":f=m=t.coordinate,c=e+ +o*r,u=c+_*y,p=u+_*l,g=w;break;default:u=c=t.coordinate,m=n+ +o*i,f=m+_*y,g=f+_*l,p=w;break}return{line:{x1:u,y1:f,x2:c,y2:m},tick:{x:p,y:g}}}function _ce(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function wce(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function Ece(t){var{option:e,tickProps:n,value:r}=t,i,a=We(n.className,"recharts-cartesian-axis-tick-value");if(b.isValidElement(e))i=b.cloneElement(e,ot(ot({},n),{},{className:a}));else if(typeof e=="function")i=e(ot(ot({},n),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(s=We(s,aue(e))),i=b.createElement(QE,ko({},n,{className:s}),r)}return i}var Sce=b.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:s,unit:o,padding:l,tickTextProps:u,orientation:c,mirror:f,x:m,y:p,width:g,height:_,tickSize:y,tickMargin:w,fontSize:x,letterSpacing:E,getTicksConfig:N,events:P,axisType:k}=t,T=eS(ot(ot({},N),{},{ticks:n}),x,E),A=_ce(c,f),C=wce(c,f),R=qr(N),j=fy(r),I={};typeof i=="object"&&(I=i);var D=ot(ot({},R),{},{fill:"none"},I),Z=T.map(K=>ot({entry:K},xce(K,m,p,g,_,c,y,f,w))),oe=Z.map(K=>{var{entry:Y,line:te}=K;return b.createElement(gi,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(Y.value,"-").concat(Y.coordinate,"-").concat(Y.tickCoord)},i&&b.createElement("line",ko({},D,te,{className:We("recharts-cartesian-axis-tick-line",yy(i,"className"))})))}),q=Z.map((K,Y)=>{var te,le,{entry:Ye,tick:ft}=K,Pt=ot(ot(ot(ot({verticalAnchor:C},R),{},{textAnchor:A,stroke:"none",fill:a},ft),{},{index:Y,payload:Ye,visibleTicksCount:T.length,tickFormatter:s,padding:l},u),{},{angle:(te=(le=u==null?void 0:u.angle)!==null&&le!==void 0?le:R.angle)!==null&&te!==void 0?te:0}),je=ot(ot({},Pt),j);return b.createElement(gi,ko({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(Ye.value,"-").concat(Ye.coordinate,"-").concat(Ye.tickCoord)},IQ(P,Ye,Y)),r&&b.createElement(Ece,{option:r,tickProps:je,value:"".concat(typeof s=="function"?s(Ye.value,Y):Ye.value).concat(o||"")}))});return b.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(k,"-ticks")},q.length>0&&b.createElement(Ea,{zIndex:Nn.label},b.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(k,"-tick-labels"),ref:e},q)),oe.length>0&&b.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(k,"-tick-lines")},oe))}),Ace=b.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:a,hide:s,ticks:o,axisType:l}=t,u=mce(t,hce),[c,f]=b.useState(""),[m,p]=b.useState(""),g=b.useRef(null);b.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var y;return dce({ticks:g.current,label:(y=t.labelRef)===null||y===void 0?void 0:y.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var _=b.useCallback(y=>{if(y){var w=y.getElementsByClassName("recharts-cartesian-axis-tick-value");g.current=w;var x=w[0];if(x){var E=window.getComputedStyle(x),N=E.fontSize,P=E.letterSpacing;(N!==c||P!==m)&&(f(N),p(P))}}},[c,m]);return s||r!=null&&r<=0||i!=null&&i<=0?null:b.createElement(Ea,{zIndex:t.zIndex},b.createElement(gi,{className:We("recharts-cartesian-axis",a)},b.createElement(bce,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:qr(t)}),b.createElement(Sce,{ref:_,axisType:l,events:u,fontSize:c,getTicksConfig:t,height:t.height,letterSpacing:m,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:o,unit:t.unit,width:t.width,x:t.x,y:t.y}),b.createElement(Mle,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},b.createElement(Gle,{label:t.label,labelRef:t.labelRef}),t.children)))}),tS=b.forwardRef((t,e)=>{var n=cr(t,Xi);return b.createElement(Ace,ko({},n,{ref:e}))});tS.displayName="CartesianAxis";var Tce=["x1","y1","x2","y2","key"],Nce=["offset"],Cce=["xAxisId","yAxisId"],Oce=["xAxisId","yAxisId"];function xI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xI(Object(n),!0).forEach(function(r){Ice(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ice(t,e,n){return(e=Rce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rce(t){var e=Pce(t,"string");return typeof e=="symbol"?e:e+""}function Pce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ro(){return ro=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ro.apply(null,arguments)}function dg(t,e){if(t==null)return{};var n,r,i=jce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var kce=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:s,ry:o}=t;return b.createElement("rect",{x:r,y:i,ry:o,width:a,height:s,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function sV(t){var{option:e,lineItemProps:n}=t,r;if(b.isValidElement(e))r=b.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:a,y1:s,x2:o,y2:l,key:u}=n,c=dg(n,Tce),f=(i=qr(c))!==null&&i!==void 0?i:{},{offset:m}=f,p=dg(f,Nce);r=b.createElement("line",ro({},p,{x1:a,y1:s,x2:o,y2:l,fill:"none",key:u}))}return r}function Dce(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=t,o=dg(t,Cce),l=i.map((u,c)=>{var f=gn(gn({},o),{},{x1:e,y1:u,x2:e+n,y2:u,key:"line-".concat(c),index:c});return b.createElement(sV,{key:"line-".concat(c),option:r,lineItemProps:f})});return b.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function Mce(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=t,o=dg(t,Oce),l=i.map((u,c)=>{var f=gn(gn({},o),{},{x1:u,y1:e,x2:u,y2:e+n,key:"line-".concat(c),index:c});return b.createElement(sV,{option:r,lineItemProps:f,key:"line-".concat(c)})});return b.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function Lce(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:a,height:s,horizontalPoints:o,horizontal:l=!0}=t;if(!l||!e||!e.length||o==null)return null;var u=o.map(f=>Math.round(f+i-i)).sort((f,m)=>f-m);i!==u[0]&&u.unshift(0);var c=u.map((f,m)=>{var p=u[m+1],g=p==null,_=g?i+s-f:p-f;if(_<=0)return null;var y=m%e.length;return b.createElement("rect",{key:"react-".concat(m),y:f,x:r,height:_,width:a,stroke:"none",fill:e[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},c)}function Vce(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:s,height:o,verticalPoints:l}=t;if(!e||!n||!n.length)return null;var u=l.map(f=>Math.round(f+i-i)).sort((f,m)=>f-m);i!==u[0]&&u.unshift(0);var c=u.map((f,m)=>{var p=u[m+1],g=p==null,_=g?i+s-f:p-f;if(_<=0)return null;var y=m%n.length;return b.createElement("rect",{key:"react-".concat(m),x:f,y:a,width:_,height:o,stroke:"none",fill:n[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},c)}var Uce=(t,e)=>{var{xAxis:n,width:r,height:i,offset:a}=t;return $L(eS(gn(gn(gn({},Xi),n),{},{ticks:FL(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,e)},zce=(t,e)=>{var{yAxis:n,width:r,height:i,offset:a}=t;return $L(eS(gn(gn(gn({},Xi),n),{},{ticks:FL(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,e)},Bce={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Nn.grid};function oV(t){var e=e3(),n=t3(),r=JL(),i=gn(gn({},cr(t,Bce)),{},{x:Q(t.x)?t.x:r.left,y:Q(t.y)?t.y:r.top,width:Q(t.width)?t.width:r.width,height:Q(t.height)?t.height:r.height}),{xAxisId:a,yAxisId:s,x:o,y:l,width:u,height:c,syncWithTicks:f,horizontalValues:m,verticalValues:p}=i,g=Hn(),_=ee(C=>M2(C,"xAxis",a,g)),y=ee(C=>M2(C,"yAxis",s,g));if(!bi(u)||!bi(c)||!Q(o)||!Q(l))return null;var w=i.verticalCoordinatesGenerator||Uce,x=i.horizontalCoordinatesGenerator||zce,{horizontalPoints:E,verticalPoints:N}=i;if((!E||!E.length)&&typeof x=="function"){var P=m&&m.length,k=x({yAxis:y?gn(gn({},y),{},{ticks:P?m:y.ticks}):void 0,width:e??u,height:n??c,offset:r},P?!0:f);zp(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(E=k)}if((!N||!N.length)&&typeof w=="function"){var T=p&&p.length,A=w({xAxis:_?gn(gn({},_),{},{ticks:T?p:_.ticks}):void 0,width:e??u,height:n??c,offset:r},T?!0:f);zp(Array.isArray(A),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof A,"]")),Array.isArray(A)&&(N=A)}return b.createElement(Ea,{zIndex:i.zIndex},b.createElement("g",{className:"recharts-cartesian-grid"},b.createElement(kce,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),b.createElement(Lce,ro({},i,{horizontalPoints:E})),b.createElement(Vce,ro({},i,{verticalPoints:N})),b.createElement(Dce,ro({},i,{offset:r,horizontalPoints:E,xAxis:_,yAxis:y})),b.createElement(Mce,ro({},i,{offset:r,verticalPoints:N,xAxis:_,yAxis:y}))))}oV.displayName="CartesianGrid";var $ce={},lV=qn({name:"errorBars",initialState:$ce,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Phe,replaceErrorBar:jhe,removeErrorBar:khe}=lV.actions,Fce=lV.reducer;function uV(t,e){var n,r,i=ee(u=>xa(u,t)),a=ee(u=>_a(u,e)),s=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Mt.allowDataOverflow,o=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:Lt.allowDataOverflow,l=s||o;return{needClip:l,needClipX:s,needClipY:o}}function qce(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=JE(),{needClipX:a,needClipY:s,needClip:o}=uV(e,n);if(!o||!i)return null;var{x:l,y:u,width:c,height:f}=i;return b.createElement("clipPath",{id:"clipPath-".concat(r)},b.createElement("rect",{x:a?l:l-c/2,y:s?u:u-f/2,width:a?c:c*2,height:s?f:f*2}))}function Hce(t){var e=fy(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:a}=e,s=Number(i),o=Number(a);return(Number.isNaN(s)||s<0)&&(s=n),(Number.isNaN(o)||o<0)&&(o=r),{r:s,strokeWidth:o}}return{r:n,strokeWidth:r}}var Gce={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yd=b;function Kce(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Wce=typeof Object.is=="function"?Object.is:Kce,Yce=Yd.useSyncExternalStore,Xce=Yd.useRef,Qce=Yd.useEffect,Zce=Yd.useMemo,Jce=Yd.useDebugValue;Gce.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var a=Xce(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=Zce(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&s.hasValue){var g=s.value;if(i(g,p))return f=g}return f=p}if(g=f,Wce(c,p))return g;var _=r(p);return i!==void 0&&i(g,_)?(c=p,g):(c=p,f=_)}var u=!1,c,f,m=n===void 0?null:n;return[function(){return l(e())},m===null?void 0:function(){return l(m())}]},[e,n,r,i]);var o=Yce(t,a[0],a[1]);return Qce(function(){s.hasValue=!0,s.value=o},[o]),Jce(o),o};function efe(t){t()}function tfe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){efe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var _I={notify(){},get:()=>[]};function nfe(t,e){let n,r=_I,i=0,a=!1;function s(_){c();const y=r.subscribe(_);let w=!1;return()=>{w||(w=!0,y(),f())}}function o(){r.notify()}function l(){g.onStateChange&&g.onStateChange()}function u(){return a}function c(){i++,n||(n=t.subscribe(l),r=tfe())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=_I)}function m(){a||(a=!0,c())}function p(){a&&(a=!1,f())}const g={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:u,trySubscribe:m,tryUnsubscribe:p,getListeners:()=>r};return g}var rfe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ife=rfe(),afe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",sfe=afe(),ofe=()=>ife||sfe?b.useLayoutEffect:b.useEffect,lfe=ofe();function wI(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function ufe(t,e){if(wI(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!wI(t[n[i]],e[n[i]]))return!1;return!0}var $0=Symbol.for("react-redux-context"),F0=typeof globalThis<"u"?globalThis:{};function cfe(){if(!b.createContext)return{};const t=F0[$0]??(F0[$0]=new Map);let e=t.get(b.createContext);return e||(e=b.createContext(null),t.set(b.createContext,e)),e}var ffe=cfe();function dfe(t){const{children:e,context:n,serverState:r,store:i}=t,a=b.useMemo(()=>{const l=nfe(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),s=b.useMemo(()=>i.getState(),[i]);lfe(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,s]);const o=n||ffe;return b.createElement(o.Provider,{value:a},e)}var hfe=dfe,mfe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function pfe(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function nS(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(mfe.has(r)){if(t[r]==null&&e[r]==null)continue;if(!ufe(t[r],e[r]))return!1}else if(!pfe(t[r],e[r]))return!1;return!0}function rS(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:tV}function iS(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:tV}var cV=(t,e,n)=>a5(t,"xAxis",rS(t,e),n),fV=(t,e,n)=>i5(t,"xAxis",rS(t,e),n),dV=(t,e,n)=>a5(t,"yAxis",iS(t,e),n),hV=(t,e,n)=>i5(t,"yAxis",iS(t,e),n),gfe=V([Je,cV,dV,fV,hV],(t,e,n,r,i)=>Ai(t,"xAxis")?Up(e,r,!1):Up(n,i,!1)),yfe=(t,e)=>e,mV=V([T6,yfe],(t,e)=>t.filter(n=>n.type==="area").find(n=>n.id===e)),pV=t=>{var e=Je(t),n=Ai(e,"xAxis");return n?"yAxis":"xAxis"},vfe=(t,e)=>{var n=pV(t);return n==="yAxis"?iS(t,e):rS(t,e)},bfe=(t,e,n)=>D6(t,pV(t),vfe(t,e),n),xfe=V([mV,bfe],(t,e)=>{var n;if(!(t==null||e==null)){var{stackId:r}=t,i=IE(t);if(!(r==null||i==null)){var a=(n=e[r])===null||n===void 0?void 0:n.stackedData,s=a==null?void 0:a.find(o=>o.key===i);if(s!=null)return s.map(o=>[o[0],o[1]])}}}),_fe=V([Je,cV,dV,fV,hV,xfe,bie,gfe,mV,Cie],(t,e,n,r,i,a,s,o,l,u)=>{var{chartData:c,dataStartIndex:f,dataEndIndex:m}=s;if(!(l==null||t!=="horizontal"&&t!=="vertical"||e==null||n==null||r==null||i==null||r.length===0||i.length===0||o==null)){var{data:p}=l,g;if(p&&p.length>0?g=p:g=c==null?void 0:c.slice(f,m+1),g!=null)return zfe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:f,areaSettings:l,stackedData:a,displayedData:g,chartBaseValue:u,bandSize:o})}}),wfe=["id"],Efe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function go(){return go=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},go.apply(null,arguments)}function gV(t,e){if(t==null)return{};var n,r,i=Sfe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Sfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function EI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EI(Object(n),!0).forEach(function(r){Afe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Afe(t,e,n){return(e=Tfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tfe(t){var e=Nfe(t,"string");return typeof e=="symbol"?e:e+""}function Nfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hg(t,e){return t&&t!=="none"?t:e}var Cfe=t=>{var{dataKey:e,name:n,stroke:r,fill:i,legendType:a,hide:s}=t;return[{inactive:s,dataKey:e,type:a,color:hg(r,i),value:qL(n,e),payload:t}]},Ofe=b.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:a,name:s,hide:o,unit:l,tooltipType:u,id:c}=t,f={dataDefinedOnItem:n,getPosition:Pu,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:qL(s,e),hide:o,type:u,color:hg(r,a),unit:l,graphicalItemId:c}};return b.createElement(sue,{tooltipEntrySettings:f})});function Ife(t){var{clipPathId:e,points:n,props:r}=t,{needClip:i,dot:a,dataKey:s}=r,o=qr(r);return b.createElement(Cue,{points:n,dot:a,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:s,baseProps:o,needClip:i,clipPathId:e})}function Rfe(t){var{showLabels:e,children:n,points:r}=t,i=r.map(a=>{var s,o,l={x:(s=a.x)!==null&&s!==void 0?s:0,y:(o=a.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Nl(Nl({},l),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:l,fill:void 0})});return b.createElement(Jle,{value:e?i:void 0},n)}function SI(t){var{points:e,baseLine:n,needClip:r,clipPathId:i,props:a}=t,{layout:s,type:o,stroke:l,connectNulls:u,isRange:c}=a,{id:f}=a,m=gV(a,wfe),p=qr(m),g=Nr(m);return b.createElement(b.Fragment,null,(e==null?void 0:e.length)>1&&b.createElement(gi,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},b.createElement(Tm,go({},g,{id:f,points:e,connectNulls:u,type:o,baseLine:n,layout:s,stroke:"none",className:"recharts-area-area"})),l!=="none"&&b.createElement(Tm,go({},p,{className:"recharts-area-curve",layout:s,type:o,connectNulls:u,fill:"none",points:e})),l!=="none"&&c&&b.createElement(Tm,go({},p,{className:"recharts-area-curve",layout:s,type:o,connectNulls:u,fill:"none",points:n}))),b.createElement(Ife,{points:e,props:m,clipPathId:i}))}function Pfe(t){var e,n,{alpha:r,baseLine:i,points:a,strokeWidth:s}=t,o=(e=a[0])===null||e===void 0?void 0:e.y,l=(n=a[a.length-1])===null||n===void 0?void 0:n.y;if(!be(o)||!be(l))return null;var u=r*Math.abs(o-l),c=Math.max(...a.map(f=>f.x||0));return Q(i)?c=Math.max(i,c):i&&Array.isArray(i)&&i.length&&(c=Math.max(...i.map(f=>f.x||0),c)),Q(c)?b.createElement("rect",{x:0,y:o<l?o:o-u,width:c+(s?parseInt("".concat(s),10):1),height:Math.floor(u)}):null}function jfe(t){var e,n,{alpha:r,baseLine:i,points:a,strokeWidth:s}=t,o=(e=a[0])===null||e===void 0?void 0:e.x,l=(n=a[a.length-1])===null||n===void 0?void 0:n.x;if(!be(o)||!be(l))return null;var u=r*Math.abs(o-l),c=Math.max(...a.map(f=>f.y||0));return Q(i)?c=Math.max(i,c):i&&Array.isArray(i)&&i.length&&(c=Math.max(...i.map(f=>f.y||0),c)),Q(c)?b.createElement("rect",{x:o<l?o:o-u,y:0,width:u,height:Math.floor(c+(s?parseInt("".concat(s),10):1))}):null}function kfe(t){var{alpha:e,layout:n,points:r,baseLine:i,strokeWidth:a}=t;return n==="vertical"?b.createElement(Pfe,{alpha:e,points:r,baseLine:i,strokeWidth:a}):b.createElement(jfe,{alpha:e,points:r,baseLine:i,strokeWidth:a})}function Dfe(t){var{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a}=t,{points:s,baseLine:o,isAnimationActive:l,animationBegin:u,animationDuration:c,animationEasing:f,onAnimationStart:m,onAnimationEnd:p}=r,g=b.useMemo(()=>({points:s,baseLine:o}),[s,o]),_=p3(g,"recharts-area-"),y=X1(),[w,x]=b.useState(!1),E=!w,N=b.useCallback(()=>{typeof p=="function"&&p(),x(!1)},[p]),P=b.useCallback(()=>{typeof m=="function"&&m(),x(!0)},[m]);if(y==null)return null;var k=i.current,T=a.current;return b.createElement(Rfe,{showLabels:E,points:s},r.children,b.createElement(m3,{animationId:_,begin:u,duration:c,isActive:l,easing:f,onAnimationEnd:N,onAnimationStart:P,key:_},A=>{if(k){var C=k.length/s.length,R=A===1?s:s.map((I,D)=>{var Z=Math.floor(D*C);if(k[Z]){var oe=k[Z];return Nl(Nl({},I),{},{x:Jr(oe.x,I.x,A),y:Jr(oe.y,I.y,A)})}return I}),j;return Q(o)?j=Jr(T,o,A):vn(o)||yi(o)?j=Jr(T,0,A):j=o.map((I,D)=>{var Z=Math.floor(D*C);if(Array.isArray(T)&&T[Z]){var oe=T[Z];return Nl(Nl({},I),{},{x:Jr(oe.x,I.x,A),y:Jr(oe.y,I.y,A)})}return I}),A>0&&(i.current=R,a.current=j),b.createElement(SI,{points:R,baseLine:j,needClip:e,clipPathId:n,props:r})}return A>0&&(i.current=s,a.current=o),b.createElement(gi,null,l&&b.createElement("defs",null,b.createElement("clipPath",{id:"animationClipPath-".concat(n)},b.createElement(kfe,{alpha:A,points:s,baseLine:o,layout:y,strokeWidth:r.strokeWidth}))),b.createElement(gi,{clipPath:"url(#animationClipPath-".concat(n,")")},b.createElement(SI,{points:s,baseLine:o,needClip:e,clipPathId:n,props:r})))}),b.createElement(nue,{label:r.label}))}function Mfe(t){var{needClip:e,clipPathId:n,props:r}=t,i=b.useRef(null),a=b.useRef();return b.createElement(Dfe,{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a})}class Lfe extends b.PureComponent{render(){var{hide:e,dot:n,points:r,className:i,top:a,left:s,needClip:o,xAxisId:l,yAxisId:u,width:c,height:f,id:m,baseLine:p,zIndex:g}=this.props;if(e)return null;var _=We("recharts-area",i),y=m,{r:w,strokeWidth:x}=Hce(n),E=J5(n),N=w*2+x,P=o?"url(#clipPath-".concat(E?"":"dots-").concat(y,")"):void 0;return b.createElement(Ea,{zIndex:g},b.createElement(gi,{className:_},o&&b.createElement("defs",null,b.createElement(qce,{clipPathId:y,xAxisId:l,yAxisId:u}),!E&&b.createElement("clipPath",{id:"clipPath-dots-".concat(y)},b.createElement("rect",{x:s-N/2,y:a-N/2,width:c+N,height:f+N}))),b.createElement(Mfe,{needClip:o,clipPathId:y,props:this.props})),b.createElement(gI,{points:r,mainColor:hg(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:P}),this.props.isRange&&Array.isArray(p)&&b.createElement(gI,{points:p,mainColor:hg(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:P}))}}var yV={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Nn.area};function Vfe(t){var e,n=cr(t,yV),{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:o,dot:l,fill:u,fillOpacity:c,hide:f,isAnimationActive:m,legendType:p,stroke:g,xAxisId:_,yAxisId:y}=n,w=gV(n,Efe),x=ju(),E=N5(),{needClip:N}=uV(_,y),P=Hn(),{points:k,isRange:T,baseLine:A}=(e=ee(Z=>_fe(Z,t.id,P)))!==null&&e!==void 0?e:{},C=JE();if(x!=="horizontal"&&x!=="vertical"||C==null||E!=="AreaChart"&&E!=="ComposedChart")return null;var{height:R,width:j,x:I,y:D}=C;return!k||!k.length?null:b.createElement(Lfe,go({},w,{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:s,baseLine:A,connectNulls:o,dot:l,fill:u,fillOpacity:c,height:R,hide:f,layout:x,isAnimationActive:m==="auto"?!Vd.isSsr:m,isRange:T,legendType:p,needClip:N,points:k,stroke:g,width:j,left:I,top:D,xAxisId:_,yAxisId:y}))}var Ufe=(t,e,n,r,i)=>{var a=n??e;if(Q(a))return a;var s=t==="horizontal"?i:r,o=s.scale.domain();if(s.type==="number"){var l=Math.max(o[0],o[1]),u=Math.min(o[0],o[1]);return a==="dataMin"?u:a==="dataMax"||l<0?l:Math.max(Math.min(o[0],o[1]),0)}return a==="dataMin"?o[0]:a==="dataMax"?o[1]:o[0]};function zfe(t){var{areaSettings:{connectNulls:e,baseValue:n,dataKey:r},stackedData:i,layout:a,chartBaseValue:s,xAxis:o,yAxis:l,displayedData:u,dataStartIndex:c,xAxisTicks:f,yAxisTicks:m,bandSize:p}=t,g=i&&i.length,_=Ufe(a,s,n,o,l),y=a==="horizontal",w=!1,x=u.map((N,P)=>{var k,T,A,C;if(g)C=i[c+P];else{var R=on(N,r);Array.isArray(R)?(C=R,w=!0):C=[_,R]}var j=(k=(T=C)===null||T===void 0?void 0:T[1])!==null&&k!==void 0?k:null,I=j==null||g&&!e&&on(N,r)==null;if(y){var D;return{x:HC({axis:o,ticks:f,bandSize:p,entry:N,index:P}),y:I?null:(D=l.scale.map(j))!==null&&D!==void 0?D:null,value:C,payload:N}}return{x:I?null:(A=o.scale.map(j))!==null&&A!==void 0?A:null,y:HC({axis:l,ticks:m,bandSize:p,entry:N,index:P}),value:C,payload:N}}),E;return g||w?E=x.map(N=>{var P,k=Array.isArray(N.value)?N.value[0]:null;if(y){var T;return{x:N.x,y:k!=null&&N.y!=null&&(T=l.scale.map(k))!==null&&T!==void 0?T:null,payload:N.payload}}return{x:k!=null&&(P=o.scale.map(k))!==null&&P!==void 0?P:null,y:N.y,payload:N.payload}}):E=y?l.scale.map(_):o.scale.map(_),{points:x,baseLine:E??0,isRange:w}}function Bfe(t){var e=cr(t,yV),n=Hn();return b.createElement(due,{id:e.id,type:"area"},r=>b.createElement(b.Fragment,null,b.createElement(oue,{legendPayload:Cfe(e)}),b.createElement(Ofe,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),b.createElement(bue,{type:"area",id:r,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:NJ(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:n,connectNulls:e.connectNulls}),b.createElement(Vfe,go({},e,{id:r}))))}var vV=b.memo(Bfe,nS);vV.displayName="Area";var $fe=["domain","range"],Ffe=["domain","range"];function AI(t,e){if(t==null)return{};var n,r,i=qfe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function TI(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function bV(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=AI(t,$fe),{domain:a,range:s}=e,o=AI(e,Ffe);return!TI(n,a)||!TI(r,s)?!1:nS(i,o)}var Hfe=["type"],Gfe=["dangerouslySetInnerHTML","ticks","scale"],Kfe=["id","scale"];function a_(){return a_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a_.apply(null,arguments)}function NI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NI(Object(n),!0).forEach(function(r){Wfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wfe(t,e,n){return(e=Yfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yfe(t){var e=Xfe(t,"string");return typeof e=="symbol"?e:e+""}function Xfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function s_(t,e){if(t==null)return{};var n,r,i=Qfe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Qfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Zfe(t){var e=Ft(),n=b.useRef(null),r=X1(),{type:i}=t,a=s_(t,Hfe),s=Ky(r,"xAxis",i),o=b.useMemo(()=>{if(s!=null)return CI(CI({},a),{},{type:s})},[a,s]);return b.useLayoutEffect(()=>{o!=null&&(n.current===null?e(jue(o)):n.current!==o&&e(kue({prev:n.current,next:o})),n.current=o)},[o,e]),b.useLayoutEffect(()=>()=>{n.current&&(e(Due(n.current)),n.current=null)},[e]),null}var Jfe=t=>{var{xAxisId:e,className:n}=t,r=ee(GL),i=Hn(),a="xAxis",s=ee(w=>r5(w,a,e,i)),o=ee(w=>Sae(w,e)),l=ee(w=>Iae(w,e)),u=ee(w=>w6(w,e));if(o==null||l==null||u==null)return null;var{dangerouslySetInnerHTML:c,ticks:f,scale:m}=t,p=s_(t,Gfe),{id:g,scale:_}=u,y=s_(u,Kfe);return b.createElement(tS,a_({},p,y,{x:l.x,y:l.y,width:o.width,height:o.height,className:We("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:s,axisType:a}))},ede={allowDataOverflow:Mt.allowDataOverflow,allowDecimals:Mt.allowDecimals,allowDuplicatedCategory:Mt.allowDuplicatedCategory,angle:Mt.angle,axisLine:Xi.axisLine,height:Mt.height,hide:!1,includeHidden:Mt.includeHidden,interval:Mt.interval,label:!1,minTickGap:Mt.minTickGap,mirror:Mt.mirror,orientation:Mt.orientation,padding:Mt.padding,reversed:Mt.reversed,scale:Mt.scale,tick:Mt.tick,tickCount:Mt.tickCount,tickLine:Xi.tickLine,tickSize:Xi.tickSize,type:Mt.type,xAxisId:0},tde=t=>{var e=cr(t,ede);return b.createElement(b.Fragment,null,b.createElement(Zfe,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),b.createElement(Jfe,e))},xV=b.memo(tde,bV);xV.displayName="XAxis";var nde=["type"],rde=["dangerouslySetInnerHTML","ticks","scale"],ide=["id","scale"];function o_(){return o_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o_.apply(null,arguments)}function OI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function II(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OI(Object(n),!0).forEach(function(r){ade(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ade(t,e,n){return(e=sde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sde(t){var e=ode(t,"string");return typeof e=="symbol"?e:e+""}function ode(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function l_(t,e){if(t==null)return{};var n,r,i=lde(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function lde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ude(t){var e=Ft(),n=b.useRef(null),r=X1(),{type:i}=t,a=l_(t,nde),s=Ky(r,"yAxis",i),o=b.useMemo(()=>{if(s!=null)return II(II({},a),{},{type:s})},[s,a]);return b.useLayoutEffect(()=>{o!=null&&(n.current===null?e(Mue(o)):n.current!==o&&e(Lue({prev:n.current,next:o})),n.current=o)},[o,e]),b.useLayoutEffect(()=>()=>{n.current&&(e(Vue(n.current)),n.current=null)},[e]),null}function cde(t){var{yAxisId:e,className:n,width:r,label:i}=t,a=b.useRef(null),s=b.useRef(null),o=ee(GL),l=Hn(),u=Ft(),c="yAxis",f=ee(k=>jae(k,e)),m=ee(k=>Pae(k,e)),p=ee(k=>r5(k,c,e,l)),g=ee(k=>E6(k,e));if(b.useLayoutEffect(()=>{if(!(r!=="auto"||!f||ZE(i)||b.isValidElement(i)||g==null)){var k=a.current;if(k){var T=k.getCalculatedWidth();Math.round(f.width)!==Math.round(T)&&u(Uue({id:e,width:T}))}}},[p,f,u,i,e,r,g]),f==null||m==null||g==null)return null;var{dangerouslySetInnerHTML:_,ticks:y,scale:w}=t,x=l_(t,rde),{id:E,scale:N}=g,P=l_(g,ide);return b.createElement(tS,o_({},x,P,{ref:a,labelRef:s,x:m.x,y:m.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:f.width,height:f.height,className:We("recharts-".concat(c," ").concat(c),n),viewBox:o,ticks:p,axisType:c}))}var fde={allowDataOverflow:Lt.allowDataOverflow,allowDecimals:Lt.allowDecimals,allowDuplicatedCategory:Lt.allowDuplicatedCategory,angle:Lt.angle,axisLine:Xi.axisLine,hide:!1,includeHidden:Lt.includeHidden,interval:Lt.interval,label:!1,minTickGap:Lt.minTickGap,mirror:Lt.mirror,orientation:Lt.orientation,padding:Lt.padding,reversed:Lt.reversed,scale:Lt.scale,tick:Lt.tick,tickCount:Lt.tickCount,tickLine:Xi.tickLine,tickSize:Xi.tickSize,type:Lt.type,width:Lt.width,yAxisId:0},dde=t=>{var e=cr(t,fde);return b.createElement(b.Fragment,null,b.createElement(ude,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),b.createElement(cde,e))},_V=b.memo(dde,bV);_V.displayName="YAxis";var hde=(t,e)=>e,aS=V([hde,Je,x6,Gt,_5,wa,Kse,un],eoe),sS=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},wV=Cr("mouseClick"),EV=kd();EV.startListening({actionCreator:wV,effect:(t,e)=>{var n=t.payload,r=aS(e.getState(),sS(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(Gae({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var u_=Cr("mouseMove"),SV=kd(),Wh=null;SV.startListening({actionCreator:u_,effect:(t,e)=>{var n=t.payload;Wh!==null&&cancelAnimationFrame(Wh);var r=sS(n);Wh=requestAnimationFrame(()=>{var i=e.getState(),a=BE(i,i.tooltip.settings.shared);if(a==="axis"){var s=aS(i,r);(s==null?void 0:s.activeIndex)!=null?e.dispatch(d5({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):e.dispatch(f5())}Wh=null})}});function mde(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var RI={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},AV=qn({name:"rootProps",initialState:RI,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:RI.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),pde=AV.reducer,{updateOptions:gde}=AV.actions,yde=null,vde={updatePolarOptions:(t,e)=>e.payload},TV=qn({name:"polarOptions",initialState:yde,reducers:vde}),{updatePolarOptions:Dhe}=TV.actions,bde=TV.reducer,NV=Cr("keyDown"),CV=Cr("focus"),oS=kd();oS.startListening({actionCreator:NV,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=$E(i,$u(n),Hd(n),Kd(n)),o=s==null?-1:Number(s);if(!(!Number.isFinite(o)||o<0)){var l=wa(n);if(a==="Enter"){var u=ug(n,"axis","hover",String(i.index));e.dispatch(e_({active:!i.active,activeIndex:i.index,activeCoordinate:u}));return}var c=Lae(n),f=c==="left-to-right"?1:-1,m=a==="ArrowRight"?1:-1,p=o+m*f;if(!(l==null||p>=l.length||p<0)){var g=ug(n,"axis","hover",String(p));e.dispatch(e_({active:!0,activeIndex:p.toString(),activeCoordinate:g}))}}}}}});oS.startListening({actionCreator:CV,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",s=ug(n,"axis","hover",String(a));e.dispatch(e_({active:!0,activeIndex:a,activeCoordinate:s}))}}}});var fr=Cr("externalEvent"),OV=kd(),q0=new Map;OV.startListening({actionCreator:fr,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,a=q0.get(i);a!==void 0&&cancelAnimationFrame(a);var s=requestAnimationFrame(()=>{try{var o=e.getState(),l={activeCoordinate:Pse(o),activeDataKey:Ise(o),activeIndex:Qf(o),activeLabel:S5(o),activeTooltipIndex:Qf(o),isTooltipActive:jse(o)};n(l,r)}finally{q0.delete(i)}});q0.set(i,s)}}});var xde=V([zu],t=>t.tooltipItemPayloads),_de=V([xde,(t,e)=>e,(t,e,n)=>n],(t,e,n)=>{if(e!=null){var r=t.find(a=>a.settings.graphicalItemId===n);if(r!=null){var{getPosition:i}=r;if(i!=null)return i(e)}}}),IV=Cr("touchMove"),RV=kd();RV.startListening({actionCreator:IV,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=BE(r,r.tooltip.settings.shared);if(i==="axis"){var a=n.touches[0];if(a==null)return;var s=aS(r,sS({clientX:a.clientX,clientY:a.clientY,currentTarget:n.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&e.dispatch(d5({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var o,l=n.touches[0];if(document.elementFromPoint==null||l==null)return;var u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var c=u.getAttribute(kJ),f=(o=u.getAttribute(DJ))!==null&&o!==void 0?o:void 0,m=Bu(r).find(_=>_.id===f);if(c==null||m==null||f==null)return;var{dataKey:p}=m,g=_de(r,c,f);e.dispatch(Hae({activeDataKey:p,activeIndex:c,activeCoordinate:g,activeGraphicalItemId:f}))}}}});var wde=hL({brush:Yue,cartesianAxis:zue,chartData:Roe,errorBars:Fce,graphicalItems:yue,layout:vJ,legend:Eee,options:Toe,polarAxis:iue,polarOptions:bde,referenceElements:Jue,rootProps:pde,tooltip:Kae,zIndex:moe}),Ede=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return FZ({reducer:wde,preloadedState:e,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([EV.middleware,SV.middleware,oS.middleware,OV.middleware,RV.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(CL({type:"raf"}))},devTools:{serialize:{replacer:mde},name:"recharts-".concat(n)}})};function Sde(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=Hn(),a=b.useRef(null);if(i)return n;a.current==null&&(a.current=Ede(e,r));var s=U1;return b.createElement(hfe,{context:s,store:a.current},n)}function Ade(t){var{layout:e,margin:n}=t,r=Ft(),i=Hn();return b.useEffect(()=>{i||(r(pJ(e)),r(mJ(n)))},[r,i,e,n]),null}var Tde=b.memo(Ade,nS);function Nde(t){var e=Ft();return b.useEffect(()=>{e(gde(t))},[e,t]),null}function PI(t){var{zIndex:e,isPanorama:n}=t,r=b.useRef(null),i=Ft();return b.useLayoutEffect(()=>(r.current&&i(doe({zIndex:e,element:r.current,isPanorama:n})),()=>{i(hoe({zIndex:e,isPanorama:n}))}),[i,e,n]),b.createElement("g",{tabIndex:-1,ref:r})}function jI(t){var{children:e,isPanorama:n}=t,r=ee(noe);if(!r||r.length===0)return e;var i=r.filter(s=>s<0),a=r.filter(s=>s>0);return b.createElement(b.Fragment,null,i.map(s=>b.createElement(PI,{key:s,zIndex:s,isPanorama:n})),e,a.map(s=>b.createElement(PI,{key:s,zIndex:s,isPanorama:n})))}var Cde=["children"];function Ode(t,e){if(t==null)return{};var n,r,i=Ide(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ide(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function mg(){return mg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mg.apply(null,arguments)}var Rde={width:"100%",height:"100%",display:"block"},Pde=b.forwardRef((t,e)=>{var n=e3(),r=t3(),i=c3();if(!bi(n)||!bi(r))return null;var{children:a,otherAttributes:s,title:o,desc:l}=t,u,c;return s!=null&&(typeof s.tabIndex=="number"?u=s.tabIndex:u=i?0:void 0,typeof s.role=="string"?c=s.role:c=i?"application":void 0),b.createElement(y4,mg({},s,{title:o,desc:l,role:c,tabIndex:u,width:n,height:r,style:Rde,ref:e}),a)}),jde=t=>{var{children:e}=t,n=ee(ky);if(!n)return null;var{width:r,height:i,y:a,x:s}=n;return b.createElement(y4,{width:r,height:i,x:s,y:a},e)},kI=b.forwardRef((t,e)=>{var{children:n}=t,r=Ode(t,Cde),i=Hn();return i?b.createElement(jde,null,b.createElement(jI,{isPanorama:!0},n)):b.createElement(Pde,mg({ref:e},r),b.createElement(jI,{isPanorama:!1},n))});function kde(){var t=Ft(),[e,n]=b.useState(null),r=ee(jJ);return b.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;be(a)&&a!==r&&t(yJ(a))}},[e,t,r]),n}function DI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dde(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DI(Object(n),!0).forEach(function(r){Mde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mde(t,e,n){return(e=Lde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lde(t){var e=Vde(t,"string");return typeof e=="symbol"?e:e+""}function Vde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ms(){return ms=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ms.apply(null,arguments)}var Ude=()=>(zoe(),null);function pg(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var zde=b.forwardRef((t,e)=>{var n,r,i=b.useRef(null),[a,s]=b.useState({containerWidth:pg((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:pg((r=t.style)===null||r===void 0?void 0:r.height)}),o=b.useCallback((u,c)=>{s(f=>{var m=Math.round(u),p=Math.round(c);return f.containerWidth===m&&f.containerHeight===p?f:{containerWidth:m,containerHeight:p}})},[]),l=b.useCallback(u=>{if(typeof e=="function"&&e(u),u!=null&&typeof ResizeObserver<"u"){var{width:c,height:f}=u.getBoundingClientRect();o(c,f);var m=g=>{var _=g[0];if(_!=null){var{width:y,height:w}=_.contentRect;o(y,w)}},p=new ResizeObserver(m);p.observe(u),i.current=p}},[e,o]);return b.useEffect(()=>()=>{var u=i.current;u!=null&&u.disconnect()},[o]),b.createElement(b.Fragment,null,b.createElement(Md,{width:a.containerWidth,height:a.containerHeight}),b.createElement("div",ms({ref:l},t)))}),Bde=b.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,a]=b.useState({containerWidth:pg(n),containerHeight:pg(r)}),s=b.useCallback((l,u)=>{a(c=>{var f=Math.round(l),m=Math.round(u);return c.containerWidth===f&&c.containerHeight===m?c:{containerWidth:f,containerHeight:m}})},[]),o=b.useCallback(l=>{if(typeof e=="function"&&e(l),l!=null){var{width:u,height:c}=l.getBoundingClientRect();s(u,c)}},[e,s]);return b.createElement(b.Fragment,null,b.createElement(Md,{width:i.containerWidth,height:i.containerHeight}),b.createElement("div",ms({ref:o},t)))}),$de=b.forwardRef((t,e)=>{var{width:n,height:r}=t;return b.createElement(b.Fragment,null,b.createElement(Md,{width:n,height:r}),b.createElement("div",ms({ref:e},t)))}),Fde=b.forwardRef((t,e)=>{var{width:n,height:r}=t;return typeof n=="string"||typeof r=="string"?b.createElement(Bde,ms({},t,{ref:e})):typeof n=="number"&&typeof r=="number"?b.createElement($de,ms({},t,{width:n,height:r,ref:e})):b.createElement(b.Fragment,null,b.createElement(Md,{width:n,height:r}),b.createElement("div",ms({ref:e},t)))});function qde(t){return t?zde:Fde}var Hde=b.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:s,onDoubleClick:o,onMouseDown:l,onMouseEnter:u,onMouseLeave:c,onMouseMove:f,onMouseUp:m,onTouchEnd:p,onTouchMove:g,onTouchStart:_,style:y,width:w,responsive:x,dispatchTouchEvents:E=!0}=t,N=b.useRef(null),P=Ft(),[k,T]=b.useState(null),[A,C]=b.useState(null),R=kde(),j=W1(),I=(j==null?void 0:j.width)>0?j.width:w,D=(j==null?void 0:j.height)>0?j.height:i,Z=b.useCallback($=>{R($),typeof e=="function"&&e($),T($),C($),$!=null&&(N.current=$)},[R,e,T,C]),oe=b.useCallback($=>{P(wV($)),P(fr({handler:a,reactEvent:$}))},[P,a]),q=b.useCallback($=>{P(u_($)),P(fr({handler:u,reactEvent:$}))},[P,u]),K=b.useCallback($=>{P(f5()),P(fr({handler:c,reactEvent:$}))},[P,c]),Y=b.useCallback($=>{P(u_($)),P(fr({handler:f,reactEvent:$}))},[P,f]),te=b.useCallback(()=>{P(CV())},[P]),le=b.useCallback($=>{P(NV($.key))},[P]),Ye=b.useCallback($=>{P(fr({handler:s,reactEvent:$}))},[P,s]),ft=b.useCallback($=>{P(fr({handler:o,reactEvent:$}))},[P,o]),Pt=b.useCallback($=>{P(fr({handler:l,reactEvent:$}))},[P,l]),je=b.useCallback($=>{P(fr({handler:m,reactEvent:$}))},[P,m]),cn=b.useCallback($=>{P(fr({handler:_,reactEvent:$}))},[P,_]),Ti=b.useCallback($=>{E&&P(IV($)),P(fr({handler:g,reactEvent:$}))},[P,E,g]),jt=b.useCallback($=>{P(fr({handler:p,reactEvent:$}))},[P,p]),Ls=qde(x);return b.createElement(P5.Provider,{value:k},b.createElement(iQ.Provider,{value:A},b.createElement(Ls,{width:I??(y==null?void 0:y.width),height:D??(y==null?void 0:y.height),className:We("recharts-wrapper",r),style:Dde({position:"relative",cursor:"default",width:I,height:D},y),onClick:oe,onContextMenu:Ye,onDoubleClick:ft,onFocus:te,onKeyDown:le,onMouseDown:Pt,onMouseEnter:q,onMouseLeave:K,onMouseMove:Y,onMouseUp:je,onTouchEnd:jt,onTouchMove:Ti,onTouchStart:cn,ref:Z},b.createElement(Ude,null),n)))}),Gde=["width","height","responsive","children","className","style","compact","title","desc"];function Kde(t,e){if(t==null)return{};var n,r,i=Wde(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Wde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Yde=b.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:a,className:s,style:o,compact:l,title:u,desc:c}=t,f=Kde(t,Gde),m=qr(f);return l?b.createElement(b.Fragment,null,b.createElement(Md,{width:n,height:r}),b.createElement(kI,{otherAttributes:m,title:u,desc:c},a)):b.createElement(Hde,{className:s,style:o,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},b.createElement(kI,{otherAttributes:m,title:u,desc:c,ref:e},b.createElement(tce,null,a)))});function c_(){return c_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c_.apply(null,arguments)}var Xde={top:5,right:5,bottom:5,left:5},Qde={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Xde,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Zde=b.forwardRef(function(e,n){var r,i=cr(e.categoricalChartProps,Qde),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:u}=e,c={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return b.createElement(Sde,{preloadedState:{options:c},reduxStoreName:(r=u.id)!==null&&r!==void 0?r:a},b.createElement(Wue,{chartData:u.data}),b.createElement(Tde,{layout:i.layout,margin:i.margin}),b.createElement(Nde,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),b.createElement(Yde,c_({},i,{ref:n})))}),Jde=["axis"],ehe=b.forwardRef((t,e)=>b.createElement(Zde,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Jde,tooltipPayloadSearcher:Soe,categoricalChartProps:t,ref:e}));const the=()=>{const[t,e]=b.useState([]),[n,r]=b.useState(!0);b.useEffect(()=>{const s=d1(pi(ut,"orders"),IM("created_at","asc")),o=Od(s,l=>{const u=l.docs.map(c=>{var f,m;return{id:c.id,...c.data(),dateObj:(f=c.data().created_at)==null?void 0:f.toDate(),date:((m=c.data().created_at)==null?void 0:m.toDate().toLocaleDateString())||"N/A"}});e(u),r(!1)});return()=>o()},[]);const i=b.useMemo(()=>{const s=t.reduce((u,c)=>u+(Number(c.total)||0),0),o=new Set(t.map(u=>u.user)).size,l=t.map(u=>({date:u.date,sales:Number(u.total)}));return{totalRevenue:s,uniqueCustomers:o,salesData:l}},[t]);if(n)return d.jsx("div",{className:"p-12 text-center text-gray-400 font-bold uppercase tracking-widest text-xs",children:"Loading Dashboard..."});const a=({title:s,value:o,icon:l,gradient:u,trend:c})=>d.jsxs("div",{className:`p-6 rounded-3xl text-white shadow-lg shadow-color relative overflow-hidden group hover:-translate-y-1 transition-transform duration-300 ${u}`,children:[d.jsxs("div",{className:"flex justify-between items-start z-10 relative",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-white/80 text-sm font-medium mb-1",children:s}),d.jsx("h3",{className:"text-3xl font-bold tracking-tight",children:o})]}),d.jsx("div",{className:"p-2 bg-white/20 rounded-xl backdrop-blur-sm",children:d.jsx(l,{size:20,className:"text-white"})})]}),d.jsxs("div",{className:"mt-6 flex items-center gap-2 text-sm font-medium relative z-10",children:[d.jsxs("span",{className:"bg-white/20 px-2 py-0.5 rounded-lg flex items-center gap-1 backdrop-blur-md",children:[d.jsx(OY,{size:14})," ",c]}),d.jsx("span",{className:"text-white/70 text-xs",children:"Since last month"})]}),d.jsx("div",{className:"absolute -bottom-4 -right-4 w-32 h-32 bg-white/10 rounded-full blur-2xl group-hover:scale-110 transition-transform duration-500"})]});return d.jsxs("div",{className:"flex gap-8",children:[d.jsxs("div",{className:"flex-1 space-y-8 min-w-0",children:[d.jsxs("div",{className:"flex justify-between items-center bg-white p-4 rounded-2xl border border-gray-100 shadow-sm",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800 ml-2",children:"Dashboard"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{className:"p-2 text-gray-400 hover:bg-gray-50 rounded-lg",children:d.jsx(Mf,{size:20})}),d.jsx("div",{className:"w-8 h-8 bg-black rounded-full flex items-center justify-center text-white font-bold text-xs shadow-md",children:"A"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[d.jsx(a,{title:"Total Revenue",value:`$${i.totalRevenue.toLocaleString()}`,icon:gx,gradient:"bg-gradient-cyan",trend:"+12.5%"}),d.jsx(a,{title:"Total Orders",value:t.length,icon:r4,gradient:"bg-gradient-pink",trend:"+8.2%"}),d.jsx(a,{title:"New Customers",value:i.uniqueCustomers,icon:uX,gradient:"bg-gradient-orange",trend:"+2.4%"}),d.jsx(a,{title:"Avg. Order Value",value:"$124.50",icon:NY,gradient:"bg-gradient-green",trend:"+5.1%"})]}),d.jsxs("div",{className:"admin-card p-8",children:[d.jsxs("div",{className:"flex justify-between items-center mb-8",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Sales Overview"}),d.jsx("p",{className:"text-xs text-gray-500 font-medium uppercase tracking-wider mt-1",children:"Monthly Analytics"})]}),d.jsxs("select",{className:"bg-gray-50 border border-gray-200 text-xs font-bold uppercase tracking-wider text-gray-600 rounded-lg px-3 py-2 outline-none",children:[d.jsx("option",{children:"This Year"}),d.jsx("option",{children:"Last Year"})]})]}),d.jsx("div",{className:"h-[300px] w-full min-h-[300px]",children:i.salesData.length>0?d.jsx(aee,{width:"100%",height:"100%",children:d.jsxs(ehe,{data:i.salesData,children:[d.jsx("defs",{children:d.jsxs("linearGradient",{id:"colorSales",x1:"0",y1:"0",x2:"0",y2:"1",children:[d.jsx("stop",{offset:"5%",stopColor:"#D4AF37",stopOpacity:.3}),d.jsx("stop",{offset:"95%",stopColor:"#D4AF37",stopOpacity:0})]})}),d.jsx(oV,{strokeDasharray:"3 3",stroke:"#f0f0f0",vertical:!1}),d.jsx(xV,{dataKey:"date",axisLine:!1,tickLine:!1,tick:{fill:"#9ca3af",fontSize:11},dy:10}),d.jsx(_V,{axisLine:!1,tickLine:!1,tick:{fill:"#9ca3af",fontSize:11},tickFormatter:s=>`$${s}`}),d.jsx(Woe,{contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgba(0,0,0,0.1)"},itemStyle:{color:"#D4AF37",fontWeight:"bold"}}),d.jsx(vV,{type:"monotone",dataKey:"sales",stroke:"#D4AF37",strokeWidth:3,fillOpacity:1,fill:"url(#colorSales)"})]})}):d.jsx("div",{className:"h-full w-full flex items-center justify-center text-gray-400 text-sm italic",children:"No sales data available for chart"})})]}),d.jsxs("div",{className:"admin-card overflow-hidden",children:[d.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[d.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Recent Orders"}),d.jsx("button",{className:"text-yellow-600 text-xs font-bold uppercase tracking-wider hover:text-yellow-700",children:"View All"})]}),d.jsxs("table",{className:"w-full text-left admin-table",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-gray-50/50 text-gray-400",children:[d.jsx("th",{className:"p-4 pl-6",children:"Order ID"}),d.jsx("th",{className:"p-4",children:"Customer"}),d.jsx("th",{className:"p-4",children:"Date"}),d.jsx("th",{className:"p-4",children:"Amount"}),d.jsx("th",{className:"p-4 text-right pr-6",children:"Status"})]})}),d.jsx("tbody",{children:t.slice().reverse().slice(0,5).map(s=>{var o,l;return d.jsxs("tr",{className:"hover:bg-gray-50/80 transition-colors",children:[d.jsxs("td",{className:"p-4 pl-6 font-mono text-xs font-bold text-gray-600",children:["#",s.id.slice(0,6)]}),d.jsxs("td",{className:"p-4 flex items-center gap-3",children:[d.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center text-xs font-bold text-gray-500",children:(o=s.user)==null?void 0:o.charAt(0).toUpperCase()}),d.jsx("span",{className:"text-sm font-medium text-gray-900",children:(l=s.user)==null?void 0:l.split("@")[0]})]}),d.jsx("td",{className:"p-4 text-xs text-gray-500 font-medium",children:s.date}),d.jsxs("td",{className:"p-4 text-sm font-bold text-gray-900",children:["$",Number(s.total).toFixed(2)]}),d.jsx("td",{className:"p-4 text-right pr-6",children:d.jsx("span",{className:`px-2.5 py-1 rounded-lg text-xs font-bold ${s.status==="New"?"bg-yellow-100 text-yellow-700":s.status==="Shipped"?"bg-cyan-100 text-cyan-700":"bg-green-100 text-green-700"}`,children:s.status||"Paid"})})]},s.id)})})]})]})]}),d.jsxs("div",{className:"w-[350px] flex-shrink-0 space-y-6 hidden xl:block",children:[d.jsxs("div",{className:"admin-card p-6 text-center relative overflow-hidden",children:[d.jsx("div",{className:"w-24 h-24 mx-auto rounded-full p-1 bg-gradient-to-br from-gold to-yellow-600 mb-4 shadow-xl",children:d.jsx("div",{className:"w-full h-full rounded-full bg-white flex items-center justify-center text-3xl font-bold text-yellow-600",children:"A"})}),d.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Admin User"}),d.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"Store Manager"}),d.jsxs("div",{className:"flex justify-center gap-4",children:[d.jsx("button",{className:"p-2 rounded-full bg-gray-50 hover:bg-gray-100 text-gray-500 transition-colors",children:d.jsx(WY,{size:18})}),d.jsx("button",{className:"p-2 rounded-full bg-gray-50 hover:bg-gray-100 text-gray-500 transition-colors",children:d.jsx(Mf,{size:18})}),d.jsx("button",{className:"p-2 rounded-full bg-gray-50 hover:bg-gray-100 text-gray-500 transition-colors",children:d.jsx($Y,{size:18})})]})]}),d.jsxs("div",{className:"admin-card",children:[d.jsxs("div",{className:"p-5 border-b border-gray-100 flex justify-between items-center",children:[d.jsx("h3",{className:"text-base font-bold text-gray-800",children:"Recent Buyers"}),d.jsx(kY,{size:16,className:"text-gray-400 cursor-pointer"})]}),d.jsx("div",{className:"p-2 max-h-[400px] overflow-y-auto",children:t.slice(0,5).map(s=>{var o,l;return d.jsxs("div",{className:"flex items-center gap-4 p-3 hover:bg-gray-50 rounded-xl cursor-pointer transition-colors group",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-gray-100 flex items-center justify-center text-gray-500 font-bold text-sm group-hover:bg-white group-hover:shadow-sm transition-all",children:(o=s.user)==null?void 0:o.charAt(0).toUpperCase()}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h4",{className:"text-sm font-bold text-gray-800",children:(l=s.user)==null?void 0:l.split("@")[0]}),d.jsx("p",{className:"text-xs text-gray-400",children:s.date})]}),d.jsxs("span",{className:"text-sm font-bold text-gray-900",children:["$",Number(s.total).toFixed(0)]})]},s.id)})}),d.jsx("div",{className:"p-4 border-t border-gray-100 text-center",children:d.jsx("div",{className:"p-4 border-t border-gray-100 text-center",children:d.jsx("button",{className:"text-xs font-bold text-yellow-600 uppercase tracking-wider hover:text-yellow-700",children:"View All Customers"})})})]}),d.jsxs("div",{className:"p-6 rounded-3xl bg-gray-900 text-white relative overflow-hidden shadow-xl",children:[d.jsxs("div",{className:"relative z-10",children:[d.jsx("p",{className:"text-gray-400 text-xs font-bold uppercase tracking-wider mb-2",children:"Revenue Goal"}),d.jsxs("h3",{className:"text-3xl font-bold mb-4",children:["$",i.totalRevenue.toLocaleString()]}),d.jsx("div",{className:"w-full bg-gray-700 h-1.5 rounded-full mb-2 overflow-hidden",children:d.jsx("div",{className:"bg-gradient-to-r from-gold to-yellow-600 h-full rounded-full",style:{width:`${Math.min(i.totalRevenue/5e3*100,100)}%`}})}),d.jsxs("div",{className:"flex justify-between text-xs text-gray-400",children:[d.jsx("span",{children:"Goal: $5,000"}),d.jsxs("span",{children:[Math.min(i.totalRevenue/5e3*100,100).toFixed(0),"%"]})]})]}),d.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-yellow-500 rounded-full blur-[60px] opacity-20"})]})]})]})},nhe=()=>{var _,y,w;const[t,e]=b.useState([]),[n,r]=b.useState(!0),[i,a]=b.useState("All"),[s,o]=b.useState(""),[l,u]=b.useState(null),[c,f]=b.useState("");b.useEffect(()=>{const x=Od(pi(ut,"orders"),E=>{const N=E.docs.map(P=>{var T;const k=P.data();return{id:P.id,...k,date:((T=k.created_at)==null?void 0:T.toDate().toLocaleDateString())||new Date().toLocaleDateString(),paymentStatus:k.paymentStatus||"Paid",fulfillmentStatus:k.status||"Pending",trackingNumber:k.trackingNumber||""}});N.sort((P,k)=>k.created_at-P.created_at),e(N),r(!1)});return()=>x()},[]);const m=async(x,E)=>{try{await kf(Ar(ut,"orders",x),{status:E})}catch(N){alert("Update failed: "+N.message)}},p=async()=>{if(l)try{await kf(Ar(ut,"orders",l.id),{trackingNumber:c,status:"Shipped"}),f(""),u(null)}catch(x){alert("Failed to save tracking: "+x.message)}},g=t.filter(x=>{var P;const E=i==="All"||x.fulfillmentStatus===i,N=x.id.toLowerCase().includes(s.toLowerCase())||((P=x.user)==null?void 0:P.toLowerCase().includes(s.toLowerCase()));return E&&N});return d.jsxs("div",{className:"h-[calc(100vh-6rem)] flex flex-col",children:[d.jsxs("header",{className:"flex justify-between items-center mb-8",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Orders"}),d.jsx("p",{className:"text-gray-500 mt-1 text-sm",children:"Manage and track customer orders"})]}),d.jsxs("div",{className:"flex gap-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx(S1,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),d.jsx("input",{type:"text",placeholder:"Order # or Customer...",value:s,onChange:x=>o(x.target.value),className:"input-premium-light pl-10 w-64"})]}),d.jsx("select",{value:i,onChange:x=>a(x.target.value),className:"input-premium-light cursor-pointer",children:["All","New","Pending","Processing","Shipped","Delivered"].map(x=>d.jsx("option",{value:x,children:x==="All"?"Filter by Status":x},x))})]})]}),d.jsxs("div",{className:"flex gap-6 flex-1 min-h-0",children:[d.jsx("div",{className:`bg-white border border-gray-200 rounded-2xl shadow-sm flex-1 overflow-hidden flex flex-col transition-all duration-300 ${l?"w-2/3":"w-full"}`,children:d.jsx("div",{className:"overflow-y-auto flex-1 p-2",children:d.jsxs("table",{className:"w-full text-left admin-table",children:[d.jsx("thead",{className:"sticky top-0 bg-white z-10",children:d.jsxs("tr",{className:"text-gray-400 text-xs uppercase tracking-wider border-b border-gray-100",children:[d.jsx("th",{className:"p-4 font-medium pl-6",children:"Order"}),d.jsx("th",{className:"p-4 font-medium",children:"Customer"}),d.jsx("th",{className:"p-4 font-medium",children:"Date"}),d.jsx("th",{className:"p-4 font-medium",children:"Total"}),d.jsx("th",{className:"p-4 font-medium",children:"Status"}),d.jsx("th",{className:"p-4 font-medium text-right pr-6",children:"Action"})]})}),d.jsx("tbody",{className:"divide-y divide-gray-50",children:n?d.jsx("tr",{children:d.jsx("td",{colSpan:"6",className:"p-12 text-center text-gray-400",children:"Loading orders..."})}):g.length===0?d.jsx("tr",{children:d.jsx("td",{colSpan:"6",className:"p-12 text-center text-gray-400",children:"No orders found."})}):g.map(x=>{var E;return d.jsxs("tr",{onClick:()=>u(x),className:`hover:bg-gold/5 cursor-pointer transition-colors group border-b border-gray-50 last:border-0 ${(l==null?void 0:l.id)===x.id?"bg-gold/10":""}`,children:[d.jsxs("td",{className:"p-4 pl-6 font-mono text-sm text-gray-600 font-bold group-hover:text-gold transition-colors",children:["#",x.id.slice(0,6)]}),d.jsx("td",{className:"p-4",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-gray-500 font-bold text-xs",children:(E=x.user)==null?void 0:E.charAt(0).toUpperCase()}),d.jsx("span",{className:"text-sm font-medium text-gray-900",children:x.user})]})}),d.jsx("td",{className:"p-4 text-sm text-gray-500",children:x.date}),d.jsxs("td",{className:"p-4 text-sm font-medium text-gray-900",children:["$",Number(x.total).toFixed(2)]}),d.jsx("td",{className:"p-4",children:d.jsx("span",{className:`text-xs font-bold px-2.5 py-1 rounded-full ${x.fulfillmentStatus==="Delivered"?"bg-green-100 text-green-700":x.fulfillmentStatus==="Shipped"?"bg-purple-100 text-purple-700":x.fulfillmentStatus==="Processing"?"bg-blue-100 text-blue-700":"bg-yellow-100 text-yellow-700"}`,children:x.fulfillmentStatus})}),d.jsx("td",{className:"p-4 pr-6 text-right",children:d.jsx("div",{className:"text-gray-300 group-hover:text-gray-600",children:""})})]},x.id)})})]})})}),l&&d.jsxs("div",{className:"w-[400px] bg-white border border-gray-200 rounded-2xl shadow-xl flex flex-col overflow-hidden animate-slide-in-right",children:[d.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-start bg-gold/5",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-lg font-bold text-gray-900",children:["Order #",l.id.slice(0,6)]}),d.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[l.date," at ",new Date(((_=l.created_at)==null?void 0:_.seconds)*1e3).toLocaleTimeString()]})]}),d.jsx("button",{onClick:()=>u(null),className:"p-1 hover:bg-gray-200 rounded-full text-gray-400 hover:text-gray-600 transition-colors",children:d.jsx("span",{className:"text-xl leading-none",children:""})})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full mx-auto flex items-center justify-center text-3xl text-gray-400 font-light mb-4",children:(y=l.user)==null?void 0:y.charAt(0).toUpperCase()}),d.jsxs("h3",{className:"font-bold text-gray-900 text-lg",children:[l.firstName," ",l.lastName]}),d.jsx("p",{className:"text-sm text-gray-500 mb-2",children:l.email}),d.jsx("p",{className:"text-sm text-gold font-bold mb-4",children:l.phone}),d.jsxs("div",{className:"flex justify-center gap-4",children:[d.jsx("button",{onClick:()=>window.location.href=`tel:${l.phone}`,className:"p-2 rounded-full border border-gray-200 hover:bg-gold hover:border-gold hover:text-white transition-colors text-gray-500",title:"Call Customer",children:d.jsx(oX,{size:16})}),d.jsx("button",{onClick:()=>window.location.href=`mailto:${l.email}`,className:"p-2 rounded-full border border-gray-200 hover:bg-gold hover:border-gold hover:text-white transition-colors text-gray-500",title:"Email Customer",children:d.jsx(Mf,{size:16})})]})]}),d.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[d.jsx("h4",{className:"text-[10px] font-bold uppercase tracking-widest text-gray-400 mb-2",children:"Delivery Address"}),d.jsxs("p",{className:"text-sm text-gray-900 leading-relaxed",children:[l.address,d.jsx("br",{}),l.city,", ",l.country]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-xs font-bold uppercase tracking-wider text-gray-400 mb-4",children:"Order Items"}),d.jsx("div",{className:"space-y-4",children:(w=l.cart)==null?void 0:w.map((x,E)=>d.jsxs("div",{className:"flex gap-4",children:[d.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex-shrink-0"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"text-sm font-medium text-gray-900",children:x.name}),d.jsxs("p",{className:"text-xs text-gray-500",children:["Qty: ",x.quantity,"  $",x.price]})]}),d.jsxs("span",{className:"text-sm font-bold text-gray-900",children:["$",(x.price*x.quantity).toFixed(2)]})]},E))}),d.jsxs("div",{className:"border-t border-gray-100 mt-4 pt-4 flex justify-between items-center",children:[d.jsx("span",{className:"font-bold text-gray-900",children:"Total"}),d.jsxs("span",{className:"font-bold text-2xl text-gray-900",children:["$",l.total]})]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-xs font-bold uppercase tracking-wider text-gray-400 mb-4",children:"Fulfillment"}),d.jsx("div",{className:"grid grid-cols-2 gap-2",children:["Pending","Processing","Shipped","Delivered"].map(x=>d.jsx("button",{onClick:()=>m(l.id,x),className:`px-3 py-2 text-xs font-medium rounded-lg border transition-all ${l.fulfillmentStatus===x?"bg-gold text-black border-gold shadow-sm":"border-gray-200 text-gray-500 hover:border-gray-300"}`,children:x},x))})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-xs font-bold uppercase tracking-wider text-gray-400 mb-4",children:"Tracking Info"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"text",value:c,onChange:x=>f(x.target.value),placeholder:"Tracking Number",className:"flex-1 text-sm border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:border-gold"}),d.jsx("button",{onClick:p,className:"bg-black text-white px-4 py-2 rounded-lg text-sm hover:bg-gray-800 transition-colors",children:"Save"})]})]})]})]})]})]})},H0={divine:"/Ambrosia/images/divine.png",kuveni:"/Ambrosia/images/kuveni.png",ravana:"/Ambrosia/images/ravana.png",garden:"/Ambrosia/images/garden.png"},rhe=()=>{const[t,e]=b.useState([]),[n,r]=b.useState(!0),[i,a]=b.useState(!1),[s,o]=b.useState(null),[l,u]=b.useState(""),[c,f]=b.useState(!1),m=pu.useRef(null),p=async A=>{const C=A.target.files[0];if(C){f(!0),console.log("Starting upload for:",C.name);try{const R=oY(hY,`products/${Date.now()}_${C.name}`),j=aY(R,C);j.on("state_changed",I=>{const D=I.bytesTransferred/I.totalBytes*100;console.log("Upload is "+D+"% done")},I=>{console.error("Upload error state:",I),f(!1),alert("Upload failed (Storage State Error): "+I.message)},async()=>{const I=await sY(j.snapshot.ref);console.log("File available at",I),_(D=>({...D,imageUrl:I,imageType:"custom"})),f(!1)})}catch(R){console.error("Upload failed in catch block:",R),alert("Upload failed: "+R.message),f(!1)}}},[g,_]=b.useState({sku:"",name:"",category:"Powder",price:"",cost:"",stock:"",reorderPoint:10,imageType:"divine",imageUrl:""});b.useEffect(()=>{const A=Od(pi(ut,"products"),C=>{const R=C.docs.map(j=>({id:j.id,...j.data()}));e(R),r(!1)},C=>{console.error("Error fetching products:",C),r(!1)});return()=>A()},[]);const y=t.reduce((A,C)=>A+(Number(C.cost)||0)*(Number(C.stock)||0),0),w=t.reduce((A,C)=>A+(Number(C.price)||0)*(Number(C.stock)||0),0),x=t.filter(A=>(Number(A.stock)||0)<=(Number(A.reorderPoint)||0)).length,E=A=>{const C=Number(A.stock)||0,R=Number(A.reorderPoint)||0;return C===0?{label:"Out of Stock",color:"text-red-500 bg-red-500/10 border-red-500/20"}:C<=5?{label:"Critical",color:"text-red-400 bg-red-400/10 border-red-400/20"}:C<=R?{label:"Low Stock",color:"text-yellow-500 bg-yellow-500/10 border-yellow-500/20"}:{label:"In Stock",color:"text-green-500 bg-green-500/10 border-green-500/20"}},N=(A=null)=>{o(A),_(A?{sku:A.sku||"",name:A.name||"",category:A.category||"Powder",price:A.price||"",cost:A.cost||"",stock:A.stock||"",reorderPoint:A.reorderPoint||10,imageType:A.imageType||"divine",imageUrl:A.imageUrl||""}:{sku:"",name:"",category:"Powder",price:"",cost:"",stock:"",reorderPoint:10,imageType:"divine",imageUrl:""}),a(!0)},P=async A=>{A.preventDefault();const C={...g,price:Number(g.price),cost:Number(g.cost),stock:Number(g.stock),reorderPoint:Number(g.reorderPoint)};try{s?await kf(Ar(ut,"products",s.id),C):await ly(pi(ut,"products"),C),a(!1)}catch(R){alert("Failed to save product: "+R.message)}},k=async A=>{window.confirm("Are you sure you want to delete this product?")&&await jM(Ar(ut,"products",A))},T=t.filter(A=>A.name.toLowerCase().includes(l.toLowerCase())||A.sku.toLowerCase().includes(l.toLowerCase()));return n?d.jsx("div",{className:"p-10 text-center text-gray-500 text-xs uppercase tracking-widest",children:"Loading Inventory..."}):d.jsxs("div",{className:"space-y-8",children:[d.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-end gap-4 pb-6 border-b border-gray-200",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Inventory"}),d.jsx("p",{className:"text-gray-500 mt-1 text-sm",children:"Manage product catalog, stock levels, and pricing."})]}),d.jsxs("div",{className:"flex gap-4 w-full md:w-auto",children:[d.jsxs("div",{className:"relative group",children:[d.jsx(S1,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-gold transition-colors",size:18}),d.jsx("input",{type:"text",placeholder:"Search Inventory...",value:l,onChange:A=>u(A.target.value),className:"pl-10 pr-4 py-2.5 bg-white border border-gray-200 rounded-lg text-sm w-full md:w-64 focus:outline-none focus:ring-2 focus:ring-gold/50 transition-all shadow-sm"})]}),d.jsxs("button",{onClick:()=>N(),className:"bg-gradient-to-r from-gold to-yellow-600 hover:from-yellow-400 hover:to-yellow-500 text-black text-xs uppercase tracking-widest px-6 py-2.5 font-bold transition-all rounded-lg flex items-center gap-2 shadow-lg hover:shadow-xl hover:-translate-y-0.5 shadow-gold/20",children:[d.jsx(XY,{size:16})," Add Product"]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"bg-white border border-gray-200 p-6 rounded-2xl shadow-sm flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-gray-500 text-xs font-bold uppercase tracking-wider",children:"Inventory Cost"}),d.jsxs("h3",{className:"text-2xl text-gray-900 font-bold mt-1 tracking-tight",children:["$",y.toLocaleString()]}),d.jsx("p",{className:"text-[10px] text-gray-400 mt-1 italic",children:"Based on your unit costs"})]}),d.jsx("div",{className:"p-3 bg-blue-50 rounded-xl text-blue-600",children:d.jsx(gx,{size:24})})]}),d.jsxs("div",{className:"bg-white border border-gray-200 p-6 rounded-2xl shadow-sm flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-gray-500 text-xs font-bold uppercase tracking-wider",children:"Total Retail Value"}),d.jsxs("h3",{className:"text-2xl text-gold font-bold mt-1 tracking-tight",children:["$",w.toLocaleString()]}),d.jsx("p",{className:"text-[10px] text-gray-400 mt-1 italic",children:"Potential revenue from stock"})]}),d.jsx("div",{className:"p-3 bg-gold/10 rounded-xl text-gold",children:d.jsx(gx,{size:24})})]}),d.jsxs("div",{className:"bg-white border border-gray-200 p-6 rounded-2xl shadow-sm flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-gray-500 text-xs font-bold uppercase tracking-wider",children:"Low Stock Alerts"}),d.jsx("h3",{className:`text-2xl font-bold mt-1 tracking-tight ${x>0?"text-red-600":"text-green-600"}`,children:x}),d.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Below reorder points"})]}),d.jsx("div",{className:`p-3 rounded-xl ${x>0?"bg-red-50 text-red-600":"bg-green-50 text-green-600"}`,children:d.jsx(aX,{size:24})})]})]}),d.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl overflow-hidden shadow-sm",children:d.jsxs("table",{className:"w-full text-left admin-table",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-gray-50 text-gray-400 text-xs font-bold uppercase tracking-wider border-b border-gray-100",children:[d.jsx("th",{className:"p-4 pl-6 font-medium w-20",children:"Image"}),d.jsx("th",{className:"p-4 font-medium",children:"Product Name"}),d.jsx("th",{className:"p-4 font-medium",children:"Category"}),d.jsx("th",{className:"p-4 font-medium text-right",children:"Price"}),d.jsx("th",{className:"p-4 font-medium text-center",children:"Stock"}),d.jsx("th",{className:"p-4 font-medium",children:"Status"}),d.jsx("th",{className:"p-4 font-medium text-right pr-6",children:"Actions"})]})}),d.jsx("tbody",{className:"divide-y divide-gray-50",children:T.map(A=>{const C=E(A);return d.jsxs("tr",{className:"hover:bg-gray-50 transition-colors group",children:[d.jsx("td",{className:"p-4 pl-6",children:d.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg overflow-hidden border border-gray-100",children:A.imageUrl||H0[A.imageType]?d.jsx("img",{src:A.imageUrl||H0[A.imageType],alt:A.name,className:"w-full h-full object-cover",onError:R=>{R.target.onerror=null,R.target.src=H0.divine}}):d.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:d.jsx(wm,{size:16})})})}),d.jsxs("td",{className:"p-4",children:[d.jsx("div",{className:"text-sm text-gray-900 font-bold",children:A.name}),d.jsx("div",{className:"text-xs text-gray-500 font-mono mt-0.5",children:A.sku})]}),d.jsx("td",{className:"p-4 text-sm text-gray-600",children:A.category}),d.jsxs("td",{className:"p-4 text-sm text-gray-900 font-mono text-right font-medium",children:["$",Number(A.price).toFixed(2)]}),d.jsx("td",{className:"p-4 text-sm text-gray-900 font-mono text-center",children:A.stock}),d.jsx("td",{className:"p-4",children:d.jsx("span",{className:`text-[10px] uppercase font-bold tracking-wider px-2.5 py-1 rounded-full border ${C.color.replace("bg-","bg-opacity-10 bg-").replace("text-","text-opacity-100 text-")}`,children:C.label})}),d.jsx("td",{className:"p-4 text-right pr-6",children:d.jsxs("div",{className:"flex gap-2 justify-end opacity-0 group-hover:opacity-100 transition-opacity",children:[d.jsx("button",{onClick:()=>N(A),className:"p-2 text-gray-400 hover:text-gold hover:bg-gold/10 rounded-lg transition-colors",children:d.jsx(GY,{size:16})}),d.jsx("button",{onClick:()=>k(A.id),className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",children:d.jsx(i4,{size:16})})]})})]},A.id)})})]})}),i&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-fade-in",children:d.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-2xl shadow-2xl overflow-hidden animate-scale-in",children:[d.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50/50",children:[d.jsx("h2",{className:"text-lg font-bold text-gray-900",children:s?"Edit Product":"Add New Product"}),d.jsx("button",{onClick:()=>a(!1),className:"text-gray-400 hover:text-gray-600 text-2xl leading-none",children:""})]}),d.jsxs("form",{onSubmit:P,className:"p-8 grid grid-cols-2 gap-6",children:[d.jsxs("div",{className:"col-span-1",children:[d.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-500 mb-2",children:"SKU"}),d.jsx("input",{type:"text",required:!0,className:"w-full bg-white border border-gray-200 rounded-lg p-3 text-gray-900 focus:border-gold focus:ring-1 focus:ring-gold outline-none text-sm transition-all",value:g.sku,onChange:A=>_({...g,sku:A.target.value})})]}),d.jsxs("div",{className:"col-span-1",children:[d.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-500 mb-2",children:"Category"}),d.jsxs("select",{className:"w-full bg-white border border-gray-200 rounded-lg p-3 text-gray-900 focus:border-gold focus:ring-1 focus:ring-gold outline-none text-sm transition-all",value:g.category,onChange:A=>_({...g,category:A.target.value}),children:[d.jsx("option",{children:"Powder"}),d.jsx("option",{children:"Sticks"}),d.jsx("option",{children:"Blends"}),d.jsx("option",{children:"Gift Sets"})]})]}),d.jsxs("div",{className:"col-span-2",children:[d.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-500 mb-2",children:"Product Name"}),d.jsx("input",{type:"text",required:!0,className:"w-full bg-white border border-gray-200 rounded-lg p-3 text-gray-900 focus:border-gold focus:ring-1 focus:ring-gold outline-none text-sm transition-all",value:g.name,onChange:A=>_({...g,name:A.target.value})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-500 mb-2",children:"Price ($)"}),d.jsx("input",{type:"number",step:"0.01",required:!0,className:"w-full bg-white border border-gray-200 rounded-lg p-3 text-gray-900 focus:border-gold focus:ring-1 focus:ring-gold outline-none text-sm transition-all",value:g.price,onChange:A=>_({...g,price:A.target.value})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-500 mb-2",children:"Cost ($)"}),d.jsx("input",{type:"number",step:"0.01",required:!0,className:"w-full bg-white border border-gray-200 rounded-lg p-3 text-gray-900 focus:border-gold focus:ring-1 focus:ring-gold outline-none text-sm transition-all",value:g.cost,onChange:A=>_({...g,cost:A.target.value})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-500 mb-2",children:"Stock"}),d.jsx("input",{type:"number",required:!0,className:"w-full bg-white border border-gray-200 rounded-lg p-3 text-gray-900 focus:border-gold focus:ring-1 focus:ring-gold outline-none text-sm transition-all",value:g.stock,onChange:A=>_({...g,stock:A.target.value})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-500 mb-2",children:"Low Stock Threshold"}),d.jsx("input",{type:"number",required:!0,className:"w-full bg-white border border-gray-200 rounded-lg p-3 text-gray-900 focus:border-gold focus:ring-1 focus:ring-gold outline-none text-sm transition-all",value:g.reorderPoint,onChange:A=>_({...g,reorderPoint:A.target.value})})]}),d.jsxs("div",{className:"col-span-2 bg-gray-50/50 p-6 rounded-2xl border border-gray-100",children:[d.jsxs("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-500 mb-4 flex items-center gap-2",children:[d.jsx(wm,{size:14,className:"text-gold"}),"Product Image Selection"]}),d.jsxs("div",{className:"flex items-center gap-6",children:[d.jsxs("div",{className:"w-24 h-24 bg-white rounded-xl border-2 border-dashed border-gray-200 flex items-center justify-center overflow-hidden relative group shadow-sm transition-all hover:border-gold",children:[g.imageUrl?d.jsxs(d.Fragment,{children:[d.jsx("img",{src:g.imageUrl,alt:"Preview",className:"w-full h-full object-cover"}),d.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:d.jsx("p",{className:"text-[10px] text-white font-bold uppercase",children:"Change"})})]}):d.jsxs("div",{className:"text-center p-2",children:[d.jsx(wm,{className:"text-gray-300 mx-auto mb-1",size:24}),d.jsx("p",{className:"text-[8px] text-gray-400 uppercase font-bold",children:"No Image"})]}),c&&d.jsxs("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm flex flex-col items-center justify-center text-white",children:[d.jsx("div",{className:"w-5 h-5 border-2 border-gold border-t-transparent rounded-full animate-spin mb-2"}),d.jsx("p",{className:"text-[8px] font-bold uppercase tracking-widest",children:"Uploading"})]})]}),d.jsxs("div",{className:"flex-1 space-y-3",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-xs font-bold text-gray-900 mb-1",children:"Upload New Asset"}),d.jsx("p",{className:"text-[10px] text-gray-500 leading-relaxed font-light",children:"Select a high-quality product photo. This will replace any existing image for this SKU across all pages."})]}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"file",ref:m,onChange:p,disabled:c,accept:"image/*",className:"hidden"}),d.jsx("button",{type:"button",onClick:()=>{var A;return(A=m.current)==null?void 0:A.click()},disabled:c,className:`inline-flex items-center gap-2 px-5 py-2.5 bg-black text-white text-[10px] font-bold uppercase tracking-widest rounded-lg cursor-pointer transition-all hover:bg-gray-800 hover:shadow-lg shadow-black/10 ${c?"opacity-50 cursor-not-allowed":""}`,children:c?"Uploading...":"Choose File"}),d.jsx("span",{className:"ml-3 text-[10px] text-gray-400 font-light truncate max-w-[150px] inline-block align-middle",children:c?"Please wait...":"JPG, PNG or WEBP (max 5MB)"})]})]})]})]}),d.jsxs("div",{className:"col-span-2 flex justify-end gap-4 mt-6 pt-6 border-t border-gray-100",children:[d.jsx("button",{type:"button",onClick:()=>a(!1),className:"px-4 py-2 text-xs font-bold uppercase tracking-widest text-gray-500 hover:text-gray-800 transition-colors",children:"Cancel"}),d.jsx("button",{type:"submit",className:"bg-black text-white px-8 py-3 rounded-lg text-xs uppercase tracking-widest font-bold hover:bg-gray-800 transition-colors shadow-lg shadow-black/20",children:"Save Product"})]})]})]})})]})},ihe=()=>{const[t,e]=b.useState([]),[n,r]=b.useState(!0),[i,a]=b.useState(null),[s,o]=b.useState(""),[l,u]=b.useState("all"),[c,f]=b.useState(""),[m,p]=b.useState(!1);b.useEffect(()=>{const x=d1(pi(ut,"messages"),IM("createdAt","desc")),E=Od(x,N=>{const P=N.docs.map(k=>{var T;return{id:k.id,...k.data(),createdAt:((T=k.data().createdAt)==null?void 0:T.toDate())||new Date}});e(P),r(!1)});return()=>E()},[]);const g=async x=>{a(x),x.status==="new"&&await kf(Ar(ut,"messages",x.id),{status:"read"})},_=async(x,E)=>{E&&E.stopPropagation(),window.confirm("Delete this message?")&&(await jM(Ar(ut,"messages",x)),(i==null?void 0:i.id)===x&&a(null))},y=async()=>{if(!(!c.trim()||!i)){p(!0);try{const x="service_vnv2zdj",E="template_bny43aj",N="BsB9Xsr8nr5Yo-WuD",P={to_name:i.name,to_email:i.email,original_message:i.message,reply_message:c,subject:`Re: ${i.subject}`};await h4.send(x,E,P,N),await kf(Ar(ut,"messages",i.id),{status:"replied",repliedAt:new Date}),alert(`Reply sent to ${i.email} successfully!`),f("")}catch(x){console.error("Failed to send reply:",x),alert(`Failed to send email. Error: ${x.text||x.message}
Please check the console for details.`)}finally{p(!1)}}},w=t.filter(x=>{const E=(x.name||"").toLowerCase().includes(s.toLowerCase())||(x.subject||"").toLowerCase().includes(s.toLowerCase())||(x.email||"").toLowerCase().includes(s.toLowerCase());return l==="unread"?E&&x.status==="new":E});return n?d.jsx("div",{className:"p-10 text-center text-gray-500 text-xs uppercase tracking-widest",children:"Loading Inbox..."}):d.jsxs("div",{className:"h-[calc(100vh-6rem)] flex flex-col",children:[d.jsxs("header",{className:"flex justify-between items-center mb-6",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Messages"}),d.jsx("p",{className:"text-gray-500 mt-1 text-sm",children:"Customer inquiries and support tickets."})]}),d.jsx("div",{className:"flex gap-4",children:d.jsxs("div",{className:"relative group",children:[d.jsx(S1,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-gold transition-colors",size:18}),d.jsx("input",{type:"text",placeholder:"Search inbox...",value:s,onChange:x=>o(x.target.value),className:"pl-10 pr-4 py-2.5 bg-white border border-gray-200 rounded-lg text-sm w-64 focus:outline-none focus:ring-2 focus:ring-gold/50 transition-all shadow-sm"})]})})]}),d.jsxs("div",{className:"flex gap-6 flex-1 min-h-0 bg-white border border-gray-200 rounded-2xl shadow-sm overflow-hidden",children:[d.jsxs("div",{className:"w-1/3 min-w-[320px] max-w-[400px] border-r border-gray-100 flex flex-col bg-gray-50/50",children:[d.jsxs("div",{className:"p-4 border-b border-gray-100 flex gap-2",children:[d.jsx("button",{onClick:()=>u("all"),className:`flex-1 py-2 text-[10px] uppercase tracking-widest font-bold rounded-lg transition-all ${l==="all"?"bg-white text-black shadow-sm border border-gray-200":"text-gray-500 hover:bg-gray-100"}`,children:"All"}),d.jsx("button",{onClick:()=>u("unread"),className:`flex-1 py-2 text-[10px] uppercase tracking-widest font-bold rounded-lg transition-all ${l==="unread"?"bg-gold text-black shadow-lg shadow-gold/20":"text-gray-500 hover:bg-gray-100"}`,children:"Unread"})]}),d.jsx("div",{className:"flex-1 overflow-y-auto",children:w.length===0?d.jsx("div",{className:"p-8 text-center text-gray-400 text-xs uppercase tracking-widest",children:"No messages"}):w.map(x=>d.jsxs("div",{onClick:()=>g(x),className:`p-5 border-b border-gray-100 cursor-pointer transition-all hover:bg-white group relative ${(i==null?void 0:i.id)===x.id?"bg-white shadow-md z-10":""}`,children:[d.jsxs("div",{className:"flex justify-between items-start mb-1",children:[d.jsx("h3",{className:`text-sm truncate pr-2 ${x.status==="new"?"text-gray-900 font-bold":"text-gray-600 font-medium"}`,children:x.name}),d.jsx("span",{className:"text-[10px] text-gray-400 font-mono whitespace-nowrap",children:x.createdAt.toLocaleDateString()})]}),d.jsx("p",{className:`text-xs mb-1.5 truncate ${x.status==="new"?"text-gold font-medium":"text-gray-500"}`,children:x.subject}),d.jsx("p",{className:"text-[11px] text-gray-400 truncate leading-relaxed",children:x.message}),x.status==="new"&&d.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-gold"})]},x.id))})]}),d.jsx("div",{className:"flex-1 flex flex-col bg-white relative",children:i?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"p-8 border-b border-gray-100 flex justify-between items-start",children:[d.jsxs("div",{className:"flex items-start gap-4",children:[d.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-100 flex items-center justify-center text-gray-400 font-bold text-lg",children:i.name.charAt(0).toUpperCase()}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl text-gray-900 font-bold mb-1",children:i.subject}),d.jsxs("div",{className:"flex flex-col text-sm text-gray-500",children:[d.jsxs("span",{className:"flex items-center gap-2",children:["From: ",d.jsx("span",{className:"text-gray-900 font-medium",children:i.name}),d.jsxs("span",{className:"text-xs bg-gray-100 px-2 py-0.5 rounded text-gray-500",children:["<",i.email,">"]})]}),d.jsxs("span",{className:"text-[11px] text-gray-400 mt-1 uppercase tracking-wider flex items-center gap-1",children:[d.jsx(RY,{size:12})," ",i.createdAt.toLocaleString()]})]})]})]}),d.jsx("button",{onClick:x=>_(i.id,x),className:"p-2 text-gray-400 hover:text-red-500 transition-colors rounded-lg hover:bg-red-50",title:"Delete Message",children:d.jsx(i4,{size:18})})]}),d.jsx("div",{className:"flex-1 p-8 overflow-y-auto",children:d.jsx("div",{className:"prose max-w-none",children:d.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap text-sm md:text-base",children:i.message})})}),d.jsxs("div",{className:"p-6 bg-gray-50 border-t border-gray-100 m-4 rounded-xl",children:[d.jsxs("h3",{className:"text-xs font-bold uppercase tracking-wider text-gray-500 mb-4 flex items-center gap-2",children:[d.jsx(ZY,{size:14})," Reply to Customer"]}),d.jsx("div",{className:"mb-4",children:d.jsx("textarea",{value:c,onChange:x=>f(x.target.value),placeholder:"Write your response here...",className:"w-full bg-white border border-gray-200 rounded-lg p-4 text-sm text-gray-900 focus:border-gold focus:ring-1 focus:ring-gold outline-none min-h-[120px] resize-none transition-all shadow-sm placeholder:text-gray-400"})}),d.jsx("div",{className:"flex justify-end",children:d.jsx("button",{onClick:y,disabled:!c.trim()||m,className:"bg-gradient-to-r from-gold to-yellow-600 hover:from-yellow-400 hover:to-yellow-500 text-black px-6 py-2.5 rounded-lg shadow-lg hover:shadow-xl hover:-translate-y-0.5 transition-all text-xs uppercase tracking-widest font-bold flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:m?"Sending...":d.jsxs(d.Fragment,{children:[d.jsx(tX,{size:14})," Send Reply"]})})})]})]}):d.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-400",children:[d.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-50 flex items-center justify-center mb-6",children:d.jsx(Mf,{size:40,className:"text-gray-300"})}),d.jsx("p",{className:"text-sm font-medium uppercase tracking-widest text-gray-500",children:"Select a message to view"})]})})]})]})},ahe=()=>d.jsxs(d.Fragment,{children:[d.jsx(gY,{}),d.jsx("main",{children:d.jsx(Jj,{})}),d.jsx(yY,{})]});function she(){return console.log("VERSION CHECK: HASH ROUTER FIX V2 - FLAT ROUTES"),d.jsx(pY,{children:d.jsx(D8,{children:d.jsx(T8,{children:d.jsx("div",{className:"app",children:d.jsxs(n8,{children:[d.jsx(dt,{path:"/admin/login",element:d.jsx(GX,{})}),d.jsxs(dt,{path:"/admin",element:d.jsx(KX,{}),children:[d.jsx(dt,{index:!0,element:d.jsx(the,{})}),d.jsx(dt,{path:"orders",element:d.jsx(nhe,{})}),d.jsx(dt,{path:"products",element:d.jsx(rhe,{})}),d.jsx(dt,{path:"messages",element:d.jsx(ihe,{})})]}),d.jsxs(dt,{path:"/",element:d.jsx(ahe,{}),children:[d.jsx(dt,{index:!0,element:d.jsx(pX,{})}),d.jsx(dt,{path:"about-us",element:d.jsx(gX,{})}),d.jsx(dt,{path:"about-cinnamon",element:d.jsx(bX,{})}),d.jsx(dt,{path:"shop",element:d.jsx(wX,{})}),d.jsx(dt,{path:"recipes",element:d.jsx(SX,{})}),d.jsx(dt,{path:"contact",element:d.jsx(AX,{})}),d.jsx(dt,{path:"cart",element:d.jsx(CX,{})}),d.jsx(dt,{path:"checkout",element:d.jsx(BX,{})}),d.jsx(dt,{path:"track",element:d.jsx($X,{})}),d.jsx(dt,{path:"order-confirmation",element:d.jsx(FX,{})}),d.jsx(dt,{path:"faq",element:d.jsx(NX,{})}),d.jsx(dt,{path:"privacy",element:d.jsx(qX,{})}),d.jsx(dt,{path:"terms",element:d.jsx(HX,{})})]})]})})})})})}rB.createRoot(document.getElementById("root")).render(d.jsx(b.StrictMode,{children:d.jsx(she,{})}));
