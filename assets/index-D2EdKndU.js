(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function i1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var wE={exports:{}},Nc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r1=Symbol.for("react.transitional.element"),s1=Symbol.for("react.fragment");function xE(t,e,n){var i=null;if(n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),"key"in e){n={};for(var r in e)r!=="key"&&(n[r]=e[r])}else n=e;return e=n.ref,{$$typeof:r1,type:t,key:i,ref:e!==void 0?e:null,props:n}}Nc.Fragment=s1;Nc.jsx=xE;Nc.jsxs=xE;wE.exports=Nc;var h=wE.exports,RE={exports:{}},J={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dm=Symbol.for("react.transitional.element"),a1=Symbol.for("react.portal"),o1=Symbol.for("react.fragment"),l1=Symbol.for("react.strict_mode"),u1=Symbol.for("react.profiler"),c1=Symbol.for("react.consumer"),h1=Symbol.for("react.context"),f1=Symbol.for("react.forward_ref"),d1=Symbol.for("react.suspense"),m1=Symbol.for("react.memo"),CE=Symbol.for("react.lazy"),p1=Symbol.for("react.activity"),hy=Symbol.iterator;function g1(t){return t===null||typeof t!="object"?null:(t=hy&&t[hy]||t["@@iterator"],typeof t=="function"?t:null)}var NE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},IE=Object.assign,DE={};function ia(t,e,n){this.props=t,this.context=e,this.refs=DE,this.updater=n||NE}ia.prototype.isReactComponent={};ia.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ia.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function OE(){}OE.prototype=ia.prototype;function mm(t,e,n){this.props=t,this.context=e,this.refs=DE,this.updater=n||NE}var pm=mm.prototype=new OE;pm.constructor=mm;IE(pm,ia.prototype);pm.isPureReactComponent=!0;var fy=Array.isArray;function qf(){}var xe={H:null,A:null,T:null,S:null},ME=Object.prototype.hasOwnProperty;function gm(t,e,n){var i=n.ref;return{$$typeof:dm,type:t,key:e,ref:i!==void 0?i:null,props:n}}function y1(t,e){return gm(t.type,e,t.props)}function ym(t){return typeof t=="object"&&t!==null&&t.$$typeof===dm}function _1(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var dy=/\/+/g;function qh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?_1(""+t.key):e.toString(36)}function v1(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(qf,qf):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function is(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"bigint":case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case dm:case a1:a=!0;break;case CE:return a=t._init,is(a(t._payload),e,n,i,r)}}if(a)return r=r(t),a=i===""?"."+qh(t,0):i,fy(r)?(n="",a!=null&&(n=a.replace(dy,"$&/")+"/"),is(r,e,n,"",function(c){return c})):r!=null&&(ym(r)&&(r=y1(r,n+(r.key==null||t&&t.key===r.key?"":(""+r.key).replace(dy,"$&/")+"/")+a)),e.push(r)),1;a=0;var l=i===""?".":i+":";if(fy(t))for(var u=0;u<t.length;u++)i=t[u],s=l+qh(i,u),a+=is(i,e,n,s,r);else if(u=g1(t),typeof u=="function")for(t=u.call(t),u=0;!(i=t.next()).done;)i=i.value,s=l+qh(i,u++),a+=is(i,e,n,s,r);else if(s==="object"){if(typeof t.then=="function")return is(v1(t),e,n,i,r);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return a}function Pl(t,e,n){if(t==null)return t;var i=[],r=0;return is(t,i,"","",function(s){return e.call(n,s,r++)}),i}function E1(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var my=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},T1={map:Pl,forEach:function(t,e,n){Pl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Pl(t,function(){e++}),e},toArray:function(t){return Pl(t,function(e){return e})||[]},only:function(t){if(!ym(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};J.Activity=p1;J.Children=T1;J.Component=ia;J.Fragment=o1;J.Profiler=u1;J.PureComponent=mm;J.StrictMode=l1;J.Suspense=d1;J.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=xe;J.__COMPILER_RUNTIME={__proto__:null,c:function(t){return xe.H.useMemoCache(t)}};J.cache=function(t){return function(){return t.apply(null,arguments)}};J.cacheSignal=function(){return null};J.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var i=IE({},t.props),r=t.key;if(e!=null)for(s in e.key!==void 0&&(r=""+e.key),e)!ME.call(e,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&e.ref===void 0||(i[s]=e[s]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var a=Array(s),l=0;l<s;l++)a[l]=arguments[l+2];i.children=a}return gm(t.type,r,i)};J.createContext=function(t){return t={$$typeof:h1,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:c1,_context:t},t};J.createElement=function(t,e,n){var i,r={},s=null;if(e!=null)for(i in e.key!==void 0&&(s=""+e.key),e)ME.call(e,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return gm(t,s,r)};J.createRef=function(){return{current:null}};J.forwardRef=function(t){return{$$typeof:f1,render:t}};J.isValidElement=ym;J.lazy=function(t){return{$$typeof:CE,_payload:{_status:-1,_result:t},_init:E1}};J.memo=function(t,e){return{$$typeof:m1,type:t,compare:e===void 0?null:e}};J.startTransition=function(t){var e=xe.T,n={};xe.T=n;try{var i=t(),r=xe.S;r!==null&&r(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(qf,my)}catch(s){my(s)}finally{e!==null&&n.types!==null&&(e.types=n.types),xe.T=e}};J.unstable_useCacheRefresh=function(){return xe.H.useCacheRefresh()};J.use=function(t){return xe.H.use(t)};J.useActionState=function(t,e,n){return xe.H.useActionState(t,e,n)};J.useCallback=function(t,e){return xe.H.useCallback(t,e)};J.useContext=function(t){return xe.H.useContext(t)};J.useDebugValue=function(){};J.useDeferredValue=function(t,e){return xe.H.useDeferredValue(t,e)};J.useEffect=function(t,e){return xe.H.useEffect(t,e)};J.useEffectEvent=function(t){return xe.H.useEffectEvent(t)};J.useId=function(){return xe.H.useId()};J.useImperativeHandle=function(t,e,n){return xe.H.useImperativeHandle(t,e,n)};J.useInsertionEffect=function(t,e){return xe.H.useInsertionEffect(t,e)};J.useLayoutEffect=function(t,e){return xe.H.useLayoutEffect(t,e)};J.useMemo=function(t,e){return xe.H.useMemo(t,e)};J.useOptimistic=function(t,e){return xe.H.useOptimistic(t,e)};J.useReducer=function(t,e,n){return xe.H.useReducer(t,e,n)};J.useRef=function(t){return xe.H.useRef(t)};J.useState=function(t){return xe.H.useState(t)};J.useSyncExternalStore=function(t,e,n){return xe.H.useSyncExternalStore(t,e,n)};J.useTransition=function(){return xe.H.useTransition()};J.version="19.2.3";RE.exports=J;var M=RE.exports;const b1=i1(M);var VE={exports:{}},Ic={},jE={exports:{}},kE={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,te){var W=q.length;q.push(te);e:for(;0<W;){var Ee=W-1>>>1,Pe=q[Ee];if(0<r(Pe,te))q[Ee]=te,q[W]=Pe,W=Ee;else break e}}function n(q){return q.length===0?null:q[0]}function i(q){if(q.length===0)return null;var te=q[0],W=q.pop();if(W!==te){q[0]=W;e:for(var Ee=0,Pe=q.length,hr=Pe>>>1;Ee<hr;){var fr=2*(Ee+1)-1,Wr=q[fr],Ft=fr+1,ai=q[Ft];if(0>r(Wr,W))Ft<Pe&&0>r(ai,Wr)?(q[Ee]=ai,q[Ft]=W,Ee=Ft):(q[Ee]=Wr,q[fr]=W,Ee=fr);else if(Ft<Pe&&0>r(ai,W))q[Ee]=ai,q[Ft]=W,Ee=Ft;else break e}}return te}function r(q,te){var W=q.sortIndex-te.sortIndex;return W!==0?W:q.id-te.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],c=[],d=1,g=null,p=3,_=!1,C=!1,D=!1,I=!1,T=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function V(q){for(var te=n(c);te!==null;){if(te.callback===null)i(c);else if(te.startTime<=q)i(c),te.sortIndex=te.expirationTime,e(u,te);else break;te=n(c)}}function U(q){if(D=!1,V(q),!C)if(n(u)!==null)C=!0,F||(F=!0,N());else{var te=n(c);te!==null&&rn(U,te.startTime-q)}}var F=!1,b=-1,E=5,S=-1;function x(){return I?!0:!(t.unstable_now()-S<E)}function R(){if(I=!1,F){var q=t.unstable_now();S=q;var te=!0;try{e:{C=!1,D&&(D=!1,v(b),b=-1),_=!0;var W=p;try{t:{for(V(q),g=n(u);g!==null&&!(g.expirationTime>q&&x());){var Ee=g.callback;if(typeof Ee=="function"){g.callback=null,p=g.priorityLevel;var Pe=Ee(g.expirationTime<=q);if(q=t.unstable_now(),typeof Pe=="function"){g.callback=Pe,V(q),te=!0;break t}g===n(u)&&i(u),V(q)}else i(u);g=n(u)}if(g!==null)te=!0;else{var hr=n(c);hr!==null&&rn(U,hr.startTime-q),te=!1}}break e}finally{g=null,p=W,_=!1}te=void 0}}finally{te?N():F=!1}}}var N;if(typeof A=="function")N=function(){A(R)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ft=w.port2;w.port1.onmessage=R,N=function(){ft.postMessage(null)}}else N=function(){T(R,0)};function rn(q,te){b=T(function(){q(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(q){switch(p){case 1:case 2:case 3:var te=3;break;default:te=p}var W=p;p=te;try{return q()}finally{p=W}},t.unstable_requestPaint=function(){I=!0},t.unstable_runWithPriority=function(q,te){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var W=p;p=q;try{return te()}finally{p=W}},t.unstable_scheduleCallback=function(q,te,W){var Ee=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?Ee+W:Ee):W=Ee,q){case 1:var Pe=-1;break;case 2:Pe=250;break;case 5:Pe=1073741823;break;case 4:Pe=1e4;break;default:Pe=5e3}return Pe=W+Pe,q={id:d++,callback:te,priorityLevel:q,startTime:W,expirationTime:Pe,sortIndex:-1},W>Ee?(q.sortIndex=W,e(c,q),n(u)===null&&q===n(c)&&(D?(v(b),b=-1):D=!0,rn(U,W-Ee))):(q.sortIndex=Pe,e(u,q),C||_||(C=!0,F||(F=!0,N()))),q},t.unstable_shouldYield=x,t.unstable_wrapCallback=function(q){var te=p;return function(){var W=p;p=te;try{return q.apply(this,arguments)}finally{p=W}}}})(kE);jE.exports=kE;var S1=jE.exports,LE={exports:{}},bt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A1=M;function PE(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function di(){}var Tt={d:{f:di,r:function(){throw Error(PE(522))},D:di,C:di,L:di,m:di,X:di,S:di,M:di},p:0,findDOMNode:null},w1=Symbol.for("react.portal");function x1(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:w1,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}var ro=A1.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Dc(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}bt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Tt;bt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(PE(299));return x1(t,e,null,n)};bt.flushSync=function(t){var e=ro.T,n=Tt.p;try{if(ro.T=null,Tt.p=2,t)return t()}finally{ro.T=e,Tt.p=n,Tt.d.f()}};bt.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Tt.d.C(t,e))};bt.prefetchDNS=function(t){typeof t=="string"&&Tt.d.D(t)};bt.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,i=Dc(n,e.crossOrigin),r=typeof e.integrity=="string"?e.integrity:void 0,s=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?Tt.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:i,integrity:r,fetchPriority:s}):n==="script"&&Tt.d.X(t,{crossOrigin:i,integrity:r,fetchPriority:s,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};bt.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=Dc(e.as,e.crossOrigin);Tt.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Tt.d.M(t)};bt.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,i=Dc(n,e.crossOrigin);Tt.d.L(t,n,{crossOrigin:i,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};bt.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=Dc(e.as,e.crossOrigin);Tt.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Tt.d.m(t)};bt.requestFormReset=function(t){Tt.d.r(t)};bt.unstable_batchedUpdates=function(t,e){return t(e)};bt.useFormState=function(t,e,n){return ro.H.useFormState(t,e,n)};bt.useFormStatus=function(){return ro.H.useHostTransitionStatus()};bt.version="19.2.3";function UE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(UE)}catch(t){console.error(t)}}UE(),LE.exports=bt;var R1=LE.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var We=S1,zE=M,C1=R1;function L(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function BE(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Zo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function qE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function HE(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function py(t){if(Zo(t)!==t)throw Error(L(188))}function N1(t){var e=t.alternate;if(!e){if(e=Zo(t),e===null)throw Error(L(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return py(r),t;if(s===i)return py(r),e;s=s.sibling}throw Error(L(188))}if(n.return!==i.return)n=r,i=s;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,i=s;break}if(l===i){a=!0,i=r,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,i=r;break}if(l===i){a=!0,i=s,n=r;break}l=l.sibling}if(!a)throw Error(L(189))}}if(n.alternate!==i)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?t:e}function FE(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=FE(t),e!==null)return e;t=t.sibling}return null}var Re=Object.assign,I1=Symbol.for("react.element"),Ul=Symbol.for("react.transitional.element"),Qa=Symbol.for("react.portal"),hs=Symbol.for("react.fragment"),GE=Symbol.for("react.strict_mode"),Hf=Symbol.for("react.profiler"),KE=Symbol.for("react.consumer"),Un=Symbol.for("react.context"),_m=Symbol.for("react.forward_ref"),Ff=Symbol.for("react.suspense"),Gf=Symbol.for("react.suspense_list"),vm=Symbol.for("react.memo"),pi=Symbol.for("react.lazy"),Kf=Symbol.for("react.activity"),D1=Symbol.for("react.memo_cache_sentinel"),gy=Symbol.iterator;function Pa(t){return t===null||typeof t!="object"?null:(t=gy&&t[gy]||t["@@iterator"],typeof t=="function"?t:null)}var O1=Symbol.for("react.client.reference");function Qf(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===O1?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case hs:return"Fragment";case Hf:return"Profiler";case GE:return"StrictMode";case Ff:return"Suspense";case Gf:return"SuspenseList";case Kf:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Qa:return"Portal";case Un:return t.displayName||"Context";case KE:return(t._context.displayName||"Context")+".Consumer";case _m:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case vm:return e=t.displayName||null,e!==null?e:Qf(t.type)||"Memo";case pi:e=t._payload,t=t._init;try{return Qf(t(e))}catch{}}return null}var Ya=Array.isArray,Y=zE.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=C1.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,wr={pending:!1,data:null,method:null,action:null},Yf=[],fs=-1;function Nn(t){return{current:t}}function it(t){0>fs||(t.current=Yf[fs],Yf[fs]=null,fs--)}function be(t,e){fs++,Yf[fs]=t.current,t.current=e}var En=Nn(null),wo=Nn(null),Di=Nn(null),Vu=Nn(null);function ju(t,e){switch(be(Di,e),be(wo,t),be(En,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?b_(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=b_(e),t=fb(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}it(En),be(En,t)}function Ls(){it(En),it(wo),it(Di)}function $f(t){t.memoizedState!==null&&be(Vu,t);var e=En.current,n=fb(e,t.type);e!==n&&(be(wo,t),be(En,n))}function ku(t){wo.current===t&&(it(En),it(wo)),Vu.current===t&&(it(Vu),ko._currentValue=wr)}var Hh,yy;function vr(t){if(Hh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Hh=e&&e[1]||"",yy=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Hh+t+yy}var Fh=!1;function Gh(t,e){if(!t||Fh)return"";Fh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var g=function(){throw Error()};if(Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(_){var p=_}Reflect.construct(t,[],g)}else{try{g.call()}catch(_){p=_}t.call(g.prototype)}}else{try{throw Error()}catch(_){p=_}(g=t())&&typeof g.catch=="function"&&g.catch(function(){})}}catch(_){if(_&&p&&typeof _.stack=="string")return[_.stack,p.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=i.DetermineComponentFrameRoot(),a=s[0],l=s[1];if(a&&l){var u=a.split(`
`),c=l.split(`
`);for(r=i=0;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;for(;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;if(i===u.length||r===c.length)for(i=u.length-1,r=c.length-1;1<=i&&0<=r&&u[i]!==c[r];)r--;for(;1<=i&&0<=r;i--,r--)if(u[i]!==c[r]){if(i!==1||r!==1)do if(i--,r--,0>r||u[i]!==c[r]){var d=`
`+u[i].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=i&&0<=r);break}}}finally{Fh=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?vr(n):""}function M1(t,e){switch(t.tag){case 26:case 27:case 5:return vr(t.type);case 16:return vr("Lazy");case 13:return t.child!==e&&e!==null?vr("Suspense Fallback"):vr("Suspense");case 19:return vr("SuspenseList");case 0:case 15:return Gh(t.type,!1);case 11:return Gh(t.type.render,!1);case 1:return Gh(t.type,!0);case 31:return vr("Activity");default:return""}}function _y(t){try{var e="",n=null;do e+=M1(t,n),n=t,t=t.return;while(t);return e}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var Xf=Object.prototype.hasOwnProperty,Em=We.unstable_scheduleCallback,Kh=We.unstable_cancelCallback,V1=We.unstable_shouldYield,j1=We.unstable_requestPaint,Pt=We.unstable_now,k1=We.unstable_getCurrentPriorityLevel,QE=We.unstable_ImmediatePriority,YE=We.unstable_UserBlockingPriority,Lu=We.unstable_NormalPriority,L1=We.unstable_LowPriority,$E=We.unstable_IdlePriority,P1=We.log,U1=We.unstable_setDisableYieldValue,el=null,Ut=null;function wi(t){if(typeof P1=="function"&&U1(t),Ut&&typeof Ut.setStrictMode=="function")try{Ut.setStrictMode(el,t)}catch{}}var zt=Math.clz32?Math.clz32:q1,z1=Math.log,B1=Math.LN2;function q1(t){return t>>>=0,t===0?32:31-(z1(t)/B1|0)|0}var zl=256,Bl=262144,ql=4194304;function Er(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Oc(t,e,n){var i=t.pendingLanes;if(i===0)return 0;var r=0,s=t.suspendedLanes,a=t.pingedLanes;t=t.warmLanes;var l=i&134217727;return l!==0?(i=l&~s,i!==0?r=Er(i):(a&=l,a!==0?r=Er(a):n||(n=l&~t,n!==0&&(r=Er(n))))):(l=i&~s,l!==0?r=Er(l):a!==0?r=Er(a):n||(n=i&~t,n!==0&&(r=Er(n)))),r===0?0:e!==0&&e!==r&&!(e&s)&&(s=r&-r,n=e&-e,s>=n||s===32&&(n&4194048)!==0)?e:r}function tl(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function H1(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function XE(){var t=ql;return ql<<=1,!(ql&62914560)&&(ql=4194304),t}function Qh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function nl(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function F1(t,e,n,i,r,s){var a=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var l=t.entanglements,u=t.expirationTimes,c=t.hiddenUpdates;for(n=a&~n;0<n;){var d=31-zt(n),g=1<<d;l[d]=0,u[d]=-1;var p=c[d];if(p!==null)for(c[d]=null,d=0;d<p.length;d++){var _=p[d];_!==null&&(_.lane&=-536870913)}n&=~g}i!==0&&WE(t,i,0),s!==0&&r===0&&t.tag!==0&&(t.suspendedLanes|=s&~(a&~e))}function WE(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var i=31-zt(e);t.entangledLanes|=e,t.entanglements[i]=t.entanglements[i]|1073741824|n&261930}function JE(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-zt(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}function ZE(t,e){var n=e&-e;return n=n&42?1:Tm(n),n&(t.suspendedLanes|e)?0:n}function Tm(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function bm(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function e0(){var t=he.p;return t!==0?t:(t=window.event,t===void 0?32:Sb(t.type))}function vy(t,e){var n=he.p;try{return he.p=t,e()}finally{he.p=n}}var sr=Math.random().toString(36).slice(2),at="__reactFiber$"+sr,It="__reactProps$"+sr,ra="__reactContainer$"+sr,Wf="__reactEvents$"+sr,G1="__reactListeners$"+sr,K1="__reactHandles$"+sr,Ey="__reactResources$"+sr,il="__reactMarker$"+sr;function Sm(t){delete t[at],delete t[It],delete t[Wf],delete t[G1],delete t[K1]}function ds(t){var e=t[at];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ra]||n[at]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=R_(t);t!==null;){if(n=t[at])return n;t=R_(t)}return e}t=n,n=t.parentNode}return null}function sa(t){if(t=t[at]||t[ra]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function $a(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(L(33))}function As(t){var e=t[Ey];return e||(e=t[Ey]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function nt(t){t[il]=!0}var t0=new Set,n0={};function qr(t,e){Ps(t,e),Ps(t+"Capture",e)}function Ps(t,e){for(n0[t]=e,t=0;t<e.length;t++)t0.add(e[t])}var Q1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ty={},by={};function Y1(t){return Xf.call(by,t)?!0:Xf.call(Ty,t)?!1:Q1.test(t)?by[t]=!0:(Ty[t]=!0,!1)}function ou(t,e,n){if(Y1(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var i=e.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Hl(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function On(t,e,n,i){if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+i)}}function Kt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function i0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function $1(t,e,n){var i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var r=i.get,s=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Jf(t){if(!t._valueTracker){var e=i0(t)?"checked":"value";t._valueTracker=$1(t,e,""+t[e])}}function r0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=i0(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Pu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var X1=/[\n"\\]/g;function $t(t){return t.replace(X1,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Zf(t,e,n,i,r,s,a,l){t.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?t.type=a:t.removeAttribute("type"),e!=null?a==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Kt(e)):t.value!==""+Kt(e)&&(t.value=""+Kt(e)):a!=="submit"&&a!=="reset"||t.removeAttribute("value"),e!=null?ed(t,a,Kt(e)):n!=null?ed(t,a,Kt(n)):i!=null&&t.removeAttribute("value"),r==null&&s!=null&&(t.defaultChecked=!!s),r!=null&&(t.checked=r&&typeof r!="function"&&typeof r!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?t.name=""+Kt(l):t.removeAttribute("name")}function s0(t,e,n,i,r,s,a,l){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.type=s),e!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||e!=null)){Jf(t);return}n=n!=null?""+Kt(n):"",e=e!=null?""+Kt(e):n,l||e===t.value||(t.value=e),t.defaultValue=e}i=i??r,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=l?t.checked:!!i,t.defaultChecked=!!i,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.name=a),Jf(t)}function ed(t,e,n){e==="number"&&Pu(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function ws(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Kt(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function a0(t,e,n){if(e!=null&&(e=""+Kt(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Kt(n):""}function o0(t,e,n,i){if(e==null){if(i!=null){if(n!=null)throw Error(L(92));if(Ya(i)){if(1<i.length)throw Error(L(93));i=i[0]}n=i}n==null&&(n=""),e=n}n=Kt(e),t.defaultValue=n,i=t.textContent,i===n&&i!==""&&i!==null&&(t.value=i),Jf(t)}function Us(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var W1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sy(t,e,n){var i=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":i?t.setProperty(e,n):typeof n!="number"||n===0||W1.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function l0(t,e,n){if(e!=null&&typeof e!="object")throw Error(L(62));if(t=t.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||e!=null&&e.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var r in e)i=e[r],e.hasOwnProperty(r)&&n[r]!==i&&Sy(t,r,i)}else for(var s in e)e.hasOwnProperty(s)&&Sy(t,s,e[s])}function Am(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var J1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Z1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function lu(t){return Z1.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function zn(){}var td=null;function wm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ms=null,xs=null;function Ay(t){var e=sa(t);if(e&&(t=e.stateNode)){var n=t[It]||null;e:switch(t=e.stateNode,e.type){case"input":if(Zf(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+$t(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=i[It]||null;if(!r)throw Error(L(90));Zf(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(e=0;e<n.length;e++)i=n[e],i.form===t.form&&r0(i)}break e;case"textarea":a0(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&ws(t,!!n.multiple,e,!1)}}}var Yh=!1;function u0(t,e,n){if(Yh)return t(e,n);Yh=!0;try{var i=t(e);return i}finally{if(Yh=!1,(ms!==null||xs!==null)&&(Fc(),ms&&(e=ms,t=xs,xs=ms=null,Ay(e),t)))for(e=0;e<t.length;e++)Ay(t[e])}}function xo(t,e){var n=t.stateNode;if(n===null)return null;var i=n[It]||null;if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(L(231,e,typeof n));return n}var Yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nd=!1;if(Yn)try{var Ua={};Object.defineProperty(Ua,"passive",{get:function(){nd=!0}}),window.addEventListener("test",Ua,Ua),window.removeEventListener("test",Ua,Ua)}catch{nd=!1}var xi=null,xm=null,uu=null;function c0(){if(uu)return uu;var t,e=xm,n=e.length,i,r="value"in xi?xi.value:xi.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var a=n-t;for(i=1;i<=a&&e[n-i]===r[s-i];i++);return uu=r.slice(t,1<i?1-i:void 0)}function cu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Fl(){return!0}function wy(){return!1}function Dt(t){function e(n,i,r,s,a){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Fl:wy,this.isPropagationStopped=wy,this}return Re(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Fl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Fl)},persist:function(){},isPersistent:Fl}),e}var Hr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mc=Dt(Hr),rl=Re({},Hr,{view:0,detail:0}),ex=Dt(rl),$h,Xh,za,Vc=Re({},rl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==za&&(za&&t.type==="mousemove"?($h=t.screenX-za.screenX,Xh=t.screenY-za.screenY):Xh=$h=0,za=t),$h)},movementY:function(t){return"movementY"in t?t.movementY:Xh}}),xy=Dt(Vc),tx=Re({},Vc,{dataTransfer:0}),nx=Dt(tx),ix=Re({},rl,{relatedTarget:0}),Wh=Dt(ix),rx=Re({},Hr,{animationName:0,elapsedTime:0,pseudoElement:0}),sx=Dt(rx),ax=Re({},Hr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ox=Dt(ax),lx=Re({},Hr,{data:0}),Ry=Dt(lx),ux={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fx(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=hx[t])?!!e[t]:!1}function Rm(){return fx}var dx=Re({},rl,{key:function(t){if(t.key){var e=ux[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=cu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?cx[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rm,charCode:function(t){return t.type==="keypress"?cu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?cu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),mx=Dt(dx),px=Re({},Vc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cy=Dt(px),gx=Re({},rl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rm}),yx=Dt(gx),_x=Re({},Hr,{propertyName:0,elapsedTime:0,pseudoElement:0}),vx=Dt(_x),Ex=Re({},Vc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Tx=Dt(Ex),bx=Re({},Hr,{newState:0,oldState:0}),Sx=Dt(bx),Ax=[9,13,27,32],Cm=Yn&&"CompositionEvent"in window,so=null;Yn&&"documentMode"in document&&(so=document.documentMode);var wx=Yn&&"TextEvent"in window&&!so,h0=Yn&&(!Cm||so&&8<so&&11>=so),Ny=" ",Iy=!1;function f0(t,e){switch(t){case"keyup":return Ax.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function d0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ps=!1;function xx(t,e){switch(t){case"compositionend":return d0(e);case"keypress":return e.which!==32?null:(Iy=!0,Ny);case"textInput":return t=e.data,t===Ny&&Iy?null:t;default:return null}}function Rx(t,e){if(ps)return t==="compositionend"||!Cm&&f0(t,e)?(t=c0(),uu=xm=xi=null,ps=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return h0&&e.locale!=="ko"?null:e.data;default:return null}}var Cx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Cx[t.type]:e==="textarea"}function m0(t,e,n,i){ms?xs?xs.push(i):xs=[i]:ms=i,e=nc(e,"onChange"),0<e.length&&(n=new Mc("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var ao=null,Ro=null;function Nx(t){ub(t,0)}function jc(t){var e=$a(t);if(r0(e))return t}function Oy(t,e){if(t==="change")return e}var p0=!1;if(Yn){var Jh;if(Yn){var Zh="oninput"in document;if(!Zh){var My=document.createElement("div");My.setAttribute("oninput","return;"),Zh=typeof My.oninput=="function"}Jh=Zh}else Jh=!1;p0=Jh&&(!document.documentMode||9<document.documentMode)}function Vy(){ao&&(ao.detachEvent("onpropertychange",g0),Ro=ao=null)}function g0(t){if(t.propertyName==="value"&&jc(Ro)){var e=[];m0(e,Ro,t,wm(t)),u0(Nx,e)}}function Ix(t,e,n){t==="focusin"?(Vy(),ao=e,Ro=n,ao.attachEvent("onpropertychange",g0)):t==="focusout"&&Vy()}function Dx(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return jc(Ro)}function Ox(t,e){if(t==="click")return jc(e)}function Mx(t,e){if(t==="input"||t==="change")return jc(e)}function Vx(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var qt=typeof Object.is=="function"?Object.is:Vx;function Co(t,e){if(qt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!Xf.call(e,r)||!qt(t[r],e[r]))return!1}return!0}function jy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ky(t,e){var n=jy(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=jy(n)}}function y0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?y0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function _0(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Pu(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Pu(t.document)}return e}function Nm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var jx=Yn&&"documentMode"in document&&11>=document.documentMode,gs=null,id=null,oo=null,rd=!1;function Ly(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;rd||gs==null||gs!==Pu(i)||(i=gs,"selectionStart"in i&&Nm(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),oo&&Co(oo,i)||(oo=i,i=nc(id,"onSelect"),0<i.length&&(e=new Mc("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=gs)))}function _r(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ys={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionrun:_r("Transition","TransitionRun"),transitionstart:_r("Transition","TransitionStart"),transitioncancel:_r("Transition","TransitionCancel"),transitionend:_r("Transition","TransitionEnd")},ef={},v0={};Yn&&(v0=document.createElement("div").style,"AnimationEvent"in window||(delete ys.animationend.animation,delete ys.animationiteration.animation,delete ys.animationstart.animation),"TransitionEvent"in window||delete ys.transitionend.transition);function Fr(t){if(ef[t])return ef[t];if(!ys[t])return t;var e=ys[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in v0)return ef[t]=e[n];return t}var E0=Fr("animationend"),T0=Fr("animationiteration"),b0=Fr("animationstart"),kx=Fr("transitionrun"),Lx=Fr("transitionstart"),Px=Fr("transitioncancel"),S0=Fr("transitionend"),A0=new Map,sd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");sd.push("scrollEnd");function dn(t,e){A0.set(t,e),qr(e,[t])}var Uu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Gt=[],_s=0,Im=0;function kc(){for(var t=_s,e=Im=_s=0;e<t;){var n=Gt[e];Gt[e++]=null;var i=Gt[e];Gt[e++]=null;var r=Gt[e];Gt[e++]=null;var s=Gt[e];if(Gt[e++]=null,i!==null&&r!==null){var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}s!==0&&w0(n,r,s)}}function Lc(t,e,n,i){Gt[_s++]=t,Gt[_s++]=e,Gt[_s++]=n,Gt[_s++]=i,Im|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function Dm(t,e,n,i){return Lc(t,e,n,i),zu(t)}function Gr(t,e){return Lc(t,null,null,e),zu(t)}function w0(t,e,n){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n);for(var r=!1,s=t.return;s!==null;)s.childLanes|=n,i=s.alternate,i!==null&&(i.childLanes|=n),s.tag===22&&(t=s.stateNode,t===null||t._visibility&1||(r=!0)),t=s,s=s.return;return t.tag===3?(s=t.stateNode,r&&e!==null&&(r=31-zt(n),t=s.hiddenUpdates,i=t[r],i===null?t[r]=[e]:i.push(e),e.lane=n|536870912),s):null}function zu(t){if(50<yo)throw yo=0,xd=null,Error(L(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var vs={};function Ux(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jt(t,e,n,i){return new Ux(t,e,n,i)}function Om(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Fn(t,e){var n=t.alternate;return n===null?(n=jt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function x0(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function hu(t,e,n,i,r,s){var a=0;if(i=t,typeof t=="function")Om(t)&&(a=1);else if(typeof t=="string")a=FR(t,n,En.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Kf:return t=jt(31,n,e,r),t.elementType=Kf,t.lanes=s,t;case hs:return xr(n.children,r,s,e);case GE:a=8,r|=24;break;case Hf:return t=jt(12,n,e,r|2),t.elementType=Hf,t.lanes=s,t;case Ff:return t=jt(13,n,e,r),t.elementType=Ff,t.lanes=s,t;case Gf:return t=jt(19,n,e,r),t.elementType=Gf,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Un:a=10;break e;case KE:a=9;break e;case _m:a=11;break e;case vm:a=14;break e;case pi:a=16,i=null;break e}a=29,n=Error(L(130,t===null?"null":typeof t,"")),i=null}return e=jt(a,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function xr(t,e,n,i){return t=jt(7,t,i,e),t.lanes=n,t}function tf(t,e,n){return t=jt(6,t,null,e),t.lanes=n,t}function R0(t){var e=jt(18,null,null,0);return e.stateNode=t,e}function nf(t,e,n){return e=jt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var Py=new WeakMap;function Xt(t,e){if(typeof t=="object"&&t!==null){var n=Py.get(t);return n!==void 0?n:(e={value:t,source:e,stack:_y(e)},Py.set(t,e),e)}return{value:t,source:e,stack:_y(e)}}var Es=[],Ts=0,Bu=null,No=0,Qt=[],Yt=0,$i=null,yn=1,_n="";function Ln(t,e){Es[Ts++]=No,Es[Ts++]=Bu,Bu=t,No=e}function C0(t,e,n){Qt[Yt++]=yn,Qt[Yt++]=_n,Qt[Yt++]=$i,$i=t;var i=yn;t=_n;var r=32-zt(i)-1;i&=~(1<<r),n+=1;var s=32-zt(e)+r;if(30<s){var a=r-r%5;s=(i&(1<<a)-1).toString(32),i>>=a,r-=a,yn=1<<32-zt(e)+r|n<<r|i,_n=s+t}else yn=1<<s|n<<r|i,_n=t}function Mm(t){t.return!==null&&(Ln(t,1),C0(t,1,0))}function Vm(t){for(;t===Bu;)Bu=Es[--Ts],Es[Ts]=null,No=Es[--Ts],Es[Ts]=null;for(;t===$i;)$i=Qt[--Yt],Qt[Yt]=null,_n=Qt[--Yt],Qt[Yt]=null,yn=Qt[--Yt],Qt[Yt]=null}function N0(t,e){Qt[Yt++]=yn,Qt[Yt++]=_n,Qt[Yt++]=$i,yn=e.id,_n=e.overflow,$i=t}var ot=null,we=null,le=!1,Oi=null,Wt=!1,ad=Error(L(519));function Xi(t){var e=Error(L(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Io(Xt(e,t)),ad}function Uy(t){var e=t.stateNode,n=t.type,i=t.memoizedProps;switch(e[at]=t,e[It]=i,n){case"dialog":ne("cancel",e),ne("close",e);break;case"iframe":case"object":case"embed":ne("load",e);break;case"video":case"audio":for(n=0;n<Vo.length;n++)ne(Vo[n],e);break;case"source":ne("error",e);break;case"img":case"image":case"link":ne("error",e),ne("load",e);break;case"details":ne("toggle",e);break;case"input":ne("invalid",e),s0(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":ne("invalid",e);break;case"textarea":ne("invalid",e),o0(e,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||i.suppressHydrationWarning===!0||hb(e.textContent,n)?(i.popover!=null&&(ne("beforetoggle",e),ne("toggle",e)),i.onScroll!=null&&ne("scroll",e),i.onScrollEnd!=null&&ne("scrollend",e),i.onClick!=null&&(e.onclick=zn),e=!0):e=!1,e||Xi(t,!0)}function zy(t){for(ot=t.return;ot;)switch(ot.tag){case 5:case 31:case 13:Wt=!1;return;case 27:case 3:Wt=!0;return;default:ot=ot.return}}function ts(t){if(t!==ot)return!1;if(!le)return zy(t),le=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Dd(t.type,t.memoizedProps)),n=!n),n&&we&&Xi(t),zy(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(L(317));we=x_(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(L(317));we=x_(t)}else e===27?(e=we,ar(t.type)?(t=jd,jd=null,we=t):we=e):we=ot?en(t.stateNode.nextSibling):null;return!0}function Dr(){we=ot=null,le=!1}function rf(){var t=Oi;return t!==null&&(xt===null?xt=t:xt.push.apply(xt,t),Oi=null),t}function Io(t){Oi===null?Oi=[t]:Oi.push(t)}var od=Nn(null),Kr=null,Bn=null;function yi(t,e,n){be(od,e._currentValue),e._currentValue=n}function Gn(t){t._currentValue=od.current,it(od)}function ld(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function ud(t,e,n,i){var r=t.child;for(r!==null&&(r.return=t);r!==null;){var s=r.dependencies;if(s!==null){var a=r.child;s=s.firstContext;e:for(;s!==null;){var l=s;s=r;for(var u=0;u<e.length;u++)if(l.context===e[u]){s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),ld(s.return,n,t),i||(a=null);break e}s=l.next}}else if(r.tag===18){if(a=r.return,a===null)throw Error(L(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),ld(a,n,t),a=null}else a=r.child;if(a!==null)a.return=r;else for(a=r;a!==null;){if(a===t){a=null;break}if(r=a.sibling,r!==null){r.return=a.return,a=r;break}a=a.return}r=a}}function aa(t,e,n,i){t=null;for(var r=e,s=!1;r!==null;){if(!s){if(r.flags&524288)s=!0;else if(r.flags&262144)break}if(r.tag===10){var a=r.alternate;if(a===null)throw Error(L(387));if(a=a.memoizedProps,a!==null){var l=r.type;qt(r.pendingProps.value,a.value)||(t!==null?t.push(l):t=[l])}}else if(r===Vu.current){if(a=r.alternate,a===null)throw Error(L(387));a.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(t!==null?t.push(ko):t=[ko])}r=r.return}t!==null&&ud(e,t,n,i),e.flags|=262144}function qu(t){for(t=t.firstContext;t!==null;){if(!qt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Or(t){Kr=t,Bn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ut(t){return I0(Kr,t)}function Gl(t,e){return Kr===null&&Or(t),I0(t,e)}function I0(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Bn===null){if(t===null)throw Error(L(308));Bn=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Bn=Bn.next=e;return n}var zx=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,i){t.push(i)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},Bx=We.unstable_scheduleCallback,qx=We.unstable_NormalPriority,He={$$typeof:Un,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jm(){return{controller:new zx,data:new Map,refCount:0}}function sl(t){t.refCount--,t.refCount===0&&Bx(qx,function(){t.controller.abort()})}var lo=null,cd=0,zs=0,Rs=null;function Hx(t,e){if(lo===null){var n=lo=[];cd=0,zs=ap(),Rs={status:"pending",value:void 0,then:function(i){n.push(i)}}}return cd++,e.then(By,By),e}function By(){if(--cd===0&&lo!==null){Rs!==null&&(Rs.status="fulfilled");var t=lo;lo=null,zs=0,Rs=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function Fx(t,e){var n=[],i={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return t.then(function(){i.status="fulfilled",i.value=e;for(var r=0;r<n.length;r++)(0,n[r])(e)},function(r){for(i.status="rejected",i.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),i}var qy=Y.S;Y.S=function(t,e){FT=Pt(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&Hx(t,e),qy!==null&&qy(t,e)};var Rr=Nn(null);function km(){var t=Rr.current;return t!==null?t:ve.pooledCache}function fu(t,e){e===null?be(Rr,Rr.current):be(Rr,e.pool)}function D0(){var t=km();return t===null?null:{parent:He._currentValue,pool:t}}var oa=Error(L(460)),Lm=Error(L(474)),Pc=Error(L(542)),Hu={then:function(){}};function Hy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function O0(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(zn,zn),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Gy(t),t;default:if(typeof e.status=="string")e.then(zn,zn);else{if(t=ve,t!==null&&100<t.shellSuspendCounter)throw Error(L(482));t=e,t.status="pending",t.then(function(i){if(e.status==="pending"){var r=e;r.status="fulfilled",r.value=i}},function(i){if(e.status==="pending"){var r=e;r.status="rejected",r.reason=i}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Gy(t),t}throw Cr=e,oa}}function Tr(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Cr=n,oa):n}}var Cr=null;function Fy(){if(Cr===null)throw Error(L(459));var t=Cr;return Cr=null,t}function Gy(t){if(t===oa||t===Pc)throw Error(L(483))}var Cs=null,Do=0;function Kl(t){var e=Do;return Do+=1,Cs===null&&(Cs=[]),O0(Cs,t,e)}function Ba(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Ql(t,e){throw e.$$typeof===I1?Error(L(525)):(t=Object.prototype.toString.call(e),Error(L(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function M0(t){function e(T,v){if(t){var A=T.deletions;A===null?(T.deletions=[v],T.flags|=16):A.push(v)}}function n(T,v){if(!t)return null;for(;v!==null;)e(T,v),v=v.sibling;return null}function i(T){for(var v=new Map;T!==null;)T.key!==null?v.set(T.key,T):v.set(T.index,T),T=T.sibling;return v}function r(T,v){return T=Fn(T,v),T.index=0,T.sibling=null,T}function s(T,v,A){return T.index=A,t?(A=T.alternate,A!==null?(A=A.index,A<v?(T.flags|=67108866,v):A):(T.flags|=67108866,v)):(T.flags|=1048576,v)}function a(T){return t&&T.alternate===null&&(T.flags|=67108866),T}function l(T,v,A,V){return v===null||v.tag!==6?(v=tf(A,T.mode,V),v.return=T,v):(v=r(v,A),v.return=T,v)}function u(T,v,A,V){var U=A.type;return U===hs?d(T,v,A.props.children,V,A.key):v!==null&&(v.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===pi&&Tr(U)===v.type)?(v=r(v,A.props),Ba(v,A),v.return=T,v):(v=hu(A.type,A.key,A.props,null,T.mode,V),Ba(v,A),v.return=T,v)}function c(T,v,A,V){return v===null||v.tag!==4||v.stateNode.containerInfo!==A.containerInfo||v.stateNode.implementation!==A.implementation?(v=nf(A,T.mode,V),v.return=T,v):(v=r(v,A.children||[]),v.return=T,v)}function d(T,v,A,V,U){return v===null||v.tag!==7?(v=xr(A,T.mode,V,U),v.return=T,v):(v=r(v,A),v.return=T,v)}function g(T,v,A){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return v=tf(""+v,T.mode,A),v.return=T,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ul:return A=hu(v.type,v.key,v.props,null,T.mode,A),Ba(A,v),A.return=T,A;case Qa:return v=nf(v,T.mode,A),v.return=T,v;case pi:return v=Tr(v),g(T,v,A)}if(Ya(v)||Pa(v))return v=xr(v,T.mode,A,null),v.return=T,v;if(typeof v.then=="function")return g(T,Kl(v),A);if(v.$$typeof===Un)return g(T,Gl(T,v),A);Ql(T,v)}return null}function p(T,v,A,V){var U=v!==null?v.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return U!==null?null:l(T,v,""+A,V);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Ul:return A.key===U?u(T,v,A,V):null;case Qa:return A.key===U?c(T,v,A,V):null;case pi:return A=Tr(A),p(T,v,A,V)}if(Ya(A)||Pa(A))return U!==null?null:d(T,v,A,V,null);if(typeof A.then=="function")return p(T,v,Kl(A),V);if(A.$$typeof===Un)return p(T,v,Gl(T,A),V);Ql(T,A)}return null}function _(T,v,A,V,U){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return T=T.get(A)||null,l(v,T,""+V,U);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case Ul:return T=T.get(V.key===null?A:V.key)||null,u(v,T,V,U);case Qa:return T=T.get(V.key===null?A:V.key)||null,c(v,T,V,U);case pi:return V=Tr(V),_(T,v,A,V,U)}if(Ya(V)||Pa(V))return T=T.get(A)||null,d(v,T,V,U,null);if(typeof V.then=="function")return _(T,v,A,Kl(V),U);if(V.$$typeof===Un)return _(T,v,A,Gl(v,V),U);Ql(v,V)}return null}function C(T,v,A,V){for(var U=null,F=null,b=v,E=v=0,S=null;b!==null&&E<A.length;E++){b.index>E?(S=b,b=null):S=b.sibling;var x=p(T,b,A[E],V);if(x===null){b===null&&(b=S);break}t&&b&&x.alternate===null&&e(T,b),v=s(x,v,E),F===null?U=x:F.sibling=x,F=x,b=S}if(E===A.length)return n(T,b),le&&Ln(T,E),U;if(b===null){for(;E<A.length;E++)b=g(T,A[E],V),b!==null&&(v=s(b,v,E),F===null?U=b:F.sibling=b,F=b);return le&&Ln(T,E),U}for(b=i(b);E<A.length;E++)S=_(b,T,E,A[E],V),S!==null&&(t&&S.alternate!==null&&b.delete(S.key===null?E:S.key),v=s(S,v,E),F===null?U=S:F.sibling=S,F=S);return t&&b.forEach(function(R){return e(T,R)}),le&&Ln(T,E),U}function D(T,v,A,V){if(A==null)throw Error(L(151));for(var U=null,F=null,b=v,E=v=0,S=null,x=A.next();b!==null&&!x.done;E++,x=A.next()){b.index>E?(S=b,b=null):S=b.sibling;var R=p(T,b,x.value,V);if(R===null){b===null&&(b=S);break}t&&b&&R.alternate===null&&e(T,b),v=s(R,v,E),F===null?U=R:F.sibling=R,F=R,b=S}if(x.done)return n(T,b),le&&Ln(T,E),U;if(b===null){for(;!x.done;E++,x=A.next())x=g(T,x.value,V),x!==null&&(v=s(x,v,E),F===null?U=x:F.sibling=x,F=x);return le&&Ln(T,E),U}for(b=i(b);!x.done;E++,x=A.next())x=_(b,T,E,x.value,V),x!==null&&(t&&x.alternate!==null&&b.delete(x.key===null?E:x.key),v=s(x,v,E),F===null?U=x:F.sibling=x,F=x);return t&&b.forEach(function(N){return e(T,N)}),le&&Ln(T,E),U}function I(T,v,A,V){if(typeof A=="object"&&A!==null&&A.type===hs&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case Ul:e:{for(var U=A.key;v!==null;){if(v.key===U){if(U=A.type,U===hs){if(v.tag===7){n(T,v.sibling),V=r(v,A.props.children),V.return=T,T=V;break e}}else if(v.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===pi&&Tr(U)===v.type){n(T,v.sibling),V=r(v,A.props),Ba(V,A),V.return=T,T=V;break e}n(T,v);break}else e(T,v);v=v.sibling}A.type===hs?(V=xr(A.props.children,T.mode,V,A.key),V.return=T,T=V):(V=hu(A.type,A.key,A.props,null,T.mode,V),Ba(V,A),V.return=T,T=V)}return a(T);case Qa:e:{for(U=A.key;v!==null;){if(v.key===U)if(v.tag===4&&v.stateNode.containerInfo===A.containerInfo&&v.stateNode.implementation===A.implementation){n(T,v.sibling),V=r(v,A.children||[]),V.return=T,T=V;break e}else{n(T,v);break}else e(T,v);v=v.sibling}V=nf(A,T.mode,V),V.return=T,T=V}return a(T);case pi:return A=Tr(A),I(T,v,A,V)}if(Ya(A))return C(T,v,A,V);if(Pa(A)){if(U=Pa(A),typeof U!="function")throw Error(L(150));return A=U.call(A),D(T,v,A,V)}if(typeof A.then=="function")return I(T,v,Kl(A),V);if(A.$$typeof===Un)return I(T,v,Gl(T,A),V);Ql(T,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,v!==null&&v.tag===6?(n(T,v.sibling),V=r(v,A),V.return=T,T=V):(n(T,v),V=tf(A,T.mode,V),V.return=T,T=V),a(T)):n(T,v)}return function(T,v,A,V){try{Do=0;var U=I(T,v,A,V);return Cs=null,U}catch(b){if(b===oa||b===Pc)throw b;var F=jt(29,b,null,T.mode);return F.lanes=V,F.return=T,F}finally{}}}var Mr=M0(!0),V0=M0(!1),gi=!1;function Pm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hd(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Mi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Vi(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,ce&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,e=zu(t),w0(t,null,n),e}return Lc(t,i,e,n),zu(t)}function uo(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,JE(t,n)}}function sf(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?r=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,callbacks:i.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var fd=!1;function co(){if(fd){var t=Rs;if(t!==null)throw t}}function ho(t,e,n,i){fd=!1;var r=t.updateQueue;gi=!1;var s=r.firstBaseUpdate,a=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var u=l,c=u.next;u.next=null,a===null?s=c:a.next=c,a=u;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(s!==null){var g=r.baseState;a=0,d=c=u=null,l=s;do{var p=l.lane&-536870913,_=p!==l.lane;if(_?(oe&p)===p:(i&p)===p){p!==0&&p===zs&&(fd=!0),d!==null&&(d=d.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var C=t,D=l;p=e;var I=n;switch(D.tag){case 1:if(C=D.payload,typeof C=="function"){g=C.call(I,g,p);break e}g=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=D.payload,p=typeof C=="function"?C.call(I,g,p):C,p==null)break e;g=Re({},g,p);break e;case 2:gi=!0}}p=l.callback,p!==null&&(t.flags|=64,_&&(t.flags|=8192),_=r.callbacks,_===null?r.callbacks=[p]:_.push(p))}else _={lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=_,u=g):d=d.next=_,a|=p;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;_=l,l=_.next,_.next=null,r.lastBaseUpdate=_,r.shared.pending=null}}while(!0);d===null&&(u=g),r.baseState=u,r.firstBaseUpdate=c,r.lastBaseUpdate=d,s===null&&(r.shared.lanes=0),Ji|=a,t.lanes=a,t.memoizedState=g}}function j0(t,e){if(typeof t!="function")throw Error(L(191,t));t.call(e)}function k0(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)j0(n[t],e)}var Bs=Nn(null),Fu=Nn(0);function Ky(t,e){t=Jn,be(Fu,t),be(Bs,e),Jn=t|e.baseLanes}function dd(){be(Fu,Jn),be(Bs,Bs.current)}function Um(){Jn=Fu.current,it(Bs),it(Fu)}var Ht=Nn(null),Zt=null;function _i(t){var e=t.alternate;be(je,je.current&1),be(Ht,t),Zt===null&&(e===null||Bs.current!==null||e.memoizedState!==null)&&(Zt=t)}function md(t){be(je,je.current),be(Ht,t),Zt===null&&(Zt=t)}function L0(t){t.tag===22?(be(je,je.current),be(Ht,t),Zt===null&&(Zt=t)):vi()}function vi(){be(je,je.current),be(Ht,Ht.current)}function Vt(t){it(Ht),Zt===t&&(Zt=null),it(je)}var je=Nn(0);function Gu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Md(n)||Vd(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var $n=0,Z=null,ge=null,Be=null,Ku=!1,Ns=!1,Vr=!1,Qu=0,Oo=0,Is=null,Gx=0;function Oe(){throw Error(L(321))}function zm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!qt(t[n],e[n]))return!1;return!0}function Bm(t,e,n,i,r,s){return $n=s,Z=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Y.H=t===null||t.memoizedState===null?mT:Jm,Vr=!1,s=n(i,r),Vr=!1,Ns&&(s=U0(e,n,i,r)),P0(t),s}function P0(t){Y.H=Mo;var e=ge!==null&&ge.next!==null;if($n=0,Be=ge=Z=null,Ku=!1,Oo=0,Is=null,e)throw Error(L(300));t===null||Ge||(t=t.dependencies,t!==null&&qu(t)&&(Ge=!0))}function U0(t,e,n,i){Z=t;var r=0;do{if(Ns&&(Is=null),Oo=0,Ns=!1,25<=r)throw Error(L(301));if(r+=1,Be=ge=null,t.updateQueue!=null){var s=t.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}Y.H=pT,s=e(n,i)}while(Ns);return s}function Kx(){var t=Y.H,e=t.useState()[0];return e=typeof e.then=="function"?al(e):e,t=t.useState()[0],(ge!==null?ge.memoizedState:null)!==t&&(Z.flags|=1024),e}function qm(){var t=Qu!==0;return Qu=0,t}function Hm(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function Fm(t){if(Ku){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Ku=!1}$n=0,Be=ge=Z=null,Ns=!1,Oo=Qu=0,Is=null}function Et(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?Z.memoizedState=Be=t:Be=Be.next=t,Be}function Le(){if(ge===null){var t=Z.alternate;t=t!==null?t.memoizedState:null}else t=ge.next;var e=Be===null?Z.memoizedState:Be.next;if(e!==null)Be=e,ge=t;else{if(t===null)throw Z.alternate===null?Error(L(467)):Error(L(310));ge=t,t={memoizedState:ge.memoizedState,baseState:ge.baseState,baseQueue:ge.baseQueue,queue:ge.queue,next:null},Be===null?Z.memoizedState=Be=t:Be=Be.next=t}return Be}function Uc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function al(t){var e=Oo;return Oo+=1,Is===null&&(Is=[]),t=O0(Is,t,e),e=Z,(Be===null?e.memoizedState:Be.next)===null&&(e=e.alternate,Y.H=e===null||e.memoizedState===null?mT:Jm),t}function zc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return al(t);if(t.$$typeof===Un)return ut(t)}throw Error(L(438,String(t)))}function Gm(t){var e=null,n=Z.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var i=Z.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(e={data:i.data.map(function(r){return r.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Uc(),Z.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),i=0;i<t;i++)n[i]=D1;return e.index++,n}function Xn(t,e){return typeof e=="function"?e(t):e}function du(t){var e=Le();return Km(e,ge,t)}function Km(t,e,n){var i=t.queue;if(i===null)throw Error(L(311));i.lastRenderedReducer=n;var r=t.baseQueue,s=i.pending;if(s!==null){if(r!==null){var a=r.next;r.next=s.next,s.next=a}e.baseQueue=r=s,i.pending=null}if(s=t.baseState,r===null)t.memoizedState=s;else{e=r.next;var l=a=null,u=null,c=e,d=!1;do{var g=c.lane&-536870913;if(g!==c.lane?(oe&g)===g:($n&g)===g){var p=c.revertLane;if(p===0)u!==null&&(u=u.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),g===zs&&(d=!0);else if(($n&p)===p){c=c.next,p===zs&&(d=!0);continue}else g={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(l=u=g,a=s):u=u.next=g,Z.lanes|=p,Ji|=p;g=c.action,Vr&&n(s,g),s=c.hasEagerState?c.eagerState:n(s,g)}else p={lane:g,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(l=u=p,a=s):u=u.next=p,Z.lanes|=g,Ji|=g;c=c.next}while(c!==null&&c!==e);if(u===null?a=s:u.next=l,!qt(s,t.memoizedState)&&(Ge=!0,d&&(n=Rs,n!==null)))throw n;t.memoizedState=s,t.baseState=a,t.baseQueue=u,i.lastRenderedState=s}return r===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function af(t){var e=Le(),n=e.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do s=t(s,a.action),a=a.next;while(a!==r);qt(s,e.memoizedState)||(Ge=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function z0(t,e,n){var i=Z,r=Le(),s=le;if(s){if(n===void 0)throw Error(L(407));n=n()}else n=e();var a=!qt((ge||r).memoizedState,n);if(a&&(r.memoizedState=n,Ge=!0),r=r.queue,Qm(H0.bind(null,i,r,t),[t]),r.getSnapshot!==e||a||Be!==null&&Be.memoizedState.tag&1){if(i.flags|=2048,qs(9,{destroy:void 0},q0.bind(null,i,r,n,e),null),ve===null)throw Error(L(349));s||$n&127||B0(i,e,n)}return n}function B0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Z.updateQueue,e===null?(e=Uc(),Z.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function q0(t,e,n,i){e.value=n,e.getSnapshot=i,F0(e)&&G0(t)}function H0(t,e,n){return n(function(){F0(e)&&G0(t)})}function F0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!qt(t,n)}catch{return!0}}function G0(t){var e=Gr(t,2);e!==null&&Nt(e,t,2)}function pd(t){var e=Et();if(typeof t=="function"){var n=t;if(t=n(),Vr){wi(!0);try{n()}finally{wi(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xn,lastRenderedState:t},e}function K0(t,e,n,i){return t.baseState=n,Km(t,ge,typeof i=="function"?i:Xn)}function Qx(t,e,n,i,r){if(qc(t))throw Error(L(485));if(t=e.action,t!==null){var s={payload:r,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){s.listeners.push(a)}};Y.T!==null?n(!0):s.isTransition=!1,i(s),n=e.pending,n===null?(s.next=e.pending=s,Q0(e,s)):(s.next=n.next,e.pending=n.next=s)}}function Q0(t,e){var n=e.action,i=e.payload,r=t.state;if(e.isTransition){var s=Y.T,a={};Y.T=a;try{var l=n(r,i),u=Y.S;u!==null&&u(a,l),Qy(t,e,l)}catch(c){gd(t,e,c)}finally{s!==null&&a.types!==null&&(s.types=a.types),Y.T=s}}else try{s=n(r,i),Qy(t,e,s)}catch(c){gd(t,e,c)}}function Qy(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Yy(t,e,i)},function(i){return gd(t,e,i)}):Yy(t,e,n)}function Yy(t,e,n){e.status="fulfilled",e.value=n,Y0(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,Q0(t,n)))}function gd(t,e,n){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do e.status="rejected",e.reason=n,Y0(e),e=e.next;while(e!==i)}t.action=null}function Y0(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function $0(t,e){return e}function $y(t,e){if(le){var n=ve.formState;if(n!==null){e:{var i=Z;if(le){if(we){t:{for(var r=we,s=Wt;r.nodeType!==8;){if(!s){r=null;break t}if(r=en(r.nextSibling),r===null){r=null;break t}}s=r.data,r=s==="F!"||s==="F"?r:null}if(r){we=en(r.nextSibling),i=r.data==="F!";break e}}Xi(i)}i=!1}i&&(e=n[0])}}return n=Et(),n.memoizedState=n.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$0,lastRenderedState:e},n.queue=i,n=hT.bind(null,Z,i),i.dispatch=n,i=pd(!1),s=Wm.bind(null,Z,!1,i.queue),i=Et(),r={state:e,dispatch:null,action:t,pending:null},i.queue=r,n=Qx.bind(null,Z,r,s,n),r.dispatch=n,i.memoizedState=t,[e,n,!1]}function Xy(t){var e=Le();return X0(e,ge,t)}function X0(t,e,n){if(e=Km(t,e,$0)[0],t=du(Xn)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var i=al(e)}catch(a){throw a===oa?Pc:a}else i=e;e=Le();var r=e.queue,s=r.dispatch;return n!==e.memoizedState&&(Z.flags|=2048,qs(9,{destroy:void 0},Yx.bind(null,r,n),null)),[i,s,t]}function Yx(t,e){t.action=e}function Wy(t){var e=Le(),n=ge;if(n!==null)return X0(e,n,t);Le(),e=e.memoizedState,n=Le();var i=n.queue.dispatch;return n.memoizedState=t,[e,i,!1]}function qs(t,e,n,i){return t={tag:t,create:n,deps:i,inst:e,next:null},e=Z.updateQueue,e===null&&(e=Uc(),Z.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function W0(){return Le().memoizedState}function mu(t,e,n,i){var r=Et();Z.flags|=t,r.memoizedState=qs(1|e,{destroy:void 0},n,i===void 0?null:i)}function Bc(t,e,n,i){var r=Le();i=i===void 0?null:i;var s=r.memoizedState.inst;ge!==null&&i!==null&&zm(i,ge.memoizedState.deps)?r.memoizedState=qs(e,s,n,i):(Z.flags|=t,r.memoizedState=qs(1|e,s,n,i))}function Jy(t,e){mu(8390656,8,t,e)}function Qm(t,e){Bc(2048,8,t,e)}function $x(t){Z.flags|=4;var e=Z.updateQueue;if(e===null)e=Uc(),Z.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function J0(t){var e=Le().memoizedState;return $x({ref:e,nextImpl:t}),function(){if(ce&2)throw Error(L(440));return e.impl.apply(void 0,arguments)}}function Z0(t,e){return Bc(4,2,t,e)}function eT(t,e){return Bc(4,4,t,e)}function tT(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function nT(t,e,n){n=n!=null?n.concat([t]):null,Bc(4,4,tT.bind(null,e,t),n)}function Ym(){}function iT(t,e){var n=Le();e=e===void 0?null:e;var i=n.memoizedState;return e!==null&&zm(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function rT(t,e){var n=Le();e=e===void 0?null:e;var i=n.memoizedState;if(e!==null&&zm(e,i[1]))return i[0];if(i=t(),Vr){wi(!0);try{t()}finally{wi(!1)}}return n.memoizedState=[i,e],i}function $m(t,e,n){return n===void 0||$n&1073741824&&!(oe&261930)?t.memoizedState=e:(t.memoizedState=n,t=KT(),Z.lanes|=t,Ji|=t,n)}function sT(t,e,n,i){return qt(n,e)?n:Bs.current!==null?(t=$m(t,n,i),qt(t,e)||(Ge=!0),t):!($n&42)||$n&1073741824&&!(oe&261930)?(Ge=!0,t.memoizedState=n):(t=KT(),Z.lanes|=t,Ji|=t,e)}function aT(t,e,n,i,r){var s=he.p;he.p=s!==0&&8>s?s:8;var a=Y.T,l={};Y.T=l,Wm(t,!1,e,n);try{var u=r(),c=Y.S;if(c!==null&&c(l,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=Fx(u,i);fo(t,e,d,Bt(t))}else fo(t,e,i,Bt(t))}catch(g){fo(t,e,{then:function(){},status:"rejected",reason:g},Bt())}finally{he.p=s,a!==null&&l.types!==null&&(a.types=l.types),Y.T=a}}function Xx(){}function yd(t,e,n,i){if(t.tag!==5)throw Error(L(476));var r=oT(t).queue;aT(t,r,e,wr,n===null?Xx:function(){return lT(t),n(i)})}function oT(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:wr,baseState:wr,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xn,lastRenderedState:wr},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xn,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function lT(t){var e=oT(t);e.next===null&&(e=t.alternate.memoizedState),fo(t,e.next.queue,{},Bt())}function Xm(){return ut(ko)}function uT(){return Le().memoizedState}function cT(){return Le().memoizedState}function Wx(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=Bt();t=Mi(n);var i=Vi(e,t,n);i!==null&&(Nt(i,e,n),uo(i,e,n)),e={cache:jm()},t.payload=e;return}e=e.return}}function Jx(t,e,n){var i=Bt();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},qc(t)?fT(e,n):(n=Dm(t,e,n,i),n!==null&&(Nt(n,t,i),dT(n,e,i)))}function hT(t,e,n){var i=Bt();fo(t,e,n,i)}function fo(t,e,n,i){var r={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(qc(t))fT(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,l=s(a,n);if(r.hasEagerState=!0,r.eagerState=l,qt(l,a))return Lc(t,e,r,0),ve===null&&kc(),!1}catch{}finally{}if(n=Dm(t,e,r,i),n!==null)return Nt(n,t,i),dT(n,e,i),!0}return!1}function Wm(t,e,n,i){if(i={lane:2,revertLane:ap(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},qc(t)){if(e)throw Error(L(479))}else e=Dm(t,n,i,2),e!==null&&Nt(e,t,2)}function qc(t){var e=t.alternate;return t===Z||e!==null&&e===Z}function fT(t,e){Ns=Ku=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function dT(t,e,n){if(n&4194048){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,JE(t,n)}}var Mo={readContext:ut,use:zc,useCallback:Oe,useContext:Oe,useEffect:Oe,useImperativeHandle:Oe,useLayoutEffect:Oe,useInsertionEffect:Oe,useMemo:Oe,useReducer:Oe,useRef:Oe,useState:Oe,useDebugValue:Oe,useDeferredValue:Oe,useTransition:Oe,useSyncExternalStore:Oe,useId:Oe,useHostTransitionStatus:Oe,useFormState:Oe,useActionState:Oe,useOptimistic:Oe,useMemoCache:Oe,useCacheRefresh:Oe};Mo.useEffectEvent=Oe;var mT={readContext:ut,use:zc,useCallback:function(t,e){return Et().memoizedState=[t,e===void 0?null:e],t},useContext:ut,useEffect:Jy,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,mu(4194308,4,tT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return mu(4194308,4,t,e)},useInsertionEffect:function(t,e){mu(4,2,t,e)},useMemo:function(t,e){var n=Et();e=e===void 0?null:e;var i=t();if(Vr){wi(!0);try{t()}finally{wi(!1)}}return n.memoizedState=[i,e],i},useReducer:function(t,e,n){var i=Et();if(n!==void 0){var r=n(e);if(Vr){wi(!0);try{n(e)}finally{wi(!1)}}}else r=e;return i.memoizedState=i.baseState=r,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},i.queue=t,t=t.dispatch=Jx.bind(null,Z,t),[i.memoizedState,t]},useRef:function(t){var e=Et();return t={current:t},e.memoizedState=t},useState:function(t){t=pd(t);var e=t.queue,n=hT.bind(null,Z,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:Ym,useDeferredValue:function(t,e){var n=Et();return $m(n,t,e)},useTransition:function(){var t=pd(!1);return t=aT.bind(null,Z,t.queue,!0,!1),Et().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var i=Z,r=Et();if(le){if(n===void 0)throw Error(L(407));n=n()}else{if(n=e(),ve===null)throw Error(L(349));oe&127||B0(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,Jy(H0.bind(null,i,s,t),[t]),i.flags|=2048,qs(9,{destroy:void 0},q0.bind(null,i,s,n,e),null),n},useId:function(){var t=Et(),e=ve.identifierPrefix;if(le){var n=_n,i=yn;n=(i&~(1<<32-zt(i)-1)).toString(32)+n,e="_"+e+"R_"+n,n=Qu++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=Gx++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:Xm,useFormState:$y,useActionState:$y,useOptimistic:function(t){var e=Et();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=Wm.bind(null,Z,!0,n),n.dispatch=e,[t,e]},useMemoCache:Gm,useCacheRefresh:function(){return Et().memoizedState=Wx.bind(null,Z)},useEffectEvent:function(t){var e=Et(),n={impl:t};return e.memoizedState=n,function(){if(ce&2)throw Error(L(440));return n.impl.apply(void 0,arguments)}}},Jm={readContext:ut,use:zc,useCallback:iT,useContext:ut,useEffect:Qm,useImperativeHandle:nT,useInsertionEffect:Z0,useLayoutEffect:eT,useMemo:rT,useReducer:du,useRef:W0,useState:function(){return du(Xn)},useDebugValue:Ym,useDeferredValue:function(t,e){var n=Le();return sT(n,ge.memoizedState,t,e)},useTransition:function(){var t=du(Xn)[0],e=Le().memoizedState;return[typeof t=="boolean"?t:al(t),e]},useSyncExternalStore:z0,useId:uT,useHostTransitionStatus:Xm,useFormState:Xy,useActionState:Xy,useOptimistic:function(t,e){var n=Le();return K0(n,ge,t,e)},useMemoCache:Gm,useCacheRefresh:cT};Jm.useEffectEvent=J0;var pT={readContext:ut,use:zc,useCallback:iT,useContext:ut,useEffect:Qm,useImperativeHandle:nT,useInsertionEffect:Z0,useLayoutEffect:eT,useMemo:rT,useReducer:af,useRef:W0,useState:function(){return af(Xn)},useDebugValue:Ym,useDeferredValue:function(t,e){var n=Le();return ge===null?$m(n,t,e):sT(n,ge.memoizedState,t,e)},useTransition:function(){var t=af(Xn)[0],e=Le().memoizedState;return[typeof t=="boolean"?t:al(t),e]},useSyncExternalStore:z0,useId:uT,useHostTransitionStatus:Xm,useFormState:Wy,useActionState:Wy,useOptimistic:function(t,e){var n=Le();return ge!==null?K0(n,ge,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:Gm,useCacheRefresh:cT};pT.useEffectEvent=J0;function of(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Re({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var _d={enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Bt(),r=Mi(i);r.payload=e,n!=null&&(r.callback=n),e=Vi(t,r,i),e!==null&&(Nt(e,t,i),uo(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Bt(),r=Mi(i);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=Vi(t,r,i),e!==null&&(Nt(e,t,i),uo(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Bt(),i=Mi(n);i.tag=2,e!=null&&(i.callback=e),e=Vi(t,i,n),e!==null&&(Nt(e,t,n),uo(e,t,n))}};function Zy(t,e,n,i,r,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,a):e.prototype&&e.prototype.isPureReactComponent?!Co(n,i)||!Co(r,s):!0}function e_(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&_d.enqueueReplaceState(e,e.state,null)}function jr(t,e){var n=e;if("ref"in e){n={};for(var i in e)i!=="ref"&&(n[i]=e[i])}if(t=t.defaultProps){n===e&&(n=Re({},n));for(var r in t)n[r]===void 0&&(n[r]=t[r])}return n}function gT(t){Uu(t)}function yT(t){console.error(t)}function _T(t){Uu(t)}function Yu(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(i){setTimeout(function(){throw i})}}function t_(t,e,n){try{var i=t.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function vd(t,e,n){return n=Mi(n),n.tag=3,n.payload={element:null},n.callback=function(){Yu(t,e)},n}function vT(t){return t=Mi(t),t.tag=3,t}function ET(t,e,n,i){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var s=i.value;t.payload=function(){return r(s)},t.callback=function(){t_(e,n,i)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(t.callback=function(){t_(e,n,i),typeof r!="function"&&(ji===null?ji=new Set([this]):ji.add(this));var l=i.stack;this.componentDidCatch(i.value,{componentStack:l!==null?l:""})})}function Zx(t,e,n,i,r){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(e=n.alternate,e!==null&&aa(e,n,r,!0),n=Ht.current,n!==null){switch(n.tag){case 31:case 13:return Zt===null?Zu():n.alternate===null&&Me===0&&(Me=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===Hu?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([i]):e.add(i),_f(t,i,r)),!1;case 22:return n.flags|=65536,i===Hu?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([i]):n.add(i)),_f(t,i,r)),!1}throw Error(L(435,n.tag))}return _f(t,i,r),Zu(),!1}if(le)return e=Ht.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=r,i!==ad&&(t=Error(L(422),{cause:i}),Io(Xt(t,n)))):(i!==ad&&(e=Error(L(423),{cause:i}),Io(Xt(e,n))),t=t.current.alternate,t.flags|=65536,r&=-r,t.lanes|=r,i=Xt(i,n),r=vd(t.stateNode,i,r),sf(t,r),Me!==4&&(Me=2)),!1;var s=Error(L(520),{cause:i});if(s=Xt(s,n),go===null?go=[s]:go.push(s),Me!==4&&(Me=2),e===null)return!0;i=Xt(i,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=r&-r,n.lanes|=t,t=vd(n.stateNode,i,t),sf(n,t),!1;case 1:if(e=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(ji===null||!ji.has(s))))return n.flags|=65536,r&=-r,n.lanes|=r,r=vT(r),ET(r,t,n,i),sf(n,r),!1}n=n.return}while(n!==null);return!1}var Zm=Error(L(461)),Ge=!1;function rt(t,e,n,i){e.child=t===null?V0(e,null,n,i):Mr(e,t.child,n,i)}function n_(t,e,n,i,r){n=n.render;var s=e.ref;if("ref"in i){var a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}else a=i;return Or(e),i=Bm(t,e,n,a,s,r),l=qm(),t!==null&&!Ge?(Hm(t,e,r),Wn(t,e,r)):(le&&l&&Mm(e),e.flags|=1,rt(t,e,i,r),e.child)}function i_(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!Om(s)&&s.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=s,TT(t,e,s,i,r)):(t=hu(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!ep(t,r)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Co,n(a,i)&&t.ref===e.ref)return Wn(t,e,r)}return e.flags|=1,t=Fn(s,i),t.ref=e.ref,t.return=e,e.child=t}function TT(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(Co(s,i)&&t.ref===e.ref)if(Ge=!1,e.pendingProps=i=s,ep(t,r))t.flags&131072&&(Ge=!0);else return e.lanes=t.lanes,Wn(t,e,r)}return Ed(t,e,n,i,r)}function bT(t,e,n,i){var r=i.children,s=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(e.flags&128){if(s=s!==null?s.baseLanes|n:n,t!==null){for(i=e.child=t.child,r=0;i!==null;)r=r|i.lanes|i.childLanes,i=i.sibling;i=r&~s}else i=0,e.child=null;return r_(t,e,s,n,i)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&fu(e,s!==null?s.cachePool:null),s!==null?Ky(e,s):dd(),L0(e);else return i=e.lanes=536870912,r_(t,e,s!==null?s.baseLanes|n:n,n,i)}else s!==null?(fu(e,s.cachePool),Ky(e,s),vi(),e.memoizedState=null):(t!==null&&fu(e,null),dd(),vi());return rt(t,e,r,n),e.child}function Xa(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function r_(t,e,n,i,r){var s=km();return s=s===null?null:{parent:He._currentValue,pool:s},e.memoizedState={baseLanes:n,cachePool:s},t!==null&&fu(e,null),dd(),L0(e),t!==null&&aa(t,e,i,!0),e.childLanes=r,null}function pu(t,e){return e=$u({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function s_(t,e,n){return Mr(e,t.child,null,n),t=pu(e,e.pendingProps),t.flags|=2,Vt(e),e.memoizedState=null,t}function eR(t,e,n){var i=e.pendingProps,r=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(le){if(i.mode==="hidden")return t=pu(e,i),e.lanes=536870912,Xa(null,t);if(md(e),(t=we)?(t=mb(t,Wt),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:$i!==null?{id:yn,overflow:_n}:null,retryLane:536870912,hydrationErrors:null},n=R0(t),n.return=e,e.child=n,ot=e,we=null)):t=null,t===null)throw Xi(e);return e.lanes=536870912,null}return pu(e,i)}var s=t.memoizedState;if(s!==null){var a=s.dehydrated;if(md(e),r)if(e.flags&256)e.flags&=-257,e=s_(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(L(558));else if(Ge||aa(t,e,n,!1),r=(n&t.childLanes)!==0,Ge||r){if(i=ve,i!==null&&(a=ZE(i,n),a!==0&&a!==s.retryLane))throw s.retryLane=a,Gr(t,a),Nt(i,t,a),Zm;Zu(),e=s_(t,e,n)}else t=s.treeContext,we=en(a.nextSibling),ot=e,le=!0,Oi=null,Wt=!1,t!==null&&N0(e,t),e=pu(e,i),e.flags|=4096;return e}return t=Fn(t.child,{mode:i.mode,children:i.children}),t.ref=e.ref,e.child=t,t.return=e,t}function gu(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(L(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function Ed(t,e,n,i,r){return Or(e),n=Bm(t,e,n,i,void 0,r),i=qm(),t!==null&&!Ge?(Hm(t,e,r),Wn(t,e,r)):(le&&i&&Mm(e),e.flags|=1,rt(t,e,n,r),e.child)}function a_(t,e,n,i,r,s){return Or(e),e.updateQueue=null,n=U0(e,i,n,r),P0(t),i=qm(),t!==null&&!Ge?(Hm(t,e,s),Wn(t,e,s)):(le&&i&&Mm(e),e.flags|=1,rt(t,e,n,s),e.child)}function o_(t,e,n,i,r){if(Or(e),e.stateNode===null){var s=vs,a=n.contextType;typeof a=="object"&&a!==null&&(s=ut(a)),s=new n(i,s),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=_d,e.stateNode=s,s._reactInternals=e,s=e.stateNode,s.props=i,s.state=e.memoizedState,s.refs={},Pm(e),a=n.contextType,s.context=typeof a=="object"&&a!==null?ut(a):vs,s.state=e.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(of(e,n,a,i),s.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(a=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),a!==s.state&&_d.enqueueReplaceState(s,s.state,null),ho(e,i,s,r),co(),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308),i=!0}else if(t===null){s=e.stateNode;var l=e.memoizedProps,u=jr(n,l);s.props=u;var c=s.context,d=n.contextType;a=vs,typeof d=="object"&&d!==null&&(a=ut(d));var g=n.getDerivedStateFromProps;d=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function",l=e.pendingProps!==l,d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l||c!==a)&&e_(e,s,i,a),gi=!1;var p=e.memoizedState;s.state=p,ho(e,i,s,r),co(),c=e.memoizedState,l||p!==c||gi?(typeof g=="function"&&(of(e,n,g,i),c=e.memoizedState),(u=gi||Zy(e,n,u,i,p,c,a))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=c),s.props=i,s.state=c,s.context=a,i=u):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{s=e.stateNode,hd(t,e),a=e.memoizedProps,d=jr(n,a),s.props=d,g=e.pendingProps,p=s.context,c=n.contextType,u=vs,typeof c=="object"&&c!==null&&(u=ut(c)),l=n.getDerivedStateFromProps,(c=typeof l=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==g||p!==u)&&e_(e,s,i,u),gi=!1,p=e.memoizedState,s.state=p,ho(e,i,s,r),co();var _=e.memoizedState;a!==g||p!==_||gi||t!==null&&t.dependencies!==null&&qu(t.dependencies)?(typeof l=="function"&&(of(e,n,l,i),_=e.memoizedState),(d=gi||Zy(e,n,d,i,p,_,u)||t!==null&&t.dependencies!==null&&qu(t.dependencies))?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,_,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,_,u)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=_),s.props=i,s.state=_,s.context=u,i=d):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),i=!1)}return s=i,gu(t,e),i=(e.flags&128)!==0,s||i?(s=e.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:s.render(),e.flags|=1,t!==null&&i?(e.child=Mr(e,t.child,null,r),e.child=Mr(e,null,n,r)):rt(t,e,n,r),e.memoizedState=s.state,t=e.child):t=Wn(t,e,r),t}function l_(t,e,n,i){return Dr(),e.flags|=256,rt(t,e,n,i),e.child}var lf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function uf(t){return{baseLanes:t,cachePool:D0()}}function cf(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=kt),t}function ST(t,e,n){var i=e.pendingProps,r=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(je.current&2)!==0),a&&(r=!0,e.flags&=-129),a=(e.flags&32)!==0,e.flags&=-33,t===null){if(le){if(r?_i(e):vi(),(t=we)?(t=mb(t,Wt),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:$i!==null?{id:yn,overflow:_n}:null,retryLane:536870912,hydrationErrors:null},n=R0(t),n.return=e,e.child=n,ot=e,we=null)):t=null,t===null)throw Xi(e);return Vd(t)?e.lanes=32:e.lanes=536870912,null}var l=i.children;return i=i.fallback,r?(vi(),r=e.mode,l=$u({mode:"hidden",children:l},r),i=xr(i,r,n,null),l.return=e,i.return=e,l.sibling=i,e.child=l,i=e.child,i.memoizedState=uf(n),i.childLanes=cf(t,a,n),e.memoizedState=lf,Xa(null,i)):(_i(e),Td(e,l))}var u=t.memoizedState;if(u!==null&&(l=u.dehydrated,l!==null)){if(s)e.flags&256?(_i(e),e.flags&=-257,e=hf(t,e,n)):e.memoizedState!==null?(vi(),e.child=t.child,e.flags|=128,e=null):(vi(),l=i.fallback,r=e.mode,i=$u({mode:"visible",children:i.children},r),l=xr(l,r,n,null),l.flags|=2,i.return=e,l.return=e,i.sibling=l,e.child=i,Mr(e,t.child,null,n),i=e.child,i.memoizedState=uf(n),i.childLanes=cf(t,a,n),e.memoizedState=lf,e=Xa(null,i));else if(_i(e),Vd(l)){if(a=l.nextSibling&&l.nextSibling.dataset,a)var c=a.dgst;a=c,i=Error(L(419)),i.stack="",i.digest=a,Io({value:i,source:null,stack:null}),e=hf(t,e,n)}else if(Ge||aa(t,e,n,!1),a=(n&t.childLanes)!==0,Ge||a){if(a=ve,a!==null&&(i=ZE(a,n),i!==0&&i!==u.retryLane))throw u.retryLane=i,Gr(t,i),Nt(a,t,i),Zm;Md(l)||Zu(),e=hf(t,e,n)}else Md(l)?(e.flags|=192,e.child=t.child,e=null):(t=u.treeContext,we=en(l.nextSibling),ot=e,le=!0,Oi=null,Wt=!1,t!==null&&N0(e,t),e=Td(e,i.children),e.flags|=4096);return e}return r?(vi(),l=i.fallback,r=e.mode,u=t.child,c=u.sibling,i=Fn(u,{mode:"hidden",children:i.children}),i.subtreeFlags=u.subtreeFlags&65011712,c!==null?l=Fn(c,l):(l=xr(l,r,n,null),l.flags|=2),l.return=e,i.return=e,i.sibling=l,e.child=i,Xa(null,i),i=e.child,l=t.child.memoizedState,l===null?l=uf(n):(r=l.cachePool,r!==null?(u=He._currentValue,r=r.parent!==u?{parent:u,pool:u}:r):r=D0(),l={baseLanes:l.baseLanes|n,cachePool:r}),i.memoizedState=l,i.childLanes=cf(t,a,n),e.memoizedState=lf,Xa(t.child,i)):(_i(e),n=t.child,t=n.sibling,n=Fn(n,{mode:"visible",children:i.children}),n.return=e,n.sibling=null,t!==null&&(a=e.deletions,a===null?(e.deletions=[t],e.flags|=16):a.push(t)),e.child=n,e.memoizedState=null,n)}function Td(t,e){return e=$u({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function $u(t,e){return t=jt(22,t,null,e),t.lanes=0,t}function hf(t,e,n){return Mr(e,t.child,null,n),t=Td(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function u_(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),ld(t.return,e,n)}function ff(t,e,n,i,r,s){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r,treeForkCount:s}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=r,a.treeForkCount=s)}function AT(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;i=i.children;var a=je.current,l=(a&2)!==0;if(l?(a=a&1|2,e.flags|=128):a&=1,be(je,a),rt(t,e,i,n),i=le?No:0,!l&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&u_(t,n,e);else if(t.tag===19)u_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Gu(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),ff(e,!1,r,n,s,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Gu(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}ff(e,!0,n,null,s,i);break;case"together":ff(e,!1,null,null,void 0,i);break;default:e.memoizedState=null}return e.child}function Wn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ji|=e.lanes,!(n&e.childLanes))if(t!==null){if(aa(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(L(153));if(e.child!==null){for(t=e.child,n=Fn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Fn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ep(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&qu(t)))}function tR(t,e,n){switch(e.tag){case 3:ju(e,e.stateNode.containerInfo),yi(e,He,t.memoizedState.cache),Dr();break;case 27:case 5:$f(e);break;case 4:ju(e,e.stateNode.containerInfo);break;case 10:yi(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,md(e),null;break;case 13:var i=e.memoizedState;if(i!==null)return i.dehydrated!==null?(_i(e),e.flags|=128,null):n&e.child.childLanes?ST(t,e,n):(_i(e),t=Wn(t,e,n),t!==null?t.sibling:null);_i(e);break;case 19:var r=(t.flags&128)!==0;if(i=(n&e.childLanes)!==0,i||(aa(t,e,n,!1),i=(n&e.childLanes)!==0),r){if(i)return AT(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),be(je,je.current),i)break;return null;case 22:return e.lanes=0,bT(t,e,n,e.pendingProps);case 24:yi(e,He,t.memoizedState.cache)}return Wn(t,e,n)}function wT(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)Ge=!0;else{if(!ep(t,n)&&!(e.flags&128))return Ge=!1,tR(t,e,n);Ge=!!(t.flags&131072)}else Ge=!1,le&&e.flags&1048576&&C0(e,No,e.index);switch(e.lanes=0,e.tag){case 16:e:{var i=e.pendingProps;if(t=Tr(e.elementType),e.type=t,typeof t=="function")Om(t)?(i=jr(t,i),e.tag=1,e=o_(null,e,t,i,n)):(e.tag=0,e=Ed(null,e,t,i,n));else{if(t!=null){var r=t.$$typeof;if(r===_m){e.tag=11,e=n_(null,e,t,i,n);break e}else if(r===vm){e.tag=14,e=i_(null,e,t,i,n);break e}}throw e=Qf(t)||t,Error(L(306,e,""))}}return e;case 0:return Ed(t,e,e.type,e.pendingProps,n);case 1:return i=e.type,r=jr(i,e.pendingProps),o_(t,e,i,r,n);case 3:e:{if(ju(e,e.stateNode.containerInfo),t===null)throw Error(L(387));i=e.pendingProps;var s=e.memoizedState;r=s.element,hd(t,e),ho(e,i,null,n);var a=e.memoizedState;if(i=a.cache,yi(e,He,i),i!==s.cache&&ud(e,[He],n,!0),co(),i=a.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:a.cache},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){e=l_(t,e,i,n);break e}else if(i!==r){r=Xt(Error(L(424)),e),Io(r),e=l_(t,e,i,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(we=en(t.firstChild),ot=e,le=!0,Oi=null,Wt=!0,n=V0(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Dr(),i===r){e=Wn(t,e,n);break e}rt(t,e,i,n)}e=e.child}return e;case 26:return gu(t,e),t===null?(n=N_(e.type,null,e.pendingProps,null))?e.memoizedState=n:le||(n=e.type,t=e.pendingProps,i=ic(Di.current).createElement(n),i[at]=e,i[It]=t,ct(i,n,t),nt(i),e.stateNode=i):e.memoizedState=N_(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return $f(e),t===null&&le&&(i=e.stateNode=pb(e.type,e.pendingProps,Di.current),ot=e,Wt=!0,r=we,ar(e.type)?(jd=r,we=en(i.firstChild)):we=r),rt(t,e,e.pendingProps.children,n),gu(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&le&&((r=i=we)&&(i=DR(i,e.type,e.pendingProps,Wt),i!==null?(e.stateNode=i,ot=e,we=en(i.firstChild),Wt=!1,r=!0):r=!1),r||Xi(e)),$f(e),r=e.type,s=e.pendingProps,a=t!==null?t.memoizedProps:null,i=s.children,Dd(r,s)?i=null:a!==null&&Dd(r,a)&&(e.flags|=32),e.memoizedState!==null&&(r=Bm(t,e,Kx,null,null,n),ko._currentValue=r),gu(t,e),rt(t,e,i,n),e.child;case 6:return t===null&&le&&((t=n=we)&&(n=OR(n,e.pendingProps,Wt),n!==null?(e.stateNode=n,ot=e,we=null,t=!0):t=!1),t||Xi(e)),null;case 13:return ST(t,e,n);case 4:return ju(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Mr(e,null,i,n):rt(t,e,i,n),e.child;case 11:return n_(t,e,e.type,e.pendingProps,n);case 7:return rt(t,e,e.pendingProps,n),e.child;case 8:return rt(t,e,e.pendingProps.children,n),e.child;case 12:return rt(t,e,e.pendingProps.children,n),e.child;case 10:return i=e.pendingProps,yi(e,e.type,i.value),rt(t,e,i.children,n),e.child;case 9:return r=e.type._context,i=e.pendingProps.children,Or(e),r=ut(r),i=i(r),e.flags|=1,rt(t,e,i,n),e.child;case 14:return i_(t,e,e.type,e.pendingProps,n);case 15:return TT(t,e,e.type,e.pendingProps,n);case 19:return AT(t,e,n);case 31:return eR(t,e,n);case 22:return bT(t,e,n,e.pendingProps);case 24:return Or(e),i=ut(He),t===null?(r=km(),r===null&&(r=ve,s=jm(),r.pooledCache=s,s.refCount++,s!==null&&(r.pooledCacheLanes|=n),r=s),e.memoizedState={parent:i,cache:r},Pm(e),yi(e,He,r)):(t.lanes&n&&(hd(t,e),ho(e,null,null,n),co()),r=t.memoizedState,s=e.memoizedState,r.parent!==i?(r={parent:i,cache:i},e.memoizedState=r,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=r),yi(e,He,i)):(i=s.cache,yi(e,He,i),i!==r.cache&&ud(e,[He],n,!0))),rt(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(L(156,e.tag))}function Mn(t){t.flags|=4}function df(t,e,n,i,r){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(r&335544128)===r)if(t.stateNode.complete)t.flags|=8192;else if($T())t.flags|=8192;else throw Cr=Hu,Lm}else t.flags&=-16777217}function c_(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!_b(e))if($T())t.flags|=8192;else throw Cr=Hu,Lm}function Yl(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?XE():536870912,t.lanes|=e,Hs|=e)}function qa(t,e){if(!le)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Ae(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&65011712,i|=r.flags&65011712,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function nR(t,e,n){var i=e.pendingProps;switch(Vm(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ae(e),null;case 1:return Ae(e),null;case 3:return n=e.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),Gn(He),Ls(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(ts(e)?Mn(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,rf())),Ae(e),null;case 26:var r=e.type,s=e.memoizedState;return t===null?(Mn(e),s!==null?(Ae(e),c_(e,s)):(Ae(e),df(e,r,null,i,n))):s?s!==t.memoizedState?(Mn(e),Ae(e),c_(e,s)):(Ae(e),e.flags&=-16777217):(t=t.memoizedProps,t!==i&&Mn(e),Ae(e),df(e,r,t,i,n)),null;case 27:if(ku(e),n=Di.current,r=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&Mn(e);else{if(!i){if(e.stateNode===null)throw Error(L(166));return Ae(e),null}t=En.current,ts(e)?Uy(e):(t=pb(r,i,n),e.stateNode=t,Mn(e))}return Ae(e),null;case 5:if(ku(e),r=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&Mn(e);else{if(!i){if(e.stateNode===null)throw Error(L(166));return Ae(e),null}if(s=En.current,ts(e))Uy(e);else{var a=ic(Di.current);switch(s){case 1:s=a.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:s=a.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":s=a.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":s=a.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":s=a.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof i.is=="string"?a.createElement("select",{is:i.is}):a.createElement("select"),i.multiple?s.multiple=!0:i.size&&(s.size=i.size);break;default:s=typeof i.is=="string"?a.createElement(r,{is:i.is}):a.createElement(r)}}s[at]=e,s[It]=i;e:for(a=e.child;a!==null;){if(a.tag===5||a.tag===6)s.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break e;for(;a.sibling===null;){if(a.return===null||a.return===e)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}e.stateNode=s;e:switch(ct(s,r,i),r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Mn(e)}}return Ae(e),df(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==i&&Mn(e);else{if(typeof i!="string"&&e.stateNode===null)throw Error(L(166));if(t=Di.current,ts(e)){if(t=e.stateNode,n=e.memoizedProps,i=null,r=ot,r!==null)switch(r.tag){case 27:case 5:i=r.memoizedProps}t[at]=e,t=!!(t.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||hb(t.nodeValue,n)),t||Xi(e,!0)}else t=ic(t).createTextNode(i),t[at]=e,e.stateNode=t}return Ae(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(i=ts(e),n!==null){if(t===null){if(!i)throw Error(L(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(L(557));t[at]=e}else Dr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ae(e),t=!1}else n=rf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(Vt(e),e):(Vt(e),null);if(e.flags&128)throw Error(L(558))}return Ae(e),null;case 13:if(i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(r=ts(e),i!==null&&i.dehydrated!==null){if(t===null){if(!r)throw Error(L(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(L(317));r[at]=e}else Dr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ae(e),r=!1}else r=rf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),r=!0;if(!r)return e.flags&256?(Vt(e),e):(Vt(e),null)}return Vt(e),e.flags&128?(e.lanes=n,e):(n=i!==null,t=t!==null&&t.memoizedState!==null,n&&(i=e.child,r=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(r=i.alternate.memoizedState.cachePool.pool),s=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==r&&(i.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),Yl(e,e.updateQueue),Ae(e),null);case 4:return Ls(),t===null&&op(e.stateNode.containerInfo),Ae(e),null;case 10:return Gn(e.type),Ae(e),null;case 19:if(it(je),i=e.memoizedState,i===null)return Ae(e),null;if(r=(e.flags&128)!==0,s=i.rendering,s===null)if(r)qa(i,!1);else{if(Me!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Gu(t),s!==null){for(e.flags|=128,qa(i,!1),t=s.updateQueue,e.updateQueue=t,Yl(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)x0(n,t),n=n.sibling;return be(je,je.current&1|2),le&&Ln(e,i.treeForkCount),e.child}t=t.sibling}i.tail!==null&&Pt()>Wu&&(e.flags|=128,r=!0,qa(i,!1),e.lanes=4194304)}else{if(!r)if(t=Gu(s),t!==null){if(e.flags|=128,r=!0,t=t.updateQueue,e.updateQueue=t,Yl(e,t),qa(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!le)return Ae(e),null}else 2*Pt()-i.renderingStartTime>Wu&&n!==536870912&&(e.flags|=128,r=!0,qa(i,!1),e.lanes=4194304);i.isBackwards?(s.sibling=e.child,e.child=s):(t=i.last,t!==null?t.sibling=s:e.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Pt(),t.sibling=null,n=je.current,be(je,r?n&1|2:n&1),le&&Ln(e,i.treeForkCount),t):(Ae(e),null);case 22:case 23:return Vt(e),Um(),i=e.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?n&536870912&&!(e.flags&128)&&(Ae(e),e.subtreeFlags&6&&(e.flags|=8192)):Ae(e),n=e.updateQueue,n!==null&&Yl(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),i=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),i!==n&&(e.flags|=2048),t!==null&&it(Rr),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Gn(He),Ae(e),null;case 25:return null;case 30:return null}throw Error(L(156,e.tag))}function iR(t,e){switch(Vm(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Gn(He),Ls(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return ku(e),null;case 31:if(e.memoizedState!==null){if(Vt(e),e.alternate===null)throw Error(L(340));Dr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(Vt(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(L(340));Dr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return it(je),null;case 4:return Ls(),null;case 10:return Gn(e.type),null;case 22:case 23:return Vt(e),Um(),t!==null&&it(Rr),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Gn(He),null;case 25:return null;default:return null}}function xT(t,e){switch(Vm(e),e.tag){case 3:Gn(He),Ls();break;case 26:case 27:case 5:ku(e);break;case 4:Ls();break;case 31:e.memoizedState!==null&&Vt(e);break;case 13:Vt(e);break;case 19:it(je);break;case 10:Gn(e.type);break;case 22:case 23:Vt(e),Um(),t!==null&&it(Rr);break;case 24:Gn(He)}}function ol(t,e){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var r=i.next;n=r;do{if((n.tag&t)===t){i=void 0;var s=n.create,a=n.inst;i=s(),a.destroy=i}n=n.next}while(n!==r)}}catch(l){me(e,e.return,l)}}function Wi(t,e,n){try{var i=e.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var s=r.next;i=s;do{if((i.tag&t)===t){var a=i.inst,l=a.destroy;if(l!==void 0){a.destroy=void 0,r=e;var u=n,c=l;try{c()}catch(d){me(r,u,d)}}}i=i.next}while(i!==s)}}catch(d){me(e,e.return,d)}}function RT(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{k0(e,n)}catch(i){me(t,t.return,i)}}}function CT(t,e,n){n.props=jr(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(i){me(t,e,i)}}function mo(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;case 30:i=t.stateNode;break;default:i=t.stateNode}typeof n=="function"?t.refCleanup=n(i):n.current=i}}catch(r){me(t,e,r)}}function vn(t,e){var n=t.ref,i=t.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(r){me(t,e,r)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){me(t,e,r)}else n.current=null}function NT(t){var e=t.type,n=t.memoizedProps,i=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(r){me(t,t.return,r)}}function mf(t,e,n){try{var i=t.stateNode;wR(i,t.type,n,e),i[It]=e}catch(r){me(t,t.return,r)}}function IT(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ar(t.type)||t.tag===4}function pf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||IT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ar(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function bd(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=zn));else if(i!==4&&(i===27&&ar(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(bd(t,e,n),t=t.sibling;t!==null;)bd(t,e,n),t=t.sibling}function Xu(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(i===27&&ar(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(Xu(t,e,n),t=t.sibling;t!==null;)Xu(t,e,n),t=t.sibling}function DT(t){var e=t.stateNode,n=t.memoizedProps;try{for(var i=t.type,r=e.attributes;r.length;)e.removeAttributeNode(r[0]);ct(e,i,n),e[at]=t,e[It]=n}catch(s){me(t,t.return,s)}}var Pn=!1,qe=!1,gf=!1,h_=typeof WeakSet=="function"?WeakSet:Set,tt=null;function rR(t,e){if(t=t.containerInfo,Nd=oc,t=_0(t),Nm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,l=-1,u=-1,c=0,d=0,g=t,p=null;t:for(;;){for(var _;g!==n||r!==0&&g.nodeType!==3||(l=a+r),g!==s||i!==0&&g.nodeType!==3||(u=a+i),g.nodeType===3&&(a+=g.nodeValue.length),(_=g.firstChild)!==null;)p=g,g=_;for(;;){if(g===t)break t;if(p===n&&++c===r&&(l=a),p===s&&++d===i&&(u=a),(_=g.nextSibling)!==null)break;g=p,p=g.parentNode}g=_}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Id={focusedElem:t,selectionRange:n},oc=!1,tt=e;tt!==null;)if(e=tt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,tt=t;else for(;tt!==null;){switch(e=tt,s=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)r=t[n],r.ref.impl=r.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&s!==null){t=void 0,n=e,r=s.memoizedProps,s=s.memoizedState,i=n.stateNode;try{var C=jr(n.type,r);t=i.getSnapshotBeforeUpdate(C,s),i.__reactInternalSnapshotBeforeUpdate=t}catch(D){me(n,n.return,D)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)Od(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Od(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(L(163))}if(t=e.sibling,t!==null){t.return=e.return,tt=t;break}tt=e.return}}function OT(t,e,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:jn(t,n),i&4&&ol(5,n);break;case 1:if(jn(t,n),i&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(a){me(n,n.return,a)}else{var r=jr(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(r,e,t.__reactInternalSnapshotBeforeUpdate)}catch(a){me(n,n.return,a)}}i&64&&RT(n),i&512&&mo(n,n.return);break;case 3:if(jn(t,n),i&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{k0(t,e)}catch(a){me(n,n.return,a)}}break;case 27:e===null&&i&4&&DT(n);case 26:case 5:jn(t,n),e===null&&i&4&&NT(n),i&512&&mo(n,n.return);break;case 12:jn(t,n);break;case 31:jn(t,n),i&4&&jT(t,n);break;case 13:jn(t,n),i&4&&kT(t,n),i&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=dR.bind(null,n),MR(t,n))));break;case 22:if(i=n.memoizedState!==null||Pn,!i){e=e!==null&&e.memoizedState!==null||qe,r=Pn;var s=qe;Pn=i,(qe=e)&&!s?kn(t,n,(n.subtreeFlags&8772)!==0):jn(t,n),Pn=r,qe=s}break;case 30:break;default:jn(t,n)}}function MT(t){var e=t.alternate;e!==null&&(t.alternate=null,MT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Sm(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ce=null,wt=!1;function Vn(t,e,n){for(n=n.child;n!==null;)VT(t,e,n),n=n.sibling}function VT(t,e,n){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(el,n)}catch{}switch(n.tag){case 26:qe||vn(n,e),Vn(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:qe||vn(n,e);var i=Ce,r=wt;ar(n.type)&&(Ce=n.stateNode,wt=!1),Vn(t,e,n),_o(n.stateNode),Ce=i,wt=r;break;case 5:qe||vn(n,e);case 6:if(i=Ce,r=wt,Ce=null,Vn(t,e,n),Ce=i,wt=r,Ce!==null)if(wt)try{(Ce.nodeType===9?Ce.body:Ce.nodeName==="HTML"?Ce.ownerDocument.body:Ce).removeChild(n.stateNode)}catch(s){me(n,e,s)}else try{Ce.removeChild(n.stateNode)}catch(s){me(n,e,s)}break;case 18:Ce!==null&&(wt?(t=Ce,A_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),Qs(t)):A_(Ce,n.stateNode));break;case 4:i=Ce,r=wt,Ce=n.stateNode.containerInfo,wt=!0,Vn(t,e,n),Ce=i,wt=r;break;case 0:case 11:case 14:case 15:Wi(2,n,e),qe||Wi(4,n,e),Vn(t,e,n);break;case 1:qe||(vn(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"&&CT(n,e,i)),Vn(t,e,n);break;case 21:Vn(t,e,n);break;case 22:qe=(i=qe)||n.memoizedState!==null,Vn(t,e,n),qe=i;break;default:Vn(t,e,n)}}function jT(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Qs(t)}catch(n){me(e,e.return,n)}}}function kT(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Qs(t)}catch(n){me(e,e.return,n)}}function sR(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new h_),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new h_),e;default:throw Error(L(435,t.tag))}}function $l(t,e){var n=sR(t);e.forEach(function(i){if(!n.has(i)){n.add(i);var r=mR.bind(null,t,i);i.then(r,r)}})}function St(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i],s=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 27:if(ar(l.type)){Ce=l.stateNode,wt=!1;break e}break;case 5:Ce=l.stateNode,wt=!1;break e;case 3:case 4:Ce=l.stateNode.containerInfo,wt=!0;break e}l=l.return}if(Ce===null)throw Error(L(160));VT(s,a,r),Ce=null,wt=!1,s=r.alternate,s!==null&&(s.return=null),r.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)LT(e,t),e=e.sibling}var an=null;function LT(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:St(e,t),At(t),i&4&&(Wi(3,t,t.return),ol(3,t),Wi(5,t,t.return));break;case 1:St(e,t),At(t),i&512&&(qe||n===null||vn(n,n.return)),i&64&&Pn&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var r=an;if(St(e,t),At(t),i&512&&(qe||n===null||vn(n,n.return)),i&4){var s=n!==null?n.memoizedState:null;if(i=t.memoizedState,n===null)if(i===null)if(t.stateNode===null){e:{i=t.type,n=t.memoizedProps,r=r.ownerDocument||r;t:switch(i){case"title":s=r.getElementsByTagName("title")[0],(!s||s[il]||s[at]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=r.createElement(i),r.head.insertBefore(s,r.querySelector("head > title"))),ct(s,i,n),s[at]=t,nt(s),i=s;break e;case"link":var a=D_("link","href",r).get(i+(n.href||""));if(a){for(var l=0;l<a.length;l++)if(s=a[l],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(l,1);break t}}s=r.createElement(i),ct(s,i,n),r.head.appendChild(s);break;case"meta":if(a=D_("meta","content",r).get(i+(n.content||""))){for(l=0;l<a.length;l++)if(s=a[l],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(l,1);break t}}s=r.createElement(i),ct(s,i,n),r.head.appendChild(s);break;default:throw Error(L(468,i))}s[at]=t,nt(s),i=s}t.stateNode=i}else O_(r,t.type,t.stateNode);else t.stateNode=I_(r,i,t.memoizedProps);else s!==i?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,i===null?O_(r,t.type,t.stateNode):I_(r,i,t.memoizedProps)):i===null&&t.stateNode!==null&&mf(t,t.memoizedProps,n.memoizedProps)}break;case 27:St(e,t),At(t),i&512&&(qe||n===null||vn(n,n.return)),n!==null&&i&4&&mf(t,t.memoizedProps,n.memoizedProps);break;case 5:if(St(e,t),At(t),i&512&&(qe||n===null||vn(n,n.return)),t.flags&32){r=t.stateNode;try{Us(r,"")}catch(C){me(t,t.return,C)}}i&4&&t.stateNode!=null&&(r=t.memoizedProps,mf(t,r,n!==null?n.memoizedProps:r)),i&1024&&(gf=!0);break;case 6:if(St(e,t),At(t),i&4){if(t.stateNode===null)throw Error(L(162));i=t.memoizedProps,n=t.stateNode;try{n.nodeValue=i}catch(C){me(t,t.return,C)}}break;case 3:if(vu=null,r=an,an=rc(e.containerInfo),St(e,t),an=r,At(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Qs(e.containerInfo)}catch(C){me(t,t.return,C)}gf&&(gf=!1,PT(t));break;case 4:i=an,an=rc(t.stateNode.containerInfo),St(e,t),At(t),an=i;break;case 12:St(e,t),At(t);break;case 31:St(e,t),At(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,$l(t,i)));break;case 13:St(e,t),At(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Hc=Pt()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,$l(t,i)));break;case 22:r=t.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,c=Pn,d=qe;if(Pn=c||r,qe=d||u,St(e,t),qe=d,Pn=c,At(t),i&8192)e:for(e=t.stateNode,e._visibility=r?e._visibility&-2:e._visibility|1,r&&(n===null||u||Pn||qe||br(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){u=n=e;try{if(s=u.stateNode,r)a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{l=u.stateNode;var g=u.memoizedProps.style,p=g!=null&&g.hasOwnProperty("display")?g.display:null;l.style.display=p==null||typeof p=="boolean"?"":(""+p).trim()}}catch(C){me(u,u.return,C)}}}else if(e.tag===6){if(n===null){u=e;try{u.stateNode.nodeValue=r?"":u.memoizedProps}catch(C){me(u,u.return,C)}}}else if(e.tag===18){if(n===null){u=e;try{var _=u.stateNode;r?w_(_,!0):w_(u.stateNode,!1)}catch(C){me(u,u.return,C)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}i&4&&(i=t.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,$l(t,n))));break;case 19:St(e,t),At(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,$l(t,i)));break;case 30:break;case 21:break;default:St(e,t),At(t)}}function At(t){var e=t.flags;if(e&2){try{for(var n,i=t.return;i!==null;){if(IT(i)){n=i;break}i=i.return}if(n==null)throw Error(L(160));switch(n.tag){case 27:var r=n.stateNode,s=pf(t);Xu(t,s,r);break;case 5:var a=n.stateNode;n.flags&32&&(Us(a,""),n.flags&=-33);var l=pf(t);Xu(t,l,a);break;case 3:case 4:var u=n.stateNode.containerInfo,c=pf(t);bd(t,c,u);break;default:throw Error(L(161))}}catch(d){me(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function PT(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;PT(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function jn(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)OT(t,e.alternate,e),e=e.sibling}function br(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Wi(4,e,e.return),br(e);break;case 1:vn(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&CT(e,e.return,n),br(e);break;case 27:_o(e.stateNode);case 26:case 5:vn(e,e.return),br(e);break;case 22:e.memoizedState===null&&br(e);break;case 30:br(e);break;default:br(e)}t=t.sibling}}function kn(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var i=e.alternate,r=t,s=e,a=s.flags;switch(s.tag){case 0:case 11:case 15:kn(r,s,n),ol(4,s);break;case 1:if(kn(r,s,n),i=s,r=i.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(c){me(i,i.return,c)}if(i=s,r=i.updateQueue,r!==null){var l=i.stateNode;try{var u=r.shared.hiddenCallbacks;if(u!==null)for(r.shared.hiddenCallbacks=null,r=0;r<u.length;r++)j0(u[r],l)}catch(c){me(i,i.return,c)}}n&&a&64&&RT(s),mo(s,s.return);break;case 27:DT(s);case 26:case 5:kn(r,s,n),n&&i===null&&a&4&&NT(s),mo(s,s.return);break;case 12:kn(r,s,n);break;case 31:kn(r,s,n),n&&a&4&&jT(r,s);break;case 13:kn(r,s,n),n&&a&4&&kT(r,s);break;case 22:s.memoizedState===null&&kn(r,s,n),mo(s,s.return);break;case 30:break;default:kn(r,s,n)}e=e.sibling}}function tp(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&sl(n))}function np(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&sl(t))}function sn(t,e,n,i){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)UT(t,e,n,i),e=e.sibling}function UT(t,e,n,i){var r=e.flags;switch(e.tag){case 0:case 11:case 15:sn(t,e,n,i),r&2048&&ol(9,e);break;case 1:sn(t,e,n,i);break;case 3:sn(t,e,n,i),r&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&sl(t)));break;case 12:if(r&2048){sn(t,e,n,i),t=e.stateNode;try{var s=e.memoizedProps,a=s.id,l=s.onPostCommit;typeof l=="function"&&l(a,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(u){me(e,e.return,u)}}else sn(t,e,n,i);break;case 31:sn(t,e,n,i);break;case 13:sn(t,e,n,i);break;case 23:break;case 22:s=e.stateNode,a=e.alternate,e.memoizedState!==null?s._visibility&2?sn(t,e,n,i):po(t,e):s._visibility&2?sn(t,e,n,i):(s._visibility|=2,rs(t,e,n,i,(e.subtreeFlags&10256)!==0||!1)),r&2048&&tp(a,e);break;case 24:sn(t,e,n,i),r&2048&&np(e.alternate,e);break;default:sn(t,e,n,i)}}function rs(t,e,n,i,r){for(r=r&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var s=t,a=e,l=n,u=i,c=a.flags;switch(a.tag){case 0:case 11:case 15:rs(s,a,l,u,r),ol(8,a);break;case 23:break;case 22:var d=a.stateNode;a.memoizedState!==null?d._visibility&2?rs(s,a,l,u,r):po(s,a):(d._visibility|=2,rs(s,a,l,u,r)),r&&c&2048&&tp(a.alternate,a);break;case 24:rs(s,a,l,u,r),r&&c&2048&&np(a.alternate,a);break;default:rs(s,a,l,u,r)}e=e.sibling}}function po(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,i=e,r=i.flags;switch(i.tag){case 22:po(n,i),r&2048&&tp(i.alternate,i);break;case 24:po(n,i),r&2048&&np(i.alternate,i);break;default:po(n,i)}e=e.sibling}}var Wa=8192;function ns(t,e,n){if(t.subtreeFlags&Wa)for(t=t.child;t!==null;)zT(t,e,n),t=t.sibling}function zT(t,e,n){switch(t.tag){case 26:ns(t,e,n),t.flags&Wa&&t.memoizedState!==null&&GR(n,an,t.memoizedState,t.memoizedProps);break;case 5:ns(t,e,n);break;case 3:case 4:var i=an;an=rc(t.stateNode.containerInfo),ns(t,e,n),an=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Wa,Wa=16777216,ns(t,e,n),Wa=i):ns(t,e,n));break;default:ns(t,e,n)}}function BT(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Ha(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];tt=i,HT(i,t)}BT(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)qT(t),t=t.sibling}function qT(t){switch(t.tag){case 0:case 11:case 15:Ha(t),t.flags&2048&&Wi(9,t,t.return);break;case 3:Ha(t);break;case 12:Ha(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,yu(t)):Ha(t);break;default:Ha(t)}}function yu(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];tt=i,HT(i,t)}BT(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Wi(8,e,e.return),yu(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,yu(e));break;default:yu(e)}t=t.sibling}}function HT(t,e){for(;tt!==null;){var n=tt;switch(n.tag){case 0:case 11:case 15:Wi(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:sl(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,tt=i;else e:for(n=t;tt!==null;){i=tt;var r=i.sibling,s=i.return;if(MT(i),i===n){tt=null;break e}if(r!==null){r.return=s,tt=r;break e}tt=s}}}var aR={getCacheForType:function(t){var e=ut(He),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return ut(He).controller.signal}},oR=typeof WeakMap=="function"?WeakMap:Map,ce=0,ve=null,ie=null,oe=0,de=0,Mt=null,Ri=!1,la=!1,ip=!1,Jn=0,Me=0,Ji=0,Nr=0,rp=0,kt=0,Hs=0,go=null,xt=null,Sd=!1,Hc=0,FT=0,Wu=1/0,Ju=null,ji=null,$e=0,ki=null,Fs=null,Kn=0,Ad=0,wd=null,GT=null,yo=0,xd=null;function Bt(){return ce&2&&oe!==0?oe&-oe:Y.T!==null?ap():e0()}function KT(){if(kt===0)if(!(oe&536870912)||le){var t=Bl;Bl<<=1,!(Bl&3932160)&&(Bl=262144),kt=t}else kt=536870912;return t=Ht.current,t!==null&&(t.flags|=32),kt}function Nt(t,e,n){(t===ve&&(de===2||de===9)||t.cancelPendingCommit!==null)&&(Gs(t,0),Ci(t,oe,kt,!1)),nl(t,n),(!(ce&2)||t!==ve)&&(t===ve&&(!(ce&2)&&(Nr|=n),Me===4&&Ci(t,oe,kt,!1)),In(t))}function QT(t,e,n){if(ce&6)throw Error(L(327));var i=!n&&(e&127)===0&&(e&t.expiredLanes)===0||tl(t,e),r=i?cR(t,e):yf(t,e,!0),s=i;do{if(r===0){la&&!i&&Ci(t,e,0,!1);break}else{if(n=t.current.alternate,s&&!lR(n)){r=yf(t,e,!1),s=!1;continue}if(r===2){if(s=e,t.errorRecoveryDisabledLanes&s)var a=0;else a=t.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){e=a;e:{var l=t;r=go;var u=l.current.memoizedState.isDehydrated;if(u&&(Gs(l,a).flags|=256),a=yf(l,a,!1),a!==2){if(ip&&!u){l.errorRecoveryDisabledLanes|=s,Nr|=s,r=4;break e}s=xt,xt=r,s!==null&&(xt===null?xt=s:xt.push.apply(xt,s))}r=a}if(s=!1,r!==2)continue}}if(r===1){Gs(t,0),Ci(t,e,0,!0);break}e:{switch(i=t,s=r,s){case 0:case 1:throw Error(L(345));case 4:if((e&4194048)!==e)break;case 6:Ci(i,e,kt,!Ri);break e;case 2:xt=null;break;case 3:case 5:break;default:throw Error(L(329))}if((e&62914560)===e&&(r=Hc+300-Pt(),10<r)){if(Ci(i,e,kt,!Ri),Oc(i,0,!0)!==0)break e;Kn=e,i.timeoutHandle=db(f_.bind(null,i,n,xt,Ju,Sd,e,kt,Nr,Hs,Ri,s,"Throttled",-0,0),r);break e}f_(i,n,xt,Ju,Sd,e,kt,Nr,Hs,Ri,s,null,-0,0)}}break}while(!0);In(t)}function f_(t,e,n,i,r,s,a,l,u,c,d,g,p,_){if(t.timeoutHandle=-1,g=e.subtreeFlags,g&8192||(g&16785408)===16785408){g={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:zn},zT(e,s,g);var C=(s&62914560)===s?Hc-Pt():(s&4194048)===s?FT-Pt():0;if(C=KR(g,C),C!==null){Kn=s,t.cancelPendingCommit=C(m_.bind(null,t,e,s,n,i,r,a,l,u,d,g,null,p,_)),Ci(t,s,a,!c);return}}m_(t,e,s,n,i,r,a,l,u)}function lR(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!qt(s(),r))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ci(t,e,n,i){e&=~rp,e&=~Nr,t.suspendedLanes|=e,t.pingedLanes&=~e,i&&(t.warmLanes|=e),i=t.expirationTimes;for(var r=e;0<r;){var s=31-zt(r),a=1<<s;i[s]=-1,r&=~a}n!==0&&WE(t,n,e)}function Fc(){return ce&6?!0:(ll(0),!1)}function sp(){if(ie!==null){if(de===0)var t=ie.return;else t=ie,Bn=Kr=null,Fm(t),Cs=null,Do=0,t=ie;for(;t!==null;)xT(t.alternate,t),t=t.return;ie=null}}function Gs(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,CR(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Kn=0,sp(),ve=t,ie=n=Fn(t.current,null),oe=e,de=0,Mt=null,Ri=!1,la=tl(t,e),ip=!1,Hs=kt=rp=Nr=Ji=Me=0,xt=go=null,Sd=!1,e&8&&(e|=e&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=e;0<i;){var r=31-zt(i),s=1<<r;e|=t[r],i&=~s}return Jn=e,kc(),n}function YT(t,e){Z=null,Y.H=Mo,e===oa||e===Pc?(e=Fy(),de=3):e===Lm?(e=Fy(),de=4):de=e===Zm?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Mt=e,ie===null&&(Me=1,Yu(t,Xt(e,t.current)))}function $T(){var t=Ht.current;return t===null?!0:(oe&4194048)===oe?Zt===null:(oe&62914560)===oe||oe&536870912?t===Zt:!1}function XT(){var t=Y.H;return Y.H=Mo,t===null?Mo:t}function WT(){var t=Y.A;return Y.A=aR,t}function Zu(){Me=4,Ri||(oe&4194048)!==oe&&Ht.current!==null||(la=!0),!(Ji&134217727)&&!(Nr&134217727)||ve===null||Ci(ve,oe,kt,!1)}function yf(t,e,n){var i=ce;ce|=2;var r=XT(),s=WT();(ve!==t||oe!==e)&&(Ju=null,Gs(t,e)),e=!1;var a=Me;e:do try{if(de!==0&&ie!==null){var l=ie,u=Mt;switch(de){case 8:sp(),a=6;break e;case 3:case 2:case 9:case 6:Ht.current===null&&(e=!0);var c=de;if(de=0,Mt=null,bs(t,l,u,c),n&&la){a=0;break e}break;default:c=de,de=0,Mt=null,bs(t,l,u,c)}}uR(),a=Me;break}catch(d){YT(t,d)}while(!0);return e&&t.shellSuspendCounter++,Bn=Kr=null,ce=i,Y.H=r,Y.A=s,ie===null&&(ve=null,oe=0,kc()),a}function uR(){for(;ie!==null;)JT(ie)}function cR(t,e){var n=ce;ce|=2;var i=XT(),r=WT();ve!==t||oe!==e?(Ju=null,Wu=Pt()+500,Gs(t,e)):la=tl(t,e);e:do try{if(de!==0&&ie!==null){e=ie;var s=Mt;t:switch(de){case 1:de=0,Mt=null,bs(t,e,s,1);break;case 2:case 9:if(Hy(s)){de=0,Mt=null,d_(e);break}e=function(){de!==2&&de!==9||ve!==t||(de=7),In(t)},s.then(e,e);break e;case 3:de=7;break e;case 4:de=5;break e;case 7:Hy(s)?(de=0,Mt=null,d_(e)):(de=0,Mt=null,bs(t,e,s,7));break;case 5:var a=null;switch(ie.tag){case 26:a=ie.memoizedState;case 5:case 27:var l=ie;if(a?_b(a):l.stateNode.complete){de=0,Mt=null;var u=l.sibling;if(u!==null)ie=u;else{var c=l.return;c!==null?(ie=c,Gc(c)):ie=null}break t}}de=0,Mt=null,bs(t,e,s,5);break;case 6:de=0,Mt=null,bs(t,e,s,6);break;case 8:sp(),Me=6;break e;default:throw Error(L(462))}}hR();break}catch(d){YT(t,d)}while(!0);return Bn=Kr=null,Y.H=i,Y.A=r,ce=n,ie!==null?0:(ve=null,oe=0,kc(),Me)}function hR(){for(;ie!==null&&!V1();)JT(ie)}function JT(t){var e=wT(t.alternate,t,Jn);t.memoizedProps=t.pendingProps,e===null?Gc(t):ie=e}function d_(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=a_(n,e,e.pendingProps,e.type,void 0,oe);break;case 11:e=a_(n,e,e.pendingProps,e.type.render,e.ref,oe);break;case 5:Fm(e);default:xT(n,e),e=ie=x0(e,Jn),e=wT(n,e,Jn)}t.memoizedProps=t.pendingProps,e===null?Gc(t):ie=e}function bs(t,e,n,i){Bn=Kr=null,Fm(e),Cs=null,Do=0;var r=e.return;try{if(Zx(t,r,e,n,oe)){Me=1,Yu(t,Xt(n,t.current)),ie=null;return}}catch(s){if(r!==null)throw ie=r,s;Me=1,Yu(t,Xt(n,t.current)),ie=null;return}e.flags&32768?(le||i===1?t=!0:la||oe&536870912?t=!1:(Ri=t=!0,(i===2||i===9||i===3||i===6)&&(i=Ht.current,i!==null&&i.tag===13&&(i.flags|=16384))),ZT(e,t)):Gc(e)}function Gc(t){var e=t;do{if(e.flags&32768){ZT(e,Ri);return}t=e.return;var n=nR(e.alternate,e,Jn);if(n!==null){ie=n;return}if(e=e.sibling,e!==null){ie=e;return}ie=e=t}while(e!==null);Me===0&&(Me=5)}function ZT(t,e){do{var n=iR(t.alternate,t);if(n!==null){n.flags&=32767,ie=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){ie=t;return}ie=t=n}while(t!==null);Me=6,ie=null}function m_(t,e,n,i,r,s,a,l,u){t.cancelPendingCommit=null;do Kc();while($e!==0);if(ce&6)throw Error(L(327));if(e!==null){if(e===t.current)throw Error(L(177));if(s=e.lanes|e.childLanes,s|=Im,F1(t,n,s,a,l,u),t===ve&&(ie=ve=null,oe=0),Fs=e,ki=t,Kn=n,Ad=s,wd=r,GT=i,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,pR(Lu,function(){return rb(),null})):(t.callbackNode=null,t.callbackPriority=0),i=(e.flags&13878)!==0,e.subtreeFlags&13878||i){i=Y.T,Y.T=null,r=he.p,he.p=2,a=ce,ce|=4;try{rR(t,e,n)}finally{ce=a,he.p=r,Y.T=i}}$e=1,eb(),tb(),nb()}}function eb(){if($e===1){$e=0;var t=ki,e=Fs,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=Y.T,Y.T=null;var i=he.p;he.p=2;var r=ce;ce|=4;try{LT(e,t);var s=Id,a=_0(t.containerInfo),l=s.focusedElem,u=s.selectionRange;if(a!==l&&l&&l.ownerDocument&&y0(l.ownerDocument.documentElement,l)){if(u!==null&&Nm(l)){var c=u.start,d=u.end;if(d===void 0&&(d=c),"selectionStart"in l)l.selectionStart=c,l.selectionEnd=Math.min(d,l.value.length);else{var g=l.ownerDocument||document,p=g&&g.defaultView||window;if(p.getSelection){var _=p.getSelection(),C=l.textContent.length,D=Math.min(u.start,C),I=u.end===void 0?D:Math.min(u.end,C);!_.extend&&D>I&&(a=I,I=D,D=a);var T=ky(l,D),v=ky(l,I);if(T&&v&&(_.rangeCount!==1||_.anchorNode!==T.node||_.anchorOffset!==T.offset||_.focusNode!==v.node||_.focusOffset!==v.offset)){var A=g.createRange();A.setStart(T.node,T.offset),_.removeAllRanges(),D>I?(_.addRange(A),_.extend(v.node,v.offset)):(A.setEnd(v.node,v.offset),_.addRange(A))}}}}for(g=[],_=l;_=_.parentNode;)_.nodeType===1&&g.push({element:_,left:_.scrollLeft,top:_.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<g.length;l++){var V=g[l];V.element.scrollLeft=V.left,V.element.scrollTop=V.top}}oc=!!Nd,Id=Nd=null}finally{ce=r,he.p=i,Y.T=n}}t.current=e,$e=2}}function tb(){if($e===2){$e=0;var t=ki,e=Fs,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=Y.T,Y.T=null;var i=he.p;he.p=2;var r=ce;ce|=4;try{OT(t,e.alternate,e)}finally{ce=r,he.p=i,Y.T=n}}$e=3}}function nb(){if($e===4||$e===3){$e=0,j1();var t=ki,e=Fs,n=Kn,i=GT;e.subtreeFlags&10256||e.flags&10256?$e=5:($e=0,Fs=ki=null,ib(t,t.pendingLanes));var r=t.pendingLanes;if(r===0&&(ji=null),bm(n),e=e.stateNode,Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(el,e,void 0,(e.current.flags&128)===128)}catch{}if(i!==null){e=Y.T,r=he.p,he.p=2,Y.T=null;try{for(var s=t.onRecoverableError,a=0;a<i.length;a++){var l=i[a];s(l.value,{componentStack:l.stack})}}finally{Y.T=e,he.p=r}}Kn&3&&Kc(),In(t),r=t.pendingLanes,n&261930&&r&42?t===xd?yo++:(yo=0,xd=t):yo=0,ll(0)}}function ib(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,sl(e)))}function Kc(){return eb(),tb(),nb(),rb()}function rb(){if($e!==5)return!1;var t=ki,e=Ad;Ad=0;var n=bm(Kn),i=Y.T,r=he.p;try{he.p=32>n?32:n,Y.T=null,n=wd,wd=null;var s=ki,a=Kn;if($e=0,Fs=ki=null,Kn=0,ce&6)throw Error(L(331));var l=ce;if(ce|=4,qT(s.current),UT(s,s.current,a,n),ce=l,ll(0,!1),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(el,s)}catch{}return!0}finally{he.p=r,Y.T=i,ib(t,e)}}function p_(t,e,n){e=Xt(n,e),e=vd(t.stateNode,e,2),t=Vi(t,e,2),t!==null&&(nl(t,2),In(t))}function me(t,e,n){if(t.tag===3)p_(t,t,n);else for(;e!==null;){if(e.tag===3){p_(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(ji===null||!ji.has(i))){t=Xt(n,t),n=vT(2),i=Vi(e,n,2),i!==null&&(ET(n,i,e,t),nl(i,2),In(i));break}}e=e.return}}function _f(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new oR;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(ip=!0,r.add(n),t=fR.bind(null,t,e,n),e.then(t,t))}function fR(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,ve===t&&(oe&n)===n&&(Me===4||Me===3&&(oe&62914560)===oe&&300>Pt()-Hc?!(ce&2)&&Gs(t,0):rp|=n,Hs===oe&&(Hs=0)),In(t)}function sb(t,e){e===0&&(e=XE()),t=Gr(t,e),t!==null&&(nl(t,e),In(t))}function dR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),sb(t,n)}function mR(t,e){var n=0;switch(t.tag){case 31:case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(L(314))}i!==null&&i.delete(e),sb(t,n)}function pR(t,e){return Em(t,e)}var ec=null,ss=null,Rd=!1,tc=!1,vf=!1,Ni=0;function In(t){t!==ss&&t.next===null&&(ss===null?ec=ss=t:ss=ss.next=t),tc=!0,Rd||(Rd=!0,yR())}function ll(t,e){if(!vf&&tc){vf=!0;do for(var n=!1,i=ec;i!==null;){if(t!==0){var r=i.pendingLanes;if(r===0)var s=0;else{var a=i.suspendedLanes,l=i.pingedLanes;s=(1<<31-zt(42|t)+1)-1,s&=r&~(a&~l),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,g_(i,s))}else s=oe,s=Oc(i,i===ve?s:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(s&3)||tl(i,s)||(n=!0,g_(i,s));i=i.next}while(n);vf=!1}}function gR(){ab()}function ab(){tc=Rd=!1;var t=0;Ni!==0&&RR()&&(t=Ni);for(var e=Pt(),n=null,i=ec;i!==null;){var r=i.next,s=ob(i,e);s===0?(i.next=null,n===null?ec=r:n.next=r,r===null&&(ss=n)):(n=i,(t!==0||s&3)&&(tc=!0)),i=r}$e!==0&&$e!==5||ll(t),Ni!==0&&(Ni=0)}function ob(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes&-62914561;0<s;){var a=31-zt(s),l=1<<a,u=r[a];u===-1?(!(l&n)||l&i)&&(r[a]=H1(l,e)):u<=e&&(t.expiredLanes|=l),s&=~l}if(e=ve,n=oe,n=Oc(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i=t.callbackNode,n===0||t===e&&(de===2||de===9)||t.cancelPendingCommit!==null)return i!==null&&i!==null&&Kh(i),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||tl(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(i!==null&&Kh(i),bm(n)){case 2:case 8:n=YE;break;case 32:n=Lu;break;case 268435456:n=$E;break;default:n=Lu}return i=lb.bind(null,t),n=Em(n,i),t.callbackPriority=e,t.callbackNode=n,e}return i!==null&&i!==null&&Kh(i),t.callbackPriority=2,t.callbackNode=null,2}function lb(t,e){if($e!==0&&$e!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(Kc()&&t.callbackNode!==n)return null;var i=oe;return i=Oc(t,t===ve?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i===0?null:(QT(t,i,e),ob(t,Pt()),t.callbackNode!=null&&t.callbackNode===n?lb.bind(null,t):null)}function g_(t,e){if(Kc())return null;QT(t,e,!0)}function yR(){NR(function(){ce&6?Em(QE,gR):ab()})}function ap(){if(Ni===0){var t=zs;t===0&&(t=zl,zl<<=1,!(zl&261888)&&(zl=256)),Ni=t}return Ni}function y_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:lu(""+t)}function __(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function _R(t,e,n,i,r){if(e==="submit"&&n&&n.stateNode===r){var s=y_((r[It]||null).action),a=i.submitter;a&&(e=(e=a[It]||null)?y_(e.formAction):a.getAttribute("formAction"),e!==null&&(s=e,a=null));var l=new Mc("action","action",null,i,r);t.push({event:l,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Ni!==0){var u=a?__(r,a):new FormData(r);yd(n,{pending:!0,data:u,method:r.method,action:s},null,u)}}else typeof s=="function"&&(l.preventDefault(),u=a?__(r,a):new FormData(r),yd(n,{pending:!0,data:u,method:r.method,action:s},s,u))},currentTarget:r}]})}}for(var Ef=0;Ef<sd.length;Ef++){var Tf=sd[Ef],vR=Tf.toLowerCase(),ER=Tf[0].toUpperCase()+Tf.slice(1);dn(vR,"on"+ER)}dn(E0,"onAnimationEnd");dn(T0,"onAnimationIteration");dn(b0,"onAnimationStart");dn("dblclick","onDoubleClick");dn("focusin","onFocus");dn("focusout","onBlur");dn(kx,"onTransitionRun");dn(Lx,"onTransitionStart");dn(Px,"onTransitionCancel");dn(S0,"onTransitionEnd");Ps("onMouseEnter",["mouseout","mouseover"]);Ps("onMouseLeave",["mouseout","mouseover"]);Ps("onPointerEnter",["pointerout","pointerover"]);Ps("onPointerLeave",["pointerout","pointerover"]);qr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qr("onBeforeInput",["compositionend","keypress","textInput","paste"]);qr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vo));function ub(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var a=i.length-1;0<=a;a--){var l=i[a],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==s&&r.isPropagationStopped())break e;s=l,r.currentTarget=c;try{s(r)}catch(d){Uu(d)}r.currentTarget=null,s=u}else for(a=0;a<i.length;a++){if(l=i[a],u=l.instance,c=l.currentTarget,l=l.listener,u!==s&&r.isPropagationStopped())break e;s=l,r.currentTarget=c;try{s(r)}catch(d){Uu(d)}r.currentTarget=null,s=u}}}}function ne(t,e){var n=e[Wf];n===void 0&&(n=e[Wf]=new Set);var i=t+"__bubble";n.has(i)||(cb(e,t,2,!1),n.add(i))}function bf(t,e,n){var i=0;e&&(i|=4),cb(n,t,i,e)}var Xl="_reactListening"+Math.random().toString(36).slice(2);function op(t){if(!t[Xl]){t[Xl]=!0,t0.forEach(function(n){n!=="selectionchange"&&(TR.has(n)||bf(n,!1,t),bf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Xl]||(e[Xl]=!0,bf("selectionchange",!1,e))}}function cb(t,e,n,i){switch(Sb(e)){case 2:var r=$R;break;case 8:r=XR;break;default:r=hp}n=r.bind(null,e,n,t),r=void 0,!nd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Sf(t,e,n,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var l=i.stateNode.containerInfo;if(l===r)break;if(a===4)for(a=i.return;a!==null;){var u=a.tag;if((u===3||u===4)&&a.stateNode.containerInfo===r)return;a=a.return}for(;l!==null;){if(a=ds(l),a===null)return;if(u=a.tag,u===5||u===6||u===26||u===27){i=s=a;continue e}l=l.parentNode}}i=i.return}u0(function(){var c=s,d=wm(n),g=[];e:{var p=A0.get(t);if(p!==void 0){var _=Mc,C=t;switch(t){case"keypress":if(cu(n)===0)break e;case"keydown":case"keyup":_=mx;break;case"focusin":C="focus",_=Wh;break;case"focusout":C="blur",_=Wh;break;case"beforeblur":case"afterblur":_=Wh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=xy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=nx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=yx;break;case E0:case T0:case b0:_=sx;break;case S0:_=vx;break;case"scroll":case"scrollend":_=ex;break;case"wheel":_=Tx;break;case"copy":case"cut":case"paste":_=ox;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=Cy;break;case"toggle":case"beforetoggle":_=Sx}var D=(e&4)!==0,I=!D&&(t==="scroll"||t==="scrollend"),T=D?p!==null?p+"Capture":null:p;D=[];for(var v=c,A;v!==null;){var V=v;if(A=V.stateNode,V=V.tag,V!==5&&V!==26&&V!==27||A===null||T===null||(V=xo(v,T),V!=null&&D.push(jo(v,V,A))),I)break;v=v.return}0<D.length&&(p=new _(p,C,null,n,d),g.push({event:p,listeners:D}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",p&&n!==td&&(C=n.relatedTarget||n.fromElement)&&(ds(C)||C[ra]))break e;if((_||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,_?(C=n.relatedTarget||n.toElement,_=c,C=C?ds(C):null,C!==null&&(I=Zo(C),D=C.tag,C!==I||D!==5&&D!==27&&D!==6)&&(C=null)):(_=null,C=c),_!==C)){if(D=xy,V="onMouseLeave",T="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(D=Cy,V="onPointerLeave",T="onPointerEnter",v="pointer"),I=_==null?p:$a(_),A=C==null?p:$a(C),p=new D(V,v+"leave",_,n,d),p.target=I,p.relatedTarget=A,V=null,ds(d)===c&&(D=new D(T,v+"enter",C,n,d),D.target=A,D.relatedTarget=I,V=D),I=V,_&&C)t:{for(D=bR,T=_,v=C,A=0,V=T;V;V=D(V))A++;V=0;for(var U=v;U;U=D(U))V++;for(;0<A-V;)T=D(T),A--;for(;0<V-A;)v=D(v),V--;for(;A--;){if(T===v||v!==null&&T===v.alternate){D=T;break t}T=D(T),v=D(v)}D=null}else D=null;_!==null&&v_(g,p,_,D,!1),C!==null&&I!==null&&v_(g,I,C,D,!0)}}e:{if(p=c?$a(c):window,_=p.nodeName&&p.nodeName.toLowerCase(),_==="select"||_==="input"&&p.type==="file")var F=Oy;else if(Dy(p))if(p0)F=Mx;else{F=Dx;var b=Ix}else _=p.nodeName,!_||_.toLowerCase()!=="input"||p.type!=="checkbox"&&p.type!=="radio"?c&&Am(c.elementType)&&(F=Oy):F=Ox;if(F&&(F=F(t,c))){m0(g,F,n,d);break e}b&&b(t,p,c),t==="focusout"&&c&&p.type==="number"&&c.memoizedProps.value!=null&&ed(p,"number",p.value)}switch(b=c?$a(c):window,t){case"focusin":(Dy(b)||b.contentEditable==="true")&&(gs=b,id=c,oo=null);break;case"focusout":oo=id=gs=null;break;case"mousedown":rd=!0;break;case"contextmenu":case"mouseup":case"dragend":rd=!1,Ly(g,n,d);break;case"selectionchange":if(jx)break;case"keydown":case"keyup":Ly(g,n,d)}var E;if(Cm)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else ps?f0(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(h0&&n.locale!=="ko"&&(ps||S!=="onCompositionStart"?S==="onCompositionEnd"&&ps&&(E=c0()):(xi=d,xm="value"in xi?xi.value:xi.textContent,ps=!0)),b=nc(c,S),0<b.length&&(S=new Ry(S,t,null,n,d),g.push({event:S,listeners:b}),E?S.data=E:(E=d0(n),E!==null&&(S.data=E)))),(E=wx?xx(t,n):Rx(t,n))&&(S=nc(c,"onBeforeInput"),0<S.length&&(b=new Ry("onBeforeInput","beforeinput",null,n,d),g.push({event:b,listeners:S}),b.data=E)),_R(g,t,c,n,d)}ub(g,e)})}function jo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function nc(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||s===null||(r=xo(t,n),r!=null&&i.unshift(jo(t,r,s)),r=xo(t,e),r!=null&&i.push(jo(t,r,s))),t.tag===3)return i;t=t.return}return[]}function bR(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function v_(t,e,n,i,r){for(var s=e._reactName,a=[];n!==null&&n!==i;){var l=n,u=l.alternate,c=l.stateNode;if(l=l.tag,u!==null&&u===i)break;l!==5&&l!==26&&l!==27||c===null||(u=c,r?(c=xo(n,s),c!=null&&a.unshift(jo(n,c,u))):r||(c=xo(n,s),c!=null&&a.push(jo(n,c,u)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var SR=/\r\n?/g,AR=/\u0000|\uFFFD/g;function E_(t){return(typeof t=="string"?t:""+t).replace(SR,`
`).replace(AR,"")}function hb(t,e){return e=E_(e),E_(t)===e}function pe(t,e,n,i,r,s){switch(n){case"children":typeof i=="string"?e==="body"||e==="textarea"&&i===""||Us(t,i):(typeof i=="number"||typeof i=="bigint")&&e!=="body"&&Us(t,""+i);break;case"className":Hl(t,"class",i);break;case"tabIndex":Hl(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Hl(t,n,i);break;case"style":l0(t,i,s);break;case"data":if(e!=="object"){Hl(t,"data",i);break}case"src":case"href":if(i===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=lu(""+i),t.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(e!=="input"&&pe(t,e,"name",r.name,r,null),pe(t,e,"formEncType",r.formEncType,r,null),pe(t,e,"formMethod",r.formMethod,r,null),pe(t,e,"formTarget",r.formTarget,r,null)):(pe(t,e,"encType",r.encType,r,null),pe(t,e,"method",r.method,r,null),pe(t,e,"target",r.target,r,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=lu(""+i),t.setAttribute(n,i);break;case"onClick":i!=null&&(t.onclick=zn);break;case"onScroll":i!=null&&ne("scroll",t);break;case"onScrollEnd":i!=null&&ne("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(L(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(L(60));t.innerHTML=n}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}n=lu(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""+i):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":i===!0?t.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,i):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(n,i):t.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(n):t.setAttribute(n,i);break;case"popover":ne("beforetoggle",t),ne("toggle",t),ou(t,"popover",i);break;case"xlinkActuate":On(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":On(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":On(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":On(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":On(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":On(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":On(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":On(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":On(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":ou(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=J1.get(n)||n,ou(t,n,i))}}function Cd(t,e,n,i,r,s){switch(n){case"style":l0(t,i,s);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(L(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(L(60));t.innerHTML=n}}break;case"children":typeof i=="string"?Us(t,i):(typeof i=="number"||typeof i=="bigint")&&Us(t,""+i);break;case"onScroll":i!=null&&ne("scroll",t);break;case"onScrollEnd":i!=null&&ne("scrollend",t);break;case"onClick":i!=null&&(t.onclick=zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!n0.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),e=n.slice(2,r?n.length-7:void 0),s=t[It]||null,s=s!=null?s[n]:null,typeof s=="function"&&t.removeEventListener(e,s,r),typeof i=="function")){typeof s!="function"&&s!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,i,r);break e}n in t?t[n]=i:i===!0?t.setAttribute(n,""):ou(t,n,i)}}}function ct(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ne("error",t),ne("load",t);var i=!1,r=!1,s;for(s in n)if(n.hasOwnProperty(s)){var a=n[s];if(a!=null)switch(s){case"src":i=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(L(137,e));default:pe(t,e,s,a,n,null)}}r&&pe(t,e,"srcSet",n.srcSet,n,null),i&&pe(t,e,"src",n.src,n,null);return;case"input":ne("invalid",t);var l=s=a=r=null,u=null,c=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(d!=null)switch(i){case"name":r=d;break;case"type":a=d;break;case"checked":u=d;break;case"defaultChecked":c=d;break;case"value":s=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(L(137,e));break;default:pe(t,e,i,d,n,null)}}s0(t,s,l,u,c,a,r,!1);return;case"select":ne("invalid",t),i=a=s=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":s=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:pe(t,e,r,l,n,null)}e=s,n=a,t.multiple=!!i,e!=null?ws(t,!!i,e,!1):n!=null&&ws(t,!!i,n,!0);return;case"textarea":ne("invalid",t),s=r=i=null;for(a in n)if(n.hasOwnProperty(a)&&(l=n[a],l!=null))switch(a){case"value":i=l;break;case"defaultValue":r=l;break;case"children":s=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(L(91));break;default:pe(t,e,a,l,n,null)}o0(t,i,r,s);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:pe(t,e,u,i,n,null)}return;case"dialog":ne("beforetoggle",t),ne("toggle",t),ne("cancel",t),ne("close",t);break;case"iframe":case"object":ne("load",t);break;case"video":case"audio":for(i=0;i<Vo.length;i++)ne(Vo[i],t);break;case"image":ne("error",t),ne("load",t);break;case"details":ne("toggle",t);break;case"embed":case"source":case"link":ne("error",t),ne("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(L(137,e));default:pe(t,e,c,i,n,null)}return;default:if(Am(e)){for(d in n)n.hasOwnProperty(d)&&(i=n[d],i!==void 0&&Cd(t,e,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(i=n[l],i!=null&&pe(t,e,l,i,n,null))}function wR(t,e,n,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,s=null,a=null,l=null,u=null,c=null,d=null;for(_ in n){var g=n[_];if(n.hasOwnProperty(_)&&g!=null)switch(_){case"checked":break;case"value":break;case"defaultValue":u=g;default:i.hasOwnProperty(_)||pe(t,e,_,null,i,g)}}for(var p in i){var _=i[p];if(g=n[p],i.hasOwnProperty(p)&&(_!=null||g!=null))switch(p){case"type":s=_;break;case"name":r=_;break;case"checked":c=_;break;case"defaultChecked":d=_;break;case"value":a=_;break;case"defaultValue":l=_;break;case"children":case"dangerouslySetInnerHTML":if(_!=null)throw Error(L(137,e));break;default:_!==g&&pe(t,e,p,_,i,g)}}Zf(t,a,l,u,c,d,s,r);return;case"select":_=a=l=p=null;for(s in n)if(u=n[s],n.hasOwnProperty(s)&&u!=null)switch(s){case"value":break;case"multiple":_=u;default:i.hasOwnProperty(s)||pe(t,e,s,null,i,u)}for(r in i)if(s=i[r],u=n[r],i.hasOwnProperty(r)&&(s!=null||u!=null))switch(r){case"value":p=s;break;case"defaultValue":l=s;break;case"multiple":a=s;default:s!==u&&pe(t,e,r,s,i,u)}e=l,n=a,i=_,p!=null?ws(t,!!n,p,!1):!!i!=!!n&&(e!=null?ws(t,!!n,e,!0):ws(t,!!n,n?[]:"",!1));return;case"textarea":_=p=null;for(l in n)if(r=n[l],n.hasOwnProperty(l)&&r!=null&&!i.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:pe(t,e,l,null,i,r)}for(a in i)if(r=i[a],s=n[a],i.hasOwnProperty(a)&&(r!=null||s!=null))switch(a){case"value":p=r;break;case"defaultValue":_=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(L(91));break;default:r!==s&&pe(t,e,a,r,i,s)}a0(t,p,_);return;case"option":for(var C in n)if(p=n[C],n.hasOwnProperty(C)&&p!=null&&!i.hasOwnProperty(C))switch(C){case"selected":t.selected=!1;break;default:pe(t,e,C,null,i,p)}for(u in i)if(p=i[u],_=n[u],i.hasOwnProperty(u)&&p!==_&&(p!=null||_!=null))switch(u){case"selected":t.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:pe(t,e,u,p,i,_)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var D in n)p=n[D],n.hasOwnProperty(D)&&p!=null&&!i.hasOwnProperty(D)&&pe(t,e,D,null,i,p);for(c in i)if(p=i[c],_=n[c],i.hasOwnProperty(c)&&p!==_&&(p!=null||_!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(L(137,e));break;default:pe(t,e,c,p,i,_)}return;default:if(Am(e)){for(var I in n)p=n[I],n.hasOwnProperty(I)&&p!==void 0&&!i.hasOwnProperty(I)&&Cd(t,e,I,void 0,i,p);for(d in i)p=i[d],_=n[d],!i.hasOwnProperty(d)||p===_||p===void 0&&_===void 0||Cd(t,e,d,p,i,_);return}}for(var T in n)p=n[T],n.hasOwnProperty(T)&&p!=null&&!i.hasOwnProperty(T)&&pe(t,e,T,null,i,p);for(g in i)p=i[g],_=n[g],!i.hasOwnProperty(g)||p===_||p==null&&_==null||pe(t,e,g,p,i,_)}function T_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function xR(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var r=n[i],s=r.transferSize,a=r.initiatorType,l=r.duration;if(s&&l&&T_(a)){for(a=0,l=r.responseEnd,i+=1;i<n.length;i++){var u=n[i],c=u.startTime;if(c>l)break;var d=u.transferSize,g=u.initiatorType;d&&T_(g)&&(u=u.responseEnd,a+=d*(u<l?1:(l-c)/(u-c)))}if(--i,e+=8*(s+a)/(r.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Nd=null,Id=null;function ic(t){return t.nodeType===9?t:t.ownerDocument}function b_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fb(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Dd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Af=null;function RR(){var t=window.event;return t&&t.type==="popstate"?t===Af?!1:(Af=t,!0):(Af=null,!1)}var db=typeof setTimeout=="function"?setTimeout:void 0,CR=typeof clearTimeout=="function"?clearTimeout:void 0,S_=typeof Promise=="function"?Promise:void 0,NR=typeof queueMicrotask=="function"?queueMicrotask:typeof S_<"u"?function(t){return S_.resolve(null).then(t).catch(IR)}:db;function IR(t){setTimeout(function(){throw t})}function ar(t){return t==="head"}function A_(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"||n==="/&"){if(i===0){t.removeChild(r),Qs(e);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")_o(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,_o(n);for(var s=n.firstChild;s;){var a=s.nextSibling,l=s.nodeName;s[il]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=a}}else n==="body"&&_o(t.ownerDocument.body);n=r}while(n);Qs(e)}function w_(t,e){var n=t;t=0;do{var i=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=i}while(n)}function Od(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Od(n),Sm(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function DR(t,e,n,i){for(;t.nodeType===1;){var r=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[il])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(s=t.getAttribute("rel"),s==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(s!==r.rel||t.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||t.getAttribute("title")!==(r.title==null?null:r.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(s=t.getAttribute("src"),(s!==(r.src==null?null:r.src)||t.getAttribute("type")!==(r.type==null?null:r.type)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&s&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var s=r.name==null?null:""+r.name;if(r.type==="hidden"&&t.getAttribute("name")===s)return t}else return t;if(t=en(t.nextSibling),t===null)break}return null}function OR(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=en(t.nextSibling),t===null))return null;return t}function mb(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=en(t.nextSibling),t===null))return null;return t}function Md(t){return t.data==="$?"||t.data==="$~"}function Vd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function MR(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var i=function(){e(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}function en(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var jd=null;function x_(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return en(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function R_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function pb(t,e,n){switch(e=ic(n),t){case"html":if(t=e.documentElement,!t)throw Error(L(452));return t;case"head":if(t=e.head,!t)throw Error(L(453));return t;case"body":if(t=e.body,!t)throw Error(L(454));return t;default:throw Error(L(451))}}function _o(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Sm(t)}var tn=new Map,C_=new Set;function rc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ri=he.d;he.d={f:VR,r:jR,D:kR,C:LR,L:PR,m:UR,X:BR,S:zR,M:qR};function VR(){var t=ri.f(),e=Fc();return t||e}function jR(t){var e=sa(t);e!==null&&e.tag===5&&e.type==="form"?lT(e):ri.r(t)}var ua=typeof document>"u"?null:document;function gb(t,e,n){var i=ua;if(i&&typeof e=="string"&&e){var r=$t(e);r='link[rel="'+t+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),C_.has(r)||(C_.add(r),t={rel:t,crossOrigin:n,href:e},i.querySelector(r)===null&&(e=i.createElement("link"),ct(e,"link",t),nt(e),i.head.appendChild(e)))}}function kR(t){ri.D(t),gb("dns-prefetch",t,null)}function LR(t,e){ri.C(t,e),gb("preconnect",t,e)}function PR(t,e,n){ri.L(t,e,n);var i=ua;if(i&&t&&e){var r='link[rel="preload"][as="'+$t(e)+'"]';e==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+$t(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+$t(n.imageSizes)+'"]')):r+='[href="'+$t(t)+'"]';var s=r;switch(e){case"style":s=Ks(t);break;case"script":s=ca(t)}tn.has(s)||(t=Re({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),tn.set(s,t),i.querySelector(r)!==null||e==="style"&&i.querySelector(ul(s))||e==="script"&&i.querySelector(cl(s))||(e=i.createElement("link"),ct(e,"link",t),nt(e),i.head.appendChild(e)))}}function UR(t,e){ri.m(t,e);var n=ua;if(n&&t){var i=e&&typeof e.as=="string"?e.as:"script",r='link[rel="modulepreload"][as="'+$t(i)+'"][href="'+$t(t)+'"]',s=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=ca(t)}if(!tn.has(s)&&(t=Re({rel:"modulepreload",href:t},e),tn.set(s,t),n.querySelector(r)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(cl(s)))return}i=n.createElement("link"),ct(i,"link",t),nt(i),n.head.appendChild(i)}}}function zR(t,e,n){ri.S(t,e,n);var i=ua;if(i&&t){var r=As(i).hoistableStyles,s=Ks(t);e=e||"default";var a=r.get(s);if(!a){var l={loading:0,preload:null};if(a=i.querySelector(ul(s)))l.loading=5;else{t=Re({rel:"stylesheet",href:t,"data-precedence":e},n),(n=tn.get(s))&&lp(t,n);var u=a=i.createElement("link");nt(u),ct(u,"link",t),u._p=new Promise(function(c,d){u.onload=c,u.onerror=d}),u.addEventListener("load",function(){l.loading|=1}),u.addEventListener("error",function(){l.loading|=2}),l.loading|=4,_u(a,e,i)}a={type:"stylesheet",instance:a,count:1,state:l},r.set(s,a)}}}function BR(t,e){ri.X(t,e);var n=ua;if(n&&t){var i=As(n).hoistableScripts,r=ca(t),s=i.get(r);s||(s=n.querySelector(cl(r)),s||(t=Re({src:t,async:!0},e),(e=tn.get(r))&&up(t,e),s=n.createElement("script"),nt(s),ct(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function qR(t,e){ri.M(t,e);var n=ua;if(n&&t){var i=As(n).hoistableScripts,r=ca(t),s=i.get(r);s||(s=n.querySelector(cl(r)),s||(t=Re({src:t,async:!0,type:"module"},e),(e=tn.get(r))&&up(t,e),s=n.createElement("script"),nt(s),ct(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function N_(t,e,n,i){var r=(r=Di.current)?rc(r):null;if(!r)throw Error(L(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Ks(n.href),n=As(r).hoistableStyles,i=n.get(e),i||(i={type:"style",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Ks(n.href);var s=As(r).hoistableStyles,a=s.get(t);if(a||(r=r.ownerDocument||r,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(t,a),(s=r.querySelector(ul(t)))&&!s._p&&(a.instance=s,a.state.loading=5),tn.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},tn.set(t,n),s||HR(r,t,n,a.state))),e&&i===null)throw Error(L(528,""));return a}if(e&&i!==null)throw Error(L(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=ca(n),n=As(r).hoistableScripts,i=n.get(e),i||(i={type:"script",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(L(444,t))}}function Ks(t){return'href="'+$t(t)+'"'}function ul(t){return'link[rel="stylesheet"]['+t+"]"}function yb(t){return Re({},t,{"data-precedence":t.precedence,precedence:null})}function HR(t,e,n,i){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?i.loading=1:(e=t.createElement("link"),i.preload=e,e.addEventListener("load",function(){return i.loading|=1}),e.addEventListener("error",function(){return i.loading|=2}),ct(e,"link",n),nt(e),t.head.appendChild(e))}function ca(t){return'[src="'+$t(t)+'"]'}function cl(t){return"script[async]"+t}function I_(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var i=t.querySelector('style[data-href~="'+$t(n.href)+'"]');if(i)return e.instance=i,nt(i),i;var r=Re({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),nt(i),ct(i,"style",r),_u(i,n.precedence,t),e.instance=i;case"stylesheet":r=Ks(n.href);var s=t.querySelector(ul(r));if(s)return e.state.loading|=4,e.instance=s,nt(s),s;i=yb(n),(r=tn.get(r))&&lp(i,r),s=(t.ownerDocument||t).createElement("link"),nt(s);var a=s;return a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),ct(s,"link",i),e.state.loading|=4,_u(s,n.precedence,t),e.instance=s;case"script":return s=ca(n.src),(r=t.querySelector(cl(s)))?(e.instance=r,nt(r),r):(i=n,(r=tn.get(s))&&(i=Re({},n),up(i,r)),t=t.ownerDocument||t,r=t.createElement("script"),nt(r),ct(r,"link",i),t.head.appendChild(r),e.instance=r);case"void":return null;default:throw Error(L(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(i=e.instance,e.state.loading|=4,_u(i,n.precedence,t));return e.instance}function _u(t,e,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,s=r,a=0;a<i.length;a++){var l=i[a];if(l.dataset.precedence===e)s=l;else if(s!==r)break}s?s.parentNode.insertBefore(t,s.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function lp(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function up(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var vu=null;function D_(t,e,n){if(vu===null){var i=new Map,r=vu=new Map;r.set(n,i)}else r=vu,i=r.get(n),i||(i=new Map,r.set(n,i));if(i.has(t))return i;for(i.set(t,null),n=n.getElementsByTagName(t),r=0;r<n.length;r++){var s=n[r];if(!(s[il]||s[at]||t==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var a=s.getAttribute(e)||"";a=t+a;var l=i.get(a);l?l.push(s):i.set(a,[s])}}return i}function O_(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function FR(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function _b(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function GR(t,e,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var r=Ks(i.href),s=e.querySelector(ul(r));if(s){e=s._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=sc.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=s,nt(s);return}s=e.ownerDocument||e,i=yb(i),(r=tn.get(r))&&lp(i,r),s=s.createElement("link"),nt(s);var a=s;a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),ct(s,"link",i),n.instance=s}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=sc.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var wf=0;function KR(t,e){return t.stylesheets&&t.count===0&&Eu(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var i=setTimeout(function(){if(t.stylesheets&&Eu(t,t.stylesheets),t.unsuspend){var s=t.unsuspend;t.unsuspend=null,s()}},6e4+e);0<t.imgBytes&&wf===0&&(wf=62500*xR());var r=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Eu(t,t.stylesheets),t.unsuspend)){var s=t.unsuspend;t.unsuspend=null,s()}},(t.imgBytes>wf?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(i),clearTimeout(r)}}:null}function sc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Eu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ac=null;function Eu(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ac=new Map,e.forEach(QR,t),ac=null,sc.call(t))}function QR(t,e){if(!(e.state.loading&4)){var n=ac.get(t);if(n)var i=n.get(null);else{n=new Map,ac.set(t,n);for(var r=t.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<r.length;s++){var a=r[s];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}r=e.instance,a=r.getAttribute("data-precedence"),s=n.get(a)||i,s===i&&n.set(null,r),n.set(a,r),this.count++,i=sc.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),s?s.parentNode.insertBefore(r,s.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(r,t.firstChild)),e.state.loading|=4}}var ko={$$typeof:Un,Provider:null,Consumer:null,_currentValue:wr,_currentValue2:wr,_threadCount:0};function YR(t,e,n,i,r,s,a,l,u){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qh(0),this.hiddenUpdates=Qh(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function vb(t,e,n,i,r,s,a,l,u,c,d,g){return t=new YR(t,e,n,a,u,c,d,g,l),e=1,s===!0&&(e|=24),s=jt(3,null,null,e),t.current=s,s.stateNode=t,e=jm(),e.refCount++,t.pooledCache=e,e.refCount++,s.memoizedState={element:i,isDehydrated:n,cache:e},Pm(s),t}function Eb(t){return t?(t=vs,t):vs}function Tb(t,e,n,i,r,s){r=Eb(r),i.context===null?i.context=r:i.pendingContext=r,i=Mi(e),i.payload={element:n},s=s===void 0?null:s,s!==null&&(i.callback=s),n=Vi(t,i,e),n!==null&&(Nt(n,t,e),uo(n,t,e))}function M_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function cp(t,e){M_(t,e),(t=t.alternate)&&M_(t,e)}function bb(t){if(t.tag===13||t.tag===31){var e=Gr(t,67108864);e!==null&&Nt(e,t,67108864),cp(t,67108864)}}function V_(t){if(t.tag===13||t.tag===31){var e=Bt();e=Tm(e);var n=Gr(t,e);n!==null&&Nt(n,t,e),cp(t,e)}}var oc=!0;function $R(t,e,n,i){var r=Y.T;Y.T=null;var s=he.p;try{he.p=2,hp(t,e,n,i)}finally{he.p=s,Y.T=r}}function XR(t,e,n,i){var r=Y.T;Y.T=null;var s=he.p;try{he.p=8,hp(t,e,n,i)}finally{he.p=s,Y.T=r}}function hp(t,e,n,i){if(oc){var r=kd(i);if(r===null)Sf(t,e,i,lc,n),j_(t,i);else if(JR(r,t,e,n,i))i.stopPropagation();else if(j_(t,i),e&4&&-1<WR.indexOf(t)){for(;r!==null;){var s=sa(r);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var a=Er(s.pendingLanes);if(a!==0){var l=s;for(l.pendingLanes|=2,l.entangledLanes|=2;a;){var u=1<<31-zt(a);l.entanglements[1]|=u,a&=~u}In(s),!(ce&6)&&(Wu=Pt()+500,ll(0))}}break;case 31:case 13:l=Gr(s,2),l!==null&&Nt(l,s,2),Fc(),cp(s,2)}if(s=kd(i),s===null&&Sf(t,e,i,lc,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else Sf(t,e,i,null,n)}}function kd(t){return t=wm(t),fp(t)}var lc=null;function fp(t){if(lc=null,t=ds(t),t!==null){var e=Zo(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=qE(e),t!==null)return t;t=null}else if(n===31){if(t=HE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return lc=t,null}function Sb(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(k1()){case QE:return 2;case YE:return 8;case Lu:case L1:return 32;case $E:return 268435456;default:return 32}default:return 32}}var Ld=!1,Li=null,Pi=null,Ui=null,Lo=new Map,Po=new Map,Ei=[],WR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function j_(t,e){switch(t){case"focusin":case"focusout":Li=null;break;case"dragenter":case"dragleave":Pi=null;break;case"mouseover":case"mouseout":Ui=null;break;case"pointerover":case"pointerout":Lo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Po.delete(e.pointerId)}}function Fa(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=sa(e),e!==null&&bb(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function JR(t,e,n,i,r){switch(e){case"focusin":return Li=Fa(Li,t,e,n,i,r),!0;case"dragenter":return Pi=Fa(Pi,t,e,n,i,r),!0;case"mouseover":return Ui=Fa(Ui,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return Lo.set(s,Fa(Lo.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Po.set(s,Fa(Po.get(s)||null,t,e,n,i,r)),!0}return!1}function Ab(t){var e=ds(t.target);if(e!==null){var n=Zo(e);if(n!==null){if(e=n.tag,e===13){if(e=qE(n),e!==null){t.blockedOn=e,vy(t.priority,function(){V_(n)});return}}else if(e===31){if(e=HE(n),e!==null){t.blockedOn=e,vy(t.priority,function(){V_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Tu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=kd(t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);td=i,n.target.dispatchEvent(i),td=null}else return e=sa(n),e!==null&&bb(e),t.blockedOn=n,!1;e.shift()}return!0}function k_(t,e,n){Tu(t)&&n.delete(e)}function ZR(){Ld=!1,Li!==null&&Tu(Li)&&(Li=null),Pi!==null&&Tu(Pi)&&(Pi=null),Ui!==null&&Tu(Ui)&&(Ui=null),Lo.forEach(k_),Po.forEach(k_)}function Wl(t,e){t.blockedOn===e&&(t.blockedOn=null,Ld||(Ld=!0,We.unstable_scheduleCallback(We.unstable_NormalPriority,ZR)))}var Jl=null;function L_(t){Jl!==t&&(Jl=t,We.unstable_scheduleCallback(We.unstable_NormalPriority,function(){Jl===t&&(Jl=null);for(var e=0;e<t.length;e+=3){var n=t[e],i=t[e+1],r=t[e+2];if(typeof i!="function"){if(fp(i||n)===null)continue;break}var s=sa(n);s!==null&&(t.splice(e,3),e-=3,yd(s,{pending:!0,data:r,method:n.method,action:i},i,r))}}))}function Qs(t){function e(u){return Wl(u,t)}Li!==null&&Wl(Li,t),Pi!==null&&Wl(Pi,t),Ui!==null&&Wl(Ui,t),Lo.forEach(e),Po.forEach(e);for(var n=0;n<Ei.length;n++){var i=Ei[n];i.blockedOn===t&&(i.blockedOn=null)}for(;0<Ei.length&&(n=Ei[0],n.blockedOn===null);)Ab(n),n.blockedOn===null&&Ei.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var r=n[i],s=n[i+1],a=r[It]||null;if(typeof s=="function")a||L_(n);else if(a){var l=null;if(s&&s.hasAttribute("formAction")){if(r=s,a=s[It]||null)l=a.formAction;else if(fp(r)!==null)continue}else l=a.action;typeof l=="function"?n[i+1]=l:(n.splice(i,3),i-=3),L_(n)}}}function wb(){function t(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(a){return r=a})},focusReset:"manual",scroll:"manual"})}function e(){r!==null&&(r(),r=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,r=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),r!==null&&(r(),r=null)}}}function dp(t){this._internalRoot=t}Qc.prototype.render=dp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(L(409));var n=e.current,i=Bt();Tb(n,i,t,e,null,null)};Qc.prototype.unmount=dp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Tb(t.current,2,null,t,null,null),Fc(),e[ra]=null}};function Qc(t){this._internalRoot=t}Qc.prototype.unstable_scheduleHydration=function(t){if(t){var e=e0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ei.length&&e!==0&&e<Ei[n].priority;n++);Ei.splice(n,0,t),n===0&&Ab(t)}};var P_=zE.version;if(P_!=="19.2.3")throw Error(L(527,P_,"19.2.3"));he.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(L(188)):(t=Object.keys(t).join(","),Error(L(268,t)));return t=N1(e),t=t!==null?FE(t):null,t=t===null?null:t.stateNode,t};var eC={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zl.isDisabled&&Zl.supportsFiber)try{el=Zl.inject(eC),Ut=Zl}catch{}}Ic.createRoot=function(t,e){if(!BE(t))throw Error(L(299));var n=!1,i="",r=gT,s=yT,a=_T;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onUncaughtError!==void 0&&(r=e.onUncaughtError),e.onCaughtError!==void 0&&(s=e.onCaughtError),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=vb(t,1,!1,null,null,n,i,null,r,s,a,wb),t[ra]=e.current,op(t),new dp(e)};Ic.hydrateRoot=function(t,e,n){if(!BE(t))throw Error(L(299));var i=!1,r="",s=gT,a=yT,l=_T,u=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.formState!==void 0&&(u=n.formState)),e=vb(t,1,!0,e,n??null,i,r,u,s,a,l,wb),e.context=Eb(null),n=e.current,i=Bt(),i=Tm(i),r=Mi(i),r.callback=null,Vi(n,r,i),n=i,e.current.lanes=n,nl(e,n),In(e),t[ra]=e.current,op(t),new Qc(e)};Ic.version="19.2.3";function xb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xb)}catch(t){console.error(t)}}xb(),VE.exports=Ic;var tC=VE.exports;/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var U_="popstate";function nC(t={}){function e(i,r){let{pathname:s,search:a,hash:l}=i.location;return Pd("",{pathname:s,search:a,hash:l},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:Uo(r)}return rC(e,n,null,t)}function Ne(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Rn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function iC(){return Math.random().toString(36).substring(2,10)}function z_(t,e){return{usr:t.state,key:t.key,idx:e}}function Pd(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ha(e):e,state:n,key:e&&e.key||i||iC()}}function Uo({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ha(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function rC(t,e,n,i={}){let{window:r=document.defaultView,v5Compat:s=!1}=i,a=r.history,l="POP",u=null,c=d();c==null&&(c=0,a.replaceState({...a.state,idx:c},""));function d(){return(a.state||{idx:null}).idx}function g(){l="POP";let I=d(),T=I==null?null:I-c;c=I,u&&u({action:l,location:D.location,delta:T})}function p(I,T){l="PUSH";let v=Pd(D.location,I,T);c=d()+1;let A=z_(v,c),V=D.createHref(v);try{a.pushState(A,"",V)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;r.location.assign(V)}s&&u&&u({action:l,location:D.location,delta:1})}function _(I,T){l="REPLACE";let v=Pd(D.location,I,T);c=d();let A=z_(v,c),V=D.createHref(v);a.replaceState(A,"",V),s&&u&&u({action:l,location:D.location,delta:0})}function C(I){return sC(I)}let D={get action(){return l},get location(){return t(r,a)},listen(I){if(u)throw new Error("A history only accepts one active listener");return r.addEventListener(U_,g),u=I,()=>{r.removeEventListener(U_,g),u=null}},createHref(I){return e(r,I)},createURL:C,encodeLocation(I){let T=C(I);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:p,replace:_,go(I){return a.go(I)}};return D}function sC(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ne(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Uo(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function Rb(t,e,n="/"){return aC(t,e,n,!1)}function aC(t,e,n,i){let r=typeof e=="string"?ha(e):e,s=Zn(r.pathname||"/",n);if(s==null)return null;let a=Cb(t);oC(a);let l=null;for(let u=0;l==null&&u<a.length;++u){let c=_C(s);l=gC(a[u],c,i)}return l}function Cb(t,e=[],n=[],i="",r=!1){let s=(a,l,u=r,c)=>{let d={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(i)&&u)return;Ne(d.relativePath.startsWith(i),`Absolute route path "${d.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(i.length)}let g=Qn([i,d.relativePath]),p=n.concat(d);a.children&&a.children.length>0&&(Ne(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Cb(a.children,e,p,g,u)),!(a.path==null&&!a.index)&&e.push({path:g,score:mC(g,a.index),routesMeta:p})};return t.forEach((a,l)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))s(a,l);else for(let c of Nb(a.path))s(a,l,!0,c)}),e}function Nb(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let a=Nb(i.join("/")),l=[];return l.push(...a.map(u=>u===""?s:[s,u].join("/"))),r&&l.push(...a),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function oC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:pC(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var lC=/^:[\w-]+$/,uC=3,cC=2,hC=1,fC=10,dC=-2,B_=t=>t==="*";function mC(t,e){let n=t.split("/"),i=n.length;return n.some(B_)&&(i+=dC),e&&(i+=cC),n.filter(r=>!B_(r)).reduce((r,s)=>r+(lC.test(s)?uC:s===""?hC:fC),i)}function pC(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function gC(t,e,n=!1){let{routesMeta:i}=t,r={},s="/",a=[];for(let l=0;l<i.length;++l){let u=i[l],c=l===i.length-1,d=s==="/"?e:e.slice(s.length)||"/",g=uc({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),p=u.route;if(!g&&c&&n&&!i[i.length-1].route.index&&(g=uc({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!g)return null;Object.assign(r,g.params),a.push({params:r,pathname:Qn([s,g.pathname]),pathnameBase:bC(Qn([s,g.pathnameBase])),route:p}),g.pathnameBase!=="/"&&(s=Qn([s,g.pathnameBase]))}return a}function uc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=yC(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],a=s.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:i.reduce((c,{paramName:d,isOptional:g},p)=>{if(d==="*"){let C=l[p]||"";a=s.slice(0,s.length-C.length).replace(/(.)\/+$/,"$1")}const _=l[p];return g&&!_?c[d]=void 0:c[d]=(_||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:t}}function yC(t,e=!1,n=!0){Rn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,u)=>(i.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function _C(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Rn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Zn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}var vC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function EC(t,e="/"){let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?ha(t):t,s;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?s=q_(n.substring(1),"/"):s=q_(n,e)):s=e,{pathname:s,search:SC(i),hash:AC(r)}}function q_(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function xf(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function TC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ib(t){let e=TC(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function Db(t,e,n,i=!1){let r;typeof t=="string"?r=ha(t):(r={...t},Ne(!r.pathname||!r.pathname.includes("?"),xf("?","pathname","search",r)),Ne(!r.pathname||!r.pathname.includes("#"),xf("#","pathname","hash",r)),Ne(!r.search||!r.search.includes("#"),xf("#","search","hash",r)));let s=t===""||r.pathname==="",a=s?"/":r.pathname,l;if(a==null)l=n;else{let g=e.length-1;if(!i&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),g-=1;r.pathname=p.join("/")}l=g>=0?e[g]:"/"}let u=EC(r,l),c=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}var Qn=t=>t.join("/").replace(/\/\/+/g,"/"),bC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),SC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,AC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,wC=class{constructor(t,e,n,i=!1){this.status=t,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function xC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function RC(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Ob=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Mb(t,e){let n=t;if(typeof n!="string"||!vC.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,r=!1;if(Ob)try{let s=new URL(window.location.href),a=n.startsWith("//")?new URL(s.protocol+n):new URL(n),l=Zn(a.pathname,e);a.origin===s.origin&&l!=null?n=l+a.search+a.hash:r=!0}catch{Rn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:r,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Vb=["POST","PUT","PATCH","DELETE"];new Set(Vb);var CC=["GET",...Vb];new Set(CC);var fa=M.createContext(null);fa.displayName="DataRouter";var Yc=M.createContext(null);Yc.displayName="DataRouterState";var NC=M.createContext(!1),jb=M.createContext({isTransitioning:!1});jb.displayName="ViewTransition";var IC=M.createContext(new Map);IC.displayName="Fetchers";var DC=M.createContext(null);DC.displayName="Await";var nn=M.createContext(null);nn.displayName="Navigation";var hl=M.createContext(null);hl.displayName="Location";var Dn=M.createContext({outlet:null,matches:[],isDataRoute:!1});Dn.displayName="Route";var mp=M.createContext(null);mp.displayName="RouteError";var kb="REACT_ROUTER_ERROR",OC="REDIRECT",MC="ROUTE_ERROR_RESPONSE";function VC(t){if(t.startsWith(`${kb}:${OC}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function jC(t){if(t.startsWith(`${kb}:${MC}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new wC(e.status,e.statusText,e.data)}catch{}}function kC(t,{relative:e}={}){Ne(fl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=M.useContext(nn),{hash:r,pathname:s,search:a}=dl(t,{relative:e}),l=s;return n!=="/"&&(l=s==="/"?n:Qn([n,s])),i.createHref({pathname:l,search:a,hash:r})}function fl(){return M.useContext(hl)!=null}function or(){return Ne(fl(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(hl).location}var Lb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Pb(t){M.useContext(nn).static||M.useLayoutEffect(t)}function $c(){let{isDataRoute:t}=M.useContext(Dn);return t?WC():LC()}function LC(){Ne(fl(),"useNavigate() may be used only in the context of a <Router> component.");let t=M.useContext(fa),{basename:e,navigator:n}=M.useContext(nn),{matches:i}=M.useContext(Dn),{pathname:r}=or(),s=JSON.stringify(Ib(i)),a=M.useRef(!1);return Pb(()=>{a.current=!0}),M.useCallback((u,c={})=>{if(Rn(a.current,Lb),!a.current)return;if(typeof u=="number"){n.go(u);return}let d=Db(u,JSON.parse(s),r,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Qn([e,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[e,n,s,r,t])}var PC=M.createContext(null);function UC(t){let e=M.useContext(Dn).outlet;return M.useMemo(()=>e&&M.createElement(PC.Provider,{value:t},e),[e,t])}function dl(t,{relative:e}={}){let{matches:n}=M.useContext(Dn),{pathname:i}=or(),r=JSON.stringify(Ib(n));return M.useMemo(()=>Db(t,JSON.parse(r),i,e==="path"),[t,r,i,e])}function zC(t,e){return Ub(t,e)}function Ub(t,e,n,i,r){var v;Ne(fl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=M.useContext(nn),{matches:a}=M.useContext(Dn),l=a[a.length-1],u=l?l.params:{},c=l?l.pathname:"/",d=l?l.pathnameBase:"/",g=l&&l.route;{let A=g&&g.path||"";Bb(c,!g||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let p=or(),_;if(e){let A=typeof e=="string"?ha(e):e;Ne(d==="/"||((v=A.pathname)==null?void 0:v.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${A.pathname}" was given in the \`location\` prop.`),_=A}else _=p;let C=_.pathname||"/",D=C;if(d!=="/"){let A=d.replace(/^\//,"").split("/");D="/"+C.replace(/^\//,"").split("/").slice(A.length).join("/")}let I=Rb(t,{pathname:D});Rn(g||I!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Rn(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=GC(I&&I.map(A=>Object.assign({},A,{params:Object.assign({},u,A.params),pathname:Qn([d,s.encodeLocation?s.encodeLocation(A.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?d:Qn([d,s.encodeLocation?s.encodeLocation(A.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathnameBase])})),a,n,i,r);return e&&T?M.createElement(hl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},T):T}function BC(){let t=XC(),e=xC(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:s},"ErrorBoundary")," or"," ",M.createElement("code",{style:s},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:r},n):null,a)}var qC=M.createElement(BC,null),zb=class extends M.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=jC(t.digest);n&&(t=n)}let e=t!==void 0?M.createElement(Dn.Provider,{value:this.props.routeContext},M.createElement(mp.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?M.createElement(HC,{error:t},e):e}};zb.contextType=NC;var Rf=new WeakMap;function HC({children:t,error:e}){let{basename:n}=M.useContext(nn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=VC(e.digest);if(i){let r=Rf.get(e);if(r)throw r;let s=Mb(i.location,n);if(Ob&&!Rf.get(e))if(s.isExternal||i.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const a=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:i.replace}));throw Rf.set(e,a),a}return M.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return t}function FC({routeContext:t,match:e,children:n}){let i=M.useContext(fa);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(Dn.Provider,{value:t},n)}function GC(t,e=[],n=null,i=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=n==null?void 0:n.errors;if(a!=null){let d=s.findIndex(g=>g.route.id&&(a==null?void 0:a[g.route.id])!==void 0);Ne(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,u=-1;if(n)for(let d=0;d<s.length;d++){let g=s[d];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(u=d),g.route.id){let{loaderData:p,errors:_}=n,C=g.route.loader&&!p.hasOwnProperty(g.route.id)&&(!_||_[g.route.id]===void 0);if(g.route.lazy||C){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}let c=n&&i?(d,g)=>{var p,_;i(d,{location:n.location,params:((_=(p=n.matches)==null?void 0:p[0])==null?void 0:_.params)??{},unstable_pattern:RC(n.matches),errorInfo:g})}:void 0;return s.reduceRight((d,g,p)=>{let _,C=!1,D=null,I=null;n&&(_=a&&g.route.id?a[g.route.id]:void 0,D=g.route.errorElement||qC,l&&(u<0&&p===0?(Bb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,I=null):u===p&&(C=!0,I=g.route.hydrateFallbackElement||null)));let T=e.concat(s.slice(0,p+1)),v=()=>{let A;return _?A=D:C?A=I:g.route.Component?A=M.createElement(g.route.Component,null):g.route.element?A=g.route.element:A=d,M.createElement(FC,{match:g,routeContext:{outlet:d,matches:T,isDataRoute:n!=null},children:A})};return n&&(g.route.ErrorBoundary||g.route.errorElement||p===0)?M.createElement(zb,{location:n.location,revalidation:n.revalidation,component:D,error:_,children:v(),routeContext:{outlet:null,matches:T,isDataRoute:!0},onError:c}):v()},null)}function pp(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KC(t){let e=M.useContext(fa);return Ne(e,pp(t)),e}function QC(t){let e=M.useContext(Yc);return Ne(e,pp(t)),e}function YC(t){let e=M.useContext(Dn);return Ne(e,pp(t)),e}function gp(t){let e=YC(t),n=e.matches[e.matches.length-1];return Ne(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function $C(){return gp("useRouteId")}function XC(){var i;let t=M.useContext(mp),e=QC("useRouteError"),n=gp("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function WC(){let{router:t}=KC("useNavigate"),e=gp("useNavigate"),n=M.useRef(!1);return Pb(()=>{n.current=!0}),M.useCallback(async(r,s={})=>{Rn(n.current,Lb),n.current&&(typeof r=="number"?await t.navigate(r):await t.navigate(r,{fromRouteId:e,...s}))},[t,e])}var H_={};function Bb(t,e,n){!e&&!H_[t]&&(H_[t]=!0,Rn(!1,n))}M.memo(JC);function JC({routes:t,future:e,state:n,onError:i}){return Ub(t,void 0,n,i,e)}function ZC(t){return UC(t.context)}function Ue(t){Ne(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function eN({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:r,static:s=!1,unstable_useTransitions:a}){Ne(!fl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),u=M.useMemo(()=>({basename:l,navigator:r,static:s,unstable_useTransitions:a,future:{}}),[l,r,s,a]);typeof n=="string"&&(n=ha(n));let{pathname:c="/",search:d="",hash:g="",state:p=null,key:_="default"}=n,C=M.useMemo(()=>{let D=Zn(c,l);return D==null?null:{location:{pathname:D,search:d,hash:g,state:p,key:_},navigationType:i}},[l,c,d,g,p,_,i]);return Rn(C!=null,`<Router basename="${l}"> is not able to match the URL "${c}${d}${g}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:M.createElement(nn.Provider,{value:u},M.createElement(hl.Provider,{children:e,value:C}))}function F_({children:t,location:e}){return zC(Ud(t),e)}function Ud(t,e=[]){let n=[];return M.Children.forEach(t,(i,r)=>{if(!M.isValidElement(i))return;let s=[...e,r];if(i.type===M.Fragment){n.push.apply(n,Ud(i.props.children,s));return}Ne(i.type===Ue,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ne(!i.props.index||!i.props.children,"An index route cannot have child routes.");let a={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=Ud(i.props.children,s)),n.push(a)}),n}var bu="get",Su="application/x-www-form-urlencoded";function Xc(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function tN(t){return Xc(t)&&t.tagName.toLowerCase()==="button"}function nN(t){return Xc(t)&&t.tagName.toLowerCase()==="form"}function iN(t){return Xc(t)&&t.tagName.toLowerCase()==="input"}function rN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function sN(t,e){return t.button===0&&(!e||e==="_self")&&!rN(t)}var eu=null;function aN(){if(eu===null)try{new FormData(document.createElement("form"),0),eu=!1}catch{eu=!0}return eu}var oN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Cf(t){return t!=null&&!oN.has(t)?(Rn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Su}"`),null):t}function lN(t,e){let n,i,r,s,a;if(nN(t)){let l=t.getAttribute("action");i=l?Zn(l,e):null,n=t.getAttribute("method")||bu,r=Cf(t.getAttribute("enctype"))||Su,s=new FormData(t)}else if(tN(t)||iN(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||l.getAttribute("action");if(i=u?Zn(u,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||bu,r=Cf(t.getAttribute("formenctype"))||Cf(l.getAttribute("enctype"))||Su,s=new FormData(l,t),!aN()){let{name:c,type:d,value:g}=t;if(d==="image"){let p=c?`${c}.`:"";s.append(`${p}x`,"0"),s.append(`${p}y`,"0")}else c&&s.append(c,g)}}else{if(Xc(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=bu,i=null,r=Su,a=t}return s&&r==="text/plain"&&(a=s,s=void 0),{action:i,method:n.toLowerCase(),encType:r,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function yp(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function uN(t,e,n,i){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?r.pathname.endsWith("/")?r.pathname=`${r.pathname}_.${i}`:r.pathname=`${r.pathname}.${i}`:r.pathname==="/"?r.pathname=`_root.${i}`:e&&Zn(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${i}`,r}async function cN(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function hN(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function fN(t,e,n){let i=await Promise.all(t.map(async r=>{let s=e.routes[r.route.id];if(s){let a=await cN(s,n);return a.links?a.links():[]}return[]}));return gN(i.flat(1).filter(hN).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function G_(t,e,n,i,r,s){let a=(u,c)=>n[c]?u.route.id!==n[c].route.id:!0,l=(u,c)=>{var d;return n[c].pathname!==u.pathname||((d=n[c].route.path)==null?void 0:d.endsWith("*"))&&n[c].params["*"]!==u.params["*"]};return s==="assets"?e.filter((u,c)=>a(u,c)||l(u,c)):s==="data"?e.filter((u,c)=>{var g;let d=i.routes[u.route.id];if(!d||!d.hasLoader)return!1;if(a(u,c)||l(u,c))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function dN(t,e,{includeHydrateFallback:n}={}){return mN(t.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function mN(t){return[...new Set(t)]}function pN(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function gN(t,e){let n=new Set;return new Set(e),t.reduce((i,r)=>{let s=JSON.stringify(pN(r));return n.has(s)||(n.add(s),i.push({key:s,link:r})),i},[])}function qb(){let t=M.useContext(fa);return yp(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function yN(){let t=M.useContext(Yc);return yp(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var _p=M.createContext(void 0);_p.displayName="FrameworkContext";function Hb(){let t=M.useContext(_p);return yp(t,"You must render this element inside a <HydratedRouter> element"),t}function _N(t,e){let n=M.useContext(_p),[i,r]=M.useState(!1),[s,a]=M.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:c,onMouseLeave:d,onTouchStart:g}=e,p=M.useRef(null);M.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let D=T=>{T.forEach(v=>{a(v.isIntersecting)})},I=new IntersectionObserver(D,{threshold:.5});return p.current&&I.observe(p.current),()=>{I.disconnect()}}},[t]),M.useEffect(()=>{if(i){let D=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(D)}}},[i]);let _=()=>{r(!0)},C=()=>{r(!1),a(!1)};return n?t!=="intent"?[s,p,{}]:[s,p,{onFocus:Ga(l,_),onBlur:Ga(u,C),onMouseEnter:Ga(c,_),onMouseLeave:Ga(d,C),onTouchStart:Ga(g,_)}]:[!1,p,{}]}function Ga(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function vN({page:t,...e}){let{router:n}=qb(),i=M.useMemo(()=>Rb(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?M.createElement(TN,{page:t,matches:i,...e}):null}function EN(t){let{manifest:e,routeModules:n}=Hb(),[i,r]=M.useState([]);return M.useEffect(()=>{let s=!1;return fN(t,e,n).then(a=>{s||r(a)}),()=>{s=!0}},[t,e,n]),i}function TN({page:t,matches:e,...n}){let i=or(),{future:r,manifest:s,routeModules:a}=Hb(),{basename:l}=qb(),{loaderData:u,matches:c}=yN(),d=M.useMemo(()=>G_(t,e,c,s,i,"data"),[t,e,c,s,i]),g=M.useMemo(()=>G_(t,e,c,s,i,"assets"),[t,e,c,s,i]),p=M.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let D=new Set,I=!1;if(e.forEach(v=>{var V;let A=s.routes[v.route.id];!A||!A.hasLoader||(!d.some(U=>U.route.id===v.route.id)&&v.route.id in u&&((V=a[v.route.id])!=null&&V.shouldRevalidate)||A.hasClientLoader?I=!0:D.add(v.route.id))}),D.size===0)return[];let T=uN(t,l,r.unstable_trailingSlashAwareDataRequests,"data");return I&&D.size>0&&T.searchParams.set("_routes",e.filter(v=>D.has(v.route.id)).map(v=>v.route.id).join(",")),[T.pathname+T.search]},[l,r.unstable_trailingSlashAwareDataRequests,u,i,s,d,e,t,a]),_=M.useMemo(()=>dN(g,s),[g,s]),C=EN(g);return M.createElement(M.Fragment,null,p.map(D=>M.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...n})),_.map(D=>M.createElement("link",{key:D,rel:"modulepreload",href:D,...n})),C.map(({key:D,link:I})=>M.createElement("link",{key:D,nonce:n.nonce,...I,crossOrigin:I.crossOrigin??n.crossOrigin})))}function bN(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var SN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{SN&&(window.__reactRouterVersion="7.13.0")}catch{}function AN({basename:t,children:e,unstable_useTransitions:n,window:i}){let r=M.useRef();r.current==null&&(r.current=nC({window:i,v5Compat:!0}));let s=r.current,[a,l]=M.useState({action:s.action,location:s.location}),u=M.useCallback(c=>{n===!1?l(c):M.startTransition(()=>l(c))},[n]);return M.useLayoutEffect(()=>s.listen(u),[s,u]),M.createElement(eN,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:s,unstable_useTransitions:n})}var Fb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ye=M.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:r,reloadDocument:s,replace:a,state:l,target:u,to:c,preventScrollReset:d,viewTransition:g,unstable_defaultShouldRevalidate:p,..._},C){let{basename:D,unstable_useTransitions:I}=M.useContext(nn),T=typeof c=="string"&&Fb.test(c),v=Mb(c,D);c=v.to;let A=kC(c,{relative:r}),[V,U,F]=_N(i,_),b=RN(c,{replace:a,state:l,target:u,preventScrollReset:d,relative:r,viewTransition:g,unstable_defaultShouldRevalidate:p,unstable_useTransitions:I});function E(x){e&&e(x),x.defaultPrevented||b(x)}let S=M.createElement("a",{..._,...F,href:v.absoluteURL||A,onClick:v.isExternal||s?e:E,ref:bN(C,U),target:u,"data-discover":!T&&n==="render"?"true":void 0});return V&&!T?M.createElement(M.Fragment,null,S,M.createElement(vN,{page:A})):S});Ye.displayName="Link";var as=M.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:r=!1,style:s,to:a,viewTransition:l,children:u,...c},d){let g=dl(a,{relative:c.relative}),p=or(),_=M.useContext(Yc),{navigator:C,basename:D}=M.useContext(nn),I=_!=null&&ON(g)&&l===!0,T=C.encodeLocation?C.encodeLocation(g).pathname:g.pathname,v=p.pathname,A=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;n||(v=v.toLowerCase(),A=A?A.toLowerCase():null,T=T.toLowerCase()),A&&D&&(A=Zn(A,D)||A);const V=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let U=v===T||!r&&v.startsWith(T)&&v.charAt(V)==="/",F=A!=null&&(A===T||!r&&A.startsWith(T)&&A.charAt(T.length)==="/"),b={isActive:U,isPending:F,isTransitioning:I},E=U?e:void 0,S;typeof i=="function"?S=i(b):S=[i,U?"active":null,F?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let x=typeof s=="function"?s(b):s;return M.createElement(Ye,{...c,"aria-current":E,className:S,ref:d,style:x,to:a,viewTransition:l},typeof u=="function"?u(b):u)});as.displayName="NavLink";var wN=M.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:r,state:s,method:a=bu,action:l,onSubmit:u,relative:c,preventScrollReset:d,viewTransition:g,unstable_defaultShouldRevalidate:p,..._},C)=>{let{unstable_useTransitions:D}=M.useContext(nn),I=IN(),T=DN(l,{relative:c}),v=a.toLowerCase()==="get"?"get":"post",A=typeof l=="string"&&Fb.test(l),V=U=>{if(u&&u(U),U.defaultPrevented)return;U.preventDefault();let F=U.nativeEvent.submitter,b=(F==null?void 0:F.getAttribute("formmethod"))||a,E=()=>I(F||U.currentTarget,{fetcherKey:e,method:b,navigate:n,replace:r,state:s,relative:c,preventScrollReset:d,viewTransition:g,unstable_defaultShouldRevalidate:p});D&&n!==!1?M.startTransition(()=>E()):E()};return M.createElement("form",{ref:C,method:v,action:T,onSubmit:i?u:V,..._,"data-discover":!A&&t==="render"?"true":void 0})});wN.displayName="Form";function xN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Gb(t){let e=M.useContext(fa);return Ne(e,xN(t)),e}function RN(t,{target:e,replace:n,state:i,preventScrollReset:r,relative:s,viewTransition:a,unstable_defaultShouldRevalidate:l,unstable_useTransitions:u}={}){let c=$c(),d=or(),g=dl(t,{relative:s});return M.useCallback(p=>{if(sN(p,e)){p.preventDefault();let _=n!==void 0?n:Uo(d)===Uo(g),C=()=>c(t,{replace:_,state:i,preventScrollReset:r,relative:s,viewTransition:a,unstable_defaultShouldRevalidate:l});u?M.startTransition(()=>C()):C()}},[d,c,g,n,i,e,t,r,s,a,l,u])}var CN=0,NN=()=>`__${String(++CN)}__`;function IN(){let{router:t}=Gb("useSubmit"),{basename:e}=M.useContext(nn),n=$C(),i=t.fetch,r=t.navigate;return M.useCallback(async(s,a={})=>{let{action:l,method:u,encType:c,formData:d,body:g}=lN(s,e);if(a.navigate===!1){let p=a.fetcherKey||NN();await i(p,n,a.action||l,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:d,body:g,formMethod:a.method||u,formEncType:a.encType||c,flushSync:a.flushSync})}else await r(a.action||l,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:d,body:g,formMethod:a.method||u,formEncType:a.encType||c,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[i,r,e,n])}function DN(t,{relative:e}={}){let{basename:n}=M.useContext(nn),i=M.useContext(Dn);Ne(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),s={...dl(t||".",{relative:e})},a=or();if(t==null){s.search=a.search;let l=new URLSearchParams(s.search),u=l.getAll("index");if(u.some(d=>d==="")){l.delete("index"),u.filter(g=>g).forEach(g=>l.append("index",g));let d=l.toString();s.search=d?`?${d}`:""}}return(!t||t===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Qn([n,s.pathname])),Uo(s)}function ON(t,{relative:e}={}){let n=M.useContext(jb);Ne(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Gb("useViewTransitionState"),r=dl(t,{relative:e});if(!n.isTransitioning)return!1;let s=Zn(n.currentLocation.pathname,i)||n.currentLocation.pathname,a=Zn(n.nextLocation.pathname,i)||n.nextLocation.pathname;return uc(r.pathname,a)!=null||uc(r.pathname,s)!=null}const Kb=M.createContext(),ml=()=>M.useContext(Kb),MN=({children:t})=>{const[e,n]=M.useState(()=>{try{const c=localStorage.getItem("ambrosia_cart");return c?JSON.parse(c):[]}catch(c){return console.error("Failed to parse cart data:",c),[]}});M.useEffect(()=>{localStorage.setItem("ambrosia_cart",JSON.stringify(e))},[e]);const i=c=>{n(d=>{const g=d.find(p=>p.id===c.id);return g?g.quantity>=50?d:d.map(p=>p.id===c.id?{...p,quantity:p.quantity+1}:p):[...d,{...c,quantity:1}]})},r=c=>{n(d=>d.filter(g=>g.id!==c))},s=(c,d)=>{if(d<1){r(c);return}d>50||n(g=>g.map(p=>p.id===c?{...p,quantity:d}:p))},a=()=>n([]),l=e.reduce((c,d)=>c+d.price*d.quantity,0),u=e.reduce((c,d)=>c+d.quantity,0);return h.jsx(Kb.Provider,{value:{cartItems:e,addToCart:i,removeFromCart:r,updateQuantity:s,clearCart:a,cartTotal:l,cartCount:u},children:t})},VN=()=>{};var K_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},jN=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=t[n++],a=t[n++],l=t[n++],u=((r&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(u>>10)),e[i++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],a=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|a&63)}}return e.join("")},Yb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const s=t[r],a=r+1<t.length,l=a?t[r+1]:0,u=r+2<t.length,c=u?t[r+2]:0,d=s>>2,g=(s&3)<<4|l>>4;let p=(l&15)<<2|c>>6,_=c&63;u||(_=64,a||(p=64)),i.push(n[d],n[g],n[p],n[_])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Qb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):jN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const s=n[t.charAt(r++)],l=r<t.length?n[t.charAt(r)]:0;++r;const c=r<t.length?n[t.charAt(r)]:64;++r;const g=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||l==null||c==null||g==null)throw new kN;const p=s<<2|l>>4;if(i.push(p),c!==64){const _=l<<4&240|c>>2;if(i.push(_),g!==64){const C=c<<6&192|g;i.push(C)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class kN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const LN=function(t){const e=Qb(t);return Yb.encodeByteArray(e,!0)},cc=function(t){return LN(t).replace(/\./g,"")},$b=function(t){try{return Yb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN=()=>PN().__FIREBASE_DEFAULTS__,zN=()=>{if(typeof process>"u"||typeof K_>"u")return;const t=K_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},BN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&$b(t[1]);return e&&JSON.parse(e)},Wc=()=>{try{return VN()||UN()||zN()||BN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Xb=t=>{var e,n;return(n=(e=Wc())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},qN=t=>{const e=Xb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Wb=()=>{var t;return(t=Wc())==null?void 0:t.config},Jb=t=>{var e;return(e=Wc())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function da(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Zb(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[cc(JSON.stringify(n)),cc(JSON.stringify(a)),""].join(".")}const vo={};function GN(){const t={prod:[],emulator:[]};for(const e of Object.keys(vo))vo[e]?t.emulator.push(e):t.prod.push(e);return t}function KN(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Q_=!1;function eS(t,e){if(typeof window>"u"||typeof document>"u"||!da(window.location.host)||vo[t]===e||vo[t]||Q_)return;vo[t]=e;function n(p){return`__firebase__banner__${p}`}const i="__firebase__banner",s=GN().prod.length>0;function a(){const p=document.getElementById(i);p&&p.remove()}function l(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function u(p,_){p.setAttribute("width","24"),p.setAttribute("id",_),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function c(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{Q_=!0,a()},p}function d(p,_){p.setAttribute("id",_),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function g(){const p=KN(i),_=n("text"),C=document.getElementById(_)||document.createElement("span"),D=n("learnmore"),I=document.getElementById(D)||document.createElement("a"),T=n("preprendIcon"),v=document.getElementById(T)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const A=p.element;l(A),d(I,D);const V=c();u(v,T),A.append(v,C,I,V),document.body.appendChild(A)}s?(C.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function QN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yt())}function YN(){var e;const t=(e=Wc())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $N(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function XN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function WN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function JN(){const t=yt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ZN(){return!YN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function e2(){try{return typeof indexedDB=="object"}catch{return!1}}function t2(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2="FirebaseError";class si extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=n2,Object.setPrototypeOf(this,si.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pl.prototype.create)}}class pl{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],a=s?i2(s,i):"Error",l=`${this.serviceName}: ${a} (${r}).`;return new si(r,l,i)}}function i2(t,e){return t.replace(r2,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const r2=/\{\$([^}]+)}/g;function s2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function kr(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const s=t[r],a=e[r];if(Y_(s)&&Y_(a)){if(!kr(s,a))return!1}else if(s!==a)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function Y_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gl(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Ja(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function Za(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function a2(t,e){const n=new o2(t,e);return n.subscribe.bind(n)}class o2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");l2(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=Nf),r.error===void 0&&(r.error=Nf),r.complete===void 0&&(r.complete=Nf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function l2(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Nf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Je(t){return t&&t._delegate?t._delegate:t}class Lr{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new HN;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(h2(e))try{this.getOrInitializeService({instanceIdentifier:Sr})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=Sr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Sr){return this.instances.has(e)}getOptions(e=Sr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);i===l&&a.resolve(r)}return r}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),r=this.onInitCallbacks.get(i)??new Set;r.add(e),this.onInitCallbacks.set(i,r);const s=this.instances.get(i);return s&&e(s,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:c2(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Sr){return this.component?this.component.multipleInstances?e:Sr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function c2(t){return t===Sr?void 0:t}function h2(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new u2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var re;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(re||(re={}));const d2={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},m2=re.INFO,p2={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},g2=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=p2[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vp{constructor(e){this.name=e,this._logLevel=m2,this._logHandler=g2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?d2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...e),this._logHandler(this,re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...e),this._logHandler(this,re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,re.INFO,...e),this._logHandler(this,re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,re.WARN,...e),this._logHandler(this,re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...e),this._logHandler(this,re.ERROR,...e)}}const y2=(t,e)=>e.some(n=>t instanceof n);let $_,X_;function _2(){return $_||($_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function v2(){return X_||(X_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tS=new WeakMap,zd=new WeakMap,nS=new WeakMap,If=new WeakMap,Ep=new WeakMap;function E2(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(zi(t.result)),r()},a=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&tS.set(n,t)}).catch(()=>{}),Ep.set(e,t),e}function T2(t){if(zd.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),r()},a=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});zd.set(t,e)}let Bd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return zd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||nS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function b2(t){Bd=t(Bd)}function S2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Df(this),e,...n);return nS.set(i,e.sort?e.sort():[e]),zi(i)}:v2().includes(t)?function(...e){return t.apply(Df(this),e),zi(tS.get(this))}:function(...e){return zi(t.apply(Df(this),e))}}function A2(t){return typeof t=="function"?S2(t):(t instanceof IDBTransaction&&T2(t),y2(t,_2())?new Proxy(t,Bd):t)}function zi(t){if(t instanceof IDBRequest)return E2(t);if(If.has(t))return If.get(t);const e=A2(t);return e!==t&&(If.set(t,e),Ep.set(e,t)),e}const Df=t=>Ep.get(t);function w2(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const a=indexedDB.open(t,e),l=zi(a);return i&&a.addEventListener("upgradeneeded",u=>{i(zi(a.result),u.oldVersion,u.newVersion,zi(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),r&&u.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const x2=["get","getKey","getAll","getAllKeys","count"],R2=["put","add","delete","clear"],Of=new Map;function W_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Of.get(e))return Of.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=R2.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||x2.includes(n)))return;const s=async function(a,...l){const u=this.transaction(a,r?"readwrite":"readonly");let c=u.store;return i&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),r&&u.done]))[0]};return Of.set(e,s),s}b2(t=>({...t,get:(e,n,i)=>W_(e,n)||t.get(e,n,i),has:(e,n)=>!!W_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(N2(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function N2(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const qd="@firebase/app",J_="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ei=new vp("@firebase/app"),I2="@firebase/app-compat",D2="@firebase/analytics-compat",O2="@firebase/analytics",M2="@firebase/app-check-compat",V2="@firebase/app-check",j2="@firebase/auth",k2="@firebase/auth-compat",L2="@firebase/database",P2="@firebase/data-connect",U2="@firebase/database-compat",z2="@firebase/functions",B2="@firebase/functions-compat",q2="@firebase/installations",H2="@firebase/installations-compat",F2="@firebase/messaging",G2="@firebase/messaging-compat",K2="@firebase/performance",Q2="@firebase/performance-compat",Y2="@firebase/remote-config",$2="@firebase/remote-config-compat",X2="@firebase/storage",W2="@firebase/storage-compat",J2="@firebase/firestore",Z2="@firebase/ai",eI="@firebase/firestore-compat",tI="firebase",nI="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hd="[DEFAULT]",iI={[qd]:"fire-core",[I2]:"fire-core-compat",[O2]:"fire-analytics",[D2]:"fire-analytics-compat",[V2]:"fire-app-check",[M2]:"fire-app-check-compat",[j2]:"fire-auth",[k2]:"fire-auth-compat",[L2]:"fire-rtdb",[P2]:"fire-data-connect",[U2]:"fire-rtdb-compat",[z2]:"fire-fn",[B2]:"fire-fn-compat",[q2]:"fire-iid",[H2]:"fire-iid-compat",[F2]:"fire-fcm",[G2]:"fire-fcm-compat",[K2]:"fire-perf",[Q2]:"fire-perf-compat",[Y2]:"fire-rc",[$2]:"fire-rc-compat",[X2]:"fire-gcs",[W2]:"fire-gcs-compat",[J2]:"fire-fst",[eI]:"fire-fst-compat",[Z2]:"fire-vertex","fire-js":"fire-js",[tI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc=new Map,rI=new Map,Fd=new Map;function Z_(t,e){try{t.container.addComponent(e)}catch(n){ei.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ys(t){const e=t.name;if(Fd.has(e))return ei.debug(`There were multiple attempts to register component ${e}.`),!1;Fd.set(e,t);for(const n of hc.values())Z_(n,t);for(const n of rI.values())Z_(n,t);return!0}function Tp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function on(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bi=new pl("app","Firebase",sI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Lr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma=nI;function iS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:Hd,automaticDataCollectionEnabled:!0,...e},r=i.name;if(typeof r!="string"||!r)throw Bi.create("bad-app-name",{appName:String(r)});if(n||(n=Wb()),!n)throw Bi.create("no-options");const s=hc.get(r);if(s){if(kr(n,s.options)&&kr(i,s.config))return s;throw Bi.create("duplicate-app",{appName:r})}const a=new f2(r);for(const u of Fd.values())a.addComponent(u);const l=new aI(n,i,a);return hc.set(r,l),l}function rS(t=Hd){const e=hc.get(t);if(!e&&t===Hd&&Wb())return iS();if(!e)throw Bi.create("no-app",{appName:t});return e}function qi(t,e,n){let i=iI[t]??t;n&&(i+=`-${n}`);const r=i.match(/\s|\//),s=e.match(/\s|\//);if(r||s){const a=[`Unable to register library "${i}" with version "${e}":`];r&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ei.warn(a.join(" "));return}Ys(new Lr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI="firebase-heartbeat-database",lI=1,zo="firebase-heartbeat-store";let Mf=null;function sS(){return Mf||(Mf=w2(oI,lI,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(zo)}catch(n){console.warn(n)}}}}).catch(t=>{throw Bi.create("idb-open",{originalErrorMessage:t.message})})),Mf}async function uI(t){try{const n=(await sS()).transaction(zo),i=await n.objectStore(zo).get(aS(t));return await n.done,i}catch(e){if(e instanceof si)ei.warn(e.message);else{const n=Bi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ei.warn(n.message)}}}async function ev(t,e){try{const i=(await sS()).transaction(zo,"readwrite");await i.objectStore(zo).put(e,aS(t)),await i.done}catch(n){if(n instanceof si)ei.warn(n.message);else{const i=Bi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ei.warn(i.message)}}}function aS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI=1024,hI=30;class fI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new mI(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=tv();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>hI){const a=pI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){ei.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=tv(),{heartbeatsToSend:i,unsentEntries:r}=dI(this._heartbeatsCache.heartbeats),s=cc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return ei.warn(n),""}}}function tv(){return new Date().toISOString().substring(0,10)}function dI(t,e=cI){const n=[];let i=t.slice();for(const r of t){const s=n.find(a=>a.agent===r.agent);if(s){if(s.dates.push(r.date),nv(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),nv(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class mI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return e2()?t2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await uI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return ev(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return ev(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function nv(t){return cc(JSON.stringify({version:2,heartbeats:t})).length}function pI(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(t){Ys(new Lr("platform-logger",e=>new C2(e),"PRIVATE")),Ys(new Lr("heartbeat",e=>new fI(e),"PRIVATE")),qi(qd,J_,t),qi(qd,J_,"esm2020"),qi("fire-js","")}gI("");var yI="firebase",_I="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qi(yI,_I,"app");function oS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vI=oS,lS=new pl("auth","Firebase",oS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc=new vp("@firebase/auth");function EI(t,...e){fc.logLevel<=re.WARN&&fc.warn(`Auth (${ma}): ${t}`,...e)}function Au(t,...e){fc.logLevel<=re.ERROR&&fc.error(`Auth (${ma}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(t,...e){throw bp(t,...e)}function Tn(t,...e){return bp(t,...e)}function uS(t,e,n){const i={...vI(),[e]:n};return new pl("auth","Firebase",i).create(e,{appName:t.name})}function Hi(t){return uS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bp(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return lS.create(t,...e)}function K(t,e,...n){if(!t)throw bp(e,...n)}function qn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Au(e),new Error(e)}function ti(t,e){t||qn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function TI(){return iv()==="http:"||iv()==="https:"}function iv(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(TI()||XN()||"connection"in navigator)?navigator.onLine:!0}function SI(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e,n){this.shortDelay=e,this.longDelay=n,ti(n>e,"Short delay should be less than long delay!"),this.isMobile=QN()||WN()}get(){return bI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sp(t,e){ti(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],xI=new yl(3e4,6e4);function Qr(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function lr(t,e,n,i,r={}){return hS(t,r,async()=>{let s={},a={};i&&(e==="GET"?a=i:s={body:JSON.stringify(i)});const l=gl({key:t.config.apiKey,...a}).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:u,...s};return $N()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&da(t.emulatorConfig.host)&&(c.credentials="include"),cS.fetch()(await fS(t,t.config.apiHost,n,l),c)})}async function hS(t,e,n){t._canInitEmulator=!1;const i={...AI,...e};try{const r=new CI(t),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw tu(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const l=s.ok?a.errorMessage:a.error.message,[u,c]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw tu(t,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw tu(t,"email-already-in-use",a);if(u==="USER_DISABLED")throw tu(t,"user-disabled",a);const d=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw uS(t,d,c);hn(t,d)}}catch(r){if(r instanceof si)throw r;hn(t,"network-request-failed",{message:String(r)})}}async function Jc(t,e,n,i,r={}){const s=await lr(t,e,n,i,r);return"mfaPendingCredential"in s&&hn(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function fS(t,e,n,i){const r=`${e}${n}?${i}`,s=t,a=s.config.emulator?Sp(t.config,r):`${t.config.apiScheme}://${r}`;return wI.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function RI(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class CI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Tn(this.auth,"network-request-failed")),xI.get())})}}function tu(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=Tn(t,e,i);return r.customData._tokenResponse=n,r}function rv(t){return t!==void 0&&t.enterprise!==void 0}class NI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return RI(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function II(t,e){return lr(t,"GET","/v2/recaptchaConfig",Qr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DI(t,e){return lr(t,"POST","/v1/accounts:delete",e)}async function dc(t,e){return lr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function OI(t,e=!1){const n=Je(t),i=await n.getIdToken(e),r=Ap(i);K(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:Eo(Vf(r.auth_time)),issuedAtTime:Eo(Vf(r.iat)),expirationTime:Eo(Vf(r.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Vf(t){return Number(t)*1e3}function Ap(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Au("JWT malformed, contained fewer than 3 sections"),null;try{const r=$b(n);return r?JSON.parse(r):(Au("Failed to decode base64 JWT payload"),null)}catch(r){return Au("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function sv(t){const e=Ap(t);return K(e,"internal-error"),K(typeof e.exp<"u","internal-error"),K(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bo(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof si&&MI(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function MI({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Eo(this.lastLoginAt),this.creationTime=Eo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mc(t){var g;const e=t.auth,n=await t.getIdToken(),i=await Bo(t,dc(e,{idToken:n}));K(i==null?void 0:i.users.length,e,"internal-error");const r=i.users[0];t._notifyReloadListener(r);const s=(g=r.providerUserInfo)!=null&&g.length?dS(r.providerUserInfo):[],a=kI(t.providerData,s),l=t.isAnonymous,u=!(t.email&&r.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new Kd(r.createdAt,r.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function jI(t){const e=Je(t);await mc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function kI(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function dS(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LI(t,e){const n=await hS(t,{},async()=>{const i=gl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,a=await fS(t,r,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:i};return t.emulatorConfig&&da(t.emulatorConfig.host)&&(u.credentials="include"),cS.fetch()(a,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function PI(t,e){return lr(t,"POST","/v2/accounts:revokeToken",Qr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){K(e.idToken,"internal-error"),K(typeof e.idToken<"u","internal-error"),K(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):sv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){K(e.length!==0,"internal-error");const n=sv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(K(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await LI(e,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,a=new Ds;return i&&(K(typeof i=="string","internal-error",{appName:e}),a.refreshToken=i),r&&(K(typeof r=="string","internal-error",{appName:e}),a.accessToken=r),s&&(K(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ds,this.toJSON())}_performRefresh(){return qn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi(t,e){K(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ln{constructor({uid:e,auth:n,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new VI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Kd(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await Bo(this,this.stsTokenManager.getToken(this.auth,e));return K(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return OI(this,e)}reload(){return jI(this)}_assign(e){this!==e&&(K(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ln({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await mc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(on(this.auth.app))return Promise.reject(Hi(this.auth));const e=await this.getIdToken();return await Bo(this,DI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,r=n.email??void 0,s=n.phoneNumber??void 0,a=n.photoURL??void 0,l=n.tenantId??void 0,u=n._redirectEventId??void 0,c=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:g,emailVerified:p,isAnonymous:_,providerData:C,stsTokenManager:D}=n;K(g&&D,e,"internal-error");const I=Ds.fromJSON(this.name,D);K(typeof g=="string",e,"internal-error"),mi(i,e.name),mi(r,e.name),K(typeof p=="boolean",e,"internal-error"),K(typeof _=="boolean",e,"internal-error"),mi(s,e.name),mi(a,e.name),mi(l,e.name),mi(u,e.name),mi(c,e.name),mi(d,e.name);const T=new ln({uid:g,auth:e,email:r,emailVerified:p,displayName:i,isAnonymous:_,photoURL:a,phoneNumber:s,tenantId:l,stsTokenManager:I,createdAt:c,lastLoginAt:d});return C&&Array.isArray(C)&&(T.providerData=C.map(v=>({...v}))),u&&(T._redirectEventId=u),T}static async _fromIdTokenResponse(e,n,i=!1){const r=new Ds;r.updateFromServerResponse(n);const s=new ln({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await mc(s),s}static async _fromGetAccountInfoResponse(e,n,i){const r=n.users[0];K(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?dS(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),l=new Ds;l.updateFromIdToken(i);const u=new ln({uid:r.localId,auth:e,stsTokenManager:l,isAnonymous:a}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new Kd(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av=new Map;function Hn(t){ti(t instanceof Function,"Expected a class definition");let e=av.get(t);return e?(ti(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,av.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}mS.type="NONE";const ov=mS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wu(t,e,n){return`firebase:${t}:${e}:${n}`}class Os{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=wu(this.userKey,r.apiKey,s),this.fullPersistenceKey=wu("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await dc(this.auth,{idToken:e}).catch(()=>{});return n?ln._fromGetAccountInfoResponse(this.auth,n,e):null}return ln._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Os(Hn(ov),e,i);const r=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=r[0]||Hn(ov);const a=wu(i,e.config.apiKey,e.name);let l=null;for(const c of n)try{const d=await c._get(a);if(d){let g;if(typeof d=="string"){const p=await dc(e,{idToken:d}).catch(()=>{});if(!p)break;g=await ln._fromGetAccountInfoResponse(e,p,d)}else g=ln._fromJSON(e,d);c!==s&&(l=g),s=c;break}}catch{}const u=r.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Os(s,e,i):(s=u[0],l&&await s._set(a,l.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(a)}catch{}})),new Os(s,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_S(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(pS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ES(e))return"Blackberry";if(TS(e))return"Webos";if(gS(e))return"Safari";if((e.includes("chrome/")||yS(e))&&!e.includes("edge/"))return"Chrome";if(vS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function pS(t=yt()){return/firefox\//i.test(t)}function gS(t=yt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yS(t=yt()){return/crios\//i.test(t)}function _S(t=yt()){return/iemobile/i.test(t)}function vS(t=yt()){return/android/i.test(t)}function ES(t=yt()){return/blackberry/i.test(t)}function TS(t=yt()){return/webos/i.test(t)}function wp(t=yt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function UI(t=yt()){var e;return wp(t)&&!!((e=window.navigator)!=null&&e.standalone)}function zI(){return JN()&&document.documentMode===10}function bS(t=yt()){return wp(t)||vS(t)||TS(t)||ES(t)||/windows phone/i.test(t)||_S(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SS(t,e=[]){let n;switch(t){case"Browser":n=lv(yt());break;case"Worker":n=`${lv(yt())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ma}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=s=>new Promise((a,l)=>{try{const u=e(s);a(u)}catch(u){l(u)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qI(t,e={}){return lr(t,"GET","/v2/passwordPolicy",Qr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI=6;class FI{constructor(e){var i;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??HI,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uv(this),this.idTokenSubscription=new uv(this),this.beforeStateQueue=new BI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Hn(n)),this._initializationPromise=this.queue(async()=>{var i,r,s;if(!this._deleted&&(this.persistenceManager=await Os.create(this,e),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((r=this._popupRedirectResolver)!=null&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await dc(this,{idToken:e}),i=await ln._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(on(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(s=this.redirectUser)==null?void 0:s._redirectEventId,l=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===l)&&(u!=null&&u.user)&&(i=u.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return K(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await mc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=SI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(on(this.app))return Promise.reject(Hi(this));const n=e?Je(e):null;return n&&K(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&K(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return on(this.app)?Promise.reject(Hi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return on(this.app)?Promise.reject(Hi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Hn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await qI(this),n=new FI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new pl("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await PI(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Hn(e)||this._popupRedirectResolver;K(n,this,"argument-error"),this.redirectPersistenceManager=await Os.create(this,[Hn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(K(l,this,"internal-error"),l.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,i,r);return()=>{a=!0,u()}}else{const u=e.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=SS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var r;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((r=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var n;if(on(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&EI(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function pa(t){return Je(t)}class uv{constructor(e){this.auth=e,this.observer=null,this.addObserver=a2(n=>this.observer=n)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function KI(t){Zc=t}function AS(t){return Zc.loadJS(t)}function QI(){return Zc.recaptchaEnterpriseScript}function YI(){return Zc.gapiScript}function $I(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class XI{constructor(){this.enterprise=new WI}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class WI{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const JI="recaptcha-enterprise",wS="NO_RECAPTCHA";class ZI{constructor(e){this.type=JI,this.auth=pa(e)}async verify(e="verify",n=!1){async function i(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,l)=>{II(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const c=new NI(u);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,a(c.siteKey)}}).catch(u=>{l(u)})})}function r(s,a,l){const u=window.grecaptcha;rv(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(c=>{a(c)}).catch(()=>{a(wS)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new XI().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{i(this.auth).then(l=>{if(!n&&rv(window.grecaptcha))r(l,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let u=QI();u.length!==0&&(u+=l),AS(u).then(()=>{r(l,s,a)}).catch(c=>{a(c)})}}).catch(l=>{a(l)})})}}async function cv(t,e,n,i=!1,r=!1){const s=new ZI(t);let a;if(r)a=wS;else try{a=await s.verify(n)}catch{a=await s.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const u=l.phoneEnrollmentInfo.phoneNumber,c=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const u=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return i?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function hv(t,e,n,i,r){var s;if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await cv(t,e,n,n==="getOobCode");return i(t,a)}else return i(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await cv(t,e,n,n==="getOobCode");return i(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eD(t,e){const n=Tp(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(kr(s,e??{}))return r;hn(r,"already-initialized")}return n.initialize({options:e})}function tD(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Hn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function nD(t,e,n){const i=pa(t);K(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,s=xS(e),{host:a,port:l}=iD(e),u=l===null?"":`:${l}`,c={url:`${s}//${a}${u}/`},d=Object.freeze({host:a,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){K(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),K(kr(c,i.config.emulator)&&kr(d,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=c,i.emulatorConfig=d,i.settings.appVerificationDisabledForTesting=!0,da(a)?(Zb(`${s}//${a}${u}`),eS("Auth",!0)):rD()}function xS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function iD(t){const e=xS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:fv(i.substr(s.length+1))}}else{const[s,a]=i.split(":");return{host:s,port:fv(a)}}}function fv(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function rD(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return qn("not implemented")}_getIdTokenResponse(e){return qn("not implemented")}_linkToIdToken(e,n){return qn("not implemented")}_getReauthenticationResolver(e){return qn("not implemented")}}async function sD(t,e){return lr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aD(t,e){return Jc(t,"POST","/v1/accounts:signInWithPassword",Qr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oD(t,e){return Jc(t,"POST","/v1/accounts:signInWithEmailLink",Qr(t,e))}async function lD(t,e){return Jc(t,"POST","/v1/accounts:signInWithEmailLink",Qr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo extends xp{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new qo(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new qo(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hv(e,n,"signInWithPassword",aD);case"emailLink":return oD(e,{email:this._email,oobCode:this._password});default:hn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hv(e,i,"signUpPassword",sD);case"emailLink":return lD(e,{idToken:n,email:this._email,oobCode:this._password});default:hn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ms(t,e){return Jc(t,"POST","/v1/accounts:signInWithIdp",Qr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD="http://localhost";class Pr extends xp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Pr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):hn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r,...s}=n;if(!i||!r)return null;const a=new Pr(i,r);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Ms(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Ms(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ms(e,n)}buildRequest(){const e={requestUri:uD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=gl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cD(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function hD(t){const e=Ja(Za(t)).link,n=e?Ja(Za(e)).deep_link_id:null,i=Ja(Za(t)).deep_link_id;return(i?Ja(Za(i)).link:null)||i||n||e||t}class Rp{constructor(e){const n=Ja(Za(e)),i=n.apiKey??null,r=n.oobCode??null,s=cD(n.mode??null);K(i&&r&&s,"argument-error"),this.apiKey=i,this.operation=s,this.code=r,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=hD(e);try{return new Rp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(){this.providerId=ga.PROVIDER_ID}static credential(e,n){return qo._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Rp.parseLink(n);return K(i,"argument-error"),qo._fromEmailAndCode(e,i.code,i.tenantId)}}ga.PROVIDER_ID="password";ga.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ga.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l extends RS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends _l{constructor(){super("facebook.com")}static credential(e){return Pr._fromParams({providerId:Ti.PROVIDER_ID,signInMethod:Ti.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ti.credentialFromTaggedObject(e)}static credentialFromError(e){return Ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ti.credential(e.oauthAccessToken)}catch{return null}}}Ti.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ti.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi extends _l{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Pr._fromParams({providerId:bi.PROVIDER_ID,signInMethod:bi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return bi.credentialFromTaggedObject(e)}static credentialFromError(e){return bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return bi.credential(n,i)}catch{return null}}}bi.GOOGLE_SIGN_IN_METHOD="google.com";bi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si extends _l{constructor(){super("github.com")}static credential(e){return Pr._fromParams({providerId:Si.PROVIDER_ID,signInMethod:Si.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Si.credentialFromTaggedObject(e)}static credentialFromError(e){return Si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Si.credential(e.oauthAccessToken)}catch{return null}}}Si.GITHUB_SIGN_IN_METHOD="github.com";Si.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends _l{constructor(){super("twitter.com")}static credential(e,n){return Pr._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ai.credentialFromTaggedObject(e)}static credentialFromError(e){return Ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Ai.credential(n,i)}catch{return null}}}Ai.TWITTER_SIGN_IN_METHOD="twitter.com";Ai.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const s=await ln._fromIdTokenResponse(e,i,r),a=dv(i);return new $s({user:s,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=dv(i);return new $s({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function dv(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc extends si{constructor(e,n,i,r){super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,pc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new pc(e,n,i,r)}}function CS(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?pc._fromErrorAndOperation(t,s,e,i):s})}async function fD(t,e,n=!1){const i=await Bo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return $s._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dD(t,e,n=!1){const{auth:i}=t;if(on(i.app))return Promise.reject(Hi(i));const r="reauthenticate";try{const s=await Bo(t,CS(i,r,e,t),n);K(s.idToken,i,"internal-error");const a=Ap(s.idToken);K(a,i,"internal-error");const{sub:l}=a;return K(t.uid===l,i,"user-mismatch"),$s._forOperation(t,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&hn(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NS(t,e,n=!1){if(on(t.app))return Promise.reject(Hi(t));const i="signIn",r=await CS(t,i,e),s=await $s._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(s.user),s}async function mD(t,e){return NS(pa(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pD(t){const e=pa(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function gD(t,e,n){return on(t.app)?Promise.reject(Hi(t)):mD(Je(t),ga.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&pD(t),i})}function yD(t,e,n,i){return Je(t).onIdTokenChanged(e,n,i)}function _D(t,e,n){return Je(t).beforeAuthStateChanged(e,n)}function vD(t,e,n,i){return Je(t).onAuthStateChanged(e,n,i)}function ED(t){return Je(t).signOut()}const gc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(gc,"1"),this.storage.removeItem(gc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD=1e3,bD=10;class DS extends IS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});return}const i=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);zI()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,bD):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},TD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}DS.type="LOCAL";const SD=DS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS extends IS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}OS.type="SESSION";const MS=OS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AD(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new eh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:s}=n.data,a=this.handlersMap[r];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const l=Array.from(a).map(async c=>c(n.origin,s)),u=await AD(l);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}eh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cp(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,a;return new Promise((l,u)=>{const c=Cp("",20);r.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},i);a={messageChannel:r,onMessage(g){const p=g;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(p.data.response);break;default:clearTimeout(d),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(){return window}function xD(t){bn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VS(){return typeof bn().WorkerGlobalScope<"u"&&typeof bn().importScripts=="function"}async function RD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function CD(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function ND(){return VS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS="firebaseLocalStorageDb",ID=1,yc="firebaseLocalStorage",kS="fbase_key";class vl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function th(t,e){return t.transaction([yc],e?"readwrite":"readonly").objectStore(yc)}function DD(){const t=indexedDB.deleteDatabase(jS);return new vl(t).toPromise()}function Qd(){const t=indexedDB.open(jS,ID);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(yc,{keyPath:kS})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(yc)?e(i):(i.close(),await DD(),e(await Qd()))})})}async function mv(t,e,n){const i=th(t,!0).put({[kS]:e,value:n});return new vl(i).toPromise()}async function OD(t,e){const n=th(t,!1).get(e),i=await new vl(n).toPromise();return i===void 0?null:i.value}function pv(t,e){const n=th(t,!0).delete(e);return new vl(n).toPromise()}const MD=800,VD=3;class LS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qd(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>VD)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return VS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=eh._getInstance(ND()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,i;if(this.activeServiceWorker=await RD(),!this.activeServiceWorker)return;this.sender=new wD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(i=e[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||CD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Qd();return await mv(e,gc,"1"),await pv(e,gc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>mv(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>OD(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>pv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=th(r,!1).getAll();return new vl(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:s}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),MD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}LS.type="LOCAL";const jD=LS;new yl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kD(t,e){return e?Hn(e):(K(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np extends xp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ms(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ms(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ms(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function LD(t){return NS(t.auth,new Np(t),t.bypassAuthState)}function PD(t){const{auth:e,user:n}=t;return K(n,e,"internal-error"),dD(n,new Np(t),t.bypassAuthState)}async function UD(t){const{auth:e,user:n}=t;return K(n,e,"internal-error"),fD(n,new Np(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e,n,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:a,type:l}=e;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return LD;case"linkViaPopup":case"linkViaRedirect":return UD;case"reauthViaPopup":case"reauthViaRedirect":return PD;default:hn(this.auth,"internal-error")}}resolve(e){ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD=new yl(2e3,1e4);class Ss extends PS{constructor(e,n,i,r,s){super(e,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,Ss.currentPopupAction&&Ss.currentPopupAction.cancel(),Ss.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return K(e,this.auth,"internal-error"),e}async onExecution(){ti(this.filter.length===1,"Popup operations only handle one event");const e=Cp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Tn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Tn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ss.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if((i=(n=this.authWindow)==null?void 0:n.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Tn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zD.get())};e()}}Ss.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD="pendingRedirect",xu=new Map;class qD extends PS{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=xu.get(this.auth._key());if(!e){try{const i=await HD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}xu.set(this.auth._key(),e)}return this.bypassAuthState||xu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function HD(t,e){const n=KD(e),i=GD(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function FD(t,e){xu.set(t._key(),e)}function GD(t){return Hn(t._redirectPersistence)}function KD(t){return wu(BD,t.config.apiKey,t.name)}async function QD(t,e,n=!1){if(on(t.app))return Promise.reject(Hi(t));const i=pa(t),r=kD(i,e),a=await new qD(i,r,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD=10*60*1e3;class $D{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!XD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!US(e)){const r=((i=e.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";n.onError(Tn(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=YD&&this.cachedEventUids.clear(),this.cachedEventUids.has(gv(e))}saveEventToCache(e){this.cachedEventUids.add(gv(e)),this.lastProcessedEventTime=Date.now()}}function gv(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function US({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function XD(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return US(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WD(t,e={}){return lr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ZD=/^https?/;async function eO(t){if(t.config.emulator)return;const{authorizedDomains:e}=await WD(t);for(const n of e)try{if(tO(n))return}catch{}hn(t,"unauthorized-domain")}function tO(t){const e=Gd(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!ZD.test(n))return!1;if(JD.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO=new yl(3e4,6e4);function yv(){const t=bn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function iO(t){return new Promise((e,n)=>{var r,s,a;function i(){yv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{yv(),n(Tn(t,"network-request-failed"))},timeout:nO.get()})}if((s=(r=bn().gapi)==null?void 0:r.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((a=bn().gapi)!=null&&a.load)i();else{const l=$I("iframefcb");return bn()[l]=()=>{gapi.load?i():n(Tn(t,"network-request-failed"))},AS(`${YI()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw Ru=null,e})}let Ru=null;function rO(t){return Ru=Ru||iO(t),Ru}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO=new yl(5e3,15e3),aO="__/auth/iframe",oO="emulator/auth/iframe",lO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cO(t){const e=t.config;K(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Sp(e,oO):`https://${t.config.authDomain}/${aO}`,i={apiKey:e.apiKey,appName:t.name,v:ma},r=uO.get(t.config.apiHost);r&&(i.eid=r);const s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${gl(i).slice(1)}`}async function hO(t){const e=await rO(t),n=bn().gapi;return K(n,t,"internal-error"),e.open({where:document.body,url:cO(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lO,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const a=Tn(t,"network-request-failed"),l=bn().setTimeout(()=>{s(a)},sO.get());function u(){bn().clearTimeout(l),r(i)}i.ping(u).then(u,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},dO=500,mO=600,pO="_blank",gO="http://localhost";class _v{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function yO(t,e,n,i=dO,r=mO){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const u={...fO,width:i.toString(),height:r.toString(),top:s,left:a},c=yt().toLowerCase();n&&(l=yS(c)?pO:n),pS(c)&&(e=e||gO,u.scrollbars="yes");const d=Object.entries(u).reduce((p,[_,C])=>`${p}${_}=${C},`,"");if(UI(c)&&l!=="_self")return _O(e||"",l),new _v(null);const g=window.open(e||"",l,d);K(g,t,"popup-blocked");try{g.focus()}catch{}return new _v(g)}function _O(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO="__/auth/handler",EO="emulator/auth/handler",TO=encodeURIComponent("fac");async function vv(t,e,n,i,r,s){K(t.config.authDomain,t,"auth-domain-config-required"),K(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:ma,eventId:r};if(e instanceof RS){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",s2(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,g]of Object.entries({}))a[d]=g}if(e instanceof _l){const d=e.getScopes().filter(g=>g!=="");d.length>0&&(a.scopes=d.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const u=await t._getAppCheckToken(),c=u?`#${TO}=${encodeURIComponent(u)}`:"";return`${bO(t)}?${gl(l).slice(1)}${c}`}function bO({config:t}){return t.emulator?Sp(t,EO):`https://${t.authDomain}/${vO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jf="webStorageSupport";class SO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=MS,this._completeRedirectFn=QD,this._overrideRedirectResult=FD}async _openPopup(e,n,i,r){var a;ti((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await vv(e,n,i,Gd(),r);return yO(e,s,Cp())}async _openRedirect(e,n,i,r){await this._originValidation(e);const s=await vv(e,n,i,Gd(),r);return xD(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(ti(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await hO(e),i=new $D(e);return n.register("authEvent",r=>(K(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(jf,{type:jf},r=>{var a;const s=(a=r==null?void 0:r[0])==null?void 0:a[jf];s!==void 0&&n(!!s),hn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=eO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return bS()||gS()||wp()}}const AO=SO;var Ev="@firebase/auth",Tv="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function RO(t){Ys(new Lr("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=i.options;K(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:SS(t)},c=new GI(i,r,s,u);return tD(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Ys(new Lr("auth-internal",e=>{const n=pa(e.getProvider("auth").getImmediate());return(i=>new wO(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qi(Ev,Tv,xO(t)),qi(Ev,Tv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO=5*60,NO=Jb("authIdTokenMaxAge")||CO;let bv=null;const IO=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>NO)return;const r=n==null?void 0:n.token;bv!==r&&(bv=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function DO(t=rS()){const e=Tp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=eD(t,{popupRedirectResolver:AO,persistence:[jD,SD,MS]}),i=Jb("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const a=IO(s.toString());_D(n,a,()=>a(n.currentUser)),yD(n,l=>a(l))}}const r=Xb("auth");return r&&nD(n,`http://${r}`),n}function OO(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}KI({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const s=Tn("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",OO().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});RO("Browser");var Sv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fi,zS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,E){function S(){}S.prototype=E.prototype,b.F=E.prototype,b.prototype=new S,b.prototype.constructor=b,b.D=function(x,R,N){for(var w=Array(arguments.length-2),ft=2;ft<arguments.length;ft++)w[ft-2]=arguments[ft];return E.prototype[R].apply(x,w)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(b,E,S){S||(S=0);const x=Array(16);if(typeof E=="string")for(var R=0;R<16;++R)x[R]=E.charCodeAt(S++)|E.charCodeAt(S++)<<8|E.charCodeAt(S++)<<16|E.charCodeAt(S++)<<24;else for(R=0;R<16;++R)x[R]=E[S++]|E[S++]<<8|E[S++]<<16|E[S++]<<24;E=b.g[0],S=b.g[1],R=b.g[2];let N=b.g[3],w;w=E+(N^S&(R^N))+x[0]+3614090360&4294967295,E=S+(w<<7&4294967295|w>>>25),w=N+(R^E&(S^R))+x[1]+3905402710&4294967295,N=E+(w<<12&4294967295|w>>>20),w=R+(S^N&(E^S))+x[2]+606105819&4294967295,R=N+(w<<17&4294967295|w>>>15),w=S+(E^R&(N^E))+x[3]+3250441966&4294967295,S=R+(w<<22&4294967295|w>>>10),w=E+(N^S&(R^N))+x[4]+4118548399&4294967295,E=S+(w<<7&4294967295|w>>>25),w=N+(R^E&(S^R))+x[5]+1200080426&4294967295,N=E+(w<<12&4294967295|w>>>20),w=R+(S^N&(E^S))+x[6]+2821735955&4294967295,R=N+(w<<17&4294967295|w>>>15),w=S+(E^R&(N^E))+x[7]+4249261313&4294967295,S=R+(w<<22&4294967295|w>>>10),w=E+(N^S&(R^N))+x[8]+1770035416&4294967295,E=S+(w<<7&4294967295|w>>>25),w=N+(R^E&(S^R))+x[9]+2336552879&4294967295,N=E+(w<<12&4294967295|w>>>20),w=R+(S^N&(E^S))+x[10]+4294925233&4294967295,R=N+(w<<17&4294967295|w>>>15),w=S+(E^R&(N^E))+x[11]+2304563134&4294967295,S=R+(w<<22&4294967295|w>>>10),w=E+(N^S&(R^N))+x[12]+1804603682&4294967295,E=S+(w<<7&4294967295|w>>>25),w=N+(R^E&(S^R))+x[13]+4254626195&4294967295,N=E+(w<<12&4294967295|w>>>20),w=R+(S^N&(E^S))+x[14]+2792965006&4294967295,R=N+(w<<17&4294967295|w>>>15),w=S+(E^R&(N^E))+x[15]+1236535329&4294967295,S=R+(w<<22&4294967295|w>>>10),w=E+(R^N&(S^R))+x[1]+4129170786&4294967295,E=S+(w<<5&4294967295|w>>>27),w=N+(S^R&(E^S))+x[6]+3225465664&4294967295,N=E+(w<<9&4294967295|w>>>23),w=R+(E^S&(N^E))+x[11]+643717713&4294967295,R=N+(w<<14&4294967295|w>>>18),w=S+(N^E&(R^N))+x[0]+3921069994&4294967295,S=R+(w<<20&4294967295|w>>>12),w=E+(R^N&(S^R))+x[5]+3593408605&4294967295,E=S+(w<<5&4294967295|w>>>27),w=N+(S^R&(E^S))+x[10]+38016083&4294967295,N=E+(w<<9&4294967295|w>>>23),w=R+(E^S&(N^E))+x[15]+3634488961&4294967295,R=N+(w<<14&4294967295|w>>>18),w=S+(N^E&(R^N))+x[4]+3889429448&4294967295,S=R+(w<<20&4294967295|w>>>12),w=E+(R^N&(S^R))+x[9]+568446438&4294967295,E=S+(w<<5&4294967295|w>>>27),w=N+(S^R&(E^S))+x[14]+3275163606&4294967295,N=E+(w<<9&4294967295|w>>>23),w=R+(E^S&(N^E))+x[3]+4107603335&4294967295,R=N+(w<<14&4294967295|w>>>18),w=S+(N^E&(R^N))+x[8]+1163531501&4294967295,S=R+(w<<20&4294967295|w>>>12),w=E+(R^N&(S^R))+x[13]+2850285829&4294967295,E=S+(w<<5&4294967295|w>>>27),w=N+(S^R&(E^S))+x[2]+4243563512&4294967295,N=E+(w<<9&4294967295|w>>>23),w=R+(E^S&(N^E))+x[7]+1735328473&4294967295,R=N+(w<<14&4294967295|w>>>18),w=S+(N^E&(R^N))+x[12]+2368359562&4294967295,S=R+(w<<20&4294967295|w>>>12),w=E+(S^R^N)+x[5]+4294588738&4294967295,E=S+(w<<4&4294967295|w>>>28),w=N+(E^S^R)+x[8]+2272392833&4294967295,N=E+(w<<11&4294967295|w>>>21),w=R+(N^E^S)+x[11]+1839030562&4294967295,R=N+(w<<16&4294967295|w>>>16),w=S+(R^N^E)+x[14]+4259657740&4294967295,S=R+(w<<23&4294967295|w>>>9),w=E+(S^R^N)+x[1]+2763975236&4294967295,E=S+(w<<4&4294967295|w>>>28),w=N+(E^S^R)+x[4]+1272893353&4294967295,N=E+(w<<11&4294967295|w>>>21),w=R+(N^E^S)+x[7]+4139469664&4294967295,R=N+(w<<16&4294967295|w>>>16),w=S+(R^N^E)+x[10]+3200236656&4294967295,S=R+(w<<23&4294967295|w>>>9),w=E+(S^R^N)+x[13]+681279174&4294967295,E=S+(w<<4&4294967295|w>>>28),w=N+(E^S^R)+x[0]+3936430074&4294967295,N=E+(w<<11&4294967295|w>>>21),w=R+(N^E^S)+x[3]+3572445317&4294967295,R=N+(w<<16&4294967295|w>>>16),w=S+(R^N^E)+x[6]+76029189&4294967295,S=R+(w<<23&4294967295|w>>>9),w=E+(S^R^N)+x[9]+3654602809&4294967295,E=S+(w<<4&4294967295|w>>>28),w=N+(E^S^R)+x[12]+3873151461&4294967295,N=E+(w<<11&4294967295|w>>>21),w=R+(N^E^S)+x[15]+530742520&4294967295,R=N+(w<<16&4294967295|w>>>16),w=S+(R^N^E)+x[2]+3299628645&4294967295,S=R+(w<<23&4294967295|w>>>9),w=E+(R^(S|~N))+x[0]+4096336452&4294967295,E=S+(w<<6&4294967295|w>>>26),w=N+(S^(E|~R))+x[7]+1126891415&4294967295,N=E+(w<<10&4294967295|w>>>22),w=R+(E^(N|~S))+x[14]+2878612391&4294967295,R=N+(w<<15&4294967295|w>>>17),w=S+(N^(R|~E))+x[5]+4237533241&4294967295,S=R+(w<<21&4294967295|w>>>11),w=E+(R^(S|~N))+x[12]+1700485571&4294967295,E=S+(w<<6&4294967295|w>>>26),w=N+(S^(E|~R))+x[3]+2399980690&4294967295,N=E+(w<<10&4294967295|w>>>22),w=R+(E^(N|~S))+x[10]+4293915773&4294967295,R=N+(w<<15&4294967295|w>>>17),w=S+(N^(R|~E))+x[1]+2240044497&4294967295,S=R+(w<<21&4294967295|w>>>11),w=E+(R^(S|~N))+x[8]+1873313359&4294967295,E=S+(w<<6&4294967295|w>>>26),w=N+(S^(E|~R))+x[15]+4264355552&4294967295,N=E+(w<<10&4294967295|w>>>22),w=R+(E^(N|~S))+x[6]+2734768916&4294967295,R=N+(w<<15&4294967295|w>>>17),w=S+(N^(R|~E))+x[13]+1309151649&4294967295,S=R+(w<<21&4294967295|w>>>11),w=E+(R^(S|~N))+x[4]+4149444226&4294967295,E=S+(w<<6&4294967295|w>>>26),w=N+(S^(E|~R))+x[11]+3174756917&4294967295,N=E+(w<<10&4294967295|w>>>22),w=R+(E^(N|~S))+x[2]+718787259&4294967295,R=N+(w<<15&4294967295|w>>>17),w=S+(N^(R|~E))+x[9]+3951481745&4294967295,b.g[0]=b.g[0]+E&4294967295,b.g[1]=b.g[1]+(R+(w<<21&4294967295|w>>>11))&4294967295,b.g[2]=b.g[2]+R&4294967295,b.g[3]=b.g[3]+N&4294967295}i.prototype.v=function(b,E){E===void 0&&(E=b.length);const S=E-this.blockSize,x=this.C;let R=this.h,N=0;for(;N<E;){if(R==0)for(;N<=S;)r(this,b,N),N+=this.blockSize;if(typeof b=="string"){for(;N<E;)if(x[R++]=b.charCodeAt(N++),R==this.blockSize){r(this,x),R=0;break}}else for(;N<E;)if(x[R++]=b[N++],R==this.blockSize){r(this,x),R=0;break}}this.h=R,this.o+=E},i.prototype.A=function(){var b=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);b[0]=128;for(var E=1;E<b.length-8;++E)b[E]=0;E=this.o*8;for(var S=b.length-8;S<b.length;++S)b[S]=E&255,E/=256;for(this.v(b),b=Array(16),E=0,S=0;S<4;++S)for(let x=0;x<32;x+=8)b[E++]=this.g[S]>>>x&255;return b};function s(b,E){var S=l;return Object.prototype.hasOwnProperty.call(S,b)?S[b]:S[b]=E(b)}function a(b,E){this.h=E;const S=[];let x=!0;for(let R=b.length-1;R>=0;R--){const N=b[R]|0;x&&N==E||(S[R]=N,x=!1)}this.g=S}var l={};function u(b){return-128<=b&&b<128?s(b,function(E){return new a([E|0],E<0?-1:0)}):new a([b|0],b<0?-1:0)}function c(b){if(isNaN(b)||!isFinite(b))return g;if(b<0)return I(c(-b));const E=[];let S=1;for(let x=0;b>=S;x++)E[x]=b/S|0,S*=4294967296;return new a(E,0)}function d(b,E){if(b.length==0)throw Error("number format error: empty string");if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(b.charAt(0)=="-")return I(d(b.substring(1),E));if(b.indexOf("-")>=0)throw Error('number format error: interior "-" character');const S=c(Math.pow(E,8));let x=g;for(let N=0;N<b.length;N+=8){var R=Math.min(8,b.length-N);const w=parseInt(b.substring(N,N+R),E);R<8?(R=c(Math.pow(E,R)),x=x.j(R).add(c(w))):(x=x.j(S),x=x.add(c(w)))}return x}var g=u(0),p=u(1),_=u(16777216);t=a.prototype,t.m=function(){if(D(this))return-I(this).m();let b=0,E=1;for(let S=0;S<this.g.length;S++){const x=this.i(S);b+=(x>=0?x:4294967296+x)*E,E*=4294967296}return b},t.toString=function(b){if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(C(this))return"0";if(D(this))return"-"+I(this).toString(b);const E=c(Math.pow(b,6));var S=this;let x="";for(;;){const R=V(S,E).g;S=T(S,R.j(E));let N=((S.g.length>0?S.g[0]:S.h)>>>0).toString(b);if(S=R,C(S))return N+x;for(;N.length<6;)N="0"+N;x=N+x}},t.i=function(b){return b<0?0:b<this.g.length?this.g[b]:this.h};function C(b){if(b.h!=0)return!1;for(let E=0;E<b.g.length;E++)if(b.g[E]!=0)return!1;return!0}function D(b){return b.h==-1}t.l=function(b){return b=T(this,b),D(b)?-1:C(b)?0:1};function I(b){const E=b.g.length,S=[];for(let x=0;x<E;x++)S[x]=~b.g[x];return new a(S,~b.h).add(p)}t.abs=function(){return D(this)?I(this):this},t.add=function(b){const E=Math.max(this.g.length,b.g.length),S=[];let x=0;for(let R=0;R<=E;R++){let N=x+(this.i(R)&65535)+(b.i(R)&65535),w=(N>>>16)+(this.i(R)>>>16)+(b.i(R)>>>16);x=w>>>16,N&=65535,w&=65535,S[R]=w<<16|N}return new a(S,S[S.length-1]&-2147483648?-1:0)};function T(b,E){return b.add(I(E))}t.j=function(b){if(C(this)||C(b))return g;if(D(this))return D(b)?I(this).j(I(b)):I(I(this).j(b));if(D(b))return I(this.j(I(b)));if(this.l(_)<0&&b.l(_)<0)return c(this.m()*b.m());const E=this.g.length+b.g.length,S=[];for(var x=0;x<2*E;x++)S[x]=0;for(x=0;x<this.g.length;x++)for(let R=0;R<b.g.length;R++){const N=this.i(x)>>>16,w=this.i(x)&65535,ft=b.i(R)>>>16,rn=b.i(R)&65535;S[2*x+2*R]+=w*rn,v(S,2*x+2*R),S[2*x+2*R+1]+=N*rn,v(S,2*x+2*R+1),S[2*x+2*R+1]+=w*ft,v(S,2*x+2*R+1),S[2*x+2*R+2]+=N*ft,v(S,2*x+2*R+2)}for(b=0;b<E;b++)S[b]=S[2*b+1]<<16|S[2*b];for(b=E;b<2*E;b++)S[b]=0;return new a(S,0)};function v(b,E){for(;(b[E]&65535)!=b[E];)b[E+1]+=b[E]>>>16,b[E]&=65535,E++}function A(b,E){this.g=b,this.h=E}function V(b,E){if(C(E))throw Error("division by zero");if(C(b))return new A(g,g);if(D(b))return E=V(I(b),E),new A(I(E.g),I(E.h));if(D(E))return E=V(b,I(E)),new A(I(E.g),E.h);if(b.g.length>30){if(D(b)||D(E))throw Error("slowDivide_ only works with positive integers.");for(var S=p,x=E;x.l(b)<=0;)S=U(S),x=U(x);var R=F(S,1),N=F(x,1);for(x=F(x,2),S=F(S,2);!C(x);){var w=N.add(x);w.l(b)<=0&&(R=R.add(S),N=w),x=F(x,1),S=F(S,1)}return E=T(b,R.j(E)),new A(R,E)}for(R=g;b.l(E)>=0;){for(S=Math.max(1,Math.floor(b.m()/E.m())),x=Math.ceil(Math.log(S)/Math.LN2),x=x<=48?1:Math.pow(2,x-48),N=c(S),w=N.j(E);D(w)||w.l(b)>0;)S-=x,N=c(S),w=N.j(E);C(N)&&(N=p),R=R.add(N),b=T(b,w)}return new A(R,b)}t.B=function(b){return V(this,b).h},t.and=function(b){const E=Math.max(this.g.length,b.g.length),S=[];for(let x=0;x<E;x++)S[x]=this.i(x)&b.i(x);return new a(S,this.h&b.h)},t.or=function(b){const E=Math.max(this.g.length,b.g.length),S=[];for(let x=0;x<E;x++)S[x]=this.i(x)|b.i(x);return new a(S,this.h|b.h)},t.xor=function(b){const E=Math.max(this.g.length,b.g.length),S=[];for(let x=0;x<E;x++)S[x]=this.i(x)^b.i(x);return new a(S,this.h^b.h)};function U(b){const E=b.g.length+1,S=[];for(let x=0;x<E;x++)S[x]=b.i(x)<<1|b.i(x-1)>>>31;return new a(S,b.h)}function F(b,E){const S=E>>5;E%=32;const x=b.g.length-S,R=[];for(let N=0;N<x;N++)R[N]=E>0?b.i(N+S)>>>E|b.i(N+S+1)<<32-E:b.i(N+S);return new a(R,b.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,zS=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=d,Fi=a}).apply(typeof Sv<"u"?Sv:typeof self<"u"?self:typeof window<"u"?window:{});var nu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var BS,eo,qS,Cu,Yd,HS,FS,GS;(function(){var t,e=Object.defineProperty;function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof nu=="object"&&nu];for(var f=0;f<o.length;++f){var m=o[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var i=n(this);function r(o,f){if(f)e:{var m=i;o=o.split(".");for(var y=0;y<o.length-1;y++){var O=o[y];if(!(O in m))break e;m=m[O]}o=o[o.length-1],y=m[o],f=f(y),f!=y&&f!=null&&e(m,o,{configurable:!0,writable:!0,value:f})}}r("Symbol.dispose",function(o){return o||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(o){return o||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(o){return o||function(f){var m=[],y;for(y in f)Object.prototype.hasOwnProperty.call(f,y)&&m.push([y,f[y]]);return m}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(o){var f=typeof o;return f=="object"&&o!=null||f=="function"}function u(o,f,m){return o.call.apply(o.bind,arguments)}function c(o,f,m){return c=u,c.apply(null,arguments)}function d(o,f){var m=Array.prototype.slice.call(arguments,1);return function(){var y=m.slice();return y.push.apply(y,arguments),o.apply(this,y)}}function g(o,f){function m(){}m.prototype=f.prototype,o.Z=f.prototype,o.prototype=new m,o.prototype.constructor=o,o.Ob=function(y,O,j){for(var z=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)z[ee-2]=arguments[ee];return f.prototype[O].apply(y,z)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?o=>o&&AsyncContext.Snapshot.wrap(o):o=>o;function _(o){const f=o.length;if(f>0){const m=Array(f);for(let y=0;y<f;y++)m[y]=o[y];return m}return[]}function C(o,f){for(let y=1;y<arguments.length;y++){const O=arguments[y];var m=typeof O;if(m=m!="object"?m:O?Array.isArray(O)?"array":m:"null",m=="array"||m=="object"&&typeof O.length=="number"){m=o.length||0;const j=O.length||0;o.length=m+j;for(let z=0;z<j;z++)o[m+z]=O[z]}else o.push(O)}}class D{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return this.h>0?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function I(o){a.setTimeout(()=>{throw o},0)}function T(){var o=b;let f=null;return o.g&&(f=o.g,o.g=o.g.next,o.g||(o.h=null),f.next=null),f}class v{constructor(){this.h=this.g=null}add(f,m){const y=A.get();y.set(f,m),this.h?this.h.next=y:this.g=y,this.h=y}}var A=new D(()=>new V,o=>o.reset());class V{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let U,F=!1,b=new v,E=()=>{const o=Promise.resolve(void 0);U=()=>{o.then(S)}};function S(){for(var o;o=T();){try{o.h.call(o.g)}catch(m){I(m)}var f=A;f.j(o),f.h<100&&(f.h++,o.next=f.g,f.g=o)}F=!1}function x(){this.u=this.u,this.C=this.C}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(o,f){this.type=o,this.g=this.target=f,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var N=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var o=!1,f=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const m=()=>{};a.addEventListener("test",m,f),a.removeEventListener("test",m,f)}catch{}return o}();function w(o){return/^[\s\xa0]*$/.test(o)}function ft(o,f){R.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o&&this.init(o,f)}g(ft,R),ft.prototype.init=function(o,f){const m=this.type=o.type,y=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;this.target=o.target||o.srcElement,this.g=f,f=o.relatedTarget,f||(m=="mouseover"?f=o.fromElement:m=="mouseout"&&(f=o.toElement)),this.relatedTarget=f,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=o.pointerType,this.state=o.state,this.i=o,o.defaultPrevented&&ft.Z.h.call(this)},ft.prototype.h=function(){ft.Z.h.call(this);const o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var rn="closure_listenable_"+(Math.random()*1e6|0),q=0;function te(o,f,m,y,O){this.listener=o,this.proxy=null,this.src=f,this.type=m,this.capture=!!y,this.ha=O,this.key=++q,this.da=this.fa=!1}function W(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function Ee(o,f,m){for(const y in o)f.call(m,o[y],y,o)}function Pe(o,f){for(const m in o)f.call(void 0,o[m],m,o)}function hr(o){const f={};for(const m in o)f[m]=o[m];return f}const fr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Wr(o,f){let m,y;for(let O=1;O<arguments.length;O++){y=arguments[O];for(m in y)o[m]=y[m];for(let j=0;j<fr.length;j++)m=fr[j],Object.prototype.hasOwnProperty.call(y,m)&&(o[m]=y[m])}}function Ft(o){this.src=o,this.g={},this.h=0}Ft.prototype.add=function(o,f,m,y,O){const j=o.toString();o=this.g[j],o||(o=this.g[j]=[],this.h++);const z=vh(o,f,y,O);return z>-1?(f=o[z],m||(f.fa=!1)):(f=new te(f,this.src,j,!!y,O),f.fa=m,o.push(f)),f};function ai(o,f){const m=f.type;if(m in o.g){var y=o.g[m],O=Array.prototype.indexOf.call(y,f,void 0),j;(j=O>=0)&&Array.prototype.splice.call(y,O,1),j&&(W(f),o.g[m].length==0&&(delete o.g[m],o.h--))}}function vh(o,f,m,y){for(let O=0;O<o.length;++O){const j=o[O];if(!j.da&&j.listener==f&&j.capture==!!m&&j.ha==y)return O}return-1}var Eh="closure_lm_"+(Math.random()*1e6|0),Th={};function dg(o,f,m,y,O){if(Array.isArray(f)){for(let j=0;j<f.length;j++)dg(o,f[j],m,y,O);return null}return m=gg(m),o&&o[rn]?o.J(f,m,l(y)?!!y.capture:!1,O):Cw(o,f,m,!1,y,O)}function Cw(o,f,m,y,O,j){if(!f)throw Error("Invalid event type");const z=l(O)?!!O.capture:!!O;let ee=Sh(o);if(ee||(o[Eh]=ee=new Ft(o)),m=ee.add(f,m,y,z,j),m.proxy)return m;if(y=Nw(),m.proxy=y,y.src=o,y.listener=m,o.addEventListener)N||(O=z),O===void 0&&(O=!1),o.addEventListener(f.toString(),y,O);else if(o.attachEvent)o.attachEvent(pg(f.toString()),y);else if(o.addListener&&o.removeListener)o.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return m}function Nw(){function o(m){return f.call(o.src,o.listener,m)}const f=Iw;return o}function mg(o,f,m,y,O){if(Array.isArray(f))for(var j=0;j<f.length;j++)mg(o,f[j],m,y,O);else y=l(y)?!!y.capture:!!y,m=gg(m),o&&o[rn]?(o=o.i,j=String(f).toString(),j in o.g&&(f=o.g[j],m=vh(f,m,y,O),m>-1&&(W(f[m]),Array.prototype.splice.call(f,m,1),f.length==0&&(delete o.g[j],o.h--)))):o&&(o=Sh(o))&&(f=o.g[f.toString()],o=-1,f&&(o=vh(f,m,y,O)),(m=o>-1?f[o]:null)&&bh(m))}function bh(o){if(typeof o!="number"&&o&&!o.da){var f=o.src;if(f&&f[rn])ai(f.i,o);else{var m=o.type,y=o.proxy;f.removeEventListener?f.removeEventListener(m,y,o.capture):f.detachEvent?f.detachEvent(pg(m),y):f.addListener&&f.removeListener&&f.removeListener(y),(m=Sh(f))?(ai(m,o),m.h==0&&(m.src=null,f[Eh]=null)):W(o)}}}function pg(o){return o in Th?Th[o]:Th[o]="on"+o}function Iw(o,f){if(o.da)o=!0;else{f=new ft(f,this);const m=o.listener,y=o.ha||o.src;o.fa&&bh(o),o=m.call(y,f)}return o}function Sh(o){return o=o[Eh],o instanceof Ft?o:null}var Ah="__closure_events_fn_"+(Math.random()*1e9>>>0);function gg(o){return typeof o=="function"?o:(o[Ah]||(o[Ah]=function(f){return o.handleEvent(f)}),o[Ah])}function dt(){x.call(this),this.i=new Ft(this),this.M=this,this.G=null}g(dt,x),dt.prototype[rn]=!0,dt.prototype.removeEventListener=function(o,f,m,y){mg(this,o,f,m,y)};function _t(o,f){var m,y=o.G;if(y)for(m=[];y;y=y.G)m.push(y);if(o=o.M,y=f.type||f,typeof f=="string")f=new R(f,o);else if(f instanceof R)f.target=f.target||o;else{var O=f;f=new R(y,o),Wr(f,O)}O=!0;let j,z;if(m)for(z=m.length-1;z>=0;z--)j=f.g=m[z],O=xl(j,y,!0,f)&&O;if(j=f.g=o,O=xl(j,y,!0,f)&&O,O=xl(j,y,!1,f)&&O,m)for(z=0;z<m.length;z++)j=f.g=m[z],O=xl(j,y,!1,f)&&O}dt.prototype.N=function(){if(dt.Z.N.call(this),this.i){var o=this.i;for(const f in o.g){const m=o.g[f];for(let y=0;y<m.length;y++)W(m[y]);delete o.g[f],o.h--}}this.G=null},dt.prototype.J=function(o,f,m,y){return this.i.add(String(o),f,!1,m,y)},dt.prototype.K=function(o,f,m,y){return this.i.add(String(o),f,!0,m,y)};function xl(o,f,m,y){if(f=o.i.g[String(f)],!f)return!0;f=f.concat();let O=!0;for(let j=0;j<f.length;++j){const z=f[j];if(z&&!z.da&&z.capture==m){const ee=z.listener,Qe=z.ha||z.src;z.fa&&ai(o.i,z),O=ee.call(Qe,y)!==!1&&O}}return O&&!y.defaultPrevented}function Dw(o,f){if(typeof o!="function")if(o&&typeof o.handleEvent=="function")o=c(o.handleEvent,o);else throw Error("Invalid listener argument");return Number(f)>2147483647?-1:a.setTimeout(o,f||0)}function yg(o){o.g=Dw(()=>{o.g=null,o.i&&(o.i=!1,yg(o))},o.l);const f=o.h;o.h=null,o.m.apply(null,f)}class Ow extends x{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:yg(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ba(o){x.call(this),this.h=o,this.g={}}g(ba,x);var _g=[];function vg(o){Ee(o.g,function(f,m){this.g.hasOwnProperty(m)&&bh(f)},o),o.g={}}ba.prototype.N=function(){ba.Z.N.call(this),vg(this)},ba.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wh=a.JSON.stringify,Mw=a.JSON.parse,Vw=class{stringify(o){return a.JSON.stringify(o,void 0)}parse(o){return a.JSON.parse(o,void 0)}};function Eg(){}function Tg(){}var Sa={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function xh(){R.call(this,"d")}g(xh,R);function Rh(){R.call(this,"c")}g(Rh,R);var dr={},bg=null;function Rl(){return bg=bg||new dt}dr.Ia="serverreachability";function Sg(o){R.call(this,dr.Ia,o)}g(Sg,R);function Aa(o){const f=Rl();_t(f,new Sg(f))}dr.STAT_EVENT="statevent";function Ag(o,f){R.call(this,dr.STAT_EVENT,o),this.stat=f}g(Ag,R);function vt(o){const f=Rl();_t(f,new Ag(f,o))}dr.Ja="timingevent";function wg(o,f){R.call(this,dr.Ja,o),this.size=f}g(wg,R);function wa(o,f){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){o()},f)}function xa(){this.g=!0}xa.prototype.ua=function(){this.g=!1};function jw(o,f,m,y,O,j){o.info(function(){if(o.g)if(j){var z="",ee=j.split("&");for(let _e=0;_e<ee.length;_e++){var Qe=ee[_e].split("=");if(Qe.length>1){const Ze=Qe[0];Qe=Qe[1];const pn=Ze.split("_");z=pn.length>=2&&pn[1]=="type"?z+(Ze+"="+Qe+"&"):z+(Ze+"=redacted&")}}}else z=null;else z=j;return"XMLHTTP REQ ("+y+") [attempt "+O+"]: "+f+`
`+m+`
`+z})}function kw(o,f,m,y,O,j,z){o.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+O+"]: "+f+`
`+m+`
`+j+" "+z})}function Jr(o,f,m,y){o.info(function(){return"XMLHTTP TEXT ("+f+"): "+Pw(o,m)+(y?" "+y:"")})}function Lw(o,f){o.info(function(){return"TIMEOUT: "+f})}xa.prototype.info=function(){};function Pw(o,f){if(!o.g)return f;if(!f)return null;try{const j=JSON.parse(f);if(j){for(o=0;o<j.length;o++)if(Array.isArray(j[o])){var m=j[o];if(!(m.length<2)){var y=m[1];if(Array.isArray(y)&&!(y.length<1)){var O=y[0];if(O!="noop"&&O!="stop"&&O!="close")for(let z=1;z<y.length;z++)y[z]=""}}}}return wh(j)}catch{return f}}var Cl={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},xg={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Rg;function Ch(){}g(Ch,Eg),Ch.prototype.g=function(){return new XMLHttpRequest},Rg=new Ch;function Ra(o){return encodeURIComponent(String(o))}function Uw(o){var f=1;o=o.split(":");const m=[];for(;f>0&&o.length;)m.push(o.shift()),f--;return o.length&&m.push(o.join(":")),m}function oi(o,f,m,y){this.j=o,this.i=f,this.l=m,this.S=y||1,this.V=new ba(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Cg}function Cg(){this.i=null,this.g="",this.h=!1}var Ng={},Nh={};function Ih(o,f,m){o.M=1,o.A=Il(mn(f)),o.u=m,o.R=!0,Ig(o,null)}function Ig(o,f){o.F=Date.now(),Nl(o),o.B=mn(o.A);var m=o.B,y=o.S;Array.isArray(y)||(y=[String(y)]),Hg(m.i,"t",y),o.C=0,m=o.j.L,o.h=new Cg,o.g=oy(o.j,m?f:null,!o.u),o.P>0&&(o.O=new Ow(c(o.Y,o,o.g),o.P)),f=o.V,m=o.g,y=o.ba;var O="readystatechange";Array.isArray(O)||(O&&(_g[0]=O.toString()),O=_g);for(let j=0;j<O.length;j++){const z=dg(m,O[j],y||f.handleEvent,!1,f.h||f);if(!z)break;f.g[z.key]=z}f=o.J?hr(o.J):{},o.u?(o.v||(o.v="POST"),f["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.B,o.v,o.u,f)):(o.v="GET",o.g.ea(o.B,o.v,null,f)),Aa(),jw(o.i,o.v,o.B,o.l,o.S,o.u)}oi.prototype.ba=function(o){o=o.target;const f=this.O;f&&ci(o)==3?f.j():this.Y(o)},oi.prototype.Y=function(o){try{if(o==this.g)e:{const ee=ci(this.g),Qe=this.g.ya(),_e=this.g.ca();if(!(ee<3)&&(ee!=3||this.g&&(this.h.h||this.g.la()||Xg(this.g)))){this.K||ee!=4||Qe==7||(Qe==8||_e<=0?Aa(3):Aa(2)),Dh(this);var f=this.g.ca();this.X=f;var m=zw(this);if(this.o=f==200,kw(this.i,this.v,this.B,this.l,this.S,ee,f),this.o){if(this.U&&!this.L){t:{if(this.g){var y,O=this.g;if((y=O.g?O.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(y)){var j=y;break t}}j=null}if(o=j)Jr(this.i,this.l,o,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Oh(this,o);else{this.o=!1,this.m=3,vt(12),mr(this),Ca(this);break e}}if(this.R){o=!0;let Ze;for(;!this.K&&this.C<m.length;)if(Ze=Bw(this,m),Ze==Nh){ee==4&&(this.m=4,vt(14),o=!1),Jr(this.i,this.l,null,"[Incomplete Response]");break}else if(Ze==Ng){this.m=4,vt(15),Jr(this.i,this.l,m,"[Invalid Chunk]"),o=!1;break}else Jr(this.i,this.l,Ze,null),Oh(this,Ze);if(Dg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ee!=4||m.length!=0||this.h.h||(this.m=1,vt(16),o=!1),this.o=this.o&&o,!o)Jr(this.i,this.l,m,"[Invalid Chunked Response]"),mr(this),Ca(this);else if(m.length>0&&!this.W){this.W=!0;var z=this.j;z.g==this&&z.aa&&!z.P&&(z.j.info("Great, no buffering proxy detected. Bytes received: "+m.length),zh(z),z.P=!0,vt(11))}}else Jr(this.i,this.l,m,null),Oh(this,m);ee==4&&mr(this),this.o&&!this.K&&(ee==4?iy(this.j,this):(this.o=!1,Nl(this)))}else t1(this.g),f==400&&m.indexOf("Unknown SID")>0?(this.m=3,vt(12)):(this.m=0,vt(13)),mr(this),Ca(this)}}}catch{}finally{}};function zw(o){if(!Dg(o))return o.g.la();const f=Xg(o.g);if(f==="")return"";let m="";const y=f.length,O=ci(o.g)==4;if(!o.h.i){if(typeof TextDecoder>"u")return mr(o),Ca(o),"";o.h.i=new a.TextDecoder}for(let j=0;j<y;j++)o.h.h=!0,m+=o.h.i.decode(f[j],{stream:!(O&&j==y-1)});return f.length=0,o.h.g+=m,o.C=0,o.h.g}function Dg(o){return o.g?o.v=="GET"&&o.M!=2&&o.j.Aa:!1}function Bw(o,f){var m=o.C,y=f.indexOf(`
`,m);return y==-1?Nh:(m=Number(f.substring(m,y)),isNaN(m)?Ng:(y+=1,y+m>f.length?Nh:(f=f.slice(y,y+m),o.C=y+m,f)))}oi.prototype.cancel=function(){this.K=!0,mr(this)};function Nl(o){o.T=Date.now()+o.H,Og(o,o.H)}function Og(o,f){if(o.D!=null)throw Error("WatchDog timer not null");o.D=wa(c(o.aa,o),f)}function Dh(o){o.D&&(a.clearTimeout(o.D),o.D=null)}oi.prototype.aa=function(){this.D=null;const o=Date.now();o-this.T>=0?(Lw(this.i,this.B),this.M!=2&&(Aa(),vt(17)),mr(this),this.m=2,Ca(this)):Og(this,this.T-o)};function Ca(o){o.j.I==0||o.K||iy(o.j,o)}function mr(o){Dh(o);var f=o.O;f&&typeof f.dispose=="function"&&f.dispose(),o.O=null,vg(o.V),o.g&&(f=o.g,o.g=null,f.abort(),f.dispose())}function Oh(o,f){try{var m=o.j;if(m.I!=0&&(m.g==o||Mh(m.h,o))){if(!o.L&&Mh(m.h,o)&&m.I==3){try{var y=m.Ba.g.parse(f)}catch{y=null}if(Array.isArray(y)&&y.length==3){var O=y;if(O[0]==0){e:if(!m.v){if(m.g)if(m.g.F+3e3<o.F)jl(m),Ml(m);else break e;Uh(m),vt(18)}}else m.xa=O[1],0<m.xa-m.K&&O[2]<37500&&m.F&&m.A==0&&!m.C&&(m.C=wa(c(m.Va,m),6e3));jg(m.h)<=1&&m.ta&&(m.ta=void 0)}else gr(m,11)}else if((o.L||m.g==o)&&jl(m),!w(f))for(O=m.Ba.g.parse(f),f=0;f<O.length;f++){let _e=O[f];const Ze=_e[0];if(!(Ze<=m.K))if(m.K=Ze,_e=_e[1],m.I==2)if(_e[0]=="c"){m.M=_e[1],m.ba=_e[2];const pn=_e[3];pn!=null&&(m.ka=pn,m.j.info("VER="+m.ka));const yr=_e[4];yr!=null&&(m.za=yr,m.j.info("SVER="+m.za));const hi=_e[5];hi!=null&&typeof hi=="number"&&hi>0&&(y=1.5*hi,m.O=y,m.j.info("backChannelRequestTimeoutMs_="+y)),y=m;const fi=o.g;if(fi){const Ll=fi.g?fi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ll){var j=y.h;j.g||Ll.indexOf("spdy")==-1&&Ll.indexOf("quic")==-1&&Ll.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Vh(j,j.h),j.h=null))}if(y.G){const Bh=fi.g?fi.g.getResponseHeader("X-HTTP-Session-Id"):null;Bh&&(y.wa=Bh,Se(y.J,y.G,Bh))}}m.I=3,m.l&&m.l.ra(),m.aa&&(m.T=Date.now()-o.F,m.j.info("Handshake RTT: "+m.T+"ms")),y=m;var z=o;if(y.na=ay(y,y.L?y.ba:null,y.W),z.L){kg(y.h,z);var ee=z,Qe=y.O;Qe&&(ee.H=Qe),ee.D&&(Dh(ee),Nl(ee)),y.g=z}else ty(y);m.i.length>0&&Vl(m)}else _e[0]!="stop"&&_e[0]!="close"||gr(m,7);else m.I==3&&(_e[0]=="stop"||_e[0]=="close"?_e[0]=="stop"?gr(m,7):Ph(m):_e[0]!="noop"&&m.l&&m.l.qa(_e),m.A=0)}}Aa(4)}catch{}}var qw=class{constructor(o,f){this.g=o,this.map=f}};function Mg(o){this.l=o||10,a.PerformanceNavigationTiming?(o=a.performance.getEntriesByType("navigation"),o=o.length>0&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Vg(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function jg(o){return o.h?1:o.g?o.g.size:0}function Mh(o,f){return o.h?o.h==f:o.g?o.g.has(f):!1}function Vh(o,f){o.g?o.g.add(f):o.h=f}function kg(o,f){o.h&&o.h==f?o.h=null:o.g&&o.g.has(f)&&o.g.delete(f)}Mg.prototype.cancel=function(){if(this.i=Lg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Lg(o){if(o.h!=null)return o.i.concat(o.h.G);if(o.g!=null&&o.g.size!==0){let f=o.i;for(const m of o.g.values())f=f.concat(m.G);return f}return _(o.i)}var Pg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hw(o,f){if(o){o=o.split("&");for(let m=0;m<o.length;m++){const y=o[m].indexOf("=");let O,j=null;y>=0?(O=o[m].substring(0,y),j=o[m].substring(y+1)):O=o[m],f(O,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function li(o){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let f;o instanceof li?(this.l=o.l,Na(this,o.j),this.o=o.o,this.g=o.g,Ia(this,o.u),this.h=o.h,jh(this,Fg(o.i)),this.m=o.m):o&&(f=String(o).match(Pg))?(this.l=!1,Na(this,f[1]||"",!0),this.o=Da(f[2]||""),this.g=Da(f[3]||"",!0),Ia(this,f[4]),this.h=Da(f[5]||"",!0),jh(this,f[6]||"",!0),this.m=Da(f[7]||"")):(this.l=!1,this.i=new Ma(null,this.l))}li.prototype.toString=function(){const o=[];var f=this.j;f&&o.push(Oa(f,Ug,!0),":");var m=this.g;return(m||f=="file")&&(o.push("//"),(f=this.o)&&o.push(Oa(f,Ug,!0),"@"),o.push(Ra(m).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.u,m!=null&&o.push(":",String(m))),(m=this.h)&&(this.g&&m.charAt(0)!="/"&&o.push("/"),o.push(Oa(m,m.charAt(0)=="/"?Kw:Gw,!0))),(m=this.i.toString())&&o.push("?",m),(m=this.m)&&o.push("#",Oa(m,Yw)),o.join("")},li.prototype.resolve=function(o){const f=mn(this);let m=!!o.j;m?Na(f,o.j):m=!!o.o,m?f.o=o.o:m=!!o.g,m?f.g=o.g:m=o.u!=null;var y=o.h;if(m)Ia(f,o.u);else if(m=!!o.h){if(y.charAt(0)!="/")if(this.g&&!this.h)y="/"+y;else{var O=f.h.lastIndexOf("/");O!=-1&&(y=f.h.slice(0,O+1)+y)}if(O=y,O==".."||O==".")y="";else if(O.indexOf("./")!=-1||O.indexOf("/.")!=-1){y=O.lastIndexOf("/",0)==0,O=O.split("/");const j=[];for(let z=0;z<O.length;){const ee=O[z++];ee=="."?y&&z==O.length&&j.push(""):ee==".."?((j.length>1||j.length==1&&j[0]!="")&&j.pop(),y&&z==O.length&&j.push("")):(j.push(ee),y=!0)}y=j.join("/")}else y=O}return m?f.h=y:m=o.i.toString()!=="",m?jh(f,Fg(o.i)):m=!!o.m,m&&(f.m=o.m),f};function mn(o){return new li(o)}function Na(o,f,m){o.j=m?Da(f,!0):f,o.j&&(o.j=o.j.replace(/:$/,""))}function Ia(o,f){if(f){if(f=Number(f),isNaN(f)||f<0)throw Error("Bad port number "+f);o.u=f}else o.u=null}function jh(o,f,m){f instanceof Ma?(o.i=f,$w(o.i,o.l)):(m||(f=Oa(f,Qw)),o.i=new Ma(f,o.l))}function Se(o,f,m){o.i.set(f,m)}function Il(o){return Se(o,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),o}function Da(o,f){return o?f?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Oa(o,f,m){return typeof o=="string"?(o=encodeURI(o).replace(f,Fw),m&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function Fw(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Ug=/[#\/\?@]/g,Gw=/[#\?:]/g,Kw=/[#\?]/g,Qw=/[#\?@]/g,Yw=/#/g;function Ma(o,f){this.h=this.g=null,this.i=o||null,this.j=!!f}function pr(o){o.g||(o.g=new Map,o.h=0,o.i&&Hw(o.i,function(f,m){o.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}t=Ma.prototype,t.add=function(o,f){pr(this),this.i=null,o=Zr(this,o);let m=this.g.get(o);return m||this.g.set(o,m=[]),m.push(f),this.h+=1,this};function zg(o,f){pr(o),f=Zr(o,f),o.g.has(f)&&(o.i=null,o.h-=o.g.get(f).length,o.g.delete(f))}function Bg(o,f){return pr(o),f=Zr(o,f),o.g.has(f)}t.forEach=function(o,f){pr(this),this.g.forEach(function(m,y){m.forEach(function(O){o.call(f,O,y,this)},this)},this)};function qg(o,f){pr(o);let m=[];if(typeof f=="string")Bg(o,f)&&(m=m.concat(o.g.get(Zr(o,f))));else for(o=Array.from(o.g.values()),f=0;f<o.length;f++)m=m.concat(o[f]);return m}t.set=function(o,f){return pr(this),this.i=null,o=Zr(this,o),Bg(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[f]),this.h+=1,this},t.get=function(o,f){return o?(o=qg(this,o),o.length>0?String(o[0]):f):f};function Hg(o,f,m){zg(o,f),m.length>0&&(o.i=null,o.g.set(Zr(o,f),_(m)),o.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],f=Array.from(this.g.keys());for(let y=0;y<f.length;y++){var m=f[y];const O=Ra(m);m=qg(this,m);for(let j=0;j<m.length;j++){let z=O;m[j]!==""&&(z+="="+Ra(m[j])),o.push(z)}}return this.i=o.join("&")};function Fg(o){const f=new Ma;return f.i=o.i,o.g&&(f.g=new Map(o.g),f.h=o.h),f}function Zr(o,f){return f=String(f),o.j&&(f=f.toLowerCase()),f}function $w(o,f){f&&!o.j&&(pr(o),o.i=null,o.g.forEach(function(m,y){const O=y.toLowerCase();y!=O&&(zg(this,y),Hg(this,O,m))},o)),o.j=f}function Xw(o,f){const m=new xa;if(a.Image){const y=new Image;y.onload=d(ui,m,"TestLoadImage: loaded",!0,f,y),y.onerror=d(ui,m,"TestLoadImage: error",!1,f,y),y.onabort=d(ui,m,"TestLoadImage: abort",!1,f,y),y.ontimeout=d(ui,m,"TestLoadImage: timeout",!1,f,y),a.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=o}else f(!1)}function Ww(o,f){const m=new xa,y=new AbortController,O=setTimeout(()=>{y.abort(),ui(m,"TestPingServer: timeout",!1,f)},1e4);fetch(o,{signal:y.signal}).then(j=>{clearTimeout(O),j.ok?ui(m,"TestPingServer: ok",!0,f):ui(m,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(O),ui(m,"TestPingServer: error",!1,f)})}function ui(o,f,m,y,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),y(m)}catch{}}function Jw(){this.g=new Vw}function kh(o){this.i=o.Sb||null,this.h=o.ab||!1}g(kh,Eg),kh.prototype.g=function(){return new Dl(this.i,this.h)};function Dl(o,f){dt.call(this),this.H=o,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(Dl,dt),t=Dl.prototype,t.open=function(o,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=o,this.D=f,this.readyState=1,ja(this)},t.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const f={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};o&&(f.body=o),(this.H||a).fetch(new Request(this.D,f)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Va(this)),this.readyState=0},t.Pa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,ja(this)),this.g&&(this.readyState=3,ja(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Gg(this)}else o.text().then(this.Oa.bind(this),this.ga.bind(this))};function Gg(o){o.j.read().then(o.Ma.bind(o)).catch(o.ga.bind(o))}t.Ma=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var f=o.value?o.value:new Uint8Array(0);(f=this.B.decode(f,{stream:!o.done}))&&(this.response=this.responseText+=f)}o.done?Va(this):ja(this),this.readyState==3&&Gg(this)}},t.Oa=function(o){this.g&&(this.response=this.responseText=o,Va(this))},t.Na=function(o){this.g&&(this.response=o,Va(this))},t.ga=function(){this.g&&Va(this)};function Va(o){o.readyState=4,o.l=null,o.j=null,o.B=null,ja(o)}t.setRequestHeader=function(o,f){this.A.append(o,f)},t.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],f=this.h.entries();for(var m=f.next();!m.done;)m=m.value,o.push(m[0]+": "+m[1]),m=f.next();return o.join(`\r
`)};function ja(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Dl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Kg(o){let f="";return Ee(o,function(m,y){f+=y,f+=":",f+=m,f+=`\r
`}),f}function Lh(o,f,m){e:{for(y in m){var y=!1;break e}y=!0}y||(m=Kg(m),typeof o=="string"?m!=null&&Ra(m):Se(o,f,m))}function De(o){dt.call(this),this.headers=new Map,this.L=o||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(De,dt);var Zw=/^https?$/i,e1=["POST","PUT"];t=De.prototype,t.Fa=function(o){this.H=o},t.ea=function(o,f,m,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);f=f?f.toUpperCase():"GET",this.D=o,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Rg.g(),this.g.onreadystatechange=p(c(this.Ca,this));try{this.B=!0,this.g.open(f,String(o),!0),this.B=!1}catch(j){Qg(this,j);return}if(o=m||"",m=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var O in y)m.set(O,y[O]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(const j of y.keys())m.set(j,y.get(j));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(m.keys()).find(j=>j.toLowerCase()=="content-type"),O=a.FormData&&o instanceof a.FormData,!(Array.prototype.indexOf.call(e1,f,void 0)>=0)||y||O||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,z]of m)this.g.setRequestHeader(j,z);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(o),this.v=!1}catch(j){Qg(this,j)}};function Qg(o,f){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=f,o.o=5,Yg(o),Ol(o)}function Yg(o){o.A||(o.A=!0,_t(o,"complete"),_t(o,"error"))}t.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=o||7,_t(this,"complete"),_t(this,"abort"),Ol(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ol(this,!0)),De.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?$g(this):this.Xa())},t.Xa=function(){$g(this)};function $g(o){if(o.h&&typeof s<"u"){if(o.v&&ci(o)==4)setTimeout(o.Ca.bind(o),0);else if(_t(o,"readystatechange"),ci(o)==4){o.h=!1;try{const j=o.ca();e:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var y;if(y=j===0){let z=String(o.D).match(Pg)[1]||null;!z&&a.self&&a.self.location&&(z=a.self.location.protocol.slice(0,-1)),y=!Zw.test(z?z.toLowerCase():"")}m=y}if(m)_t(o,"complete"),_t(o,"success");else{o.o=6;try{var O=ci(o)>2?o.g.statusText:""}catch{O=""}o.l=O+" ["+o.ca()+"]",Yg(o)}}finally{Ol(o)}}}}function Ol(o,f){if(o.g){o.m&&(clearTimeout(o.m),o.m=null);const m=o.g;o.g=null,f||_t(o,"ready");try{m.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ci(o){return o.g?o.g.readyState:0}t.ca=function(){try{return ci(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(o){if(this.g){var f=this.g.responseText;return o&&f.indexOf(o)==0&&(f=f.substring(o.length)),Mw(f)}};function Xg(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.F){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function t1(o){const f={};o=(o.g&&ci(o)>=2&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<o.length;y++){if(w(o[y]))continue;var m=Uw(o[y]);const O=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const j=f[O]||[];f[O]=j,j.push(m)}Pe(f,function(y){return y.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ka(o,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[o]||f}function Wg(o){this.za=0,this.i=[],this.j=new xa,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ka("failFast",!1,o),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ka("baseRetryDelayMs",5e3,o),this.Za=ka("retryDelaySeedMs",1e4,o),this.Ta=ka("forwardChannelMaxRetries",2,o),this.va=ka("forwardChannelRequestTimeoutMs",2e4,o),this.ma=o&&o.xmlHttpFactory||void 0,this.Ua=o&&o.Rb||void 0,this.Aa=o&&o.useFetchStreams||!1,this.O=void 0,this.L=o&&o.supportsCrossDomainXhr||!1,this.M="",this.h=new Mg(o&&o.concurrentRequestLimit),this.Ba=new Jw,this.S=o&&o.fastHandshake||!1,this.R=o&&o.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=o&&o.Pb||!1,o&&o.ua&&this.j.ua(),o&&o.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&o&&o.detectBufferingProxy||!1,this.ia=void 0,o&&o.longPollingTimeout&&o.longPollingTimeout>0&&(this.ia=o.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Wg.prototype,t.ka=8,t.I=1,t.connect=function(o,f,m,y){vt(0),this.W=o,this.H=f||{},m&&y!==void 0&&(this.H.OSID=m,this.H.OAID=y),this.F=this.X,this.J=ay(this,null,this.W),Vl(this)};function Ph(o){if(Jg(o),o.I==3){var f=o.V++,m=mn(o.J);if(Se(m,"SID",o.M),Se(m,"RID",f),Se(m,"TYPE","terminate"),La(o,m),f=new oi(o,o.j,f),f.M=2,f.A=Il(mn(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(f.A.toString(),"")}catch{}!m&&a.Image&&(new Image().src=f.A,m=!0),m||(f.g=oy(f.j,null),f.g.ea(f.A)),f.F=Date.now(),Nl(f)}sy(o)}function Ml(o){o.g&&(zh(o),o.g.cancel(),o.g=null)}function Jg(o){Ml(o),o.v&&(a.clearTimeout(o.v),o.v=null),jl(o),o.h.cancel(),o.m&&(typeof o.m=="number"&&a.clearTimeout(o.m),o.m=null)}function Vl(o){if(!Vg(o.h)&&!o.m){o.m=!0;var f=o.Ea;U||E(),F||(U(),F=!0),b.add(f,o),o.D=0}}function n1(o,f){return jg(o.h)>=o.h.j-(o.m?1:0)?!1:o.m?(o.i=f.G.concat(o.i),!0):o.I==1||o.I==2||o.D>=(o.Sa?0:o.Ta)?!1:(o.m=wa(c(o.Ea,o,f),ry(o,o.D)),o.D++,!0)}t.Ea=function(o){if(this.m)if(this.m=null,this.I==1){if(!o){this.V=Math.floor(Math.random()*1e5),o=this.V++;const O=new oi(this,this.j,o);let j=this.o;if(this.U&&(j?(j=hr(j),Wr(j,this.U)):j=this.U),this.u!==null||this.R||(O.J=j,j=null),this.S)e:{for(var f=0,m=0;m<this.i.length;m++){t:{var y=this.i[m];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(f+=y,f>4096){f=m;break e}if(f===4096||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=ey(this,O,f),m=mn(this.J),Se(m,"RID",o),Se(m,"CVER",22),this.G&&Se(m,"X-HTTP-Session-Id",this.G),La(this,m),j&&(this.R?f="headers="+Ra(Kg(j))+"&"+f:this.u&&Lh(m,this.u,j)),Vh(this.h,O),this.Ra&&Se(m,"TYPE","init"),this.S?(Se(m,"$req",f),Se(m,"SID","null"),O.U=!0,Ih(O,m,null)):Ih(O,m,f),this.I=2}}else this.I==3&&(o?Zg(this,o):this.i.length==0||Vg(this.h)||Zg(this))};function Zg(o,f){var m;f?m=f.l:m=o.V++;const y=mn(o.J);Se(y,"SID",o.M),Se(y,"RID",m),Se(y,"AID",o.K),La(o,y),o.u&&o.o&&Lh(y,o.u,o.o),m=new oi(o,o.j,m,o.D+1),o.u===null&&(m.J=o.o),f&&(o.i=f.G.concat(o.i)),f=ey(o,m,1e3),m.H=Math.round(o.va*.5)+Math.round(o.va*.5*Math.random()),Vh(o.h,m),Ih(m,y,f)}function La(o,f){o.H&&Ee(o.H,function(m,y){Se(f,y,m)}),o.l&&Ee({},function(m,y){Se(f,y,m)})}function ey(o,f,m){m=Math.min(o.i.length,m);const y=o.l?c(o.l.Ka,o.l,o):null;e:{var O=o.i;let ee=-1;for(;;){const Qe=["count="+m];ee==-1?m>0?(ee=O[0].g,Qe.push("ofs="+ee)):ee=0:Qe.push("ofs="+ee);let _e=!0;for(let Ze=0;Ze<m;Ze++){var j=O[Ze].g;const pn=O[Ze].map;if(j-=ee,j<0)ee=Math.max(0,O[Ze].g-100),_e=!1;else try{j="req"+j+"_"||"";try{var z=pn instanceof Map?pn:Object.entries(pn);for(const[yr,hi]of z){let fi=hi;l(hi)&&(fi=wh(hi)),Qe.push(j+yr+"="+encodeURIComponent(fi))}}catch(yr){throw Qe.push(j+"type="+encodeURIComponent("_badmap")),yr}}catch{y&&y(pn)}}if(_e){z=Qe.join("&");break e}}z=void 0}return o=o.i.splice(0,m),f.G=o,z}function ty(o){if(!o.g&&!o.v){o.Y=1;var f=o.Da;U||E(),F||(U(),F=!0),b.add(f,o),o.A=0}}function Uh(o){return o.g||o.v||o.A>=3?!1:(o.Y++,o.v=wa(c(o.Da,o),ry(o,o.A)),o.A++,!0)}t.Da=function(){if(this.v=null,ny(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var o=4*this.T;this.j.info("BP detection timer enabled: "+o),this.B=wa(c(this.Wa,this),o)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,vt(10),Ml(this),ny(this))};function zh(o){o.B!=null&&(a.clearTimeout(o.B),o.B=null)}function ny(o){o.g=new oi(o,o.j,"rpc",o.Y),o.u===null&&(o.g.J=o.o),o.g.P=0;var f=mn(o.na);Se(f,"RID","rpc"),Se(f,"SID",o.M),Se(f,"AID",o.K),Se(f,"CI",o.F?"0":"1"),!o.F&&o.ia&&Se(f,"TO",o.ia),Se(f,"TYPE","xmlhttp"),La(o,f),o.u&&o.o&&Lh(f,o.u,o.o),o.O&&(o.g.H=o.O);var m=o.g;o=o.ba,m.M=1,m.A=Il(mn(f)),m.u=null,m.R=!0,Ig(m,o)}t.Va=function(){this.C!=null&&(this.C=null,Ml(this),Uh(this),vt(19))};function jl(o){o.C!=null&&(a.clearTimeout(o.C),o.C=null)}function iy(o,f){var m=null;if(o.g==f){jl(o),zh(o),o.g=null;var y=2}else if(Mh(o.h,f))m=f.G,kg(o.h,f),y=1;else return;if(o.I!=0){if(f.o)if(y==1){m=f.u?f.u.length:0,f=Date.now()-f.F;var O=o.D;y=Rl(),_t(y,new wg(y,m)),Vl(o)}else ty(o);else if(O=f.m,O==3||O==0&&f.X>0||!(y==1&&n1(o,f)||y==2&&Uh(o)))switch(m&&m.length>0&&(f=o.h,f.i=f.i.concat(m)),O){case 1:gr(o,5);break;case 4:gr(o,10);break;case 3:gr(o,6);break;default:gr(o,2)}}}function ry(o,f){let m=o.Qa+Math.floor(Math.random()*o.Za);return o.isActive()||(m*=2),m*f}function gr(o,f){if(o.j.info("Error code "+f),f==2){var m=c(o.bb,o),y=o.Ua;const O=!y;y=new li(y||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Na(y,"https"),Il(y),O?Xw(y.toString(),m):Ww(y.toString(),m)}else vt(2);o.I=0,o.l&&o.l.pa(f),sy(o),Jg(o)}t.bb=function(o){o?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function sy(o){if(o.I=0,o.ja=[],o.l){const f=Lg(o.h);(f.length!=0||o.i.length!=0)&&(C(o.ja,f),C(o.ja,o.i),o.h.i.length=0,_(o.i),o.i.length=0),o.l.oa()}}function ay(o,f,m){var y=m instanceof li?mn(m):new li(m);if(y.g!="")f&&(y.g=f+"."+y.g),Ia(y,y.u);else{var O=a.location;y=O.protocol,f=f?f+"."+O.hostname:O.hostname,O=+O.port;const j=new li(null);y&&Na(j,y),f&&(j.g=f),O&&Ia(j,O),m&&(j.h=m),y=j}return m=o.G,f=o.wa,m&&f&&Se(y,m,f),Se(y,"VER",o.ka),La(o,y),y}function oy(o,f,m){if(f&&!o.L)throw Error("Can't create secondary domain capable XhrIo object.");return f=o.Aa&&!o.ma?new De(new kh({ab:m})):new De(o.ma),f.Fa(o.L),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ly(){}t=ly.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function kl(){}kl.prototype.g=function(o,f){return new Ot(o,f)};function Ot(o,f){dt.call(this),this.g=new Wg(f),this.l=o,this.h=f&&f.messageUrlParams||null,o=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(o?o["X-WebChannel-Content-Type"]=f.messageContentType:o={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.sa&&(o?o["X-WebChannel-Client-Profile"]=f.sa:o={"X-WebChannel-Client-Profile":f.sa}),this.g.U=o,(o=f&&f.Qb)&&!w(o)&&(this.g.u=o),this.A=f&&f.supportsCrossDomainXhr||!1,this.v=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!w(f)&&(this.g.G=f,o=this.h,o!==null&&f in o&&(o=this.h,f in o&&delete o[f])),this.j=new es(this)}g(Ot,dt),Ot.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ot.prototype.close=function(){Ph(this.g)},Ot.prototype.o=function(o){var f=this.g;if(typeof o=="string"){var m={};m.__data__=o,o=m}else this.v&&(m={},m.__data__=wh(o),o=m);f.i.push(new qw(f.Ya++,o)),f.I==3&&Vl(f)},Ot.prototype.N=function(){this.g.l=null,delete this.j,Ph(this.g),delete this.g,Ot.Z.N.call(this)};function uy(o){xh.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var f=o.__sm__;if(f){e:{for(const m in f){o=m;break e}o=void 0}(this.i=o)&&(o=this.i,f=f!==null&&o in f?f[o]:void 0),this.data=f}else this.data=o}g(uy,xh);function cy(){Rh.call(this),this.status=1}g(cy,Rh);function es(o){this.g=o}g(es,ly),es.prototype.ra=function(){_t(this.g,"a")},es.prototype.qa=function(o){_t(this.g,new uy(o))},es.prototype.pa=function(o){_t(this.g,new cy)},es.prototype.oa=function(){_t(this.g,"b")},kl.prototype.createWebChannel=kl.prototype.g,Ot.prototype.send=Ot.prototype.o,Ot.prototype.open=Ot.prototype.m,Ot.prototype.close=Ot.prototype.close,GS=function(){return new kl},FS=function(){return Rl()},HS=dr,Yd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Cl.NO_ERROR=0,Cl.TIMEOUT=8,Cl.HTTP_ERROR=6,Cu=Cl,xg.COMPLETE="complete",qS=xg,Tg.EventType=Sa,Sa.OPEN="a",Sa.CLOSE="b",Sa.ERROR="c",Sa.MESSAGE="d",dt.prototype.listen=dt.prototype.J,eo=Tg,De.prototype.listenOnce=De.prototype.K,De.prototype.getLastError=De.prototype.Ha,De.prototype.getLastErrorCode=De.prototype.ya,De.prototype.getStatus=De.prototype.ca,De.prototype.getResponseJson=De.prototype.La,De.prototype.getResponseText=De.prototype.la,De.prototype.send=De.prototype.ea,De.prototype.setWithCredentials=De.prototype.Fa,BS=De}).apply(typeof nu<"u"?nu:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pt.UNAUTHENTICATED=new pt(null),pt.GOOGLE_CREDENTIALS=new pt("google-credentials-uid"),pt.FIRST_PARTY=new pt("first-party-uid"),pt.MOCK_USER=new pt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ya="12.8.0";function MO(t){ya=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur=new vp("@firebase/firestore");function os(){return Ur.logLevel}function H(t,...e){if(Ur.logLevel<=re.DEBUG){const n=e.map(Ip);Ur.debug(`Firestore (${ya}): ${t}`,...n)}}function ni(t,...e){if(Ur.logLevel<=re.ERROR){const n=e.map(Ip);Ur.error(`Firestore (${ya}): ${t}`,...n)}}function Xs(t,...e){if(Ur.logLevel<=re.WARN){const n=e.map(Ip);Ur.warn(`Firestore (${ya}): ${t}`,...n)}}function Ip(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,KS(t,i,n)}function KS(t,e,n){let i=`FIRESTORE (${ya}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw ni(i),new Error(i)}function fe(t,e,n,i){let r="Unexpected state";typeof n=="string"?r=n:i=n,t||KS(e,r,i)}function X(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class B extends si{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class VO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(pt.UNAUTHENTICATED))}shutdown(){}}class jO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class kO{constructor(e){this.t=e,this.currentUser=pt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){fe(this.o===void 0,42304);let i=this.i;const r=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let s=new Gi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Gi,e.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await r(this.currentUser)})},l=u=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Gi)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(fe(typeof i.accessToken=="string",31837,{l:i}),new QS(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return fe(e===null||typeof e=="string",2055,{h:e}),new pt(e)}}class LO{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=pt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class PO{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new LO(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(pt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Av{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UO{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,on(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){fe(this.o===void 0,3512);const i=s=>{s.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,H("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?r(s):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Av(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(fe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Av(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=zO(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=e.charAt(r[s]%62))}return i}}function se(t,e){return t<e?-1:t>e?1:0}function $d(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const r=t.charAt(i),s=e.charAt(i);if(r!==s)return kf(r)===kf(s)?se(r,s):kf(r)?1:-1}return se(t.length,e.length)}const BO=55296,qO=57343;function kf(t){const e=t.charCodeAt(0);return e>=BO&&e<=qO}function Ws(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="__name__";class gn{constructor(e,n,i){n===void 0?n=0:n>e.length&&Q(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Q(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return gn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof gn?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const s=gn.compareSegments(e.get(r),n.get(r));if(s!==0)return s}return se(e.length,n.length)}static compareSegments(e,n){const i=gn.isNumericId(e),r=gn.isNumericId(n);return i&&!r?-1:!i&&r?1:i&&r?gn.extractNumericId(e).compare(gn.extractNumericId(n)):$d(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Fi.fromString(e.substring(4,e.length-2))}}class Te extends gn{construct(e,n,i){return new Te(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new B(k.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new Te(n)}static emptyPath(){return new Te([])}}const HO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class lt extends gn{construct(e,n,i){return new lt(e,n,i)}static isValidIdentifier(e){return HO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),lt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===wv}static keyField(){return new lt([wv])}static fromServerFormat(e){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new B(k.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;r<e.length;){const l=e[r];if(l==="\\"){if(r+1===e.length)throw new B(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new B(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=u,r+=2}else l==="`"?(a=!a,r++):l!=="."||a?(i+=l,r++):(s(),r++)}if(s(),a)throw new B(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new lt(n)}static emptyPath(){return new lt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.path=e}static fromPath(e){return new G(Te.fromString(e))}static fromName(e){return new G(Te.fromString(e).popFirst(5))}static empty(){return new G(Te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Te.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Te.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new G(new Te(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(t,e,n){if(!n)throw new B(k.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function FO(t,e,n,i){if(e===!0&&i===!0)throw new B(k.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function xv(t){if(!G.isDocumentKey(t))throw new B(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Rv(t){if(G.isDocumentKey(t))throw new B(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function $S(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function nh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Q(12329,{type:typeof t})}function Sn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new B(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=nh(t);throw new B(k.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(t,e){const n={typeString:t};return e&&(n.value=e),n}function El(t,e){if(!$S(t))throw new B(k.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const r=e[i].typeString,s="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const a=t[i];if(r&&typeof a!==r){n=`JSON field '${i}' must be a ${r}.`;break}if(s!==void 0&&a!==s.value){n=`Expected '${i}' field to equal '${s.value}'`;break}}if(n)throw new B(k.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv=-62135596800,Nv=1e6;class ye{static now(){return ye.fromMillis(Date.now())}static fromDate(e){return ye.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*Nv);return new ye(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new B(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new B(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Cv)throw new B(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new B(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Nv}_compareTo(e){return this.seconds===e.seconds?se(this.nanoseconds,e.nanoseconds):se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ye._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(El(e,ye._jsonSchema))return new ye(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Cv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ye._jsonSchemaVersion="firestore/timestamp/1.0",ye._jsonSchema={type:Ke("string",ye._jsonSchemaVersion),seconds:Ke("number"),nanoseconds:Ke("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${static fromTimestamp(e){return new $(e)}static min(){return new $(new ye(0,0))}static max(){return new $(new ye(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho=-1;function GO(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=$.fromTimestamp(i===1e9?new ye(n+1,0):new ye(n,i));return new Zi(r,G.empty(),e)}function KO(t){return new Zi(t.readTime,t.key,Ho)}class Zi{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Zi($.min(),G.empty(),Ho)}static max(){return new Zi($.max(),G.empty(),Ho)}}function QO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=G.comparator(t.documentKey,e.documentKey),n!==0?n:se(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $O{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _a(t){if(t.code!==k.FAILED_PRECONDITION||t.message!==YO)throw t;H("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Q(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new P((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof P?n:P.resolve(n)}catch(n){return P.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):P.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):P.reject(n)}static resolve(e){return new P((n,i)=>{n(e)})}static reject(e){return new P((n,i)=>{i(e)})}static waitFor(e){return new P((n,i)=>{let r=0,s=0,a=!1;e.forEach(l=>{++r,l.next(()=>{++s,a&&s===r&&n()},u=>i(u))}),a=!0,s===r&&n()})}static or(e){let n=P.resolve(!1);for(const i of e)n=n.next(r=>r?P.resolve(r):i());return n}static forEach(e,n){const i=[];return e.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(e,n){return new P((i,r)=>{const s=e.length,a=new Array(s);let l=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(d=>{a[c]=d,++l,l===s&&i(a)},d=>r(d))}})}static doWhile(e,n){return new P((i,r)=>{const s=()=>{e()===!0?n().next(()=>{s()},r):i()};s()})}}function XO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function va(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ih.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op=-1;function rh(t){return t==null}function _c(t){return t===0&&1/t==-1/0}function WO(t){return typeof t=="number"&&Number.isInteger(t)&&!_c(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS="";function JO(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Iv(e)),e=ZO(t.get(n),e);return Iv(e)}function ZO(t,e){let n=e;const i=t.length;for(let r=0;r<i;r++){const s=t.charAt(r);switch(s){case"\0":n+="";break;case XS:n+="";break;default:n+=s}}return n}function Iv(t){return t+XS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ur(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function WS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e,n){this.comparator=e,this.root=n||st.EMPTY}insert(e,n){return new Ie(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,st.BLACK,null,null))}remove(e){return new Ie(this.comparator,this.root.remove(e,this.comparator).copy(null,null,st.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new iu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new iu(this.root,e,this.comparator,!1)}getReverseIterator(){return new iu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new iu(this.root,e,this.comparator,!0)}}class iu{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?i(e.key,n):1,n&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class st{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??st.RED,this.left=r??st.EMPTY,this.right=s??st.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,s){return new st(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return st.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return st.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,st.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,st.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Q(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Q(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Q(27949);return e+(this.isRed()?0:1)}}st.EMPTY=null,st.RED=!0,st.BLACK=!1;st.EMPTY=new class{constructor(){this.size=0}get key(){throw Q(57766)}get value(){throw Q(16141)}get color(){throw Q(16727)}get left(){throw Q(29726)}get right(){throw Q(36894)}copy(e,n,i,r,s){return this}insert(e,n,i){return new st(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.comparator=e,this.data=new Ie(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ov(this.data.getIterator())}getIteratorFrom(e){return new Ov(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Xe)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Xe(this.comparator);return n.data=e,n}}class Ov{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.fields=e,e.sort(lt.comparator)}static empty(){return new Lt([])}unionWith(e){let n=new Xe(lt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Lt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ws(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new JS("Invalid base64 string: "+s):s}}(e);return new ht(n)}static fromUint8Array(e){const n=function(r){let s="";for(let a=0;a<r.length;++a)s+=String.fromCharCode(r[a]);return s}(e);return new ht(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ht.EMPTY_BYTE_STRING=new ht("");const e4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function er(t){if(fe(!!t,39018),typeof t=="string"){let e=0;const n=e4.exec(t);if(fe(!!n,46558,{timestamp:t}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ve(t.seconds),nanos:Ve(t.nanos)}}function Ve(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function tr(t){return typeof t=="string"?ht.fromBase64String(t):ht.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS="server_timestamp",eA="__type__",tA="__previous_value__",nA="__local_write_time__";function Mp(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[eA])==null?void 0:i.stringValue)===ZS}function sh(t){const e=t.mapValue.fields[tA];return Mp(e)?sh(e):e}function Fo(t){const e=er(t.mapValue.fields[nA].timestampValue);return new ye(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e,n,i,r,s,a,l,u,c,d,g){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=c,this.isUsingEmulator=d,this.apiKey=g}}const vc="(default)";class Go{constructor(e,n){this.projectId=e,this.database=n||vc}static empty(){return new Go("","")}get isDefaultDatabase(){return this.database===vc}isEqual(e){return e instanceof Go&&e.projectId===this.projectId&&e.database===this.database}}function n4(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new B(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Go(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA="__type__",i4="__max__",ru={mapValue:{}},rA="__vector__",Ec="value";function nr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Mp(t)?4:s4(t)?9007199254740991:r4(t)?10:11:Q(28295,{value:t})}function Cn(t,e){if(t===e)return!0;const n=nr(t);if(n!==nr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Fo(t).isEqual(Fo(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const a=er(r.timestampValue),l=er(s.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return tr(r.bytesValue).isEqual(tr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return Ve(r.geoPointValue.latitude)===Ve(s.geoPointValue.latitude)&&Ve(r.geoPointValue.longitude)===Ve(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Ve(r.integerValue)===Ve(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const a=Ve(r.doubleValue),l=Ve(s.doubleValue);return a===l?_c(a)===_c(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return Ws(t.arrayValue.values||[],e.arrayValue.values||[],Cn);case 10:case 11:return function(r,s){const a=r.mapValue.fields||{},l=s.mapValue.fields||{};if(Dv(a)!==Dv(l))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(l[u]===void 0||!Cn(a[u],l[u])))return!1;return!0}(t,e);default:return Q(52216,{left:t})}}function Ko(t,e){return(t.values||[]).find(n=>Cn(n,e))!==void 0}function Js(t,e){if(t===e)return 0;const n=nr(t),i=nr(e);if(n!==i)return se(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return se(t.booleanValue,e.booleanValue);case 2:return function(s,a){const l=Ve(s.integerValue||s.doubleValue),u=Ve(a.integerValue||a.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return Mv(t.timestampValue,e.timestampValue);case 4:return Mv(Fo(t),Fo(e));case 5:return $d(t.stringValue,e.stringValue);case 6:return function(s,a){const l=tr(s),u=tr(a);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const l=s.split("/"),u=a.split("/");for(let c=0;c<l.length&&c<u.length;c++){const d=se(l[c],u[c]);if(d!==0)return d}return se(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const l=se(Ve(s.latitude),Ve(a.latitude));return l!==0?l:se(Ve(s.longitude),Ve(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Vv(t.arrayValue,e.arrayValue);case 10:return function(s,a){var p,_,C,D;const l=s.fields||{},u=a.fields||{},c=(p=l[Ec])==null?void 0:p.arrayValue,d=(_=u[Ec])==null?void 0:_.arrayValue,g=se(((C=c==null?void 0:c.values)==null?void 0:C.length)||0,((D=d==null?void 0:d.values)==null?void 0:D.length)||0);return g!==0?g:Vv(c,d)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===ru.mapValue&&a===ru.mapValue)return 0;if(s===ru.mapValue)return 1;if(a===ru.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),c=a.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let g=0;g<u.length&&g<d.length;++g){const p=$d(u[g],d[g]);if(p!==0)return p;const _=Js(l[u[g]],c[d[g]]);if(_!==0)return _}return se(u.length,d.length)}(t.mapValue,e.mapValue);default:throw Q(23264,{he:n})}}function Mv(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return se(t,e);const n=er(t),i=er(e),r=se(n.seconds,i.seconds);return r!==0?r:se(n.nanos,i.nanos)}function Vv(t,e){const n=t.values||[],i=e.values||[];for(let r=0;r<n.length&&r<i.length;++r){const s=Js(n[r],i[r]);if(s)return s}return se(n.length,i.length)}function Zs(t){return Xd(t)}function Xd(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=er(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return tr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return G.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(const s of n.values||[])r?r=!1:i+=",",i+=Xd(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",s=!0;for(const a of i)s?s=!1:r+=",",r+=`${a}:${Xd(n.fields[a])}`;return r+"}"}(t.mapValue):Q(61005,{value:t})}function Nu(t){switch(nr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sh(t);return e?16+Nu(e):16;case 5:return 2*t.stringValue.length;case 6:return tr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,s)=>r+Nu(s),0)}(t.arrayValue);case 10:case 11:return function(i){let r=0;return ur(i.fields,(s,a)=>{r+=s.length+Nu(a)}),r}(t.mapValue);default:throw Q(13486,{value:t})}}function jv(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Wd(t){return!!t&&"integerValue"in t}function Vp(t){return!!t&&"arrayValue"in t}function kv(t){return!!t&&"nullValue"in t}function Lv(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Iu(t){return!!t&&"mapValue"in t}function r4(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[iA])==null?void 0:i.stringValue)===rA}function To(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ur(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=To(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=To(t.arrayValue.values[n]);return e}return{...t}}function s4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===i4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.value=e}static empty(){return new Ct({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Iu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=To(n)}setAll(e){let n=lt.emptyPath(),i={},r=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,i,r),i={},r=[],n=l.popLast()}a?i[l.lastSegment()]=To(a):r.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(e){const n=this.field(e.popLast());Iu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Cn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];Iu(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){ur(n,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new Ct(To(this.value))}}function sA(t){const e=[];return ur(t.fields,(n,i)=>{const r=new lt([n]);if(Iu(i)){const s=sA(i.mapValue).fields;if(s.length===0)e.push(r);else for(const a of s)e.push(r.child(a))}else e.push(r)}),new Lt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,n,i,r,s,a,l){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=a,this.documentState=l}static newInvalidDocument(e){return new gt(e,0,$.min(),$.min(),$.min(),Ct.empty(),0)}static newFoundDocument(e,n,i,r){return new gt(e,1,n,$.min(),i,r,0)}static newNoDocument(e,n){return new gt(e,2,n,$.min(),$.min(),Ct.empty(),0)}static newUnknownDocument(e,n){return new gt(e,3,n,$.min(),$.min(),Ct.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual($.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ct.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ct.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,n){this.position=e,this.inclusive=n}}function Pv(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const s=e[r],a=t.position[r];if(s.field.isKeyField()?i=G.comparator(G.fromName(a.referenceValue),n.key):i=Js(a,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function Uv(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Cn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e,n="asc"){this.field=e,this.dir=n}}function a4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{}class Fe extends aA{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new l4(e,n,i):n==="array-contains"?new h4(e,i):n==="in"?new f4(e,i):n==="not-in"?new d4(e,i):n==="array-contains-any"?new m4(e,i):new Fe(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new u4(e,i):new c4(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Js(n,this.value)):n!==null&&nr(this.value)===nr(n)&&this.matchesComparison(Js(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Q(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fn extends aA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new fn(e,n)}matches(e){return oA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function oA(t){return t.op==="and"}function lA(t){return o4(t)&&oA(t)}function o4(t){for(const e of t.filters)if(e instanceof fn)return!1;return!0}function Jd(t){if(t instanceof Fe)return t.field.canonicalString()+t.op.toString()+Zs(t.value);if(lA(t))return t.filters.map(e=>Jd(e)).join(",");{const e=t.filters.map(n=>Jd(n)).join(",");return`${t.op}(${e})`}}function uA(t,e){return t instanceof Fe?function(i,r){return r instanceof Fe&&i.op===r.op&&i.field.isEqual(r.field)&&Cn(i.value,r.value)}(t,e):t instanceof fn?function(i,r){return r instanceof fn&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,a,l)=>s&&uA(a,r.filters[l]),!0):!1}(t,e):void Q(19439)}function cA(t){return t instanceof Fe?function(n){return`${n.field.canonicalString()} ${n.op} ${Zs(n.value)}`}(t):t instanceof fn?function(n){return n.op.toString()+" {"+n.getFilters().map(cA).join(" ,")+"}"}(t):"Filter"}class l4 extends Fe{constructor(e,n,i){super(e,n,i),this.key=G.fromName(i.referenceValue)}matches(e){const n=G.comparator(e.key,this.key);return this.matchesComparison(n)}}class u4 extends Fe{constructor(e,n){super(e,"in",n),this.keys=hA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class c4 extends Fe{constructor(e,n){super(e,"not-in",n),this.keys=hA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function hA(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(i=>G.fromName(i.referenceValue))}class h4 extends Fe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Vp(n)&&Ko(n.arrayValue,this.value)}}class f4 extends Fe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ko(this.value.arrayValue,n)}}class d4 extends Fe{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ko(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ko(this.value.arrayValue,n)}}class m4 extends Fe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Vp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Ko(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(e,n=null,i=[],r=[],s=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=a,this.endAt=l,this.Te=null}}function zv(t,e=null,n=[],i=[],r=null,s=null,a=null){return new p4(t,e,n,i,r,s,a)}function jp(t){const e=X(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>Jd(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),rh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Zs(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Zs(i)).join(",")),e.Te=n}return e.Te}function kp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!a4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!uA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Uv(t.startAt,e.startAt)&&Uv(t.endAt,e.endAt)}function Zd(t){return G.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,n=null,i=[],r=[],s=null,a="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=a,this.startAt=l,this.endAt=u,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function g4(t,e,n,i,r,s,a,l){return new Ea(t,e,n,i,r,s,a,l)}function ah(t){return new Ea(t)}function Bv(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function y4(t){return G.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function fA(t){return t.collectionGroup!==null}function bo(t){const e=X(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new Xe(lt.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(l=l.add(c.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Qo(s,i))}),n.has(lt.keyField().canonicalString())||e.Ie.push(new Qo(lt.keyField(),i))}return e.Ie}function An(t){const e=X(t);return e.Ee||(e.Ee=_4(e,bo(t))),e.Ee}function _4(t,e){if(t.limitType==="F")return zv(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new Qo(r.field,s)});const n=t.endAt?new Tc(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Tc(t.startAt.position,t.startAt.inclusive):null;return zv(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function em(t,e){const n=t.filters.concat([e]);return new Ea(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function v4(t,e){const n=t.explicitOrderBy.concat([e]);return new Ea(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function tm(t,e,n){return new Ea(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function oh(t,e){return kp(An(t),An(e))&&t.limitType===e.limitType}function dA(t){return`${jp(An(t))}|lt:${t.limitType}`}function ls(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>cA(r)).join(", ")}]`),rh(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>Zs(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>Zs(r)).join(",")),`Target(${i})`}(An(t))}; limitType=${t.limitType})`}function lh(t,e){return e.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):G.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(t,e)&&function(i,r){for(const s of bo(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(a,l,u){const c=Pv(a,l,u);return a.inclusive?c<=0:c<0}(i.startAt,bo(i),r)||i.endAt&&!function(a,l,u){const c=Pv(a,l,u);return a.inclusive?c>=0:c>0}(i.endAt,bo(i),r))}(t,e)}function E4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function mA(t){return(e,n)=>{let i=!1;for(const r of bo(t)){const s=T4(r,e,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function T4(t,e,n){const i=t.field.isKeyField()?G.comparator(e.key,n.key):function(s,a,l){const u=a.data.field(s),c=l.data.field(s);return u!==null&&c!==null?Js(u,c):Q(42886)}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Q(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){ur(this.inner,(n,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return WS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4=new Ie(G.comparator);function ii(){return b4}const pA=new Ie(G.comparator);function to(...t){let e=pA;for(const n of t)e=e.insert(n.key,n);return e}function gA(t){let e=pA;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Ar(){return So()}function yA(){return So()}function So(){return new Yr(t=>t.toString(),(t,e)=>t.isEqual(e))}const S4=new Ie(G.comparator),A4=new Xe(G.comparator);function ae(...t){let e=A4;for(const n of t)e=e.add(n);return e}const w4=new Xe(se);function x4(){return w4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_c(e)?"-0":e}}function _A(t){return{integerValue:""+t}}function R4(t,e){return WO(e)?_A(e):Lp(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(){this._=void 0}}function C4(t,e,n){return t instanceof Yo?function(r,s){const a={fields:{[eA]:{stringValue:ZS},[nA]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Mp(s)&&(s=sh(s)),s&&(a.fields[tA]=s),{mapValue:a}}(n,e):t instanceof $o?EA(t,e):t instanceof Xo?TA(t,e):function(r,s){const a=vA(r,s),l=qv(a)+qv(r.Ae);return Wd(a)&&Wd(r.Ae)?_A(l):Lp(r.serializer,l)}(t,e)}function N4(t,e,n){return t instanceof $o?EA(t,e):t instanceof Xo?TA(t,e):n}function vA(t,e){return t instanceof bc?function(i){return Wd(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}class Yo extends uh{}class $o extends uh{constructor(e){super(),this.elements=e}}function EA(t,e){const n=bA(e);for(const i of t.elements)n.some(r=>Cn(r,i))||n.push(i);return{arrayValue:{values:n}}}class Xo extends uh{constructor(e){super(),this.elements=e}}function TA(t,e){let n=bA(e);for(const i of t.elements)n=n.filter(r=>!Cn(r,i));return{arrayValue:{values:n}}}class bc extends uh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function qv(t){return Ve(t.integerValue||t.doubleValue)}function bA(t){return Vp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(e,n){this.field=e,this.transform=n}}function D4(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof $o&&r instanceof $o||i instanceof Xo&&r instanceof Xo?Ws(i.elements,r.elements,Cn):i instanceof bc&&r instanceof bc?Cn(i.Ae,r.Ae):i instanceof Yo&&r instanceof Yo}(t.transform,e.transform)}class O4{constructor(e,n){this.version=e,this.transformResults=n}}class un{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new un}static exists(e){return new un(void 0,e)}static updateTime(e){return new un(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Du(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ch{}function SA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Pp(t.key,un.none()):new Tl(t.key,t.data,un.none());{const n=t.data,i=Ct.empty();let r=new Xe(lt.comparator);for(let s of e.fields)if(!r.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?i.delete(s):i.set(s,a),r=r.add(s)}return new cr(t.key,i,new Lt(r.toArray()),un.none())}}function M4(t,e,n){t instanceof Tl?function(r,s,a){const l=r.value.clone(),u=Fv(r.fieldTransforms,s,a.transformResults);l.setAll(u),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof cr?function(r,s,a){if(!Du(r.precondition,s))return void s.convertToUnknownDocument(a.version);const l=Fv(r.fieldTransforms,s,a.transformResults),u=s.data;u.setAll(AA(r)),u.setAll(l),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(t,e,n):function(r,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Ao(t,e,n,i){return t instanceof Tl?function(s,a,l,u){if(!Du(s.precondition,a))return l;const c=s.value.clone(),d=Gv(s.fieldTransforms,u,a);return c.setAll(d),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),null}(t,e,n,i):t instanceof cr?function(s,a,l,u){if(!Du(s.precondition,a))return l;const c=Gv(s.fieldTransforms,u,a),d=a.data;return d.setAll(AA(s)),d.setAll(c),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(t,e,n,i):function(s,a,l){return Du(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function V4(t,e){let n=null;for(const i of t.fieldTransforms){const r=e.data.field(i.field),s=vA(i.transform,r||null);s!=null&&(n===null&&(n=Ct.empty()),n.set(i.field,s))}return n||null}function Hv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Ws(i,r,(s,a)=>D4(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Tl extends ch{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class cr extends ch{constructor(e,n,i,r,s=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function AA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function Fv(t,e,n){const i=new Map;fe(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let r=0;r<n.length;r++){const s=t[r],a=s.transform,l=e.data.field(s.field);i.set(s.field,N4(a,l,n[r]))}return i}function Gv(t,e,n){const i=new Map;for(const r of t){const s=r.transform,a=n.data.field(r.field);i.set(r.field,C4(s,a,e))}return i}class Pp extends ch{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class j4 extends ch{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&M4(s,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Ao(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Ao(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=yA();return this.mutations.forEach(r=>{const s=e.get(r.key),a=s.overlayedDocument;let l=this.applyToLocalView(a,s.mutatedFields);l=n.has(r.key)?null:l;const u=SA(a,l);u!==null&&i.set(r.key,u),a.isValidDocument()||a.convertToNoDocument($.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ae())}isEqual(e){return this.batchId===e.batchId&&Ws(this.mutations,e.mutations,(n,i)=>Hv(n,i))&&Ws(this.baseMutations,e.baseMutations,(n,i)=>Hv(n,i))}}class Up{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){fe(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let r=function(){return S4}();const s=e.mutations;for(let a=0;a<s.length;a++)r=r.insert(s[a].key,i[a].version);return new Up(e,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze,ue;function U4(t){switch(t){case k.OK:return Q(64938);case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0;default:return Q(15467,{code:t})}}function wA(t){if(t===void 0)return ni("GRPC error has no .code"),k.UNKNOWN;switch(t){case ze.OK:return k.OK;case ze.CANCELLED:return k.CANCELLED;case ze.UNKNOWN:return k.UNKNOWN;case ze.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case ze.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case ze.INTERNAL:return k.INTERNAL;case ze.UNAVAILABLE:return k.UNAVAILABLE;case ze.UNAUTHENTICATED:return k.UNAUTHENTICATED;case ze.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case ze.NOT_FOUND:return k.NOT_FOUND;case ze.ALREADY_EXISTS:return k.ALREADY_EXISTS;case ze.PERMISSION_DENIED:return k.PERMISSION_DENIED;case ze.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case ze.ABORTED:return k.ABORTED;case ze.OUT_OF_RANGE:return k.OUT_OF_RANGE;case ze.UNIMPLEMENTED:return k.UNIMPLEMENTED;case ze.DATA_LOSS:return k.DATA_LOSS;default:return Q(39323,{code:t})}}(ue=ze||(ze={}))[ue.OK=0]="OK",ue[ue.CANCELLED=1]="CANCELLED",ue[ue.UNKNOWN=2]="UNKNOWN",ue[ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ue[ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ue[ue.NOT_FOUND=5]="NOT_FOUND",ue[ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",ue[ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",ue[ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",ue[ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ue[ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ue[ue.ABORTED=10]="ABORTED",ue[ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",ue[ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",ue[ue.INTERNAL=13]="INTERNAL",ue[ue.UNAVAILABLE=14]="UNAVAILABLE",ue[ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4=new Fi([4294967295,4294967295],0);function Kv(t){const e=z4().encode(t),n=new zS;return n.update(e),new Uint8Array(n.digest())}function Qv(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Fi([n,i],0),new Fi([r,s],0)]}class zp{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new no(`Invalid padding: ${n}`);if(i<0)throw new no(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new no(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new no(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Fi.fromNumber(this.ge)}ye(e,n,i){let r=e.add(n.multiply(Fi.fromNumber(i)));return r.compare(B4)===1&&(r=new Fi([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Kv(e),[i,r]=Qv(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(i,r,s);if(!this.we(a))return!1}return!0}static create(e,n,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new zp(s,r,n);return i.forEach(l=>a.insert(l)),a}insert(e){if(this.ge===0)return;const n=Kv(e),[i,r]=Qv(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(i,r,s);this.be(a)}}be(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class no extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,n,i,r,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const r=new Map;return r.set(e,bl.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new hh($.min(),r,new Ie(se),ii(),ae())}}class bl{constructor(e,n,i,r,s){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new bl(i,n,ae(),ae(),ae())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,n,i,r){this.Se=e,this.removedTargetIds=n,this.key=i,this.De=r}}class xA{constructor(e,n){this.targetId=e,this.Ce=n}}class RA{constructor(e,n,i=ht.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}}class Yv{constructor(){this.ve=0,this.Fe=$v(),this.Me=ht.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ae(),n=ae(),i=ae();return this.Fe.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:Q(38017,{changeType:s})}}),new bl(this.Me,this.xe,e,n,i)}Ke(){this.Oe=!1,this.Fe=$v()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,fe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class q4{constructor(e){this.Ge=e,this.ze=new Map,this.je=ii(),this.He=su(),this.Je=su(),this.Ze=new Ie(se)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Q(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((i,r)=>{this.rt(r)&&n(r)})}st(e){const n=e.targetId,i=e.Ce.count,r=this.ot(n);if(r){const s=r.target;if(Zd(s))if(i===0){const a=new G(s.path);this.et(n,a,gt.newNoDocument(a,$.min()))}else fe(i===1,20013,{expectedCount:i});else{const a=this._t(n);if(a!==i){const l=this.ut(e),u=l?this.ct(l,e,a):1;if(u!==0){this.it(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n;let a,l;try{a=tr(i).toUint8Array()}catch(u){if(u instanceof JS)return Xs("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new zp(a,r,s)}catch(u){return Xs(u instanceof no?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.ge===0?null:l}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let r=0;return i.forEach(s=>{const a=this.Ge.ht(),l=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.et(n,s,null),r++)}),r}Tt(e){const n=new Map;this.ze.forEach((s,a)=>{const l=this.ot(a);if(l){if(s.current&&Zd(l.target)){const u=new G(l.target.path);this.It(u).has(a)||this.Et(a,u)||this.et(a,u,gt.newNoDocument(u,e))}s.Be&&(n.set(a,s.ke()),s.Ke())}});let i=ae();this.Je.forEach((s,a)=>{let l=!0;a.forEachWhile(u=>{const c=this.ot(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(i=i.add(s))}),this.je.forEach((s,a)=>a.setReadTime(e));const r=new hh(e,n,this.Ze,this.je,i);return this.je=ii(),this.He=su(),this.Je=su(),this.Ze=new Ie(se),r}Ye(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,i),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,n)?r.qe(n,1):r.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new Yv,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Xe(se),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Xe(se),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||H("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Yv),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function su(){return new Ie(G.comparator)}function $v(){return new Ie(G.comparator)}const H4={asc:"ASCENDING",desc:"DESCENDING"},F4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},G4={and:"AND",or:"OR"};class K4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function nm(t,e){return t.useProto3Json||rh(e)?e:{value:e}}function Sc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function CA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Q4(t,e){return Sc(t,e.toTimestamp())}function wn(t){return fe(!!t,49232),$.fromTimestamp(function(n){const i=er(n);return new ye(i.seconds,i.nanos)}(t))}function Bp(t,e){return im(t,e).canonicalString()}function im(t,e){const n=function(r){return new Te(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function NA(t){const e=Te.fromString(t);return fe(VA(e),10190,{key:e.toString()}),e}function rm(t,e){return Bp(t.databaseId,e.path)}function Lf(t,e){const n=NA(e);if(n.get(1)!==t.databaseId.projectId)throw new B(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new B(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new G(DA(n))}function IA(t,e){return Bp(t.databaseId,e)}function Y4(t){const e=NA(t);return e.length===4?Te.emptyPath():DA(e)}function sm(t){return new Te(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function DA(t){return fe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Xv(t,e,n){return{name:rm(t,e),fields:n.value.mapValue.fields}}function $4(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Q(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(fe(d===void 0||typeof d=="string",58123),ht.fromBase64String(d||"")):(fe(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),ht.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(c){const d=c.code===void 0?k.UNKNOWN:wA(c.code);return new B(d,c.message||"")}(a);n=new RA(i,r,s,l||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=Lf(t,i.document.name),s=wn(i.document.updateTime),a=i.document.createTime?wn(i.document.createTime):$.min(),l=new Ct({mapValue:{fields:i.document.fields}}),u=gt.newFoundDocument(r,s,a,l),c=i.targetIds||[],d=i.removedTargetIds||[];n=new Ou(c,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=Lf(t,i.document),s=i.readTime?wn(i.readTime):$.min(),a=gt.newNoDocument(r,s),l=i.removedTargetIds||[];n=new Ou([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=Lf(t,i.document),s=i.removedTargetIds||[];n=new Ou([],s,r,null)}else{if(!("filter"in e))return Q(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,a=new P4(r,s),l=i.targetId;n=new xA(l,a)}}return n}function X4(t,e){let n;if(e instanceof Tl)n={update:Xv(t,e.key,e.value)};else if(e instanceof Pp)n={delete:rm(t,e.key)};else if(e instanceof cr)n={update:Xv(t,e.key,e.data),updateMask:sM(e.fieldMask)};else{if(!(e instanceof j4))return Q(16599,{dt:e.type});n={verify:rm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(s,a){const l=a.transform;if(l instanceof Yo)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof $o)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Xo)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof bc)return{fieldPath:a.field.canonicalString(),increment:l.Ae};throw Q(20930,{transform:a.transform})}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:Q4(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Q(27497)}(t,e.precondition)),n}function W4(t,e){return t&&t.length>0?(fe(e!==void 0,14353),t.map(n=>function(r,s){let a=r.updateTime?wn(r.updateTime):wn(s);return a.isEqual($.min())&&(a=wn(s)),new O4(a,r.transformResults||[])}(n,e))):[]}function J4(t,e){return{documents:[IA(t,e.path)]}}function Z4(t,e){const n={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=IA(t,r);const s=function(c){if(c.length!==0)return MA(fn.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(c){if(c.length!==0)return c.map(d=>function(p){return{field:us(p.field),direction:nM(p.dir)}}(d))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=nm(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:r}}function eM(t){let e=Y4(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){fe(i===1,65062);const d=n.from[0];d.allDescendants?r=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(g){const p=OA(g);return p instanceof fn&&lA(p)?p.getFilters():[p]}(n.where));let a=[];n.orderBy&&(a=function(g){return g.map(p=>function(C){return new Qo(cs(C.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(p))}(n.orderBy));let l=null;n.limit&&(l=function(g){let p;return p=typeof g=="object"?g.value:g,rh(p)?null:p}(n.limit));let u=null;n.startAt&&(u=function(g){const p=!!g.before,_=g.values||[];return new Tc(_,p)}(n.startAt));let c=null;return n.endAt&&(c=function(g){const p=!g.before,_=g.values||[];return new Tc(_,p)}(n.endAt)),g4(e,r,a,s,l,"F",u,c)}function tM(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q(28987,{purpose:r})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function OA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=cs(n.unaryFilter.field);return Fe.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=cs(n.unaryFilter.field);return Fe.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=cs(n.unaryFilter.field);return Fe.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=cs(n.unaryFilter.field);return Fe.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Q(61313);default:return Q(60726)}}(t):t.fieldFilter!==void 0?function(n){return Fe.create(cs(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Q(58110);default:return Q(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return fn.create(n.compositeFilter.filters.map(i=>OA(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Q(1026)}}(n.compositeFilter.op))}(t):Q(30097,{filter:t})}function nM(t){return H4[t]}function iM(t){return F4[t]}function rM(t){return G4[t]}function us(t){return{fieldPath:t.canonicalString()}}function cs(t){return lt.fromServerFormat(t.fieldPath)}function MA(t){return t instanceof Fe?function(n){if(n.op==="=="){if(Lv(n.value))return{unaryFilter:{field:us(n.field),op:"IS_NAN"}};if(kv(n.value))return{unaryFilter:{field:us(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Lv(n.value))return{unaryFilter:{field:us(n.field),op:"IS_NOT_NAN"}};if(kv(n.value))return{unaryFilter:{field:us(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:us(n.field),op:iM(n.op),value:n.value}}}(t):t instanceof fn?function(n){const i=n.getFilters().map(r=>MA(r));return i.length===1?i[0]:{compositeFilter:{op:rM(n.op),filters:i}}}(t):Q(54877,{filter:t})}function sM(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function VA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function jA(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e,n,i,r,s=$.min(),a=$.min(),l=ht.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new Ii(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ii(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ii(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ii(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e){this.yt=e}}function oM(t){const e=eM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?tm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(){this.Sn=new uM}addToCollectionParentIndex(e,n){return this.Sn.add(n),P.resolve()}getCollectionParents(e,n){return P.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return P.resolve()}deleteFieldIndex(e,n){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,n){return P.resolve()}getDocumentsMatchingTarget(e,n){return P.resolve(null)}getIndexType(e,n){return P.resolve(0)}getFieldIndexes(e,n){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,n){return P.resolve(Zi.min())}getMinOffsetFromCollectionGroup(e,n){return P.resolve(Zi.min())}updateCollectionGroup(e,n,i){return P.resolve()}updateIndexEntries(e,n){return P.resolve()}}class uM{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new Xe(Te.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Xe(Te.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kA=41943040;class Rt{static withCacheSize(e){return new Rt(e,Rt.DEFAULT_COLLECTION_PERCENTILE,Rt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rt.DEFAULT_COLLECTION_PERCENTILE=10,Rt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rt.DEFAULT=new Rt(kA,Rt.DEFAULT_COLLECTION_PERCENTILE,Rt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rt.DISABLED=new Rt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new ea(0)}static ar(){return new ea(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv="LruGarbageCollector",cM=1048576;function Zv([t,e],[n,i]){const r=se(t,n);return r===0?se(e,i):r}class hM{constructor(e){this.Pr=e,this.buffer=new Xe(Zv),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();Zv(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class fM{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){H(Jv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){va(n)?H(Jv,"Ignoring IndexedDB error during garbage collection: ",n):await _a(n)}await this.Ar(3e5)})}}class dM{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return P.resolve(ih.ce);const i=new hM(n);return this.Vr.forEachTarget(e,r=>i.Er(r.sequenceNumber)).next(()=>this.Vr.mr(e,r=>i.Er(r))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.Vr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(H("LruGarbageCollector","Garbage collection skipped; disabled"),P.resolve(Wv)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(H("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Wv):this.gr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let i,r,s,a,l,u,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(H("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),r=this.params.maximumSequenceNumbersToCollect):r=g,a=Date.now(),this.nthSequenceNumber(e,r))).next(g=>(i=g,l=Date.now(),this.removeTargets(e,i,n))).next(g=>(s=g,u=Date.now(),this.removeOrphanedDocuments(e,i))).next(g=>(c=Date.now(),os()<=re.DEBUG&&H("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${r} in `+(l-a)+`ms
	Removed ${s} targets in `+(u-l)+`ms
	Removed ${g} documents in `+(c-u)+`ms
Total Duration: ${c-d}ms`),P.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:g})))}}function mM(t,e){return new dM(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(){this.changes=new Yr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,gt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?P.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&Ao(i.mutation,r,Lt.empty(),ye.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,ae()).next(()=>i))}getLocalViewOfDocuments(e,n,i=ae()){const r=Ar();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(s=>{let a=to();return s.forEach((l,u)=>{a=a.insert(l,u.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const i=Ar();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,ae()))}populateOverlays(e,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,i,r){let s=ii();const a=So(),l=function(){return So()}();return n.forEach((u,c)=>{const d=i.get(c.key);r.has(c.key)&&(d===void 0||d.mutation instanceof cr)?s=s.insert(c.key,c):d!==void 0?(a.set(c.key,d.mutation.getFieldMask()),Ao(d.mutation,c,d.mutation.getFieldMask(),ye.now())):a.set(c.key,Lt.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,d)=>a.set(c,d)),n.forEach((c,d)=>l.set(c,new gM(d,a.get(c)??null))),l))}recalculateAndSaveOverlays(e,n){const i=So();let r=new Ie((a,l)=>a-l),s=ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let d=i.get(u)||Lt.empty();d=l.applyToLocalView(c,d),i.set(u,d);const g=(r.get(l.batchId)||ae()).add(u);r=r.insert(l.batchId,g)})}).next(()=>{const a=[],l=r.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),c=u.key,d=u.value,g=yA();d.forEach(p=>{if(!s.has(p)){const _=SA(n.get(p),i.get(p));_!==null&&g.set(p,_),s=s.add(p)}}),a.push(this.documentOverlayCache.saveOverlays(e,c,g))}return P.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return y4(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):fA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(s=>{const a=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-s.size):P.resolve(Ar());let l=Ho,u=s;return a.next(c=>P.forEach(c,(d,g)=>(l<g.largestBatchId&&(l=g.largestBatchId),s.get(d)?P.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{u=u.insert(d,p)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,ae())).next(d=>({batchId:l,changes:gA(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new G(n)).next(i=>{let r=to();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){const s=n.collectionGroup;let a=to();return this.indexManager.getCollectionParents(e,s).next(l=>P.forEach(l,u=>{const c=function(g,p){return new Ea(p,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,i,r).next(d=>{d.forEach((g,p)=>{a=a.insert(g,p)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,s,r))).next(a=>{s.forEach((u,c)=>{const d=c.getKey();a.get(d)===null&&(a=a.insert(d,gt.newInvalidDocument(d)))});let l=to();return a.forEach((u,c)=>{const d=s.get(u);d!==void 0&&Ao(d.mutation,c,Lt.empty(),ye.now()),lh(n,c)&&(l=l.insert(u,c))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return P.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:wn(r.createTime)}}(n)),P.resolve()}getNamedQuery(e,n){return P.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,function(r){return{name:r.name,query:oM(r.bundledQuery),readTime:wn(r.readTime)}}(n)),P.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(){this.overlays=new Ie(G.comparator),this.Lr=new Map}getOverlay(e,n){return P.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Ar();return P.forEach(n,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,s)=>{this.bt(e,n,s)}),P.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.Lr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Lr.delete(i)),P.resolve()}getOverlaysForCollection(e,n,i){const r=Ar(),s=n.length+1,a=new G(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const u=l.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>i&&r.set(u.getKey(),u)}return P.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let s=new Ie((c,d)=>c-d);const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>i){let d=s.get(c.largestBatchId);d===null&&(d=Ar(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const l=Ar(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>l.set(c,d)),!(l.size()>=r)););return P.resolve(l)}bt(e,n,i){const r=this.overlays.get(i.key);if(r!==null){const a=this.Lr.get(r.largestBatchId).delete(i.key);this.Lr.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new L4(n,i));let s=this.Lr.get(n);s===void 0&&(s=ae(),this.Lr.set(n,s)),this.Lr.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(){this.sessionToken=ht.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,P.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(){this.kr=new Xe(et.Kr),this.qr=new Xe(et.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const i=new et(e,n);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Wr(new et(e,n))}Qr(e,n){e.forEach(i=>this.removeReference(i,n))}Gr(e){const n=new G(new Te([])),i=new et(n,e),r=new et(n,e+1),s=[];return this.qr.forEachInRange([i,r],a=>{this.Wr(a),s.push(a.key)}),s}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new G(new Te([])),i=new et(n,e),r=new et(n,e+1);let s=ae();return this.qr.forEachInRange([i,r],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new et(e,0),i=this.kr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class et{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return G.comparator(e.key,n.key)||se(e.Hr,n.Hr)}static Ur(e,n){return se(e.Hr,n.Hr)||G.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Xe(et.Kr)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){const s=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new k4(s,n,i,r);this.mutationQueue.push(a);for(const l of r)this.Jr=this.Jr.add(new et(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return P.resolve(a)}lookupMutationBatch(e,n){return P.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=this.Xr(i),s=r<0?0:r;return P.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?Op:this.Yn-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new et(n,0),r=new et(n,Number.POSITIVE_INFINITY),s=[];return this.Jr.forEachInRange([i,r],a=>{const l=this.Zr(a.Hr);s.push(l)}),P.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Xe(se);return n.forEach(r=>{const s=new et(r,0),a=new et(r,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([s,a],l=>{i=i.add(l.Hr)})}),P.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let s=i;G.isDocumentKey(s)||(s=s.child(""));const a=new et(new G(s),0);let l=new Xe(se);return this.Jr.forEachWhile(u=>{const c=u.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(l=l.add(u.Hr)),!0)},a),P.resolve(this.Yr(l))}Yr(e){const n=[];return e.forEach(i=>{const r=this.Zr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){fe(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return P.forEach(n.mutations,r=>{const s=new et(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Jr=i})}nr(e){}containsKey(e,n){const i=new et(n,0),r=this.Jr.firstAfterOrEqual(i);return P.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e){this.ti=e,this.docs=function(){return new Ie(G.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,a=this.ti(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return P.resolve(i?i.document.mutableCopy():gt.newInvalidDocument(n))}getEntries(e,n){let i=ii();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():gt.newInvalidDocument(r))}),P.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let s=ii();const a=n.path,l=new G(a.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||QO(KO(d),i)<=0||(r.has(d.key)||lh(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return P.resolve(s)}getAllFromCollectionGroup(e,n,i,r){Q(9500)}ni(e,n){return P.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new SM(this)}getSize(e){return P.resolve(this.size)}}class SM extends pM{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.Mr.addEntry(e,r)):this.Mr.removeEntry(i)}),P.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(e){this.persistence=e,this.ri=new Yr(n=>jp(n),kp),this.lastRemoteSnapshotVersion=$.min(),this.highestTargetId=0,this.ii=0,this.si=new qp,this.targetCount=0,this.oi=ea._r()}forEachTarget(e,n){return this.ri.forEach((i,r)=>n(r)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ii&&(this.ii=n),P.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new ea(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,P.resolve()}updateTargetData(e,n){return this.lr(n),P.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,n,i){let r=0;const s=[];return this.ri.forEach((a,l)=>{l.sequenceNumber<=n&&i.get(l.targetId)===null&&(this.ri.delete(a),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),r++)}),P.waitFor(s).next(()=>r)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,n){const i=this.ri.get(n)||null;return P.resolve(i)}addMatchingKeys(e,n,i){return this.si.$r(n,i),P.resolve()}removeMatchingKeys(e,n,i){this.si.Qr(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(a=>{s.push(r.markPotentiallyOrphaned(e,a))}),P.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),P.resolve()}getMatchingKeysForTargetId(e,n){const i=this.si.jr(n);return P.resolve(i)}containsKey(e,n){return P.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e,n){this._i={},this.overlays={},this.ai=new ih(0),this.ui=!1,this.ui=!0,this.ci=new EM,this.referenceDelegate=e(this),this.li=new AM(this),this.indexManager=new lM,this.remoteDocumentCache=function(r){return new bM(r)}(i=>this.referenceDelegate.hi(i)),this.serializer=new aM(n),this.Pi=new _M(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new vM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this._i[e.toKey()];return i||(i=new TM(n,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,i){H("MemoryPersistence","Starting transaction:",e);const r=new wM(this.ai.next());return this.referenceDelegate.Ti(),i(r).next(s=>this.referenceDelegate.Ii(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ei(e,n){return P.or(Object.values(this._i).map(i=>()=>i.containsKey(e,n)))}}class wM extends $O{constructor(e){super(),this.currentSequenceNumber=e}}class Hp{constructor(e){this.persistence=e,this.Ri=new qp,this.Ai=null}static Vi(e){return new Hp(e)}get di(){if(this.Ai)return this.Ai;throw Q(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.di.delete(i.toString()),P.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.di.add(i.toString()),P.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),P.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach(r=>this.di.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(s=>this.di.add(s.toString()))}).next(()=>i.removeTargetData(e,n))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.di,i=>{const r=G.fromPath(i);return this.mi(e,r).next(s=>{s||n.removeEntry(r,$.min())})}).next(()=>(this.Ai=null,n.apply(e)))}updateLimboDocument(e,n){return this.mi(e,n).next(i=>{i?this.di.delete(n.toString()):this.di.add(n.toString())})}hi(e){return 0}mi(e,n){return P.or([()=>P.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Ac{constructor(e,n){this.persistence=e,this.fi=new Yr(i=>JO(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=mM(this,n)}static Vi(e,n){return new Ac(e,n)}Ti(){}Ii(e){return P.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(r=>i+r))}pr(e){let n=0;return this.mr(e,i=>{n++}).next(()=>n)}mr(e,n){return P.forEach(this.fi,(i,r)=>this.wr(e,i,r).next(s=>s?P.resolve():n(r)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.ni(e,a=>this.wr(e,a,n).next(l=>{l||(i++,s.removeEntry(a,$.min()))})).next(()=>s.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),P.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),P.resolve()}removeReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),P.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),P.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Nu(e.data.value)),n}wr(e,n,i){return P.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const r=this.fi.get(n);return P.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.Ts=i,this.Is=r}static Es(e,n){let i=ae(),r=ae();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new Fp(e,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return ZN()?8:XO(yt())>0?6:4}()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,r){const s={result:null};return this.gs(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.ps(e,n,r,i).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new xM;return this.ys(e,n,a).next(l=>{if(s.result=l,this.As)return this.ws(e,n,a,l.size)})}).next(()=>s.result)}ws(e,n,i,r){return i.documentReadCount<this.Vs?(os()<=re.DEBUG&&H("QueryEngine","SDK will not create cache indexes for query:",ls(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),P.resolve()):(os()<=re.DEBUG&&H("QueryEngine","Query:",ls(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ds*r?(os()<=re.DEBUG&&H("QueryEngine","The SDK decides to create cache indexes for query:",ls(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,An(n))):P.resolve())}gs(e,n){if(Bv(n))return P.resolve(null);let i=An(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=tm(n,null,"F"),i=An(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const a=ae(...s);return this.fs.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,i).next(u=>{const c=this.bs(n,l);return this.Ss(n,c,a,u.readTime)?this.gs(e,tm(n,null,"F")):this.Ds(e,c,n,u)}))})))}ps(e,n,i,r){return Bv(n)||r.isEqual($.min())?P.resolve(null):this.fs.getDocuments(e,i).next(s=>{const a=this.bs(n,s);return this.Ss(n,a,i,r)?P.resolve(null):(os()<=re.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ls(n)),this.Ds(e,a,n,GO(r,Ho)).next(l=>l))})}bs(e,n){let i=new Xe(mA(e));return n.forEach((r,s)=>{lh(e,s)&&(i=i.add(s))}),i}Ss(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}ys(e,n,i){return os()<=re.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",ls(n)),this.fs.getDocumentsMatchingQuery(e,n,Zi.min(),i)}Ds(e,n,i,r){return this.fs.getDocumentsMatchingQuery(e,i,r).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp="LocalStore",CM=3e8;class NM{constructor(e,n,i,r){this.persistence=e,this.Cs=n,this.serializer=r,this.vs=new Ie(se),this.Fs=new Yr(s=>jp(s),kp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yM(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.vs))}}function IM(t,e,n,i){return new NM(t,e,n,i)}async function PA(t,e){const n=X(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.Os(e),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const a=[],l=[];let u=ae();for(const c of r){a.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of s){l.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(i,u).next(c=>({Ns:c,removedBatchIds:a,addedBatchIds:l}))})})}function DM(t,e){const n=X(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=n.xs.newChangeBuffer({trackRemovals:!0});return function(l,u,c,d){const g=c.batch,p=g.keys();let _=P.resolve();return p.forEach(C=>{_=_.next(()=>d.getEntry(u,C)).next(D=>{const I=c.docVersions.get(C);fe(I!==null,48541),D.version.compareTo(I)<0&&(g.applyToRemoteDocument(D,c),D.isValidDocument()&&(D.setReadTime(c.commitVersion),d.addEntry(D)))})}),_.next(()=>l.mutationQueue.removeMutationBatch(u,g))}(n,i,e,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let u=ae();for(let c=0;c<l.mutationResults.length;++c)l.mutationResults[c].transformResults.length>0&&(u=u.add(l.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function UA(t){const e=X(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.li.getLastRemoteSnapshotVersion(n))}function OM(t,e){const n=X(t),i=e.snapshotVersion;let r=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.xs.newChangeBuffer({trackRemovals:!0});r=n.vs;const l=[];e.targetChanges.forEach((d,g)=>{const p=r.get(g);if(!p)return;l.push(n.li.removeMatchingKeys(s,d.removedDocuments,g).next(()=>n.li.addMatchingKeys(s,d.addedDocuments,g)));let _=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?_=_.withResumeToken(ht.EMPTY_BYTE_STRING,$.min()).withLastLimboFreeSnapshotVersion($.min()):d.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(d.resumeToken,i)),r=r.insert(g,_),function(D,I,T){return D.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=CM?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(p,_,d)&&l.push(n.li.updateTargetData(s,_))});let u=ii(),c=ae();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),l.push(MM(s,a,e.documentUpdates).next(d=>{u=d.Bs,c=d.Ls})),!i.isEqual($.min())){const d=n.li.getLastRemoteSnapshotVersion(s).next(g=>n.li.setTargetsMetadata(s,s.currentSequenceNumber,i));l.push(d)}return P.waitFor(l).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.vs=r,s))}function MM(t,e,n){let i=ae(),r=ae();return n.forEach(s=>i=i.add(s)),e.getEntries(t,i).next(s=>{let a=ii();return n.forEach((l,u)=>{const c=s.get(l);u.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(l)),u.isNoDocument()&&u.version.isEqual($.min())?(e.removeEntry(l,u.readTime),a=a.insert(l,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),a=a.insert(l,u)):H(Gp,"Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",u.version)}),{Bs:a,Ls:r}})}function VM(t,e){const n=X(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Op),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function jM(t,e){const n=X(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.li.getTargetData(i,e).next(s=>s?(r=s,P.resolve(r)):n.li.allocateTargetId(i).next(a=>(r=new Ii(e,a,"TargetPurposeListen",i.currentSequenceNumber),n.li.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.vs.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.vs=n.vs.insert(i.targetId,i),n.Fs.set(e,i.targetId)),i})}async function am(t,e,n){const i=X(t),r=i.vs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,a=>i.persistence.referenceDelegate.removeTarget(a,r))}catch(a){if(!va(a))throw a;H(Gp,`Failed to update sequence numbers for target ${e}: ${a}`)}i.vs=i.vs.remove(e),i.Fs.delete(r.target)}function eE(t,e,n){const i=X(t);let r=$.min(),s=ae();return i.persistence.runTransaction("Execute query","readwrite",a=>function(u,c,d){const g=X(u),p=g.Fs.get(d);return p!==void 0?P.resolve(g.vs.get(p)):g.li.getTargetData(c,d)}(i,a,An(e)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(a,l.targetId).next(u=>{s=u})}).next(()=>i.Cs.getDocumentsMatchingQuery(a,e,n?r:$.min(),n?s:ae())).next(l=>(kM(i,E4(e),l),{documents:l,ks:s})))}function kM(t,e,n){let i=t.Ms.get(e)||$.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),t.Ms.set(e,i)}class tE{constructor(){this.activeTargetIds=x4()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class LM{constructor(){this.vo=new tE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,i){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new tE,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="ConnectivityMonitor";class iE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){H(nE,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){H(nE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let au=null;function om(){return au===null?au=function(){return 268435456+Math.round(2147483648*Math.random())}():au++,"0x"+au.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pf="RestConnection",UM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class zM{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${i}/databases/${r}`,this.$o=this.databaseId.database===vc?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Wo(e,n,i,r,s){const a=om(),l=this.Qo(e,n.toUriEncodedString());H(Pf,`Sending RPC '${e}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(u,r,s);const{host:c}=new URL(l),d=da(c);return this.zo(e,l,u,i,d).then(g=>(H(Pf,`Received RPC '${e}' ${a}: `,g),g),g=>{throw Xs(Pf,`RPC '${e}' ${a} failed with error: `,g,"url: ",l,"request:",i),g})}jo(e,n,i,r,s,a){return this.Wo(e,n,i,r,s)}Go(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ya}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}Qo(e,n){const i=UM[e];let r=`${this.qo}/v1/${n}:${i}`;return this.databaseInfo.apiKey&&(r=`${r}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),r}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mt="WebChannelConnection",Ka=(t,e,n)=>{t.listen(e,i=>{try{n(i)}catch(r){setTimeout(()=>{throw r},0)}})};class Vs extends zM{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Vs.c_){const e=FS();Ka(e,HS.STAT_EVENT,n=>{n.stat===Yd.PROXY?H(mt,"STAT_EVENT: detected buffering proxy"):n.stat===Yd.NOPROXY&&H(mt,"STAT_EVENT: detected no buffering proxy")}),Vs.c_=!0}}zo(e,n,i,r,s){const a=om();return new Promise((l,u)=>{const c=new BS;c.setWithCredentials(!0),c.listenOnce(qS.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Cu.NO_ERROR:const g=c.getResponseJson();H(mt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(g)),l(g);break;case Cu.TIMEOUT:H(mt,`RPC '${e}' ${a} timed out`),u(new B(k.DEADLINE_EXCEEDED,"Request time out"));break;case Cu.HTTP_ERROR:const p=c.getStatus();if(H(mt,`RPC '${e}' ${a} failed with status:`,p,"response text:",c.getResponseText()),p>0){let _=c.getResponseJson();Array.isArray(_)&&(_=_[0]);const C=_==null?void 0:_.error;if(C&&C.status&&C.message){const D=function(T){const v=T.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(v)>=0?v:k.UNKNOWN}(C.status);u(new B(D,C.message))}else u(new B(k.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new B(k.UNAVAILABLE,"Connection failed."));break;default:Q(9055,{l_:e,streamId:a,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{H(mt,`RPC '${e}' ${a} completed.`)}});const d=JSON.stringify(r);H(mt,`RPC '${e}' ${a} sending request:`,r),c.send(n,"POST",d,i,15)})}T_(e,n,i){const r=om(),s=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=this.createWebChannelTransport(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Go(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;const c=s.join("");H(mt,`Creating RPC '${e}' stream ${r}: ${c}`,l);const d=a.createWebChannel(c,l);this.I_(d);let g=!1,p=!1;const _=new BM({Ho:C=>{p?H(mt,`Not sending because RPC '${e}' stream ${r} is closed:`,C):(g||(H(mt,`Opening RPC '${e}' stream ${r} transport.`),d.open(),g=!0),H(mt,`RPC '${e}' stream ${r} sending:`,C),d.send(C))},Jo:()=>d.close()});return Ka(d,eo.EventType.OPEN,()=>{p||(H(mt,`RPC '${e}' stream ${r} transport opened.`),_.i_())}),Ka(d,eo.EventType.CLOSE,()=>{p||(p=!0,H(mt,`RPC '${e}' stream ${r} transport closed`),_.o_(),this.E_(d))}),Ka(d,eo.EventType.ERROR,C=>{p||(p=!0,Xs(mt,`RPC '${e}' stream ${r} transport errored. Name:`,C.name,"Message:",C.message),_.o_(new B(k.UNAVAILABLE,"The operation could not be completed")))}),Ka(d,eo.EventType.MESSAGE,C=>{var D;if(!p){const I=C.data[0];fe(!!I,16349);const T=I,v=(T==null?void 0:T.error)||((D=T[0])==null?void 0:D.error);if(v){H(mt,`RPC '${e}' stream ${r} received error:`,v);const A=v.status;let V=function(b){const E=ze[b];if(E!==void 0)return wA(E)}(A),U=v.message;V===void 0&&(V=k.INTERNAL,U="Unknown error status: "+A+" with message "+v.message),p=!0,_.o_(new B(V,U)),d.close()}else H(mt,`RPC '${e}' stream ${r} received:`,I),_.__(I)}}),Vs.u_(),setTimeout(()=>{_.s_()},0),_}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(n=>n===e)}Go(e,n,i){super.Go(e,n,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return GS()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qM(t){return new Vs(t)}function Uf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fh(t){return new K4(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vs.c_=!1;class zA{constructor(e,n,i=1e3,r=1.5,s=6e4){this.Ci=e,this.timerId=n,this.R_=i,this.A_=r,this.V_=s,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,n-i);r>0&&H("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="PersistentStream";class BA{constructor(e,n,i,r,s,a,l,u){this.Ci=e,this.b_=i,this.S_=r,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new zA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===k.RESOURCE_EXHAUSTED?(ni(n.toString()),ni("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.D_===n&&this.G_(i,r)},i=>{e(()=>{const r=new B(k.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(r)})})}G_(e,n){const i=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo(()=>{i(()=>this.listener.Zo())}),this.stream.Yo(()=>{i(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(r=>{i(()=>this.z_(r))}),this.stream.onMessage(r=>{i(()=>++this.F_==1?this.H_(r):this.onNext(r))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return H(rE,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget(()=>this.D_===e?n():(H(rE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class HM extends BA{constructor(e,n,i,r,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,a),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=$4(this.serializer,e),i=function(s){if(!("targetChange"in s))return $.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?$.min():a.readTime?wn(a.readTime):$.min()}(e);return this.listener.J_(n,i)}Z_(e){const n={};n.database=sm(this.serializer),n.addTarget=function(s,a){let l;const u=a.target;if(l=Zd(u)?{documents:J4(s,u)}:{query:Z4(s,u).ft},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=CA(s,a.resumeToken);const c=nm(s,a.expectedCount);c!==null&&(l.expectedCount=c)}else if(a.snapshotVersion.compareTo($.min())>0){l.readTime=Sc(s,a.snapshotVersion.toTimestamp());const c=nm(s,a.expectedCount);c!==null&&(l.expectedCount=c)}return l}(this.serializer,e);const i=tM(this.serializer,e);i&&(n.labels=i),this.K_(n)}X_(e){const n={};n.database=sm(this.serializer),n.removeTarget=e,this.K_(n)}}class FM extends BA{constructor(e,n,i,r,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,a),this.serializer=s}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=W4(e.writeResults,e.commitTime),i=wn(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=sm(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>X4(this.serializer,i))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{}class KM extends GM{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new B(k.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Wo(e,im(n,i),r,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new B(k.UNKNOWN,s.toString())})}jo(e,n,i,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.jo(e,im(n,i),r,a,l,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new B(k.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function QM(t,e,n,i){return new KM(t,e,n,i)}class YM{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ni(n),this.aa=!1):H("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zr="RemoteStore";class $M{constructor(e,n,i,r,s){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=s,this.Aa.Mo(a=>{i.enqueueAndForget(async()=>{$r(this)&&(H(zr,"Restarting streams for network reachability change."),await async function(u){const c=X(u);c.Ea.add(4),await Sl(c),c.Va.set("Unknown"),c.Ea.delete(4),await dh(c)}(this))})}),this.Va=new YM(i,r)}}async function dh(t){if($r(t))for(const e of t.Ra)await e(!0)}async function Sl(t){for(const e of t.Ra)await e(!1)}function qA(t,e){const n=X(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),$p(n)?Yp(n):Ta(n).O_()&&Qp(n,e))}function Kp(t,e){const n=X(t),i=Ta(n);n.Ia.delete(e),i.O_()&&HA(n,e),n.Ia.size===0&&(i.O_()?i.L_():$r(n)&&n.Va.set("Unknown"))}function Qp(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo($.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ta(t).Z_(e)}function HA(t,e){t.da.$e(e),Ta(t).X_(e)}function Yp(t){t.da=new q4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ta(t).start(),t.Va.ua()}function $p(t){return $r(t)&&!Ta(t).x_()&&t.Ia.size>0}function $r(t){return X(t).Ea.size===0}function FA(t){t.da=void 0}async function XM(t){t.Va.set("Online")}async function WM(t){t.Ia.forEach((e,n)=>{Qp(t,e)})}async function JM(t,e){FA(t),$p(t)?(t.Va.ha(e),Yp(t)):t.Va.set("Unknown")}async function ZM(t,e,n){if(t.Va.set("Online"),e instanceof RA&&e.state===2&&e.cause)try{await async function(r,s){const a=s.cause;for(const l of s.targetIds)r.Ia.has(l)&&(await r.remoteSyncer.rejectListen(l,a),r.Ia.delete(l),r.da.removeTarget(l))}(t,e)}catch(i){H(zr,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await wc(t,i)}else if(e instanceof Ou?t.da.Xe(e):e instanceof xA?t.da.st(e):t.da.tt(e),!n.isEqual($.min()))try{const i=await UA(t.localStore);n.compareTo(i)>=0&&await function(s,a){const l=s.da.Tt(a);return l.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=s.Ia.get(c);d&&s.Ia.set(c,d.withResumeToken(u.resumeToken,a))}}),l.targetMismatches.forEach((u,c)=>{const d=s.Ia.get(u);if(!d)return;s.Ia.set(u,d.withResumeToken(ht.EMPTY_BYTE_STRING,d.snapshotVersion)),HA(s,u);const g=new Ii(d.target,u,c,d.sequenceNumber);Qp(s,g)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(i){H(zr,"Failed to raise snapshot:",i),await wc(t,i)}}async function wc(t,e,n){if(!va(e))throw e;t.Ea.add(1),await Sl(t),t.Va.set("Offline"),n||(n=()=>UA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{H(zr,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await dh(t)})}function GA(t,e){return e().catch(n=>wc(t,n,e))}async function mh(t){const e=X(t),n=ir(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Op;for(;eV(e);)try{const r=await VM(e.localStore,i);if(r===null){e.Ta.length===0&&n.L_();break}i=r.batchId,tV(e,r)}catch(r){await wc(e,r)}KA(e)&&QA(e)}function eV(t){return $r(t)&&t.Ta.length<10}function tV(t,e){t.Ta.push(e);const n=ir(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function KA(t){return $r(t)&&!ir(t).x_()&&t.Ta.length>0}function QA(t){ir(t).start()}async function nV(t){ir(t).ra()}async function iV(t){const e=ir(t);for(const n of t.Ta)e.ea(n.mutations)}async function rV(t,e,n){const i=t.Ta.shift(),r=Up.from(i,e,n);await GA(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await mh(t)}async function sV(t,e){e&&ir(t).Y_&&await async function(i,r){if(function(a){return U4(a)&&a!==k.ABORTED}(r.code)){const s=i.Ta.shift();ir(i).B_(),await GA(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await mh(i)}}(t,e),KA(t)&&QA(t)}async function sE(t,e){const n=X(t);n.asyncQueue.verifyOperationInProgress(),H(zr,"RemoteStore received new credentials");const i=$r(n);n.Ea.add(3),await Sl(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await dh(n)}async function aV(t,e){const n=X(t);e?(n.Ea.delete(2),await dh(n)):e||(n.Ea.add(2),await Sl(n),n.Va.set("Unknown"))}function Ta(t){return t.ma||(t.ma=function(n,i,r){const s=X(n);return s.sa(),new HM(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Zo:XM.bind(null,t),Yo:WM.bind(null,t),t_:JM.bind(null,t),J_:ZM.bind(null,t)}),t.Ra.push(async e=>{e?(t.ma.B_(),$p(t)?Yp(t):t.Va.set("Unknown")):(await t.ma.stop(),FA(t))})),t.ma}function ir(t){return t.fa||(t.fa=function(n,i,r){const s=X(n);return s.sa(),new FM(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:nV.bind(null,t),t_:sV.bind(null,t),ta:iV.bind(null,t),na:rV.bind(null,t)}),t.Ra.push(async e=>{e?(t.fa.B_(),await mh(t)):(await t.fa.stop(),t.Ta.length>0&&(H(zr,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e,n,i,r,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Gi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,s){const a=Date.now()+i,l=new Xp(e,n,a,r,s);return l.start(i),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new B(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wp(t,e){if(ni("AsyncQueue",`${e}: ${t}`),va(t))return new B(k.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{static emptySet(e){return new js(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||G.comparator(n.key,i.key):(n,i)=>G.comparator(n.key,i.key),this.keyedMap=to(),this.sortedSet=new Ie(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof js)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new js;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(){this.ga=new Ie(G.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Q(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,i)=>{e.push(i)}),e}}class ta{constructor(e,n,i,r,s,a,l,u,c){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,i,r,s){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new ta(e,n,js.emptySet(n),a,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&oh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}}class lV{constructor(){this.queries=oE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const r=X(n),s=r.queries;r.queries=oE(),s.forEach((a,l)=>{for(const u of l.ba)u.onError(i)})})(this,new B(k.ABORTED,"Firestore shutting down"))}}function oE(){return new Yr(t=>dA(t),oh)}async function YA(t,e){const n=X(t);let i=3;const r=e.query;let s=n.queries.get(r);s?!s.Sa()&&e.Da()&&(i=2):(s=new oV,i=e.Da()?0:1);try{switch(i){case 0:s.wa=await n.onListen(r,!0);break;case 1:s.wa=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(a){const l=Wp(a,`Initialization of query '${ls(e.query)}' failed`);return void e.onError(l)}n.queries.set(r,s),s.ba.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&Jp(n)}async function $A(t,e){const n=X(t),i=e.query;let r=3;const s=n.queries.get(i);if(s){const a=s.ba.indexOf(e);a>=0&&(s.ba.splice(a,1),s.ba.length===0?r=e.Da()?0:1:!s.Sa()&&e.Da()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function uV(t,e){const n=X(t);let i=!1;for(const r of e){const s=r.query,a=n.queries.get(s);if(a){for(const l of a.ba)l.Fa(r)&&(i=!0);a.wa=r}}i&&Jp(n)}function cV(t,e,n){const i=X(t),r=i.queries.get(e);if(r)for(const s of r.ba)s.onError(n);i.queries.delete(e)}function Jp(t){t.Ca.forEach(e=>{e.next()})}var lm,lE;(lE=lm||(lm={})).Ma="default",lE.Cache="cache";class XA{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new ta(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ta.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==lm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e){this.key=e}}class JA{constructor(e){this.key=e}}class hV{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ae(),this.mutatedKeys=ae(),this.eu=mA(e),this.tu=new js(this.eu)}get nu(){return this.Za}ru(e,n){const i=n?n.iu:new aE,r=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,a=r,l=!1;const u=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((d,g)=>{const p=r.get(d),_=lh(this.query,g)?g:null,C=!!p&&this.mutatedKeys.has(p.key),D=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let I=!1;p&&_?p.data.isEqual(_.data)?C!==D&&(i.track({type:3,doc:_}),I=!0):this.su(p,_)||(i.track({type:2,doc:_}),I=!0,(u&&this.eu(_,u)>0||c&&this.eu(_,c)<0)&&(l=!0)):!p&&_?(i.track({type:0,doc:_}),I=!0):p&&!_&&(i.track({type:1,doc:p}),I=!0,(u||c)&&(l=!0)),I&&(_?(a=a.add(_),s=D?s.add(d):s.delete(d)):(a=a.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),s=s.delete(d.key),i.track({type:1,doc:d})}return{tu:a,iu:i,Ss:l,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((d,g)=>function(_,C){const D=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q(20277,{Vt:I})}};return D(_)-D(C)}(d.type,g.type)||this.eu(d.doc,g.doc)),this.ou(i),r=r??!1;const l=n&&!r?this._u():[],u=this.Ya.size===0&&this.current&&!r?1:0,c=u!==this.Xa;return this.Xa=u,a.length!==0||c?{snapshot:new ta(this.query,e.tu,s,a,e.mutatedKeys,u===0,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new aE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Za=this.Za.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Za=this.Za.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=ae(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))});const n=[];return e.forEach(i=>{this.Ya.has(i)||n.push(new JA(i))}),this.Ya.forEach(i=>{e.has(i)||n.push(new WA(i))}),n}cu(e){this.Za=e.ks,this.Ya=ae();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ta.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Zp="SyncEngine";class fV{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class dV{constructor(e){this.key=e,this.hu=!1}}class mV{constructor(e,n,i,r,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Yr(l=>dA(l),oh),this.Iu=new Map,this.Eu=new Set,this.Ru=new Ie(G.comparator),this.Au=new Map,this.Vu=new qp,this.du={},this.mu=new Map,this.fu=ea.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function pV(t,e,n=!0){const i=rw(t);let r;const s=i.Tu.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.lu()):r=await ZA(i,e,n,!0),r}async function gV(t,e){const n=rw(t);await ZA(n,e,!0,!1)}async function ZA(t,e,n,i){const r=await jM(t.localStore,An(e)),s=r.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let l;return i&&(l=await yV(t,e,s,a==="current",r.resumeToken)),t.isPrimaryClient&&n&&qA(t.remoteStore,r),l}async function yV(t,e,n,i,r){t.pu=(g,p,_)=>async function(D,I,T,v){let A=I.view.ru(T);A.Ss&&(A=await eE(D.localStore,I.query,!1).then(({documents:b})=>I.view.ru(b,A)));const V=v&&v.targetChanges.get(I.targetId),U=v&&v.targetMismatches.get(I.targetId)!=null,F=I.view.applyChanges(A,D.isPrimaryClient,V,U);return cE(D,I.targetId,F.au),F.snapshot}(t,g,p,_);const s=await eE(t.localStore,e,!0),a=new hV(e,s.ks),l=a.ru(s.documents),u=bl.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),c=a.applyChanges(l,t.isPrimaryClient,u);cE(t,n,c.au);const d=new fV(e,n,a);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function _V(t,e,n){const i=X(t),r=i.Tu.get(e),s=i.Iu.get(r.targetId);if(s.length>1)return i.Iu.set(r.targetId,s.filter(a=>!oh(a,e))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await am(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&Kp(i.remoteStore,r.targetId),um(i,r.targetId)}).catch(_a)):(um(i,r.targetId),await am(i.localStore,r.targetId,!0))}async function vV(t,e){const n=X(t),i=n.Tu.get(e),r=n.Iu.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Kp(n.remoteStore,i.targetId))}async function EV(t,e,n){const i=RV(t);try{const r=await function(a,l){const u=X(a),c=ye.now(),d=l.reduce((_,C)=>_.add(C.key),ae());let g,p;return u.persistence.runTransaction("Locally write mutations","readwrite",_=>{let C=ii(),D=ae();return u.xs.getEntries(_,d).next(I=>{C=I,C.forEach((T,v)=>{v.isValidDocument()||(D=D.add(T))})}).next(()=>u.localDocuments.getOverlayedDocuments(_,C)).next(I=>{g=I;const T=[];for(const v of l){const A=V4(v,g.get(v.key).overlayedDocument);A!=null&&T.push(new cr(v.key,A,sA(A.value.mapValue),un.exists(!0)))}return u.mutationQueue.addMutationBatch(_,c,T,l)}).next(I=>{p=I;const T=I.applyToLocalDocumentSet(g,D);return u.documentOverlayCache.saveOverlays(_,I.batchId,T)})}).then(()=>({batchId:p.batchId,changes:gA(g)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(a,l,u){let c=a.du[a.currentUser.toKey()];c||(c=new Ie(se)),c=c.insert(l,u),a.du[a.currentUser.toKey()]=c}(i,r.batchId,n),await Al(i,r.changes),await mh(i.remoteStore)}catch(r){const s=Wp(r,"Failed to persist write");n.reject(s)}}async function ew(t,e){const n=X(t);try{const i=await OM(n.localStore,e);e.targetChanges.forEach((r,s)=>{const a=n.Au.get(s);a&&(fe(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?a.hu=!0:r.modifiedDocuments.size>0?fe(a.hu,14607):r.removedDocuments.size>0&&(fe(a.hu,42227),a.hu=!1))}),await Al(n,i,e)}catch(i){await _a(i)}}function uE(t,e,n){const i=X(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.Tu.forEach((s,a)=>{const l=a.view.va(e);l.snapshot&&r.push(l.snapshot)}),function(a,l){const u=X(a);u.onlineState=l;let c=!1;u.queries.forEach((d,g)=>{for(const p of g.ba)p.va(l)&&(c=!0)}),c&&Jp(u)}(i.eventManager,e),r.length&&i.Pu.J_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function TV(t,e,n){const i=X(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.Au.get(e),s=r&&r.key;if(s){let a=new Ie(G.comparator);a=a.insert(s,gt.newNoDocument(s,$.min()));const l=ae().add(s),u=new hh($.min(),new Map,new Ie(se),a,l);await ew(i,u),i.Ru=i.Ru.remove(s),i.Au.delete(e),eg(i)}else await am(i.localStore,e,!1).then(()=>um(i,e,n)).catch(_a)}async function bV(t,e){const n=X(t),i=e.batch.batchId;try{const r=await DM(n.localStore,e);nw(n,i,null),tw(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Al(n,r)}catch(r){await _a(r)}}async function SV(t,e,n){const i=X(t);try{const r=await function(a,l){const u=X(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return u.mutationQueue.lookupMutationBatch(c,l).next(g=>(fe(g!==null,37113),d=g.keys(),u.mutationQueue.removeMutationBatch(c,g))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>u.localDocuments.getDocuments(c,d))})}(i.localStore,e);nw(i,e,n),tw(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Al(i,r)}catch(r){await _a(r)}}function tw(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function nw(t,e,n){const i=X(t);let r=i.du[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.du[i.currentUser.toKey()]=r}}function um(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach(i=>{t.Vu.containsKey(i)||iw(t,i)})}function iw(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(Kp(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),eg(t))}function cE(t,e,n){for(const i of n)i instanceof WA?(t.Vu.addReference(i.key,e),AV(t,i)):i instanceof JA?(H(Zp,"Document no longer in limbo: "+i.key),t.Vu.removeReference(i.key,e),t.Vu.containsKey(i.key)||iw(t,i.key)):Q(19791,{wu:i})}function AV(t,e){const n=e.key,i=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(i)||(H(Zp,"New document in limbo: "+n),t.Eu.add(i),eg(t))}function eg(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new G(Te.fromString(e)),i=t.fu.next();t.Au.set(i,new dV(n)),t.Ru=t.Ru.insert(n,i),qA(t.remoteStore,new Ii(An(ah(n.path)),i,"TargetPurposeLimboResolution",ih.ce))}}async function Al(t,e,n){const i=X(t),r=[],s=[],a=[];i.Tu.isEmpty()||(i.Tu.forEach((l,u)=>{a.push(i.pu(u,e,n).then(c=>{var d;if((c||n)&&i.isPrimaryClient){const g=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:d.current;i.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(c){r.push(c);const g=Fp.Es(u.targetId,c);s.push(g)}}))}),await Promise.all(a),i.Pu.J_(r),await async function(u,c){const d=X(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>P.forEach(c,p=>P.forEach(p.Ts,_=>d.persistence.referenceDelegate.addReference(g,p.targetId,_)).next(()=>P.forEach(p.Is,_=>d.persistence.referenceDelegate.removeReference(g,p.targetId,_)))))}catch(g){if(!va(g))throw g;H(Gp,"Failed to update sequence numbers: "+g)}for(const g of c){const p=g.targetId;if(!g.fromCache){const _=d.vs.get(p),C=_.snapshotVersion,D=_.withLastLimboFreeSnapshotVersion(C);d.vs=d.vs.insert(p,D)}}}(i.localStore,s))}async function wV(t,e){const n=X(t);if(!n.currentUser.isEqual(e)){H(Zp,"User change. New user:",e.toKey());const i=await PA(n.localStore,e);n.currentUser=e,function(s,a){s.mu.forEach(l=>{l.forEach(u=>{u.reject(new B(k.CANCELLED,a))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Al(n,i.Ns)}}function xV(t,e){const n=X(t),i=n.Au.get(e);if(i&&i.hu)return ae().add(i.key);{let r=ae();const s=n.Iu.get(e);if(!s)return r;for(const a of s){const l=n.Tu.get(a);r=r.unionWith(l.view.nu)}return r}}function rw(t){const e=X(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ew.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=TV.bind(null,e),e.Pu.J_=uV.bind(null,e.eventManager),e.Pu.yu=cV.bind(null,e.eventManager),e}function RV(t){const e=X(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=SV.bind(null,e),e}class xc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=fh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return IM(this.persistence,new RM,e.initialUser,this.serializer)}Cu(e){return new LA(Hp.Vi,this.serializer)}Du(e){return new LM}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xc.provider={build:()=>new xc};class CV extends xc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){fe(this.persistence.referenceDelegate instanceof Ac,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new fM(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Rt.withCacheSize(this.cacheSizeBytes):Rt.DEFAULT;return new LA(i=>Ac.Vi(i,n),this.serializer)}}class cm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>uE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=wV.bind(null,this.syncEngine),await aV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new lV}()}createDatastore(e){const n=fh(e.databaseInfo.databaseId),i=qM(e.databaseInfo);return QM(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,s,a,l){return new $M(i,r,s,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>uE(this.syncEngine,n,0),function(){return iE.v()?new iE:new PM}())}createSyncEngine(e,n){return function(r,s,a,l,u,c,d){const g=new mV(r,s,a,l,u,c);return d&&(g.gu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(r){const s=X(r);H(zr,"RemoteStore shutting down."),s.Ea.add(5),await Sl(s),s.Aa.shutdown(),s.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}cm.provider={build:()=>new cm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ni("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr="FirestoreClient";class NV{constructor(e,n,i,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this._databaseInfo=r,this.user=pt.UNAUTHENTICATED,this.clientId=Dp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,async a=>{H(rr,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(i,a=>(H(rr,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Wp(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function zf(t,e){t.asyncQueue.verifyOperationInProgress(),H(rr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async r=>{i.isEqual(r)||(await PA(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function hE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await IV(t);H(rr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>sE(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>sE(e.remoteStore,r)),t._onlineComponents=e}async function IV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){H(rr,"Using user provided OfflineComponentProvider");try{await zf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(r){return r.name==="FirebaseError"?r.code===k.FAILED_PRECONDITION||r.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;Xs("Error using user provided cache. Falling back to memory cache: "+n),await zf(t,new xc)}}else H(rr,"Using default OfflineComponentProvider"),await zf(t,new CV(void 0));return t._offlineComponents}async function aw(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(H(rr,"Using user provided OnlineComponentProvider"),await hE(t,t._uninitializedComponentsProvider._online)):(H(rr,"Using default OnlineComponentProvider"),await hE(t,new cm))),t._onlineComponents}function DV(t){return aw(t).then(e=>e.syncEngine)}async function hm(t){const e=await aw(t),n=e.eventManager;return n.onListen=pV.bind(null,e.syncEngine),n.onUnlisten=_V.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=gV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=vV.bind(null,e.syncEngine),n}function OV(t,e,n,i){const r=new sw(i),s=new XA(e,r,n);return t.asyncQueue.enqueueAndForget(async()=>YA(await hm(t),s)),()=>{r.Nu(),t.asyncQueue.enqueueAndForget(async()=>$A(await hm(t),s))}}function MV(t,e,n={}){const i=new Gi;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,l,u,c){const d=new sw({next:p=>{d.Nu(),a.enqueueAndForget(()=>$A(s,g));const _=p.docs.has(l);!_&&p.fromCache?c.reject(new B(k.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&p.fromCache&&u&&u.source==="server"?c.reject(new B(k.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),g=new XA(ah(l.path),d,{includeMetadataChanges:!0,Ka:!0});return YA(s,g)}(await hm(t),t.asyncQueue,e,n,i)),i.promise}function VV(t,e){const n=new Gi;return t.asyncQueue.enqueueAndForget(async()=>EV(await DV(t),e,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jV="ComponentProvider",fE=new Map;function kV(t,e,n,i,r){return new t4(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,ow(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw="firestore.googleapis.com",dE=!0;class mE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new B(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=lw,this.ssl=dE}else this.host=e.host,this.ssl=e.ssl??dE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=kA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<cM)throw new B(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}FO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ow(e.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new B(k.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new B(k.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new B(k.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ph{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new B(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new B(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new VO;switch(i.type){case"firstParty":return new PO(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new B(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=fE.get(n);i&&(H(jV,"Removing Datastore"),fE.delete(n),i.terminate())}(this),Promise.resolve()}}function LV(t,e,n,i={}){var c;t=Sn(t,ph);const r=da(e),s=t._getSettings(),a={...s,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;r&&(Zb(`https://${l}`),eS("Firestore",!0)),s.host!==lw&&s.host!==l&&Xs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...s,host:l,ssl:r,emulatorOptions:i};if(!kr(u,a)&&(t._setSettings(u),i.mockUserToken)){let d,g;if(typeof i.mockUserToken=="string")d=i.mockUserToken,g=pt.MOCK_USER;else{d=FN(i.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new B(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new pt(p)}t._authCredentials=new jO(new QS(d,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Xr(this.firestore,e,this._query)}}class ke{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ki(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ke(this.firestore,e,this._key)}toJSON(){return{type:ke._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(El(n,ke._jsonSchema))return new ke(e,i||null,new G(Te.fromString(n.referencePath)))}}ke._jsonSchemaVersion="firestore/documentReference/1.0",ke._jsonSchema={type:Ke("string",ke._jsonSchemaVersion),referencePath:Ke("string")};class Ki extends Xr{constructor(e,n,i){super(e,n,ah(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ke(this.firestore,null,new G(e))}withConverter(e){return new Ki(this.firestore,e,this._path)}}function Rc(t,e,...n){if(t=Je(t),YS("collection","path",e),t instanceof ph){const i=Te.fromString(e,...n);return Rv(i),new Ki(t,null,i)}{if(!(t instanceof ke||t instanceof Ki))throw new B(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Te.fromString(e,...n));return Rv(i),new Ki(t.firestore,null,i)}}function Wo(t,e,...n){if(t=Je(t),arguments.length===1&&(e=Dp.newId()),YS("doc","path",e),t instanceof ph){const i=Te.fromString(e,...n);return xv(i),new ke(t,null,new G(i))}{if(!(t instanceof ke||t instanceof Ki))throw new B(k.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Te.fromString(e,...n));return xv(i),new ke(t.firestore,t instanceof Ki?t.converter:null,new G(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE="AsyncQueue";class gE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new zA(this,"async_queue_retry"),this._c=()=>{const i=Uf();i&&H(pE,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=Uf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Uf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Gi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!va(e))throw e;H(pE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(i=>{throw this.nc=i,this.rc=!1,ni("INTERNAL UNHANDLED ERROR: ",yE(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const r=Xp.createAndSchedule(this,e,n,i,s=>this.hc(s));return this.tc.push(r),r}uc(){this.nc&&Q(47125,{Pc:yE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function yE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Br extends ph{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=new gE,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new gE(e),this._firestoreClient=void 0,await e}}}function PV(t,e){const n=typeof t=="object"?t:rS(),i=typeof t=="string"?t:vc,r=Tp(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=qN("firestore");s&&LV(r,...s)}return r}function tg(t){if(t._terminated)throw new B(k.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||UV(t),t._firestoreClient}function UV(t){var i,r,s,a;const e=t._freezeSettings(),n=kV(t._databaseId,((i=t._app)==null?void 0:i.options.appId)||"",t._persistenceKey,(r=t._app)==null?void 0:r.options.apiKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new NV(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(u){const c=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jt(ht.fromBase64String(e))}catch(n){throw new B(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Jt(ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Jt._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(El(e,Jt._jsonSchema))return Jt.fromBase64String(e.bytes)}}Jt._jsonSchemaVersion="firestore/bytes/1.0",Jt._jsonSchema={type:Ke("string",Jt._jsonSchemaVersion),bytes:Ke("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new B(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new lt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new B(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new B(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return se(this._lat,e._lat)||se(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:xn._jsonSchemaVersion}}static fromJSON(e){if(El(e,xn._jsonSchema))return new xn(e.latitude,e.longitude)}}xn._jsonSchemaVersion="firestore/geoPoint/1.0",xn._jsonSchema={type:Ke("string",xn._jsonSchemaVersion),latitude:Ke("number"),longitude:Ke("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:cn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(El(e,cn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new cn(e.vectorValues);throw new B(k.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}cn._jsonSchemaVersion="firestore/vectorValue/1.0",cn._jsonSchema={type:Ke("string",cn._jsonSchemaVersion),vectorValues:Ke("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zV=/^__.*__$/;class BV{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new cr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Tl(e,this.data,n,this.fieldTransforms)}}class uw{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new cr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function cw(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q(40011,{dataSource:t})}}class ig{constructor(e,n,i,r,s,a){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.validatePath(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new ig({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var r;const n=(r=this.path)==null?void 0:r.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){var r;const n=(r=this.path)==null?void 0:r.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Cc(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(cw(this.dataSource)&&zV.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class qV{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||fh(e)}createContext(e,n,i,r=!1){return new ig({dataSource:e,methodName:n,targetDoc:i,path:lt.emptyPath(),arrayElement:!1,hasConverter:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rg(t){const e=t._freezeSettings(),n=fh(t._databaseId);return new qV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function HV(t,e,n,i,r,s={}){const a=t.createContext(s.merge||s.mergeFields?2:0,e,n,r);ag("Data must be an object, but it was:",a,i);const l=hw(i,a);let u,c;if(s.merge)u=new Lt(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const d=[];for(const g of s.mergeFields){const p=na(e,g,n);if(!a.contains(p))throw new B(k.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);mw(d,p)||d.push(p)}u=new Lt(d),c=a.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,c=a.fieldTransforms;return new BV(new Ct(l),u,c)}class yh extends gh{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof yh}}class sg extends gh{_toFieldTransform(e){return new I4(e.path,new Yo)}isEqual(e){return e instanceof sg}}function FV(t,e,n,i){const r=t.createContext(1,e,n);ag("Data must be an object, but it was:",r,i);const s=[],a=Ct.empty();ur(i,(u,c)=>{const d=dw(e,u,n);c=Je(c);const g=r.childContextForFieldPath(d);if(c instanceof yh)s.push(d);else{const p=wl(c,g);p!=null&&(s.push(d),a.set(d,p))}});const l=new Lt(s);return new uw(a,l,r.fieldTransforms)}function GV(t,e,n,i,r,s){const a=t.createContext(1,e,n),l=[na(e,i,n)],u=[r];if(s.length%2!=0)throw new B(k.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)l.push(na(e,s[p])),u.push(s[p+1]);const c=[],d=Ct.empty();for(let p=l.length-1;p>=0;--p)if(!mw(c,l[p])){const _=l[p];let C=u[p];C=Je(C);const D=a.childContextForFieldPath(_);if(C instanceof yh)c.push(_);else{const I=wl(C,D);I!=null&&(c.push(_),d.set(_,I))}}const g=new Lt(c);return new uw(d,g,a.fieldTransforms)}function KV(t,e,n,i=!1){return wl(n,t.createContext(i?4:3,e))}function wl(t,e){if(fw(t=Je(t)))return ag("Unsupported field value:",e,t),hw(t,e);if(t instanceof gh)return function(i,r){if(!cw(r.dataSource))throw r.createError(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.createError(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return function(i,r){const s=[];let a=0;for(const l of i){let u=wl(l,r.childContextForArray(a));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),a++}return{arrayValue:{values:s}}}(t,e)}return function(i,r){if((i=Je(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return R4(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=ye.fromDate(i);return{timestampValue:Sc(r.serializer,s)}}if(i instanceof ye){const s=new ye(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Sc(r.serializer,s)}}if(i instanceof xn)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Jt)return{bytesValue:CA(r.serializer,i._byteString)};if(i instanceof ke){const s=r.databaseId,a=i.firestore._databaseId;if(!a.isEqual(s))throw r.createError(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Bp(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof cn)return function(a,l){const u=a instanceof cn?a.toArray():a;return{mapValue:{fields:{[iA]:{stringValue:rA},[Ec]:{arrayValue:{values:u.map(d=>{if(typeof d!="number")throw l.createError("VectorValues must only contain numeric values.");return Lp(l.serializer,d)})}}}}}}(i,r);if(jA(i))return i._toProto(r.serializer);throw r.createError(`Unsupported field value: ${nh(i)}`)}(t,e)}function hw(t,e){const n={};return WS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ur(t,(i,r)=>{const s=wl(r,e.childContextForField(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function fw(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ye||t instanceof xn||t instanceof Jt||t instanceof ke||t instanceof gh||t instanceof cn||jA(t))}function ag(t,e,n){if(!fw(n)||!$S(n)){const i=nh(n);throw i==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+i)}}function na(t,e,n){if((e=Je(e))instanceof ng)return e._internalPath;if(typeof e=="string")return dw(t,e);throw Cc("Field path arguments must be of type string or ",t,!1,void 0,n)}const QV=new RegExp("[~\\*/\\[\\]]");function dw(t,e,n){if(e.search(QV)>=0)throw Cc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ng(...e.split("."))._internalPath}catch{throw Cc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Cc(t,e,n,i,r){const s=i&&!i.isEmpty(),a=r!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||a)&&(u+=" (found",s&&(u+=` in field ${i}`),a&&(u+=` in document ${r}`),u+=")"),new B(k.INVALID_ARGUMENT,l+t+u)}function mw(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{convertValue(e,n="none"){switch(nr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ve(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(tr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Q(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return ur(e,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertVectorValue(e){var i,r,s;const n=(s=(r=(i=e.fields)==null?void 0:i[Ec].arrayValue)==null?void 0:r.values)==null?void 0:s.map(a=>Ve(a.doubleValue));return new cn(n)}convertGeoPoint(e){return new xn(Ve(e.latitude),Ve(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=sh(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Fo(e));default:return null}}convertTimestamp(e){const n=er(e);return new ye(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Te.fromString(e);fe(VA(i),9688,{name:e});const r=new Go(i.get(1),i.get(3)),s=new G(i.popFirst(5));return r.isEqual(n)||ni(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw extends YV{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jt(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ke(this.firestore,null,n)}}function $V(){return new sg("serverTimestamp")}const _E="@firebase/firestore",vE="4.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(t){return function(n,i){if(typeof n!="object"||n===null)return!1;const r=n;for(const s of i)if(s in r&&typeof r[s]=="function")return!0;return!1}(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(e,n,i,r,s){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ke(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new XV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(na("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class XV extends gw{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WV(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new B(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class og{}class yw extends og{}function JV(t,e,...n){let i=[];e instanceof og&&i.push(e),i=i.concat(n),function(s){const a=s.filter(u=>u instanceof ug).length,l=s.filter(u=>u instanceof lg).length;if(a>1||a>0&&l>0)throw new B(k.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)t=r._apply(t);return t}class lg extends yw{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new lg(e,n,i)}_apply(e){const n=this._parse(e);return _w(e._query,n),new Xr(e.firestore,e.converter,em(e._query,n))}_parse(e){const n=rg(e.firestore);return function(s,a,l,u,c,d,g){let p;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new B(k.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){bE(g,d);const C=[];for(const D of g)C.push(TE(u,s,D));p={arrayValue:{values:C}}}else p=TE(u,s,g)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||bE(g,d),p=KV(l,a,g,d==="in"||d==="not-in");return Fe.create(c,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class ug extends og{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ug(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:fn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,s){let a=r;const l=s.getFlattenedFilters();for(const u of l)_w(a,u),a=em(a,u)}(e._query,n),new Xr(e.firestore,e.converter,em(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class cg extends yw{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new cg(e,n)}_apply(e){const n=function(r,s,a){if(r.startAt!==null)throw new B(k.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new B(k.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Qo(s,a)}(e._query,this._field,this._direction);return new Xr(e.firestore,e.converter,v4(e._query,n))}}function ZV(t,e="asc"){const n=e,i=na("orderBy",t);return cg._create(i,n)}function TE(t,e,n){if(typeof(n=Je(n))=="string"){if(n==="")throw new B(k.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!fA(e)&&n.indexOf("/")!==-1)throw new B(k.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Te.fromString(n));if(!G.isDocumentKey(i))throw new B(k.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return jv(t,new G(i))}if(n instanceof ke)return jv(t,n._key);throw new B(k.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nh(n)}.`)}function bE(t,e){if(!Array.isArray(t)||t.length===0)throw new B(k.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _w(t,e){const n=function(r,s){for(const a of r)for(const l of a.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new B(k.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new B(k.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function ej(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class io{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ir extends gw{constructor(e,n,i,r,s,a){super(e,n,i,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Mu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(na("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new B(k.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ir._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ir._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ir._jsonSchema={type:Ke("string",Ir._jsonSchemaVersion),bundleSource:Ke("string","DocumentSnapshot"),bundleName:Ke("string"),bundle:Ke("string")};class Mu extends Ir{data(e={}){return super.data(e)}}class ks{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new io(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Mu(this._firestore,this._userDataWriter,i.key,i,new io(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new B(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>{const u=new Mu(r._firestore,r._userDataWriter,l.doc.key,l.doc,new io(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const u=new Mu(r._firestore,r._userDataWriter,l.doc.key,l.doc,new io(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,d=-1;return l.type!==0&&(c=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),d=a.indexOf(l.doc.key)),{type:tj(l.type),doc:u,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new B(k.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ks._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Dp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],r=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),i.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),r.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function tj(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ks._jsonSchemaVersion="firestore/querySnapshot/1.0",ks._jsonSchema={type:Ke("string",ks._jsonSchemaVersion),bundleSource:Ke("string","QuerySnapshot"),bundleName:Ke("string"),bundle:Ke("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nj(t){t=Sn(t,ke);const e=Sn(t.firestore,Br),n=tg(e);return MV(n,t._key).then(i=>bw(e,t,i))}function vw(t,e,n,...i){t=Sn(t,ke);const r=Sn(t.firestore,Br),s=rg(r);let a;return a=typeof(e=Je(e))=="string"||e instanceof ng?GV(s,"updateDoc",t._key,e,n,i):FV(s,"updateDoc",t._key,e),hg(r,[a.toMutation(t._key,un.exists(!0))])}function ij(t){return hg(Sn(t.firestore,Br),[new Pp(t._key,un.none())])}function Ew(t,e){const n=Sn(t.firestore,Br),i=Wo(t),r=ej(t.converter,e),s=rg(t.firestore);return hg(n,[HV(s,"addDoc",i._key,r,t.converter!==null,{}).toMutation(i._key,un.exists(!1))]).then(()=>i)}function Tw(t,...e){var c,d,g;t=Je(t);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||EE(e[i])||(n=e[i++]);const r={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(EE(e[i])){const p=e[i];e[i]=(c=p.next)==null?void 0:c.bind(p),e[i+1]=(d=p.error)==null?void 0:d.bind(p),e[i+2]=(g=p.complete)==null?void 0:g.bind(p)}let s,a,l;if(t instanceof ke)a=Sn(t.firestore,Br),l=ah(t._key.path),s={next:p=>{e[i]&&e[i](bw(a,t,p))},error:e[i+1],complete:e[i+2]};else{const p=Sn(t,Xr);a=Sn(p.firestore,Br),l=p._query;const _=new pw(a);s={next:C=>{e[i]&&e[i](new ks(a,_,p,C))},error:e[i+1],complete:e[i+2]},WV(t._query)}const u=tg(a);return OV(u,l,r,s)}function hg(t,e){const n=tg(t);return VV(n,e)}function bw(t,e,n){const i=n.docs.get(e._key),r=new pw(t);return new Ir(t,r,e._key,i,new io(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){MO(ma),Ys(new Lr("firestore",(i,{instanceIdentifier:r,options:s})=>{const a=i.getProvider("app").getImmediate(),l=new Br(new kO(i.getProvider("auth-internal")),new UO(a,i.getProvider("app-check-internal")),n4(a,r),a);return s={useFetchStreams:n,...s},l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),qi(_E,vE,e),qi(_E,vE,"esm2020")})();const rj={apiKey:"AIzaSyCIPE6DWpsUhDwRz9r5WMnsLGV4f8y-X2s",authDomain:"ambrosia-web-bc4f9.firebaseapp.com",projectId:"ambrosia-web-bc4f9",storageBucket:"ambrosia-web-bc4f9.firebasestorage.app",messagingSenderId:"768539470516",appId:"1:768539470516:web:d9f3705b1c79d35147c5e1",measurementId:"G-08Y4G38JM3"},Sw=iS(rj),fg=DO(Sw),Qi=PV(Sw),Aw=M.createContext(),sj=()=>M.useContext(Aw),aj=({children:t})=>{const[e,n]=M.useState(null),[i,r]=M.useState(null),[s,a]=M.useState(!0);M.useEffect(()=>vD(fg,async c=>{if(c){const d=await nj(Wo(Qi,"users",c.uid));d.exists()?r(d.data().role):r("customer"),n(c)}else n(null),r(null);a(!1)}),[]);const l={currentUser:e,userRole:i,loading:s,isAdmin:i==="admin"};return h.jsx(Aw.Provider,{value:l,children:!s&&t})},oj=()=>{const[t,e]=M.useState(!1),{cartCount:n}=ml();return M.useEffect(()=>{const i=()=>{e(window.scrollY>50)};return window.addEventListener("scroll",i),()=>window.removeEventListener("scroll",i)},[]),h.jsx("nav",{className:`navbar ${t?"scrolled":""}`,children:h.jsxs("div",{className:"nav-container",children:[h.jsx(Ye,{to:"/",className:"nav-logo",children:"Ambrosia"}),h.jsxs("div",{className:"nav-links",children:[h.jsx(as,{to:"/",className:({isActive:i})=>`nav-link ${i?"active":""}`,end:!0,children:"Home"}),h.jsx(as,{to:"/shop",className:({isActive:i})=>`nav-link ${i?"active":""}`,children:"Shop"}),h.jsx(as,{to:"/about-cinnamon",className:({isActive:i})=>`nav-link ${i?"active":""}`,children:"Cinnamon"}),h.jsx(as,{to:"/recipes",className:({isActive:i})=>`nav-link ${i?"active":""}`,children:"Recipes"}),h.jsx(as,{to:"/contact",className:({isActive:i})=>`nav-link ${i?"active":""}`,children:"Contact"})]}),h.jsxs("div",{className:"nav-actions flex items-center gap-6",children:[h.jsxs(Ye,{to:"/cart",className:"cart-link relative text-white hover:text-gold transition-colors",children:[h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("circle",{cx:"9",cy:"21",r:"1"}),h.jsx("circle",{cx:"20",cy:"21",r:"1"}),h.jsx("path",{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"})]}),n>0&&h.jsx("span",{className:"cart-badge absolute -top-2 -right-2 bg-gold text-black text-[10px] font-bold w-5 h-5 rounded-full flex items-center justify-center",children:n})]}),h.jsx(Ye,{to:"/shop",className:"btn-outline nav-btn",children:"Shop Now"})]}),h.jsx("div",{className:"nav-toggle",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),h.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),h.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})})]})})},lj=()=>h.jsx("footer",{className:"footer",children:h.jsxs("div",{className:"container",children:[h.jsxs("div",{className:"footer-content",children:[h.jsxs("div",{className:"footer-column",children:[h.jsx("h4",{className:"font-heading",children:"Ambrosia"}),h.jsx("p",{className:"text-gray-500 text-sm leading-7",children:"Delivering the 100% authentic essence of Sri Lankan Ceylon Cinnamon to the world. A commitment to purity, heritage, and health."})]}),h.jsxs("div",{className:"footer-column",children:[h.jsx("h4",{children:"Quick Links"}),h.jsxs("ul",{children:[h.jsx("li",{children:h.jsx(Ye,{to:"/shop",children:"Online Store"})}),h.jsx("li",{children:h.jsx(Ye,{to:"/about-cinnamon",children:"About Cinnamon"})}),h.jsx("li",{children:h.jsx(Ye,{to:"/recipes",children:"Recipes & Blog"})}),h.jsx("li",{children:h.jsx(Ye,{to:"/faq",children:"FAQs"})})]})]}),h.jsxs("div",{className:"footer-column",children:[h.jsx("h4",{children:"Support"}),h.jsxs("ul",{children:[h.jsx("li",{children:h.jsx(Ye,{to:"/contact",children:"Contact Us"})}),h.jsx("li",{children:h.jsx(Ye,{to:"/privacy",children:"Privacy Policy"})}),h.jsx("li",{children:h.jsx(Ye,{to:"/terms",children:"Terms & Conditions"})})]})]}),h.jsxs("div",{className:"footer-column",children:[h.jsx("h4",{children:"Newsletter"}),h.jsxs("div",{className:"newsletter-form mt-4",children:[h.jsx("input",{type:"email",placeholder:"Your email address",className:"bg-[#1a1a1a] border border-white/10 p-2 text-sm w-full mb-2"}),h.jsx("button",{className:"btn-outline w-full py-2 text-xs",children:"Subscribe"})]})]})]}),h.jsx("div",{className:"footer-bottom",children:h.jsx("p",{children:" 2026 Ambrosia 100% Sri Lankan Cinnamon. All rights reserved."})})]})}),uj="/Ambrosia/assets/hero_bg-Cd28FfOR.png",cj=()=>h.jsxs("section",{id:"home",className:"hero",children:[h.jsxs("div",{className:"hero-bg",children:[h.jsx("img",{src:uj,alt:"Cinnamon Background"}),h.jsx("div",{className:"hero-overlay"})]}),h.jsxs("div",{className:"hero-content",children:[h.jsx("span",{className:"hero-eyebrow",children:"Ambrosia  Pure, Premium 100% Sri Lankan Cinnamon"}),h.jsx("h1",{className:"hero-title",children:"Divine Essence"}),h.jsx("p",{className:"hero-desc",children:"Experience the gold standard of spices. 100% authentic, hand-harvested Ceylon cinnamon from the heart of Sri Lanka."}),h.jsxs("div",{className:"hero-actions",children:[h.jsx("a",{href:"#products",className:"btn",children:"Shop Now"}),h.jsx("a",{href:"#heritage",className:"btn btn-outline",style:{marginLeft:"1rem"},children:"Learn More"})]})]})]}),hj=()=>h.jsx("section",{id:"heritage",className:"brand-intro-section",children:h.jsx("div",{className:"container",children:h.jsxs("div",{className:"intro-grid",children:[h.jsxs("div",{className:"intro-text",children:[h.jsx("span",{className:"gold-label",children:"Our Mission"}),h.jsx("h2",{className:"text-4xl font-heading mb-6 text-white",children:"Ambrosia  Pure, Premium 100% Sri Lankan Cinnamon"}),h.jsx("p",{className:"intro-p",children:"Born from the sun-drenched coastal gardens of Sri Lanka, Ambrosia is a tribute to the legendary 'Gold of the East'. We specialize exclusively in true Ceylon Cinnamon (Cinnamomum Verum)  the only 100% authentic, low-coumarin variety that offers genuine health benefits and a sophisticated sweetness."}),h.jsx("p",{className:"intro-p",children:"Our mission is simple: To bring the finest grade cinnamon, usually reserved for the royal houses of the world, directly to your kitchen."})]}),h.jsxs("div",{className:"quick-links",children:[h.jsx("h3",{className:"text-xl font-heading mb-6 text-gold",children:"Explore Ambrosia"}),h.jsxs("div",{className:"links-stack",children:[h.jsxs("a",{href:"#products",className:"quick-link-item",children:[h.jsx("span",{className:"link-icon",children:""}),h.jsxs("div",{className:"link-content",children:[h.jsx("h4",{children:"Online Shop"}),h.jsx("p",{children:"Browse our sticks, powders, and blends."})]})]}),h.jsxs("a",{href:"#about-cinnamon",className:"quick-link-item",children:[h.jsx("span",{className:"link-icon",children:""}),h.jsxs("div",{className:"link-content",children:[h.jsx("h4",{children:"About Cinnamon"}),h.jsx("p",{children:"Learn the difference between Ceylon and Cassia."})]})]}),h.jsxs("a",{href:"#recipes",className:"quick-link-item",children:[h.jsx("span",{className:"link-icon",children:""}),h.jsxs("div",{className:"link-content",children:[h.jsx("h4",{children:"Recipes & Blog"}),h.jsx("p",{children:"Discover healthy ways to use cinnamon."})]})]})]})]})]})})}),Yi="/Ambrosia/assets/divine-CAd-ezJ-.png",fm="/Ambrosia/assets/kuveni-CIhBCFC7.png",ww="/Ambrosia/assets/ravana-UNXb9jZj.png",fj=[{id:1,name:"Divine Essence Powder",price:45,image:Yi,description:"Finely milled 100% Sri Lankan cinnamon powder for effortless blending."},{id:2,name:"Kuveni's Reserve Sticks",price:60,image:fm,description:"Hand-rolled Alba grade Ceylon cinnamon sticks, the gold standard."},{id:3,name:"Ravana's Signature Blend",price:55,image:ww,description:"A specialized infusion of spices anchored by our premium cinnamon."}],dj=()=>{const{addToCart:t}=ml();return h.jsx("section",{id:"products",className:"products-section",children:h.jsxs("div",{className:"container",children:[h.jsxs("div",{className:"section-header",children:[h.jsx("h2",{className:"section-title",children:"Royal Collections"}),h.jsx("p",{className:"section-subtitle",children:"Curated from the ancient gardens of Ceylon."})]}),h.jsx("div",{className:"products-grid",children:fj.map(e=>h.jsxs("div",{className:"product-card",children:[h.jsx("div",{className:"product-image-wrapper",children:h.jsx("img",{src:e.image,alt:e.name,className:"product-image"})}),h.jsxs("div",{className:"product-info",children:[h.jsx("h3",{className:"product-name",children:e.name}),h.jsx("p",{className:"product-desc",children:e.description}),h.jsxs("span",{className:"product-price",children:["$",e.price.toFixed(2)]}),h.jsx("button",{onClick:()=>t(e),className:"product-btn uppercase",children:"Add to Cart"})]})]},e.id))})]})})},Jo="/Ambrosia/assets/garden-0ov3Dsbc.png",mj=[{id:1,title:"Golden Cinnamon Latte",category:"Beverages",image:Yi,time:"5 mins",desc:"A warm, soul-soothing latte infused with Ambrosia Divine Essence."},{id:2,title:"Authentic Sri Lankan Chai",category:"Beverages",image:Jo,time:"15 mins",desc:"A spiced tea tradition using whole Kuveni sticks."},{id:3,title:"Cinnamon Glazed Apple Tart",category:"Desserts",image:Yi,time:"45 mins",desc:"A classic dessert elevated by the floral notes of Ceylon cinnamon."},{id:4,title:"Health Benefits of Daily Cinnamon",category:"Wellness",image:Jo,time:"4 min read",desc:"How a pinch of Ambrosia every morning can change your metabolism."}],pj=()=>h.jsx("section",{className:"recipes-home-section",children:h.jsxs("div",{className:"container",children:[h.jsxs("div",{className:"section-header",children:[h.jsx("h2",{className:"section-title",children:"Recipes & Rituals"}),h.jsx("p",{className:"section-subtitle",children:"Discover the endless possibilities of true cinnamon."})]}),h.jsx("div",{className:"recipes-home-scroll",children:mj.map(t=>h.jsxs("div",{className:"recipe-home-card",children:[h.jsxs("div",{className:"recipe-home-image",children:[h.jsx("img",{src:t.image,alt:t.title}),h.jsx("span",{className:"recipe-home-cat",children:t.category})]}),h.jsxs("div",{className:"recipe-home-info",children:[h.jsx("span",{className:"recipe-home-time",children:t.time}),h.jsx("h3",{className:"recipe-home-title",children:t.title}),h.jsx("p",{className:"recipe-home-desc",children:t.desc}),h.jsx(Ye,{to:"/recipes",className:"recipe-home-link",children:"Read More"})]})]},t.id))})]})}),gj=[{id:1,name:"Sarah Johnson",role:"Professional Baker",content:"The aroma of Ambrosia's Divine Essence is incomparable. It transformed my signature cinnamon rolls into something truly legendary.",rating:5},{id:2,name:"Dr. Aris Fernando",role:"Wellness Consultant",content:"I recommend Ambrosia to all my clients. Knowing it's 100% authentic Sri Lankan cinnamon gives me peace of mind regarding its health benefits.",rating:5},{id:3,name:"Michael Chen",role:"Home Enthusiast",content:"I never knew there was such a difference between regular cinnamon and Ceylon cinnamon until I tried the Ravana's Blend. Incredible depth!",rating:5}],yj=()=>h.jsx("section",{className:"testimonials-section",children:h.jsxs("div",{className:"container",children:[h.jsxs("div",{className:"section-header",children:[h.jsx("h2",{className:"section-title",children:"What Our Patrons Say"}),h.jsx("p",{className:"section-subtitle",children:"Join the community of those who appreciate the finer things in life."})]}),h.jsx("div",{className:"testimonials-grid",children:gj.map(t=>h.jsxs("div",{className:"testimonial-card",children:[h.jsx("div",{className:"stars",children:[...Array(t.rating)].map((e,n)=>h.jsx("span",{className:"star",children:""},n))}),h.jsxs("p",{className:"testimonial-content",children:['"',t.content,'"']}),h.jsx("div",{className:"testimonial-author",children:h.jsxs("div",{className:"author-info",children:[h.jsx("h4",{className:"author-name",children:t.name}),h.jsx("p",{className:"author-role",children:t.role})]})})]},t.id))})]})}),_j=()=>h.jsxs("div",{className:"home-page",children:[h.jsx(cj,{}),h.jsx(hj,{}),h.jsx(dj,{}),h.jsx(pj,{}),h.jsx(yj,{})]}),vj=()=>h.jsxs("div",{className:"about-page",children:[h.jsx("section",{className:"about-hero",children:h.jsxs("div",{className:"container",children:[h.jsx("h1",{className:"text-6xl font-heading text-gold mb-4",children:"Our Heritage"}),h.jsx("p",{className:"text-xl text-gray-300 max-w-2xl",children:"Preserving the 100% authentic legacy of Ceylon Cinnamon."})]})}),h.jsx("section",{className:"mission-section py-20",children:h.jsxs("div",{className:"container intro-grid",children:[h.jsxs("div",{className:"mission-text",children:[h.jsx("h2",{className:"text-4xl font-heading text-white mb-8",children:"A Legacy of Excellence"}),h.jsx("p",{className:"text-gray-400 mb-6 leading-relaxed",children:"Ambrosia was founded on a singular realization: the true essence of Sri Lankan cinnamon was being lost to the world. In an era dominated by mass-market Cassia, the legendary 'Cinnamomum Verum' of Ceylononce more valuable than goldhad become a rare luxury."}),h.jsx("p",{className:"text-gray-400 mb-6 leading-relaxed",children:"Our journey began in the southern coastal stretches of Sri Lanka, where the humid air and salty breeze create the perfect cradle for the world's finest cinnamon. We don't just sell a spice; we protect a thousand-year-old tradition of hand-peeling and air-drying that has been passed down through generations of 'Salagama' harvesters."})]}),h.jsx("div",{className:"mission-image",children:h.jsx("img",{src:Jo,alt:"Cinnamon Garden",className:"rounded-lg shadow-2xl"})})]})}),h.jsx("section",{className:"sourcing-section py-20 bg-gold/5",children:h.jsxs("div",{className:"container",children:[h.jsxs("div",{className:"text-center mb-16",children:[h.jsx("h2",{className:"text-4xl font-heading text-gold mb-4",children:"Sustainable Sourcing"}),h.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"We believe in a cycle of respectfor the soil, the farmer, and the consumer."})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-16 items-center",children:[h.jsxs("div",{className:"sourcing-content",children:[h.jsx("h3",{className:"text-2xl text-white mb-6",children:"Direct from the Wild Gardens"}),h.jsx("p",{className:"text-gray-500 mb-6",children:"Unlike industrial plantations, our cinnamon is sourced from 'wild gardens' where biodiversity is encouraged. This natural ecosystem allows the trees to develop higher concentrations of essential oils, resulting in the signature floral aroma unique to Ambrosia."}),h.jsx("p",{className:"text-gray-500",children:"Every harvest is traceable to its village of origin, ensuring that the local communities that have guarded this heritage for centuries are fairly compensated and supported."})]}),h.jsxs("div",{className:"sourcing-stats grid grid-cols-2 gap-8",children:[h.jsxs("div",{className:"stat-box",children:[h.jsx("span",{className:"text-4xl text-gold font-bold",children:"100%"}),h.jsx("p",{className:"text-gray-400",children:"Natural & Organic"})]}),h.jsxs("div",{className:"stat-box",children:[h.jsx("span",{className:"text-4xl text-gold font-bold",children:"500+"}),h.jsx("p",{className:"text-gray-400",children:"Local Farmers"})]}),h.jsxs("div",{className:"stat-box",children:[h.jsx("span",{className:"text-4xl text-gold font-bold",children:"0%"}),h.jsx("p",{className:"text-gray-400",children:"Chemical Additives"})]}),h.jsxs("div",{className:"stat-box",children:[h.jsx("span",{className:"text-4xl text-gold font-bold",children:"True"}),h.jsx("p",{className:"text-gray-400",children:"Alba Grade Only"})]})]})]})]})})]}),Ej="/Ambrosia/assets/comparison-D2ywGGNU.png",Bf=["Cinnamon bark is harvested after two years of growth during the rainy season.","True Ceylon Cinnamon quills are filled like a cigar with small, fine chips.","In the 1st century AD, 350 grams of cinnamon was worth 5 kilograms of silver.","The word 'Cinnamon' is derived from the Greek 'kinnamon'."],Tj=()=>{const[t,e]=M.useState(0);return M.useEffect(()=>{const n=setInterval(()=>{e(i=>(i+1)%Bf.length)},5e3);return()=>clearInterval(n)},[]),h.jsxs("div",{className:"cinnamon-education-page",children:[h.jsx("section",{className:"edu-hero",children:h.jsxs("div",{className:"container text-center",children:[h.jsx("span",{className:"gold-label font-bold tracking-widest uppercase mb-4 block",children:"Educational Guide"}),h.jsx("h1",{className:"text-7xl font-heading text-gold mb-6",children:"The Gold of the East"}),h.jsx("p",{className:"text-xl text-gray-200 max-w-3xl mx-auto leading-relaxed mb-10",children:"Deep within the soul of Sri Lanka lies a secret that shaped world history. Worshiped by Emperors and sought by explorers, Ceylon Cinnamon remains nature's most sophisticated spice."}),h.jsxs("div",{className:"flex justify-center gap-6",children:[h.jsx("a",{href:"#production-video",className:"btn btn-outline",children:"Watch Production"}),h.jsx(Ye,{to:"/shop",className:"btn",children:"Shop Collection"})]})]})}),h.jsx("section",{className:"history-section py-24 bg-[#050505]",children:h.jsx("div",{className:"container",children:h.jsxs("div",{className:"history-grid grid grid-cols-2 gap-20 items-center",children:[h.jsxs("div",{className:"history-content",children:[h.jsx("h2",{className:"text-4xl font-heading text-white mb-8",children:"A Journey Through Time"}),h.jsx("p",{className:"text-gray-400 mb-6 leading-relaxed",children:"The documented history of Sri Lankan cinnamon dates back over 3,000 years. Mentioned in the Old Testament and sought by Ancient Egyptians for embalming, it was the most prized possession in the ancient world."}),h.jsx("p",{className:"text-gray-400 mb-6 leading-relaxed",children:"In the 15th century, the 'Cinnamon Quest' launched the Age of Discovery. Columbus, Vasco da Gama, and Magellan sailed into the unknown partially driven by the intoxicating scent of Ceylons 'true' cinnamon. For centuries, nations fought wars for the exclusive rights to our island's shores."}),h.jsxs("blockquote",{className:"border-l-4 border-gold pl-6 py-2 italic text-gray-300 text-lg",children:['"The cinnamon of Ceylon is the best in all the world, and many-a-man hath lost his life for its sake."',h.jsx("span",{className:"block text-sm text-gold mt-2",children:" 17th Century Dutch Explorer"})]})]}),h.jsx("div",{className:"history-visual relative",children:h.jsxs("div",{className:"history-box p-12 bg-gold/5 border border-gold/20 rounded-lg",children:[h.jsx("h3",{className:"text-2xl text-gold mb-6 font-heading",children:"Key Historical Milestones"}),h.jsxs("ul",{className:"space-y-6",children:[h.jsxs("li",{className:"flex gap-4",children:[h.jsx("span",{className:"text-gold font-bold",children:"1400 BC:"}),h.jsx("p",{className:"text-gray-400 text-sm",children:"Used in Ancient Egypt as a sacred medicinal ingredient."})]}),h.jsxs("li",{className:"flex gap-4",children:[h.jsx("span",{className:"text-gold font-bold",children:"1505 AD:"}),h.jsx("p",{className:"text-gray-400 text-sm",children:"Portuguese explorers land in Sri Lanka, seeking the source of 'True Cinnamon'."})]}),h.jsxs("li",{className:"flex gap-4",children:[h.jsx("span",{className:"text-gold font-bold",children:"18th Century:"}),h.jsx("p",{className:"text-gray-400 text-sm",children:"Dutch East India Company establishes the first systematic plantations."})]})]})]})})]})})}),h.jsx("section",{id:"production-video",className:"video-section py-24 bg-black",children:h.jsxs("div",{className:"container",children:[h.jsxs("div",{className:"text-center mb-16",children:[h.jsx("h2",{className:"text-4xl font-heading text-gold mb-4",children:"Life of Cinnamon"}),h.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"Witness the meticulous craft behind every Ambrosia quill."})]}),h.jsx("div",{className:"video-container aspect-video max-w-5xl mx-auto rounded-2xl overflow-hidden border border-gold/10 shadow-2xl",children:h.jsx("iframe",{width:"100%",height:"100%",src:"https://www.youtube.com/embed/j_8c8XwK6-o",title:"Life of Ceylon Cinnamon",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),h.jsx("p",{className:"text-center text-gray-500 mt-8 italic",children:"Courtesy: A cinematic look at the traditional peeling process in Southern Sri Lanka."})]})}),h.jsx("section",{className:"types-section py-24 bg-[#0a0a0a]",children:h.jsxs("div",{className:"container grid grid-cols-2 gap-20 items-center",children:[h.jsx("div",{className:"order-2 lg:order-1",children:h.jsx("img",{src:Ej,alt:"Cinnamon Comparison",className:"rounded-xl border border-gold/20 shadow-2xl"})}),h.jsxs("div",{className:"order-1 lg:order-2",children:[h.jsx("h2",{className:"text-4xl font-heading text-white mb-8",children:"Ceylon vs Cassia"}),h.jsxs("div",{className:"comparison-bullets space-y-8",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"text-gold mb-2 font-bold tracking-wide",children:"THE TRUTH"}),h.jsxs("p",{className:"text-gray-400",children:["Mass-market ",h.jsx("strong",{children:"Cassia"})," contains high levels of ",h.jsx("em",{children:"coumarin"}),", a compound that can be toxic if consumed regularly. It's thick, hard bark with a spicy, hot bite."]})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"text-gold mb-2 font-bold tracking-wide",children:"THE ESSENCE"}),h.jsxs("p",{className:"text-gray-400",children:[h.jsx("strong",{children:"Ambrosia Ceylon Cinnamon"})," is thin, flaky, and delicate. It has virtually 0% coumarin and offers a complex, floral sweetness that's safe for daily health rituals."]})]})]})]})]})}),h.jsx("section",{className:"uses-section py-24 bg-[#050505]",children:h.jsxs("div",{className:"container",children:[h.jsx("h2",{className:"text-4xl font-heading text-gold text-center mb-16",children:"Rituals & Remedies"}),h.jsxs("div",{className:"grid grid-cols-3 gap-12",children:[h.jsxs("div",{className:"use-card p-10 bg-[#111] rounded-lg border border-white/5",children:[h.jsx("h3",{className:"text-xl text-white mb-4",children:"Culinary Mastery"}),h.jsx("p",{className:"text-gray-500 text-sm leading-relaxed",children:"Used in both sweet and savory dishes. From a pinch in your morning coffee to a quill in a slow-cooked Lankan curry, its versatility is unmatched."})]}),h.jsxs("div",{className:"use-card p-10 bg-[#111] rounded-lg border border-white/5 text-center transform scale-110 border-gold/20",children:[h.jsx("h3",{className:"text-xl text-white mb-4",children:"Wellness Elixir"}),h.jsx("p",{className:"text-gray-500 text-sm leading-relaxed",children:"Mixed with warm water and honey for a natural immunity boost. A powerful tool for blood sugar regulation and metabolic health."})]}),h.jsxs("div",{className:"use-card p-10 bg-[#111] rounded-lg border border-white/5",children:[h.jsx("h3",{className:"text-xl text-white mb-4",children:"Pure Aromatherapy"}),h.jsx("p",{className:"text-gray-500 text-sm leading-relaxed",children:"Its scent alone can improve memory and mood. Use the natural quills as an elegant, aromatic centerpiece in your living space."})]})]})]})}),h.jsx("section",{className:"fun-facts py-24 bg-gold/5 overflow-hidden",children:h.jsxs("div",{className:"container text-center",children:[h.jsx("span",{className:"gold-label text-xs tracking-widest uppercase mb-6 block",children:"Did You Know?"}),h.jsx("div",{className:"fact-slider",children:h.jsx("p",{className:"text-white font-heading text-3xl max-w-4xl mx-auto animate-fade-in",children:Bf[t]},t)}),h.jsx("div",{className:"flex justify-center gap-2 mt-8",children:Bf.map((n,i)=>h.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${i===t?"bg-gold w-8":"bg-gray-700"}`},i))})]})}),h.jsx("section",{className:"cta-section py-24 text-center",children:h.jsxs("div",{className:"container",children:[h.jsx("h2",{className:"text-5xl font-heading text-white mb-10",children:"Experience the Pure Essence"}),h.jsx(Ye,{to:"/shop",className:"btn btn-lg px-12 py-5 text-lg",children:"Shop Ambrosia Cinnamon"})]})})]})},SE=[{id:1,name:"Divine Essence Powder",category:"Powder",price:45,image:Yi,origin:"100% Sri Lankan"},{id:2,name:"Kuveni's Reserve Sticks",category:"Sticks",price:60,image:fm,origin:"100% Sri Lankan"},{id:3,name:"Ravana's Signature Blend",category:"Blends",price:55,image:ww,origin:"100% Sri Lankan"},{id:4,name:"Ambrosia Collection Box",category:"Gift Sets",price:120,image:Yi,origin:"100% Sri Lankan"},{id:5,name:"Alba Grade Premium Sticks",category:"Sticks",price:75,image:fm,origin:"100% Sri Lankan"},{id:6,name:"Culinary Grade Powder",category:"Powder",price:30,image:Yi,origin:"100% Sri Lankan"}],bj=()=>{const{addToCart:t}=ml(),[e,n]=M.useState("All"),i=["All","Sticks","Powder","Blends","Gift Sets"],r=e==="All"?SE:SE.filter(s=>s.category===e);return h.jsxs("div",{className:"store-page",children:[h.jsx("section",{className:"store-header",children:h.jsxs("div",{className:"container",children:[h.jsx("h1",{className:"text-5xl font-heading text-gold mb-4",children:"The Collections"}),h.jsx("p",{className:"text-gray-400",children:"Authentic Ceylon cinnamon for every occasion."})]})}),h.jsx("section",{className:"store-content py-12",children:h.jsxs("div",{className:"container",children:[h.jsx("div",{className:"filters-bar mb-12",children:i.map(s=>h.jsx("button",{onClick:()=>n(s),className:`filter-btn ${e===s?"active":""}`,children:s},s))}),h.jsx("div",{className:"store-grid",children:r.map(s=>h.jsxs("div",{className:"store-item-card",children:[h.jsxs("div",{className:"item-image",children:[h.jsx("img",{src:s.image,alt:s.name}),h.jsx("span",{className:"origin-badge",children:s.origin})]}),h.jsxs("div",{className:"item-info",children:[h.jsx("span",{className:"item-cat",children:s.category}),h.jsx("h3",{className:"item-name",children:s.name}),h.jsxs("p",{className:"item-price",children:["$",s.price.toFixed(2)]}),h.jsx("button",{onClick:()=>t(s),className:"add-cart-btn uppercase",children:"Add to Cart"})]})]},s.id))})]})})]})},Sj=[{id:1,title:"Golden Cinnamon Latte",category:"Beverages",image:Yi,time:"5 mins",desc:"A warm, soul-soothing latte infused with Ambrosia Divine Essence."},{id:2,title:"Authentic Sri Lankan Chai",category:"Beverages",image:Jo,time:"15 mins",desc:"A spiced tea tradition using whole Kuveni sticks."},{id:3,title:"Cinnamon Glazed Apple Tart",category:"Desserts",image:Yi,time:"45 mins",desc:"A classic dessert elevated by the floral notes of Ceylon cinnamon."},{id:4,title:"Health Benefits of Daily Cinnamon",category:"Wellness",image:Jo,time:"4 min read",desc:"How a pinch of Ambrosia every morning can change your metabolism."}],Aj=()=>h.jsxs("div",{className:"recipes-page",children:[h.jsx("section",{className:"recipes-hero",children:h.jsxs("div",{className:"container",children:[h.jsx("h1",{className:"text-6xl font-heading text-gold mb-4",children:"Recipes & Rituals"}),h.jsx("p",{className:"text-xl text-gray-400",children:"Discover the endless possibilities of true cinnamon."})]})}),h.jsx("section",{className:"recipes-grid-section py-20",children:h.jsx("div",{className:"container",children:h.jsx("div",{className:"recipes-grid",children:Sj.map(t=>h.jsxs("div",{className:"recipe-card",children:[h.jsxs("div",{className:"recipe-image",children:[h.jsx("img",{src:t.image,alt:t.title}),h.jsx("span",{className:"recipe-cat",children:t.category})]}),h.jsxs("div",{className:"recipe-info",children:[h.jsx("span",{className:"recipe-time",children:t.time}),h.jsx("h3",{className:"recipe-title",children:t.title}),h.jsx("p",{className:"recipe-desc",children:t.desc}),h.jsx("button",{className:"read-more",children:"Read More"})]})]},t.id))})})})]}),wj=()=>{const[t,e]=M.useState({name:"",email:"",subject:"General Inquiry",message:""}),[n,i]=M.useState(!1),r=a=>{e({...t,[a.target.name]:a.target.value})},s=async a=>{a.preventDefault(),i(!0);try{await Ew(Rc(Qi,"messages"),{...t,createdAt:$V(),status:"new"}),alert("Message sent successfully! We will get back to you soon."),e({name:"",email:"",subject:"General Inquiry",message:""})}catch(l){console.error("Error sending message:",l),alert("Failed to send message. Please try again.")}i(!1)};return h.jsxs("div",{className:"contact-page",children:[h.jsx("section",{className:"contact-hero",children:h.jsxs("div",{className:"container text-center",children:[h.jsx("h1",{className:"text-6xl font-heading text-gold mb-4",children:"Connect with Ambrosia"}),h.jsx("p",{className:"text-xl text-gray-400",children:"Questions about our cinnamon? We're here to help."})]})}),h.jsx("section",{className:"contact-content py-20",children:h.jsxs("div",{className:"container grid grid-cols-2 gap-20",children:[h.jsxs("div",{className:"contact-info",children:[h.jsx("h2",{className:"text-4xl font-heading text-white mb-8",children:"Get in Touch"}),h.jsxs("div",{className:"info-item mb-8",children:[h.jsx("h4",{className:"text-gold uppercase tracking-widest text-xs mb-2",children:"Email"}),h.jsx("p",{className:"text-xl text-gray-300",children:"essence@ambrosiaspice.com"})]}),h.jsxs("div",{className:"info-item mb-8",children:[h.jsx("h4",{className:"text-gold uppercase tracking-widest text-xs mb-2",children:"Phone"}),h.jsx("p",{className:"text-xl text-gray-300",children:"+94 11 234 5678"})]}),h.jsxs("div",{className:"info-item mb-8",children:[h.jsx("h4",{className:"text-gold uppercase tracking-widest text-xs mb-2",children:"Headquarters"}),h.jsx("p",{className:"text-xl text-gray-300",children:"Galle Road, Colombo 03, Sri Lanka"})]}),h.jsxs("div",{className:"social-links mt-12",children:[h.jsx("h4",{className:"text-gray-500 uppercase tracking-widest text-xs mb-4",children:"Follow Our Journey"}),h.jsxs("div",{className:"flex gap-6",children:[h.jsx("a",{href:"#",className:"text-gold hover:text-white transition-colors mr-4",children:"Instagram"}),h.jsx("a",{href:"#",className:"text-gold hover:text-white transition-colors mr-4",children:"Facebook"}),h.jsx("a",{href:"#",className:"text-gold hover:text-white transition-colors",children:"LinkedIn"})]})]})]}),h.jsx("div",{className:"contact-form-container",children:h.jsxs("form",{className:"contact-form",onSubmit:s,children:[h.jsx("div",{className:"form-group mb-6",children:h.jsx("input",{type:"text",name:"name",placeholder:"Your Name",className:"form-input",value:t.name,onChange:r,required:!0})}),h.jsx("div",{className:"form-group mb-6",children:h.jsx("input",{type:"email",name:"email",placeholder:"Email Address",className:"form-input",value:t.email,onChange:r,required:!0})}),h.jsx("div",{className:"form-group mb-6",children:h.jsxs("select",{name:"subject",className:"form-input",value:t.subject,onChange:r,children:[h.jsx("option",{children:"General Inquiry"}),h.jsx("option",{children:"Wholesale/B2B"}),h.jsx("option",{children:"Order Support"}),h.jsx("option",{children:"Press"})]})}),h.jsx("div",{className:"form-group mb-8",children:h.jsx("textarea",{name:"message",placeholder:"How can we help?",className:"form-input h-32",value:t.message,onChange:r,required:!0})}),h.jsx("button",{type:"submit",className:"btn w-full",disabled:n,children:n?"Sending...":"Send Message"})]})})]})})]})},xj=[{q:"Why is Sri Lankan cinnamon better?",a:"Sri Lankan (Ceylon) cinnamon has a much lower coumarin content compared to Cassia. It's also known for its delicate, sweet flavor and floral aroma that Cassia lacks."},{q:"How should I store my Ambrosia cinnamon?",a:"Store in a cool, dark place in an airtight container. Our premium jars are designed to protect the essential oils from light and moisture."},{q:"Do you ship internationally?",a:"Yes, Ambrosia ships to most countries worldwide. Shipping times vary depending on the location, typically 5-10 business days."},{q:"Is your cinnamon organic?",a:"We work with farms that follow sustainable, natural farming practices. While not all are certified 'Organic' yet, we ensure no synthetic pesticides or fertilizers are used."}],Rj=()=>h.jsxs("div",{className:"faq-page",children:[h.jsx("section",{className:"faq-hero py-20",children:h.jsxs("div",{className:"container text-center",children:[h.jsx("h1",{className:"text-5xl font-heading text-gold mb-4",children:"Frequently Asked Questions"}),h.jsx("p",{className:"text-gray-400",children:"Everything you need to know about Ambrosia."})]})}),h.jsx("section",{className:"faq-list-section py-12",children:h.jsx("div",{className:"container max-w-3xl",children:h.jsx("div",{className:"faq-list",children:xj.map((t,e)=>h.jsxs("div",{className:"faq-item mb-8",children:[h.jsx("h3",{className:"text-xl text-white mb-3 font-heading",children:t.q}),h.jsx("p",{className:"text-gray-400 leading-relaxed",children:t.a})]},e))})})})]}),Cj=()=>{const{cartItems:t,removeFromCart:e,updateQuantity:n,cartTotal:i}=ml();return t.length===0?h.jsx("div",{className:"cart-page py-32",children:h.jsxs("div",{className:"container text-center",children:[h.jsx("h1",{className:"text-4xl font-heading text-gold mb-8",children:"Your Cart is Empty"}),h.jsx("p",{className:"text-gray-400 mb-12",children:"Looks like you haven't added the essence of Ceylon to your collection yet."}),h.jsx(Ye,{to:"/shop",className:"btn",children:"Browse Shop"})]})}):h.jsx("div",{className:"cart-page py-32",children:h.jsxs("div",{className:"container",children:[h.jsx("h1",{className:"text-5xl font-heading text-gold mb-12",children:"Your Selection"}),h.jsxs("div",{className:"cart-grid",children:[h.jsxs("div",{className:"cart-items",children:[h.jsxs("div",{className:"cart-header grid grid-cols-4 gap-4 text-xs uppercase tracking-widest text-gray-500 pb-4 border-bottom border-white/5 mb-8",children:[h.jsx("div",{className:"col-span-2",children:"Product"}),h.jsx("div",{className:"text-center",children:"Quantity"}),h.jsx("div",{className:"text-right",children:"Total"})]}),t.map(r=>h.jsxs("div",{className:"cart-item-row grid grid-cols-4 gap-4 items-center py-6 border-bottom border-white/5",children:[h.jsxs("div",{className:"col-span-2 flex gap-6 items-center",children:[h.jsx("div",{className:"item-thumbnail w-24 h-24 bg-[#111] overflow-hidden rounded",children:h.jsx("img",{src:r.image,alt:r.name,className:"w-full h-full object-cover"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-white font-heading text-xl mb-1",children:r.name}),h.jsxs("p",{className:"text-gold text-sm",children:["$",r.price.toFixed(2)]}),h.jsx("button",{onClick:()=>e(r.id),className:"text-gray-600 text-xs mt-2 hover:text-red-500 transition-colors uppercase",children:"Remove"})]})]}),h.jsxs("div",{className:"flex justify-center items-center gap-4",children:[h.jsx("button",{onClick:()=>n(r.id,r.quantity-1),className:"qty-btn",children:"-"}),h.jsx("span",{className:"text-white",children:r.quantity}),h.jsx("button",{onClick:()=>n(r.id,r.quantity+1),className:"qty-btn",children:"+"})]}),h.jsxs("div",{className:"text-right text-white font-bold",children:["$",(r.price*r.quantity).toFixed(2)]})]},r.id))]}),h.jsxs("div",{className:"cart-summary bg-[#111] p-8 rounded-lg border border-white/5 h-fit",children:[h.jsx("h2",{className:"text-2xl font-heading text-white mb-8",children:"Summary"}),h.jsxs("div",{className:"summary-row flex justify-between mb-4",children:[h.jsx("span",{className:"text-gray-400",children:"Subtotal"}),h.jsxs("span",{className:"text-white",children:["$",i.toFixed(2)]})]}),h.jsxs("div",{className:"summary-row flex justify-between mb-8 pb-8 border-bottom border-white/5",children:[h.jsx("span",{className:"text-gray-400",children:"Shipping"}),h.jsx("span",{className:"text-gold",children:"Calculated at checkout"})]}),h.jsxs("div",{className:"summary-row flex justify-between mb-12",children:[h.jsx("span",{className:"text-xl text-white font-heading",children:"Total"}),h.jsxs("span",{className:"text-xl text-gold font-bold",children:["$",i.toFixed(2)]})]}),h.jsx(Ye,{to:"/checkout",className:"btn w-full text-center",children:"Proceed to Checkout"})]})]})]})})},Nj=()=>{const{cartItems:t,cartTotal:e,clearCart:n}=ml(),i=$c(),[r,s]=M.useState(!1),[a,l]=M.useState("card"),[u,c]=M.useState({firstName:"",lastName:"",email:"",address:"",city:"",country:"",shippingMethod:"standard"}),[d,g]=M.useState(10),p=I=>{const{name:T,value:v}=I.target;c(A=>({...A,[T]:v}))},_=(I,T)=>{c(v=>({...v,shippingMethod:I})),g(T)},C=async I=>{if(I.preventDefault(),s(!0),!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u.email)){alert("Please enter a valid email address."),s(!1);return}if(!u.firstName||!u.lastName||!u.address||!u.city||!u.country){alert("Please fill in all required fields."),s(!1);return}setTimeout(()=>{s(!1),n(),i("/order-confirmation",{state:{orderId:Math.floor(Math.random()*1e4)}})},2e3)};if(t.length===0)return setTimeout(()=>i("/cart"),0),null;const D=e+d;return h.jsx("div",{className:"checkout-page py-32",children:h.jsxs("div",{className:"container",children:[h.jsx("h1",{className:"text-5xl font-heading text-gold mb-12",children:"Checkout"}),h.jsxs("form",{onSubmit:C,className:"checkout-grid grid grid-cols-2 gap-20",children:[h.jsxs("div",{className:"checkout-form",children:[h.jsxs("section",{className:"checkout-section mb-12",children:[h.jsx("h2",{className:"text-2xl font-heading text-white mb-8 border-bottom border-white/5 pb-4",children:"Shipping Information"}),h.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[h.jsx("input",{type:"text",name:"firstName",placeholder:"First Name",className:"form-input",required:!0,value:u.firstName,onChange:p}),h.jsx("input",{type:"text",name:"lastName",placeholder:"Last Name",className:"form-input",required:!0,value:u.lastName,onChange:p})]}),h.jsx("input",{type:"email",name:"email",placeholder:"Email Address",className:"form-input mb-6",required:!0,value:u.email,onChange:p}),h.jsx("input",{type:"text",name:"address",placeholder:"Address",className:"form-input mb-6",required:!0,value:u.address,onChange:p}),h.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[h.jsx("input",{type:"text",name:"city",placeholder:"City",className:"form-input",required:!0,value:u.city,onChange:p}),h.jsx("input",{type:"text",name:"country",placeholder:"Country",className:"form-input",required:!0,value:u.country,onChange:p})]})]}),h.jsxs("section",{className:"checkout-section mb-12",children:[h.jsx("h2",{className:"text-2xl font-heading text-white mb-8 border-bottom border-white/5 pb-4",children:"Shipping Method"}),h.jsxs("div",{className:"shipping-options space-y-4",children:[h.jsxs("label",{className:`shipping-option flex items-center justify-between p-4 bg-[#111] border rounded cursor-pointer ${u.shippingMethod==="standard"?"border-gold":"border-white/5"}`,children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("input",{type:"radio",name:"shipping",checked:u.shippingMethod==="standard",onChange:()=>_("standard",10)}),h.jsx("span",{children:"Standard (5-10 Days)"})]}),h.jsx("span",{className:"text-gold",children:"$10.00"})]}),h.jsxs("label",{className:`shipping-option flex items-center justify-between p-4 bg-[#111] border rounded cursor-pointer ${u.shippingMethod==="express"?"border-gold":"border-white/5"}`,children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("input",{type:"radio",name:"shipping",checked:u.shippingMethod==="express",onChange:()=>_("express",25)}),h.jsx("span",{children:"Express (2-3 Days)"})]}),h.jsx("span",{className:"text-gold",children:"$25.00"})]})]})]}),h.jsxs("section",{className:"checkout-section mb-12",children:[h.jsx("h2",{className:"text-2xl font-heading text-white mb-8 border-bottom border-white/5 pb-4",children:"Payment Method"}),h.jsxs("div",{className:"payment-tabs flex gap-4 mb-8",children:[h.jsx("button",{type:"button",className:`payment-tab flex-1 p-4 rounded border ${a==="card"?"border-gold text-gold bg-gold/5":"border-white/5 text-gray-400"}`,onClick:()=>l("card"),children:"Credit Card"}),h.jsx("button",{type:"button",className:`payment-tab flex-1 p-4 rounded border ${a==="paypal"?"border-gold text-gold bg-gold/5":"border-white/5 text-gray-400"}`,onClick:()=>l("paypal"),children:"PayPal"})]}),a==="card"?h.jsxs("div",{className:"card-details space-y-6",children:[h.jsx("div",{className:"p-4 bg-yellow-500/10 border border-yellow-500/20 text-yellow-200 text-sm rounded",children:"Note: This is a secure checkout demonstration. No real charge will be made yet."}),h.jsx("input",{type:"text",placeholder:"Card Number",className:"form-input"}),h.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[h.jsx("input",{type:"text",placeholder:"MM / YY",className:"form-input"}),h.jsx("input",{type:"text",placeholder:"CVV",className:"form-input"})]})]}):h.jsx("div",{className:"paypal-notice p-8 bg-blue-600/5 border border-blue-600/20 rounded text-center",children:h.jsx("p",{className:"text-gray-300",children:"Proceed to complete your purchase securely with PayPal."})})]}),h.jsx("button",{type:"submit",disabled:r,className:`btn w-full py-5 text-lg uppercase tracking-widest mt-8 ${r?"opacity-50 cursor-not-allowed":""}`,children:r?"Processing...":"Place Order"})]}),h.jsx("div",{className:"checkout-sidebar",children:h.jsxs("div",{className:"order-summary bg-[#111] p-10 rounded-lg border border-white/5 sticky top-32",children:[h.jsx("h2",{className:"text-2xl font-heading text-white mb-8 border-bottom border-white/5 pb-4",children:"Order Summary"}),h.jsx("div",{className:"order-items space-y-6 mb-10 max-h-96 overflow-y-auto pr-2",children:t.map(I=>h.jsxs("div",{className:"flex justify-between items-center bg-black/20 p-3 rounded border border-white/5",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"item-thumbnail-mini w-12 h-12 overflow-hidden rounded bg-gray-800",children:h.jsx("img",{src:I.image,alt:I.name,className:"w-full h-full object-cover"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-white text-xs font-heading leading-tight mb-1",children:I.name}),h.jsxs("p",{className:"text-gray-500 text-[10px] uppercase tracking-widest",children:["Qty: ",I.quantity]})]})]}),h.jsxs("span",{className:"text-gold text-sm font-bold",children:["$",(I.price*I.quantity).toFixed(2)]})]},I.id))}),h.jsxs("div",{className:"summary-details pt-8 border-top border-white/10 space-y-4",children:[h.jsxs("div",{className:"flex justify-between text-gray-400",children:[h.jsx("span",{children:"Subtotal"}),h.jsxs("span",{children:["$",e.toFixed(2)]})]}),h.jsxs("div",{className:"flex justify-between text-gray-400",children:[h.jsx("span",{children:"Shipping"}),h.jsxs("span",{children:["$",d.toFixed(2)]})]}),h.jsxs("div",{className:"flex justify-between text-xl text-white font-heading font-bold pt-4 border-top border-white/5",children:[h.jsx("span",{children:"Total"}),h.jsxs("span",{className:"text-gold",children:["$",D.toFixed(2)]})]})]})]})})]})]})})},Ij=()=>{var n;const e=((n=or().state)==null?void 0:n.orderId)||"AMB-"+Math.floor(1e5+Math.random()*9e5);return h.jsx("div",{className:"confirmation-page py-48",children:h.jsxs("div",{className:"container text-center",children:[h.jsx("div",{className:"success-icon text-gold text-7xl mb-8",children:""}),h.jsx("h1",{className:"text-6xl font-heading text-gold mb-6",children:"Order Confirmed"}),h.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto leading-relaxed mb-12",children:"Thank you for choosing Ambrosia. We've received your order and are currently preparing your selection of prime cinnamon for its journey to your doorstep."}),h.jsxs("div",{className:"order-details-summary bg-[#111] p-10 rounded max-w-lg mx-auto border border-white/5 mb-16",children:[h.jsxs("p",{className:"text-gray-500 text-sm mb-4",children:["Order #",e]}),h.jsx("p",{className:"text-white",children:"A confirmation email has been sent. You can track your 100% Sri Lankan delivery once the quills are dispatched."})]}),h.jsxs("div",{className:"flex justify-center gap-8",children:[h.jsx(Ye,{to:"/shop",className:"btn btn-outline",children:"Continue Shopping"}),h.jsx(Ye,{to:"/",className:"btn",children:"Back to Home"})]})]})})},xw=({title:t})=>h.jsx("div",{className:"section",style:{paddingTop:"150px",minHeight:"80vh"},children:h.jsxs("div",{className:"container text-center",children:[h.jsx("h1",{className:"text-6xl text-gold mb-8",children:t}),h.jsx("p",{className:"text-xl text-gray-500",children:"This section is coming soon as part of the Ambrosia mission."})]})}),Dj=()=>h.jsx(xw,{title:"Privacy Policy"}),Oj=()=>h.jsx(xw,{title:"Terms & Conditions"}),Mj=()=>{const[t,e]=M.useState(""),[n,i]=M.useState(""),[r,s]=M.useState(""),[a,l]=M.useState(!1),u=$c(),c=async d=>{d.preventDefault(),s(""),l(!0);try{await gD(fg,t,n),u("/admin")}catch(g){console.error("Login Error:",g),s(g.code?`Error: ${g.code}`:"Invalid credentials. Access denied.")}finally{l(!1)}};return h.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center p-4",children:h.jsxs("div",{className:"w-full max-w-md bg-[#111] p-8 rounded-lg border border-white/10",children:[h.jsxs("div",{className:"text-center mb-10",children:[h.jsx("h1",{className:"text-3xl font-heading text-gold mb-2",children:"Ambrosia Admin"}),h.jsx("p",{className:"text-gray-500 uppercase text-xs tracking-widest",children:"Restricted Access"})]}),r&&h.jsx("div",{className:"bg-red-500/10 border border-red-500/20 text-red-400 p-3 rounded mb-6 text-sm text-center",children:r}),h.jsxs("form",{onSubmit:c,className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Email"}),h.jsx("input",{type:"email",value:t,onChange:d=>e(d.target.value),className:"w-full bg-[#1a1a1a] border border-white/10 rounded p-3 text-white focus:outline-none focus:border-gold transition-colors",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Password"}),h.jsx("input",{type:"password",value:n,onChange:d=>i(d.target.value),className:"w-full bg-[#1a1a1a] border border-white/10 rounded p-3 text-white focus:outline-none focus:border-gold transition-colors",required:!0})]}),h.jsx("button",{type:"submit",disabled:a,className:`w-full bg-gold text-black font-bold py-3 rounded uppercase tracking-widest transition-all hover:bg-white ${a?"opacity-50 cursor-not-allowed":""}`,children:a?"Authenticating...":"Login"})]})]})})};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rw=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jj=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=t=>{const e=jj(t);return e.charAt(0).toUpperCase()+e.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var kj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lj=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pj=M.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:r="",children:s,iconNode:a,...l},u)=>M.createElement("svg",{ref:u,...kj,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:Rw("lucide",r),...!s&&!Lj(l)&&{"aria-hidden":"true"},...l},[...a.map(([c,d])=>M.createElement(c,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _h=(t,e)=>{const n=M.forwardRef(({className:i,...r},s)=>M.createElement(Pj,{ref:s,iconNode:e,className:Rw(`lucide-${Vj(AE(t))}`,`lucide-${t}`,i),...r}));return n.displayName=AE(t),n};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uj=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],zj=_h("clock",Uj);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bj=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],qj=_h("mail",Bj);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=[["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}],["path",{d:"m9 17-5-5 5-5",key:"nvlc11"}]],Fj=_h("reply",Hj);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Kj=_h("trash-2",Gj),Qj=()=>{const t=$c(),{currentUser:e,isAdmin:n,loading:i}=sj();if(b1.useEffect(()=>{!i&&(!e||!n)&&t("/admin/login")},[e,n,i,t]),i)return h.jsx("div",{className:"min-h-screen bg-black text-gold flex items-center justify-center",children:"Loading Admin..."});if(!n)return null;const r=async()=>{try{await ED(fg),t("/admin/login")}catch(s){console.error("Logout failed:",s)}};return h.jsxs("div",{className:"min-h-screen bg-black flex",children:[h.jsxs("aside",{className:"w-64 bg-[#111] border-r border-white/5 flex flex-col fixed h-full z-10",children:[h.jsxs("div",{className:"p-8 border-b border-white/5",children:[h.jsx("h1",{className:"text-2xl font-heading text-gold",children:"Ambrosia"}),h.jsx("span",{className:"text-gray-600 text-[10px] uppercase tracking-[0.2em] block mt-1",children:"Admin Console"})]}),h.jsxs("nav",{className:"flex-1 p-4 space-y-2 mt-4",children:[h.jsx(NavLink,{to:"/admin",end:!0,className:({isActive:s})=>`flex items-center gap-3 p-3 rounded text-sm uppercase tracking-wider transition-colors ${s?"bg-gold/10 text-gold":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:"Dashboard"}),h.jsx(NavLink,{to:"/admin/orders",className:({isActive:s})=>`flex items-center gap-3 p-3 rounded text-sm uppercase tracking-wider transition-colors ${s?"bg-gold/10 text-gold":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:"Orders"}),h.jsx(NavLink,{to:"/admin/products",className:({isActive:s})=>`flex items-center gap-3 p-3 rounded text-sm uppercase tracking-wider transition-colors ${s?"bg-gold/10 text-gold":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:"Products"}),h.jsx(NavLink,{to:"/admin/inventory",className:({isActive:s})=>`flex items-center gap-3 p-3 rounded text-sm uppercase tracking-wider transition-colors ${s?"bg-gold/10 text-gold":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:"Inventory"})]}),h.jsx("div",{className:"p-4 border-t border-white/5",children:h.jsx("button",{onClick:r,className:"w-full flex items-center justify-center gap-2 p-3 text-red-400 hover:bg-red-500/10 rounded transition-colors text-sm uppercase tracking-wider",children:"Logout"})})]}),h.jsx("main",{className:"flex-1 ml-64 p-8",children:h.jsx("div",{className:"max-w-7xl mx-auto",children:h.jsx(ZC,{})})})]})},Yj=()=>h.jsxs("div",{children:[h.jsxs("header",{className:"mb-10",children:[h.jsx("h1",{className:"text-3xl font-heading text-white",children:"Dashboard Overview"}),h.jsx("p",{className:"text-gray-500 mt-2",children:"Welcome back to the command center."})]}),h.jsxs("div",{className:"grid grid-cols-3 gap-6 mb-12",children:[h.jsxs("div",{className:"bg-[#111] p-6 rounded-lg border border-white/5",children:[h.jsx("h3",{className:"text-gray-500 text-sm uppercase tracking-widest mb-2",children:"Total Revenue"}),h.jsx("p",{className:"text-3xl font-heading text-gold",children:"$12,450.00"}),h.jsx("span",{className:"text-green-500 text-xs mt-2 block",children:" 12% from last month"})]}),h.jsxs("div",{className:"bg-[#111] p-6 rounded-lg border border-white/5",children:[h.jsx("h3",{className:"text-gray-500 text-sm uppercase tracking-widest mb-2",children:"Pending Orders"}),h.jsx("p",{className:"text-3xl font-heading text-white",children:"8"}),h.jsx("span",{className:"text-yellow-500 text-xs mt-2 block",children:"Requires attention"})]}),h.jsxs("div",{className:"bg-[#111] p-6 rounded-lg border border-white/5",children:[h.jsx("h3",{className:"text-gray-500 text-sm uppercase tracking-widest mb-2",children:"Total Products"}),h.jsx("p",{className:"text-3xl font-heading text-white",children:"24"}),h.jsx("span",{className:"text-gray-500 text-xs mt-2 block",children:"In stock"})]})]}),h.jsxs("div",{className:"bg-[#111] rounded-lg border border-white/5 overflow-hidden",children:[h.jsxs("div",{className:"p-6 border-b border-white/5 flex justify-between items-center",children:[h.jsx("h2",{className:"text-xl font-heading text-white",children:"Recent Orders"}),h.jsx("button",{className:"text-gold text-xs uppercase tracking-widest hover:text-white transition-colors",children:"View All"})]}),h.jsx("div",{className:"p-6",children:h.jsx("p",{className:"text-gray-500 text-center py-10",children:"Data syncing with Firestore..."})})]})]}),$j=()=>{const[t,e]=M.useState([]),[n,i]=M.useState(!0);M.useEffect(()=>{const l=Tw(Rc(Qi,"orders"),u=>{const c=u.docs.map(d=>{var g;return{id:d.id,...d.data(),date:((g=d.data().created_at)==null?void 0:g.toDate().toLocaleDateString())||"N/A"}});e(c),i(!1)});return()=>l()},[]);const r=async(l,u)=>{try{await vw(Wo(Qi,"orders",l),{status:u})}catch(c){console.error("Error updating status:",c),alert("Failed to update status")}},s=async()=>{[{user:"alex@example.com",items:3,total:145,status:"Pending",created_at:ye.now()},{user:"sarah@example.com",items:1,total:45,status:"Processing",created_at:ye.now()},{user:"mike@example.com",items:5,total:230.5,status:"Shipped",created_at:ye.now()}].forEach(async u=>{await Ew(Rc(Qi,"orders"),u)})},a=l=>{switch(l){case"Pending":return"text-yellow-500 bg-yellow-500/10 border-yellow-500/20";case"Processing":return"text-blue-400 bg-blue-500/10 border-blue-500/20";case"Shipped":return"text-purple-400 bg-purple-500/10 border-purple-500/20";case"Delivered":return"text-green-500 bg-green-500/10 border-green-500/20";default:return"text-gray-400 bg-gray-500/10 border-gray-500/20"}};return h.jsxs("div",{children:[h.jsxs("header",{className:"mb-10 flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-heading text-white",children:"Orders Management"}),h.jsx("p",{className:"text-gray-500 mt-2",children:"Track and manage customer orders."})]}),h.jsxs("div",{className:"flex gap-4",children:[h.jsx("button",{onClick:s,className:"bg-white/5 hover:bg-white/10 text-white px-4 py-2 rounded text-xs uppercase tracking-widest border border-white/10",children:"Seed Test Data"}),h.jsx("input",{type:"text",placeholder:"Search orders...",className:"bg-[#1a1a1a] border border-white/10 rounded-full px-4 py-2 text-sm text-white focus:outline-none focus:border-gold w-64"})]})]}),h.jsx("div",{className:"bg-[#111] rounded-lg border border-white/5 overflow-hidden",children:n?h.jsx("div",{className:"p-10 text-center text-gray-500",children:"Loading live orders..."}):h.jsxs("table",{className:"w-full text-left border-collapse",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"border-b border-white/5 text-gray-500 text-xs uppercase tracking-widest",children:[h.jsx("th",{className:"p-6 font-normal",children:"Order ID"}),h.jsx("th",{className:"p-6 font-normal",children:"Customer"}),h.jsx("th",{className:"p-6 font-normal",children:"Date"}),h.jsx("th",{className:"p-6 font-normal text-center",children:"Items"}),h.jsx("th",{className:"p-6 font-normal text-right",children:"Total"}),h.jsx("th",{className:"p-6 font-normal",children:"Status"}),h.jsx("th",{className:"p-6 font-normal",children:"Actions"})]})}),h.jsx("tbody",{className:"divide-y divide-white/5",children:t.length===0?h.jsx("tr",{children:h.jsx("td",{colSpan:"7",className:"p-10 text-center text-gray-500",children:'No orders found in database. Click "Seed Test Data" to populate.'})}):t.map(l=>h.jsxs("tr",{className:"hover:bg-white/5 transition-colors",children:[h.jsx("td",{className:"p-6 text-white font-medium text-xs font-mono opacity-70",children:l.id}),h.jsx("td",{className:"p-6 text-gray-400",children:l.user}),h.jsx("td",{className:"p-6 text-gray-400",children:l.date}),h.jsx("td",{className:"p-6 text-gray-400 text-center",children:l.items}),h.jsxs("td",{className:"p-6 text-gold font-bold text-right",children:["$",l.total?l.total.toFixed(2):"0.00"]}),h.jsx("td",{className:"p-6",children:h.jsx("span",{className:`px-3 py-1 rounded-full text-xs uppercase tracking-wider border ${a(l.status)}`,children:l.status})}),h.jsx("td",{className:"p-6",children:h.jsxs("select",{className:"bg-black border border-white/10 rounded px-2 py-1 text-xs text-gray-300 focus:border-gold outline-none cursor-pointer",value:l.status,onChange:u=>r(l.id,u.target.value),children:[h.jsx("option",{value:"Pending",children:"Pending"}),h.jsx("option",{value:"Processing",children:"Processing"}),h.jsx("option",{value:"Packed",children:"Packed"}),h.jsx("option",{value:"Shipped",children:"Shipped"}),h.jsx("option",{value:"Delivered",children:"Delivered"}),h.jsx("option",{value:"Cancelled",children:"Cancelled"})]})})]},l.id))})]})})]})},Xj=()=>h.jsxs("div",{className:"admin-container p-6",children:[h.jsx("h1",{className:"text-3xl font-heading text-gold mb-8",children:"Product Management"}),h.jsxs("div",{className:"bg-[#111] p-8 rounded border border-white/5 text-center",children:[h.jsx("p",{className:"text-gray-400",children:"Product inventory management features coming soon."}),h.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-3 gap-6",children:[h.jsxs("div",{className:"p-6 bg-black/40 border border-gold/20 rounded",children:[h.jsx("h3",{className:"text-xl text-white font-heading mb-2",children:"Alba Grade"}),h.jsx("p",{className:"text-gold",children:"$45.00 / tin"}),h.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Stock: 150 units"})]}),h.jsxs("div",{className:"p-6 bg-black/40 border border-gold/20 rounded",children:[h.jsx("h3",{className:"text-xl text-white font-heading mb-2",children:"C5 Special"}),h.jsx("p",{className:"text-gold",children:"$38.00 / tin"}),h.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Stock: 85 units"})]}),h.jsxs("div",{className:"p-6 bg-black/40 border border-gold/20 rounded",children:[h.jsx("h3",{className:"text-xl text-white font-heading mb-2",children:"Ground Cinnamon"}),h.jsx("p",{className:"text-gold",children:"$12.00 / pack"}),h.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Stock: 500 units"})]})]})]})]}),Wj=()=>{const[t,e]=M.useState([]),[n,i]=M.useState(!0);M.useEffect(()=>{const a=JV(Rc(Qi,"messages"),ZV("createdAt","desc")),l=Tw(a,u=>{e(u.docs.map(c=>({id:c.id,...c.data()}))),i(!1)});return()=>l()},[]);const r=async(a,l)=>{l==="new"&&await vw(Wo(Qi,"messages",a),{status:"read"})},s=async a=>{window.confirm("Are you sure you want to delete this message?")&&await ij(Wo(Qi,"messages",a))};return n?h.jsx("div",{className:"p-8 text-gold",children:"Loading messages..."}):h.jsxs("div",{className:"admin-container p-6",children:[h.jsxs("h1",{className:"text-3xl font-heading text-gold mb-8 flex items-center gap-3",children:[h.jsx(qj,{})," Messages & Inquiries"]}),h.jsx("div",{className:"grid gap-4",children:t.length===0?h.jsx("div",{className:"text-gray-400",children:"No messages found."}):t.map(a=>{var l,u;return h.jsxs("div",{className:`p-6 rounded-lg border border-gold/10 transition-all ${a.status==="new"?"bg-gold/5 border-gold/30":"bg-black/40"}`,onClick:()=>r(a.id,a.status),children:[h.jsxs("div",{className:"flex justify-between items-start mb-4",children:[h.jsxs("div",{children:[h.jsxs("h3",{className:"text-xl text-white font-semibold flex items-center gap-2",children:[a.subject,a.status==="new"&&h.jsx("span",{className:"text-xs bg-gold text-black px-2 py-0.5 rounded-full font-bold",children:"NEW"})]}),h.jsxs("p",{className:"text-gold/80 text-sm mt-1",children:["From: ",a.name," (",a.email,")"]})]}),h.jsxs("div",{className:"text-right",children:[h.jsxs("p",{className:"text-gray-500 text-sm flex items-center gap-1 justify-end",children:[h.jsx(zj,{size:14}),(l=a.createdAt)==null?void 0:l.toDate().toLocaleDateString()," ",(u=a.createdAt)==null?void 0:u.toDate().toLocaleTimeString()]}),h.jsxs("div",{className:"flex gap-2 mt-3 justify-end",children:[h.jsx("a",{href:`mailto:${a.email}?subject=Re: ${a.subject}`,className:"p-2 bg-gold/10 text-gold rounded hover:bg-gold hover:text-black transition-colors",title:"Reply via Email",children:h.jsx(Fj,{size:16})}),h.jsx("button",{onClick:c=>{c.stopPropagation(),s(a.id)},className:"p-2 bg-red-500/10 text-red-500 rounded hover:bg-red-500 hover:text-white transition-colors",title:"Delete Message",children:h.jsx(Kj,{size:16})})]})]})]}),h.jsx("p",{className:"text-gray-300 whitespace-pre-wrap",children:a.message})]},a.id)})})]})};function Jj(){return h.jsx(aj,{children:h.jsx(MN,{children:h.jsx(AN,{basename:"/Ambrosia/",children:h.jsx("div",{className:"app",children:h.jsxs(F_,{children:[h.jsx(Ue,{path:"/admin/login",element:h.jsx(Mj,{})}),h.jsxs(Ue,{path:"/admin",element:h.jsx(Qj,{}),children:[h.jsx(Ue,{index:!0,element:h.jsx(Yj,{})}),h.jsx(Ue,{path:"orders",element:h.jsx($j,{})}),h.jsx(Ue,{path:"products",element:h.jsx(Xj,{})}),h.jsx(Ue,{path:"messages",element:h.jsx(Wj,{})})]}),h.jsx(Ue,{path:"/*",element:h.jsxs(h.Fragment,{children:[h.jsx(oj,{}),h.jsx("main",{children:h.jsxs(F_,{children:[h.jsx(Ue,{path:"/",element:h.jsx(_j,{})}),h.jsx(Ue,{path:"/about-us",element:h.jsx(vj,{})}),h.jsx(Ue,{path:"/about-cinnamon",element:h.jsx(Tj,{})}),h.jsx(Ue,{path:"/shop",element:h.jsx(bj,{})}),h.jsx(Ue,{path:"/recipes",element:h.jsx(Aj,{})}),h.jsx(Ue,{path:"/contact",element:h.jsx(wj,{})}),h.jsx(Ue,{path:"/cart",element:h.jsx(Cj,{})}),h.jsx(Ue,{path:"/checkout",element:h.jsx(Nj,{})}),h.jsx(Ue,{path:"/order-confirmation",element:h.jsx(Ij,{})}),h.jsx(Ue,{path:"/faq",element:h.jsx(Rj,{})}),h.jsx(Ue,{path:"/privacy",element:h.jsx(Dj,{})}),h.jsx(Ue,{path:"/terms",element:h.jsx(Oj,{})})]})}),h.jsx(lj,{})]})})]})})})})})}tC.createRoot(document.getElementById("root")).render(h.jsx(M.StrictMode,{children:h.jsx(Jj,{})}));
