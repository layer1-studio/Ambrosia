(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();function N1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var O0={exports:{}},Mu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R1=Symbol.for("react.transitional.element"),C1=Symbol.for("react.fragment");function k0(t,e,n){var i=null;if(n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),"key"in e){n={};for(var s in e)s!=="key"&&(n[s]=e[s])}else n=e;return e=n.ref,{$$typeof:R1,type:t,key:i,ref:e!==void 0?e:null,props:n}}Mu.Fragment=C1;Mu.jsx=k0;Mu.jsxs=k0;O0.exports=Mu;var u=O0.exports,M0={exports:{}},J={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tm=Symbol.for("react.transitional.element"),I1=Symbol.for("react.portal"),D1=Symbol.for("react.fragment"),j1=Symbol.for("react.strict_mode"),O1=Symbol.for("react.profiler"),k1=Symbol.for("react.consumer"),M1=Symbol.for("react.context"),V1=Symbol.for("react.forward_ref"),L1=Symbol.for("react.suspense"),P1=Symbol.for("react.memo"),V0=Symbol.for("react.lazy"),U1=Symbol.for("react.activity"),Ey=Symbol.iterator;function z1(t){return t===null||typeof t!="object"?null:(t=Ey&&t[Ey]||t["@@iterator"],typeof t=="function"?t:null)}var L0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P0=Object.assign,U0={};function aa(t,e,n){this.props=t,this.context=e,this.refs=U0,this.updater=n||L0}aa.prototype.isReactComponent={};aa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};aa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function z0(){}z0.prototype=aa.prototype;function wm(t,e,n){this.props=t,this.context=e,this.refs=U0,this.updater=n||L0}var Sm=wm.prototype=new z0;Sm.constructor=wm;P0(Sm,aa.prototype);Sm.isPureReactComponent=!0;var by=Array.isArray;function Wd(){}var Ae={H:null,A:null,T:null,S:null},B0=Object.prototype.hasOwnProperty;function Am(t,e,n){var i=n.ref;return{$$typeof:Tm,type:t,key:e,ref:i!==void 0?i:null,props:n}}function B1(t,e){return Am(t.type,e,t.props)}function Nm(t){return typeof t=="object"&&t!==null&&t.$$typeof===Tm}function q1(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var xy=/\/+/g;function Wh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?q1(""+t.key):e.toString(36)}function H1(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(Wd,Wd):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function or(t,e,n,i,s){var r=typeof t;(r==="undefined"||r==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(r){case"bigint":case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Tm:case I1:a=!0;break;case V0:return a=t._init,or(a(t._payload),e,n,i,s)}}if(a)return s=s(t),a=i===""?"."+Wh(t,0):i,by(s)?(n="",a!=null&&(n=a.replace(xy,"$&/")+"/"),or(s,e,n,"",function(h){return h})):s!=null&&(Nm(s)&&(s=B1(s,n+(s.key==null||t&&t.key===s.key?"":(""+s.key).replace(xy,"$&/")+"/")+a)),e.push(s)),1;a=0;var l=i===""?".":i+":";if(by(t))for(var c=0;c<t.length;c++)i=t[c],r=l+Wh(i,c),a+=or(i,e,n,r,s);else if(c=z1(t),typeof c=="function")for(t=c.call(t),c=0;!(i=t.next()).done;)i=i.value,r=l+Wh(i,c++),a+=or(i,e,n,r,s);else if(r==="object"){if(typeof t.then=="function")return or(H1(t),e,n,i,s);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return a}function Kl(t,e,n){if(t==null)return t;var i=[],s=0;return or(t,i,"","",function(r){return e.call(n,r,s++)}),i}function F1(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ty=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},G1={map:Kl,forEach:function(t,e,n){Kl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Kl(t,function(){e++}),e},toArray:function(t){return Kl(t,function(e){return e})||[]},only:function(t){if(!Nm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};J.Activity=U1;J.Children=G1;J.Component=aa;J.Fragment=D1;J.Profiler=O1;J.PureComponent=wm;J.StrictMode=j1;J.Suspense=L1;J.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ae;J.__COMPILER_RUNTIME={__proto__:null,c:function(t){return Ae.H.useMemoCache(t)}};J.cache=function(t){return function(){return t.apply(null,arguments)}};J.cacheSignal=function(){return null};J.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var i=P0({},t.props),s=t.key;if(e!=null)for(r in e.key!==void 0&&(s=""+e.key),e)!B0.call(e,r)||r==="key"||r==="__self"||r==="__source"||r==="ref"&&e.ref===void 0||(i[r]=e[r]);var r=arguments.length-2;if(r===1)i.children=n;else if(1<r){for(var a=Array(r),l=0;l<r;l++)a[l]=arguments[l+2];i.children=a}return Am(t.type,s,i)};J.createContext=function(t){return t={$$typeof:M1,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:k1,_context:t},t};J.createElement=function(t,e,n){var i,s={},r=null;if(e!=null)for(i in e.key!==void 0&&(r=""+e.key),e)B0.call(e,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(s[i]=e[i]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)s[i]===void 0&&(s[i]=a[i]);return Am(t,r,s)};J.createRef=function(){return{current:null}};J.forwardRef=function(t){return{$$typeof:V1,render:t}};J.isValidElement=Nm;J.lazy=function(t){return{$$typeof:V0,_payload:{_status:-1,_result:t},_init:F1}};J.memo=function(t,e){return{$$typeof:P1,type:t,compare:e===void 0?null:e}};J.startTransition=function(t){var e=Ae.T,n={};Ae.T=n;try{var i=t(),s=Ae.S;s!==null&&s(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(Wd,Ty)}catch(r){Ty(r)}finally{e!==null&&n.types!==null&&(e.types=n.types),Ae.T=e}};J.unstable_useCacheRefresh=function(){return Ae.H.useCacheRefresh()};J.use=function(t){return Ae.H.use(t)};J.useActionState=function(t,e,n){return Ae.H.useActionState(t,e,n)};J.useCallback=function(t,e){return Ae.H.useCallback(t,e)};J.useContext=function(t){return Ae.H.useContext(t)};J.useDebugValue=function(){};J.useDeferredValue=function(t,e){return Ae.H.useDeferredValue(t,e)};J.useEffect=function(t,e){return Ae.H.useEffect(t,e)};J.useEffectEvent=function(t){return Ae.H.useEffectEvent(t)};J.useId=function(){return Ae.H.useId()};J.useImperativeHandle=function(t,e,n){return Ae.H.useImperativeHandle(t,e,n)};J.useInsertionEffect=function(t,e){return Ae.H.useInsertionEffect(t,e)};J.useLayoutEffect=function(t,e){return Ae.H.useLayoutEffect(t,e)};J.useMemo=function(t,e){return Ae.H.useMemo(t,e)};J.useOptimistic=function(t,e){return Ae.H.useOptimistic(t,e)};J.useReducer=function(t,e,n){return Ae.H.useReducer(t,e,n)};J.useRef=function(t){return Ae.H.useRef(t)};J.useState=function(t){return Ae.H.useState(t)};J.useSyncExternalStore=function(t,e,n){return Ae.H.useSyncExternalStore(t,e,n)};J.useTransition=function(){return Ae.H.useTransition()};J.version="19.2.3";M0.exports=J;var C=M0.exports;const K1=N1(C);var q0={exports:{}},Vu={},H0={exports:{}},F0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(H,te){var W=H.length;H.push(te);e:for(;0<W;){var _e=W-1>>>1,ze=H[_e];if(0<s(ze,te))H[_e]=te,H[W]=ze,W=_e;else break e}}function n(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var te=H[0],W=H.pop();if(W!==te){H[0]=W;e:for(var _e=0,ze=H.length,ps=ze>>>1;_e<ps;){var gs=2*(_e+1)-1,tr=H[gs],Yt=gs+1,ui=H[Yt];if(0>s(tr,W))Yt<ze&&0>s(ui,tr)?(H[_e]=ui,H[Yt]=W,_e=Yt):(H[_e]=tr,H[gs]=W,_e=gs);else if(Yt<ze&&0>s(ui,W))H[_e]=ui,H[Yt]=W,_e=Yt;else break e}}return te}function s(H,te){var W=H.sortIndex-te.sortIndex;return W!==0?W:H.id-te.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],h=[],f=1,m=null,p=3,v=!1,R=!1,D=!1,j=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;function I(H){for(var te=n(h);te!==null;){if(te.callback===null)i(h);else if(te.startTime<=H)i(h),te.sortIndex=te.expirationTime,e(c,te);else break;te=n(h)}}function U(H){if(D=!1,I(H),!R)if(n(c)!==null)R=!0,q||(q=!0,O());else{var te=n(h);te!==null&&on(U,te.startTime-H)}}var q=!1,T=-1,E=5,w=-1;function A(){return j?!0:!(t.unstable_now()-w<E)}function N(){if(j=!1,q){var H=t.unstable_now();w=H;var te=!0;try{e:{R=!1,D&&(D=!1,y(T),T=-1),v=!0;var W=p;try{t:{for(I(H),m=n(c);m!==null&&!(m.expirationTime>H&&A());){var _e=m.callback;if(typeof _e=="function"){m.callback=null,p=m.priorityLevel;var ze=_e(m.expirationTime<=H);if(H=t.unstable_now(),typeof ze=="function"){m.callback=ze,I(H),te=!0;break t}m===n(c)&&i(c),I(H)}else i(c);m=n(c)}if(m!==null)te=!0;else{var ps=n(h);ps!==null&&on(U,ps.startTime-H),te=!1}}break e}finally{m=null,p=W,v=!1}te=void 0}}finally{te?O():q=!1}}}var O;if(typeof b=="function")O=function(){b(N)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,mt=S.port2;S.port1.onmessage=N,O=function(){mt.postMessage(null)}}else O=function(){x(N,0)};function on(H,te){T=x(function(){H(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(H){switch(p){case 1:case 2:case 3:var te=3;break;default:te=p}var W=p;p=te;try{return H()}finally{p=W}},t.unstable_requestPaint=function(){j=!0},t.unstable_runWithPriority=function(H,te){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var W=p;p=H;try{return te()}finally{p=W}},t.unstable_scheduleCallback=function(H,te,W){var _e=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?_e+W:_e):W=_e,H){case 1:var ze=-1;break;case 2:ze=250;break;case 5:ze=1073741823;break;case 4:ze=1e4;break;default:ze=5e3}return ze=W+ze,H={id:f++,callback:te,priorityLevel:H,startTime:W,expirationTime:ze,sortIndex:-1},W>_e?(H.sortIndex=W,e(h,H),n(c)===null&&H===n(h)&&(D?(y(T),T=-1):D=!0,on(U,W-_e))):(H.sortIndex=ze,e(c,H),R||v||(R=!0,q||(q=!0,O()))),H},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(H){var te=p;return function(){var W=p;p=te;try{return H.apply(this,arguments)}finally{p=W}}}})(F0);H0.exports=F0;var Y1=H0.exports,G0={exports:{}},wt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q1=C;function K0(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function yi(){}var Tt={d:{f:yi,r:function(){throw Error(K0(522))},D:yi,C:yi,L:yi,m:yi,X:yi,S:yi,M:yi},p:0,findDOMNode:null},$1=Symbol.for("react.portal");function X1(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$1,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}var lo=Q1.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Lu(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Tt;wt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(K0(299));return X1(t,e,null,n)};wt.flushSync=function(t){var e=lo.T,n=Tt.p;try{if(lo.T=null,Tt.p=2,t)return t()}finally{lo.T=e,Tt.p=n,Tt.d.f()}};wt.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Tt.d.C(t,e))};wt.prefetchDNS=function(t){typeof t=="string"&&Tt.d.D(t)};wt.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,i=Lu(n,e.crossOrigin),s=typeof e.integrity=="string"?e.integrity:void 0,r=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?Tt.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:i,integrity:s,fetchPriority:r}):n==="script"&&Tt.d.X(t,{crossOrigin:i,integrity:s,fetchPriority:r,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};wt.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=Lu(e.as,e.crossOrigin);Tt.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Tt.d.M(t)};wt.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,i=Lu(n,e.crossOrigin);Tt.d.L(t,n,{crossOrigin:i,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};wt.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=Lu(e.as,e.crossOrigin);Tt.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Tt.d.m(t)};wt.requestFormReset=function(t){Tt.d.r(t)};wt.unstable_batchedUpdates=function(t,e){return t(e)};wt.useFormState=function(t,e,n){return lo.H.useFormState(t,e,n)};wt.useFormStatus=function(){return lo.H.useHostTransitionStatus()};wt.version="19.2.3";function Y0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Y0)}catch(t){console.error(t)}}Y0(),G0.exports=wt;var W1=G0.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Je=Y1,Q0=C,J1=W1;function L(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function $0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function sl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function X0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function W0(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function wy(t){if(sl(t)!==t)throw Error(L(188))}function Z1(t){var e=t.alternate;if(!e){if(e=sl(t),e===null)throw Error(L(188));return e!==t?null:t}for(var n=t,i=e;;){var s=n.return;if(s===null)break;var r=s.alternate;if(r===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===n)return wy(s),t;if(r===i)return wy(s),e;r=r.sibling}throw Error(L(188))}if(n.return!==i.return)n=s,i=r;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,i=r;break}if(l===i){a=!0,i=s,n=r;break}l=l.sibling}if(!a){for(l=r.child;l;){if(l===n){a=!0,n=r,i=s;break}if(l===i){a=!0,i=r,n=s;break}l=l.sibling}if(!a)throw Error(L(189))}}if(n.alternate!==i)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?t:e}function J0(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=J0(t),e!==null)return e;t=t.sibling}return null}var Ne=Object.assign,eA=Symbol.for("react.element"),Yl=Symbol.for("react.transitional.element"),Wa=Symbol.for("react.portal"),mr=Symbol.for("react.fragment"),Z0=Symbol.for("react.strict_mode"),Jd=Symbol.for("react.profiler"),eE=Symbol.for("react.consumer"),Hn=Symbol.for("react.context"),Rm=Symbol.for("react.forward_ref"),Zd=Symbol.for("react.suspense"),ef=Symbol.for("react.suspense_list"),Cm=Symbol.for("react.memo"),_i=Symbol.for("react.lazy"),tf=Symbol.for("react.activity"),tA=Symbol.for("react.memo_cache_sentinel"),Sy=Symbol.iterator;function qa(t){return t===null||typeof t!="object"?null:(t=Sy&&t[Sy]||t["@@iterator"],typeof t=="function"?t:null)}var nA=Symbol.for("react.client.reference");function nf(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===nA?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case mr:return"Fragment";case Jd:return"Profiler";case Z0:return"StrictMode";case Zd:return"Suspense";case ef:return"SuspenseList";case tf:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Wa:return"Portal";case Hn:return t.displayName||"Context";case eE:return(t._context.displayName||"Context")+".Consumer";case Rm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Cm:return e=t.displayName||null,e!==null?e:nf(t.type)||"Memo";case _i:e=t._payload,t=t._init;try{return nf(t(e))}catch{}}return null}var Ja=Array.isArray,Q=Q0.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=J1.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Cs={pending:!1,data:null,method:null,action:null},sf=[],pr=-1;function On(t){return{current:t}}function st(t){0>pr||(t.current=sf[pr],sf[pr]=null,pr--)}function be(t,e){pr++,sf[pr]=t.current,t.current=e}var wn=On(null),Co=On(null),Mi=On(null),qc=On(null);function Hc(t,e){switch(be(Mi,e),be(Co,t),be(wn,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?Dv(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=Dv(e),t=Ex(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}st(wn),be(wn,t)}function zr(){st(wn),st(Co),st(Mi)}function rf(t){t.memoizedState!==null&&be(qc,t);var e=wn.current,n=Ex(e,t.type);e!==n&&(be(Co,t),be(wn,n))}function Fc(t){Co.current===t&&(st(wn),st(Co)),qc.current===t&&(st(qc),zo._currentValue=Cs)}var Jh,Ay;function Ts(t){if(Jh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Jh=e&&e[1]||"",Ay=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Jh+t+Ay}var Zh=!1;function ed(t,e){if(!t||Zh)return"";Zh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var m=function(){throw Error()};if(Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(v){var p=v}Reflect.construct(t,[],m)}else{try{m.call()}catch(v){p=v}t.call(m.prototype)}}else{try{throw Error()}catch(v){p=v}(m=t())&&typeof m.catch=="function"&&m.catch(function(){})}}catch(v){if(v&&p&&typeof v.stack=="string")return[v.stack,p.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=i.DetermineComponentFrameRoot(),a=r[0],l=r[1];if(a&&l){var c=a.split(`
`),h=l.split(`
`);for(s=i=0;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;for(;s<h.length&&!h[s].includes("DetermineComponentFrameRoot");)s++;if(i===c.length||s===h.length)for(i=c.length-1,s=h.length-1;1<=i&&0<=s&&c[i]!==h[s];)s--;for(;1<=i&&0<=s;i--,s--)if(c[i]!==h[s]){if(i!==1||s!==1)do if(i--,s--,0>s||c[i]!==h[s]){var f=`
`+c[i].replace(" at new "," at ");return t.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",t.displayName)),f}while(1<=i&&0<=s);break}}}finally{Zh=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Ts(n):""}function iA(t,e){switch(t.tag){case 26:case 27:case 5:return Ts(t.type);case 16:return Ts("Lazy");case 13:return t.child!==e&&e!==null?Ts("Suspense Fallback"):Ts("Suspense");case 19:return Ts("SuspenseList");case 0:case 15:return ed(t.type,!1);case 11:return ed(t.type.render,!1);case 1:return ed(t.type,!0);case 31:return Ts("Activity");default:return""}}function Ny(t){try{var e="",n=null;do e+=iA(t,n),n=t,t=t.return;while(t);return e}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var af=Object.prototype.hasOwnProperty,Im=Je.unstable_scheduleCallback,td=Je.unstable_cancelCallback,sA=Je.unstable_shouldYield,rA=Je.unstable_requestPaint,Bt=Je.unstable_now,aA=Je.unstable_getCurrentPriorityLevel,tE=Je.unstable_ImmediatePriority,nE=Je.unstable_UserBlockingPriority,Gc=Je.unstable_NormalPriority,oA=Je.unstable_LowPriority,iE=Je.unstable_IdlePriority,lA=Je.log,cA=Je.unstable_setDisableYieldValue,rl=null,qt=null;function Ci(t){if(typeof lA=="function"&&cA(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(rl,t)}catch{}}var Ht=Math.clz32?Math.clz32:dA,uA=Math.log,hA=Math.LN2;function dA(t){return t>>>=0,t===0?32:31-(uA(t)/hA|0)|0}var Ql=256,$l=262144,Xl=4194304;function ws(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Pu(t,e,n){var i=t.pendingLanes;if(i===0)return 0;var s=0,r=t.suspendedLanes,a=t.pingedLanes;t=t.warmLanes;var l=i&134217727;return l!==0?(i=l&~r,i!==0?s=ws(i):(a&=l,a!==0?s=ws(a):n||(n=l&~t,n!==0&&(s=ws(n))))):(l=i&~r,l!==0?s=ws(l):a!==0?s=ws(a):n||(n=i&~t,n!==0&&(s=ws(n)))),s===0?0:e!==0&&e!==s&&!(e&r)&&(r=s&-s,n=e&-e,r>=n||r===32&&(n&4194048)!==0)?e:s}function al(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function fA(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sE(){var t=Xl;return Xl<<=1,!(Xl&62914560)&&(Xl=4194304),t}function nd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ol(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function mA(t,e,n,i,s,r){var a=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var l=t.entanglements,c=t.expirationTimes,h=t.hiddenUpdates;for(n=a&~n;0<n;){var f=31-Ht(n),m=1<<f;l[f]=0,c[f]=-1;var p=h[f];if(p!==null)for(h[f]=null,f=0;f<p.length;f++){var v=p[f];v!==null&&(v.lane&=-536870913)}n&=~m}i!==0&&rE(t,i,0),r!==0&&s===0&&t.tag!==0&&(t.suspendedLanes|=r&~(a&~e))}function rE(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var i=31-Ht(e);t.entangledLanes|=e,t.entanglements[i]=t.entanglements[i]|1073741824|n&261930}function aE(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Ht(n),s=1<<i;s&e|t[i]&e&&(t[i]|=e),n&=~s}}function oE(t,e){var n=e&-e;return n=n&42?1:Dm(n),n&(t.suspendedLanes|e)?0:n}function Dm(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function jm(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function lE(){var t=he.p;return t!==0?t:(t=window.event,t===void 0?32:Dx(t.type))}function Ry(t,e){var n=he.p;try{return he.p=t,e()}finally{he.p=n}}var cs=Math.random().toString(36).slice(2),lt="__reactFiber$"+cs,Ot="__reactProps$"+cs,oa="__reactContainer$"+cs,of="__reactEvents$"+cs,pA="__reactListeners$"+cs,gA="__reactHandles$"+cs,Cy="__reactResources$"+cs,ll="__reactMarker$"+cs;function Om(t){delete t[lt],delete t[Ot],delete t[of],delete t[pA],delete t[gA]}function gr(t){var e=t[lt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[oa]||n[lt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Vv(t);t!==null;){if(n=t[lt])return n;t=Vv(t)}return e}t=n,n=t.parentNode}return null}function la(t){if(t=t[lt]||t[oa]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function Za(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(L(33))}function Nr(t){var e=t[Cy];return e||(e=t[Cy]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function nt(t){t[ll]=!0}var cE=new Set,uE={};function Ks(t,e){Br(t,e),Br(t+"Capture",e)}function Br(t,e){for(uE[t]=e,t=0;t<e.length;t++)cE.add(e[t])}var yA=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Iy={},Dy={};function vA(t){return af.call(Dy,t)?!0:af.call(Iy,t)?!1:yA.test(t)?Dy[t]=!0:(Iy[t]=!0,!1)}function pc(t,e,n){if(vA(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var i=e.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Wl(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Vn(t,e,n,i){if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+i)}}function $t(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function hE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function _A(t,e,n){var i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var s=i.get,r=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,r.call(this,a)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function lf(t){if(!t._valueTracker){var e=hE(t)?"checked":"value";t._valueTracker=_A(t,e,""+t[e])}}function dE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=hE(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Kc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var EA=/[\n"\\]/g;function Jt(t){return t.replace(EA,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function cf(t,e,n,i,s,r,a,l){t.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?t.type=a:t.removeAttribute("type"),e!=null?a==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+$t(e)):t.value!==""+$t(e)&&(t.value=""+$t(e)):a!=="submit"&&a!=="reset"||t.removeAttribute("value"),e!=null?uf(t,a,$t(e)):n!=null?uf(t,a,$t(n)):i!=null&&t.removeAttribute("value"),s==null&&r!=null&&(t.defaultChecked=!!r),s!=null&&(t.checked=s&&typeof s!="function"&&typeof s!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?t.name=""+$t(l):t.removeAttribute("name")}function fE(t,e,n,i,s,r,a,l){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(t.type=r),e!=null||n!=null){if(!(r!=="submit"&&r!=="reset"||e!=null)){lf(t);return}n=n!=null?""+$t(n):"",e=e!=null?""+$t(e):n,l||e===t.value||(t.value=e),t.defaultValue=e}i=i??s,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=l?t.checked:!!i,t.defaultChecked=!!i,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.name=a),lf(t)}function uf(t,e,n){e==="number"&&Kc(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Rr(t,e,n,i){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&i&&(t[n].defaultSelected=!0)}else{for(n=""+$t(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,i&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function mE(t,e,n){if(e!=null&&(e=""+$t(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+$t(n):""}function pE(t,e,n,i){if(e==null){if(i!=null){if(n!=null)throw Error(L(92));if(Ja(i)){if(1<i.length)throw Error(L(93));i=i[0]}n=i}n==null&&(n=""),e=n}n=$t(e),t.defaultValue=n,i=t.textContent,i===n&&i!==""&&i!==null&&(t.value=i),lf(t)}function qr(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var bA=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jy(t,e,n){var i=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":i?t.setProperty(e,n):typeof n!="number"||n===0||bA.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function gE(t,e,n){if(e!=null&&typeof e!="object")throw Error(L(62));if(t=t.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||e!=null&&e.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var s in e)i=e[s],e.hasOwnProperty(s)&&n[s]!==i&&jy(t,s,i)}else for(var r in e)e.hasOwnProperty(r)&&jy(t,r,e[r])}function km(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xA=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),TA=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function gc(t){return TA.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Fn(){}var hf=null;function Mm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var yr=null,Cr=null;function Oy(t){var e=la(t);if(e&&(t=e.stateNode)){var n=t[Ot]||null;e:switch(t=e.stateNode,e.type){case"input":if(cf(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Jt(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var s=i[Ot]||null;if(!s)throw Error(L(90));cf(i,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(e=0;e<n.length;e++)i=n[e],i.form===t.form&&dE(i)}break e;case"textarea":mE(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&Rr(t,!!n.multiple,e,!1)}}}var id=!1;function yE(t,e,n){if(id)return t(e,n);id=!0;try{var i=t(e);return i}finally{if(id=!1,(yr!==null||Cr!==null)&&(Xu(),yr&&(e=yr,t=Cr,Cr=yr=null,Oy(e),t)))for(e=0;e<t.length;e++)Oy(t[e])}}function Io(t,e){var n=t.stateNode;if(n===null)return null;var i=n[Ot]||null;if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(L(231,e,typeof n));return n}var Jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),df=!1;if(Jn)try{var Ha={};Object.defineProperty(Ha,"passive",{get:function(){df=!0}}),window.addEventListener("test",Ha,Ha),window.removeEventListener("test",Ha,Ha)}catch{df=!1}var Ii=null,Vm=null,yc=null;function vE(){if(yc)return yc;var t,e=Vm,n=e.length,i,s="value"in Ii?Ii.value:Ii.textContent,r=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(i=1;i<=a&&e[n-i]===s[r-i];i++);return yc=s.slice(t,1<i?1-i:void 0)}function vc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Jl(){return!0}function ky(){return!1}function kt(t){function e(n,i,s,r,a){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=r,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(r):r[l]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Jl:ky,this.isPropagationStopped=ky,this}return Ne(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Jl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Jl)},persist:function(){},isPersistent:Jl}),e}var Ys={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uu=kt(Ys),cl=Ne({},Ys,{view:0,detail:0}),wA=kt(cl),sd,rd,Fa,zu=Ne({},cl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fa&&(Fa&&t.type==="mousemove"?(sd=t.screenX-Fa.screenX,rd=t.screenY-Fa.screenY):rd=sd=0,Fa=t),sd)},movementY:function(t){return"movementY"in t?t.movementY:rd}}),My=kt(zu),SA=Ne({},zu,{dataTransfer:0}),AA=kt(SA),NA=Ne({},cl,{relatedTarget:0}),ad=kt(NA),RA=Ne({},Ys,{animationName:0,elapsedTime:0,pseudoElement:0}),CA=kt(RA),IA=Ne({},Ys,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),DA=kt(IA),jA=Ne({},Ys,{data:0}),Vy=kt(jA),OA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},MA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function VA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=MA[t])?!!e[t]:!1}function Lm(){return VA}var LA=Ne({},cl,{key:function(t){if(t.key){var e=OA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=vc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?kA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lm,charCode:function(t){return t.type==="keypress"?vc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),PA=kt(LA),UA=Ne({},zu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ly=kt(UA),zA=Ne({},cl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lm}),BA=kt(zA),qA=Ne({},Ys,{propertyName:0,elapsedTime:0,pseudoElement:0}),HA=kt(qA),FA=Ne({},zu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),GA=kt(FA),KA=Ne({},Ys,{newState:0,oldState:0}),YA=kt(KA),QA=[9,13,27,32],Pm=Jn&&"CompositionEvent"in window,co=null;Jn&&"documentMode"in document&&(co=document.documentMode);var $A=Jn&&"TextEvent"in window&&!co,_E=Jn&&(!Pm||co&&8<co&&11>=co),Py=" ",Uy=!1;function EE(t,e){switch(t){case"keyup":return QA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var vr=!1;function XA(t,e){switch(t){case"compositionend":return bE(e);case"keypress":return e.which!==32?null:(Uy=!0,Py);case"textInput":return t=e.data,t===Py&&Uy?null:t;default:return null}}function WA(t,e){if(vr)return t==="compositionend"||!Pm&&EE(t,e)?(t=vE(),yc=Vm=Ii=null,vr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return _E&&e.locale!=="ko"?null:e.data;default:return null}}var JA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!JA[t.type]:e==="textarea"}function xE(t,e,n,i){yr?Cr?Cr.push(i):Cr=[i]:yr=i,e=uu(e,"onChange"),0<e.length&&(n=new Uu("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var uo=null,Do=null;function ZA(t){yx(t,0)}function Bu(t){var e=Za(t);if(dE(e))return t}function By(t,e){if(t==="change")return e}var TE=!1;if(Jn){var od;if(Jn){var ld="oninput"in document;if(!ld){var qy=document.createElement("div");qy.setAttribute("oninput","return;"),ld=typeof qy.oninput=="function"}od=ld}else od=!1;TE=od&&(!document.documentMode||9<document.documentMode)}function Hy(){uo&&(uo.detachEvent("onpropertychange",wE),Do=uo=null)}function wE(t){if(t.propertyName==="value"&&Bu(Do)){var e=[];xE(e,Do,t,Mm(t)),yE(ZA,e)}}function eN(t,e,n){t==="focusin"?(Hy(),uo=e,Do=n,uo.attachEvent("onpropertychange",wE)):t==="focusout"&&Hy()}function tN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bu(Do)}function nN(t,e){if(t==="click")return Bu(e)}function iN(t,e){if(t==="input"||t==="change")return Bu(e)}function sN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Gt=typeof Object.is=="function"?Object.is:sN;function jo(t,e){if(Gt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!af.call(e,s)||!Gt(t[s],e[s]))return!1}return!0}function Fy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Gy(t,e){var n=Fy(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Fy(n)}}function SE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?SE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function AE(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Kc(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Kc(t.document)}return e}function Um(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var rN=Jn&&"documentMode"in document&&11>=document.documentMode,_r=null,ff=null,ho=null,mf=!1;function Ky(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;mf||_r==null||_r!==Kc(i)||(i=_r,"selectionStart"in i&&Um(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),ho&&jo(ho,i)||(ho=i,i=uu(ff,"onSelect"),0<i.length&&(e=new Uu("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=_r)))}function xs(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Er={animationend:xs("Animation","AnimationEnd"),animationiteration:xs("Animation","AnimationIteration"),animationstart:xs("Animation","AnimationStart"),transitionrun:xs("Transition","TransitionRun"),transitionstart:xs("Transition","TransitionStart"),transitioncancel:xs("Transition","TransitionCancel"),transitionend:xs("Transition","TransitionEnd")},cd={},NE={};Jn&&(NE=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);function Qs(t){if(cd[t])return cd[t];if(!Er[t])return t;var e=Er[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in NE)return cd[t]=e[n];return t}var RE=Qs("animationend"),CE=Qs("animationiteration"),IE=Qs("animationstart"),aN=Qs("transitionrun"),oN=Qs("transitionstart"),lN=Qs("transitioncancel"),DE=Qs("transitionend"),jE=new Map,pf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pf.push("scrollEnd");function gn(t,e){jE.set(t,e),Ks(e,[t])}var Yc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Qt=[],br=0,zm=0;function qu(){for(var t=br,e=zm=br=0;e<t;){var n=Qt[e];Qt[e++]=null;var i=Qt[e];Qt[e++]=null;var s=Qt[e];Qt[e++]=null;var r=Qt[e];if(Qt[e++]=null,i!==null&&s!==null){var a=i.pending;a===null?s.next=s:(s.next=a.next,a.next=s),i.pending=s}r!==0&&OE(n,s,r)}}function Hu(t,e,n,i){Qt[br++]=t,Qt[br++]=e,Qt[br++]=n,Qt[br++]=i,zm|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function Bm(t,e,n,i){return Hu(t,e,n,i),Qc(t)}function $s(t,e){return Hu(t,null,null,e),Qc(t)}function OE(t,e,n){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n);for(var s=!1,r=t.return;r!==null;)r.childLanes|=n,i=r.alternate,i!==null&&(i.childLanes|=n),r.tag===22&&(t=r.stateNode,t===null||t._visibility&1||(s=!0)),t=r,r=r.return;return t.tag===3?(r=t.stateNode,s&&e!==null&&(s=31-Ht(n),t=r.hiddenUpdates,i=t[s],i===null?t[s]=[e]:i.push(e),e.lane=n|536870912),r):null}function Qc(t){if(50<bo)throw bo=0,Vf=null,Error(L(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var xr={};function cN(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pt(t,e,n,i){return new cN(t,e,n,i)}function qm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Qn(t,e){var n=t.alternate;return n===null?(n=Pt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function kE(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function _c(t,e,n,i,s,r){var a=0;if(i=t,typeof t=="function")qm(t)&&(a=1);else if(typeof t=="string")a=mR(t,n,wn.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case tf:return t=Pt(31,n,e,s),t.elementType=tf,t.lanes=r,t;case mr:return Is(n.children,s,r,e);case Z0:a=8,s|=24;break;case Jd:return t=Pt(12,n,e,s|2),t.elementType=Jd,t.lanes=r,t;case Zd:return t=Pt(13,n,e,s),t.elementType=Zd,t.lanes=r,t;case ef:return t=Pt(19,n,e,s),t.elementType=ef,t.lanes=r,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Hn:a=10;break e;case eE:a=9;break e;case Rm:a=11;break e;case Cm:a=14;break e;case _i:a=16,i=null;break e}a=29,n=Error(L(130,t===null?"null":typeof t,"")),i=null}return e=Pt(a,n,e,s),e.elementType=t,e.type=i,e.lanes=r,e}function Is(t,e,n,i){return t=Pt(7,t,i,e),t.lanes=n,t}function ud(t,e,n){return t=Pt(6,t,null,e),t.lanes=n,t}function ME(t){var e=Pt(18,null,null,0);return e.stateNode=t,e}function hd(t,e,n){return e=Pt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var Yy=new WeakMap;function Zt(t,e){if(typeof t=="object"&&t!==null){var n=Yy.get(t);return n!==void 0?n:(e={value:t,source:e,stack:Ny(e)},Yy.set(t,e),e)}return{value:t,source:e,stack:Ny(e)}}var Tr=[],wr=0,$c=null,Oo=0,Xt=[],Wt=0,Wi=null,bn=1,xn="";function Bn(t,e){Tr[wr++]=Oo,Tr[wr++]=$c,$c=t,Oo=e}function VE(t,e,n){Xt[Wt++]=bn,Xt[Wt++]=xn,Xt[Wt++]=Wi,Wi=t;var i=bn;t=xn;var s=32-Ht(i)-1;i&=~(1<<s),n+=1;var r=32-Ht(e)+s;if(30<r){var a=s-s%5;r=(i&(1<<a)-1).toString(32),i>>=a,s-=a,bn=1<<32-Ht(e)+s|n<<s|i,xn=r+t}else bn=1<<r|n<<s|i,xn=t}function Hm(t){t.return!==null&&(Bn(t,1),VE(t,1,0))}function Fm(t){for(;t===$c;)$c=Tr[--wr],Tr[wr]=null,Oo=Tr[--wr],Tr[wr]=null;for(;t===Wi;)Wi=Xt[--Wt],Xt[Wt]=null,xn=Xt[--Wt],Xt[Wt]=null,bn=Xt[--Wt],Xt[Wt]=null}function LE(t,e){Xt[Wt++]=bn,Xt[Wt++]=xn,Xt[Wt++]=Wi,bn=e.id,xn=e.overflow,Wi=t}var ct=null,we=null,le=!1,Vi=null,en=!1,gf=Error(L(519));function Ji(t){var e=Error(L(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ko(Zt(e,t)),gf}function Qy(t){var e=t.stateNode,n=t.type,i=t.memoizedProps;switch(e[lt]=t,e[Ot]=i,n){case"dialog":ne("cancel",e),ne("close",e);break;case"iframe":case"object":case"embed":ne("load",e);break;case"video":case"audio":for(n=0;n<Po.length;n++)ne(Po[n],e);break;case"source":ne("error",e);break;case"img":case"image":case"link":ne("error",e),ne("load",e);break;case"details":ne("toggle",e);break;case"input":ne("invalid",e),fE(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":ne("invalid",e);break;case"textarea":ne("invalid",e),pE(e,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||i.suppressHydrationWarning===!0||_x(e.textContent,n)?(i.popover!=null&&(ne("beforetoggle",e),ne("toggle",e)),i.onScroll!=null&&ne("scroll",e),i.onScrollEnd!=null&&ne("scrollend",e),i.onClick!=null&&(e.onclick=Fn),e=!0):e=!1,e||Ji(t,!0)}function $y(t){for(ct=t.return;ct;)switch(ct.tag){case 5:case 31:case 13:en=!1;return;case 27:case 3:en=!0;return;default:ct=ct.return}}function rr(t){if(t!==ct)return!1;if(!le)return $y(t),le=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Bf(t.type,t.memoizedProps)),n=!n),n&&we&&Ji(t),$y(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(L(317));we=Mv(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(L(317));we=Mv(t)}else e===27?(e=we,us(t.type)?(t=Gf,Gf=null,we=t):we=e):we=ct?sn(t.stateNode.nextSibling):null;return!0}function Ms(){we=ct=null,le=!1}function dd(){var t=Vi;return t!==null&&(Rt===null?Rt=t:Rt.push.apply(Rt,t),Vi=null),t}function ko(t){Vi===null?Vi=[t]:Vi.push(t)}var yf=On(null),Xs=null,Gn=null;function bi(t,e,n){be(yf,e._currentValue),e._currentValue=n}function $n(t){t._currentValue=yf.current,st(yf)}function vf(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function _f(t,e,n,i){var s=t.child;for(s!==null&&(s.return=t);s!==null;){var r=s.dependencies;if(r!==null){var a=s.child;r=r.firstContext;e:for(;r!==null;){var l=r;r=s;for(var c=0;c<e.length;c++)if(l.context===e[c]){r.lanes|=n,l=r.alternate,l!==null&&(l.lanes|=n),vf(r.return,n,t),i||(a=null);break e}r=l.next}}else if(s.tag===18){if(a=s.return,a===null)throw Error(L(341));a.lanes|=n,r=a.alternate,r!==null&&(r.lanes|=n),vf(a,n,t),a=null}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}}function ca(t,e,n,i){t=null;for(var s=e,r=!1;s!==null;){if(!r){if(s.flags&524288)r=!0;else if(s.flags&262144)break}if(s.tag===10){var a=s.alternate;if(a===null)throw Error(L(387));if(a=a.memoizedProps,a!==null){var l=s.type;Gt(s.pendingProps.value,a.value)||(t!==null?t.push(l):t=[l])}}else if(s===qc.current){if(a=s.alternate,a===null)throw Error(L(387));a.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(t!==null?t.push(zo):t=[zo])}s=s.return}t!==null&&_f(e,t,n,i),e.flags|=262144}function Xc(t){for(t=t.firstContext;t!==null;){if(!Gt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Vs(t){Xs=t,Gn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ht(t){return PE(Xs,t)}function Zl(t,e){return Xs===null&&Vs(t),PE(t,e)}function PE(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Gn===null){if(t===null)throw Error(L(308));Gn=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Gn=Gn.next=e;return n}var uN=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,i){t.push(i)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},hN=Je.unstable_scheduleCallback,dN=Je.unstable_NormalPriority,Fe={$$typeof:Hn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gm(){return{controller:new uN,data:new Map,refCount:0}}function ul(t){t.refCount--,t.refCount===0&&hN(dN,function(){t.controller.abort()})}var fo=null,Ef=0,Hr=0,Ir=null;function fN(t,e){if(fo===null){var n=fo=[];Ef=0,Hr=gp(),Ir={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Ef++,e.then(Xy,Xy),e}function Xy(){if(--Ef===0&&fo!==null){Ir!==null&&(Ir.status="fulfilled");var t=fo;fo=null,Hr=0,Ir=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function mN(t,e){var n=[],i={status:"pending",value:null,reason:null,then:function(s){n.push(s)}};return t.then(function(){i.status="fulfilled",i.value=e;for(var s=0;s<n.length;s++)(0,n[s])(e)},function(s){for(i.status="rejected",i.reason=s,s=0;s<n.length;s++)(0,n[s])(void 0)}),i}var Wy=Q.S;Q.S=function(t,e){Jb=Bt(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&fN(t,e),Wy!==null&&Wy(t,e)};var Ds=On(null);function Km(){var t=Ds.current;return t!==null?t:ve.pooledCache}function Ec(t,e){e===null?be(Ds,Ds.current):be(Ds,e.pool)}function UE(){var t=Km();return t===null?null:{parent:Fe._currentValue,pool:t}}var ua=Error(L(460)),Ym=Error(L(474)),Fu=Error(L(542)),Wc={then:function(){}};function Jy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function zE(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(Fn,Fn),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,ev(t),t;default:if(typeof e.status=="string")e.then(Fn,Fn);else{if(t=ve,t!==null&&100<t.shellSuspendCounter)throw Error(L(482));t=e,t.status="pending",t.then(function(i){if(e.status==="pending"){var s=e;s.status="fulfilled",s.value=i}},function(i){if(e.status==="pending"){var s=e;s.status="rejected",s.reason=i}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,ev(t),t}throw js=e,ua}}function Ss(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(js=n,ua):n}}var js=null;function Zy(){if(js===null)throw Error(L(459));var t=js;return js=null,t}function ev(t){if(t===ua||t===Fu)throw Error(L(483))}var Dr=null,Mo=0;function ec(t){var e=Mo;return Mo+=1,Dr===null&&(Dr=[]),zE(Dr,t,e)}function Ga(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function tc(t,e){throw e.$$typeof===eA?Error(L(525)):(t=Object.prototype.toString.call(e),Error(L(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function BE(t){function e(x,y){if(t){var b=x.deletions;b===null?(x.deletions=[y],x.flags|=16):b.push(y)}}function n(x,y){if(!t)return null;for(;y!==null;)e(x,y),y=y.sibling;return null}function i(x){for(var y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function s(x,y){return x=Qn(x,y),x.index=0,x.sibling=null,x}function r(x,y,b){return x.index=b,t?(b=x.alternate,b!==null?(b=b.index,b<y?(x.flags|=67108866,y):b):(x.flags|=67108866,y)):(x.flags|=1048576,y)}function a(x){return t&&x.alternate===null&&(x.flags|=67108866),x}function l(x,y,b,I){return y===null||y.tag!==6?(y=ud(b,x.mode,I),y.return=x,y):(y=s(y,b),y.return=x,y)}function c(x,y,b,I){var U=b.type;return U===mr?f(x,y,b.props.children,I,b.key):y!==null&&(y.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===_i&&Ss(U)===y.type)?(y=s(y,b.props),Ga(y,b),y.return=x,y):(y=_c(b.type,b.key,b.props,null,x.mode,I),Ga(y,b),y.return=x,y)}function h(x,y,b,I){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=hd(b,x.mode,I),y.return=x,y):(y=s(y,b.children||[]),y.return=x,y)}function f(x,y,b,I,U){return y===null||y.tag!==7?(y=Is(b,x.mode,I,U),y.return=x,y):(y=s(y,b),y.return=x,y)}function m(x,y,b){if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return y=ud(""+y,x.mode,b),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Yl:return b=_c(y.type,y.key,y.props,null,x.mode,b),Ga(b,y),b.return=x,b;case Wa:return y=hd(y,x.mode,b),y.return=x,y;case _i:return y=Ss(y),m(x,y,b)}if(Ja(y)||qa(y))return y=Is(y,x.mode,b,null),y.return=x,y;if(typeof y.then=="function")return m(x,ec(y),b);if(y.$$typeof===Hn)return m(x,Zl(x,y),b);tc(x,y)}return null}function p(x,y,b,I){var U=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return U!==null?null:l(x,y,""+b,I);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Yl:return b.key===U?c(x,y,b,I):null;case Wa:return b.key===U?h(x,y,b,I):null;case _i:return b=Ss(b),p(x,y,b,I)}if(Ja(b)||qa(b))return U!==null?null:f(x,y,b,I,null);if(typeof b.then=="function")return p(x,y,ec(b),I);if(b.$$typeof===Hn)return p(x,y,Zl(x,b),I);tc(x,b)}return null}function v(x,y,b,I,U){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return x=x.get(b)||null,l(y,x,""+I,U);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Yl:return x=x.get(I.key===null?b:I.key)||null,c(y,x,I,U);case Wa:return x=x.get(I.key===null?b:I.key)||null,h(y,x,I,U);case _i:return I=Ss(I),v(x,y,b,I,U)}if(Ja(I)||qa(I))return x=x.get(b)||null,f(y,x,I,U,null);if(typeof I.then=="function")return v(x,y,b,ec(I),U);if(I.$$typeof===Hn)return v(x,y,b,Zl(y,I),U);tc(y,I)}return null}function R(x,y,b,I){for(var U=null,q=null,T=y,E=y=0,w=null;T!==null&&E<b.length;E++){T.index>E?(w=T,T=null):w=T.sibling;var A=p(x,T,b[E],I);if(A===null){T===null&&(T=w);break}t&&T&&A.alternate===null&&e(x,T),y=r(A,y,E),q===null?U=A:q.sibling=A,q=A,T=w}if(E===b.length)return n(x,T),le&&Bn(x,E),U;if(T===null){for(;E<b.length;E++)T=m(x,b[E],I),T!==null&&(y=r(T,y,E),q===null?U=T:q.sibling=T,q=T);return le&&Bn(x,E),U}for(T=i(T);E<b.length;E++)w=v(T,x,E,b[E],I),w!==null&&(t&&w.alternate!==null&&T.delete(w.key===null?E:w.key),y=r(w,y,E),q===null?U=w:q.sibling=w,q=w);return t&&T.forEach(function(N){return e(x,N)}),le&&Bn(x,E),U}function D(x,y,b,I){if(b==null)throw Error(L(151));for(var U=null,q=null,T=y,E=y=0,w=null,A=b.next();T!==null&&!A.done;E++,A=b.next()){T.index>E?(w=T,T=null):w=T.sibling;var N=p(x,T,A.value,I);if(N===null){T===null&&(T=w);break}t&&T&&N.alternate===null&&e(x,T),y=r(N,y,E),q===null?U=N:q.sibling=N,q=N,T=w}if(A.done)return n(x,T),le&&Bn(x,E),U;if(T===null){for(;!A.done;E++,A=b.next())A=m(x,A.value,I),A!==null&&(y=r(A,y,E),q===null?U=A:q.sibling=A,q=A);return le&&Bn(x,E),U}for(T=i(T);!A.done;E++,A=b.next())A=v(T,x,E,A.value,I),A!==null&&(t&&A.alternate!==null&&T.delete(A.key===null?E:A.key),y=r(A,y,E),q===null?U=A:q.sibling=A,q=A);return t&&T.forEach(function(O){return e(x,O)}),le&&Bn(x,E),U}function j(x,y,b,I){if(typeof b=="object"&&b!==null&&b.type===mr&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Yl:e:{for(var U=b.key;y!==null;){if(y.key===U){if(U=b.type,U===mr){if(y.tag===7){n(x,y.sibling),I=s(y,b.props.children),I.return=x,x=I;break e}}else if(y.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===_i&&Ss(U)===y.type){n(x,y.sibling),I=s(y,b.props),Ga(I,b),I.return=x,x=I;break e}n(x,y);break}else e(x,y);y=y.sibling}b.type===mr?(I=Is(b.props.children,x.mode,I,b.key),I.return=x,x=I):(I=_c(b.type,b.key,b.props,null,x.mode,I),Ga(I,b),I.return=x,x=I)}return a(x);case Wa:e:{for(U=b.key;y!==null;){if(y.key===U)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){n(x,y.sibling),I=s(y,b.children||[]),I.return=x,x=I;break e}else{n(x,y);break}else e(x,y);y=y.sibling}I=hd(b,x.mode,I),I.return=x,x=I}return a(x);case _i:return b=Ss(b),j(x,y,b,I)}if(Ja(b))return R(x,y,b,I);if(qa(b)){if(U=qa(b),typeof U!="function")throw Error(L(150));return b=U.call(b),D(x,y,b,I)}if(typeof b.then=="function")return j(x,y,ec(b),I);if(b.$$typeof===Hn)return j(x,y,Zl(x,b),I);tc(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint"?(b=""+b,y!==null&&y.tag===6?(n(x,y.sibling),I=s(y,b),I.return=x,x=I):(n(x,y),I=ud(b,x.mode,I),I.return=x,x=I),a(x)):n(x,y)}return function(x,y,b,I){try{Mo=0;var U=j(x,y,b,I);return Dr=null,U}catch(T){if(T===ua||T===Fu)throw T;var q=Pt(29,T,null,x.mode);return q.lanes=I,q.return=x,q}finally{}}}var Ls=BE(!0),qE=BE(!1),Ei=!1;function Qm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bf(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Li(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Pi(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,ue&2){var s=i.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),i.pending=e,e=Qc(t),OE(t,null,n),e}return Hu(t,i,e,n),Qc(t)}function mo(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,aE(t,n)}}function fd(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};r===null?s=r=a:r=r.next=a,n=n.next}while(n!==null);r===null?s=r=e:r=r.next=e}else s=r=e;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:i.shared,callbacks:i.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var xf=!1;function po(){if(xf){var t=Ir;if(t!==null)throw t}}function go(t,e,n,i){xf=!1;var s=t.updateQueue;Ei=!1;var r=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,h=c.next;c.next=null,a===null?r=h:a.next=h,a=c;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==a&&(l===null?f.firstBaseUpdate=h:l.next=h,f.lastBaseUpdate=c))}if(r!==null){var m=s.baseState;a=0,f=h=c=null,l=r;do{var p=l.lane&-536870913,v=p!==l.lane;if(v?(oe&p)===p:(i&p)===p){p!==0&&p===Hr&&(xf=!0),f!==null&&(f=f.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var R=t,D=l;p=e;var j=n;switch(D.tag){case 1:if(R=D.payload,typeof R=="function"){m=R.call(j,m,p);break e}m=R;break e;case 3:R.flags=R.flags&-65537|128;case 0:if(R=D.payload,p=typeof R=="function"?R.call(j,m,p):R,p==null)break e;m=Ne({},m,p);break e;case 2:Ei=!0}}p=l.callback,p!==null&&(t.flags|=64,v&&(t.flags|=8192),v=s.callbacks,v===null?s.callbacks=[p]:v.push(p))}else v={lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(h=f=v,c=m):f=f.next=v,a|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;v=l,l=v.next,v.next=null,s.lastBaseUpdate=v,s.shared.pending=null}}while(!0);f===null&&(c=m),s.baseState=c,s.firstBaseUpdate=h,s.lastBaseUpdate=f,r===null&&(s.shared.lanes=0),es|=a,t.lanes=a,t.memoizedState=m}}function HE(t,e){if(typeof t!="function")throw Error(L(191,t));t.call(e)}function FE(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)HE(n[t],e)}var Fr=On(null),Jc=On(0);function tv(t,e){t=ni,be(Jc,t),be(Fr,e),ni=t|e.baseLanes}function Tf(){be(Jc,ni),be(Fr,Fr.current)}function $m(){ni=Jc.current,st(Fr),st(Jc)}var Kt=On(null),nn=null;function xi(t){var e=t.alternate;be(Ve,Ve.current&1),be(Kt,t),nn===null&&(e===null||Fr.current!==null||e.memoizedState!==null)&&(nn=t)}function wf(t){be(Ve,Ve.current),be(Kt,t),nn===null&&(nn=t)}function GE(t){t.tag===22?(be(Ve,Ve.current),be(Kt,t),nn===null&&(nn=t)):Ti()}function Ti(){be(Ve,Ve.current),be(Kt,Kt.current)}function Lt(t){st(Kt),nn===t&&(nn=null),st(Ve)}var Ve=On(0);function Zc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Hf(n)||Ff(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Zn=0,Z=null,ge=null,qe=null,eu=!1,jr=!1,Ps=!1,tu=0,Vo=0,Or=null,pN=0;function je(){throw Error(L(321))}function Xm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Gt(t[n],e[n]))return!1;return!0}function Wm(t,e,n,i,s,r){return Zn=r,Z=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Q.H=t===null||t.memoizedState===null?xb:lp,Ps=!1,r=n(i,s),Ps=!1,jr&&(r=YE(e,n,i,s)),KE(t),r}function KE(t){Q.H=Lo;var e=ge!==null&&ge.next!==null;if(Zn=0,qe=ge=Z=null,eu=!1,Vo=0,Or=null,e)throw Error(L(300));t===null||Ke||(t=t.dependencies,t!==null&&Xc(t)&&(Ke=!0))}function YE(t,e,n,i){Z=t;var s=0;do{if(jr&&(Or=null),Vo=0,jr=!1,25<=s)throw Error(L(301));if(s+=1,qe=ge=null,t.updateQueue!=null){var r=t.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}Q.H=Tb,r=e(n,i)}while(jr);return r}function gN(){var t=Q.H,e=t.useState()[0];return e=typeof e.then=="function"?hl(e):e,t=t.useState()[0],(ge!==null?ge.memoizedState:null)!==t&&(Z.flags|=1024),e}function Jm(){var t=tu!==0;return tu=0,t}function Zm(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function ep(t){if(eu){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}eu=!1}Zn=0,qe=ge=Z=null,jr=!1,Vo=tu=0,Or=null}function xt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qe===null?Z.memoizedState=qe=t:qe=qe.next=t,qe}function Pe(){if(ge===null){var t=Z.alternate;t=t!==null?t.memoizedState:null}else t=ge.next;var e=qe===null?Z.memoizedState:qe.next;if(e!==null)qe=e,ge=t;else{if(t===null)throw Z.alternate===null?Error(L(467)):Error(L(310));ge=t,t={memoizedState:ge.memoizedState,baseState:ge.baseState,baseQueue:ge.baseQueue,queue:ge.queue,next:null},qe===null?Z.memoizedState=qe=t:qe=qe.next=t}return qe}function Gu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hl(t){var e=Vo;return Vo+=1,Or===null&&(Or=[]),t=zE(Or,t,e),e=Z,(qe===null?e.memoizedState:qe.next)===null&&(e=e.alternate,Q.H=e===null||e.memoizedState===null?xb:lp),t}function Ku(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return hl(t);if(t.$$typeof===Hn)return ht(t)}throw Error(L(438,String(t)))}function tp(t){var e=null,n=Z.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var i=Z.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(e={data:i.data.map(function(s){return s.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Gu(),Z.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),i=0;i<t;i++)n[i]=tA;return e.index++,n}function ei(t,e){return typeof e=="function"?e(t):e}function bc(t){var e=Pe();return np(e,ge,t)}function np(t,e,n){var i=t.queue;if(i===null)throw Error(L(311));i.lastRenderedReducer=n;var s=t.baseQueue,r=i.pending;if(r!==null){if(s!==null){var a=s.next;s.next=r.next,r.next=a}e.baseQueue=s=r,i.pending=null}if(r=t.baseState,s===null)t.memoizedState=r;else{e=s.next;var l=a=null,c=null,h=e,f=!1;do{var m=h.lane&-536870913;if(m!==h.lane?(oe&m)===m:(Zn&m)===m){var p=h.revertLane;if(p===0)c!==null&&(c=c.next={lane:0,revertLane:0,gesture:null,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),m===Hr&&(f=!0);else if((Zn&p)===p){h=h.next,p===Hr&&(f=!0);continue}else m={lane:0,revertLane:h.revertLane,gesture:null,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},c===null?(l=c=m,a=r):c=c.next=m,Z.lanes|=p,es|=p;m=h.action,Ps&&n(r,m),r=h.hasEagerState?h.eagerState:n(r,m)}else p={lane:m,revertLane:h.revertLane,gesture:h.gesture,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},c===null?(l=c=p,a=r):c=c.next=p,Z.lanes|=m,es|=m;h=h.next}while(h!==null&&h!==e);if(c===null?a=r:c.next=l,!Gt(r,t.memoizedState)&&(Ke=!0,f&&(n=Ir,n!==null)))throw n;t.memoizedState=r,t.baseState=a,t.baseQueue=c,i.lastRenderedState=r}return s===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function md(t){var e=Pe(),n=e.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=t;var i=n.dispatch,s=n.pending,r=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do r=t(r,a.action),a=a.next;while(a!==s);Gt(r,e.memoizedState)||(Ke=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),n.lastRenderedState=r}return[r,i]}function QE(t,e,n){var i=Z,s=Pe(),r=le;if(r){if(n===void 0)throw Error(L(407));n=n()}else n=e();var a=!Gt((ge||s).memoizedState,n);if(a&&(s.memoizedState=n,Ke=!0),s=s.queue,ip(WE.bind(null,i,s,t),[t]),s.getSnapshot!==e||a||qe!==null&&qe.memoizedState.tag&1){if(i.flags|=2048,Gr(9,{destroy:void 0},XE.bind(null,i,s,n,e),null),ve===null)throw Error(L(349));r||Zn&127||$E(i,e,n)}return n}function $E(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Z.updateQueue,e===null?(e=Gu(),Z.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function XE(t,e,n,i){e.value=n,e.getSnapshot=i,JE(e)&&ZE(t)}function WE(t,e,n){return n(function(){JE(e)&&ZE(t)})}function JE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Gt(t,n)}catch{return!0}}function ZE(t){var e=$s(t,2);e!==null&&Dt(e,t,2)}function Sf(t){var e=xt();if(typeof t=="function"){var n=t;if(t=n(),Ps){Ci(!0);try{n()}finally{Ci(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:t},e}function eb(t,e,n,i){return t.baseState=n,np(t,ge,typeof i=="function"?i:ei)}function yN(t,e,n,i,s){if(Qu(t))throw Error(L(485));if(t=e.action,t!==null){var r={payload:s,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){r.listeners.push(a)}};Q.T!==null?n(!0):r.isTransition=!1,i(r),n=e.pending,n===null?(r.next=e.pending=r,tb(e,r)):(r.next=n.next,e.pending=n.next=r)}}function tb(t,e){var n=e.action,i=e.payload,s=t.state;if(e.isTransition){var r=Q.T,a={};Q.T=a;try{var l=n(s,i),c=Q.S;c!==null&&c(a,l),nv(t,e,l)}catch(h){Af(t,e,h)}finally{r!==null&&a.types!==null&&(r.types=a.types),Q.T=r}}else try{r=n(s,i),nv(t,e,r)}catch(h){Af(t,e,h)}}function nv(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){iv(t,e,i)},function(i){return Af(t,e,i)}):iv(t,e,n)}function iv(t,e,n){e.status="fulfilled",e.value=n,nb(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,tb(t,n)))}function Af(t,e,n){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do e.status="rejected",e.reason=n,nb(e),e=e.next;while(e!==i)}t.action=null}function nb(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function ib(t,e){return e}function sv(t,e){if(le){var n=ve.formState;if(n!==null){e:{var i=Z;if(le){if(we){t:{for(var s=we,r=en;s.nodeType!==8;){if(!r){s=null;break t}if(s=sn(s.nextSibling),s===null){s=null;break t}}r=s.data,s=r==="F!"||r==="F"?s:null}if(s){we=sn(s.nextSibling),i=s.data==="F!";break e}}Ji(i)}i=!1}i&&(e=n[0])}}return n=xt(),n.memoizedState=n.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ib,lastRenderedState:e},n.queue=i,n=_b.bind(null,Z,i),i.dispatch=n,i=Sf(!1),r=op.bind(null,Z,!1,i.queue),i=xt(),s={state:e,dispatch:null,action:t,pending:null},i.queue=s,n=yN.bind(null,Z,s,r,n),s.dispatch=n,i.memoizedState=t,[e,n,!1]}function rv(t){var e=Pe();return sb(e,ge,t)}function sb(t,e,n){if(e=np(t,e,ib)[0],t=bc(ei)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var i=hl(e)}catch(a){throw a===ua?Fu:a}else i=e;e=Pe();var s=e.queue,r=s.dispatch;return n!==e.memoizedState&&(Z.flags|=2048,Gr(9,{destroy:void 0},vN.bind(null,s,n),null)),[i,r,t]}function vN(t,e){t.action=e}function av(t){var e=Pe(),n=ge;if(n!==null)return sb(e,n,t);Pe(),e=e.memoizedState,n=Pe();var i=n.queue.dispatch;return n.memoizedState=t,[e,i,!1]}function Gr(t,e,n,i){return t={tag:t,create:n,deps:i,inst:e,next:null},e=Z.updateQueue,e===null&&(e=Gu(),Z.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function rb(){return Pe().memoizedState}function xc(t,e,n,i){var s=xt();Z.flags|=t,s.memoizedState=Gr(1|e,{destroy:void 0},n,i===void 0?null:i)}function Yu(t,e,n,i){var s=Pe();i=i===void 0?null:i;var r=s.memoizedState.inst;ge!==null&&i!==null&&Xm(i,ge.memoizedState.deps)?s.memoizedState=Gr(e,r,n,i):(Z.flags|=t,s.memoizedState=Gr(1|e,r,n,i))}function ov(t,e){xc(8390656,8,t,e)}function ip(t,e){Yu(2048,8,t,e)}function _N(t){Z.flags|=4;var e=Z.updateQueue;if(e===null)e=Gu(),Z.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function ab(t){var e=Pe().memoizedState;return _N({ref:e,nextImpl:t}),function(){if(ue&2)throw Error(L(440));return e.impl.apply(void 0,arguments)}}function ob(t,e){return Yu(4,2,t,e)}function lb(t,e){return Yu(4,4,t,e)}function cb(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ub(t,e,n){n=n!=null?n.concat([t]):null,Yu(4,4,cb.bind(null,e,t),n)}function sp(){}function hb(t,e){var n=Pe();e=e===void 0?null:e;var i=n.memoizedState;return e!==null&&Xm(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function db(t,e){var n=Pe();e=e===void 0?null:e;var i=n.memoizedState;if(e!==null&&Xm(e,i[1]))return i[0];if(i=t(),Ps){Ci(!0);try{t()}finally{Ci(!1)}}return n.memoizedState=[i,e],i}function rp(t,e,n){return n===void 0||Zn&1073741824&&!(oe&261930)?t.memoizedState=e:(t.memoizedState=n,t=ex(),Z.lanes|=t,es|=t,n)}function fb(t,e,n,i){return Gt(n,e)?n:Fr.current!==null?(t=rp(t,n,i),Gt(t,e)||(Ke=!0),t):!(Zn&42)||Zn&1073741824&&!(oe&261930)?(Ke=!0,t.memoizedState=n):(t=ex(),Z.lanes|=t,es|=t,e)}function mb(t,e,n,i,s){var r=he.p;he.p=r!==0&&8>r?r:8;var a=Q.T,l={};Q.T=l,op(t,!1,e,n);try{var c=s(),h=Q.S;if(h!==null&&h(l,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var f=mN(c,i);yo(t,e,f,Ft(t))}else yo(t,e,i,Ft(t))}catch(m){yo(t,e,{then:function(){},status:"rejected",reason:m},Ft())}finally{he.p=r,a!==null&&l.types!==null&&(a.types=l.types),Q.T=a}}function EN(){}function Nf(t,e,n,i){if(t.tag!==5)throw Error(L(476));var s=pb(t).queue;mb(t,s,e,Cs,n===null?EN:function(){return gb(t),n(i)})}function pb(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Cs,baseState:Cs,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:Cs},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function gb(t){var e=pb(t);e.next===null&&(e=t.alternate.memoizedState),yo(t,e.next.queue,{},Ft())}function ap(){return ht(zo)}function yb(){return Pe().memoizedState}function vb(){return Pe().memoizedState}function bN(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=Ft();t=Li(n);var i=Pi(e,t,n);i!==null&&(Dt(i,e,n),mo(i,e,n)),e={cache:Gm()},t.payload=e;return}e=e.return}}function xN(t,e,n){var i=Ft();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Qu(t)?Eb(e,n):(n=Bm(t,e,n,i),n!==null&&(Dt(n,t,i),bb(n,e,i)))}function _b(t,e,n){var i=Ft();yo(t,e,n,i)}function yo(t,e,n,i){var s={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qu(t))Eb(e,s);else{var r=t.alternate;if(t.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var a=e.lastRenderedState,l=r(a,n);if(s.hasEagerState=!0,s.eagerState=l,Gt(l,a))return Hu(t,e,s,0),ve===null&&qu(),!1}catch{}finally{}if(n=Bm(t,e,s,i),n!==null)return Dt(n,t,i),bb(n,e,i),!0}return!1}function op(t,e,n,i){if(i={lane:2,revertLane:gp(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Qu(t)){if(e)throw Error(L(479))}else e=Bm(t,n,i,2),e!==null&&Dt(e,t,2)}function Qu(t){var e=t.alternate;return t===Z||e!==null&&e===Z}function Eb(t,e){jr=eu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function bb(t,e,n){if(n&4194048){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,aE(t,n)}}var Lo={readContext:ht,use:Ku,useCallback:je,useContext:je,useEffect:je,useImperativeHandle:je,useLayoutEffect:je,useInsertionEffect:je,useMemo:je,useReducer:je,useRef:je,useState:je,useDebugValue:je,useDeferredValue:je,useTransition:je,useSyncExternalStore:je,useId:je,useHostTransitionStatus:je,useFormState:je,useActionState:je,useOptimistic:je,useMemoCache:je,useCacheRefresh:je};Lo.useEffectEvent=je;var xb={readContext:ht,use:Ku,useCallback:function(t,e){return xt().memoizedState=[t,e===void 0?null:e],t},useContext:ht,useEffect:ov,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,xc(4194308,4,cb.bind(null,e,t),n)},useLayoutEffect:function(t,e){return xc(4194308,4,t,e)},useInsertionEffect:function(t,e){xc(4,2,t,e)},useMemo:function(t,e){var n=xt();e=e===void 0?null:e;var i=t();if(Ps){Ci(!0);try{t()}finally{Ci(!1)}}return n.memoizedState=[i,e],i},useReducer:function(t,e,n){var i=xt();if(n!==void 0){var s=n(e);if(Ps){Ci(!0);try{n(e)}finally{Ci(!1)}}}else s=e;return i.memoizedState=i.baseState=s,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},i.queue=t,t=t.dispatch=xN.bind(null,Z,t),[i.memoizedState,t]},useRef:function(t){var e=xt();return t={current:t},e.memoizedState=t},useState:function(t){t=Sf(t);var e=t.queue,n=_b.bind(null,Z,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:sp,useDeferredValue:function(t,e){var n=xt();return rp(n,t,e)},useTransition:function(){var t=Sf(!1);return t=mb.bind(null,Z,t.queue,!0,!1),xt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var i=Z,s=xt();if(le){if(n===void 0)throw Error(L(407));n=n()}else{if(n=e(),ve===null)throw Error(L(349));oe&127||$E(i,e,n)}s.memoizedState=n;var r={value:n,getSnapshot:e};return s.queue=r,ov(WE.bind(null,i,r,t),[t]),i.flags|=2048,Gr(9,{destroy:void 0},XE.bind(null,i,r,n,e),null),n},useId:function(){var t=xt(),e=ve.identifierPrefix;if(le){var n=xn,i=bn;n=(i&~(1<<32-Ht(i)-1)).toString(32)+n,e="_"+e+"R_"+n,n=tu++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=pN++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:ap,useFormState:sv,useActionState:sv,useOptimistic:function(t){var e=xt();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=op.bind(null,Z,!0,n),n.dispatch=e,[t,e]},useMemoCache:tp,useCacheRefresh:function(){return xt().memoizedState=bN.bind(null,Z)},useEffectEvent:function(t){var e=xt(),n={impl:t};return e.memoizedState=n,function(){if(ue&2)throw Error(L(440));return n.impl.apply(void 0,arguments)}}},lp={readContext:ht,use:Ku,useCallback:hb,useContext:ht,useEffect:ip,useImperativeHandle:ub,useInsertionEffect:ob,useLayoutEffect:lb,useMemo:db,useReducer:bc,useRef:rb,useState:function(){return bc(ei)},useDebugValue:sp,useDeferredValue:function(t,e){var n=Pe();return fb(n,ge.memoizedState,t,e)},useTransition:function(){var t=bc(ei)[0],e=Pe().memoizedState;return[typeof t=="boolean"?t:hl(t),e]},useSyncExternalStore:QE,useId:yb,useHostTransitionStatus:ap,useFormState:rv,useActionState:rv,useOptimistic:function(t,e){var n=Pe();return eb(n,ge,t,e)},useMemoCache:tp,useCacheRefresh:vb};lp.useEffectEvent=ab;var Tb={readContext:ht,use:Ku,useCallback:hb,useContext:ht,useEffect:ip,useImperativeHandle:ub,useInsertionEffect:ob,useLayoutEffect:lb,useMemo:db,useReducer:md,useRef:rb,useState:function(){return md(ei)},useDebugValue:sp,useDeferredValue:function(t,e){var n=Pe();return ge===null?rp(n,t,e):fb(n,ge.memoizedState,t,e)},useTransition:function(){var t=md(ei)[0],e=Pe().memoizedState;return[typeof t=="boolean"?t:hl(t),e]},useSyncExternalStore:QE,useId:yb,useHostTransitionStatus:ap,useFormState:av,useActionState:av,useOptimistic:function(t,e){var n=Pe();return ge!==null?eb(n,ge,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:tp,useCacheRefresh:vb};Tb.useEffectEvent=ab;function pd(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Ne({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Rf={enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Ft(),s=Li(i);s.payload=e,n!=null&&(s.callback=n),e=Pi(t,s,i),e!==null&&(Dt(e,t,i),mo(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Ft(),s=Li(i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Pi(t,s,i),e!==null&&(Dt(e,t,i),mo(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ft(),i=Li(n);i.tag=2,e!=null&&(i.callback=e),e=Pi(t,i,n),e!==null&&(Dt(e,t,n),mo(e,t,n))}};function lv(t,e,n,i,s,r,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,r,a):e.prototype&&e.prototype.isPureReactComponent?!jo(n,i)||!jo(s,r):!0}function cv(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Rf.enqueueReplaceState(e,e.state,null)}function Us(t,e){var n=e;if("ref"in e){n={};for(var i in e)i!=="ref"&&(n[i]=e[i])}if(t=t.defaultProps){n===e&&(n=Ne({},n));for(var s in t)n[s]===void 0&&(n[s]=t[s])}return n}function wb(t){Yc(t)}function Sb(t){console.error(t)}function Ab(t){Yc(t)}function nu(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(i){setTimeout(function(){throw i})}}function uv(t,e,n){try{var i=t.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function Cf(t,e,n){return n=Li(n),n.tag=3,n.payload={element:null},n.callback=function(){nu(t,e)},n}function Nb(t){return t=Li(t),t.tag=3,t}function Rb(t,e,n,i){var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var r=i.value;t.payload=function(){return s(r)},t.callback=function(){uv(e,n,i)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(t.callback=function(){uv(e,n,i),typeof s!="function"&&(Ui===null?Ui=new Set([this]):Ui.add(this));var l=i.stack;this.componentDidCatch(i.value,{componentStack:l!==null?l:""})})}function TN(t,e,n,i,s){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(e=n.alternate,e!==null&&ca(e,n,s,!0),n=Kt.current,n!==null){switch(n.tag){case 31:case 13:return nn===null?ou():n.alternate===null&&Oe===0&&(Oe=3),n.flags&=-257,n.flags|=65536,n.lanes=s,i===Wc?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([i]):e.add(i),Ad(t,i,s)),!1;case 22:return n.flags|=65536,i===Wc?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([i]):n.add(i)),Ad(t,i,s)),!1}throw Error(L(435,n.tag))}return Ad(t,i,s),ou(),!1}if(le)return e=Kt.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=s,i!==gf&&(t=Error(L(422),{cause:i}),ko(Zt(t,n)))):(i!==gf&&(e=Error(L(423),{cause:i}),ko(Zt(e,n))),t=t.current.alternate,t.flags|=65536,s&=-s,t.lanes|=s,i=Zt(i,n),s=Cf(t.stateNode,i,s),fd(t,s),Oe!==4&&(Oe=2)),!1;var r=Error(L(520),{cause:i});if(r=Zt(r,n),Eo===null?Eo=[r]:Eo.push(r),Oe!==4&&(Oe=2),e===null)return!0;i=Zt(i,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=s&-s,n.lanes|=t,t=Cf(n.stateNode,i,t),fd(n,t),!1;case 1:if(e=n.type,r=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(Ui===null||!Ui.has(r))))return n.flags|=65536,s&=-s,n.lanes|=s,s=Nb(s),Rb(s,t,n,i),fd(n,s),!1}n=n.return}while(n!==null);return!1}var cp=Error(L(461)),Ke=!1;function rt(t,e,n,i){e.child=t===null?qE(e,null,n,i):Ls(e,t.child,n,i)}function hv(t,e,n,i,s){n=n.render;var r=e.ref;if("ref"in i){var a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}else a=i;return Vs(e),i=Wm(t,e,n,a,r,s),l=Jm(),t!==null&&!Ke?(Zm(t,e,s),ti(t,e,s)):(le&&l&&Hm(e),e.flags|=1,rt(t,e,i,s),e.child)}function dv(t,e,n,i,s){if(t===null){var r=n.type;return typeof r=="function"&&!qm(r)&&r.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=r,Cb(t,e,r,i,s)):(t=_c(n.type,null,i,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(r=t.child,!up(t,s)){var a=r.memoizedProps;if(n=n.compare,n=n!==null?n:jo,n(a,i)&&t.ref===e.ref)return ti(t,e,s)}return e.flags|=1,t=Qn(r,i),t.ref=e.ref,t.return=e,e.child=t}function Cb(t,e,n,i,s){if(t!==null){var r=t.memoizedProps;if(jo(r,i)&&t.ref===e.ref)if(Ke=!1,e.pendingProps=i=r,up(t,s))t.flags&131072&&(Ke=!0);else return e.lanes=t.lanes,ti(t,e,s)}return If(t,e,n,i,s)}function Ib(t,e,n,i){var s=i.children,r=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(e.flags&128){if(r=r!==null?r.baseLanes|n:n,t!==null){for(i=e.child=t.child,s=0;i!==null;)s=s|i.lanes|i.childLanes,i=i.sibling;i=s&~r}else i=0,e.child=null;return fv(t,e,r,n,i)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ec(e,r!==null?r.cachePool:null),r!==null?tv(e,r):Tf(),GE(e);else return i=e.lanes=536870912,fv(t,e,r!==null?r.baseLanes|n:n,n,i)}else r!==null?(Ec(e,r.cachePool),tv(e,r),Ti(),e.memoizedState=null):(t!==null&&Ec(e,null),Tf(),Ti());return rt(t,e,s,n),e.child}function eo(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function fv(t,e,n,i,s){var r=Km();return r=r===null?null:{parent:Fe._currentValue,pool:r},e.memoizedState={baseLanes:n,cachePool:r},t!==null&&Ec(e,null),Tf(),GE(e),t!==null&&ca(t,e,i,!0),e.childLanes=s,null}function Tc(t,e){return e=iu({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function mv(t,e,n){return Ls(e,t.child,null,n),t=Tc(e,e.pendingProps),t.flags|=2,Lt(e),e.memoizedState=null,t}function wN(t,e,n){var i=e.pendingProps,s=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(le){if(i.mode==="hidden")return t=Tc(e,i),e.lanes=536870912,eo(null,t);if(wf(e),(t=we)?(t=xx(t,en),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Wi!==null?{id:bn,overflow:xn}:null,retryLane:536870912,hydrationErrors:null},n=ME(t),n.return=e,e.child=n,ct=e,we=null)):t=null,t===null)throw Ji(e);return e.lanes=536870912,null}return Tc(e,i)}var r=t.memoizedState;if(r!==null){var a=r.dehydrated;if(wf(e),s)if(e.flags&256)e.flags&=-257,e=mv(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(L(558));else if(Ke||ca(t,e,n,!1),s=(n&t.childLanes)!==0,Ke||s){if(i=ve,i!==null&&(a=oE(i,n),a!==0&&a!==r.retryLane))throw r.retryLane=a,$s(t,a),Dt(i,t,a),cp;ou(),e=mv(t,e,n)}else t=r.treeContext,we=sn(a.nextSibling),ct=e,le=!0,Vi=null,en=!1,t!==null&&LE(e,t),e=Tc(e,i),e.flags|=4096;return e}return t=Qn(t.child,{mode:i.mode,children:i.children}),t.ref=e.ref,e.child=t,t.return=e,t}function wc(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(L(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function If(t,e,n,i,s){return Vs(e),n=Wm(t,e,n,i,void 0,s),i=Jm(),t!==null&&!Ke?(Zm(t,e,s),ti(t,e,s)):(le&&i&&Hm(e),e.flags|=1,rt(t,e,n,s),e.child)}function pv(t,e,n,i,s,r){return Vs(e),e.updateQueue=null,n=YE(e,i,n,s),KE(t),i=Jm(),t!==null&&!Ke?(Zm(t,e,r),ti(t,e,r)):(le&&i&&Hm(e),e.flags|=1,rt(t,e,n,r),e.child)}function gv(t,e,n,i,s){if(Vs(e),e.stateNode===null){var r=xr,a=n.contextType;typeof a=="object"&&a!==null&&(r=ht(a)),r=new n(i,r),e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Rf,e.stateNode=r,r._reactInternals=e,r=e.stateNode,r.props=i,r.state=e.memoizedState,r.refs={},Qm(e),a=n.contextType,r.context=typeof a=="object"&&a!==null?ht(a):xr,r.state=e.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(pd(e,n,a,i),r.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(a=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),a!==r.state&&Rf.enqueueReplaceState(r,r.state,null),go(e,i,r,s),po(),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308),i=!0}else if(t===null){r=e.stateNode;var l=e.memoizedProps,c=Us(n,l);r.props=c;var h=r.context,f=n.contextType;a=xr,typeof f=="object"&&f!==null&&(a=ht(f));var m=n.getDerivedStateFromProps;f=typeof m=="function"||typeof r.getSnapshotBeforeUpdate=="function",l=e.pendingProps!==l,f||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(l||h!==a)&&cv(e,r,i,a),Ei=!1;var p=e.memoizedState;r.state=p,go(e,i,r,s),po(),h=e.memoizedState,l||p!==h||Ei?(typeof m=="function"&&(pd(e,n,m,i),h=e.memoizedState),(c=Ei||lv(e,n,c,i,p,h,a))?(f||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(e.flags|=4194308)):(typeof r.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=h),r.props=i,r.state=h,r.context=a,i=c):(typeof r.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{r=e.stateNode,bf(t,e),a=e.memoizedProps,f=Us(n,a),r.props=f,m=e.pendingProps,p=r.context,h=n.contextType,c=xr,typeof h=="object"&&h!==null&&(c=ht(h)),l=n.getDerivedStateFromProps,(h=typeof l=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(a!==m||p!==c)&&cv(e,r,i,c),Ei=!1,p=e.memoizedState,r.state=p,go(e,i,r,s),po();var v=e.memoizedState;a!==m||p!==v||Ei||t!==null&&t.dependencies!==null&&Xc(t.dependencies)?(typeof l=="function"&&(pd(e,n,l,i),v=e.memoizedState),(f=Ei||lv(e,n,f,i,p,v,c)||t!==null&&t.dependencies!==null&&Xc(t.dependencies))?(h||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(i,v,c),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(i,v,c)),typeof r.componentDidUpdate=="function"&&(e.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof r.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=v),r.props=i,r.state=v,r.context=c,i=f):(typeof r.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),i=!1)}return r=i,wc(t,e),i=(e.flags&128)!==0,r||i?(r=e.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:r.render(),e.flags|=1,t!==null&&i?(e.child=Ls(e,t.child,null,s),e.child=Ls(e,null,n,s)):rt(t,e,n,s),e.memoizedState=r.state,t=e.child):t=ti(t,e,s),t}function yv(t,e,n,i){return Ms(),e.flags|=256,rt(t,e,n,i),e.child}var gd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yd(t){return{baseLanes:t,cachePool:UE()}}function vd(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=Ut),t}function Db(t,e,n){var i=e.pendingProps,s=!1,r=(e.flags&128)!==0,a;if((a=r)||(a=t!==null&&t.memoizedState===null?!1:(Ve.current&2)!==0),a&&(s=!0,e.flags&=-129),a=(e.flags&32)!==0,e.flags&=-33,t===null){if(le){if(s?xi(e):Ti(),(t=we)?(t=xx(t,en),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Wi!==null?{id:bn,overflow:xn}:null,retryLane:536870912,hydrationErrors:null},n=ME(t),n.return=e,e.child=n,ct=e,we=null)):t=null,t===null)throw Ji(e);return Ff(t)?e.lanes=32:e.lanes=536870912,null}var l=i.children;return i=i.fallback,s?(Ti(),s=e.mode,l=iu({mode:"hidden",children:l},s),i=Is(i,s,n,null),l.return=e,i.return=e,l.sibling=i,e.child=l,i=e.child,i.memoizedState=yd(n),i.childLanes=vd(t,a,n),e.memoizedState=gd,eo(null,i)):(xi(e),Df(e,l))}var c=t.memoizedState;if(c!==null&&(l=c.dehydrated,l!==null)){if(r)e.flags&256?(xi(e),e.flags&=-257,e=_d(t,e,n)):e.memoizedState!==null?(Ti(),e.child=t.child,e.flags|=128,e=null):(Ti(),l=i.fallback,s=e.mode,i=iu({mode:"visible",children:i.children},s),l=Is(l,s,n,null),l.flags|=2,i.return=e,l.return=e,i.sibling=l,e.child=i,Ls(e,t.child,null,n),i=e.child,i.memoizedState=yd(n),i.childLanes=vd(t,a,n),e.memoizedState=gd,e=eo(null,i));else if(xi(e),Ff(l)){if(a=l.nextSibling&&l.nextSibling.dataset,a)var h=a.dgst;a=h,i=Error(L(419)),i.stack="",i.digest=a,ko({value:i,source:null,stack:null}),e=_d(t,e,n)}else if(Ke||ca(t,e,n,!1),a=(n&t.childLanes)!==0,Ke||a){if(a=ve,a!==null&&(i=oE(a,n),i!==0&&i!==c.retryLane))throw c.retryLane=i,$s(t,i),Dt(a,t,i),cp;Hf(l)||ou(),e=_d(t,e,n)}else Hf(l)?(e.flags|=192,e.child=t.child,e=null):(t=c.treeContext,we=sn(l.nextSibling),ct=e,le=!0,Vi=null,en=!1,t!==null&&LE(e,t),e=Df(e,i.children),e.flags|=4096);return e}return s?(Ti(),l=i.fallback,s=e.mode,c=t.child,h=c.sibling,i=Qn(c,{mode:"hidden",children:i.children}),i.subtreeFlags=c.subtreeFlags&65011712,h!==null?l=Qn(h,l):(l=Is(l,s,n,null),l.flags|=2),l.return=e,i.return=e,i.sibling=l,e.child=i,eo(null,i),i=e.child,l=t.child.memoizedState,l===null?l=yd(n):(s=l.cachePool,s!==null?(c=Fe._currentValue,s=s.parent!==c?{parent:c,pool:c}:s):s=UE(),l={baseLanes:l.baseLanes|n,cachePool:s}),i.memoizedState=l,i.childLanes=vd(t,a,n),e.memoizedState=gd,eo(t.child,i)):(xi(e),n=t.child,t=n.sibling,n=Qn(n,{mode:"visible",children:i.children}),n.return=e,n.sibling=null,t!==null&&(a=e.deletions,a===null?(e.deletions=[t],e.flags|=16):a.push(t)),e.child=n,e.memoizedState=null,n)}function Df(t,e){return e=iu({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function iu(t,e){return t=Pt(22,t,null,e),t.lanes=0,t}function _d(t,e,n){return Ls(e,t.child,null,n),t=Df(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function vv(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),vf(t.return,e,n)}function Ed(t,e,n,i,s,r){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s,treeForkCount:r}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=s,a.treeForkCount=r)}function jb(t,e,n){var i=e.pendingProps,s=i.revealOrder,r=i.tail;i=i.children;var a=Ve.current,l=(a&2)!==0;if(l?(a=a&1|2,e.flags|=128):a&=1,be(Ve,a),rt(t,e,i,n),i=le?Oo:0,!l&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&vv(t,n,e);else if(t.tag===19)vv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Zc(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Ed(e,!1,s,n,r,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Zc(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Ed(e,!0,n,null,r,i);break;case"together":Ed(e,!1,null,null,void 0,i);break;default:e.memoizedState=null}return e.child}function ti(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),es|=e.lanes,!(n&e.childLanes))if(t!==null){if(ca(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(L(153));if(e.child!==null){for(t=e.child,n=Qn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Qn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function up(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&Xc(t)))}function SN(t,e,n){switch(e.tag){case 3:Hc(e,e.stateNode.containerInfo),bi(e,Fe,t.memoizedState.cache),Ms();break;case 27:case 5:rf(e);break;case 4:Hc(e,e.stateNode.containerInfo);break;case 10:bi(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,wf(e),null;break;case 13:var i=e.memoizedState;if(i!==null)return i.dehydrated!==null?(xi(e),e.flags|=128,null):n&e.child.childLanes?Db(t,e,n):(xi(e),t=ti(t,e,n),t!==null?t.sibling:null);xi(e);break;case 19:var s=(t.flags&128)!==0;if(i=(n&e.childLanes)!==0,i||(ca(t,e,n,!1),i=(n&e.childLanes)!==0),s){if(i)return jb(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),be(Ve,Ve.current),i)break;return null;case 22:return e.lanes=0,Ib(t,e,n,e.pendingProps);case 24:bi(e,Fe,t.memoizedState.cache)}return ti(t,e,n)}function Ob(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)Ke=!0;else{if(!up(t,n)&&!(e.flags&128))return Ke=!1,SN(t,e,n);Ke=!!(t.flags&131072)}else Ke=!1,le&&e.flags&1048576&&VE(e,Oo,e.index);switch(e.lanes=0,e.tag){case 16:e:{var i=e.pendingProps;if(t=Ss(e.elementType),e.type=t,typeof t=="function")qm(t)?(i=Us(t,i),e.tag=1,e=gv(null,e,t,i,n)):(e.tag=0,e=If(null,e,t,i,n));else{if(t!=null){var s=t.$$typeof;if(s===Rm){e.tag=11,e=hv(null,e,t,i,n);break e}else if(s===Cm){e.tag=14,e=dv(null,e,t,i,n);break e}}throw e=nf(t)||t,Error(L(306,e,""))}}return e;case 0:return If(t,e,e.type,e.pendingProps,n);case 1:return i=e.type,s=Us(i,e.pendingProps),gv(t,e,i,s,n);case 3:e:{if(Hc(e,e.stateNode.containerInfo),t===null)throw Error(L(387));i=e.pendingProps;var r=e.memoizedState;s=r.element,bf(t,e),go(e,i,null,n);var a=e.memoizedState;if(i=a.cache,bi(e,Fe,i),i!==r.cache&&_f(e,[Fe],n,!0),po(),i=a.element,r.isDehydrated)if(r={element:i,isDehydrated:!1,cache:a.cache},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){e=yv(t,e,i,n);break e}else if(i!==s){s=Zt(Error(L(424)),e),ko(s),e=yv(t,e,i,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(we=sn(t.firstChild),ct=e,le=!0,Vi=null,en=!0,n=qE(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Ms(),i===s){e=ti(t,e,n);break e}rt(t,e,i,n)}e=e.child}return e;case 26:return wc(t,e),t===null?(n=Pv(e.type,null,e.pendingProps,null))?e.memoizedState=n:le||(n=e.type,t=e.pendingProps,i=hu(Mi.current).createElement(n),i[lt]=e,i[Ot]=t,dt(i,n,t),nt(i),e.stateNode=i):e.memoizedState=Pv(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return rf(e),t===null&&le&&(i=e.stateNode=Tx(e.type,e.pendingProps,Mi.current),ct=e,en=!0,s=we,us(e.type)?(Gf=s,we=sn(i.firstChild)):we=s),rt(t,e,e.pendingProps.children,n),wc(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&le&&((s=i=we)&&(i=tR(i,e.type,e.pendingProps,en),i!==null?(e.stateNode=i,ct=e,we=sn(i.firstChild),en=!1,s=!0):s=!1),s||Ji(e)),rf(e),s=e.type,r=e.pendingProps,a=t!==null?t.memoizedProps:null,i=r.children,Bf(s,r)?i=null:a!==null&&Bf(s,a)&&(e.flags|=32),e.memoizedState!==null&&(s=Wm(t,e,gN,null,null,n),zo._currentValue=s),wc(t,e),rt(t,e,i,n),e.child;case 6:return t===null&&le&&((t=n=we)&&(n=nR(n,e.pendingProps,en),n!==null?(e.stateNode=n,ct=e,we=null,t=!0):t=!1),t||Ji(e)),null;case 13:return Db(t,e,n);case 4:return Hc(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Ls(e,null,i,n):rt(t,e,i,n),e.child;case 11:return hv(t,e,e.type,e.pendingProps,n);case 7:return rt(t,e,e.pendingProps,n),e.child;case 8:return rt(t,e,e.pendingProps.children,n),e.child;case 12:return rt(t,e,e.pendingProps.children,n),e.child;case 10:return i=e.pendingProps,bi(e,e.type,i.value),rt(t,e,i.children,n),e.child;case 9:return s=e.type._context,i=e.pendingProps.children,Vs(e),s=ht(s),i=i(s),e.flags|=1,rt(t,e,i,n),e.child;case 14:return dv(t,e,e.type,e.pendingProps,n);case 15:return Cb(t,e,e.type,e.pendingProps,n);case 19:return jb(t,e,n);case 31:return wN(t,e,n);case 22:return Ib(t,e,n,e.pendingProps);case 24:return Vs(e),i=ht(Fe),t===null?(s=Km(),s===null&&(s=ve,r=Gm(),s.pooledCache=r,r.refCount++,r!==null&&(s.pooledCacheLanes|=n),s=r),e.memoizedState={parent:i,cache:s},Qm(e),bi(e,Fe,s)):(t.lanes&n&&(bf(t,e),go(e,null,null,n),po()),s=t.memoizedState,r=e.memoizedState,s.parent!==i?(s={parent:i,cache:i},e.memoizedState=s,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=s),bi(e,Fe,i)):(i=r.cache,bi(e,Fe,i),i!==s.cache&&_f(e,[Fe],n,!0))),rt(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(L(156,e.tag))}function Ln(t){t.flags|=4}function bd(t,e,n,i,s){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(s&335544128)===s)if(t.stateNode.complete)t.flags|=8192;else if(ix())t.flags|=8192;else throw js=Wc,Ym}else t.flags&=-16777217}function _v(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!Ax(e))if(ix())t.flags|=8192;else throw js=Wc,Ym}function nc(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?sE():536870912,t.lanes|=e,Kr|=e)}function Ka(t,e){if(!le)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Te(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&65011712,i|=s.flags&65011712,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function AN(t,e,n){var i=e.pendingProps;switch(Fm(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Te(e),null;case 1:return Te(e),null;case 3:return n=e.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),$n(Fe),zr(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(rr(e)?Ln(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,dd())),Te(e),null;case 26:var s=e.type,r=e.memoizedState;return t===null?(Ln(e),r!==null?(Te(e),_v(e,r)):(Te(e),bd(e,s,null,i,n))):r?r!==t.memoizedState?(Ln(e),Te(e),_v(e,r)):(Te(e),e.flags&=-16777217):(t=t.memoizedProps,t!==i&&Ln(e),Te(e),bd(e,s,t,i,n)),null;case 27:if(Fc(e),n=Mi.current,s=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&Ln(e);else{if(!i){if(e.stateNode===null)throw Error(L(166));return Te(e),null}t=wn.current,rr(e)?Qy(e):(t=Tx(s,i,n),e.stateNode=t,Ln(e))}return Te(e),null;case 5:if(Fc(e),s=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&Ln(e);else{if(!i){if(e.stateNode===null)throw Error(L(166));return Te(e),null}if(r=wn.current,rr(e))Qy(e);else{var a=hu(Mi.current);switch(r){case 1:r=a.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:r=a.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":r=a.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":r=a.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":r=a.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof i.is=="string"?a.createElement("select",{is:i.is}):a.createElement("select"),i.multiple?r.multiple=!0:i.size&&(r.size=i.size);break;default:r=typeof i.is=="string"?a.createElement(s,{is:i.is}):a.createElement(s)}}r[lt]=e,r[Ot]=i;e:for(a=e.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break e;for(;a.sibling===null;){if(a.return===null||a.return===e)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}e.stateNode=r;e:switch(dt(r,s,i),s){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Ln(e)}}return Te(e),bd(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==i&&Ln(e);else{if(typeof i!="string"&&e.stateNode===null)throw Error(L(166));if(t=Mi.current,rr(e)){if(t=e.stateNode,n=e.memoizedProps,i=null,s=ct,s!==null)switch(s.tag){case 27:case 5:i=s.memoizedProps}t[lt]=e,t=!!(t.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||_x(t.nodeValue,n)),t||Ji(e,!0)}else t=hu(t).createTextNode(i),t[lt]=e,e.stateNode=t}return Te(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(i=rr(e),n!==null){if(t===null){if(!i)throw Error(L(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(L(557));t[lt]=e}else Ms(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Te(e),t=!1}else n=dd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(Lt(e),e):(Lt(e),null);if(e.flags&128)throw Error(L(558))}return Te(e),null;case 13:if(i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(s=rr(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(L(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(L(317));s[lt]=e}else Ms(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Te(e),s=!1}else s=dd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),s=!0;if(!s)return e.flags&256?(Lt(e),e):(Lt(e),null)}return Lt(e),e.flags&128?(e.lanes=n,e):(n=i!==null,t=t!==null&&t.memoizedState!==null,n&&(i=e.child,s=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(s=i.alternate.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==s&&(i.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),nc(e,e.updateQueue),Te(e),null);case 4:return zr(),t===null&&yp(e.stateNode.containerInfo),Te(e),null;case 10:return $n(e.type),Te(e),null;case 19:if(st(Ve),i=e.memoizedState,i===null)return Te(e),null;if(s=(e.flags&128)!==0,r=i.rendering,r===null)if(s)Ka(i,!1);else{if(Oe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(r=Zc(t),r!==null){for(e.flags|=128,Ka(i,!1),t=r.updateQueue,e.updateQueue=t,nc(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)kE(n,t),n=n.sibling;return be(Ve,Ve.current&1|2),le&&Bn(e,i.treeForkCount),e.child}t=t.sibling}i.tail!==null&&Bt()>ru&&(e.flags|=128,s=!0,Ka(i,!1),e.lanes=4194304)}else{if(!s)if(t=Zc(r),t!==null){if(e.flags|=128,s=!0,t=t.updateQueue,e.updateQueue=t,nc(e,t),Ka(i,!0),i.tail===null&&i.tailMode==="hidden"&&!r.alternate&&!le)return Te(e),null}else 2*Bt()-i.renderingStartTime>ru&&n!==536870912&&(e.flags|=128,s=!0,Ka(i,!1),e.lanes=4194304);i.isBackwards?(r.sibling=e.child,e.child=r):(t=i.last,t!==null?t.sibling=r:e.child=r,i.last=r)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Bt(),t.sibling=null,n=Ve.current,be(Ve,s?n&1|2:n&1),le&&Bn(e,i.treeForkCount),t):(Te(e),null);case 22:case 23:return Lt(e),$m(),i=e.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?n&536870912&&!(e.flags&128)&&(Te(e),e.subtreeFlags&6&&(e.flags|=8192)):Te(e),n=e.updateQueue,n!==null&&nc(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),i=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),i!==n&&(e.flags|=2048),t!==null&&st(Ds),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),$n(Fe),Te(e),null;case 25:return null;case 30:return null}throw Error(L(156,e.tag))}function NN(t,e){switch(Fm(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return $n(Fe),zr(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Fc(e),null;case 31:if(e.memoizedState!==null){if(Lt(e),e.alternate===null)throw Error(L(340));Ms()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(Lt(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(L(340));Ms()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return st(Ve),null;case 4:return zr(),null;case 10:return $n(e.type),null;case 22:case 23:return Lt(e),$m(),t!==null&&st(Ds),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return $n(Fe),null;case 25:return null;default:return null}}function kb(t,e){switch(Fm(e),e.tag){case 3:$n(Fe),zr();break;case 26:case 27:case 5:Fc(e);break;case 4:zr();break;case 31:e.memoizedState!==null&&Lt(e);break;case 13:Lt(e);break;case 19:st(Ve);break;case 10:$n(e.type);break;case 22:case 23:Lt(e),$m(),t!==null&&st(Ds);break;case 24:$n(Fe)}}function dl(t,e){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var s=i.next;n=s;do{if((n.tag&t)===t){i=void 0;var r=n.create,a=n.inst;i=r(),a.destroy=i}n=n.next}while(n!==s)}}catch(l){me(e,e.return,l)}}function Zi(t,e,n){try{var i=e.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var r=s.next;i=r;do{if((i.tag&t)===t){var a=i.inst,l=a.destroy;if(l!==void 0){a.destroy=void 0,s=e;var c=n,h=l;try{h()}catch(f){me(s,c,f)}}}i=i.next}while(i!==r)}}catch(f){me(e,e.return,f)}}function Mb(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{FE(e,n)}catch(i){me(t,t.return,i)}}}function Vb(t,e,n){n.props=Us(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(i){me(t,e,i)}}function vo(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;case 30:i=t.stateNode;break;default:i=t.stateNode}typeof n=="function"?t.refCleanup=n(i):n.current=i}}catch(s){me(t,e,s)}}function Tn(t,e){var n=t.ref,i=t.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(s){me(t,e,s)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(s){me(t,e,s)}else n.current=null}function Lb(t){var e=t.type,n=t.memoizedProps,i=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(s){me(t,t.return,s)}}function xd(t,e,n){try{var i=t.stateNode;$N(i,t.type,n,e),i[Ot]=e}catch(s){me(t,t.return,s)}}function Pb(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&us(t.type)||t.tag===4}function Td(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Pb(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&us(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function jf(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Fn));else if(i!==4&&(i===27&&us(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(jf(t,e,n),t=t.sibling;t!==null;)jf(t,e,n),t=t.sibling}function su(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(i===27&&us(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(su(t,e,n),t=t.sibling;t!==null;)su(t,e,n),t=t.sibling}function Ub(t){var e=t.stateNode,n=t.memoizedProps;try{for(var i=t.type,s=e.attributes;s.length;)e.removeAttributeNode(s[0]);dt(e,i,n),e[lt]=t,e[Ot]=n}catch(r){me(t,t.return,r)}}var qn=!1,He=!1,wd=!1,Ev=typeof WeakSet=="function"?WeakSet:Set,tt=null;function RN(t,e){if(t=t.containerInfo,Uf=pu,t=AE(t),Um(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,h=0,f=0,m=t,p=null;t:for(;;){for(var v;m!==n||s!==0&&m.nodeType!==3||(l=a+s),m!==r||i!==0&&m.nodeType!==3||(c=a+i),m.nodeType===3&&(a+=m.nodeValue.length),(v=m.firstChild)!==null;)p=m,m=v;for(;;){if(m===t)break t;if(p===n&&++h===s&&(l=a),p===r&&++f===i&&(c=a),(v=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=v}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(zf={focusedElem:t,selectionRange:n},pu=!1,tt=e;tt!==null;)if(e=tt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,tt=t;else for(;tt!==null;){switch(e=tt,r=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)s=t[n],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&r!==null){t=void 0,n=e,s=r.memoizedProps,r=r.memoizedState,i=n.stateNode;try{var R=Us(n.type,s);t=i.getSnapshotBeforeUpdate(R,r),i.__reactInternalSnapshotBeforeUpdate=t}catch(D){me(n,n.return,D)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)qf(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":qf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(L(163))}if(t=e.sibling,t!==null){t.return=e.return,tt=t;break}tt=e.return}}function zb(t,e,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Un(t,n),i&4&&dl(5,n);break;case 1:if(Un(t,n),i&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(a){me(n,n.return,a)}else{var s=Us(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(s,e,t.__reactInternalSnapshotBeforeUpdate)}catch(a){me(n,n.return,a)}}i&64&&Mb(n),i&512&&vo(n,n.return);break;case 3:if(Un(t,n),i&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{FE(t,e)}catch(a){me(n,n.return,a)}}break;case 27:e===null&&i&4&&Ub(n);case 26:case 5:Un(t,n),e===null&&i&4&&Lb(n),i&512&&vo(n,n.return);break;case 12:Un(t,n);break;case 31:Un(t,n),i&4&&Hb(t,n);break;case 13:Un(t,n),i&4&&Fb(t,n),i&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=LN.bind(null,n),iR(t,n))));break;case 22:if(i=n.memoizedState!==null||qn,!i){e=e!==null&&e.memoizedState!==null||He,s=qn;var r=He;qn=i,(He=e)&&!r?zn(t,n,(n.subtreeFlags&8772)!==0):Un(t,n),qn=s,He=r}break;case 30:break;default:Un(t,n)}}function Bb(t){var e=t.alternate;e!==null&&(t.alternate=null,Bb(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Om(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Re=null,Nt=!1;function Pn(t,e,n){for(n=n.child;n!==null;)qb(t,e,n),n=n.sibling}function qb(t,e,n){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(rl,n)}catch{}switch(n.tag){case 26:He||Tn(n,e),Pn(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:He||Tn(n,e);var i=Re,s=Nt;us(n.type)&&(Re=n.stateNode,Nt=!1),Pn(t,e,n),xo(n.stateNode),Re=i,Nt=s;break;case 5:He||Tn(n,e);case 6:if(i=Re,s=Nt,Re=null,Pn(t,e,n),Re=i,Nt=s,Re!==null)if(Nt)try{(Re.nodeType===9?Re.body:Re.nodeName==="HTML"?Re.ownerDocument.body:Re).removeChild(n.stateNode)}catch(r){me(n,e,r)}else try{Re.removeChild(n.stateNode)}catch(r){me(n,e,r)}break;case 18:Re!==null&&(Nt?(t=Re,Ov(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),Xr(t)):Ov(Re,n.stateNode));break;case 4:i=Re,s=Nt,Re=n.stateNode.containerInfo,Nt=!0,Pn(t,e,n),Re=i,Nt=s;break;case 0:case 11:case 14:case 15:Zi(2,n,e),He||Zi(4,n,e),Pn(t,e,n);break;case 1:He||(Tn(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"&&Vb(n,e,i)),Pn(t,e,n);break;case 21:Pn(t,e,n);break;case 22:He=(i=He)||n.memoizedState!==null,Pn(t,e,n),He=i;break;default:Pn(t,e,n)}}function Hb(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Xr(t)}catch(n){me(e,e.return,n)}}}function Fb(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Xr(t)}catch(n){me(e,e.return,n)}}function CN(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Ev),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Ev),e;default:throw Error(L(435,t.tag))}}function ic(t,e){var n=CN(t);e.forEach(function(i){if(!n.has(i)){n.add(i);var s=PN.bind(null,t,i);i.then(s,s)}})}function St(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i],r=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 27:if(us(l.type)){Re=l.stateNode,Nt=!1;break e}break;case 5:Re=l.stateNode,Nt=!1;break e;case 3:case 4:Re=l.stateNode.containerInfo,Nt=!0;break e}l=l.return}if(Re===null)throw Error(L(160));qb(r,a,s),Re=null,Nt=!1,r=s.alternate,r!==null&&(r.return=null),s.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)Gb(e,t),e=e.sibling}var cn=null;function Gb(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:St(e,t),At(t),i&4&&(Zi(3,t,t.return),dl(3,t),Zi(5,t,t.return));break;case 1:St(e,t),At(t),i&512&&(He||n===null||Tn(n,n.return)),i&64&&qn&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var s=cn;if(St(e,t),At(t),i&512&&(He||n===null||Tn(n,n.return)),i&4){var r=n!==null?n.memoizedState:null;if(i=t.memoizedState,n===null)if(i===null)if(t.stateNode===null){e:{i=t.type,n=t.memoizedProps,s=s.ownerDocument||s;t:switch(i){case"title":r=s.getElementsByTagName("title")[0],(!r||r[ll]||r[lt]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=s.createElement(i),s.head.insertBefore(r,s.querySelector("head > title"))),dt(r,i,n),r[lt]=t,nt(r),i=r;break e;case"link":var a=zv("link","href",s).get(i+(n.href||""));if(a){for(var l=0;l<a.length;l++)if(r=a[l],r.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&r.getAttribute("rel")===(n.rel==null?null:n.rel)&&r.getAttribute("title")===(n.title==null?null:n.title)&&r.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(l,1);break t}}r=s.createElement(i),dt(r,i,n),s.head.appendChild(r);break;case"meta":if(a=zv("meta","content",s).get(i+(n.content||""))){for(l=0;l<a.length;l++)if(r=a[l],r.getAttribute("content")===(n.content==null?null:""+n.content)&&r.getAttribute("name")===(n.name==null?null:n.name)&&r.getAttribute("property")===(n.property==null?null:n.property)&&r.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&r.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(l,1);break t}}r=s.createElement(i),dt(r,i,n),s.head.appendChild(r);break;default:throw Error(L(468,i))}r[lt]=t,nt(r),i=r}t.stateNode=i}else Bv(s,t.type,t.stateNode);else t.stateNode=Uv(s,i,t.memoizedProps);else r!==i?(r===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):r.count--,i===null?Bv(s,t.type,t.stateNode):Uv(s,i,t.memoizedProps)):i===null&&t.stateNode!==null&&xd(t,t.memoizedProps,n.memoizedProps)}break;case 27:St(e,t),At(t),i&512&&(He||n===null||Tn(n,n.return)),n!==null&&i&4&&xd(t,t.memoizedProps,n.memoizedProps);break;case 5:if(St(e,t),At(t),i&512&&(He||n===null||Tn(n,n.return)),t.flags&32){s=t.stateNode;try{qr(s,"")}catch(R){me(t,t.return,R)}}i&4&&t.stateNode!=null&&(s=t.memoizedProps,xd(t,s,n!==null?n.memoizedProps:s)),i&1024&&(wd=!0);break;case 6:if(St(e,t),At(t),i&4){if(t.stateNode===null)throw Error(L(162));i=t.memoizedProps,n=t.stateNode;try{n.nodeValue=i}catch(R){me(t,t.return,R)}}break;case 3:if(Nc=null,s=cn,cn=du(e.containerInfo),St(e,t),cn=s,At(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Xr(e.containerInfo)}catch(R){me(t,t.return,R)}wd&&(wd=!1,Kb(t));break;case 4:i=cn,cn=du(t.stateNode.containerInfo),St(e,t),At(t),cn=i;break;case 12:St(e,t),At(t);break;case 31:St(e,t),At(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,ic(t,i)));break;case 13:St(e,t),At(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&($u=Bt()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,ic(t,i)));break;case 22:s=t.memoizedState!==null;var c=n!==null&&n.memoizedState!==null,h=qn,f=He;if(qn=h||s,He=f||c,St(e,t),He=f,qn=h,At(t),i&8192)e:for(e=t.stateNode,e._visibility=s?e._visibility&-2:e._visibility|1,s&&(n===null||c||qn||He||As(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){c=n=e;try{if(r=c.stateNode,s)a=r.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{l=c.stateNode;var m=c.memoizedProps.style,p=m!=null&&m.hasOwnProperty("display")?m.display:null;l.style.display=p==null||typeof p=="boolean"?"":(""+p).trim()}}catch(R){me(c,c.return,R)}}}else if(e.tag===6){if(n===null){c=e;try{c.stateNode.nodeValue=s?"":c.memoizedProps}catch(R){me(c,c.return,R)}}}else if(e.tag===18){if(n===null){c=e;try{var v=c.stateNode;s?kv(v,!0):kv(c.stateNode,!1)}catch(R){me(c,c.return,R)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}i&4&&(i=t.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,ic(t,n))));break;case 19:St(e,t),At(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,ic(t,i)));break;case 30:break;case 21:break;default:St(e,t),At(t)}}function At(t){var e=t.flags;if(e&2){try{for(var n,i=t.return;i!==null;){if(Pb(i)){n=i;break}i=i.return}if(n==null)throw Error(L(160));switch(n.tag){case 27:var s=n.stateNode,r=Td(t);su(t,r,s);break;case 5:var a=n.stateNode;n.flags&32&&(qr(a,""),n.flags&=-33);var l=Td(t);su(t,l,a);break;case 3:case 4:var c=n.stateNode.containerInfo,h=Td(t);jf(t,h,c);break;default:throw Error(L(161))}}catch(f){me(t,t.return,f)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Kb(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Kb(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Un(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)zb(t,e.alternate,e),e=e.sibling}function As(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Zi(4,e,e.return),As(e);break;case 1:Tn(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&Vb(e,e.return,n),As(e);break;case 27:xo(e.stateNode);case 26:case 5:Tn(e,e.return),As(e);break;case 22:e.memoizedState===null&&As(e);break;case 30:As(e);break;default:As(e)}t=t.sibling}}function zn(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var i=e.alternate,s=t,r=e,a=r.flags;switch(r.tag){case 0:case 11:case 15:zn(s,r,n),dl(4,r);break;case 1:if(zn(s,r,n),i=r,s=i.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(h){me(i,i.return,h)}if(i=r,s=i.updateQueue,s!==null){var l=i.stateNode;try{var c=s.shared.hiddenCallbacks;if(c!==null)for(s.shared.hiddenCallbacks=null,s=0;s<c.length;s++)HE(c[s],l)}catch(h){me(i,i.return,h)}}n&&a&64&&Mb(r),vo(r,r.return);break;case 27:Ub(r);case 26:case 5:zn(s,r,n),n&&i===null&&a&4&&Lb(r),vo(r,r.return);break;case 12:zn(s,r,n);break;case 31:zn(s,r,n),n&&a&4&&Hb(s,r);break;case 13:zn(s,r,n),n&&a&4&&Fb(s,r);break;case 22:r.memoizedState===null&&zn(s,r,n),vo(r,r.return);break;case 30:break;default:zn(s,r,n)}e=e.sibling}}function hp(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&ul(n))}function dp(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&ul(t))}function ln(t,e,n,i){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Yb(t,e,n,i),e=e.sibling}function Yb(t,e,n,i){var s=e.flags;switch(e.tag){case 0:case 11:case 15:ln(t,e,n,i),s&2048&&dl(9,e);break;case 1:ln(t,e,n,i);break;case 3:ln(t,e,n,i),s&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&ul(t)));break;case 12:if(s&2048){ln(t,e,n,i),t=e.stateNode;try{var r=e.memoizedProps,a=r.id,l=r.onPostCommit;typeof l=="function"&&l(a,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(c){me(e,e.return,c)}}else ln(t,e,n,i);break;case 31:ln(t,e,n,i);break;case 13:ln(t,e,n,i);break;case 23:break;case 22:r=e.stateNode,a=e.alternate,e.memoizedState!==null?r._visibility&2?ln(t,e,n,i):_o(t,e):r._visibility&2?ln(t,e,n,i):(r._visibility|=2,lr(t,e,n,i,(e.subtreeFlags&10256)!==0||!1)),s&2048&&hp(a,e);break;case 24:ln(t,e,n,i),s&2048&&dp(e.alternate,e);break;default:ln(t,e,n,i)}}function lr(t,e,n,i,s){for(s=s&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var r=t,a=e,l=n,c=i,h=a.flags;switch(a.tag){case 0:case 11:case 15:lr(r,a,l,c,s),dl(8,a);break;case 23:break;case 22:var f=a.stateNode;a.memoizedState!==null?f._visibility&2?lr(r,a,l,c,s):_o(r,a):(f._visibility|=2,lr(r,a,l,c,s)),s&&h&2048&&hp(a.alternate,a);break;case 24:lr(r,a,l,c,s),s&&h&2048&&dp(a.alternate,a);break;default:lr(r,a,l,c,s)}e=e.sibling}}function _o(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,i=e,s=i.flags;switch(i.tag){case 22:_o(n,i),s&2048&&hp(i.alternate,i);break;case 24:_o(n,i),s&2048&&dp(i.alternate,i);break;default:_o(n,i)}e=e.sibling}}var to=8192;function ar(t,e,n){if(t.subtreeFlags&to)for(t=t.child;t!==null;)Qb(t,e,n),t=t.sibling}function Qb(t,e,n){switch(t.tag){case 26:ar(t,e,n),t.flags&to&&t.memoizedState!==null&&pR(n,cn,t.memoizedState,t.memoizedProps);break;case 5:ar(t,e,n);break;case 3:case 4:var i=cn;cn=du(t.stateNode.containerInfo),ar(t,e,n),cn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=to,to=16777216,ar(t,e,n),to=i):ar(t,e,n));break;default:ar(t,e,n)}}function $b(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Ya(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];tt=i,Wb(i,t)}$b(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Xb(t),t=t.sibling}function Xb(t){switch(t.tag){case 0:case 11:case 15:Ya(t),t.flags&2048&&Zi(9,t,t.return);break;case 3:Ya(t);break;case 12:Ya(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Sc(t)):Ya(t);break;default:Ya(t)}}function Sc(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];tt=i,Wb(i,t)}$b(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Zi(8,e,e.return),Sc(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,Sc(e));break;default:Sc(e)}t=t.sibling}}function Wb(t,e){for(;tt!==null;){var n=tt;switch(n.tag){case 0:case 11:case 15:Zi(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:ul(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,tt=i;else e:for(n=t;tt!==null;){i=tt;var s=i.sibling,r=i.return;if(Bb(i),i===n){tt=null;break e}if(s!==null){s.return=r,tt=s;break e}tt=r}}}var IN={getCacheForType:function(t){var e=ht(Fe),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return ht(Fe).controller.signal}},DN=typeof WeakMap=="function"?WeakMap:Map,ue=0,ve=null,ie=null,oe=0,fe=0,Vt=null,Di=!1,ha=!1,fp=!1,ni=0,Oe=0,es=0,Os=0,mp=0,Ut=0,Kr=0,Eo=null,Rt=null,Of=!1,$u=0,Jb=0,ru=1/0,au=null,Ui=null,Xe=0,zi=null,Yr=null,Xn=0,kf=0,Mf=null,Zb=null,bo=0,Vf=null;function Ft(){return ue&2&&oe!==0?oe&-oe:Q.T!==null?gp():lE()}function ex(){if(Ut===0)if(!(oe&536870912)||le){var t=$l;$l<<=1,!($l&3932160)&&($l=262144),Ut=t}else Ut=536870912;return t=Kt.current,t!==null&&(t.flags|=32),Ut}function Dt(t,e,n){(t===ve&&(fe===2||fe===9)||t.cancelPendingCommit!==null)&&(Qr(t,0),ji(t,oe,Ut,!1)),ol(t,n),(!(ue&2)||t!==ve)&&(t===ve&&(!(ue&2)&&(Os|=n),Oe===4&&ji(t,oe,Ut,!1)),kn(t))}function tx(t,e,n){if(ue&6)throw Error(L(327));var i=!n&&(e&127)===0&&(e&t.expiredLanes)===0||al(t,e),s=i?kN(t,e):Sd(t,e,!0),r=i;do{if(s===0){ha&&!i&&ji(t,e,0,!1);break}else{if(n=t.current.alternate,r&&!jN(n)){s=Sd(t,e,!1),r=!1;continue}if(s===2){if(r=e,t.errorRecoveryDisabledLanes&r)var a=0;else a=t.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){e=a;e:{var l=t;s=Eo;var c=l.current.memoizedState.isDehydrated;if(c&&(Qr(l,a).flags|=256),a=Sd(l,a,!1),a!==2){if(fp&&!c){l.errorRecoveryDisabledLanes|=r,Os|=r,s=4;break e}r=Rt,Rt=s,r!==null&&(Rt===null?Rt=r:Rt.push.apply(Rt,r))}s=a}if(r=!1,s!==2)continue}}if(s===1){Qr(t,0),ji(t,e,0,!0);break}e:{switch(i=t,r=s,r){case 0:case 1:throw Error(L(345));case 4:if((e&4194048)!==e)break;case 6:ji(i,e,Ut,!Di);break e;case 2:Rt=null;break;case 3:case 5:break;default:throw Error(L(329))}if((e&62914560)===e&&(s=$u+300-Bt(),10<s)){if(ji(i,e,Ut,!Di),Pu(i,0,!0)!==0)break e;Xn=e,i.timeoutHandle=bx(bv.bind(null,i,n,Rt,au,Of,e,Ut,Os,Kr,Di,r,"Throttled",-0,0),s);break e}bv(i,n,Rt,au,Of,e,Ut,Os,Kr,Di,r,null,-0,0)}}break}while(!0);kn(t)}function bv(t,e,n,i,s,r,a,l,c,h,f,m,p,v){if(t.timeoutHandle=-1,m=e.subtreeFlags,m&8192||(m&16785408)===16785408){m={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fn},Qb(e,r,m);var R=(r&62914560)===r?$u-Bt():(r&4194048)===r?Jb-Bt():0;if(R=gR(m,R),R!==null){Xn=r,t.cancelPendingCommit=R(Tv.bind(null,t,e,r,n,i,s,a,l,c,f,m,null,p,v)),ji(t,r,a,!h);return}}Tv(t,e,r,n,i,s,a,l,c)}function jN(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var s=n[i],r=s.getSnapshot;s=s.value;try{if(!Gt(r(),s))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ji(t,e,n,i){e&=~mp,e&=~Os,t.suspendedLanes|=e,t.pingedLanes&=~e,i&&(t.warmLanes|=e),i=t.expirationTimes;for(var s=e;0<s;){var r=31-Ht(s),a=1<<r;i[r]=-1,s&=~a}n!==0&&rE(t,n,e)}function Xu(){return ue&6?!0:(fl(0),!1)}function pp(){if(ie!==null){if(fe===0)var t=ie.return;else t=ie,Gn=Xs=null,ep(t),Dr=null,Mo=0,t=ie;for(;t!==null;)kb(t.alternate,t),t=t.return;ie=null}}function Qr(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,JN(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Xn=0,pp(),ve=t,ie=n=Qn(t.current,null),oe=e,fe=0,Vt=null,Di=!1,ha=al(t,e),fp=!1,Kr=Ut=mp=Os=es=Oe=0,Rt=Eo=null,Of=!1,e&8&&(e|=e&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=e;0<i;){var s=31-Ht(i),r=1<<s;e|=t[s],i&=~r}return ni=e,qu(),n}function nx(t,e){Z=null,Q.H=Lo,e===ua||e===Fu?(e=Zy(),fe=3):e===Ym?(e=Zy(),fe=4):fe=e===cp?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Vt=e,ie===null&&(Oe=1,nu(t,Zt(e,t.current)))}function ix(){var t=Kt.current;return t===null?!0:(oe&4194048)===oe?nn===null:(oe&62914560)===oe||oe&536870912?t===nn:!1}function sx(){var t=Q.H;return Q.H=Lo,t===null?Lo:t}function rx(){var t=Q.A;return Q.A=IN,t}function ou(){Oe=4,Di||(oe&4194048)!==oe&&Kt.current!==null||(ha=!0),!(es&134217727)&&!(Os&134217727)||ve===null||ji(ve,oe,Ut,!1)}function Sd(t,e,n){var i=ue;ue|=2;var s=sx(),r=rx();(ve!==t||oe!==e)&&(au=null,Qr(t,e)),e=!1;var a=Oe;e:do try{if(fe!==0&&ie!==null){var l=ie,c=Vt;switch(fe){case 8:pp(),a=6;break e;case 3:case 2:case 9:case 6:Kt.current===null&&(e=!0);var h=fe;if(fe=0,Vt=null,Sr(t,l,c,h),n&&ha){a=0;break e}break;default:h=fe,fe=0,Vt=null,Sr(t,l,c,h)}}ON(),a=Oe;break}catch(f){nx(t,f)}while(!0);return e&&t.shellSuspendCounter++,Gn=Xs=null,ue=i,Q.H=s,Q.A=r,ie===null&&(ve=null,oe=0,qu()),a}function ON(){for(;ie!==null;)ax(ie)}function kN(t,e){var n=ue;ue|=2;var i=sx(),s=rx();ve!==t||oe!==e?(au=null,ru=Bt()+500,Qr(t,e)):ha=al(t,e);e:do try{if(fe!==0&&ie!==null){e=ie;var r=Vt;t:switch(fe){case 1:fe=0,Vt=null,Sr(t,e,r,1);break;case 2:case 9:if(Jy(r)){fe=0,Vt=null,xv(e);break}e=function(){fe!==2&&fe!==9||ve!==t||(fe=7),kn(t)},r.then(e,e);break e;case 3:fe=7;break e;case 4:fe=5;break e;case 7:Jy(r)?(fe=0,Vt=null,xv(e)):(fe=0,Vt=null,Sr(t,e,r,7));break;case 5:var a=null;switch(ie.tag){case 26:a=ie.memoizedState;case 5:case 27:var l=ie;if(a?Ax(a):l.stateNode.complete){fe=0,Vt=null;var c=l.sibling;if(c!==null)ie=c;else{var h=l.return;h!==null?(ie=h,Wu(h)):ie=null}break t}}fe=0,Vt=null,Sr(t,e,r,5);break;case 6:fe=0,Vt=null,Sr(t,e,r,6);break;case 8:pp(),Oe=6;break e;default:throw Error(L(462))}}MN();break}catch(f){nx(t,f)}while(!0);return Gn=Xs=null,Q.H=i,Q.A=s,ue=n,ie!==null?0:(ve=null,oe=0,qu(),Oe)}function MN(){for(;ie!==null&&!sA();)ax(ie)}function ax(t){var e=Ob(t.alternate,t,ni);t.memoizedProps=t.pendingProps,e===null?Wu(t):ie=e}function xv(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=pv(n,e,e.pendingProps,e.type,void 0,oe);break;case 11:e=pv(n,e,e.pendingProps,e.type.render,e.ref,oe);break;case 5:ep(e);default:kb(n,e),e=ie=kE(e,ni),e=Ob(n,e,ni)}t.memoizedProps=t.pendingProps,e===null?Wu(t):ie=e}function Sr(t,e,n,i){Gn=Xs=null,ep(e),Dr=null,Mo=0;var s=e.return;try{if(TN(t,s,e,n,oe)){Oe=1,nu(t,Zt(n,t.current)),ie=null;return}}catch(r){if(s!==null)throw ie=s,r;Oe=1,nu(t,Zt(n,t.current)),ie=null;return}e.flags&32768?(le||i===1?t=!0:ha||oe&536870912?t=!1:(Di=t=!0,(i===2||i===9||i===3||i===6)&&(i=Kt.current,i!==null&&i.tag===13&&(i.flags|=16384))),ox(e,t)):Wu(e)}function Wu(t){var e=t;do{if(e.flags&32768){ox(e,Di);return}t=e.return;var n=AN(e.alternate,e,ni);if(n!==null){ie=n;return}if(e=e.sibling,e!==null){ie=e;return}ie=e=t}while(e!==null);Oe===0&&(Oe=5)}function ox(t,e){do{var n=NN(t.alternate,t);if(n!==null){n.flags&=32767,ie=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){ie=t;return}ie=t=n}while(t!==null);Oe=6,ie=null}function Tv(t,e,n,i,s,r,a,l,c){t.cancelPendingCommit=null;do Ju();while(Xe!==0);if(ue&6)throw Error(L(327));if(e!==null){if(e===t.current)throw Error(L(177));if(r=e.lanes|e.childLanes,r|=zm,mA(t,n,r,a,l,c),t===ve&&(ie=ve=null,oe=0),Yr=e,zi=t,Xn=n,kf=r,Mf=s,Zb=i,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,UN(Gc,function(){return dx(),null})):(t.callbackNode=null,t.callbackPriority=0),i=(e.flags&13878)!==0,e.subtreeFlags&13878||i){i=Q.T,Q.T=null,s=he.p,he.p=2,a=ue,ue|=4;try{RN(t,e,n)}finally{ue=a,he.p=s,Q.T=i}}Xe=1,lx(),cx(),ux()}}function lx(){if(Xe===1){Xe=0;var t=zi,e=Yr,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=Q.T,Q.T=null;var i=he.p;he.p=2;var s=ue;ue|=4;try{Gb(e,t);var r=zf,a=AE(t.containerInfo),l=r.focusedElem,c=r.selectionRange;if(a!==l&&l&&l.ownerDocument&&SE(l.ownerDocument.documentElement,l)){if(c!==null&&Um(l)){var h=c.start,f=c.end;if(f===void 0&&(f=h),"selectionStart"in l)l.selectionStart=h,l.selectionEnd=Math.min(f,l.value.length);else{var m=l.ownerDocument||document,p=m&&m.defaultView||window;if(p.getSelection){var v=p.getSelection(),R=l.textContent.length,D=Math.min(c.start,R),j=c.end===void 0?D:Math.min(c.end,R);!v.extend&&D>j&&(a=j,j=D,D=a);var x=Gy(l,D),y=Gy(l,j);if(x&&y&&(v.rangeCount!==1||v.anchorNode!==x.node||v.anchorOffset!==x.offset||v.focusNode!==y.node||v.focusOffset!==y.offset)){var b=m.createRange();b.setStart(x.node,x.offset),v.removeAllRanges(),D>j?(v.addRange(b),v.extend(y.node,y.offset)):(b.setEnd(y.node,y.offset),v.addRange(b))}}}}for(m=[],v=l;v=v.parentNode;)v.nodeType===1&&m.push({element:v,left:v.scrollLeft,top:v.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<m.length;l++){var I=m[l];I.element.scrollLeft=I.left,I.element.scrollTop=I.top}}pu=!!Uf,zf=Uf=null}finally{ue=s,he.p=i,Q.T=n}}t.current=e,Xe=2}}function cx(){if(Xe===2){Xe=0;var t=zi,e=Yr,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=Q.T,Q.T=null;var i=he.p;he.p=2;var s=ue;ue|=4;try{zb(t,e.alternate,e)}finally{ue=s,he.p=i,Q.T=n}}Xe=3}}function ux(){if(Xe===4||Xe===3){Xe=0,rA();var t=zi,e=Yr,n=Xn,i=Zb;e.subtreeFlags&10256||e.flags&10256?Xe=5:(Xe=0,Yr=zi=null,hx(t,t.pendingLanes));var s=t.pendingLanes;if(s===0&&(Ui=null),jm(n),e=e.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(rl,e,void 0,(e.current.flags&128)===128)}catch{}if(i!==null){e=Q.T,s=he.p,he.p=2,Q.T=null;try{for(var r=t.onRecoverableError,a=0;a<i.length;a++){var l=i[a];r(l.value,{componentStack:l.stack})}}finally{Q.T=e,he.p=s}}Xn&3&&Ju(),kn(t),s=t.pendingLanes,n&261930&&s&42?t===Vf?bo++:(bo=0,Vf=t):bo=0,fl(0)}}function hx(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,ul(e)))}function Ju(){return lx(),cx(),ux(),dx()}function dx(){if(Xe!==5)return!1;var t=zi,e=kf;kf=0;var n=jm(Xn),i=Q.T,s=he.p;try{he.p=32>n?32:n,Q.T=null,n=Mf,Mf=null;var r=zi,a=Xn;if(Xe=0,Yr=zi=null,Xn=0,ue&6)throw Error(L(331));var l=ue;if(ue|=4,Xb(r.current),Yb(r,r.current,a,n),ue=l,fl(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(rl,r)}catch{}return!0}finally{he.p=s,Q.T=i,hx(t,e)}}function wv(t,e,n){e=Zt(n,e),e=Cf(t.stateNode,e,2),t=Pi(t,e,2),t!==null&&(ol(t,2),kn(t))}function me(t,e,n){if(t.tag===3)wv(t,t,n);else for(;e!==null;){if(e.tag===3){wv(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Ui===null||!Ui.has(i))){t=Zt(n,t),n=Nb(2),i=Pi(e,n,2),i!==null&&(Rb(n,i,e,t),ol(i,2),kn(i));break}}e=e.return}}function Ad(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new DN;var s=new Set;i.set(e,s)}else s=i.get(e),s===void 0&&(s=new Set,i.set(e,s));s.has(n)||(fp=!0,s.add(n),t=VN.bind(null,t,e,n),e.then(t,t))}function VN(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,ve===t&&(oe&n)===n&&(Oe===4||Oe===3&&(oe&62914560)===oe&&300>Bt()-$u?!(ue&2)&&Qr(t,0):mp|=n,Kr===oe&&(Kr=0)),kn(t)}function fx(t,e){e===0&&(e=sE()),t=$s(t,e),t!==null&&(ol(t,e),kn(t))}function LN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),fx(t,n)}function PN(t,e){var n=0;switch(t.tag){case 31:case 13:var i=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(L(314))}i!==null&&i.delete(e),fx(t,n)}function UN(t,e){return Im(t,e)}var lu=null,cr=null,Lf=!1,cu=!1,Nd=!1,Oi=0;function kn(t){t!==cr&&t.next===null&&(cr===null?lu=cr=t:cr=cr.next=t),cu=!0,Lf||(Lf=!0,BN())}function fl(t,e){if(!Nd&&cu){Nd=!0;do for(var n=!1,i=lu;i!==null;){if(t!==0){var s=i.pendingLanes;if(s===0)var r=0;else{var a=i.suspendedLanes,l=i.pingedLanes;r=(1<<31-Ht(42|t)+1)-1,r&=s&~(a&~l),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(n=!0,Sv(i,r))}else r=oe,r=Pu(i,i===ve?r:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(r&3)||al(i,r)||(n=!0,Sv(i,r));i=i.next}while(n);Nd=!1}}function zN(){mx()}function mx(){cu=Lf=!1;var t=0;Oi!==0&&WN()&&(t=Oi);for(var e=Bt(),n=null,i=lu;i!==null;){var s=i.next,r=px(i,e);r===0?(i.next=null,n===null?lu=s:n.next=s,s===null&&(cr=n)):(n=i,(t!==0||r&3)&&(cu=!0)),i=s}Xe!==0&&Xe!==5||fl(t),Oi!==0&&(Oi=0)}function px(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,r=t.pendingLanes&-62914561;0<r;){var a=31-Ht(r),l=1<<a,c=s[a];c===-1?(!(l&n)||l&i)&&(s[a]=fA(l,e)):c<=e&&(t.expiredLanes|=l),r&=~l}if(e=ve,n=oe,n=Pu(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i=t.callbackNode,n===0||t===e&&(fe===2||fe===9)||t.cancelPendingCommit!==null)return i!==null&&i!==null&&td(i),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||al(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(i!==null&&td(i),jm(n)){case 2:case 8:n=nE;break;case 32:n=Gc;break;case 268435456:n=iE;break;default:n=Gc}return i=gx.bind(null,t),n=Im(n,i),t.callbackPriority=e,t.callbackNode=n,e}return i!==null&&i!==null&&td(i),t.callbackPriority=2,t.callbackNode=null,2}function gx(t,e){if(Xe!==0&&Xe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(Ju()&&t.callbackNode!==n)return null;var i=oe;return i=Pu(t,t===ve?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i===0?null:(tx(t,i,e),px(t,Bt()),t.callbackNode!=null&&t.callbackNode===n?gx.bind(null,t):null)}function Sv(t,e){if(Ju())return null;tx(t,e,!0)}function BN(){ZN(function(){ue&6?Im(tE,zN):mx()})}function gp(){if(Oi===0){var t=Hr;t===0&&(t=Ql,Ql<<=1,!(Ql&261888)&&(Ql=256)),Oi=t}return Oi}function Av(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:gc(""+t)}function Nv(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function qN(t,e,n,i,s){if(e==="submit"&&n&&n.stateNode===s){var r=Av((s[Ot]||null).action),a=i.submitter;a&&(e=(e=a[Ot]||null)?Av(e.formAction):a.getAttribute("formAction"),e!==null&&(r=e,a=null));var l=new Uu("action","action",null,i,s);t.push({event:l,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Oi!==0){var c=a?Nv(s,a):new FormData(s);Nf(n,{pending:!0,data:c,method:s.method,action:r},null,c)}}else typeof r=="function"&&(l.preventDefault(),c=a?Nv(s,a):new FormData(s),Nf(n,{pending:!0,data:c,method:s.method,action:r},r,c))},currentTarget:s}]})}}for(var Rd=0;Rd<pf.length;Rd++){var Cd=pf[Rd],HN=Cd.toLowerCase(),FN=Cd[0].toUpperCase()+Cd.slice(1);gn(HN,"on"+FN)}gn(RE,"onAnimationEnd");gn(CE,"onAnimationIteration");gn(IE,"onAnimationStart");gn("dblclick","onDoubleClick");gn("focusin","onFocus");gn("focusout","onBlur");gn(aN,"onTransitionRun");gn(oN,"onTransitionStart");gn(lN,"onTransitionCancel");gn(DE,"onTransitionEnd");Br("onMouseEnter",["mouseout","mouseover"]);Br("onMouseLeave",["mouseout","mouseover"]);Br("onPointerEnter",["pointerout","pointerover"]);Br("onPointerLeave",["pointerout","pointerover"]);Ks("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ks("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ks("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ks("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ks("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ks("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Po="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Po));function yx(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],s=i.event;i=i.listeners;e:{var r=void 0;if(e)for(var a=i.length-1;0<=a;a--){var l=i[a],c=l.instance,h=l.currentTarget;if(l=l.listener,c!==r&&s.isPropagationStopped())break e;r=l,s.currentTarget=h;try{r(s)}catch(f){Yc(f)}s.currentTarget=null,r=c}else for(a=0;a<i.length;a++){if(l=i[a],c=l.instance,h=l.currentTarget,l=l.listener,c!==r&&s.isPropagationStopped())break e;r=l,s.currentTarget=h;try{r(s)}catch(f){Yc(f)}s.currentTarget=null,r=c}}}}function ne(t,e){var n=e[of];n===void 0&&(n=e[of]=new Set);var i=t+"__bubble";n.has(i)||(vx(e,t,2,!1),n.add(i))}function Id(t,e,n){var i=0;e&&(i|=4),vx(n,t,i,e)}var sc="_reactListening"+Math.random().toString(36).slice(2);function yp(t){if(!t[sc]){t[sc]=!0,cE.forEach(function(n){n!=="selectionchange"&&(GN.has(n)||Id(n,!1,t),Id(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[sc]||(e[sc]=!0,Id("selectionchange",!1,e))}}function vx(t,e,n,i){switch(Dx(e)){case 2:var s=_R;break;case 8:s=ER;break;default:s=bp}n=s.bind(null,e,n,t),s=void 0,!df||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),i?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Dd(t,e,n,i,s){var r=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var l=i.stateNode.containerInfo;if(l===s)break;if(a===4)for(a=i.return;a!==null;){var c=a.tag;if((c===3||c===4)&&a.stateNode.containerInfo===s)return;a=a.return}for(;l!==null;){if(a=gr(l),a===null)return;if(c=a.tag,c===5||c===6||c===26||c===27){i=r=a;continue e}l=l.parentNode}}i=i.return}yE(function(){var h=r,f=Mm(n),m=[];e:{var p=jE.get(t);if(p!==void 0){var v=Uu,R=t;switch(t){case"keypress":if(vc(n)===0)break e;case"keydown":case"keyup":v=PA;break;case"focusin":R="focus",v=ad;break;case"focusout":R="blur",v=ad;break;case"beforeblur":case"afterblur":v=ad;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=My;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=AA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=BA;break;case RE:case CE:case IE:v=CA;break;case DE:v=HA;break;case"scroll":case"scrollend":v=wA;break;case"wheel":v=GA;break;case"copy":case"cut":case"paste":v=DA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Ly;break;case"toggle":case"beforetoggle":v=YA}var D=(e&4)!==0,j=!D&&(t==="scroll"||t==="scrollend"),x=D?p!==null?p+"Capture":null:p;D=[];for(var y=h,b;y!==null;){var I=y;if(b=I.stateNode,I=I.tag,I!==5&&I!==26&&I!==27||b===null||x===null||(I=Io(y,x),I!=null&&D.push(Uo(y,I,b))),j)break;y=y.return}0<D.length&&(p=new v(p,R,null,n,f),m.push({event:p,listeners:D}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",p&&n!==hf&&(R=n.relatedTarget||n.fromElement)&&(gr(R)||R[oa]))break e;if((v||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,v?(R=n.relatedTarget||n.toElement,v=h,R=R?gr(R):null,R!==null&&(j=sl(R),D=R.tag,R!==j||D!==5&&D!==27&&D!==6)&&(R=null)):(v=null,R=h),v!==R)){if(D=My,I="onMouseLeave",x="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(D=Ly,I="onPointerLeave",x="onPointerEnter",y="pointer"),j=v==null?p:Za(v),b=R==null?p:Za(R),p=new D(I,y+"leave",v,n,f),p.target=j,p.relatedTarget=b,I=null,gr(f)===h&&(D=new D(x,y+"enter",R,n,f),D.target=b,D.relatedTarget=j,I=D),j=I,v&&R)t:{for(D=KN,x=v,y=R,b=0,I=x;I;I=D(I))b++;I=0;for(var U=y;U;U=D(U))I++;for(;0<b-I;)x=D(x),b--;for(;0<I-b;)y=D(y),I--;for(;b--;){if(x===y||y!==null&&x===y.alternate){D=x;break t}x=D(x),y=D(y)}D=null}else D=null;v!==null&&Rv(m,p,v,D,!1),R!==null&&j!==null&&Rv(m,j,R,D,!0)}}e:{if(p=h?Za(h):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var q=By;else if(zy(p))if(TE)q=iN;else{q=tN;var T=eN}else v=p.nodeName,!v||v.toLowerCase()!=="input"||p.type!=="checkbox"&&p.type!=="radio"?h&&km(h.elementType)&&(q=By):q=nN;if(q&&(q=q(t,h))){xE(m,q,n,f);break e}T&&T(t,p,h),t==="focusout"&&h&&p.type==="number"&&h.memoizedProps.value!=null&&uf(p,"number",p.value)}switch(T=h?Za(h):window,t){case"focusin":(zy(T)||T.contentEditable==="true")&&(_r=T,ff=h,ho=null);break;case"focusout":ho=ff=_r=null;break;case"mousedown":mf=!0;break;case"contextmenu":case"mouseup":case"dragend":mf=!1,Ky(m,n,f);break;case"selectionchange":if(rN)break;case"keydown":case"keyup":Ky(m,n,f)}var E;if(Pm)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else vr?EE(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(_E&&n.locale!=="ko"&&(vr||w!=="onCompositionStart"?w==="onCompositionEnd"&&vr&&(E=vE()):(Ii=f,Vm="value"in Ii?Ii.value:Ii.textContent,vr=!0)),T=uu(h,w),0<T.length&&(w=new Vy(w,t,null,n,f),m.push({event:w,listeners:T}),E?w.data=E:(E=bE(n),E!==null&&(w.data=E)))),(E=$A?XA(t,n):WA(t,n))&&(w=uu(h,"onBeforeInput"),0<w.length&&(T=new Vy("onBeforeInput","beforeinput",null,n,f),m.push({event:T,listeners:w}),T.data=E)),qN(m,t,h,n,f)}yx(m,e)})}function Uo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function uu(t,e){for(var n=e+"Capture",i=[];t!==null;){var s=t,r=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||r===null||(s=Io(t,n),s!=null&&i.unshift(Uo(t,s,r)),s=Io(t,e),s!=null&&i.push(Uo(t,s,r))),t.tag===3)return i;t=t.return}return[]}function KN(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Rv(t,e,n,i,s){for(var r=e._reactName,a=[];n!==null&&n!==i;){var l=n,c=l.alternate,h=l.stateNode;if(l=l.tag,c!==null&&c===i)break;l!==5&&l!==26&&l!==27||h===null||(c=h,s?(h=Io(n,r),h!=null&&a.unshift(Uo(n,h,c))):s||(h=Io(n,r),h!=null&&a.push(Uo(n,h,c)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var YN=/\r\n?/g,QN=/\u0000|\uFFFD/g;function Cv(t){return(typeof t=="string"?t:""+t).replace(YN,`
`).replace(QN,"")}function _x(t,e){return e=Cv(e),Cv(t)===e}function pe(t,e,n,i,s,r){switch(n){case"children":typeof i=="string"?e==="body"||e==="textarea"&&i===""||qr(t,i):(typeof i=="number"||typeof i=="bigint")&&e!=="body"&&qr(t,""+i);break;case"className":Wl(t,"class",i);break;case"tabIndex":Wl(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Wl(t,n,i);break;case"style":gE(t,i,r);break;case"data":if(e!=="object"){Wl(t,"data",i);break}case"src":case"href":if(i===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=gc(""+i),t.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(n==="formAction"?(e!=="input"&&pe(t,e,"name",s.name,s,null),pe(t,e,"formEncType",s.formEncType,s,null),pe(t,e,"formMethod",s.formMethod,s,null),pe(t,e,"formTarget",s.formTarget,s,null)):(pe(t,e,"encType",s.encType,s,null),pe(t,e,"method",s.method,s,null),pe(t,e,"target",s.target,s,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=gc(""+i),t.setAttribute(n,i);break;case"onClick":i!=null&&(t.onclick=Fn);break;case"onScroll":i!=null&&ne("scroll",t);break;case"onScrollEnd":i!=null&&ne("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(L(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(L(60));t.innerHTML=n}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}n=gc(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""+i):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":i===!0?t.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,i):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(n,i):t.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(n):t.setAttribute(n,i);break;case"popover":ne("beforetoggle",t),ne("toggle",t),pc(t,"popover",i);break;case"xlinkActuate":Vn(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Vn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Vn(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Vn(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Vn(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Vn(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Vn(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Vn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Vn(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":pc(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=xA.get(n)||n,pc(t,n,i))}}function Pf(t,e,n,i,s,r){switch(n){case"style":gE(t,i,r);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(L(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(L(60));t.innerHTML=n}}break;case"children":typeof i=="string"?qr(t,i):(typeof i=="number"||typeof i=="bigint")&&qr(t,""+i);break;case"onScroll":i!=null&&ne("scroll",t);break;case"onScrollEnd":i!=null&&ne("scrollend",t);break;case"onClick":i!=null&&(t.onclick=Fn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!uE.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(s=n.endsWith("Capture"),e=n.slice(2,s?n.length-7:void 0),r=t[Ot]||null,r=r!=null?r[n]:null,typeof r=="function"&&t.removeEventListener(e,r,s),typeof i=="function")){typeof r!="function"&&r!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,i,s);break e}n in t?t[n]=i:i===!0?t.setAttribute(n,""):pc(t,n,i)}}}function dt(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ne("error",t),ne("load",t);var i=!1,s=!1,r;for(r in n)if(n.hasOwnProperty(r)){var a=n[r];if(a!=null)switch(r){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(L(137,e));default:pe(t,e,r,a,n,null)}}s&&pe(t,e,"srcSet",n.srcSet,n,null),i&&pe(t,e,"src",n.src,n,null);return;case"input":ne("invalid",t);var l=r=a=s=null,c=null,h=null;for(i in n)if(n.hasOwnProperty(i)){var f=n[i];if(f!=null)switch(i){case"name":s=f;break;case"type":a=f;break;case"checked":c=f;break;case"defaultChecked":h=f;break;case"value":r=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(L(137,e));break;default:pe(t,e,i,f,n,null)}}fE(t,r,l,c,h,a,s,!1);return;case"select":ne("invalid",t),i=a=r=null;for(s in n)if(n.hasOwnProperty(s)&&(l=n[s],l!=null))switch(s){case"value":r=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:pe(t,e,s,l,n,null)}e=r,n=a,t.multiple=!!i,e!=null?Rr(t,!!i,e,!1):n!=null&&Rr(t,!!i,n,!0);return;case"textarea":ne("invalid",t),r=s=i=null;for(a in n)if(n.hasOwnProperty(a)&&(l=n[a],l!=null))switch(a){case"value":i=l;break;case"defaultValue":s=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(L(91));break;default:pe(t,e,a,l,n,null)}pE(t,i,s,r);return;case"option":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:pe(t,e,c,i,n,null)}return;case"dialog":ne("beforetoggle",t),ne("toggle",t),ne("cancel",t),ne("close",t);break;case"iframe":case"object":ne("load",t);break;case"video":case"audio":for(i=0;i<Po.length;i++)ne(Po[i],t);break;case"image":ne("error",t),ne("load",t);break;case"details":ne("toggle",t);break;case"embed":case"source":case"link":ne("error",t),ne("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(h in n)if(n.hasOwnProperty(h)&&(i=n[h],i!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(L(137,e));default:pe(t,e,h,i,n,null)}return;default:if(km(e)){for(f in n)n.hasOwnProperty(f)&&(i=n[f],i!==void 0&&Pf(t,e,f,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(i=n[l],i!=null&&pe(t,e,l,i,n,null))}function $N(t,e,n,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,r=null,a=null,l=null,c=null,h=null,f=null;for(v in n){var m=n[v];if(n.hasOwnProperty(v)&&m!=null)switch(v){case"checked":break;case"value":break;case"defaultValue":c=m;default:i.hasOwnProperty(v)||pe(t,e,v,null,i,m)}}for(var p in i){var v=i[p];if(m=n[p],i.hasOwnProperty(p)&&(v!=null||m!=null))switch(p){case"type":r=v;break;case"name":s=v;break;case"checked":h=v;break;case"defaultChecked":f=v;break;case"value":a=v;break;case"defaultValue":l=v;break;case"children":case"dangerouslySetInnerHTML":if(v!=null)throw Error(L(137,e));break;default:v!==m&&pe(t,e,p,v,i,m)}}cf(t,a,l,c,h,f,r,s);return;case"select":v=a=l=p=null;for(r in n)if(c=n[r],n.hasOwnProperty(r)&&c!=null)switch(r){case"value":break;case"multiple":v=c;default:i.hasOwnProperty(r)||pe(t,e,r,null,i,c)}for(s in i)if(r=i[s],c=n[s],i.hasOwnProperty(s)&&(r!=null||c!=null))switch(s){case"value":p=r;break;case"defaultValue":l=r;break;case"multiple":a=r;default:r!==c&&pe(t,e,s,r,i,c)}e=l,n=a,i=v,p!=null?Rr(t,!!n,p,!1):!!i!=!!n&&(e!=null?Rr(t,!!n,e,!0):Rr(t,!!n,n?[]:"",!1));return;case"textarea":v=p=null;for(l in n)if(s=n[l],n.hasOwnProperty(l)&&s!=null&&!i.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:pe(t,e,l,null,i,s)}for(a in i)if(s=i[a],r=n[a],i.hasOwnProperty(a)&&(s!=null||r!=null))switch(a){case"value":p=s;break;case"defaultValue":v=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(L(91));break;default:s!==r&&pe(t,e,a,s,i,r)}mE(t,p,v);return;case"option":for(var R in n)if(p=n[R],n.hasOwnProperty(R)&&p!=null&&!i.hasOwnProperty(R))switch(R){case"selected":t.selected=!1;break;default:pe(t,e,R,null,i,p)}for(c in i)if(p=i[c],v=n[c],i.hasOwnProperty(c)&&p!==v&&(p!=null||v!=null))switch(c){case"selected":t.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:pe(t,e,c,p,i,v)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var D in n)p=n[D],n.hasOwnProperty(D)&&p!=null&&!i.hasOwnProperty(D)&&pe(t,e,D,null,i,p);for(h in i)if(p=i[h],v=n[h],i.hasOwnProperty(h)&&p!==v&&(p!=null||v!=null))switch(h){case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(L(137,e));break;default:pe(t,e,h,p,i,v)}return;default:if(km(e)){for(var j in n)p=n[j],n.hasOwnProperty(j)&&p!==void 0&&!i.hasOwnProperty(j)&&Pf(t,e,j,void 0,i,p);for(f in i)p=i[f],v=n[f],!i.hasOwnProperty(f)||p===v||p===void 0&&v===void 0||Pf(t,e,f,p,i,v);return}}for(var x in n)p=n[x],n.hasOwnProperty(x)&&p!=null&&!i.hasOwnProperty(x)&&pe(t,e,x,null,i,p);for(m in i)p=i[m],v=n[m],!i.hasOwnProperty(m)||p===v||p==null&&v==null||pe(t,e,m,p,i,v)}function Iv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function XN(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var s=n[i],r=s.transferSize,a=s.initiatorType,l=s.duration;if(r&&l&&Iv(a)){for(a=0,l=s.responseEnd,i+=1;i<n.length;i++){var c=n[i],h=c.startTime;if(h>l)break;var f=c.transferSize,m=c.initiatorType;f&&Iv(m)&&(c=c.responseEnd,a+=f*(c<l?1:(l-h)/(c-h)))}if(--i,e+=8*(r+a)/(s.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Uf=null,zf=null;function hu(t){return t.nodeType===9?t:t.ownerDocument}function Dv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ex(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Bf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var jd=null;function WN(){var t=window.event;return t&&t.type==="popstate"?t===jd?!1:(jd=t,!0):(jd=null,!1)}var bx=typeof setTimeout=="function"?setTimeout:void 0,JN=typeof clearTimeout=="function"?clearTimeout:void 0,jv=typeof Promise=="function"?Promise:void 0,ZN=typeof queueMicrotask=="function"?queueMicrotask:typeof jv<"u"?function(t){return jv.resolve(null).then(t).catch(eR)}:bx;function eR(t){setTimeout(function(){throw t})}function us(t){return t==="head"}function Ov(t,e){var n=e,i=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"||n==="/&"){if(i===0){t.removeChild(s),Xr(e);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")xo(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,xo(n);for(var r=n.firstChild;r;){var a=r.nextSibling,l=r.nodeName;r[ll]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&r.rel.toLowerCase()==="stylesheet"||n.removeChild(r),r=a}}else n==="body"&&xo(t.ownerDocument.body);n=s}while(n);Xr(e)}function kv(t,e){var n=t;t=0;do{var i=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=i}while(n)}function qf(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":qf(n),Om(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function tR(t,e,n,i){for(;t.nodeType===1;){var s=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[ll])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(r=t.getAttribute("rel"),r==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(r!==s.rel||t.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||t.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||t.getAttribute("title")!==(s.title==null?null:s.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(r=t.getAttribute("src"),(r!==(s.src==null?null:s.src)||t.getAttribute("type")!==(s.type==null?null:s.type)||t.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&r&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var r=s.name==null?null:""+s.name;if(s.type==="hidden"&&t.getAttribute("name")===r)return t}else return t;if(t=sn(t.nextSibling),t===null)break}return null}function nR(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=sn(t.nextSibling),t===null))return null;return t}function xx(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=sn(t.nextSibling),t===null))return null;return t}function Hf(t){return t.data==="$?"||t.data==="$~"}function Ff(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function iR(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var i=function(){e(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}function sn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var Gf=null;function Mv(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return sn(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function Vv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function Tx(t,e,n){switch(e=hu(n),t){case"html":if(t=e.documentElement,!t)throw Error(L(452));return t;case"head":if(t=e.head,!t)throw Error(L(453));return t;case"body":if(t=e.body,!t)throw Error(L(454));return t;default:throw Error(L(451))}}function xo(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Om(t)}var rn=new Map,Lv=new Set;function du(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var li=he.d;he.d={f:sR,r:rR,D:aR,C:oR,L:lR,m:cR,X:hR,S:uR,M:dR};function sR(){var t=li.f(),e=Xu();return t||e}function rR(t){var e=la(t);e!==null&&e.tag===5&&e.type==="form"?gb(e):li.r(t)}var da=typeof document>"u"?null:document;function wx(t,e,n){var i=da;if(i&&typeof e=="string"&&e){var s=Jt(e);s='link[rel="'+t+'"][href="'+s+'"]',typeof n=="string"&&(s+='[crossorigin="'+n+'"]'),Lv.has(s)||(Lv.add(s),t={rel:t,crossOrigin:n,href:e},i.querySelector(s)===null&&(e=i.createElement("link"),dt(e,"link",t),nt(e),i.head.appendChild(e)))}}function aR(t){li.D(t),wx("dns-prefetch",t,null)}function oR(t,e){li.C(t,e),wx("preconnect",t,e)}function lR(t,e,n){li.L(t,e,n);var i=da;if(i&&t&&e){var s='link[rel="preload"][as="'+Jt(e)+'"]';e==="image"&&n&&n.imageSrcSet?(s+='[imagesrcset="'+Jt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(s+='[imagesizes="'+Jt(n.imageSizes)+'"]')):s+='[href="'+Jt(t)+'"]';var r=s;switch(e){case"style":r=$r(t);break;case"script":r=fa(t)}rn.has(r)||(t=Ne({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),rn.set(r,t),i.querySelector(s)!==null||e==="style"&&i.querySelector(ml(r))||e==="script"&&i.querySelector(pl(r))||(e=i.createElement("link"),dt(e,"link",t),nt(e),i.head.appendChild(e)))}}function cR(t,e){li.m(t,e);var n=da;if(n&&t){var i=e&&typeof e.as=="string"?e.as:"script",s='link[rel="modulepreload"][as="'+Jt(i)+'"][href="'+Jt(t)+'"]',r=s;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=fa(t)}if(!rn.has(r)&&(t=Ne({rel:"modulepreload",href:t},e),rn.set(r,t),n.querySelector(s)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(pl(r)))return}i=n.createElement("link"),dt(i,"link",t),nt(i),n.head.appendChild(i)}}}function uR(t,e,n){li.S(t,e,n);var i=da;if(i&&t){var s=Nr(i).hoistableStyles,r=$r(t);e=e||"default";var a=s.get(r);if(!a){var l={loading:0,preload:null};if(a=i.querySelector(ml(r)))l.loading=5;else{t=Ne({rel:"stylesheet",href:t,"data-precedence":e},n),(n=rn.get(r))&&vp(t,n);var c=a=i.createElement("link");nt(c),dt(c,"link",t),c._p=new Promise(function(h,f){c.onload=h,c.onerror=f}),c.addEventListener("load",function(){l.loading|=1}),c.addEventListener("error",function(){l.loading|=2}),l.loading|=4,Ac(a,e,i)}a={type:"stylesheet",instance:a,count:1,state:l},s.set(r,a)}}}function hR(t,e){li.X(t,e);var n=da;if(n&&t){var i=Nr(n).hoistableScripts,s=fa(t),r=i.get(s);r||(r=n.querySelector(pl(s)),r||(t=Ne({src:t,async:!0},e),(e=rn.get(s))&&_p(t,e),r=n.createElement("script"),nt(r),dt(r,"link",t),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(s,r))}}function dR(t,e){li.M(t,e);var n=da;if(n&&t){var i=Nr(n).hoistableScripts,s=fa(t),r=i.get(s);r||(r=n.querySelector(pl(s)),r||(t=Ne({src:t,async:!0,type:"module"},e),(e=rn.get(s))&&_p(t,e),r=n.createElement("script"),nt(r),dt(r,"link",t),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(s,r))}}function Pv(t,e,n,i){var s=(s=Mi.current)?du(s):null;if(!s)throw Error(L(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=$r(n.href),n=Nr(s).hoistableStyles,i=n.get(e),i||(i={type:"style",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=$r(n.href);var r=Nr(s).hoistableStyles,a=r.get(t);if(a||(s=s.ownerDocument||s,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(t,a),(r=s.querySelector(ml(t)))&&!r._p&&(a.instance=r,a.state.loading=5),rn.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},rn.set(t,n),r||fR(s,t,n,a.state))),e&&i===null)throw Error(L(528,""));return a}if(e&&i!==null)throw Error(L(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=fa(n),n=Nr(s).hoistableScripts,i=n.get(e),i||(i={type:"script",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(L(444,t))}}function $r(t){return'href="'+Jt(t)+'"'}function ml(t){return'link[rel="stylesheet"]['+t+"]"}function Sx(t){return Ne({},t,{"data-precedence":t.precedence,precedence:null})}function fR(t,e,n,i){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?i.loading=1:(e=t.createElement("link"),i.preload=e,e.addEventListener("load",function(){return i.loading|=1}),e.addEventListener("error",function(){return i.loading|=2}),dt(e,"link",n),nt(e),t.head.appendChild(e))}function fa(t){return'[src="'+Jt(t)+'"]'}function pl(t){return"script[async]"+t}function Uv(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var i=t.querySelector('style[data-href~="'+Jt(n.href)+'"]');if(i)return e.instance=i,nt(i),i;var s=Ne({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),nt(i),dt(i,"style",s),Ac(i,n.precedence,t),e.instance=i;case"stylesheet":s=$r(n.href);var r=t.querySelector(ml(s));if(r)return e.state.loading|=4,e.instance=r,nt(r),r;i=Sx(n),(s=rn.get(s))&&vp(i,s),r=(t.ownerDocument||t).createElement("link"),nt(r);var a=r;return a._p=new Promise(function(l,c){a.onload=l,a.onerror=c}),dt(r,"link",i),e.state.loading|=4,Ac(r,n.precedence,t),e.instance=r;case"script":return r=fa(n.src),(s=t.querySelector(pl(r)))?(e.instance=s,nt(s),s):(i=n,(s=rn.get(r))&&(i=Ne({},n),_p(i,s)),t=t.ownerDocument||t,s=t.createElement("script"),nt(s),dt(s,"link",i),t.head.appendChild(s),e.instance=s);case"void":return null;default:throw Error(L(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(i=e.instance,e.state.loading|=4,Ac(i,n.precedence,t));return e.instance}function Ac(t,e,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=i.length?i[i.length-1]:null,r=s,a=0;a<i.length;a++){var l=i[a];if(l.dataset.precedence===e)r=l;else if(r!==s)break}r?r.parentNode.insertBefore(t,r.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function vp(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function _p(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Nc=null;function zv(t,e,n){if(Nc===null){var i=new Map,s=Nc=new Map;s.set(n,i)}else s=Nc,i=s.get(n),i||(i=new Map,s.set(n,i));if(i.has(t))return i;for(i.set(t,null),n=n.getElementsByTagName(t),s=0;s<n.length;s++){var r=n[s];if(!(r[ll]||r[lt]||t==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var a=r.getAttribute(e)||"";a=t+a;var l=i.get(a);l?l.push(r):i.set(a,[r])}}return i}function Bv(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function mR(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function Ax(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function pR(t,e,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var s=$r(i.href),r=e.querySelector(ml(s));if(r){e=r._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=fu.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=r,nt(r);return}r=e.ownerDocument||e,i=Sx(i),(s=rn.get(s))&&vp(i,s),r=r.createElement("link"),nt(r);var a=r;a._p=new Promise(function(l,c){a.onload=l,a.onerror=c}),dt(r,"link",i),n.instance=r}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=fu.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var Od=0;function gR(t,e){return t.stylesheets&&t.count===0&&Rc(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var i=setTimeout(function(){if(t.stylesheets&&Rc(t,t.stylesheets),t.unsuspend){var r=t.unsuspend;t.unsuspend=null,r()}},6e4+e);0<t.imgBytes&&Od===0&&(Od=62500*XN());var s=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Rc(t,t.stylesheets),t.unsuspend)){var r=t.unsuspend;t.unsuspend=null,r()}},(t.imgBytes>Od?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(i),clearTimeout(s)}}:null}function fu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Rc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var mu=null;function Rc(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,mu=new Map,e.forEach(yR,t),mu=null,fu.call(t))}function yR(t,e){if(!(e.state.loading&4)){var n=mu.get(t);if(n)var i=n.get(null);else{n=new Map,mu.set(t,n);for(var s=t.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<s.length;r++){var a=s[r];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}s=e.instance,a=s.getAttribute("data-precedence"),r=n.get(a)||i,r===i&&n.set(null,s),n.set(a,s),this.count++,i=fu.bind(this),s.addEventListener("load",i),s.addEventListener("error",i),r?r.parentNode.insertBefore(s,r.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(s,t.firstChild)),e.state.loading|=4}}var zo={$$typeof:Hn,Provider:null,Consumer:null,_currentValue:Cs,_currentValue2:Cs,_threadCount:0};function vR(t,e,n,i,s,r,a,l,c){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=nd(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nd(0),this.hiddenUpdates=nd(null),this.identifierPrefix=i,this.onUncaughtError=s,this.onCaughtError=r,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function Nx(t,e,n,i,s,r,a,l,c,h,f,m){return t=new vR(t,e,n,a,c,h,f,m,l),e=1,r===!0&&(e|=24),r=Pt(3,null,null,e),t.current=r,r.stateNode=t,e=Gm(),e.refCount++,t.pooledCache=e,e.refCount++,r.memoizedState={element:i,isDehydrated:n,cache:e},Qm(r),t}function Rx(t){return t?(t=xr,t):xr}function Cx(t,e,n,i,s,r){s=Rx(s),i.context===null?i.context=s:i.pendingContext=s,i=Li(e),i.payload={element:n},r=r===void 0?null:r,r!==null&&(i.callback=r),n=Pi(t,i,e),n!==null&&(Dt(n,t,e),mo(n,t,e))}function qv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ep(t,e){qv(t,e),(t=t.alternate)&&qv(t,e)}function Ix(t){if(t.tag===13||t.tag===31){var e=$s(t,67108864);e!==null&&Dt(e,t,67108864),Ep(t,67108864)}}function Hv(t){if(t.tag===13||t.tag===31){var e=Ft();e=Dm(e);var n=$s(t,e);n!==null&&Dt(n,t,e),Ep(t,e)}}var pu=!0;function _R(t,e,n,i){var s=Q.T;Q.T=null;var r=he.p;try{he.p=2,bp(t,e,n,i)}finally{he.p=r,Q.T=s}}function ER(t,e,n,i){var s=Q.T;Q.T=null;var r=he.p;try{he.p=8,bp(t,e,n,i)}finally{he.p=r,Q.T=s}}function bp(t,e,n,i){if(pu){var s=Kf(i);if(s===null)Dd(t,e,i,gu,n),Fv(t,i);else if(xR(s,t,e,n,i))i.stopPropagation();else if(Fv(t,i),e&4&&-1<bR.indexOf(t)){for(;s!==null;){var r=la(s);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var a=ws(r.pendingLanes);if(a!==0){var l=r;for(l.pendingLanes|=2,l.entangledLanes|=2;a;){var c=1<<31-Ht(a);l.entanglements[1]|=c,a&=~c}kn(r),!(ue&6)&&(ru=Bt()+500,fl(0))}}break;case 31:case 13:l=$s(r,2),l!==null&&Dt(l,r,2),Xu(),Ep(r,2)}if(r=Kf(i),r===null&&Dd(t,e,i,gu,n),r===s)break;s=r}s!==null&&i.stopPropagation()}else Dd(t,e,i,null,n)}}function Kf(t){return t=Mm(t),xp(t)}var gu=null;function xp(t){if(gu=null,t=gr(t),t!==null){var e=sl(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=X0(e),t!==null)return t;t=null}else if(n===31){if(t=W0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return gu=t,null}function Dx(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(aA()){case tE:return 2;case nE:return 8;case Gc:case oA:return 32;case iE:return 268435456;default:return 32}default:return 32}}var Yf=!1,Bi=null,qi=null,Hi=null,Bo=new Map,qo=new Map,wi=[],bR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Fv(t,e){switch(t){case"focusin":case"focusout":Bi=null;break;case"dragenter":case"dragleave":qi=null;break;case"mouseover":case"mouseout":Hi=null;break;case"pointerover":case"pointerout":Bo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":qo.delete(e.pointerId)}}function Qa(t,e,n,i,s,r){return t===null||t.nativeEvent!==r?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[s]},e!==null&&(e=la(e),e!==null&&Ix(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function xR(t,e,n,i,s){switch(e){case"focusin":return Bi=Qa(Bi,t,e,n,i,s),!0;case"dragenter":return qi=Qa(qi,t,e,n,i,s),!0;case"mouseover":return Hi=Qa(Hi,t,e,n,i,s),!0;case"pointerover":var r=s.pointerId;return Bo.set(r,Qa(Bo.get(r)||null,t,e,n,i,s)),!0;case"gotpointercapture":return r=s.pointerId,qo.set(r,Qa(qo.get(r)||null,t,e,n,i,s)),!0}return!1}function jx(t){var e=gr(t.target);if(e!==null){var n=sl(e);if(n!==null){if(e=n.tag,e===13){if(e=X0(n),e!==null){t.blockedOn=e,Ry(t.priority,function(){Hv(n)});return}}else if(e===31){if(e=W0(n),e!==null){t.blockedOn=e,Ry(t.priority,function(){Hv(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Cc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Kf(t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);hf=i,n.target.dispatchEvent(i),hf=null}else return e=la(n),e!==null&&Ix(e),t.blockedOn=n,!1;e.shift()}return!0}function Gv(t,e,n){Cc(t)&&n.delete(e)}function TR(){Yf=!1,Bi!==null&&Cc(Bi)&&(Bi=null),qi!==null&&Cc(qi)&&(qi=null),Hi!==null&&Cc(Hi)&&(Hi=null),Bo.forEach(Gv),qo.forEach(Gv)}function rc(t,e){t.blockedOn===e&&(t.blockedOn=null,Yf||(Yf=!0,Je.unstable_scheduleCallback(Je.unstable_NormalPriority,TR)))}var ac=null;function Kv(t){ac!==t&&(ac=t,Je.unstable_scheduleCallback(Je.unstable_NormalPriority,function(){ac===t&&(ac=null);for(var e=0;e<t.length;e+=3){var n=t[e],i=t[e+1],s=t[e+2];if(typeof i!="function"){if(xp(i||n)===null)continue;break}var r=la(n);r!==null&&(t.splice(e,3),e-=3,Nf(r,{pending:!0,data:s,method:n.method,action:i},i,s))}}))}function Xr(t){function e(c){return rc(c,t)}Bi!==null&&rc(Bi,t),qi!==null&&rc(qi,t),Hi!==null&&rc(Hi,t),Bo.forEach(e),qo.forEach(e);for(var n=0;n<wi.length;n++){var i=wi[n];i.blockedOn===t&&(i.blockedOn=null)}for(;0<wi.length&&(n=wi[0],n.blockedOn===null);)jx(n),n.blockedOn===null&&wi.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var s=n[i],r=n[i+1],a=s[Ot]||null;if(typeof r=="function")a||Kv(n);else if(a){var l=null;if(r&&r.hasAttribute("formAction")){if(s=r,a=r[Ot]||null)l=a.formAction;else if(xp(s)!==null)continue}else l=a.action;typeof l=="function"?n[i+1]=l:(n.splice(i,3),i-=3),Kv(n)}}}function Ox(){function t(r){r.canIntercept&&r.info==="react-transition"&&r.intercept({handler:function(){return new Promise(function(a){return s=a})},focusReset:"manual",scroll:"manual"})}function e(){s!==null&&(s(),s=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var r=navigation.currentEntry;r&&r.url!=null&&navigation.navigate(r.url,{state:r.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,s=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),s!==null&&(s(),s=null)}}}function Tp(t){this._internalRoot=t}Zu.prototype.render=Tp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(L(409));var n=e.current,i=Ft();Cx(n,i,t,e,null,null)};Zu.prototype.unmount=Tp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Cx(t.current,2,null,t,null,null),Xu(),e[oa]=null}};function Zu(t){this._internalRoot=t}Zu.prototype.unstable_scheduleHydration=function(t){if(t){var e=lE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<wi.length&&e!==0&&e<wi[n].priority;n++);wi.splice(n,0,t),n===0&&jx(t)}};var Yv=Q0.version;if(Yv!=="19.2.3")throw Error(L(527,Yv,"19.2.3"));he.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(L(188)):(t=Object.keys(t).join(","),Error(L(268,t)));return t=Z1(e),t=t!==null?J0(t):null,t=t===null?null:t.stateNode,t};var wR={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oc.isDisabled&&oc.supportsFiber)try{rl=oc.inject(wR),qt=oc}catch{}}Vu.createRoot=function(t,e){if(!$0(t))throw Error(L(299));var n=!1,i="",s=wb,r=Sb,a=Ab;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onUncaughtError!==void 0&&(s=e.onUncaughtError),e.onCaughtError!==void 0&&(r=e.onCaughtError),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=Nx(t,1,!1,null,null,n,i,null,s,r,a,Ox),t[oa]=e.current,yp(t),new Tp(e)};Vu.hydrateRoot=function(t,e,n){if(!$0(t))throw Error(L(299));var i=!1,s="",r=wb,a=Sb,l=Ab,c=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(r=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.formState!==void 0&&(c=n.formState)),e=Nx(t,1,!0,e,n??null,i,s,c,r,a,l,Ox),e.context=Rx(null),n=e.current,i=Ft(),i=Dm(i),s=Li(i),s.callback=null,Pi(n,s,i),n=i,e.current.lanes=n,ol(e,n),kn(e),t[oa]=e.current,yp(t),new Zu(e)};Vu.version="19.2.3";function kx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kx)}catch(t){console.error(t)}}kx(),q0.exports=Vu;var SR=q0.exports;/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Qv="popstate";function AR(t={}){function e(i,s){let{pathname:r,search:a,hash:l}=i.location;return Qf("",{pathname:r,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){return typeof s=="string"?s:Ho(s)}return RR(e,n,null,t)}function Ce(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function In(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function NR(){return Math.random().toString(36).substring(2,10)}function $v(t,e){return{usr:t.state,key:t.key,idx:e}}function Qf(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ma(e):e,state:n,key:e&&e.key||i||NR()}}function Ho({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ma(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function RR(t,e,n,i={}){let{window:s=document.defaultView,v5Compat:r=!1}=i,a=s.history,l="POP",c=null,h=f();h==null&&(h=0,a.replaceState({...a.state,idx:h},""));function f(){return(a.state||{idx:null}).idx}function m(){l="POP";let j=f(),x=j==null?null:j-h;h=j,c&&c({action:l,location:D.location,delta:x})}function p(j,x){l="PUSH";let y=Qf(D.location,j,x);h=f()+1;let b=$v(y,h),I=D.createHref(y);try{a.pushState(b,"",I)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;s.location.assign(I)}r&&c&&c({action:l,location:D.location,delta:1})}function v(j,x){l="REPLACE";let y=Qf(D.location,j,x);h=f();let b=$v(y,h),I=D.createHref(y);a.replaceState(b,"",I),r&&c&&c({action:l,location:D.location,delta:0})}function R(j){return CR(j)}let D={get action(){return l},get location(){return t(s,a)},listen(j){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Qv,m),c=j,()=>{s.removeEventListener(Qv,m),c=null}},createHref(j){return e(s,j)},createURL:R,encodeLocation(j){let x=R(j);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:p,replace:v,go(j){return a.go(j)}};return D}function CR(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ce(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Ho(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function Mx(t,e,n="/"){return IR(t,e,n,!1)}function IR(t,e,n,i){let s=typeof e=="string"?ma(e):e,r=ii(s.pathname||"/",n);if(r==null)return null;let a=Vx(t);DR(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let h=qR(r);l=zR(a[c],h,i)}return l}function Vx(t,e=[],n=[],i="",s=!1){let r=(a,l,c=s,h)=>{let f={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(i)&&c)return;Ce(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length)}let m=Wn([i,f.relativePath]),p=n.concat(f);a.children&&a.children.length>0&&(Ce(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),Vx(a.children,e,p,m,c)),!(a.path==null&&!a.index)&&e.push({path:m,score:PR(m,a.index),routesMeta:p})};return t.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))r(a,l);else for(let h of Lx(a.path))r(a,l,!0,h)}),e}function Lx(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,s=n.endsWith("?"),r=n.replace(/\?$/,"");if(i.length===0)return s?[r,""]:[r];let a=Lx(i.join("/")),l=[];return l.push(...a.map(c=>c===""?r:[r,c].join("/"))),s&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function DR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:UR(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var jR=/^:[\w-]+$/,OR=3,kR=2,MR=1,VR=10,LR=-2,Xv=t=>t==="*";function PR(t,e){let n=t.split("/"),i=n.length;return n.some(Xv)&&(i+=LR),e&&(i+=kR),n.filter(s=>!Xv(s)).reduce((s,r)=>s+(jR.test(r)?OR:r===""?MR:VR),i)}function UR(t,e){return t.length===e.length&&t.slice(0,-1).every((i,s)=>i===e[s])?t[t.length-1]-e[e.length-1]:0}function zR(t,e,n=!1){let{routesMeta:i}=t,s={},r="/",a=[];for(let l=0;l<i.length;++l){let c=i[l],h=l===i.length-1,f=r==="/"?e:e.slice(r.length)||"/",m=yu({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},f),p=c.route;if(!m&&h&&n&&!i[i.length-1].route.index&&(m=yu({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!m)return null;Object.assign(s,m.params),a.push({params:s,pathname:Wn([r,m.pathname]),pathnameBase:KR(Wn([r,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(r=Wn([r,m.pathnameBase]))}return a}function yu(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=BR(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let r=s[0],a=r.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:i.reduce((h,{paramName:f,isOptional:m},p)=>{if(f==="*"){let R=l[p]||"";a=r.slice(0,r.length-R.length).replace(/(.)\/+$/,"$1")}const v=l[p];return m&&!v?h[f]=void 0:h[f]=(v||"").replace(/%2F/g,"/"),h},{}),pathname:r,pathnameBase:a,pattern:t}}function BR(t,e=!1,n=!0){In(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(i.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function qR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return In(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ii(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}var HR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function FR(t,e="/"){let{pathname:n,search:i="",hash:s=""}=typeof t=="string"?ma(t):t,r;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?r=Wv(n.substring(1),"/"):r=Wv(n,e)):r=e,{pathname:r,search:YR(i),hash:QR(s)}}function Wv(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function kd(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function GR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Px(t){let e=GR(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function Ux(t,e,n,i=!1){let s;typeof t=="string"?s=ma(t):(s={...t},Ce(!s.pathname||!s.pathname.includes("?"),kd("?","pathname","search",s)),Ce(!s.pathname||!s.pathname.includes("#"),kd("#","pathname","hash",s)),Ce(!s.search||!s.search.includes("#"),kd("#","search","hash",s)));let r=t===""||s.pathname==="",a=r?"/":s.pathname,l;if(a==null)l=n;else{let m=e.length-1;if(!i&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),m-=1;s.pathname=p.join("/")}l=m>=0?e[m]:"/"}let c=FR(s,l),h=a&&a!=="/"&&a.endsWith("/"),f=(r||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(h||f)&&(c.pathname+="/"),c}var Wn=t=>t.join("/").replace(/\/\/+/g,"/"),KR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),YR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,QR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,$R=class{constructor(t,e,n,i=!1){this.status=t,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function XR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function WR(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var zx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Bx(t,e){let n=t;if(typeof n!="string"||!HR.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,s=!1;if(zx)try{let r=new URL(window.location.href),a=n.startsWith("//")?new URL(r.protocol+n):new URL(n),l=ii(a.pathname,e);a.origin===r.origin&&l!=null?n=l+a.search+a.hash:s=!0}catch{In(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:s,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var qx=["POST","PUT","PATCH","DELETE"];new Set(qx);var JR=["GET",...qx];new Set(JR);var pa=C.createContext(null);pa.displayName="DataRouter";var eh=C.createContext(null);eh.displayName="DataRouterState";var ZR=C.createContext(!1),Hx=C.createContext({isTransitioning:!1});Hx.displayName="ViewTransition";var eC=C.createContext(new Map);eC.displayName="Fetchers";var tC=C.createContext(null);tC.displayName="Await";var an=C.createContext(null);an.displayName="Navigation";var gl=C.createContext(null);gl.displayName="Location";var Mn=C.createContext({outlet:null,matches:[],isDataRoute:!1});Mn.displayName="Route";var wp=C.createContext(null);wp.displayName="RouteError";var Fx="REACT_ROUTER_ERROR",nC="REDIRECT",iC="ROUTE_ERROR_RESPONSE";function sC(t){if(t.startsWith(`${Fx}:${nC}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function rC(t){if(t.startsWith(`${Fx}:${iC}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new $R(e.status,e.statusText,e.data)}catch{}}function aC(t,{relative:e}={}){Ce(yl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=C.useContext(an),{hash:s,pathname:r,search:a}=vl(t,{relative:e}),l=r;return n!=="/"&&(l=r==="/"?n:Wn([n,r])),i.createHref({pathname:l,search:a,hash:s})}function yl(){return C.useContext(gl)!=null}function hs(){return Ce(yl(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(gl).location}var Gx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Kx(t){C.useContext(an).static||C.useLayoutEffect(t)}function th(){let{isDataRoute:t}=C.useContext(Mn);return t?bC():oC()}function oC(){Ce(yl(),"useNavigate() may be used only in the context of a <Router> component.");let t=C.useContext(pa),{basename:e,navigator:n}=C.useContext(an),{matches:i}=C.useContext(Mn),{pathname:s}=hs(),r=JSON.stringify(Px(i)),a=C.useRef(!1);return Kx(()=>{a.current=!0}),C.useCallback((c,h={})=>{if(In(a.current,Gx),!a.current)return;if(typeof c=="number"){n.go(c);return}let f=Ux(c,JSON.parse(r),s,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Wn([e,f.pathname])),(h.replace?n.replace:n.push)(f,h.state,h)},[e,n,r,s,t])}var lC=C.createContext(null);function cC(t){let e=C.useContext(Mn).outlet;return C.useMemo(()=>e&&C.createElement(lC.Provider,{value:t},e),[e,t])}function vl(t,{relative:e}={}){let{matches:n}=C.useContext(Mn),{pathname:i}=hs(),s=JSON.stringify(Px(n));return C.useMemo(()=>Ux(t,JSON.parse(s),i,e==="path"),[t,s,i,e])}function uC(t,e){return Yx(t,e)}function Yx(t,e,n,i,s){var y;Ce(yl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=C.useContext(an),{matches:a}=C.useContext(Mn),l=a[a.length-1],c=l?l.params:{},h=l?l.pathname:"/",f=l?l.pathnameBase:"/",m=l&&l.route;{let b=m&&m.path||"";$x(h,!m||b.endsWith("*")||b.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${b}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${b}"> to <Route path="${b==="/"?"*":`${b}/*`}">.`)}let p=hs(),v;if(e){let b=typeof e=="string"?ma(e):e;Ce(f==="/"||((y=b.pathname)==null?void 0:y.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${b.pathname}" was given in the \`location\` prop.`),v=b}else v=p;let R=v.pathname||"/",D=R;if(f!=="/"){let b=f.replace(/^\//,"").split("/");D="/"+R.replace(/^\//,"").split("/").slice(b.length).join("/")}let j=Mx(t,{pathname:D});In(m||j!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),In(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=pC(j&&j.map(b=>Object.assign({},b,{params:Object.assign({},c,b.params),pathname:Wn([f,r.encodeLocation?r.encodeLocation(b.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?f:Wn([f,r.encodeLocation?r.encodeLocation(b.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:b.pathnameBase])})),a,n,i,s);return e&&x?C.createElement(gl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},x):x}function hC(){let t=EC(),e=XR(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},r={padding:"2px 4px",backgroundColor:i},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=C.createElement(C.Fragment,null,C.createElement("p",null," Hey developer "),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:r},"ErrorBoundary")," or"," ",C.createElement("code",{style:r},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:s},n):null,a)}var dC=C.createElement(hC,null),Qx=class extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=rC(t.digest);n&&(t=n)}let e=t!==void 0?C.createElement(Mn.Provider,{value:this.props.routeContext},C.createElement(wp.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?C.createElement(fC,{error:t},e):e}};Qx.contextType=ZR;var Md=new WeakMap;function fC({children:t,error:e}){let{basename:n}=C.useContext(an);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=sC(e.digest);if(i){let s=Md.get(e);if(s)throw s;let r=Bx(i.location,n);if(zx&&!Md.get(e))if(r.isExternal||i.reloadDocument)window.location.href=r.absoluteURL||r.to;else{const a=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(r.to,{replace:i.replace}));throw Md.set(e,a),a}return C.createElement("meta",{httpEquiv:"refresh",content:`0;url=${r.absoluteURL||r.to}`})}}return t}function mC({routeContext:t,match:e,children:n}){let i=C.useContext(pa);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(Mn.Provider,{value:t},n)}function pC(t,e=[],n=null,i=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let r=t,a=n==null?void 0:n.errors;if(a!=null){let f=r.findIndex(m=>m.route.id&&(a==null?void 0:a[m.route.id])!==void 0);Ce(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),r=r.slice(0,Math.min(r.length,f+1))}let l=!1,c=-1;if(n)for(let f=0;f<r.length;f++){let m=r[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(c=f),m.route.id){let{loaderData:p,errors:v}=n,R=m.route.loader&&!p.hasOwnProperty(m.route.id)&&(!v||v[m.route.id]===void 0);if(m.route.lazy||R){l=!0,c>=0?r=r.slice(0,c+1):r=[r[0]];break}}}let h=n&&i?(f,m)=>{var p,v;i(f,{location:n.location,params:((v=(p=n.matches)==null?void 0:p[0])==null?void 0:v.params)??{},unstable_pattern:WR(n.matches),errorInfo:m})}:void 0;return r.reduceRight((f,m,p)=>{let v,R=!1,D=null,j=null;n&&(v=a&&m.route.id?a[m.route.id]:void 0,D=m.route.errorElement||dC,l&&(c<0&&p===0?($x("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,j=null):c===p&&(R=!0,j=m.route.hydrateFallbackElement||null)));let x=e.concat(r.slice(0,p+1)),y=()=>{let b;return v?b=D:R?b=j:m.route.Component?b=C.createElement(m.route.Component,null):m.route.element?b=m.route.element:b=f,C.createElement(mC,{match:m,routeContext:{outlet:f,matches:x,isDataRoute:n!=null},children:b})};return n&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?C.createElement(Qx,{location:n.location,revalidation:n.revalidation,component:D,error:v,children:y(),routeContext:{outlet:null,matches:x,isDataRoute:!0},onError:h}):y()},null)}function Sp(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gC(t){let e=C.useContext(pa);return Ce(e,Sp(t)),e}function yC(t){let e=C.useContext(eh);return Ce(e,Sp(t)),e}function vC(t){let e=C.useContext(Mn);return Ce(e,Sp(t)),e}function Ap(t){let e=vC(t),n=e.matches[e.matches.length-1];return Ce(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function _C(){return Ap("useRouteId")}function EC(){var i;let t=C.useContext(wp),e=yC("useRouteError"),n=Ap("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function bC(){let{router:t}=gC("useNavigate"),e=Ap("useNavigate"),n=C.useRef(!1);return Kx(()=>{n.current=!0}),C.useCallback(async(s,r={})=>{In(n.current,Gx),n.current&&(typeof s=="number"?await t.navigate(s):await t.navigate(s,{fromRouteId:e,...r}))},[t,e])}var Jv={};function $x(t,e,n){!e&&!Jv[t]&&(Jv[t]=!0,In(!1,n))}C.memo(xC);function xC({routes:t,future:e,state:n,onError:i}){return Yx(t,void 0,n,i,e)}function TC(t){return cC(t.context)}function ke(t){Ce(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function wC({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:s,static:r=!1,unstable_useTransitions:a}){Ce(!yl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=C.useMemo(()=>({basename:l,navigator:s,static:r,unstable_useTransitions:a,future:{}}),[l,s,r,a]);typeof n=="string"&&(n=ma(n));let{pathname:h="/",search:f="",hash:m="",state:p=null,key:v="default"}=n,R=C.useMemo(()=>{let D=ii(h,l);return D==null?null:{location:{pathname:D,search:f,hash:m,state:p,key:v},navigationType:i}},[l,h,f,m,p,v,i]);return In(R!=null,`<Router basename="${l}"> is not able to match the URL "${h}${f}${m}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:C.createElement(an.Provider,{value:c},C.createElement(gl.Provider,{children:e,value:R}))}function Zv({children:t,location:e}){return uC($f(t),e)}function $f(t,e=[]){let n=[];return C.Children.forEach(t,(i,s)=>{if(!C.isValidElement(i))return;let r=[...e,s];if(i.type===C.Fragment){n.push.apply(n,$f(i.props.children,r));return}Ce(i.type===ke,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ce(!i.props.index||!i.props.children,"An index route cannot have child routes.");let a={id:i.props.id||r.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=$f(i.props.children,r)),n.push(a)}),n}var Ic="get",Dc="application/x-www-form-urlencoded";function nh(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function SC(t){return nh(t)&&t.tagName.toLowerCase()==="button"}function AC(t){return nh(t)&&t.tagName.toLowerCase()==="form"}function NC(t){return nh(t)&&t.tagName.toLowerCase()==="input"}function RC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function CC(t,e){return t.button===0&&(!e||e==="_self")&&!RC(t)}var lc=null;function IC(){if(lc===null)try{new FormData(document.createElement("form"),0),lc=!1}catch{lc=!0}return lc}var DC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Vd(t){return t!=null&&!DC.has(t)?(In(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Dc}"`),null):t}function jC(t,e){let n,i,s,r,a;if(AC(t)){let l=t.getAttribute("action");i=l?ii(l,e):null,n=t.getAttribute("method")||Ic,s=Vd(t.getAttribute("enctype"))||Dc,r=new FormData(t)}else if(SC(t)||NC(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(i=c?ii(c,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||Ic,s=Vd(t.getAttribute("formenctype"))||Vd(l.getAttribute("enctype"))||Dc,r=new FormData(l,t),!IC()){let{name:h,type:f,value:m}=t;if(f==="image"){let p=h?`${h}.`:"";r.append(`${p}x`,"0"),r.append(`${p}y`,"0")}else h&&r.append(h,m)}}else{if(nh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ic,i=null,s=Dc,a=t}return r&&s==="text/plain"&&(a=r,r=void 0),{action:i,method:n.toLowerCase(),encType:s,formData:r,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Np(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function OC(t,e,n,i){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?s.pathname.endsWith("/")?s.pathname=`${s.pathname}_.${i}`:s.pathname=`${s.pathname}.${i}`:s.pathname==="/"?s.pathname=`_root.${i}`:e&&ii(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${i}`,s}async function kC(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function MC(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function VC(t,e,n){let i=await Promise.all(t.map(async s=>{let r=e.routes[s.route.id];if(r){let a=await kC(r,n);return a.links?a.links():[]}return[]}));return zC(i.flat(1).filter(MC).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function e_(t,e,n,i,s,r){let a=(c,h)=>n[h]?c.route.id!==n[h].route.id:!0,l=(c,h)=>{var f;return n[h].pathname!==c.pathname||((f=n[h].route.path)==null?void 0:f.endsWith("*"))&&n[h].params["*"]!==c.params["*"]};return r==="assets"?e.filter((c,h)=>a(c,h)||l(c,h)):r==="data"?e.filter((c,h)=>{var m;let f=i.routes[c.route.id];if(!f||!f.hasLoader)return!1;if(a(c,h)||l(c,h))return!0;if(c.route.shouldRevalidate){let p=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function LC(t,e,{includeHydrateFallback:n}={}){return PC(t.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let r=[s.module];return s.clientActionModule&&(r=r.concat(s.clientActionModule)),s.clientLoaderModule&&(r=r.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(r=r.concat(s.hydrateFallbackModule)),s.imports&&(r=r.concat(s.imports)),r}).flat(1))}function PC(t){return[...new Set(t)]}function UC(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function zC(t,e){let n=new Set;return new Set(e),t.reduce((i,s)=>{let r=JSON.stringify(UC(s));return n.has(r)||(n.add(r),i.push({key:r,link:s})),i},[])}function Xx(){let t=C.useContext(pa);return Np(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function BC(){let t=C.useContext(eh);return Np(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Rp=C.createContext(void 0);Rp.displayName="FrameworkContext";function Wx(){let t=C.useContext(Rp);return Np(t,"You must render this element inside a <HydratedRouter> element"),t}function qC(t,e){let n=C.useContext(Rp),[i,s]=C.useState(!1),[r,a]=C.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:h,onMouseLeave:f,onTouchStart:m}=e,p=C.useRef(null);C.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let D=x=>{x.forEach(y=>{a(y.isIntersecting)})},j=new IntersectionObserver(D,{threshold:.5});return p.current&&j.observe(p.current),()=>{j.disconnect()}}},[t]),C.useEffect(()=>{if(i){let D=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(D)}}},[i]);let v=()=>{s(!0)},R=()=>{s(!1),a(!1)};return n?t!=="intent"?[r,p,{}]:[r,p,{onFocus:$a(l,v),onBlur:$a(c,R),onMouseEnter:$a(h,v),onMouseLeave:$a(f,R),onTouchStart:$a(m,v)}]:[!1,p,{}]}function $a(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function HC({page:t,...e}){let{router:n}=Xx(),i=C.useMemo(()=>Mx(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?C.createElement(GC,{page:t,matches:i,...e}):null}function FC(t){let{manifest:e,routeModules:n}=Wx(),[i,s]=C.useState([]);return C.useEffect(()=>{let r=!1;return VC(t,e,n).then(a=>{r||s(a)}),()=>{r=!0}},[t,e,n]),i}function GC({page:t,matches:e,...n}){let i=hs(),{future:s,manifest:r,routeModules:a}=Wx(),{basename:l}=Xx(),{loaderData:c,matches:h}=BC(),f=C.useMemo(()=>e_(t,e,h,r,i,"data"),[t,e,h,r,i]),m=C.useMemo(()=>e_(t,e,h,r,i,"assets"),[t,e,h,r,i]),p=C.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let D=new Set,j=!1;if(e.forEach(y=>{var I;let b=r.routes[y.route.id];!b||!b.hasLoader||(!f.some(U=>U.route.id===y.route.id)&&y.route.id in c&&((I=a[y.route.id])!=null&&I.shouldRevalidate)||b.hasClientLoader?j=!0:D.add(y.route.id))}),D.size===0)return[];let x=OC(t,l,s.unstable_trailingSlashAwareDataRequests,"data");return j&&D.size>0&&x.searchParams.set("_routes",e.filter(y=>D.has(y.route.id)).map(y=>y.route.id).join(",")),[x.pathname+x.search]},[l,s.unstable_trailingSlashAwareDataRequests,c,i,r,f,e,t,a]),v=C.useMemo(()=>LC(m,r),[m,r]),R=FC(m);return C.createElement(C.Fragment,null,p.map(D=>C.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...n})),v.map(D=>C.createElement("link",{key:D,rel:"modulepreload",href:D,...n})),R.map(({key:D,link:j})=>C.createElement("link",{key:D,nonce:n.nonce,...j,crossOrigin:j.crossOrigin??n.crossOrigin})))}function KC(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var YC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{YC&&(window.__reactRouterVersion="7.13.0")}catch{}function QC({basename:t,children:e,unstable_useTransitions:n,window:i}){let s=C.useRef();s.current==null&&(s.current=AR({window:i,v5Compat:!0}));let r=s.current,[a,l]=C.useState({action:r.action,location:r.location}),c=C.useCallback(h=>{n===!1?l(h):C.startTransition(()=>l(h))},[n]);return C.useLayoutEffect(()=>r.listen(c),[r,c]),C.createElement(wC,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:r,unstable_useTransitions:n})}var Jx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$e=C.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:s,reloadDocument:r,replace:a,state:l,target:c,to:h,preventScrollReset:f,viewTransition:m,unstable_defaultShouldRevalidate:p,...v},R){let{basename:D,unstable_useTransitions:j}=C.useContext(an),x=typeof h=="string"&&Jx.test(h),y=Bx(h,D);h=y.to;let b=aC(h,{relative:s}),[I,U,q]=qC(i,v),T=WC(h,{replace:a,state:l,target:c,preventScrollReset:f,relative:s,viewTransition:m,unstable_defaultShouldRevalidate:p,unstable_useTransitions:j});function E(A){e&&e(A),A.defaultPrevented||T(A)}let w=C.createElement("a",{...v,...q,href:y.absoluteURL||b,onClick:y.isExternal||r?e:E,ref:KC(R,U),target:c,"data-discover":!x&&n==="render"?"true":void 0});return I&&!x?C.createElement(C.Fragment,null,w,C.createElement(HC,{page:b})):w});$e.displayName="Link";var En=C.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:s=!1,style:r,to:a,viewTransition:l,children:c,...h},f){let m=vl(a,{relative:h.relative}),p=hs(),v=C.useContext(eh),{navigator:R,basename:D}=C.useContext(an),j=v!=null&&n2(m)&&l===!0,x=R.encodeLocation?R.encodeLocation(m).pathname:m.pathname,y=p.pathname,b=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(y=y.toLowerCase(),b=b?b.toLowerCase():null,x=x.toLowerCase()),b&&D&&(b=ii(b,D)||b);const I=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let U=y===x||!s&&y.startsWith(x)&&y.charAt(I)==="/",q=b!=null&&(b===x||!s&&b.startsWith(x)&&b.charAt(x.length)==="/"),T={isActive:U,isPending:q,isTransitioning:j},E=U?e:void 0,w;typeof i=="function"?w=i(T):w=[i,U?"active":null,q?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let A=typeof r=="function"?r(T):r;return C.createElement($e,{...h,"aria-current":E,className:w,ref:f,style:A,to:a,viewTransition:l},typeof c=="function"?c(T):c)});En.displayName="NavLink";var $C=C.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:s,state:r,method:a=Ic,action:l,onSubmit:c,relative:h,preventScrollReset:f,viewTransition:m,unstable_defaultShouldRevalidate:p,...v},R)=>{let{unstable_useTransitions:D}=C.useContext(an),j=e2(),x=t2(l,{relative:h}),y=a.toLowerCase()==="get"?"get":"post",b=typeof l=="string"&&Jx.test(l),I=U=>{if(c&&c(U),U.defaultPrevented)return;U.preventDefault();let q=U.nativeEvent.submitter,T=(q==null?void 0:q.getAttribute("formmethod"))||a,E=()=>j(q||U.currentTarget,{fetcherKey:e,method:T,navigate:n,replace:s,state:r,relative:h,preventScrollReset:f,viewTransition:m,unstable_defaultShouldRevalidate:p});D&&n!==!1?C.startTransition(()=>E()):E()};return C.createElement("form",{ref:R,method:y,action:x,onSubmit:i?c:I,...v,"data-discover":!b&&t==="render"?"true":void 0})});$C.displayName="Form";function XC(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Zx(t){let e=C.useContext(pa);return Ce(e,XC(t)),e}function WC(t,{target:e,replace:n,state:i,preventScrollReset:s,relative:r,viewTransition:a,unstable_defaultShouldRevalidate:l,unstable_useTransitions:c}={}){let h=th(),f=hs(),m=vl(t,{relative:r});return C.useCallback(p=>{if(CC(p,e)){p.preventDefault();let v=n!==void 0?n:Ho(f)===Ho(m),R=()=>h(t,{replace:v,state:i,preventScrollReset:s,relative:r,viewTransition:a,unstable_defaultShouldRevalidate:l});c?C.startTransition(()=>R()):R()}},[f,h,m,n,i,e,t,s,r,a,l,c])}var JC=0,ZC=()=>`__${String(++JC)}__`;function e2(){let{router:t}=Zx("useSubmit"),{basename:e}=C.useContext(an),n=_C(),i=t.fetch,s=t.navigate;return C.useCallback(async(r,a={})=>{let{action:l,method:c,encType:h,formData:f,body:m}=jC(r,e);if(a.navigate===!1){let p=a.fetcherKey||ZC();await i(p,n,a.action||l,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:f,body:m,formMethod:a.method||c,formEncType:a.encType||h,flushSync:a.flushSync})}else await s(a.action||l,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:f,body:m,formMethod:a.method||c,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[i,s,e,n])}function t2(t,{relative:e}={}){let{basename:n}=C.useContext(an),i=C.useContext(Mn);Ce(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),r={...vl(t||".",{relative:e})},a=hs();if(t==null){r.search=a.search;let l=new URLSearchParams(r.search),c=l.getAll("index");if(c.some(f=>f==="")){l.delete("index"),c.filter(m=>m).forEach(m=>l.append("index",m));let f=l.toString();r.search=f?`?${f}`:""}}return(!t||t===".")&&s.route.index&&(r.search=r.search?r.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(r.pathname=r.pathname==="/"?n:Wn([n,r.pathname])),Ho(r)}function n2(t,{relative:e}={}){let n=C.useContext(Hx);Ce(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Zx("useViewTransitionState"),s=vl(t,{relative:e});if(!n.isTransitioning)return!1;let r=ii(n.currentLocation.pathname,i)||n.currentLocation.pathname,a=ii(n.nextLocation.pathname,i)||n.nextLocation.pathname;return yu(s.pathname,a)!=null||yu(s.pathname,r)!=null}const eT=C.createContext(),_l=()=>C.useContext(eT),i2=({children:t})=>{const[e,n]=C.useState(()=>{try{const h=localStorage.getItem("ambrosia_cart");return h?JSON.parse(h):[]}catch(h){return console.error("Failed to parse cart data:",h),[]}});C.useEffect(()=>{localStorage.setItem("ambrosia_cart",JSON.stringify(e))},[e]);const i=h=>{n(f=>{const m=f.find(p=>p.id===h.id);return m?m.quantity>=50?f:f.map(p=>p.id===h.id?{...p,quantity:p.quantity+1}:p):[...f,{...h,quantity:1}]})},s=h=>{n(f=>f.filter(m=>m.id!==h))},r=(h,f)=>{if(f<1){s(h);return}f>50||n(m=>m.map(p=>p.id===h?{...p,quantity:f}:p))},a=()=>n([]),l=e.reduce((h,f)=>h+f.price*f.quantity,0),c=e.reduce((h,f)=>h+f.quantity,0);return u.jsx(eT.Provider,{value:{cartItems:e,addToCart:i,removeFromCart:s,updateQuantity:r,clearCart:a,cartTotal:l,cartCount:c},children:t})},s2=()=>{};var t_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},r2=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=t[n++];e[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=t[n++],a=t[n++],l=t[n++],c=((s&7)<<18|(r&63)<<12|(a&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(c&1023))}else{const r=t[n++],a=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|a&63)}}return e.join("")},nT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const r=t[s],a=s+1<t.length,l=a?t[s+1]:0,c=s+2<t.length,h=c?t[s+2]:0,f=r>>2,m=(r&3)<<4|l>>4;let p=(l&15)<<2|h>>6,v=h&63;c||(v=64,a||(p=64)),i.push(n[f],n[m],n[p],n[v])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(tT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):r2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const r=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const h=s<t.length?n[t.charAt(s)]:64;++s;const m=s<t.length?n[t.charAt(s)]:64;if(++s,r==null||l==null||h==null||m==null)throw new a2;const p=r<<2|l>>4;if(i.push(p),h!==64){const v=l<<4&240|h>>2;if(i.push(v),m!==64){const R=h<<6&192|m;i.push(R)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class a2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const o2=function(t){const e=tT(t);return nT.encodeByteArray(e,!0)},vu=function(t){return o2(t).replace(/\./g,"")},iT=function(t){try{return nT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2=()=>l2().__FIREBASE_DEFAULTS__,u2=()=>{if(typeof process>"u"||typeof t_>"u")return;const t=t_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},h2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&iT(t[1]);return e&&JSON.parse(e)},ih=()=>{try{return s2()||c2()||u2()||h2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},sT=t=>{var e,n;return(n=(e=ih())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},d2=t=>{const e=sT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},rT=()=>{var t;return(t=ih())==null?void 0:t.config},aT=t=>{var e;return(e=ih())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ga(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function oT(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}},...t};return[vu(JSON.stringify(n)),vu(JSON.stringify(a)),""].join(".")}const To={};function p2(){const t={prod:[],emulator:[]};for(const e of Object.keys(To))To[e]?t.emulator.push(e):t.prod.push(e);return t}function g2(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let n_=!1;function lT(t,e){if(typeof window>"u"||typeof document>"u"||!ga(window.location.host)||To[t]===e||To[t]||n_)return;To[t]=e;function n(p){return`__firebase__banner__${p}`}const i="__firebase__banner",r=p2().prod.length>0;function a(){const p=document.getElementById(i);p&&p.remove()}function l(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function c(p,v){p.setAttribute("width","24"),p.setAttribute("id",v),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function h(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{n_=!0,a()},p}function f(p,v){p.setAttribute("id",v),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function m(){const p=g2(i),v=n("text"),R=document.getElementById(v)||document.createElement("span"),D=n("learnmore"),j=document.getElementById(D)||document.createElement("a"),x=n("preprendIcon"),y=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const b=p.element;l(b),f(j,D);const I=h();c(y,x),b.append(y,R,j,I),document.body.appendChild(b)}r?(R.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function y2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_t())}function v2(){var e;const t=(e=ih())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function E2(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function b2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function x2(){const t=_t();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function T2(){return!v2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function w2(){try{return typeof indexedDB=="object"}catch{return!1}}function S2(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var r;e(((r=s.error)==null?void 0:r.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2="FirebaseError";class ci extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=A2,Object.setPrototypeOf(this,ci.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,El.prototype.create)}}class El{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,r=this.errors[e],a=r?N2(r,i):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new ci(s,l,i)}}function N2(t,e){return t.replace(R2,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const R2=/\{\$([^}]+)}/g;function C2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function zs(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const r=t[s],a=e[s];if(i_(r)&&i_(a)){if(!zs(r,a))return!1}else if(r!==a)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function i_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function no(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,r]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(r)}}),e}function io(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function I2(t,e){const n=new D2(t,e);return n.subscribe.bind(n)}class D2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let s;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");j2(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:i},s.next===void 0&&(s.next=Ld),s.error===void 0&&(s.error=Ld),s.complete===void 0&&(s.complete=Ld);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),r}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function j2(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ld(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(t){return t&&t._delegate?t._delegate:t}class Bs{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new f2;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(M2(e))try{this.getOrInitializeService({instanceIdentifier:Ns})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(e=Ns){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ns){return this.instances.has(e)}getOptions(e=Ns){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[r,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);i===l&&a.resolve(s)}return s}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(i)??new Set;s.add(e),this.onInitCallbacks.set(i,s);const r=this.instances.get(i);return r&&e(r,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:k2(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ns){return this.component?this.component.multipleInstances?e:Ns:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function k2(t){return t===Ns?void 0:t}function M2(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new O2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var se;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(se||(se={}));const L2={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},P2=se.INFO,U2={[se.DEBUG]:"log",[se.VERBOSE]:"log",[se.INFO]:"info",[se.WARN]:"warn",[se.ERROR]:"error"},z2=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=U2[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cp{constructor(e){this.name=e,this._logLevel=P2,this._logHandler=z2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?L2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,se.DEBUG,...e),this._logHandler(this,se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,se.VERBOSE,...e),this._logHandler(this,se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,se.INFO,...e),this._logHandler(this,se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,se.WARN,...e),this._logHandler(this,se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,se.ERROR,...e),this._logHandler(this,se.ERROR,...e)}}const B2=(t,e)=>e.some(n=>t instanceof n);let s_,r_;function q2(){return s_||(s_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function H2(){return r_||(r_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cT=new WeakMap,Xf=new WeakMap,uT=new WeakMap,Pd=new WeakMap,Ip=new WeakMap;function F2(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",r),t.removeEventListener("error",a)},r=()=>{n(Fi(t.result)),s()},a=()=>{i(t.error),s()};t.addEventListener("success",r),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&cT.set(n,t)}).catch(()=>{}),Ip.set(e,t),e}function G2(t){if(Xf.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",a),t.removeEventListener("abort",a)},r=()=>{n(),s()},a=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",r),t.addEventListener("error",a),t.addEventListener("abort",a)});Xf.set(t,e)}let Wf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Xf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||uT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function K2(t){Wf=t(Wf)}function Y2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Ud(this),e,...n);return uT.set(i,e.sort?e.sort():[e]),Fi(i)}:H2().includes(t)?function(...e){return t.apply(Ud(this),e),Fi(cT.get(this))}:function(...e){return Fi(t.apply(Ud(this),e))}}function Q2(t){return typeof t=="function"?Y2(t):(t instanceof IDBTransaction&&G2(t),B2(t,q2())?new Proxy(t,Wf):t)}function Fi(t){if(t instanceof IDBRequest)return F2(t);if(Pd.has(t))return Pd.get(t);const e=Q2(t);return e!==t&&(Pd.set(t,e),Ip.set(e,t)),e}const Ud=t=>Ip.get(t);function $2(t,e,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const a=indexedDB.open(t,e),l=Fi(a);return i&&a.addEventListener("upgradeneeded",c=>{i(Fi(a.result),c.oldVersion,c.newVersion,Fi(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{r&&c.addEventListener("close",()=>r()),s&&c.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const X2=["get","getKey","getAll","getAllKeys","count"],W2=["put","add","delete","clear"],zd=new Map;function a_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(zd.get(e))return zd.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=W2.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||X2.includes(n)))return;const r=async function(a,...l){const c=this.transaction(a,s?"readwrite":"readonly");let h=c.store;return i&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),s&&c.done]))[0]};return zd.set(e,r),r}K2(t=>({...t,get:(e,n,i)=>a_(e,n)||t.get(e,n,i),has:(e,n)=>!!a_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Z2(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function Z2(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Jf="@firebase/app",o_="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si=new Cp("@firebase/app"),eI="@firebase/app-compat",tI="@firebase/analytics-compat",nI="@firebase/analytics",iI="@firebase/app-check-compat",sI="@firebase/app-check",rI="@firebase/auth",aI="@firebase/auth-compat",oI="@firebase/database",lI="@firebase/data-connect",cI="@firebase/database-compat",uI="@firebase/functions",hI="@firebase/functions-compat",dI="@firebase/installations",fI="@firebase/installations-compat",mI="@firebase/messaging",pI="@firebase/messaging-compat",gI="@firebase/performance",yI="@firebase/performance-compat",vI="@firebase/remote-config",_I="@firebase/remote-config-compat",EI="@firebase/storage",bI="@firebase/storage-compat",xI="@firebase/firestore",TI="@firebase/ai",wI="@firebase/firestore-compat",SI="firebase",AI="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf="[DEFAULT]",NI={[Jf]:"fire-core",[eI]:"fire-core-compat",[nI]:"fire-analytics",[tI]:"fire-analytics-compat",[sI]:"fire-app-check",[iI]:"fire-app-check-compat",[rI]:"fire-auth",[aI]:"fire-auth-compat",[oI]:"fire-rtdb",[lI]:"fire-data-connect",[cI]:"fire-rtdb-compat",[uI]:"fire-fn",[hI]:"fire-fn-compat",[dI]:"fire-iid",[fI]:"fire-iid-compat",[mI]:"fire-fcm",[pI]:"fire-fcm-compat",[gI]:"fire-perf",[yI]:"fire-perf-compat",[vI]:"fire-rc",[_I]:"fire-rc-compat",[EI]:"fire-gcs",[bI]:"fire-gcs-compat",[xI]:"fire-fst",[wI]:"fire-fst-compat",[TI]:"fire-vertex","fire-js":"fire-js",[SI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _u=new Map,RI=new Map,em=new Map;function l_(t,e){try{t.container.addComponent(e)}catch(n){si.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Wr(t){const e=t.name;if(em.has(e))return si.debug(`There were multiple attempts to register component ${e}.`),!1;em.set(e,t);for(const n of _u.values())l_(n,t);for(const n of RI.values())l_(n,t);return!0}function Dp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function un(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gi=new El("app","Firebase",CI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Bs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya=AI;function hT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:Zf,automaticDataCollectionEnabled:!0,...e},s=i.name;if(typeof s!="string"||!s)throw Gi.create("bad-app-name",{appName:String(s)});if(n||(n=rT()),!n)throw Gi.create("no-options");const r=_u.get(s);if(r){if(zs(n,r.options)&&zs(i,r.config))return r;throw Gi.create("duplicate-app",{appName:s})}const a=new V2(s);for(const c of em.values())a.addComponent(c);const l=new II(n,i,a);return _u.set(s,l),l}function dT(t=Zf){const e=_u.get(t);if(!e&&t===Zf&&rT())return hT();if(!e)throw Gi.create("no-app",{appName:t});return e}function Ki(t,e,n){let i=NI[t]??t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),r=e.match(/\s|\//);if(s||r){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&r&&a.push("and"),r&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),si.warn(a.join(" "));return}Wr(new Bs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI="firebase-heartbeat-database",jI=1,Fo="firebase-heartbeat-store";let Bd=null;function fT(){return Bd||(Bd=$2(DI,jI,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Fo)}catch(n){console.warn(n)}}}}).catch(t=>{throw Gi.create("idb-open",{originalErrorMessage:t.message})})),Bd}async function OI(t){try{const n=(await fT()).transaction(Fo),i=await n.objectStore(Fo).get(mT(t));return await n.done,i}catch(e){if(e instanceof ci)si.warn(e.message);else{const n=Gi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});si.warn(n.message)}}}async function c_(t,e){try{const i=(await fT()).transaction(Fo,"readwrite");await i.objectStore(Fo).put(e,mT(t)),await i.done}catch(n){if(n instanceof ci)si.warn(n.message);else{const i=Gi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});si.warn(i.message)}}}function mT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI=1024,MI=30;class VI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new PI(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=u_();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats.length>MI){const a=UI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){si.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=u_(),{heartbeatsToSend:i,unsentEntries:s}=LI(this._heartbeatsCache.heartbeats),r=vu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(n){return si.warn(n),""}}}function u_(){return new Date().toISOString().substring(0,10)}function LI(t,e=kI){const n=[];let i=t.slice();for(const s of t){const r=n.find(a=>a.agent===s.agent);if(r){if(r.dates.push(s.date),h_(n)>e){r.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),h_(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class PI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return w2()?S2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await OI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return c_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return c_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function h_(t){return vu(JSON.stringify({version:2,heartbeats:t})).length}function UI(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(t){Wr(new Bs("platform-logger",e=>new J2(e),"PRIVATE")),Wr(new Bs("heartbeat",e=>new VI(e),"PRIVATE")),Ki(Jf,o_,t),Ki(Jf,o_,"esm2020"),Ki("fire-js","")}zI("");var BI="firebase",qI="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ki(BI,qI,"app");function pT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const HI=pT,gT=new El("auth","Firebase",pT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eu=new Cp("@firebase/auth");function FI(t,...e){Eu.logLevel<=se.WARN&&Eu.warn(`Auth (${ya}): ${t}`,...e)}function jc(t,...e){Eu.logLevel<=se.ERROR&&Eu.error(`Auth (${ya}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(t,...e){throw jp(t,...e)}function Sn(t,...e){return jp(t,...e)}function yT(t,e,n){const i={...HI(),[e]:n};return new El("auth","Firebase",i).create(e,{appName:t.name})}function Yi(t){return yT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jp(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return gT.create(t,...e)}function K(t,e,...n){if(!t)throw jp(e,...n)}function Kn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw jc(e),new Error(e)}function ri(t,e){t||Kn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tm(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function GI(){return d_()==="http:"||d_()==="https:"}function d_(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(GI()||E2()||"connection"in navigator)?navigator.onLine:!0}function YI(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e,n){this.shortDelay=e,this.longDelay=n,ri(n>e,"Short delay should be less than long delay!"),this.isMobile=y2()||b2()}get(){return KI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Op(t,e){ri(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Kn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Kn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Kn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],XI=new xl(3e4,6e4);function Ws(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ds(t,e,n,i,s={}){return _T(t,s,async()=>{let r={},a={};i&&(e==="GET"?a=i:r={body:JSON.stringify(i)});const l=bl({key:t.config.apiKey,...a}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:c,...r};return _2()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&ga(t.emulatorConfig.host)&&(h.credentials="include"),vT.fetch()(await ET(t,t.config.apiHost,n,l),h)})}async function _T(t,e,n){t._canInitEmulator=!1;const i={...QI,...e};try{const s=new JI(t),r=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await r.json();if("needConfirmation"in a)throw cc(t,"account-exists-with-different-credential",a);if(r.ok&&!("errorMessage"in a))return a;{const l=r.ok?a.errorMessage:a.error.message,[c,h]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw cc(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw cc(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw cc(t,"user-disabled",a);const f=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw yT(t,f,h);mn(t,f)}}catch(s){if(s instanceof ci)throw s;mn(t,"network-request-failed",{message:String(s)})}}async function sh(t,e,n,i,s={}){const r=await ds(t,e,n,i,s);return"mfaPendingCredential"in r&&mn(t,"multi-factor-auth-required",{_serverResponse:r}),r}async function ET(t,e,n,i){const s=`${e}${n}?${i}`,r=t,a=r.config.emulator?Op(t.config,s):`${t.config.apiScheme}://${s}`;return $I.includes(n)&&(await r._persistenceManagerAvailable,r._getPersistenceType()==="COOKIE")?r._getPersistence()._getFinalTarget(a).toString():a}function WI(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class JI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Sn(this.auth,"network-request-failed")),XI.get())})}}function cc(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=Sn(t,e,i);return s.customData._tokenResponse=n,s}function f_(t){return t!==void 0&&t.enterprise!==void 0}class ZI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return WI(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function eD(t,e){return ds(t,"GET","/v2/recaptchaConfig",Ws(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tD(t,e){return ds(t,"POST","/v1/accounts:delete",e)}async function bu(t,e){return ds(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function nD(t,e=!1){const n=Ue(t),i=await n.getIdToken(e),s=kp(i);K(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const r=typeof s.firebase=="object"?s.firebase:void 0,a=r==null?void 0:r.sign_in_provider;return{claims:s,token:i,authTime:wo(qd(s.auth_time)),issuedAtTime:wo(qd(s.iat)),expirationTime:wo(qd(s.exp)),signInProvider:a||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function qd(t){return Number(t)*1e3}function kp(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return jc("JWT malformed, contained fewer than 3 sections"),null;try{const s=iT(n);return s?JSON.parse(s):(jc("Failed to decode base64 JWT payload"),null)}catch(s){return jc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function m_(t){const e=kp(t);return K(e,"internal-error"),K(typeof e.exp<"u","internal-error"),K(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Go(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof ci&&iD(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function iD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=wo(this.lastLoginAt),this.creationTime=wo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xu(t){var m;const e=t.auth,n=await t.getIdToken(),i=await Go(t,bu(e,{idToken:n}));K(i==null?void 0:i.users.length,e,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const r=(m=s.providerUserInfo)!=null&&m.length?bT(s.providerUserInfo):[],a=aD(t.providerData,r),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),h=l?c:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new nm(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function rD(t){const e=Ue(t);await xu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function aD(t,e){return[...t.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function bT(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oD(t,e){const n=await _T(t,{},async()=>{const i=bl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:r}=t.config,a=await ET(t,s,"/v1/token",`key=${r}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:i};return t.emulatorConfig&&ga(t.emulatorConfig.host)&&(c.credentials="include"),vT.fetch()(a,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function lD(t,e){return ds(t,"POST","/v2/accounts:revokeToken",Ws(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){K(e.idToken,"internal-error"),K(typeof e.idToken<"u","internal-error"),K(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):m_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){K(e.length!==0,"internal-error");const n=m_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(K(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:s,expiresIn:r}=await oD(e,n);this.updateTokensAndExpiration(i,s,Number(r))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:s,expirationTime:r}=n,a=new kr;return i&&(K(typeof i=="string","internal-error",{appName:e}),a.refreshToken=i),s&&(K(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),r&&(K(typeof r=="number","internal-error",{appName:e}),a.expirationTime=r),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new kr,this.toJSON())}_performRefresh(){return Kn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vi(t,e){K(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class hn{constructor({uid:e,auth:n,stsTokenManager:i,...s}){this.providerId="firebase",this.proactiveRefresh=new sD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new nm(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Go(this,this.stsTokenManager.getToken(this.auth,e));return K(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return nD(this,e)}reload(){return rD(this)}_assign(e){this!==e&&(K(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new hn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await xu(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(un(this.auth.app))return Promise.reject(Yi(this.auth));const e=await this.getIdToken();return await Go(this,tD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,s=n.email??void 0,r=n.phoneNumber??void 0,a=n.photoURL??void 0,l=n.tenantId??void 0,c=n._redirectEventId??void 0,h=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:m,emailVerified:p,isAnonymous:v,providerData:R,stsTokenManager:D}=n;K(m&&D,e,"internal-error");const j=kr.fromJSON(this.name,D);K(typeof m=="string",e,"internal-error"),vi(i,e.name),vi(s,e.name),K(typeof p=="boolean",e,"internal-error"),K(typeof v=="boolean",e,"internal-error"),vi(r,e.name),vi(a,e.name),vi(l,e.name),vi(c,e.name),vi(h,e.name),vi(f,e.name);const x=new hn({uid:m,auth:e,email:s,emailVerified:p,displayName:i,isAnonymous:v,photoURL:a,phoneNumber:r,tenantId:l,stsTokenManager:j,createdAt:h,lastLoginAt:f});return R&&Array.isArray(R)&&(x.providerData=R.map(y=>({...y}))),c&&(x._redirectEventId=c),x}static async _fromIdTokenResponse(e,n,i=!1){const s=new kr;s.updateFromServerResponse(n);const r=new hn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await xu(r),r}static async _fromGetAccountInfoResponse(e,n,i){const s=n.users[0];K(s.localId!==void 0,"internal-error");const r=s.providerUserInfo!==void 0?bT(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(r!=null&&r.length),l=new kr;l.updateFromIdToken(i);const c=new hn({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:a}),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:r,metadata:new nm(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(r!=null&&r.length)};return Object.assign(c,h),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_=new Map;function Yn(t){ri(t instanceof Function,"Expected a class definition");let e=p_.get(t);return e?(ri(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,p_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}xT.type="NONE";const g_=xT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(t,e,n){return`firebase:${t}:${e}:${n}`}class Mr{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:s,name:r}=this.auth;this.fullUserKey=Oc(this.userKey,s.apiKey,r),this.fullPersistenceKey=Oc("persistence",s.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await bu(this.auth,{idToken:e}).catch(()=>{});return n?hn._fromGetAccountInfoResponse(this.auth,n,e):null}return hn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Mr(Yn(g_),e,i);const s=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let r=s[0]||Yn(g_);const a=Oc(i,e.config.apiKey,e.name);let l=null;for(const h of n)try{const f=await h._get(a);if(f){let m;if(typeof f=="string"){const p=await bu(e,{idToken:f}).catch(()=>{});if(!p)break;m=await hn._fromGetAccountInfoResponse(e,p,f)}else m=hn._fromJSON(e,f);h!==r&&(l=m),r=h;break}}catch{}const c=s.filter(h=>h._shouldAllowMigration);return!r._shouldAllowMigration||!c.length?new Mr(r,e,i):(r=c[0],l&&await r._set(a,l.toJSON()),await Promise.all(n.map(async h=>{if(h!==r)try{await h._remove(a)}catch{}})),new Mr(r,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(AT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(TT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(RT(e))return"Blackberry";if(CT(e))return"Webos";if(wT(e))return"Safari";if((e.includes("chrome/")||ST(e))&&!e.includes("edge/"))return"Chrome";if(NT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function TT(t=_t()){return/firefox\//i.test(t)}function wT(t=_t()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ST(t=_t()){return/crios\//i.test(t)}function AT(t=_t()){return/iemobile/i.test(t)}function NT(t=_t()){return/android/i.test(t)}function RT(t=_t()){return/blackberry/i.test(t)}function CT(t=_t()){return/webos/i.test(t)}function Mp(t=_t()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function cD(t=_t()){var e;return Mp(t)&&!!((e=window.navigator)!=null&&e.standalone)}function uD(){return x2()&&document.documentMode===10}function IT(t=_t()){return Mp(t)||NT(t)||CT(t)||RT(t)||/windows phone/i.test(t)||AT(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT(t,e=[]){let n;switch(t){case"Browser":n=y_(_t());break;case"Worker":n=`${y_(_t())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ya}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=r=>new Promise((a,l)=>{try{const c=e(r);a(c)}catch(c){l(c)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dD(t,e={}){return ds(t,"GET","/v2/passwordPolicy",Ws(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD=6;class mD{constructor(e){var i;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??fD,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,s,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e,n,i,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new v_(this),this.idTokenSubscription=new v_(this),this.beforeStateQueue=new hD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(r=>this._resolvePersistenceManagerAvailable=r)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Yn(n)),this._initializationPromise=this.queue(async()=>{var i,s,r;if(!this._deleted&&(this.persistenceManager=await Mr.create(this,e),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)==null?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await bu(this,{idToken:e}),i=await hn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(un(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(r=this.redirectUser)==null?void 0:r._redirectEventId,l=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===l)&&(c!=null&&c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return K(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await xu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=YI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(un(this.app))return Promise.reject(Yi(this));const n=e?Ue(e):null;return n&&K(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&K(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return un(this.app)?Promise.reject(Yi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return un(this.app)?Promise.reject(Yi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Yn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await dD(this),n=new mD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new El("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await lD(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Yn(e)||this._popupRedirectResolver;K(n,this,"argument-error"),this.redirectPersistenceManager=await Mr.create(this,[Yn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,s){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(K(l,this,"internal-error"),l.then(()=>{a||r(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,i,s);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=DT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var n;if(un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&FI(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function va(t){return Ue(t)}class v_{constructor(e){this.auth=e,this.observer=null,this.addObserver=I2(n=>this.observer=n)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gD(t){rh=t}function jT(t){return rh.loadJS(t)}function yD(){return rh.recaptchaEnterpriseScript}function vD(){return rh.gapiScript}function _D(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class ED{constructor(){this.enterprise=new bD}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class bD{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const xD="recaptcha-enterprise",OT="NO_RECAPTCHA";class TD{constructor(e){this.type=xD,this.auth=va(e)}async verify(e="verify",n=!1){async function i(r){if(!n){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(a,l)=>{eD(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const h=new ZI(c);return r.tenantId==null?r._agentRecaptchaConfig=h:r._tenantRecaptchaConfigs[r.tenantId]=h,a(h.siteKey)}}).catch(c=>{l(c)})})}function s(r,a,l){const c=window.grecaptcha;f_(c)?c.enterprise.ready(()=>{c.enterprise.execute(r,{action:e}).then(h=>{a(h)}).catch(()=>{a(OT)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ED().execute("siteKey",{action:"verify"}):new Promise((r,a)=>{i(this.auth).then(l=>{if(!n&&f_(window.grecaptcha))s(l,r,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=yD();c.length!==0&&(c+=l),jT(c).then(()=>{s(l,r,a)}).catch(h=>{a(h)})}}).catch(l=>{a(l)})})}}async function __(t,e,n,i=!1,s=!1){const r=new TD(t);let a;if(s)a=OT;else try{a=await r.verify(n)}catch{a=await r.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,h=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:h,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return i?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function E_(t,e,n,i,s){var r;if((r=t._getRecaptchaConfig())!=null&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await __(t,e,n,n==="getOobCode");return i(t,a)}else return i(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await __(t,e,n,n==="getOobCode");return i(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(t,e){const n=Dp(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),r=n.getOptions();if(zs(r,e??{}))return s;mn(s,"already-initialized")}return n.initialize({options:e})}function SD(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Yn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function AD(t,e,n){const i=va(t);K(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,r=kT(e),{host:a,port:l}=ND(e),c=l===null?"":`:${l}`,h={url:`${r}//${a}${c}/`},f=Object.freeze({host:a,port:l,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){K(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),K(zs(h,i.config.emulator)&&zs(f,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=h,i.emulatorConfig=f,i.settings.appVerificationDisabledForTesting=!0,ga(a)?(oT(`${r}//${a}${c}`),lT("Auth",!0)):RD()}function kT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function ND(t){const e=kT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const r=s[1];return{host:r,port:b_(i.substr(r.length+1))}}else{const[r,a]=i.split(":");return{host:r,port:b_(a)}}}function b_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function RD(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Kn("not implemented")}_getIdTokenResponse(e){return Kn("not implemented")}_linkToIdToken(e,n){return Kn("not implemented")}_getReauthenticationResolver(e){return Kn("not implemented")}}async function CD(t,e){return ds(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ID(t,e){return sh(t,"POST","/v1/accounts:signInWithPassword",Ws(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DD(t,e){return sh(t,"POST","/v1/accounts:signInWithEmailLink",Ws(t,e))}async function jD(t,e){return sh(t,"POST","/v1/accounts:signInWithEmailLink",Ws(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko extends Vp{constructor(e,n,i,s=null){super("password",i),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Ko(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Ko(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return E_(e,n,"signInWithPassword",ID);case"emailLink":return DD(e,{email:this._email,oobCode:this._password});default:mn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return E_(e,i,"signUpPassword",CD);case"emailLink":return jD(e,{idToken:n,email:this._email,oobCode:this._password});default:mn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vr(t,e){return sh(t,"POST","/v1/accounts:signInWithIdp",Ws(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD="http://localhost";class qs extends Vp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new qs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):mn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s,...r}=n;if(!i||!s)return null;const a=new qs(i,s);return a.idToken=r.idToken||void 0,a.accessToken=r.accessToken||void 0,a.secret=r.secret,a.nonce=r.nonce,a.pendingToken=r.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Vr(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Vr(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Vr(e,n)}buildRequest(){const e={requestUri:OD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=bl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kD(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function MD(t){const e=no(io(t)).link,n=e?no(io(e)).deep_link_id:null,i=no(io(t)).deep_link_id;return(i?no(io(i)).link:null)||i||n||e||t}class Lp{constructor(e){const n=no(io(e)),i=n.apiKey??null,s=n.oobCode??null,r=kD(n.mode??null);K(i&&s&&r,"argument-error"),this.apiKey=i,this.operation=r,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=MD(e);try{return new Lp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(){this.providerId=_a.PROVIDER_ID}static credential(e,n){return Ko._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Lp.parseLink(n);return K(i,"argument-error"),Ko._fromEmailAndCode(e,i.code,i.tenantId)}}_a.PROVIDER_ID="password";_a.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_a.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl extends MT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si extends Tl{constructor(){super("facebook.com")}static credential(e){return qs._fromParams({providerId:Si.PROVIDER_ID,signInMethod:Si.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Si.credentialFromTaggedObject(e)}static credentialFromError(e){return Si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Si.credential(e.oauthAccessToken)}catch{return null}}}Si.FACEBOOK_SIGN_IN_METHOD="facebook.com";Si.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends Tl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return qs._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ai.credentialFromTaggedObject(e)}static credentialFromError(e){return Ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Ai.credential(n,i)}catch{return null}}}Ai.GOOGLE_SIGN_IN_METHOD="google.com";Ai.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends Tl{constructor(){super("github.com")}static credential(e){return qs._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ni.credentialFromTaggedObject(e)}static credentialFromError(e){return Ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ni.credential(e.oauthAccessToken)}catch{return null}}}Ni.GITHUB_SIGN_IN_METHOD="github.com";Ni.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri extends Tl{constructor(){super("twitter.com")}static credential(e,n){return qs._fromParams({providerId:Ri.PROVIDER_ID,signInMethod:Ri.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ri.credentialFromTaggedObject(e)}static credentialFromError(e){return Ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Ri.credential(n,i)}catch{return null}}}Ri.TWITTER_SIGN_IN_METHOD="twitter.com";Ri.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,s=!1){const r=await hn._fromIdTokenResponse(e,i,s),a=x_(i);return new Jr({user:r,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const s=x_(i);return new Jr({user:e,providerId:s,_tokenResponse:i,operationType:n})}}function x_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu extends ci{constructor(e,n,i,s){super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Tu.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,s){return new Tu(e,n,i,s)}}function VT(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?Tu._fromErrorAndOperation(t,r,e,i):r})}async function VD(t,e,n=!1){const i=await Go(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Jr._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LD(t,e,n=!1){const{auth:i}=t;if(un(i.app))return Promise.reject(Yi(i));const s="reauthenticate";try{const r=await Go(t,VT(i,s,e,t),n);K(r.idToken,i,"internal-error");const a=kp(r.idToken);K(a,i,"internal-error");const{sub:l}=a;return K(t.uid===l,i,"user-mismatch"),Jr._forOperation(t,s,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&mn(i,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LT(t,e,n=!1){if(un(t.app))return Promise.reject(Yi(t));const i="signIn",s=await VT(t,i,e),r=await Jr._fromIdTokenResponse(t,i,s);return n||await t._updateCurrentUser(r.user),r}async function PD(t,e){return LT(va(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UD(t){const e=va(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function zD(t,e,n){return un(t.app)?Promise.reject(Yi(t)):PD(Ue(t),_a.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&UD(t),i})}function BD(t,e,n,i){return Ue(t).onIdTokenChanged(e,n,i)}function qD(t,e,n){return Ue(t).beforeAuthStateChanged(e,n)}function HD(t,e,n,i){return Ue(t).onAuthStateChanged(e,n,i)}function im(t){return Ue(t).signOut()}const wu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(wu,"1"),this.storage.removeItem(wu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD=1e3,GD=10;class UT extends PT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=IT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&e(n,s,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}const i=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},r=this.storage.getItem(i);uD()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,GD):s()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},FD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}UT.type="LOCAL";const KD=UT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT extends PT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}zT.type="SESSION";const BT=zT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YD(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const i=new ah(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:s,data:r}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const l=Array.from(a).map(async h=>h(n.origin,r)),c=await YD(l);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ah.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pp(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let r,a;return new Promise((l,c)=>{const h=Pp("",20);s.port1.start();const f=setTimeout(()=>{c(new Error("unsupported_event"))},i);a={messageChannel:s,onMessage(m){const p=m;if(p.data.eventId===h)switch(p.data.status){case"ack":clearTimeout(f),r=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),l(p.data.response);break;default:clearTimeout(f),clearTimeout(r),c(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(){return window}function $D(t){An().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(){return typeof An().WorkerGlobalScope<"u"&&typeof An().importScripts=="function"}async function XD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function WD(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function JD(){return qT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="firebaseLocalStorageDb",ZD=1,Su="firebaseLocalStorage",FT="fbase_key";class wl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function oh(t,e){return t.transaction([Su],e?"readwrite":"readonly").objectStore(Su)}function e4(){const t=indexedDB.deleteDatabase(HT);return new wl(t).toPromise()}function sm(){const t=indexedDB.open(HT,ZD);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Su,{keyPath:FT})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Su)?e(i):(i.close(),await e4(),e(await sm()))})})}async function T_(t,e,n){const i=oh(t,!0).put({[FT]:e,value:n});return new wl(i).toPromise()}async function t4(t,e){const n=oh(t,!1).get(e),i=await new wl(n).toPromise();return i===void 0?null:i.value}function w_(t,e){const n=oh(t,!0).delete(e);return new wl(n).toPromise()}const n4=800,i4=3;class GT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>i4)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ah._getInstance(JD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,i;if(this.activeServiceWorker=await XD(),!this.activeServiceWorker)return;this.sender=new QD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(i=e[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||WD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await sm();return await T_(e,wu,"1"),await w_(e,wu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>T_(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>t4(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>w_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const r=oh(s,!1).getAll();return new wl(r).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:r}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(r)&&(this.notifyListeners(s,r),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),n4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}GT.type="LOCAL";const s4=GT;new xl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r4(t,e){return e?Yn(e):(K(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up extends Vp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vr(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Vr(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Vr(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function a4(t){return LT(t.auth,new Up(t),t.bypassAuthState)}function o4(t){const{auth:e,user:n}=t;return K(n,e,"internal-error"),LD(n,new Up(t),t.bypassAuthState)}async function l4(t){const{auth:e,user:n}=t;return K(n,e,"internal-error"),VD(n,new Up(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e,n,i,s,r=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:s,tenantId:r,error:a,type:l}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:i,tenantId:r||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return a4;case"linkViaPopup":case"linkViaRedirect":return l4;case"reauthViaPopup":case"reauthViaRedirect":return o4;default:mn(this.auth,"internal-error")}}resolve(e){ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4=new xl(2e3,1e4);class Ar extends KT{constructor(e,n,i,s,r){super(e,n,s,r),this.provider=i,this.authWindow=null,this.pollId=null,Ar.currentPopupAction&&Ar.currentPopupAction.cancel(),Ar.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return K(e,this.auth,"internal-error"),e}async onExecution(){ri(this.filter.length===1,"Popup operations only handle one event");const e=Pp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Sn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Sn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ar.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if((i=(n=this.authWindow)==null?void 0:n.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Sn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,c4.get())};e()}}Ar.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4="pendingRedirect",kc=new Map;class h4 extends KT{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=kc.get(this.auth._key());if(!e){try{const i=await d4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}kc.set(this.auth._key(),e)}return this.bypassAuthState||kc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function d4(t,e){const n=p4(e),i=m4(t);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function f4(t,e){kc.set(t._key(),e)}function m4(t){return Yn(t._redirectPersistence)}function p4(t){return Oc(u4,t.config.apiKey,t.name)}async function g4(t,e,n=!1){if(un(t.app))return Promise.reject(Yi(t));const i=va(t),s=r4(i,e),a=await new h4(i,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4=10*60*1e3;class v4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!YT(e)){const s=((i=e.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";n.onError(Sn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=y4&&this.cachedEventUids.clear(),this.cachedEventUids.has(S_(e))}saveEventToCache(e){this.cachedEventUids.add(S_(e)),this.lastProcessedEventTime=Date.now()}}function S_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function YT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function _4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return YT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E4(t,e={}){return ds(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,x4=/^https?/;async function T4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await E4(t);for(const n of e)try{if(w4(n))return}catch{}mn(t,"unauthorized-domain")}function w4(t){const e=tm(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!x4.test(n))return!1;if(b4.test(t))return i===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4=new xl(3e4,6e4);function A_(){const t=An().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function A4(t){return new Promise((e,n)=>{var s,r,a;function i(){A_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{A_(),n(Sn(t,"network-request-failed"))},timeout:S4.get()})}if((r=(s=An().gapi)==null?void 0:s.iframes)!=null&&r.Iframe)e(gapi.iframes.getContext());else if((a=An().gapi)!=null&&a.load)i();else{const l=_D("iframefcb");return An()[l]=()=>{gapi.load?i():n(Sn(t,"network-request-failed"))},jT(`${vD()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Mc=null,e})}let Mc=null;function N4(t){return Mc=Mc||A4(t),Mc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R4=new xl(5e3,15e3),C4="__/auth/iframe",I4="emulator/auth/iframe",D4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},j4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function O4(t){const e=t.config;K(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Op(e,I4):`https://${t.config.authDomain}/${C4}`,i={apiKey:e.apiKey,appName:t.name,v:ya},s=j4.get(t.config.apiHost);s&&(i.eid=s);const r=t._getFrameworks();return r.length&&(i.fw=r.join(",")),`${n}?${bl(i).slice(1)}`}async function k4(t){const e=await N4(t),n=An().gapi;return K(n,t,"internal-error"),e.open({where:document.body,url:O4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:D4,dontclear:!0},i=>new Promise(async(s,r)=>{await i.restyle({setHideOnLeave:!1});const a=Sn(t,"network-request-failed"),l=An().setTimeout(()=>{r(a)},R4.get());function c(){An().clearTimeout(l),s(i)}i.ping(c).then(c,()=>{r(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},V4=500,L4=600,P4="_blank",U4="http://localhost";class N_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function z4(t,e,n,i=V4,s=L4){const r=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const c={...M4,width:i.toString(),height:s.toString(),top:r,left:a},h=_t().toLowerCase();n&&(l=ST(h)?P4:n),TT(h)&&(e=e||U4,c.scrollbars="yes");const f=Object.entries(c).reduce((p,[v,R])=>`${p}${v}=${R},`,"");if(cD(h)&&l!=="_self")return B4(e||"",l),new N_(null);const m=window.open(e||"",l,f);K(m,t,"popup-blocked");try{m.focus()}catch{}return new N_(m)}function B4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4="__/auth/handler",H4="emulator/auth/handler",F4=encodeURIComponent("fac");async function R_(t,e,n,i,s,r){K(t.config.authDomain,t,"auth-domain-config-required"),K(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:ya,eventId:s};if(e instanceof MT){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",C2(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,m]of Object.entries({}))a[f]=m}if(e instanceof Tl){const f=e.getScopes().filter(m=>m!=="");f.length>0&&(a.scopes=f.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const c=await t._getAppCheckToken(),h=c?`#${F4}=${encodeURIComponent(c)}`:"";return`${G4(t)}?${bl(l).slice(1)}${h}`}function G4({config:t}){return t.emulator?Op(t,H4):`https://${t.authDomain}/${q4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hd="webStorageSupport";class K4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=BT,this._completeRedirectFn=g4,this._overrideRedirectResult=f4}async _openPopup(e,n,i,s){var a;ri((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const r=await R_(e,n,i,tm(),s);return z4(e,r,Pp())}async _openRedirect(e,n,i,s){await this._originValidation(e);const r=await R_(e,n,i,tm(),s);return $D(r),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:r}=this.eventManagers[n];return s?Promise.resolve(s):(ri(r,"If manager is not set, promise should be"),r)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await k4(e),i=new v4(e);return n.register("authEvent",s=>(K(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Hd,{type:Hd},s=>{var a;const r=(a=s==null?void 0:s[0])==null?void 0:a[Hd];r!==void 0&&n(!!r),mn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=T4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return IT()||wT()||Mp()}}const Y4=K4;var C_="@firebase/auth",I_="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function X4(t){Wr(new Bs("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),r=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=i.options;K(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const c={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:DT(t)},h=new pD(i,s,r,c);return SD(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Wr(new Bs("auth-internal",e=>{const n=va(e.getProvider("auth").getImmediate());return(i=>new Q4(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ki(C_,I_,$4(t)),Ki(C_,I_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4=5*60,J4=aT("authIdTokenMaxAge")||W4;let D_=null;const Z4=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>J4)return;const s=n==null?void 0:n.token;D_!==s&&(D_=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function ej(t=dT()){const e=Dp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=wD(t,{popupRedirectResolver:Y4,persistence:[s4,KD,BT]}),i=aT("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(i,location.origin);if(location.origin===r.origin){const a=Z4(r.toString());qD(n,a,()=>a(n.currentUser)),BD(n,l=>a(l))}}const s=sT("auth");return s&&AD(n,`http://${s}`),n}function tj(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}gD({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=s=>{const r=Sn("internal-error");r.customData=s,n(r)},i.type="text/javascript",i.charset="UTF-8",tj().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});X4("Browser");var j_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qi,QT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,E){function w(){}w.prototype=E.prototype,T.F=E.prototype,T.prototype=new w,T.prototype.constructor=T,T.D=function(A,N,O){for(var S=Array(arguments.length-2),mt=2;mt<arguments.length;mt++)S[mt-2]=arguments[mt];return E.prototype[N].apply(A,S)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(T,E,w){w||(w=0);const A=Array(16);if(typeof E=="string")for(var N=0;N<16;++N)A[N]=E.charCodeAt(w++)|E.charCodeAt(w++)<<8|E.charCodeAt(w++)<<16|E.charCodeAt(w++)<<24;else for(N=0;N<16;++N)A[N]=E[w++]|E[w++]<<8|E[w++]<<16|E[w++]<<24;E=T.g[0],w=T.g[1],N=T.g[2];let O=T.g[3],S;S=E+(O^w&(N^O))+A[0]+3614090360&4294967295,E=w+(S<<7&4294967295|S>>>25),S=O+(N^E&(w^N))+A[1]+3905402710&4294967295,O=E+(S<<12&4294967295|S>>>20),S=N+(w^O&(E^w))+A[2]+606105819&4294967295,N=O+(S<<17&4294967295|S>>>15),S=w+(E^N&(O^E))+A[3]+3250441966&4294967295,w=N+(S<<22&4294967295|S>>>10),S=E+(O^w&(N^O))+A[4]+4118548399&4294967295,E=w+(S<<7&4294967295|S>>>25),S=O+(N^E&(w^N))+A[5]+1200080426&4294967295,O=E+(S<<12&4294967295|S>>>20),S=N+(w^O&(E^w))+A[6]+2821735955&4294967295,N=O+(S<<17&4294967295|S>>>15),S=w+(E^N&(O^E))+A[7]+4249261313&4294967295,w=N+(S<<22&4294967295|S>>>10),S=E+(O^w&(N^O))+A[8]+1770035416&4294967295,E=w+(S<<7&4294967295|S>>>25),S=O+(N^E&(w^N))+A[9]+2336552879&4294967295,O=E+(S<<12&4294967295|S>>>20),S=N+(w^O&(E^w))+A[10]+4294925233&4294967295,N=O+(S<<17&4294967295|S>>>15),S=w+(E^N&(O^E))+A[11]+2304563134&4294967295,w=N+(S<<22&4294967295|S>>>10),S=E+(O^w&(N^O))+A[12]+1804603682&4294967295,E=w+(S<<7&4294967295|S>>>25),S=O+(N^E&(w^N))+A[13]+4254626195&4294967295,O=E+(S<<12&4294967295|S>>>20),S=N+(w^O&(E^w))+A[14]+2792965006&4294967295,N=O+(S<<17&4294967295|S>>>15),S=w+(E^N&(O^E))+A[15]+1236535329&4294967295,w=N+(S<<22&4294967295|S>>>10),S=E+(N^O&(w^N))+A[1]+4129170786&4294967295,E=w+(S<<5&4294967295|S>>>27),S=O+(w^N&(E^w))+A[6]+3225465664&4294967295,O=E+(S<<9&4294967295|S>>>23),S=N+(E^w&(O^E))+A[11]+643717713&4294967295,N=O+(S<<14&4294967295|S>>>18),S=w+(O^E&(N^O))+A[0]+3921069994&4294967295,w=N+(S<<20&4294967295|S>>>12),S=E+(N^O&(w^N))+A[5]+3593408605&4294967295,E=w+(S<<5&4294967295|S>>>27),S=O+(w^N&(E^w))+A[10]+38016083&4294967295,O=E+(S<<9&4294967295|S>>>23),S=N+(E^w&(O^E))+A[15]+3634488961&4294967295,N=O+(S<<14&4294967295|S>>>18),S=w+(O^E&(N^O))+A[4]+3889429448&4294967295,w=N+(S<<20&4294967295|S>>>12),S=E+(N^O&(w^N))+A[9]+568446438&4294967295,E=w+(S<<5&4294967295|S>>>27),S=O+(w^N&(E^w))+A[14]+3275163606&4294967295,O=E+(S<<9&4294967295|S>>>23),S=N+(E^w&(O^E))+A[3]+4107603335&4294967295,N=O+(S<<14&4294967295|S>>>18),S=w+(O^E&(N^O))+A[8]+1163531501&4294967295,w=N+(S<<20&4294967295|S>>>12),S=E+(N^O&(w^N))+A[13]+2850285829&4294967295,E=w+(S<<5&4294967295|S>>>27),S=O+(w^N&(E^w))+A[2]+4243563512&4294967295,O=E+(S<<9&4294967295|S>>>23),S=N+(E^w&(O^E))+A[7]+1735328473&4294967295,N=O+(S<<14&4294967295|S>>>18),S=w+(O^E&(N^O))+A[12]+2368359562&4294967295,w=N+(S<<20&4294967295|S>>>12),S=E+(w^N^O)+A[5]+4294588738&4294967295,E=w+(S<<4&4294967295|S>>>28),S=O+(E^w^N)+A[8]+2272392833&4294967295,O=E+(S<<11&4294967295|S>>>21),S=N+(O^E^w)+A[11]+1839030562&4294967295,N=O+(S<<16&4294967295|S>>>16),S=w+(N^O^E)+A[14]+4259657740&4294967295,w=N+(S<<23&4294967295|S>>>9),S=E+(w^N^O)+A[1]+2763975236&4294967295,E=w+(S<<4&4294967295|S>>>28),S=O+(E^w^N)+A[4]+1272893353&4294967295,O=E+(S<<11&4294967295|S>>>21),S=N+(O^E^w)+A[7]+4139469664&4294967295,N=O+(S<<16&4294967295|S>>>16),S=w+(N^O^E)+A[10]+3200236656&4294967295,w=N+(S<<23&4294967295|S>>>9),S=E+(w^N^O)+A[13]+681279174&4294967295,E=w+(S<<4&4294967295|S>>>28),S=O+(E^w^N)+A[0]+3936430074&4294967295,O=E+(S<<11&4294967295|S>>>21),S=N+(O^E^w)+A[3]+3572445317&4294967295,N=O+(S<<16&4294967295|S>>>16),S=w+(N^O^E)+A[6]+76029189&4294967295,w=N+(S<<23&4294967295|S>>>9),S=E+(w^N^O)+A[9]+3654602809&4294967295,E=w+(S<<4&4294967295|S>>>28),S=O+(E^w^N)+A[12]+3873151461&4294967295,O=E+(S<<11&4294967295|S>>>21),S=N+(O^E^w)+A[15]+530742520&4294967295,N=O+(S<<16&4294967295|S>>>16),S=w+(N^O^E)+A[2]+3299628645&4294967295,w=N+(S<<23&4294967295|S>>>9),S=E+(N^(w|~O))+A[0]+4096336452&4294967295,E=w+(S<<6&4294967295|S>>>26),S=O+(w^(E|~N))+A[7]+1126891415&4294967295,O=E+(S<<10&4294967295|S>>>22),S=N+(E^(O|~w))+A[14]+2878612391&4294967295,N=O+(S<<15&4294967295|S>>>17),S=w+(O^(N|~E))+A[5]+4237533241&4294967295,w=N+(S<<21&4294967295|S>>>11),S=E+(N^(w|~O))+A[12]+1700485571&4294967295,E=w+(S<<6&4294967295|S>>>26),S=O+(w^(E|~N))+A[3]+2399980690&4294967295,O=E+(S<<10&4294967295|S>>>22),S=N+(E^(O|~w))+A[10]+4293915773&4294967295,N=O+(S<<15&4294967295|S>>>17),S=w+(O^(N|~E))+A[1]+2240044497&4294967295,w=N+(S<<21&4294967295|S>>>11),S=E+(N^(w|~O))+A[8]+1873313359&4294967295,E=w+(S<<6&4294967295|S>>>26),S=O+(w^(E|~N))+A[15]+4264355552&4294967295,O=E+(S<<10&4294967295|S>>>22),S=N+(E^(O|~w))+A[6]+2734768916&4294967295,N=O+(S<<15&4294967295|S>>>17),S=w+(O^(N|~E))+A[13]+1309151649&4294967295,w=N+(S<<21&4294967295|S>>>11),S=E+(N^(w|~O))+A[4]+4149444226&4294967295,E=w+(S<<6&4294967295|S>>>26),S=O+(w^(E|~N))+A[11]+3174756917&4294967295,O=E+(S<<10&4294967295|S>>>22),S=N+(E^(O|~w))+A[2]+718787259&4294967295,N=O+(S<<15&4294967295|S>>>17),S=w+(O^(N|~E))+A[9]+3951481745&4294967295,T.g[0]=T.g[0]+E&4294967295,T.g[1]=T.g[1]+(N+(S<<21&4294967295|S>>>11))&4294967295,T.g[2]=T.g[2]+N&4294967295,T.g[3]=T.g[3]+O&4294967295}i.prototype.v=function(T,E){E===void 0&&(E=T.length);const w=E-this.blockSize,A=this.C;let N=this.h,O=0;for(;O<E;){if(N==0)for(;O<=w;)s(this,T,O),O+=this.blockSize;if(typeof T=="string"){for(;O<E;)if(A[N++]=T.charCodeAt(O++),N==this.blockSize){s(this,A),N=0;break}}else for(;O<E;)if(A[N++]=T[O++],N==this.blockSize){s(this,A),N=0;break}}this.h=N,this.o+=E},i.prototype.A=function(){var T=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);T[0]=128;for(var E=1;E<T.length-8;++E)T[E]=0;E=this.o*8;for(var w=T.length-8;w<T.length;++w)T[w]=E&255,E/=256;for(this.v(T),T=Array(16),E=0,w=0;w<4;++w)for(let A=0;A<32;A+=8)T[E++]=this.g[w]>>>A&255;return T};function r(T,E){var w=l;return Object.prototype.hasOwnProperty.call(w,T)?w[T]:w[T]=E(T)}function a(T,E){this.h=E;const w=[];let A=!0;for(let N=T.length-1;N>=0;N--){const O=T[N]|0;A&&O==E||(w[N]=O,A=!1)}this.g=w}var l={};function c(T){return-128<=T&&T<128?r(T,function(E){return new a([E|0],E<0?-1:0)}):new a([T|0],T<0?-1:0)}function h(T){if(isNaN(T)||!isFinite(T))return m;if(T<0)return j(h(-T));const E=[];let w=1;for(let A=0;T>=w;A++)E[A]=T/w|0,w*=4294967296;return new a(E,0)}function f(T,E){if(T.length==0)throw Error("number format error: empty string");if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(T.charAt(0)=="-")return j(f(T.substring(1),E));if(T.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=h(Math.pow(E,8));let A=m;for(let O=0;O<T.length;O+=8){var N=Math.min(8,T.length-O);const S=parseInt(T.substring(O,O+N),E);N<8?(N=h(Math.pow(E,N)),A=A.j(N).add(h(S))):(A=A.j(w),A=A.add(h(S)))}return A}var m=c(0),p=c(1),v=c(16777216);t=a.prototype,t.m=function(){if(D(this))return-j(this).m();let T=0,E=1;for(let w=0;w<this.g.length;w++){const A=this.i(w);T+=(A>=0?A:4294967296+A)*E,E*=4294967296}return T},t.toString=function(T){if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(R(this))return"0";if(D(this))return"-"+j(this).toString(T);const E=h(Math.pow(T,6));var w=this;let A="";for(;;){const N=I(w,E).g;w=x(w,N.j(E));let O=((w.g.length>0?w.g[0]:w.h)>>>0).toString(T);if(w=N,R(w))return O+A;for(;O.length<6;)O="0"+O;A=O+A}},t.i=function(T){return T<0?0:T<this.g.length?this.g[T]:this.h};function R(T){if(T.h!=0)return!1;for(let E=0;E<T.g.length;E++)if(T.g[E]!=0)return!1;return!0}function D(T){return T.h==-1}t.l=function(T){return T=x(this,T),D(T)?-1:R(T)?0:1};function j(T){const E=T.g.length,w=[];for(let A=0;A<E;A++)w[A]=~T.g[A];return new a(w,~T.h).add(p)}t.abs=function(){return D(this)?j(this):this},t.add=function(T){const E=Math.max(this.g.length,T.g.length),w=[];let A=0;for(let N=0;N<=E;N++){let O=A+(this.i(N)&65535)+(T.i(N)&65535),S=(O>>>16)+(this.i(N)>>>16)+(T.i(N)>>>16);A=S>>>16,O&=65535,S&=65535,w[N]=S<<16|O}return new a(w,w[w.length-1]&-2147483648?-1:0)};function x(T,E){return T.add(j(E))}t.j=function(T){if(R(this)||R(T))return m;if(D(this))return D(T)?j(this).j(j(T)):j(j(this).j(T));if(D(T))return j(this.j(j(T)));if(this.l(v)<0&&T.l(v)<0)return h(this.m()*T.m());const E=this.g.length+T.g.length,w=[];for(var A=0;A<2*E;A++)w[A]=0;for(A=0;A<this.g.length;A++)for(let N=0;N<T.g.length;N++){const O=this.i(A)>>>16,S=this.i(A)&65535,mt=T.i(N)>>>16,on=T.i(N)&65535;w[2*A+2*N]+=S*on,y(w,2*A+2*N),w[2*A+2*N+1]+=O*on,y(w,2*A+2*N+1),w[2*A+2*N+1]+=S*mt,y(w,2*A+2*N+1),w[2*A+2*N+2]+=O*mt,y(w,2*A+2*N+2)}for(T=0;T<E;T++)w[T]=w[2*T+1]<<16|w[2*T];for(T=E;T<2*E;T++)w[T]=0;return new a(w,0)};function y(T,E){for(;(T[E]&65535)!=T[E];)T[E+1]+=T[E]>>>16,T[E]&=65535,E++}function b(T,E){this.g=T,this.h=E}function I(T,E){if(R(E))throw Error("division by zero");if(R(T))return new b(m,m);if(D(T))return E=I(j(T),E),new b(j(E.g),j(E.h));if(D(E))return E=I(T,j(E)),new b(j(E.g),E.h);if(T.g.length>30){if(D(T)||D(E))throw Error("slowDivide_ only works with positive integers.");for(var w=p,A=E;A.l(T)<=0;)w=U(w),A=U(A);var N=q(w,1),O=q(A,1);for(A=q(A,2),w=q(w,2);!R(A);){var S=O.add(A);S.l(T)<=0&&(N=N.add(w),O=S),A=q(A,1),w=q(w,1)}return E=x(T,N.j(E)),new b(N,E)}for(N=m;T.l(E)>=0;){for(w=Math.max(1,Math.floor(T.m()/E.m())),A=Math.ceil(Math.log(w)/Math.LN2),A=A<=48?1:Math.pow(2,A-48),O=h(w),S=O.j(E);D(S)||S.l(T)>0;)w-=A,O=h(w),S=O.j(E);R(O)&&(O=p),N=N.add(O),T=x(T,S)}return new b(N,T)}t.B=function(T){return I(this,T).h},t.and=function(T){const E=Math.max(this.g.length,T.g.length),w=[];for(let A=0;A<E;A++)w[A]=this.i(A)&T.i(A);return new a(w,this.h&T.h)},t.or=function(T){const E=Math.max(this.g.length,T.g.length),w=[];for(let A=0;A<E;A++)w[A]=this.i(A)|T.i(A);return new a(w,this.h|T.h)},t.xor=function(T){const E=Math.max(this.g.length,T.g.length),w=[];for(let A=0;A<E;A++)w[A]=this.i(A)^T.i(A);return new a(w,this.h^T.h)};function U(T){const E=T.g.length+1,w=[];for(let A=0;A<E;A++)w[A]=T.i(A)<<1|T.i(A-1)>>>31;return new a(w,T.h)}function q(T,E){const w=E>>5;E%=32;const A=T.g.length-w,N=[];for(let O=0;O<A;O++)N[O]=E>0?T.i(O+w)>>>E|T.i(O+w+1)<<32-E:T.i(O+w);return new a(N,T.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,QT=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=f,Qi=a}).apply(typeof j_<"u"?j_:typeof self<"u"?self:typeof window<"u"?window:{});var uc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $T,so,XT,Vc,rm,WT,JT,ZT;(function(){var t,e=Object.defineProperty;function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof uc=="object"&&uc];for(var d=0;d<o.length;++d){var g=o[d];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var i=n(this);function s(o,d){if(d)e:{var g=i;o=o.split(".");for(var _=0;_<o.length-1;_++){var k=o[_];if(!(k in g))break e;g=g[k]}o=o[o.length-1],_=g[o],d=d(_),d!=_&&d!=null&&e(g,o,{configurable:!0,writable:!0,value:d})}}s("Symbol.dispose",function(o){return o||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(o){return o||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(o){return o||function(d){var g=[],_;for(_ in d)Object.prototype.hasOwnProperty.call(d,_)&&g.push([_,d[_]]);return g}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var r=r||{},a=this||self;function l(o){var d=typeof o;return d=="object"&&o!=null||d=="function"}function c(o,d,g){return o.call.apply(o.bind,arguments)}function h(o,d,g){return h=c,h.apply(null,arguments)}function f(o,d){var g=Array.prototype.slice.call(arguments,1);return function(){var _=g.slice();return _.push.apply(_,arguments),o.apply(this,_)}}function m(o,d){function g(){}g.prototype=d.prototype,o.Z=d.prototype,o.prototype=new g,o.prototype.constructor=o,o.Ob=function(_,k,M){for(var z=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)z[ee-2]=arguments[ee];return d.prototype[k].apply(_,z)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?o=>o&&AsyncContext.Snapshot.wrap(o):o=>o;function v(o){const d=o.length;if(d>0){const g=Array(d);for(let _=0;_<d;_++)g[_]=o[_];return g}return[]}function R(o,d){for(let _=1;_<arguments.length;_++){const k=arguments[_];var g=typeof k;if(g=g!="object"?g:k?Array.isArray(k)?"array":g:"null",g=="array"||g=="object"&&typeof k.length=="number"){g=o.length||0;const M=k.length||0;o.length=g+M;for(let z=0;z<M;z++)o[g+z]=k[z]}else o.push(k)}}class D{constructor(d,g){this.i=d,this.j=g,this.h=0,this.g=null}get(){let d;return this.h>0?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function j(o){a.setTimeout(()=>{throw o},0)}function x(){var o=T;let d=null;return o.g&&(d=o.g,o.g=o.g.next,o.g||(o.h=null),d.next=null),d}class y{constructor(){this.h=this.g=null}add(d,g){const _=b.get();_.set(d,g),this.h?this.h.next=_:this.g=_,this.h=_}}var b=new D(()=>new I,o=>o.reset());class I{constructor(){this.next=this.g=this.h=null}set(d,g){this.h=d,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let U,q=!1,T=new y,E=()=>{const o=Promise.resolve(void 0);U=()=>{o.then(w)}};function w(){for(var o;o=x();){try{o.h.call(o.g)}catch(g){j(g)}var d=b;d.j(o),d.h<100&&(d.h++,o.next=d.g,d.g=o)}q=!1}function A(){this.u=this.u,this.C=this.C}A.prototype.u=!1,A.prototype.dispose=function(){this.u||(this.u=!0,this.N())},A.prototype[Symbol.dispose]=function(){this.dispose()},A.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(o,d){this.type=o,this.g=this.target=d,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var o=!1,d=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const g=()=>{};a.addEventListener("test",g,d),a.removeEventListener("test",g,d)}catch{}return o}();function S(o){return/^[\s\xa0]*$/.test(o)}function mt(o,d){N.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o&&this.init(o,d)}m(mt,N),mt.prototype.init=function(o,d){const g=this.type=o.type,_=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;this.target=o.target||o.srcElement,this.g=d,d=o.relatedTarget,d||(g=="mouseover"?d=o.fromElement:g=="mouseout"&&(d=o.toElement)),this.relatedTarget=d,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=o.pointerType,this.state=o.state,this.i=o,o.defaultPrevented&&mt.Z.h.call(this)},mt.prototype.h=function(){mt.Z.h.call(this);const o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var on="closure_listenable_"+(Math.random()*1e6|0),H=0;function te(o,d,g,_,k){this.listener=o,this.proxy=null,this.src=d,this.type=g,this.capture=!!_,this.ha=k,this.key=++H,this.da=this.fa=!1}function W(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function _e(o,d,g){for(const _ in o)d.call(g,o[_],_,o)}function ze(o,d){for(const g in o)d.call(void 0,o[g],g,o)}function ps(o){const d={};for(const g in o)d[g]=o[g];return d}const gs="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tr(o,d){let g,_;for(let k=1;k<arguments.length;k++){_=arguments[k];for(g in _)o[g]=_[g];for(let M=0;M<gs.length;M++)g=gs[M],Object.prototype.hasOwnProperty.call(_,g)&&(o[g]=_[g])}}function Yt(o){this.src=o,this.g={},this.h=0}Yt.prototype.add=function(o,d,g,_,k){const M=o.toString();o=this.g[M],o||(o=this.g[M]=[],this.h++);const z=Rh(o,d,_,k);return z>-1?(d=o[z],g||(d.fa=!1)):(d=new te(d,this.src,M,!!_,k),d.fa=g,o.push(d)),d};function ui(o,d){const g=d.type;if(g in o.g){var _=o.g[g],k=Array.prototype.indexOf.call(_,d,void 0),M;(M=k>=0)&&Array.prototype.splice.call(_,k,1),M&&(W(d),o.g[g].length==0&&(delete o.g[g],o.h--))}}function Rh(o,d,g,_){for(let k=0;k<o.length;++k){const M=o[k];if(!M.da&&M.listener==d&&M.capture==!!g&&M.ha==_)return k}return-1}var Ch="closure_lm_"+(Math.random()*1e6|0),Ih={};function xg(o,d,g,_,k){if(Array.isArray(d)){for(let M=0;M<d.length;M++)xg(o,d[M],g,_,k);return null}return g=Sg(g),o&&o[on]?o.J(d,g,l(_)?!!_.capture:!1,k):JS(o,d,g,!1,_,k)}function JS(o,d,g,_,k,M){if(!d)throw Error("Invalid event type");const z=l(k)?!!k.capture:!!k;let ee=jh(o);if(ee||(o[Ch]=ee=new Yt(o)),g=ee.add(d,g,_,z,M),g.proxy)return g;if(_=ZS(),g.proxy=_,_.src=o,_.listener=g,o.addEventListener)O||(k=z),k===void 0&&(k=!1),o.addEventListener(d.toString(),_,k);else if(o.attachEvent)o.attachEvent(wg(d.toString()),_);else if(o.addListener&&o.removeListener)o.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return g}function ZS(){function o(g){return d.call(o.src,o.listener,g)}const d=e1;return o}function Tg(o,d,g,_,k){if(Array.isArray(d))for(var M=0;M<d.length;M++)Tg(o,d[M],g,_,k);else _=l(_)?!!_.capture:!!_,g=Sg(g),o&&o[on]?(o=o.i,M=String(d).toString(),M in o.g&&(d=o.g[M],g=Rh(d,g,_,k),g>-1&&(W(d[g]),Array.prototype.splice.call(d,g,1),d.length==0&&(delete o.g[M],o.h--)))):o&&(o=jh(o))&&(d=o.g[d.toString()],o=-1,d&&(o=Rh(d,g,_,k)),(g=o>-1?d[o]:null)&&Dh(g))}function Dh(o){if(typeof o!="number"&&o&&!o.da){var d=o.src;if(d&&d[on])ui(d.i,o);else{var g=o.type,_=o.proxy;d.removeEventListener?d.removeEventListener(g,_,o.capture):d.detachEvent?d.detachEvent(wg(g),_):d.addListener&&d.removeListener&&d.removeListener(_),(g=jh(d))?(ui(g,o),g.h==0&&(g.src=null,d[Ch]=null)):W(o)}}}function wg(o){return o in Ih?Ih[o]:Ih[o]="on"+o}function e1(o,d){if(o.da)o=!0;else{d=new mt(d,this);const g=o.listener,_=o.ha||o.src;o.fa&&Dh(o),o=g.call(_,d)}return o}function jh(o){return o=o[Ch],o instanceof Yt?o:null}var Oh="__closure_events_fn_"+(Math.random()*1e9>>>0);function Sg(o){return typeof o=="function"?o:(o[Oh]||(o[Oh]=function(d){return o.handleEvent(d)}),o[Oh])}function pt(){A.call(this),this.i=new Yt(this),this.M=this,this.G=null}m(pt,A),pt.prototype[on]=!0,pt.prototype.removeEventListener=function(o,d,g,_){Tg(this,o,d,g,_)};function Et(o,d){var g,_=o.G;if(_)for(g=[];_;_=_.G)g.push(_);if(o=o.M,_=d.type||d,typeof d=="string")d=new N(d,o);else if(d instanceof N)d.target=d.target||o;else{var k=d;d=new N(_,o),tr(d,k)}k=!0;let M,z;if(g)for(z=g.length-1;z>=0;z--)M=d.g=g[z],k=kl(M,_,!0,d)&&k;if(M=d.g=o,k=kl(M,_,!0,d)&&k,k=kl(M,_,!1,d)&&k,g)for(z=0;z<g.length;z++)M=d.g=g[z],k=kl(M,_,!1,d)&&k}pt.prototype.N=function(){if(pt.Z.N.call(this),this.i){var o=this.i;for(const d in o.g){const g=o.g[d];for(let _=0;_<g.length;_++)W(g[_]);delete o.g[d],o.h--}}this.G=null},pt.prototype.J=function(o,d,g,_){return this.i.add(String(o),d,!1,g,_)},pt.prototype.K=function(o,d,g,_){return this.i.add(String(o),d,!0,g,_)};function kl(o,d,g,_){if(d=o.i.g[String(d)],!d)return!0;d=d.concat();let k=!0;for(let M=0;M<d.length;++M){const z=d[M];if(z&&!z.da&&z.capture==g){const ee=z.listener,Qe=z.ha||z.src;z.fa&&ui(o.i,z),k=ee.call(Qe,_)!==!1&&k}}return k&&!_.defaultPrevented}function t1(o,d){if(typeof o!="function")if(o&&typeof o.handleEvent=="function")o=h(o.handleEvent,o);else throw Error("Invalid listener argument");return Number(d)>2147483647?-1:a.setTimeout(o,d||0)}function Ag(o){o.g=t1(()=>{o.g=null,o.i&&(o.i=!1,Ag(o))},o.l);const d=o.h;o.h=null,o.m.apply(null,d)}class n1 extends A{constructor(d,g){super(),this.m=d,this.l=g,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Ag(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Aa(o){A.call(this),this.h=o,this.g={}}m(Aa,A);var Ng=[];function Rg(o){_e(o.g,function(d,g){this.g.hasOwnProperty(g)&&Dh(d)},o),o.g={}}Aa.prototype.N=function(){Aa.Z.N.call(this),Rg(this)},Aa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var kh=a.JSON.stringify,i1=a.JSON.parse,s1=class{stringify(o){return a.JSON.stringify(o,void 0)}parse(o){return a.JSON.parse(o,void 0)}};function Cg(){}function Ig(){}var Na={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Mh(){N.call(this,"d")}m(Mh,N);function Vh(){N.call(this,"c")}m(Vh,N);var ys={},Dg=null;function Ml(){return Dg=Dg||new pt}ys.Ia="serverreachability";function jg(o){N.call(this,ys.Ia,o)}m(jg,N);function Ra(o){const d=Ml();Et(d,new jg(d))}ys.STAT_EVENT="statevent";function Og(o,d){N.call(this,ys.STAT_EVENT,o),this.stat=d}m(Og,N);function bt(o){const d=Ml();Et(d,new Og(d,o))}ys.Ja="timingevent";function kg(o,d){N.call(this,ys.Ja,o),this.size=d}m(kg,N);function Ca(o,d){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){o()},d)}function Ia(){this.g=!0}Ia.prototype.ua=function(){this.g=!1};function r1(o,d,g,_,k,M){o.info(function(){if(o.g)if(M){var z="",ee=M.split("&");for(let ye=0;ye<ee.length;ye++){var Qe=ee[ye].split("=");if(Qe.length>1){const Ze=Qe[0];Qe=Qe[1];const vn=Ze.split("_");z=vn.length>=2&&vn[1]=="type"?z+(Ze+"="+Qe+"&"):z+(Ze+"=redacted&")}}}else z=null;else z=M;return"XMLHTTP REQ ("+_+") [attempt "+k+"]: "+d+`
`+g+`
`+z})}function a1(o,d,g,_,k,M,z){o.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+k+"]: "+d+`
`+g+`
`+M+" "+z})}function nr(o,d,g,_){o.info(function(){return"XMLHTTP TEXT ("+d+"): "+l1(o,g)+(_?" "+_:"")})}function o1(o,d){o.info(function(){return"TIMEOUT: "+d})}Ia.prototype.info=function(){};function l1(o,d){if(!o.g)return d;if(!d)return null;try{const M=JSON.parse(d);if(M){for(o=0;o<M.length;o++)if(Array.isArray(M[o])){var g=M[o];if(!(g.length<2)){var _=g[1];if(Array.isArray(_)&&!(_.length<1)){var k=_[0];if(k!="noop"&&k!="stop"&&k!="close")for(let z=1;z<_.length;z++)_[z]=""}}}}return kh(M)}catch{return d}}var Vl={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Mg={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Vg;function Lh(){}m(Lh,Cg),Lh.prototype.g=function(){return new XMLHttpRequest},Vg=new Lh;function Da(o){return encodeURIComponent(String(o))}function c1(o){var d=1;o=o.split(":");const g=[];for(;d>0&&o.length;)g.push(o.shift()),d--;return o.length&&g.push(o.join(":")),g}function hi(o,d,g,_){this.j=o,this.i=d,this.l=g,this.S=_||1,this.V=new Aa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Lg}function Lg(){this.i=null,this.g="",this.h=!1}var Pg={},Ph={};function Uh(o,d,g){o.M=1,o.A=Pl(yn(d)),o.u=g,o.R=!0,Ug(o,null)}function Ug(o,d){o.F=Date.now(),Ll(o),o.B=yn(o.A);var g=o.B,_=o.S;Array.isArray(_)||(_=[String(_)]),Jg(g.i,"t",_),o.C=0,g=o.j.L,o.h=new Lg,o.g=gy(o.j,g?d:null,!o.u),o.P>0&&(o.O=new n1(h(o.Y,o,o.g),o.P)),d=o.V,g=o.g,_=o.ba;var k="readystatechange";Array.isArray(k)||(k&&(Ng[0]=k.toString()),k=Ng);for(let M=0;M<k.length;M++){const z=xg(g,k[M],_||d.handleEvent,!1,d.h||d);if(!z)break;d.g[z.key]=z}d=o.J?ps(o.J):{},o.u?(o.v||(o.v="POST"),d["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.B,o.v,o.u,d)):(o.v="GET",o.g.ea(o.B,o.v,null,d)),Ra(),r1(o.i,o.v,o.B,o.l,o.S,o.u)}hi.prototype.ba=function(o){o=o.target;const d=this.O;d&&mi(o)==3?d.j():this.Y(o)},hi.prototype.Y=function(o){try{if(o==this.g)e:{const ee=mi(this.g),Qe=this.g.ya(),ye=this.g.ca();if(!(ee<3)&&(ee!=3||this.g&&(this.h.h||this.g.la()||ry(this.g)))){this.K||ee!=4||Qe==7||(Qe==8||ye<=0?Ra(3):Ra(2)),zh(this);var d=this.g.ca();this.X=d;var g=u1(this);if(this.o=d==200,a1(this.i,this.v,this.B,this.l,this.S,ee,d),this.o){if(this.U&&!this.L){t:{if(this.g){var _,k=this.g;if((_=k.g?k.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(_)){var M=_;break t}}M=null}if(o=M)nr(this.i,this.l,o,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Bh(this,o);else{this.o=!1,this.m=3,bt(12),vs(this),ja(this);break e}}if(this.R){o=!0;let Ze;for(;!this.K&&this.C<g.length;)if(Ze=h1(this,g),Ze==Ph){ee==4&&(this.m=4,bt(14),o=!1),nr(this.i,this.l,null,"[Incomplete Response]");break}else if(Ze==Pg){this.m=4,bt(15),nr(this.i,this.l,g,"[Invalid Chunk]"),o=!1;break}else nr(this.i,this.l,Ze,null),Bh(this,Ze);if(zg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ee!=4||g.length!=0||this.h.h||(this.m=1,bt(16),o=!1),this.o=this.o&&o,!o)nr(this.i,this.l,g,"[Invalid Chunked Response]"),vs(this),ja(this);else if(g.length>0&&!this.W){this.W=!0;var z=this.j;z.g==this&&z.aa&&!z.P&&(z.j.info("Great, no buffering proxy detected. Bytes received: "+g.length),$h(z),z.P=!0,bt(11))}}else nr(this.i,this.l,g,null),Bh(this,g);ee==4&&vs(this),this.o&&!this.K&&(ee==4?dy(this.j,this):(this.o=!1,Ll(this)))}else S1(this.g),d==400&&g.indexOf("Unknown SID")>0?(this.m=3,bt(12)):(this.m=0,bt(13)),vs(this),ja(this)}}}catch{}finally{}};function u1(o){if(!zg(o))return o.g.la();const d=ry(o.g);if(d==="")return"";let g="";const _=d.length,k=mi(o.g)==4;if(!o.h.i){if(typeof TextDecoder>"u")return vs(o),ja(o),"";o.h.i=new a.TextDecoder}for(let M=0;M<_;M++)o.h.h=!0,g+=o.h.i.decode(d[M],{stream:!(k&&M==_-1)});return d.length=0,o.h.g+=g,o.C=0,o.h.g}function zg(o){return o.g?o.v=="GET"&&o.M!=2&&o.j.Aa:!1}function h1(o,d){var g=o.C,_=d.indexOf(`
`,g);return _==-1?Ph:(g=Number(d.substring(g,_)),isNaN(g)?Pg:(_+=1,_+g>d.length?Ph:(d=d.slice(_,_+g),o.C=_+g,d)))}hi.prototype.cancel=function(){this.K=!0,vs(this)};function Ll(o){o.T=Date.now()+o.H,Bg(o,o.H)}function Bg(o,d){if(o.D!=null)throw Error("WatchDog timer not null");o.D=Ca(h(o.aa,o),d)}function zh(o){o.D&&(a.clearTimeout(o.D),o.D=null)}hi.prototype.aa=function(){this.D=null;const o=Date.now();o-this.T>=0?(o1(this.i,this.B),this.M!=2&&(Ra(),bt(17)),vs(this),this.m=2,ja(this)):Bg(this,this.T-o)};function ja(o){o.j.I==0||o.K||dy(o.j,o)}function vs(o){zh(o);var d=o.O;d&&typeof d.dispose=="function"&&d.dispose(),o.O=null,Rg(o.V),o.g&&(d=o.g,o.g=null,d.abort(),d.dispose())}function Bh(o,d){try{var g=o.j;if(g.I!=0&&(g.g==o||qh(g.h,o))){if(!o.L&&qh(g.h,o)&&g.I==3){try{var _=g.Ba.g.parse(d)}catch{_=null}if(Array.isArray(_)&&_.length==3){var k=_;if(k[0]==0){e:if(!g.v){if(g.g)if(g.g.F+3e3<o.F)Hl(g),Bl(g);else break e;Qh(g),bt(18)}}else g.xa=k[1],0<g.xa-g.K&&k[2]<37500&&g.F&&g.A==0&&!g.C&&(g.C=Ca(h(g.Va,g),6e3));Fg(g.h)<=1&&g.ta&&(g.ta=void 0)}else Es(g,11)}else if((o.L||g.g==o)&&Hl(g),!S(d))for(k=g.Ba.g.parse(d),d=0;d<k.length;d++){let ye=k[d];const Ze=ye[0];if(!(Ze<=g.K))if(g.K=Ze,ye=ye[1],g.I==2)if(ye[0]=="c"){g.M=ye[1],g.ba=ye[2];const vn=ye[3];vn!=null&&(g.ka=vn,g.j.info("VER="+g.ka));const bs=ye[4];bs!=null&&(g.za=bs,g.j.info("SVER="+g.za));const pi=ye[5];pi!=null&&typeof pi=="number"&&pi>0&&(_=1.5*pi,g.O=_,g.j.info("backChannelRequestTimeoutMs_="+_)),_=g;const gi=o.g;if(gi){const Gl=gi.g?gi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gl){var M=_.h;M.g||Gl.indexOf("spdy")==-1&&Gl.indexOf("quic")==-1&&Gl.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(Hh(M,M.h),M.h=null))}if(_.G){const Xh=gi.g?gi.g.getResponseHeader("X-HTTP-Session-Id"):null;Xh&&(_.wa=Xh,xe(_.J,_.G,Xh))}}g.I=3,g.l&&g.l.ra(),g.aa&&(g.T=Date.now()-o.F,g.j.info("Handshake RTT: "+g.T+"ms")),_=g;var z=o;if(_.na=py(_,_.L?_.ba:null,_.W),z.L){Gg(_.h,z);var ee=z,Qe=_.O;Qe&&(ee.H=Qe),ee.D&&(zh(ee),Ll(ee)),_.g=z}else uy(_);g.i.length>0&&ql(g)}else ye[0]!="stop"&&ye[0]!="close"||Es(g,7);else g.I==3&&(ye[0]=="stop"||ye[0]=="close"?ye[0]=="stop"?Es(g,7):Yh(g):ye[0]!="noop"&&g.l&&g.l.qa(ye),g.A=0)}}Ra(4)}catch{}}var d1=class{constructor(o,d){this.g=o,this.map=d}};function qg(o){this.l=o||10,a.PerformanceNavigationTiming?(o=a.performance.getEntriesByType("navigation"),o=o.length>0&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Hg(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Fg(o){return o.h?1:o.g?o.g.size:0}function qh(o,d){return o.h?o.h==d:o.g?o.g.has(d):!1}function Hh(o,d){o.g?o.g.add(d):o.h=d}function Gg(o,d){o.h&&o.h==d?o.h=null:o.g&&o.g.has(d)&&o.g.delete(d)}qg.prototype.cancel=function(){if(this.i=Kg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Kg(o){if(o.h!=null)return o.i.concat(o.h.G);if(o.g!=null&&o.g.size!==0){let d=o.i;for(const g of o.g.values())d=d.concat(g.G);return d}return v(o.i)}var Yg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function f1(o,d){if(o){o=o.split("&");for(let g=0;g<o.length;g++){const _=o[g].indexOf("=");let k,M=null;_>=0?(k=o[g].substring(0,_),M=o[g].substring(_+1)):k=o[g],d(k,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function di(o){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let d;o instanceof di?(this.l=o.l,Oa(this,o.j),this.o=o.o,this.g=o.g,ka(this,o.u),this.h=o.h,Fh(this,Zg(o.i)),this.m=o.m):o&&(d=String(o).match(Yg))?(this.l=!1,Oa(this,d[1]||"",!0),this.o=Ma(d[2]||""),this.g=Ma(d[3]||"",!0),ka(this,d[4]),this.h=Ma(d[5]||"",!0),Fh(this,d[6]||"",!0),this.m=Ma(d[7]||"")):(this.l=!1,this.i=new La(null,this.l))}di.prototype.toString=function(){const o=[];var d=this.j;d&&o.push(Va(d,Qg,!0),":");var g=this.g;return(g||d=="file")&&(o.push("//"),(d=this.o)&&o.push(Va(d,Qg,!0),"@"),o.push(Da(g).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.u,g!=null&&o.push(":",String(g))),(g=this.h)&&(this.g&&g.charAt(0)!="/"&&o.push("/"),o.push(Va(g,g.charAt(0)=="/"?g1:p1,!0))),(g=this.i.toString())&&o.push("?",g),(g=this.m)&&o.push("#",Va(g,v1)),o.join("")},di.prototype.resolve=function(o){const d=yn(this);let g=!!o.j;g?Oa(d,o.j):g=!!o.o,g?d.o=o.o:g=!!o.g,g?d.g=o.g:g=o.u!=null;var _=o.h;if(g)ka(d,o.u);else if(g=!!o.h){if(_.charAt(0)!="/")if(this.g&&!this.h)_="/"+_;else{var k=d.h.lastIndexOf("/");k!=-1&&(_=d.h.slice(0,k+1)+_)}if(k=_,k==".."||k==".")_="";else if(k.indexOf("./")!=-1||k.indexOf("/.")!=-1){_=k.lastIndexOf("/",0)==0,k=k.split("/");const M=[];for(let z=0;z<k.length;){const ee=k[z++];ee=="."?_&&z==k.length&&M.push(""):ee==".."?((M.length>1||M.length==1&&M[0]!="")&&M.pop(),_&&z==k.length&&M.push("")):(M.push(ee),_=!0)}_=M.join("/")}else _=k}return g?d.h=_:g=o.i.toString()!=="",g?Fh(d,Zg(o.i)):g=!!o.m,g&&(d.m=o.m),d};function yn(o){return new di(o)}function Oa(o,d,g){o.j=g?Ma(d,!0):d,o.j&&(o.j=o.j.replace(/:$/,""))}function ka(o,d){if(d){if(d=Number(d),isNaN(d)||d<0)throw Error("Bad port number "+d);o.u=d}else o.u=null}function Fh(o,d,g){d instanceof La?(o.i=d,_1(o.i,o.l)):(g||(d=Va(d,y1)),o.i=new La(d,o.l))}function xe(o,d,g){o.i.set(d,g)}function Pl(o){return xe(o,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),o}function Ma(o,d){return o?d?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Va(o,d,g){return typeof o=="string"?(o=encodeURI(o).replace(d,m1),g&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function m1(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Qg=/[#\/\?@]/g,p1=/[#\?:]/g,g1=/[#\?]/g,y1=/[#\?@]/g,v1=/#/g;function La(o,d){this.h=this.g=null,this.i=o||null,this.j=!!d}function _s(o){o.g||(o.g=new Map,o.h=0,o.i&&f1(o.i,function(d,g){o.add(decodeURIComponent(d.replace(/\+/g," ")),g)}))}t=La.prototype,t.add=function(o,d){_s(this),this.i=null,o=ir(this,o);let g=this.g.get(o);return g||this.g.set(o,g=[]),g.push(d),this.h+=1,this};function $g(o,d){_s(o),d=ir(o,d),o.g.has(d)&&(o.i=null,o.h-=o.g.get(d).length,o.g.delete(d))}function Xg(o,d){return _s(o),d=ir(o,d),o.g.has(d)}t.forEach=function(o,d){_s(this),this.g.forEach(function(g,_){g.forEach(function(k){o.call(d,k,_,this)},this)},this)};function Wg(o,d){_s(o);let g=[];if(typeof d=="string")Xg(o,d)&&(g=g.concat(o.g.get(ir(o,d))));else for(o=Array.from(o.g.values()),d=0;d<o.length;d++)g=g.concat(o[d]);return g}t.set=function(o,d){return _s(this),this.i=null,o=ir(this,o),Xg(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[d]),this.h+=1,this},t.get=function(o,d){return o?(o=Wg(this,o),o.length>0?String(o[0]):d):d};function Jg(o,d,g){$g(o,d),g.length>0&&(o.i=null,o.g.set(ir(o,d),v(g)),o.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],d=Array.from(this.g.keys());for(let _=0;_<d.length;_++){var g=d[_];const k=Da(g);g=Wg(this,g);for(let M=0;M<g.length;M++){let z=k;g[M]!==""&&(z+="="+Da(g[M])),o.push(z)}}return this.i=o.join("&")};function Zg(o){const d=new La;return d.i=o.i,o.g&&(d.g=new Map(o.g),d.h=o.h),d}function ir(o,d){return d=String(d),o.j&&(d=d.toLowerCase()),d}function _1(o,d){d&&!o.j&&(_s(o),o.i=null,o.g.forEach(function(g,_){const k=_.toLowerCase();_!=k&&($g(this,_),Jg(this,k,g))},o)),o.j=d}function E1(o,d){const g=new Ia;if(a.Image){const _=new Image;_.onload=f(fi,g,"TestLoadImage: loaded",!0,d,_),_.onerror=f(fi,g,"TestLoadImage: error",!1,d,_),_.onabort=f(fi,g,"TestLoadImage: abort",!1,d,_),_.ontimeout=f(fi,g,"TestLoadImage: timeout",!1,d,_),a.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=o}else d(!1)}function b1(o,d){const g=new Ia,_=new AbortController,k=setTimeout(()=>{_.abort(),fi(g,"TestPingServer: timeout",!1,d)},1e4);fetch(o,{signal:_.signal}).then(M=>{clearTimeout(k),M.ok?fi(g,"TestPingServer: ok",!0,d):fi(g,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(k),fi(g,"TestPingServer: error",!1,d)})}function fi(o,d,g,_,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),_(g)}catch{}}function x1(){this.g=new s1}function Gh(o){this.i=o.Sb||null,this.h=o.ab||!1}m(Gh,Cg),Gh.prototype.g=function(){return new Ul(this.i,this.h)};function Ul(o,d){pt.call(this),this.H=o,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(Ul,pt),t=Ul.prototype,t.open=function(o,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=o,this.D=d,this.readyState=1,Ua(this)},t.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const d={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};o&&(d.body=o),(this.H||a).fetch(new Request(this.D,d)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Pa(this)),this.readyState=0},t.Pa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Ua(this)),this.g&&(this.readyState=3,Ua(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ey(this)}else o.text().then(this.Oa.bind(this),this.ga.bind(this))};function ey(o){o.j.read().then(o.Ma.bind(o)).catch(o.ga.bind(o))}t.Ma=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var d=o.value?o.value:new Uint8Array(0);(d=this.B.decode(d,{stream:!o.done}))&&(this.response=this.responseText+=d)}o.done?Pa(this):Ua(this),this.readyState==3&&ey(this)}},t.Oa=function(o){this.g&&(this.response=this.responseText=o,Pa(this))},t.Na=function(o){this.g&&(this.response=o,Pa(this))},t.ga=function(){this.g&&Pa(this)};function Pa(o){o.readyState=4,o.l=null,o.j=null,o.B=null,Ua(o)}t.setRequestHeader=function(o,d){this.A.append(o,d)},t.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],d=this.h.entries();for(var g=d.next();!g.done;)g=g.value,o.push(g[0]+": "+g[1]),g=d.next();return o.join(`\r
`)};function Ua(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Ul.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function ty(o){let d="";return _e(o,function(g,_){d+=_,d+=":",d+=g,d+=`\r
`}),d}function Kh(o,d,g){e:{for(_ in g){var _=!1;break e}_=!0}_||(g=ty(g),typeof o=="string"?g!=null&&Da(g):xe(o,d,g))}function De(o){pt.call(this),this.headers=new Map,this.L=o||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(De,pt);var T1=/^https?$/i,w1=["POST","PUT"];t=De.prototype,t.Fa=function(o){this.H=o},t.ea=function(o,d,g,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);d=d?d.toUpperCase():"GET",this.D=o,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Vg.g(),this.g.onreadystatechange=p(h(this.Ca,this));try{this.B=!0,this.g.open(d,String(o),!0),this.B=!1}catch(M){ny(this,M);return}if(o=g||"",g=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var k in _)g.set(k,_[k]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(const M of _.keys())g.set(M,_.get(M));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(g.keys()).find(M=>M.toLowerCase()=="content-type"),k=a.FormData&&o instanceof a.FormData,!(Array.prototype.indexOf.call(w1,d,void 0)>=0)||_||k||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[M,z]of g)this.g.setRequestHeader(M,z);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(o),this.v=!1}catch(M){ny(this,M)}};function ny(o,d){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=d,o.o=5,iy(o),zl(o)}function iy(o){o.A||(o.A=!0,Et(o,"complete"),Et(o,"error"))}t.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=o||7,Et(this,"complete"),Et(this,"abort"),zl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zl(this,!0)),De.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?sy(this):this.Xa())},t.Xa=function(){sy(this)};function sy(o){if(o.h&&typeof r<"u"){if(o.v&&mi(o)==4)setTimeout(o.Ca.bind(o),0);else if(Et(o,"readystatechange"),mi(o)==4){o.h=!1;try{const M=o.ca();e:switch(M){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var g;if(!(g=d)){var _;if(_=M===0){let z=String(o.D).match(Yg)[1]||null;!z&&a.self&&a.self.location&&(z=a.self.location.protocol.slice(0,-1)),_=!T1.test(z?z.toLowerCase():"")}g=_}if(g)Et(o,"complete"),Et(o,"success");else{o.o=6;try{var k=mi(o)>2?o.g.statusText:""}catch{k=""}o.l=k+" ["+o.ca()+"]",iy(o)}}finally{zl(o)}}}}function zl(o,d){if(o.g){o.m&&(clearTimeout(o.m),o.m=null);const g=o.g;o.g=null,d||Et(o,"ready");try{g.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function mi(o){return o.g?o.g.readyState:0}t.ca=function(){try{return mi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(o){if(this.g){var d=this.g.responseText;return o&&d.indexOf(o)==0&&(d=d.substring(o.length)),i1(d)}};function ry(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.F){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function S1(o){const d={};o=(o.g&&mi(o)>=2&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<o.length;_++){if(S(o[_]))continue;var g=c1(o[_]);const k=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const M=d[k]||[];d[k]=M,M.push(g)}ze(d,function(_){return _.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function za(o,d,g){return g&&g.internalChannelParams&&g.internalChannelParams[o]||d}function ay(o){this.za=0,this.i=[],this.j=new Ia,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=za("failFast",!1,o),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=za("baseRetryDelayMs",5e3,o),this.Za=za("retryDelaySeedMs",1e4,o),this.Ta=za("forwardChannelMaxRetries",2,o),this.va=za("forwardChannelRequestTimeoutMs",2e4,o),this.ma=o&&o.xmlHttpFactory||void 0,this.Ua=o&&o.Rb||void 0,this.Aa=o&&o.useFetchStreams||!1,this.O=void 0,this.L=o&&o.supportsCrossDomainXhr||!1,this.M="",this.h=new qg(o&&o.concurrentRequestLimit),this.Ba=new x1,this.S=o&&o.fastHandshake||!1,this.R=o&&o.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=o&&o.Pb||!1,o&&o.ua&&this.j.ua(),o&&o.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&o&&o.detectBufferingProxy||!1,this.ia=void 0,o&&o.longPollingTimeout&&o.longPollingTimeout>0&&(this.ia=o.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ay.prototype,t.ka=8,t.I=1,t.connect=function(o,d,g,_){bt(0),this.W=o,this.H=d||{},g&&_!==void 0&&(this.H.OSID=g,this.H.OAID=_),this.F=this.X,this.J=py(this,null,this.W),ql(this)};function Yh(o){if(oy(o),o.I==3){var d=o.V++,g=yn(o.J);if(xe(g,"SID",o.M),xe(g,"RID",d),xe(g,"TYPE","terminate"),Ba(o,g),d=new hi(o,o.j,d),d.M=2,d.A=Pl(yn(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(d.A.toString(),"")}catch{}!g&&a.Image&&(new Image().src=d.A,g=!0),g||(d.g=gy(d.j,null),d.g.ea(d.A)),d.F=Date.now(),Ll(d)}my(o)}function Bl(o){o.g&&($h(o),o.g.cancel(),o.g=null)}function oy(o){Bl(o),o.v&&(a.clearTimeout(o.v),o.v=null),Hl(o),o.h.cancel(),o.m&&(typeof o.m=="number"&&a.clearTimeout(o.m),o.m=null)}function ql(o){if(!Hg(o.h)&&!o.m){o.m=!0;var d=o.Ea;U||E(),q||(U(),q=!0),T.add(d,o),o.D=0}}function A1(o,d){return Fg(o.h)>=o.h.j-(o.m?1:0)?!1:o.m?(o.i=d.G.concat(o.i),!0):o.I==1||o.I==2||o.D>=(o.Sa?0:o.Ta)?!1:(o.m=Ca(h(o.Ea,o,d),fy(o,o.D)),o.D++,!0)}t.Ea=function(o){if(this.m)if(this.m=null,this.I==1){if(!o){this.V=Math.floor(Math.random()*1e5),o=this.V++;const k=new hi(this,this.j,o);let M=this.o;if(this.U&&(M?(M=ps(M),tr(M,this.U)):M=this.U),this.u!==null||this.R||(k.J=M,M=null),this.S)e:{for(var d=0,g=0;g<this.i.length;g++){t:{var _=this.i[g];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(d+=_,d>4096){d=g;break e}if(d===4096||g===this.i.length-1){d=g+1;break e}}d=1e3}else d=1e3;d=cy(this,k,d),g=yn(this.J),xe(g,"RID",o),xe(g,"CVER",22),this.G&&xe(g,"X-HTTP-Session-Id",this.G),Ba(this,g),M&&(this.R?d="headers="+Da(ty(M))+"&"+d:this.u&&Kh(g,this.u,M)),Hh(this.h,k),this.Ra&&xe(g,"TYPE","init"),this.S?(xe(g,"$req",d),xe(g,"SID","null"),k.U=!0,Uh(k,g,null)):Uh(k,g,d),this.I=2}}else this.I==3&&(o?ly(this,o):this.i.length==0||Hg(this.h)||ly(this))};function ly(o,d){var g;d?g=d.l:g=o.V++;const _=yn(o.J);xe(_,"SID",o.M),xe(_,"RID",g),xe(_,"AID",o.K),Ba(o,_),o.u&&o.o&&Kh(_,o.u,o.o),g=new hi(o,o.j,g,o.D+1),o.u===null&&(g.J=o.o),d&&(o.i=d.G.concat(o.i)),d=cy(o,g,1e3),g.H=Math.round(o.va*.5)+Math.round(o.va*.5*Math.random()),Hh(o.h,g),Uh(g,_,d)}function Ba(o,d){o.H&&_e(o.H,function(g,_){xe(d,_,g)}),o.l&&_e({},function(g,_){xe(d,_,g)})}function cy(o,d,g){g=Math.min(o.i.length,g);const _=o.l?h(o.l.Ka,o.l,o):null;e:{var k=o.i;let ee=-1;for(;;){const Qe=["count="+g];ee==-1?g>0?(ee=k[0].g,Qe.push("ofs="+ee)):ee=0:Qe.push("ofs="+ee);let ye=!0;for(let Ze=0;Ze<g;Ze++){var M=k[Ze].g;const vn=k[Ze].map;if(M-=ee,M<0)ee=Math.max(0,k[Ze].g-100),ye=!1;else try{M="req"+M+"_"||"";try{var z=vn instanceof Map?vn:Object.entries(vn);for(const[bs,pi]of z){let gi=pi;l(pi)&&(gi=kh(pi)),Qe.push(M+bs+"="+encodeURIComponent(gi))}}catch(bs){throw Qe.push(M+"type="+encodeURIComponent("_badmap")),bs}}catch{_&&_(vn)}}if(ye){z=Qe.join("&");break e}}z=void 0}return o=o.i.splice(0,g),d.G=o,z}function uy(o){if(!o.g&&!o.v){o.Y=1;var d=o.Da;U||E(),q||(U(),q=!0),T.add(d,o),o.A=0}}function Qh(o){return o.g||o.v||o.A>=3?!1:(o.Y++,o.v=Ca(h(o.Da,o),fy(o,o.A)),o.A++,!0)}t.Da=function(){if(this.v=null,hy(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var o=4*this.T;this.j.info("BP detection timer enabled: "+o),this.B=Ca(h(this.Wa,this),o)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,bt(10),Bl(this),hy(this))};function $h(o){o.B!=null&&(a.clearTimeout(o.B),o.B=null)}function hy(o){o.g=new hi(o,o.j,"rpc",o.Y),o.u===null&&(o.g.J=o.o),o.g.P=0;var d=yn(o.na);xe(d,"RID","rpc"),xe(d,"SID",o.M),xe(d,"AID",o.K),xe(d,"CI",o.F?"0":"1"),!o.F&&o.ia&&xe(d,"TO",o.ia),xe(d,"TYPE","xmlhttp"),Ba(o,d),o.u&&o.o&&Kh(d,o.u,o.o),o.O&&(o.g.H=o.O);var g=o.g;o=o.ba,g.M=1,g.A=Pl(yn(d)),g.u=null,g.R=!0,Ug(g,o)}t.Va=function(){this.C!=null&&(this.C=null,Bl(this),Qh(this),bt(19))};function Hl(o){o.C!=null&&(a.clearTimeout(o.C),o.C=null)}function dy(o,d){var g=null;if(o.g==d){Hl(o),$h(o),o.g=null;var _=2}else if(qh(o.h,d))g=d.G,Gg(o.h,d),_=1;else return;if(o.I!=0){if(d.o)if(_==1){g=d.u?d.u.length:0,d=Date.now()-d.F;var k=o.D;_=Ml(),Et(_,new kg(_,g)),ql(o)}else uy(o);else if(k=d.m,k==3||k==0&&d.X>0||!(_==1&&A1(o,d)||_==2&&Qh(o)))switch(g&&g.length>0&&(d=o.h,d.i=d.i.concat(g)),k){case 1:Es(o,5);break;case 4:Es(o,10);break;case 3:Es(o,6);break;default:Es(o,2)}}}function fy(o,d){let g=o.Qa+Math.floor(Math.random()*o.Za);return o.isActive()||(g*=2),g*d}function Es(o,d){if(o.j.info("Error code "+d),d==2){var g=h(o.bb,o),_=o.Ua;const k=!_;_=new di(_||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Oa(_,"https"),Pl(_),k?E1(_.toString(),g):b1(_.toString(),g)}else bt(2);o.I=0,o.l&&o.l.pa(d),my(o),oy(o)}t.bb=function(o){o?(this.j.info("Successfully pinged google.com"),bt(2)):(this.j.info("Failed to ping google.com"),bt(1))};function my(o){if(o.I=0,o.ja=[],o.l){const d=Kg(o.h);(d.length!=0||o.i.length!=0)&&(R(o.ja,d),R(o.ja,o.i),o.h.i.length=0,v(o.i),o.i.length=0),o.l.oa()}}function py(o,d,g){var _=g instanceof di?yn(g):new di(g);if(_.g!="")d&&(_.g=d+"."+_.g),ka(_,_.u);else{var k=a.location;_=k.protocol,d=d?d+"."+k.hostname:k.hostname,k=+k.port;const M=new di(null);_&&Oa(M,_),d&&(M.g=d),k&&ka(M,k),g&&(M.h=g),_=M}return g=o.G,d=o.wa,g&&d&&xe(_,g,d),xe(_,"VER",o.ka),Ba(o,_),_}function gy(o,d,g){if(d&&!o.L)throw Error("Can't create secondary domain capable XhrIo object.");return d=o.Aa&&!o.ma?new De(new Gh({ab:g})):new De(o.ma),d.Fa(o.L),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function yy(){}t=yy.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Fl(){}Fl.prototype.g=function(o,d){return new Mt(o,d)};function Mt(o,d){pt.call(this),this.g=new ay(d),this.l=o,this.h=d&&d.messageUrlParams||null,o=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(o?o["X-WebChannel-Content-Type"]=d.messageContentType:o={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.sa&&(o?o["X-WebChannel-Client-Profile"]=d.sa:o={"X-WebChannel-Client-Profile":d.sa}),this.g.U=o,(o=d&&d.Qb)&&!S(o)&&(this.g.u=o),this.A=d&&d.supportsCrossDomainXhr||!1,this.v=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!S(d)&&(this.g.G=d,o=this.h,o!==null&&d in o&&(o=this.h,d in o&&delete o[d])),this.j=new sr(this)}m(Mt,pt),Mt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Mt.prototype.close=function(){Yh(this.g)},Mt.prototype.o=function(o){var d=this.g;if(typeof o=="string"){var g={};g.__data__=o,o=g}else this.v&&(g={},g.__data__=kh(o),o=g);d.i.push(new d1(d.Ya++,o)),d.I==3&&ql(d)},Mt.prototype.N=function(){this.g.l=null,delete this.j,Yh(this.g),delete this.g,Mt.Z.N.call(this)};function vy(o){Mh.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var d=o.__sm__;if(d){e:{for(const g in d){o=g;break e}o=void 0}(this.i=o)&&(o=this.i,d=d!==null&&o in d?d[o]:void 0),this.data=d}else this.data=o}m(vy,Mh);function _y(){Vh.call(this),this.status=1}m(_y,Vh);function sr(o){this.g=o}m(sr,yy),sr.prototype.ra=function(){Et(this.g,"a")},sr.prototype.qa=function(o){Et(this.g,new vy(o))},sr.prototype.pa=function(o){Et(this.g,new _y)},sr.prototype.oa=function(){Et(this.g,"b")},Fl.prototype.createWebChannel=Fl.prototype.g,Mt.prototype.send=Mt.prototype.o,Mt.prototype.open=Mt.prototype.m,Mt.prototype.close=Mt.prototype.close,ZT=function(){return new Fl},JT=function(){return Ml()},WT=ys,rm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Vl.NO_ERROR=0,Vl.TIMEOUT=8,Vl.HTTP_ERROR=6,Vc=Vl,Mg.COMPLETE="complete",XT=Mg,Ig.EventType=Na,Na.OPEN="a",Na.CLOSE="b",Na.ERROR="c",Na.MESSAGE="d",pt.prototype.listen=pt.prototype.J,so=Ig,De.prototype.listenOnce=De.prototype.K,De.prototype.getLastError=De.prototype.Ha,De.prototype.getLastErrorCode=De.prototype.ya,De.prototype.getStatus=De.prototype.ca,De.prototype.getResponseJson=De.prototype.La,De.prototype.getResponseText=De.prototype.la,De.prototype.send=De.prototype.ea,De.prototype.setWithCredentials=De.prototype.Fa,$T=De}).apply(typeof uc<"u"?uc:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yt.UNAUTHENTICATED=new yt(null),yt.GOOGLE_CREDENTIALS=new yt("google-credentials-uid"),yt.FIRST_PARTY=new yt("first-party-uid"),yt.MOCK_USER=new yt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ea="12.8.0";function nj(t){Ea=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs=new Cp("@firebase/firestore");function ur(){return Hs.logLevel}function F(t,...e){if(Hs.logLevel<=se.DEBUG){const n=e.map(zp);Hs.debug(`Firestore (${Ea}): ${t}`,...n)}}function ai(t,...e){if(Hs.logLevel<=se.ERROR){const n=e.map(zp);Hs.error(`Firestore (${Ea}): ${t}`,...n)}}function Zr(t,...e){if(Hs.logLevel<=se.WARN){const n=e.map(zp);Hs.warn(`Firestore (${Ea}): ${t}`,...n)}}function zp(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,ew(t,i,n)}function ew(t,e,n){let i=`FIRESTORE (${Ea}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw ai(i),new Error(i)}function de(t,e,n,i){let s="Unexpected state";typeof n=="string"?s=n:i=n,t||ew(e,s,i)}function X(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class B extends ci{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ij{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(yt.UNAUTHENTICATED))}shutdown(){}}class sj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class rj{constructor(e){this.t=e,this.currentUser=yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){de(this.o===void 0,42304);let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let r=new $i;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new $i,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=r;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{F("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(F("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new $i)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(F("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(de(typeof i.accessToken=="string",31837,{l:i}),new tw(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return de(e===null||typeof e=="string",2055,{h:e}),new yt(e)}}class aj{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=yt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class oj{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new aj(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class O_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lj{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,un(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){de(this.o===void 0,3512);const i=r=>{r.error!=null&&F("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const a=r.token!==this.m;return this.m=r.token,F("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(r.token):Promise.resolve()};this.o=r=>{e.enqueueRetryable(()=>i(r))};const s=r=>{F("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(r=>s(r)),setTimeout(()=>{if(!this.appCheck){const r=this.V.getImmediate({optional:!0});r?s(r):F("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new O_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(de(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new O_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cj(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=cj(40);for(let r=0;r<s.length;++r)i.length<20&&s[r]<n&&(i+=e.charAt(s[r]%62))}return i}}function re(t,e){return t<e?-1:t>e?1:0}function am(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const s=t.charAt(i),r=e.charAt(i);if(s!==r)return Fd(s)===Fd(r)?re(s,r):Fd(s)?1:-1}return re(t.length,e.length)}const uj=55296,hj=57343;function Fd(t){const e=t.charCodeAt(0);return e>=uj&&e<=hj}function ea(t,e,n){return t.length===e.length&&t.every((i,s)=>n(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_="__name__";class _n{constructor(e,n,i){n===void 0?n=0:n>e.length&&Y(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Y(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return _n.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof _n?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let s=0;s<i;s++){const r=_n.compareSegments(e.get(s),n.get(s));if(r!==0)return r}return re(e.length,n.length)}static compareSegments(e,n){const i=_n.isNumericId(e),s=_n.isNumericId(n);return i&&!s?-1:!i&&s?1:i&&s?_n.extractNumericId(e).compare(_n.extractNumericId(n)):am(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qi.fromString(e.substring(4,e.length-2))}}class Ee extends _n{construct(e,n,i){return new Ee(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new B(V.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new Ee(n)}static emptyPath(){return new Ee([])}}const dj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ut extends _n{construct(e,n,i){return new ut(e,n,i)}static isValidIdentifier(e){return dj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ut.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===k_}static keyField(){return new ut([k_])}static fromServerFormat(e){const n=[];let i="",s=0;const r=()=>{if(i.length===0)throw new B(V.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new B(V.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new B(V.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,s+=2}else l==="`"?(a=!a,s++):l!=="."||a?(i+=l,s++):(r(),s++)}if(r(),a)throw new B(V.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ut(n)}static emptyPath(){return new ut([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.path=e}static fromPath(e){return new G(Ee.fromString(e))}static fromName(e){return new G(Ee.fromString(e).popFirst(5))}static empty(){return new G(Ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ee.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ee.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new G(new Ee(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nw(t,e,n){if(!n)throw new B(V.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function fj(t,e,n,i){if(e===!0&&i===!0)throw new B(V.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function M_(t){if(!G.isDocumentKey(t))throw new B(V.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function V_(t){if(G.isDocumentKey(t))throw new B(V.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function iw(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function lh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Y(12329,{type:typeof t})}function dn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new B(V.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=lh(t);throw new B(V.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ye(t,e){const n={typeString:t};return e&&(n.value=e),n}function Sl(t,e){if(!iw(t))throw new B(V.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const s=e[i].typeString,r="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const a=t[i];if(s&&typeof a!==s){n=`JSON field '${i}' must be a ${s}.`;break}if(r!==void 0&&a!==r.value){n=`Expected '${i}' field to equal '${r.value}'`;break}}if(n)throw new B(V.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_=-62135596800,P_=1e6;class Se{static now(){return Se.fromMillis(Date.now())}static fromDate(e){return Se.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*P_);return new Se(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new B(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new B(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<L_)throw new B(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new B(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/P_}_compareTo(e){return this.seconds===e.seconds?re(this.nanoseconds,e.nanoseconds):re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Sl(e,Se._jsonSchema))return new Se(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-L_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Se._jsonSchemaVersion="firestore/timestamp/1.0",Se._jsonSchema={type:Ye("string",Se._jsonSchemaVersion),seconds:Ye("number"),nanoseconds:Ye("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${static fromTimestamp(e){return new $(e)}static min(){return new $(new Se(0,0))}static max(){return new $(new Se(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo=-1;function mj(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,s=$.fromTimestamp(i===1e9?new Se(n+1,0):new Se(n,i));return new ts(s,G.empty(),e)}function pj(t){return new ts(t.readTime,t.key,Yo)}class ts{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new ts($.min(),G.empty(),Yo)}static max(){return new ts($.max(),G.empty(),Yo)}}function gj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=G.comparator(t.documentKey,e.documentKey),n!==0?n:re(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ba(t){if(t.code!==V.FAILED_PRECONDITION||t.message!==yj)throw t;F("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Y(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new P((i,s)=>{this.nextCallback=r=>{this.wrapSuccess(e,r).next(i,s)},this.catchCallback=r=>{this.wrapFailure(n,r).next(i,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof P?n:P.resolve(n)}catch(n){return P.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):P.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):P.reject(n)}static resolve(e){return new P((n,i)=>{n(e)})}static reject(e){return new P((n,i)=>{i(e)})}static waitFor(e){return new P((n,i)=>{let s=0,r=0,a=!1;e.forEach(l=>{++s,l.next(()=>{++r,a&&r===s&&n()},c=>i(c))}),a=!0,r===s&&n()})}static or(e){let n=P.resolve(!1);for(const i of e)n=n.next(s=>s?P.resolve(s):i());return n}static forEach(e,n){const i=[];return e.forEach((s,r)=>{i.push(n.call(this,s,r))}),this.waitFor(i)}static mapArray(e,n){return new P((i,s)=>{const r=e.length,a=new Array(r);let l=0;for(let c=0;c<r;c++){const h=c;n(e[h]).next(f=>{a[h]=f,++l,l===r&&i(a)},f=>s(f))}})}static doWhile(e,n){return new P((i,s)=>{const r=()=>{e()===!0?n().next(()=>{r()},s):i()};r()})}}function _j(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function xa(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ch.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp=-1;function uh(t){return t==null}function Au(t){return t===0&&1/t==-1/0}function Ej(t){return typeof t=="number"&&Number.isInteger(t)&&!Au(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw="";function bj(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=U_(e)),e=xj(t.get(n),e);return U_(e)}function xj(t,e){let n=e;const i=t.length;for(let s=0;s<i;s++){const r=t.charAt(s);switch(r){case"\0":n+="";break;case sw:n+="";break;default:n+=r}}return n}function U_(t){return t+sw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function fs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function rw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e,n){this.comparator=e,this.root=n||at.EMPTY}insert(e,n){return new Ie(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,at.BLACK,null,null))}remove(e){return new Ie(this.comparator,this.root.remove(e,this.comparator).copy(null,null,at.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hc(this.root,e,this.comparator,!1)}getReverseIterator(){return new hc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hc(this.root,e,this.comparator,!0)}}class hc{constructor(e,n,i,s){this.isReverse=s,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=n?i(e.key,n):1,n&&s&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(r===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class at{constructor(e,n,i,s,r){this.key=e,this.value=n,this.color=i??at.RED,this.left=s??at.EMPTY,this.right=r??at.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,s,r){return new at(e??this.key,n??this.value,i??this.color,s??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const r=i(e,s.key);return s=r<0?s.copy(null,null,null,s.left.insert(e,n,i),null):r===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return at.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return at.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,at.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,at.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Y(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Y(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Y(27949);return e+(this.isRed()?0:1)}}at.EMPTY=null,at.RED=!0,at.BLACK=!1;at.EMPTY=new class{constructor(){this.size=0}get key(){throw Y(57766)}get value(){throw Y(16141)}get color(){throw Y(16727)}get left(){throw Y(29726)}get right(){throw Y(36894)}copy(e,n,i,s,r){return this}insert(e,n,i){return new at(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e){this.comparator=e,this.data=new Ie(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new B_(this.data.getIterator())}getIteratorFrom(e){return new B_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof We)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(this.comparator(s,r)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new We(this.comparator);return n.data=e,n}}class B_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.fields=e,e.sort(ut.comparator)}static empty(){return new zt([])}unionWith(e){let n=new We(ut.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new zt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ea(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new aw("Invalid base64 string: "+r):r}}(e);return new ft(n)}static fromUint8Array(e){const n=function(s){let r="";for(let a=0;a<s.length;++a)r+=String.fromCharCode(s[a]);return r}(e);return new ft(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ft.EMPTY_BYTE_STRING=new ft("");const Tj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ns(t){if(de(!!t,39018),typeof t=="string"){let e=0;const n=Tj.exec(t);if(de(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Me(t.seconds),nanos:Me(t.nanos)}}function Me(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function is(t){return typeof t=="string"?ft.fromBase64String(t):ft.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow="server_timestamp",lw="__type__",cw="__previous_value__",uw="__local_write_time__";function Hp(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[lw])==null?void 0:i.stringValue)===ow}function hh(t){const e=t.mapValue.fields[cw];return Hp(e)?hh(e):e}function Qo(t){const e=ns(t.mapValue.fields[uw].timestampValue);return new Se(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{constructor(e,n,i,s,r,a,l,c,h,f,m){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=r,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=h,this.isUsingEmulator=f,this.apiKey=m}}const Nu="(default)";class $o{constructor(e,n){this.projectId=e,this.database=n||Nu}static empty(){return new $o("","")}get isDefaultDatabase(){return this.database===Nu}isEqual(e){return e instanceof $o&&e.projectId===this.projectId&&e.database===this.database}}function Sj(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new B(V.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $o(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw="__type__",Aj="__max__",dc={mapValue:{}},dw="__vector__",Ru="value";function ss(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Hp(t)?4:Rj(t)?9007199254740991:Nj(t)?10:11:Y(28295,{value:t})}function Dn(t,e){if(t===e)return!0;const n=ss(t);if(n!==ss(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Qo(t).isEqual(Qo(e));case 3:return function(s,r){if(typeof s.timestampValue=="string"&&typeof r.timestampValue=="string"&&s.timestampValue.length===r.timestampValue.length)return s.timestampValue===r.timestampValue;const a=ns(s.timestampValue),l=ns(r.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,r){return is(s.bytesValue).isEqual(is(r.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,r){return Me(s.geoPointValue.latitude)===Me(r.geoPointValue.latitude)&&Me(s.geoPointValue.longitude)===Me(r.geoPointValue.longitude)}(t,e);case 2:return function(s,r){if("integerValue"in s&&"integerValue"in r)return Me(s.integerValue)===Me(r.integerValue);if("doubleValue"in s&&"doubleValue"in r){const a=Me(s.doubleValue),l=Me(r.doubleValue);return a===l?Au(a)===Au(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return ea(t.arrayValue.values||[],e.arrayValue.values||[],Dn);case 10:case 11:return function(s,r){const a=s.mapValue.fields||{},l=r.mapValue.fields||{};if(z_(a)!==z_(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!Dn(a[c],l[c])))return!1;return!0}(t,e);default:return Y(52216,{left:t})}}function Xo(t,e){return(t.values||[]).find(n=>Dn(n,e))!==void 0}function ta(t,e){if(t===e)return 0;const n=ss(t),i=ss(e);if(n!==i)return re(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return re(t.booleanValue,e.booleanValue);case 2:return function(r,a){const l=Me(r.integerValue||r.doubleValue),c=Me(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return q_(t.timestampValue,e.timestampValue);case 4:return q_(Qo(t),Qo(e));case 5:return am(t.stringValue,e.stringValue);case 6:return function(r,a){const l=is(r),c=is(a);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(r,a){const l=r.split("/"),c=a.split("/");for(let h=0;h<l.length&&h<c.length;h++){const f=re(l[h],c[h]);if(f!==0)return f}return re(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(r,a){const l=re(Me(r.latitude),Me(a.latitude));return l!==0?l:re(Me(r.longitude),Me(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return H_(t.arrayValue,e.arrayValue);case 10:return function(r,a){var p,v,R,D;const l=r.fields||{},c=a.fields||{},h=(p=l[Ru])==null?void 0:p.arrayValue,f=(v=c[Ru])==null?void 0:v.arrayValue,m=re(((R=h==null?void 0:h.values)==null?void 0:R.length)||0,((D=f==null?void 0:f.values)==null?void 0:D.length)||0);return m!==0?m:H_(h,f)}(t.mapValue,e.mapValue);case 11:return function(r,a){if(r===dc.mapValue&&a===dc.mapValue)return 0;if(r===dc.mapValue)return 1;if(a===dc.mapValue)return-1;const l=r.fields||{},c=Object.keys(l),h=a.fields||{},f=Object.keys(h);c.sort(),f.sort();for(let m=0;m<c.length&&m<f.length;++m){const p=am(c[m],f[m]);if(p!==0)return p;const v=ta(l[c[m]],h[f[m]]);if(v!==0)return v}return re(c.length,f.length)}(t.mapValue,e.mapValue);default:throw Y(23264,{he:n})}}function q_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return re(t,e);const n=ns(t),i=ns(e),s=re(n.seconds,i.seconds);return s!==0?s:re(n.nanos,i.nanos)}function H_(t,e){const n=t.values||[],i=e.values||[];for(let s=0;s<n.length&&s<i.length;++s){const r=ta(n[s],i[s]);if(r)return r}return re(n.length,i.length)}function na(t){return om(t)}function om(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=ns(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return is(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return G.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",s=!0;for(const r of n.values||[])s?s=!1:i+=",",i+=om(r);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let s="{",r=!0;for(const a of i)r?r=!1:s+=",",s+=`${a}:${om(n.fields[a])}`;return s+"}"}(t.mapValue):Y(61005,{value:t})}function Lc(t){switch(ss(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=hh(t);return e?16+Lc(e):16;case 5:return 2*t.stringValue.length;case 6:return is(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,r)=>s+Lc(r),0)}(t.arrayValue);case 10:case 11:return function(i){let s=0;return fs(i.fields,(r,a)=>{s+=r.length+Lc(a)}),s}(t.mapValue);default:throw Y(13486,{value:t})}}function F_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function lm(t){return!!t&&"integerValue"in t}function Fp(t){return!!t&&"arrayValue"in t}function G_(t){return!!t&&"nullValue"in t}function K_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Pc(t){return!!t&&"mapValue"in t}function Nj(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[hw])==null?void 0:i.stringValue)===dw}function So(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return fs(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=So(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=So(t.arrayValue.values[n]);return e}return{...t}}function Rj(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Aj}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.value=e}static empty(){return new It({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Pc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=So(n)}setAll(e){let n=ut.emptyPath(),i={},s=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,i,s),i={},s=[],n=l.popLast()}a?i[l.lastSegment()]=So(a):s.push(l.lastSegment())});const r=this.getFieldsMap(n);this.applyChanges(r,i,s)}delete(e){const n=this.field(e.popLast());Pc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Dn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=n.mapValue.fields[e.get(i)];Pc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,i){fs(n,(s,r)=>e[s]=r);for(const s of i)delete e[s]}clone(){return new It(So(this.value))}}function fw(t){const e=[];return fs(t.fields,(n,i)=>{const s=new ut([n]);if(Pc(i)){const r=fw(i.mapValue).fields;if(r.length===0)e.push(s);else for(const a of r)e.push(s.child(a))}else e.push(s)}),new zt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,n,i,s,r,a,l){this.key=e,this.documentType=n,this.version=i,this.readTime=s,this.createTime=r,this.data=a,this.documentState=l}static newInvalidDocument(e){return new vt(e,0,$.min(),$.min(),$.min(),It.empty(),0)}static newFoundDocument(e,n,i,s){return new vt(e,1,n,$.min(),i,s,0)}static newNoDocument(e,n){return new vt(e,2,n,$.min(),$.min(),It.empty(),0)}static newUnknownDocument(e,n){return new vt(e,3,n,$.min(),$.min(),It.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual($.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=It.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=It.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,n){this.position=e,this.inclusive=n}}function Y_(t,e,n){let i=0;for(let s=0;s<t.position.length;s++){const r=e[s],a=t.position[s];if(r.field.isKeyField()?i=G.comparator(G.fromName(a.referenceValue),n.key):i=ta(a,n.data.field(r.field)),r.dir==="desc"&&(i*=-1),i!==0)break}return i}function Q_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Dn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,n="asc"){this.field=e,this.dir=n}}function Cj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{}class Ge extends mw{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new Dj(e,n,i):n==="array-contains"?new kj(e,i):n==="in"?new Mj(e,i):n==="not-in"?new Vj(e,i):n==="array-contains-any"?new Lj(e,i):new Ge(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new jj(e,i):new Oj(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ta(n,this.value)):n!==null&&ss(this.value)===ss(n)&&this.matchesComparison(ta(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Y(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pn extends mw{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new pn(e,n)}matches(e){return pw(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function pw(t){return t.op==="and"}function gw(t){return Ij(t)&&pw(t)}function Ij(t){for(const e of t.filters)if(e instanceof pn)return!1;return!0}function cm(t){if(t instanceof Ge)return t.field.canonicalString()+t.op.toString()+na(t.value);if(gw(t))return t.filters.map(e=>cm(e)).join(",");{const e=t.filters.map(n=>cm(n)).join(",");return`${t.op}(${e})`}}function yw(t,e){return t instanceof Ge?function(i,s){return s instanceof Ge&&i.op===s.op&&i.field.isEqual(s.field)&&Dn(i.value,s.value)}(t,e):t instanceof pn?function(i,s){return s instanceof pn&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((r,a,l)=>r&&yw(a,s.filters[l]),!0):!1}(t,e):void Y(19439)}function vw(t){return t instanceof Ge?function(n){return`${n.field.canonicalString()} ${n.op} ${na(n.value)}`}(t):t instanceof pn?function(n){return n.op.toString()+" {"+n.getFilters().map(vw).join(" ,")+"}"}(t):"Filter"}class Dj extends Ge{constructor(e,n,i){super(e,n,i),this.key=G.fromName(i.referenceValue)}matches(e){const n=G.comparator(e.key,this.key);return this.matchesComparison(n)}}class jj extends Ge{constructor(e,n){super(e,"in",n),this.keys=_w("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Oj extends Ge{constructor(e,n){super(e,"not-in",n),this.keys=_w("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function _w(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(i=>G.fromName(i.referenceValue))}class kj extends Ge{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Fp(n)&&Xo(n.arrayValue,this.value)}}class Mj extends Ge{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xo(this.value.arrayValue,n)}}class Vj extends Ge{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Xo(this.value.arrayValue,n)}}class Lj extends Ge{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Fp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Xo(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{constructor(e,n=null,i=[],s=[],r=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=r,this.startAt=a,this.endAt=l,this.Te=null}}function $_(t,e=null,n=[],i=[],s=null,r=null,a=null){return new Pj(t,e,n,i,s,r,a)}function Gp(t){const e=X(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>cm(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(r){return r.field.canonicalString()+r.dir}(i)).join(","),uh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>na(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>na(i)).join(",")),e.Te=n}return e.Te}function Kp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Cj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!yw(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Q_(t.startAt,e.startAt)&&Q_(t.endAt,e.endAt)}function um(t){return G.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e,n=null,i=[],s=[],r=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=r,this.limitType=a,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Uj(t,e,n,i,s,r,a,l){return new Ta(t,e,n,i,s,r,a,l)}function dh(t){return new Ta(t)}function X_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function zj(t){return G.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Ew(t){return t.collectionGroup!==null}function Ao(t){const e=X(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const r of e.explicitOrderBy)e.Ie.push(r),n.add(r.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new We(ut.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(e).forEach(r=>{n.has(r.canonicalString())||r.isKeyField()||e.Ie.push(new Wo(r,i))}),n.has(ut.keyField().canonicalString())||e.Ie.push(new Wo(ut.keyField(),i))}return e.Ie}function Nn(t){const e=X(t);return e.Ee||(e.Ee=Bj(e,Ao(t))),e.Ee}function Bj(t,e){if(t.limitType==="F")return $_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const r=s.dir==="desc"?"asc":"desc";return new Wo(s.field,r)});const n=t.endAt?new Cu(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Cu(t.startAt.position,t.startAt.inclusive):null;return $_(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function hm(t,e){const n=t.filters.concat([e]);return new Ta(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function qj(t,e){const n=t.explicitOrderBy.concat([e]);return new Ta(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function dm(t,e,n){return new Ta(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function fh(t,e){return Kp(Nn(t),Nn(e))&&t.limitType===e.limitType}function bw(t){return`${Gp(Nn(t))}|lt:${t.limitType}`}function hr(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(s=>vw(s)).join(", ")}]`),uh(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>na(s)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>na(s)).join(",")),`Target(${i})`}(Nn(t))}; limitType=${t.limitType})`}function mh(t,e){return e.isFoundDocument()&&function(i,s){const r=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(r):G.isDocumentKey(i.path)?i.path.isEqual(r):i.path.isImmediateParentOf(r)}(t,e)&&function(i,s){for(const r of Ao(i))if(!r.field.isKeyField()&&s.data.field(r.field)===null)return!1;return!0}(t,e)&&function(i,s){for(const r of i.filters)if(!r.matches(s))return!1;return!0}(t,e)&&function(i,s){return!(i.startAt&&!function(a,l,c){const h=Y_(a,l,c);return a.inclusive?h<=0:h<0}(i.startAt,Ao(i),s)||i.endAt&&!function(a,l,c){const h=Y_(a,l,c);return a.inclusive?h>=0:h>0}(i.endAt,Ao(i),s))}(t,e)}function Hj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function xw(t){return(e,n)=>{let i=!1;for(const s of Ao(t)){const r=Fj(s,e,n);if(r!==0)return r;i=i||s.field.isKeyField()}return 0}}function Fj(t,e,n){const i=t.field.isKeyField()?G.comparator(e.key,n.key):function(r,a,l){const c=a.data.field(r),h=l.data.field(r);return c!==null&&h!==null?ta(c,h):Y(42886)}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Y(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[s,r]of i)if(this.equalsFn(s,e))return r}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return void(s[r]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){fs(this.inner,(n,i)=>{for(const[s,r]of i)e(s,r)})}isEmpty(){return rw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gj=new Ie(G.comparator);function oi(){return Gj}const Tw=new Ie(G.comparator);function ro(...t){let e=Tw;for(const n of t)e=e.insert(n.key,n);return e}function ww(t){let e=Tw;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Rs(){return No()}function Sw(){return No()}function No(){return new Js(t=>t.toString(),(t,e)=>t.isEqual(e))}const Kj=new Ie(G.comparator),Yj=new We(G.comparator);function ae(...t){let e=Yj;for(const n of t)e=e.add(n);return e}const Qj=new We(re);function $j(){return Qj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yp(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Au(e)?"-0":e}}function Aw(t){return{integerValue:""+t}}function Nw(t,e){return Ej(e)?Aw(e):Yp(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(){this._=void 0}}function Xj(t,e,n){return t instanceof Jo?function(s,r){const a={fields:{[lw]:{stringValue:ow},[uw]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return r&&Hp(r)&&(r=hh(r)),r&&(a.fields[cw]=r),{mapValue:a}}(n,e):t instanceof Zo?Cw(t,e):t instanceof el?Iw(t,e):function(s,r){const a=Rw(s,r),l=W_(a)+W_(s.Ae);return lm(a)&&lm(s.Ae)?Aw(l):Yp(s.serializer,l)}(t,e)}function Wj(t,e,n){return t instanceof Zo?Cw(t,e):t instanceof el?Iw(t,e):n}function Rw(t,e){return t instanceof tl?function(i){return lm(i)||function(r){return!!r&&"doubleValue"in r}(i)}(e)?e:{integerValue:0}:null}class Jo extends ph{}class Zo extends ph{constructor(e){super(),this.elements=e}}function Cw(t,e){const n=Dw(e);for(const i of t.elements)n.some(s=>Dn(s,i))||n.push(i);return{arrayValue:{values:n}}}class el extends ph{constructor(e){super(),this.elements=e}}function Iw(t,e){let n=Dw(e);for(const i of t.elements)n=n.filter(s=>!Dn(s,i));return{arrayValue:{values:n}}}class tl extends ph{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function W_(t){return Me(t.integerValue||t.doubleValue)}function Dw(t){return Fp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e,n){this.field=e,this.transform=n}}function Jj(t,e){return t.field.isEqual(e.field)&&function(i,s){return i instanceof Zo&&s instanceof Zo||i instanceof el&&s instanceof el?ea(i.elements,s.elements,Dn):i instanceof tl&&s instanceof tl?Dn(i.Ae,s.Ae):i instanceof Jo&&s instanceof Jo}(t.transform,e.transform)}class Zj{constructor(e,n){this.version=e,this.transformResults=n}}class jt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new jt}static exists(e){return new jt(void 0,e)}static updateTime(e){return new jt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Uc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class gh{}function Ow(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new yh(t.key,jt.none()):new Al(t.key,t.data,jt.none());{const n=t.data,i=It.empty();let s=new We(ut.comparator);for(let r of e.fields)if(!s.has(r)){let a=n.field(r);a===null&&r.length>1&&(r=r.popLast(),a=n.field(r)),a===null?i.delete(r):i.set(r,a),s=s.add(r)}return new ms(t.key,i,new zt(s.toArray()),jt.none())}}function eO(t,e,n){t instanceof Al?function(s,r,a){const l=s.value.clone(),c=Z_(s.fieldTransforms,r,a.transformResults);l.setAll(c),r.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof ms?function(s,r,a){if(!Uc(s.precondition,r))return void r.convertToUnknownDocument(a.version);const l=Z_(s.fieldTransforms,r,a.transformResults),c=r.data;c.setAll(kw(s)),c.setAll(l),r.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):function(s,r,a){r.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Ro(t,e,n,i){return t instanceof Al?function(r,a,l,c){if(!Uc(r.precondition,a))return l;const h=r.value.clone(),f=e0(r.fieldTransforms,c,a);return h.setAll(f),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null}(t,e,n,i):t instanceof ms?function(r,a,l,c){if(!Uc(r.precondition,a))return l;const h=e0(r.fieldTransforms,c,a),f=a.data;return f.setAll(kw(r)),f.setAll(h),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),l===null?null:l.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(m=>m.field))}(t,e,n,i):function(r,a,l){return Uc(r.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function tO(t,e){let n=null;for(const i of t.fieldTransforms){const s=e.data.field(i.field),r=Rw(i.transform,s||null);r!=null&&(n===null&&(n=It.empty()),n.set(i.field,r))}return n||null}function J_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&ea(i,s,(r,a)=>Jj(r,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Al extends gh{constructor(e,n,i,s=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ms extends gh{constructor(e,n,i,s,r=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function kw(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function Z_(t,e,n){const i=new Map;de(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let s=0;s<n.length;s++){const r=t[s],a=r.transform,l=e.data.field(r.field);i.set(r.field,Wj(a,l,n[s]))}return i}function e0(t,e,n){const i=new Map;for(const s of t){const r=s.transform,a=n.data.field(s.field);i.set(s.field,Xj(r,a,e))}return i}class yh extends gh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nO extends gh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e,n,i,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const r=this.mutations[s];r.key.isEqual(e.key)&&eO(r,e,i[s])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Ro(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Ro(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=Sw();return this.mutations.forEach(s=>{const r=e.get(s.key),a=r.overlayedDocument;let l=this.applyToLocalView(a,r.mutatedFields);l=n.has(s.key)?null:l;const c=Ow(a,l);c!==null&&i.set(s.key,c),a.isValidDocument()||a.convertToNoDocument($.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ae())}isEqual(e){return this.batchId===e.batchId&&ea(this.mutations,e.mutations,(n,i)=>J_(n,i))&&ea(this.baseMutations,e.baseMutations,(n,i)=>J_(n,i))}}class Qp{constructor(e,n,i,s){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(e,n,i){de(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let s=function(){return Kj}();const r=e.mutations;for(let a=0;a<r.length;a++)s=s.insert(r[a].key,i[a].version);return new Qp(e,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be,ce;function aO(t){switch(t){case V.OK:return Y(64938);case V.CANCELLED:case V.UNKNOWN:case V.DEADLINE_EXCEEDED:case V.RESOURCE_EXHAUSTED:case V.INTERNAL:case V.UNAVAILABLE:case V.UNAUTHENTICATED:return!1;case V.INVALID_ARGUMENT:case V.NOT_FOUND:case V.ALREADY_EXISTS:case V.PERMISSION_DENIED:case V.FAILED_PRECONDITION:case V.ABORTED:case V.OUT_OF_RANGE:case V.UNIMPLEMENTED:case V.DATA_LOSS:return!0;default:return Y(15467,{code:t})}}function Mw(t){if(t===void 0)return ai("GRPC error has no .code"),V.UNKNOWN;switch(t){case Be.OK:return V.OK;case Be.CANCELLED:return V.CANCELLED;case Be.UNKNOWN:return V.UNKNOWN;case Be.DEADLINE_EXCEEDED:return V.DEADLINE_EXCEEDED;case Be.RESOURCE_EXHAUSTED:return V.RESOURCE_EXHAUSTED;case Be.INTERNAL:return V.INTERNAL;case Be.UNAVAILABLE:return V.UNAVAILABLE;case Be.UNAUTHENTICATED:return V.UNAUTHENTICATED;case Be.INVALID_ARGUMENT:return V.INVALID_ARGUMENT;case Be.NOT_FOUND:return V.NOT_FOUND;case Be.ALREADY_EXISTS:return V.ALREADY_EXISTS;case Be.PERMISSION_DENIED:return V.PERMISSION_DENIED;case Be.FAILED_PRECONDITION:return V.FAILED_PRECONDITION;case Be.ABORTED:return V.ABORTED;case Be.OUT_OF_RANGE:return V.OUT_OF_RANGE;case Be.UNIMPLEMENTED:return V.UNIMPLEMENTED;case Be.DATA_LOSS:return V.DATA_LOSS;default:return Y(39323,{code:t})}}(ce=Be||(Be={}))[ce.OK=0]="OK",ce[ce.CANCELLED=1]="CANCELLED",ce[ce.UNKNOWN=2]="UNKNOWN",ce[ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ce[ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ce[ce.NOT_FOUND=5]="NOT_FOUND",ce[ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",ce[ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",ce[ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",ce[ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ce[ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ce[ce.ABORTED=10]="ABORTED",ce[ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",ce[ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",ce[ce.INTERNAL=13]="INTERNAL",ce[ce.UNAVAILABLE=14]="UNAVAILABLE",ce[ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO=new Qi([4294967295,4294967295],0);function t0(t){const e=oO().encode(t),n=new QT;return n.update(e),new Uint8Array(n.digest())}function n0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),r=e.getUint32(12,!0);return[new Qi([n,i],0),new Qi([s,r],0)]}class $p{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new ao(`Invalid padding: ${n}`);if(i<0)throw new ao(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new ao(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new ao(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Qi.fromNumber(this.ge)}ye(e,n,i){let s=e.add(n.multiply(Qi.fromNumber(i)));return s.compare(lO)===1&&(s=new Qi([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=t0(e),[i,s]=n0(n);for(let r=0;r<this.hashCount;r++){const a=this.ye(i,s,r);if(!this.we(a))return!1}return!0}static create(e,n,i){const s=e%8==0?0:8-e%8,r=new Uint8Array(Math.ceil(e/8)),a=new $p(r,s,n);return i.forEach(l=>a.insert(l)),a}insert(e){if(this.ge===0)return;const n=t0(e),[i,s]=n0(n);for(let r=0;r<this.hashCount;r++){const a=this.ye(i,s,r);this.be(a)}}be(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class ao extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,n,i,s,r){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const s=new Map;return s.set(e,Nl.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new vh($.min(),s,new Ie(re),oi(),ae())}}class Nl{constructor(e,n,i,s,r){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Nl(i,n,ae(),ae(),ae())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,n,i,s){this.Se=e,this.removedTargetIds=n,this.key=i,this.De=s}}class Vw{constructor(e,n){this.targetId=e,this.Ce=n}}class Lw{constructor(e,n,i=ft.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=s}}class i0{constructor(){this.ve=0,this.Fe=s0(),this.Me=ft.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ae(),n=ae(),i=ae();return this.Fe.forEach((s,r)=>{switch(r){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:Y(38017,{changeType:r})}}),new Nl(this.Me,this.xe,e,n,i)}Ke(){this.Oe=!1,this.Fe=s0()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,de(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class cO{constructor(e){this.Ge=e,this.ze=new Map,this.je=oi(),this.He=fc(),this.Je=fc(),this.Ze=new Ie(re)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Y(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((i,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,i=e.Ce.count,s=this.ot(n);if(s){const r=s.target;if(um(r))if(i===0){const a=new G(r.path);this.et(n,a,vt.newNoDocument(a,$.min()))}else de(i===1,20013,{expectedCount:i});else{const a=this._t(n);if(a!==i){const l=this.ut(e),c=l?this.ct(l,e,a):1;if(c!==0){this.it(n);const h=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:r=0}=n;let a,l;try{a=is(i).toUint8Array()}catch(c){if(c instanceof aw)return Zr("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new $p(a,s,r)}catch(c){return Zr(c instanceof ao?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let s=0;return i.forEach(r=>{const a=this.Ge.ht(),l=`projects/${a.projectId}/databases/${a.database}/documents/${r.path.canonicalString()}`;e.mightContain(l)||(this.et(n,r,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((r,a)=>{const l=this.ot(a);if(l){if(r.current&&um(l.target)){const c=new G(l.target.path);this.It(c).has(a)||this.Et(a,c)||this.et(a,c,vt.newNoDocument(c,e))}r.Be&&(n.set(a,r.ke()),r.Ke())}});let i=ae();this.Je.forEach((r,a)=>{let l=!0;a.forEachWhile(c=>{const h=this.ot(c);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(i=i.add(r))}),this.je.forEach((r,a)=>a.setReadTime(e));const s=new vh(e,n,this.Ze,this.je,i);return this.je=oi(),this.He=fc(),this.Je=fc(),this.Ze=new Ie(re),s}Ye(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,i),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.qe(n,1):s.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new i0,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new We(re),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new We(re),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||F("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new i0),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function fc(){return new Ie(G.comparator)}function s0(){return new Ie(G.comparator)}const uO={asc:"ASCENDING",desc:"DESCENDING"},hO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dO={and:"AND",or:"OR"};class fO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function fm(t,e){return t.useProto3Json||uh(e)?e:{value:e}}function Iu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Pw(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function mO(t,e){return Iu(t,e.toTimestamp())}function Rn(t){return de(!!t,49232),$.fromTimestamp(function(n){const i=ns(n);return new Se(i.seconds,i.nanos)}(t))}function Xp(t,e){return mm(t,e).canonicalString()}function mm(t,e){const n=function(s){return new Ee(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Uw(t){const e=Ee.fromString(t);return de(Fw(e),10190,{key:e.toString()}),e}function pm(t,e){return Xp(t.databaseId,e.path)}function Gd(t,e){const n=Uw(e);if(n.get(1)!==t.databaseId.projectId)throw new B(V.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new B(V.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new G(Bw(n))}function zw(t,e){return Xp(t.databaseId,e)}function pO(t){const e=Uw(t);return e.length===4?Ee.emptyPath():Bw(e)}function gm(t){return new Ee(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Bw(t){return de(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function r0(t,e,n){return{name:pm(t,e),fields:n.value.mapValue.fields}}function gO(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Y(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],r=function(h,f){return h.useProto3Json?(de(f===void 0||typeof f=="string",58123),ft.fromBase64String(f||"")):(de(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),ft.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(h){const f=h.code===void 0?V.UNKNOWN:Mw(h.code);return new B(f,h.message||"")}(a);n=new Lw(i,s,r,l||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=Gd(t,i.document.name),r=Rn(i.document.updateTime),a=i.document.createTime?Rn(i.document.createTime):$.min(),l=new It({mapValue:{fields:i.document.fields}}),c=vt.newFoundDocument(s,r,a,l),h=i.targetIds||[],f=i.removedTargetIds||[];n=new zc(h,f,c.key,c)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=Gd(t,i.document),r=i.readTime?Rn(i.readTime):$.min(),a=vt.newNoDocument(s,r),l=i.removedTargetIds||[];n=new zc([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=Gd(t,i.document),r=i.removedTargetIds||[];n=new zc([],r,s,null)}else{if(!("filter"in e))return Y(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:r}=i,a=new rO(s,r),l=i.targetId;n=new Vw(l,a)}}return n}function yO(t,e){let n;if(e instanceof Al)n={update:r0(t,e.key,e.value)};else if(e instanceof yh)n={delete:pm(t,e.key)};else if(e instanceof ms)n={update:r0(t,e.key,e.data),updateMask:AO(e.fieldMask)};else{if(!(e instanceof nO))return Y(16599,{dt:e.type});n={verify:pm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(r,a){const l=a.transform;if(l instanceof Jo)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Zo)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof el)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof tl)return{fieldPath:a.field.canonicalString(),increment:l.Ae};throw Y(20930,{transform:a.transform})}(0,i))),e.precondition.isNone||(n.currentDocument=function(s,r){return r.updateTime!==void 0?{updateTime:mO(s,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:Y(27497)}(t,e.precondition)),n}function vO(t,e){return t&&t.length>0?(de(e!==void 0,14353),t.map(n=>function(s,r){let a=s.updateTime?Rn(s.updateTime):Rn(r);return a.isEqual($.min())&&(a=Rn(r)),new Zj(a,s.transformResults||[])}(n,e))):[]}function _O(t,e){return{documents:[zw(t,e.path)]}}function EO(t,e){const n={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=zw(t,s);const r=function(h){if(h.length!==0)return Hw(pn.create(h,"and"))}(e.filters);r&&(n.structuredQuery.where=r);const a=function(h){if(h.length!==0)return h.map(f=>function(p){return{field:dr(p.field),direction:TO(p.dir)}}(f))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=fm(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ft:n,parent:s}}function bO(t){let e=pO(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){de(i===1,65062);const f=n.from[0];f.allDescendants?s=f.collectionId:e=e.child(f.collectionId)}let r=[];n.where&&(r=function(m){const p=qw(m);return p instanceof pn&&gw(p)?p.getFilters():[p]}(n.where));let a=[];n.orderBy&&(a=function(m){return m.map(p=>function(R){return new Wo(fr(R.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(p))}(n.orderBy));let l=null;n.limit&&(l=function(m){let p;return p=typeof m=="object"?m.value:m,uh(p)?null:p}(n.limit));let c=null;n.startAt&&(c=function(m){const p=!!m.before,v=m.values||[];return new Cu(v,p)}(n.startAt));let h=null;return n.endAt&&(h=function(m){const p=!m.before,v=m.values||[];return new Cu(v,p)}(n.endAt)),Uj(e,s,a,r,l,"F",c,h)}function xO(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Y(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function qw(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=fr(n.unaryFilter.field);return Ge.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=fr(n.unaryFilter.field);return Ge.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=fr(n.unaryFilter.field);return Ge.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=fr(n.unaryFilter.field);return Ge.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Y(61313);default:return Y(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ge.create(fr(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Y(58110);default:return Y(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return pn.create(n.compositeFilter.filters.map(i=>qw(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Y(1026)}}(n.compositeFilter.op))}(t):Y(30097,{filter:t})}function TO(t){return uO[t]}function wO(t){return hO[t]}function SO(t){return dO[t]}function dr(t){return{fieldPath:t.canonicalString()}}function fr(t){return ut.fromServerFormat(t.fieldPath)}function Hw(t){return t instanceof Ge?function(n){if(n.op==="=="){if(K_(n.value))return{unaryFilter:{field:dr(n.field),op:"IS_NAN"}};if(G_(n.value))return{unaryFilter:{field:dr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(K_(n.value))return{unaryFilter:{field:dr(n.field),op:"IS_NOT_NAN"}};if(G_(n.value))return{unaryFilter:{field:dr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dr(n.field),op:wO(n.op),value:n.value}}}(t):t instanceof pn?function(n){const i=n.getFilters().map(s=>Hw(s));return i.length===1?i[0]:{compositeFilter:{op:SO(n.op),filters:i}}}(t):Y(54877,{filter:t})}function AO(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Fw(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function Gw(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e,n,i,s,r=$.min(),a=$.min(),l=ft.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new ki(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ki(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e){this.yt=e}}function RO(t){const e=bO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?dm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(){this.Sn=new IO}addToCollectionParentIndex(e,n){return this.Sn.add(n),P.resolve()}getCollectionParents(e,n){return P.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return P.resolve()}deleteFieldIndex(e,n){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,n){return P.resolve()}getDocumentsMatchingTarget(e,n){return P.resolve(null)}getIndexType(e,n){return P.resolve(0)}getFieldIndexes(e,n){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,n){return P.resolve(ts.min())}getMinOffsetFromCollectionGroup(e,n){return P.resolve(ts.min())}updateCollectionGroup(e,n,i){return P.resolve()}updateIndexEntries(e,n){return P.resolve()}}class IO{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n]||new We(Ee.comparator),r=!s.has(i);return this.index[n]=s.add(i),r}has(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(e){return(this.index[e]||new We(Ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Kw=41943040;class Ct{static withCacheSize(e){return new Ct(e,Ct.DEFAULT_COLLECTION_PERCENTILE,Ct.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ct.DEFAULT_COLLECTION_PERCENTILE=10,Ct.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ct.DEFAULT=new Ct(Kw,Ct.DEFAULT_COLLECTION_PERCENTILE,Ct.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ct.DISABLED=new Ct(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new ia(0)}static ar(){return new ia(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0="LruGarbageCollector",DO=1048576;function l0([t,e],[n,i]){const s=re(t,n);return s===0?re(e,i):s}class jO{constructor(e){this.Pr=e,this.buffer=new We(l0),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();l0(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class OO{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){F(o0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){xa(n)?F(o0,"Ignoring IndexedDB error during garbage collection: ",n):await ba(n)}await this.Ar(3e5)})}}class kO{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return P.resolve(ch.ce);const i=new jO(n);return this.Vr.forEachTarget(e,s=>i.Er(s.sequenceNumber)).next(()=>this.Vr.mr(e,s=>i.Er(s))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.Vr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(F("LruGarbageCollector","Garbage collection skipped; disabled"),P.resolve(a0)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(F("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),a0):this.gr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let i,s,r,a,l,c,h;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(F("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),s=this.params.maximumSequenceNumbersToCollect):s=m,a=Date.now(),this.nthSequenceNumber(e,s))).next(m=>(i=m,l=Date.now(),this.removeTargets(e,i,n))).next(m=>(r=m,c=Date.now(),this.removeOrphanedDocuments(e,i))).next(m=>(h=Date.now(),ur()<=se.DEBUG&&F("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-f}ms
	Determined least recently used ${s} in `+(l-a)+`ms
	Removed ${r} targets in `+(c-l)+`ms
	Removed ${m} documents in `+(h-c)+`ms
Total Duration: ${h-f}ms`),P.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:r,documentsRemoved:m})))}}function MO(t,e){return new kO(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(){this.changes=new Js(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,vt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?P.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e,n,i,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(i!==null&&Ro(i.mutation,s,zt.empty(),Se.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,ae()).next(()=>i))}getLocalViewOfDocuments(e,n,i=ae()){const s=Rs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,i).next(r=>{let a=ro();return r.forEach((l,c)=>{a=a.insert(l,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const i=Rs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,ae()))}populateOverlays(e,n,i){const s=[];return i.forEach(r=>{n.has(r)||s.push(r)}),this.documentOverlayCache.getOverlays(e,s).next(r=>{r.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,i,s){let r=oi();const a=No(),l=function(){return No()}();return n.forEach((c,h)=>{const f=i.get(h.key);s.has(h.key)&&(f===void 0||f.mutation instanceof ms)?r=r.insert(h.key,h):f!==void 0?(a.set(h.key,f.mutation.getFieldMask()),Ro(f.mutation,h,f.mutation.getFieldMask(),Se.now())):a.set(h.key,zt.empty())}),this.recalculateAndSaveOverlays(e,r).next(c=>(c.forEach((h,f)=>a.set(h,f)),n.forEach((h,f)=>l.set(h,new LO(f,a.get(h)??null))),l))}recalculateAndSaveOverlays(e,n){const i=No();let s=new Ie((a,l)=>a-l),r=ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(c=>{const h=n.get(c);if(h===null)return;let f=i.get(c)||zt.empty();f=l.applyToLocalView(h,f),i.set(c,f);const m=(s.get(l.batchId)||ae()).add(c);s=s.insert(l.batchId,m)})}).next(()=>{const a=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),h=c.key,f=c.value,m=Sw();f.forEach(p=>{if(!r.has(p)){const v=Ow(n.get(p),i.get(p));v!==null&&m.set(p,v),r=r.add(p)}}),a.push(this.documentOverlayCache.saveOverlays(e,h,m))}return P.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,s){return zj(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Ew(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,s):this.getDocumentsMatchingCollectionQuery(e,n,i,s)}getNextDocuments(e,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,s).next(r=>{const a=s-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,s-r.size):P.resolve(Rs());let l=Yo,c=r;return a.next(h=>P.forEach(h,(f,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),r.get(f)?P.resolve():this.remoteDocumentCache.getEntry(e,f).next(p=>{c=c.insert(f,p)}))).next(()=>this.populateOverlays(e,h,r)).next(()=>this.computeViews(e,c,h,ae())).next(f=>({batchId:l,changes:ww(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new G(n)).next(i=>{let s=ro();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,i,s){const r=n.collectionGroup;let a=ro();return this.indexManager.getCollectionParents(e,r).next(l=>P.forEach(l,c=>{const h=function(m,p){return new Ta(p,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,c.child(r));return this.getDocumentsMatchingCollectionQuery(e,h,i,s).next(f=>{f.forEach((m,p)=>{a=a.insert(m,p)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,i,s){let r;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(a=>(r=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,r,s))).next(a=>{r.forEach((c,h)=>{const f=h.getKey();a.get(f)===null&&(a=a.insert(f,vt.newInvalidDocument(f)))});let l=ro();return a.forEach((c,h)=>{const f=r.get(c);f!==void 0&&Ro(f.mutation,h,zt.empty(),Se.now()),mh(n,h)&&(l=l.insert(c,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return P.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Rn(s.createTime)}}(n)),P.resolve()}getNamedQuery(e,n){return P.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,function(s){return{name:s.name,query:RO(s.bundledQuery),readTime:Rn(s.readTime)}}(n)),P.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(){this.overlays=new Ie(G.comparator),this.Lr=new Map}getOverlay(e,n){return P.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Rs();return P.forEach(n,s=>this.getOverlay(e,s).next(r=>{r!==null&&i.set(s,r)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((s,r)=>{this.bt(e,n,r)}),P.resolve()}removeOverlaysForBatchId(e,n,i){const s=this.Lr.get(i);return s!==void 0&&(s.forEach(r=>this.overlays=this.overlays.remove(r)),this.Lr.delete(i)),P.resolve()}getOverlaysForCollection(e,n,i){const s=Rs(),r=n.length+1,a=new G(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,h=c.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===r&&c.largestBatchId>i&&s.set(c.getKey(),c)}return P.resolve(s)}getOverlaysForCollectionGroup(e,n,i,s){let r=new Ie((h,f)=>h-f);const a=this.overlays.getIterator();for(;a.hasNext();){const h=a.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>i){let f=r.get(h.largestBatchId);f===null&&(f=Rs(),r=r.insert(h.largestBatchId,f)),f.set(h.getKey(),h)}}const l=Rs(),c=r.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((h,f)=>l.set(h,f)),!(l.size()>=s)););return P.resolve(l)}bt(e,n,i){const s=this.overlays.get(i.key);if(s!==null){const a=this.Lr.get(s.largestBatchId).delete(i.key);this.Lr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new sO(n,i));let r=this.Lr.get(n);r===void 0&&(r=ae(),this.Lr.set(n,r)),this.Lr.set(n,r.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(){this.sessionToken=ft.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,P.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(){this.kr=new We(et.Kr),this.qr=new We(et.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const i=new et(e,n);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Wr(new et(e,n))}Qr(e,n){e.forEach(i=>this.removeReference(i,n))}Gr(e){const n=new G(new Ee([])),i=new et(n,e),s=new et(n,e+1),r=[];return this.qr.forEachInRange([i,s],a=>{this.Wr(a),r.push(a.key)}),r}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new G(new Ee([])),i=new et(n,e),s=new et(n,e+1);let r=ae();return this.qr.forEachInRange([i,s],a=>{r=r.add(a.key)}),r}containsKey(e){const n=new et(e,0),i=this.kr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class et{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return G.comparator(e.key,n.key)||re(e.Hr,n.Hr)}static Ur(e,n){return re(e.Hr,n.Hr)||G.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new We(et.Kr)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,s){const r=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new iO(r,n,i,s);this.mutationQueue.push(a);for(const l of s)this.Jr=this.Jr.add(new et(l.key,r)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return P.resolve(a)}lookupMutationBatch(e,n){return P.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,s=this.Xr(i),r=s<0?0:s;return P.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?qp:this.Yn-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new et(n,0),s=new et(n,Number.POSITIVE_INFINITY),r=[];return this.Jr.forEachInRange([i,s],a=>{const l=this.Zr(a.Hr);r.push(l)}),P.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new We(re);return n.forEach(s=>{const r=new et(s,0),a=new et(s,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([r,a],l=>{i=i.add(l.Hr)})}),P.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,s=i.length+1;let r=i;G.isDocumentKey(r)||(r=r.child(""));const a=new et(new G(r),0);let l=new We(re);return this.Jr.forEachWhile(c=>{const h=c.key.path;return!!i.isPrefixOf(h)&&(h.length===s&&(l=l.add(c.Hr)),!0)},a),P.resolve(this.Yr(l))}Yr(e){const n=[];return e.forEach(i=>{const s=this.Zr(i);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){de(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return P.forEach(n.mutations,s=>{const r=new et(s.key,n.batchId);return i=i.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Jr=i})}nr(e){}containsKey(e,n){const i=new et(n,0),s=this.Jr.firstAfterOrEqual(i);return P.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e){this.ti=e,this.docs=function(){return new Ie(G.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,s=this.docs.get(i),r=s?s.size:0,a=this.ti(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-r,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return P.resolve(i?i.document.mutableCopy():vt.newInvalidDocument(n))}getEntries(e,n){let i=oi();return n.forEach(s=>{const r=this.docs.get(s);i=i.insert(s,r?r.document.mutableCopy():vt.newInvalidDocument(s))}),P.resolve(i)}getDocumentsMatchingQuery(e,n,i,s){let r=oi();const a=n.path,l=new G(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:h,value:{document:f}}=c.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||gj(pj(f),i)<=0||(s.has(f.key)||mh(n,f))&&(r=r.insert(f.key,f.mutableCopy()))}return P.resolve(r)}getAllFromCollectionGroup(e,n,i,s){Y(9500)}ni(e,n){return P.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new FO(this)}getSize(e){return P.resolve(this.size)}}class FO extends VO{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this.Mr.addEntry(e,s)):this.Mr.removeEntry(i)}),P.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(e){this.persistence=e,this.ri=new Js(n=>Gp(n),Kp),this.lastRemoteSnapshotVersion=$.min(),this.highestTargetId=0,this.ii=0,this.si=new Wp,this.targetCount=0,this.oi=ia._r()}forEachTarget(e,n){return this.ri.forEach((i,s)=>n(s)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ii&&(this.ii=n),P.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new ia(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,P.resolve()}updateTargetData(e,n){return this.lr(n),P.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,n,i){let s=0;const r=[];return this.ri.forEach((a,l)=>{l.sequenceNumber<=n&&i.get(l.targetId)===null&&(this.ri.delete(a),r.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),P.waitFor(r).next(()=>s)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,n){const i=this.ri.get(n)||null;return P.resolve(i)}addMatchingKeys(e,n,i){return this.si.$r(n,i),P.resolve()}removeMatchingKeys(e,n,i){this.si.Qr(n,i);const s=this.persistence.referenceDelegate,r=[];return s&&n.forEach(a=>{r.push(s.markPotentiallyOrphaned(e,a))}),P.waitFor(r)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),P.resolve()}getMatchingKeysForTargetId(e,n){const i=this.si.jr(n);return P.resolve(i)}containsKey(e,n){return P.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e,n){this._i={},this.overlays={},this.ai=new ch(0),this.ui=!1,this.ui=!0,this.ci=new BO,this.referenceDelegate=e(this),this.li=new GO(this),this.indexManager=new CO,this.remoteDocumentCache=function(s){return new HO(s)}(i=>this.referenceDelegate.hi(i)),this.serializer=new NO(n),this.Pi=new UO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new zO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this._i[e.toKey()];return i||(i=new qO(n,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,i){F("MemoryPersistence","Starting transaction:",e);const s=new KO(this.ai.next());return this.referenceDelegate.Ti(),i(s).next(r=>this.referenceDelegate.Ii(s).next(()=>r)).toPromise().then(r=>(s.raiseOnCommittedEvent(),r))}Ei(e,n){return P.or(Object.values(this._i).map(i=>()=>i.containsKey(e,n)))}}class KO extends vj{constructor(e){super(),this.currentSequenceNumber=e}}class Jp{constructor(e){this.persistence=e,this.Ri=new Wp,this.Ai=null}static Vi(e){return new Jp(e)}get di(){if(this.Ai)return this.Ai;throw Y(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.di.delete(i.toString()),P.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.di.add(i.toString()),P.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),P.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach(s=>this.di.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(r=>this.di.add(r.toString()))}).next(()=>i.removeTargetData(e,n))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.di,i=>{const s=G.fromPath(i);return this.mi(e,s).next(r=>{r||n.removeEntry(s,$.min())})}).next(()=>(this.Ai=null,n.apply(e)))}updateLimboDocument(e,n){return this.mi(e,n).next(i=>{i?this.di.delete(n.toString()):this.di.add(n.toString())})}hi(e){return 0}mi(e,n){return P.or([()=>P.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Du{constructor(e,n){this.persistence=e,this.fi=new Js(i=>bj(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=MO(this,n)}static Vi(e,n){return new Du(e,n)}Ti(){}Ii(e){return P.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(s=>i+s))}pr(e){let n=0;return this.mr(e,i=>{n++}).next(()=>n)}mr(e,n){return P.forEach(this.fi,(i,s)=>this.wr(e,i,s).next(r=>r?P.resolve():n(s)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const s=this.persistence.getRemoteDocumentCache(),r=s.newChangeBuffer();return s.ni(e,a=>this.wr(e,a,n).next(l=>{l||(i++,r.removeEntry(a,$.min()))})).next(()=>r.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),P.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),P.resolve()}removeReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),P.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),P.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Lc(e.data.value)),n}wr(e,n,i){return P.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.fi.get(n);return P.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e,n,i,s){this.targetId=e,this.fromCache=n,this.Ts=i,this.Is=s}static Es(e,n){let i=ae(),s=ae();for(const r of n.docChanges)switch(r.type){case 0:i=i.add(r.doc.key);break;case 1:s=s.add(r.doc.key)}return new Zp(e,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return T2()?8:_j(_t())>0?6:4}()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,s){const r={result:null};return this.gs(e,n).next(a=>{r.result=a}).next(()=>{if(!r.result)return this.ps(e,n,s,i).next(a=>{r.result=a})}).next(()=>{if(r.result)return;const a=new YO;return this.ys(e,n,a).next(l=>{if(r.result=l,this.As)return this.ws(e,n,a,l.size)})}).next(()=>r.result)}ws(e,n,i,s){return i.documentReadCount<this.Vs?(ur()<=se.DEBUG&&F("QueryEngine","SDK will not create cache indexes for query:",hr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),P.resolve()):(ur()<=se.DEBUG&&F("QueryEngine","Query:",hr(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.ds*s?(ur()<=se.DEBUG&&F("QueryEngine","The SDK decides to create cache indexes for query:",hr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Nn(n))):P.resolve())}gs(e,n){if(X_(n))return P.resolve(null);let i=Nn(n);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=dm(n,null,"F"),i=Nn(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(r=>{const a=ae(...r);return this.fs.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,i).next(c=>{const h=this.bs(n,l);return this.Ss(n,h,a,c.readTime)?this.gs(e,dm(n,null,"F")):this.Ds(e,h,n,c)}))})))}ps(e,n,i,s){return X_(n)||s.isEqual($.min())?P.resolve(null):this.fs.getDocuments(e,i).next(r=>{const a=this.bs(n,r);return this.Ss(n,a,i,s)?P.resolve(null):(ur()<=se.DEBUG&&F("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),hr(n)),this.Ds(e,a,n,mj(s,Yo)).next(l=>l))})}bs(e,n){let i=new We(xw(e));return n.forEach((s,r)=>{mh(e,r)&&(i=i.add(r))}),i}Ss(e,n,i,s){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const r=e.limitType==="F"?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(s)>0)}ys(e,n,i){return ur()<=se.DEBUG&&F("QueryEngine","Using full collection scan to execute query:",hr(n)),this.fs.getDocumentsMatchingQuery(e,n,ts.min(),i)}Ds(e,n,i,s){return this.fs.getDocumentsMatchingQuery(e,i,s).next(r=>(n.forEach(a=>{r=r.insert(a.key,a)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eg="LocalStore",$O=3e8;class XO{constructor(e,n,i,s){this.persistence=e,this.Cs=n,this.serializer=s,this.vs=new Ie(re),this.Fs=new Js(r=>Gp(r),Kp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new PO(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.vs))}}function WO(t,e,n,i){return new XO(t,e,n,i)}async function Qw(t,e){const n=X(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(r=>(s=r,n.Os(e),n.mutationQueue.getAllMutationBatches(i))).next(r=>{const a=[],l=[];let c=ae();for(const h of s){a.push(h.batchId);for(const f of h.mutations)c=c.add(f.key)}for(const h of r){l.push(h.batchId);for(const f of h.mutations)c=c.add(f.key)}return n.localDocuments.getDocuments(i,c).next(h=>({Ns:h,removedBatchIds:a,addedBatchIds:l}))})})}function JO(t,e){const n=X(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),r=n.xs.newChangeBuffer({trackRemovals:!0});return function(l,c,h,f){const m=h.batch,p=m.keys();let v=P.resolve();return p.forEach(R=>{v=v.next(()=>f.getEntry(c,R)).next(D=>{const j=h.docVersions.get(R);de(j!==null,48541),D.version.compareTo(j)<0&&(m.applyToRemoteDocument(D,h),D.isValidDocument()&&(D.setReadTime(h.commitVersion),f.addEntry(D)))})}),v.next(()=>l.mutationQueue.removeMutationBatch(c,m))}(n,i,e,r).next(()=>r.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let c=ae();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(c=c.add(l.batch.mutations[h].key));return c}(e))).next(()=>n.localDocuments.getDocuments(i,s))})}function $w(t){const e=X(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.li.getLastRemoteSnapshotVersion(n))}function ZO(t,e){const n=X(t),i=e.snapshotVersion;let s=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const a=n.xs.newChangeBuffer({trackRemovals:!0});s=n.vs;const l=[];e.targetChanges.forEach((f,m)=>{const p=s.get(m);if(!p)return;l.push(n.li.removeMatchingKeys(r,f.removedDocuments,m).next(()=>n.li.addMatchingKeys(r,f.addedDocuments,m)));let v=p.withSequenceNumber(r.currentSequenceNumber);e.targetMismatches.get(m)!==null?v=v.withResumeToken(ft.EMPTY_BYTE_STRING,$.min()).withLastLimboFreeSnapshotVersion($.min()):f.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(f.resumeToken,i)),s=s.insert(m,v),function(D,j,x){return D.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=$O?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(p,v,f)&&l.push(n.li.updateTargetData(r,v))});let c=oi(),h=ae();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(r,f))}),l.push(ek(r,a,e.documentUpdates).next(f=>{c=f.Bs,h=f.Ls})),!i.isEqual($.min())){const f=n.li.getLastRemoteSnapshotVersion(r).next(m=>n.li.setTargetsMetadata(r,r.currentSequenceNumber,i));l.push(f)}return P.waitFor(l).next(()=>a.apply(r)).next(()=>n.localDocuments.getLocalViewOfDocuments(r,c,h)).next(()=>c)}).then(r=>(n.vs=s,r))}function ek(t,e,n){let i=ae(),s=ae();return n.forEach(r=>i=i.add(r)),e.getEntries(t,i).next(r=>{let a=oi();return n.forEach((l,c)=>{const h=r.get(l);c.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual($.min())?(e.removeEntry(l,c.readTime),a=a.insert(l,c)):!h.isValidDocument()||c.version.compareTo(h.version)>0||c.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(c),a=a.insert(l,c)):F(eg,"Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",c.version)}),{Bs:a,Ls:s}})}function tk(t,e){const n=X(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=qp),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function nk(t,e){const n=X(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.li.getTargetData(i,e).next(r=>r?(s=r,P.resolve(s)):n.li.allocateTargetId(i).next(a=>(s=new ki(e,a,"TargetPurposeListen",i.currentSequenceNumber),n.li.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.vs.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.vs=n.vs.insert(i.targetId,i),n.Fs.set(e,i.targetId)),i})}async function ym(t,e,n){const i=X(t),s=i.vs.get(e),r=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",r,a=>i.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!xa(a))throw a;F(eg,`Failed to update sequence numbers for target ${e}: ${a}`)}i.vs=i.vs.remove(e),i.Fs.delete(s.target)}function c0(t,e,n){const i=X(t);let s=$.min(),r=ae();return i.persistence.runTransaction("Execute query","readwrite",a=>function(c,h,f){const m=X(c),p=m.Fs.get(f);return p!==void 0?P.resolve(m.vs.get(p)):m.li.getTargetData(h,f)}(i,a,Nn(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(a,l.targetId).next(c=>{r=c})}).next(()=>i.Cs.getDocumentsMatchingQuery(a,e,n?s:$.min(),n?r:ae())).next(l=>(ik(i,Hj(e),l),{documents:l,ks:r})))}function ik(t,e,n){let i=t.Ms.get(e)||$.min();n.forEach((s,r)=>{r.readTime.compareTo(i)>0&&(i=r.readTime)}),t.Ms.set(e,i)}class u0{constructor(){this.activeTargetIds=$j()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sk{constructor(){this.vo=new u0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,i){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new u0,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0="ConnectivityMonitor";class d0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){F(h0,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){F(h0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mc=null;function vm(){return mc===null?mc=function(){return 268435456+Math.round(2147483648*Math.random())}():mc++,"0x"+mc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd="RestConnection",ak={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class ok{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${i}/databases/${s}`,this.$o=this.databaseId.database===Nu?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Wo(e,n,i,s,r){const a=vm(),l=this.Qo(e,n.toUriEncodedString());F(Kd,`Sending RPC '${e}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(c,s,r);const{host:h}=new URL(l),f=ga(h);return this.zo(e,l,c,i,f).then(m=>(F(Kd,`Received RPC '${e}' ${a}: `,m),m),m=>{throw Zr(Kd,`RPC '${e}' ${a} failed with error: `,m,"url: ",l,"request:",i),m})}jo(e,n,i,s,r,a){return this.Wo(e,n,i,s,r)}Go(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ea}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,r)=>e[r]=s),i&&i.headers.forEach((s,r)=>e[r]=s)}Qo(e,n){const i=ak[e];let s=`${this.qo}/v1/${n}:${i}`;return this.databaseInfo.apiKey&&(s=`${s}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),s}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gt="WebChannelConnection",Xa=(t,e,n)=>{t.listen(e,i=>{try{n(i)}catch(s){setTimeout(()=>{throw s},0)}})};class Lr extends ok{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Lr.c_){const e=JT();Xa(e,WT.STAT_EVENT,n=>{n.stat===rm.PROXY?F(gt,"STAT_EVENT: detected buffering proxy"):n.stat===rm.NOPROXY&&F(gt,"STAT_EVENT: detected no buffering proxy")}),Lr.c_=!0}}zo(e,n,i,s,r){const a=vm();return new Promise((l,c)=>{const h=new $T;h.setWithCredentials(!0),h.listenOnce(XT.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Vc.NO_ERROR:const m=h.getResponseJson();F(gt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(m)),l(m);break;case Vc.TIMEOUT:F(gt,`RPC '${e}' ${a} timed out`),c(new B(V.DEADLINE_EXCEEDED,"Request time out"));break;case Vc.HTTP_ERROR:const p=h.getStatus();if(F(gt,`RPC '${e}' ${a} failed with status:`,p,"response text:",h.getResponseText()),p>0){let v=h.getResponseJson();Array.isArray(v)&&(v=v[0]);const R=v==null?void 0:v.error;if(R&&R.status&&R.message){const D=function(x){const y=x.toLowerCase().replace(/_/g,"-");return Object.values(V).indexOf(y)>=0?y:V.UNKNOWN}(R.status);c(new B(D,R.message))}else c(new B(V.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new B(V.UNAVAILABLE,"Connection failed."));break;default:Y(9055,{l_:e,streamId:a,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{F(gt,`RPC '${e}' ${a} completed.`)}});const f=JSON.stringify(s);F(gt,`RPC '${e}' ${a} sending request:`,s),h.send(n,"POST",f,i,15)})}T_(e,n,i){const s=vm(),r=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=this.createWebChannelTransport(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Go(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;const h=r.join("");F(gt,`Creating RPC '${e}' stream ${s}: ${h}`,l);const f=a.createWebChannel(h,l);this.I_(f);let m=!1,p=!1;const v=new lk({Ho:R=>{p?F(gt,`Not sending because RPC '${e}' stream ${s} is closed:`,R):(m||(F(gt,`Opening RPC '${e}' stream ${s} transport.`),f.open(),m=!0),F(gt,`RPC '${e}' stream ${s} sending:`,R),f.send(R))},Jo:()=>f.close()});return Xa(f,so.EventType.OPEN,()=>{p||(F(gt,`RPC '${e}' stream ${s} transport opened.`),v.i_())}),Xa(f,so.EventType.CLOSE,()=>{p||(p=!0,F(gt,`RPC '${e}' stream ${s} transport closed`),v.o_(),this.E_(f))}),Xa(f,so.EventType.ERROR,R=>{p||(p=!0,Zr(gt,`RPC '${e}' stream ${s} transport errored. Name:`,R.name,"Message:",R.message),v.o_(new B(V.UNAVAILABLE,"The operation could not be completed")))}),Xa(f,so.EventType.MESSAGE,R=>{var D;if(!p){const j=R.data[0];de(!!j,16349);const x=j,y=(x==null?void 0:x.error)||((D=x[0])==null?void 0:D.error);if(y){F(gt,`RPC '${e}' stream ${s} received error:`,y);const b=y.status;let I=function(T){const E=Be[T];if(E!==void 0)return Mw(E)}(b),U=y.message;I===void 0&&(I=V.INTERNAL,U="Unknown error status: "+b+" with message "+y.message),p=!0,v.o_(new B(I,U)),f.close()}else F(gt,`RPC '${e}' stream ${s} received:`,j),v.__(j)}}),Lr.u_(),setTimeout(()=>{v.s_()},0),v}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(n=>n===e)}Go(e,n,i){super.Go(e,n,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return ZT()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ck(t){return new Lr(t)}function Yd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _h(t){return new fO(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Lr.c_=!1;class Xw{constructor(e,n,i=1e3,s=1.5,r=6e4){this.Ci=e,this.timerId=n,this.R_=i,this.A_=s,this.V_=r,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-i);s>0&&F("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0="PersistentStream";class Ww{constructor(e,n,i,s,r,a,l,c){this.Ci=e,this.b_=i,this.S_=s,this.connection=r,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Xw(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===V.RESOURCE_EXHAUSTED?(ai(n.toString()),ai("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===V.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.D_===n&&this.G_(i,s)},i=>{e(()=>{const s=new B(V.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(s)})})}G_(e,n){const i=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo(()=>{i(()=>this.listener.Zo())}),this.stream.Yo(()=>{i(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(s=>{i(()=>this.z_(s))}),this.stream.onMessage(s=>{i(()=>++this.F_==1?this.H_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return F(f0,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget(()=>this.D_===e?n():(F(f0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class uk extends Ww{constructor(e,n,i,s,r,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,a),this.serializer=r}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=gO(this.serializer,e),i=function(r){if(!("targetChange"in r))return $.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?$.min():a.readTime?Rn(a.readTime):$.min()}(e);return this.listener.J_(n,i)}Z_(e){const n={};n.database=gm(this.serializer),n.addTarget=function(r,a){let l;const c=a.target;if(l=um(c)?{documents:_O(r,c)}:{query:EO(r,c).ft},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=Pw(r,a.resumeToken);const h=fm(r,a.expectedCount);h!==null&&(l.expectedCount=h)}else if(a.snapshotVersion.compareTo($.min())>0){l.readTime=Iu(r,a.snapshotVersion.toTimestamp());const h=fm(r,a.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,e);const i=xO(this.serializer,e);i&&(n.labels=i),this.K_(n)}X_(e){const n={};n.database=gm(this.serializer),n.removeTarget=e,this.K_(n)}}class hk extends Ww{constructor(e,n,i,s,r,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,a),this.serializer=r}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return de(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,de(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){de(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=vO(e.writeResults,e.commitTime),i=Rn(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=gm(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>yO(this.serializer,i))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{}class fk extends dk{constructor(e,n,i,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new B(V.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.connection.Wo(e,mm(n,i),s,r,a)).catch(r=>{throw r.name==="FirebaseError"?(r.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new B(V.UNKNOWN,r.toString())})}jo(e,n,i,s,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.jo(e,mm(n,i),s,a,l,r)).catch(a=>{throw a.name==="FirebaseError"?(a.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new B(V.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function mk(t,e,n,i){return new fk(t,e,n,i)}class pk{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ai(n),this.aa=!1):F("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs="RemoteStore";class gk{constructor(e,n,i,s,r){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=r,this.Aa.Mo(a=>{i.enqueueAndForget(async()=>{Zs(this)&&(F(Fs,"Restarting streams for network reachability change."),await async function(c){const h=X(c);h.Ea.add(4),await Rl(h),h.Va.set("Unknown"),h.Ea.delete(4),await Eh(h)}(this))})}),this.Va=new pk(i,s)}}async function Eh(t){if(Zs(t))for(const e of t.Ra)await e(!0)}async function Rl(t){for(const e of t.Ra)await e(!1)}function Jw(t,e){const n=X(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),sg(n)?ig(n):wa(n).O_()&&ng(n,e))}function tg(t,e){const n=X(t),i=wa(n);n.Ia.delete(e),i.O_()&&Zw(n,e),n.Ia.size===0&&(i.O_()?i.L_():Zs(n)&&n.Va.set("Unknown"))}function ng(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo($.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}wa(t).Z_(e)}function Zw(t,e){t.da.$e(e),wa(t).X_(e)}function ig(t){t.da=new cO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),wa(t).start(),t.Va.ua()}function sg(t){return Zs(t)&&!wa(t).x_()&&t.Ia.size>0}function Zs(t){return X(t).Ea.size===0}function eS(t){t.da=void 0}async function yk(t){t.Va.set("Online")}async function vk(t){t.Ia.forEach((e,n)=>{ng(t,e)})}async function _k(t,e){eS(t),sg(t)?(t.Va.ha(e),ig(t)):t.Va.set("Unknown")}async function Ek(t,e,n){if(t.Va.set("Online"),e instanceof Lw&&e.state===2&&e.cause)try{await async function(s,r){const a=r.cause;for(const l of r.targetIds)s.Ia.has(l)&&(await s.remoteSyncer.rejectListen(l,a),s.Ia.delete(l),s.da.removeTarget(l))}(t,e)}catch(i){F(Fs,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await ju(t,i)}else if(e instanceof zc?t.da.Xe(e):e instanceof Vw?t.da.st(e):t.da.tt(e),!n.isEqual($.min()))try{const i=await $w(t.localStore);n.compareTo(i)>=0&&await function(r,a){const l=r.da.Tt(a);return l.targetChanges.forEach((c,h)=>{if(c.resumeToken.approximateByteSize()>0){const f=r.Ia.get(h);f&&r.Ia.set(h,f.withResumeToken(c.resumeToken,a))}}),l.targetMismatches.forEach((c,h)=>{const f=r.Ia.get(c);if(!f)return;r.Ia.set(c,f.withResumeToken(ft.EMPTY_BYTE_STRING,f.snapshotVersion)),Zw(r,c);const m=new ki(f.target,c,h,f.sequenceNumber);ng(r,m)}),r.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(i){F(Fs,"Failed to raise snapshot:",i),await ju(t,i)}}async function ju(t,e,n){if(!xa(e))throw e;t.Ea.add(1),await Rl(t),t.Va.set("Offline"),n||(n=()=>$w(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{F(Fs,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Eh(t)})}function tS(t,e){return e().catch(n=>ju(t,n,e))}async function bh(t){const e=X(t),n=rs(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:qp;for(;bk(e);)try{const s=await tk(e.localStore,i);if(s===null){e.Ta.length===0&&n.L_();break}i=s.batchId,xk(e,s)}catch(s){await ju(e,s)}nS(e)&&iS(e)}function bk(t){return Zs(t)&&t.Ta.length<10}function xk(t,e){t.Ta.push(e);const n=rs(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function nS(t){return Zs(t)&&!rs(t).x_()&&t.Ta.length>0}function iS(t){rs(t).start()}async function Tk(t){rs(t).ra()}async function wk(t){const e=rs(t);for(const n of t.Ta)e.ea(n.mutations)}async function Sk(t,e,n){const i=t.Ta.shift(),s=Qp.from(i,e,n);await tS(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await bh(t)}async function Ak(t,e){e&&rs(t).Y_&&await async function(i,s){if(function(a){return aO(a)&&a!==V.ABORTED}(s.code)){const r=i.Ta.shift();rs(i).B_(),await tS(i,()=>i.remoteSyncer.rejectFailedWrite(r.batchId,s)),await bh(i)}}(t,e),nS(t)&&iS(t)}async function m0(t,e){const n=X(t);n.asyncQueue.verifyOperationInProgress(),F(Fs,"RemoteStore received new credentials");const i=Zs(n);n.Ea.add(3),await Rl(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Eh(n)}async function Nk(t,e){const n=X(t);e?(n.Ea.delete(2),await Eh(n)):e||(n.Ea.add(2),await Rl(n),n.Va.set("Unknown"))}function wa(t){return t.ma||(t.ma=function(n,i,s){const r=X(n);return r.sa(),new uk(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(t.datastore,t.asyncQueue,{Zo:yk.bind(null,t),Yo:vk.bind(null,t),t_:_k.bind(null,t),J_:Ek.bind(null,t)}),t.Ra.push(async e=>{e?(t.ma.B_(),sg(t)?ig(t):t.Va.set("Unknown")):(await t.ma.stop(),eS(t))})),t.ma}function rs(t){return t.fa||(t.fa=function(n,i,s){const r=X(n);return r.sa(),new hk(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:Tk.bind(null,t),t_:Ak.bind(null,t),ta:wk.bind(null,t),na:Sk.bind(null,t)}),t.Ra.push(async e=>{e?(t.fa.B_(),await bh(t)):(await t.fa.stop(),t.Ta.length>0&&(F(Fs,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,n,i,s,r){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=r,this.deferred=new $i,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,s,r){const a=Date.now()+i,l=new rg(e,n,a,s,r);return l.start(i),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new B(V.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ag(t,e){if(ai("AsyncQueue",`${e}: ${t}`),xa(t))return new B(V.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{static emptySet(e){return new Pr(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||G.comparator(n.key,i.key):(n,i)=>G.comparator(n.key,i.key),this.keyedMap=ro(),this.sortedSet=new Ie(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Pr)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(!s.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Pr;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(){this.ga=new Ie(G.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Y(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,i)=>{e.push(i)}),e}}class sa{constructor(e,n,i,s,r,a,l,c,h){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=r,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=h}static fromInitialDocuments(e,n,i,s,r){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new sa(e,n,Pr.emptySet(n),a,i,s,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}}class Ck{constructor(){this.queries=g0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const s=X(n),r=s.queries;s.queries=g0(),r.forEach((a,l)=>{for(const c of l.ba)c.onError(i)})})(this,new B(V.ABORTED,"Firestore shutting down"))}}function g0(){return new Js(t=>bw(t),fh)}async function sS(t,e){const n=X(t);let i=3;const s=e.query;let r=n.queries.get(s);r?!r.Sa()&&e.Da()&&(i=2):(r=new Rk,i=e.Da()?0:1);try{switch(i){case 0:r.wa=await n.onListen(s,!0);break;case 1:r.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const l=ag(a,`Initialization of query '${hr(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,r),r.ba.push(e),e.va(n.onlineState),r.wa&&e.Fa(r.wa)&&og(n)}async function rS(t,e){const n=X(t),i=e.query;let s=3;const r=n.queries.get(i);if(r){const a=r.ba.indexOf(e);a>=0&&(r.ba.splice(a,1),r.ba.length===0?s=e.Da()?0:1:!r.Sa()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function Ik(t,e){const n=X(t);let i=!1;for(const s of e){const r=s.query,a=n.queries.get(r);if(a){for(const l of a.ba)l.Fa(s)&&(i=!0);a.wa=s}}i&&og(n)}function Dk(t,e,n){const i=X(t),s=i.queries.get(e);if(s)for(const r of s.ba)r.onError(n);i.queries.delete(e)}function og(t){t.Ca.forEach(e=>{e.next()})}var _m,y0;(y0=_m||(_m={})).Ma="default",y0.Cache="cache";class aS{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new sa(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=sa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==_m.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e){this.key=e}}class lS{constructor(e){this.key=e}}class jk{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ae(),this.mutatedKeys=ae(),this.eu=xw(e),this.tu=new Pr(this.eu)}get nu(){return this.Za}ru(e,n){const i=n?n.iu:new p0,s=n?n.tu:this.tu;let r=n?n.mutatedKeys:this.mutatedKeys,a=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((f,m)=>{const p=s.get(f),v=mh(this.query,m)?m:null,R=!!p&&this.mutatedKeys.has(p.key),D=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let j=!1;p&&v?p.data.isEqual(v.data)?R!==D&&(i.track({type:3,doc:v}),j=!0):this.su(p,v)||(i.track({type:2,doc:v}),j=!0,(c&&this.eu(v,c)>0||h&&this.eu(v,h)<0)&&(l=!0)):!p&&v?(i.track({type:0,doc:v}),j=!0):p&&!v&&(i.track({type:1,doc:p}),j=!0,(c||h)&&(l=!0)),j&&(v?(a=a.add(v),r=D?r.add(f):r.delete(f)):(a=a.delete(f),r=r.delete(f)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const f=this.query.limitType==="F"?a.last():a.first();a=a.delete(f.key),r=r.delete(f.key),i.track({type:1,doc:f})}return{tu:a,iu:i,Ss:l,mutatedKeys:r}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,s){const r=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((f,m)=>function(v,R){const D=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y(20277,{Vt:j})}};return D(v)-D(R)}(f.type,m.type)||this.eu(f.doc,m.doc)),this.ou(i),s=s??!1;const l=n&&!s?this._u():[],c=this.Ya.size===0&&this.current&&!s?1:0,h=c!==this.Xa;return this.Xa=c,a.length!==0||h?{snapshot:new sa(this.query,e.tu,r,a,e.mutatedKeys,c===0,h,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new p0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Za=this.Za.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Za=this.Za.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=ae(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))});const n=[];return e.forEach(i=>{this.Ya.has(i)||n.push(new lS(i))}),this.Ya.forEach(i=>{e.has(i)||n.push(new oS(i))}),n}cu(e){this.Za=e.ks,this.Ya=ae();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return sa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const lg="SyncEngine";class Ok{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class kk{constructor(e){this.key=e,this.hu=!1}}class Mk{constructor(e,n,i,s,r,a){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=r,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Js(l=>bw(l),fh),this.Iu=new Map,this.Eu=new Set,this.Ru=new Ie(G.comparator),this.Au=new Map,this.Vu=new Wp,this.du={},this.mu=new Map,this.fu=ia.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Vk(t,e,n=!0){const i=mS(t);let s;const r=i.Tu.get(e);return r?(i.sharedClientState.addLocalQueryTarget(r.targetId),s=r.view.lu()):s=await cS(i,e,n,!0),s}async function Lk(t,e){const n=mS(t);await cS(n,e,!0,!1)}async function cS(t,e,n,i){const s=await nk(t.localStore,Nn(e)),r=s.targetId,a=t.sharedClientState.addLocalQueryTarget(r,n);let l;return i&&(l=await Pk(t,e,r,a==="current",s.resumeToken)),t.isPrimaryClient&&n&&Jw(t.remoteStore,s),l}async function Pk(t,e,n,i,s){t.pu=(m,p,v)=>async function(D,j,x,y){let b=j.view.ru(x);b.Ss&&(b=await c0(D.localStore,j.query,!1).then(({documents:T})=>j.view.ru(T,b)));const I=y&&y.targetChanges.get(j.targetId),U=y&&y.targetMismatches.get(j.targetId)!=null,q=j.view.applyChanges(b,D.isPrimaryClient,I,U);return _0(D,j.targetId,q.au),q.snapshot}(t,m,p,v);const r=await c0(t.localStore,e,!0),a=new jk(e,r.ks),l=a.ru(r.documents),c=Nl.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",s),h=a.applyChanges(l,t.isPrimaryClient,c);_0(t,n,h.au);const f=new Ok(e,n,a);return t.Tu.set(e,f),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function Uk(t,e,n){const i=X(t),s=i.Tu.get(e),r=i.Iu.get(s.targetId);if(r.length>1)return i.Iu.set(s.targetId,r.filter(a=>!fh(a,e))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await ym(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),n&&tg(i.remoteStore,s.targetId),Em(i,s.targetId)}).catch(ba)):(Em(i,s.targetId),await ym(i.localStore,s.targetId,!0))}async function zk(t,e){const n=X(t),i=n.Tu.get(e),s=n.Iu.get(i.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),tg(n.remoteStore,i.targetId))}async function Bk(t,e,n){const i=Qk(t);try{const s=await function(a,l){const c=X(a),h=Se.now(),f=l.reduce((v,R)=>v.add(R.key),ae());let m,p;return c.persistence.runTransaction("Locally write mutations","readwrite",v=>{let R=oi(),D=ae();return c.xs.getEntries(v,f).next(j=>{R=j,R.forEach((x,y)=>{y.isValidDocument()||(D=D.add(x))})}).next(()=>c.localDocuments.getOverlayedDocuments(v,R)).next(j=>{m=j;const x=[];for(const y of l){const b=tO(y,m.get(y.key).overlayedDocument);b!=null&&x.push(new ms(y.key,b,fw(b.value.mapValue),jt.exists(!0)))}return c.mutationQueue.addMutationBatch(v,h,x,l)}).next(j=>{p=j;const x=j.applyToLocalDocumentSet(m,D);return c.documentOverlayCache.saveOverlays(v,j.batchId,x)})}).then(()=>({batchId:p.batchId,changes:ww(m)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(a,l,c){let h=a.du[a.currentUser.toKey()];h||(h=new Ie(re)),h=h.insert(l,c),a.du[a.currentUser.toKey()]=h}(i,s.batchId,n),await Cl(i,s.changes),await bh(i.remoteStore)}catch(s){const r=ag(s,"Failed to persist write");n.reject(r)}}async function uS(t,e){const n=X(t);try{const i=await ZO(n.localStore,e);e.targetChanges.forEach((s,r)=>{const a=n.Au.get(r);a&&(de(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?a.hu=!0:s.modifiedDocuments.size>0?de(a.hu,14607):s.removedDocuments.size>0&&(de(a.hu,42227),a.hu=!1))}),await Cl(n,i,e)}catch(i){await ba(i)}}function v0(t,e,n){const i=X(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.Tu.forEach((r,a)=>{const l=a.view.va(e);l.snapshot&&s.push(l.snapshot)}),function(a,l){const c=X(a);c.onlineState=l;let h=!1;c.queries.forEach((f,m)=>{for(const p of m.ba)p.va(l)&&(h=!0)}),h&&og(c)}(i.eventManager,e),s.length&&i.Pu.J_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function qk(t,e,n){const i=X(t);i.sharedClientState.updateQueryState(e,"rejected",n);const s=i.Au.get(e),r=s&&s.key;if(r){let a=new Ie(G.comparator);a=a.insert(r,vt.newNoDocument(r,$.min()));const l=ae().add(r),c=new vh($.min(),new Map,new Ie(re),a,l);await uS(i,c),i.Ru=i.Ru.remove(r),i.Au.delete(e),cg(i)}else await ym(i.localStore,e,!1).then(()=>Em(i,e,n)).catch(ba)}async function Hk(t,e){const n=X(t),i=e.batch.batchId;try{const s=await JO(n.localStore,e);dS(n,i,null),hS(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Cl(n,s)}catch(s){await ba(s)}}async function Fk(t,e,n){const i=X(t);try{const s=await function(a,l){const c=X(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let f;return c.mutationQueue.lookupMutationBatch(h,l).next(m=>(de(m!==null,37113),f=m.keys(),c.mutationQueue.removeMutationBatch(h,m))).next(()=>c.mutationQueue.performConsistencyCheck(h)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(h,f,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,f)).next(()=>c.localDocuments.getDocuments(h,f))})}(i.localStore,e);dS(i,e,n),hS(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Cl(i,s)}catch(s){await ba(s)}}function hS(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function dS(t,e,n){const i=X(t);let s=i.du[i.currentUser.toKey()];if(s){const r=s.get(e);r&&(n?r.reject(n):r.resolve(),s=s.remove(e)),i.du[i.currentUser.toKey()]=s}}function Em(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach(i=>{t.Vu.containsKey(i)||fS(t,i)})}function fS(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(tg(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),cg(t))}function _0(t,e,n){for(const i of n)i instanceof oS?(t.Vu.addReference(i.key,e),Gk(t,i)):i instanceof lS?(F(lg,"Document no longer in limbo: "+i.key),t.Vu.removeReference(i.key,e),t.Vu.containsKey(i.key)||fS(t,i.key)):Y(19791,{wu:i})}function Gk(t,e){const n=e.key,i=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(i)||(F(lg,"New document in limbo: "+n),t.Eu.add(i),cg(t))}function cg(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new G(Ee.fromString(e)),i=t.fu.next();t.Au.set(i,new kk(n)),t.Ru=t.Ru.insert(n,i),Jw(t.remoteStore,new ki(Nn(dh(n.path)),i,"TargetPurposeLimboResolution",ch.ce))}}async function Cl(t,e,n){const i=X(t),s=[],r=[],a=[];i.Tu.isEmpty()||(i.Tu.forEach((l,c)=>{a.push(i.pu(c,e,n).then(h=>{var f;if((h||n)&&i.isPrimaryClient){const m=h?!h.fromCache:(f=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:f.current;i.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(h){s.push(h);const m=Zp.Es(c.targetId,h);r.push(m)}}))}),await Promise.all(a),i.Pu.J_(s),await async function(c,h){const f=X(c);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>P.forEach(h,p=>P.forEach(p.Ts,v=>f.persistence.referenceDelegate.addReference(m,p.targetId,v)).next(()=>P.forEach(p.Is,v=>f.persistence.referenceDelegate.removeReference(m,p.targetId,v)))))}catch(m){if(!xa(m))throw m;F(eg,"Failed to update sequence numbers: "+m)}for(const m of h){const p=m.targetId;if(!m.fromCache){const v=f.vs.get(p),R=v.snapshotVersion,D=v.withLastLimboFreeSnapshotVersion(R);f.vs=f.vs.insert(p,D)}}}(i.localStore,r))}async function Kk(t,e){const n=X(t);if(!n.currentUser.isEqual(e)){F(lg,"User change. New user:",e.toKey());const i=await Qw(n.localStore,e);n.currentUser=e,function(r,a){r.mu.forEach(l=>{l.forEach(c=>{c.reject(new B(V.CANCELLED,a))})}),r.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Cl(n,i.Ns)}}function Yk(t,e){const n=X(t),i=n.Au.get(e);if(i&&i.hu)return ae().add(i.key);{let s=ae();const r=n.Iu.get(e);if(!r)return s;for(const a of r){const l=n.Tu.get(a);s=s.unionWith(l.view.nu)}return s}}function mS(t){const e=X(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=uS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Yk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qk.bind(null,e),e.Pu.J_=Ik.bind(null,e.eventManager),e.Pu.yu=Dk.bind(null,e.eventManager),e}function Qk(t){const e=X(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Hk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Fk.bind(null,e),e}class Ou{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_h(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return WO(this.persistence,new QO,e.initialUser,this.serializer)}Cu(e){return new Yw(Jp.Vi,this.serializer)}Du(e){return new sk}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ou.provider={build:()=>new Ou};class $k extends Ou{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){de(this.persistence.referenceDelegate instanceof Du,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new OO(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Ct.withCacheSize(this.cacheSizeBytes):Ct.DEFAULT;return new Yw(i=>Du.Vi(i,n),this.serializer)}}class bm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>v0(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Kk.bind(null,this.syncEngine),await Nk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Ck}()}createDatastore(e){const n=_h(e.databaseInfo.databaseId),i=ck(e.databaseInfo);return mk(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,s,r,a,l){return new gk(i,s,r,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>v0(this.syncEngine,n,0),function(){return d0.v()?new d0:new rk}())}createSyncEngine(e,n){return function(s,r,a,l,c,h,f){const m=new Mk(s,r,a,l,c,h);return f&&(m.gu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const r=X(s);F(Fs,"RemoteStore shutting down."),r.Ea.add(5),await Rl(r),r.Aa.shutdown(),r.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}bm.provider={build:()=>new bm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ai("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as="FirestoreClient";class Xk{constructor(e,n,i,s,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this._databaseInfo=s,this.user=yt.UNAUTHENTICATED,this.clientId=Bp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(i,async a=>{F(as,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(i,a=>(F(as,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $i;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=ag(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Qd(t,e){t.asyncQueue.verifyOperationInProgress(),F(as,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async s=>{i.isEqual(s)||(await Qw(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function E0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Wk(t);F(as,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>m0(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>m0(e.remoteStore,s)),t._onlineComponents=e}async function Wk(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){F(as,"Using user provided OfflineComponentProvider");try{await Qd(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===V.FAILED_PRECONDITION||s.code===V.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Zr("Error using user provided cache. Falling back to memory cache: "+n),await Qd(t,new Ou)}}else F(as,"Using default OfflineComponentProvider"),await Qd(t,new $k(void 0));return t._offlineComponents}async function gS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(F(as,"Using user provided OnlineComponentProvider"),await E0(t,t._uninitializedComponentsProvider._online)):(F(as,"Using default OnlineComponentProvider"),await E0(t,new bm))),t._onlineComponents}function Jk(t){return gS(t).then(e=>e.syncEngine)}async function xm(t){const e=await gS(t),n=e.eventManager;return n.onListen=Vk.bind(null,e.syncEngine),n.onUnlisten=Uk.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Lk.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=zk.bind(null,e.syncEngine),n}function Zk(t,e,n,i){const s=new pS(i),r=new aS(e,s,n);return t.asyncQueue.enqueueAndForget(async()=>sS(await xm(t),r)),()=>{s.Nu(),t.asyncQueue.enqueueAndForget(async()=>rS(await xm(t),r))}}function eM(t,e,n={}){const i=new $i;return t.asyncQueue.enqueueAndForget(async()=>function(r,a,l,c,h){const f=new pS({next:p=>{f.Nu(),a.enqueueAndForget(()=>rS(r,m));const v=p.docs.has(l);!v&&p.fromCache?h.reject(new B(V.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&p.fromCache&&c&&c.source==="server"?h.reject(new B(V.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(p)},error:p=>h.reject(p)}),m=new aS(dh(l.path),f,{includeMetadataChanges:!0,Ka:!0});return sS(r,m)}(await xm(t),t.asyncQueue,e,n,i)),i.promise}function tM(t,e){const n=new $i;return t.asyncQueue.enqueueAndForget(async()=>Bk(await Jk(t),e,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM="ComponentProvider",b0=new Map;function iM(t,e,n,i,s){return new wj(t,e,n,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,yS(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS="firestore.googleapis.com",x0=!0;class T0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new B(V.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vS,this.ssl=x0}else this.host=e.host,this.ssl=e.ssl??x0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Kw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<DO)throw new B(V.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yS(e.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new B(V.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new B(V.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new B(V.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xh{constructor(e,n,i,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new T0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new B(V.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new B(V.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new T0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new ij;switch(i.type){case"firstParty":return new oj(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new B(V.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=b0.get(n);i&&(F(nM,"Removing Datastore"),b0.delete(n),i.terminate())}(this),Promise.resolve()}}function sM(t,e,n,i={}){var h;t=dn(t,xh);const s=ga(e),r=t._getSettings(),a={...r,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;s&&(oT(`https://${l}`),lT("Firestore",!0)),r.host!==vS&&r.host!==l&&Zr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...r,host:l,ssl:s,emulatorOptions:i};if(!zs(c,a)&&(t._setSettings(c),i.mockUserToken)){let f,m;if(typeof i.mockUserToken=="string")f=i.mockUserToken,m=yt.MOCK_USER;else{f=m2(i.mockUserToken,(h=t._app)==null?void 0:h.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new B(V.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new yt(p)}t._authCredentials=new sj(new tw(f,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new er(this.firestore,e,this._query)}}class Le{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Le(this.firestore,e,this._key)}toJSON(){return{type:Le._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Sl(n,Le._jsonSchema))return new Le(e,i||null,new G(Ee.fromString(n.referencePath)))}}Le._jsonSchemaVersion="firestore/documentReference/1.0",Le._jsonSchema={type:Ye("string",Le._jsonSchemaVersion),referencePath:Ye("string")};class Xi extends er{constructor(e,n,i){super(e,n,dh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Le(this.firestore,null,new G(e))}withConverter(e){return new Xi(this.firestore,e,this._path)}}function os(t,e,...n){if(t=Ue(t),nw("collection","path",e),t instanceof xh){const i=Ee.fromString(e,...n);return V_(i),new Xi(t,null,i)}{if(!(t instanceof Le||t instanceof Xi))throw new B(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Ee.fromString(e,...n));return V_(i),new Xi(t.firestore,null,i)}}function jn(t,e,...n){if(t=Ue(t),arguments.length===1&&(e=Bp.newId()),nw("doc","path",e),t instanceof xh){const i=Ee.fromString(e,...n);return M_(i),new Le(t,null,new G(i))}{if(!(t instanceof Le||t instanceof Xi))throw new B(V.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Ee.fromString(e,...n));return M_(i),new Le(t.firestore,t instanceof Xi?t.converter:null,new G(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0="AsyncQueue";class S0{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Xw(this,"async_queue_retry"),this._c=()=>{const i=Yd();i&&F(w0,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=Yd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Yd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new $i;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!xa(e))throw e;F(w0,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(i=>{throw this.nc=i,this.rc=!1,ai("INTERNAL UNHANDLED ERROR: ",A0(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=rg.createAndSchedule(this,e,n,i,r=>this.hc(r));return this.tc.push(s),s}uc(){this.nc&&Y(47125,{Pc:A0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function A0(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class ls extends xh{constructor(e,n,i,s){super(e,n,i,s),this.type="firestore",this._queue=new S0,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new S0(e),this._firestoreClient=void 0,await e}}}function rM(t,e){const n=typeof t=="object"?t:dT(),i=typeof t=="string"?t:Nu,s=Dp(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const r=d2("firestore");r&&sM(s,...r)}return s}function Th(t){if(t._terminated)throw new B(V.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||aM(t),t._firestoreClient}function aM(t){var i,s,r,a;const e=t._freezeSettings(),n=iM(t._databaseId,((i=t._app)==null?void 0:i.options.appId)||"",t._persistenceKey,(s=t._app)==null?void 0:s.options.apiKey,e);t._componentsProvider||(r=e.localCache)!=null&&r._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Xk(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(c){const h=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(h),_online:h}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new tn(ft.fromBase64String(e))}catch(n){throw new B(V.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new tn(ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:tn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Sl(e,tn._jsonSchema))return tn.fromBase64String(e.bytes)}}tn._jsonSchemaVersion="firestore/bytes/1.0",tn._jsonSchema={type:Ye("string",tn._jsonSchemaVersion),bytes:Ye("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new B(V.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new B(V.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new B(V.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return re(this._lat,e._lat)||re(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Cn._jsonSchemaVersion}}static fromJSON(e){if(Sl(e,Cn._jsonSchema))return new Cn(e.latitude,e.longitude)}}Cn._jsonSchemaVersion="firestore/geoPoint/1.0",Cn._jsonSchema={type:Ye("string",Cn._jsonSchemaVersion),latitude:Ye("number"),longitude:Ye("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,s){if(i.length!==s.length)return!1;for(let r=0;r<i.length;++r)if(i[r]!==s[r])return!1;return!0}(this._values,e._values)}toJSON(){return{type:fn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Sl(e,fn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new fn(e.vectorValues);throw new B(V.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}fn._jsonSchemaVersion="firestore/vectorValue/1.0",fn._jsonSchema={type:Ye("string",fn._jsonSchemaVersion),vectorValues:Ye("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oM=/^__.*__$/;class lM{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new ms(e,this.data,this.fieldMask,n,this.fieldTransforms):new Al(e,this.data,n,this.fieldTransforms)}}class _S{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new ms(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function ES(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y(40011,{dataSource:t})}}class ug{constructor(e,n,i,s,r,a){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,r===void 0&&this.validatePath(),this.fieldTransforms=r||[],this.fieldMask=a||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new ug({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var s;const n=(s=this.path)==null?void 0:s.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){var s;const n=(s=this.path)==null?void 0:s.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return ku(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(ES(this.dataSource)&&oM.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class cM{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||_h(e)}createContext(e,n,i,s=!1){return new ug({dataSource:e,methodName:n,targetDoc:i,path:ut.emptyPath(),arrayElement:!1,hasConverter:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Sh(t){const e=t._freezeSettings(),n=_h(t._databaseId);return new cM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function bS(t,e,n,i,s,r={}){const a=t.createContext(r.merge||r.mergeFields?2:0,e,n,s);fg("Data must be an object, but it was:",a,i);const l=wS(i,a);let c,h;if(r.merge)c=new zt(a.fieldMask),h=a.fieldTransforms;else if(r.mergeFields){const f=[];for(const m of r.mergeFields){const p=ra(e,m,n);if(!a.contains(p))throw new B(V.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);NS(f,p)||f.push(p)}c=new zt(f),h=a.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,h=a.fieldTransforms;return new lM(new It(l),c,h)}class Ah extends Il{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ah}}class hg extends Il{_toFieldTransform(e){return new jw(e.path,new Jo)}isEqual(e){return e instanceof hg}}class dg extends Il{constructor(e,n){super(e),this.Vc=n}_toFieldTransform(e){const n=new tl(e.serializer,Nw(e.serializer,this.Vc));return new jw(e.path,n)}isEqual(e){return e instanceof dg&&this.Vc===e.Vc}}function xS(t,e,n,i){const s=t.createContext(1,e,n);fg("Data must be an object, but it was:",s,i);const r=[],a=It.empty();fs(i,(c,h)=>{const f=AS(e,c,n);h=Ue(h);const m=s.childContextForFieldPath(f);if(h instanceof Ah)r.push(f);else{const p=Dl(h,m);p!=null&&(r.push(f),a.set(f,p))}});const l=new zt(r);return new _S(a,l,s.fieldTransforms)}function TS(t,e,n,i,s,r){const a=t.createContext(1,e,n),l=[ra(e,i,n)],c=[s];if(r.length%2!=0)throw new B(V.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<r.length;p+=2)l.push(ra(e,r[p])),c.push(r[p+1]);const h=[],f=It.empty();for(let p=l.length-1;p>=0;--p)if(!NS(h,l[p])){const v=l[p];let R=c[p];R=Ue(R);const D=a.childContextForFieldPath(v);if(R instanceof Ah)h.push(v);else{const j=Dl(R,D);j!=null&&(h.push(v),f.set(v,j))}}const m=new zt(h);return new _S(f,m,a.fieldTransforms)}function uM(t,e,n,i=!1){return Dl(n,t.createContext(i?4:3,e))}function Dl(t,e){if(SS(t=Ue(t)))return fg("Unsupported field value:",e,t),wS(t,e);if(t instanceof Il)return function(i,s){if(!ES(s.dataSource))throw s.createError(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.createError(`${i._methodName}() is not currently supported inside arrays`);const r=i._toFieldTransform(s);r&&s.fieldTransforms.push(r)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return function(i,s){const r=[];let a=0;for(const l of i){let c=Dl(l,s.childContextForArray(a));c==null&&(c={nullValue:"NULL_VALUE"}),r.push(c),a++}return{arrayValue:{values:r}}}(t,e)}return function(i,s){if((i=Ue(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Nw(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const r=Se.fromDate(i);return{timestampValue:Iu(s.serializer,r)}}if(i instanceof Se){const r=new Se(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Iu(s.serializer,r)}}if(i instanceof Cn)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof tn)return{bytesValue:Pw(s.serializer,i._byteString)};if(i instanceof Le){const r=s.databaseId,a=i.firestore._databaseId;if(!a.isEqual(r))throw s.createError(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Xp(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof fn)return function(a,l){const c=a instanceof fn?a.toArray():a;return{mapValue:{fields:{[hw]:{stringValue:dw},[Ru]:{arrayValue:{values:c.map(f=>{if(typeof f!="number")throw l.createError("VectorValues must only contain numeric values.");return Yp(l.serializer,f)})}}}}}}(i,s);if(Gw(i))return i._toProto(s.serializer);throw s.createError(`Unsupported field value: ${lh(i)}`)}(t,e)}function wS(t,e){const n={};return rw(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fs(t,(i,s)=>{const r=Dl(s,e.childContextForField(i));r!=null&&(n[i]=r)}),{mapValue:{fields:n}}}function SS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Se||t instanceof Cn||t instanceof tn||t instanceof Le||t instanceof Il||t instanceof fn||Gw(t))}function fg(t,e,n){if(!SS(n)||!iw(n)){const i=lh(n);throw i==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+i)}}function ra(t,e,n){if((e=Ue(e))instanceof wh)return e._internalPath;if(typeof e=="string")return AS(t,e);throw ku("Field path arguments must be of type string or ",t,!1,void 0,n)}const hM=new RegExp("[~\\*/\\[\\]]");function AS(t,e,n){if(e.search(hM)>=0)throw ku(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new wh(...e.split("."))._internalPath}catch{throw ku(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ku(t,e,n,i,s){const r=i&&!i.isEmpty(),a=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(r||a)&&(c+=" (found",r&&(c+=` in field ${i}`),a&&(c+=` in document ${s}`),c+=")"),new B(V.INVALID_ARGUMENT,l+t+c)}function NS(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{convertValue(e,n="none"){switch(ss(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Me(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(is(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Y(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return fs(e,(s,r)=>{i[s]=this.convertValue(r,n)}),i}convertVectorValue(e){var i,s,r;const n=(r=(s=(i=e.fields)==null?void 0:i[Ru].arrayValue)==null?void 0:s.values)==null?void 0:r.map(a=>Me(a.doubleValue));return new fn(n)}convertGeoPoint(e){return new Cn(Me(e.latitude),Me(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=hh(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Qo(e));default:return null}}convertTimestamp(e){const n=ns(e);return new Se(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Ee.fromString(e);de(Fw(i),9688,{name:e});const s=new $o(i.get(1),i.get(3)),r=new G(i.popFirst(5));return s.isEqual(n)||ai(`Document ${r} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),r}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS extends dM{constructor(e){super(),this.firestore=e}convertBytes(e){return new tn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Le(this.firestore,null,n)}}function CS(){return new hg("serverTimestamp")}function fM(t){return new dg("increment",t)}const N0="@firebase/firestore",R0="4.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(t){return function(n,i){if(typeof n!="object"||n===null)return!1;const s=n;for(const r of i)if(r in s&&typeof s[r]=="function")return!0;return!1}(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e,n,i,s,r){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=s,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new Le(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new mM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(ra("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class mM extends IS{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new B(V.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mg{}class DS extends mg{}function jS(t,e,...n){let i=[];e instanceof mg&&i.push(e),i=i.concat(n),function(r){const a=r.filter(c=>c instanceof gg).length,l=r.filter(c=>c instanceof pg).length;if(a>1||a>0&&l>0)throw new B(V.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)t=s._apply(t);return t}class pg extends DS{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new pg(e,n,i)}_apply(e){const n=this._parse(e);return kS(e._query,n),new er(e.firestore,e.converter,hm(e._query,n))}_parse(e){const n=Sh(e.firestore);return function(r,a,l,c,h,f,m){let p;if(h.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new B(V.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){D0(m,f);const R=[];for(const D of m)R.push(I0(c,r,D));p={arrayValue:{values:R}}}else p=I0(c,r,m)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||D0(m,f),p=uM(l,a,m,f==="in"||f==="not-in");return Ge.create(h,f,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class gg extends mg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new gg(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:pn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,r){let a=s;const l=r.getFlattenedFilters();for(const c of l)kS(a,c),a=hm(a,c)}(e._query,n),new er(e.firestore,e.converter,hm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class yg extends DS{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new yg(e,n)}_apply(e){const n=function(s,r,a){if(s.startAt!==null)throw new B(V.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new B(V.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Wo(r,a)}(e._query,this._field,this._direction);return new er(e.firestore,e.converter,qj(e._query,n))}}function OS(t,e="asc"){const n=e,i=ra("orderBy",t);return yg._create(i,n)}function I0(t,e,n){if(typeof(n=Ue(n))=="string"){if(n==="")throw new B(V.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ew(e)&&n.indexOf("/")!==-1)throw new B(V.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Ee.fromString(n));if(!G.isDocumentKey(i))throw new B(V.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return F_(t,new G(i))}if(n instanceof Le)return F_(t,n._key);throw new B(V.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lh(n)}.`)}function D0(t,e){if(!Array.isArray(t)||t.length===0)throw new B(V.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function kS(t,e){const n=function(s,r){for(const a of s)for(const l of a.getFlattenedFilters())if(r.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new B(V.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new B(V.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function MS(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}class oo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ks extends IS{constructor(e,n,i,s,r,a){super(e,n,i,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Bc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(ra("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new B(V.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ks._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ks._jsonSchemaVersion="firestore/documentSnapshot/1.0",ks._jsonSchema={type:Ye("string",ks._jsonSchemaVersion),bundleSource:Ye("string","DocumentSnapshot"),bundleName:Ye("string"),bundle:Ye("string")};class Bc extends ks{data(e={}){return super.data(e)}}class Ur{constructor(e,n,i,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new oo(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Bc(this._firestore,this._userDataWriter,i.key,i,new oo(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new B(V.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,r){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(l=>{const c=new Bc(s._firestore,s._userDataWriter,l.doc.key,l.doc,new oo(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>r||l.type!==3).map(l=>{const c=new Bc(s._firestore,s._userDataWriter,l.doc.key,l.doc,new oo(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let h=-1,f=-1;return l.type!==0&&(h=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),f=a.indexOf(l.doc.key)),{type:gM(l.type),doc:c,oldIndex:h,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new B(V.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ur._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Bp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],s=[];return this.docs.forEach(r=>{r._document!==null&&(n.push(r._document),i.push(this._userDataWriter.convertObjectMap(r._document.data.value.mapValue.fields,"previous")),s.push(r.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function gM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ur._jsonSchemaVersion="firestore/querySnapshot/1.0",Ur._jsonSchema={type:Ye("string",Ur._jsonSchemaVersion),bundleSource:Ye("string","QuerySnapshot"),bundleName:Ye("string"),bundle:Ye("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Sh(e)}set(e,n,i){this._verifyNotCommitted();const s=$d(e,this._firestore),r=MS(s.converter,n,i),a=bS(this._dataReader,"WriteBatch.set",s._key,r,s.converter!==null,i);return this._mutations.push(a.toMutation(s._key,jt.none())),this}update(e,n,i,...s){this._verifyNotCommitted();const r=$d(e,this._firestore);let a;return a=typeof(n=Ue(n))=="string"||n instanceof wh?TS(this._dataReader,"WriteBatch.update",r._key,n,i,s):xS(this._dataReader,"WriteBatch.update",r._key,n),this._mutations.push(a.toMutation(r._key,jt.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=$d(e,this._firestore);return this._mutations=this._mutations.concat(new yh(n._key,jt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new B(V.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function $d(t,e){if((t=Ue(t)).firestore!==e)throw new B(V.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg(t){t=dn(t,Le);const e=dn(t.firestore,ls),n=Th(e);return eM(n,t._key).then(i=>LS(e,t,i))}function _g(t,e,n,...i){t=dn(t,Le);const s=dn(t.firestore,ls),r=Sh(s);let a;return a=typeof(e=Ue(e))=="string"||e instanceof wh?TS(r,"updateDoc",t._key,e,n,i):xS(r,"updateDoc",t._key,e),Nh(s,[a.toMutation(t._key,jt.exists(!0))])}function VS(t){return Nh(dn(t.firestore,ls),[new yh(t._key,jt.none())])}function Eg(t,e){const n=dn(t.firestore,ls),i=jn(t),s=MS(t.converter,e),r=Sh(t.firestore);return Nh(n,[bS(r,"addDoc",i._key,s,t.converter!==null,{}).toMutation(i._key,jt.exists(!1))]).then(()=>i)}function jl(t,...e){var h,f,m;t=Ue(t);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||C0(e[i])||(n=e[i++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(C0(e[i])){const p=e[i];e[i]=(h=p.next)==null?void 0:h.bind(p),e[i+1]=(f=p.error)==null?void 0:f.bind(p),e[i+2]=(m=p.complete)==null?void 0:m.bind(p)}let r,a,l;if(t instanceof Le)a=dn(t.firestore,ls),l=dh(t._key.path),r={next:p=>{e[i]&&e[i](LS(a,t,p))},error:e[i+1],complete:e[i+2]};else{const p=dn(t,er);a=dn(p.firestore,ls),l=p._query;const v=new RS(a);r={next:R=>{e[i]&&e[i](new Ur(a,v,p,R))},error:e[i+1],complete:e[i+2]},pM(t._query)}const c=Th(a);return Zk(c,l,s,r)}function Nh(t,e){const n=Th(t);return tM(n,e)}function LS(t,e,n){const i=n.docs.get(e._key),s=new RS(t);return new ks(t,s,e._key,i,new oo(n.hasPendingWrites,n.fromCache),e.converter)}function vM(t){return t=dn(t,ls),Th(t),new yM(t,e=>Nh(t,e))}(function(e,n=!0){nj(ya),Wr(new Bs("firestore",(i,{instanceIdentifier:s,options:r})=>{const a=i.getProvider("app").getImmediate(),l=new ls(new rj(i.getProvider("auth-internal")),new lj(a,i.getProvider("app-check-internal")),Sj(a,s),a);return r={useFetchStreams:n,...r},l._setSettings(r),l},"PUBLIC").setMultipleInstances(!0)),Ki(N0,R0,e),Ki(N0,R0,"esm2020")})();const _M={apiKey:"AIzaSyCIPE6DWpsUhDwRz9r5WMnsLGV4f8y-X2s",authDomain:"ambrosia-web-bc4f9.firebaseapp.com",projectId:"ambrosia-web-bc4f9",storageBucket:"ambrosia-web-bc4f9.firebasestorage.app",messagingSenderId:"768539470516",appId:"1:768539470516:web:d9f3705b1c79d35147c5e1",measurementId:"G-08Y4G38JM3"},PS=hT(_M),nl=ej(PS),it=rM(PS),US=C.createContext(),EM=()=>C.useContext(US),bM=({children:t})=>{const[e,n]=C.useState(null),[i,s]=C.useState(null),[r,a]=C.useState(!0);C.useEffect(()=>HD(nl,async h=>{if(h){try{const f=await vg(jn(it,"users",h.uid));f.exists()?s(f.data().role):s("customer")}catch(f){console.error("AuthProvider: Error fetching role",f)}n(h)}else n(null),s(null);a(!1)}),[]);const l={currentUser:e,userRole:i,loading:r,isAdmin:i==="admin"};return u.jsx(US.Provider,{value:l,children:!r&&t})},xM=()=>{const[t,e]=C.useState(!1),{cartCount:n}=_l();return C.useEffect(()=>{const i=()=>{e(window.scrollY>50)};return window.addEventListener("scroll",i),()=>window.removeEventListener("scroll",i)},[]),u.jsx("nav",{className:`navbar ${t?"scrolled":""}`,children:u.jsxs("div",{className:"nav-container",children:[u.jsx($e,{to:"/",className:"nav-logo",children:"Ambrosia"}),u.jsxs("div",{className:"nav-links",children:[u.jsx(En,{to:"/",className:({isActive:i})=>`nav-link ${i?"active":""}`,end:!0,children:"Home"}),u.jsx(En,{to:"/shop",className:({isActive:i})=>`nav-link ${i?"active":""}`,children:"Shop"}),u.jsx(En,{to:"/about-cinnamon",className:({isActive:i})=>`nav-link ${i?"active":""}`,children:"Cinnamon"}),u.jsx(En,{to:"/recipes",className:({isActive:i})=>`nav-link ${i?"active":""}`,children:"Recipes"}),u.jsx(En,{to:"/contact",className:({isActive:i})=>`nav-link ${i?"active":""}`,children:"Contact"})]}),u.jsxs("div",{className:"nav-actions flex items-center gap-6",children:[u.jsxs($e,{to:"/cart",className:"cart-link relative text-white hover:text-gold transition-colors",children:[u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("circle",{cx:"9",cy:"21",r:"1"}),u.jsx("circle",{cx:"20",cy:"21",r:"1"}),u.jsx("path",{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"})]}),n>0&&u.jsx("span",{className:"cart-badge absolute -top-2 -right-2 bg-gold text-black text-[10px] font-bold w-5 h-5 rounded-full flex items-center justify-center",children:n})]}),u.jsx($e,{to:"/shop",className:"btn-outline nav-btn",children:"Shop Now"})]}),u.jsx("div",{className:"nav-toggle",children:u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),u.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),u.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})})]})})},TM=()=>u.jsx("footer",{className:"footer",children:u.jsxs("div",{className:"container",children:[u.jsxs("div",{className:"footer-content",children:[u.jsxs("div",{className:"footer-column",children:[u.jsx("h4",{className:"font-heading",children:"Ambrosia"}),u.jsx("p",{className:"text-gray-500 text-sm leading-7",children:"Delivering the 100% authentic essence of Sri Lankan Ceylon Cinnamon to the world. A commitment to purity, heritage, and health."})]}),u.jsxs("div",{className:"footer-column",children:[u.jsx("h4",{children:"Quick Links"}),u.jsxs("ul",{children:[u.jsx("li",{children:u.jsx($e,{to:"/shop",children:"Online Store"})}),u.jsx("li",{children:u.jsx($e,{to:"/about-cinnamon",children:"About Cinnamon"})}),u.jsx("li",{children:u.jsx($e,{to:"/recipes",children:"Recipes & Blog"})}),u.jsx("li",{children:u.jsx($e,{to:"/faq",children:"FAQs"})})]})]}),u.jsxs("div",{className:"footer-column",children:[u.jsx("h4",{children:"Support"}),u.jsxs("ul",{children:[u.jsx("li",{children:u.jsx($e,{to:"/contact",children:"Contact Us"})}),u.jsx("li",{children:u.jsx($e,{to:"/privacy",children:"Privacy Policy"})}),u.jsx("li",{children:u.jsx($e,{to:"/terms",children:"Terms & Conditions"})})]})]}),u.jsxs("div",{className:"footer-column",children:[u.jsx("h4",{children:"Newsletter"}),u.jsxs("div",{className:"newsletter-form mt-4",children:[u.jsx("input",{type:"email",placeholder:"Your email address",className:"bg-[#1a1a1a] border border-white/10 p-2 text-sm w-full mb-2"}),u.jsx("button",{className:"btn-outline w-full py-2 text-xs",children:"Subscribe"})]})]})]}),u.jsx("div",{className:"footer-bottom",children:u.jsx("p",{children:" 2026 Ambrosia 100% Sri Lankan Cinnamon. All rights reserved."})})]})}),wM="/Ambrosia/assets/hero_bg-Cd28FfOR.png",SM=()=>u.jsxs("section",{id:"home",className:"hero",children:[u.jsxs("div",{className:"hero-bg",children:[u.jsx("img",{src:wM,alt:"Cinnamon Background"}),u.jsx("div",{className:"hero-overlay"})]}),u.jsxs("div",{className:"hero-content",children:[u.jsx("span",{className:"hero-eyebrow",children:"Ambrosia  Pure, Premium 100% Sri Lankan Cinnamon"}),u.jsx("h1",{className:"hero-title",children:"Divine Essence"}),u.jsx("p",{className:"hero-desc",children:"Experience the gold standard of spices. 100% authentic, hand-harvested Ceylon cinnamon from the heart of Sri Lanka."}),u.jsxs("div",{className:"hero-actions",children:[u.jsx("a",{href:"#products",className:"btn",children:"Shop Now"}),u.jsx("a",{href:"#heritage",className:"btn btn-outline",style:{marginLeft:"1rem"},children:"Learn More"})]})]})]}),AM=()=>u.jsx("section",{id:"heritage",className:"brand-intro-section",children:u.jsx("div",{className:"container",children:u.jsxs("div",{className:"intro-grid",children:[u.jsxs("div",{className:"intro-text",children:[u.jsx("span",{className:"gold-label",children:"Our Mission"}),u.jsx("h2",{className:"text-4xl font-heading mb-6 text-white",children:"Ambrosia  Pure, Premium 100% Sri Lankan Cinnamon"}),u.jsx("p",{className:"intro-p",children:"Born from the sun-drenched coastal gardens of Sri Lanka, Ambrosia is a tribute to the legendary 'Gold of the East'. We specialize exclusively in true Ceylon Cinnamon (Cinnamomum Verum)  the only 100% authentic, low-coumarin variety that offers genuine health benefits and a sophisticated sweetness."}),u.jsx("p",{className:"intro-p",children:"Our mission is simple: To bring the finest grade cinnamon, usually reserved for the royal houses of the world, directly to your kitchen."})]}),u.jsxs("div",{className:"quick-links",children:[u.jsx("h3",{className:"text-xl font-heading mb-6 text-gold",children:"Explore Ambrosia"}),u.jsxs("div",{className:"links-stack",children:[u.jsxs("a",{href:"#products",className:"quick-link-item",children:[u.jsx("span",{className:"link-icon",children:""}),u.jsxs("div",{className:"link-content",children:[u.jsx("h4",{children:"Online Shop"}),u.jsx("p",{children:"Browse our sticks, powders, and blends."})]})]}),u.jsxs("a",{href:"#about-cinnamon",className:"quick-link-item",children:[u.jsx("span",{className:"link-icon",children:""}),u.jsxs("div",{className:"link-content",children:[u.jsx("h4",{children:"About Cinnamon"}),u.jsx("p",{children:"Learn the difference between Ceylon and Cassia."})]})]}),u.jsxs("a",{href:"#recipes",className:"quick-link-item",children:[u.jsx("span",{className:"link-icon",children:""}),u.jsxs("div",{className:"link-content",children:[u.jsx("h4",{children:"Recipes & Blog"}),u.jsx("p",{children:"Discover healthy ways to use cinnamon."})]})]})]})]})]})})}),Gs="/Ambrosia/assets/divine-CAd-ezJ-.png",zS="/Ambrosia/assets/kuveni-CIhBCFC7.png",BS="/Ambrosia/assets/ravana-UNXb9jZj.png",NM=[{id:1,name:"Divine Essence Powder",price:45,image:Gs,description:"Finely milled 100% Sri Lankan cinnamon powder for effortless blending."},{id:2,name:"Kuveni's Reserve Sticks",price:60,image:zS,description:"Hand-rolled Alba grade Ceylon cinnamon sticks, the gold standard."},{id:3,name:"Ravana's Signature Blend",price:55,image:BS,description:"A specialized infusion of spices anchored by our premium cinnamon."}],RM=()=>{const{addToCart:t}=_l();return u.jsx("section",{id:"products",className:"products-section",children:u.jsxs("div",{className:"container",children:[u.jsxs("div",{className:"section-header",children:[u.jsx("h2",{className:"section-title",children:"Royal Collections"}),u.jsx("p",{className:"section-subtitle",children:"Curated from the ancient gardens of Ceylon."})]}),u.jsx("div",{className:"products-grid",children:NM.map(e=>u.jsxs("div",{className:"product-card",children:[u.jsx("div",{className:"product-image-wrapper",children:u.jsx("img",{src:e.image,alt:e.name,className:"product-image"})}),u.jsxs("div",{className:"product-info",children:[u.jsx("h3",{className:"product-name",children:e.name}),u.jsx("p",{className:"product-desc",children:e.description}),u.jsxs("span",{className:"product-price",children:["$",e.price.toFixed(2)]}),u.jsx("button",{onClick:()=>t(e),className:"product-btn uppercase",children:"Add to Cart"})]})]},e.id))})]})})},il="/Ambrosia/assets/garden-0ov3Dsbc.png",CM=[{id:1,title:"Golden Cinnamon Latte",category:"Beverages",image:Gs,time:"5 mins",desc:"A warm, soul-soothing latte infused with Ambrosia Divine Essence."},{id:2,title:"Authentic Sri Lankan Chai",category:"Beverages",image:il,time:"15 mins",desc:"A spiced tea tradition using whole Kuveni sticks."},{id:3,title:"Cinnamon Glazed Apple Tart",category:"Desserts",image:Gs,time:"45 mins",desc:"A classic dessert elevated by the floral notes of Ceylon cinnamon."},{id:4,title:"Health Benefits of Daily Cinnamon",category:"Wellness",image:il,time:"4 min read",desc:"How a pinch of Ambrosia every morning can change your metabolism."}],IM=()=>u.jsx("section",{className:"recipes-home-section",children:u.jsxs("div",{className:"container",children:[u.jsxs("div",{className:"section-header",children:[u.jsx("h2",{className:"section-title",children:"Recipes & Rituals"}),u.jsx("p",{className:"section-subtitle",children:"Discover the endless possibilities of true cinnamon."})]}),u.jsx("div",{className:"recipes-home-scroll",children:CM.map(t=>u.jsxs("div",{className:"recipe-home-card",children:[u.jsxs("div",{className:"recipe-home-image",children:[u.jsx("img",{src:t.image,alt:t.title}),u.jsx("span",{className:"recipe-home-cat",children:t.category})]}),u.jsxs("div",{className:"recipe-home-info",children:[u.jsx("span",{className:"recipe-home-time",children:t.time}),u.jsx("h3",{className:"recipe-home-title",children:t.title}),u.jsx("p",{className:"recipe-home-desc",children:t.desc}),u.jsx($e,{to:"/recipes",className:"recipe-home-link",children:"Read More"})]})]},t.id))})]})}),DM=[{id:1,name:"Sarah Johnson",role:"Professional Baker",content:"The aroma of Ambrosia's Divine Essence is incomparable. It transformed my signature cinnamon rolls into something truly legendary.",rating:5},{id:2,name:"Dr. Aris Fernando",role:"Wellness Consultant",content:"I recommend Ambrosia to all my clients. Knowing it's 100% authentic Sri Lankan cinnamon gives me peace of mind regarding its health benefits.",rating:5},{id:3,name:"Michael Chen",role:"Home Enthusiast",content:"I never knew there was such a difference between regular cinnamon and Ceylon cinnamon until I tried the Ravana's Blend. Incredible depth!",rating:5}],jM=()=>u.jsx("section",{className:"testimonials-section",children:u.jsxs("div",{className:"container",children:[u.jsxs("div",{className:"section-header",children:[u.jsx("h2",{className:"section-title",children:"What Our Patrons Say"}),u.jsx("p",{className:"section-subtitle",children:"Join the community of those who appreciate the finer things in life."})]}),u.jsx("div",{className:"testimonials-grid",children:DM.map(t=>u.jsxs("div",{className:"testimonial-card",children:[u.jsx("div",{className:"stars",children:[...Array(t.rating)].map((e,n)=>u.jsx("span",{className:"star",children:""},n))}),u.jsxs("p",{className:"testimonial-content",children:['"',t.content,'"']}),u.jsx("div",{className:"testimonial-author",children:u.jsxs("div",{className:"author-info",children:[u.jsx("h4",{className:"author-name",children:t.name}),u.jsx("p",{className:"author-role",children:t.role})]})})]},t.id))})]})}),OM=()=>u.jsxs("div",{className:"home-page",children:[u.jsx(SM,{}),u.jsx(AM,{}),u.jsx(RM,{}),u.jsx(IM,{}),u.jsx(jM,{})]}),kM=()=>u.jsxs("div",{className:"about-page",children:[u.jsx("section",{className:"about-hero",children:u.jsxs("div",{className:"container",children:[u.jsx("h1",{className:"text-6xl font-heading text-gold mb-4",children:"Our Heritage"}),u.jsx("p",{className:"text-xl text-gray-300 max-w-2xl",children:"Preserving the 100% authentic legacy of Ceylon Cinnamon."})]})}),u.jsx("section",{className:"mission-section py-20",children:u.jsxs("div",{className:"container intro-grid",children:[u.jsxs("div",{className:"mission-text",children:[u.jsx("h2",{className:"text-4xl font-heading text-white mb-8",children:"A Legacy of Excellence"}),u.jsx("p",{className:"text-gray-400 mb-6 leading-relaxed",children:"Ambrosia was founded on a singular realization: the true essence of Sri Lankan cinnamon was being lost to the world. In an era dominated by mass-market Cassia, the legendary 'Cinnamomum Verum' of Ceylononce more valuable than goldhad become a rare luxury."}),u.jsx("p",{className:"text-gray-400 mb-6 leading-relaxed",children:"Our journey began in the southern coastal stretches of Sri Lanka, where the humid air and salty breeze create the perfect cradle for the world's finest cinnamon. We don't just sell a spice; we protect a thousand-year-old tradition of hand-peeling and air-drying that has been passed down through generations of 'Salagama' harvesters."})]}),u.jsx("div",{className:"mission-image",children:u.jsx("img",{src:il,alt:"Cinnamon Garden",className:"rounded-lg shadow-2xl"})})]})}),u.jsx("section",{className:"sourcing-section py-20 bg-gold/5",children:u.jsxs("div",{className:"container",children:[u.jsxs("div",{className:"text-center mb-16",children:[u.jsx("h2",{className:"text-4xl font-heading text-gold mb-4",children:"Sustainable Sourcing"}),u.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"We believe in a cycle of respectfor the soil, the farmer, and the consumer."})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-16 items-center",children:[u.jsxs("div",{className:"sourcing-content",children:[u.jsx("h3",{className:"text-2xl text-white mb-6",children:"Direct from the Wild Gardens"}),u.jsx("p",{className:"text-gray-500 mb-6",children:"Unlike industrial plantations, our cinnamon is sourced from 'wild gardens' where biodiversity is encouraged. This natural ecosystem allows the trees to develop higher concentrations of essential oils, resulting in the signature floral aroma unique to Ambrosia."}),u.jsx("p",{className:"text-gray-500",children:"Every harvest is traceable to its village of origin, ensuring that the local communities that have guarded this heritage for centuries are fairly compensated and supported."})]}),u.jsxs("div",{className:"sourcing-stats grid grid-cols-2 gap-8",children:[u.jsxs("div",{className:"stat-box",children:[u.jsx("span",{className:"text-4xl text-gold font-bold",children:"100%"}),u.jsx("p",{className:"text-gray-400",children:"Natural & Organic"})]}),u.jsxs("div",{className:"stat-box",children:[u.jsx("span",{className:"text-4xl text-gold font-bold",children:"500+"}),u.jsx("p",{className:"text-gray-400",children:"Local Farmers"})]}),u.jsxs("div",{className:"stat-box",children:[u.jsx("span",{className:"text-4xl text-gold font-bold",children:"0%"}),u.jsx("p",{className:"text-gray-400",children:"Chemical Additives"})]}),u.jsxs("div",{className:"stat-box",children:[u.jsx("span",{className:"text-4xl text-gold font-bold",children:"True"}),u.jsx("p",{className:"text-gray-400",children:"Alba Grade Only"})]})]})]})]})})]}),MM="/Ambrosia/assets/comparison-D2ywGGNU.png",Xd=["Cinnamon bark is harvested after two years of growth during the rainy season.","True Ceylon Cinnamon quills are filled like a cigar with small, fine chips.","In the 1st century AD, 350 grams of cinnamon was worth 5 kilograms of silver.","The word 'Cinnamon' is derived from the Greek 'kinnamon'."],VM=()=>{const[t,e]=C.useState(0);return C.useEffect(()=>{const n=setInterval(()=>{e(i=>(i+1)%Xd.length)},5e3);return()=>clearInterval(n)},[]),u.jsxs("div",{className:"cinnamon-education-page",children:[u.jsx("section",{className:"edu-hero",children:u.jsxs("div",{className:"container text-center",children:[u.jsx("span",{className:"gold-label font-bold tracking-widest uppercase mb-4 block",children:"Educational Guide"}),u.jsx("h1",{className:"text-7xl font-heading text-gold mb-6",children:"The Gold of the East"}),u.jsx("p",{className:"text-xl text-gray-200 max-w-3xl mx-auto leading-relaxed mb-10",children:"Deep within the soul of Sri Lanka lies a secret that shaped world history. Worshiped by Emperors and sought by explorers, Ceylon Cinnamon remains nature's most sophisticated spice."}),u.jsxs("div",{className:"flex justify-center gap-6",children:[u.jsx("a",{href:"#production-video",className:"btn btn-outline",children:"Watch Production"}),u.jsx($e,{to:"/shop",className:"btn",children:"Shop Collection"})]})]})}),u.jsx("section",{className:"history-section py-24 bg-[#050505]",children:u.jsx("div",{className:"container",children:u.jsxs("div",{className:"history-grid grid grid-cols-2 gap-20 items-center",children:[u.jsxs("div",{className:"history-content",children:[u.jsx("h2",{className:"text-4xl font-heading text-white mb-8",children:"A Journey Through Time"}),u.jsx("p",{className:"text-gray-400 mb-6 leading-relaxed",children:"The documented history of Sri Lankan cinnamon dates back over 3,000 years. Mentioned in the Old Testament and sought by Ancient Egyptians for embalming, it was the most prized possession in the ancient world."}),u.jsx("p",{className:"text-gray-400 mb-6 leading-relaxed",children:"In the 15th century, the 'Cinnamon Quest' launched the Age of Discovery. Columbus, Vasco da Gama, and Magellan sailed into the unknown partially driven by the intoxicating scent of Ceylons 'true' cinnamon. For centuries, nations fought wars for the exclusive rights to our island's shores."}),u.jsxs("blockquote",{className:"border-l-4 border-gold pl-6 py-2 italic text-gray-300 text-lg",children:['"The cinnamon of Ceylon is the best in all the world, and many-a-man hath lost his life for its sake."',u.jsx("span",{className:"block text-sm text-gold mt-2",children:" 17th Century Dutch Explorer"})]})]}),u.jsx("div",{className:"history-visual relative",children:u.jsxs("div",{className:"history-box p-12 bg-gold/5 border border-gold/20 rounded-lg",children:[u.jsx("h3",{className:"text-2xl text-gold mb-6 font-heading",children:"Key Historical Milestones"}),u.jsxs("ul",{className:"space-y-6",children:[u.jsxs("li",{className:"flex gap-4",children:[u.jsx("span",{className:"text-gold font-bold",children:"1400 BC:"}),u.jsx("p",{className:"text-gray-400 text-sm",children:"Used in Ancient Egypt as a sacred medicinal ingredient."})]}),u.jsxs("li",{className:"flex gap-4",children:[u.jsx("span",{className:"text-gold font-bold",children:"1505 AD:"}),u.jsx("p",{className:"text-gray-400 text-sm",children:"Portuguese explorers land in Sri Lanka, seeking the source of 'True Cinnamon'."})]}),u.jsxs("li",{className:"flex gap-4",children:[u.jsx("span",{className:"text-gold font-bold",children:"18th Century:"}),u.jsx("p",{className:"text-gray-400 text-sm",children:"Dutch East India Company establishes the first systematic plantations."})]})]})]})})]})})}),u.jsx("section",{id:"production-video",className:"video-section py-24 bg-black",children:u.jsxs("div",{className:"container",children:[u.jsxs("div",{className:"text-center mb-16",children:[u.jsx("h2",{className:"text-4xl font-heading text-gold mb-4",children:"Life of Cinnamon"}),u.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"Witness the meticulous craft behind every Ambrosia quill."})]}),u.jsx("div",{className:"video-container aspect-video max-w-5xl mx-auto rounded-2xl overflow-hidden border border-gold/10 shadow-2xl",children:u.jsx("iframe",{width:"100%",height:"100%",src:"https://www.youtube.com/embed/j_8c8XwK6-o",title:"Life of Ceylon Cinnamon",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),u.jsx("p",{className:"text-center text-gray-500 mt-8 italic",children:"Courtesy: A cinematic look at the traditional peeling process in Southern Sri Lanka."})]})}),u.jsx("section",{className:"types-section py-24 bg-[#0a0a0a]",children:u.jsxs("div",{className:"container grid grid-cols-2 gap-20 items-center",children:[u.jsx("div",{className:"order-2 lg:order-1",children:u.jsx("img",{src:MM,alt:"Cinnamon Comparison",className:"rounded-xl border border-gold/20 shadow-2xl"})}),u.jsxs("div",{className:"order-1 lg:order-2",children:[u.jsx("h2",{className:"text-4xl font-heading text-white mb-8",children:"Ceylon vs Cassia"}),u.jsxs("div",{className:"comparison-bullets space-y-8",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"text-gold mb-2 font-bold tracking-wide",children:"THE TRUTH"}),u.jsxs("p",{className:"text-gray-400",children:["Mass-market ",u.jsx("strong",{children:"Cassia"})," contains high levels of ",u.jsx("em",{children:"coumarin"}),", a compound that can be toxic if consumed regularly. It's thick, hard bark with a spicy, hot bite."]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-gold mb-2 font-bold tracking-wide",children:"THE ESSENCE"}),u.jsxs("p",{className:"text-gray-400",children:[u.jsx("strong",{children:"Ambrosia Ceylon Cinnamon"})," is thin, flaky, and delicate. It has virtually 0% coumarin and offers a complex, floral sweetness that's safe for daily health rituals."]})]})]})]})]})}),u.jsx("section",{className:"uses-section py-24 bg-[#050505]",children:u.jsxs("div",{className:"container",children:[u.jsx("h2",{className:"text-4xl font-heading text-gold text-center mb-16",children:"Rituals & Remedies"}),u.jsxs("div",{className:"grid grid-cols-3 gap-12",children:[u.jsxs("div",{className:"use-card p-10 bg-[#111] rounded-lg border border-white/5",children:[u.jsx("h3",{className:"text-xl text-white mb-4",children:"Culinary Mastery"}),u.jsx("p",{className:"text-gray-500 text-sm leading-relaxed",children:"Used in both sweet and savory dishes. From a pinch in your morning coffee to a quill in a slow-cooked Lankan curry, its versatility is unmatched."})]}),u.jsxs("div",{className:"use-card p-10 bg-[#111] rounded-lg border border-white/5 text-center transform scale-110 border-gold/20",children:[u.jsx("h3",{className:"text-xl text-white mb-4",children:"Wellness Elixir"}),u.jsx("p",{className:"text-gray-500 text-sm leading-relaxed",children:"Mixed with warm water and honey for a natural immunity boost. A powerful tool for blood sugar regulation and metabolic health."})]}),u.jsxs("div",{className:"use-card p-10 bg-[#111] rounded-lg border border-white/5",children:[u.jsx("h3",{className:"text-xl text-white mb-4",children:"Pure Aromatherapy"}),u.jsx("p",{className:"text-gray-500 text-sm leading-relaxed",children:"Its scent alone can improve memory and mood. Use the natural quills as an elegant, aromatic centerpiece in your living space."})]})]})]})}),u.jsx("section",{className:"fun-facts py-24 bg-gold/5 overflow-hidden",children:u.jsxs("div",{className:"container text-center",children:[u.jsx("span",{className:"gold-label text-xs tracking-widest uppercase mb-6 block",children:"Did You Know?"}),u.jsx("div",{className:"fact-slider",children:u.jsx("p",{className:"text-white font-heading text-3xl max-w-4xl mx-auto animate-fade-in",children:Xd[t]},t)}),u.jsx("div",{className:"flex justify-center gap-2 mt-8",children:Xd.map((n,i)=>u.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${i===t?"bg-gold w-8":"bg-gray-700"}`},i))})]})}),u.jsx("section",{className:"cta-section py-24 text-center",children:u.jsxs("div",{className:"container",children:[u.jsx("h2",{className:"text-5xl font-heading text-white mb-10",children:"Experience the Pure Essence"}),u.jsx($e,{to:"/shop",className:"btn btn-lg px-12 py-5 text-lg",children:"Shop Ambrosia Cinnamon"})]})})]})},LM=()=>{const{addToCart:t}=_l(),[e,n]=C.useState([]),[i,s]=C.useState(!0),[r,a]=C.useState(""),[l,c]=C.useState("featured"),h=["All","Sticks","Powder","Blends","Gift Sets"];C.useEffect(()=>{const m=jl(os(it,"products"),p=>{const v=p.docs.map(R=>({id:R.id,...R.data(),image:R.data().imageType==="divine"?Gs:R.data().imageType==="kuveni"?zS:R.data().imageType==="ravana"?BS:Gs}));n(v),s(!1)});return()=>m()},[]);const f=e.filter(m=>filter==="All"||m.category===filter).filter(m=>m.name.toLowerCase().includes(r.toLowerCase())).sort((m,p)=>l==="price-asc"?Number(m.price)-Number(p.price):l==="price-desc"?Number(p.price)-Number(m.price):0);return i?u.jsx("div",{className:"text-center py-20 text-gold",children:"Loading Collection..."}):u.jsxs("div",{className:"store-page",children:[u.jsx("section",{className:"store-header",children:u.jsxs("div",{className:"container",children:[u.jsx("h1",{className:"text-5xl font-heading text-gold mb-4",children:"The Collections"}),u.jsx("p",{className:"text-gray-400",children:"Authentic Ceylon cinnamon for every occasion."})]})}),u.jsx("section",{className:"store-content py-12",children:u.jsxs("div",{className:"container",children:[u.jsxs("div",{className:"filters-bar mb-12 flex flex-col md:flex-row justify-between items-center gap-6",children:[u.jsx("div",{className:"categories flex gap-4 overflow-x-auto pb-2 md:pb-0 w-full md:w-auto",children:h.map(m=>u.jsx("button",{onClick:()=>setFilter(m),className:`filter-btn whitespace-nowrap ${filter===m?"active":""}`,children:m},m))}),u.jsxs("div",{className:"search-sort flex flex-col md:flex-row gap-4 w-full md:w-auto",children:[u.jsx("input",{type:"text",placeholder:"Search products...",className:"bg-black/50 border border-white/10 rounded px-4 py-2 text-white focus:border-gold outline-none w-full md:w-64",value:r,onChange:m=>a(m.target.value)}),u.jsxs("select",{className:"bg-black/50 border border-white/10 rounded px-4 py-2 text-white focus:border-gold outline-none cursor-pointer",value:l,onChange:m=>c(m.target.value),children:[u.jsx("option",{value:"featured",children:"Featured"}),u.jsx("option",{value:"price-asc",children:"Price: Low to High"}),u.jsx("option",{value:"price-desc",children:"Price: High to Low"})]})]})]}),u.jsx("div",{className:"store-grid",children:f.length===0?u.jsx("div",{className:"col-span-3 text-center text-gray-500 py-20",children:"No products found in this category."}):f.map(m=>{const p=m.stock<=0;return u.jsxs("div",{className:`store-item-card ${p?"opacity-75 grayscale":""}`,children:[u.jsxs("div",{className:"item-image relative",children:[u.jsx("img",{src:m.image,alt:m.name}),p&&u.jsx("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center",children:u.jsx("span",{className:"text-red-500 font-bold uppercase tracking-widest border border-red-500 px-4 py-2",children:"Sold Out"})}),!p&&m.stock<10&&u.jsxs("span",{className:"absolute top-2 right-2 bg-yellow-600 text-white text-[10px] uppercase font-bold px-2 py-1 rounded",children:["Low Stock: ",m.stock]}),u.jsx("span",{className:"origin-badge",children:m.origin||"100% Sri Lankan"})]}),u.jsxs("div",{className:"item-info",children:[u.jsx("span",{className:"item-cat",children:m.category}),u.jsx("h3",{className:"item-name",children:m.name}),u.jsxs("div",{className:"flex justify-between items-center w-full mb-4",children:[u.jsxs("p",{className:"item-price",children:["$",Number(m.price).toFixed(2)]}),u.jsx("span",{className:"text-xs text-gray-500",children:m.unit||"per unit"})]}),u.jsx("button",{onClick:()=>!p&&t(m),disabled:p,className:`add-cart-btn uppercase w-full ${p?"cursor-not-allowed bg-gray-800 text-gray-500 hover:bg-gray-800":""}`,children:p?"Out of Stock":"Add to Cart"})]})]},m.id)})})]})})]})},PM=[{id:1,title:"Golden Cinnamon Latte",category:"Beverages",image:Gs,time:"5 mins",desc:"A warm, soul-soothing latte infused with Ambrosia Divine Essence."},{id:2,title:"Authentic Sri Lankan Chai",category:"Beverages",image:il,time:"15 mins",desc:"A spiced tea tradition using whole Kuveni sticks."},{id:3,title:"Cinnamon Glazed Apple Tart",category:"Desserts",image:Gs,time:"45 mins",desc:"A classic dessert elevated by the floral notes of Ceylon cinnamon."},{id:4,title:"Health Benefits of Daily Cinnamon",category:"Wellness",image:il,time:"4 min read",desc:"How a pinch of Ambrosia every morning can change your metabolism."}],UM=()=>u.jsxs("div",{className:"recipes-page",children:[u.jsx("section",{className:"recipes-hero",children:u.jsxs("div",{className:"container",children:[u.jsx("h1",{className:"text-6xl font-heading text-gold mb-4",children:"Recipes & Rituals"}),u.jsx("p",{className:"text-xl text-gray-400",children:"Discover the endless possibilities of true cinnamon."})]})}),u.jsx("section",{className:"recipes-grid-section py-20",children:u.jsx("div",{className:"container",children:u.jsx("div",{className:"recipes-grid",children:PM.map(t=>u.jsxs("div",{className:"recipe-card",children:[u.jsxs("div",{className:"recipe-image",children:[u.jsx("img",{src:t.image,alt:t.title}),u.jsx("span",{className:"recipe-cat",children:t.category})]}),u.jsxs("div",{className:"recipe-info",children:[u.jsx("span",{className:"recipe-time",children:t.time}),u.jsx("h3",{className:"recipe-title",children:t.title}),u.jsx("p",{className:"recipe-desc",children:t.desc}),u.jsx("button",{className:"read-more",children:"Read More"})]})]},t.id))})})})]}),zM=()=>{const[t,e]=C.useState({name:"",email:"",subject:"General Inquiry",message:""}),[n,i]=C.useState(!1),s=a=>{e({...t,[a.target.name]:a.target.value})},r=async a=>{a.preventDefault(),i(!0);try{await Eg(os(it,"messages"),{...t,createdAt:CS(),status:"new"}),alert("Message sent successfully! We will get back to you soon."),e({name:"",email:"",subject:"General Inquiry",message:""})}catch(l){console.error("Error sending message:",l),alert("Failed to send message. Please try again.")}i(!1)};return u.jsxs("div",{className:"contact-page",children:[u.jsx("section",{className:"contact-hero",children:u.jsxs("div",{className:"container text-center",children:[u.jsx("h1",{className:"text-6xl font-heading text-gold mb-4",children:"Connect with Ambrosia"}),u.jsx("p",{className:"text-xl text-gray-400",children:"Questions about our cinnamon? We're here to help."})]})}),u.jsx("section",{className:"contact-content py-20",children:u.jsxs("div",{className:"container grid grid-cols-2 gap-20",children:[u.jsxs("div",{className:"contact-info",children:[u.jsx("h2",{className:"text-4xl font-heading text-white mb-8",children:"Get in Touch"}),u.jsxs("div",{className:"info-item mb-8",children:[u.jsx("h4",{className:"text-gold uppercase tracking-widest text-xs mb-2",children:"Email"}),u.jsx("p",{className:"text-xl text-gray-300",children:"essence@ambrosiaspice.com"})]}),u.jsxs("div",{className:"info-item mb-8",children:[u.jsx("h4",{className:"text-gold uppercase tracking-widest text-xs mb-2",children:"Phone"}),u.jsx("p",{className:"text-xl text-gray-300",children:"+94 11 234 5678"})]}),u.jsxs("div",{className:"info-item mb-8",children:[u.jsx("h4",{className:"text-gold uppercase tracking-widest text-xs mb-2",children:"Headquarters"}),u.jsx("p",{className:"text-xl text-gray-300",children:"Galle Road, Colombo 03, Sri Lanka"})]}),u.jsxs("div",{className:"social-links mt-12",children:[u.jsx("h4",{className:"text-gray-500 uppercase tracking-widest text-xs mb-4",children:"Follow Our Journey"}),u.jsxs("div",{className:"flex gap-6",children:[u.jsx("a",{href:"#",className:"text-gold hover:text-white transition-colors mr-4",children:"Instagram"}),u.jsx("a",{href:"#",className:"text-gold hover:text-white transition-colors mr-4",children:"Facebook"}),u.jsx("a",{href:"#",className:"text-gold hover:text-white transition-colors",children:"LinkedIn"})]})]})]}),u.jsx("div",{className:"contact-form-container",children:u.jsxs("form",{className:"contact-form",onSubmit:r,children:[u.jsx("div",{className:"form-group mb-6",children:u.jsx("input",{type:"text",name:"name",placeholder:"Your Name",className:"form-input",value:t.name,onChange:s,required:!0})}),u.jsx("div",{className:"form-group mb-6",children:u.jsx("input",{type:"email",name:"email",placeholder:"Email Address",className:"form-input",value:t.email,onChange:s,required:!0})}),u.jsx("div",{className:"form-group mb-6",children:u.jsxs("select",{name:"subject",className:"form-input",value:t.subject,onChange:s,children:[u.jsx("option",{children:"General Inquiry"}),u.jsx("option",{children:"Wholesale/B2B"}),u.jsx("option",{children:"Order Support"}),u.jsx("option",{children:"Press"})]})}),u.jsx("div",{className:"form-group mb-8",children:u.jsx("textarea",{name:"message",placeholder:"How can we help?",className:"form-input h-32",value:t.message,onChange:s,required:!0})}),u.jsx("button",{type:"submit",className:"btn w-full",disabled:n,children:n?"Sending...":"Send Message"})]})})]})})]})},BM=[{q:"Why is Sri Lankan cinnamon better?",a:"Sri Lankan (Ceylon) cinnamon has a much lower coumarin content compared to Cassia. It's also known for its delicate, sweet flavor and floral aroma that Cassia lacks."},{q:"How should I store my Ambrosia cinnamon?",a:"Store in a cool, dark place in an airtight container. Our premium jars are designed to protect the essential oils from light and moisture."},{q:"Do you ship internationally?",a:"Yes, Ambrosia ships to most countries worldwide. Shipping times vary depending on the location, typically 5-10 business days."},{q:"Is your cinnamon organic?",a:"We work with farms that follow sustainable, natural farming practices. While not all are certified 'Organic' yet, we ensure no synthetic pesticides or fertilizers are used."}],qM=()=>u.jsxs("div",{className:"faq-page",children:[u.jsx("section",{className:"faq-hero py-20",children:u.jsxs("div",{className:"container text-center",children:[u.jsx("h1",{className:"text-5xl font-heading text-gold mb-4",children:"Frequently Asked Questions"}),u.jsx("p",{className:"text-gray-400",children:"Everything you need to know about Ambrosia."})]})}),u.jsx("section",{className:"faq-list-section py-12",children:u.jsx("div",{className:"container max-w-3xl",children:u.jsx("div",{className:"faq-list",children:BM.map((t,e)=>u.jsxs("div",{className:"faq-item mb-8",children:[u.jsx("h3",{className:"text-xl text-white mb-3 font-heading",children:t.q}),u.jsx("p",{className:"text-gray-400 leading-relaxed",children:t.a})]},e))})})})]}),HM=()=>{const{cartItems:t,removeFromCart:e,updateQuantity:n,cartTotal:i}=_l();return t.length===0?u.jsx("div",{className:"cart-page py-32",children:u.jsxs("div",{className:"container text-center",children:[u.jsx("h1",{className:"text-4xl font-heading text-gold mb-8",children:"Your Cart is Empty"}),u.jsx("p",{className:"text-gray-400 mb-12",children:"Looks like you haven't added the essence of Ceylon to your collection yet."}),u.jsx($e,{to:"/shop",className:"btn",children:"Browse Shop"})]})}):u.jsx("div",{className:"cart-page py-32",children:u.jsxs("div",{className:"container",children:[u.jsx("h1",{className:"text-5xl font-heading text-gold mb-12",children:"Your Selection"}),u.jsxs("div",{className:"cart-grid",children:[u.jsxs("div",{className:"cart-items",children:[u.jsxs("div",{className:"cart-header grid grid-cols-4 gap-4 text-xs uppercase tracking-widest text-gray-500 pb-4 border-bottom border-white/5 mb-8",children:[u.jsx("div",{className:"col-span-2",children:"Product"}),u.jsx("div",{className:"text-center",children:"Quantity"}),u.jsx("div",{className:"text-right",children:"Total"})]}),t.map(s=>u.jsxs("div",{className:"cart-item-row grid grid-cols-4 gap-4 items-center py-6 border-bottom border-white/5",children:[u.jsxs("div",{className:"col-span-2 flex gap-6 items-center",children:[u.jsx("div",{className:"item-thumbnail w-24 h-24 bg-[#111] overflow-hidden rounded",children:u.jsx("img",{src:s.image,alt:s.name,className:"w-full h-full object-cover"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-white font-heading text-xl mb-1",children:s.name}),u.jsxs("p",{className:"text-gold text-sm",children:["$",s.price.toFixed(2)]}),u.jsx("button",{onClick:()=>e(s.id),className:"text-gray-600 text-xs mt-2 hover:text-red-500 transition-colors uppercase",children:"Remove"})]})]}),u.jsxs("div",{className:"flex justify-center items-center gap-4",children:[u.jsx("button",{onClick:()=>n(s.id,s.quantity-1),className:"qty-btn",children:"-"}),u.jsx("span",{className:"text-white",children:s.quantity}),u.jsx("button",{onClick:()=>n(s.id,s.quantity+1),className:"qty-btn",children:"+"})]}),u.jsxs("div",{className:"text-right text-white font-bold",children:["$",(s.price*s.quantity).toFixed(2)]})]},s.id))]}),u.jsxs("div",{className:"cart-summary bg-[#111] p-8 rounded-lg border border-white/5 h-fit",children:[u.jsx("h2",{className:"text-2xl font-heading text-white mb-8",children:"Summary"}),u.jsxs("div",{className:"summary-row flex justify-between mb-4",children:[u.jsx("span",{className:"text-gray-400",children:"Subtotal"}),u.jsxs("span",{className:"text-white",children:["$",i.toFixed(2)]})]}),u.jsxs("div",{className:"summary-row flex justify-between mb-8 pb-8 border-bottom border-white/5",children:[u.jsx("span",{className:"text-gray-400",children:"Shipping"}),u.jsx("span",{className:"text-gold",children:"Calculated at checkout"})]}),u.jsxs("div",{className:"summary-row flex justify-between mb-12",children:[u.jsx("span",{className:"text-xl text-white font-heading",children:"Total"}),u.jsxs("span",{className:"text-xl text-gold font-bold",children:["$",i.toFixed(2)]})]}),u.jsx($e,{to:"/checkout",className:"btn w-full text-center",children:"Proceed to Checkout"})]})]})]})})};class Ol{constructor(e=0,n="Network Error"){this.status=e,this.text=n}}const FM=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,e)=>Promise.resolve(localStorage.setItem(t,e)),remove:t=>Promise.resolve(localStorage.removeItem(t))}},ot={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:FM()},bg=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{},GM=(t,e="https://api.emailjs.com")=>{if(!t)return;const n=bg(t);ot.publicKey=n.publicKey,ot.blockHeadless=n.blockHeadless,ot.storageProvider=n.storageProvider,ot.blockList=n.blockList,ot.limitRate=n.limitRate,ot.origin=n.origin||e},qS=async(t,e,n={})=>{const i=await fetch(ot.origin+t,{method:"POST",headers:n,body:e}),s=await i.text(),r=new Ol(i.status,s);if(i.ok)return r;throw r},HS=(t,e,n)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},KM=t=>{if(t&&t.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},FS=t=>t.webdriver||!t.languages||t.languages.length===0,GS=()=>new Ol(451,"Unavailable For Headless Browser"),YM=(t,e)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},QM=t=>{var e;return!((e=t.list)!=null&&e.length)||!t.watchVariable},$M=(t,e)=>t instanceof FormData?t.get(e):t[e],KS=(t,e)=>{if(QM(t))return!1;YM(t.list,t.watchVariable);const n=$M(e,t.watchVariable);return typeof n!="string"?!1:t.list.includes(n)},YS=()=>new Ol(403,"Forbidden"),XM=(t,e)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},WM=async(t,e,n)=>{const i=Number(await n.get(t)||0);return e-Date.now()+i},QS=async(t,e,n)=>{if(!e.throttle||!n)return!1;XM(e.throttle,e.id);const i=e.id||t;return await WM(i,e.throttle,n)>0?!0:(await n.set(i,Date.now().toString()),!1)},$S=()=>new Ol(429,"Too Many Requests"),JM=async(t,e,n,i)=>{const s=bg(i),r=s.publicKey||ot.publicKey,a=s.blockHeadless||ot.blockHeadless,l=s.storageProvider||ot.storageProvider,c={...ot.blockList,...s.blockList},h={...ot.limitRate,...s.limitRate};return a&&FS(navigator)?Promise.reject(GS()):(HS(r,t,e),KM(n),n&&KS(c,n)?Promise.reject(YS()):await QS(location.pathname,h,l)?Promise.reject($S()):qS("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:r,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"}))},ZM=t=>{if(!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},eV=t=>typeof t=="string"?document.querySelector(t):t,tV=async(t,e,n,i)=>{const s=bg(i),r=s.publicKey||ot.publicKey,a=s.blockHeadless||ot.blockHeadless,l=ot.storageProvider||s.storageProvider,c={...ot.blockList,...s.blockList},h={...ot.limitRate,...s.limitRate};if(a&&FS(navigator))return Promise.reject(GS());const f=eV(n);HS(r,t,e),ZM(f);const m=new FormData(f);return KS(c,m)?Promise.reject(YS()):await QS(location.pathname,h,l)?Promise.reject($S()):(m.append("lib_version","4.4.1"),m.append("service_id",t),m.append("template_id",e),m.append("user_id",r),qS("/api/v1.0/email/send-form",m))},nV={init:GM,send:JM,sendForm:tV,EmailJSResponseStatus:Ol},iV=()=>{const{cartItems:t,cartTotal:e,clearCart:n}=_l(),i=th(),[s,r]=C.useState(!1),[a,l]=C.useState("card"),[c,h]=C.useState({firstName:"",lastName:"",email:"",address:"",city:"",country:"",shippingMethod:"standard"}),[f,m]=C.useState(10),p=j=>{const{name:x,value:y}=j.target;h(b=>({...b,[x]:y}))},v=(j,x)=>{h(y=>({...y,shippingMethod:j})),m(x)},R=async j=>{if(j.preventDefault(),r(!0),!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c.email)){alert("Please enter a valid email address."),r(!1);return}if(!c.firstName||!c.lastName||!c.address||!c.city||!c.country){alert("Please fill in all required fields."),r(!1);return}try{const y=await Eg(os(it,"orders"),{...c,items:t.length,total:D,cart:t.map(I=>({id:I.id,name:I.name,quantity:I.quantity,price:I.price})),status:"New",paymentStatus:"Paid",fulfillmentStatus:"Pending",created_at:CS(),user:c.email}),b=vM(it);t.forEach(I=>{const U=jn(it,"products",I.id);b.update(U,{stock:fM(-I.quantity)})}),await b.commit();try{const I="YOUR_SERVICE_ID",U="YOUR_TEMPLATE_ID",q="YOUR_PUBLIC_KEY",T={to_name:c.firstName,to_email:c.email,order_id:y.id,order_total:D.toFixed(2),message:`Thank you for your order! Your Order ID is ${y.id}.`};await nV.send(I,U,T,q),console.log("Email sent successfully")}catch(I){console.error("Failed to send email:",I)}r(!1),n(),i("/order-confirmation",{state:{orderId:y.id}})}catch(y){console.error("Order failed:",y),alert("Failed to place order. Please try again."),r(!1)}};if(t.length===0)return setTimeout(()=>i("/cart"),0),null;const D=e+f;return u.jsx("div",{className:"checkout-page py-32",children:u.jsxs("div",{className:"container",children:[u.jsx("h1",{className:"text-5xl font-heading text-gold mb-12",children:"Checkout"}),u.jsxs("form",{onSubmit:R,className:"checkout-grid grid grid-cols-2 gap-20",children:[u.jsxs("div",{className:"checkout-form",children:[u.jsxs("section",{className:"checkout-section mb-12",children:[u.jsx("h2",{className:"text-2xl font-heading text-white mb-8 border-bottom border-white/5 pb-4",children:"Shipping Information"}),u.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[u.jsx("input",{type:"text",name:"firstName",placeholder:"First Name",className:"form-input",required:!0,value:c.firstName,onChange:p}),u.jsx("input",{type:"text",name:"lastName",placeholder:"Last Name",className:"form-input",required:!0,value:c.lastName,onChange:p})]}),u.jsx("input",{type:"email",name:"email",placeholder:"Email Address",className:"form-input mb-6",required:!0,value:c.email,onChange:p}),u.jsx("input",{type:"text",name:"address",placeholder:"Address",className:"form-input mb-6",required:!0,value:c.address,onChange:p}),u.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[u.jsx("input",{type:"text",name:"city",placeholder:"City",className:"form-input",required:!0,value:c.city,onChange:p}),u.jsx("input",{type:"text",name:"country",placeholder:"Country",className:"form-input",required:!0,value:c.country,onChange:p})]})]}),u.jsxs("section",{className:"checkout-section mb-12",children:[u.jsx("h2",{className:"text-2xl font-heading text-white mb-8 border-bottom border-white/5 pb-4",children:"Shipping Method"}),u.jsxs("div",{className:"shipping-options space-y-4",children:[u.jsxs("label",{className:`shipping-option flex items-center justify-between p-4 bg-[#111] border rounded cursor-pointer ${c.shippingMethod==="standard"?"border-gold":"border-white/5"}`,children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("input",{type:"radio",name:"shipping",checked:c.shippingMethod==="standard",onChange:()=>v("standard",10)}),u.jsx("span",{children:"Standard (5-10 Days)"})]}),u.jsx("span",{className:"text-gold",children:"$10.00"})]}),u.jsxs("label",{className:`shipping-option flex items-center justify-between p-4 bg-[#111] border rounded cursor-pointer ${c.shippingMethod==="express"?"border-gold":"border-white/5"}`,children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("input",{type:"radio",name:"shipping",checked:c.shippingMethod==="express",onChange:()=>v("express",25)}),u.jsx("span",{children:"Express (2-3 Days)"})]}),u.jsx("span",{className:"text-gold",children:"$25.00"})]})]})]}),u.jsxs("section",{className:"checkout-section mb-12",children:[u.jsx("h2",{className:"text-2xl font-heading text-white mb-8 border-bottom border-white/5 pb-4",children:"Payment Method"}),u.jsxs("div",{className:"payment-tabs flex gap-4 mb-8",children:[u.jsx("button",{type:"button",className:`payment-tab flex-1 p-4 rounded border ${a==="card"?"border-gold text-gold bg-gold/5":"border-white/5 text-gray-400"}`,onClick:()=>l("card"),children:"Credit Card"}),u.jsx("button",{type:"button",className:`payment-tab flex-1 p-4 rounded border ${a==="paypal"?"border-gold text-gold bg-gold/5":"border-white/5 text-gray-400"}`,onClick:()=>l("paypal"),children:"PayPal"})]}),a==="card"?u.jsxs("div",{className:"card-details space-y-6",children:[u.jsx("div",{className:"p-4 bg-yellow-500/10 border border-yellow-500/20 text-yellow-200 text-sm rounded",children:"Note: This is a secure checkout demonstration. No real charge will be made yet."}),u.jsx("input",{type:"text",placeholder:"Card Number",className:"form-input"}),u.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[u.jsx("input",{type:"text",placeholder:"MM / YY",className:"form-input"}),u.jsx("input",{type:"text",placeholder:"CVV",className:"form-input"})]})]}):u.jsx("div",{className:"paypal-notice p-8 bg-blue-600/5 border border-blue-600/20 rounded text-center",children:u.jsx("p",{className:"text-gray-300",children:"Proceed to complete your purchase securely with PayPal."})})]}),u.jsx("button",{type:"submit",disabled:s,className:`btn w-full py-5 text-lg uppercase tracking-widest mt-8 ${s?"opacity-50 cursor-not-allowed":""}`,children:s?"Processing...":"Place Order"})]}),u.jsx("div",{className:"checkout-sidebar",children:u.jsxs("div",{className:"order-summary bg-[#111] p-10 rounded-lg border border-white/5 sticky top-32",children:[u.jsx("h2",{className:"text-2xl font-heading text-white mb-8 border-bottom border-white/5 pb-4",children:"Order Summary"}),u.jsx("div",{className:"order-items space-y-6 mb-10 max-h-96 overflow-y-auto pr-2",children:t.map(j=>u.jsxs("div",{className:"flex justify-between items-center bg-black/20 p-3 rounded border border-white/5",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"item-thumbnail-mini w-12 h-12 overflow-hidden rounded bg-gray-800",children:u.jsx("img",{src:j.image,alt:j.name,className:"w-full h-full object-cover"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-white text-xs font-heading leading-tight mb-1",children:j.name}),u.jsxs("p",{className:"text-gray-500 text-[10px] uppercase tracking-widest",children:["Qty: ",j.quantity]})]})]}),u.jsxs("span",{className:"text-gold text-sm font-bold",children:["$",(j.price*j.quantity).toFixed(2)]})]},j.id))}),u.jsxs("div",{className:"summary-details pt-8 border-top border-white/10 space-y-4",children:[u.jsxs("div",{className:"flex justify-between text-gray-400",children:[u.jsx("span",{children:"Subtotal"}),u.jsxs("span",{children:["$",e.toFixed(2)]})]}),u.jsxs("div",{className:"flex justify-between text-gray-400",children:[u.jsx("span",{children:"Shipping"}),u.jsxs("span",{children:["$",f.toFixed(2)]})]}),u.jsxs("div",{className:"flex justify-between text-xl text-white font-heading font-bold pt-4 border-top border-white/5",children:[u.jsx("span",{children:"Total"}),u.jsxs("span",{className:"text-gold",children:["$",D.toFixed(2)]})]})]})]})})]})]})})},sV=()=>{var m,p,v;const[t,e]=C.useState(""),[n,i]=C.useState(""),[s,r]=C.useState(null),[a,l]=C.useState(!1),[c,h]=C.useState(""),f=async R=>{R.preventDefault(),l(!0),h(""),r(null);try{const D=jn(it,"orders",t.trim()),j=await vg(D);if(j.exists()){const x=j.data();x.email.toLowerCase()===n.toLowerCase()?r({id:j.id,...x}):h("Order found, but email does not match records.")}else h("Order not found. Please check your Order ID.")}catch(D){console.error("Tracking Error:",D),h("An error occurred while tracking. Please try again.")}l(!1)};return u.jsx("div",{className:"track-order-page py-32 min-h-[60vh]",children:u.jsxs("div",{className:"container max-w-2xl mx-auto",children:[u.jsx("h1",{className:"text-4xl font-heading text-gold text-center mb-8",children:"Track Your Order"}),u.jsx("p",{className:"text-gray-400 text-center mb-12",children:"Enter your Order ID and Email Address to see current status."}),u.jsxs("form",{onSubmit:f,className:"bg-[#111] p-8 rounded-xl border border-white/10 mb-12",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Order ID"}),u.jsx("input",{type:"text",required:!0,className:"w-full bg-black/50 border border-white/10 rounded p-3 text-white focus:border-gold outline-none",placeholder:"e.g. 5xJ8...",value:t,onChange:R=>e(R.target.value)})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Email Address"}),u.jsx("input",{type:"email",required:!0,className:"w-full bg-black/50 border border-white/10 rounded p-3 text-white focus:border-gold outline-none",placeholder:"name@example.com",value:n,onChange:R=>i(R.target.value)})]})]}),u.jsx("button",{type:"submit",disabled:a,className:"w-full bg-gold text-black py-4 rounded font-bold uppercase tracking-widest hover:bg-white transition-colors",children:a?"Searching...":"Track Order"}),c&&u.jsx("p",{className:"text-red-500 text-center mt-4 text-sm",children:c})]}),s&&u.jsxs("div",{className:"order-result bg-[#111] p-8 rounded-xl border border-gold/30 animate-fade-in relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-gold to-transparent"}),u.jsxs("div",{className:"flex justify-between items-start mb-8",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl text-white font-heading",children:"Order Status"}),u.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:["Placed on ",(m=s.created_at)==null?void 0:m.toDate().toLocaleDateString()]})]}),u.jsx("div",{className:"text-right",children:u.jsx("span",{className:`inline-block px-4 py-2 rounded border text-xs uppercase font-bold tracking-widest ${s.status==="Delivered"?"text-green-500 border-green-500/30 bg-green-500/10":s.status==="Shipped"?"text-purple-500 border-purple-500/30 bg-purple-500/10":"text-yellow-500 border-yellow-500/30 bg-yellow-500/10"}`,children:s.status})})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-8 border-t border-white/10 pt-8",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-xs uppercase tracking-widest text-gray-500 mb-4",children:"Shipping To"}),u.jsxs("p",{className:"text-white",children:[s.firstName," ",s.lastName]}),u.jsx("p",{className:"text-gray-400 text-sm",children:s.address}),u.jsxs("p",{className:"text-gray-400 text-sm",children:[s.city,", ",s.country]})]}),u.jsxs("div",{children:[u.jsxs("h3",{className:"text-xs uppercase tracking-widest text-gray-500 mb-4",children:["Items (",s.items,")"]}),u.jsx("ul",{className:"space-y-2",children:(p=s.cart)==null?void 0:p.map((R,D)=>u.jsxs("li",{className:"text-sm text-gray-300 flex justify-between",children:[u.jsxs("span",{children:[R.quantity,"x ",R.name]}),u.jsxs("span",{className:"text-gold",children:["$",R.price]})]},D))}),u.jsxs("div",{className:"mt-4 pt-4 border-t border-white/10 flex justify-between font-bold text-white",children:[u.jsx("span",{children:"Total"}),u.jsxs("span",{children:["$",(v=s.total)==null?void 0:v.toFixed(2)]})]})]})]})]})]})})},rV=()=>{var n;const e=((n=hs().state)==null?void 0:n.orderId)||"AMB-"+Math.floor(1e5+Math.random()*9e5);return u.jsx("div",{className:"confirmation-page py-48",children:u.jsxs("div",{className:"container text-center",children:[u.jsx("div",{className:"success-icon text-gold text-7xl mb-8",children:""}),u.jsx("h1",{className:"text-6xl font-heading text-gold mb-6",children:"Order Confirmed"}),u.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto leading-relaxed mb-12",children:"Thank you for choosing Ambrosia. We've received your order and are currently preparing your selection of prime cinnamon for its journey to your doorstep."}),u.jsxs("div",{className:"order-details-summary bg-[#111] p-10 rounded max-w-lg mx-auto border border-white/5 mb-16",children:[u.jsxs("p",{className:"text-gray-500 text-sm mb-4",children:["Order #",e]}),u.jsx("p",{className:"text-white",children:"A confirmation email has been sent. You can track your 100% Sri Lankan delivery once the quills are dispatched."})]}),u.jsxs("div",{className:"flex justify-center gap-8",children:[u.jsx($e,{to:"/shop",className:"btn btn-outline",children:"Continue Shopping"}),u.jsx($e,{to:"/",className:"btn",children:"Back to Home"})]})]})})},XS=({title:t})=>u.jsx("div",{className:"section",style:{paddingTop:"150px",minHeight:"80vh"},children:u.jsxs("div",{className:"container text-center",children:[u.jsx("h1",{className:"text-6xl text-gold mb-8",children:t}),u.jsx("p",{className:"text-xl text-gray-500",children:"This section is coming soon as part of the Ambrosia mission."})]})}),aV=()=>u.jsx(XS,{title:"Privacy Policy"}),oV=()=>u.jsx(XS,{title:"Terms & Conditions"}),lV=()=>{const[t,e]=C.useState(""),[n,i]=C.useState(""),[s,r]=C.useState(""),[a,l]=C.useState(!1),c=th(),h=async f=>{f.preventDefault(),r(""),l(!0);try{const p=(await zD(nl,t,n)).user,v=await vg(jn(it,"users",p.uid));if(v.exists()&&v.data().role==="admin")c("/admin");else throw await im(nl),new Error("Access Denied: You do not have administrator privileges.")}catch(m){console.error("Login Error:",m),console.error("Login Error:",m);const p=m.message.includes("Access Denied")?m.message:"Invalid credentials. Please try again.";r(p)}finally{l(!1)}};return u.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center p-4",children:u.jsxs("div",{className:"w-full max-w-md bg-[#111] p-8 rounded-lg border border-white/10",children:[u.jsxs("div",{className:"text-center mb-10",children:[u.jsx("h1",{className:"text-3xl font-heading text-gold mb-2",children:"Ambrosia Admin"}),u.jsx("p",{className:"text-gray-500 uppercase text-xs tracking-widest",children:"Restricted Access"})]}),s&&u.jsx("div",{className:"bg-red-500/10 border border-red-500/20 text-red-400 p-3 rounded mb-6 text-sm text-center",children:s}),u.jsxs("form",{onSubmit:h,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Email"}),u.jsx("input",{type:"email",value:t,onChange:f=>e(f.target.value),className:"w-full bg-[#1a1a1a] border border-white/10 rounded p-3 text-white focus:outline-none focus:border-gold transition-colors",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Password"}),u.jsx("input",{type:"password",value:n,onChange:f=>i(f.target.value),className:"w-full bg-[#1a1a1a] border border-white/10 rounded p-3 text-white focus:outline-none focus:border-gold transition-colors",required:!0})]}),u.jsx("button",{type:"submit",disabled:a,className:`w-full bg-gold text-black font-bold py-3 rounded uppercase tracking-widest transition-all hover:bg-white ${a?"opacity-50 cursor-not-allowed":""}`,children:a?"Authenticating...":"Login"})]})]})})};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cV=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uV=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=t=>{const e=uV(t);return e.charAt(0).toUpperCase()+e.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var hV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dV=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fV=C.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:s="",children:r,iconNode:a,...l},c)=>C.createElement("svg",{ref:c,...hV,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:WS("lucide",s),...!r&&!dV(l)&&{"aria-hidden":"true"},...l},[...a.map(([h,f])=>C.createElement(h,f)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=(t,e)=>{const n=C.forwardRef(({className:i,...s},r)=>C.createElement(fV,{ref:r,iconNode:e,className:WS(`lucide-${cV(j0(t))}`,`lucide-${t}`,i),...s}));return n.displayName=j0(t),n};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mV=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],pV=Sa("layout-dashboard",mV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gV=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],yV=Sa("log-out",gV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vV=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],_V=Sa("mail",vV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EV=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],bV=Sa("package",EV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xV=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],TV=Sa("shopping-bag",xV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wV=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],SV=Sa("trash-2",wV),AV=()=>{const t=th(),{currentUser:e,isAdmin:n,loading:i}=EM();if(K1.useEffect(()=>{!i&&(!e||!n)&&t("/admin/login")},[e,n,i,t]),i)return u.jsx("div",{className:"min-h-screen bg-black text-gold flex items-center justify-center",children:"Loading Admin..."});if(!n)return u.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col items-center justify-center gap-4",children:[u.jsx("h1",{className:"text-2xl text-red-500 font-bold",children:"Access Denied"}),u.jsx("p",{className:"text-gray-400",children:"You do not have administrator privileges."}),u.jsxs("div",{className:"text-sm text-gray-600",children:["Current Role: ",e==null?void 0:e.email]}),u.jsx("button",{onClick:()=>{im(nl),t("/admin/login")},className:"px-4 py-2 bg-gold text-black rounded hover:bg-white transition-colors",children:"Back to Login"})]});const s=async()=>{try{await im(nl),t("/admin/login")}catch(r){console.error("Logout failed:",r)}};return u.jsxs("div",{className:"min-h-screen bg-[#050505] flex text-gray-100 font-sans selection:bg-gold selection:text-black",children:[u.jsxs("aside",{className:"w-72 bg-gradient-to-b from-[#0f0f0f] to-[#050505] border-r border-white/5 flex flex-col fixed h-full z-20 shadow-2xl",children:[u.jsxs("div",{className:"p-10 border-b border-white/5",children:[u.jsx("h1",{className:"text-3xl font-heading text-gold tracking-tight",children:"Ambrosia"}),u.jsx("span",{className:"text-gray-500 text-[10px] uppercase tracking-[0.3em] block mt-2 font-medium",children:"Admin Console"})]}),u.jsxs("nav",{className:"flex-1 px-4 py-8 space-y-2",children:[u.jsx("p",{className:"px-4 text-[10px] uppercase tracking-widest text-gray-600 mb-4 font-bold",children:"Main Menu"}),u.jsxs(En,{to:"/admin",end:!0,className:({isActive:r})=>`flex items-center gap-4 p-3 rounded-lg text-sm transition-all duration-300 group ${r?"bg-white/5 text-gold border-l-2 border-gold shadow-[0_0_20px_rgba(212,175,55,0.1)]":"text-gray-400 hover:text-white hover:bg-white/5 hover:translate-x-1"}`,children:[u.jsx(pV,{size:18}),u.jsx("span",{className:"tracking-wide",children:"Dashboard"})]}),u.jsxs(En,{to:"/admin/orders",className:({isActive:r})=>`flex items-center gap-4 p-3 rounded-lg text-sm transition-all duration-300 group ${r?"bg-white/5 text-gold border-l-2 border-gold shadow-[0_0_20px_rgba(212,175,55,0.1)]":"text-gray-400 hover:text-white hover:bg-white/5 hover:translate-x-1"}`,children:[u.jsx(TV,{size:18}),u.jsx("span",{className:"tracking-wide",children:"Orders"})]}),u.jsxs(En,{to:"/admin/products",className:({isActive:r})=>`flex items-center gap-4 p-3 rounded-lg text-sm transition-all duration-300 group ${r?"bg-white/5 text-gold border-l-2 border-gold shadow-[0_0_20px_rgba(212,175,55,0.1)]":"text-gray-400 hover:text-white hover:bg-white/5 hover:translate-x-1"}`,children:[u.jsx(bV,{size:18}),u.jsx("span",{className:"tracking-wide",children:"Inventory"})]}),u.jsxs(En,{to:"/admin/messages",className:({isActive:r})=>`flex items-center gap-4 p-3 rounded-lg text-sm transition-all duration-300 group ${r?"bg-white/5 text-gold border-l-2 border-gold shadow-[0_0_20px_rgba(212,175,55,0.1)]":"text-gray-400 hover:text-white hover:bg-white/5 hover:translate-x-1"}`,children:[u.jsx(_V,{size:18}),u.jsx("span",{className:"tracking-wide",children:"Messages"})]})]}),u.jsxs("div",{className:"p-6 border-t border-white/5 bg-black/20",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6 px-2",children:[u.jsx("div",{className:"w-8 h-8 rounded-full bg-gold/20 flex items-center justify-center text-gold font-heading text-lg",children:"A"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-white font-medium",children:"Admin User"}),u.jsx("p",{className:"text-[10px] text-gray-500",children:"studio.layer1@gmail.com"})]})]}),u.jsxs("button",{onClick:s,className:"w-full flex items-center justify-center gap-2 p-3 text-red-400 hover:bg-red-500/10 hover:text-red-300 rounded-lg transition-colors text-xs uppercase tracking-widest border border-white/5 hover:border-red-500/30",children:[u.jsx(yV,{size:14}),"Logout"]})]})]}),u.jsxs("main",{className:"flex-1 ml-72 relative",children:[u.jsx("div",{className:"fixed top-0 left-0 w-full h-96 bg-gold/5 blur-[120px] pointer-events-none -z-10"}),u.jsx("div",{className:"max-w-[1600px] mx-auto p-12",children:u.jsx(TC,{})})]})]})},NV=()=>{const[t,e]=C.useState([]),[n,i]=C.useState(!0);C.useEffect(()=>{const r=jS(os(it,"orders"),OS("created_at","desc")),a=jl(r,l=>{const c=l.docs.map(h=>{var f,m;return{id:h.id,...h.data(),dateObj:(f=h.data().created_at)==null?void 0:f.toDate(),date:((m=h.data().created_at)==null?void 0:m.toDate().toLocaleDateString())||"N/A"}});e(c),i(!1)});return()=>a()},[]);const s=C.useMemo(()=>{const r=t.reduce((h,f)=>h+(Number(f.total)||0),0),a=t.length>0?r/t.length:0,l={};t.forEach(h=>{h.cart&&Array.isArray(h.cart)&&h.cart.forEach(f=>{l[f.id]||(l[f.id]={name:f.name,units:0,revenue:0}),l[f.id].units+=f.quantity,l[f.id].revenue+=f.quantity*f.price})});const c=Object.values(l).sort((h,f)=>f.revenue-h.revenue).slice(0,5);return{totalRevenue:r,avgOrderValue:a,topProducts:c}},[t]);return n?u.jsx("div",{className:"p-12 text-center text-gray-500 uppercase tracking-widest text-xs",children:"Loading analytics..."}):u.jsxs("div",{className:"space-y-8",children:[u.jsx("header",{className:"pb-6 border-b border-white/10",children:u.jsx("h1",{className:"text-2xl font-light text-white uppercase tracking-widest",children:"Dashboard Overview"})}),u.jsx("div",{className:"bg-[#0a0a0a] border border-white/10",children:u.jsxs("table",{className:"w-full text-left",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-white/10 bg-white/5",children:[u.jsx("th",{className:"p-4 text-xs font-medium text-gray-400 uppercase tracking-widest",children:"Metric"}),u.jsx("th",{className:"p-4 text-xs font-medium text-gray-400 uppercase tracking-widest text-right",children:"Value"})]})}),u.jsxs("tbody",{className:"divide-y divide-white/5",children:[u.jsxs("tr",{children:[u.jsx("td",{className:"p-4 text-sm text-gray-300",children:"Total Revenue"}),u.jsxs("td",{className:"p-4 text-sm text-white font-mono text-right",children:["$",s.totalRevenue.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),u.jsxs("tr",{children:[u.jsx("td",{className:"p-4 text-sm text-gray-300",children:"Average Order Value"}),u.jsxs("td",{className:"p-4 text-sm text-white font-mono text-right",children:["$",s.avgOrderValue.toFixed(2)]})]}),u.jsxs("tr",{children:[u.jsx("td",{className:"p-4 text-sm text-gray-300",children:"Total Orders"}),u.jsx("td",{className:"p-4 text-sm text-white font-mono text-right",children:t.length})]}),u.jsxs("tr",{children:[u.jsx("td",{className:"p-4 text-sm text-gray-300",children:"Net Profit (Est. 40%)"}),u.jsxs("td",{className:"p-4 text-sm text-gold font-mono text-right",children:["$",(s.totalRevenue*.4).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})]})}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"bg-[#0a0a0a] border border-white/10",children:[u.jsx("div",{className:"p-4 border-b border-white/10 bg-white/5",children:u.jsx("h2",{className:"text-sm font-medium text-white uppercase tracking-widest",children:"Top Products"})}),u.jsxs("table",{className:"w-full text-left",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-gray-500 text-[10px] uppercase tracking-widest border-b border-white/5",children:[u.jsx("th",{className:"p-4 font-medium",children:"Product"}),u.jsx("th",{className:"p-4 font-medium text-center",children:"Units"}),u.jsx("th",{className:"p-4 font-medium text-right",children:"Revenue"})]})}),u.jsx("tbody",{className:"divide-y divide-white/5",children:s.topProducts.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:"3",className:"p-8 text-center text-gray-500 text-xs",children:"No sales data yet."})}):s.topProducts.map((r,a)=>u.jsxs("tr",{className:"hover:bg-white/[0.02] transition-colors",children:[u.jsx("td",{className:"p-4 text-sm text-gray-300",children:r.name}),u.jsx("td",{className:"p-4 text-sm text-gray-400 text-center",children:r.units}),u.jsxs("td",{className:"p-4 text-sm text-white text-right font-mono",children:["$",r.revenue.toFixed(2)]})]},a))})]})]}),u.jsxs("div",{className:"bg-[#0a0a0a] border border-white/10",children:[u.jsx("div",{className:"p-4 border-b border-white/10 bg-white/5",children:u.jsx("h2",{className:"text-sm font-medium text-white uppercase tracking-widest",children:"Recent Orders"})}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-left",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-gray-500 text-[10px] uppercase tracking-widest border-b border-white/5",children:[u.jsx("th",{className:"p-4 font-medium",children:"Customer"}),u.jsx("th",{className:"p-4 font-medium",children:"Items"}),u.jsx("th",{className:"p-4 font-medium text-right",children:"Total"}),u.jsx("th",{className:"p-4 font-medium text-right",children:"Status"})]})}),u.jsxs("tbody",{className:"divide-y divide-white/5",children:[t.slice(0,10).map((r,a)=>u.jsxs("tr",{className:"hover:bg-white/[0.02] transition-colors",children:[u.jsxs("td",{className:"p-4",children:[u.jsx("div",{className:"text-sm text-gray-300",children:r.user}),u.jsx("div",{className:"text-[10px] text-gray-500 font-mono",children:r.id.slice(0,8)})]}),u.jsx("td",{className:"p-4 text-sm text-gray-400",children:r.items}),u.jsxs("td",{className:"p-4 text-sm text-white text-right font-mono",children:["$",Number(r.total).toFixed(2)]}),u.jsx("td",{className:"p-4 text-right",children:u.jsx("span",{className:`text-[10px] uppercase tracking-wider ${r.status==="New"?"text-green-400":"text-yellow-500"}`,children:r.status||"Received"})})]},a)),t.length===0&&u.jsx("tr",{children:u.jsx("td",{colSpan:"4",className:"p-8 text-center text-gray-500 text-xs",children:"No recent orders."})})]})]})})]})]})]})},RV=()=>{const[t,e]=C.useState([]),[n,i]=C.useState(!0),[s,r]=C.useState("All");C.useEffect(()=>{const c=jl(os(it,"orders"),h=>{const f=h.docs.map(m=>{var v;const p=m.data();return{id:m.id,...p,date:((v=p.created_at)==null?void 0:v.toDate().toLocaleDateString())||new Date().toLocaleDateString(),paymentStatus:p.paymentStatus||"Paid",fulfillmentStatus:p.status||"Pending"}});e(f),i(!1)});return()=>c()},[]);const a=async(c,h)=>{try{await _g(jn(it,"orders",c),{status:h})}catch{alert("Update failed")}},l=c=>{switch(c){case"Pending":return"text-yellow-500";case"Processing":return"text-blue-500";case"Shipped":return"text-purple-500";case"Delivered":return"text-green-500";default:return"text-gray-500"}};return u.jsxs("div",{className:"space-y-8",children:[u.jsxs("header",{className:"flex justify-between items-end pb-6 border-b border-white/10",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-light text-white uppercase tracking-widest",children:"Orders Management"}),u.jsx("p",{className:"text-gray-400 mt-1 text-sm font-light",children:"Track fulfillment pipeline and payment status."})]}),u.jsx("div",{className:"flex gap-4",children:u.jsx("select",{value:s,onChange:c=>r(c.target.value),className:"bg-black border border-white/20 text-white text-xs uppercase tracking-wider px-4 py-2 rounded focus:outline-none focus:border-gold",children:["All","Pending","Processing","Shipped","Delivered"].map(c=>u.jsx("option",{value:c,children:c},c))})})]}),u.jsx("div",{className:"bg-[#0a0a0a] border border-white/10",children:u.jsxs("table",{className:"w-full text-left",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-white/5 text-gray-400 text-[10px] uppercase tracking-widest border-b border-white/5",children:[u.jsx("th",{className:"p-4 font-medium",children:"Order ID"}),u.jsx("th",{className:"p-4 font-medium",children:"Date"}),u.jsx("th",{className:"p-4 font-medium",children:"Customer"}),u.jsx("th",{className:"p-4 font-medium",children:"Items"}),u.jsx("th",{className:"p-4 font-medium",children:"Payment"}),u.jsx("th",{className:"p-4 font-medium",children:"Fulfillment"}),u.jsx("th",{className:"p-4 font-medium text-right",children:"Total"})]})}),u.jsx("tbody",{className:"divide-y divide-white/5",children:n?u.jsx("tr",{children:u.jsx("td",{colSpan:"7",className:"p-12 text-center text-gray-500 uppercase tracking-widest text-xs",children:"Loading live orders..."})}):t.filter(c=>s==="All"||c.fulfillmentStatus===s).map(c=>{var h;return u.jsxs("tr",{className:"hover:bg-white/[0.02] transition-colors",children:[u.jsx("td",{className:"p-4 text-xs font-mono text-gray-500",children:c.id.slice(0,8)}),u.jsx("td",{className:"p-4 text-sm text-gray-400",children:c.date}),u.jsx("td",{className:"p-4 text-sm text-white",children:c.user}),u.jsx("td",{className:"p-4 text-sm text-gray-400",children:c.items}),u.jsx("td",{className:"p-4",children:u.jsx("span",{className:`text-[10px] uppercase tracking-wider ${c.paymentStatus==="Paid"?"text-green-400":"text-red-400"}`,children:c.paymentStatus})}),u.jsx("td",{className:"p-4",children:u.jsxs("select",{className:`bg-transparent border-none outline-none text-[10px] uppercase font-bold tracking-wider cursor-pointer ${l(c.fulfillmentStatus)}`,value:c.fulfillmentStatus,onChange:f=>a(c.id,f.target.value),children:[u.jsx("option",{value:"Pending",className:"bg-[#111] text-yellow-500",children:"Pending"}),u.jsx("option",{value:"Processing",className:"bg-[#111] text-blue-500",children:"Processing"}),u.jsx("option",{value:"Shipped",className:"bg-[#111] text-purple-500",children:"Shipped"}),u.jsx("option",{value:"Delivered",className:"bg-[#111] text-green-500",children:"Delivered"})]})}),u.jsxs("td",{className:"p-4 text-right text-white font-mono text-sm",children:["$",(h=c.total)==null?void 0:h.toFixed(2)]})]},c.id)})})]})})]})},CV=()=>{const[t,e]=C.useState([]),[n,i]=C.useState(!0),[s,r]=C.useState(!1),[a,l]=C.useState(null),[c,h]=C.useState({sku:"",name:"",category:"Powder",price:"",cost:"",stock:"",reorderPoint:10,imageType:"divine"});C.useEffect(()=>{const y=jl(os(it,"products"),b=>{const I=b.docs.map(U=>({id:U.id,...U.data()}));e(I),i(!1)},b=>{console.error("Error fetching products:",b),i(!1)});return()=>y()},[]);const f=t.reduce((y,b)=>y+(Number(b.cost)||0)*(Number(b.stock)||0),0),m=t.reduce((y,b)=>y+(Number(b.price)||0)*(Number(b.stock)||0),0),p=t.filter(y=>(Number(y.stock)||0)<=(Number(y.reorderPoint)||0)).length,v=y=>{const b=Number(y.stock)||0,I=Number(y.reorderPoint)||0;return b===0?{label:"Out of Stock",color:"text-red-500"}:b<=5?{label:"Critical",color:"text-red-400"}:b<=I?{label:"Reorder",color:"text-yellow-500"}:{label:"Good",color:"text-green-500"}},R=()=>{l(null),h({sku:"",name:"",category:"Powder",price:"",cost:"",stock:"",reorderPoint:10,imageType:"divine"}),r(!0)},D=y=>{l(y),h({sku:y.sku||"",name:y.name||"",category:y.category||"Powder",price:y.price||"",cost:y.cost||"",stock:y.stock||"",reorderPoint:y.reorderPoint||10,imageType:y.imageType||"divine"}),r(!0)},j=async y=>{if(window.confirm("Are you sure you want to delete this product?"))try{await VS(jn(it,"products",y))}catch(b){console.error("Error deleting product:",b),alert("Failed to delete product.")}},x=async y=>{y.preventDefault();const b={...c,price:Number(c.price),cost:Number(c.cost),stock:Number(c.stock),reorderPoint:Number(c.reorderPoint)};try{a?await _g(jn(it,"products",a.id),b):await Eg(os(it,"products"),b),r(!1)}catch(I){console.error("Error saving product:",I),alert("Failed to save product.")}};return n?u.jsx("div",{className:"p-10 text-center text-white",children:"Loading Inventory..."}):u.jsxs("div",{className:"space-y-8 relative",children:[u.jsxs("header",{className:"flex justify-between items-end pb-6 border-b border-white/10",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-light text-white uppercase tracking-widest",children:"Inventory Management"}),u.jsx("p",{className:"text-gray-400 mt-1 text-sm font-light",children:"Stock levels, tracking, and asset valuation."})]}),u.jsx("div",{children:u.jsx("button",{onClick:R,className:"bg-white hover:bg-gray-200 text-black text-xs uppercase tracking-widest px-4 py-3 font-bold transition-colors",children:"+ Add Product"})})]}),u.jsx("div",{className:"bg-[#0a0a0a] border border-white/10 mb-8",children:u.jsxs("table",{className:"w-full text-left",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-white/5 text-gray-500 text-[10px] uppercase tracking-widest border-b border-white/5",children:[u.jsx("th",{className:"p-4 font-medium",children:"Metric"}),u.jsx("th",{className:"p-4 font-medium text-right",children:"Value"})]})}),u.jsxs("tbody",{className:"divide-y divide-white/5",children:[u.jsxs("tr",{children:[u.jsx("td",{className:"p-4 text-sm text-gray-400",children:"Total Asset Value (Cost)"}),u.jsxs("td",{className:"p-4 text-sm text-white font-mono text-right",children:["$",f.toLocaleString()]})]}),u.jsxs("tr",{children:[u.jsx("td",{className:"p-4 text-sm text-gray-400",children:"Total Retail Value"}),u.jsxs("td",{className:"p-4 text-sm text-white font-mono text-right",children:["$",m.toLocaleString()]})]}),u.jsxs("tr",{children:[u.jsx("td",{className:"p-4 text-sm text-gray-400",children:"Low Stock Items"}),u.jsxs("td",{className:`p-4 text-sm font-bold text-right ${p>0?"text-red-500":"text-green-500"}`,children:[p," Items"]})]})]})]})}),u.jsx("div",{className:"bg-[#0a0a0a] border border-white/10 overflow-x-auto",children:u.jsxs("table",{className:"w-full text-left whitespace-nowrap",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-white/5 text-gray-500 text-[10px] uppercase tracking-widest border-b border-white/5",children:[u.jsx("th",{className:"p-4 font-medium",children:"SKU"}),u.jsx("th",{className:"p-4 font-medium",children:"Name"}),u.jsx("th",{className:"p-4 font-medium",children:"Category"}),u.jsx("th",{className:"p-4 font-medium text-right",children:"Cost"}),u.jsx("th",{className:"p-4 font-medium text-right",children:"Price"}),u.jsx("th",{className:"p-4 font-medium text-center",children:"Stock"}),u.jsx("th",{className:"p-4 font-medium",children:"Status"}),u.jsx("th",{className:"p-4 font-medium text-right",children:"Actions"})]})}),u.jsx("tbody",{className:"divide-y divide-white/5",children:t.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:"8",className:"p-8 text-center text-gray-500",children:"No products found. Add one to get started."})}):t.map(y=>{const b=v(y);return u.jsxs("tr",{className:"hover:bg-white/[0.02] transition-colors group",children:[u.jsx("td",{className:"p-4 text-xs font-mono text-gray-500",children:y.sku}),u.jsx("td",{className:"p-4 text-sm text-white font-medium",children:y.name}),u.jsx("td",{className:"p-4 text-sm text-gray-400",children:y.category}),u.jsxs("td",{className:"p-4 text-sm text-gray-500 font-mono text-right",children:["$",Number(y.cost||0).toFixed(2)]}),u.jsxs("td",{className:"p-4 text-sm text-white font-mono text-right",children:["$",Number(y.price||0).toFixed(2)]}),u.jsx("td",{className:"p-4 text-sm text-white font-mono text-center",children:y.stock}),u.jsx("td",{className:"p-4",children:u.jsx("span",{className:`text-[10px] uppercase font-bold tracking-wider ${b.color}`,children:b.label})}),u.jsx("td",{className:"p-4 text-right",children:u.jsxs("div",{className:"flex gap-2 justify-end opacity-0 group-hover:opacity-100 transition-opacity",children:[u.jsx("button",{onClick:()=>D(y),className:"text-[10px] uppercase tracking-wider text-gold hover:text-white transition-colors border border-gold/30 px-2 py-1",children:"Edit"}),u.jsx("button",{onClick:()=>j(y.id),className:"text-[10px] uppercase tracking-wider text-red-500 hover:text-red-300 transition-colors border border-red-500/30 px-2 py-1",children:"Delete"})]})})]},y.id)})})]})}),s&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:u.jsxs("div",{className:"bg-[#111] border border-white/10 p-8 w-full max-w-2xl rounded-xl shadow-2xl relative",children:[u.jsx("h2",{className:"text-2xl font-light text-white mb-6",children:a?"Edit Product":"Add New Product"}),u.jsxs("form",{onSubmit:x,className:"grid grid-cols-2 gap-6",children:[u.jsxs("div",{className:"col-span-2 md:col-span-1",children:[u.jsx("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-2",children:"SKU"}),u.jsx("input",{type:"text",required:!0,className:"w-full bg-black/50 border border-white/10 rounded p-3 text-white focus:border-gold outline-none",value:c.sku,onChange:y=>h({...c,sku:y.target.value})})]}),u.jsxs("div",{className:"col-span-2 md:col-span-1",children:[u.jsx("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Category"}),u.jsxs("select",{className:"w-full bg-black/50 border border-white/10 rounded p-3 text-white focus:border-gold outline-none",value:c.category,onChange:y=>h({...c,category:y.target.value}),children:[u.jsx("option",{children:"Powder"}),u.jsx("option",{children:"Sticks"}),u.jsx("option",{children:"Blends"}),u.jsx("option",{children:"Gift Sets"})]})]}),u.jsxs("div",{className:"col-span-2",children:[u.jsx("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Product Name"}),u.jsx("input",{type:"text",required:!0,className:"w-full bg-black/50 border border-white/10 rounded p-3 text-white focus:border-gold outline-none",value:c.name,onChange:y=>h({...c,name:y.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Price ($)"}),u.jsx("input",{type:"number",step:"0.01",required:!0,className:"w-full bg-black/50 border border-white/10 rounded p-3 text-white focus:border-gold outline-none",value:c.price,onChange:y=>h({...c,price:y.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Cost ($)"}),u.jsx("input",{type:"number",step:"0.01",required:!0,className:"w-full bg-black/50 border border-white/10 rounded p-3 text-white focus:border-gold outline-none",value:c.cost,onChange:y=>h({...c,cost:y.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Stock Level"}),u.jsx("input",{type:"number",required:!0,className:"w-full bg-black/50 border border-white/10 rounded p-3 text-white focus:border-gold outline-none",value:c.stock,onChange:y=>h({...c,stock:y.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Low Stock Alert At"}),u.jsx("input",{type:"number",required:!0,className:"w-full bg-black/50 border border-white/10 rounded p-3 text-white focus:border-gold outline-none",value:c.reorderPoint,onChange:y=>h({...c,reorderPoint:y.target.value})})]}),u.jsxs("div",{className:"col-span-2",children:[u.jsx("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Image Style"}),u.jsxs("select",{className:"w-full bg-black/50 border border-white/10 rounded p-3 text-white focus:border-gold outline-none",value:c.imageType,onChange:y=>h({...c,imageType:y.target.value}),children:[u.jsx("option",{value:"divine",children:"Divine (Powder)"}),u.jsx("option",{value:"kuveni",children:"Kuveni (Sticks)"}),u.jsx("option",{value:"ravana",children:"Ravana (Blend)"})]})]}),u.jsxs("div",{className:"col-span-2 flex justify-end gap-4 mt-4",children:[u.jsx("button",{type:"button",onClick:()=>r(!1),className:"px-6 py-3 text-gray-400 hover:text-white transition-colors uppercase text-xs tracking-widest font-bold",children:"Cancel"}),u.jsx("button",{type:"submit",className:"px-8 py-3 bg-white text-black hover:bg-gold transition-colors uppercase text-xs tracking-widest font-bold rounded",children:a?"Update Product":"Create Product"})]})]})]})})]})},IV=()=>{const[t,e]=C.useState([]),[n,i]=C.useState(!0);C.useEffect(()=>{const a=jS(os(it,"messages"),OS("createdAt","desc")),l=jl(a,c=>{e(c.docs.map(h=>({id:h.id,...h.data()}))),i(!1)});return()=>l()},[]);const s=async(a,l)=>{l==="new"&&await _g(jn(it,"messages",a),{status:"read"})},r=async a=>{window.confirm("Are you sure you want to delete this message?")&&await VS(jn(it,"messages",a))};return n?u.jsx("div",{className:"p-12 text-center text-gray-500 uppercase tracking-widest text-xs",children:"Loading inbox..."}):u.jsxs("div",{className:"space-y-8",children:[u.jsxs("header",{className:"flex justify-between items-end pb-6 border-b border-white/10",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-light text-white uppercase tracking-widest",children:"Messages & Inquiries"}),u.jsx("p",{className:"text-gray-400 mt-1 text-sm font-light",children:"Direct communications from customers."})]}),u.jsx("div",{className:"flex gap-4",children:u.jsxs("span",{className:"text-xs text-gray-400 uppercase tracking-widest",children:[t.filter(a=>a.status==="new").length," New Messages"]})})]}),u.jsx("div",{className:"bg-[#0a0a0a] border border-white/10",children:u.jsxs("table",{className:"w-full text-left",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-white/5 text-gray-500 text-[10px] uppercase tracking-widest border-b border-white/5",children:[u.jsx("th",{className:"p-4 font-medium w-32",children:"Status"}),u.jsx("th",{className:"p-4 font-medium w-48",children:"From"}),u.jsx("th",{className:"p-4 font-medium w-64",children:"Subject"}),u.jsx("th",{className:"p-4 font-medium",children:"Message"}),u.jsx("th",{className:"p-4 font-medium w-32 text-right",children:"Date"}),u.jsx("th",{className:"p-4 font-medium w-32 text-right",children:"Actions"})]})}),u.jsx("tbody",{className:"divide-y divide-white/5",children:t.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:"6",className:"p-12 text-center text-gray-500 text-xs",children:"No messages found."})}):t.map(a=>{var l;return u.jsxs("tr",{className:`hover:bg-white/[0.02] transition-colors cursor-pointer ${a.status==="new"?"bg-white/[0.02]":""}`,onClick:()=>s(a.id,a.status),children:[u.jsx("td",{className:"p-4",children:a.status==="new"?u.jsx("span",{className:"text-[10px] bg-gold text-black px-2 py-1 rounded font-bold uppercase tracking-wider",children:"New"}):u.jsx("span",{className:"text-[10px] text-gray-500 uppercase tracking-wider",children:"Read"})}),u.jsxs("td",{className:"p-4",children:[u.jsx("div",{className:"text-sm text-white font-medium",children:a.name}),u.jsx("div",{className:"text-xs text-gray-500",children:a.email})]}),u.jsx("td",{className:"p-4 text-sm text-gray-300",children:a.subject}),u.jsx("td",{className:"p-4 text-sm text-gray-400 truncate max-w-xs",children:a.message}),u.jsx("td",{className:"p-4 text-right text-xs text-gray-500 font-mono",children:(l=a.createdAt)==null?void 0:l.toDate().toLocaleDateString()}),u.jsx("td",{className:"p-4 text-right",children:u.jsx("button",{onClick:c=>{c.stopPropagation(),r(a.id)},className:"text-gray-500 hover:text-red-500 transition-colors p-2",title:"Delete Message",children:u.jsx(SV,{size:14})})})]},a.id)})})]})})]})};function DV(){return u.jsx(bM,{children:u.jsx(i2,{children:u.jsx(QC,{basename:"/Ambrosia/",children:u.jsx("div",{className:"app",children:u.jsxs(Zv,{children:[u.jsx(ke,{path:"/admin/login",element:u.jsx(lV,{})}),u.jsxs(ke,{path:"/admin",element:u.jsx(AV,{}),children:[u.jsx(ke,{index:!0,element:u.jsx(NV,{})}),u.jsx(ke,{path:"orders",element:u.jsx(RV,{})}),u.jsx(ke,{path:"products",element:u.jsx(CV,{})}),u.jsx(ke,{path:"messages",element:u.jsx(IV,{})})]}),u.jsx(ke,{path:"/*",element:u.jsxs(u.Fragment,{children:[u.jsx(xM,{}),u.jsx("main",{children:u.jsxs(Zv,{children:[u.jsx(ke,{path:"/",element:u.jsx(OM,{})}),u.jsx(ke,{path:"/about-us",element:u.jsx(kM,{})}),u.jsx(ke,{path:"/about-cinnamon",element:u.jsx(VM,{})}),u.jsx(ke,{path:"/shop",element:u.jsx(LM,{})}),u.jsx(ke,{path:"/recipes",element:u.jsx(UM,{})}),u.jsx(ke,{path:"/contact",element:u.jsx(zM,{})}),u.jsx(ke,{path:"/cart",element:u.jsx(HM,{})}),u.jsx(ke,{path:"/checkout",element:u.jsx(iV,{})}),u.jsx(ke,{path:"/track",element:u.jsx(sV,{})}),u.jsx(ke,{path:"/order-confirmation",element:u.jsx(rV,{})}),u.jsx(ke,{path:"/faq",element:u.jsx(qM,{})}),u.jsx(ke,{path:"/privacy",element:u.jsx(aV,{})}),u.jsx(ke,{path:"/terms",element:u.jsx(oV,{})})]})}),u.jsx(TM,{})]})})]})})})})})}SR.createRoot(document.getElementById("root")).render(u.jsx(C.StrictMode,{children:u.jsx(DV,{})}));
